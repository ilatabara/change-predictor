id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-fwaas~master~I192b5bb5f59f235170f020a51fa1afd86887b6b6,openstack/neutron-fwaas,master,I192b5bb5f59f235170f020a51fa1afd86887b6b6,Remove setting of DEVSTACK_GATE_EXERCISES,MERGED,2018-07-17 08:42:29.000000000,2018-08-03 04:25:39.000000000,2018-08-03 04:25:39.000000000,"[{'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-07-17 08:42:29.000000000', 'files': ['playbooks/neutron-fwaas-fullstack/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/048750bd10aa48d13f4cc2d9958cd802a395f5b3', 'message': 'Remove setting of DEVSTACK_GATE_EXERCISES\n\nThis defaults to 0 anyway, and is being removed as the devstack\nexcercises are being removed. see https://review.openstack.org/#/c/581377/\n\nChange-Id: I192b5bb5f59f235170f020a51fa1afd86887b6b6\n'}]",0,583153,048750bd10aa48d13f4cc2d9958cd802a395f5b3,10,5,1,6593,,,0,"Remove setting of DEVSTACK_GATE_EXERCISES

This defaults to 0 anyway, and is being removed as the devstack
excercises are being removed. see https://review.openstack.org/#/c/581377/

Change-Id: I192b5bb5f59f235170f020a51fa1afd86887b6b6
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/53/583153/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/neutron-fwaas-fullstack/run.yaml'],1,048750bd10aa48d13f4cc2d9958cd802a395f5b3,exercises,, export DEVSTACK_GATE_EXERCISES=0,0,1
openstack%2Fopenstack-ansible-ops~master~I2668e17c1cf15fe47842ff349ffa4f71c70257e5,openstack/openstack-ansible-ops,master,I2668e17c1cf15fe47842ff349ffa4f71c70257e5,Update index retention policy to ensure its an int,MERGED,2018-08-02 20:47:53.000000000,2018-08-03 03:48:14.000000000,2018-08-03 03:48:14.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 20:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4cbc76aef9a64e548d362e7c1927c5fd5dcde82c', 'message': 'Update index retention policy to ensure its an int\n\nThe current variable, when there\'s only one host will result in \'false\'\ninstead of 0, which is a jinja-ism however due to java-ism\'s ""false"" is\nevaluated to 5 and that makes the index retention policy very wrong.\n\nChange-Id: I2668e17c1cf15fe47842ff349ffa4f71c70257e5\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-08-03 02:21:18.000000000', 'files': ['elk_metrics_6x/templates/_include_setup_template.yml.j2', 'elk_metrics_6x/createElasticIndexes.yml', 'elk_metrics_6x/templates/curator-actions.yml.j2', 'elk_metrics_6x/common_task_data_node_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ca23f9a98723db2ba9afceb320a225f4ed8c1585', 'message': 'Update index retention policy to ensure its an int\n\nThe current variable, when there\'s only one host will result in \'false\'\ninstead of 0, which is a jinja-ism however due to java-ism\'s ""false"" is\nevaluated to 5 and that makes the index retention policy very wrong.\n\nChange-Id: I2668e17c1cf15fe47842ff349ffa4f71c70257e5\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,588389,ca23f9a98723db2ba9afceb320a225f4ed8c1585,13,3,2,7353,,,0,"Update index retention policy to ensure its an int

The current variable, when there's only one host will result in 'false'
instead of 0, which is a jinja-ism however due to java-ism's ""false"" is
evaluated to 5 and that makes the index retention policy very wrong.

Change-Id: I2668e17c1cf15fe47842ff349ffa4f71c70257e5
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/89/588389/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/templates/_include_setup_template.yml.j2', 'elk_metrics_6x/createElasticIndexes.yml', 'elk_metrics_6x/templates/curator-actions.yml.j2', 'elk_metrics_6x/common_task_data_node_hosts.yml']",4,4cbc76aef9a64e548d362e7c1927c5fd5dcde82c,," elasticsearch_number_of_replicas: ""{{ ((data_nodes | length) > 2) | ternary(""2"", ((data_nodes | length) > 1) | ternary(""1"", ""0"")) }}"""," elasticsearch_number_of_replicas: ""{{ ((data_nodes | length) > 1) | ternary(((data_nodes | length) > 2 | ternary(2, 1)), 0) }}""",6,6
openstack%2Fcongress-tempest-plugin~master~Iabfa6443b133870036f0ca7271e8d018a47b09a0,openstack/congress-tempest-plugin,master,Iabfa6443b133870036f0ca7271e8d018a47b09a0,"Revert ""temporarily disable monasca driver test""",MERGED,2018-08-03 01:08:14.000000000,2018-08-03 03:43:41.000000000,2018-08-03 03:43:40.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-03 01:08:14.000000000', 'files': ['congress_tempest_plugin/tests/scenario/congress_datasources/test_monasca.py'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/c977c7fb7dd78aebc2eb4e576ce1011c1dd12dbf', 'message': 'Revert ""temporarily disable monasca driver test""\n\nThis reverts commit df98d4c9b2d1ed3541dcf6f6da20f24621554be6.\n\nChange-Id: Iabfa6443b133870036f0ca7271e8d018a47b09a0\n'}]",0,588419,c977c7fb7dd78aebc2eb4e576ce1011c1dd12dbf,6,2,1,18591,,,0,"Revert ""temporarily disable monasca driver test""

This reverts commit df98d4c9b2d1ed3541dcf6f6da20f24621554be6.

Change-Id: Iabfa6443b133870036f0ca7271e8d018a47b09a0
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/19/588419/1 && git format-patch -1 --stdout FETCH_HEAD,['congress_tempest_plugin/tests/scenario/congress_datasources/test_monasca.py'],1,c977c7fb7dd78aebc2eb4e576ce1011c1dd12dbf,,,,0,0
openstack%2Ftempest~master~Ia6881832bf686525b018613af91e683e6f0b2470,openstack/tempest,master,Ia6881832bf686525b018613af91e683e6f0b2470,Check API extension 'filter-validation',MERGED,2018-07-17 15:23:56.000000000,2018-08-03 03:15:40.000000000,2018-08-03 03:15:40.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-07-17 15:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb397876ad1cff96ba8d478cdf5c454035c62180', 'message': 'Check API extension \'filter-validation\'\n\nNeutron is planing to employ a strict validation\nagainst filter parameters [1]. The motivation is to align with the\nOpenStack API guideline [2]. In particular, the API guideline\nmentioned the following:\n\n""... if the API supports query parameters and a request\ncontains an unknown or unsupported parameter, the server should\nreturn a 400 Bad Request response. Invalid values in the request URL\nshould never be silently ignored, as the response may not match the\nclient’s expectation...""\n\nAfter discussion with the API work group [3], the neutron team decides\nto make a backward-incompatible change (with a config option to\nrollback to the old API behavior).\n\nThis patch checks if \'filter-validation\' is presented and assert\nthe old API behavior (silently ignore invalid parameter) if the\nextension is not presented.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1749820\n[2] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n[3] http://eavesdrop.openstack.org/meetings/api_sig/2018/\n    api_sig.2018-03-15-16.00.log.html#l-120\n\nChange-Id: Ia6881832bf686525b018613af91e683e6f0b2470\n'}, {'number': 2, 'created': '2018-07-17 17:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0fc1cb3b97e9112fa0ee165f6008cc1e97dbd67e', 'message': 'Check API extension \'filter-validation\'\n\nNeutron is planing to employ a strict validation\nagainst filter parameters [1]. The motivation is to align with the\nOpenStack API guideline [2]. In particular, the API guideline\nmentioned the following:\n\n""... if the API supports query parameters and a request\ncontains an unknown or unsupported parameter, the server should\nreturn a 400 Bad Request response. Invalid values in the request URL\nshould never be silently ignored, as the response may not match the\nclient’s expectation...""\n\nAfter discussion with the API work group [3], the neutron team decides\nto make a backward-incompatible change (with a config option to\nrollback to the old API behavior).\n\nThis patch checks if \'filter-validation\' is presented and assert\nthe old API behavior (silently ignore invalid parameter) if the\nextension is not presented.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1749820\n[2] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n[3] http://eavesdrop.openstack.org/meetings/api_sig/2018/\n    api_sig.2018-03-15-16.00.log.html#l-120\n\nChange-Id: Ia6881832bf686525b018613af91e683e6f0b2470\n'}, {'number': 3, 'created': '2018-07-24 19:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e04cc2d0b514de7e92ae3f6d345bafa934e13c5f', 'message': 'Check API extension \'filter-validation\'\n\nNeutron is planing to employ a strict validation\nagainst filter parameters [1]. The motivation is to align with the\nOpenStack API guideline [2]. In particular, the API guideline\nmentioned the following:\n\n""... if the API supports query parameters and a request\ncontains an unknown or unsupported parameter, the server should\nreturn a 400 Bad Request response. Invalid values in the request URL\nshould never be silently ignored, as the response may not match the\nclient’s expectation...""\n\nAfter discussion with the API work group [3], the neutron team decides\nto make a backward-incompatible change (with a config option to\nrollback to the old API behavior).\n\nThis patch checks if \'filter-validation\' is presented and assert\nthe old API behavior (silently ignore invalid parameter) if the\nextension is not presented.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1749820\n[2] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n[3] http://eavesdrop.openstack.org/meetings/api_sig/2018/\n    api_sig.2018-03-15-16.00.log.html#l-120\n\nChange-Id: Ia6881832bf686525b018613af91e683e6f0b2470\n'}, {'number': 4, 'created': '2018-07-31 18:42:49.000000000', 'files': ['tempest/api/network/admin/test_external_network_extension.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b47ccbc937f04fb775c59bf550537b9a5524c35', 'message': 'Check API extension \'filter-validation\'\n\nNeutron is planing to employ a strict validation\nagainst filter parameters [1]. The motivation is to align with the\nOpenStack API guideline [2]. In particular, the API guideline\nmentioned the following:\n\n""... if the API supports query parameters and a request\ncontains an unknown or unsupported parameter, the server should\nreturn a 400 Bad Request response. Invalid values in the request URL\nshould never be silently ignored, as the response may not match the\nclient’s expectation...""\n\nAfter discussion with the API work group [3], the neutron team decides\nto make a backward-incompatible change (with a config option to\nrollback to the old API behavior).\n\nThis patch checks if \'filter-validation\' is presented and assert\nthe old API behavior (silently ignore invalid parameter) if the\nextension is not presented.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1749820\n[2] http://specs.openstack.org/openstack/api-wg/guidelines/http/\n    response-codes.html#failure-code-clarifications\n[3] http://eavesdrop.openstack.org/meetings/api_sig/2018/\n    api_sig.2018-03-15-16.00.log.html#l-120\n\nChange-Id: Ia6881832bf686525b018613af91e683e6f0b2470\n'}]",2,583284,2b47ccbc937f04fb775c59bf550537b9a5524c35,38,12,4,27654,,,0,"Check API extension 'filter-validation'

Neutron is planing to employ a strict validation
against filter parameters [1]. The motivation is to align with the
OpenStack API guideline [2]. In particular, the API guideline
mentioned the following:

""... if the API supports query parameters and a request
contains an unknown or unsupported parameter, the server should
return a 400 Bad Request response. Invalid values in the request URL
should never be silently ignored, as the response may not match the
client’s expectation...""

After discussion with the API work group [3], the neutron team decides
to make a backward-incompatible change (with a config option to
rollback to the old API behavior).

This patch checks if 'filter-validation' is presented and assert
the old API behavior (silently ignore invalid parameter) if the
extension is not presented.

[1] https://bugs.launchpad.net/neutron/+bug/1749820
[2] http://specs.openstack.org/openstack/api-wg/guidelines/http/
    response-codes.html#failure-code-clarifications
[3] http://eavesdrop.openstack.org/meetings/api_sig/2018/
    api_sig.2018-03-15-16.00.log.html#l-120

Change-Id: Ia6881832bf686525b018613af91e683e6f0b2470
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/583284/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_external_network_extension.py'],1,cb397876ad1cff96ba8d478cdf5c454035c62180,,"from tempest.common import utils if utils.is_extension_enabled('filter-validation', 'network'): floatingip_list = self.admin_floating_ips_client.list_floatingips( floating_network_id=external_network['id']) else: # NOTE(hongbin): This is for testing the backward-compatibility # of neutron API although the 'network' parameter is a wrong filter # for listing floating IPs. floatingip_list = self.admin_floating_ips_client.list_floatingips( network=external_network['id'])", floatingip_list = self.admin_floating_ips_client.list_floatingips( floating_network_id=external_network['id']),10,2
openstack%2Fopenstack-ansible~stable%2Fqueens~Ica0a0ff3713f096085c8b92c8c07a80ae376fb69,openstack/openstack-ansible,stable/queens,Ica0a0ff3713f096085c8b92c8c07a80ae376fb69,Update repo_server role to remove pypi reverse proxy,MERGED,2018-07-25 12:43:48.000000000,2018-08-03 03:09:00.000000000,2018-08-03 03:09:00.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-07-25 12:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/724ff9c1df6cae41e107edd2c93b49dba471f0b5', 'message': 'Update repo_server role to remove pypi reverse proxy\n\nCommit [1] missed the SHA bump for 17.0.8, and forms a set with\n[2,3,4,5]. This commit brings all of these changes together into the\n17.0.8 release.\n\n[1] https://review.openstack.org/#/c/584387/\n[2] https://review.openstack.org/#/c/568637/\n[3] https://review.openstack.org/#/c/568502/\n[4] https://review.openstack.org/#/c/564422/\n[5] https://review.openstack.org/#/c/584394/\n\nChange-Id: Ica0a0ff3713f096085c8b92c8c07a80ae376fb69\n'}, {'number': 2, 'created': '2018-08-01 15:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d3d88987e4e86c230da4bccd3753fe5b7e3879b3', 'message': 'Update repo_server role to remove pypi reverse proxy\n\nCommit [1] missed the SHA bump for 17.0.8, and forms a set with\n[2,3,4,5]. This commit brings all of these changes together into the\n17.0.8 release.\n\n[1] https://review.openstack.org/#/c/584387/\n[2] https://review.openstack.org/#/c/568637/\n[3] https://review.openstack.org/#/c/568502/\n[4] https://review.openstack.org/#/c/564422/\n[5] https://review.openstack.org/#/c/584394/\n\nChange-Id: Ica0a0ff3713f096085c8b92c8c07a80ae376fb69\n'}, {'number': 3, 'created': '2018-08-03 00:05:14.000000000', 'files': ['releasenotes/notes/pypi-cache-removed-c03a9a0658c9d89f.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75185a86d244c4411b522033fd912cda58723e80', 'message': 'Update repo_server role to remove pypi reverse proxy\n\nCommit [1] missed the SHA bump for 17.0.8, and forms a set with\n[2,3,4,5]. This commit brings all of these changes together into the\n17.0.8 release.\n\n[1] https://review.openstack.org/#/c/584387/\n[2] https://review.openstack.org/#/c/568637/\n[3] https://review.openstack.org/#/c/568502/\n[4] https://review.openstack.org/#/c/564422/\n[5] https://review.openstack.org/#/c/584394/\n\nChange-Id: Ica0a0ff3713f096085c8b92c8c07a80ae376fb69\n'}]",0,585735,75185a86d244c4411b522033fd912cda58723e80,22,4,3,25023,,,0,"Update repo_server role to remove pypi reverse proxy

Commit [1] missed the SHA bump for 17.0.8, and forms a set with
[2,3,4,5]. This commit brings all of these changes together into the
17.0.8 release.

[1] https://review.openstack.org/#/c/584387/
[2] https://review.openstack.org/#/c/568637/
[3] https://review.openstack.org/#/c/568502/
[4] https://review.openstack.org/#/c/564422/
[5] https://review.openstack.org/#/c/584394/

Change-Id: Ica0a0ff3713f096085c8b92c8c07a80ae376fb69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/585735/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pypi-cache-removed-c03a9a0658c9d89f.yaml', 'ansible-role-requirements.yml']",2,724ff9c1df6cae41e107edd2c93b49dba471f0b5,bp/python-build-install-simplification-stable/queens, version: 1bc95198290e8d563e9ca6137e40b5d15edcce25, version: c97a30063749091ea018c853d6e39e8add5f0d3e,11,1
openstack%2Fstorlets~master~I1f8211fd9e3a5327f8c78e548c06b06ac94eb555,openstack/storlets,master,I1f8211fd9e3a5327f8c78e548c06b06ac94eb555,Switch to use stestr for unit test,MERGED,2018-07-20 06:59:23.000000000,2018-08-03 02:55:15.000000000,2018-08-03 02:55:15.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 06:59:23.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e866bcee9da7e2c5e6967bd350bb2fa71c636ed5', 'message': 'Switch to use stestr for unit test\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nSo we should switch to stestr.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I1f8211fd9e3a5327f8c78e548c06b06ac94eb555\n'}]",0,584252,e866bcee9da7e2c5e6967bd350bb2fa71c636ed5,6,2,1,28176,,,0,"Switch to use stestr for unit test

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
So we should switch to stestr.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I1f8211fd9e3a5327f8c78e548c06b06ac94eb555
",git fetch https://review.opendev.org/openstack/storlets refs/changes/52/584252/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,e866bcee9da7e2c5e6967bd350bb2fa71c636ed5,stestr,[DEFAULT] test_path=./tests/unit top_dir=. ,,14,11
openstack%2Ftacker-horizon~master~If55266dfa6d9478253d8a1de9b7f95a459fa2745,openstack/tacker-horizon,master,If55266dfa6d9478253d8a1de9b7f95a459fa2745,Require the (soon-to-be) Rocky version of Horizon,MERGED,2018-05-16 19:06:24.000000000,2018-08-03 02:39:04.000000000,2018-08-03 02:39:04.000000000,"[{'_account_id': 24}, {'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-05-16 19:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/93cd673ea56024969fe615479a53fbd5c8d45c7a', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nAlso fixes lower-constants.txt.\n\nAlso also drops mox3.\n\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 2, 'created': '2018-05-16 19:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/e84af4985624c5254bdeb98563d1caf17251cab6', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nAlso fixes lower-constants.txt.\n\nAlso also drops mox3.\n\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 3, 'created': '2018-06-07 11:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/47be10a4fbf86f758f9e3c3eb8b2b282511b0aca', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 4, 'created': '2018-06-07 12:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/86e42ea435fe2c68368ec0c68411f1b5dccf4caa', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 5, 'created': '2018-06-08 11:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/958442ba90ca790b0bbeb0f086dd068dbf2cc0f6', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nDepends-On: https://review.openstack.org/#/c/568129/\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 6, 'created': '2018-06-10 08:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/f7d3f723ee347aabe7382363516fa0e6aedd448e', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 7, 'created': '2018-06-10 08:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c275136445417f1995d0e8679554b8390fc93e5a', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 8, 'created': '2018-06-20 04:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/7ee408052135afe6a17d44b2838a86d35beba287', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 9, 'created': '2018-07-17 06:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/38a89a655fc744f18c4f6bbf36419c2726f469d7', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 10, 'created': '2018-07-27 02:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/861033eb32e3e6f47afb4400cdab80347ed4076f', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 11, 'created': '2018-07-27 02:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/41f916fc97c9bfae9841bc2434f6fb7df8fb7ecb', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 12, 'created': '2018-07-27 02:08:20.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tests.py', 'test-requirements.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nscatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nsmanager/tests.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/84b801808eab5436583e311d9b570763fb6828bb', 'message': 'Require the (soon-to-be) Rocky version of Horizon\n\n... or at least the first published tarball which will lead to Rocky.\nOn the other side this means forcing the usage of mox as long as\nthere are tests that depends on it (the switch was already flipped\nin Horizon, so it needs to be enabled here).\n\nThis allows us to depend on newer Horizon features, including changes\nto the test suite that are useful for the mox removal effort.\n\nThis patch also drops mox3 (goal for Rocky).\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",7,568935,84b801808eab5436583e311d9b570763fb6828bb,29,5,12,24,,,0,"Require the (soon-to-be) Rocky version of Horizon

... or at least the first published tarball which will lead to Rocky.
On the other side this means forcing the usage of mox as long as
there are tests that depends on it (the switch was already flipped
in Horizon, so it needs to be enabled here).

This allows us to depend on newer Horizon features, including changes
to the test suite that are useful for the mox removal effort.

This patch also drops mox3 (goal for Rocky).

Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: If55266dfa6d9478253d8a1de9b7f95a459fa2745
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/35/568935/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tests.py', 'requirements.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tests.py', 'test-requirements.txt', 'lower-constraints.txt', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nscatalog/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tests.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nsmanager/tests.py']",10,93cd673ea56024969fe615479a53fbd5c8d45c7a,, use_mox = False,,11,5
openstack%2Fcongress-tempest-plugin~master~Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc,openstack/congress-tempest-plugin,master,Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc,Test webhook to congress vitrage data source,MERGED,2018-06-12 21:54:30.000000000,2018-08-03 02:37:22.000000000,2018-08-03 02:37:22.000000000,"[{'_account_id': 18591}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-06-12 21:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/fe014c46e62d38ff4fe8272e220ce74384e7a09e', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 2, 'created': '2018-06-13 19:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/a1a968158090540ae93dfc31dc83f8144dadfe00', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 3, 'created': '2018-06-13 22:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/25213485e2edae5635eb8d9be8002b4545868a62', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 4, 'created': '2018-06-14 17:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/971ae3fc8bd741159c322e9bf7590f5306aa5ed8', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 5, 'created': '2018-06-15 21:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/9da1da10a33a258a203871918f84b6271acd9279', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 6, 'created': '2018-06-19 04:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/ecc31d2297ed334c2b1a4d1103f8a4d183d5ff60', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 7, 'created': '2018-07-11 22:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/0f7da221a1cb5dd4e1c49ac958312a17f7930341', 'message': 'Test webhook to congress vitrage data source\n\nDepends-On: I1943cb81eadb1abba9e62d3d886778a09ec63118\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 8, 'created': '2018-07-27 23:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/b0f40cdca18bed4566ff5de73d415e3e5f2a2c8c', 'message': 'Test webhook to congress vitrage data source\n\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}, {'number': 9, 'created': '2018-07-30 18:10:40.000000000', 'files': ['congress_tempest_plugin/services/policy/policy_client.py', 'congress_tempest_plugin/tests/scenario/congress_datasources/test_vitrage.py'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/2f2f2fdb0b043e3684fb27f4bec1576be0142c8f', 'message': 'Test webhook to congress vitrage data source\n\nChange-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc\n'}]",6,574902,2f2f2fdb0b043e3684fb27f4bec1576be0142c8f,47,4,9,18591,,,0,"Test webhook to congress vitrage data source

Change-Id: Ic09f28326e2dbcdb46d94bf90e5f19ab5f6832cc
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/02/574902/8 && git format-patch -1 --stdout FETCH_HEAD,"['congress_tempest_plugin/services/policy/policy_client.py', 'congress_tempest_plugin/tests/scenario/congress_datasources/test_vitrage.py']",2,fe014c46e62d38ff4fe8272e220ce74384e7a09e,test-vitrage,"# Copyright (c) 2018 VMware Inc # Copyright 2016 NTT All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from tempest.lib.common.utils import test_utils from tempest.lib import decorators from tempest.lib import exceptions from congress_tempest_plugin.tests.scenario import helper from congress_tempest_plugin.tests.scenario import manager_congress class TestVitrageDriver(manager_congress.ScenarioPolicyBase): def setUp(self): super(TestVitrageDriver, self).setUp() vitrage_setting = { 'name': 'vitrage', 'driver': 'vitrage', 'config': None, } self.client = self.os_admin.congress_client response = self.client.create_datasource(vitrage_setting) self.datasource_id = response['id'] def tearDown(self): super(TestVitrageDriver, self).tearDown() self.client.delete_datasource(self.datasource_id) def _list_datasource_rows(self, datasource, table): return self.client.list_datasource_rows(datasource, table) @decorators.attr(type='smoke') def test_vitrage_alarms_table(self): test_payload = { ""notification"": ""vitrage.alarm.activate"", ""payload"": { ""vitrage_id"": ""2def31e9-6d9f-4c16-b007-893caa806cd4"", ""resource"": { ""vitrage_id"": ""437f1f4c-ccce-40a4-ac62-1c2f1fd9f6ac"", ""name"": ""app-1-server-1-jz6qvznkmnif"", ""update_timestamp"": ""2018-01-22 10:00:34.327142+00:00"", ""vitrage_category"": ""RESOURCE"", ""vitrage_operational_state"": ""OK"", ""vitrage_type"": ""nova.instance"", ""project_id"": ""8f007e5ba0944e84baa6f2a4f2b5d03a"", ""id"": ""9b7d93b9-94ec-41e1-9cec-f28d4f8d702c""}, ""update_timestamp"": ""2018-01-22T10:00:34Z"", ""vitrage_category"": ""ALARM"", ""state"": ""Active"", ""vitrage_type"": ""vitrage"", ""vitrage_operational_severity"": ""WARNING"", ""name"": ""Instance memory performance degraded""}} # Check if service is up @helper.retry_on_exception def _check_service(): self.client.list_datasource_status(self.datasource_id) return True if not test_utils.call_until_true(func=_check_service, duration=60, sleep_for=1): raise exceptions.TimeoutException( ""Vitrage data source service is not up"") self.client.datasource_webhook(self.datasource_id, test_payload) results = self._list_datasource_rows(self.datasource_id, 'alarms') if len(results['results']) != 1: error_msg = ('Unexpected additional rows are ' 'inserted. row details: %s' % results['results']) raise exceptions.InvalidStructure(error_msg) expected_row = [u'Instance memory performance degraded', u'Active', u'WARNING', u'2def31e9-6d9f-4c16-b007-893caa806cd4', u'2018-01-22T10:00:34Z', results['results'][0]['data'][5], u'app-1-server-1-jz6qvznkmnif', u'9b7d93b9-94ec-41e1-9cec-f28d4f8d702c', u'437f1f4c-ccce-40a4-ac62-1c2f1fd9f6ac', u'8f007e5ba0944e84baa6f2a4f2b5d03a', u'OK', u'nova.instance'] if results['results'][0]['data'] != expected_row: msg = ('inserted row %s is not expected row %s' % (results['data'], expected_row)) raise exceptions.InvalidStructure(msg) ",,107,0
openstack%2Ftacker-horizon~master~Ic2fb22136acdbfb703280b1b7585ab93d07fc25a,openstack/tacker-horizon,master,Ic2fb22136acdbfb703280b1b7585ab93d07fc25a,Fix compress failure,MERGED,2018-08-02 02:43:20.000000000,2018-08-03 02:31:22.000000000,2018-08-03 02:31:22.000000000,"[{'_account_id': 2874}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27153}, {'_account_id': 28853}]","[{'number': 1, 'created': '2018-08-02 02:43:20.000000000', 'files': ['manage.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/6c25387b954e4e760ac746bb00154092e57362d0', 'message': 'Fix compress failure\n\nChange-Id: Ic2fb22136acdbfb703280b1b7585ab93d07fc25a\nCloses-Bug: #1784930\n'}]",0,588121,6c25387b954e4e760ac746bb00154092e57362d0,8,5,1,27153,,,0,"Fix compress failure

Change-Id: Ic2fb22136acdbfb703280b1b7585ab93d07fc25a
Closes-Bug: #1784930
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/21/588121/1 && git format-patch -1 --stdout FETCH_HEAD,['manage.py'],1,6c25387b954e4e760ac746bb00154092e57362d0,bug/1784930," ""openstack_dashboard.settings"")"," ""tacker_horizon.test.settings"")",1,1
openstack%2Foctavia~master~Iabfede506c048240ae3ed0124209d9289cbd10e5,openstack/octavia,master,Iabfede506c048240ae3ed0124209d9289cbd10e5,Fix update pool without session_persistence failed,ABANDONED,2018-08-02 13:17:50.000000000,2018-08-03 02:10:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-02 13:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f89bff12c00ed314dd7af39739a12da22b16593', 'message': ""Fix update pool without session_persistence failed\n\nWhen session persistence existing, and update_pool_dict without\n'session_persistence' key, we should delete session persistence.\n\nChange-Id: Iabfede506c048240ae3ed0124209d9289cbd10e5\nStory: 2003286\nTask: 24229\n""}, {'number': 2, 'created': '2018-08-02 13:22:08.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/885d77cac193fd5d49be576dfd6c91c8a9e00603', 'message': ""Fix update pool without session_persistence failed\n\nWhen session persistence existing, and update_pool_dict without\n'session_persistence' key, we should delete session persistence.\n\nChange-Id: Iabfede506c048240ae3ed0124209d9289cbd10e5\nStory: 2003286\nTask: 24229\n""}]",0,588242,885d77cac193fd5d49be576dfd6c91c8a9e00603,4,1,2,26948,,,0,"Fix update pool without session_persistence failed

When session persistence existing, and update_pool_dict without
'session_persistence' key, we should delete session persistence.

Change-Id: Iabfede506c048240ae3ed0124209d9289cbd10e5
Story: 2003286
Task: 24229
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/588242/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py']",2,0f89bff12c00ed314dd7af39739a12da22b16593,," else: if self.session_persistence.exists(session, pool_id): self.session_persistence.delete(session, pool_id=pool_id)",,22,0
openstack%2Fkeystone~master~I828cc0ad3ac265abdfea2e1571806add128ae51e,openstack/keystone,master,I828cc0ad3ac265abdfea2e1571806add128ae51e,Clean up token extra code,MERGED,2018-03-22 12:23:35.000000000,2018-08-03 01:57:18.000000000,2018-08-03 01:57:18.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 15699}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24441}]","[{'number': 1, 'created': '2018-03-22 12:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3638ea51ae262ca74d830aea1d93e4b46bbfd8bf', 'message': ""Clean up token extra code\n\nToken data doesn't contain extra property at all.\n\nClean up the realted code.\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n""}, {'number': 2, 'created': '2018-03-23 03:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1740055f09884a7342069207470c0d4ed970f201', 'message': ""Clean up token extra code\n\nToken data doesn't contain extra property at all.\n\nClean up the realted code.\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n""}, {'number': 3, 'created': '2018-03-26 02:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/656fea113e6f1e4d64ce0659722cca375cbc943d', 'message': 'Clean up token extra code\n\nOriginally, the ""extra"" in token data is generated by auth plugin\nand then will be return to users within token data.\n\nIn Kilo, the ""extra"" in token data was deprecated[1], after that\nif the auth plugin generate the ""extra"", a warning log will be\nraised. To stop the warning, the auth plugins should stop\ngenerating ""extra"" field.\n\nAfter two releases, in Mitaka, the ""extra"" in token data was\nremoved[2], but the ""extra"" was still created by default as an\nempty dict {}. Actually, ""extra"" should not be created any more\nin Mitaka because Keystone has warned the auth plugins for two\nreleases.\n\nNow in Rocky, it\'s safe enough to remove the ""extra"" from token\nissue flow at all since it has never been used from Mitaka. The\nonly concern for the out tree plugins about the removal is that\nif they still put ""extra"" into auth_context, Keystone will raise\nKeyError. But can it be happened? Only if the out tree plugins\nignore the warning in Kilo, and still contain ""extra"" but never\nuse them from Mitaka. For most auth plugins which follow the\nKeystone deprecation step, this patch is a silent change.\n\n[1]: https://review.openstack.org/#/c/162662\n[2]: https://review.openstack.org/#/c/249480\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n'}, {'number': 4, 'created': '2018-03-26 02:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/86948f39b0f6e41d014a5186cb49d6a6830e78bb', 'message': 'Clean up token extra code\n\nOriginally, the ""extra"" in token data is generated by auth plugin\nand then will be return to users within token data.\n\nIn Kilo, the ""extra"" in token data was deprecated[1], after that\nif the auth plugin generate the ""extra"", a warning log will be\nraised. To stop the warning, the auth plugins should stop\ngenerating ""extra"" field.\n\nAfter two releases, in Mitaka, the ""extra"" in token data was\nremoved[2], but the ""extra"" was still created by default as an\nempty dict {}. Actually, ""extra"" should not be created any more\nin Mitaka because Keystone has warned the auth plugins for two\nreleases.\n\nNow in Rocky, it\'s safe enough to remove the ""extra"" from token\nissue flow at all since it has never been used from Mitaka. The\nonly concern for the out tree plugins about the removal is that\nif they still put ""extra"" into auth_context, Keystone will raise\nKeyError. But can it be happened? Only if the out tree plugins\nignore the warning in Kilo, and still contain ""extra"" but never\nuse them from Mitaka. For most auth plugins which follow the\nKeystone deprecation step, this patch is a silent change.\n\n[1]: https://review.openstack.org/#/c/162662\n[2]: https://review.openstack.org/#/c/249480\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n'}, {'number': 5, 'created': '2018-05-11 03:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/778efec9402be3ddae8b387411ae66aa84874b61', 'message': 'Clean up token extra code\n\nOriginally, the ""extra"" in token data is generated by auth plugin\nand then will be return to users within token data.\n\nIn Kilo, the ""extra"" in token data was deprecated[1], after that\nif the auth plugin generate the ""extra"", a warning log will be\nraised. To stop the warning, the auth plugins should stop\ngenerating ""extra"" field.\n\nAfter two releases, in Mitaka, the ""extra"" in token data was\nremoved[2], but the ""extra"" was still created by default as an\nempty dict {}. Actually, ""extra"" should not be created any more\nin Mitaka because Keystone has warned the auth plugins for two\nreleases.\n\nNow in Rocky, it\'s safe enough to remove the ""extra"" from token\nissue flow at all since it has never been used from Mitaka. The\nonly concern for the out tree plugins about the removal is that\nif they still put ""extra"" into auth_context, Keystone will raise\nKeyError. But can it be happened? Only if the out tree plugins\nignore the warning in Kilo, and still contain ""extra"" but never\nuse them from Mitaka. For most auth plugins which follow the\nKeystone deprecation step, this patch is a silent change.\n\n[1]: https://review.openstack.org/#/c/162662\n[2]: https://review.openstack.org/#/c/249480\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n'}, {'number': 6, 'created': '2018-05-11 03:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/70bbf2483a21fe081cde54dace775b43bfccb82c', 'message': 'Clean up token extra code\n\nOriginally, the ""extra"" in token data is generated by auth plugin\nand then will be return to users within token data.\n\nIn Kilo, the ""extra"" in token data was deprecated[1], after that\nif the auth plugin generate the ""extra"", a warning log will be\nraised. To stop the warning, the auth plugins should stop\ngenerating ""extra"" field.\n\nAfter two releases, in Mitaka, the ""extra"" in token data was\nremoved[2], but the ""extra"" was still created by default as an\nempty dict {}. Actually, ""extra"" should not be created any more\nin Mitaka because Keystone has warned the auth plugins for two\nreleases.\n\nNow in Rocky, it\'s safe enough to remove the ""extra"" from token\nissue flow at all since it has never been used from Mitaka. The\nonly concern for the out tree plugins about the removal is that\nif they still put ""extra"" into auth_context, Keystone will raise\nKeyError. But can it be happened? Only if the out tree plugins\nignore the warning in Kilo, and still contain ""extra"" but never\nuse them from Mitaka. For most auth plugins which follow the\nKeystone deprecation step, this patch is a silent change.\n\n[1]: https://review.openstack.org/#/c/162662\n[2]: https://review.openstack.org/#/c/249480\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n'}, {'number': 7, 'created': '2018-08-02 03:54:30.000000000', 'files': ['keystone/tests/unit/test_auth_plugin.py', 'keystone/auth/controllers.py', 'keystone/tests/unit/test_v3.py', 'doc/source/contributor/auth-plugins.rst', 'keystone/auth/plugins/token.py', 'doc/source/api_curl_examples.rst', 'keystone/auth/plugins/base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/203787c37facb4d77405edfac3d970f2612ac7a2', 'message': 'Clean up token extra code\n\nOriginally, the ""extra"" in token data is generated by auth plugin\nand then will be return to users within token data.\n\nIn Kilo, the ""extra"" in token data was deprecated[1], after that\nif the auth plugin generate the ""extra"", a warning log will be\nraised. To stop the warning, the auth plugins should stop\ngenerating ""extra"" field.\n\nAfter two releases, in Mitaka, the ""extra"" in token data was\nremoved[2], but the ""extra"" was still created by default as an\nempty dict {}. Actually, ""extra"" should not be created any more\nin Mitaka because Keystone has warned the auth plugins for two\nreleases.\n\nNow in Rocky, it\'s safe enough to remove the ""extra"" from token\nissue flow at all since it has never been used from Mitaka. The\nonly concern for the out tree plugins about the removal is that\nif they still put ""extra"" into auth_context, Keystone will raise\nKeyError. But can it be happened? Only if the out tree plugins\nignore the warning in Kilo, and still contain ""extra"" but never\nuse them from Mitaka. For most auth plugins which follow the\nKeystone deprecation step, this patch is a silent change.\n\n[1]: https://review.openstack.org/#/c/162662\n[2]: https://review.openstack.org/#/c/249480\n\nChange-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e\n'}]",13,555279,203787c37facb4d77405edfac3d970f2612ac7a2,33,8,7,15054,,,0,"Clean up token extra code

Originally, the ""extra"" in token data is generated by auth plugin
and then will be return to users within token data.

In Kilo, the ""extra"" in token data was deprecated[1], after that
if the auth plugin generate the ""extra"", a warning log will be
raised. To stop the warning, the auth plugins should stop
generating ""extra"" field.

After two releases, in Mitaka, the ""extra"" in token data was
removed[2], but the ""extra"" was still created by default as an
empty dict {}. Actually, ""extra"" should not be created any more
in Mitaka because Keystone has warned the auth plugins for two
releases.

Now in Rocky, it's safe enough to remove the ""extra"" from token
issue flow at all since it has never been used from Mitaka. The
only concern for the out tree plugins about the removal is that
if they still put ""extra"" into auth_context, Keystone will raise
KeyError. But can it be happened? Only if the out tree plugins
ignore the warning in Kilo, and still contain ""extra"" but never
use them from Mitaka. For most auth plugins which follow the
Keystone deprecation step, this patch is a silent change.

[1]: https://review.openstack.org/#/c/162662
[2]: https://review.openstack.org/#/c/249480

Change-Id: I828cc0ad3ac265abdfea2e1571806add128ae51e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/555279/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_auth_plugin.py', 'keystone/auth/controllers.py', 'keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_auth.py', 'doc/source/contributor/auth-plugins.rst', 'keystone/auth/plugins/token.py', 'doc/source/api_curl_examples.rst', 'keystone/auth/plugins/base.py']",8,3638ea51ae262ca74d830aea1d93e4b46bbfd8bf,clean-up, to the re-scope type action.Here's an example of ``response_data`` on successful authentication:: {," to the re-scope type action. Also, plugin may add any additional information into ``extras``. Anything in ``extras`` will be conveyed in the token's ``extras`` attribute. Here's an example of ``response_data`` on successful authentication:: { ""extras"": {},",10,75
openstack%2Fpython-watcherclient~master~Ia132e45d7f9665a386d1e40360a75c4234aecc7d,openstack/python-watcherclient,master,Ia132e45d7f9665a386d1e40360a75c4234aecc7d,Add --marker help info,MERGED,2018-08-02 03:13:59.000000000,2018-08-03 01:47:22.000000000,2018-08-03 01:47:22.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 03:13:59.000000000', 'files': ['doc/source/cli/details.rst'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/723ad12afa0168f16c672d9ad41a628969aaf617', 'message': 'Add --marker help info\n\nChange-Id: Ia132e45d7f9665a386d1e40360a75c4234aecc7d\n'}]",0,588129,723ad12afa0168f16c672d9ad41a628969aaf617,7,3,1,24872,,,0,"Add --marker help info

Change-Id: Ia132e45d7f9665a386d1e40360a75c4234aecc7d
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/29/588129/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/details.rst'],1,723ad12afa0168f16c672d9ad41a628969aaf617,," [--sort-dir <direction>][--marker <marker>]``--marker <marker>`` UUID of the last audittemplate in the previous page; displays list of audittemplates after ""marker"". [--sort-dir <direction>][--marker <marker>]``--marker <marker>`` UUID of the last goal in the previous page; displays list of goals after ""marker"". [--sort-dir <direction>][--marker <marker>]``--marker <marker>`` UUID of the last scoringengine in the previous page; displays list of scoringengines after ""marker"". [--marker <marker>]``--marker <marker>`` UUID of the last strategy in the previous page; displays list of strategies after ""marker"". ", [--sort-dir <direction>] [--sort-dir <direction>] [--sort-dir <direction>],20,3
openstack%2Fpython-watcherclient~master~Ie77336207c9affcf2c9a0ef0247cf5adef38c87f,openstack/python-watcherclient,master,Ie77336207c9affcf2c9a0ef0247cf5adef38c87f,Update watcher strategy state in CLI,MERGED,2018-07-30 08:23:53.000000000,2018-08-03 01:46:51.000000000,2018-08-03 01:46:51.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 08:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/dacb286fc0add5acf89d01b0b213a202d1b927c2', 'message': 'Update watcher strategy state in CLI\n\nChange-Id: Ie77336207c9affcf2c9a0ef0247cf5adef38c87f\n'}, {'number': 2, 'created': '2018-08-02 05:40:58.000000000', 'files': ['doc/source/cli/details.rst'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/5e928b80be59644a1337d0602f32ceebee9e200e', 'message': 'Update watcher strategy state in CLI\n\nChange-Id: Ie77336207c9affcf2c9a0ef0247cf5adef38c87f\n'}]",0,586971,5e928b80be59644a1337d0602f32ceebee9e200e,9,3,2,24872,,,0,"Update watcher strategy state in CLI

Change-Id: Ie77336207c9affcf2c9a0ef0247cf5adef38c87f
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/71/586971/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/details.rst'],1,dacb286fc0add5acf89d01b0b213a202d1b927c2,,".. _watcher_strategy_state: watcher strategy state --------------------- .. code-block:: console usage: watcher strategy state [-h] [-f {csv,html,json,table,value,yaml}] [-c COLUMN] [--max-width <integer>] [--fit-width] [--print-empty] [--noindent] [--quote {all,minimal,none,nonnumeric}] [--sort-column SORT_COLUMN] <strategy> Retrieve information about strategy requirements. **Positional arguments:** ``<strategy>`` Name of the strategy **Optional arguments:** ``-h, --help`` show this help message and exit",,25,0
openstack%2Fneutron~master~I503f14afdc7ecbe18784138be11387d862b244ed,openstack/neutron,master,I503f14afdc7ecbe18784138be11387d862b244ed,Don't run ironic-tempest job for irrelevant changes,MERGED,2018-08-02 12:08:52.000000000,2018-08-03 01:38:00.000000000,2018-08-03 01:38:00.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-08-02 12:08:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c9ac3ca0e9e17f63723b0cfb5e35ff1774ad5f3', 'message': ""Don't run ironic-tempest job for irrelevant changes\n\nThere is no need to run this job if only docs or release notes\nare changed.\n\nChange-Id: I503f14afdc7ecbe18784138be11387d862b244ed\n""}]",0,588229,3c9ac3ca0e9e17f63723b0cfb5e35ff1774ad5f3,12,8,1,11975,,,0,"Don't run ironic-tempest job for irrelevant changes

There is no need to run this job if only docs or release notes
are changed.

Change-Id: I503f14afdc7ecbe18784138be11387d862b244ed
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/588229/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3c9ac3ca0e9e17f63723b0cfb5e35ff1774ad5f3,run-ironic-job-only-when-needed-in-neutron, # We don't run the job on things like neutron docs-only changes - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,,13,0
openstack%2Fheat-dashboard~master~I770e45ea04b799fa102887275acc95cdddbfd162,openstack/heat-dashboard,master,I770e45ea04b799fa102887275acc95cdddbfd162,Use assertRegex instead of assertRegexpMatches,MERGED,2018-05-17 08:28:52.000000000,2018-08-03 01:29:36.000000000,2018-08-03 01:29:36.000000000,"[{'_account_id': 12404}, {'_account_id': 19224}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-05-17 08:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/70942d960b01de0061fd1a5308195c002e37a148', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: I770e45ea04b799fa102887275acc95cdddbfd162\n'}, {'number': 2, 'created': '2018-08-03 01:01:35.000000000', 'files': ['heat_dashboard/test/tests/content/test_stacks.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/df563384901294ac118c45a1e92734f67b6593d8', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex\n\nChange-Id: I770e45ea04b799fa102887275acc95cdddbfd162\n'}]",0,569057,df563384901294ac118c45a1e92734f67b6593d8,12,5,2,21486,,,0,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex

Change-Id: I770e45ea04b799fa102887275acc95cdddbfd162
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/57/569057/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/test/tests/content/test_stacks.py'],1,70942d960b01de0061fd1a5308195c002e37a148,," self.assertRegex(res.content.decode('utf-8'), regex)"," self.assertRegexpMatches(res.content.decode('utf-8'), regex)",1,1
openstack%2Fcongress-tempest-plugin~master~I7568ed557f8aa013828e8a88ae668487479cea00,openstack/congress-tempest-plugin,master,I7568ed557f8aa013828e8a88ae668487479cea00,Integration tests for Z3 engine in Congress.,MERGED,2018-07-27 10:42:21.000000000,2018-08-03 01:19:59.000000000,2018-08-03 01:19:59.000000000,"[{'_account_id': 8878}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 23518}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-07-27 10:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/003d883d8b1f4c977ec23d90cd55974320202d80', 'message': 'Integration tests for Z3 engine in Congress.\n\nChecks that a Z3 policy performs a simple computation as expected and that it can\nquery or send informations to other theories.\nThe test will be safely skipped if Z3 is not available.\n\nPartially-implements: blueprint alternative-engine-z3\nChange-Id: I7568ed557f8aa013828e8a88ae668487479cea00\n'}, {'number': 2, 'created': '2018-07-27 11:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/44928fe2e26f630044708c8b55882a54a81e9a7d', 'message': 'Integration tests for Z3 engine in Congress.\n\nChecks that a Z3 policy performs a simple computation as expected and that it can\nquery or send informations to other theories.\nThe test will be safely skipped if Z3 is not available.\n\nDepends-On: https://review.openstack.org/586511\nPartially-implements: blueprint alternative-engine-z3\nChange-Id: I7568ed557f8aa013828e8a88ae668487479cea00\n'}, {'number': 3, 'created': '2018-07-30 10:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/0ae7af96741860491fb0bbcc1d7741d92765cd45', 'message': 'WIP: Integration tests for Z3 engine in Congress.\n\nChecks that a Z3 policy performs a simple computation as expected and that it can\nquery or send informations to other theories.\nThe test will be safely skipped if Z3 is not available.\n\nThis version disable the check to see if Z3 not discovered is venv related.\n\nDepends-On: https://review.openstack.org/586511\nPartially-implements: blueprint alternative-engine-z3\nChange-Id: I7568ed557f8aa013828e8a88ae668487479cea00\n'}, {'number': 4, 'created': '2018-07-31 07:18:57.000000000', 'files': ['congress_tempest_plugin/plugin.py', 'congress_tempest_plugin/config.py', 'congress_tempest_plugin/tests/scenario/test_congress_z3.py'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/7cc2b0e371b9988fdaf0811f8c1d032f69f170e1', 'message': 'Integration tests for Z3 engine in Congress.\n\nChecks that a Z3 policy performs a simple computation as expected and that it can\nquery or send informations to other theories.\nThe test will be safely skipped if Z3 is not available.\n\nDepends-On: https://review.openstack.org/586511\nPartially-implements: blueprint alternative-engine-z3\nChange-Id: I7568ed557f8aa013828e8a88ae668487479cea00\n'}]",0,586505,7cc2b0e371b9988fdaf0811f8c1d032f69f170e1,21,5,4,23518,,,0,"Integration tests for Z3 engine in Congress.

Checks that a Z3 policy performs a simple computation as expected and that it can
query or send informations to other theories.
The test will be safely skipped if Z3 is not available.

Depends-On: https://review.openstack.org/586511
Partially-implements: blueprint alternative-engine-z3
Change-Id: I7568ed557f8aa013828e8a88ae668487479cea00
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/05/586505/4 && git format-patch -1 --stdout FETCH_HEAD,['congress_tempest_plugin/tests/scenario/test_congress_z3.py'],1,003d883d8b1f4c977ec23d90cd55974320202d80,bp/alternative-engine-z3,"# Copyright 2017 Orange. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ""Tempest tests for config datasource"" import random import string from tempest import config from tempest.lib import decorators from congress_tempest_plugin.tests.scenario import manager_congress CONF = config.CONF class TestZ3(manager_congress.ScenarioPolicyBase): """"""Tests for Z3 policies with an actual Z3 engine"""""" @classmethod def skip_checks(cls): """"""Checks that Z3 is globally available"""""" super(TestZ3, cls).skip_checks() try: # pylint: disable=unused-variable import z3 # noqa: F405 except ImportError: msg = (""%s skipped as z3 is not available"" % cls.__class__.__name__) raise cls.skipException(msg) def _add_policy(self, seed, kind=""nonrecursive""): ""short cut for adding a policy with random name"" client = self.os_admin.congress_client def cleanup(policy_name): """"""Removes the policy"""""" result = client.list_policy_rules(policy_name) for rule in result['results']: client.delete_policy_rule(policy_name, rule['id']) client.delete_policy(policy_name) suffix = ''.join( random.choice(string.ascii_lowercase) for x in range(10)) policy_name = ""%s_%s"" % (seed, suffix) body = {""name"": policy_name, ""kind"": kind} resp = client.create_policy(body) self.addCleanup(cleanup, resp['name']) return resp['name'] def _add_rule(self, policy_name, rule): """"""Shortcut to add a rule to a policy"""""" self.os_admin.congress_client.create_policy_rule( policy_name, {'rule': rule}) @decorators.attr(type='smoke') def test_z3_recursivity(self): """"""Inter policy call This test create a non Z3 policy populate a table. This table is used by a Z3 policy to compute a transitive closure Another policy will use the computed result and create a result table using builtins not available to Z3. """""" facts = self._add_policy(""fact"") formatter = self._add_policy(""form"") computations = self._add_policy(""comp"", ""z3"") expected = [] for pair in [(1, 2), (2, 3), (2, 4), (4, 5), (4, 6)]: self._add_rule(facts, 'link(""N%d"", ""N%d"")' % pair) for pair in [(1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (2, 3), (2, 4), (2, 5), (2, 6), (4, 5), (4, 6)]: expected.append(u'N%d - N%d' % pair) self._add_rule(computations, 'path(x, y) :- %s:link(x, y)' % facts) self._add_rule(computations, 'path(x, y) :- %s:link(x, z), path(z, y)' % facts) self._add_rule( formatter, ('res(x) :- %s:path(y, z), builtin:concat(y, "" - "", t), ' 'builtin:concat(t, z, x)') % computations) result = self.os_admin.congress_client.list_policy_rows( formatter, ""res"") extracted = [row['data'][0] for row in result['results']] self.assertEqual(expected, sorted(extracted)) ",,97,0
openstack%2Fcongress-tempest-plugin~master~Ib96f6e4d845c0e667540e3a92f9eb84cc38d0a61,openstack/congress-tempest-plugin,master,Ib96f6e4d845c0e667540e3a92f9eb84cc38d0a61,temporarily disable monasca driver test,MERGED,2018-07-17 21:52:31.000000000,2018-08-03 01:08:14.000000000,2018-07-18 04:48:25.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 21:52:31.000000000', 'files': ['congress_tempest_plugin/tests/scenario/congress_datasources/_test_monasca.py'], 'web_link': 'https://opendev.org/openstack/congress-tempest-plugin/commit/df98d4c9b2d1ed3541dcf6f6da20f24621554be6', 'message': 'temporarily disable monasca driver test\n\ncurrent monascaclient version does not work with osc-lib 1.11.0\ndisabling the test for now until a new monascaclient is released\nand put in upper constraints\n\nChange-Id: Ib96f6e4d845c0e667540e3a92f9eb84cc38d0a61\n'}]",0,583403,df98d4c9b2d1ed3541dcf6f6da20f24621554be6,14,2,1,18591,,,0,"temporarily disable monasca driver test

current monascaclient version does not work with osc-lib 1.11.0
disabling the test for now until a new monascaclient is released
and put in upper constraints

Change-Id: Ib96f6e4d845c0e667540e3a92f9eb84cc38d0a61
",git fetch https://review.opendev.org/openstack/congress-tempest-plugin refs/changes/03/583403/1 && git format-patch -1 --stdout FETCH_HEAD,['congress_tempest_plugin/tests/scenario/congress_datasources/_test_monasca.py'],1,df98d4c9b2d1ed3541dcf6f6da20f24621554be6,,,,0,0
openstack%2Fopenstack-helm-infra~master~Ie21beb43d3ac3d5eb6ae6a06d2b665e017ae470a,openstack/openstack-helm-infra,master,Ie21beb43d3ac3d5eb6ae6a06d2b665e017ae470a,"Revert ""Openstack Exporter: Use service domain for service user""",MERGED,2018-07-31 13:18:43.000000000,2018-08-03 01:08:05.000000000,2018-08-03 01:08:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-07-31 13:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34298942bb462e8fa2e49806e9b0a35d8fb264b8', 'message': 'Revert ""Openstack Exporter: Use service domain for service user""\n\nThis reverts commit cc9944f74a18073dcaa5c82dcc18b3d40ffdb7a2.\n\nChange-Id: Ie21beb43d3ac3d5eb6ae6a06d2b665e017ae470a\n'}, {'number': 2, 'created': '2018-07-31 21:29:45.000000000', 'files': ['prometheus-openstack-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/838b6599de8c769265c1442baa7155bcea31cc7a', 'message': 'Revert ""Openstack Exporter: Use service domain for service user""\n\nThis reverts commit cc9944f74a18073dcaa5c82dcc18b3d40ffdb7a2.\n\nChange-Id: Ie21beb43d3ac3d5eb6ae6a06d2b665e017ae470a\n'}]",0,587423,838b6599de8c769265c1442baa7155bcea31cc7a,9,3,2,17591,,,0,"Revert ""Openstack Exporter: Use service domain for service user""

This reverts commit cc9944f74a18073dcaa5c82dcc18b3d40ffdb7a2.

Change-Id: Ie21beb43d3ac3d5eb6ae6a06d2b665e017ae470a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/587423/2 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/values.yaml'],1,34298942bb462e8fa2e49806e9b0a35d8fb264b8,os_exporter_keystone, user_domain_name: default project_domain_name: default, user_domain_name: service project_domain_name: service,2,2
openstack%2Fpuppet-openstack-integration~master~I2389c9abed7c834adecdceb2be1ef5e0497a4474,openstack/puppet-openstack-integration,master,I2389c9abed7c834adecdceb2be1ef5e0497a4474,Add puppet 5.5 unit for module jobs to gating,MERGED,2018-07-31 23:16:47.000000000,2018-08-03 01:03:06.000000000,2018-08-03 01:03:06.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-31 23:16:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/16ee194fad36312718c0962f6f073b607f2fb940', 'message': 'Add puppet 5.5 unit for module jobs to gating\n\nChange-Id: I2389c9abed7c834adecdceb2be1ef5e0497a4474\n'}]",0,587655,16ee194fad36312718c0962f6f073b607f2fb940,13,5,1,16137,,,0,"Add puppet 5.5 unit for module jobs to gating

Change-Id: I2389c9abed7c834adecdceb2be1ef5e0497a4474
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/55/587655/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,16ee194fad36312718c0962f6f073b607f2fb940,module-unit-gate, - puppet-openstack-unit-5.5-centos-7,,1,0
openstack%2Fnova~master~I974b1177ba8313ac502910ca358cf386ef00bc02,openstack/nova,master,I974b1177ba8313ac502910ca358cf386ef00bc02,In Python3.7 async is a keyword [1],MERGED,2018-07-20 13:07:41.000000000,2018-08-03 00:58:05.000000000,2018-08-03 00:58:05.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11805}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 13:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd727c673b819d5a1638b18bf99c272e38bf53df', 'message': 'In Python3.7 async is a keyword [1]\n\nChange all instances of ""async"" to ""async_""\n\n[1] https://docs.python.org/3/whatsnew/3.7.html\n\nChange-Id: I974b1177ba8313ac502910ca358cf386ef00bc02\nCloses-Bug: #1782746\n'}, {'number': 2, 'created': '2018-07-20 16:21:48.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/conductor/api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/virt/libvirt/guest.py', 'nova/compute/api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d532963fa2e013e16cc403f2674a4488c4170ab', 'message': 'In Python3.7 async is a keyword [1]\n\nChange all instances of ""async"" to ""async_""\n\n[1] https://docs.python.org/3/whatsnew/3.7.html\n\nChange-Id: I974b1177ba8313ac502910ca358cf386ef00bc02\nCloses-Bug: #1782746\n'}]",2,584365,2d532963fa2e013e16cc403f2674a4488c4170ab,42,18,2,11805,,,0,"In Python3.7 async is a keyword [1]

Change all instances of ""async"" to ""async_""

[1] https://docs.python.org/3/whatsnew/3.7.html

Change-Id: I974b1177ba8313ac502910ca358cf386ef00bc02
Closes-Bug: #1782746
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/584365/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/conductor/api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/virt/libvirt/guest.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",9,fd727c673b819d5a1638b18bf99c272e38bf53df,bug/1782746," async_ = False 'hostname', self.force, self.async_), self.force, self.async_), 'hostname', self.force, self.async_), 'hostname', self.force, self.async_), 'hostname', self.force, self.async_) 'hostname', self.force, self.async_) self.async_), {})} self.async_), {})} async_ = True 'hostname', self.force, self.async_) 'hostname', self.force, self.async_)"," async = False 'hostname', self.force, self.async), self.force, self.async), 'hostname', self.force, self.async), 'hostname', self.force, self.async), 'hostname', self.force, self.async) 'hostname', self.force, self.async) self.async), {})} self.async), {})} async = True 'hostname', self.force, self.async) 'hostname', self.force, self.async)",29,29
openstack%2Fcinder~master~I7a6d3655cac173f2720a7f4ef87ce37ac4f022d7,openstack/cinder,master,I7a6d3655cac173f2720a7f4ef87ce37ac4f022d7,NetApp ONTAP: Fix driver force detach operations,MERGED,2018-08-01 21:25:39.000000000,2018-08-03 00:58:00.000000000,2018-08-03 00:58:00.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-08-01 21:25:39.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'releasenotes/notes/netapp-ontap-fix-force-detach-55be3f4ac962b493.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8776c81f64bfee814573f217b140408f57fb302d', 'message': ""NetApp ONTAP: Fix driver force detach operations\n\nCinder API supports os-force_detach, which once invoked can call the\ndriver finalize_connection passing a 'None' connector. When receiving\nthis, the driver should handle this call by terminating every\nconnection between the specified volume and any host it is mapped to.\n\nThis patch fixes this behavior for NetApp ONTAP iSCSI and FC drivers.\n\nChange-Id: I7a6d3655cac173f2720a7f4ef87ce37ac4f022d7\nCloses-bug: #1783582\n""}]",0,588082,8776c81f64bfee814573f217b140408f57fb302d,37,26,1,10058,,,0,"NetApp ONTAP: Fix driver force detach operations

Cinder API supports os-force_detach, which once invoked can call the
driver finalize_connection passing a 'None' connector. When receiving
this, the driver should handle this call by terminating every
connection between the specified volume and any host it is mapped to.

This patch fixes this behavior for NetApp ONTAP iSCSI and FC drivers.

Change-Id: I7a6d3655cac173f2720a7f4ef87ce37ac4f022d7
Closes-bug: #1783582
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/588082/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'releasenotes/notes/netapp-ontap-fix-force-detach-55be3f4ac962b493.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",4,8776c81f64bfee814573f217b140408f57fb302d,bug/1783582," if len(initiator_list) != 0: lun_unmap_list = [] (igroup_name, _) = self._find_mapped_lun_igroup( path, initiator_list) lun_unmap_list.append((path, igroup_name)) else: lun_maps = self.zapi_client.get_lun_map(path) lun_unmap_list = [(path, lun_m['initiator-group']) for lun_m in lun_maps] for _path, _igroup_name in lun_unmap_list: self.zapi_client.unmap_lun(_path, _igroup_name) if connector is None: initiators = [] LOG.debug('Unmapping LUN %(name)s from all initiators', {'name': name}) else: initiators = [connector['initiator']] LOG.debug(""Unmapping LUN %(name)s from the initiator "" ""%(initiator_name)s"", {'name': name, 'initiator_name': initiators}) self._unmap_lun(path, initiators) if connector is None: initiators = [] LOG.debug('Unmapping LUN %(name)s from all initiators', {'name': name}) else: initiators = [fczm_utils.get_formatted_wwn(wwpn) for wwpn in connector['wwpns']] LOG.debug(""Unmapping LUN %(name)s from the initiators "" ""%(initiator_name)s"", {'name': name, 'initiator_name': initiators}) if connector and not self._has_luns_mapped_to_initiators(initiators):"," (igroup_name, _lun_id) = self._find_mapped_lun_igroup(path, initiator_list) self.zapi_client.unmap_lun(path, igroup_name) initiator_name = connector['initiator'] self._unmap_lun(path, [initiator_name]) LOG.debug(""Unmapped LUN %(name)s from the initiator "" ""%(initiator_name)s"", {'name': name, 'initiator_name': initiator_name}) initiators = [fczm_utils.get_formatted_wwn(wwpn) for wwpn in connector['wwpns']] LOG.debug(""Unmapped LUN %(name)s from the initiator %(initiators)s"", {'name': name, 'initiators': initiators}) if not self._has_luns_mapped_to_initiators(initiators):",88,19
openstack%2Fswift~stable%2Fpike~I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,openstack/swift,stable/pike,I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,Fix SLO delete for accounts with non-ASCII names.,MERGED,2018-07-24 13:36:45.000000000,2018-08-03 00:57:59.000000000,2018-08-03 00:57:59.000000000,"[{'_account_id': 330}, {'_account_id': 15343}, {'_account_id': 17363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 13:36:45.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d44b00d4c9d96a31a87db003cc16621434b9db91', 'message': 'Fix SLO delete for accounts with non-ASCII names.\n\nIf an account contains non-ASCII characters, currently SLO delete code\nwill fail, as get_slo_segments() method receives a unicode object, but\nUTF-8 encoded account name. Attempting to concatenate the strings fails\nwith a UnicodeError, as it tries to use the ASCII codec to decode the\nUTF-8 encoded account name.\n\nThis patch allows accounts with non-ASCII characters in their names to\ndelete SLOs.\n\nChange-Id: I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2\n'}]",0,585355,d44b00d4c9d96a31a87db003cc16621434b9db91,7,4,1,23449,,,0,"Fix SLO delete for accounts with non-ASCII names.

If an account contains non-ASCII characters, currently SLO delete code
will fail, as get_slo_segments() method receives a unicode object, but
UTF-8 encoded account name. Attempting to concatenate the strings fails
with a UnicodeError, as it tries to use the ASCII codec to decode the
UTF-8 encoded account name.

This patch allows accounts with non-ASCII characters in their names to
delete SLOs.

Change-Id: I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/585355/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,d44b00d4c9d96a31a87db003cc16621434b9db91,," 'GET', '/v1/AUTH_test-un\xc3\xafcode/deltest/man-all-there', swob.HTTPOk, {'Content-Type': 'application/json', 'X-Static-Large-Object': 'true'}, json.dumps([{'name': '/deltest/b_2', 'hash': 'a', 'bytes': '1'}, {'name': '/deltest/c_3', 'hash': 'b', 'bytes': '2'}])) self.app.register( self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/man-all-there', swob.HTTPNoContent, {}, None) self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/b_2', swob.HTTPNoContent, {}, None) self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/c_3', swob.HTTPNoContent, {}, None) def test_handle_multipart_delete_non_ascii(self): acct = u'AUTH_test-un\u00efcode'.encode('utf-8') req = Request.blank( '/v1/%s/deltest/man-all-there?multipart-manifest=delete' % acct, environ={'REQUEST_METHOD': 'DELETE'}) status, _, body = self.call_slo(req) self.assertEqual('200 OK', status) lines = body.split('\n') for l in lines: parts = l.split(':') if len(parts) == 1: continue key, value = parts if key == 'Response Status': delete_status = int(value.split()[0]) self.assertEqual(200, delete_status) self.assertEqual(set(self.app.calls), set([ ('GET', '/v1/%s/deltest/man-all-there?multipart-manifest=get' % acct), ('DELETE', '/v1/%s/deltest/b_2?multipart-manifest=delete' % acct), ('DELETE', '/v1/%s/deltest/c_3?multipart-manifest=delete' % acct), ('DELETE', ('/v1/%s/deltest/' 'man-all-there?multipart-manifest=delete' % acct))])) ",,42,2
openstack%2Fswift~stable%2Fqueens~Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,openstack/swift,stable/queens,Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,py36: Fix test_get_logger_sysloghandler_plumbing,MERGED,2018-07-24 18:28:34.000000000,2018-08-03 00:57:58.000000000,2018-08-03 00:57:58.000000000,"[{'_account_id': 330}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 18:28:34.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e2cfc98dd8c89e70bffeca83e3497fc7708b3eb6', 'message': 'py36: Fix test_get_logger_sysloghandler_plumbing\n\nChange-Id: Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7\n(cherry picked from commit 1318bacc177d060f95b244cc2a1075fe43d4699a)\n'}]",0,585506,e2cfc98dd8c89e70bffeca83e3497fc7708b3eb6,7,3,1,15343,,,0,"py36: Fix test_get_logger_sysloghandler_plumbing

Change-Id: Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7
(cherry picked from commit 1318bacc177d060f95b244cc2a1075fe43d4699a)
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/585506/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,e2cfc98dd8c89e70bffeca83e3497fc7708b3eb6,," # Some versions of python perform host resolution while initializing # the handler. See https://bugs.python.org/issue30378 orig_getaddrinfo = socket.getaddrinfo def fake_getaddrinfo(host, *args): return orig_getaddrinfo('localhost', *args) syslog_handler_catcher), \ mock.patch.object(socket, 'getaddrinfo', fake_getaddrinfo):", syslog_handler_catcher):,9,1
openstack%2Fswift~stable%2Fpike~I929c2f6e60624241075a292d020c5707ea0ff1c3,openstack/swift,stable/pike,I929c2f6e60624241075a292d020c5707ea0ff1c3,Be more tolerant of exception messages from sqlite,MERGED,2018-07-24 18:51:34.000000000,2018-08-03 00:57:57.000000000,2018-08-03 00:57:57.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 18:51:34.000000000', 'files': ['swift/common/db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b7adec7c688ca34f4fa4f11dae7c4078595cb7a5', 'message': 'Be more tolerant of exception messages from sqlite\n\nParsing the text of error messages was always perilous, perhaps.\nEither way, this should fix the problem of test_get() failing.\n\nChange-Id: I929c2f6e60624241075a292d020c5707ea0ff1c3\n(cherry picked from commit 0bca0d4d2bf95a37e4a403457ee5c7db4c0b6290)\n'}]",0,585513,b7adec7c688ca34f4fa4f11dae7c4078595cb7a5,11,6,1,15343,,,0,"Be more tolerant of exception messages from sqlite

Parsing the text of error messages was always perilous, perhaps.
Either way, this should fix the problem of test_get() failing.

Change-Id: I929c2f6e60624241075a292d020c5707ea0ff1c3
(cherry picked from commit 0bca0d4d2bf95a37e4a403457ee5c7db4c0b6290)
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/585513/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/db.py'],1,b7adec7c688ca34f4fa4f11dae7c4078595cb7a5,, elif ' is not a database' in str(exc_value): # older versions said 'file is not a database' # now 'file is encrypted or is not a database', elif 'file is encrypted or is not a database' in str(exc_value):,3,1
openstack%2Fpython-tripleoclient~master~I5de4d68cc2669d37e7a667209423b9ac842136ff,openstack/python-tripleoclient,master,I5de4d68cc2669d37e7a667209423b9ac842136ff,New function: run_ansible_playbook,MERGED,2018-07-27 12:51:39.000000000,2018-08-03 00:08:29.000000000,2018-08-03 00:08:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-27 12:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/835319969acf07b0294e9bf1eadea788a4f1c7fb', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 2, 'created': '2018-07-27 13:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34da7119d7a1a5134807e626589a65e16c4190bd', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 3, 'created': '2018-07-27 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d75495095d07750e28b90bad17a484c38bb37d4', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 4, 'created': '2018-07-30 05:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19c140b18d6099db3d0dcedfea0038664f99e7a0', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 5, 'created': '2018-07-30 06:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f5d4bcbe182bde9056754f6f19e8922e8320adf3', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 6, 'created': '2018-07-30 11:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58f352c46328c8509fdc8ec1549eff47f8d48c34', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 7, 'created': '2018-07-31 06:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e986143184a2544c77df3f0069a10302a67d3f10', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 8, 'created': '2018-07-31 08:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9398d8a77496c69d8791092bb459d91a1e92a6d0', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 9, 'created': '2018-07-31 09:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fce4bc58c6dbcafce063831507154a43bd7e5ba', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 10, 'created': '2018-07-31 09:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ab3547ed3b596bb501ed770cc6fe7eb002d57e7', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}, {'number': 11, 'created': '2018-07-31 10:25:27.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/edc7365c9094c9c84f6df07f39fb76135983bb0a', 'message': 'New function: run_ansible_playbook\n\nThis new function allows to run ansible playbooks\nin a convenient way, taking advantage of already existing\nrun_command_and_log - that latter method has been modified so\nthat we can get the process full state instead of just the exit\ncode.\n\nIt implements some checks in order to ensure the playbook exists,\nand allows to set a temporary ansible configuration file in order\nto avoid unwanted behaviors (like retry file creation, callback for\noutput, and so on).\n\nChange-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff\n'}]",8,586538,edc7365c9094c9c84f6df07f39fb76135983bb0a,38,11,11,28223,,,0,"New function: run_ansible_playbook

This new function allows to run ansible playbooks
in a convenient way, taking advantage of already existing
run_command_and_log - that latter method has been modified so
that we can get the process full state instead of just the exit
code.

It implements some checks in order to ensure the playbook exists,
and allows to set a temporary ansible configuration file in order
to avoid unwanted behaviors (like retry file creation, callback for
output, and so on).

Change-Id: I5de4d68cc2669d37e7a667209423b9ac842136ff
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/586538/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,835319969acf07b0294e9bf1eadea788a4f1c7fb,run-ansible-playbook,"def run_ansible_playbook(logger, workdir, playbook, inventory, retries=True, connection='smart', output_callback='json'): """"""Simple wrapper for ansible-playbook :param logger: logger instance :type logger: Logger :param workdir: location of the playbook :type workdir: String :param playbook: playbook filename :type playbook: String :param inventory: either proper inventory file, or a coma-separated list :type inventory: String :param retries: do you want to get a retry_file? :type retries: Boolean :param connect: connection type (local, smart, etc) :type connect: String :param output_callback: Callback for output format. Defaults to ""json"" :type output_callback: String """""" env = None _, tmp_config = tempfile.mkstemp(prefix=playbook, suffix='ansible.cfg') with open(tmp_config, 'w+') as f: f.write(""[defaults]\nstdout_callback = %s\n"" % output_callback) if not retries: f.write(""retry_files_enabled = False\n"") f.close() env = os.environ.copy() env['ANSIBLE_CONFIG'] = tmp_config play = os.path.join(workdir, playbook) if os.path.exists(play): cmd = ['ansible-playbook', '-i', inventory, '-c', connection, play ] proc = run_command_and_log(logger, cmd, env=env, retcode_only=False) proc.wait() os.unlink(tmp_config) if proc.returncode != 0: raise RuntimeError(proc.stdout.read()) else: os.unlink(tmp_config) raise RuntimeError( _('No such playbook: %s') % play) def run_command_and_log(log, cmd, cwd=None, env=None, retcode_only=True): :type cmd: List :type cmd: String :param env: modified environment for command run :type env: List :param retcode_only: Returns only retcode instead or proc objec :type retcdode_only: Boolean bufsize=1, cwd=cwd, env=env) if retcode_only: for line in iter(proc.stdout.readline, b''): # TODO(aschultz): this should probably goto a log file log.warning(line.rstrip()) proc.stdout.close() return proc.wait() else: return proc","def run_command_and_log(log, cmd, cwd=None): :param cmd: List :param cmd: String bufsize=1, cwd=cwd) for line in iter(proc.stdout.readline, b''): # TODO(aschultz): this should probably goto a log file log.warning(line.rstrip()) proc.stdout.close() return proc.wait()",76,10
openstack%2Ftripleo-heat-templates~master~I4193436fdfd05bfd641fc32b58cc9bff24310a80,openstack/tripleo-heat-templates,master,I4193436fdfd05bfd641fc32b58cc9bff24310a80,Disable recursion in Designate-managed BIND,MERGED,2018-06-25 21:53:14.000000000,2018-08-03 00:08:27.000000000,2018-08-03 00:08:26.000000000,"[{'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-06-25 21:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7633bd6ada6eb571c909f89f3e17e48fcfbb609', 'message': ""Disable recursion in Designate-managed BIND\n\nFor security, it is best to split authoritative and recursive\nnameservers.  This way a security vulnerability that only affects\none type of server won't provide an exploit for the other too.\n\nFor Designate, the managed BIND server is the authoritative one.\nWe can use Neutron's internal DNS server as the recursive server, or\nusers can point at their DNS server of choice.  To make sure our\ndefaults work out of the box, this change enables the Neutron\ninternal DNS by default and users can change that if they choose.\n\nSince that means we no longer need recursion in BIND, we should shut\nit off, which this also does.\n\nChange-Id: I4193436fdfd05bfd641fc32b58cc9bff24310a80\n""}, {'number': 2, 'created': '2018-07-09 20:08:41.000000000', 'files': ['puppet/services/designate-worker.yaml', 'environments/enable-designate.yaml', 'sample-env-generator/enable-services.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5dc8ef19a2bc3103761d5fc0fb705305c342f19', 'message': ""Disable recursion in Designate-managed BIND\n\nFor security, it is best to split authoritative and recursive\nnameservers.  This way a security vulnerability that only affects\none type of server won't provide an exploit for the other too.\n\nFor Designate, the managed BIND server is the authoritative one.\nWe can use Neutron's internal DNS server as the recursive server, or\nusers can point at their DNS server of choice.  To make sure our\ndefaults work out of the box, this change enables the Neutron\ninternal DNS by default and users can change that if they choose.\n\nSince that means we no longer need recursion in BIND, we should shut\nit off, which this also does.\n\nChange-Id: I4193436fdfd05bfd641fc32b58cc9bff24310a80\n""}]",0,577937,c5dc8ef19a2bc3103761d5fc0fb705305c342f19,21,9,2,6928,,,0,"Disable recursion in Designate-managed BIND

For security, it is best to split authoritative and recursive
nameservers.  This way a security vulnerability that only affects
one type of server won't provide an exploit for the other too.

For Designate, the managed BIND server is the authoritative one.
We can use Neutron's internal DNS server as the recursive server, or
users can point at their DNS server of choice.  To make sure our
defaults work out of the box, this change enables the Neutron
internal DNS by default and users can change that if they choose.

Since that means we no longer need recursion in BIND, we should shut
it off, which this also does.

Change-Id: I4193436fdfd05bfd641fc32b58cc9bff24310a80
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/577937/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/designate-worker.yaml', 'environments/enable-designate.yaml', 'sample-env-generator/enable-services.yaml']",3,c7633bd6ada6eb571c909f89f3e17e48fcfbb609,designate-pools, puppet/services/neutron-dhcp.yaml: parameters: - NeutronEnableInternalDNS NeutronEnableInternalDNS: True,,11,0
openstack%2Ftripleo-heat-templates~master~Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e,openstack/tripleo-heat-templates,master,Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e,Expose dnsmasq_local_resolv option,MERGED,2018-06-25 21:53:14.000000000,2018-08-03 00:08:25.000000000,2018-08-03 00:08:24.000000000,"[{'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-06-25 21:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1aff78345b902a93d2c2e74bc70e355ef80bd9dd', 'message': 'Expose dnsmasq_local_resolv option\n\nThis option enables the Neutron internal DNS server so instances\ncan resolve each other by name.  If for no other reason, this is\nuseful so that the default DNS server announced by neutron-dhcp is\nvalid.\n\nChange-Id: Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e\n'}, {'number': 2, 'created': '2018-07-09 20:08:41.000000000', 'files': ['puppet/services/neutron-dhcp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4862bc7933234a2617c583088a4e56051af9dc1', 'message': 'Expose dnsmasq_local_resolv option\n\nThis option enables the Neutron internal DNS server so instances\ncan resolve each other by name.  If for no other reason, this is\nuseful so that the default DNS server announced by neutron-dhcp is\nvalid.\n\nChange-Id: Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e\n'}]",0,577936,d4862bc7933234a2617c583088a4e56051af9dc1,17,9,2,6928,,,0,"Expose dnsmasq_local_resolv option

This option enables the Neutron internal DNS server so instances
can resolve each other by name.  If for no other reason, this is
useful so that the default DNS server announced by neutron-dhcp is
valid.

Change-Id: Ie40af1d9121b0b53a16edd91f4af116b29ad0e9e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/577936/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/neutron-dhcp.yaml'],1,1aff78345b902a93d2c2e74bc70e355ef80bd9dd,designate-pools," NeutronEnableInternalDNS: default: false description: | If True, enable the internal Neutron DNS server that provides name resolution between VMs. This parameter has no effect if NeutronDhcpAgentDnsmasqDnsServers is set. type: boolean neutron::agents::dhcp::dnsmasq_local_resolv: {get_param: NeutronEnableInternalDNS}",,8,0
openstack%2Ftripleo-quickstart-extras~master~Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e,openstack/tripleo-quickstart-extras,master,Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e,Cleaning up tempest skip tests for pike,MERGED,2018-08-01 15:05:00.000000000,2018-08-03 00:08:24.000000000,2018-08-03 00:08:24.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-08-01 15:05:00.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_pike.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f5558f0b7d557cb3b6d9f1dfb4df39822dd7739', 'message': 'Cleaning up tempest skip tests for pike\n\nMostly of the tests are now passing because it was fixed upstream,\ncleaning up the passing ones.\nConfirmed the removed tests are passing on periodic job\n\nChange-Id: Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e\n'}]",0,587844,9f5558f0b7d557cb3b6d9f1dfb4df39822dd7739,18,13,1,8367,,,0,"Cleaning up tempest skip tests for pike

Mostly of the tests are now passing because it was fixed upstream,
cleaning up the passing ones.
Confirmed the removed tests are passing on periodic job

Change-Id: Ib728f85a37b976b84b3badb83b0b5e9fbb56fa2e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/587844/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_pike.yml'],1,9f5558f0b7d557cb3b6d9f1dfb4df39822dd7739,clean-skip-pike,," - test: '.*test_external_network_visibility' reason: 'Tempest test ""external network visibility"" fails with tripleo' lp: 'https://bugs.launchpad.net/tripleo/+bug/1577769' - test: 'tempest.api.data_processing' reason: 'tempest.api.data_processing tests failing on newton' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1357667' - test: 'tempest.api.network.test_ports.*' reason: 'tempest.api.network.test_ports failures' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1378989' - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON' reason: 'tempest failure: tempest.api.compute.servers.test_server_actions' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1379829' - test: 'tempest.api.orchestration.stacks.test_resource_types.ResourceTypesTest' reason: 'tempest fail: tempest.api.orchestration.stacks.test_resource_types' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1380146' - test: 'tempest.api.identity.admin.v2.test_services.ServicesTestJSON' reason: 'tempest fail: tempest.api.identity.admin.v2.test_services.ServicesTestJSON' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1380145' - test: 'tempest.api.network.test_routers.RoutersIpV6Test.test_add_multiple_router_interfaces' reason: 'tempest fail: tempest.api.network.test_routers.RoutersIpV6Test.test_add_multiple_router_interfaces' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1380187' - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_cross_tenant_traffic' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_multiple_security_groups' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' - test: 'tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest' reason: 'Cinder backup is not enabled by default' - test: 'cinder.tests.tempest.api.volume.test_volume_backup.VolumesBackupsTest' reason: 'Cinder backup is not enabled by default' - test: 'tempest.api.volume.test_volumes_backup.VolumesBackupsTest' reason: 'Cinder backup is not enabled by default' - test: 'tempest.api.image.v2.test_images_metadefs_namespaces.MetadataNamespacesTest.test_basic_metadata_definition_namespaces' reason: 'glance is not calling glance-manage db_load_metadefs' lp: 'https://bugs.launchpad.net/tripleo/+bug/1664995' - test: 'tempest.api.image.v2.test_images_metadefs_resource_types.MetadataResourceTypesTest.test_basic_meta_def_resource_type_association' reason: 'glance is not calling glance-manage db_load_metadefs' lp: 'https://bugs.launchpad.net/tripleo/+bug/1664995' - test: 'tempest.api.image.v2.test_images_metadefs_namespace_properties.MetadataNamespacePropertiesTest.test_basic_meta_def_namespace_property' reason: 'glance is not calling glance-manage db_load_metadefs' lp: 'https://bugs.launchpad.net/tripleo/+bug/1664995' - test: 'neutron.tests.tempest.scenario.test_dvr.NetworkDvrTest' reason: 'TODO(arxcruz) New test, need investigation' - test: 'neutron.tests.tempest.scenario.test_trunk.TrunkTest' reason: 'TODO(arxcruz) New test, need investigation' - test: 'neutron.tests.tempest.api.test_revisions.TestRevisions' reason: 'TODO(arxcruz) New test, need investigation' - test: 'neutron.tests.tempest.scenario' reason: 'Neutron tempest plugin scenario tests are unstable' lp: 'https://launchpad.net/bugs/1737940'",0,51
openstack%2Fswift~stable%2Fqueens~I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,openstack/swift,stable/queens,I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2,Fix SLO delete for accounts with non-ASCII names.,MERGED,2018-07-25 20:19:04.000000000,2018-08-03 00:00:43.000000000,2018-08-03 00:00:43.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 17363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 20:19:04.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/207522a00e224f79342c02d91fd8e674e163f54f', 'message': 'Fix SLO delete for accounts with non-ASCII names.\n\nIf an account contains non-ASCII characters, currently SLO delete code\nwill fail, as get_slo_segments() method receives a unicode object, but\nUTF-8 encoded account name. Attempting to concatenate the strings fails\nwith a UnicodeError, as it tries to use the ASCII codec to decode the\nUTF-8 encoded account name.\n\nThis patch allows accounts with non-ASCII characters in their names to\ndelete SLOs.\n\nChange-Id: I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2\n(cherry picked from commit 0aad95005d03651da79071dd24354f0a54122ab6)\n'}]",0,585874,207522a00e224f79342c02d91fd8e674e163f54f,7,4,1,15343,,,0,"Fix SLO delete for accounts with non-ASCII names.

If an account contains non-ASCII characters, currently SLO delete code
will fail, as get_slo_segments() method receives a unicode object, but
UTF-8 encoded account name. Attempting to concatenate the strings fails
with a UnicodeError, as it tries to use the ASCII codec to decode the
UTF-8 encoded account name.

This patch allows accounts with non-ASCII characters in their names to
delete SLOs.

Change-Id: I619d41e62c16b25bd5f58d300a3dc71aa4dc75c2
(cherry picked from commit 0aad95005d03651da79071dd24354f0a54122ab6)
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/585874/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,207522a00e224f79342c02d91fd8e674e163f54f,," 'GET', '/v1/AUTH_test-un\xc3\xafcode/deltest/man-all-there', swob.HTTPOk, {'Content-Type': 'application/json', 'X-Static-Large-Object': 'true'}, json.dumps([{'name': '/deltest/b_2', 'hash': 'a', 'bytes': '1'}, {'name': '/deltest/c_3', 'hash': 'b', 'bytes': '2'}])) self.app.register( self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/man-all-there', swob.HTTPNoContent, {}, None) self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/b_2', swob.HTTPNoContent, {}, None) self.app.register( 'DELETE', '/v1/AUTH_test-un\xc3\xafcode/deltest/c_3', swob.HTTPNoContent, {}, None) def test_handle_multipart_delete_non_ascii(self): acct = u'AUTH_test-un\u00efcode'.encode('utf-8') req = Request.blank( '/v1/%s/deltest/man-all-there?multipart-manifest=delete' % acct, environ={'REQUEST_METHOD': 'DELETE'}) status, _, body = self.call_slo(req) self.assertEqual('200 OK', status) lines = body.split('\n') for l in lines: parts = l.split(':') if len(parts) == 1: continue key, value = parts if key == 'Response Status': delete_status = int(value.split()[0]) self.assertEqual(200, delete_status) self.assertEqual(set(self.app.calls), set([ ('GET', '/v1/%s/deltest/man-all-there?multipart-manifest=get' % acct), ('DELETE', '/v1/%s/deltest/b_2?multipart-manifest=delete' % acct), ('DELETE', '/v1/%s/deltest/c_3?multipart-manifest=delete' % acct), ('DELETE', ('/v1/%s/deltest/' 'man-all-there?multipart-manifest=delete' % acct))])) ",,42,2
openstack%2Fcongress~master~I81e515003a3edf443ec1a9f7a35232fc7121207a,openstack/congress,master,I81e515003a3edf443ec1a9f7a35232fc7121207a,Enable Z3 on the gate,MERGED,2018-07-27 11:09:57.000000000,2018-08-02 23:54:06.000000000,2018-08-02 23:54:06.000000000,"[{'_account_id': 8878}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 23518}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-07-27 11:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/b42ace7bdeca3264416ad04a4b8a689c136a5d0c', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}, {'number': 2, 'created': '2018-07-27 12:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a2e232763f4bec763bf6895dacc1d76396033162', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}, {'number': 3, 'created': '2018-07-27 13:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/baa5d98c82c33aff8898b7252f4e0267bc4334e7', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}, {'number': 4, 'created': '2018-07-30 07:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/025b25533b6095604cbe9d3dcaf0aa8452e4663b', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nThis commit also correct installation paths bugs for Z3 and\nadds an uninstall to clean.sh.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}, {'number': 5, 'created': '2018-07-30 07:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/359079fb3a13f22377c9e1b079c6f90562e25471', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nThis commit also correct installation paths bugs for Z3 and\nadds an uninstall to clean.sh.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}, {'number': 6, 'created': '2018-07-31 07:05:18.000000000', 'files': ['playbooks/legacy/congress-devstack-api-base/run.yaml', 'playbooks/legacy/congress-devstack-py35-api-mysql/run.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/congress/commit/8f075371e475de84854ca2b6be12b1735f1aaf00', 'message': 'Enable Z3 on the gate\n\nZ3 is now enabled on the gate for non ha jobs.\nA compiled version of Z3 is used.\n\nThis commit also correct installation paths bugs for Z3 and\nadds an uninstall to clean.sh.\n\nChange-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a\n'}]",0,586511,8f075371e475de84854ca2b6be12b1735f1aaf00,20,5,6,23518,,,0,"Enable Z3 on the gate

Z3 is now enabled on the gate for non ha jobs.
A compiled version of Z3 is used.

This commit also correct installation paths bugs for Z3 and
adds an uninstall to clean.sh.

Change-Id: I81e515003a3edf443ec1a9f7a35232fc7121207a
",git fetch https://review.opendev.org/openstack/congress refs/changes/11/586511/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/congress-devstack-api-base/run.yaml', 'playbooks/legacy/congress-devstack-py35-api-mysql/run.yaml']",2,b42ace7bdeca3264416ad04a4b8a689c136a5d0c,enable_z3, ENABLE_CONGRESS_Z3=True USE_Z3_RELEASE=4.7.1,,4,1
openstack%2Fopenstack-zuul-jobs~master~I3b65813671961d07c0a743685c537ad1df4bf682,openstack/openstack-zuul-jobs,master,I3b65813671961d07c0a743685c537ad1df4bf682,Use webhook update for docs-on-readthedocs,MERGED,2018-07-19 03:28:14.000000000,2018-08-02 23:45:47.000000000,2018-08-02 23:45:47.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 28208}]","[{'number': 1, 'created': '2018-07-19 03:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e487086824237d2fb1d5d7ebeebc96cbc9f9bb4a', 'message': 'Use webhook update for docs-on-readthedocs\n\nThis new job triggers readthedocs via their webhook API.  It is not a\ndrop-in replacement; users will have to update per the documentation\n(this will be communicated before merge; however, note that the old\nAPI is not working).\n\nFor more details, see the comments in the dependent change.\n\nChange-Id: I3b65813671961d07c0a743685c537ad1df4bf682\nDepends-On: https://review.openstack.org/583449\n'}, {'number': 2, 'created': '2018-07-27 06:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e99f88c23ce7ef38897f6cdda7fbeeabf84ca247', 'message': 'Use webhook update for docs-on-readthedocs\n\nUpdate the docs-on-readthedocs template to use the new\ntrigger-readthedocs-webhook job.\n\nThis new job triggers readthedocs via their authenticated webhook API.\nIt is not a drop-in replacement; users will have to update with a API\nkey per the documentation (this will be communicated before merge;\nhowever, note that the old API is not working).\n\nFor more details, see the comments in the dependent project-config\nchange.\n\nThe ability to have variables in templates is also new, see the\ndependent zuul change.\n\nChange-Id: I3b65813671961d07c0a743685c537ad1df4bf682\nDepends-On: https://review.openstack.org/583449\nDepends-On: https://review.openstack.org/584230\n'}, {'number': 3, 'created': '2018-07-30 01:07:08.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/55d0c6fc5351e3b16697b82b5d9df5a353b77b27', 'message': 'Use webhook update for docs-on-readthedocs\n\nUpdate the docs-on-readthedocs template to use the new\ntrigger-readthedocs-webhook job.\n\nThis new job triggers readthedocs via their authenticated webhook API.\nIt is not a drop-in replacement; users will have to update with a API\nkey per the documentation (this will be communicated before merge;\nhowever, note that the old API is not working).\n\nFor more details, see the comments in the dependent project-config\nchange.\n\nThe ability to have variables in templates is also new, see the\ndependent zuul change.\n\nChange-Id: I3b65813671961d07c0a743685c537ad1df4bf682\nDepends-On: https://review.openstack.org/583449\nDepends-On: https://review.openstack.org/584230\n'}]",0,583834,55d0c6fc5351e3b16697b82b5d9df5a353b77b27,19,5,3,7118,,,0,"Use webhook update for docs-on-readthedocs

Update the docs-on-readthedocs template to use the new
trigger-readthedocs-webhook job.

This new job triggers readthedocs via their authenticated webhook API.
It is not a drop-in replacement; users will have to update with a API
key per the documentation (this will be communicated before merge;
however, note that the old API is not working).

For more details, see the comments in the dependent project-config
change.

The ability to have variables in templates is also new, see the
dependent zuul change.

Change-Id: I3b65813671961d07c0a743685c537ad1df4bf682
Depends-On: https://review.openstack.org/583449
Depends-On: https://review.openstack.org/584230
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/34/583834/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,e487086824237d2fb1d5d7ebeebc96cbc9f9bb4a,readthedocs," To use this template you need to: * add the openstackci user as an admin to your RTD project * generate a webhook URL via the ""Integrations"" dashboard page * provide the ""id"" value from the URL in ``project-config:playbooks/publish/trigger-rtd.yaml`` Alternatively, you can define your own jobs and use the ``trigger-readthedocs`` role directly in your project, with secrets defined directly in your playbooks. - trigger-readthedocs-webhook - trigger-readthedocs-webhook - trigger-readthedocs-webhook", - trigger-readthedocs - trigger-readthedocs - trigger-readthedocs,15,3
openstack%2Fcongress~master~Ida715517a2e1febc64d87b07b54c02c815eabfce,openstack/congress,master,Ida715517a2e1febc64d87b07b54c02c815eabfce,bugfix: order of variables in quantified Z3 terms,MERGED,2018-07-31 06:53:04.000000000,2018-08-02 23:33:31.000000000,2018-08-02 23:33:31.000000000,"[{'_account_id': 8878}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2018-07-31 06:53:04.000000000', 'files': ['congress/z3/z3theory.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/0be3c4b99ee63793b0b3342dd3a5aed32d639391', 'message': 'bugfix: order of variables in quantified Z3 terms\n\nThis fix guarantees that variables are quantified in the right order. This\nis important for queries otherwise the order of the columns in the answers\nmay be arbitrary.\n\nThe bug was mostly visible on Python 3 due to dictionnary implementation\ndetails.\n\nChange-Id: Ida715517a2e1febc64d87b07b54c02c815eabfce\n'}]",0,587300,0be3c4b99ee63793b0b3342dd3a5aed32d639391,8,4,1,23518,,,0,"bugfix: order of variables in quantified Z3 terms

This fix guarantees that variables are quantified in the right order. This
is important for queries otherwise the order of the columns in the answers
may be arbitrary.

The bug was mostly visible on Python 3 due to dictionnary implementation
details.

Change-Id: Ida715517a2e1febc64d87b07b54c02c815eabfce
",git fetch https://review.opendev.org/openstack/congress refs/changes/00/587300/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/z3/z3theory.py'],1,0be3c4b99ee63793b0b3342dd3a5aed32d639391,bug_z3theory, z3vars = [] z3vars.append(var), z3vars = [v for v in six.itervalues(variables)],2,1
openstack%2Fcongress~master~I02ed664d5a2ca03020a126758937d5f933cb2af5,openstack/congress,master,I02ed664d5a2ca03020a126758937d5f933cb2af5,Do not activate Z3 relaxed cycle detection if no Z3,MERGED,2018-07-27 10:39:44.000000000,2018-08-02 23:33:30.000000000,2018-08-02 23:33:30.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 10:39:44.000000000', 'files': ['congress/z3/z3theory.py', 'congress/policy_engines/agnostic.py', 'congress/tests/z3/test_z3theory.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/f49e65172873082ebf1e38ce5be00ad05776526f', 'message': 'Do not activate Z3 relaxed cycle detection if no Z3\n\nMethod name renamed to be more explicit on its purpose.\n\nChange-Id: I02ed664d5a2ca03020a126758937d5f933cb2af5\n'}]",0,586504,f49e65172873082ebf1e38ce5be00ad05776526f,7,2,1,23518,,,0,"Do not activate Z3 relaxed cycle detection if no Z3

Method name renamed to be more explicit on its purpose.

Change-Id: I02ed664d5a2ca03020a126758937d5f933cb2af5
",git fetch https://review.opendev.org/openstack/congress refs/changes/04/586504/1 && git format-patch -1 --stdout FETCH_HEAD,"['congress/z3/z3theory.py', 'congress/policy_engines/agnostic.py', 'congress/tests/z3/test_z3theory.py']",3,f49e65172873082ebf1e38ce5be00ad05776526f,z3cycle," def test_cycle_not_contained_in_z3(self): r = z3theory.cycle_not_contained_in_z3(theories, cycles) r = z3theory.cycle_not_contained_in_z3(theories, cycles)"," def test_irreducible_cycle(self): r = z3theory.irreducible_cycle(theories, cycles) r = z3theory.irreducible_cycle(theories, cycles)",8,7
openstack%2Fopenstack-helm-infra~master~I024a555cdb82ee181eb414337b84e7ad62717c97,openstack/openstack-helm-infra,master,I024a555cdb82ee181eb414337b84e7ad62717c97,Grafana: Update Ceph Dashboards,MERGED,2018-08-02 16:12:16.000000000,2018-08-02 23:22:13.000000000,2018-08-02 23:22:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-02 16:12:16.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5249317073343531dd50fa514f531e9adff360a', 'message': 'Grafana: Update Ceph Dashboards\n\nThis fixes two issues with the Ceph dashboards in Grafana: the\nfirst fix addresses an incorrect heading for Utilized Capacity in\nthe ceph cluster dashboard (was reporting utilized as available),\nand the second fix addresses the Pool Usage gauge to accurately\nreflect the percentage of the pool used (was incorrectly\nmultiplying the percentage result by 100 a second time, resulting\nin large and inaccurate results)\n\nChange-Id: I024a555cdb82ee181eb414337b84e7ad62717c97\n'}]",0,588329,c5249317073343531dd50fa514f531e9adff360a,7,3,1,17591,,,0,"Grafana: Update Ceph Dashboards

This fixes two issues with the Ceph dashboards in Grafana: the
first fix addresses an incorrect heading for Utilized Capacity in
the ceph cluster dashboard (was reporting utilized as available),
and the second fix addresses the Pool Usage gauge to accurately
reflect the percentage of the pool used (was incorrectly
multiplying the percentage result by 100 a second time, resulting
in large and inaccurate results)

Change-Id: I024a555cdb82ee181eb414337b84e7ad62717c97
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/29/588329/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,c5249317073343531dd50fa514f531e9adff360a,fix_ceph_dashboard," title: Current Utilization - expr: (ceph_pool_bytes_used{pool_id=~""$pool""} / ceph_pool_max_avail{pool_id=~""$pool""})"," title: Available Capacity - expr: (ceph_pool_bytes_used{pool_id=~""$pool""} / ceph_pool_max_avail{pool_id=~""$pool""}) * 100",2,2
openstack%2Fneutron~master~I3ce4475643f4f0afed01f2e9956b3bf84714e6f2,openstack/neutron,master,I3ce4475643f4f0afed01f2e9956b3bf84714e6f2,use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events,MERGED,2018-04-19 17:15:37.000000000,2018-08-02 23:19:36.000000000,2018-07-26 07:52:37.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13438}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-04-19 17:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21fb79b4bb742dd9cacbb1de420646d14cab9ca9', 'message': 'use callback payloads for ROUTER BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER BEFORE_DELETE based notifications. To do so a\nDBEventPayload object is used with the publish() method to pass along\nthe related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 2, 'created': '2018-06-22 18:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf99ca7bb76df2ff07db47891e189a99c7fb766f', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 3, 'created': '2018-06-25 13:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9b1aa4c3ce0de36ce9c406f353de1b8240e08bf', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 4, 'created': '2018-06-27 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8453bfba547821f332afb1fab9d41913ebbd4cc1', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 5, 'created': '2018-06-29 16:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5f0dda8de911a991596898d1210097f79588a29', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 6, 'created': '2018-07-12 21:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d340db1f47baa28c5e75eabd85f5fe1d1ec692b', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 7, 'created': '2018-07-19 10:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e02aabc286e49aa403ec156e1de991a951eb3ef', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}, {'number': 8, 'created': '2018-07-23 21:14:25.000000000', 'files': ['neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/agent/l3/agent.py', 'neutron/agent/metadata/driver.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73c7eddb5a0ba2b6e1e06a9acd266bb15283eacd', 'message': 'use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To\ndo so a DBEventPayload object is used with the publish() method to pass\nalong the related data.\n\nNeutronLibImpact\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2\n'}]",0,562762,73c7eddb5a0ba2b6e1e06a9acd266bb15283eacd,81,14,8,5367,,,0,"use callback payloads for ROUTER/ROUTER_GATEWAY BEFORE_DELETE events

This patch switches callbacks over to the payload object style events
[1] for ROUTER and ROUTER_GATEWAY BEFORE_DELETE based notifications. To
do so a DBEventPayload object is used with the publish() method to pass
along the related data.

NeutronLibImpact

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads

Change-Id: I3ce4475643f4f0afed01f2e9956b3bf84714e6f2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/562762/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/metadata/driver.py', 'neutron/db/l3_db.py']",3,21fb79b4bb742dd9cacbb1de420646d14cab9ca9,use-callback-payloads," registry.publish(resources.ROUTER, events.BEFORE_DELETE, self, payload=events.DBEventPayload( context, resource_id=id))"," registry.notify(resources.ROUTER, events.BEFORE_DELETE, self, context=context, router_id=id)",9,6
openstack%2Fnova~master~Ia46754d8ff65c501545853e6c2909a5a900d45c0,openstack/nova,master,Ia46754d8ff65c501545853e6c2909a5a900d45c0,Func test for improper cn local DISK_GB reporting,MERGED,2018-07-18 15:18:14.000000000,2018-08-02 23:19:17.000000000,2018-07-23 18:55:03.000000000,"[{'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 15:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0435f5785c2c0fb34fe2fe25a10d1d83713bf8b', 'message': ""WIP: Func test for improper local DISK_GB reporting\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop\nallocating the flavor's root_gb if we're booting from volume. However,\nwe're still reporting it against the compute node's capacity. This adds\nfunctional test coverage demonstrating the bug.\n\nWIP: Add bug number\n\nChange-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0\nRelated-Bug: #<TODO>\n""}, {'number': 2, 'created': '2018-07-18 16:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36f050505a9fe660b43b9886e09f0d61496a0d94', 'message': ""Func test for improper cn local DISK_GB reporting\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop\nallocating the flavor's root_gb if we're booting from volume. However,\nwe're still reporting it against the compute node's capacity.\n\nFurthermore, we're not reporting swap space at all.\n\nThis adds functional test coverage demonstrating these bugs.\n\nChange-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0\nRelated-Bug: #1782393\nRelated-Bug: #1782386\n""}, {'number': 3, 'created': '2018-07-18 19:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e8e0d69f23ff065e255b45656feeaba0c45f0a7', 'message': ""Func test for improper cn local DISK_GB reporting\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop\nallocating the flavor's root_gb if we're booting from volume. However,\nwe're still reporting it against the compute node's capacity.\n\nFurthermore, we're not reporting swap space at all.\n\nThis adds functional test coverage demonstrating these bugs.\n\nChange-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0\nRelated-Bug: #1782393\nRelated-Bug: #1782386\n""}, {'number': 4, 'created': '2018-07-23 01:34:15.000000000', 'files': ['nova/tests/functional/api/client.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ece289fa5a5e5e805cde5dd7189cf05f643d0fd0', 'message': ""Func test for improper cn local DISK_GB reporting\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop\nallocating the flavor's root_gb if we're booting from volume. However,\nwe're still reporting it against the compute node's capacity.\n\nFurthermore, we're not reporting swap space at all.\n\nThis adds functional test coverage demonstrating these bugs.\n\nChange-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0\nRelated-Bug: #1782393\nRelated-Bug: #1782386\n""}]",11,583646,ece289fa5a5e5e805cde5dd7189cf05f643d0fd0,41,14,4,14070,,,0,"Func test for improper cn local DISK_GB reporting

Change I9c2111f7377df65c1fc3c72323f85483b3295989 fixed it so we stop
allocating the flavor's root_gb if we're booting from volume. However,
we're still reporting it against the compute node's capacity.

Furthermore, we're not reporting swap space at all.

This adds functional test coverage demonstrating these bugs.

Change-Id: Ia46754d8ff65c501545853e6c2909a5a900d45c0
Related-Bug: #1782393
Related-Bug: #1782386
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/583646/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,c0435f5785c2c0fb34fe2fe25a10d1d83713bf8b,bug/1469179," self.compute1 = self._start_compute('host') self.cn = self.compute1.manager._resource_tracker.compute_nodes['host'] # Ensure the compute node is reporting the correct disk usage # 10gb root, 20gb ephemerial self.assertEqual(30, self.cn.local_gb_used) # Ensure the compute node is reporting the correct disk usage # 0gb root, 20gb ephemeral # TODO(efried): Due to bug # the flavor's root_gb is still being # reported against the compute node's usage. # self.assertEqual(20, self.cn.local_gb_used) self.assertEqual(30, self.cn.local_gb_used)", self.compute1 = self._start_compute('host1') self.compute2 = self._start_compute('host2'),11,2
openstack%2Fneutron~master~I9d580645131a9f1b8233ea5f6e0378cd98f023f1,openstack/neutron,master,I9d580645131a9f1b8233ea5f6e0378cd98f023f1,Generic validate_request method for logging,MERGED,2017-12-22 10:11:37.000000000,2018-08-02 23:17:54.000000000,2018-08-02 10:06:37.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 15905}, {'_account_id': 16376}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 24441}, {'_account_id': 25903}, {'_account_id': 26622}, {'_account_id': 27621}, {'_account_id': 27654}, {'_account_id': 28174}]","[{'number': 1, 'created': '2017-12-22 10:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b12aee9c0e6f138fa94917ab853b94ce30465c7c', 'message': '[WIP] Extend logging framework for FWaaS\n\nThis is part of works to extend logging framework for FWaaS v2[1]\n\nThis patch makes validate_request to be more generice so we can use\nthis function in FWaaS side.\n\n[1] https://review.openstack.org/#/c/509725/\n\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 2, 'created': '2018-01-02 09:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72207b65ecacba802febaef05a4bf709bb86d1c4', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 3, 'created': '2018-01-03 09:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62b2b21e1d22e37586b3116efa4f9698cde96221', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 4, 'created': '2018-01-16 09:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/376b5031d0756ce1c9c79a5f37e5aaf477992765', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 5, 'created': '2018-03-09 09:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d34593afa49b839bf0072fd1c215a506dd94576', 'message': '[log] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 6, 'created': '2018-04-26 12:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/141e105488b55fe9f27a0dfd4f13e6202005522d', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 7, 'created': '2018-04-26 12:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf532a70915e95129140ba5f43178b607168e63c', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 8, 'created': '2018-04-27 03:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e2236558780c985ba2712d7bba194d7f278b0ea', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 9, 'created': '2018-04-27 09:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f2f8cd26ee56d886a60397c23d92fd967b79b03', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 10, 'created': '2018-05-02 08:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7312328d7559a6de3ee59baaa50c8275ba9a8653', 'message': '[WIP] Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 11, 'created': '2018-06-15 07:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7ae5aaf95ff605b29d16719083c2a4a7147201a', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 12, 'created': '2018-06-15 07:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79cbef8a94d67ae2762f71efc722440714be07ea', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 13, 'created': '2018-06-18 07:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dc306af6a461e2d001e48e8bd582af8d5941277', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 14, 'created': '2018-06-18 10:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11ed96f0cde5492d2fe2929663b1abbe036ebd85', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 15, 'created': '2018-06-21 09:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de2354be4b11ec531f6011f5ff4d5d7354f32ab3', 'message': 'Generic validate_request method for logging\n\nThis patch add a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 16, 'created': '2018-06-22 06:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f0d69a99fa945563c3fe08b7703ea8c8191c5bb', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 17, 'created': '2018-07-10 08:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d3ecc190004e080c51c785e3a3988584757e324', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 18, 'created': '2018-07-11 03:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d467c664bcdbf9e6fdc4f2aa0486438bb98b3f4d', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 19, 'created': '2018-07-14 06:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d34fec63359594c9c862f58591edf072cb756ce', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 20, 'created': '2018-07-14 06:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1d0224034a367fb10caa8dae3a2e2b8702c4a38', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 21, 'created': '2018-07-18 05:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c137171fe1de52543ac5ddec04691f3c787fca75', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 22, 'created': '2018-07-23 08:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/988e939555b800d733ecc93c723c1ce2bcf11118', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 23, 'created': '2018-07-24 01:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de27dbff1a3e2180f7fb2695ff3441f8d0f17c68', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 24, 'created': '2018-07-26 09:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da18ffa75a7bf66cfa2c1c82e55d888e39c1545d', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 25, 'created': '2018-07-28 10:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc4b3895b260afe1dcc49eac66d7be4449b3747d', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 26, 'created': '2018-08-01 03:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47b5c1e0700a7d7a4f53fdc6f80887ad6f4901b4', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}, {'number': 27, 'created': '2018-08-01 22:16:01.000000000', 'files': ['neutron/services/logapi/common/validators.py', 'neutron/tests/unit/services/logapi/test_logging_plugin.py', 'neutron/tests/unit/services/logapi/common/test_validators.py', 'neutron/services/logapi/common/exceptions.py', 'neutron/tests/unit/services/logapi/common/test_sg_validate.py', 'neutron/services/logapi/common/sg_validate.py', 'neutron/services/logapi/drivers/openvswitch/driver.py', 'neutron/services/logapi/common/constants.py', 'neutron/services/logapi/logging_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdb973e77dc33dcccfb8c62eed69e4b2318acd8d', 'message': 'Generic validate_request method for logging\n\nThis patch adds a generic validate_request method for logging, So\nlogging can be extended to other resources like firewall group.\n\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\n\nPartial-Bug: #1720727\nChange-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1\n'}]",68,529814,cdb973e77dc33dcccfb8c62eed69e4b2318acd8d,199,22,27,24441,,,0,"Generic validate_request method for logging

This patch adds a generic validate_request method for logging, So
logging can be extended to other resources like firewall group.

Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Co-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>

Partial-Bug: #1720727
Change-Id: I9d580645131a9f1b8233ea5f6e0378cd98f023f1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/529814/26 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/common/validators.py'],1,b12aee9c0e6f138fa94917ab853b94ce30465c7c,bug/1720727,"def validate_security_group_request(context, log_data): resource_id = log_data.get('resource_id') target_id = log_data.get('target_id') if resource_id: _check_secgroup_exists(context, resource_id) if target_id: port = _get_port(context, target_id) if not validate_log_type_for_port(log_const.SECURITY_GROUP, port): raise log_exc.LoggingTypeNotSupported( log_type=log_const.SECURITY_GROUP, port_id=target_id) if resource_id and target_id: _check_port_bound_sg(context, resource_id, target_id) log_plugin = directory.get_plugin(alias=plugin_const.LOG_API) supported_logging_types = log_plugin.supported_logging_types if resource_type in supported_logging_types: if resource_type == log_const.SECURITY_GROUP: validate_security_group_request(context, log_data) else: raise log_exc.LoggingTypeNotSupported(log_type=resource_type)"," resource_id = log_data.get('resource_id') target_id = log_data.get('target_id') if resource_type == log_const.SECURITY_GROUP: if resource_id: _check_secgroup_exists(context, resource_id) if target_id: port = _get_port(context, target_id) if not validate_log_type_for_port(resource_type, port): raise log_exc.LoggingTypeNotSupported(log_type=resource_type, port_id=target_id) if resource_id and target_id: _check_port_bound_sg(context, resource_id, target_id)",22,12
openstack%2Fnova~master~I2e236fbbc3a4cfd3bd66d50198de643e06d62331,openstack/nova,master,I2e236fbbc3a4cfd3bd66d50198de643e06d62331,Ensure the order of AllocationRequestResources,MERGED,2018-08-01 07:08:46.000000000,2018-08-02 23:17:33.000000000,2018-08-01 14:43:02.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-01 07:08:46.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b7946f5a3dd62003bdfead068dd58bd58ed6d18', 'message': 'Ensure the order of AllocationRequestResources\n\nGetting allocation candidates with sharing providers, placement\ncreates a list of AllocationRequestResources to get all the\npossible combinations of resource providers in the same aggregate.\n\nHowever, the order of the list was arbitrary, which could cause\na bug later in duplicate check of the combination.\n\nThis patch ensures that the list is ordered by the resource\nclass id.\n\nNote:\n  This bug is only exposed when it is tested with python3.6,\n  where order-preserving aspect is added to the dict object.\n\nChange-Id: I2e236fbbc3a4cfd3bd66d50198de643e06d62331\nCloses-Bug: #1784577\n'}]",1,587700,0b7946f5a3dd62003bdfead068dd58bd58ed6d18,21,18,1,25625,,,0,"Ensure the order of AllocationRequestResources

Getting allocation candidates with sharing providers, placement
creates a list of AllocationRequestResources to get all the
possible combinations of resource providers in the same aggregate.

However, the order of the list was arbitrary, which could cause
a bug later in duplicate check of the combination.

This patch ensures that the list is ordered by the resource
class id.

Note:
  This bug is only exposed when it is tested with python3.6,
  where order-preserving aspect is added to the dict object.

Change-Id: I2e236fbbc3a4cfd3bd66d50198de643e06d62331
Closes-Bug: #1784577
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/587700/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/objects/resource_provider.py'],1,0b7946f5a3dd62003bdfead068dd58bd58ed6d18,bug/1784577," # AllocationRequestResource(ARR) per requested resource class(rc). # For example, if we have the alloc_dict: # {rc1_id: [ARR(rc1, rp1), ARR(rc1, rp2)], # rc2_id: [ARR(rc2, rp1), ARR(rc2, rp2)], # rc3_id: [ARR(rc3, rp1)]} # then the request_groups would be something like # [[ARR(rc1, rp1), ARR(rc1, rp2)], # [ARR(rc2, rp1), ARR(rc2, rp2)], # [ARR(rc3, rp1)]] # , which should be ordered by the resource class id. request_groups = [val for key, val in sorted(alloc_dict.items())] # For example, the sample in the comment above becomes: # [(ARR(rc1, ss1), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss1), ARR(rc2, ss2), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss1), ARR(rc3, ss1)), # (ARR(rc1, ss2), ARR(rc2, ss2), ARR(rc3, ss1))]", # AllocationRequestResource per requested resource class. request_groups = alloc_dict.values(),16,2
openstack%2Fneutron~master~I450c674e55ca15e1d9a6a6224138f3305427da68,openstack/neutron,master,I450c674e55ca15e1d9a6a6224138f3305427da68,Add ext_parent policy check,MERGED,2018-07-25 12:18:09.000000000,2018-08-02 23:17:12.000000000,2018-08-01 11:16:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-07-25 12:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/972d807b2e449c46e706b9e967e9fb4a103d82dd', 'message': '[WIP]Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin\n\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 2, 'created': '2018-07-26 02:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f2781c66c0b6002412c96414bd6840ad068807a', 'message': '[WIP]Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin\n\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 3, 'created': '2018-07-26 03:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d3961646855b9eaaca1349a640d15d68f164fa', 'message': '[WIP]Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin\n\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 4, 'created': '2018-07-27 12:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ce7f5f70faccfdebabea5c8b229b2a262cd6d4', 'message': 'Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin\n\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 5, 'created': '2018-07-27 16:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5905fdcacfce2b2d5996cf61cf5cf035bd819536', 'message': 'Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin.\n\nThen port forwarding resource will share the same tenant_id with\nfloatingip. That means only the fip owner can create/update/get/delete\nthe associated port forwarding resource.\n\nPartially-Implements: blueprint port-forwarding\nPartial-Bug: #1491317\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 6, 'created': '2018-07-30 03:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d44848cd87059c8573c1f0ff6f039b750b28ad2c', 'message': 'Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin.\n\nThen port forwarding resource will share the same tenant_id with\nfloatingip. That means only the fip owner can create/update/get/delete\nthe associated port forwarding resource.\n\nPartially-Implements: blueprint port-forwarding\nPartial-Bug: #1491317\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 7, 'created': '2018-07-30 12:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42a0edfb3d1f47d444be636071288666ac055eaf', 'message': 'Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin.\n\nThen port forwarding resource will share the same tenant_id with\nfloatingip. That means only the fip owner can create/update/get/delete\nthe associated port forwarding resource.\n\nPartially-Implements: blueprint port-forwarding\nPartial-Bug: #1491317\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}, {'number': 8, 'created': '2018-07-31 18:47:45.000000000', 'files': ['neutron/common/constants.py', 'neutron/api/v2/base.py', 'neutron/tests/unit/test_policy.py', 'releasenotes/notes/extend-policy-for-extension-resource-owner-check-4a19b84889660506.yaml', 'doc/source/contributor/internals/policy.rst', 'neutron/policy.py', 'etc/policy.json', 'neutron/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d945e92f77af1a1051c13158c67ef3c59e8f6b', 'message': 'Add ext_parent policy check\n\nAdd common parent owner check for the resources which introduced by\nservice plugin.\n\nThen port forwarding resource will share the same tenant_id with\nfloatingip. That means only the fip owner can create/update/get/delete\nthe associated port forwarding resource.\n\nPartially-Implements: blueprint port-forwarding\nPartial-Bug: #1491317\nChange-Id: I450c674e55ca15e1d9a6a6224138f3305427da68\n'}]",54,585731,35d945e92f77af1a1051c13158c67ef3c59e8f6b,78,13,8,15309,,,0,"Add ext_parent policy check

Add common parent owner check for the resources which introduced by
service plugin.

Then port forwarding resource will share the same tenant_id with
floatingip. That means only the fip owner can create/update/get/delete
the associated port forwarding resource.

Partially-Implements: blueprint port-forwarding
Partial-Bug: #1491317
Change-Id: I450c674e55ca15e1d9a6a6224138f3305427da68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/585731/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/api/v2/base.py', 'neutron/policy.py', 'etc/policy.json', 'neutron/tests/etc/policy.json']",5,972d807b2e449c46e706b9e967e9fb4a103d82dd,bp/port_forwarding," ""admin_or_ext_parent_owner"": ""rule:context_is_admin or tenant_id:%(ext_parent:tenant_id)s"", ""create_floatingip_port_forwarding"": ""rule:admin_or_ext_parent_owner"", ""update_floatingip_port_forwarding"": ""rule:admin_or_ext_parent_owner"", ""delete_floatingip_port_forwarding"": ""rule:admin_or_ext_parent_owner"""," ""create_floatingip_port_forwarding"": ""rule:regular_user"", ""update_floatingip_port_forwarding"": ""rule:regular_user"", ""delete_floatingip_port_forwarding"": ""rule:regular_user""",95,14
openstack%2Fnova~master~I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84,openstack/nova,master,I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84,Don't poison Host._init_events if it's already mocked,MERGED,2018-07-25 13:35:08.000000000,2018-08-02 23:16:47.000000000,2018-07-31 18:28:53.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-25 13:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/998d5e54b1816f799397b5c369fe6860a1652594', 'message': ""Don't poison Host._init_events if it's already mocked\n\nPoisonFunctions poisons Host._init_events without checking if it's\nalready mocked. This creates a proper headscratcher when you try to\nuse FakeLibvirtFixture with ServersTestBase: if you use\nFakeLibvirtFixture before calling super.setUp() PoisonFunctions will\npoison the function we already mocked, if we call it in the other\norder setUp() will fail when it tries to start nova-compute.\n\nChange-Id: I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84\n""}, {'number': 2, 'created': '2018-07-26 13:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e802c0a7eeff1ee7e168c9ec8bf8bb20aad0ce44', 'message': ""Don't poison Host._init_events if it's already mocked\n\nPoisonFunctions poisons Host._init_events without checking if it's\nalready mocked. This creates a proper headscratcher when you try to\nuse FakeLibvirtFixture with ServersTestBase: if you use\nFakeLibvirtFixture before calling super.setUp() PoisonFunctions will\npoison the function we already mocked, if we call it in the other\norder setUp() will fail when it tries to start nova-compute.\n\nChange-Id: I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84\n""}, {'number': 3, 'created': '2018-07-31 12:17:15.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9fe11e8de9c740615c6036f6d92bb82bba455e', 'message': ""Don't poison Host._init_events if it's already mocked\n\nPoisonFunctions poisons Host._init_events without checking if it's\nalready mocked. This creates a proper headscratcher when you try to\nuse FakeLibvirtFixture with ServersTestBase: if you use\nFakeLibvirtFixture before calling super.setUp() PoisonFunctions will\npoison the function we already mocked, if we call it in the other\norder setUp() will fail when it tries to start nova-compute.\n\nChange-Id: I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84\n""}]",6,585748,2c9fe11e8de9c740615c6036f6d92bb82bba455e,34,13,3,9555,,,0,"Don't poison Host._init_events if it's already mocked

PoisonFunctions poisons Host._init_events without checking if it's
already mocked. This creates a proper headscratcher when you try to
use FakeLibvirtFixture with ServersTestBase: if you use
FakeLibvirtFixture before calling super.setUp() PoisonFunctions will
poison the function we already mocked, if we call it in the other
order setUp() will fail when it tries to start nova-compute.

Change-Id: I6d8214c75a67c87ec5a7406f3cc2e8b923aa4d84
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/585748/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",2,998d5e54b1816f799397b5c369fe6860a1652594,trivia, self.useFixture(fixtures.MockPatch( side_effect=evloop)), self.useFixture(fixtures.MonkeyPatch( evloop)),8,5
openstack%2Fnova~master~If52cbfc44234ce94427bd2ba78b79270c3a873d3,openstack/nova,master,If52cbfc44234ce94427bd2ba78b79270c3a873d3,Fix formatting for vcpu_pin_set and reserved_huge_pages,MERGED,2018-07-30 19:37:25.000000000,2018-08-02 23:15:42.000000000,2018-07-31 15:13:14.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 19:37:25.000000000', 'files': ['nova/conf/compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f53d28f9be47150ba0b3f1d25482c72e1170801d', 'message': ""Fix formatting for vcpu_pin_set and reserved_huge_pages\n\nThis just fixes the rst formatting for the help on\neach option. I'm sure there are tons more like this,\nbut this change isn't an attempt to fix all of the\nformatting issues in our config options.\n\nChange-Id: If52cbfc44234ce94427bd2ba78b79270c3a873d3\n""}]",1,587206,f53d28f9be47150ba0b3f1d25482c72e1170801d,19,15,1,6873,,,0,"Fix formatting for vcpu_pin_set and reserved_huge_pages

This just fixes the rst formatting for the help on
each option. I'm sure there are tons more like this,
but this change isn't an attempt to fix all of the
formatting issues in our config options.

Change-Id: If52cbfc44234ce94427bd2ba78b79270c3a873d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/587206/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/compute.py'],1,f53d28f9be47150ba0b3f1d25482c72e1170801d,config-doc-format, excluded from a previous range. For example:: (Default unit is KiB) and number of pages to be reserved. For example::, excluded from a previous range. For example: (Default unit is KiB) and number of pages to be reserved.,2,2
openstack%2Fnova~master~Idfcc6882d7fe5141dcc793f0409f75c51fd26234,openstack/nova,master,Idfcc6882d7fe5141dcc793f0409f75c51fd26234,[placement] Use a simplified WarningsFixture,MERGED,2018-07-30 16:39:40.000000000,2018-08-02 23:15:36.000000000,2018-08-01 13:32:37.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 16:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce3d3b036cf90c7f2727e5d81b66cbae1ce6340c', 'message': '[placement] Use a simplified WarningsFixture\n\nUse a WarningsFixture specific to placement that worries about fewer\nwarnings and is not dependent on nova.\n\nblueprint: placement-extract\n\nChange-Id: Idfcc6882d7fe5141dcc793f0409f75c51fd26234\n'}, {'number': 2, 'created': '2018-07-30 18:57:13.000000000', 'files': ['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/fixtures/capture.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b1d38e88ae07262846f5efc89fb1a794c83659e', 'message': '[placement] Use a simplified WarningsFixture\n\nUse a WarningsFixture specific to placement that worries about fewer\nwarnings and is not dependent on nova.\n\nblueprint: placement-extract\n\nChange-Id: Idfcc6882d7fe5141dcc793f0409f75c51fd26234\n'}]",5,587131,4b1d38e88ae07262846f5efc89fb1a794c83659e,23,13,2,11564,,,0,"[placement] Use a simplified WarningsFixture

Use a WarningsFixture specific to placement that worries about fewer
warnings and is not dependent on nova.

blueprint: placement-extract

Change-Id: Idfcc6882d7fe5141dcc793f0409f75c51fd26234
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/587131/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/fixtures/capture.py']",3,ce3d3b036cf90c7f2727e5d81b66cbae1ce6340c,bp/placement-extract,"import warnings class WarningsFixture(fixtures.Fixture): """"""Filter or escalates certain warnings during test runs. Add additional entries as required. Remove when obsolete. """""" def setUp(self): super(WarningsFixture, self).setUp() # Ignore policy scope warnings. warnings.filterwarnings('ignore', message=""Policy .* failed scope check"", category=UserWarning) # The UUIDFields emits a warning if the value is not a valid UUID. # Let's escalate that to an exception in the test to prevent adding # violations. warnings.filterwarnings('error', message="".*invalid UUID.*"") self.addCleanup(warnings.resetwarnings)",,24,2
openstack%2Fnova~master~Ic4585ec059ab9a0c372d7a2de7324cddc4778181,openstack/nova,master,Ic4585ec059ab9a0c372d7a2de7324cddc4778181,Extract _update_to_placement method in resource tracker,MERGED,2018-07-30 17:23:36.000000000,2018-08-02 23:15:31.000000000,2018-08-01 05:02:54.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 17:23:36.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06ea35e36fd617be7601a652ed8fc75db719e766', 'message': 'Extract _update_to_placement method in resource tracker\n\nPull the placement related code in _update into its own method.\n\nThis is a nice refactoring to keep things in conceptual chunks\nand will keep the diff of a forthcoming change much much smaller.\n\nChange-Id: Ic4585ec059ab9a0c372d7a2de7324cddc4778181\n'}]",0,587171,06ea35e36fd617be7601a652ed8fc75db719e766,47,16,1,11564,,,0,"Extract _update_to_placement method in resource tracker

Pull the placement related code in _update into its own method.

This is a nice refactoring to keep things in conceptual chunks
and will keep the diff of a forthcoming change much much smaller.

Change-Id: Ic4585ec059ab9a0c372d7a2de7324cddc4778181
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/587171/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,06ea35e36fd617be7601a652ed8fc75db719e766,cd/update-once," def _update_to_placement(self, context, compute_node): """"""Send resource and inventory changes to placement."""""" @retrying.retry(stop_max_attempt_number=4, retry_on_exception=lambda e: isinstance( e, exception.ResourceProviderUpdateConflict)) def _update(self, context, compute_node): """"""Update partial stats locally and populate them to Scheduler."""""" if self._resource_change(compute_node): # If the compute_node's resource changed, update to DB. # NOTE(jianghuaw): Once we completely move to use get_inventory() # for all resource provider's inv data. We can remove this check. # At the moment we still need this check and save compute_node. compute_node.save() self._update_to_placement(context, compute_node) "," @retrying.retry(stop_max_attempt_number=4, retry_on_exception=lambda e: isinstance( e, exception.ResourceProviderUpdateConflict)) def _update(self, context, compute_node): """"""Update partial stats locally and populate them to Scheduler."""""" if self._resource_change(compute_node): # If the compute_node's resource changed, update to DB. # NOTE(jianghuaw): Once we completely move to use get_inventory() # for all resource provider's inv data. We can remove this check. # At the moment we still need this check and save compute_node. compute_node.save() ",16,12
openstack%2Fnova~master~I68d5b062c6963a37a30e0cd7520f658b1fbccd12,openstack/nova,master,I68d5b062c6963a37a30e0cd7520f658b1fbccd12,Remove superfluous network stubbing in func test,MERGED,2018-07-30 16:46:49.000000000,2018-08-02 23:15:09.000000000,2018-07-31 14:54:39.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 16:46:49.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25b3e2d69be92efc243c814d8e459356ab0339a2', 'message': 'Remove superfluous network stubbing in func test\n\nThe fake_network.set_stub_network_methods has been called in\nServersTestBase.setUp() and then in the derived test class\nNUMAServersTest._run_build_test() method. The second call is\nnot needed.\n\nChange-Id: I68d5b062c6963a37a30e0cd7520f658b1fbccd12\n'}]",2,587134,25b3e2d69be92efc243c814d8e459356ab0339a2,14,10,1,9708,,,0,"Remove superfluous network stubbing in func test

The fake_network.set_stub_network_methods has been called in
ServersTestBase.setUp() and then in the derived test class
NUMAServersTest._run_build_test() method. The second call is
not needed.

Change-Id: I68d5b062c6963a37a30e0cd7520f658b1fbccd12
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/587134/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,25b3e2d69be92efc243c814d8e459356ab0339a2,,, fake_network.set_stub_network_methods(self),0,1
openstack%2Fnova~master~I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3,openstack/nova,master,I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3,Add additional functional tests for NUMA networks,MERGED,2018-07-24 14:39:24.000000000,2018-08-02 23:14:53.000000000,2018-07-30 17:55:12.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-24 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a96d3fceb747ba217d13d75cbdce4783249ddbb6', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 2, 'created': '2018-07-24 16:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfcbcb233e5fe9c2c1aae2c4c6427b7f6f70b8f4', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 3, 'created': '2018-07-24 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9db7160a5c51df1a423bb6a8d92303c8d5efab69', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 4, 'created': '2018-07-24 19:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50967226500535dec477242f988bb0d5ec8fb308', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 5, 'created': '2018-07-25 11:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e8a811218c0c9dbcfb6c4e7d30bbea21b9de6fb', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 6, 'created': '2018-07-25 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c20527c666cb7acaa42a22995ff1da8cfe8f639e', 'message': 'WIP: Add functional tests for rebuild with NUMA networks\n\nEnsure this works as we expect it to.\n\nPart of blueprint numa-aware-vswitches\n\nCo-Authored-BySean Mooney <work@seanmooney.info>\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\n'}, {'number': 7, 'created': '2018-07-25 18:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aeab7488e793e5fa21011f05e23fa5e2c702db83', 'message': 'WIP: Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 8, 'created': '2018-07-25 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aece35d828ff0c9ec033d5a370a9b6ddc6fb7799', 'message': 'WIP: Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 9, 'created': '2018-07-25 20:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52e3ecf0885cecac6fc08894fe6dd06f994bc7c2', 'message': 'WIP: Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 10, 'created': '2018-07-25 21:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/023e417c36ad20fd67130a4de586d7c7a71fe0cf', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 11, 'created': '2018-07-26 17:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43043878fc29ad886eb01884839fdd1933c6059d', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 12, 'created': '2018-07-26 17:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/048492fdc6816e44b3ad26631676d4045c9b5244', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n'}, {'number': 13, 'created': '2018-07-26 19:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21940a26e302b561f318863b6ef8992d643c32d0', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n'}, {'number': 14, 'created': '2018-07-27 16:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4141d9c71c944e6f5a9c58d50b7916c7a308af', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n'}, {'number': 15, 'created': '2018-07-30 14:47:09.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45662d77a2da77714f8e792e86ebd64a52270ef5', 'message': 'Add additional functional tests for NUMA networks\n\nCover the move and move-like operations through cold migration and\nrebuild tests. This requires extensive filling of gaps in the\nNeutronFixture and fake libvirt driver.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n'}]",39,585385,45662d77a2da77714f8e792e86ebd64a52270ef5,89,14,15,15334,,,0,"Add additional functional tests for NUMA networks

Cover the move and move-like operations through cold migration and
rebuild tests. This requires extensive filling of gaps in the
NeutronFixture and fake libvirt driver.

Part of blueprint numa-aware-vswitches

Change-Id: I18acbda74dd8ac4e9a5d439f1393765a9a6a60f3
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Co-Authored-By: Dan Smith <dms@danplanet.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/585385/14 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,a96d3fceb747ba217d13d75cbdce4783249ddbb6,bp/numa-aware-vswitches," return self._wait_for_state_change(found_server, 'BUILD') flavor_id, networks)['status'] flavor_id, networks)['status'] flavor_id, networks)['status'] flavor_id, networks)['status'] def test_resize_server_no_network_changes(self): extra_spec = {'hw:numa_nodes': '1'} flavor_id = self._create_flavor(extra_spec=extra_spec) networks = [ {'uuid': NUMAAffinityNeutronFixture.network_1['id']}, ] server = self._test_create_server_with_networks(flavor_id, networks) self.assertEqual('ACTIVE', server['status']) # attach an interface from the **same** network post = { 'interfaceAttachment': { 'net_id': NUMAAffinityNeutronFixture.network_1['id'], } } self.api.attach_interface(server['id'], post) # now rebuild to the same image. This should work because no new NUMA # constraints were added by attaching another port from the same # network post = {'rebuild': {'imageRef': server['image']['id']}} self.api.post_server_action(server['id'], post) found_server = self._wait_for_state_change(found_server, 'BUILD') self.assertEqual('ACTIVE', found_server['status']) def test_resize_server_network_changes(self): extra_spec = {'hw:numa_nodes': '1'} flavor_id = self._create_flavor(extra_spec=extra_spec) networks = [ {'uuid': NUMAAffinityNeutronFixture.network_1['id']}, ] server = self._test_create_server_with_networks(flavor_id, networks) self.assertEqual('ACTIVE', server['status']) # attach an interface from a **different** network post = { 'interfaceAttachment': { 'net_id': NUMAAffinityNeutronFixture.network_2['id'], } } self.api.attach_interface(server['id'], post) # now rebuild to the same image. This should fail because of the # additional NUMA constraints the additional network has added post = {'rebuild': {'imageRef': server['image']['id']}} ex = self.assertRaises(client.OpenStackApiException, self.api.post_server_action, server['id'], post) self.assertEqual(403, ex.response.status_code)"," return self._wait_for_state_change(found_server, 'BUILD')['status'] flavor_id, networks) flavor_id, networks) flavor_id, networks) flavor_id, networks)",59,5
openstack%2Fnova~master~Id1857abf323c9776ab8fe957202848ff7ab3fbd2,openstack/nova,master,Id1857abf323c9776ab8fe957202848ff7ab3fbd2,Add description for placement 1.26,MERGED,2018-07-30 13:56:27.000000000,2018-08-02 23:14:49.000000000,2018-07-30 20:53:52.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 13:56:27.000000000', 'files': ['placement-api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/eec172a017e6de26add6b2172207f48a0f2e98a8', 'message': ""Add description for placement 1.26\n\nAdd description for placement microversion 1.26\nin the following APIs in the placement API reference.\n\n* PUT /resource_providers/{uuid}/inventories\n* PUT /resource_providers/{uuid}/inventories/{resource_class}\n\nUp to microversion 1.25, the value of 'reserved' has to be less\nthan the value of 'total' in the request.\nStarting from microversion 1.26, it has to be less than or\nequal to the value of 'total'.\n\nChange-Id: Id1857abf323c9776ab8fe957202848ff7ab3fbd2\nCloses-Bug: #1783380\n""}]",0,587067,eec172a017e6de26add6b2172207f48a0f2e98a8,18,14,1,7634,,,0,"Add description for placement 1.26

Add description for placement microversion 1.26
in the following APIs in the placement API reference.

* PUT /resource_providers/{uuid}/inventories
* PUT /resource_providers/{uuid}/inventories/{resource_class}

Up to microversion 1.25, the value of 'reserved' has to be less
than the value of 'total' in the request.
Starting from microversion 1.26, it has to be less than or
equal to the value of 'total'.

Change-Id: Id1857abf323c9776ab8fe957202848ff7ab3fbd2
Closes-Bug: #1783380
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/587067/1 && git format-patch -1 --stdout FETCH_HEAD,['placement-api-ref/source/parameters.yaml'],1,eec172a017e6de26add6b2172207f48a0f2e98a8,bug/1783380," description: > The amount of the resource a provider has reserved for its own use. Up to microversion 1.25, this value has to be less than the value of ``total``. Starting from microversion 1.26, this value has to be less than or equal to the value of ``total``.",,5,0
openstack%2Fneutron~master~I6f93a71c2ae725e3b97d8abc5f57093894792116,openstack/neutron,master,I6f93a71c2ae725e3b97d8abc5f57093894792116,[log] Generic RPC stuffs for logging in server side,MERGED,2018-01-16 10:25:31.000000000,2018-08-02 23:13:22.000000000,2018-08-01 14:07:58.000000000,"[{'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 15905}, {'_account_id': 16376}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-01-16 10:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c83af540f03ff984e957d2a3229b174f76673ed', 'message': 'Generic RPC stuffs for logging in server side\n\nThis patch intend to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall group.\n\n[1] https://review.openstack.org/#/c/509725/\n\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 2, 'created': '2018-01-17 02:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/430bc52d0a415b4ba08e02d318a574f035661461', 'message': 'Generic RPC stuffs for logging in server side\n\nThis patch intend to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\n[1] https://review.openstack.org/#/c/509725/\n\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 3, 'created': '2018-03-09 02:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c608abb56b53631892a8c1527d520a94a8a7946', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 4, 'created': '2018-04-05 14:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17d79a146b4356512872dc0825ab8ba9751ce933', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 5, 'created': '2018-04-12 04:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87670ac1976862de553038f48f2f6597675fd7c2', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 6, 'created': '2018-04-13 06:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6ffba96c32bc645de87f6c2d71a263c1d994ff8', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 7, 'created': '2018-04-13 07:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e469083b8ef66fd6cfbe1fc541953ecdb47d583d', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 8, 'created': '2018-04-13 08:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d78086e6fcf9e134e4f85a6d3c0e28be2470b79', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 9, 'created': '2018-04-13 09:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc79d25c576692e9b602cde4e6d9a004b24e9b87', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 10, 'created': '2018-07-05 09:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14b040e9e1361b163a710fa2b2b012a17cdbeedc', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 11, 'created': '2018-07-09 03:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f44d54d9522a30a267e8718f4b679c6e20aa50cd', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 12, 'created': '2018-07-14 06:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc87c0adca0eaa2b961951e913a87b9eed20c7c6', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 13, 'created': '2018-07-18 05:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99231f871d6b2271e3c6320cbd05f1c8b271cdc0', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 14, 'created': '2018-07-23 05:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09d9d8236e38258e733c9a419b8c0146e08857b2', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 15, 'created': '2018-07-24 01:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09a0fb46e47c1eb21076b420c76763736f37a910', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}, {'number': 16, 'created': '2018-07-28 10:09:21.000000000', 'files': ['neutron/services/logapi/drivers/base.py', 'neutron/services/logapi/drivers/openvswitch/driver.py', 'neutron/services/logapi/rpc/agent.py', 'neutron/services/logapi/common/constants.py', 'neutron/services/logapi/rpc/server.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/services/logapi/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4ffcab4cae23f1f7b3cc31f1ef922af9582ac2c', 'message': '[log] Generic RPC stuffs for logging in server side\n\nThis patch intends to make generic RPC stuffs for logging in server side.\nSo logging can be extended to be used by other resources like firewall.\n\nPartial-Bug: #1720727\nChange-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116\n'}]",50,534227,a4ffcab4cae23f1f7b3cc31f1ef922af9582ac2c,153,18,16,15905,,,0,"[log] Generic RPC stuffs for logging in server side

This patch intends to make generic RPC stuffs for logging in server side.
So logging can be extended to be used by other resources like firewall.

Partial-Bug: #1720727
Change-Id: I6f93a71c2ae725e3b97d8abc5f57093894792116
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/534227/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/logapi/test_logging.py', 'neutron/tests/unit/services/logapi/drivers/openvswitch/test_ovs_firewall_log.py', 'neutron/services/logapi/rpc/agent.py', 'neutron/services/logapi/rpc/server.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/services/logapi/logging_plugin.py', 'neutron/tests/unit/services/logapi/rpc/test_server.py']",8,7c83af540f03ff984e957d2a3229b174f76673ed,bug/1720727," server_rpc.register_validate_rpc_port_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_port) server_rpc.register_validate_rpc_resources_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_log_resources) server_rpc.register_validate_rpc_port_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_port) server_rpc.register_validate_rpc_resources_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_log_resources) test_obj.get_log_info_for_port(m_context, resource_type=log_const.SECURITY_GROUP, port_id=port_id) server_rpc.register_validate_rpc_port_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_port) server_rpc.register_validate_rpc_resources_method( log_const.SECURITY_GROUP, server_rpc.get_sg_log_info_for_log_resources) test_obj.get_log_info_for_log_resources( m_context, resource_type=log_const.SECURITY_GROUP, log_resources=log_resources)"," test_obj.get_sg_log_info_for_port(m_context, port_id=port_id) test_obj.get_sg_log_info_for_log_resources(m_context, log_resources=log_resources)",108,24
openstack%2Fneutron~master~I9016abb6eb650c86c570a0ee78ee12361f4632e4,openstack/neutron,master,I9016abb6eb650c86c570a0ee78ee12361f4632e4,[server side] Expose port forwardings in FIP API,MERGED,2018-06-14 04:24:32.000000000,2018-08-02 23:12:50.000000000,2018-07-28 04:48:27.000000000,"[{'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-06-14 04:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e836d831792a3b6f8764a6a00733ab289c852e46', 'message': ""[3] Neutron server part of Port forwarding plugin\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in GET floatingip responses.\n\nThis is for fitting the spec [1] about the existing floatingip API affect.\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 2, 'created': '2018-06-17 10:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa99fbadd626485d3121dff0d323892fde69dbca', 'message': ""[3] Neutron server part of Port forwarding plugin\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in GET floatingip responses.\n\nThis is for fitting the spec [1] about the existing floatingip API affect.\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 3, 'created': '2018-06-19 10:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2838f46e4917a6c6a4bb1894f06938afb0dcc16f', 'message': ""[3] Neutron server part of Port forwarding plugin\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in GET floatingip responses.\n\nThis is for fitting the spec [1] about the existing floatingip API affect.\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 4, 'created': '2018-06-26 06:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f657f60d05923eb998deb9138c4224cd174627c', 'message': ""[3] Neutron server part of Port forwarding plugin\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in GET floatingip responses.\n\nThis is for fitting the spec [1] about the existing floatingip API affect.\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 5, 'created': '2018-06-28 11:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4adfa055c1494c92ac121257ff5ffbfc1908eda2', 'message': ""[3] Neutron server part of Port forwarding plugin\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 6, 'created': '2018-07-03 16:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c8bec4fabfcb282f8b603928b3cfe6e7183aa02', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 7, 'created': '2018-07-04 09:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56e29968334b20fbe05086b99ded5f4521b01e5a', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 8, 'created': '2018-07-05 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/978307033d1b273efb2c598df8ebc054800bfd49', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 9, 'created': '2018-07-12 12:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4854899d42927d4eb54890835ba455a9bcb534a', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 10, 'created': '2018-07-16 03:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2d5291b18b51f43614eae8a052f2fbbc42cc35f', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named\n'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nThis change implements the effect of port forwarding on exsiting\nFloatingip API, as specified in [1]\n[1]\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 11, 'created': '2018-07-19 11:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/735ad15be4708f3bdce794f96884b55000012141', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 12, 'created': '2018-07-19 11:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f5c5446d16cbad69054acbf273fbee1481f66f4', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 13, 'created': '2018-07-23 03:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a917bf879c0ed1b412385267733f7dd04d5156c', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 14, 'created': '2018-07-24 16:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b116d5fefc3ce584ca2d26e35459715cf9fb10b', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 15, 'created': '2018-07-25 01:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/740be46ee3f531284a106c0f9e37b41a9af2d022', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 16, 'created': '2018-07-25 12:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47377605a7698ece5565463daae8e2704c874974', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 17, 'created': '2018-07-27 01:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa05e9c28590d0583bb84fb490eb05c0131c2b6c', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 18, 'created': '2018-07-27 09:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1bba7028c42a542e515ef249a1a5b317fe43e67', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}, {'number': 19, 'created': '2018-07-27 12:49:01.000000000', 'files': ['neutron/extensions/expose_port_forwarding_in_fip.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d00a1558a5a51ad8d189ad3d72aabae6447a88b5', 'message': ""[server side] Expose port forwardings in FIP API\n\nThis patch introduces a new API extension named 'extend-fip-port-forwarding'\nfor exposing 'port_forwardings' field in floatingip responses.\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4\nPartial-Bug: #1491317\n""}]",20,575326,d00a1558a5a51ad8d189ad3d72aabae6447a88b5,205,16,19,15309,,,0,"[server side] Expose port forwardings in FIP API

This patch introduces a new API extension named 'extend-fip-port-forwarding'
for exposing 'port_forwardings' field in floatingip responses.

Partially-Implements: blueprint port-forwarding
Change-Id: I9016abb6eb650c86c570a0ee78ee12361f4632e4
Partial-Bug: #1491317
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/575326/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/extend_fip_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py']",2,e836d831792a3b6f8764a6a00733ab289c852e46,bp/port_forwarding,"from neutron_lib.api.definitions import l3 supported_extension_aliases = ['floating-ip-port-forwarding', ""extend-fip-port-forwarding""] @staticmethod @resource_extend.extends([l3.FLOATINGIPS]) def _extend_floatingip_dict(result_dict, db): fields = [apidef.INTERNAL_IP_ADDRESS, apidef.PROTOCOL, apidef.INTERNAL_PORT, apidef.EXTERNAL_PORT] result_dict[apidef.COLLECTION_NAME] = [] if db.port_forwardings: port_forwarding_result = [] for port_forwarding in db.port_forwardings: pf_dict = pf.PortForwarding.modify_fields_from_db( port_forwarding) for key in pf_dict.keys(): if key not in fields: pf_dict.pop(key) elif key == apidef.INTERNAL_IP_ADDRESS: pf_dict[key] = str(pf_dict[key]) port_forwarding_result.append(pf_dict) result_dict[apidef.COLLECTION_NAME] = port_forwarding_result return result_dict ", supported_extension_aliases = ['floating-ip-port-forwarding'],80,1
openstack%2Fnova~master~I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa,openstack/nova,master,I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa,compute node local_gb_used include swap disks,MERGED,2018-07-26 02:18:27.000000000,2018-08-02 23:12:31.000000000,2018-08-01 09:30:09.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26286}, {'_account_id': 26311}, {'_account_id': 26515}, {'_account_id': 28708}]","[{'number': 1, 'created': '2018-07-26 02:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bb9cc85464cd92a9092eae1ae060db7e2cf36f5', 'message': 'compute node local_gb_used include swap disks\nThe ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L934\n\nBased on:\n\n1. root_gb in the flavor\n2. any disk overhead from the virt driver\n3. ephemeral_gb in the flavor\n\nChange-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa\n'}, {'number': 2, 'created': '2018-07-26 07:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07a7360cb9875e270a164e87fc835ae6d84321f0', 'message': 'compute node local_gb_used include swap disks\n\nThe ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L934\n\nBased on:\n\n1. root_gb in the flavor\n2. any disk overhead from the virt driver\n3. ephemeral_gb in the flavor\n\nCloses-bug: #1782386\n\nChange-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa\n'}, {'number': 3, 'created': '2018-07-27 01:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f5ffad52815b4cde8ca46069109275c0ed153b6', 'message': 'compute node local_gb_used include swap disks\n\nThe ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L934\n\nBased on:\n\n1. root_gb in the flavor\n2. any disk overhead from the virt driver\n3. ephemeral_gb in the flavor\n\nCloses-bug: #1782386\n\nChange-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa\n'}, {'number': 4, 'created': '2018-07-27 04:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d7fb3ef8e14219361952533b719311a9218b9d9', 'message': 'compute node local_gb_used include swap disks\n\nThe ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L934\n\nBased on:\n\n1. root_gb in the flavor\n2. any disk overhead from the virt driver\n3. ephemeral_gb in the flavor\n\nCloses-bug: #1782386\n\nChange-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa\n'}, {'number': 5, 'created': '2018-07-27 06:47:47.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3df049cad2b7a264acbad4d6baecbc813546e5d', 'message': 'compute node local_gb_used include swap disks\n\nThe ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method, based on\n\n1. root_gb in the flavor\n2. any disk overhead from the virt driver\n3. ephemeral_gb in the flavor\n\nThe consideration of swap disk in the flavor was ignored.\n\nThis patch adds swap disk to the consideration.\n\nCloses-bug: #1782386\n\nChange-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa\n'}]",11,585928,e3df049cad2b7a264acbad4d6baecbc813546e5d,103,25,5,28708,,,0,"compute node local_gb_used include swap disks

The ComputeNode.local_gb_used value is set in the ResourceTracker._update_usage() method, based on

1. root_gb in the flavor
2. any disk overhead from the virt driver
3. ephemeral_gb in the flavor

The consideration of swap disk in the flavor was ignored.

This patch adds swap disk to the consideration.

Closes-bug: #1782386

Change-Id: I880e9daa6b97d73a0e33ac9a5bdae9bacfa89aaa
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/585928/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,7bb9cc85464cd92a9092eae1ae060db7e2cf36f5,bug/1782386," cn.local_gb_used += sign * usage.get('swap', 0) cn.memory_mb_used = CONF.reserved_host_ 'swap': object_or_dict.flavor.swap/1024,", cn.memory_mb_used = CONF.reserved_host_memory_mb,3,1
openstack%2Fnova~master~I61fe749ef20229744e1420779ae8128192704554,openstack/nova,master,I61fe749ef20229744e1420779ae8128192704554,api-ref: document user_data length restriction,MERGED,2018-07-27 01:57:23.000000000,2018-08-02 23:12:27.000000000,2018-07-30 07:48:25.000000000,"[{'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-27 01:57:23.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca7030998766ecebabb232b91066bd396cd5fadb', 'message': 'api-ref: document user_data length restriction\n\nuser_data for server create and rebuild is limited to\n65535 bytes in the schema, so we should be clear about\nthis limit in the API reference.\n\nChange-Id: I61fe749ef20229744e1420779ae8128192704554\n'}]",0,586388,ca7030998766ecebabb232b91066bd396cd5fadb,19,16,1,6873,,,0,"api-ref: document user_data length restriction

user_data for server create and rebuild is limited to
65535 bytes in the schema, so we should be clear about
this limit in the API reference.

Change-Id: I61fe749ef20229744e1420779ae8128192704554
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/586388/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,ca7030998766ecebabb232b91066bd396cd5fadb,user_data-api-ref," Configuration information or scripts to use upon launch. Must be Base64 encoded. Restricted to 65535 bytes. Must be Base64 encoded. Restricted to 65535 bytes. If ``null`` is specified, the existing user_data is unset."," Configuration information or scripts to use upon launch. Must be Base64 encoded. Must be Base64 encoded. If ``null`` is specified, the existing user_data is unset.",4,3
openstack%2Fnova~master~Ice89e9a25f74caaa53b7df079bd529d172354524,openstack/nova,master,Ice89e9a25f74caaa53b7df079bd529d172354524,[placement] Use base test in placement functional tests,MERGED,2018-07-25 15:01:17.000000000,2018-08-02 23:12:17.000000000,2018-07-27 11:49:16.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-25 15:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9358e903958ef9b71346235339cb4b7b08e3e19c', 'message': '[placement] Use base test in placement functional tests\n\nThere is now a placement.base.TestCase for placement functional tests\nwhich assembles the necessary configuration and fixtures. This change\nuses that base class in the db functional tests and extends the base\nclass as required to add all the necessary functionality.\n\nIn the process issues were exposed in the fixtures.gabbits use of\noslo_config (causing tests to fail based on fallout from changes\nelsewhere in the functional tests) so this change also fixes that\nand limits the gabbi tests to only caring about the placement database\nconnection, which is more correct and how it should have been all\nalong.\n\nChange-Id: Ice89e9a25f74caaa53b7df079bd529d172354524\n'}, {'number': 2, 'created': '2018-07-26 01:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4318e2fa2a10950814d67acfaae8cda5d2bb6d59', 'message': ""[placement] Use base test in placement functional tests\n\nThere is now a placement.base.TestCase for placement functional tests\nwhich assembles the necessary configuration and fixtures. This change\nuses that base class in the db functional tests and extends the base\nclass as required to add all the necessary functionality.\n\nIn the process issues were exposed in the fixtures.gabbits use of\noslo_config (causing tests to fail based on fallout from changes\nelsewhere in the functional tests) so this change also fixes that\nand limits the gabbi tests to only caring about the placement database\nconnection, which is more correct and how it should have been all\nalong.\n\nThis change removes the ConfPatcher fixture in fixtures.placement\nbecause it is no better than using the oslo_config provided\nfixture and was in the way while diagnosing difficulties with\ngetting these changes to work correctly.\n\nThe root cause of those problems was that placement changes were\nat cross purposes with how the nova.tests.fixtures.Database fixture\nexpects to work: The goal of these changes was to only configure\nand establish those fixtures that were strictly necessary for\nplacement in the placements tests. However, when _any_ database\nis requested from the Database fixture, the context managers for\nall of them are configured.\n\nThis means, for example, that if a placement fixture, which\noriginally was not configuring a 'connection' string for the api\nor main databases ran before a later api db fixture, the api db\nfixture would fail with no connection string available.\n\nThe quick and dirty fix is used here to fix the problem: we set\nreasonable configuration for all three database in the placement\ntests that need the placement database fixture.\n\nIn the future when placement is extracted, these problems go away\nso it does not seem worth the effort (at least not now) to\nrestructure the nova Database fixture.\n\nblueprint: placement-extract\nChange-Id: Ice89e9a25f74caaa53b7df079bd529d172354524\n""}, {'number': 3, 'created': '2018-07-26 16:54:09.000000000', 'files': ['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_class_cache.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_base.py', 'nova/tests/functional/api/openstack/placement/fixtures/placement.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f5783d90bcb0b52469d0e0ada3933271afb84e2a', 'message': ""[placement] Use base test in placement functional tests\n\nThere is now a placement.base.TestCase for placement functional tests\nwhich assembles the necessary configuration and fixtures. This change\nuses that base class in the db functional tests and extends the base\nclass as required to add all the necessary functionality.\n\nIn the process issues were exposed in the fixtures.gabbits use of\noslo_config (causing tests to fail based on fallout from changes\nelsewhere in the functional tests) so this change also fixes that\nand limits the gabbi tests to only caring about the placement database\nconnection, which is more correct and how it should have been all\nalong.\n\nThis change removes the ConfPatcher fixture in fixtures.placement\nbecause it is no better than using the oslo_config provided\nfixture and was in the way while diagnosing difficulties with\ngetting these changes to work correctly.\n\nThe root cause of those problems was that placement changes were\nat cross purposes with how the nova.tests.fixtures.Database fixture\nexpects to work: The goal of these changes was to only configure\nand establish those fixtures that were strictly necessary for\nplacement in the placements tests. However, when _any_ database\nis requested from the Database fixture, the context managers for\nall of them are configured.\n\nThis means, for example, that if a placement fixture, which\noriginally was not configuring a 'connection' string for the api\nor main databases, ran before a later api db fixture, the api db\nfixture would fail with no connection string available.\n\nThe quick and dirty fix is used here to fix the problem: we set\nreasonable configuration for all three databases in the placement\ntests that need the placement database fixture.\n\nIn the future when placement is extracted, these problems go away\nso it does not seem worth the effort (at least not now) to\nrestructure the nova Database fixture.\n\nblueprint: placement-extract\nChange-Id: Ice89e9a25f74caaa53b7df079bd529d172354524\n""}]",10,585778,f5783d90bcb0b52469d0e0ada3933271afb84e2a,36,11,3,11564,,,0,"[placement] Use base test in placement functional tests

There is now a placement.base.TestCase for placement functional tests
which assembles the necessary configuration and fixtures. This change
uses that base class in the db functional tests and extends the base
class as required to add all the necessary functionality.

In the process issues were exposed in the fixtures.gabbits use of
oslo_config (causing tests to fail based on fallout from changes
elsewhere in the functional tests) so this change also fixes that
and limits the gabbi tests to only caring about the placement database
connection, which is more correct and how it should have been all
along.

This change removes the ConfPatcher fixture in fixtures.placement
because it is no better than using the oslo_config provided
fixture and was in the way while diagnosing difficulties with
getting these changes to work correctly.

The root cause of those problems was that placement changes were
at cross purposes with how the nova.tests.fixtures.Database fixture
expects to work: The goal of these changes was to only configure
and establish those fixtures that were strictly necessary for
placement in the placements tests. However, when _any_ database
is requested from the Database fixture, the context managers for
all of them are configured.

This means, for example, that if a placement fixture, which
originally was not configuring a 'connection' string for the api
or main databases, ran before a later api db fixture, the api db
fixture would fail with no connection string available.

The quick and dirty fix is used here to fix the problem: we set
reasonable configuration for all three databases in the placement
tests that need the placement database fixture.

In the future when placement is extracted, these problems go away
so it does not seem worth the effort (at least not now) to
restructure the nova Database fixture.

blueprint: placement-extract
Change-Id: Ice89e9a25f74caaa53b7df079bd529d172354524
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/585778/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_class_cache.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_base.py']",6,9358e903958ef9b71346235339cb4b7b08e3e19c,bp/placement-extract,"from nova.tests.functional.api.openstack.placement import baseclass PlacementDbBaseTestCase(base.TestCase): # we use context in some places and ctx in other. We should only use # context, but let's paper over that for now. self.ctx = self.context","from nova.api.openstack.placement import context from nova.api.openstack.placement import deployfrom nova import test from nova.tests import fixturesclass PlacementDbBaseTestCase(test.NoDBTestCase): USES_DB_SELF = True self.useFixture(fixtures.Database()) self.placement_db = self.useFixture( fixtures.Database(database='placement')) self.ctx = context.RequestContext('fake-user', 'fake-project') # Do database syncs, such as traits sync. deploy.update_database()",40,48
openstack%2Fnova~master~Ib3038cfed9f76e396514710f4b4782ee5399ce66,openstack/nova,master,Ib3038cfed9f76e396514710f4b4782ee5399ce66,Fix signature of _FakeImageService.download,MERGED,2018-07-25 13:35:08.000000000,2018-08-02 23:12:10.000000000,2018-07-30 07:48:18.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-25 13:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/393a98e779a49dad5c0505d4bb7bebe8ea2155f8', 'message': 'Fix signature of _FakeImageService.download\n\nChange-Id: Ib3038cfed9f76e396514710f4b4782ee5399ce66\n'}, {'number': 2, 'created': '2018-07-26 13:17:55.000000000', 'files': ['nova/tests/unit/image/fake.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be2e5c8a8ea4ce8e3ccf6d986a86c5e0e9abc24c', 'message': 'Fix signature of _FakeImageService.download\n\nChange-Id: Ib3038cfed9f76e396514710f4b4782ee5399ce66\n'}]",3,585747,be2e5c8a8ea4ce8e3ccf6d986a86c5e0e9abc24c,25,12,2,9555,,,0,"Fix signature of _FakeImageService.download

Change-Id: Ib3038cfed9f76e396514710f4b4782ee5399ce66
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/585747/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/image/fake.py'],1,393a98e779a49dad5c0505d4bb7bebe8ea2155f8,trivia," def download(self, context, image_id, dst_path=None, data=None, trusted_certs=None):"," def download(self, context, image_id, dst_path=None, data=None):",2,1
openstack%2Fnova~master~I0116a593c29808a53423cc9bbe098f2661fcb584,openstack/nova,master,I0116a593c29808a53423cc9bbe098f2661fcb584,Hyper-V + OVS: plug vifs before starting VMs,MERGED,2018-07-25 07:34:40.000000000,2018-08-02 23:11:33.000000000,2018-08-02 19:06:33.000000000,"[{'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-07-25 07:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/408ffd7c71f01ad45e11085b93890f5dc8fac501', 'message': 'Hyper-V + OVS: plug vifs before starting VMs\n\nAt the moment, the Hyper-V driver will bind OVS ports only\nafter starting the VMs. This is because of an old limitation\nof the OVS Windows port, which has been addressed in OVS 2.5.\n\nThis also means that the Nova driver fails when waiting for\nneutron vif plug events, since this step is performed later.\nSo users are forced to set ""vif_plugging_is_fatal"", which means\nthat the ports will be down, at least for a short time after the\ninstance is reported as ACTIVE. This also breaks some Tempest tests.\n\nSince the Windows OVS version has been fixed, we can now bind the\nports before actually starting the VMs. Note that this fix has been\nmerged in the out-of-tree compute-hyperv some time ago.\n\nChange-Id: I0116a593c29808a53423cc9bbe098f2661fcb584\nCloses-Bug: #1684250\n'}, {'number': 2, 'created': '2018-07-25 07:50:37.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bef7e9a717f3bca45b5edd0ebc65ab1dde5942d9', 'message': 'Hyper-V + OVS: plug vifs before starting VMs\n\nAt the moment, the Hyper-V driver will bind OVS ports only after\nstarting the VMs. This is because of an old limitation of the OVS\nWindows port, which has been addressed in OVS 2.5.\n\nThis also means that the Nova driver fails when waiting for neutron\nvif plug events, since this step is performed later. So deployers\nare forced to set ""vif_plugging_is_fatal"", which means that the\nports will be down, at least for a short time after the instance is\nreported as ACTIVE. This also breaks some Tempest tests.\n\nSince the Windows OVS version has been fixed, we can now bind the\nports before actually starting the VMs. Note that this fix has been\nmerged in the out-of-tree compute-hyperv some time ago.\n\nCo-authored-by: Alin Balutoiu <abalutoiu@cloudbasesolutions.com>\n\nChange-Id: I0116a593c29808a53423cc9bbe098f2661fcb584\nCloses-Bug: #1684250\n'}]",3,585661,bef7e9a717f3bca45b5edd0ebc65ab1dde5942d9,19,11,2,8543,,,0,"Hyper-V + OVS: plug vifs before starting VMs

At the moment, the Hyper-V driver will bind OVS ports only after
starting the VMs. This is because of an old limitation of the OVS
Windows port, which has been addressed in OVS 2.5.

This also means that the Nova driver fails when waiting for neutron
vif plug events, since this step is performed later. So deployers
are forced to set ""vif_plugging_is_fatal"", which means that the
ports will be down, at least for a short time after the instance is
reported as ACTIVE. This also breaks some Tempest tests.

Since the Windows OVS version has been fixed, we can now bind the
ports before actually starting the VMs. Note that this fix has been
merged in the out-of-tree compute-hyperv some time ago.

Co-authored-by: Alin Balutoiu <abalutoiu@cloudbasesolutions.com>

Change-Id: I0116a593c29808a53423cc9bbe098f2661fcb584
Closes-Bug: #1684250
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/585661/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/virt/hyperv/vmops.py']",2,408ffd7c71f01ad45e11085b93890f5dc8fac501,bug/1684250," # This is supported starting from OVS version 2.5 self.plug_vifs(instance, network_info) # vifs are already plugged in at this point. We waited on the vif # plug event previously when we created the instance. Skip the # plug vifs during power on in this case self.power_on(instance, network_info=network_info, should_plug_vifs=False) def power_on(self, instance, block_device_info=None, network_info=None, should_plug_vifs=True): if should_plug_vifs: self.plug_vifs(instance, network_info)"," self.power_on(instance, network_info=network_info) def power_on(self, instance, block_device_info=None, network_info=None): self.plug_vifs(instance, network_info)",28,6
openstack%2Fnova~master~I8bf6ab049f15ad24a5fbf0557bd0cd8652101901,openstack/nova,master,I8bf6ab049f15ad24a5fbf0557bd0cd8652101901,doc: remove rocky-specific nova-scheduler min placement version,MERGED,2018-07-24 19:16:32.000000000,2018-08-02 23:11:21.000000000,2018-07-26 01:14:22.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-07-24 19:16:32.000000000', 'files': ['doc/source/user/placement.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc6cb06021fbfb3d5884fe95f7eef081f349e794', 'message': ""doc: remove rocky-specific nova-scheduler min placement version\n\nPer change I97215e94efdd8c05045872fb9ba7d2089dc6efb8, nova\ndoes not perform version discovery or try to deal with backlevel\nplacement versions, and the upgrade docs say that placement needs\nto be upgraded before upgrading any nova services. Because of\nthis assertion, we can remove the per-release nova-scheduler-specific\nnote in the placement upgrade notes for Rocky because while it's\naccurate for the nova-scheduler service, it might not be accurate\nfor the nova-api, nova-conductor or nova-compute services which\nalso use placement. So the best guidance is to just globally say\nthat placement must be upgraded before *any* nova services, which\nour upgrade doc already says.\n\nChange-Id: I8bf6ab049f15ad24a5fbf0557bd0cd8652101901\n""}]",1,585520,dc6cb06021fbfb3d5884fe95f7eef081f349e794,14,10,1,6873,,,0,"doc: remove rocky-specific nova-scheduler min placement version

Per change I97215e94efdd8c05045872fb9ba7d2089dc6efb8, nova
does not perform version discovery or try to deal with backlevel
placement versions, and the upgrade docs say that placement needs
to be upgraded before upgrading any nova services. Because of
this assertion, we can remove the per-release nova-scheduler-specific
note in the placement upgrade notes for Rocky because while it's
accurate for the nova-scheduler service, it might not be accurate
for the nova-api, nova-conductor or nova-compute services which
also use placement. So the best guidance is to just globally say
that placement must be upgraded before *any* nova services, which
our upgrade doc already says.

Change-Id: I8bf6ab049f15ad24a5fbf0557bd0cd8652101901
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/585520/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/placement.rst'],1,dc6cb06021fbfb3d5884fe95f7eef081f349e794,ironic-reserved-resources,,* The minimum Placement API microversion required by the *nova-scheduler* service is ``1.25`` in order to `perform granular allocation candidate requests`_. This means you must upgrade the placement service before upgrading any *nova-scheduler* services to Rocky.,0,5
openstack%2Ftripleo-ci~master~Ia25634b565c2ea6d72d095a9b2669dcf71e6e054,openstack/tripleo-ci,master,Ia25634b565c2ea6d72d095a9b2669dcf71e6e054,Add FS055 job as experimental to run refstack tests,MERGED,2018-05-29 10:35:29.000000000,2018-08-02 23:11:15.000000000,2018-08-02 23:11:15.000000000,"[{'_account_id': 8367}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-05-29 10:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e9a0fff4ee9eba8b58ef5d7ef967431a1ef73a57', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it to a experimental queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 2, 'created': '2018-06-08 05:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cd259aa1a99348728b4c9a6a7bb73a4ef58352a6', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it to a experimental queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 3, 'created': '2018-07-03 13:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5efd31e971b4e7a335a748191d8b0939097aeced', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it to a experimental queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 4, 'created': '2018-07-03 13:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7792361cdfe9e35809ab3aa9fdad8a3521f76f95', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 5, 'created': '2018-07-04 10:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4860dbdac79862cbd91add2142ef0c5a8cc76008', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 6, 'created': '2018-07-09 16:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0e03c164ec8613f38587c8c7f7567e09034d0c68', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 7, 'created': '2018-07-11 15:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf87b4160ad823f8a4033a01b1d2a6fca6987937', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 8, 'created': '2018-07-19 12:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f313957568abfcdacb8a9a4bf5f155944a0b769', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 9, 'created': '2018-07-30 05:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c6fbfbf0009421d0410f50115615659d846ed824', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 10, 'created': '2018-08-02 08:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89fc7a46763fd749ba7341a221a9e7ecdb8e9491', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}, {'number': 11, 'created': '2018-08-02 08:58:22.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/055ece4ed42fa163c3d2c89dc26b2634631bf6e7', 'message': 'Add FS055 job as experimental to run refstack tests\n\n* https://review.openstack.org/570719 adds support for running\n  refstack tests in TQE and https://review.openstack.org/570884\n  adds fs055 to run these tests.\n* This patch adds it in check/gate queue.\n* It will replace fs021 in future.\n\nDepends-On: https://review.openstack.org/570884\n\nChange-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054\n'}]",6,570892,055ece4ed42fa163c3d2c89dc26b2634631bf6e7,48,9,11,12393,,,0,"Add FS055 job as experimental to run refstack tests

* https://review.openstack.org/570719 adds support for running
  refstack tests in TQE and https://review.openstack.org/570884
  adds fs055 to run these tests.
* This patch adds it in check/gate queue.
* It will replace fs021 in future.

Depends-On: https://review.openstack.org/570884

Change-Id: Ia25634b565c2ea6d72d095a9b2669dcf71e6e054
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/570892/10 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,e9a0fff4ee9eba8b58ef5d7ef967431a1ef73a57,refstack-support, - tripleo-ci-centos-7-scenario002-multinode-oooq-container-refstack name: tripleo-ci-centos-7-scenario002-multinode-oooq-container-refstack parent: tripleo-ci-dsvm-multinode run: playbooks/tripleo-ci/run.yaml post-run: playbooks/tripleo-ci/post.yaml timeout: 10800 nodeset: legacy-centos-7-2-node branches: ^(?!stable/(newton)).*$ vars: toci_jobtype: multinode-1ctlr-featureset055 - job:,,12,0
openstack%2Fnova~master~Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8,openstack/nova,master,Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8,Add nova-manage placement sync_aggregates,MERGED,2018-06-16 13:59:56.000000000,2018-08-02 23:11:10.000000000,2018-07-25 18:56:25.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-16 13:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f233cf652f24d95e653e70b53615817c52d63d2', 'message': 'WIP: Add nova-manage placement sync_aggregates\n\nPart of blueprint placement-mirror-host-aggregates\n\nChange-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8\n'}, {'number': 2, 'created': '2018-06-16 15:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/faef5f77f037771508cbf0be1a818ba623710749', 'message': 'WIP: Add nova-manage placement sync_aggregates\n\nTODOs:\n\n- more testing (especially error cases)\n- add support for removing stale aggregates\n- consider re-using SchedulerReportClient\n  for aggregate_add_host and aggregate_remove_host\n\nPart of blueprint placement-mirror-host-aggregates\n\nChange-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8\n'}, {'number': 3, 'created': '2018-07-09 20:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/357858b178e28dad7fd8a1cb1418e1792911f7ac', 'message': 'Add nova-manage placement sync_aggregates\n\nThis adds the ""nova-manage placement sync_aggregates""\ncommand which will compare nova host aggregates to\nplacement resource provider aggregates and add any\nmissing resource provider aggregates based on the nova\nhost aggregates.\n\nAt this time, it\'s only additive in that the command\ndoes not remove resource provider aggregates if those\nmatching nodes are not found in nova host aggregates.\nThat likely needs to happen in a change that provides\nan opt-in option for that behavior since it could be\ndestructive for externally-managed provider aggregates\nfor things like ironic nodes or shared storage pools.\n\nPart of blueprint placement-mirror-host-aggregates\n\nChange-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8\n'}, {'number': 4, 'created': '2018-07-15 12:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06e057d61666ed56d4e854c178feb026faa739b4', 'message': 'Add nova-manage placement sync_aggregates\n\nThis adds the ""nova-manage placement sync_aggregates""\ncommand which will compare nova host aggregates to\nplacement resource provider aggregates and add any\nmissing resource provider aggregates based on the nova\nhost aggregates.\n\nAt this time, it\'s only additive in that the command\ndoes not remove resource provider aggregates if those\nmatching nodes are not found in nova host aggregates.\nThat likely needs to happen in a change that provides\nan opt-in option for that behavior since it could be\ndestructive for externally-managed provider aggregates\nfor things like ironic nodes or shared storage pools.\n\nPart of blueprint placement-mirror-host-aggregates\n\nChange-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8\n'}, {'number': 5, 'created': '2018-07-24 15:19:32.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/exception.py', 'releasenotes/notes/nova-manage-placement-sync-aggregates-1e6380eceda7dc9b.yaml', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/tests/functional/api/client.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa6360d68385f36062034bdd1d982e918ea33c94', 'message': 'Add nova-manage placement sync_aggregates\n\nThis adds the ""nova-manage placement sync_aggregates""\ncommand which will compare nova host aggregates to\nplacement resource provider aggregates and add any\nmissing resource provider aggregates based on the nova\nhost aggregates.\n\nAt this time, it\'s only additive in that the command\ndoes not remove resource provider aggregates if those\nmatching nodes are not found in nova host aggregates.\nThat likely needs to happen in a change that provides\nan opt-in option for that behavior since it could be\ndestructive for externally-managed provider aggregates\nfor things like ironic nodes or shared storage pools.\n\nPart of blueprint placement-mirror-host-aggregates\n\nChange-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8\n'}]",56,575912,aa6360d68385f36062034bdd1d982e918ea33c94,93,18,5,6873,,,0,"Add nova-manage placement sync_aggregates

This adds the ""nova-manage placement sync_aggregates""
command which will compare nova host aggregates to
placement resource provider aggregates and add any
missing resource provider aggregates based on the nova
host aggregates.

At this time, it's only additive in that the command
does not remove resource provider aggregates if those
matching nodes are not found in nova host aggregates.
That likely needs to happen in a change that provides
an opt-in option for that behavior since it could be
destructive for externally-managed provider aggregates
for things like ironic nodes or shared storage pools.

Part of blueprint placement-mirror-host-aggregates

Change-Id: Iac67b6bf7e46fbac02b9d3cb59efc3c59b9e56c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/575912/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,8f233cf652f24d95e653e70b53615817c52d63d2,bp/placement-mirror-host-aggregates,"from nova.compute import api as compute_api @action_description( _(""Mirrors compute host aggregates to resource provider aggregates "" ""in the Placement service. Requires the [api_database] and "" ""[placement] sections of the nova configuration file to be "" ""populated."")) @args('--verbose', action='store_true', dest='verbose', default=False, help='Provide verbose output during execution.') # TODO(mriedem): Should we make the 'remove from aggregate' behavior # optional? We know that we want to mirror hosts aggregate membership to # placement, but regarding removal, what if the operator or some external # tool added the resource provider to an aggregate but there is no matching # host aggregate, e.g. shared storage provider relationships? # TODO(mriedem): Probably want an option to pass a specific host instead of # doing all of them. def sync_aggregates(self, verbose=False): """"""Synchronizes nova host aggregates with resource provider aggregates Adds nodes to missing provider aggregates in Placement, and removes resource providers from aggregates when their corresponding node in nova is not in a host aggregate. Return codes: * 0: Successful run * 1: A host was found with more than one matching compute node record * 2: An unexpected error occurred while working with the placement API * 3: Failed updating provider aggregates in placement * 4: Host mappings not found for one or more host aggregate members * 5: Compute node records not found for one or more hosts * 6: Resource provider not found by uuid for a given host """""" # Start by getting all host aggregates. ctxt = context.get_admin_context() aggregate_api = compute_api.AggregateAPI() placement = aggregate_api.placement_client aggregates = aggregate_api.get_aggregate_list(ctxt) # Now we're going to loop over the existing compute hosts in aggregates # and check to see if their corresponding resource provider, found via # the host's compute node uuid, are in the same aggregate. If not, we # add the resource provider to the aggregate in Placement. output = lambda msg: None if verbose: output = lambda msg: print(msg) output('Filling in missing placement aggregates') unmapped_hosts = [] # keep track of any missing host mappings computes_not_found = [] # keep track of missing nodes providers_not_found = {} # map of hostname to missing provider uuid for aggregate in aggregates: output('Processing aggregate: %s' % aggregate.name) for host in aggregate.hosts: output('Processing host: %s' % host) # Get the host mapping to determine which cell it's in. try: hm = objects.HostMapping.get_by_host(ctxt, host) except exception.HostMappingNotFound: # Don't fail on this now, we can dump it at the end. unmapped_hosts.append(host) continue # Now get the compute node record for the host from the cell. with context.target_cell(ctxt, hm.cell_mapping) as cctxt: try: # There should really only be one, since only ironic # hosts can have multiple nodes, and you can't have # ironic hosts in aggregates for that reason. If we # find more than one, it's an error. nodes = objects.ComputeNodeList.get_all_by_host( cctxt, host) except exception.ComputeHostNotFound: # Don't fail on this now, we can dump it at the end. computes_not_found.append(host) continue if len(nodes) > 1: # This shouldn't happen, so we need to bail since we # won't know which node to use. print('Unexpected number of compute node records ' '(%d) found for host %s. There should only be ' 'a one-to-one mapping.' % (len(nodes), host)) return 1 rp_uuid = nodes[0].uuid # TODO(mriedem): move this all into a helper method # We've got our compute node record, so now we can look to # see if the matching resource provider, found via compute # node uuid, is in the same aggregate in placement, found via # aggregate uuid. resp = placement.get( # use 1.19 to get the generation '/resource_providers/%s/aggregates' % rp_uuid, version='1.19') if resp: body = resp.json() provider_aggregate_uuids = body['aggregates'] # The moment of truth: is the provider in the same host # aggregate relationship? aggregate_uuid = aggregate.uuid if aggregate_uuid not in provider_aggregate_uuids: # Add the resource provider to this aggregate. provider_aggregate_uuids.append(aggregate_uuid) # Now update the provider aggregates using the # generation to ensure we're conflict-free. aggregate_update_body = { 'aggregates': provider_aggregate_uuids, 'resource_provider_generation': body['resource_provider_generation'] } put_resp = placement.put( '/resource_providers/%s/aggregates', aggregate_update_body, version='1.19') if put_resp: output('Successfully added host (%s) and provider ' '(%s) to aggregate (%s).' % (host, rp_uuid, aggregate_uuid)) elif put_resp.status_code == 404: # We must have raced with a delete on the resource # provider. providers_not_found[host] = rp_uuid else: # TODO(mriedem): Handle 409 conflicts by retrying # the operation. print('Failed updating provider aggregates for ' 'host (%s), provider (%s) and aggregate ' '(%s). Error: %s' % (host, rp_uuid, aggregate_uuid, put_resp.text)) return 3 elif resp.status_code == 404: # The resource provider wasn't found. Store this for later. providers_not_found.append(rp_uuid) else: print('An error occurred getting resource provider ' 'aggregates from placement for provider %s. ' 'Error: %s' % (rp_uuid, resp.text)) return 2 # TODO(mriedem): Now do the opposite: look for provider aggregates in # placement that are *not* found in nova host aggregates and remove # them if so. # Now do our error handling. if unmapped_hosts: print('The following hosts were found in nova host aggregates ' 'but no host mappings were found in the nova API DB. Run ' '""nova-manage cell_v2 discover_hosts"" and then retry. ' 'Missing: %s' % ','.join(unmapped_hosts)) return 4 if computes_not_found: print('Unable to find matching compute_nodes record entries in ' 'the cell database for the following hosts; does the ' 'nova-compute service on each host need to be restarted? ' 'Missing: %s' % ','.join(computes_not_found)) return 5 if providers_not_found: print('Unable to find matching resource provider record in ' 'placement with uuid for the following hosts: %s' % ','.join('(%s=%s)' % (host, providers_not_found[host]) for host in sorted(providers_not_found.keys()))) return 6 ",,161,0
openstack%2Fnova~master~I621f5111d1cccf3dc2c2ea6767ce879bc286e42b,openstack/nova,master,I621f5111d1cccf3dc2c2ea6767ce879bc286e42b,Add functional tests for numa-aware-vswitches,MERGED,2018-07-17 15:28:22.000000000,2018-08-02 23:11:05.000000000,2018-07-28 12:50:33.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-17 15:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60616ef5fd4414d9a834fe745ec4f371f990beb2', 'message': 'WIP: Add functional tests for numa-aware-vswitches\n\nThis will be merged into an earlier patch.\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2018-07-18 16:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74bed91591393ae46e65b69833855801cd13de53', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}, {'number': 3, 'created': '2018-07-20 11:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68fad889a9ebcf4da6443b00889a7d9e91819b90', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}, {'number': 4, 'created': '2018-07-20 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10e948da6cb8cc82b342a8137a370cd1fc9110ac', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}, {'number': 5, 'created': '2018-07-20 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/588da7ad659ee7982a7b435ae968382aea12750b', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}, {'number': 6, 'created': '2018-07-24 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7772645db47dc94ce8335cf795ccb8ffcba02043', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}, {'number': 7, 'created': '2018-07-24 14:39:24.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0de99931bd68847937a6170da0c7da1447aaf2f', 'message': 'Add functional tests for numa-aware-vswitches\n\nAdd tests to ensure everything, from the scheduler to the compute node,\nworks in tandem. Note that some of these are currently passing when they\nshould be failing. This will be resolved once the final changes land.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b\n'}]",33,583288,a0de99931bd68847937a6170da0c7da1447aaf2f,103,20,7,15334,,,0,"Add functional tests for numa-aware-vswitches

Add tests to ensure everything, from the scheduler to the compute node,
works in tandem. Note that some of these are currently passing when they
should be failing. This will be resolved once the final changes land.

Part of blueprint numa-aware-vswitches

Change-Id: I621f5111d1cccf3dc2c2ea6767ce879bc286e42b
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/583288/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/api.py']",3,60616ef5fd4414d9a834fe745ec4f371f990beb2,bp/numa-aware-vswitches, # LOG.warning(type(self.network_api.create_resource_requests)) # LOG.warning(self.network_api.create_resource_requests) # LOG.warning(self.network_api) # assert network_metadata is None # assert network_metadata is not None ,,127,0
openstack%2Fnova~master~Ice45f64546cb05db4c6f2928af0efd484f3a6aaf,openstack/nova,master,Ice45f64546cb05db4c6f2928af0efd484f3a6aaf,libvirt: Start populating NUMACell.network_metadata field,MERGED,2018-04-26 10:23:51.000000000,2018-08-02 23:11:00.000000000,2018-07-28 12:50:26.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-26 10:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/deabe64b9a0f33ce2dd6e1f752c2a569f2030cf0', 'message': ""libvirt: Start populating NUMACell.networks field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Store additional information about networks requested at instance\n      creation\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 2, 'created': '2018-05-07 15:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5b24c244d67b9c9087525fc78959a75a70d1a81', 'message': ""libvirt: Start populating NUMACell.networks field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Store additional information about networks requested at instance\n      creation\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 3, 'created': '2018-05-10 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02e6224f21f24cf0ecb2f6da097cb3aa63a83d53', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Store additional information about networks requested at instance\n      creation\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 4, 'created': '2018-06-06 16:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06532915e422e45a10380eae43a3b36ac6f7b895', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n  [ ] Store additional information about networks requested at instance\n      creation\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 5, 'created': '2018-06-08 13:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0bdb029ab1435b1e8e2294863f4db3118b3a35c', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Store additional information about networks requested at instance\n      creation\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 6, 'created': '2018-06-11 14:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e39d34510455c86a64747c50a81e34d8bcea0731', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete step one of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [ ] Store additional information about networks requested at instance\n      creation\n  [ ] Utilize information about host network affinity and instance\n      network requests during claims\n  [ ] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 7, 'created': '2018-06-14 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c72ef6af1d4c3f5d202fa5b29ba312a11457f4b', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 8, 'created': '2018-06-15 14:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aba8b58a9e63cb647428023a9bc901d745232a40', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 9, 'created': '2018-06-15 16:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b2cfe09ce45270c83243a64f38a6e10f368e583', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 10, 'created': '2018-06-21 16:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c46506da5cf1447dd92c7f3d87540c69be0c9eeb', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 11, 'created': '2018-06-22 15:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f0bf8dee3abbe92706e2148f08ab681372c550', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 12, 'created': '2018-06-22 15:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aea18a6c10c0cfb7e5d0c9881fa9b6c995d03e4d', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 13, 'created': '2018-06-26 10:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbc6835c0366d1137c378710d677df3918454748', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 14, 'created': '2018-06-26 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05fd2187df2c103a7b866489329424af7e880c76', 'message': ""libvirt: Start populating NUMACell.network_info field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 15, 'created': '2018-06-27 16:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38e2f37dd09dbeb9f8bfc5906f629cc36f904193', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 16, 'created': '2018-07-02 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff11af58c9c514b5f27b587c1b98061861b81ef2', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 17, 'created': '2018-07-03 15:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7f8216d27ed3ccfb3209c772df6412ddcf75b4', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 18, 'created': '2018-07-06 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08ffe81293b2919da28e78618f7c74e4b3dbebb2', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 19, 'created': '2018-07-09 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6065d6502f9d034737071b7ea1e83f026c195550', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 20, 'created': '2018-07-09 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4208ea1a5d3ba5478a2662a16141774ae3688a7', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 21, 'created': '2018-07-09 16:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4050535d60c76128ea3ef4a67a57ba52948e3c16', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 22, 'created': '2018-07-12 16:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd4ffeec7ac8bf4f9c392015762b415bff9f1cfa', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 23, 'created': '2018-07-12 16:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/036a7306b71c7dacee8506fd11a8acac8170d359', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nWith this complete, we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 24, 'created': '2018-07-13 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/843aff2e602d13d9cc5d72e76e81499e9f8b8ce5', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 25, 'created': '2018-07-20 11:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eb66c1b7b37d897c3ddb80fa79ed767aa12ca43', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 26, 'created': '2018-07-20 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd04e73f3f117b592fb18080f6ff77ac7f613da2', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 27, 'created': '2018-07-24 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f12a2f173fa57728c5d4b55a23e05f56081a301', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}, {'number': 28, 'created': '2018-07-24 14:39:24.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/conf_fixture.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd334f0048c4bf26380e2ce7fb34b2d461293f2f', 'message': ""libvirt: Start populating NUMACell.network_metadata field\n\nWe're basically reading what's stored in config. Nothing too complicated\nhere, outside of the dynamic option magicness.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf\n""}]",81,564441,bd334f0048c4bf26380e2ce7fb34b2d461293f2f,394,24,28,15334,,,0,"libvirt: Start populating NUMACell.network_metadata field

We're basically reading what's stored in config. Nothing too complicated
here, outside of the dynamic option magicness.

Part of blueprint numa-aware-vswitches

Change-Id: Ice45f64546cb05db4c6f2928af0efd484f3a6aaf
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/564441/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,deabe64b9a0f33ce2dd6e1f752c2a569f2030cf0,bp/numa-aware-vswitches,"from nova import config # TODO(stephenfin): This only has one caller. Flatten it and remove the # 'mempages=False' branches def _test_get_host_numa_topology(self, mempages): self.flags(physnets=['foo', 'bar'], group='neutron') config._register_neutron_numa_opts() self.flags(numa_nodes=[0, 2], group='neutron_tunnel') self.flags(numa_nodes=[1], group='neutron_physnet_foo') self.flags(numa_nodes=[3], group='neutron_physnet_bar') self.assertEqual([], got_topo.cells[0].networks.physnets) self.assertEqual(['foo'], got_topo.cells[1].networks.physnets) self.assertEqual([], got_topo.cells[2].networks.physnets) self.assertEqual(['bar'], got_topo.cells[3].networks.physnets) self.assertTrue(got_topo.cells[0].networks.tunnel) self.assertFalse(got_topo.cells[1].networks.tunnel) self.assertTrue(got_topo.cells[2].networks.tunnel) self.assertFalse(got_topo.cells[3].networks.tunnel) "," def _test_get_host_numa_topology(self, mempages):",45,1
openstack%2Fnova~master~Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd,openstack/nova,master,Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd,tox: Silence psycopg2 warnings,MERGED,2018-07-24 13:29:11.000000000,2018-08-02 23:10:55.000000000,2018-07-30 12:53:52.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-24 13:29:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/be5e6945a79c7e2c78156ee951fc4333a60b115e', 'message': ""tox: Silence psycopg2 warnings\n\nThere's nothing we can do to fix this so simply silence it until we no\nlonger support that version.\n\nChange-Id: Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd\n""}]",0,585352,be5e6945a79c7e2c78156ee951fc4333a60b115e,18,10,1,15334,,,0,"tox: Silence psycopg2 warnings

There's nothing we can do to fix this so simply silence it until we no
longer support that version.

Change-Id: Ic7a199a1374e6f36c092e5ca6faa435aa5bf4cbd
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/585352/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,be5e6945a79c7e2c78156ee951fc4333a60b115e,trivial,# TODO(stephenfin): Remove psycopg2 when minimum constraints is bumped to 2.8 PYTHONWARNINGS = ignore::UserWarning:psycopg2,,2,0
openstack%2Fnova~master~I4890406c92f538f7a5f270f70567f12e9531a2ad,openstack/nova,master,I4890406c92f538f7a5f270f70567f12e9531a2ad,FakeLibvirtFixture: mock get_fs_info,MERGED,2018-06-29 15:43:22.000000000,2018-08-02 23:10:50.000000000,2018-07-24 16:42:47.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-29 15:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d024b433d4c6322b30b44a5202c7a03ec819da3', 'message': 'FakeLibvirtFixture: mock get_fs_info\n\nA couple of recently-written [1][2] functional tests were mocking pieces\nof the libvirt driver in ways that the existing FakeLibvirtFixture was\nalready doing [3].  This patch commonizes those tests to use the\nfixture.\n\nIn addition, while those tests were being authored, they failed\nintermittently with this symptom:\n\n...\n  File ""nova/virt/libvirt/driver.py"", line 6405, in get_available_resource\n    disk_info_dict = self._get_local_gb_info()\n  File ""nova/virt/libvirt/driver.py"", line 5663, in _get_local_gb_info\n    info = libvirt_utils.get_fs_info(CONF.instances_path)\n  File ""nova/virt/libvirt/utils.py"", line 370, in get_fs_info\n    hddinfo = os.statvfs(path)\nOSError: [Errno 2] No such file or directory: \'/home/zuul/src/git.openstack.org/openstack/nova/instances\'\n...\nTraceback (most recent call last):\n  File ""nova/tests/functional/libvirt/test_shared_resource_provider.py"", line 45, in setUp\n    self.host_uuid = self._get_provider_uuid_by_host(nodename)\n  File ""nova/tests/functional/integrated_helpers.py"", line 410, in _get_provider_uuid_by_host\n    \'os-hypervisors?hypervisor_hostname_pattern=%s\' % host).body\n  File ""nova/tests/functional/api/client.py"", line 224, in api_get\n    return APIResponse(self.api_request(relative_uri, **kwargs))\n  File ""nova/tests/functional/api/client.py"", line 206, in api_request\n    raise OpenStackApiNotFoundException(response=response)\nnova.tests.functional.api.client.OpenStackApiNotFoundException: Item not found\n\nIt was discovered that the fix was mocking get_fs_info; so this patch\nalso adds that mock to FakeLibvirtFixture to avoid the race in future\ntests using the fixture.\n\n[1] https://review.openstack.org/#/c/560459/17/nova/tests/functional/libvirt/test_shared_resource_provider.py\n[2] https://review.openstack.org/#/c/560317/17/nova/tests/functional/libvirt/test_report_cpu_traits.py\n[3] https://github.com/openstack/nova/blob/162e55d07e98990399d2c595670883ceb2d4f1a9/nova/tests/unit/virt/libvirt/fakelibvirt.py#L1533-L1537\n\nChange-Id: I4890406c92f538f7a5f270f70567f12e9531a2ad\n'}, {'number': 2, 'created': '2018-07-23 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9a0f036b32d51e620aec8a8fb7160e864592588', 'message': 'FakeLibvirtFixture: mock get_fs_info\n\nA couple of recently-written [1][2] functional tests were mocking pieces\nof the libvirt driver in ways that the existing FakeLibvirtFixture was\nalready doing [3].  This patch commonizes those tests to use the\nfixture.\n\nIn addition, while those tests were being authored, they failed\nintermittently with this symptom:\n\n...\n  File ""nova/virt/libvirt/driver.py"", line 6405, in get_available_resource\n    disk_info_dict = self._get_local_gb_info()\n  File ""nova/virt/libvirt/driver.py"", line 5663, in _get_local_gb_info\n    info = libvirt_utils.get_fs_info(CONF.instances_path)\n  File ""nova/virt/libvirt/utils.py"", line 370, in get_fs_info\n    hddinfo = os.statvfs(path)\nOSError: [Errno 2] No such file or directory: \'/home/zuul/src/git.openstack.org/openstack/nova/instances\'\n...\nTraceback (most recent call last):\n  File ""nova/tests/functional/libvirt/test_shared_resource_provider.py"", line 45, in setUp\n    self.host_uuid = self._get_provider_uuid_by_host(nodename)\n  File ""nova/tests/functional/integrated_helpers.py"", line 410, in _get_provider_uuid_by_host\n    \'os-hypervisors?hypervisor_hostname_pattern=%s\' % host).body\n  File ""nova/tests/functional/api/client.py"", line 224, in api_get\n    return APIResponse(self.api_request(relative_uri, **kwargs))\n  File ""nova/tests/functional/api/client.py"", line 206, in api_request\n    raise OpenStackApiNotFoundException(response=response)\nnova.tests.functional.api.client.OpenStackApiNotFoundException: Item not found\n\nIt was discovered that the fix was mocking get_fs_info; so this patch\nalso adds that mock to FakeLibvirtFixture to avoid the race in future\ntests using the fixture.\n\n[1] https://review.openstack.org/#/c/560459/17/nova/tests/functional/libvirt/test_shared_resource_provider.py\n[2] https://review.openstack.org/#/c/560317/17/nova/tests/functional/libvirt/test_report_cpu_traits.py\n[3] https://github.com/openstack/nova/blob/162e55d07e98990399d2c595670883ceb2d4f1a9/nova/tests/unit/virt/libvirt/fakelibvirt.py#L1533-L1537\n\nChange-Id: I4890406c92f538f7a5f270f70567f12e9531a2ad\n'}, {'number': 3, 'created': '2018-07-24 12:37:59.000000000', 'files': ['nova/tests/functional/libvirt/test_shared_resource_provider.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23fd6c2287f1e68336e7752246999de739b9f7c0', 'message': 'FakeLibvirtFixture: mock get_fs_info\n\nA couple of recently-written [1][2] functional tests were mocking pieces\nof the libvirt driver in ways that the existing FakeLibvirtFixture was\nalready doing [3].  This patch commonizes those tests to use the\nfixture.\n\nIn addition, while those tests were being authored, they failed\nintermittently with this symptom:\n\n...\n  File ""nova/virt/libvirt/driver.py"", line 6405, in get_available_resource\n    disk_info_dict = self._get_local_gb_info()\n  File ""nova/virt/libvirt/driver.py"", line 5663, in _get_local_gb_info\n    info = libvirt_utils.get_fs_info(CONF.instances_path)\n  File ""nova/virt/libvirt/utils.py"", line 370, in get_fs_info\n    hddinfo = os.statvfs(path)\nOSError: [Errno 2] No such file or directory: \'/home/zuul/src/git.openstack.org/openstack/nova/instances\'\n...\nTraceback (most recent call last):\n  File ""nova/tests/functional/libvirt/test_shared_resource_provider.py"", line 45, in setUp\n    self.host_uuid = self._get_provider_uuid_by_host(nodename)\n  File ""nova/tests/functional/integrated_helpers.py"", line 410, in _get_provider_uuid_by_host\n    \'os-hypervisors?hypervisor_hostname_pattern=%s\' % host).body\n  File ""nova/tests/functional/api/client.py"", line 224, in api_get\n    return APIResponse(self.api_request(relative_uri, **kwargs))\n  File ""nova/tests/functional/api/client.py"", line 206, in api_request\n    raise OpenStackApiNotFoundException(response=response)\nnova.tests.functional.api.client.OpenStackApiNotFoundException: Item not found\n\nIt was discovered that the fix was mocking get_fs_info; so this patch\nalso adds that mock to FakeLibvirtFixture to avoid the race in future\ntests using the fixture.\n\n[1] https://review.openstack.org/#/c/560459/17/nova/tests/functional/libvirt/test_shared_resource_provider.py\n[2] https://review.openstack.org/#/c/560317/17/nova/tests/functional/libvirt/test_report_cpu_traits.py\n[3] https://github.com/openstack/nova/blob/162e55d07e98990399d2c595670883ceb2d4f1a9/nova/tests/unit/virt/libvirt/fakelibvirt.py#L1533-L1537\n\nChange-Id: I4890406c92f538f7a5f270f70567f12e9531a2ad\n'}]",4,579201,23fd6c2287f1e68336e7752246999de739b9f7c0,31,12,3,14070,,,0,"FakeLibvirtFixture: mock get_fs_info

A couple of recently-written [1][2] functional tests were mocking pieces
of the libvirt driver in ways that the existing FakeLibvirtFixture was
already doing [3].  This patch commonizes those tests to use the
fixture.

In addition, while those tests were being authored, they failed
intermittently with this symptom:

...
  File ""nova/virt/libvirt/driver.py"", line 6405, in get_available_resource
    disk_info_dict = self._get_local_gb_info()
  File ""nova/virt/libvirt/driver.py"", line 5663, in _get_local_gb_info
    info = libvirt_utils.get_fs_info(CONF.instances_path)
  File ""nova/virt/libvirt/utils.py"", line 370, in get_fs_info
    hddinfo = os.statvfs(path)
OSError: [Errno 2] No such file or directory: '/home/zuul/src/git.openstack.org/openstack/nova/instances'
...
Traceback (most recent call last):
  File ""nova/tests/functional/libvirt/test_shared_resource_provider.py"", line 45, in setUp
    self.host_uuid = self._get_provider_uuid_by_host(nodename)
  File ""nova/tests/functional/integrated_helpers.py"", line 410, in _get_provider_uuid_by_host
    'os-hypervisors?hypervisor_hostname_pattern=%s' % host).body
  File ""nova/tests/functional/api/client.py"", line 224, in api_get
    return APIResponse(self.api_request(relative_uri, **kwargs))
  File ""nova/tests/functional/api/client.py"", line 206, in api_request
    raise OpenStackApiNotFoundException(response=response)
nova.tests.functional.api.client.OpenStackApiNotFoundException: Item not found

It was discovered that the fix was mocking get_fs_info; so this patch
also adds that mock to FakeLibvirtFixture to avoid the race in future
tests using the fixture.

[1] https://review.openstack.org/#/c/560459/17/nova/tests/functional/libvirt/test_shared_resource_provider.py
[2] https://review.openstack.org/#/c/560317/17/nova/tests/functional/libvirt/test_report_cpu_traits.py
[3] https://github.com/openstack/nova/blob/162e55d07e98990399d2c595670883ceb2d4f1a9/nova/tests/unit/virt/libvirt/fakelibvirt.py#L1533-L1537

Change-Id: I4890406c92f538f7a5f270f70567f12e9531a2ad
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/579201/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_shared_resource_provider.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py']",3,3d024b433d4c6322b30b44a5202c7a03ec819da3,bp/report-cpu-features-as-traits, self.useFixture(fakelibvirt.FakeLibvirtFixture(stub_os_vif=False))," self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.libvirt', fakelibvirt)) self.useFixture(fixtures.MonkeyPatch('nova.virt.libvirt.host.libvirt', fakelibvirt)) self.useFixture( fixtures.MockPatch('nova.virt.libvirt.utils.get_fs_info')) ",5,15
openstack%2Fnova~master~I3899a0597c75f19cf55d696790ac31a5103db18f,openstack/nova,master,I3899a0597c75f19cf55d696790ac31a5103db18f,Blacklist greenlet 0.4.14,MERGED,2018-07-23 19:53:04.000000000,2018-08-02 23:10:41.000000000,2018-07-24 16:06:41.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 7979}, {'_account_id': 9008}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 11929}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16710}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25f77cd350fec12e4062fa9770c4f8e0f6d7e7c', 'message': ""Blacklist greenlet 0.4.14\n\nDue to an issue introduced with greenlet 0.4.14 and\ngcc on ppc64le systems, we can't run powerkvm or\npowervm third party CI, so this change blacklists the\n0.4.14 version until the issue [1] is resolved.\n\nThe related upper-constraints change is at [2].\n\n[1] https://github.com/python-greenlet/greenlet/issues/136\n[2] https://review.openstack.org/584881/\n\nChange-Id: I3899a0597c75f19cf55d696790ac31a5103db18f\n""}, {'number': 2, 'created': '2018-07-24 03:02:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/4aad363fe41725c3267981989d987d6257169a6f', 'message': ""Blacklist greenlet 0.4.14\n\nDue to an issue introduced with greenlet 0.4.14 and\ngcc on ppc64le systems, we can't run powerkvm or\npowervm third party CI, so this change blacklists the\n0.4.14 version until the issue [1] is resolved.\n\nThe related upper-constraints change is at [2].\n\n[1] https://github.com/python-greenlet/greenlet/issues/136\n[2] https://review.openstack.org/584881/\n\nDepends-On: https://review.openstack.org/584881\nChange-Id: I3899a0597c75f19cf55d696790ac31a5103db18f\n""}]",0,585016,4aad363fe41725c3267981989d987d6257169a6f,35,19,2,6873,,,0,"Blacklist greenlet 0.4.14

Due to an issue introduced with greenlet 0.4.14 and
gcc on ppc64le systems, we can't run powerkvm or
powervm third party CI, so this change blacklists the
0.4.14 version until the issue [1] is resolved.

The related upper-constraints change is at [2].

[1] https://github.com/python-greenlet/greenlet/issues/136
[2] https://review.openstack.org/584881/

Depends-On: https://review.openstack.org/584881
Change-Id: I3899a0597c75f19cf55d696790ac31a5103db18f
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/585016/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a25f77cd350fec12e4062fa9770c4f8e0f6d7e7c,bp/report-cpu-features-as-traits,"# NOTE(mriedem): greenlet 0.4.14 does not work with older versions of gcc on # ppc64le systems, see https://github.com/python-greenlet/greenlet/issues/136. greenlet>=0.4.10,!=0.4.14 # MIT",greenlet>=0.4.10 # MIT,3,1
openstack%2Fnova~master~I795706a8f78ab4154bd39ce6259901800b34890e,openstack/nova,master,I795706a8f78ab4154bd39ce6259901800b34890e,Enhance doc to guide user to use nova user,MERGED,2018-07-17 06:31:04.000000000,2018-08-02 23:10:29.000000000,2018-07-24 06:21:56.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-17 06:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2441621c5f811318eec75d29cc35bbf37bc642e6', 'message': ""Enhance doc to guide user to use nova user\n\nthe document doesn't follow previous pattent to guide use\nin using nova user to execute command and lead to issue\n\nChange-Id: I795706a8f78ab4154bd39ce6259901800b34890e\nCloses-Bug: 1781573\n""}, {'number': 2, 'created': '2018-07-23 23:48:34.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0546870cd667bc54e41cb3c603d6b176a68b56c', 'message': ""Enhance doc to guide user to use nova user\n\nThe document doesn't follow previous pattern to guide use\nin using nova user to execute command and lead to issue\n\nChange-Id: I795706a8f78ab4154bd39ce6259901800b34890e\nCloses-Bug: 1781573\n""}]",1,583115,e0546870cd667bc54e41cb3c603d6b176a68b56c,25,12,2,6062,,,0,"Enhance doc to guide user to use nova user

The document doesn't follow previous pattern to guide use
in using nova user to execute command and lead to issue

Change-Id: I795706a8f78ab4154bd39ce6259901800b34890e
Closes-Bug: 1781573
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/583115/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst']",3,2441621c5f811318eec75d29cc35bbf37bc642e6,bug/1781573," # su -s /bin/sh -c ""nova-manage cell_v2 list_cells"" nova", # nova-manage cell_v2 list_cells,3,3
openstack%2Fneutron~master~I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1,openstack/neutron,master,I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1,[Fullstack] Use string for global_physnet_mtu config option,MERGED,2018-07-20 15:48:38.000000000,2018-08-02 23:09:42.000000000,2018-07-26 07:34:19.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-07-20 15:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cabd433766e2263a269ae281e3dc86078ba44ad4', 'message': '[Fullstack] Use string for global_physnet_mtu config option\n\nThis was added in Ia838d2a661c5098f90b58b2cb31557f2ebf78868 and breaks\nconfig parser with python3\n\nChange-Id: I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1\n'}, {'number': 2, 'created': '2018-07-23 09:15:45.000000000', 'files': ['neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d06c63e74a8ded495a064349951097f33d8fb49', 'message': '[Fullstack] Use string for global_physnet_mtu config option\n\nThis was added in Ia838d2a661c5098f90b58b2cb31557f2ebf78868 and breaks\nconfig parser with python3\n\nCloses-Bug: #1783095\nChange-Id: I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1\n'}]",3,584431,3d06c63e74a8ded495a064349951097f33d8fb49,28,10,2,21798,,,0,"[Fullstack] Use string for global_physnet_mtu config option

This was added in Ia838d2a661c5098f90b58b2cb31557f2ebf78868 and breaks
config parser with python3

Closes-Bug: #1783095
Change-Id: I1cd054edb32e7ccf3bd3a356ed535a4a6003a9a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/584431/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/config.py'],1,cabd433766e2263a269ae281e3dc86078ba44ad4,bug/1783095," 'global_physnet_mtu': str(env_desc.global_mtu),"," 'global_physnet_mtu': env_desc.global_mtu,",1,1
openstack%2Fswift~stable%2Fpike~Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,openstack/swift,stable/pike,Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7,py36: Fix test_get_logger_sysloghandler_plumbing,MERGED,2018-07-24 18:32:41.000000000,2018-08-02 23:09:36.000000000,2018-08-02 23:09:36.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 18:32:41.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6b6940007c587d8aa69471ceda501b9e50105803', 'message': 'py36: Fix test_get_logger_sysloghandler_plumbing\n\nChange-Id: Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7\n(cherry picked from commit 1318bacc177d060f95b244cc2a1075fe43d4699a)\n'}]",0,585508,6b6940007c587d8aa69471ceda501b9e50105803,8,4,1,15343,,,0,"py36: Fix test_get_logger_sysloghandler_plumbing

Change-Id: Ibdb9e2bbec1c962d930a3f69fc95a8c562ac13b7
(cherry picked from commit 1318bacc177d060f95b244cc2a1075fe43d4699a)
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/585508/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,6b6940007c587d8aa69471ceda501b9e50105803,," # Some versions of python perform host resolution while initializing # the handler. See https://bugs.python.org/issue30378 orig_getaddrinfo = socket.getaddrinfo def fake_getaddrinfo(host, *args): return orig_getaddrinfo('localhost', *args) syslog_handler_catcher), \ mock.patch.object(socket, 'getaddrinfo', fake_getaddrinfo):", syslog_handler_catcher):,9,1
openstack%2Fswift~stable%2Fpike~I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9,openstack/swift,stable/pike,I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9,Clean up a couple hand-rolled mocks.,MERGED,2018-07-24 18:32:41.000000000,2018-08-02 23:09:35.000000000,2018-08-02 23:09:35.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 18:32:41.000000000', 'files': ['test/unit/common/ring/test_ring.py', 'test/unit/common/test_bufferedhttp.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1e6645dc9db74d0488628bac36985ced21b4939e', 'message': 'Clean up a couple hand-rolled mocks.\n\nChange-Id: I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9\n(cherry picked from commit 9c97c80b2631bedebbd3196e87f0696a6c67b8be)\n'}]",0,585507,1e6645dc9db74d0488628bac36985ced21b4939e,9,5,1,15343,,,0,"Clean up a couple hand-rolled mocks.

Change-Id: I6582985990e8b5e3a0c65bce5d3bb1e39d58dfb9
(cherry picked from commit 9c97c80b2631bedebbd3196e87f0696a6c67b8be)
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/585507/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/ring/test_ring.py', 'test/unit/common/test_bufferedhttp.py', 'test/unit/common/test_utils.py']",3,1e6645dc9db74d0488628bac36985ced21b4939e,," with mock.patch.object(utils, 'ThreadSafeSysLogHandler', syslog_handler_catcher): with patch.object(utils, '_sys_fallocate', FallocateWrapper()):", try: utils.ThreadSafeSysLogHandler = syslog_handler_catcher finally: utils.ThreadSafeSysLogHandler = orig_sysloghandler orig__sys_fallocate = utils._sys_fallocate try: finally: utils._sys_fallocate = orig__sys_fallocate,8,24
openstack%2Fswift~stable%2Fpike~Idc01970b37d1b77e1d48f9c4f4979f63ee771093,openstack/swift,stable/pike,Idc01970b37d1b77e1d48f9c4f4979f63ee771093,Make X-Backend-Replication consistent for HEAD,MERGED,2018-07-30 17:54:48.000000000,2018-08-02 23:09:33.000000000,2018-08-02 23:09:33.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 22348}, {'_account_id': 23449}]","[{'number': 1, 'created': '2018-07-30 17:54:48.000000000', 'files': ['swift/obj/server.py', 'test/unit/obj/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/933fbf91539ec485ceca3b29d3623f7c0c77523a', 'message': 'Make X-Backend-Replication consistent for HEAD\n\nCurrent an X-Backend-Replication GET request for an expired object will\nstill open the expired datafile and return the object, but HEAD request\nwith the same headers will 404.  This can lead to some bad assumptions\nin probetests and other places where we make direct HEAD requests\n\nN.B. Because SSYNC replication does not make any HEAD requests this\nchange is immaterial to the correctness of the consistency engine.\n\nRelated-Change-Id: I7f90b732c3268cb852b64f17555c631d668044a8\nChange-Id: Idc01970b37d1b77e1d48f9c4f4979f63ee771093\n(cherry picked from commit 2e0ca543e8c74fa7e99d79cdd6e8509c58e7dad3)\n'}]",0,587179,933fbf91539ec485ceca3b29d3623f7c0c77523a,8,4,1,9625,,,0,"Make X-Backend-Replication consistent for HEAD

Current an X-Backend-Replication GET request for an expired object will
still open the expired datafile and return the object, but HEAD request
with the same headers will 404.  This can lead to some bad assumptions
in probetests and other places where we make direct HEAD requests

N.B. Because SSYNC replication does not make any HEAD requests this
change is immaterial to the correctness of the consistency engine.

Related-Change-Id: I7f90b732c3268cb852b64f17555c631d668044a8
Change-Id: Idc01970b37d1b77e1d48f9c4f4979f63ee771093
(cherry picked from commit 2e0ca543e8c74fa7e99d79cdd6e8509c58e7dad3)
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/587179/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/obj/test_server.py']",2,933fbf91539ec485ceca3b29d3623f7c0c77523a,fix-replication-head-stable/pike," expected = { 'GET': 'TEST', 'HEAD': '', } for meth, expected_body in expected.items(): req = Request.blank( '/sda1/p/a/c/o', method=meth, headers={'X-Timestamp': normalize_timestamp(now + 2), 'X-Backend-Replication': 'True'}) resp = req.get_response(self.object_controller) self.assertEqual(resp.status_int, 200) self.assertEqual(expected_body, resp.body)"," req = Request.blank( '/sda1/p/a/c/o', environ={'REQUEST_METHOD': 'GET'}, headers={'X-Timestamp': normalize_timestamp(now + 2), 'X-Backend-Replication': 'True'}) resp = req.get_response(self.object_controller) self.assertEqual(resp.status_int, 200) self.assertEqual('TEST', resp.body)",15,9
openstack%2Fnova~master~I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0,openstack/nova,master,I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0,Rename auth_uri to www_authenticate_uri,MERGED,2018-06-20 10:55:51.000000000,2018-08-02 23:09:24.000000000,2018-07-23 18:27:37.000000000,"[{'_account_id': 5046}, {'_account_id': 7634}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25564}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-20 10:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/380416b6c590891dc9867d754a1a466391e0e114', 'message': ""Rename auth_uri to www_authenticate_uri\n\nKeystone deprecated 'auth_uri' to bring 'www_authenticate_uri',\nso 'auth_uri' should be removed from all openstack projects.\n\nChange-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0\nRelated-Bug: https://storyboard-dev.openstack.org/#!/story/1755728\n""}, {'number': 2, 'created': '2018-06-20 11:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3faae341068983b37ec1cb160e3ec7ce3625a73c', 'message': ""Rename auth_uri to www_authenticate_uri\n\nKeystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in\nhttps://review.openstack.org/#/c/508522/, so 'auth_uri'\nshould be removed from all openstack projects.\n\nChange-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0\nRelated-Bug: 1755728\n""}, {'number': 3, 'created': '2018-06-22 10:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/363a69b4fff0a9fc825313bf124ec987a8e840b5', 'message': ""Rename auth_uri to www_authenticate_uri\n\nKeystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in\nhttps://review.openstack.org/#/c/508522/, so 'auth_uri'\nshould be removed from all openstack projects.\n\nChange-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0\nRelated-Bug: 1755728\n""}, {'number': 4, 'created': '2018-06-29 01:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b533a4109350aaa5c41eed78f7c7e76a1777de71', 'message': ""Rename auth_uri to www_authenticate_uri\n\nKeystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in\nhttps://review.openstack.org/#/c/508522/, so 'auth_uri'\nshould be removed from all openstack projects. And it should be\n'auth_url' rather than 'www_authenticate_uri' in api/client.\n\nChange-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0\nRelated-Bug: 1755728\n""}, {'number': 5, 'created': '2018-07-23 02:19:40.000000000', 'files': ['nova/tests/unit/api/openstack/placement/test_deploy.py', 'nova/tests/functional/api/client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59d5eb125b3ca900dcb666318e9e9f92a7926024', 'message': ""Rename auth_uri to www_authenticate_uri\n\nKeystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in\nhttps://review.openstack.org/#/c/508522/, so 'auth_uri'\nshould be removed from all openstack projects.\nThe auth_url is the parameter passed to the keystoneauth plugin\nand the auth_uri is the parameter specific to keystonemiddleware,\nso the auth_url would be appropriate in api/client since that's\ngoing to be passed straight to keystoneauth, and it should be\nthe same in api/client and in the fixture. So we change the\nparameter to auth_url in api/client instead of www_authenticate_uri.\n\nChange-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0\nRelated-Bug: 1755728\n""}]",25,576820,59d5eb125b3ca900dcb666318e9e9f92a7926024,71,21,5,25564,,,0,"Rename auth_uri to www_authenticate_uri

Keystone deprecated 'auth_uri' to bring 'www_authenticate_uri' in
https://review.openstack.org/#/c/508522/, so 'auth_uri'
should be removed from all openstack projects.
The auth_url is the parameter passed to the keystoneauth plugin
and the auth_uri is the parameter specific to keystonemiddleware,
so the auth_url would be appropriate in api/client since that's
going to be passed straight to keystoneauth, and it should be
the same in api/client and in the fixture. So we change the
parameter to auth_url in api/client instead of www_authenticate_uri.

Change-Id: I7f878974fe8bebb8fe5803ca4e2f8839cdc971d0
Related-Bug: 1755728
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/576820/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/placement/test_deploy.py', 'nova/tests/functional/api/client.py']",2,380416b6c590891dc9867d754a1a466391e0e114,bug/1755728," def __init__(self, auth_user, auth_key, www_authenticate_uri, self.www_authenticate_uri = www_authenticate_uri www_authenticate_uri = self.www_authenticate_uri response = self.request(www_authenticate_uri, LOG.debug(""%()s => code %(http_status)s"", {'www_authenticate_uri': www_authenticate_uri, 'http_status': http_status})"," def __init__(self, auth_user, auth_key, auth_uri, self.auth_uri = auth_uri auth_uri = self.auth_uri response = self.request(auth_uri, LOG.debug(""%(auth_uri)s => code %(http_status)s"", {'auth_uri': auth_uri, 'http_status': http_status})",11,9
openstack%2Fnova~master~Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7,openstack/nova,master,Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7,docs: add nova host-evacuate command to evacuate documentation,MERGED,2018-06-26 09:04:46.000000000,2018-08-02 23:09:11.000000000,2018-07-21 07:56:35.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26431}, {'_account_id': 26515}, {'_account_id': 26693}]","[{'number': 1, 'created': '2018-06-26 09:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a85cab583c81e740fe5355ef0747f6162b68b1da', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 2, 'created': '2018-07-11 14:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70c2816707202cbdcf105b83e389913e3c5d84de', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 3, 'created': '2018-07-11 15:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe1792921ee77ec364412e4f1f64bf32088c1c7', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 4, 'created': '2018-07-18 14:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3c8610eea4b1f76c105af9b512c808962c72136', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 5, 'created': '2018-07-19 12:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a4b81c443db819c78d132e9ed9ead2836f485c', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 6, 'created': '2018-07-19 14:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df294a51628332db788a3997ac5de48eeeb76066', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 7, 'created': '2018-07-19 22:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91b8cf5fd08e9ff7dc9e155feca2f0a6f154b4a4', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 8, 'created': '2018-07-19 22:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2209a66ace4432633982db38959d128ed68d088e', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 9, 'created': '2018-07-20 09:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b71b36dbdfc2eceaf8e91210802c5d8c1c10ec', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}, {'number': 10, 'created': '2018-07-20 22:05:44.000000000', 'files': ['doc/source/admin/evacuate.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8e8988072306f77fbaaef97a820b0e7c78ef99', 'message': 'docs: add nova host-evacuate command to evacuate documentation\n\nSplit up the evacuate instance documentation into two parts. One\nfor the existing single instance evacuation and a second new part\nfor the nova host-evacuate procedure.\n\nChange-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7\nCloses-Bug: #1763039\n'}]",39,578040,7b8e8988072306f77fbaaef97a820b0e7c78ef99,112,17,10,26693,,,0,"docs: add nova host-evacuate command to evacuate documentation

Split up the evacuate instance documentation into two parts. One
for the existing single instance evacuation and a second new part
for the nova host-evacuate procedure.

Change-Id: Ibcdc2bc3f08e2fab23b9821feae0f489fb64a8f7
Closes-Bug: #1763039
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/578040/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/evacuate-single-instance.rst', 'doc/source/admin/evacuate.rst', 'doc/source/admin/evacuate-all-instances.rst']",3,a85cab583c81e740fe5355ef0747f6162b68b1da,bug/1763039,"====================== Evacuate all instances ====================== Below procedure explains how to evacuate all instances from a failed compute node. Please note that this guide should not be used if the instance is still up and running. #. To find a host for the evacuated instance, list all hosts: .. code-block:: console $ openstack host list #. Evacuate all instances from the failed compute node to ``HOST_B``: .. code-block:: console $ nova host-evacuate --target_host HOST_B EVACUATED_SERVER_NAME The option ``--target_host`` is optional and can be omited to let the scheduler decide where to place the instance. ",,83,40
openstack%2Fneutron~stable%2Focata~I2acc9c720b39271bde2a89da4a66958f7aba5b7d,openstack/neutron,stable/ocata,I2acc9c720b39271bde2a89da4a66958f7aba5b7d,Reduce IP address collision during port creating,MERGED,2018-07-20 10:36:07.000000000,2018-08-02 23:08:53.000000000,2018-07-30 17:29:10.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 10:36:07.000000000', 'files': ['neutron/ipam/drivers/neutrondb_ipam/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3df69ec9f608e87a551f94e4ba6cc35224fbe5fd', 'message': 'Reduce IP address collision during port creating\n\nTry to give it a large random chance during generate IP\naddress.\n\nThe DB retry mechanism change moved to neutron-lib:\nI5ad139bdfb3ae125658b36d05f85f139a1b47bee\n\nCloses-Bug: #1777968\nChange-Id: I2acc9c720b39271bde2a89da4a66958f7aba5b7d\n(cherry picked from commit ec5cd0d1b85d56adef836bf1167287993ec35ca6)\n'}]",0,584309,3df69ec9f608e87a551f94e4ba6cc35224fbe5fd,16,9,1,11975,,,0,"Reduce IP address collision during port creating

Try to give it a large random chance during generate IP
address.

The DB retry mechanism change moved to neutron-lib:
I5ad139bdfb3ae125658b36d05f85f139a1b47bee

Closes-Bug: #1777968
Change-Id: I2acc9c720b39271bde2a89da4a66958f7aba5b7d
(cherry picked from commit ec5cd0d1b85d56adef836bf1167287993ec35ca6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/584309/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/ipam/drivers/neutrondb_ipam/driver.py'],1,3df69ec9f608e87a551f94e4ba6cc35224fbe5fd,bug/1777968," window = min(av_set.size, 30) allocated_ip = candidate_ips[ random.randint(0, len(candidate_ips) - 1)]"," window = min(av_set.size, 10) allocated_ip = candidate_ips[-1]",3,2
openstack%2Fnova~master~I077304f4c2d4e50450eb6c6bf4ec427a407bea20,openstack/nova,master,I077304f4c2d4e50450eb6c6bf4ec427a407bea20,Remove stevedore extensions server_create method,MERGED,2018-07-19 08:20:44.000000000,2018-08-02 23:08:40.000000000,2018-07-26 07:53:14.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-19 08:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8a99d70ab7eb488e5e6a3b1152483ef59412119', 'message': 'Remove stevedore extensions server_create method\n\nAll the server_create extensions has been merged in\nserver main controller.\n\nThis commit removes the stevedore extensions detection\nmethod from server controller.\n\nThis is completion of part-2 of extension merge work.\n\nRemaining part in this BP is to merge the response extensions\nwhich is last part of this work.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I077304f4c2d4e50450eb6c6bf4ec427a407bea20\n'}, {'number': 2, 'created': '2018-07-20 01:21:03.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef37ed2c99a7285f022df2400fd88ba63da69629', 'message': 'Remove stevedore extensions server_create method\n\nAll the server_create extensions has been merged in\nserver main controller.\n\nThis commit removes the stevedore extensions detection\nmethod from server controller.\n\nThis is completion of part-2 of extension merge work.\n\nRemaining part in this BP is to merge the response extensions\nwhich is last part of this work.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: I077304f4c2d4e50450eb6c6bf4ec427a407bea20\n'}]",6,583882,ef37ed2c99a7285f022df2400fd88ba63da69629,101,20,2,8556,,,0,"Remove stevedore extensions server_create method

All the server_create extensions has been merged in
server main controller.

This commit removes the stevedore extensions detection
method from server controller.

This is completion of part-2 of extension merge work.

Remaining part in this BP is to merge the response extensions
which is last part of this work.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: I077304f4c2d4e50450eb6c6bf4ec427a407bea20
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/583882/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,d8a99d70ab7eb488e5e6a3b1152483ef59412119,bp/api-extensions-merge-rocky,," # NOTE(alex_xu): Please do not add more items into this list. This list # should be removed in the future. server_create_func_list = [] # TODO(alex_xu): This is for back-compatible with stevedore # extension interface. But the final goal is that merging # all of extended code into ServersController. self._create_by_func_list(server_dict, create_kwargs, body) # NOTE(gmann): Parameter 'req_body' is placed to handle scheduler_hint # extension for V2.1. No other extension supposed to use this as # it will be removed soon. def _create_by_func_list(self, server_dict, create_kwargs, req_body): for func in self.server_create_func_list: func(server_dict, create_kwargs, req_body) ",0,16
openstack%2Fneutron~master~I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1,openstack/neutron,master,I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1,Add binding activation to the Linuxbridge agent,MERGED,2018-06-24 03:59:41.000000000,2018-08-02 23:08:30.000000000,2018-07-24 06:06:47.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26431}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-06-24 03:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/030a31dafb8ff872b28ecd34e75a7432f8052b64', 'message': '[DNM] Add binding activation to common agent loop\n\nAdd binding activation to common agent loop\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\n'}, {'number': 2, 'created': '2018-06-25 01:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2242b5996fc79b31cbd061f8f13e77c544f851ee', 'message': '[DNM] Add binding activation to common agent loop\n\nAdd binding activation to common agent loop\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\n'}, {'number': 3, 'created': '2018-06-25 20:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ccd28b04452d6721d68874ef9942998171539bb', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 4, 'created': '2018-06-26 21:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/233ad9b66714cfb3c9dd69256c97a2f2393cf478', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 5, 'created': '2018-06-26 21:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c0ba39e836cb90cbfcf4ed95f7dce797ef53a21', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 6, 'created': '2018-06-26 21:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d219c7321745b0cd7307e39351097a402337e028', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 7, 'created': '2018-07-02 00:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b280d236abfcd5283b3cb081f09f5a8e72ce4149', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 8, 'created': '2018-07-02 19:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00965f139ced4f43e7f2e42109ff6f262e7017d1', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 9, 'created': '2018-07-06 22:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61952c8e6b014c85a0bf88c27e770742496f9ccb', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 10, 'created': '2018-07-10 22:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f76191780ee535e82417b96dc5d1fc8cf617f59', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 11, 'created': '2018-07-14 22:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3496dd9701e971f7830c0ead28a020761c64e110', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 12, 'created': '2018-07-18 17:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50557cc7bde6cf33d7f36ae022ad3c4323cf45df', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}, {'number': 13, 'created': '2018-07-19 20:14:27.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'releasenotes/notes/add-multiple-port-bindings-f16eb47ebdddff2d.yaml', 'neutron/tests/unit/plugins/ml2/drivers/agent/test__common_agent.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b', 'message': 'Add binding activation to the Linuxbridge agent\n\nAs part of the implementation of multiple port bindings [1], add binding\nactivation support to the linux bridge agent. This will enable the\nexecution with linux bridge agents of the complete sequence of steps\noutlined in [1] during an instance migration:\n\n1) Create inactive port bindings for destination host\n2) Migrate the instance to the destination host and plug its VIFs\n3) Activate the port bindings in the destination host\n4) Delete the port bindings for the source host\n\n[1] https://review.openstack.org/#/c/309416/\n\nChange-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1\nPartial-Bug: #1580880\n'}]",17,577637,f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b,94,16,13,4694,,,0,"Add binding activation to the Linuxbridge agent

As part of the implementation of multiple port bindings [1], add binding
activation support to the linux bridge agent. This will enable the
execution with linux bridge agents of the complete sequence of steps
outlined in [1] during an instance migration:

1) Create inactive port bindings for destination host
2) Migrate the instance to the destination host and plug its VIFs
3) Activate the port bindings in the destination host
4) Delete the port bindings for the source host

[1] https://review.openstack.org/#/c/309416/

Change-Id: I2c937cc0a551e5ce0e8534c4dd4384ec2ca92da1
Partial-Bug: #1580880
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/577637/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/agent/test__common_agent.py', 'neutron/plugins/ml2/plugin.py']",6,030a31dafb8ff872b28ecd34e75a7432f8052b64,bug/1580880," self.notifier.binding_activate(context, port_id, inactive_binding.host)",,55,3
openstack%2Fnova~master~I411eb17524a44da4f765fd1463e404dc15075e2c,openstack/nova,master,I411eb17524a44da4f765fd1463e404dc15075e2c,Add regression test for bug 1781710,MERGED,2018-07-17 18:52:58.000000000,2018-08-02 23:08:14.000000000,2018-07-23 02:38:43.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-17 18:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6aac44ee602fa60c81bfadf6c2f8beeb75478de9', 'message': 'WIP: Add regression test for bug 1781710\n\nChange-Id: I411eb17524a44da4f765fd1463e404dc15075e2c\nRelated-Bug: #1781710\n'}, {'number': 2, 'created': '2018-07-18 20:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9560359102eb584aba69c1602dc15685f7b2711c', 'message': 'Add regression test for bug 1781710\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n\nRelated-Bug: #1781710\nChange-Id: I411eb17524a44da4f765fd1463e404dc15075e2c\n'}, {'number': 3, 'created': '2018-07-18 21:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a77b82d1801ef7fec681aa613009927596da1c0', 'message': 'Add regression test for bug 1781710\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n\nRelated-Bug: #1781710\nChange-Id: I411eb17524a44da4f765fd1463e404dc15075e2c\n'}, {'number': 4, 'created': '2018-07-19 18:50:31.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1781710.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e262d673b9ec20c33060d2d2ebf9f191f185bcd', 'message': 'Add regression test for bug 1781710\n\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n\nRelated-Bug: #1781710\nChange-Id: I411eb17524a44da4f765fd1463e404dc15075e2c\n'}]",5,583339,5e262d673b9ec20c33060d2d2ebf9f191f185bcd,44,13,4,6873,,,0,"Add regression test for bug 1781710

Co-Authored-By: Sean Mooney <work@seanmooney.info>

Related-Bug: #1781710
Change-Id: I411eb17524a44da4f765fd1463e404dc15075e2c
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/583339/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1781710.py'],1,6aac44ee602fa60c81bfadf6c2f8beeb75478de9,bug/1781710,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as image_fake from nova.tests.unit import policy_fixture from nova.virt import fake class HostNameWeigher(weights.BaseHostWeigher): def _weigh_object(self, host_state, weight_properties): """"""Prefer host1 over host2."""""" weights = {'host1': 100, 'host2': 1} return weights.get(host_state.host, 0) class AntiAffinityMultiCreateRequest(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1781710 introduced in Rocky. The ServerGroupAntiAffinityFilter changed in Rocky to support the ""max_server_per_host"" rule in the group's anti-affinity policy which allows having more than one server from the same anti-affinity group on the same host. As a result, the scheduler filter logic changed and a regression was introduced because of how the FilterScheduler is tracking which hosts are selected for each instance in a multi-create request. This test uses a custom weigher to ensure that when creating two servers in a single request that are in the same anti-affinity group with the default ""max_server_per_host"" setting (1), the servers are split across the two hosts even though normally one host would be weighed higher than the other. """""" def setUp(self): super(AntiAffinityMultiCreateRequest, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) # The admin API is used to get the server details to verify the # host on which the server was built. self.admin_api = api_fixture.admin_api self.api = api_fixture.api image_fake.stub_out_image_service(self) self.addCleanup(image_fake.FakeImageService_reset) self.start_service('conductor') # Use the latest microversion available to make sure something does # not regress in new microversions; cap as necessary. self.admin_api.microversion = 'latest' self.api.microversion = 'latest' # Add our custom weigher. self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host2') def test_anti_affinity_multi_create(self): # Create the anti-affinity server group in which we'll create our # two servers. group = self.api.post_server_groups( {'name': 'test group', 'policy': 'anti-affinity'}) # Now create two servers in that group. server_req = self._build_minimal_create_server_request( self.api, 'test_anti_affinity_multi_create', image_uuid=image_fake.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID, networks='none') server_req['min_count'] = 2 self.api.api_post( '/servers', {'server': server_req, 'os:scheduler_hints': {'group': group['id']}}) selected_hosts = set([]) # Now wait for both servers to be ACTIVE and get the host on which # each server was built. for server in self.api.get_servers(detail=False): server = self._wait_for_state_change( self.admin_api, server, 'ACTIVE') selected_hosts.add(server['OS-EXT-SRV-ATTR:host']) # Assert that each server is on a separate host. self.assertEqual(2, len(selected_hosts)) ",,107,0
openstack%2Fnova~master~Id752b539babadd187b4c999039cc4ca655437d47,openstack/nova,master,Id752b539babadd187b4c999039cc4ca655437d47,Skip test_resize_server_revert_with_volume_attached in nova-lvm,MERGED,2018-07-19 16:22:56.000000000,2018-08-02 23:08:09.000000000,2018-07-21 02:36:34.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-19 16:22:56.000000000', 'files': ['devstack/tempest-dsvm-lvm-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9589ed9509f3ac2188a5a03d9332d29a8e8fbaa', 'message': ""Skip test_resize_server_revert_with_volume_attached in nova-lvm\n\nThe libvirt driver doesn't support resize for lvm-backed instances\nso we need to skip this test to get the nova-lvm job to pass again.\n\nChange-Id: Id752b539babadd187b4c999039cc4ca655437d47\nCloses-Bug: #1782607\n""}]",0,584018,c9589ed9509f3ac2188a5a03d9332d29a8e8fbaa,36,17,1,6873,,,0,"Skip test_resize_server_revert_with_volume_attached in nova-lvm

The libvirt driver doesn't support resize for lvm-backed instances
so we need to skip this test to get the nova-lvm job to pass again.

Change-Id: Id752b539babadd187b4c999039cc4ca655437d47
Closes-Bug: #1782607
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/584018/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-lvm-rc'],1,c9589ed9509f3ac2188a5a03d9332d29a8e8fbaa,bug/1782607,"# tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_revert_with_volume_attached r=""$r|(?:.*id\-fbbf075f\-a812\-4022\-bc5c\-ccb8047eef12.*)""",,2,0
openstack%2Fnova~master~Ie04ded7b0f4edbb98af92f2ce713cf712a83b383,openstack/nova,master,Ie04ded7b0f4edbb98af92f2ce713cf712a83b383,conductor: use port binding extended API in during live migrate,MERGED,2017-11-23 12:32:01.000000000,2018-08-02 23:08:00.000000000,2018-07-26 19:45:05.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2017-11-23 12:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5e7ae007463d3553af240b0ab3ff9b482095ba6', 'message': 'WIP stub out changes for multi port bindings\n\n- This change stubs out the logical changes\n  to the conctor live_migrate task related to\n  the use of multiple port bindings\n- This is just a TODO list so this will be deleted\n  before this feature is implemented.\n- Each TODO logically could be its own patch and done independently.\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 2, 'created': '2018-02-22 22:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0e484655bf8dc4ef4e994cfa3dd30fccac9dfc9', 'message': ""WIP stub out changes for multi port bindings\n\n- This change stubs out the logical changes\n  to the conductor live_migrate task related to\n  the use of multiple port bindings\n- This is just a TODO list so this will be deleted\n  before this feature is implemented.\n- Each TODO logically could be its own patch and done\n  independently (if a series, the conductor change should\n  be the last in the series which turns everything 'on',\n  so probably driver -> compute manager -> conductor).\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n""}, {'number': 3, 'created': '2018-02-22 22:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5e6fcc209c0a21fc73157599b70dc478c9cebee', 'message': ""WIP stub out changes for multi port bindings\n\n- This change stubs out the logical changes\n  to the conductor live_migrate task related to\n  the use of multiple port bindings\n- This is just a TODO list so this will be deleted\n  before this feature is implemented.\n- Each TODO logically could be its own patch and done\n  independently (if a series, the conductor change should\n  be the last in the series which turns everything 'on',\n  so probably driver -> compute manager -> conductor).\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n""}, {'number': 4, 'created': '2018-03-09 21:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a1127fdd91acf0f173a43c5df3dfd27ca27f42e', 'message': 'WIP Use port binding exteded API in conductor during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 5, 'created': '2018-03-09 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b572d3fe5c626f61a9747351df9c0e93206ad81', 'message': 'WIP Use port binding exteded API in conductor during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 6, 'created': '2018-03-12 22:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/105e05447f9ad64e93c261ca40fe9e3aaf8f0493', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 7, 'created': '2018-03-13 21:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbf0767269e1f37124d95fbbbb9700584540a7ee', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 8, 'created': '2018-03-16 22:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114ed738a195f9f1063b0f98494842bd91d3d78c', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 9, 'created': '2018-03-19 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e82210c2631e8bbc594d8e5d03f5473a4cf455a2', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 10, 'created': '2018-03-19 22:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5fe3c38d890d00a48cd6b40f975817127723ec2', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 11, 'created': '2018-03-23 22:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f67ac8f78cebdfbfbbaf3c9bc53d5edc7fb5c349', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 12, 'created': '2018-03-26 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b5bf8cc5c27554a2c16c1633f42ec939df4853e', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 13, 'created': '2018-03-26 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb7c162e92b6c83b757709c223dc4ad7a4117bc7', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 14, 'created': '2018-03-30 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/361ed3b8e08d0a92dd0b90be3c162bf5900d780d', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 15, 'created': '2018-03-30 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ae08d6f518d55e34054223e6faf63bc842a7591', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 16, 'created': '2018-03-31 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/685663d20e53cfd4e6d356024480ebf1c636e2c3', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 17, 'created': '2018-03-31 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb51d3ff178404c0c109d3ac623ddb3c8c5bc271', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 18, 'created': '2018-04-04 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d0864f4b731551d1691ba2cc7e83a7193821355', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 19, 'created': '2018-04-04 22:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ed3f9f8838a57858a67b22c27f5f444ce44c158', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 20, 'created': '2018-04-05 20:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1af830579fa75d4a71a0e0cde152d0d952a566e2', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 21, 'created': '2018-04-12 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85b6af1250e8a00531b4fbad1f90e82af935ffec', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 22, 'created': '2018-04-24 21:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c196b1ca71cd0b6309e94e7498102f0e996f9b6', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 23, 'created': '2018-04-25 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93dd960d86c06a0238afeed4a975781a874d7349', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 24, 'created': '2018-04-25 22:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5f8d4955fdc41b1806b8e314d1216a2bf415163', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 25, 'created': '2018-04-26 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65280bbae5f0d8ee94db4859e32fa2d1ff3fca9b', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 26, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/227a1abe3483584c932ccdb8d0eacb1651784d1f', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 27, 'created': '2018-05-08 16:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1da7305111d3ea84dd8674d6805f0def8d02a197', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 28, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8a65cd8a64c9732afbde38b1fa629b84dd0e76b', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 29, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e3bb02bf17675763d248abdf8391f79b2bda2eb', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 30, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab05d404623d33cd2b3a551a4b30ee2d60b938bf', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 31, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ea9c0e4412010dca0b04612c89b5e2866d6c3e5', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 32, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99116cdbbecac891999e0140561efc28090484dd', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 33, 'created': '2018-06-29 15:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5da5731f58bfdfdcd27717dbc134fd11b873da15', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 34, 'created': '2018-07-03 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2faf8b40325ffab75ff6c91f66932909a186b313', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}, {'number': 35, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d5c6fd8eb677e8e223251bc8cdb0427da0f33ba', 'message': 'conductor: use port binding extended API in during live migrate\n\nThis adds the changes to the conductor live migrate task such\nthat if the following conditions are met:\n\n* Using neutron\n* Port binding extended extension is available\n* Both the source and dest host are new enough\n\nThen port bindings are created in neutron for the destination\nhost and the information is stored in the migrate_data object\nwhich is passed around the computes during live migration.\n\nThis will ""turn on"" the code in the compute service and virt\ndriver to do things like change vif types between hosts during\na live migration and reduce the network downtime after the\nguest is migrated since the port is already bound on the\ndestination host before we even started migrating the guest.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n'}]",31,522537,2d5c6fd8eb677e8e223251bc8cdb0427da0f33ba,432,22,35,11604,,,0,"conductor: use port binding extended API in during live migrate

This adds the changes to the conductor live migrate task such
that if the following conditions are met:

* Using neutron
* Port binding extended extension is available
* Both the source and dest host are new enough

Then port bindings are created in neutron for the destination
host and the information is stored in the migrate_data object
which is passed around the computes during live migration.

This will ""turn on"" the code in the compute service and virt
driver to do things like change vif types between hosts during
a live migration and reduce the network downtime after the
guest is migrated since the port is already bound on the
destination host before we even started migrating the guest.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: Ie04ded7b0f4edbb98af92f2ce713cf712a83b383
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/522537/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py']",4,c5e7ae007463d3553af240b0ab3ff9b482095ba6,bp/neutron-new-port-binding-api," use_multi_port_binding = hasattr(migrate_data, 'vifs') if use_multi_port_binding: # plug vifs using new bindings # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/queens/approved/neutron-new-port-binding-api.rst#n186 # TODO(sean-k-mooney): implement self.vif_to_network_info function. # for vif in migrate_data['vifs']: # net_info = self.vif_to_network_info(vif) # self.driver.plug(inspect,net_info) pass use_multi_port_binding = hasattr(migrate_data, 'vifs') if use_multi_port_binding: # TODO(sean-k-mooney) wait thread for the vif-plugged event from Neutron. # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/queens/approved/neutron-new-port-binding-api.rst#n179 # TODO(sean-k-mooney) delete source node port binding here # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/queens/approved/neutron-new-port-binding-api.rst#n217 # TODO(sean-k-mooney): delete destination port bindings if we created them. # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/queens/approved/neutron-new-port-binding-api.rst#n230",,62,2
openstack%2Fnova~master~I510e0707b63da98af143448dd46b771f3ef74624,openstack/nova,master,I510e0707b63da98af143448dd46b771f3ef74624,Implement migrate_instance_start method for neutron,MERGED,2018-03-26 01:12:47.000000000,2018-08-02 23:07:55.000000000,2018-07-19 20:20:37.000000000,"[{'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-26 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/747c42f6b54e3134c61cb7863df9edc3feacb256', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 2, 'created': '2018-03-26 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35ac4e852b8034aff15abb7f8ce228dfd958740c', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 3, 'created': '2018-03-30 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc663d679e9478a672b934d55a399a4216a653e6', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 4, 'created': '2018-03-30 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b89b8b4bac582769e8f67ee3ec3d9764ba532399', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 5, 'created': '2018-03-31 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a49186dbf6db9bc2d7333fb7b46f99dc178fc354', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 6, 'created': '2018-03-31 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df0e258974307ce5964871994a716ce7f3fffcbd', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 7, 'created': '2018-04-04 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0baa23d8514fdf872e079ac969d622be43d6d3f', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 8, 'created': '2018-04-04 22:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c72ba4481427c36e66ddfff174c7311865ea0c11', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 9, 'created': '2018-04-05 20:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c2ae57c0159de133b1920633ef4d5ce4e0f4409', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 10, 'created': '2018-04-12 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/470150c4cd72bfda48578cdf99675eacae4db721', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 11, 'created': '2018-04-24 21:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/febc152b2548cc0d89858376915f2ca77bd707c6', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 12, 'created': '2018-04-25 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ca746be475d519f874b07387f47930d71b6055', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 13, 'created': '2018-04-26 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2debe32674ab8f04792f07c55565bedd707e94f5', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 14, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87629d6e1d40ea06917d0a715175c9555d464d13', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 15, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce7fd6b0f91df65b0b4d6200758f7e3847e41ed1', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 16, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a37bef28873e76638733a710dca5dc00745b3af', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 17, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a6849bd72f572c867588bd21d3efcfae82d2579', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 18, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/424d91c048a908b0b49eeedd6fbefae614819e0b', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}, {'number': 19, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d9e04c4ff0b1a9c3383f1848dc846e93030d83cb', 'message': 'Implement migrate_instance_start method for neutron\n\nThis implements the migrate_instance_start() method for the\nneutronv2 API code such that if the neutron port bindings-extended\nAPI extension is available and the ports attached to the instance\nhave bindings to the destination host, those bindings are activated.\n\nThis will make the source compute host port bindings inactive and\nalso update the port binding:host_id attribute.\n\nThis is part of a larger series of changes for live migration where\nComputeManager._post_live_migration calls migrate_instance_start\nto activate the bindings on the dest host.\n\nNone of this ""turns on"" until the final patch in the series where\nconductor creates the destination host port bindings.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I510e0707b63da98af143448dd46b771f3ef74624\n'}]",39,556334,d9e04c4ff0b1a9c3383f1848dc846e93030d83cb,310,20,19,6873,,,0,"Implement migrate_instance_start method for neutron

This implements the migrate_instance_start() method for the
neutronv2 API code such that if the neutron port bindings-extended
API extension is available and the ports attached to the instance
have bindings to the destination host, those bindings are activated.

This will make the source compute host port bindings inactive and
also update the port binding:host_id attribute.

This is part of a larger series of changes for live migration where
ComputeManager._post_live_migration calls migrate_instance_start
to activate the bindings on the dest host.

None of this ""turns on"" until the final patch in the series where
conductor creates the destination host port bindings.

Part of blueprint neutron-new-port-binding-api

Change-Id: I510e0707b63da98af143448dd46b771f3ef74624
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/556334/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,747c42f6b54e3134c61cb7863df9edc3feacb256,bp/neutron-new-port-binding-api," @mock.patch('nova.network.neutronv2.api.get_client', new_callable=mock.NonCallableMock) # asserts not called def test_migrate_instance_start_no_binding_ext(self, get_client_mock): """"""Tests that migrate_instance_start exits early if neutron doesn't have the binding-extended API extension. """""" with mock.patch.object(self.api, 'supports_port_binding_extension', return_value=False): self.api.migrate_instance_start( self.context, mock.sentinel.instance, {}) @mock.patch('nova.network.neutronv2.api.get_client') def test_migrate_instance_start_activate(self, get_client_mock): """"""Tests the happy path for migrate_instance_start where the binding for the port(s) attached to the instance are activated on the destination host. """""" def fake_get(url, *args, **kwargs): # TODO(mriedem): Move # nova.tests.unit.test_identity.FakeResponse into common code # and re-use that here. mock_response = mock.MagicMock(status_code=200) mock_response.json.return_value = { 'binding': {'status': 'INACTIVE'}} try: mock_response.__nonzero__.return_value = True except AttributeError: # py3 uses __bool__ mock_response.__bool__.return_value = True return mock_response get_client_mock.return_value.get.side_effect = fake_get # Just create a simple instance with a single port. instance = objects.Instance(info_cache=objects.InstanceInfoCache( network_info=model.NetworkInfo([model.VIF(uuids.port_id)]))) migration = {'source_compute': 'source', 'dest_compute': 'dest'} with mock.patch.object(self.api, 'activate_port_binding') as activate: with mock.patch.object(self.api, 'supports_port_binding_extension', return_value=True): self.api.migrate_instance_start( self.context, instance, migration) activate.assert_called_once_with( self.context, uuids.port_id, 'dest', get_client_mock.return_value) get_client_mock.return_value.get.assert_called_once_with( '/ports/%s/bindings/dest' % uuids.port_id) @mock.patch('nova.network.neutronv2.api.get_client') def test_migrate_instance_start_already_active(self, get_client_mock): """"""Tests the case that the destination host port binding is already ACTIVE when migrate_instance_start is called so we don't try to activate it again, which would result in a 409 from Neutron. """""" def fake_get(url, *args, **kwargs): # TODO(mriedem): Move # nova.tests.unit.test_identity.FakeResponse into common code # and re-use that here. mock_response = mock.MagicMock(status_code=200) mock_response.json.return_value = { 'binding': {'status': 'ACTIVE'}} try: mock_response.__nonzero__.return_value = True except AttributeError: # py3 uses __bool__ mock_response.__bool__.return_value = True return mock_response get_client_mock.return_value.get.side_effect = fake_get # Just create a simple instance with a single port. instance = objects.Instance(info_cache=objects.InstanceInfoCache( network_info=model.NetworkInfo([model.VIF(uuids.port_id)]))) migration = {'source_compute': 'source', 'dest_compute': 'dest'} with mock.patch.object(self.api, 'activate_port_binding', new_callable=mock.NonCallableMock): with mock.patch.object(self.api, 'supports_port_binding_extension', return_value=True): self.api.migrate_instance_start( self.context, instance, migration) get_client_mock.return_value.get.assert_called_once_with( '/ports/%s/bindings/dest' % uuids.port_id) @mock.patch('nova.network.neutronv2.api.get_client') def test_migrate_instance_start_no_bindings(self, get_client_mock): """"""Tests the case that migrate_instance_start is running against new enough neutron for the binding-extended API but the ports don't have a binding resource against the destination host, so no activation happens. """""" def fake_get(url, *args, **kwargs): # TODO(mriedem): Move # nova.tests.unit.test_identity.FakeResponse into common code # and re-use that here. mock_response = mock.MagicMock(status_code=404) try: mock_response.__nonzero__.return_value = False except AttributeError: # py3 uses __bool__ mock_response.__bool__.return_value = False return mock_response get_client_mock.return_value.get.side_effect = fake_get # Create an instance with two ports so we can test the short circuit # when we find that the first port doesn't have a dest host binding. instance = objects.Instance(info_cache=objects.InstanceInfoCache( network_info=model.NetworkInfo([ model.VIF(uuids.port1), model.VIF(uuids.port2)]))) migration = {'source_compute': 'source', 'dest_compute': 'dest'} with mock.patch.object(self.api, 'activate_port_binding', new_callable=mock.NonCallableMock): with mock.patch.object(self.api, 'supports_port_binding_extension', return_value=True): self.api.migrate_instance_start( self.context, instance, migration) get_client_mock.return_value.get.assert_called_once_with( '/ports/%s/bindings/dest' % uuids.port1) @mock.patch('nova.network.neutronv2.api.get_client') def test_migrate_instance_start_get_error(self, get_client_mock): """"""Tests the case that migrate_instance_start is running against new enough neutron for the binding-extended API but getting the port binding information results in an error response from neutron. """""" def fake_get(url, *args, **kwargs): # TODO(mriedem): Move # nova.tests.unit.test_identity.FakeResponse into common code # and re-use that here. mock_response = mock.MagicMock(status_code=500) try: mock_response.__nonzero__.return_value = False except AttributeError: # py3 uses __bool__ mock_response.__bool__.return_value = False return mock_response get_client_mock.return_value.get.side_effect = fake_get instance = objects.Instance(info_cache=objects.InstanceInfoCache( network_info=model.NetworkInfo([ model.VIF(uuids.port1), model.VIF(uuids.port2)]))) migration = {'source_compute': 'source', 'dest_compute': 'dest'} with mock.patch.object(self.api, 'activate_port_binding', new_callable=mock.NonCallableMock): with mock.patch.object(self.api, 'supports_port_binding_extension', return_value=True): self.api.migrate_instance_start( self.context, instance, migration) self.assertEqual(2, get_client_mock.return_value.get.call_count) get_client_mock.return_value.get.assert_has_calls([ mock.call('/ports/%s/bindings/dest' % uuids.port1), mock.call('/ports/%s/bindings/dest' % uuids.port2)]) ",,205,6
openstack%2Fnova~master~If20ff2c85263aed92308f1fad59a1ab7bbff3e0e,openstack/nova,master,If20ff2c85263aed92308f1fad59a1ab7bbff3e0e,Merge server create for config_drive extension,MERGED,2018-07-18 10:06:41.000000000,2018-08-02 23:07:31.000000000,2018-07-24 20:57:34.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-07-18 10:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ecf60cdeede537e8d47c4fd6faed85637490e97', 'message': 'Merge server create for config_drive extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the server_create for config_drive extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: If20ff2c85263aed92308f1fad59a1ab7bbff3e0e\n'}, {'number': 2, 'created': '2018-07-19 06:35:12.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/config_drive.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c21d6fd6ac3ef60bd1684a4caf40133315a8e34e', 'message': 'Merge server create for config_drive extension\n\nAs nova extensions has been deprecated already and goal is to\nmerge all scattered code into main controller side.\nCurrently schema and request/response extended code are there\namong all extensions.\n\nThis commit merge the server_create for config_drive extensions.\n\nPartially implements: blueprint api-extensions-merge-rocky\n\nChange-Id: If20ff2c85263aed92308f1fad59a1ab7bbff3e0e\n'}]",5,583538,c21d6fd6ac3ef60bd1684a4caf40133315a8e34e,60,18,2,8556,,,0,"Merge server create for config_drive extension

As nova extensions has been deprecated already and goal is to
merge all scattered code into main controller side.
Currently schema and request/response extended code are there
among all extensions.

This commit merge the server_create for config_drive extensions.

Partially implements: blueprint api-extensions-merge-rocky

Change-Id: If20ff2c85263aed92308f1fad59a1ab7bbff3e0e
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/583538/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/config_drive.py', 'nova/tests/unit/api/openstack/compute/test_config_drive.py', 'nova/api/openstack/compute/servers.py']",4,4ecf60cdeede537e8d47c4fd6faed85637490e97,bp/api-extensions-merge-rocky, create_kwargs['config_drive'] = server_dict.get('config_drive'),"from nova.api.openstack.compute import config_drive config_drive.server_create,",43,115
openstack%2Fnova~master~I0c4b586292814b8483226aee315f41cbefc86a1e,openstack/nova,master,I0c4b586292814b8483226aee315f41cbefc86a1e,Remove support for /os-floating-ip-dns REST API,MERGED,2018-07-16 12:33:34.000000000,2018-08-02 23:07:03.000000000,2018-07-26 01:14:03.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-16 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4d206030e96b831a8bd6ffeb017f796552a37b1', 'message': 'Remove support for /os-floating-ip-dns REST API\n\nDrop support for the os-floating-ips-bulk API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ip-dns was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I0c4b586292814b8483226aee315f41cbefc86a1e\n'}, {'number': 2, 'created': '2018-07-16 12:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/340311f185a81b5d5284484bb5113d3a28d65b09', 'message': 'Remove support for /os-floating-ip-dns REST API\n\nDrop support for the os-floating-ips-bulk API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ip-dns was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I0c4b586292814b8483226aee315f41cbefc86a1e\n'}, {'number': 3, 'created': '2018-07-17 16:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa19d726c18162b6ec58fe5dce7997108a1f7433', 'message': 'Remove support for /os-floating-ip-dns REST API\n\nDrop support for the os-floating-ip-dns API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ip-dns was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I0c4b586292814b8483226aee315f41cbefc86a1e\n'}, {'number': 4, 'created': '2018-07-19 02:23:56.000000000', 'files': ['nova/policies/__init__.py', 'nova/policies/floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.json.tpl', 'api-ref/source/index.rst', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-req.json.tpl', 'api-ref/source/os-floating-ip-dns.inc', 'releasenotes/notes/bp-remove-nova-network-api-removals-931ad60364f6f2a8.yaml', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/schemas/floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.json.tpl', 'nova/tests/unit/test_policy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.json.tpl', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_floating_ip_dns.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db294b1e33f18e01a3e4a20d537880ffd1b110fe', 'message': 'Remove support for /os-floating-ip-dns REST API\n\nDrop support for the os-floating-ip-dns API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ip-dns was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I0c4b586292814b8483226aee315f41cbefc86a1e\n'}]",3,582943,db294b1e33f18e01a3e4a20d537880ffd1b110fe,82,21,4,15334,,,0,"Remove support for /os-floating-ip-dns REST API

Drop support for the os-floating-ip-dns API which has been deprecated
since Newton:

  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0

This API now returns a 410 response for all routes.

Unit tests are removed and the functional API sample tests are just
asserting the 410 response now.

The API sample docs are left intact since the API reference still builds
from those and can be considered more or less branchless, so people
looking at the API reference can apply it to older deployments of nova
before os-floating-ip-dns was removed.

The release note added for previous nova-network API removals is
amended to note this additional change.

Part of blueprint remove-nova-network

Change-Id: I0c4b586292814b8483226aee315f41cbefc86a1e
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/582943/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/__init__.py', 'nova/policies/floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.json.tpl', 'api-ref/source/index.rst', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-req.json.tpl', 'api-ref/source/os-floating-ip-dns.inc', 'releasenotes/notes/bp-remove-nova-network-api-removals-931ad60364f6f2a8.yaml', 'nova/api/openstack/compute/floating_ip_dns.py', 'nova/api/openstack/compute/schemas/floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.json.tpl', 'nova/tests/unit/test_policy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.json.tpl', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_dns.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/test_floating_ip_dns.py']",18,a4d206030e96b831a8bd6ffeb017f796552a37b1,bp/remove-nova-network,"from nova.tests.functional.api import client as api_client ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_get, 'os-floating-ip-dns') self.assertEqual(410, ex.response.status_code) ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_put, 'os-floating-ip-dns/domain1.example.org', {'project': 'project1', 'scope': 'public'}) self.assertEqual(410, ex.response.status_code) ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_delete, 'os-floating-ip-dns/domain1.example.org') self.assertEqual(410, ex.response.status_code) url = 'os-floating-ip-dns/domain1.example.org/entries/instance1' ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_put, url, {'ip': '192.168.1.1', 'dns_type': 'A'}) self.assertEqual(410, ex.response.status_code) url = 'os-floating-ip-dns/domain1.example.org/entries/instance1' ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_get, url) self.assertEqual(410, ex.response.status_code) url = 'os-floating-ip-dns/domain1.example.org/entries/instance1' ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_delete, url) self.assertEqual(410, ex.response.status_code) url = 'os-floating-ip-dns/domain1.example.org/entries/192.168.1.1' ex = self.assertRaises(api_client.OpenStackApiException, self.api.api_get, url) self.assertEqual(410, ex.response.status_code)"," sample_dir = ""os-floating-ip-dns"" domain = 'domain1.example.org' name = 'instance1' scope = 'public' project = 'project1' dns_type = 'A' ip = '192.168.1.1' def _create_or_update(self): subs = {'project': self.project, 'scope': self.scope} response = self._do_put('os-floating-ip-dns/%s' % self.domain, 'floating-ip-dns-create-or-update-req', subs) subs.update({'domain': self.domain}) self._verify_response('floating-ip-dns-create-or-update-resp', subs, response, 200) def _create_or_update_entry(self): subs = {'ip': self.ip, 'dns_type': self.dns_type} response = self._do_put('os-floating-ip-dns/%s/entries/%s' % (self.domain, self.name), 'floating-ip-dns-create-or-update-entry-req', subs) subs.update({'name': self.name, 'domain': self.domain}) self._verify_response('floating-ip-dns-create-or-update-entry-resp', subs, response, 200) self._create_or_update() response = self._do_get('os-floating-ip-dns') subs = {'domain': self.domain, 'project': self.project, 'scope': self.scope} self._verify_response('floating-ip-dns-list-resp', subs, response, 200) self._create_or_update() self._create_or_update() response = self._do_delete('os-floating-ip-dns/%s' % self.domain) self.assertEqual(202, response.status_code) self._create_or_update_entry() self._create_or_update_entry() response = self._do_get('os-floating-ip-dns/%s/entries/%s' % (self.domain, self.name)) subs = {'domain': self.domain, 'ip': self.ip, 'name': self.name} self._verify_response('floating-ip-dns-entry-get-resp', subs, response, 200) self._create_or_update_entry() response = self._do_delete('os-floating-ip-dns/%s/entries/%s' % (self.domain, self.name)) self.assertEqual(202, response.status_code) self._create_or_update_entry() response = self._do_get('os-floating-ip-dns/%s/entries/%s' % (self.domain, self.ip)) subs = {'domain': self.domain, 'ip': self.ip, 'name': self.name} self._verify_response('floating-ip-dns-entry-list-resp', subs, response, 200)",84,958
openstack%2Fnova~master~Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,openstack/nova,master,Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,Hook resource_tracker to remove stale node information,MERGED,2018-08-01 17:38:16.000000000,2018-08-02 23:06:40.000000000,2018-08-02 12:34:34.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-01 17:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8e2d29669f01486e036d6c5ad4aa6d166865489', 'message': 'Hook resource_tracker to remove stale node information\n\nWhen we remove a node from a host due to rebalance or decommission,\nwe need to tell the resource tracker so it stops keeping track of\nthe details for that node. This adds a hook for doing that and\ncalls it from the place in compute manager where we purge the\nrecord from the database.\n\nChange-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398\nCloses-Bug: #1784874\n'}, {'number': 2, 'created': '2018-08-01 18:49:07.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99db9faae5c1e84e5aa8586c32ffcca7a61ae276', 'message': 'Hook resource_tracker to remove stale node information\n\nWhen we remove a node from a host due to rebalance or decommission,\nwe need to tell the resource tracker so it stops keeping track of\nthe details for that node. This adds a hook for doing that and\ncalls it from the place in compute manager where we purge the\nrecord from the database.\n\nChange-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398\nCloses-Bug: #1784874\n'}]",2,587922,99db9faae5c1e84e5aa8586c32ffcca7a61ae276,36,17,2,4393,,,0,"Hook resource_tracker to remove stale node information

When we remove a node from a host due to rebalance or decommission,
we need to tell the resource tracker so it stops keeping track of
the details for that node. This adds a hook for doing that and
calls it from the place in compute manager where we purge the
record from the database.

Change-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398
Closes-Bug: #1784874
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/587922/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,a8e2d29669f01486e036d6c5ad4aa6d166865489,bug/1784705," def remove_node(self, nodename): """"""Handle node removal/rebalance. Clean up any stored data about a compute node no longer managed by this host. """""" self.stats.pop(nodename, None) self.compute_nodes.pop(nodename, None) self.old_resources.pop(nodename, None) ",,38,1
openstack%2Fnova~master~I1dbccc2be6ba79bf267edac9208c80e187e6256a,openstack/nova,master,I1dbccc2be6ba79bf267edac9208c80e187e6256a,Improve NeutronFixture and remove unncessary stubbing,MERGED,2018-07-31 13:10:35.000000000,2018-08-02 23:06:35.000000000,2018-08-02 17:44:55.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-31 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cea2d5c2207d9409cba6c4bbfa873770ec320c53', 'message': 'Improve NeutronFixture and remove unncessary stubbing\n\nWith a small improvement on NeutronFixture that allows creating more\nthan two ports we can let our tests to exercise and therefore cover\nmost of the neutronv2/api code as well. To do that this path removes a\nlot of fake_network.set_stub_network_methods() calls from the tests.\nThe remaining calls are not that trivial to remove so those are left it\nin for a later patch.\n\nChange-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a\n'}, {'number': 2, 'created': '2018-07-31 14:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/528fccf4c7db11ce38248e9ca3a97c8c8b819f84', 'message': 'Improve NeutronFixture and remove unncessary stubbing\n\nWith a small improvement on NeutronFixture that allows creating more\nthan two ports we can let our tests to exercise and therefore cover\nmost of the neutronv2/api code as well. To do that this path removes a\nlot of fake_network.set_stub_network_methods() calls from the tests.\nThe remaining calls are not that trivial to remove so those are left in\nfor a later patch.\n\nThe numa functional tests uses the libvirt fixture and during the guest\nconfig xml generation it tries to instantiate OVOs from os_vif. To make\nthis work the libvirt fixture has to make sure that the\nos_vif.initialize() is called as that call registers the OVOs.\n\nChange-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a\n'}, {'number': 3, 'created': '2018-08-01 15:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10ab506c75bfa59f3c836671edc1d97b8a02398c', 'message': 'Improve NeutronFixture and remove unncessary stubbing\n\nWith a small improvement on NeutronFixture that allows creating more\nthan two ports we can let our tests to exercise and therefore cover\nmost of the neutronv2/api code as well. To do that this path removes a\nlot of fake_network.set_stub_network_methods() calls from the tests.\nThe remaining calls are not that trivial to remove so those are left in\nfor a later patch.\n\nThe numa functional tests uses the libvirt fixture and during the guest\nconfig xml generation it tries to instantiate OVOs from os_vif. To make\nthis work the libvirt fixture has to make sure that the\nos_vif.initialize() is called as that call registers the OVOs.\n\nChange-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a\n'}, {'number': 4, 'created': '2018-08-02 13:15:18.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/db/test_request_spec.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/acd3216a8beac263aa87d785c21e816d29b1b6bb', 'message': 'Improve NeutronFixture and remove unncessary stubbing\n\nWith a small improvement on NeutronFixture that allows creating more\nthan two ports we can let our tests to exercise and therefore cover\nmost of the neutronv2/api code as well. To do that this path removes a\nlot of fake_network.set_stub_network_methods() calls from the tests.\nThe remaining calls are not that trivial to remove so those are left in\nfor a later patch.\n\nThe numa functional tests uses the libvirt fixture and during the guest\nconfig xml generation it tries to instantiate OVOs from os_vif. To make\nthis work the libvirt fixture has to make sure that the\nos_vif.initialize() is called as that call registers the OVOs.\n\nChange-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a\n'}]",29,587412,acd3216a8beac263aa87d785c21e816d29b1b6bb,47,12,4,9708,,,0,"Improve NeutronFixture and remove unncessary stubbing

With a small improvement on NeutronFixture that allows creating more
than two ports we can let our tests to exercise and therefore cover
most of the neutronv2/api code as well. To do that this path removes a
lot of fake_network.set_stub_network_methods() calls from the tests.
The remaining calls are not that trivial to remove so those are left in
for a later patch.

The numa functional tests uses the libvirt fixture and during the guest
config xml generation it tries to instantiate OVOs from os_vif. To make
this work the libvirt fixture has to make sure that the
os_vif.initialize() is called as that call registers the OVOs.

Change-Id: I1dbccc2be6ba79bf267edac9208c80e187e6256a
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/587412/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/fixtures.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/functional/db/test_request_spec.py', 'nova/tests/functional/test_servers.py']",13,cea2d5c2207d9409cba6c4bbfa873770ec320c53,, USE_NEUTRON = True ,from nova.tests.unit import fake_network fake_network.set_stub_network_methods(self) fake_network.set_stub_network_methods(self),39,44
openstack%2Fnova~master~I048b22b2447b671228a7ba067e06c59b59e81ce5,openstack/nova,master,I048b22b2447b671228a7ba067e06c59b59e81ce5,Fix all invalid obj_make_compatible test case,MERGED,2018-06-11 12:33:23.000000000,2018-08-02 23:05:57.000000000,2018-08-02 19:55:20.000000000,"[{'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-11 12:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2443a418e8fa320c69467e42764c19895f759ba', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\ntrivial fix\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 2, 'created': '2018-06-12 02:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2476549593e43193fb3eb721140a72187c96395', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 3, 'created': '2018-06-13 07:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f470b94aa95f427002064432f9fc544dffc0fd6', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 4, 'created': '2018-06-19 08:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ec1eb7dd9327d9d3c5bc920d9519d623c707e0', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 5, 'created': '2018-06-20 01:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b69725c2808a1f43e49abb7428dc1971f06fa31', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 6, 'created': '2018-06-21 09:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53bf9118397c6f21537c52546b2766ca4c88f9d3', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 7, 'created': '2018-07-05 03:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/860d97896597bc5b8551736315b30ecda11285e4', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 8, 'created': '2018-07-10 11:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ea2985f5c30db7da3e9b2f4317f5d32e61b0d8f', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 9, 'created': '2018-07-13 03:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8e6cf18b115e34d0e1b764049cb4dff20c16f25', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 10, 'created': '2018-07-13 06:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb6dfca017ace45abb946f1c0b0a491edb644e77', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 11, 'created': '2018-07-27 02:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/058c12a02278971546d539c1394c0a62cfb89356', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}, {'number': 12, 'created': '2018-07-27 02:20:46.000000000', 'files': ['nova/tests/unit/objects/test_instance_numa_topology.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/unit/objects/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4729fa819675ca511fe0027950d9aadf0aebef1b', 'message': ""Fix all invalid obj_make_compatible test case\n\nWe use obj_to_primitive() to generate the primitive obj, the\norigin obj value is primitive['nova_object.data'], so, we need\ntransfer primitive to obj data before obj_make_compatible\ncalled.\n\nThis patch fixed all invalid obj_make_compatible test cases.\n\nCloses-Bug: #1776373\n\nChange-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5\n""}]",22,574240,4729fa819675ca511fe0027950d9aadf0aebef1b,106,17,12,20722,,,0,"Fix all invalid obj_make_compatible test case

We use obj_to_primitive() to generate the primitive obj, the
origin obj value is primitive['nova_object.data'], so, we need
transfer primitive to obj data before obj_make_compatible
called.

This patch fixed all invalid obj_make_compatible test cases.

Closes-Bug: #1776373

Change-Id: I048b22b2447b671228a7ba067e06c59b59e81ce5
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/574240/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/unit/objects/test_flavor.py']",4,a2443a418e8fa320c69467e42764c19895f759ba,bug/1776373," obj_data = obj_primitive['nova_object.data'] flavor.obj_make_compatible(obj_data, '1.1') self.assertNotIn('description', obj_data)"," flavor.obj_make_compatible(flavor_primitive, '1.1') self.assertNotIn('description', flavor_primitive)",32,19
openstack%2Fneutron~master~I94d779fcabc64417d4d561c659270501c0651a66,openstack/neutron,master,I94d779fcabc64417d4d561c659270501c0651a66,[doc] Follow-up logging service for firewall_group,MERGED,2018-07-13 10:27:02.000000000,2018-08-02 23:05:44.000000000,2018-08-01 01:42:51.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-07-13 10:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e33f05bc94e70d8024020d28ee91a4f5b3ccfb6f', 'message': ""[WIP][log] Include firewall_group into Networking guide\n\nThis patch aims to update the networking guide to include\n'firewall_group' in 'Neutron Packet Logging Framework' into admin guide\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}, {'number': 2, 'created': '2018-07-18 10:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c870264135117f8a3ff08a5c504fbae4edd933ec', 'message': ""[WIP][log] Include firewall_group into Networking guide\n\nThis patch aims to update the networking guide to include\n'firewall_group' in 'Neutron Packet Logging Framework' into admin guide\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}, {'number': 3, 'created': '2018-07-18 10:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcf86eb232bb5c4bf765e16d9be818bb26becc9f', 'message': ""[WIP][log] Include firewall_group into Networking guide\n\nThis patch aims to update the networking guide to include\n'firewall_group' in 'Neutron Packet Logging Framework' into admin guide\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}, {'number': 4, 'created': '2018-07-20 06:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef39c7064c216edd671b4d90738a8ce4f739a052', 'message': ""[doc] Follow-up logging service for firewall_group\n\nThis patch updates the networking guide to include 'firewall_group'\nas a new resource-type in 'Neutron Packet Logging Framework'\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}, {'number': 5, 'created': '2018-07-23 03:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ef86d30d854d86723f745f24327201e36640c16', 'message': ""[doc] Follow-up logging service for firewall_group\n\nThis patch updates the networking guide to include 'firewall_group'\nas a new resource-type in 'Neutron Packet Logging Framework'\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}, {'number': 6, 'created': '2018-07-26 07:56:26.000000000', 'files': ['doc/source/admin/config-logging.rst', 'doc/source/admin/figures/logging-framework.png'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e82a17527d0c1a59ee92f53ba5fc6752c5034dc4', 'message': ""[doc] Follow-up logging service for firewall_group\n\nThis patch updates the networking guide to include 'firewall_group'\nas a new resource-type in 'Neutron Packet Logging Framework'\n\nChange-Id: I94d779fcabc64417d4d561c659270501c0651a66\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1720727\n""}]",35,582498,e82a17527d0c1a59ee92f53ba5fc6752c5034dc4,32,8,6,28174,,,0,"[doc] Follow-up logging service for firewall_group

This patch updates the networking guide to include 'firewall_group'
as a new resource-type in 'Neutron Packet Logging Framework'

Change-Id: I94d779fcabc64417d4d561c659270501c0651a66
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Partial-Bug: #1720727
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/582498/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-logging.rst', 'doc/source/admin/figures/logging-framework.png']",2,e33f05bc94e70d8024020d28ee91a4f5b3ccfb6f,bug/1720727,,,136,120
openstack%2Fneutron~master~I3b3862016125303fb227b4ff41420a89bb33c917,openstack/neutron,master,I3b3862016125303fb227b4ff41420a89bb33c917,use sqla functions from neutron-lib,MERGED,2018-07-18 14:33:52.000000000,2018-08-02 23:05:38.000000000,2018-07-26 07:52:42.000000000,"[{'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-07-18 14:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11babc3940c84cf8e883de6c53c8a3bb1c5cfc1', 'message': ""use sqla functions from neutron-lib\n\nThe public db apis are available in neutron-lib. This patch consumes\nthe sqla_listen, sqla_remove and sqla_remove_all functions from lib\nby removing them from neutron and using lib's version.\n\nThere's also a TODO added here so we can eventually rehome the\ncheck_no_sqlalchemy_event_import hacking check to neutron-lib.\n\nNeutronLibImpact\n\nChange-Id: I3b3862016125303fb227b4ff41420a89bb33c917\n""}, {'number': 2, 'created': '2018-07-23 20:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c8a1b01633e76acb7ca15b81c636b09f788ff13', 'message': ""use sqla functions from neutron-lib\n\nThe public db apis are available in neutron-lib. This patch consumes\nthe sqla_listen, sqla_remove and sqla_remove_all functions from lib\nby removing them from neutron and using lib's version.\n\nThere's also a TODO added here so we can eventually rehome the\ncheck_no_sqlalchemy_event_import hacking check to neutron-lib.\n\nNeutronLibImpact\n\nChange-Id: I3b3862016125303fb227b4ff41420a89bb33c917\n""}, {'number': 3, 'created': '2018-07-24 14:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b0e055475897953da156c52815293d8da4f3fa6', 'message': ""use sqla functions from neutron-lib\n\nThe public db apis are available in neutron-lib. This patch consumes\nthe sqla_listen, sqla_remove and sqla_remove_all functions from lib\nby removing them from neutron and using lib's version.\n\nThere's also a TODO added here so we can eventually rehome the\ncheck_no_sqlalchemy_event_import hacking check to neutron-lib.\n\nNeutronLibImpact\n\nChange-Id: I3b3862016125303fb227b4ff41420a89bb33c917\n""}, {'number': 4, 'created': '2018-07-25 21:04:47.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/quota/resource.py', 'neutron/hacking/checks.py', 'neutron/services/loki/loki_plugin.py', 'neutron/tests/base.py', 'neutron/db/api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c774930aede7aaab1d5d73c41818fecfa8c8f838', 'message': ""use sqla functions from neutron-lib\n\nThe public db apis are available in neutron-lib. This patch consumes\nthe sqla_listen, sqla_remove and sqla_remove_all functions from lib\nby removing them from neutron and using lib's version.\n\nThere's also a TODO added here so we can eventually rehome the\ncheck_no_sqlalchemy_event_import hacking check to neutron-lib.\n\nNeutronLibImpact\n\nChange-Id: I3b3862016125303fb227b4ff41420a89bb33c917\n""}]",0,583633,c774930aede7aaab1d5d73c41818fecfa8c8f838,35,12,4,5367,,,0,"use sqla functions from neutron-lib

The public db apis are available in neutron-lib. This patch consumes
the sqla_listen, sqla_remove and sqla_remove_all functions from lib
by removing them from neutron and using lib's version.

There's also a TODO added here so we can eventually rehome the
check_no_sqlalchemy_event_import hacking check to neutron-lib.

NeutronLibImpact

Change-Id: I3b3862016125303fb227b4ff41420a89bb33c917
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/583633/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/quota/resource.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/hacking/checks.py', 'neutron/services/loki/loki_plugin.py', 'neutron/tests/base.py', 'neutron/db/api.py']",11,a11babc3940c84cf8e883de6c53c8a3bb1c5cfc1,bp/neutronlib-decouple-db,,"from sqlalchemy import exc as sql_exc_REGISTERED_SQLA_EVENTS = [] def sqla_listen(*args): """"""Wrapper to track subscribers for test teardowns. SQLAlchemy has no ""unsubscribe all"" option for its event listener framework so we need to keep track of the subscribers by having them call through here for test teardowns. """""" event.listen(*args) _REGISTERED_SQLA_EVENTS.append(args) def sqla_remove(*args): event.remove(*args) _REGISTERED_SQLA_EVENTS.remove(args) def sqla_remove_all(): for args in _REGISTERED_SQLA_EVENTS: try: event.remove(*args) except sql_exc.InvalidRequestError: # already removed pass del _REGISTERED_SQLA_EVENTS[:] ",25,51
openstack%2Fneutron~master~Ib0361ad5c281f88558e8e048cfec588b9f9b1de4,openstack/neutron,master,Ib0361ad5c281f88558e8e048cfec588b9f9b1de4,Dont use dict.get() to know certain key is in dict,MERGED,2018-07-11 09:48:54.000000000,2018-08-02 23:05:34.000000000,2018-07-25 15:28:18.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7233}, {'_account_id': 7715}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14764}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-07-11 09:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8cfea4ba58402f3814ad05c7ced5f7944afae11', 'message': ""Dont use dict.get() to know certain key is in dict\n\nIn CommonAgentLoop class, there is logic to detect tap device is changed\nor not by comparing timestamp with previous.\nSometimes timestamp value could be None depending on the timing (see bug/1781129)\nIf timestamp was None, current logic can miss updated device which is expected\nto detect because _get_devices_locally_modified function don't compare\nif timestamp value was None.\n\nIn order not to miss updated device always, better not to use dict.get() to\nknow previous iteration have timestamp or not.\n\nChange-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4\nCloses-Bug: #1781129\n""}, {'number': 2, 'created': '2018-07-12 08:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92efc37d080597cee175cd085534b012679dd63d', 'message': 'Recognize the devices that failed to get ts as removed\n\nCurrent device change detection logic have 2 separate function calls to\nget device information(get_all_devices, get_devices_modified_timestamps)\nbut these operation are not treated as a atomic operation.\nSome devices that exists when get_all_devices evaluated can disappear\nwhen get_devices_modified_timestamps evaluated.\nThis inconsitency need to feedback to the result of get_all_devices\nwhich is executed first. Otherwise this can cause problem to\nmiss updated devices(bug/1781129)\n\nChange-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4\nCloses-Bug: #1781129\n'}, {'number': 3, 'created': '2018-07-18 11:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d9346c0cb24a6eed10817096208b751279b6308', 'message': 'Recognize the devices that failed to get ts as removed\n\nCurrent device change detection logic have 2 separate function calls to\nget device information(get_all_devices, get_devices_modified_timestamps)\nbut these operation are not treated as a atomic operation.\nSome devices that exists when get_all_devices evaluated can disappear\nwhen get_devices_modified_timestamps evaluated.\nThis inconsitency need to feedback to the result of get_all_devices\nwhich is executed first. Otherwise this can cause problem to\nmiss updated devices(bug/1781129)\n\nChange-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4\nCloses-Bug: #1781129\n'}, {'number': 4, 'created': '2018-07-25 07:12:37.000000000', 'files': ['neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/agent/test__common_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b803195a9979f7b3b0fd9cea41699b33fc8cf2bb', 'message': ""Dont use dict.get() to know certain key is in dict\n\nIn CommonAgentLoop class, there is logic to detect tap device is changed\nlocally or not by comparing timestamp with previous.\nSometimes timestamp value could be None depending on the timing (see bug/1781129)\n\nBut current _get_devices_locally_modified logic can not detect local\nchange from None to something because _get_devices_locally_modified\nfunction don't always compare if previous timestamp value was None.\n\nIn order not to miss updated device always, better not to use dict.get() to\nknow previous iteration have timestamp or not.\n\nChange-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4\nCloses-Bug: #1781129\n""}]",13,581648,b803195a9979f7b3b0fd9cea41699b33fc8cf2bb,67,15,4,14764,,,0,"Dont use dict.get() to know certain key is in dict

In CommonAgentLoop class, there is logic to detect tap device is changed
locally or not by comparing timestamp with previous.
Sometimes timestamp value could be None depending on the timing (see bug/1781129)

But current _get_devices_locally_modified logic can not detect local
change from None to something because _get_devices_locally_modified
function don't always compare if previous timestamp value was None.

In order not to miss updated device always, better not to use dict.get() to
know previous iteration have timestamp or not.

Change-Id: Ib0361ad5c281f88558e8e048cfec588b9f9b1de4
Closes-Bug: #1781129
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/581648/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/agent/_common_agent.py'],1,d8cfea4ba58402f3814ad05c7ced5f7944afae11,bug/1781129," """"""Returns devices that do not match new. If timestamp dict didn't have information for a device previously, it will not be returned because this means it is new. if device in previous_timestamps.keys() and"," """"""Returns devices with previous timestamps that do not match new. If a device did not have a timestamp previously, it will not be returned because this means it is new. if previous_timestamps.get(device) and",4,4
openstack%2Fnova~master~Ib67826620735f05edc987481af4c07b6d19f3c1d,openstack/nova,master,Ib67826620735f05edc987481af4c07b6d19f3c1d,doc: link to AZ talk from the Rocky summit,MERGED,2018-07-23 22:25:55.000000000,2018-08-02 23:05:31.000000000,2018-07-30 12:54:10.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26311}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 22:25:55.000000000', 'files': ['doc/source/user/aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f4819f28aa004e7148616d3ee922b0e4f8ef9d7d', 'message': ""doc: link to AZ talk from the Rocky summit\n\nThis links into the AZ docs a nice video from the Rocky\nsummit which covers what AZs are and aren't, use cases,\ngotchas, and how they are implemented outside of nova\nto compare and contrast. Overall it's a nice educational\npresentation which is useful for those wishing to learn\nmore about AZs than what our documentation provides.\n\nChange-Id: Ib67826620735f05edc987481af4c07b6d19f3c1d\n""}]",0,585045,f4819f28aa004e7148616d3ee922b0e4f8ef9d7d,19,15,1,6873,,,0,"doc: link to AZ talk from the Rocky summit

This links into the AZ docs a nice video from the Rocky
summit which covers what AZs are and aren't, use cases,
gotchas, and how they are implemented outside of nova
to compare and contrast. Overall it's a nice educational
presentation which is useful for those wishing to learn
more about AZs than what our documentation provides.

Change-Id: Ib67826620735f05edc987481af4c07b6d19f3c1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/585045/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/aggregates.rst'],1,f4819f28aa004e7148616d3ee922b0e4f8ef9d7d,rocky-summit-videos,There is a nice educational video about availability zones from the Rocky summit which can be found here: https://www.openstack.org/videos/vancouver-2018/curse-your-bones-availability-zones-1 ,,3,0
openstack%2Fnova~master~Ia30405de4bf8e8ac07b942e44b05a868a18eb80a,openstack/nova,master,Ia30405de4bf8e8ac07b942e44b05a868a18eb80a,Online migration tool for populating queued-for-delete,ABANDONED,2018-07-13 13:12:40.000000000,2018-08-02 23:05:23.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-07-13 13:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9da4c33461c185e6219ff7544ec898bf4b90e23', 'message': 'Online migration tool for populating queued-for-delete\n\nIntroducing a data migration tool for populating the new column\nqueued_for_delete, for existing instance_mappings. If the vm_state\nof the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""\nqueued_fro_delete will be set to True, else it will be in its\ndefault value, False. The tool is not multi-cell aware like most of\nthe other migration tools and uses a global marker to ensure re-running\nof command doesn\'t iterate over already mapped records.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a\n'}, {'number': 2, 'created': '2018-07-19 23:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06f422795035020b1aa803e71114f49bdc072aa9', 'message': 'Online migration tool for populating queued-for-delete\n\nIntroducing a data migration tool for populating the new column\nqueued_for_delete, for existing instance_mappings. If the vm_state\nof the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""\nqueued_for_delete will be set to True, else it will be in its\ndefault value, False. The tool is not multi-cell aware like most of\nthe other migration tools and uses a global marker to ensure re-running\nof command doesn\'t iterate over already mapped records.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a\n'}, {'number': 3, 'created': '2018-07-19 23:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb005d572421cecef89c98d1ea98507515a0853', 'message': 'Online migration tool for populating queued-for-delete\n\nIntroducing a data migration tool for populating the new column\nqueued_for_delete, for existing instance_mappings. If the vm_state\nof the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""\nqueued_for_delete will be set to True, else it will be in its\ndefault value, False. The tool is not multi-cell aware like most of\nthe other migration tools and uses a global marker to ensure re-running\nof command doesn\'t iterate over already mapped records.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a\n'}, {'number': 4, 'created': '2018-07-23 11:54:40.000000000', 'files': ['nova/tests/functional/db/test_instance_mapping.py', 'nova/objects/instance_mapping.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/da52afc486b774ebc23c5dfa5e4cb5d8ed7f0e4d', 'message': 'Online migration tool for populating queued-for-delete\n\nIntroducing a data migration tool for populating the new column\nqueued_for_delete, for existing instance_mappings. If the vm_state\nof the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""\nqueued_for_delete will be set to True, else it will be in its\ndefault value, False. The tool is not multi-cell aware like most of\nthe other migration tools and uses a global marker to ensure re-running\nof command doesn\'t iterate over already mapped records.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a\n'}]",35,582536,da52afc486b774ebc23c5dfa5e4cb5d8ed7f0e4d,65,17,4,26936,,,0,"Online migration tool for populating queued-for-delete

Introducing a data migration tool for populating the new column
queued_for_delete, for existing instance_mappings. If the vm_state
of the instance in the cell is either ""DELETED"" or ""SOFT_DELETED""
queued_for_delete will be set to True, else it will be in its
default value, False. The tool is not multi-cell aware like most of
the other migration tools and uses a global marker to ensure re-running
of command doesn't iterate over already mapped records.

Related to blueprint handling-down-cell

Change-Id: Ia30405de4bf8e8ac07b942e44b05a868a18eb80a
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/582536/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_instance_mapping.py', 'nova/objects/instance_mapping.py', 'nova/cmd/manage.py']",3,b9da4c33461c185e6219ff7544ec898bf4b90e23,bp/handling-down-cell,"from nova.objects import instance_mapping as inst_mapping_obj # Added in Rocky inst_mapping_obj.populate_queued_for_delete,",,135,0
openstack%2Fnova~master~I379678dfdb2609f12a572d4f99c8e9da4deab803,openstack/nova,master,I379678dfdb2609f12a572d4f99c8e9da4deab803,compute: Ensure pre-migrating instances are destroyed during init_host,MERGED,2018-04-18 13:50:53.000000000,2018-08-02 23:05:15.000000000,2018-07-25 04:38:10.000000000,"[{'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-18 13:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42432322b4b9cfc123ca7a38f29eb94dad612163', 'message': 'WIP compute: Ignore active evacuations during _init_instance\n\nThis change also provides pre-migrating evacuations to\n_destroy_evacuated_instances ensuring evacuated instances are cleaned\nfrom these nodes correctly.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 2, 'created': '2018-05-29 12:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cee381224cc0e204be29488645e4ae4522f2ff3', 'message': 'compute: Ignore active evacuations during _init_instance\n\nThis change also provides pre-migrating evacuations to\n_destroy_evacuated_instances ensuring evacuating instances in this state\nare also cleaned from these nodes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 3, 'created': '2018-06-12 16:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87de0c79497b821f91dd3b954836a2c150df78dc', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early enough during the evacuation\nprocess.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations and provides these to\n_destroy_evacuated_instances. Additionally these records are also used\nwithin init_host to skip running init_instance against any instance\nassociated with an active evacuation.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 4, 'created': '2018-06-19 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef49f3260b72f0b6ee9c73dd05324bbcac50c25', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 5, 'created': '2018-06-19 14:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5bc5d3864372e15effa811cd8746d2bb8f7f157', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 6, 'created': '2018-06-20 09:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9a98b0178006944f8228eae6964c7a1094e27e8', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 7, 'created': '2018-06-20 19:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02c14bfa7545b69f4c35fb7e95c2d5f38e1687c8', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 8, 'created': '2018-06-28 12:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b7d216e7e04d675a26e86646824c10c579d814a', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 9, 'created': '2018-06-28 12:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e9a6ef56e74aaf9d518b6ee294c33758fce7289', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}, {'number': 10, 'created': '2018-07-20 19:46:27.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4988cdabf311d29cf64af732091068cfabeedaa', 'message': 'compute: Ensure pre-migrating instances are destroyed during init_host\n\nPreviously _destroy_evacuated_instances would not remove instances\nassociated with evacuation migration records in a pre-migrating state.\nThis could lead to a race between the original source host and the new\ndestination if the source returned early, calling init_instance during\nthe evacuation process.\n\nThis change now includes pre-migrating migration records when looking\nfor active evacuations. Additionally the dict of evacuating instances is\nthen returned to init_host and used to skip running init_instance\nagainst such instances ensuring no race occurs between the two computes.\n\nCloses-bug: #1764883\nChange-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803\n'}]",31,562284,c4988cdabf311d29cf64af732091068cfabeedaa,128,20,10,10135,,,0,"compute: Ensure pre-migrating instances are destroyed during init_host

Previously _destroy_evacuated_instances would not remove instances
associated with evacuation migration records in a pre-migrating state.
This could lead to a race between the original source host and the new
destination if the source returned early, calling init_instance during
the evacuation process.

This change now includes pre-migrating migration records when looking
for active evacuations. Additionally the dict of evacuating instances is
then returned to init_host and used to skip running init_instance
against such instances ensuring no race occurs between the two computes.

Closes-bug: #1764883
Change-Id: I379678dfdb2609f12a572d4f99c8e9da4deab803
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/562284/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1764883.py']",2,42432322b4b9cfc123ca7a38f29eb94dad612163,bug/1764883," self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertNotEqual(source_compute, server['OS-EXT-SRV-ATTR:host'])"," self._wait_for_state_change(self.api, server, 'ERROR') self.assertEqual(source_compute, server['OS-EXT-SRV-ATTR:host'])",35,19
openstack%2Fneutron~master~Ibc9f3093318d92027eaaf81bd08401c0f02ae414,openstack/neutron,master,Ibc9f3093318d92027eaaf81bd08401c0f02ae414,Fix ml2 hierarchical port binding driver check error.,MERGED,2018-05-21 06:29:14.000000000,2018-08-02 23:05:05.000000000,2018-07-20 19:01:41.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27815}]","[{'number': 1, 'created': '2018-05-21 06:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9677e9e7cddd4eff31f41f002a1456c964f42172', 'message': 'Fix ml2 hierarchical port binding driver check error.\n\nAvoid binding loop caused by the wrong comparison between ""id"" and ""segmentation_id"" of a ""segment"" object.\n\nChange-Id: Ibc9f3093318d92027eaaf81bd08401c0f02ae414\nCloses-Bug: #1760029\n'}, {'number': 2, 'created': '2018-06-01 11:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0d3f1b1c46e427a737a744f512d19b281408bd8', 'message': 'Fix ml2 hierarchical port binding driver check error.\n\nAvoid binding loop caused by the wrong comparison between\n""id"" and ""segmentation_id"" of a ""segment"" object.\n\nChange-Id: Ibc9f3093318d92027eaaf81bd08401c0f02ae414\nCloses-Bug: #1760029\n'}, {'number': 3, 'created': '2018-07-20 05:57:05.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/plugins/ml2/managers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/69b83526303329b8239f839b2869acb1128387e5', 'message': 'Fix ml2 hierarchical port binding driver check error.\n\nAvoid binding loop caused by the wrong comparison between\n""id"" and ""segmentation_id"" of a ""segment"" object.\n\nChange-Id: Ibc9f3093318d92027eaaf81bd08401c0f02ae414\nCloses-Bug: #1760029\n'}]",1,569715,69b83526303329b8239f839b2869acb1128387e5,46,13,3,27815,,,0,"Fix ml2 hierarchical port binding driver check error.

Avoid binding loop caused by the wrong comparison between
""id"" and ""segmentation_id"" of a ""segment"" object.

Change-Id: Ibc9f3093318d92027eaaf81bd08401c0f02ae414
Closes-Bug: #1760029
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/569715/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/plugins/ml2/managers.py']",2,9677e9e7cddd4eff31f41f002a1456c964f42172,bug/1760029, segment_ids_to_bind = {s[api.ID], segment_ids_to_bind = {s[api.SEGMENTATION_ID],7,7
openstack%2Fneutron~master~I4ed5de9238800c59a8c505e8d94ee508fe193882,openstack/neutron,master,I4ed5de9238800c59a8c505e8d94ee508fe193882,bump neutron-lib requirements to 1.18.0,MERGED,2018-07-18 17:20:00.000000000,2018-08-02 23:05:02.000000000,2018-07-20 04:23:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-07-18 17:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9503fe0098932c2f44ba28f456ac345d2d01940', 'message': 'bump neutron-lib requirements to 1.18.0\n\nThis patch updates the requirements.txt and lower-constraints.txt to\nuse neutron-lib 1.18.0 that will be our Rocky GM candidate (assuming no\nproblems crop up).\n\nDepends-On: https://review.openstack.org/#/c/583295/\nChange-Id: I4ed5de9238800c59a8c505e8d94ee508fe193882\n'}, {'number': 2, 'created': '2018-07-19 12:29:58.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e9f270e913f26a16f40f161c333e54f2dbdef7', 'message': 'bump neutron-lib requirements to 1.18.0\n\nThis patch updates the requirements.txt and lower-constraints.txt to\nuse neutron-lib 1.18.0 that will be our Rocky GM candidate (assuming no\nproblems crop up).\n\nChange-Id: I4ed5de9238800c59a8c505e8d94ee508fe193882\n'}]",0,583671,02e9f270e913f26a16f40f161c333e54f2dbdef7,17,9,2,5367,,,0,"bump neutron-lib requirements to 1.18.0

This patch updates the requirements.txt and lower-constraints.txt to
use neutron-lib 1.18.0 that will be our Rocky GM candidate (assuming no
problems crop up).

Change-Id: I4ed5de9238800c59a8c505e8d94ee508fe193882
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/583671/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,b9503fe0098932c2f44ba28f456ac345d2d01940,bump-neutronlib-to-1.18.0,neutron-lib==1.18.0,neutron-lib==1.17.0,2,2
openstack%2Fnova~master~I9af2348cf7dba53e0fef4054bcedcd5b0c626f50,openstack/nova,master,I9af2348cf7dba53e0fef4054bcedcd5b0c626f50,Fix ServerMigrationSampleJsonTests to use sample files from version dir,MERGED,2018-07-14 02:30:09.000000000,2018-08-02 23:04:59.000000000,2018-07-29 06:36:42.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-14 02:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b57085ae767a6e4ea1045eb35ae5565d9252927', 'message': ""Fix ServerMigrationSampleJsonTests to use sample files from version dir\n\nThe ServerMigrationSampleJsonTests functional tests set up\n``self.api.microversion`` to 2.22 in its' setUp(), which use\nsample files from non version dir.\n\nFor consistency, this commit makes these tests to use sample\nfiles from versioned dir.\n\nChange-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50\n""}, {'number': 2, 'created': '2018-07-14 02:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcdbee810a9300251716c7664f43a7768aacd163', 'message': ""Fix ServerMigrationSampleJsonTests to use sample files from version dir\n\nThe ServerMigrationSampleJsonTests functional tests set up\n``self.api.microversion`` to 2.22 in its' setUp(), which use\nsample files from non version dir.\n\nFor consistency, this commit makes these tests to use sample\nfiles from versioned dir.\n\nChange-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50\n""}, {'number': 3, 'created': '2018-07-14 08:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05df69f17b6b8a199aeb102e710046f5286535d1', 'message': ""Fix ServerMigrationSampleJsonTests to use sample files from version dir\n\nThe ServerMigrationSampleJsonTests functional tests set up\n``self.api.microversion`` to 2.22 in its' setUp(), which use\nsample files from non version dir.\n\nFor consistency, this commit makes these tests to use sample\nfiles from versioned dir.\n\nChange-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50\n""}, {'number': 4, 'created': '2018-07-19 05:13:24.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.22/live-migrate-server.json.tpl', 'api-ref/source/server-migrations.inc', 'doc/api_samples/server-migrations/v2.22/force_complete.json', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.22/force_complete.json.tpl', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'doc/api_samples/server-migrations/v2.22/live-migrate-server.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/064f215172b78d18f18699f1cece7f2b61d198ad', 'message': ""Fix ServerMigrationSampleJsonTests to use sample files from version dir\n\nThe ServerMigrationSampleJsonTests functional tests set up\n``self.api.microversion`` to 2.22 in its' setUp(), which use\nsample files from non version dir.\n\nFor consistency, this commit makes these tests to use sample\nfiles from versioned dir.\n\nChange-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50\n""}]",2,582702,064f215172b78d18f18699f1cece7f2b61d198ad,54,20,4,8556,,,0,"Fix ServerMigrationSampleJsonTests to use sample files from version dir

The ServerMigrationSampleJsonTests functional tests set up
``self.api.microversion`` to 2.22 in its' setUp(), which use
sample files from non version dir.

For consistency, this commit makes these tests to use sample
files from versioned dir.

Change-Id: I9af2348cf7dba53e0fef4054bcedcd5b0c626f50
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/582702/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.22/live-migrate-server.json.tpl', 'doc/api_samples/server-migrations/v2.22/force_complete.json', 'nova/tests/functional/api_sample_tests/api_samples/server-migrations/v2.22/force_complete.json.tpl', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'doc/api_samples/server-migrations/v2.22/live-migrate-server.json']",5,5b57085ae767a6e4ea1045eb35ae5565d9252927,,,,1,1
openstack%2Fnova~master~I30f3a385565dc31651d136d80e499be181fa436e,openstack/nova,master,I30f3a385565dc31651d136d80e499be181fa436e,Fix a typo in comment in resource_provider.py,MERGED,2018-08-02 06:26:11.000000000,2018-08-02 23:04:41.000000000,2018-08-02 15:18:20.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-02 06:26:11.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cb1893d58bd5816a569c70dc076fae4134f0ca4', 'message': 'Fix a typo in comment in resource_provider.py\n\nThere is a typo in comment, this comment is very\nimportant for readers to understand what the\nfunction is doing, so fix it.\n\nTrivial-fix\n\nChange-Id: I30f3a385565dc31651d136d80e499be181fa436e\n'}]",0,588145,6cb1893d58bd5816a569c70dc076fae4134f0ca4,22,18,1,15888,,,0,"Fix a typo in comment in resource_provider.py

There is a typo in comment, this comment is very
important for readers to understand what the
function is doing, so fix it.

Trivial-fix

Change-Id: I30f3a385565dc31651d136d80e499be181fa436e
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/588145/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/objects/resource_provider.py'],1,6cb1893d58bd5816a569c70dc076fae4134f0ca4,trivial-fix, # ON rpt.trait_id = t.id, # AND rpt.trait_id = t.id,1,1
openstack%2Fneutron~master~I1cb170de1dbb7ac5380d386d850241f3c4a2f225,openstack/neutron,master,I1cb170de1dbb7ac5380d386d850241f3c4a2f225,Adding resources callback handler,MERGED,2018-07-06 07:52:51.000000000,2018-08-02 23:04:35.000000000,2018-08-02 10:06:40.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-07-06 07:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0233dbbfedb07924ee3a51f1fba7e36851aa21c', 'message': 'WIP: Adding resources callback handler\n\nThis patch allow logging plugin handle resources callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 2, 'created': '2018-07-09 06:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/559509292259c6cb3ee7a56db0ee87b477006dbd', 'message': 'Adding resources callback handler\n\nThis patch allow logging plugin handle resources callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 3, 'created': '2018-07-09 07:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55ad42cc0ceba79668ef15cd7a8febd42ae1e829', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 4, 'created': '2018-07-09 09:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9835cc4d541312626ff29e35d88a4c48e37e50d0', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 5, 'created': '2018-07-11 02:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/358c51f3d5795803ea937b82c4967f670c083e86', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 6, 'created': '2018-07-11 07:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5a16760ad9654912ef713ec95b4c9687e207051', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 7, 'created': '2018-07-11 11:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c5c5232df29fd3b5aaf03fe8fd87874341cb7d4', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 8, 'created': '2018-07-11 11:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76faea68a7965ce83f48029895b63a24f4de3547', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 9, 'created': '2018-07-12 08:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/726969b5d9b9b5172bcb4fc044c12726bed4410a', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 10, 'created': '2018-07-14 06:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fad67510ff5deacd3a201e3e560cc65d0f0b5a64', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 11, 'created': '2018-07-18 05:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb63b7ab3c5e5c1f15ad9b5801675ae9fda726c1', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 12, 'created': '2018-07-23 08:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ad518eab891776dbe6854e327955e63b18c2396', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 13, 'created': '2018-07-24 01:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9487e605f3b612072577fd1cbe30edfadc6d25c', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 14, 'created': '2018-07-28 10:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4b436364b345ee2199df3620962bdf35d7bdd15', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 15, 'created': '2018-08-01 03:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a781d4dde7863f5ce3e6b6acab2477a0d5b88d0', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}, {'number': 16, 'created': '2018-08-01 22:20:38.000000000', 'files': ['neutron/services/logapi/common/sg_callback.py', 'neutron/tests/unit/services/logapi/common/test_sg_callback.py', 'neutron/services/logapi/drivers/openvswitch/driver.py', 'neutron/services/logapi/drivers/manager.py', 'neutron/tests/unit/services/logapi/drivers/test_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00b923ddf37de2176168f5a525b4190dd4e04c4d', 'message': 'Adding resources callback handler\n\nThis patch allows logging plugin to handle resource callback\nevents AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security\ngroup, firewall group.\n\nCo-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>\nPartial-Bug: #1720727\nChange-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225\n'}]",17,580575,00b923ddf37de2176168f5a525b4190dd4e04c4d,105,17,16,15471,,,0,"Adding resources callback handler

This patch allows logging plugin to handle resource callback
events AFTER_UPDATE/AFTER_CREATE/AFTER_DELETE of security
group, firewall group.

Co-Authored-By: Kim Bao Long <longkb@vn.fujitsu.com>
Partial-Bug: #1720727
Change-Id: I1cb170de1dbb7ac5380d386d850241f3c4a2f225
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/580575/15 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/common/sg_callback.py', 'neutron/services/logapi/drivers/openvswitch/driver.py', 'neutron/services/logapi/drivers/manager.py']",3,f0233dbbfedb07924ee3a51f1fba7e36851aa21c,bug/1720727,"RESOURCE_CB_CLASS_MAP = {} # This function should be called by log_driver def register(resource_type, obj_class): if resource_type not in RESOURCE_CB_CLASS_MAP: RESOURCE_CB_CLASS_MAP[resource_type] = obj_class class ResourceCallBackBase(object): def __init__(self, resource, push_api): self.resource_push_api = push_api for event in (events.AFTER_CREATE, events.AFTER_UPDATE, events.AFTER_DELETE): registry.subscribe(self.handle_event, resource, event) def handle_event(self, resource, event, trigger, context, **kwargs): """"""Handle resource callback event"""""" # Handle callback event AFTER_UPDATE, AFTER_DELETE, AFTER_CREATE of # resources which related to log object. For example: when a sg_rule # is add or delete from security group, if this rule is bound by a # log_resource, then it should tell to agent to update log_drivers. self._setup_resources_cb_handle() def _setup_resources_cb_handle(self): for res, obj_class in RESOURCE_CB_CLASS_MAP.items(): obj_class(res, self.call)","from neutron_lib.callbacks import resourcesfrom neutron.services.logapi.common import db_api@registry.has_registry_receivers @registry.receives(resources.SECURITY_GROUP_RULE, [events.AFTER_CREATE, events.AFTER_DELETE]) def _handle_sg_rule_callback(self, resource, event, trigger, **kwargs): """"""Handle sg_rule create/delete events This method handles sg_rule events, if sg_rule bound by log_resources, it should tell to agent to update log_drivers. """""" context = kwargs['context'] sg_rules = kwargs.get('security_group_rule') if sg_rules: sg_id = sg_rules.get('security_group_id') else: sg_id = kwargs.get('security_group_id') log_resources = db_api.get_logs_bound_sg(context, sg_id) if log_resources: self.call( log_const.RESOURCE_UPDATE, context, log_resources)",68,24
openstack%2Fnova~master~I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6,openstack/nova,master,I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6,Make ResourceTracker.stats node-specific,MERGED,2018-07-31 21:31:40.000000000,2018-08-02 23:03:44.000000000,2018-08-02 02:30:53.000000000,"[{'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-31 21:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cab8cbf9a0e011d9c3b4c36ee52864c9e9db275', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleading stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}, {'number': 2, 'created': '2018-07-31 22:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd1b33860feb98e1a8b924286090b53dd47ff220', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleading stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}, {'number': 3, 'created': '2018-08-01 13:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a10980a6f4ba04436e2b42ca9d8a456e3fb116fe', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleading stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}, {'number': 4, 'created': '2018-08-01 14:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0dfc6555a02d5328102006f9e7fc4916db79835', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleaking stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}, {'number': 5, 'created': '2018-08-01 17:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/992f049825905ace410bd0ac0d6e7a2cc0726119', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleaking stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}, {'number': 6, 'created': '2018-08-01 18:49:07.000000000', 'files': ['nova/tests/functional/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b7d86bb04f92d21cf954cd6b3463c9fcc637e6', 'message': 'Make ResourceTracker.stats node-specific\n\nAs of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, the ResourceTracker manages multiple compute nodes\nvia its ""compute_nodes"" variable, but the ""stats"" variable\nwas still being shared across all nodes, which leads to\nleaking stats across nodes in an ironic deployment where\na single nova-compute service host is managing multiple\nironic instances (nodes).\n\nThis change makes ResourceTracker.stats node-specific\nwhich fixes the ironic leak but also allows us to remove\nthe stats deepcopy while iterating over instances which\nshould improve performance for single-node deployments with\npotentially a large number of instances, i.e. vCenter.\n\nChange-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6\nCloses-Bug: #1784705\nCloses-Bug: #1777422\n'}]",12,587636,b5b7d86bb04f92d21cf954cd6b3463c9fcc637e6,73,22,6,6873,,,0,"Make ResourceTracker.stats node-specific

As of change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in
Ocata, the ResourceTracker manages multiple compute nodes
via its ""compute_nodes"" variable, but the ""stats"" variable
was still being shared across all nodes, which leads to
leaking stats across nodes in an ironic deployment where
a single nova-compute service host is managing multiple
ironic instances (nodes).

This change makes ResourceTracker.stats node-specific
which fixes the ironic leak but also allows us to remove
the stats deepcopy while iterating over instances which
should improve performance for single-node deployments with
potentially a large number of instances, i.e. vCenter.

Change-Id: I0b9e5b711878fa47ba90e43c0b41437b57cf8ef6
Closes-Bug: #1784705
Closes-Bug: #1777422
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/587636/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,8cab8cbf9a0e011d9c3b4c36ee52864c9e9db275,bug/1784705,"from nova.compute import stats as compute_stats # Dict of Stats objects, keyed by nodename self.stats = collections.defaultdict(compute_stats.Stats) nodename = resources['hypervisor_hostname'] if nodename in self.stats: stats = self.stats[nodename] else: stats = compute_stats.Stats() self.stats[nodename] = stats prev_failed_builds = stats.get('failed_builds', 0) stats.clear() stats['failed_builds'] = prev_failed_builds stats.digest_stats(resources.get('stats')) compute_node.stats = stats stats = self.stats[nodename] cn.running_vms = stats.num_instances stats = self.stats[nodename] stats.update_stats_for_instance(instance, is_removed_instance) cn.stats = stats cn.current_workload = stats.calculate_workload() def build_failed(self, nodename): """"""Increments the failed_builds stats for the given node."""""" self.stats[nodename].build_failed() def build_succeeded(self, nodename): """"""Resets the failed_builds stats for the given node."""""" self.stats[nodename].build_succeeded()","from nova.compute import stats self.stats = stats.Stats() prev_failed_builds = self.stats.get('failed_builds', 0) self.stats.clear() self.stats['failed_builds'] = prev_failed_builds self.stats.digest_stats(resources.get('stats')) compute_node.stats = copy.deepcopy(self.stats) cn.running_vms = self.stats.num_instances self.stats.update_stats_for_instance(instance, is_removed_instance) cn.stats = copy.deepcopy(self.stats) cn.current_workload = self.stats.calculate_workload()",40,26
openstack%2Fnova~master~Ib5fc6e4efae29dd88ce92df834700d2121ed8076,openstack/nova,master,Ib5fc6e4efae29dd88ce92df834700d2121ed8076,Remove redundant join in _anchors_for_sharing_providers,MERGED,2018-07-31 10:31:24.000000000,2018-08-02 23:03:14.000000000,2018-07-31 18:28:38.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-31 10:31:24.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c66a4b029cc9f939f596cd08ae4c20894d3550e', 'message': 'Remove redundant join in _anchors_for_sharing_providers\n\nThere is a redundant join when we want to get id from\n_anchors_for_sharing_providers. The last outerjoin is used to get the\nrp.UUID according rp.id, if we set get_id=True, we no longer need this\nouter join.\n\nSo, we remove the redundant join in this patch.\n\nChange-Id: Ib5fc6e4efae29dd88ce92df834700d2121ed8076\nCloses-bug: #1784604\n'}]",1,587377,1c66a4b029cc9f939f596cd08ae4c20894d3550e,19,17,1,20722,,,0,"Remove redundant join in _anchors_for_sharing_providers

There is a redundant join when we want to get id from
_anchors_for_sharing_providers. The last outerjoin is used to get the
rp.UUID according rp.id, if we set get_id=True, we no longer need this
outer join.

So, we remove the redundant join in this patch.

Change-Id: Ib5fc6e4efae29dd88ce92df834700d2121ed8076
Closes-bug: #1784604
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/587377/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py']",2,1c66a4b029cc9f939f596cd08ae4c20894d3550e,bug/1784604," # Get same result (id format) when we set get_id=True expected = set([(s1.id, rp.id) for rp in (s1, r1, r2, r3, s5)]) self.assertItemsEqual( expected, rp_obj._anchors_for_sharing_providers(self.ctx, [s1.id], get_id=True)) ",,12,5
openstack%2Fnova~master~Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a,openstack/nova,master,Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a,[placement] Retry allocation writes server side,MERGED,2018-07-26 11:05:49.000000000,2018-08-02 23:03:08.000000000,2018-07-31 18:28:29.000000000,"[{'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 25695}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-26 11:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a558e73936bacef5633fce5548077fad78bec8', 'message': '[placement] Retry allocation writes server side\n\nThis change adds a fast retry loop around\nAllocationList._set_allocations if a resource provider generation\nconflict happens. It turns out that under high concurrency of allocation\nclaims being made on the same resource provider conflicts can be quite\ncommon and client side retries are insufficient.\n\nBecause both consumer generation and resource provider generations had\nraised the same exception there was no way to distinguish between the\ntwo so a child of ConcurrentUpdateDetected has been created as\nResourceProviderConcurrentUpdateDetected. In the future this will allow\nus to send different error codes to the client as well, but that change\nis not done here.\n\nWhen the conflict is detected, all the resource providers in the\nAllocationList are reloaded and the list objects refreshed.\n\nLogging is provided to indicate:\n\n* at debug that a retry is going to happen\n* at warning that all the retries failed and the client is going to\n  see the conflict\n\nThe tests for this are a bit funky: Some mocks are used to cause the\nconflicts, then the real actions after a couple of iterations.\n\nChange-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a\nCloses-Bug: #1719933\n'}, {'number': 2, 'created': '2018-07-26 16:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb80a4c866f41ceff8577333092d97ae466f22ec', 'message': '[placement] Retry allocation writes server side\n\nThis change adds a fast retry loop around\nAllocationList._set_allocations if a resource provider generation\nconflict happens. It turns out that under high concurrency of allocation\nclaims being made on the same resource provider conflicts can be quite\ncommon and client side retries are insufficient.\n\nBecause both consumer generation and resource provider generations had\nraised the same exception there was no way to distinguish between the\ntwo so a child of ConcurrentUpdateDetected has been created as\nResourceProviderConcurrentUpdateDetected. In the future this will allow\nus to send different error codes to the client as well, but that change\nis not done here.\n\nWhen the conflict is detected, all the resource providers in the\nAllocationList are reloaded and the list objects refreshed.\n\nLogging is provided to indicate:\n\n* at debug that a retry is going to happen\n* at warning that all the retries failed and the client is going to\n  see the conflict\n\nThe tests for this are a bit funky: Some mocks are used to cause the\nconflicts, then the real actions after a couple of iterations.\n\nChange-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a\nCloses-Bug: #1719933\n'}, {'number': 3, 'created': '2018-07-27 14:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d48e2cf0191bad7c17b09af8ae5cdb972611a952', 'message': '[placement] Retry allocation writes server side\n\nThis change adds a fast retry loop around\nAllocationList._set_allocations if a resource provider generation\nconflict happens. It turns out that under high concurrency of allocation\nclaims being made on the same resource provider conflicts can be quite\ncommon and client side retries are insufficient.\n\nBecause both consumer generation and resource provider generations had\nraised the same exception there was no way to distinguish between the\ntwo so a child of ConcurrentUpdateDetected has been created as\nResourceProviderConcurrentUpdateDetected. In the future this will allow\nus to send different error codes to the client as well, but that change\nis not done here.\n\nWhen the conflict is detected, all the resource providers in the\nAllocationList are reloaded and the list objects refreshed.\n\nLogging is provided to indicate:\n\n* at debug that a retry is going to happen\n* at warning that all the retries failed and the client is going to\n  see the conflict\n\nThe tests for this are a bit funky: Some mocks are used to cause the\nconflicts, then the real actions after a couple of iterations.\n\nChange-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a\nCloses-Bug: #1719933\n'}, {'number': 4, 'created': '2018-07-28 10:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8e1f14bce646173a6cb3557971561c9b889f862', 'message': '[placement] Retry allocation writes server side\n\nThis change adds a fast retry loop around\nAllocationList._set_allocations if a resource provider generation\nconflict happens. It turns out that under high concurrency of allocation\nclaims being made on the same resource provider conflicts can be quite\ncommon and client side retries are insufficient.\n\nBecause both consumer generation and resource provider generations had\nraised the same exception there was no way to distinguish between the\ntwo so a child of ConcurrentUpdateDetected has been created as\nResourceProviderConcurrentUpdateDetected. In the future this will allow\nus to send different error codes to the client as well, but that change\nis not done here.\n\nWhen the conflict is detected, all the resource providers in the\nAllocationList are reloaded and the list objects refreshed.\n\nLogging is provided to indicate:\n\n* at debug that a retry is going to happen\n* at warning that all the retries failed and the client is going to\n  see the conflict\n\nThe tests for this are a bit funky: Some mocks are used to cause the\nconflicts, then the real actions after a couple of iterations.\n\nChange-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a\nCloses-Bug: #1719933\n'}, {'number': 5, 'created': '2018-07-31 09:57:48.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/exception.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/72e4c4c8d7fb146862b899337626485dad10f15b', 'message': '[placement] Retry allocation writes server side\n\nThis change adds a fast retry loop around\nAllocationList._set_allocations if a resource provider generation\nconflict happens. It turns out that under high concurrency of allocation\nclaims being made on the same resource provider conflicts can be quite\ncommon and client side retries are insufficient.\n\nBecause both consumer generation and resource provider generations had\nraised the same exception there was no way to distinguish between the\ntwo so a child of ConcurrentUpdateDetected has been created as\nResourceProviderConcurrentUpdateDetected. In the future this will allow\nus to send different error codes to the client as well, but that change\nis not done here.\n\nWhen the conflict is detected, all the resource providers in the\nAllocationList are reloaded and the list objects refreshed.\n\nLogging is provided to indicate:\n\n* at debug that a retry is going to happen\n* at warning that all the retries failed and the client is going to\n  see the conflict\n\nThe tests for this are a bit funky: Some mocks are used to cause the\nconflicts, then the real actions after a couple of iterations.\n\nChange-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a\nCloses-Bug: #1719933\n'}]",28,586048,72e4c4c8d7fb146862b899337626485dad10f15b,94,23,5,11564,,,0,"[placement] Retry allocation writes server side

This change adds a fast retry loop around
AllocationList._set_allocations if a resource provider generation
conflict happens. It turns out that under high concurrency of allocation
claims being made on the same resource provider conflicts can be quite
common and client side retries are insufficient.

Because both consumer generation and resource provider generations had
raised the same exception there was no way to distinguish between the
two so a child of ConcurrentUpdateDetected has been created as
ResourceProviderConcurrentUpdateDetected. In the future this will allow
us to send different error codes to the client as well, but that change
is not done here.

When the conflict is detected, all the resource providers in the
AllocationList are reloaded and the list objects refreshed.

Logging is provided to indicate:

* at debug that a retry is going to happen
* at warning that all the retries failed and the client is going to
  see the conflict

The tests for this are a bit funky: Some mocks are used to cause the
conflicts, then the real actions after a couple of iterations.

Change-Id: Id614d609fc8f3ed2d2ff29a2b52143f53b3b1b9a
Closes-Bug: #1719933
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/586048/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/exception.py', 'nova/tests/functional/api/openstack/placement/db/test_resource_provider.py']",3,d0a558e73936bacef5633fce5548077fad78bec8,bug/1719933,"import functools @mock.patch('nova.api.openstack.placement.objects.resource_provider.LOG') def test_set_allocations_retry(self, mock_log): """"""Test server side allocation write retry handling."""""" # Make sure we set the retry count back to normal, not matter # what happens in these tests. saved_retry_count = rp_obj.AllocationList.ALLOCATION_RETRY_COUNT def _cleanup(): rp_obj.AllocationList.ALLOCATION_RETRY_COUNT = saved_retry_count self.addCleanup(_cleanup) # Create a single resource provider and give it some inventory. rp1 = self._create_provider('rp1') tb.add_inventory(rp1, fields.ResourceClass.VCPU, 24, allocation_ratio=16.0) tb.add_inventory(rp1, fields.ResourceClass.MEMORY_MB, 1024, min_unit=64, max_unit=1024, step_size=64) original_generation = rp1.generation # Verify the generation is what we expect (we'll be checking again # later). self.assertEqual(2, original_generation) # Create a consumer and have it make an allocation. inst_consumer = consumer_obj.Consumer( self.ctx, uuid=uuidsentinel.instance, user=self.user_obj, project=self.project_obj) inst_consumer.create() alloc_list = rp_obj.AllocationList(context=self.ctx, objects=[ rp_obj.Allocation( context=self.ctx, consumer=inst_consumer, resource_provider=rp1, resource_class=fields.ResourceClass.VCPU, used=12), rp_obj.Allocation( context=self.ctx, consumer=inst_consumer, resource_provider=rp1, resource_class=fields.ResourceClass.MEMORY_MB, used=1024) ]) # Make sure the right exception happens when the retry loop expires. rp_obj.AllocationList.ALLOCATION_RETRY_COUNT = 0 self.assertRaises( exception.ResourceProviderConcurrentUpdateDetected, alloc_list.replace_all) mock_log.warning.called_with( 'Exceeded retry limit on allocations write') # Make sure the right thing happens after a small number of failures. # There's a bit of mock magic going on here to enusre that we can # both do some side effects on _set_allocations as well as have the # real behavior. Two generation conflicts and then a success. mock_log.reset_mock() rp_obj.AllocationList.ALLOCATION_RETRY_COUNT = 3 unmocked_set = functools.partial( rp_obj.AllocationList._set_allocations, alloc_list) with mock.patch( 'nova.api.openstack.placement.objects.resource_provider.' 'AllocationList._set_allocations') as mock_set: exceptions = iter([ exception.ResourceProviderConcurrentUpdateDetected(), exception.ResourceProviderConcurrentUpdateDetected(), ]) def side_effect(*args, **kwargs): try: raise next(exceptions) except StopIteration: return unmocked_set(*args, **kwargs) mock_set.side_effect = side_effect alloc_list.replace_all() self.assertEqual(2, mock_log.debug.call_count) mock_log.debug.called_with( 'Retrying allocations write on resource provider ' 'generation conflict') # Confirm we're using a different rp object after the change # and that it has a higher generation. new_rp = alloc_list[0].resource_provider self.assertEqual(original_generation, rp1.generation) self.assertEqual(original_generation + 1, new_rp.generation) ",,135,4
openstack%2Fnova~master~I32212b4d8180e947fdc958449aebd822f50e97fd,openstack/nova,master,I32212b4d8180e947fdc958449aebd822f50e97fd,Retry decorator fix for instances which go into ERROR state during bulk delete,MERGED,2018-04-21 12:15:10.000000000,2018-08-02 23:02:38.000000000,2018-07-31 01:20:01.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12531}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14387}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27482}]","[{'number': 1, 'created': '2018-04-21 12:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/592454b2b19e8cdebd5862ba0c92bfa227f15455', 'message': 'NCP-2367-deallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line ""Setting\ninstance vm_state to ERROR"".Failure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: 1765942\nJIRA: NCP-2367\n'}, {'number': 2, 'created': '2018-04-25 10:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e19de7dcb5276d4df0eec546e25a766e4705cee2', 'message': 'NCP-2367-deallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line ""Setting\ninstance vm_state to ERROR"".Failure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: 1765942\nJIRA: NCP-2367\n'}, {'number': 3, 'created': '2018-05-07 11:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a83395dbb761f8b41b347fc3a3322367a05fea62', 'message': 'NCP-2367-deallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line ""Setting\ninstance vm_state to ERROR"".Failure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: 1765942\nJIRA: NCP-2367\n'}, {'number': 4, 'created': '2018-05-07 19:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ccd2f527873ba289be0aaeac9367ba811be6366', 'message': 'NCP-2367-deallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line ""Setting\ninstance vm_state to ERROR"".Failure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: 1765942\nJIRA: NCP-2367\n'}, {'number': 5, 'created': '2018-05-11 08:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0d9f52ffd6dc44c22cfd3db32871157f8e85e49', 'message': 'NCP-2367-deallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line ""Setting\ninstance vm_state to ERROR"".Failure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: 1765942\n'}, {'number': 6, 'created': '2018-05-21 11:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff3934cf8eb7f8fdecaa3a2d75332c8f0f785f9c', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\n""}, {'number': 7, 'created': '2018-05-22 17:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25557bbf198d1a44f4eeb4e45fa6f60cb61549b', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n""}, {'number': 8, 'created': '2018-05-22 17:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a345212d071f5b323aa7fe3cb27a6951d681bba3', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n""}, {'number': 9, 'created': '2018-05-22 20:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e026e7da2268dde9f1ec4af042368a53e07d287', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n""}, {'number': 10, 'created': '2018-05-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce0969fb383899ee00be64d171da25c36a23f217', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n""}, {'number': 11, 'created': '2018-06-04 14:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83ccb5525e1aefcc3ce96ad40bbb114d560c3690', 'message': ""Retry decorator fix for autoscale delete\n\ndeallocate-network-retry\n\nretry fix for VM going to ERROR state during auto-scale delete instance\n\nDelete issued to building server leaves the instance in error state due to\nnot able to deallocate network error.During auto-scale delete, some of\nthe machines go into ERROR state rather than being deleted.This happens\nonce in a while during deletion of the instances at scale.Log line for\nthe failure is 'Setting instance vm_state to ERROR',\nFailure in do_terminate_instance.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n""}, {'number': 12, 'created': '2018-06-07 12:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa7a09767251649c4b1fe8459449995949cfaa4', 'message': 'Retry decorator fix for autoscale delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted.This happens once in a while during\ndeletion huge number of machines concurrently.The failure occurs\nduring deallocation of network.At a later point in time the VM in\nerror state gets deleted freeing up the resources when tried\nmanually.This fix proposes for retires for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}, {'number': 13, 'created': '2018-07-04 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80865cfd617234f40eb49938348e40f03afb9730', 'message': 'Retry decorator fix for autoscale delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted.This happens once in a while during\ndeletion huge number of machines concurrently.The failure occurs\nduring deallocation of network.At a later point in time the VM in\nerror state gets deleted freeing up the resources when tried\nmanually.This fix proposes for retires for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}, {'number': 14, 'created': '2018-07-12 16:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85483215e1631d1b0ca37d364cd5496fe3fbefe2', 'message': 'Retry decorator fix for instances which go into ERROR state during bulk delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted.This happens once in a while during\ndeletion of huge number of machines concurrently.The failure occurs\nduring deallocation of network.At a later point in time the ERROR\nstate gets cleared if the user deletes the instance manually later\non.This fix proposes for retires for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}, {'number': 15, 'created': '2018-07-16 21:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b6e5a867497b89dfbfd8620ae4dd5c9119a87c1', 'message': 'Retry decorator fix for instances which go into ERROR state during bulk delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted.This happens once in a while during\ndeletion of huge number of machines concurrently.The failure occurs\nduring deallocation of network.At a later point in time the ERROR\nstate gets cleared if the user deletes the instance manually later\non.This fix proposes for retires for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}, {'number': 16, 'created': '2018-07-17 04:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5056806f8e2dc8642a393443f3939e16e47a877', 'message': 'Retry decorator fix for instances which go into ERROR state during bulk delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted.This happens once in a while during\ndeletion of huge number of machines concurrently.The failure occurs\nduring deallocation of network.At a later point in time the ERROR\nstate gets cleared if the user deletes the instance manually later\non.This fix proposes for retires for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}, {'number': 17, 'created': '2018-07-30 20:57:51.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c6dda9f8064e0fcdf7ac85d08ed68554083be74b', 'message': 'Retry decorator fix for instances which go into ERROR state during bulk delete\n\nDuring bulk delete, some of the machines go into ERROR state\nrather than being deleted. This happens once in a while during\ndeletion of huge number of machines concurrently. The failure occurs\nduring deallocation of network. At a later point in time the ERROR\nstate gets cleared if the user deletes the instance manually later\non. This fix proposes for retries for certain number of\ntime with variable delay to allow proper deallocation of network.\n\nChange-Id: I32212b4d8180e947fdc958449aebd822f50e97fd\nCloses-Bug: #1765942\n'}]",54,563418,c6dda9f8064e0fcdf7ac85d08ed68554083be74b,241,25,17,27482,,,0,"Retry decorator fix for instances which go into ERROR state during bulk delete

During bulk delete, some of the machines go into ERROR state
rather than being deleted. This happens once in a while during
deletion of huge number of machines concurrently. The failure occurs
during deallocation of network. At a later point in time the ERROR
state gets cleared if the user deletes the instance manually later
on. This fix proposes for retries for certain number of
time with variable delay to allow proper deallocation of network.

Change-Id: I32212b4d8180e947fdc958449aebd822f50e97fd
Closes-Bug: #1765942
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/563418/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,592454b2b19e8cdebd5862ba0c92bfa227f15455,retry_decorator,"import psutil retry_count = 0 max_retries = 3 delay_time = 30 # starting delay 30 sec while True: try: self._delete_instance(context, instance, bdms) except exception.InstanceNotFound: LOG.info(""Instance disappeared during terminate"", instance=instance) except Exception as e: LOG.info('CPU usage %s and memory usage %s during ' 'exception ' % (psutil.cpu_percent(), psutil.virtual_memory())) retry_count = retry_count + 1 LOG.info('Retrying _delete_instance ' 'retrying count %s ', retry_count) if retry_count == max_retries: # max retries done, raise # As we're trying to delete always go to Error if # something goes wrong that _delete_instance # can't handle. with excutils.save_and_reraise_exception(): LOG.exception('Setting instance vm_state to ERROR', instance=instance) self._set_instance_obj_error_state(context, instance) time.sleep(delay_time) delay_time = delay_time * retry_count # backoff time continue break # in case try succeeds, break out of while loop"," try: self._delete_instance(context, instance, bdms) except exception.InstanceNotFound: LOG.info(""Instance disappeared during terminate"", instance=instance) except Exception: # As we're trying to delete always go to Error if something # goes wrong that _delete_instance can't handle. with excutils.save_and_reraise_exception(): LOG.exception('Setting instance vm_state to ERROR', instance=instance) self._set_instance_obj_error_state(context, instance) ",41,13
openstack%2Fnova~master~Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec,openstack/nova,master,Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec,Updated AggregateImagePropertiesIsolation filter illustration,MERGED,2018-07-26 18:29:52.000000000,2018-08-02 23:02:34.000000000,2018-07-30 21:21:53.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17216}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}, {'_account_id': 28171}]","[{'number': 1, 'created': '2018-07-26 18:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c37518dd358fadd3a78abfb4cf3464d543af26c1', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}, {'number': 2, 'created': '2018-07-27 22:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc54ee1cf2ed7f07621f3cb4eccbe646b3f07da4', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}, {'number': 3, 'created': '2018-07-30 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc2860df016cfd475f2cc41af17f4b5233a9a953', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}, {'number': 4, 'created': '2018-07-30 18:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c61efcc6b4ec4cb7761096b64101e6d34238e97b', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}, {'number': 5, 'created': '2018-07-30 19:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32db74221f11cbb5ab30dbb1f750a9f36754ef6f', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}, {'number': 6, 'created': '2018-07-30 19:25:45.000000000', 'files': ['doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a9083d13b0a18fb9832878e19a71d42d206f15f0', 'message': 'Updated AggregateImagePropertiesIsolation filter illustration\n\nThe example given in this section was not matching the explanation\nof how the filter works.\nUpdated the example with right properties and aggregate name\n\nChange-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec\nCloses-Bug: #1684261\n'}]",7,586317,a9083d13b0a18fb9832878e19a71d42d206f15f0,61,17,6,28171,,,0,"Updated AggregateImagePropertiesIsolation filter illustration

The example given in this section was not matching the explanation
of how the filter works.
Updated the example with right properties and aggregate name

Change-Id: Ieadeb0d736cc83a41093e6f4dfeb75d2396976ec
Closes-Bug: #1684261
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/586317/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,c37518dd358fadd3a78abfb4cf3464d543af26c1,bug/1684261, | name | MyWinAgg | | properties | os='windows' | | ... | | name | Win-2012 | | ... | | properties | os='windows' | | ... |, | name | test | | properties | | | ...,7,3
openstack%2Fnova~master~Iadd32c731ebfb5a62308a4d5f907a69f93590935,openstack/nova,master,Iadd32c731ebfb5a62308a4d5f907a69f93590935,[placement] Use a non-nova log capture fixture,MERGED,2018-07-30 16:39:40.000000000,2018-08-02 23:02:29.000000000,2018-08-01 13:32:31.000000000,"[{'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 16:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ffb16ebf6dd05eb47bd66f4f5cc21acf540f501', 'message': ""[placement] Use a non-nova log capture fixture\n\nWe want to avoid using the nova StandardLogging fixture, to limit\nimports from nova, but it has two useful features that we want:\n\n* always capture\n* if the chosen log level is more than DEBUG, format DEBUG message\n  anyway, but don't output\n\nblueprint: placement-extract\n\nChange-Id: Iadd32c731ebfb5a62308a4d5f907a69f93590935\n""}, {'number': 2, 'created': '2018-07-30 18:57:13.000000000', 'files': ['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/test_placement_api.py', 'nova/tests/functional/api/openstack/placement/fixtures/capture.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1de7ac302a3f7fa4228c661fd6e6eea64293dbd0', 'message': ""[placement] Use a non-nova log capture fixture\n\nWe want to avoid using the nova StandardLogging fixture, to limit\nimports from nova, but it has two useful features that we want:\n\n* always capture\n* if the chosen log level is more than DEBUG, format DEBUG message\n  anyway, but don't output\n\nblueprint: placement-extract\n\nChange-Id: Iadd32c731ebfb5a62308a4d5f907a69f93590935\n""}]",5,587130,1de7ac302a3f7fa4228c661fd6e6eea64293dbd0,25,12,2,11564,,,0,"[placement] Use a non-nova log capture fixture

We want to avoid using the nova StandardLogging fixture, to limit
imports from nova, but it has two useful features that we want:

* always capture
* if the chosen log level is more than DEBUG, format DEBUG message
  anyway, but don't output

blueprint: placement-extract

Change-Id: Iadd32c731ebfb5a62308a4d5f907a69f93590935
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/587130/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/base.py', 'nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/test_placement_api.py', 'nova/tests/functional/api/openstack/placement/fixtures/capture.py']",4,4ffb16ebf6dd05eb47bd66f4f5cc21acf540f501,bp/placement-extract,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging import fixtures from oslotest import log class NullHandler(logging.Handler): """"""custom default NullHandler to attempt to format the record. Used in conjunction with Logging below to detect formatting errors in debug logs. """""" def handle(self, record): self.format(record) def emit(self, record): pass def createLock(self): self.lock = None class Logging(log.ConfigureLogging): """"""A logging fixture providing two important fixtures. One is to capture logs for later inspection. The other is to make sure that DEBUG logs, even if not captured, are formatted. """""" def __init__(self, format=log.ConfigureLogging.DEFAULT_FORMAT): super(Logging, self).__init__(format=format) # Always capture logs, unlike the parent. self.capture_logs = True def setUp(self): super(Logging, self).setUp() if self.level > logging.DEBUG: handler = NullHandler() self.useFixture(fixtures.LogHandler(handler, nuke_handlers=False)) handler.setLevel(logging.DEBUG) ",,62,4
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia9e2456ce17d23250add00462ea32d03788e0d16,openstack/openstack-ansible,stable/queens,Ia9e2456ce17d23250add00462ea32d03788e0d16,Replace default pip index check with upper constraints check,MERGED,2018-08-01 15:47:41.000000000,2018-08-02 23:02:26.000000000,2018-08-02 23:02:26.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 15:47:41.000000000', 'files': ['playbooks/common-tasks/set-pip-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37bd433a83516543900a4ad638754fbfaaa8a91e', 'message': 'Replace default pip index check with upper constraints check\n\nNow that the repo container is not reverse proxying pypi, the\ndefault index check passes, but anything that tries to use it\nprior to the repo build will fail because the repo server has\nno wheels built yet.\n\nInstead of checking whether the index is available we switch\nto using the upper constraints file check, because that is\nonly present once the repo is actually built and there are\ntherefore wheels available on the pypiserver.\n\nChange-Id: Ia9e2456ce17d23250add00462ea32d03788e0d16\n(cherry picked from commit b46f428de92df0cad45333985a111cafb0adbeab)\n'}]",0,587860,37bd433a83516543900a4ad638754fbfaaa8a91e,9,4,1,6816,,,0,"Replace default pip index check with upper constraints check

Now that the repo container is not reverse proxying pypi, the
default index check passes, but anything that tries to use it
prior to the repo build will fail because the repo server has
no wheels built yet.

Instead of checking whether the index is available we switch
to using the upper constraints file check, because that is
only present once the repo is actually built and there are
therefore wheels available on the pypiserver.

Change-Id: Ia9e2456ce17d23250add00462ea32d03788e0d16
(cherry picked from commit b46f428de92df0cad45333985a111cafb0adbeab)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/587860/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/set-pip-vars.yml'],1,37bd433a83516543900a4ad638754fbfaaa8a91e,bp/python-build-install-simplification-stable/queens," {{ ((upper_constraints_check.status | default(503)) != 200) | ternary('https://pypi.python.org/simple', __pip_default_index) }}","- name: Test internal repo URL for the availability of the pypi index uri: url: ""{{ __pip_default_index }}"" method: ""HEAD"" timeout: 3 register: pip_default_index_check failed_when: false tags: - common-constraints {{ ((pip_default_index_check.status | default(503)) != 200) | ternary('https://pypi.python.org/simple', __pip_default_index) }}",1,11
openstack%2Fnova~master~I025a2d14c4126f68e199efa54329797576c50677,openstack/nova,master,I025a2d14c4126f68e199efa54329797576c50677,[placement] Use own set_middleware_defaults,MERGED,2018-07-30 17:59:19.000000000,2018-08-02 23:02:24.000000000,2018-08-01 14:36:02.000000000,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 17:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/445c8bc422b7d52d630d75d1e854fa40adbd5a1c', 'message': '[placement] Use of set_middleware_defaults\n\nThe CORS middleware needs to have its defaults set to something\nreaonable. Placement had been using some code in nova to do so.\nThis change duplicates that code into the placement WSGI app\nwhich had been calling it.\n\nChange-Id: I025a2d14c4126f68e199efa54329797576c50677\nblueprint: placement-extract\n'}, {'number': 2, 'created': '2018-07-30 18:00:31.000000000', 'files': ['nova/api/openstack/placement/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45dbccd1fae91a42a69292cb9e708ed14de0a90f', 'message': '[placement] Use own set_middleware_defaults\n\nThe CORS middleware needs to have its defaults set to something\nreaonable. Placement had been using some code in nova to do so.\nThis change duplicates that code into the placement WSGI app\nwhich had been calling it.\n\nChange-Id: I025a2d14c4126f68e199efa54329797576c50677\nblueprint: placement-extract\n'}]",10,587183,45dbccd1fae91a42a69292cb9e708ed14de0a90f,36,17,2,11564,,,0,"[placement] Use own set_middleware_defaults

The CORS middleware needs to have its defaults set to something
reaonable. Placement had been using some code in nova to do so.
This change duplicates that code into the placement WSGI app
which had been calling it.

Change-Id: I025a2d14c4126f68e199efa54329797576c50677
blueprint: placement-extract
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/587183/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/wsgi.py'],1,445c8bc422b7d52d630d75d1e854fa40adbd5a1c,bp/placement-extract,"from oslo_middleware import cors _set_middleware_defaults()def _set_middleware_defaults(): """"""Update default configuration options for oslo.middleware."""""" cors.set_defaults( allow_headers=['X-Auth-Token', 'X-Openstack-Request-Id', 'X-Identity-Status', 'X-Roles', 'X-Service-Catalog', 'X-User-Id', 'X-Tenant-Id'], expose_headers=['X-Auth-Token', 'X-Openstack-Request-Id', 'X-Subject-Token', 'X-Service-Token'], allow_methods=['GET', 'PUT', 'POST', 'DELETE', 'PATCH'] ) ",from nova.common import config config.set_middleware_defaults(),24,2
openstack%2Fneutron~master~Id88ca1a6997d39bf0d14589c0a2725b4ac109cec,openstack/neutron,master,Id88ca1a6997d39bf0d14589c0a2725b4ac109cec,WSGI: Add experimental jobs with uwsgi,MERGED,2018-07-04 06:40:58.000000000,2018-08-02 23:02:12.000000000,2018-07-30 10:43:25.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6476}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-07-04 06:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a1e2c5fb0740f5267671c65e409df2461a8e05b', 'message': 'Add experimental tempest test with uwsgi\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 2, 'created': '2018-07-04 07:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da5dbc2e041f225bb38b468c27791dcdf3f35591', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 3, 'created': '2018-07-04 10:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04dc23acf92915b608de64c262fc5988602f3ae4', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 4, 'created': '2018-07-04 10:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d728470cb752d282859c98a9edc745a5c43e82cc', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 5, 'created': '2018-07-05 09:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b93ad99383e369e64ca8b9b7ba90c62e66a36ec1', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 6, 'created': '2018-07-27 01:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c93a050d04b5707912a0e5e0efb1fcf1d85455e4', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 7, 'created': '2018-07-27 02:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/463aad0a372d488b8c92dc647c9cc317da360948', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}, {'number': 8, 'created': '2018-07-30 02:56:06.000000000', 'files': ['playbooks/legacy/neutron-functional-with-uwsgi/post.yaml', 'playbooks/legacy/neutron-functional-with-uwsgi/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack-with-uwsgi/post.yaml', 'playbooks/legacy/neutron-fullstack-with-uwsgi/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b79021378835426acbf9e0e75f6468f825d84b8b', 'message': 'WSGI: Add experimental jobs with uwsgi\n\nThis patch adds exprimental tempest, functional and fullstack\njobs when neutron-api is served by a webserver as a part of\ncommunity goal.\n\nChange-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec\n'}]",0,580049,b79021378835426acbf9e0e75f6468f825d84b8b,81,15,8,15471,,,0,"WSGI: Add experimental jobs with uwsgi

This patch adds exprimental tempest, functional and fullstack
jobs when neutron-api is served by a webserver as a part of
community goal.

Change-Id: Id88ca1a6997d39bf0d14589c0a2725b4ac109cec
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/580049/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-tempest-with-uwsgi/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-tempest-with-uwsgi/post.yaml']",3,8a1e2c5fb0740f5267671c65e409df2461a8e05b,add-exprimental-jobs-with-uwsgi,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,94,0
openstack%2Fnova~master~I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e,openstack/nova,master,I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e,Assorted cleanups from numa-aware-vswitches series,MERGED,2018-07-13 17:41:20.000000000,2018-08-02 23:01:00.000000000,2018-07-29 03:41:15.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-13 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71bb46aefb4fb68b519fe3910fca8327f99ee215', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 2, 'created': '2018-07-17 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bdbfd54375ed883cccf18bff0e95fda9a11ca50', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 3, 'created': '2018-07-18 16:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084683b054afe6be545e70fdd1b9e159a33ef34d', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 4, 'created': '2018-07-20 11:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/258e147ccb7badd777ca25f56d5918f121016898', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 5, 'created': '2018-07-20 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ede787e223771c9ffd68b18e6383493138122d9', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 6, 'created': '2018-07-20 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdbf67af9c46dc01f6414eba073af7cb90850cd6', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 7, 'created': '2018-07-20 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff65dbd3f90c76394e7011f47c421033fd61c383', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 8, 'created': '2018-07-24 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1901cd84ea82a9c465f8aca4781c8706578fad35', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 9, 'created': '2018-07-24 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7350a6a731f343102baf3f49e37c2f3603564f54', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 10, 'created': '2018-07-24 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/476c278d1417389ea09ddc5623fd838eec78840a', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 11, 'created': '2018-07-24 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8558b556db2b2ee1362b1a736b226b640c5babd', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 12, 'created': '2018-07-24 19:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfd3ea63fc9a81384e1e8487ad9892d7f8850dce', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 13, 'created': '2018-07-25 11:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d854f720d9c9cc367ee67678648f50bbfc2133e7', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 14, 'created': '2018-07-26 19:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbfb3653ad6e7f695b415aaa9fbd4332cc35793e', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}, {'number': 15, 'created': '2018-07-27 16:49:36.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/conf/test_neutron.py', 'nova/objects/fields.py', 'nova/objects/network_metadata.py', 'nova/compute/api.py', 'doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/24c016ed6cf589c3d46b7d71782a346478b92efa', 'message': 'Assorted cleanups from numa-aware-vswitches series\n\nResolve open issues from preceding patches.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e\n'}]",2,582651,24c016ed6cf589c3d46b7d71782a346478b92efa,156,21,15,15334,,,0,"Assorted cleanups from numa-aware-vswitches series

Resolve open issues from preceding patches.

Part of blueprint numa-aware-vswitches

Change-Id: I0c35109b67aa94cf19a4d20a97bf5ab15cf3db4e
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/582651/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/objects/fields.py', 'nova/objects/network_metadata.py']",4,71bb46aefb4fb68b519fe3910fca8327f99ee215,bp/numa-aware-vswitches," """"""Hold aggregate metadata for a collection of networks."," """"""Hold aggregate metadata for a collection on networks.",4,5
openstack%2Fnova~master~I7a7cd5ba708433c29757d393efaa8b5ef8948da1,openstack/nova,master,I7a7cd5ba708433c29757d393efaa8b5ef8948da1,Pass source vifs to driver.cleanup in _post_live_migration,MERGED,2018-07-27 14:12:10.000000000,2018-08-02 23:00:55.000000000,2018-07-27 23:27:08.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-27 14:12:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/64b030ffaf578dee925a6ac2d47264346843ba2d', 'message': 'Pass source vifs to driver.cleanup in _post_live_migration\n\nThis is a follow up to Ie6439499cc7c6f05eec692dda677caf649dd7c94\nwhere we use the VIFMigrateData.source_vif objects, if available,\nto unplug vifs on the source host in _post_live_migration. That\nchange missed that if driver.post_live_migration_at_source()\nfails, the destroy_vifs flag tells driver.cleanup() (if called)\nto unplug vifs. Note that the libvirt driver heeds the destroy_vifs\nflag but some drivers do not, like the hyper-v driver, and\nunconditionally unplug vifs when driver.cleanup() is called.\n\nThis change simply passes the same unplug_nw_info variable to\ndriver.cleanup() as gets passed to post_live_migration_at_source()\nand the unit test is updated accordingly.\n\nChange-Id: I7a7cd5ba708433c29757d393efaa8b5ef8948da1\nRelated-Bug: #1783917\n'}]",7,586568,64b030ffaf578dee925a6ac2d47264346843ba2d,33,15,1,6873,,,0,"Pass source vifs to driver.cleanup in _post_live_migration

This is a follow up to Ie6439499cc7c6f05eec692dda677caf649dd7c94
where we use the VIFMigrateData.source_vif objects, if available,
to unplug vifs on the source host in _post_live_migration. That
change missed that if driver.post_live_migration_at_source()
fails, the destroy_vifs flag tells driver.cleanup() (if called)
to unplug vifs. Note that the libvirt driver heeds the destroy_vifs
flag but some drivers do not, like the hyper-v driver, and
unconditionally unplug vifs when driver.cleanup() is called.

This change simply passes the same unplug_nw_info variable to
driver.cleanup() as gets passed to post_live_migration_at_source()
and the unit test is updated accordingly.

Change-Id: I7a7cd5ba708433c29757d393efaa8b5ef8948da1
Related-Bug: #1783917
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/586568/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,64b030ffaf578dee925a6ac2d47264346843ba2d,bug/1783917," self.driver.cleanup(ctxt, instance, unplug_nw_info,"," self.driver.cleanup(ctxt, instance, network_info,",31,9
openstack%2Fnova~master~Ie5f1ed9e622398b072a6825c4f7413cde4c17c25,openstack/nova,master,Ie5f1ed9e622398b072a6825c4f7413cde4c17c25,Fix create_all() to replace_all() in comments,MERGED,2018-07-27 02:51:09.000000000,2018-08-02 23:00:50.000000000,2018-07-28 03:54:50.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-27 02:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6eff221f1c0857f0bf6e132505aceb8ca24cf73a', 'message': 'Fix create_all() to replace_all() in comments\n\nThis patch is a follow-up of the following commit\n11c29ae4702ac4f50baa9fe3a29e3e413ad69b09, where\nAllocationList.create_all() has been renamed to\nAllocationList.replace_all().\n\nChange-Id: Ie5f1ed9e622398b072a6825c4f7413cde4c17c25\n'}, {'number': 2, 'created': '2018-07-27 07:43:11.000000000', 'files': ['nova/api/openstack/placement/util.py', 'nova/api/openstack/placement/objects/consumer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95998b7ba5e3ad09f1670c92abfb7158cdd3f76d', 'message': 'Fix create_all() to replace_all() in comments\n\nThis patch is a follow-up of the following commit\n11c29ae4702ac4f50baa9fe3a29e3e413ad69b09, where\nAllocationList.create_all() has been renamed to\nAllocationList.replace_all().\n\nChange-Id: Ie5f1ed9e622398b072a6825c4f7413cde4c17c25\n'}]",0,586396,95998b7ba5e3ad09f1670c92abfb7158cdd3f76d,33,15,2,25625,,,0,"Fix create_all() to replace_all() in comments

This patch is a follow-up of the following commit
11c29ae4702ac4f50baa9fe3a29e3e413ad69b09, where
AllocationList.create_all() has been renamed to
AllocationList.replace_all().

Change-Id: Ie5f1ed9e622398b072a6825c4f7413cde4c17c25
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/586396/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/util.py', 'nova/api/openstack/placement/objects/consumer.py']",2,6eff221f1c0857f0bf6e132505aceb8ca24cf73a,trivialfix, # AllocationList.replace_all() will end up raising, # AllocationList.create_all() will end up raising,5,5
openstack%2Fnova~master~Iac3f666d53a48cdef26be4d17754fd0a481306a5,openstack/nova,master,Iac3f666d53a48cdef26be4d17754fd0a481306a5,Change deprecated policies to policy,MERGED,2018-07-18 02:26:57.000000000,2018-08-02 23:00:46.000000000,2018-08-01 09:53:02.000000000,"[{'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 02:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af1d66e262e46316c44ed54f8c9d2e6ddee5ab4f', 'message': 'Change deprecated policies to policy\n\nThe policies is deprecated in\n8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with\npolicy field.\n\nThis patch changes deprecated policies to policy.\n\nChange-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5\n'}, {'number': 2, 'created': '2018-07-18 02:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90329e09edd531d9d26d6fdad5d99216422cd577', 'message': 'Change deprecated policies to policy\n\nThe policies is deprecated in\n8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with\npolicy field.\n\nThis patch changes deprecated policies to policy.\n\nChange-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5\n'}, {'number': 3, 'created': '2018-07-18 03:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/759569ffb8007d840c26b388b6d2cca269619786', 'message': 'Change deprecated policies to policy\n\nThe policies is deprecated in\n8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with\npolicy field.\n\nThis patch changes deprecated policies to policy.\n\nChange-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5\n'}, {'number': 4, 'created': '2018-07-27 02:20:30.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/scheduler/weights/affinity.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/020edde12f66b8e88b3d55859510bd6931d88463', 'message': 'Change deprecated policies to policy\n\nThe policies is deprecated in\n8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with\npolicy field.\n\nThis patch changes deprecated policies to policy.\n\nChange-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5\n'}]",0,583434,020edde12f66b8e88b3d55859510bd6931d88463,61,23,4,20722,,,0,"Change deprecated policies to policy

The policies is deprecated in
8fa70e5dfc73e52d52c94ec2781ff185fdcca481, and is replaced with
policy field.

This patch changes deprecated policies to policy.

Change-Id: Iac3f666d53a48cdef26be4d17754fd0a481306a5
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/583434/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/scheduler/utils.py', 'nova/scheduler/weights/affinity.py']",3,af1d66e262e46316c44ed54f8c9d2e6ddee5ab4f,bp/complex-anti-affinity-policies, policy = request_spec.instance_group.policy if self.policy_name != policy:, policies = request_spec.instance_group.policies if self.policy_name not in policies:,10,11
openstack%2Fnova~master~I163e57f581856b5c14dcd039b7d95f06b9b4019a,openstack/nova,master,I163e57f581856b5c14dcd039b7d95f06b9b4019a,Fix accumulated nits from port binding for live migration series,MERGED,2018-07-19 15:34:39.000000000,2018-08-02 23:00:41.000000000,2018-07-28 16:51:51.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-19 15:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ea5aa332e247592d5b21ebc34fa3f4284994dfc', 'message': 'Fix accumulated nits from port binding for live migration series\n\nChange-Id: I163e57f581856b5c14dcd039b7d95f06b9b4019a\n'}, {'number': 2, 'created': '2018-07-26 18:57:13.000000000', 'files': ['nova/objects/migrate_data.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b9d5204f3f3361341f4ee9270c7266447a07c6', 'message': 'Fix accumulated nits from port binding for live migration series\n\nChange-Id: I163e57f581856b5c14dcd039b7d95f06b9b4019a\n'}]",9,583994,f0b9d5204f3f3361341f4ee9270c7266447a07c6,52,16,2,6873,,,0,"Fix accumulated nits from port binding for live migration series

Change-Id: I163e57f581856b5c14dcd039b7d95f06b9b4019a
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/583994/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py']",5,5ea5aa332e247592d5b21ebc34fa3f4284994dfc,bp/neutron-new-port-binding-api," # The driver pre_live_migration will plug vifs on the host. # We call plug_vifs before calling ensure_filtering_rules_for_instance, # to ensure bridge is set up.",,33,23
openstack%2Fneutron~master~Ibc446f8234bff80d5b16c988f900d3940245ba89,openstack/neutron,master,Ibc446f8234bff80d5b16c988f900d3940245ba89,[server side] Floating IP port forwarding plugin,MERGED,2018-07-03 16:12:07.000000000,2018-08-02 23:00:14.000000000,2018-07-27 00:49:07.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-07-03 16:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/435d8d67d1a4631cd52073a7109b80c05dd961af', 'message': '[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed \'pf_plugin\', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Introduces a new policy ""floatingip_owner"" for checking if the\nrequest tenant is the owner of L3 resources.\n\nPartially-Implements: blueprint port-forwarding\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n'}, {'number': 2, 'created': '2018-07-04 09:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f831ad742b0815246ebb172f6ffe47126610686', 'message': '[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed \'pf_plugin\', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Introduces a new policy ""floatingip_owner"" for checking if the\nrequest tenant is the owner of L3 resources.\n\nPartially-Implements: blueprint port-forwarding\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n'}, {'number': 3, 'created': '2018-07-05 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c80a4d1307ef561c8030ff2481b2d59a8adfd9ae', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nPartially-Implements: blueprint port-forwarding\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 4, 'created': '2018-07-12 12:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce5568e2e976249021d4a19335a27824a8e5b4cd', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nPartially-Implements: blueprint port-forwarding\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nDepends-On: https://review.openstack.org/#/c/577245\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 5, 'created': '2018-07-16 03:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6687267ed4a34b245bb07f39cba9a49b1ebb6c7f', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nPartially-Implements: blueprint port-forwarding\nThis patch partially implements the following spec:\nhttps://specs.openstack.org/openstack/neutron-specs/specs/rocky/port-forwarding.html\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 6, 'created': '2018-07-19 11:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4dcf701f19924520ef13978967804762527bb60', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 7, 'created': '2018-07-19 11:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd93395f336d43e9f2381694f179c8cd0b2ad144', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 8, 'created': '2018-07-23 03:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d38b0e6f1fce4e8181e44e7e1f64827707a3028c', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 9, 'created': '2018-07-24 16:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1739efbb6c2229b9e1b886277b2e56a468c7632b', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 10, 'created': '2018-07-25 01:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cae126dbee7848d833981f5d4af446ad1500ee01', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 11, 'created': '2018-07-25 12:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/676a31e40ccdccb8c6862cc9510e462d90868bd2', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}, {'number': 12, 'created': '2018-07-26 03:46:39.000000000', 'files': ['neutron/tests/unit/services/portforwarding/__init__.py', 'neutron/services/portforwarding/common/__init__.py', 'neutron/services/portforwarding/common/exceptions.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py', 'neutron/services/portforwarding/__init__.py', 'neutron/tests/functional/services/portforwarding/__init__.py', 'neutron/tests/functional/services/portforwarding/test_port_forwarding.py', 'setup.cfg', 'neutron/extensions/floating_ip_port_forwarding.py', 'etc/policy.json', 'neutron/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21ae99d5b3e287480a2d9cfcfdc2571671d047c4', 'message': ""[server side] Floating IP port forwarding plugin\n\nThis patch implements the plugin.\nThis patch introduces an new service plugin for port forwarding resources,\nnamed 'pf_plugin', and supports create/update/delete port forwarding\noperation towards a free Floating IP.\n\nThis patch including some works below:\n* Introduces portforwarding extension and the base class of plugin\n* Introduces portforwarding plugin, support CRUD port forwarding\nresources\n* Add the policy of portforwarding\n\nThe race issue fix in:\nhttps://review.openstack.org/#/c/574673/\n\nFip extend port forwarding field addition in:\nhttps://review.openstack.org/#/c/575326/\n\nPartially-Implements: blueprint port-forwarding\nChange-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89\nPartial-Bug: #1491317\n""}]",129,579910,21ae99d5b3e287480a2d9cfcfdc2571671d047c4,121,15,12,15309,,,0,"[server side] Floating IP port forwarding plugin

This patch implements the plugin.
This patch introduces an new service plugin for port forwarding resources,
named 'pf_plugin', and supports create/update/delete port forwarding
operation towards a free Floating IP.

This patch including some works below:
* Introduces portforwarding extension and the base class of plugin
* Introduces portforwarding plugin, support CRUD port forwarding
resources
* Add the policy of portforwarding

The race issue fix in:
https://review.openstack.org/#/c/574673/

Fip extend port forwarding field addition in:
https://review.openstack.org/#/c/575326/

Partially-Implements: blueprint port-forwarding
Change-Id: Ibc446f8234bff80d5b16c988f900d3940245ba89
Partial-Bug: #1491317
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/579910/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/portforwarding/__init__.py', 'neutron/api/v2/base.py', 'neutron/services/portforwarding/common/__init__.py', 'lower-constraints.txt', 'neutron/services/portforwarding/common/exceptions.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/policy.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py', 'neutron/services/portforwarding/__init__.py', 'requirements.txt', 'neutron/tests/functional/services/portforwarding/__init__.py', 'neutron/tests/functional/services/portforwarding/test_port_forwarding.py', 'setup.cfg', 'neutron/extensions/floating_ip_port_forwarding.py', 'etc/policy.json', 'neutron/tests/etc/policy.json']",17,435d8d67d1a4631cd52073a7109b80c05dd961af,bp/port_forwarding," ""admin_or_floatingip_owner"": ""rule:context_is_admin or tenant_id:%(floatingip:tenant_id)s"", ""delete_log"": ""rule:admin_only"", ""create_floatingip_port_forwarding"": ""rule:admin_or_floatingip_owner"", ""get_floatingip_port_forwarding"": ""rule:regular_user"", ""get_floatingip_port_forwardings"": ""rule:regular_user"", ""update_floatingip_port_forwarding"": ""rule:admin_or_floatingip_owner"", ""delete_floatingip_port_forwarding"": ""rule:admin_or_floatingip_owner"""," ""delete_log"": ""rule:admin_only""",953,6
openstack%2Fnova~master~I026b2394e6aa2fef8b1990923f9dcf8b3945175c,openstack/nova,master,I026b2394e6aa2fef8b1990923f9dcf8b3945175c,doc: add missing permission for the vCenter service account,MERGED,2018-07-25 08:58:00.000000000,2018-08-02 23:00:04.000000000,2018-07-27 10:52:41.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-07-25 08:58:00.000000000', 'files': ['doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/676a68bb67a1f9baac7f28f228c6a3eda526ee3b', 'message': 'doc: add missing permission for the vCenter service account\n\nThe service account that is being used by Nova needs ""Profile-driven\nstorage view"" permission for SPBM[0] to work. It is located under the\n""Profile-driven storage"" node in the Privileges tree.\nThis patch fixes the doc to address this.\n\n[0] https://blueprints.launchpad.net/nova/+spec/vmware-spbm-support\n\nChange-Id: I026b2394e6aa2fef8b1990923f9dcf8b3945175c\n'}]",0,585683,676a68bb67a1f9baac7f28f228c6a3eda526ee3b,14,9,1,9172,,,0,"doc: add missing permission for the vCenter service account

The service account that is being used by Nova needs ""Profile-driven
storage view"" permission for SPBM[0] to work. It is located under the
""Profile-driven storage"" node in the Privileges tree.
This patch fixes the doc to address this.

[0] https://blueprints.launchpad.net/nova/+spec/vmware-spbm-support

Change-Id: I026b2394e6aa2fef8b1990923f9dcf8b3945175c
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/585683/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisor-vmware.rst'],1,676a68bb67a1f9baac7f28f228c6a3eda526ee3b,bp/s, - Profile-driven storage - - * - - - Profile-driven storage view - * -,,8,0
openstack%2Fnova~master~I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d,openstack/nova,master,I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d,Use placement context in placement functional tests,MERGED,2018-07-24 19:56:43.000000000,2018-08-02 22:59:45.000000000,2018-07-25 13:03:25.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2018-07-24 19:56:43.000000000', 'files': ['nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/test_direct.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13bbe6e891d7fe5ea73c0887db03041a7d61468d', 'message': ""Use placement context in placement functional tests\n\nA few placement functional tests were importing and using\nnova.context for a RequestContext. Placement has its own\nin nova.api.openstack.placement.context so use that instead.\n\nIn the process, stop using an 'admin' context. It is not\nnecessary in placement as we do not do any policy checking\nat the database level.\n\nChange-Id: I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d\n""}]",0,585529,13bbe6e891d7fe5ea73c0887db03041a7d61468d,16,10,1,11564,,,0,"Use placement context in placement functional tests

A few placement functional tests were importing and using
nova.context for a RequestContext. Placement has its own
in nova.api.openstack.placement.context so use that instead.

In the process, stop using an 'admin' context. It is not
necessary in placement as we do not do any policy checking
at the database level.

Change-Id: I1f6e6db6aca7dd160d3e94bb0b6ebf9b4f8dfd7d
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/585529/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/fixtures/gabbits.py', 'nova/tests/functional/api/openstack/placement/test_direct.py', 'nova/tests/functional/api/openstack/placement/db/test_consumer.py', 'nova/tests/functional/api/openstack/placement/db/test_base.py']",4,13bbe6e891d7fe5ea73c0887db03041a7d61468d,cd/placement-context,from nova.api.openstack.placement import context,from nova import context,10,11
openstack%2Fnova~master~Ide262733ffd7714fdc702b31c61bdd42dbf7acc3,openstack/nova,master,Ide262733ffd7714fdc702b31c61bdd42dbf7acc3,scheduler: Start utilizing RequestSpec.network_metadata,MERGED,2018-04-26 10:23:51.000000000,2018-08-02 22:59:41.000000000,2018-07-29 02:42:30.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-04-26 10:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d31bbede656cedf74308e7e5eb9b2d7e79270ca7', 'message': 'scheduler: Start utilizing network_requests\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this complete, we complete step four of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [*] Store additional information about networks requested at instance\n      creation\n  [*] Utilize information about host network affinity and instance\n      network requests during claims\n  [*] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 2, 'created': '2018-05-07 15:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dec1e4357b47ac72d8cbf6f61a052b3f7a2ad56c', 'message': 'scheduler: Start utilizing network_requests\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this complete, we complete step four of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [*] Store additional information about networks requested at instance\n      creation\n  [*] Utilize information about host network affinity and instance\n      network requests during claims\n  [*] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 3, 'created': '2018-05-10 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2060a4bbc6a79e1326dbba43e442a7335bd16d35', 'message': 'scheduler: Start utilizing network_requests\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this complete, we complete step four of four for the blueprint.\n\n  [*] Identify and store affinity of networks to host NUMA nodes\n  [*] Store additional information about networks requested at instance\n      creation\n  [*] Utilize information about host network affinity and instance\n      network requests during claims\n  [*] Utilize information about host network affinity and instance\n      network requests during scheduling\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 4, 'created': '2018-06-14 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43968637281167f5c899084b663d3cd6fadd8d60', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 5, 'created': '2018-06-15 16:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee04217af9cf510be4db0a773d83430438a21360', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 6, 'created': '2018-06-21 16:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7329fa85eed0d38a359a39357d95f271bb191509', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 7, 'created': '2018-06-22 15:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eafde8dacd0491128fc489b28fc1ba3351cb43e', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 8, 'created': '2018-06-22 15:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2e94447b9407c695a4ce38ac74b5b59de03f31a', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 9, 'created': '2018-06-26 10:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f20f49ed01a079958a828fa77712f48960a01236', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 10, 'created': '2018-06-26 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/666ff219d87af9772c7256ab32abff808be3239c', 'message': 'scheduler: Start utilizing RequestSpec.numa_networks\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 11, 'created': '2018-06-27 16:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a59a50f5dbadb0a449d01642b5c0028843405c1', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 12, 'created': '2018-07-02 14:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce93be3a17bb8ba943e6feaa3bcbb92872eb429a', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 13, 'created': '2018-07-03 15:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48412707833d0aa8e2a607628bbebbfa48090acc', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 14, 'created': '2018-07-06 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86704843bca0f67bdb88e67d0b095b72ec62ee64', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 15, 'created': '2018-07-09 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6263c092097d61e6f8f1e4bcc894d19c23001fcf', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 16, 'created': '2018-07-09 13:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46fe867450edd8231ed5bc849b981dc66545a62e', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 17, 'created': '2018-07-09 16:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/315e201dc28a73e354424741c2380b7cc43c2bba', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 18, 'created': '2018-07-12 16:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ec48cc663af4a92cbf01b5b289c33cbd97513c2', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 19, 'created': '2018-07-13 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6269bd253aad9c3ced43b3dd638f8aa1336a49aa', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 20, 'created': '2018-07-17 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba068a8d1987011e7454adf8c653cc64c366b45b', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation,\nrelease notes and tests are all bundled in the patch.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 21, 'created': '2018-07-18 16:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1babbf8e3179542ac68f595a041a4f62367e24f8', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 22, 'created': '2018-07-20 11:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e34feb6d9d2836219ffc6dcc4f4382d5b77188b', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 23, 'created': '2018-07-20 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e462eb952b5f8114e0aa0bf65041474bd535c1c', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 24, 'created': '2018-07-20 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b6a0f267573f6bfcf842199d26d4e059fec3b6d', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 25, 'created': '2018-07-20 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8428df5ea71840532704d460b8b7c4f427a1918', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 26, 'created': '2018-07-24 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54d5f3a2ddb9e616de831e63c1dee92c62f0d652', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 27, 'created': '2018-07-24 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/440b3b4a35306a0b9455a96fed3f5c5142cf8b77', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 28, 'created': '2018-07-24 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7baef5408adc8f2e124ea8943c177412d7c6640', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 29, 'created': '2018-07-24 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/febc22e465336c03e28822c84ec203f543fb6a52', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}, {'number': 30, 'created': '2018-07-24 19:04:57.000000000', 'files': ['doc/source/admin/index.rst', 'nova/tests/unit/compute/test_compute_api.py', 'doc/source/admin/networking.rst', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/tests/unit/compute/test_compute_cells.py', 'releasenotes/notes/numa-aware-vswitches-162132290dd6ef17.yaml', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/compute/api.py', 'doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/803f85d7e638c7367db709a93f732f12d81e083a', 'message': 'scheduler: Start utilizing RequestSpec.network_metadata\n\nNow that we have this information, we can use it as a pre-filtering for\nsuitable hosts.\n\nWith this patch we complete the blueprint. As a result, documentation\nand release notes are bundled in the patch and previously inactive tests\nare now enabled.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3\n'}]",57,564452,803f85d7e638c7367db709a93f732f12d81e083a,420,22,30,15334,,,0,"scheduler: Start utilizing RequestSpec.network_metadata

Now that we have this information, we can use it as a pre-filtering for
suitable hosts.

With this patch we complete the blueprint. As a result, documentation
and release notes are bundled in the patch and previously inactive tests
are now enabled.

Part of blueprint numa-aware-vswitches

Change-Id: Ide262733ffd7714fdc702b31c61bdd42dbf7acc3
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/564452/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/scheduler/host_manager.py']",4,d31bbede656cedf74308e7e5eb9b2d7e79270ca7,bp/numa-aware-vswitches," pci_requests=pci_requests, pci_stats=self.pci_stats, network_requests=spec_obj.network_requests)"," pci_requests=pci_requests, pci_stats=self.pci_stats)",71,5
openstack%2Fnova~master~I393bd58b8fede38af98ded0c7be099ef22b6f75b,openstack/nova,master,I393bd58b8fede38af98ded0c7be099ef22b6f75b,Consider network NUMA affinity for move operations,MERGED,2018-07-24 12:49:19.000000000,2018-08-02 22:59:36.000000000,2018-07-28 12:50:41.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-24 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d3a57c2e6de3f0814c44eb4d89cf46bcb6eedf5', 'message': ""Consider network NUMA affinity for move operations\n\nThere are two things required here. Firstly, we need to start\n(consistently) storing the physnet and tunneled status of various\nnetworks in 'Instance.info_cache.network_meta'. Once we have this\ninformation, we can use it to populate the\n'RequestSpec.network_metadata', which can be consumed by later changes\nin the series.\n\nNote that the only move operation that this won't handle is rebuilds,\nwhich result in a XML being regenerated but do not call to the scheduler\nor make a claim. This would require a far more extensive change and is\nprobably unnecessary here.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b\n""}, {'number': 2, 'created': '2018-07-24 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbe0aa2711bdd3c8013d1beb3af28674cc89fdde', 'message': ""Consider network NUMA affinity for move operations\n\nThere are two things required here. Firstly, we need to start\n(consistently) storing the physnet and tunneled status of various\nnetworks in 'Instance.info_cache.network_meta'. Once we have this\ninformation, we can use it to populate the\n'RequestSpec.network_metadata', which can be consumed by later changes\nin the series.\n\nNote that the only move operation that this won't handle is rebuilds,\nwhich result in a XML being regenerated but do not call to the scheduler\nor make a claim. This would require a far more extensive change and is\nprobably unnecessary here.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b\n""}, {'number': 3, 'created': '2018-07-24 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9335d98fa3eaa9d23097a91174e3fde051f1470', 'message': ""Consider network NUMA affinity for move operations\n\nThere are two things required here. Firstly, we need to start\n(consistently) storing the physnet and tunneled status of various\nnetworks in 'Instance.info_cache.network_meta'. Once we have this\ninformation, we can use it to populate the\n'RequestSpec.network_metadata', which can be consumed by later changes\nin the series.\n\nNote that the only move operation that this won't handle is rebuilds,\nwhich result in a XML being regenerated but do not call to the scheduler\nor make a claim. This would require a far more extensive change and is\nprobably unnecessary here.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b\n""}, {'number': 4, 'created': '2018-07-24 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53c91f3d8528e60256b7f2bac1b9e6228d38ce0c', 'message': ""Consider network NUMA affinity for move operations\n\nThere are two things required here. Firstly, we need to start\n(consistently) storing the physnet and tunneled status of various\nnetworks in 'Instance.info_cache.network_info'. Once we have this\ninformation, we can use it to populate the\n'RequestSpec.network_metadata', which can be consumed by later changes\nin the series.\n\nNote that the only move operation that this won't handle is rebuilds\nwhere the image is unchanged, which result in a XML being regenerated\nbut do not call to the scheduler or make a claim, nor live migrations\nwith a host specified, which bypass both scheduler and claims. Fixing\nthese would require a far more extensive change and is probably\nunnecessary here.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b\n""}, {'number': 5, 'created': '2018-07-24 19:04:57.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7aa9d1c23b8544b276c64316a3539ba5560d3e57', 'message': 'Consider network NUMA affinity for move operations\n\nThere are two things required here. Firstly, we need to start\n(consistently) storing the physnet and tunneled status of various\nnetworks in \'Instance.info_cache.network_info\'. Once we have this\ninformation, we can use it to populate the\n\'RequestSpec.network_metadata\', which can be consumed by later changes\nin the series.\n\nNote that live migrations and evacuations with a forced destination\nhost bypass the scheduler which also means there will be no NUMA\nvswitch affinity ""claims"" on the destination host for those force\nmove operations. This is not a regression since (1) live migration\nis not NUMA affinity aware nor does claims anyway (see blueprint\nnuma-aware-live-migration) and (2) forced host evacuate already does\nnot perform claims on the compute since the scheduler is bypassed\nso the limits passed to compute, used for the claim, are empty.\n\nPart of blueprint numa-aware-vswitches\n\nChange-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b\n'}]",29,585339,7aa9d1c23b8544b276c64316a3539ba5560d3e57,95,20,5,15334,,,0,"Consider network NUMA affinity for move operations

There are two things required here. Firstly, we need to start
(consistently) storing the physnet and tunneled status of various
networks in 'Instance.info_cache.network_info'. Once we have this
information, we can use it to populate the
'RequestSpec.network_metadata', which can be consumed by later changes
in the series.

Note that live migrations and evacuations with a forced destination
host bypass the scheduler which also means there will be no NUMA
vswitch affinity ""claims"" on the destination host for those force
move operations. This is not a regression since (1) live migration
is not NUMA affinity aware nor does claims anyway (see blueprint
numa-aware-live-migration) and (2) forced host evacuate already does
not perform claims on the compute since the scheduler is bypassed
so the limits passed to compute, used for the claim, are empty.

Part of blueprint numa-aware-vswitches

Change-Id: I393bd58b8fede38af98ded0c7be099ef22b6f75b
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/585339/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/objects/request_spec.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",10,9d3a57c2e6de3f0814c44eb4d89cf46bcb6eedf5,bp/numa-aware-vswitches," _p = mock.patch('nova.objects.RequestSpec.ensure_network_metadata') self.ensure_network_metadata_mock = _p.start() self.addCleanup(_p.stop) # When the task is executed with a destination it means the host is # being forced and we don't call the scheduler, so we don't need to # modify the request spec self.ensure_network_metadata_mock.assert_not_called() self.ensure_network_metadata_mock.assert_called_once_with( self.instance) self.ensure_network_metadata_mock.assert_called_once_with( self.instance)",,155,18
openstack%2Fnova~master~I5c7dc5aca232a9d330968de29eeee6a55cb035ab,openstack/nova,master,I5c7dc5aca232a9d330968de29eeee6a55cb035ab,doc: link to CERN summit video about upgrading from cells v1 to v2,MERGED,2018-07-23 22:16:11.000000000,2018-08-02 22:59:23.000000000,2018-07-30 12:54:04.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26311}, {'_account_id': 26431}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 22:16:11.000000000', 'files': ['doc/source/user/cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/87691055e339bfcb4700382e43fa915c7fa4b358', 'message': 'doc: link to CERN summit video about upgrading from cells v1 to v2\n\nThis adds a link to Rocky summit video from CERN about how\nthey performed their upgrade from cells v1 to cells v2.\n\nChange-Id: I5c7dc5aca232a9d330968de29eeee6a55cb035ab\n'}]",0,585044,87691055e339bfcb4700382e43fa915c7fa4b358,20,16,1,6873,,,0,"doc: link to CERN summit video about upgrading from cells v1 to v2

This adds a link to Rocky summit video from CERN about how
they performed their upgrade from cells v1 to cells v2.

Change-Id: I5c7dc5aca232a9d330968de29eeee6a55cb035ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/585044/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/cells.rst'],1,87691055e339bfcb4700382e43fa915c7fa4b358,rocky-summit-videos,.. note:: There is a Rocky summit video from CERN about how they did their upgrade from cells v1 to v2 here: https://www.openstack.org/videos/vancouver-2018/moving-from-cellsv1-to-cellsv2-at-cern ,,5,0
openstack%2Fnova~master~I87f085589bb663c519650f307f25d087c88bbdb1,openstack/nova,master,I87f085589bb663c519650f307f25d087c88bbdb1,ironic: add instance_uuid before any other spawn activity,MERGED,2018-04-23 17:54:10.000000000,2018-08-02 22:59:18.000000000,2018-07-24 05:21:15.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26355}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-23 17:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b8c8aa6cc3e9bfc105c88fe836c27d435019e64', 'message': 'WIP: ironic: add instance_uuid before any other spawn activity\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 2, 'created': '2018-04-25 19:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f78e131d98728a105c84b2c0bdc23b93ad4aa4b0', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 3, 'created': '2018-05-01 01:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5567861cd86f713863ab49b4afdd3a35021eaf7', 'message': 'WIP: ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 4, 'created': '2018-05-01 18:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50f4949dcf35f5bb62cb89f711d8e71529580ebf', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 5, 'created': '2018-05-01 21:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48ceee1bbdde679d8ff087f0cb6eca2b67bb54fd', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 6, 'created': '2018-05-03 21:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43d8506887b89909fb330539248169c4b4df0517', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 7, 'created': '2018-05-08 14:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/406c5acff56420e5d60fd5837f045aa7323c6580', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 8, 'created': '2018-05-13 19:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d8ffd62c4b544bb5e00475145027ac9231cfda9', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 9, 'created': '2018-05-14 11:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1ddb4e454e9661f50187f6f39fc5fe075dd1203', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 10, 'created': '2018-05-31 21:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f568d6da41f1f2089883aa4e5378585a9662394d', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}, {'number': 11, 'created': '2018-07-23 20:59:05.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e45c5ec819cfba3a45367bfe7dd853769c80d816', 'message': 'ironic: add instance_uuid before any other spawn activity\n\nIn the baremetal use case, it is necessary to allow a remote\nsource of truth assert information about a physical node,\nas opposed to a client asserting desired configuration.\n\nAs such, the prepare_networks_before_block_device_mapping virt\ndriver method was added, however in doing so network VIF attaching\nwas moved before actual hardware reservation. As ironic only\nsupports users to have a number of VIFs limited by the number\nof network interfaces in the physical node, VIF attach actions\ncannot be performed without first asserting control over the node.\n\nAdding an ""instance_uuid"" upfront allows other ironic API consumers\nto be aware that a node is now in use. Alternatively it also allows\nnova to become aware prior to adding network information on the node\nthat the node may already be in use by an external user.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\n\nChange-Id: I87f085589bb663c519650f307f25d087c88bbdb1\nCloses-Bug: #1766301\n'}]",52,563722,e45c5ec819cfba3a45367bfe7dd853769c80d816,172,23,11,10343,,,0,"ironic: add instance_uuid before any other spawn activity

In the baremetal use case, it is necessary to allow a remote
source of truth assert information about a physical node,
as opposed to a client asserting desired configuration.

As such, the prepare_networks_before_block_device_mapping virt
driver method was added, however in doing so network VIF attaching
was moved before actual hardware reservation. As ironic only
supports users to have a number of VIFs limited by the number
of network interfaces in the physical node, VIF attach actions
cannot be performed without first asserting control over the node.

Adding an ""instance_uuid"" upfront allows other ironic API consumers
to be aware that a node is now in use. Alternatively it also allows
nova to become aware prior to adding network information on the node
that the node may already be in use by an external user.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>

Change-Id: I87f085589bb663c519650f307f25d087c88bbdb1
Closes-Bug: #1766301
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/563722/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",3,9b8c8aa6cc3e9bfc105c88fe836c27d435019e64,bug/1766301, self.driver.prep_for_spawn(instance) ,,30,3
openstack%2Fnova~master~I4d5f26061594fa9863c1110e6152069e44168cc3,openstack/nova,master,I4d5f26061594fa9863c1110e6152069e44168cc3,Use consumer generation in _heal_allocations_for_instance,MERGED,2018-06-25 19:08:42.000000000,2018-08-02 22:59:13.000000000,2018-07-24 03:21:52.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-06-25 19:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aadfd14fb8265c401b0171f0eece27f3aaf574ad', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 2, 'created': '2018-06-25 19:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4a855c73a31f1e48513783bf242e56a0c1e7ad1', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 3, 'created': '2018-06-27 20:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f298c922620fdd653afba0eb84b7c96d7dfde6e8', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 4, 'created': '2018-06-28 20:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a27e7cca53f6202cec20b2b6942c9aa5ccd9685', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 5, 'created': '2018-07-09 17:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83f0323d0fd9f27c1b2456c80d29a40783319860', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 6, 'created': '2018-07-09 22:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0360b81e774b6d3ea504d36eeda2dd98f8df318', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 7, 'created': '2018-07-10 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72f1b47d2586cc667fcba146fddce5f9fb38410f', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 8, 'created': '2018-07-13 15:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45d1bdbbd987d50b8247551aaab8d8bdd76ad4c8', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 9, 'created': '2018-07-19 01:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1955e59a59ed3fde18a1e5a483188c946419e43', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 10, 'created': '2018-07-19 23:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d669648267f7f75d492c603775ea9cbbbbf654', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}, {'number': 11, 'created': '2018-07-23 18:10:10.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/tests/functional/test_report_client.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/660e328a25cc361881815fb0906ee9ee35c4a645', 'message': ""Use consumer generation in _heal_allocations_for_instance\n\nIf we're updating existing allocations for an instance due\nto the project_id/user_id not matching the instance, we should\nuse the consumer_generation parameter, new in placement 1.28,\nto ensure we don't overwrite the allocations while another\nprocess is updating them.\n\nAs a result, the include_project_user kwarg to method\nget_allocations_for_consumer is removed since nothing else\nis using it now, and the minimum required version of placement\nchecked by nova-status is updated to 1.28.\n\nChange-Id: I4d5f26061594fa9863c1110e6152069e44168cc3\n""}]",20,577905,660e328a25cc361881815fb0906ee9ee35c4a645,146,19,11,6873,,,0,"Use consumer generation in _heal_allocations_for_instance

If we're updating existing allocations for an instance due
to the project_id/user_id not matching the instance, we should
use the consumer_generation parameter, new in placement 1.28,
to ensure we don't overwrite the allocations while another
process is updating them.

As a result, the include_project_user kwarg to method
get_allocations_for_consumer is removed since nothing else
is using it now, and the minimum required version of placement
checked by nova-status is updated to 1.28.

Change-Id: I4d5f26061594fa9863c1110e6152069e44168cc3
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/577905/11 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/scheduler/client/report.py', 'nova/cmd/manage.py']",4,aadfd14fb8265c401b0171f0eece27f3aaf574ad,bp/add-consumer-generation," ctxt, instance.uuid, include_generation=True) # We use 1.28 for PUT /allocations/{consumer_id} to mirror allocations, version='1.28')"," ctxt, instance.uuid, include_project_user=True) # We use 1.12 for PUT /allocations/{consumer_id} to mirror # TODO(mriedem): Pass a consumer generation using 1.28. allocations, version='1.12')",25,18
openstack%2Fnova~master~Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568,openstack/nova,master,Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568,Cache is_bfv check in ResourceTracker,MERGED,2018-07-23 16:24:05.000000000,2018-08-02 22:59:03.000000000,2018-08-01 17:09:06.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 16:24:05.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a022299c13ff6a0a949c05c54fdc7331416a0b0', 'message': ""Cache is_bfv check in ResourceTracker\n\nWhether or not an instance is volume-backed shouldn't\nchange for the lifetime of the server, so rather than\nfigure that out during every operation (or periodic task)\nfor an instance in the resource tracker, get the is_bfv\nvalue once and cache it. The cache entries are removed\nwhen the instance is removed from the host (either deleted,\nmigrated or shelved offloaded).\n\nChange-Id: Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568\nRelated-Bug: #1782393\n""}]",4,584962,3a022299c13ff6a0a949c05c54fdc7331416a0b0,24,15,1,6873,,,0,"Cache is_bfv check in ResourceTracker

Whether or not an instance is volume-backed shouldn't
change for the lifetime of the server, so rather than
figure that out during every operation (or periodic task)
for an instance in the resource tracker, get the is_bfv
value once and cache it. The cache entries are removed
when the instance is removed from the host (either deleted,
migrated or shelved offloaded).

Change-Id: Ic5188d4c5a7e8aa4c79c37e63124fe3a305ef568
Related-Bug: #1782393
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/584962/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,3a022299c13ff6a0a949c05c54fdc7331416a0b0,bug/1469179," self.is_bfv = {} # dict, keyed by instance uuid, to is_bfv boolean # Stop tracking removed instances in the is_bfv cache. This needs to # happen *after* calling _get_usage_dict() since that relies on the # is_bfv cache. if is_removed_instance and uuid in self.is_bfv: del self.is_bfv[uuid] # Check to see if we have the is_bfv value cached. if object_or_dict.uuid in self.is_bfv: is_bfv = self.is_bfv[object_or_dict.uuid] else: is_bfv = compute_utils.is_volume_backed_instance( object_or_dict._context, object_or_dict) self.is_bfv[object_or_dict.uuid] = is_bfv"," is_bfv = compute_utils.is_volume_backed_instance( object_or_dict._context, object_or_dict)",33,4
openstack%2Fnova~master~Ica456f2512ebe7814c5d20f205ba89b49c42050a,openstack/nova,master,Ica456f2512ebe7814c5d20f205ba89b49c42050a,Add shelve/unshelve wrinkle to volume-backed disk func test,MERGED,2018-07-23 15:15:32.000000000,2018-08-02 22:55:47.000000000,2018-08-01 16:05:50.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-23 15:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4830a01f6bf57c05cfe46250727c51d3f1473e46', 'message': ""Add shelve/unshelve wrinkle to volume-backed disk func test\n\nThis adds a shelve/unshelve scenario to the functional test\nwhich checks that root_gb from the flavor does not show up\nin placement for volume-backed servers. Because the shelve\nhappens after we've cold migrated the server to a new host,\nthe fake virt driver's finish_migration() method needed to\nbe implemented to track the instance on the destination host.\n\nChange-Id: Ica456f2512ebe7814c5d20f205ba89b49c42050a\nRelated-Bug: #1469179\n""}, {'number': 2, 'created': '2018-07-23 16:24:05.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc5c69d0d118be838245a18fb636b044249a9863', 'message': ""Add shelve/unshelve wrinkle to volume-backed disk func test\n\nThis adds a shelve/unshelve scenario to the functional test\nwhich checks that root_gb from the flavor does not show up\nin placement for volume-backed servers. Because the shelve\nhappens after we've cold migrated the server to a new host,\nthe fake virt driver's finish_migration() method needed to\nbe implemented to track the instance on the destination host.\n\nChange-Id: Ica456f2512ebe7814c5d20f205ba89b49c42050a\nRelated-Bug: #1469179\n""}]",2,584931,dc5c69d0d118be838245a18fb636b044249a9863,22,15,2,6873,,,0,"Add shelve/unshelve wrinkle to volume-backed disk func test

This adds a shelve/unshelve scenario to the functional test
which checks that root_gb from the flavor does not show up
in placement for volume-backed servers. Because the shelve
happens after we've cold migrated the server to a new host,
the fake virt driver's finish_migration() method needed to
be implemented to track the instance on the destination host.

Change-Id: Ica456f2512ebe7814c5d20f205ba89b49c42050a
Related-Bug: #1469179
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/584931/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py']",2,4830a01f6bf57c05cfe46250727c51d3f1473e46,bug/1469179," self._wait_for_state_change(self.api, server, 'ACTIVE') # Now shelve and unshelve the server to make sure root_gb DISK_GB # isn't reported for allocations after we unshelve the server. fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.api.post_server_action(server['id'], {'shelve': None}) self._wait_for_state_change(self.api, server, 'SHELVED_OFFLOADED') fake_notifier.wait_for_versioned_notifications('shelve_offload.end') # The server should not have any allocations since it's not currently # hosted on any compute service. allocs = self._get_allocations_by_server_uuid(server['id']) self.assertDictEqual({}, allocs) # Now unshelve the server and make sure there are still no DISK_GB # allocations for the root disk. self.api.post_server_action(server['id'], {'unshelve': None}) self._wait_for_state_change(self.api, server, 'ACTIVE') allocs = self._get_allocations_by_server_uuid(server['id']) resources = list(allocs.values())[0]['resources'] self.assertEqual(expected_usage, resources['DISK_GB']) ",,27,1
openstack%2Freleases~master~I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf,openstack/releases,master,I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf,First release for new Ansible roles in TripleO,MERGED,2018-07-26 12:53:41.000000000,2018-08-02 22:54:22.000000000,2018-08-02 22:54:22.000000000,"[{'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8a7841cd28f7d51bcfd2adadccaa13bc789dbb12', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 9.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 2, 'created': '2018-07-31 12:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6b69b2c332f10d28a7cf04b785834c4352f53003', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 9.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 3, 'created': '2018-07-31 12:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/629d273e69a120a83b7f4cfd8049f4c62043dc33', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 9.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 4, 'created': '2018-07-31 21:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/be2ab05ebf5d024318b223a4ed9226fd6fcacc8f', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 9.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 5, 'created': '2018-07-31 21:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/775f2d740351c8718b277f3f17507283ba2eccea', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 9.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 6, 'created': '2018-07-31 21:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/52f563d142e49f714b2a9eeae86d4eda1f692515', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 7, 'created': '2018-07-31 21:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ed31b5d6d88df93042d4686503d372e4730c1abb', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-redhat-subscription\n* ansible-role-tripleo-modify-image\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 8, 'created': '2018-08-01 14:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/81199acc4fc5622c9841e60500acea269cc69386', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-tripleo-modify-image\n\nUpdate existing releases for: ansible-role-redhat-subscription\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 9, 'created': '2018-08-02 00:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6fa2426dcc0db39beae547f8309cf05219703ce0', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-tripleo-modify-image\n\nUpdate existing releases for: ansible-role-redhat-subscription\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 10, 'created': '2018-08-02 00:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4e3034a8e2e37e7d7b7dbfee36b07aeda35ec053', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-tripleo-modify-image\n\nUpdate existing releases for: ansible-role-redhat-subscription\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 11, 'created': '2018-08-02 00:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ba509abd13cff523b05068757d143da669ca70c8', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-tripleo-modify-image\n\nUpdate existing releases for: ansible-role-redhat-subscription\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}, {'number': 12, 'created': '2018-08-02 17:17:35.000000000', 'files': ['deliverables/rocky/ansible-role-redhat-subscription.yaml', 'deliverables/rocky/ansible-role-container-registry.yaml', 'deliverables/rocky/ansible-role-tripleo-modify-image.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27e7f183e05d1882343898d36d41220372dcbfe8', 'message': 'First release for new Ansible roles in TripleO\n\nFirst release: 1.0.0\n\n* ansible-role-container-registry\n* ansible-role-tripleo-modify-image\n\nUpdate existing releases for: ansible-role-redhat-subscription\n\nType: cycle-with-intermediary\n\nThese roles are similar to tripleo-ipsec, so we are releasing these new\nroles the same way for consistency.\n\nChange-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf\n'}]",5,586202,27e7f183e05d1882343898d36d41220372dcbfe8,31,6,12,3153,,,0,"First release for new Ansible roles in TripleO

First release: 1.0.0

* ansible-role-container-registry
* ansible-role-tripleo-modify-image

Update existing releases for: ansible-role-redhat-subscription

Type: cycle-with-intermediary

These roles are similar to tripleo-ipsec, so we are releasing these new
roles the same way for consistency.

Change-Id: I06cff0ff7be40e5bee6970e9a8d53b07b00e98bf
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/586202/9 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/ansible-role-redhat-subscription.yaml', 'deliverables/rocky/ansible-role-container-registry.yaml', 'deliverables/rocky/ansible-role-tripleo-modify-image.yaml']",3,8a7841cd28f7d51bcfd2adadccaa13bc789dbb12,tripleo/ansible,--- launchpad: tripleo release-model: cycle-with-intermediary release-type: python-pypi team: tripleo type: other repository-settings: openstack/ansible-role-tripleo-modify-image: {} releases: - projects: - hash: c2ef8651d506f6bd076081f2c4e3949df0abd25d repo: openstack/ansible-role-tripleo-modify-image version: 9.0.0 ,,39,0
openstack%2Fswift~stable%2Fpike~Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158,openstack/swift,stable/pike,Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158,Fix socket leak on 416 EC GET responses.,MERGED,2018-07-24 13:05:28.000000000,2018-08-02 22:48:30.000000000,2018-08-02 22:48:30.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 13:05:28.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8ff69e69bf4be0a0085916339003dc1368b7c703', 'message': 'Fix socket leak on 416 EC GET responses.\n\nSometimes, when handling an EC GET request with a Range header, the\nobject servers reply 206 to the proxy, but the proxy (correctly)\nreplies 416 to the client[1]. In that case, the connections to the object\nservers were not being closed. This was due to improper error handling\nin ECAppIter.\n\nSince ECAppIter is intended to be a WSGI iterable, it expects to have\nits close() method called when the caller is done with it. In this\nparticular case, the caller (ECAppIter.kickoff()) was not calling\nclose() when an exception was raised. Now it is.\n\n[1] consider a 4+2 EC policy with segment size 1024, an 20 byte\nobject, and a request with ""Range: bytes=21-50"". The proxy needs whole\nfragments to decode, so it asks the object server for ""Range:\nbytes=0-255"" [2], the object server says 206, and then the proxy\nrealizes that the client\'s request is unsatisfiable and tells the\nclient 416.\n\n[2] segment size 1024 and 4 data fragments means the fragments have\nsize 1024 / 4 = 256, hence ""bytes=0-255"" asks for the first whole\nfragment\n\nChange-Id: Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158\nCloses-Bug: 1738804\n'}]",0,585342,8ff69e69bf4be0a0085916339003dc1368b7c703,7,4,1,23449,,,0,"Fix socket leak on 416 EC GET responses.

Sometimes, when handling an EC GET request with a Range header, the
object servers reply 206 to the proxy, but the proxy (correctly)
replies 416 to the client[1]. In that case, the connections to the object
servers were not being closed. This was due to improper error handling
in ECAppIter.

Since ECAppIter is intended to be a WSGI iterable, it expects to have
its close() method called when the caller is done with it. In this
particular case, the caller (ECAppIter.kickoff()) was not calling
close() when an exception was raised. Now it is.

[1] consider a 4+2 EC policy with segment size 1024, an 20 byte
object, and a request with ""Range: bytes=21-50"". The proxy needs whole
fragments to decode, so it asks the object server for ""Range:
bytes=0-255"" [2], the object server says 206, and then the proxy
realizes that the client's request is unsatisfiable and tells the
client 416.

[2] segment size 1024 and 4 data fragments means the fragments have
size 1024 / 4 = 256, hence ""bytes=0-255"" asks for the first whole
fragment

Change-Id: Ide2edf8c449c97d45f48c2dbbbff7aebefa4b158
Closes-Bug: 1738804
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/585342/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/obj.py']",2,8ff69e69bf4be0a0085916339003dc1368b7c703,bug/1738804," try: self.stashed_iter = reiterate(self._real_iter(req, resp.headers)) except Exception: self.close() raise the closest to having sufficient getters, unless it is bettered by a"," self.stashed_iter = reiterate(self._real_iter(req, resp.headers)) the closest to having a sufficient getters, unless it is bettered by a",49,2
openstack%2Fpython-swiftclient~stable%2Frocky~Icdc3c10779e5a76090fab218e2ef9a143de70eb5,openstack/python-swiftclient,stable/rocky,Icdc3c10779e5a76090fab218e2ef9a143de70eb5,Update .gitreview for stable/rocky,MERGED,2018-07-25 16:51:52.000000000,2018-08-02 22:48:29.000000000,2018-08-02 22:48:29.000000000,"[{'_account_id': 330}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 16:51:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f7400b48796414631ceb54e5f162d25620b15679', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Icdc3c10779e5a76090fab218e2ef9a143de70eb5\n'}]",0,585822,f7400b48796414631ceb54e5f162d25620b15679,7,3,1,22816,,,0,"Update .gitreview for stable/rocky

Change-Id: Icdc3c10779e5a76090fab218e2ef9a143de70eb5
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/22/585822/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f7400b48796414631ceb54e5f162d25620b15679,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fswift~stable%2Fpike~I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,openstack/swift,stable/pike,I34ed9e1c4b822f700e42fb07937df7be72cbaf4e,Native Zuul v3 tox jobs,MERGED,2018-07-30 16:19:32.000000000,2018-08-02 22:48:28.000000000,2018-08-02 22:48:28.000000000,"[{'_account_id': 330}, {'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 16:19:32.000000000', 'files': ['.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/swift/commit/af6aeb3fbe9d028c148c38fb82b9c65182e3dc4f', 'message': ""Native Zuul v3 tox jobs\n\nConvert the legacy tox jobs to Zuul v3 native and use the\ntools/test_setup.sh script to setup a XFS file like it's done in the\nlegacy job.\n\nNeeded-By: Id2b5cff998ac3a825a8f515c7bae3b433f30d272\nChange-Id: I34ed9e1c4b822f700e42fb07937df7be72cbaf4e\n(cherry picked from commit dc1c55c9a07c03fe85f4bcc52419a42d75ae30fa)\n""}]",0,587108,af6aeb3fbe9d028c148c38fb82b9c65182e3dc4f,8,4,1,9625,,,0,"Native Zuul v3 tox jobs

Convert the legacy tox jobs to Zuul v3 native and use the
tools/test_setup.sh script to setup a XFS file like it's done in the
legacy job.

Needed-By: Id2b5cff998ac3a825a8f515c7bae3b433f30d272
Change-Id: I34ed9e1c4b822f700e42fb07937df7be72cbaf4e
(cherry picked from commit dc1c55c9a07c03fe85f4bcc52419a42d75ae30fa)
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/587108/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/test-setup.sh']",2,af6aeb3fbe9d028c148c38fb82b9c65182e3dc4f,zuulv3-native-stable/pike,"#!/bin/bash -xe # Set up a partition formatted with XFS to use as TMPDIR for our tests. # OpenStack CI will invoke this script as part of tox based tests. # The file .zuul.yaml set TMPDIR to $HOME/xfstmp. # Create a large-ish file that we will mount as a loopback truncate -s 1GB $HOME/1G_xfs_file # Format the new file as XFS. /sbin/mkfs.xfs $HOME/1G_xfs_file # loopback mount the file mkdir -p $HOME/xfstmp sudo mount -o loop,noatime,nodiratime $HOME/1G_xfs_file $HOME/xfstmp sudo chmod 777 $HOME/xfstmp ",,151,0
openstack%2Fnova~master~I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4,openstack/nova,master,I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4,Fix wonky reqspec handling in conductor.unshelve_instance,MERGED,2018-07-18 20:57:12.000000000,2018-08-02 22:33:54.000000000,2018-07-24 12:53:40.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/327815b27a6af81b98d0a216490cd67c16dbc2da', 'message': ""Fix wonky reqspec handling in conductor.unshelve_instance\n\nRemoves the populate_retry call since we don't reschedule\nfrom failed unshelve calls in the compute. That was added\nas a partial fix for bug 1400015 but it was never completed.\n\nThe to_legacy/from_primitives stuff in here dropped the is_bfv\nsetting on the request spec, which means we'd have to\nrecalculate that every time. Instead, if we're given a valid\nRequestSpec, use it, otherwise create a fake one and then we'll\nheal the RequestSpec.is_bfv field on that one. Plus all of that\nmissing request spec compat code should get dropped in Stein\nanyway (finally).\n\nRelated-Bug: #1469179\n\nChange-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4\n""}, {'number': 2, 'created': '2018-07-18 21:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f0a14bf8d188beb853b26c7ae08a8a0e8b2728', 'message': ""Fix wonky reqspec handling in conductor.unshelve_instance\n\nRemoves the populate_retry call since we don't reschedule\nfrom failed unshelve calls in the compute. That was added\nas a partial fix for bug 1400015 but it was never completed.\n\nThe to_legacy/from_primitives stuff in here dropped the is_bfv\nsetting on the request spec, which means we'd have to\nrecalculate that every time. Instead, if we're given a valid\nRequestSpec, use it, otherwise create a fake one and then we'll\nheal the RequestSpec.is_bfv field on that one. Plus all of that\nmissing request spec compat code should get dropped in Stein\nanyway (finally).\n\nRelated-Bug: #1469179\n\nChange-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4\n""}, {'number': 3, 'created': '2018-07-23 15:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b5fce2b17fd6e993d40bebd20ebd81d7cc969a9', 'message': ""Fix wonky reqspec handling in conductor.unshelve_instance\n\nRemoves the populate_retry call since we don't reschedule\nfrom failed unshelve calls in the compute. That was added\nas a partial fix for bug 1400015 but it was never completed.\n\nThe to_legacy/from_primitives stuff in here dropped the is_bfv\nsetting on the request spec, which means we'd have to\nrecalculate that every time. Instead, if we're given a valid\nRequestSpec, use it, otherwise create a fake one and then we'll\nheal the RequestSpec.is_bfv field on that one. Plus all of that\nmissing request spec compat code should get dropped in Stein\nanyway (finally).\n\nRelated-Bug: #1469179\n\nChange-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4\n""}, {'number': 4, 'created': '2018-07-23 16:24:05.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b537148228a0bbafc618a52af905addd29b2543d', 'message': ""Fix wonky reqspec handling in conductor.unshelve_instance\n\nRemoves the populate_retry call since we don't reschedule\nfrom failed unshelve calls in the compute. That was added\nas a partial fix for bug 1400015 but it was never completed.\n\nThe to_legacy/from_primitives stuff in here dropped the is_bfv\nsetting on the request spec, which means we'd have to\nrecalculate that every time. Instead, if we're given a valid\nRequestSpec, use it, otherwise create a fake one and then we'll\nheal the RequestSpec.is_bfv field on that one. Plus all of that\nmissing request spec compat code should get dropped in Stein\nanyway (finally).\n\nRelated-Bug: #1469179\n\nChange-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4\n""}]",0,583739,b537148228a0bbafc618a52af905addd29b2543d,36,16,4,6873,,,0,"Fix wonky reqspec handling in conductor.unshelve_instance

Removes the populate_retry call since we don't reschedule
from failed unshelve calls in the compute. That was added
as a partial fix for bug 1400015 but it was never completed.

The to_legacy/from_primitives stuff in here dropped the is_bfv
setting on the request spec, which means we'd have to
recalculate that every time. Instead, if we're given a valid
RequestSpec, use it, otherwise create a fake one and then we'll
heal the RequestSpec.is_bfv field on that one. Plus all of that
missing request spec compat code should get dropped in Stein
anyway (finally).

Related-Bug: #1469179

Change-Id: I49c4e87d15e6fb0fda1b4efd7252bc5ca2066fb4
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/583739/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,327815b27a6af81b98d0a216490cd67c16dbc2da,bug/1469179," request_spec = objects.RequestSpec.from_primitives( context, request_spec, filter_properties) # when populate_filter_properties accepts it"," # when populate_filter_properties and populate_retry() # accept it # FIXME(mriedem): This means we'll lose the is_bfv flag # set on an existing RequestSpec that had it set. request_spec = request_spec.\ to_legacy_request_spec_dict() # TODO(mriedem): we don't even need to call populate_retry # because unshelve failures aren't rescheduled. scheduler_utils.populate_retry(filter_properties, instance.uuid) request_spec = objects.RequestSpec.from_primitives( context, request_spec, filter_properties)",25,37
openstack%2Fnova~master~I8e529ad4d707b2ad012328993892db83ce464c4b,openstack/nova,master,I8e529ad4d707b2ad012328993892db83ce464c4b,Heal RequestSpec.is_bfv for legacy instances during moves,MERGED,2018-07-18 19:49:25.000000000,2018-08-02 22:24:34.000000000,2018-07-24 06:52:50.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16137}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 19:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd4361a55a27a94e15a71438bd6a50247d83110e', 'message': ""Heal RequestSpec.is_bfv for legacy instances during moves\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 sets the\nRequestSpec.is_bfv flag for newly created instances so\nthat scheduling (using placement) does not allocate DISK_GB\nresources for the Flavor's root_gb when booting from volume.\n\nRequestSpecs for old instances created before that change will\nnot have the is_bfv field set, so this change adds a check for\nthat in the various move operations (evacuate, unshelve, cold\nmigrate and live migrate) and sets the RequestSpec.is_bfv flag\naccordingly.\n\nThe related functional test is updated for the legacy cold\nmigrate and heal scenario.\n\nChange-Id: I8e529ad4d707b2ad012328993892db83ce464c4b\nCloses-Bug: #1469179\n""}, {'number': 2, 'created': '2018-07-18 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9876b840ce4e4d4cf581b94b41c301ba1bc2ad6a', 'message': ""Heal RequestSpec.is_bfv for legacy instances during moves\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 sets the\nRequestSpec.is_bfv flag for newly created instances so\nthat scheduling (using placement) does not allocate DISK_GB\nresources for the Flavor's root_gb when booting from volume.\n\nRequestSpecs for old instances created before that change will\nnot have the is_bfv field set, so this change adds a check for\nthat in the various move operations (evacuate, unshelve, cold\nmigrate and live migrate) and sets the RequestSpec.is_bfv flag\naccordingly.\n\nThe related functional test is updated for the legacy cold\nmigrate and heal scenario.\n\nChange-Id: I8e529ad4d707b2ad012328993892db83ce464c4b\nCloses-Bug: #1469179\n""}, {'number': 3, 'created': '2018-07-18 21:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a500f13b120d11b56560bc7b7729ec0f9ecb4781', 'message': ""Heal RequestSpec.is_bfv for legacy instances during moves\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 sets the\nRequestSpec.is_bfv flag for newly created instances so\nthat scheduling (using placement) does not allocate DISK_GB\nresources for the Flavor's root_gb when booting from volume.\n\nRequestSpecs for old instances created before that change will\nnot have the is_bfv field set, so this change adds a check for\nthat in the various move operations (evacuate, unshelve, cold\nmigrate and live migrate) and sets the RequestSpec.is_bfv flag\naccordingly.\n\nThe related functional test is updated for the legacy cold\nmigrate and heal scenario.\n\nChange-Id: I8e529ad4d707b2ad012328993892db83ce464c4b\nCloses-Bug: #1469179\n""}, {'number': 4, 'created': '2018-07-23 15:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14b512afb789aede778703fedb7f1f5fca5577ce', 'message': ""Heal RequestSpec.is_bfv for legacy instances during moves\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 sets the\nRequestSpec.is_bfv flag for newly created instances so\nthat scheduling (using placement) does not allocate DISK_GB\nresources for the Flavor's root_gb when booting from volume.\n\nRequestSpecs for old instances created before that change will\nnot have the is_bfv field set, so this change adds a check for\nthat in the various move operations (evacuate, unshelve, cold\nmigrate and live migrate) and sets the RequestSpec.is_bfv flag\naccordingly.\n\nThe related functional test is updated for the legacy cold\nmigrate and heal scenario.\n\nChange-Id: I8e529ad4d707b2ad012328993892db83ce464c4b\nCloses-Bug: #1469179\n""}, {'number': 5, 'created': '2018-07-23 16:24:05.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9344c1995a059675af7a8e9cf0de0502bef46c94', 'message': ""Heal RequestSpec.is_bfv for legacy instances during moves\n\nChange I9c2111f7377df65c1fc3c72323f85483b3295989 sets the\nRequestSpec.is_bfv flag for newly created instances so\nthat scheduling (using placement) does not allocate DISK_GB\nresources for the Flavor's root_gb when booting from volume.\n\nRequestSpecs for old instances created before that change will\nnot have the is_bfv field set, so this change adds a check for\nthat in the various move operations (evacuate, unshelve, cold\nmigrate and live migrate) and sets the RequestSpec.is_bfv flag\naccordingly.\n\nThe related functional test is updated for the legacy cold\nmigrate and heal scenario.\n\nChange-Id: I8e529ad4d707b2ad012328993892db83ce464c4b\nCloses-Bug: #1469179\n""}]",9,583715,9344c1995a059675af7a8e9cf0de0502bef46c94,46,18,5,6873,,,0,"Heal RequestSpec.is_bfv for legacy instances during moves

Change I9c2111f7377df65c1fc3c72323f85483b3295989 sets the
RequestSpec.is_bfv flag for newly created instances so
that scheduling (using placement) does not allocate DISK_GB
resources for the Flavor's root_gb when booting from volume.

RequestSpecs for old instances created before that change will
not have the is_bfv field set, so this change adds a check for
that in the various move operations (evacuate, unshelve, cold
migrate and live migrate) and sets the RequestSpec.is_bfv flag
accordingly.

The related functional test is updated for the legacy cold
migrate and heal scenario.

Change-Id: I8e529ad4d707b2ad012328993892db83ce464c4b
Closes-Bug: #1469179
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/583715/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",9,cd4361a55a27a94e15a71438bd6a50247d83110e,bug/1469179," self.heal_reqspec_is_bfv_mock = mock.patch( 'nova.compute.utils.heal_reqspec_is_bfv').start() self.addCleanup(self.heal_reqspec_is_bfv_mock.stop) # When the task is executed with a destination it means the host is # being forced and we don't call the scheduler, so we don't need to # heal the request spec. self.heal_reqspec_is_bfv_mock.assert_not_called() self.heal_reqspec_is_bfv_mock.assert_called_once_with( self.context, self.fake_spec, self.instance) self.heal_reqspec_is_bfv_mock.assert_called_once_with( self.context, another_spec, self.instance)",,109,2
openstack%2Fnova~master~I0839470c4bcfb16590a0d87b306d683b059bf8a9,openstack/nova,master,I0839470c4bcfb16590a0d87b306d683b059bf8a9,Report 0 root_gb in resource tracker if instance is bfv.,MERGED,2018-07-20 02:42:00.000000000,2018-08-02 22:04:48.000000000,2018-07-24 06:44:11.000000000,"[{'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 02:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/668d6b916fdbf586e92e04b524fd9aab3b0bc88b', 'message': ""Report 0 root_gb in resource tracker if instance is bfv.\n\nhypervisor local_gb_used still reports usage even with volume-backed\ninstances after fix for bug 1469179.\n\nThis is because of some code in the resource tracker that is not\nboot-from-volume aware when reporting disk usage, it just gets the\nroot_gb off the flavor:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455\n\nThis patch simply check if the instance is bfv before returning\nthe result. If it's a volume-backed instance and report 0 for root_gb if\nthat's the case.\n\nChange-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9\nCloses-bug: #1782393\n""}, {'number': 2, 'created': '2018-07-20 08:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/866998896296a667e9ac61cf6a2f4118fd0d18ed', 'message': ""Report 0 root_gb in resource tracker if instance is bfv.\n\nhypervisor local_gb_used still reports usage even with volume-backed\ninstances after fix for bug 1469179.\n\nThis is because of some code in the resource tracker that is not\nboot-from-volume aware when reporting disk usage, it just gets the\nroot_gb off the flavor:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455\n\nThis patch simply check if the instance is bfv before returning\nthe result. If it's a volume-backed instance and report 0 for root_gb if\nthat's the case.\n\nChange-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9\nCloses-bug: #1782393\n""}, {'number': 3, 'created': '2018-07-23 03:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a668c7f16c315e25c555c55d2ef7924fc227ad14', 'message': ""Report 0 root_gb in resource tracker if instance is bfv.\n\nhypervisor local_gb_used still reports usage even with volume-backed\ninstances after fix for bug 1469179.\n\nThis is because of some code in the resource tracker that is not\nboot-from-volume aware when reporting disk usage, it just gets the\nroot_gb off the flavor:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455\n\nThis patch simply check if the instance is bfv before returning\nthe result. If it's a volume-backed instance and report 0 for root_gb if\nthat's the case.\n\nChange-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9\nCloses-bug: #1782393\n""}, {'number': 4, 'created': '2018-07-23 06:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea87ac5677b4a4d96a57ba4e0d1c1a459a062047', 'message': ""Report 0 root_gb in resource tracker if instance is bfv.\n\nhypervisor local_gb_used still reports usage even with volume-backed\ninstances after fix for bug 1469179.\n\nThis is because of some code in the resource tracker that is not\nboot-from-volume aware when reporting disk usage, it just gets the\nroot_gb off the flavor:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455\n\nThis patch simply check if the instance is bfv before returning\nthe result. If it's a volume-backed instance and report 0 for root_gb if\nthat's the case.\n\nChange-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9\nCloses-bug: #1782393\n""}, {'number': 5, 'created': '2018-07-23 15:15:32.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f63fd14975cda83d24121b010cbedfc3a7e5ff1f', 'message': ""Report 0 root_gb in resource tracker if instance is bfv.\n\nhypervisor local_gb_used still reports usage even with volume-backed\ninstances after fix for bug 1469179.\n\nThis is because of some code in the resource tracker that is not\nboot-from-volume aware when reporting disk usage, it just gets the\nroot_gb off the flavor:\n\nhttps://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455\n\nThis patch simply check if the instance is bfv before returning\nthe result. If it's a volume-backed instance and report 0 for root_gb if\nthat's the case.\n\nChange-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9\nCloses-bug: #1782393\n""}]",6,584204,f63fd14975cda83d24121b010cbedfc3a7e5ff1f,72,19,5,15888,,,0,"Report 0 root_gb in resource tracker if instance is bfv.

hypervisor local_gb_used still reports usage even with volume-backed
instances after fix for bug 1469179.

This is because of some code in the resource tracker that is not
boot-from-volume aware when reporting disk usage, it just gets the
root_gb off the flavor:

https://github.com/openstack/nova/blob/eb4f65a7951e921b1cd8d05713e144e72f2f254f/nova/compute/resource_tracker.py#L1455

This patch simply check if the instance is bfv before returning
the result. If it's a volume-backed instance and report 0 for root_gb if
that's the case.

Change-Id: I0839470c4bcfb16590a0d87b306d683b059bf8a9
Closes-bug: #1782393
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/584204/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,668d6b916fdbf586e92e04b524fd9aab3b0bc88b,bug/1469179," is_bfv = compute_utils.is_volume_backed_instance( object_or_dict._context, object_or_dict) 'root_gb': (0 if is_bfv else object_or_dict.flavor.root_gb),"," 'root_gb': object_or_dict.flavor.root_gb,",11,1
openstack%2Ftripleo-ci~master~I35b32eb011cb1fe9a882cd25bf3dee2840920d22,openstack/tripleo-ci,master,I35b32eb011cb1fe9a882cd25bf3dee2840920d22,WIP- DNM - Increase the flavor of BMC node for OVB,ABANDONED,2018-08-02 19:54:55.000000000,2018-08-02 22:03:15.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}]","[{'number': 1, 'created': '2018-08-02 19:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1137e6e1f65f42f6e4018953cca151911144643b', 'message': 'DNM - Increase the falvor of BMC node for OVB\n\nhttps://bugs.launchpad.net/tripleo/+bug/1784822\ndetails sporadic IPMI failures.\nThis review increase the size/resources of the bmc flavor\nto test if the additional resources get the CI past\nthe IPMI failures.\n\nChange-Id: I35b32eb011cb1fe9a882cd25bf3dee2840920d22\n'}, {'number': 2, 'created': '2018-08-02 19:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6866d45a5690be6799bd4c0d212641b49000df5c', 'message': 'DNM - Increase the flavor of BMC node for OVB\n\nhttps://bugs.launchpad.net/tripleo/+bug/1784822\ndetails sporadic IPMI failures.\nThis review increases the size/resources of the bmc flavor\nto test if the additional resources get the CI past\nthe IPMI failures.\n\nChange-Id: I35b32eb011cb1fe9a882cd25bf3dee2840920d22\n'}, {'number': 3, 'created': '2018-08-02 20:36:26.000000000', 'files': ['scripts/te-broker/create-env'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/743d0b3fa973396ba3f7854873a5580a6839cead', 'message': 'WIP- DNM - Increase the flavor of BMC node for OVB\n\nhttps://bugs.launchpad.net/tripleo/+bug/1784822\ndetails sporadic IPMI failures.\nThis review increases the size/resources of the bmc flavor\nto test if the additional resources get the CI past\nthe IPMI failures.\n\nChange-Id: I35b32eb011cb1fe9a882cd25bf3dee2840920d22\n'}]",0,588366,743d0b3fa973396ba3f7854873a5580a6839cead,8,4,3,9976,,,0,"WIP- DNM - Increase the flavor of BMC node for OVB

https://bugs.launchpad.net/tripleo/+bug/1784822
details sporadic IPMI failures.
This review increases the size/resources of the bmc flavor
to test if the additional resources get the CI past
the IPMI failures.

Change-Id: I35b32eb011cb1fe9a882cd25bf3dee2840920d22
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/66/588366/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/te-broker/create-env'],1,1137e6e1f65f42f6e4018953cca151911144643b,test-larger-bmc-flavor," sed -i -e ""s/bmc_flavor:.*/bmc_flavor: ci.m1.medium/"" $ENVFILE"," sed -i -e ""s/bmc_flavor:.*/bmc_flavor: ci.m1.small/"" $ENVFILE",1,1
openstack%2Fopenstack-helm~master~Id4c8f805dbc4472f9b49d19d2e0307d722dd7196,openstack/openstack-helm,master,Id4c8f805dbc4472f9b49d19d2e0307d722dd7196,Armada: Add Nagios to armada-lma manifest,MERGED,2018-08-01 13:49:56.000000000,2018-08-02 22:02:35.000000000,2018-08-02 22:02:35.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-01 13:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a075f9d92efe2df28f753899b9ab12566a330aa5', 'message': 'Armada: Add Nagios to armada-lma manifest\n\nThis adds nagios to the armada-lma manifest and includes it in\nthe monitoring chart group\n\nChange-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196\n'}, {'number': 2, 'created': '2018-08-01 13:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6bf016621ac7ab3ede23c01669be05332137710', 'message': 'Armada: Add Nagios to armada-lma manifest\n\nThis adds nagios to the armada-lma manifest and includes it in\nthe monitoring chart group\n\nChange-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196\n'}, {'number': 3, 'created': '2018-08-01 18:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d85e63e74b14b70385dedbb5210256e1b3efbb4c', 'message': 'Armada: Add Nagios to armada-lma manifest\n\nThis adds nagios to the armada-lma manifest and includes it in\nthe monitoring chart group\n\nDepends-On: https://review.openstack.org/#/c/587972/\nChange-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196\n'}, {'number': 4, 'created': '2018-08-02 18:58:33.000000000', 'files': ['tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe8c56e7789287591c42efb2d560cf309aa3593d', 'message': 'Armada: Add Nagios to armada-lma manifest\n\nThis adds nagios to the armada-lma manifest and includes it in\nthe monitoring chart group\n\nDepends-On: https://review.openstack.org/#/c/587972/\nChange-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196\n'}]",0,587825,fe8c56e7789287591c42efb2d560cf309aa3593d,14,4,4,17591,,,0,"Armada: Add Nagios to armada-lma manifest

This adds nagios to the armada-lma manifest and includes it in
the monitoring chart group

Depends-On: https://review.openstack.org/#/c/587972/
Change-Id: Id4c8f805dbc4472f9b49d19d2e0307d722dd7196
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/587825/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/multinode/armada-lma.yaml'],1,a075f9d92efe2df28f753899b9ab12566a330aa5,armada_add_nagios, name: nagios data: chart_name: nagios release: nagios namespace: osh-infra wait: timeout: 1800 labels: release_group: osh-infra-nagios install: no_hooks: False upgrade: no_hooks: False pre: delete: - type: job labels: release_group: osh-infra-nagios values: labels: nagios: node_selector_key: openstack-control-plane node_selector_value: enabled job: node_selector_key: openstack-control-plane node_selector_value: enabled source: type: local location: ${OSH_INFRA_PATH} subpath: prometheus-alertmanager reference: master dependencies: - helm-toolkit --- schema: armada/Chart/v1 metadata: schema: metadata/Document/v1 - nagios,,38,0
openstack%2Fmanila-ui~master~I49e4756b1701822e1a991a661d9beb2401cdf795,openstack/manila-ui,master,I49e4756b1701822e1a991a661d9beb2401cdf795,mox test,ABANDONED,2018-08-02 21:55:15.000000000,2018-08-02 21:58:23.000000000,,[],"[{'number': 1, 'created': '2018-08-02 21:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/abfd87eca1013ef7d9e41bec2a23d692160a48a4', 'message': 'mox test\n\nChange-Id: I49e4756b1701822e1a991a661d9beb2401cdf795\n'}]",0,588399,abfd87eca1013ef7d9e41bec2a23d692160a48a4,2,0,1,16643,,,0,"mox test

Change-Id: I49e4756b1701822e1a991a661d9beb2401cdf795
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/99/588399/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,abfd87eca1013ef7d9e41bec2a23d692160a48a4,debug,,,0,0
openstack%2Fnova~master~I3de5c839d212cfab1c69e2c78617c1051b971c38,openstack/nova,master,I3de5c839d212cfab1c69e2c78617c1051b971c38,Update queued-for-delete from the ComputeAPI during deletion/restoration,MERGED,2018-05-08 08:29:47.000000000,2018-08-02 21:57:21.000000000,2018-07-27 23:27:16.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26431}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-05-08 08:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d61687d3701c34f27ea3c36df70c1195b67798a', 'message': '[WIP/POC] Updating queued_for_delete from instance_destroy()\n\nThis patch updates nova_api.instance_mapping.queued_for_delete\nwhile deleting the instance inside the instance object.\n\n[INPROGRESS] Need to analyze if this is the right place to do this\nor if it should be done in the compute.api.py in a path common to\ndelete and soft_delete.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 2, 'created': '2018-05-11 07:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eea6349d69621c7257d20ec788f59099ea8b0d65', 'message': '[WIP/POC] Updating queued_for_delete from instance_destroy()\n\nThis patch updates nova_api.instance_mapping.queued_for_delete\nwhile deleting the instance inside the instance object.\n\n[INPROGRESS] Need to analyze if this is the right place to do this\nor if it should be done in the compute.api.py in a path common to\ndelete and soft_delete.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 3, 'created': '2018-07-10 12:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6a2b536643a04dc5f6a876e9b2fd5401cd9c66c', 'message': '[WIP/POC] Updating queued_for_delete from instance_destroy()\n\nThis patch updates nova_api.instance_mapping.queued_for_delete\nwhile deleting the instance inside the instance object.\n\n[INPROGRESS] Need to analyze if this is the right place to do this\nor if it should be done in the compute.api.py in a path common to\ndelete and soft_delete.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 4, 'created': '2018-07-11 10:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c12af08ed40cb0056a50f26f5d8855187cd51b91', 'message': 'Update queued-for-delete from the ComputeAPI during deletion.\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, force delete and\nsoft-delete (for both local delete and cell delete) operations.\nNote that as the name of the column suggests, it is only ""queued""\nfor deletion and does not guarantee successful deletion of the instance.\nHence the value could be stale which is fine, considering its use is\nonly during down cell (desperate) situation. This in no way hampers\nnormal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 5, 'created': '2018-07-11 10:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02532802d7b30b9d900389480548104ba7d0de95', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, force delete and\nsoft-delete (for both local delete and cell delete) operations.\nNote that as the name of the column suggests, it is only ""queued""\nfor deletion and does not guarantee successful deletion of the instance.\nHence the value could be stale which is fine, considering its use is\nonly during down cell (desperate) situation. This in no way hampers\nnormal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 6, 'created': '2018-07-11 14:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75234103d4146f18c20af1557c0fb4bc07454e53', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, force delete and\nsoft-delete (for both local delete and cell delete) operations.\nNote that as the name of the column suggests, it is only ""queued""\nfor deletion and does not guarantee successful deletion of the instance.\nHence the value could be stale which is fine, considering its use is\nonly during down cell (desperate) situation. This in no way hampers\nnormal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 7, 'created': '2018-07-16 18:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bced069cde557f5ce8f5228b994ddcd82689323', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down) and soft-delete operations.\nNote that as the name of the column suggests, it is only ""queued""\nfor deletion and does not guarantee successful deletion of the instance.\nHence the value could be stale which is fine, considering its use is\nonly during down cell (desperate) situation. This in no way hampers\nnormal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 8, 'created': '2018-07-18 14:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f6fa05f66d6dd0678d3f5d86bd98bff5b9bec32', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down) and soft-delete operations.\nNote that as the name of the column suggests, it is only ""queued""\nfor deletion and does not guarantee successful deletion of the instance.\nHence the value could be stale which is fine, considering its use is\nonly during down cell (desperate) situation. This in no way hampers\nnormal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 9, 'created': '2018-07-19 23:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb87e0c7734b8728aeb3d1de18c0d26be5b18ae8', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down or instance is shelved offloaded) and\nsoft-delete operations. Note that as the name of the column suggests,\nit is only ""queued"" for deletion and does not guarantee successful\ndeletion of the instance. Hence the value could be stale which is fine,\nconsidering its use is only during down cell (desperate) situation.\nThis in no way hampers normal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 10, 'created': '2018-07-19 23:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b117471084b15fc3275c9711ab273d7230460266', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down or instance is shelved offloaded) and\nsoft-delete operations. Note that as the name of the column suggests,\nit is only ""queued"" for deletion and does not guarantee successful\ndeletion of the instance. Hence the value could be stale which is fine,\nconsidering its use is only during down cell (desperate) situation.\nThis in no way hampers normal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 11, 'created': '2018-07-23 11:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cd7a4ee6c9748636794a17ce3726727434980a8', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down or instance is shelved offloaded) and\nsoft-delete operations. Note that as the name of the column suggests,\nit is only ""queued"" for deletion and does not guarantee successful\ndeletion of the instance. Hence the value could be stale which is fine,\nconsidering its use is only during down cell (desperate) situation.\nThis in no way hampers normal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}, {'number': 12, 'created': '2018-07-23 22:05:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2499f616094f63ed0a1a3c201789d14cc61a62c4', 'message': 'Update queued-for-delete from the ComputeAPI during deletion/restoration\n\nThis patch updates queued-for-delete column in the instance_mapping\ntable from the ComputeAPI during normal delete, local delete (when\nthe compute service is down or instance is shelved offloaded) and\nsoft-delete operations. Note that as the name of the column suggests,\nit is only ""queued"" for deletion and does not guarantee successful\ndeletion of the instance. Hence the value could be stale which is fine,\nconsidering its use is only during down cell (desperate) situation.\nThis in no way hampers normal delete operations in nova.\n\nThis column is also updated from the ComputeAPI during the\nnova restore operation.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38\n'}]",38,566813,2499f616094f63ed0a1a3c201789d14cc61a62c4,191,22,12,26936,,,0,"Update queued-for-delete from the ComputeAPI during deletion/restoration

This patch updates queued-for-delete column in the instance_mapping
table from the ComputeAPI during normal delete, local delete (when
the compute service is down or instance is shelved offloaded) and
soft-delete operations. Note that as the name of the column suggests,
it is only ""queued"" for deletion and does not guarantee successful
deletion of the instance. Hence the value could be stale which is fine,
considering its use is only during down cell (desperate) situation.
This in no way hampers normal delete operations in nova.

This column is also updated from the ComputeAPI during the
nova restore operation.

Related to blueprint handling-down-cell

Change-Id: I3de5c839d212cfab1c69e2c78617c1051b971c38
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/566813/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,4d61687d3701c34f27ea3c36df70c1195b67798a,bp/handling-down-cell," # NOTE(tssurya): We query the instance_mapping record of this # instance and set the queued_for_delete flag to True. _update_queued_for_delete(self._context, self)@db_api.api_context_manager.writer def _update_queued_for_delete(context, instance): uuid = instance.uuid inst_mapp = objects.InstanceMapping.get_by_instance_uuid(context, uuid) inst_mapp._update_queued_for_delete(instance) ",,10,0
openstack%2Fos-vif~stable%2Fqueens~Ife09b596d7bb009e623c8b9edbd424b8fc6f2556,openstack/os-vif,stable/queens,Ife09b596d7bb009e623c8b9edbd424b8fc6f2556,fix tox py27 job,MERGED,2018-05-11 20:41:56.000000000,2018-08-02 21:56:35.000000000,2018-08-02 21:56:35.000000000,"[{'_account_id': 7634}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 19554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 20:41:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/37da821122d7ea9f761bc4750586571fea239e65', 'message': 'fix tox py27 job\n\n- The current py27 tox env only runs the\n  unit tests for core os-vif lib.\n- This change removes --test-path=""os_vif/tests""\n  to renable the unit tests for all  in tree plugins.\n\nChange-Id: Ife09b596d7bb009e623c8b9edbd424b8fc6f2556\n'}]",0,567942,37da821122d7ea9f761bc4750586571fea239e65,10,6,1,11604,,,0,"fix tox py27 job

- The current py27 tox env only runs the
  unit tests for core os-vif lib.
- This change removes --test-path=""os_vif/tests""
  to renable the unit tests for all  in tree plugins.

Change-Id: Ife09b596d7bb009e623c8b9edbd424b8fc6f2556
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/42/567942/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37da821122d7ea9f761bc4750586571fea239e65,fix-tox-stable/queens," stestr run --black-regex "".tests.functional"" '{posargs}'"," stestr run --black-regex "".tests.functional"" --test-path=""os_vif/tests"" '{posargs}'",1,1
openstack%2Foctavia~master~Ib23edb7190ffb777e4a95f45a253e8a632beb046,openstack/octavia,master,Ib23edb7190ffb777e4a95f45a253e8a632beb046,UDP jinja template,MERGED,2017-12-05 04:08:02.000000000,2018-08-02 21:49:23.000000000,2018-08-02 21:49:23.000000000,"[{'_account_id': 2245}, {'_account_id': 8871}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 28329}]","[{'number': 1, 'created': '2017-12-05 04:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/beddfd500789001efdbefa3a09be9ade90e838c5', 'message': 'WIP:UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 2, 'created': '2018-01-24 08:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/897de0ed942887006ab0ca0f1fbd72cf037db40e', 'message': 'WIP:UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 3, 'created': '2018-01-31 02:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ae89618ffab9f5a8d871fa37efb1b8ac229c7fb', 'message': 'WIP:UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 4, 'created': '2018-02-02 03:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f123937f70ea7a898097ead51a43f9fb8e343a15', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 5, 'created': '2018-02-02 07:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/40cdd45c66af8c03445940eb586b5b7a89cd732a', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 6, 'created': '2018-02-27 02:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/92c955456abfc3264235826b25a748b9be7b56cc', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 7, 'created': '2018-03-02 11:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c42ea6bd824db5408d4b9b372f25e360f3692eb8', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 8, 'created': '2018-03-05 01:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3da834309fff6401e95703a3988bcfb589c745f0', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 9, 'created': '2018-03-15 01:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9fffb944dbcce6575af424866212e4bdea2e83fd', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 10, 'created': '2018-03-27 07:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee9b4dc58beb50a7cbee1bf45f977a57566d4655', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 11, 'created': '2018-03-27 09:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0177d78f7e6e1179b1d0ae2b0c46d542b696a9d', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 12, 'created': '2018-04-24 01:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a61a0f7ea38693119773f4521cb5e065dd93929', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 13, 'created': '2018-04-24 02:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/95c95500ac6d5dc5d7af993d68554e062b29659e', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 14, 'created': '2018-05-10 10:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/accc5cb17a0a6252073e9716c458df7b2cd3c017', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 15, 'created': '2018-05-11 09:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d004d0f87d224e94ff8bfe400e062450311aae19', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 16, 'created': '2018-05-17 12:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b49e2ec0702e52030e614aed2415f824911c3214', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 17, 'created': '2018-05-26 08:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/509639804442313ed0c3f2c09f8c047f7b9b4bf7', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 18, 'created': '2018-05-28 11:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e46291e45143433bd01c3b5fb3b2609cbbf33b69', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 19, 'created': '2018-06-19 15:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bbd806551aaa67654df62301220c39d4298eaeff', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 20, 'created': '2018-06-23 14:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1284d692ed4e9bbbd089db35e723478f9e5a8cfb', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 21, 'created': '2018-06-25 09:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b300f3f9329a7edd327ca8a2f7af102ba9e8093', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 22, 'created': '2018-06-26 13:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc37dd58f0808da02a2e545260250c05b6f4fb36', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 23, 'created': '2018-06-26 13:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/18daadff4f74ff157393f13ea6c9651c6bebbce6', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 24, 'created': '2018-06-26 15:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae56cc5daf4a7898105a068097673d932a7372d0', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 25, 'created': '2018-06-27 04:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1a93431ff1e81dcc7a85a641f6cfae8f67795cf8', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 26, 'created': '2018-06-28 11:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0acfbe5a7e2688f9a4cacc63ee9c0bce79d5610f', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 27, 'created': '2018-07-02 15:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/96df100c25c5b02011ba133fc9ed4a34c6293642', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 28, 'created': '2018-07-03 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cb16f38fd66b55fd571eacb0fe322ca071f78a9', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 29, 'created': '2018-07-05 09:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4ddcf705b0af7c49d42ffffec32785ece9fde556', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 30, 'created': '2018-07-06 09:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e3991f9b56226fb78b2206cf25145659e975a33', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 31, 'created': '2018-07-09 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b54401d3ebfc5df87c384ca0133c7d48044159f', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 32, 'created': '2018-07-10 03:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a3a542de4358b8d180c9efa52af778be360925b3', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 33, 'created': '2018-07-12 06:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cdbee3ce00e22605e8904ffe44b8be2f5f540f86', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 34, 'created': '2018-07-16 12:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/610a06142ab517239c4c27eb4e524d3a86033658', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 35, 'created': '2018-07-17 10:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/750788cab6a00d3f51ccbb20a550d6ce78f76191', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nDepends-On: https://review.openstack.org/#/c/583068\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 36, 'created': '2018-07-19 12:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/19b4729cc1bfc0d242a6e59f4770725daed2658c', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 37, 'created': '2018-07-20 01:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/74f7e563a3efbd6494f207201d80e242966f1d7f', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 38, 'created': '2018-07-23 03:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc4e2607be92fdf7f1141591292238636a430778', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 39, 'created': '2018-07-25 08:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/789e623ce1d852a78d744bfd2b0776fa335bbe8b', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transfor function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 40, 'created': '2018-07-26 01:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec6d24e1dab15dca9265449fbf5654ef45487b2b', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 41, 'created': '2018-07-28 05:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64d2323970b5b7d1584db3f873b2e0d568892ab1', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 42, 'created': '2018-08-01 01:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/26d5975abe6dd2bd4b8d75777450facd3fb64b47', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 43, 'created': '2018-08-01 15:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8dc83e545520df9df37287c61ee3da7811255db1', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 44, 'created': '2018-08-01 17:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/896499c28b436095c440c39a5e85583be57fd087', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}, {'number': 45, 'created': '2018-08-01 17:18:32.000000000', 'files': ['octavia/amphorae/backends/utils/udp_check.sh', 'octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/common/jinja/lvs/__init__.py', 'octavia/tests/unit/common/jinja/lvs/__init__.py', 'octavia/common/constants.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/base.j2', 'octavia/common/jinja/lvs/templates/keepalivedlvs.cfg.j2', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/common/jinja/lvs/jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/008ccb652dce9a260c5eb90796994dd459a4fcff', 'message': 'UDP jinja template\n\nThis is the jinja template[1] for keepalived to enable lvs configuration.\nAnd including some transform function from obj to rendered configuration.\n\nThese files will split with the current Octavia repo, before other parts are\nok.\n\nPatch List:\n\n[1] Finish keepalived LVS jinja template for UDP support\n[2] Extend the ability of amp agent for upload/refresh the keepalived\nprocess\n[3] Extend the db model and db table with necessary fields for met the new udp backend\n[4] Add logic/workflow elements process in UDP cases\n[5] Extend the existing API to access udp parameters in Listener API\n[6] Extend the existing pool API to access the new option in\nsession_persistence fields\n\nStory: 1657091\nTask: 23208\nChange-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046\n'}]",92,525420,008ccb652dce9a260c5eb90796994dd459a4fcff,130,8,45,15309,,,0,"UDP jinja template

This is the jinja template[1] for keepalived to enable lvs configuration.
And including some transform function from obj to rendered configuration.

These files will split with the current Octavia repo, before other parts are
ok.

Patch List:

[1] Finish keepalived LVS jinja template for UDP support
[2] Extend the ability of amp agent for upload/refresh the keepalived
process
[3] Extend the db model and db table with necessary fields for met the new udp backend
[4] Add logic/workflow elements process in UDP cases
[5] Extend the existing API to access udp parameters in Listener API
[6] Extend the existing pool API to access the new option in
session_persistence fields

Story: 1657091
Task: 23208
Change-Id: Ib23edb7190ffb777e4a95f45a253e8a632beb046
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/525420/21 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/udp_check.sh', 'octavia/common/jinja/lvs/templates/__init__.py', 'octavia/common/jinja/lvs/__init__.py', 'octavia/common/constants.py', 'octavia/common/jinja/lvs/templates/base.j2', 'octavia/common/jinja/lvs/templates/keepalivedlvs.cfg.j2', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/common/jinja/lvs/jinja_cfg.py']",8,beddfd500789001efdbefa3a09be9ade90e838c5,udp_support,"# Copyright (c) 2015 Rackspace # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import re import jinja2 from octavia.common.config import cfg from octavia.common import constants from octavia.common import utils as octavia_utils PROTOCOL_MAP = { constants.PROTOCOL_UDP: 'udp' } BALANCE_MAP = { constants.LB_ALGORITHM_ROUND_ROBIN: 'rr', constants.LB_ALGORITHM_LEAST_CONNECTIONS: 'lc', constants.LB_ALGORITHM_SOURCE_IP: 'sh' } BASE_PATH = '/var/lib/octavia' BASE_CRT_DIR = BASE_PATH + '/certs' KEEPALIVED_LVS_TEMPLATE = os.path.abspath( os.path.join(os.path.dirname(__file__), 'templates/keepalivedlvs.cfg.j2')) CONF = cfg.CONF JINJA_ENV = None class LvsJinjaTemplater(object): def __init__(self, base_amp_path=None, base_crt_dir=None, keepalivedlvs_template=None, log_http=None, log_server=None, timeout_client=None, timeout_server=None, timeout_connect=None): """"""Keepalived LVS configuration generation :param base_amp_path: Base path for amphora data :param base_crt_dir: Base directory for certificate storage :param keepalivedlvs_template: Absolute path to Jinja template :param log_http: logging path :param log_server: erver logging path :param timeout_client: Timeout client :param timeout_server: Timeout server :param timeout_connect: Timeout connect """""" self.base_amp_path = base_amp_path or BASE_PATH self.base_crt_dir = base_crt_dir or BASE_CRT_DIR self.keepalivedlvs_template = keepalivedlvs_template or KEEPALIVED_LVS_TEMPLATE self.log_http = log_http self.log_server = log_server self.timeout_client = timeout_client self.timeout_server = timeout_server self.timeout_connect = timeout_connect def build_config(self, host_amphora, listener, **kwargs): """"""Convert a logical configuration to the Keepalived LVS version :param host_amphora: The Amphora this configuration is hosted on :param listener: The listener configuration :return: Rendered configuration """""" return self.render_loadbalancer_obj(host_amphora, listener) def _get_template(self): """"""Returns the specified Jinja configuration template."""""" global JINJA_ENV if not JINJA_ENV: template_loader = jinja2.FileSystemLoader( searchpath=os.path.dirname(self.keepalivedlvs_template)) JINJA_ENV = jinja2.Environment( autoescape=True, loader=template_loader, trim_blocks=True, lstrip_blocks=True) JINJA_ENV.filters['hash_amp_id'] = octavia_utils.base64_sha1_string return JINJA_ENV.get_template(os.path.basename(self.keepalivedlvs_template)) def render_loadbalancer_obj(self, host_amphora, listener, **kwargs): """"""Renders a templated configuration from a load balancer object :param host_amphora: The Amphora this configuration is hosted on :param listener: The listener configuration :return: Rendered configuration """""" loadbalancer = self._transform_loadbalancer( host_amphora, listener.load_balancer, listener) return self._get_template().render( {'loadbalancer': loadbalancer}, constants=constants) def _transform_loadbalancer(self, host_amphora, loadbalancer, listener): """"""Transforms a load balancer into an object that will be processed by the templating system """""" t_listener = self._transform_listener(listener) ret_value = { 'name': loadbalancer.name, 'vip_address': loadbalancer.vip.ip_address, 'listener': t_listener, 'topology': loadbalancer.topology, 'enabled': loadbalancer.enabled, 'host_amphora': self._transform_amphora(host_amphora) } return ret_value def _transform_amphora(self, amphora): """"""Transform an amphora into an object that will be processed by the templating system. """""" return { 'id': amphora.id, 'lb_network_ip': amphora.lb_network_ip, 'vrrp_ip': amphora.vrrp_ip, 'ha_ip': amphora.ha_ip, 'vrrp_port_id': amphora.vrrp_port_id, 'ha_port_id': amphora.ha_port_id, 'role': amphora.role, 'status': amphora.status, 'vrrp_interface': amphora.vrrp_interface, 'vrrp_priority': amphora.vrrp_priority } def _transform_listener(self, listener): """"""Transforms a listener into an object that will be processed by the templating system """""" ret_value = { 'id': listener.id, 'protocol_port': listener.protocol_port, 'protocol_mode': PROTOCOL_MAP[listener.protocol], 'protocol': listener.protocol, 'peer_port': listener.peer_port, 'topology': listener.load_balancer.topology, 'amphorae': listener.load_balancer.amphorae, 'enabled': listener.enabled } if listener.connection_limit and listener.connection_limit > -1: ret_value['connection_limit'] = listener.connection_limit if listener.default_pool: ret_value['default_pool'] = self._transform_pool( listener.default_pool) return ret_value def _transform_pool(self, pool): """"""Transforms a pool into an object that will be processed by the templating system """""" ret_value = { 'id': pool.id, 'protocol': PROTOCOL_MAP[pool.protocol], 'lb_algorithm': BALANCE_MAP.get(pool.lb_algorithm, 'roundrobin'), 'members': [], 'health_monitor': '', 'session_persistence': '', 'enabled': pool.enabled, 'operating_status': pool.operating_status } members = [self._transform_member(x) for x in pool.members] ret_value['members'] = members if pool.health_monitor: ret_value['health_monitor'] = self._transform_health_monitor( pool.health_monitor) if pool.session_persistence: ret_value[ 'session_persistence'] = self._transform_session_persistence( pool.session_persistence) return ret_value @staticmethod def _transform_session_persistence(persistence): """"""Transforms session persistence into an object that will be processed by the templating system """""" return { 'type': persistence.type, 'persistence_timeout': persistence.persistence_timeout, 'granularity_netmask': persistence.granularity_netmask, 'udp_one_packet_scheduling': persistence.udp_one_packet_scheduling } if persistence.type == 'UDP_PERSISTENCE' else '' @staticmethod def _transform_member(member): """"""Transforms a member into an object that will be processed by the templating system """""" return { 'id': member.id, 'address': member.ip_address, 'protocol_port': member.protocol_port, 'weight': member.weight, 'enabled': member.enabled, 'subnet_id': member.subnet_id } def _transform_health_monitor(self, monitor): """"""Transforms a health monitor into an object that will be processed by the templating system """""" return { 'id': monitor.id, 'type': monitor.type, 'delay': monitor.delay, 'timeout': monitor.timeout, 'enabled': monitor.enabled, 'fall_threshold': monitor.fall_threshold } ",,387,0
openstack%2Fos-vif~stable%2Fpike~I03145681e0634ec52663a1ec4f54021e3325a6b1,openstack/os-vif,stable/pike,I03145681e0634ec52663a1ec4f54021e3325a6b1,Check if interface belongs to a Linux Bridge before removing,MERGED,2018-01-05 18:35:17.000000000,2018-08-02 21:46:00.000000000,2018-08-02 21:46:00.000000000,"[{'_account_id': 6873}, {'_account_id': 7102}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-05 18:35:17.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5f7ad5283ce2d1ae99184e06824d6e6f70b83ae9', 'message': 'Check if interface belongs to a Linux Bridge before removing\n\nChecks if an interface belongs to a Linux Bridge before deleting\nthe interface and the bridge.\n\nChange-Id: I03145681e0634ec52663a1ec4f54021e3325a6b1\nCloses-Bug: #1736727\n(cherry picked from commit 72b27d0e8664e3b4055dcf5d2fc191c94b696681)\n'}]",0,531465,5f7ad5283ce2d1ae99184e06824d6e6f70b83ae9,10,7,1,11604,,,0,"Check if interface belongs to a Linux Bridge before removing

Checks if an interface belongs to a Linux Bridge before deleting
the interface and the bridge.

Change-Id: I03145681e0634ec52663a1ec4f54021e3325a6b1
Closes-Bug: #1736727
(cherry picked from commit 72b27d0e8664e3b4055dcf5d2fc191c94b696681)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/65/531465/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,5f7ad5283ce2d1ae99184e06824d6e6f70b83ae9,bug/1736727-stable/pike," @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=False) def test_delete_bridge_none(self, mock_interface_br, mock_dev_exists, mock_execute,): mock_interface_br.assert_not_called() @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=True) def test_delete_bridge_exists(self, mock_interface_br, mock_dev_exists, mock_execute): mock_interface_br.assert_called_once_with(""br0"", ""vnet1"") @mock.patch.object(processutils, ""execute"") @mock.patch.object(linux_net, ""device_exists"", return_value=True) @mock.patch.object(linux_net, ""interface_in_bridge"", return_value=False) def test_delete_interface_not_present(self, mock_interface_br, mock_dev_exists, mock_execute): linux_net.delete_bridge(""br0"", ""vnet1"") calls = [ mock.call('ip', 'link', 'set', 'br0', 'down'), mock.call('brctl', 'delbr', 'br0')] mock_execute.assert_has_calls(calls) mock_dev_exists.assert_has_calls([mock.call(""br0"")]) mock_interface_br.assert_called_once_with(""br0"", ""vnet1"")"," def test_delete_bridge_none(self, mock_dev_exists, mock_execute): def test_delete_bridge_exists(self, mock_dev_exists, mock_execute):",30,3
openstack%2Fnova~master~Iebb6974efda6dd5b24bc9ad987b6400455c780b6,openstack/nova,master,Iebb6974efda6dd5b24bc9ad987b6400455c780b6,Add queued_for_delete field to InstanceMapping object,MERGED,2018-05-08 07:06:49.000000000,2018-08-02 21:42:41.000000000,2018-07-25 04:59:45.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-05-08 07:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f863bc106ebaeb369d7adc6434e594a9f5b8655', 'message': '[WIP/POC] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\n(INPROGRESS): Need to analyze if this is the right way of doing the data\nmigration for this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 2, 'created': '2018-05-08 07:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/743bc97bcde6e5167bb8b1e938b1f8634d780ad8', 'message': '[WIP/POC] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\n(INPROGRESS): Need to analyze if this is the right way of doing the data\nmigration for this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 3, 'created': '2018-05-11 07:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2769aff951e1e3cecafcfe709b27de0193ff4f', 'message': '[WIP/POC] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\n(INPROGRESS): Need to analyze if this is the right way of doing the data\nmigration for this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 4, 'created': '2018-06-17 19:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5264930990167cade97e8e1c3bda1d9cad6ac2d6', 'message': '[WIP/POC] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 5, 'created': '2018-07-02 07:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09cfea657985fb2978f2c98addac61c2cde1c6fe', 'message': '[WIP/POC] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 6, 'created': '2018-07-02 15:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d9dcf2e04ec5f27387e98ef6666acb129a0df35', 'message': '[WIP] Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 7, 'created': '2018-07-10 09:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d8711df45bdaaccec8c5f550e248574c34d43bd', 'message': 'Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 8, 'created': '2018-07-19 23:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06aa82467f32ecb26f13d8a08e3f80e0fcb5c252', 'message': 'Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}, {'number': 9, 'created': '2018-07-23 11:54:40.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c4a3827dab86d816a8596f9159ef8b183b9c390', 'message': 'Add queued_for_delete field to InstanceMapping object\n\nThis patch adds a new field queued_for_delete to InstanceMapping\nobject which would be used to represent the value in the queued_for_delete\ncolumn of the instance_mappings table for each record.\n\nThis will be set to True if an instance is either deleted or soft_deleted.\n\nWill be adding a data migration tool for filling this field.\n\nRelated to blueprint handling-down-cell\n\nChange-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6\n'}]",5,566795,1c4a3827dab86d816a8596f9159ef8b183b9c390,149,22,9,26936,,,0,"Add queued_for_delete field to InstanceMapping object

This patch adds a new field queued_for_delete to InstanceMapping
object which would be used to represent the value in the queued_for_delete
column of the instance_mappings table for each record.

This will be set to True if an instance is either deleted or soft_deleted.

Will be adding a data migration tool for filling this field.

Related to blueprint handling-down-cell

Change-Id: Iebb6974efda6dd5b24bc9ad987b6400455c780b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/566795/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/instance_mapping.py', 'nova/tests/unit/objects/test_instance_mapping.py']",3,5f863bc106ebaeb369d7adc6434e594a9f5b8655,bp/handling-down-cell," 'queued_for_delete': False,",,49,2
openstack%2Fironic~stable%2Fqueens~I3395063ce6a98e040518a133e7928f6c780f4829,openstack/ironic,stable/queens,I3395063ce6a98e040518a133e7928f6c780f4829,Deprecate xclarity hardware type,MERGED,2018-08-01 12:41:15.000000000,2018-08-02 21:23:51.000000000,2018-08-02 21:23:51.000000000,"[{'_account_id': 8871}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 12:41:15.000000000', 'files': ['ironic/drivers/xclarity.py', 'ironic/drivers/modules/xclarity/power.py', 'ironic/drivers/modules/xclarity/management.py', 'releasenotes/notes/deprecate-xclarity-d687571fb65ad099.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82fd058a4d071e1bdd4650f3713ccb42bc4e30c3', 'message': 'Deprecate xclarity hardware type\n\nLenovo Third Party CI is still being setup,\nand while they are making forward progress,\nwe need to plan ahead for the Stein cycle.\n\nAs such, marking the xclarity hardware type\nand related interfaces as deprecated.\n\nOnce Lenovo has their 3rd party CI operational,\nthis change can be reverted.\n\nChange-Id: I3395063ce6a98e040518a133e7928f6c780f4829\nStory: #2003097\nTask: #23190\n(cherry picked from commit 7cd960f8e1a10dead6837017e37d0cebd5c29247)\n'}]",0,587806,82fd058a4d071e1bdd4650f3713ccb42bc4e30c3,23,7,1,11655,,,0,"Deprecate xclarity hardware type

Lenovo Third Party CI is still being setup,
and while they are making forward progress,
we need to plan ahead for the Stein cycle.

As such, marking the xclarity hardware type
and related interfaces as deprecated.

Once Lenovo has their 3rd party CI operational,
this change can be reverted.

Change-Id: I3395063ce6a98e040518a133e7928f6c780f4829
Story: #2003097
Task: #23190
(cherry picked from commit 7cd960f8e1a10dead6837017e37d0cebd5c29247)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/587806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/xclarity.py', 'ironic/drivers/modules/xclarity/power.py', 'ironic/drivers/modules/xclarity/management.py', 'releasenotes/notes/deprecate-xclarity-d687571fb65ad099.yaml']",4,82fd058a4d071e1bdd4650f3713ccb42bc4e30c3,story/2003097-stable/queens,"deprecations: - | The ``xclarity`` hardware type, as well as the supporting driver interfaces have been deprecated and are scheduled to be removed from ironic in the Stein development cycle. This is due to the lack of operational Third Party testing to help ensure that the support for Lenovo XClarity is functional. The ``xclarity`` hardware type was introduced at the end of the Queens development cycle. During implementation of Third Party CI, the Lenovo team encountered some unforseen delays. Lenovo is continuing to work towards Third Party CI, and upon establishment and verification of functional Third Party CI, this deprecation will be rescinded. ",,40,0
openstack%2Fpuppet-nova~master~I9fd52059aea1c944089de0cd02a6400c9d60b3e8,openstack/puppet-nova,master,I9fd52059aea1c944089de0cd02a6400c9d60b3e8,Fix nova_aggregate parse when multiple metadata,MERGED,2018-07-03 11:55:00.000000000,2018-08-02 21:19:40.000000000,2018-08-02 21:19:40.000000000,"[{'_account_id': 1004}, {'_account_id': 8871}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-03 11:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0a755e1ead2c37398a242ef57cdbb210aa3fb59d', 'message': 'Fix nova_aggregate parse when multiple metadata\n\nChange-Id: I9fd52059aea1c944089de0cd02a6400c9d60b3e8\nCloses-Bug: #1779836\n'}, {'number': 2, 'created': '2018-08-02 12:20:11.000000000', 'files': ['spec/unit/provider/nova_aggregate/openstack_spec.rb', 'lib/puppet/provider/nova_aggregate/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/92d6a7f717a2087b692a5123057676d955340979', 'message': 'Fix nova_aggregate parse when multiple metadata\n\nChange-Id: I9fd52059aea1c944089de0cd02a6400c9d60b3e8\nCloses-Bug: #1779836\n'}]",0,579848,92d6a7f717a2087b692a5123057676d955340979,13,5,2,28332,,,0,"Fix nova_aggregate parse when multiple metadata

Change-Id: I9fd52059aea1c944089de0cd02a6400c9d60b3e8
Closes-Bug: #1779836
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/579848/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_aggregate/openstack.rb'],1,0a755e1ead2c37398a242ef57cdbb210aa3fb59d,bug/1779836," properties = Hash[attrs[:properties].scan(/(\S+)='([^']*)'/)] rescue nil :metadata => properties,"," :metadata => str2hash(attrs[:properties]),",2,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I39f076e01a3acb13966ff9d5a5b23e7c526289b6,openstack/openstack-ansible,stable/queens,I39f076e01a3acb13966ff9d5a5b23e7c526289b6,Rename designate_galera_database_name,MERGED,2018-08-01 18:05:58.000000000,2018-08-02 21:09:30.000000000,2018-08-02 21:09:30.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2018-08-01 18:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9fa80d8043845446b31be939ad0c0d78092d190b', 'message': 'Rename designate_galera_database_name\n\nWe need to rename this variable to designate_galera_database\nas is declared in os_designate role.\n\nCloses-Bug: 1783132\nChange-Id: I39f076e01a3acb13966ff9d5a5b23e7c526289b6\n'}, {'number': 2, 'created': '2018-08-01 19:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a8b14d8fc211628b9bdd0dfe12d1d7e5ee68df2', 'message': 'Rename designate_galera_database_name\n\nWe need to rename this variable to designate_galera_database\nas is declared in os_designate role.\n\nCloses-Bug: 1783132\nChange-Id: I39f076e01a3acb13966ff9d5a5b23e7c526289b6\n'}, {'number': 3, 'created': '2018-08-01 19:53:41.000000000', 'files': ['playbooks/os-designate-install.yml', 'inventory/group_vars/designate_all.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f80bfe34b267da069371ab1c3b901a7d68d4ca6', 'message': 'Rename designate_galera_database_name\n\nWe need to rename this variable to designate_galera_database\nas is declared in os_designate role.\n\nCloses-Bug: 1783132\nChange-Id: I39f076e01a3acb13966ff9d5a5b23e7c526289b6\n'}]",1,587931,4f80bfe34b267da069371ab1c3b901a7d68d4ca6,14,4,3,28008,,,0,"Rename designate_galera_database_name

We need to rename this variable to designate_galera_database
as is declared in os_designate role.

Closes-Bug: 1783132
Change-Id: I39f076e01a3acb13966ff9d5a5b23e7c526289b6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/587931/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-designate-install.yml'],1,9fa80d8043845446b31be939ad0c0d78092d190b,bug/1783132," db_name: ""{{ designate_galera_database }}"""," db_name: ""{{ designate_galera_database_name }}""",1,1
openstack%2Fopenstack-ansible-os_cinder~master~I1cb10aa591a8262add47e2f5b61cfded9e28241d,openstack/openstack-ansible-os_cinder,master,I1cb10aa591a8262add47e2f5b61cfded9e28241d,Convert role to use a common systemd service role,MERGED,2018-06-12 17:10:34.000000000,2018-08-02 21:08:50.000000000,2018-08-02 21:08:50.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-06-12 17:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/adcf4d6ecd8c3517b91618c06a0e126e4457c106', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\n'}, {'number': 2, 'created': '2018-06-12 17:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/5e93a07a121b10ebcc5136ccd799eda182700849', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-06-27 23:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/15ecb74c4abf62a370ed7eac625448ab37bd8099', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-06-28 21:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/d7f81cfc2f5f0f399142f6a3a5b5ed6894a20813', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-06-28 21:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/0d5ba322796caeaec276fa4ab5a0a56539d1d9b3', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-07-03 16:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/daf781301bf7e6ad9d3ef85521202cee5d4853e5', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-07-30 13:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/db146e8f1d3428d8f475c581bb554d5e54979f30', 'message': 'Revert ""Revert ""Convert role to use a common systemd service role""""\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-07-30 17:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/c03a95de4ff9c1d701371350417023d1328c7d14', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-07-31 02:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/16a5650a2209f576f34411e4a72a047fcebf39c7', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-07-31 03:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/d38ec6f5ef3f4425c1a6de0c17e24e20987d0abe', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-07-31 05:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/37a236978aac3ed8f332499c866157ae7aef3dd5', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-07-31 07:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/cf081f7caf764f3029b3460ff06fc9aa46493c60', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-07-31 17:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/79e2107c5d6ada81f9ae3894303aba6b93de32b8', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2018-07-31 19:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/e9ddfe6195d95d23e6ce187eb44d95b8d57c6e4a', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 15, 'created': '2018-07-31 20:10:33.000000000', 'files': ['tasks/main.yml', 'tasks/cinder_selinux.yml', 'defaults/main.yml', 'templates/cinder-systemd-tmpfiles.j2', 'templates/cinder.conf.j2', 'tasks/cinder_post_install.yml', 'tasks/cinder_pre_install.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml', 'releasenotes/notes/journal-log-cwbr504hd9b59612.yaml', 'templates/cinder-systemd-init.j2', 'tasks/cinder_install.yml', 'tasks/cinder_init_systemd.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/12ea9635ff5f4d4dd9eee068e7ce27fb84a52846', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nA new variable `cinder_environment_overrides` has been added to ensure\nthe correct PATH is set for cinder services.\n\nThis reverts commit b219b905367af4dba9936be9591065e76f86bea5.\n\nChange-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",11,574817,12ea9635ff5f4d4dd9eee068e7ce27fb84a52846,48,7,15,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

The systemd journal would normally be populated with the standard out of
a service however with the use of uwsgi this is not actually happening
resulting in us only capturing the logs from the uwsgi process instead
of the service itself. This change implements journal logging in the
service config, which is part of OSLO logging.

OSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>

A new variable `cinder_environment_overrides` has been added to ensure
the correct PATH is set for cinder services.

This reverts commit b219b905367af4dba9936be9591065e76f86bea5.

Change-Id: I1cb10aa591a8262add47e2f5b61cfded9e28241d
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/17/574817/14 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/cinder-systemd-init.j2', 'defaults/main.yml', 'templates/cinder-systemd-tmpfiles.j2', 'tasks/cinder_init_systemd.yml']",5,adcf4d6ecd8c3517b91618c06a0e126e4457c106,common-systemd-service,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2016, IBM Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create TEMP run dir file: path: ""/var/run/{{ item.service_name }}"" state: directory owner: ""{{ cinder_system_user_name }}"" group: ""{{ cinder_system_group_name }}"" mode: ""02755"" with_items: ""{{ filtered_cinder_services }}"" - name: Create TEMP lock dir file: path: ""/var/lock/{{ item.service_name }}"" state: directory owner: ""{{ cinder_system_user_name }}"" group: ""{{ cinder_system_group_name }}"" mode: ""02755"" with_items: ""{{ filtered_cinder_services }}"" - name: Create tmpfiles.d entry template: src: ""cinder-systemd-tmpfiles.j2"" dest: ""/etc/tmpfiles.d/openstack-{{ item.service_name }}.conf"" mode: ""0644"" owner: ""root"" group: ""root"" with_items: ""{{ filtered_cinder_services }}"" notify: - Manage LB - Restart cinder services - name: Place the systemd init script config_template: src: ""cinder-systemd-init.j2"" dest: ""/etc/systemd/system/{{ item.service_name }}.service"" mode: ""0644"" owner: ""root"" group: ""root"" config_overrides: ""{{ item.init_config_overrides }}"" config_type: ""ini"" with_items: ""{{ filtered_cinder_services }}"" notify: - Manage LB - Restart cinder services ",30,105
openstack%2Fkayobe~master~I126e500be0b22d65b918a5291cac189425be51b9,openstack/kayobe,master,I126e500be0b22d65b918a5291cac189425be51b9,Use host networking for inspection store,MERGED,2018-08-01 14:38:49.000000000,2018-08-02 20:52:17.000000000,2018-08-02 20:52:17.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-08-01 14:38:49.000000000', 'files': ['ansible/roles/inspection-store/templates/nginx.conf', 'ansible/roles/inspection-store/tasks/start.yml', 'ansible/roles/inspection-store/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2ddcd94cd4bb0102cf184ce22abdb56e788aa2fc', 'message': 'Use host networking for inspection store\n\nChange-Id: I126e500be0b22d65b918a5291cac189425be51b9\nStory: 2003207\nTask:  23365\n'}]",0,587838,2ddcd94cd4bb0102cf184ce22abdb56e788aa2fc,11,4,1,28048,,,0,"Use host networking for inspection store

Change-Id: I126e500be0b22d65b918a5291cac189425be51b9
Story: 2003207
Task:  23365
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/38/587838/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/inspection-store/templates/nginx.conf', 'ansible/roles/inspection-store/tasks/start.yml', 'ansible/roles/inspection-store/defaults/main.yml']",3,2ddcd94cd4bb0102cf184ce22abdb56e788aa2fc,inspection-store-host-networking-upstream, network_mode: host," ports: - ""{{ inspection_store_port }}:80""",3,3
openstack%2Fkayobe~master~Ia200efce040a009bbb35292cf846d36f2edb259b,openstack/kayobe,master,Ia200efce040a009bbb35292cf846d36f2edb259b,Fix path to virtualenv in usage guide,MERGED,2018-07-30 08:21:54.000000000,2018-08-02 20:52:17.000000000,2018-08-02 20:52:17.000000000,"[{'_account_id': 7022}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-30 08:21:54.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c852c59a51a07e1c570cf83ac92218cb3a58d7ae', 'message': 'Fix path to virtualenv in usage guide\n\nChange-Id: Ia200efce040a009bbb35292cf846d36f2edb259b\nStory: 2003107\nTask: 23224\n'}]",0,586970,c852c59a51a07e1c570cf83ac92218cb3a58d7ae,8,4,1,14826,,,0,"Fix path to virtualenv in usage guide

Change-Id: Ia200efce040a009bbb35292cf846d36f2edb259b
Story: 2003107
Task: 23224
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/586970/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,c852c59a51a07e1c570cf83ac92218cb3a58d7ae,story/2003107, $ source /path/to/venv/bin/activate, $ source kayobe/bin/activate,1,1
openstack%2Fkayobe~master~I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e,openstack/kayobe,master,I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e,Make kolla ansible user and group configurable,MERGED,2018-07-09 14:51:17.000000000,2018-08-02 20:51:08.000000000,2018-08-02 20:51:08.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-09 14:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a9fbc1b4f3311382fa97fb8a846ab2808aaf0e1c', 'message': ""WIP: Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}, {'number': 2, 'created': '2018-07-10 10:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d94d2225621cca5cc029b4422cb877155bc7dc81', 'message': ""WIP: Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}, {'number': 3, 'created': '2018-07-10 11:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/137e2cb7fde39a2e0f8322818b0bc341e571f7a2', 'message': ""WIP: Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nDepends-On: https://review.openstack.org/581330\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}, {'number': 4, 'created': '2018-07-10 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a02c7f78294070d6bc0eb5a6993430bf42fe298e', 'message': ""WIP: Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nDepends-On: https://review.openstack.org/581330\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}, {'number': 5, 'created': '2018-07-10 13:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/21b3f9dfa3f8b19055e2a05fdc92a680cc9d6442', 'message': ""Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nDepends-On: https://review.openstack.org/581330\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}, {'number': 6, 'created': '2018-07-10 13:12:52.000000000', 'files': ['ansible/group_vars/all/kolla', 'ansible/roles/swift-setup/tasks/rings.yml', 'etc/kayobe/kolla.yml', 'releasenotes/notes/kolla-user-group-85bbe8038c3f719c.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/templates/overcloud-top-level.j2', 'ansible/roles/kolla-ansible/templates/seed.j2', 'ansible/kolla-target-venv.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/41740f975235298477ecc9df894ee3197489f4fd', 'message': ""Make kolla ansible user and group configurable\n\nIn some cases it is useful to use a user other than the default 'kolla'\nto perform kolla ansible remote execution. Kolla is adding support for\nthis in the Rocky release, we should use it.\n\nIt is now possible to configure a different user via the\nkolla_ansible_user and kolla_ansible_group variables.\n\nDepends-On: https://review.openstack.org/581330\n\nChange-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e\nStory: 2002914\nTask: 22892\n""}]",2,581053,41740f975235298477ecc9df894ee3197489f4fd,23,5,6,14826,,,0,"Make kolla ansible user and group configurable

In some cases it is useful to use a user other than the default 'kolla'
to perform kolla ansible remote execution. Kolla is adding support for
this in the Rocky release, we should use it.

It is now possible to configure a different user via the
kolla_ansible_user and kolla_ansible_group variables.

Depends-On: https://review.openstack.org/581330

Change-Id: I280fb8f70eacd31fff0ae5671ddd6608cd02ae6e
Story: 2002914
Task: 22892
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/581053/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'ansible/roles/swift-setup/tasks/rings.yml', 'releasenotes/notes/kolla-user-group-85bbe8038c3f719c.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/templates/seed.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'ansible/roles/kolla-ansible/defaults/main.yml', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-top-level.j2', 'ansible/kolla-target-venv.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'ansible/roles/kolla-ansible/tests/test-extras.yml']",13,a9fbc1b4f3311382fa97fb8a846ab2808aaf0e1c,story/2002914," kolla_ansible_user: ""fake-user"" kolla_ansible_group: ""fake-group"" kolla_user: ""fake-user"" kolla_group: ""fake-group""",,69,6
openstack%2Ftrove~master~I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0,openstack/trove,master,I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0,Fix replication failure when Swift isn't available,MERGED,2018-07-27 12:27:22.000000000,2018-08-02 20:35:27.000000000,2018-08-02 20:35:27.000000000,"[{'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 13157}, {'_account_id': 22348}, {'_account_id': 22608}, {'_account_id': 24739}, {'_account_id': 24791}, {'_account_id': 28646}, {'_account_id': 28671}, {'_account_id': 28695}, {'_account_id': 28713}]","[{'number': 1, 'created': '2018-07-27 12:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9750bc9ce3d2f8c951b0fdda18a0a82389133069', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}, {'number': 2, 'created': '2018-07-30 13:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0d13aa7cf58f5e603f871536fa801e73792e39ff', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n  * add Swift token verification to guestagent before snapshot\n  * add new exception representing Swift connection error\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}, {'number': 3, 'created': '2018-07-31 14:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eaeed32c87283f22ad0f069952cd27ead55d2f6c', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n  * add Swift token verification to guestagent before snapshot\n  * add new exception representing Swift connection error\n  * set missing fault information when replication snapshot fails\n  * mock verify auth token method in replication unit tests\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}, {'number': 4, 'created': '2018-08-01 09:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e977135110640e1fb96cf84dc2edd531f8335119', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n  * add Swift token verification to guestagent before snapshot\n  * add new exception representing Swift connection error\n  * set missing fault information when replication snapshot fails\n  * mock verify auth token method in replication unit tests\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}, {'number': 5, 'created': '2018-08-02 09:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ee3d65c9ce92f4be8857bbdfbbff292c3cdbd0b6', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n  * add Swift token verification to guestagent before backup and restore\n  * add new exception representing Swift connection error\n  * set missing fault information when replication snapshot fails\n  * mock verify auth token method in replication unit tests\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}, {'number': 6, 'created': '2018-08-02 09:46:03.000000000', 'files': ['trove/common/exception.py', 'trove/common/wsgi.py', 'trove/backup/models.py', 'trove/instance/models.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/instance/test_instance_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/4d358c8f5de4f7feda17053fb363be033146c9dc', 'message': ""Fix replication failure when Swift isn't available\n\n  * add Swift token verification in create instance method in Trove API\n    when slave_id is given\n  * catch ConnectionError exception in verify_swift_auth_token\n  * add Swift token verification to guestagent before backup and restore\n  * add new exception representing Swift connection error\n  * set missing fault information when replication snapshot fails\n  * mock verify auth token method in replication and restore unit tests\n\nCloses-Bug: #1395523\n\nChange-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0\nSigned-off-by: Dariusz Krol <d.krol@samsung.com>\n""}]",28,586528,4d358c8f5de4f7feda17053fb363be033146c9dc,33,11,6,28646,,,0,"Fix replication failure when Swift isn't available

  * add Swift token verification in create instance method in Trove API
    when slave_id is given
  * catch ConnectionError exception in verify_swift_auth_token
  * add Swift token verification to guestagent before backup and restore
  * add new exception representing Swift connection error
  * set missing fault information when replication snapshot fails
  * mock verify auth token method in replication and restore unit tests

Closes-Bug: #1395523

Change-Id: I6a21ba2ba890a82875f9b6dae3c6b93bc9fdb4b0
Signed-off-by: Dariusz Krol <d.krol@samsung.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/28/586528/5 && git format-patch -1 --stdout FETCH_HEAD,"['trove/backup/models.py', 'trove/instance/service.py']",2,9750bc9ce3d2f8c951b0fdda18a0a82389133069,bug/1395523,"from trove.backup import views as backup_views from trove.backup.models import Backup as backup_modelfrom trove.common.i18n import _ from trove.common.notification import StartNotification from trove.common.remote import create_guest_client self._action_promote_to_replica_source, if slave_of_id: models.Backup.verify_swift_auth_token(context) config).data(), 200)","from trove.backup.models import Backup as backup_model from trove.backup import views as backup_viewsfrom trove.common.i18n import _from trove.common.notification import StartNotificationfrom trove.common.remote import create_guest_client self._action_promote_to_replica_source, config).data(), 200)",17,12
openstack%2Fopenstack-ansible-os_zun~master~I80a570ed3deeb02b98daaa02a873b6572ae61e47,openstack/openstack-ansible-os_zun,master,I80a570ed3deeb02b98daaa02a873b6572ae61e47,Add bionic to galaxy_info metadata,MERGED,2018-08-02 15:24:36.000000000,2018-08-02 20:29:10.000000000,2018-08-02 20:29:10.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 15:24:36.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/1900f2b501033f30d2f9d7a3f44c713ea397df89', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I80a570ed3deeb02b98daaa02a873b6572ae61e47\n'}]",0,588317,1900f2b501033f30d2f9d7a3f44c713ea397df89,6,2,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: I80a570ed3deeb02b98daaa02a873b6572ae61e47
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/17/588317/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,1900f2b501033f30d2f9d7a3f44c713ea397df89,bionic-meta, - bionic,,1,0
openstack%2Fcharm-cinder~master~I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325,openstack/charm-cinder,master,I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325,Remove `nova-compute:shared-db` relation,MERGED,2018-08-02 15:55:37.000000000,2018-08-02 20:29:09.000000000,2018-08-02 20:29:09.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 15:55:37.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f8bc692b11e9909a90ea6dafa5831ee8eb3d4426', 'message': 'Remove `nova-compute:shared-db` relation\n\nThe relation between nova-compute and databases is not needed anymore.\n\nChange-Id: I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325\nSee: https://review.openstack.org/499823/\n'}]",0,588323,f8bc692b11e9909a90ea6dafa5831ee8eb3d4426,7,3,1,28608,,,0,"Remove `nova-compute:shared-db` relation

The relation between nova-compute and databases is not needed anymore.

Change-Id: I6c4ca52b58de9496e6ab14ee9ff18c17f0b2b325
See: https://review.openstack.org/499823/
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/23/588323/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,f8bc692b11e9909a90ea6dafa5831ee8eb3d4426,bug/nova-compute-relationship,," 'nova-compute:shared-db': 'percona-cluster:shared-db',",0,1
openstack%2Fec2-api~stable%2Frocky~Ib3938d73cd178cbb3e714c914667f2645e604898,openstack/ec2-api,stable/rocky,Ib3938d73cd178cbb3e714c914667f2645e604898,Update .gitreview for stable/rocky,MERGED,2018-07-30 20:28:46.000000000,2018-08-02 20:22:46.000000000,2018-08-02 20:22:46.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 20:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/41c53f2a206880b15e363b73dfec4a46e6b75919', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Ib3938d73cd178cbb3e714c914667f2645e604898\n'}, {'number': 2, 'created': '2018-07-31 06:41:35.000000000', 'files': ['.gitreview', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/051959cb05edb92bc0d2dbf3c719885ab2874a31', 'message': 'Update .gitreview for stable/rocky\n\nand up version\n\nChange-Id: Ib3938d73cd178cbb3e714c914667f2645e604898\n'}]",0,587213,051959cb05edb92bc0d2dbf3c719885ab2874a31,13,2,2,22816,,,0,"Update .gitreview for stable/rocky

and up version

Change-Id: Ib3938d73cd178cbb3e714c914667f2645e604898
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/13/587213/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,41c53f2a206880b15e363b73dfec4a46e6b75919,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fpuppet-nova~master~Ic65736cb0e95c400a728cd699ecf06c6aecff832,openstack/puppet-nova,master,Ic65736cb0e95c400a728cd699ecf06c6aecff832,Introduce nova:metadata and nova::wsgi::apache_metadata,MERGED,2018-07-13 15:18:45.000000000,2018-08-02 20:13:52.000000000,2018-08-02 20:13:52.000000000,"[{'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-13 15:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/afe5f803dcc97f737193f2cc12fc9574847acdb1', 'message': 'WIP Introduce nova::wsgi::apache_metadata\n\nClass to serve Nova Metadata API with apache mod_wsgi in place of\nnova-metadata-api service.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 2, 'created': '2018-07-18 13:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8cc3214e1e3f9673935094b9bd9eb9d99304c4a6', 'message': 'WIP Introduce nova::wsgi::apache_metadata\n\nClass to serve Nova Metadata API with apache mod_wsgi in place of\nnova-metadata-api service.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 3, 'created': '2018-07-18 19:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a6651aaee4b0446d24844150d6ddf2c53bea2969', 'message': 'WIP Introduce nova::wsgi::apache_metadata\n\nClass to serve Nova Metadata API with apache mod_wsgi in place of\nnova-metadata-api service.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 4, 'created': '2018-07-25 12:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a7b0bb5bb511f5e2b1028598734178177fb81468', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 5, 'created': '2018-07-26 06:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cbdada2632bf6ff6f5241264f70ee710c96d46e7', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 6, 'created': '2018-07-26 09:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ecd01313098d6cd2da584e85e8d381597a7e8509', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 7, 'created': '2018-07-26 13:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bafeeef7a7d2dda7dd4fa2af07340682128ff73f', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 8, 'created': '2018-07-31 09:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7d712b09f73f41d874008978e5c7137e73653de8', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\nNova metadata parameters in nova::api get deprecated that we\ncan remove them later.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}, {'number': 9, 'created': '2018-07-31 11:37:13.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/metadata.pp', 'releasenotes/notes/nova_metadata_wsgi-445c38efc7ba5f41.yaml', 'manifests/api.pp', 'manifests/wsgi/apache_metadata.pp', 'manifests/params.pp', 'spec/classes/nova_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e195703b8690845fe8c02a20c6c0fb3caf15321f', 'message': 'Introduce nova:metadata and nova::wsgi::apache_metadata\n\nClasses to configure and serve Nova Metadata API with apache\nmod_wsgi in place of eventlet service.\nNova metadata parameters in nova::api get deprecated that we\ncan remove them later.\n\nSee https://review.openstack.org/#/c/549510/ for more details.\n\nChange-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832\nCloses-Bug: 1781405\n'}]",4,582621,e195703b8690845fe8c02a20c6c0fb3caf15321f,48,8,9,17216,,,0,"Introduce nova:metadata and nova::wsgi::apache_metadata

Classes to configure and serve Nova Metadata API with apache
mod_wsgi in place of eventlet service.
Nova metadata parameters in nova::api get deprecated that we
can remove them later.

See https://review.openstack.org/#/c/549510/ for more details.

Change-Id: Ic65736cb0e95c400a728cd699ecf06c6aecff832
Closes-Bug: 1781405
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/21/582621/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache_metadata.pp'],1,afe5f803dcc97f737193f2cc12fc9574847acdb1,bug/1781405,"# == Class: nova::wsgi::apache_metadata # # Class to serve Nova Metadata API with apache mod_wsgi in place of nova-metadata-api service. # # When using this class you should disable your nova-metadata-api_port service. # # == Parameters # # [*servername*] # The servername for the virtualhost. # Optional. Defaults to $::fqdn # # [*api_port*] # The port for Nova API service. # Optional. Defaults to 8774 # # [*bind_host*] # The host/ip address Apache will listen on. # Optional. Defaults to undef (listen on all ip addresses). # # [*path*] # The prefix for the endpoint. # Optional. Defaults to '/' # # [*ssl*] # Use ssl ? (boolean) # Optional. Defaults to true # # [*workers*] # Number of WSGI workers to spawn. # Optional. Defaults to $::os_workers # # [*priority*] # (optional) The priority for the vhost. # Defaults to '10' # # [*threads*] # (optional) The number of threads for the vhost. # Defaults to 1 # # [*wsgi_process_display_name*] # (optional) Name of the WSGI process display-name. # Defaults to undef # # [*ssl_cert*] # [*ssl_key*] # [*ssl_chain*] # [*ssl_ca*] # [*ssl_crl_path*] # [*ssl_crl*] # [*ssl_certs_dir*] # apache::vhost ssl parameters. # Optional. Default to apache::vhost 'ssl_*' defaults. # # [*access_log_file*] # The log file name for the virtualhost. # Optional. Defaults to false. # # [*access_log_format*] # The log format for the virtualhost. # Optional. Defaults to false. # # [*error_log_file*] # The error log file name for the virtualhost. # Optional. Defaults to undef. # # [*custom_wsgi_process_options*] # (optional) gives you the oportunity to add custom process options or to # overwrite the default options for the WSGI main process. # eg. to use a virtual python environment for the WSGI process # you could set it to: # { python-path => '/my/python/virtualenv' } # Defaults to {} # # == Dependencies # # requires Class['apache'] & Class['nova'] & Class['nova::api'] # # == Examples # # include apache # # class { 'nova::wsgi::apache': } # class nova::wsgi::apache_metadata ( $servername = $::fqdn, $api_port = 8775, $bind_host = undef, $path = '/', $ssl = true, $workers = $::os_workers, $ssl_cert = undef, $ssl_key = undef, $ssl_chain = undef, $ssl_ca = undef, $ssl_crl_path = undef, $ssl_crl = undef, $ssl_certs_dir = undef, $wsgi_process_display_name = undef, $threads = 1, $priority = '10', $access_log_file = false, $access_log_format = false, $error_log_file = undef, $custom_wsgi_process_options = {}, ) { include ::nova::params include ::apache include ::apache::mod::wsgi if $ssl { include ::apache::mod::ssl } #if ! defined(Class[::nova::api]) { # fail('::nova::api class must be declared in composition layer.') #} ::openstacklib::wsgi::apache { 'nova_metadata_wsgi': bind_host => $bind_host, bind_port => $api_port, group => 'nova', path => $path, priority => $priority, servername => $servername, ssl => $ssl, ssl_ca => $ssl_ca, ssl_cert => $ssl_cert, ssl_certs_dir => $ssl_certs_dir, ssl_chain => $ssl_chain, ssl_crl => $ssl_crl, ssl_crl_path => $ssl_crl_path, ssl_key => $ssl_key, threads => $threads, user => 'nova', workers => $workers, wsgi_daemon_process => 'nova-metadata', wsgi_process_display_name => $wsgi_process_display_name, wsgi_process_group => 'nova-metadata', wsgi_script_dir => $::nova::params::nova_wsgi_script_path, wsgi_script_file => 'nova-metadata-api', wsgi_script_source => $::nova::params::nova_metadata_wsgi_script_source, custom_wsgi_process_options => $custom_wsgi_process_options, access_log_file => $access_log_file, access_log_format => $access_log_format, error_log_file => $error_log_file, } } ",,149,0
openstack%2Fec2-api~master~I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1,openstack/ec2-api,master,I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1,up version for next release,MERGED,2018-07-31 17:02:18.000000000,2018-08-02 20:07:19.000000000,2018-08-02 20:07:19.000000000,"[{'_account_id': 10224}, {'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 17:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c0f99b3e24d42345be6f7d4cda671add98841190', 'message': 'up version for next release\n\nChange-Id: I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1\n'}, {'number': 2, 'created': '2018-08-01 13:36:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0243b82bf03d7f54206a96a3ff650faa6a29211d', 'message': 'up version for next release\n\nDepends-On: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8\nChange-Id: I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1\n'}]",0,587525,0243b82bf03d7f54206a96a3ff650faa6a29211d,14,3,2,10234,,,0,"up version for next release

Depends-On: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8
Change-Id: I28cc50d4e3a4da8317adfbd8cd4329a21c1defd1
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/25/587525/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c0f99b3e24d42345be6f7d4cda671add98841190,,version = 8.0.0,version = 7.0.0,1,1
openstack%2Fpuppet-ovn~stable%2Fqueens~I8f392c7807c4c6a152dfa4b77c7f4350b44324c0,openstack/puppet-ovn,stable/queens,I8f392c7807c4c6a152dfa4b77c7f4350b44324c0,Set mac-table-size for provider bridges defined in 'ovn_bridge_mappings',MERGED,2018-08-01 04:01:23.000000000,2018-08-02 20:05:41.000000000,2018-08-02 20:05:41.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 04:01:23.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ea706ea81c341a0de0349a6eb1ec183f23998fe5', 'message': ""Set mac-table-size for provider bridges defined in 'ovn_bridge_mappings'\n\nThe default mac table size may not be sufficient for the provider bridges.\nIf the mac table overflows, it has been observed that ovs-vswitchd clocks\n100% CPU. So this patch configures the mac table size of the provider bridges.\nIt defaults to 50000 if the value is not specified.\n\nThis patch also clears the ovn-bridge-mappings property from the OpenvSwitch's\ndefault tables row's external_ids column if 'bridge_interface_mappings' param\nis not set.\n\nChange-Id: I8f392c7807c4c6a152dfa4b77c7f4350b44324c0\nCloses-bug: #1779706\nCloses-bug: #1774847\n(cherry picked from commit 88aa5c9184f8f448aed499413cda51188d66c7a6)\n""}]",0,587678,ea706ea81c341a0de0349a6eb1ec183f23998fe5,7,3,1,10237,,,0,"Set mac-table-size for provider bridges defined in 'ovn_bridge_mappings'

The default mac table size may not be sufficient for the provider bridges.
If the mac table overflows, it has been observed that ovs-vswitchd clocks
100% CPU. So this patch configures the mac table size of the provider bridges.
It defaults to 50000 if the value is not specified.

This patch also clears the ovn-bridge-mappings property from the OpenvSwitch's
default tables row's external_ids column if 'bridge_interface_mappings' param
is not set.

Change-Id: I8f392c7807c4c6a152dfa4b77c7f4350b44324c0
Closes-bug: #1779706
Closes-bug: #1774847
(cherry picked from commit 88aa5c9184f8f448aed499413cda51188d66c7a6)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/78/587678/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp']",2,ea706ea81c341a0de0349a6eb1ec183f23998fe5,bug/1779706,"# # [*mac_table_size*] # Set the mac table size for the provider bridges if defined in ovn_bridge_mappings # Defaults to 50000 $mac_table_size = 50000, if !empty($ovn_bridge_mappings) { # For each provider bridge, set the mac table size. $ovn_bridge_mappings.each |String $mappings| { $mapping = split($mappings, ':') $br = $mapping[1] if !empty($br) { # TODO(numans): Right now puppet-vswitch's vs_bridge doesn't support # setting the column 'other-config' for the Bridge table. # Switch to using vs_bridge once the support is available. exec { $br: command => ""ovs-vsctl --timeout=5 set Bridge ${br} other-config:mac-table-size=${mac_table_size}"", unless => ""ovs-vsctl get bridge ${br} other-config:mac-table-size | grep -q -w ${mac_table_size}"", path => '/usr/sbin:/usr/bin:/sbin:/bin', require => Service['openvswitch'] } } } } else { # ovn-bridge-mappings is not defined. Clear the existing value if configured. vs_config { 'external_ids:ovn-bridge-mappings': ensure => absent, require => Service['openvswitch'] } }",,33,1
openstack%2Fpuppet-ovn~master~Id06d91f7accea0f17544e1ca549a77b16dd6cd09,openstack/puppet-ovn,master,Id06d91f7accea0f17544e1ca549a77b16dd6cd09,Add the project source code repository in README,MERGED,2018-07-26 16:28:47.000000000,2018-08-02 20:05:41.000000000,2018-08-02 20:05:41.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-26 16:28:47.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/6af8ce1c0d49f300a63a8d94246635ca359342cd', 'message': 'Add the project source code repository in README\n\nChange-Id: Id06d91f7accea0f17544e1ca549a77b16dd6cd09\n'}]",0,586291,6af8ce1c0d49f300a63a8d94246635ca359342cd,7,3,1,28543,,,0,"Add the project source code repository in README

Change-Id: Id06d91f7accea0f17544e1ca549a77b16dd6cd09
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/91/586291/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,6af8ce1c0d49f300a63a8d94246635ca359342cd,, The project source code repository is located at: https://git.openstack.org/cgit/openstack/puppet-ovn/,,3,0
openstack%2Fproject-config~master~Iefc677c193fa61cbac7803da77433ab0ee0c3fee,openstack/project-config,master,Iefc677c193fa61cbac7803da77433ab0ee0c3fee,Add AJaeger to IRC operator list,MERGED,2018-08-01 11:58:30.000000000,2018-08-02 20:03:01.000000000,2018-08-02 20:03:01.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 11:58:30.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/eac57099f7a5b103ff6fd9332f314a13cb4d658f', 'message': 'Add AJaeger to IRC operator list\n\nAdd myself so that I can help if needed.\n\nChange-Id: Iefc677c193fa61cbac7803da77433ab0ee0c3fee\n'}]",0,587790,eac57099f7a5b103ff6fd9332f314a13cb4d658f,8,4,1,6547,,,0,"Add AJaeger to IRC operator list

Add myself so that I can help if needed.

Change-Id: Iefc677c193fa61cbac7803da77433ab0ee0c3fee
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/587790/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,eac57099f7a5b103ff6fd9332f314a13cb4d658f,irc-cleanup, - AJaeger,,1,0
openstack%2Fpuppet-pacemaker~master~If0f28a5f3a420e85957fcf0c11e91ba54eb519b2,openstack/puppet-pacemaker,master,If0f28a5f3a420e85957fcf0c11e91ba54eb519b2,Add the project source code repository in README,MERGED,2018-07-26 16:25:20.000000000,2018-08-02 20:02:36.000000000,2018-08-02 20:02:36.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-26 16:25:20.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8b2c01440bf868ec19eb7e52922b15fa0b37e16e', 'message': 'Add the project source code repository in README\n\nChange-Id: If0f28a5f3a420e85957fcf0c11e91ba54eb519b2\n'}]",0,586290,8b2c01440bf868ec19eb7e52922b15fa0b37e16e,7,3,1,28543,,,0,"Add the project source code repository in README

Change-Id: If0f28a5f3a420e85957fcf0c11e91ba54eb519b2
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/90/586290/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,8b2c01440bf868ec19eb7e52922b15fa0b37e16e,,- [source code repository](https://git.openstack.org/cgit/openstack/puppet-pacemaker),,1,1
openstack%2Fpuppet-rally~master~If5d9379ce541cb69c51711c18fbe8013c45e3bc5,openstack/puppet-rally,master,If5d9379ce541cb69c51711c18fbe8013c45e3bc5,Add the project source code repository in README,MERGED,2018-07-26 16:19:40.000000000,2018-08-02 19:55:44.000000000,2018-08-02 19:55:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-07-26 16:19:40.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/b30ad65c08f1b7668c8df1b6e9beb27148be92a7', 'message': 'Add the project source code repository in README\n\nChange-Id: If5d9379ce541cb69c51711c18fbe8013c45e3bc5\n'}]",0,586288,b30ad65c08f1b7668c8df1b6e9beb27148be92a7,8,4,1,28543,,,0,"Add the project source code repository in README

Change-Id: If5d9379ce541cb69c51711c18fbe8013c45e3bc5
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/88/586288/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b30ad65c08f1b7668c8df1b6e9beb27148be92a7,, Repository ------------- * https://git.openstack.org/cgit/openstack/puppet-rally,,5,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I6007c970cf2ed3f28dcce0558a936ac2380e8501,openstack/openstack-ansible-lxc_hosts,master,I6007c970cf2ed3f28dcce0558a936ac2380e8501,List ubuntu releases in release order,MERGED,2018-08-02 14:20:14.000000000,2018-08-02 19:50:53.000000000,2018-08-02 19:50:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cbc394222c301d81a77f1529c4eb7681c7079565', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I6007c970cf2ed3f28dcce0558a936ac2380e8501\n'}, {'number': 2, 'created': '2018-08-02 15:45:01.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3ce4182950e9ce004c26a5c04246c88fa188a3fb', 'message': 'List ubuntu releases in release order\n\nChange-Id: I6007c970cf2ed3f28dcce0558a936ac2380e8501\n'}]",1,588285,3ce4182950e9ce004c26a5c04246c88fa188a3fb,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: I6007c970cf2ed3f28dcce0558a936ac2380e8501
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/85/588285/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,cbc394222c301d81a77f1529c4eb7681c7079565,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-ceph_client~master~I17b7263d504cc20437bca6f34e16e1138880a3aa,openstack/openstack-ansible-ceph_client,master,I17b7263d504cc20437bca6f34e16e1138880a3aa,List ubuntu releases in release order,MERGED,2018-08-02 14:13:27.000000000,2018-08-02 19:50:53.000000000,2018-08-02 19:50:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/1d355a581cb8c39f3c24933307a14f229bfe516c', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I17b7263d504cc20437bca6f34e16e1138880a3aa\n'}, {'number': 2, 'created': '2018-08-02 15:42:05.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/e67c08ca99e2f951d517af8e0735a90177f2e3ab', 'message': 'List ubuntu releases in release order\n\nChange-Id: I17b7263d504cc20437bca6f34e16e1138880a3aa\n'}]",1,588256,e67c08ca99e2f951d517af8e0735a90177f2e3ab,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: I17b7263d504cc20437bca6f34e16e1138880a3aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/56/588256/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,1d355a581cb8c39f3c24933307a14f229bfe516c,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-apt_package_pinning~master~Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,openstack/openstack-ansible-apt_package_pinning,master,Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,List ubuntu releases in release order,MERGED,2018-08-02 14:35:24.000000000,2018-08-02 19:44:46.000000000,2018-08-02 19:44:46.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/d75145ad9457940027a27c89d9660aebdb0ef00a', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7\n'}, {'number': 2, 'created': '2018-08-02 15:41:04.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/3d940e5fe9aa3daa2f69b9876478891980657d03', 'message': 'List ubuntu releases in release order\n\nChange-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7\n'}]",1,588297,3d940e5fe9aa3daa2f69b9876478891980657d03,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/97/588297/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,d75145ad9457940027a27c89d9660aebdb0ef00a,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-rsyslog_server~master~Idd45715df9824cb9c1d717980f2fcab81b1e18e7,openstack/openstack-ansible-rsyslog_server,master,Idd45715df9824cb9c1d717980f2fcab81b1e18e7,List ubuntu releases in release order,MERGED,2018-08-02 14:19:25.000000000,2018-08-02 19:44:44.000000000,2018-08-02 19:44:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/c68c3dede765ec97b9ad3a49b56049714610104b', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: Idd45715df9824cb9c1d717980f2fcab81b1e18e7\n'}, {'number': 2, 'created': '2018-08-02 15:44:22.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/faaf5d748d552e3aeff724a07dad3e0bafe17f9e', 'message': 'List ubuntu releases in release order\n\nChange-Id: Idd45715df9824cb9c1d717980f2fcab81b1e18e7\n'}]",1,588283,faaf5d748d552e3aeff724a07dad3e0bafe17f9e,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: Idd45715df9824cb9c1d717980f2fcab81b1e18e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/83/588283/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,c68c3dede765ec97b9ad3a49b56049714610104b,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-rsyslog_client~master~I4a085fdd5fdead8733853a2d1168183c16545005,openstack/openstack-ansible-rsyslog_client,master,I4a085fdd5fdead8733853a2d1168183c16545005,List ubuntu releases in release order,MERGED,2018-08-02 14:18:55.000000000,2018-08-02 19:44:11.000000000,2018-08-02 19:44:10.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/0bbaf420b6ce1067a5ea73ba30ec7518077fa374', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I4a085fdd5fdead8733853a2d1168183c16545005\n'}, {'number': 2, 'created': '2018-08-02 15:43:34.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/7d269c8a1a87dc3a7667b7c835b65facf298b8eb', 'message': 'List ubuntu releases in release order\n\nChange-Id: I4a085fdd5fdead8733853a2d1168183c16545005\n'}]",1,588281,7d269c8a1a87dc3a7667b7c835b65facf298b8eb,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: I4a085fdd5fdead8733853a2d1168183c16545005
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/81/588281/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,0bbaf420b6ce1067a5ea73ba30ec7518077fa374,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-memcached_server~master~If41a33b11557ef8c4cde9047a83414e38acb5c42,openstack/openstack-ansible-memcached_server,master,If41a33b11557ef8c4cde9047a83414e38acb5c42,List ubuntu releases in release order,MERGED,2018-08-02 14:13:45.000000000,2018-08-02 19:43:56.000000000,2018-08-02 19:43:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/03f9148b89787638ff753feadd92cf4b950169d3', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: If41a33b11557ef8c4cde9047a83414e38acb5c42\n'}, {'number': 2, 'created': '2018-08-02 15:42:48.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/22c15c36d3d3411d7a3e0e3d9c4547ed7904b588', 'message': 'List ubuntu releases in release order\n\nChange-Id: If41a33b11557ef8c4cde9047a83414e38acb5c42\n'}]",1,588257,22c15c36d3d3411d7a3e0e3d9c4547ed7904b588,11,2,2,25023,,,0,"List ubuntu releases in release order

Change-Id: If41a33b11557ef8c4cde9047a83414e38acb5c42
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/57/588257/2 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,03f9148b89787638ff753feadd92cf4b950169d3,bionic-meta, - bionic,,1,0
openstack%2Freleases~master~Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d,openstack/releases,master,Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d,Release M3 for OpenStack-Ansible,MERGED,2018-08-01 16:59:25.000000000,2018-08-02 19:37:11.000000000,2018-08-02 19:37:11.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-08-01 16:59:25.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6a26e204155afe2adad6de3ed6a3779b8c15a1a6', 'message': ""Release M3 for OpenStack-Ansible\n\nIt's long due. After a series of rechecks and long conversations,\nthe OpenStack-Ansible has decided to publish M3 pointing to\na75af3e6fd6162046fcfc80f5bfc109100cdd25d.\n\nChange-Id: Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d\n""}]",0,587917,6a26e204155afe2adad6de3ed6a3779b8c15a1a6,7,3,1,17068,,,0,"Release M3 for OpenStack-Ansible

It's long due. After a series of rechecks and long conversations,
the OpenStack-Ansible has decided to publish M3 pointing to
a75af3e6fd6162046fcfc80f5bfc109100cdd25d.

Change-Id: Ia0d87526bb7130ee0e4ff9c4d15364d456e9726d
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/587917/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,6a26e204155afe2adad6de3ed6a3779b8c15a1a6,release_osa, - projects: - hash: a75af3e6fd6162046fcfc80f5bfc109100cdd25d repo: openstack/openstack-ansible version: 18.0.0.0b3,,4,0
openstack%2Fkuryr-kubernetes~master~I9a79601beae7d58027418e0a9e3c4768606eb15f,openstack/kuryr-kubernetes,master,I9a79601beae7d58027418e0a9e3c4768606eb15f,Avoid namespace security group overwrite,MERGED,2018-08-02 10:04:06.000000000,2018-08-02 19:36:54.000000000,2018-08-02 19:36:54.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 10:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/baa303a5356c1ada44186abd3ea6399fcba9a7e6', 'message': 'Avoid namespace security group override\n\nEnsure default security group value does not get override in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}, {'number': 2, 'created': '2018-08-02 10:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf87575f03dc3314993a2dd03df567693f976046', 'message': 'Avoid namespace security group override\n\nEnsure default security group value does not get override in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}, {'number': 3, 'created': '2018-08-02 10:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/583d84ed0843b186b669f013ee97b79d64956001', 'message': 'Avoid namespace security group overwrite\n\nEnsure default security group value does not get overwritten in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}, {'number': 4, 'created': '2018-08-02 11:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5e759b15add8e4dcd9610154fd9d394b8678da4f', 'message': 'Avoid namespace security group overwrite\n\nEnsure default security group value does not get overwritten in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}, {'number': 5, 'created': '2018-08-02 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/47dd4e2ff8011f011fdb9fb6bf859d0084ee81be', 'message': 'Avoid namespace security group overwrite\n\nEnsure default security group value does not get overwritten in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}, {'number': 6, 'created': '2018-08-02 16:46:57.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46c609f285bec9d974659210e131804af2774668', 'message': 'Avoid namespace security group overwrite\n\nEnsure default security group value does not get overwritten in\nsubsequent calls to get_security_groups\n\nCloses-Bug: 1785035\nChange-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f\n'}]",3,588197,46c609f285bec9d974659210e131804af2774668,24,4,6,23567,,,0,"Avoid namespace security group overwrite

Ensure default security group value does not get overwritten in
subsequent calls to get_security_groups

Closes-Bug: 1785035
Change-Id: I9a79601beae7d58027418e0a9e3c4768606eb15f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/97/588197/6 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_security_groups.py'],1,baa303a5356c1ada44186abd3ea6399fcba9a7e6,bug/1785035, sg_list = [] for sg in config.CONF.neutron_defaults.pod_security_groups: sg_list.append(sg) , sg_list = config.CONF.neutron_defaults.pod_security_groups,4,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia92babb6bf80db5e1a06bbf553317d62342481eb,openstack/openstack-ansible-rabbitmq_server,master,Ia92babb6bf80db5e1a06bbf553317d62342481eb,"Revert ""Use generic vars file for ubuntu""",MERGED,2018-08-02 12:31:04.000000000,2018-08-02 19:34:49.000000000,2018-08-02 19:34:49.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-02 12:31:04.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/4cd8b7ae599dc16d4e1e27ee07a8a9a34c8e71b8', 'message': 'Revert ""Use generic vars file for ubuntu""\n\nThis reverts commit efd37c53590ad669229b289e1232aa0fbcc3ea15.\n\nAs it turns out, my diff skills suck. These files were not the same.\n\nChange-Id: Ia92babb6bf80db5e1a06bbf553317d62342481eb\n'}]",0,588230,4cd8b7ae599dc16d4e1e27ee07a8a9a34c8e71b8,7,5,1,6816,,,0,"Revert ""Use generic vars file for ubuntu""

This reverts commit efd37c53590ad669229b289e1232aa0fbcc3ea15.

As it turns out, my diff skills suck. These files were not the same.

Change-Id: Ia92babb6bf80db5e1a06bbf553317d62342481eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/30/588230/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml']",2,4cd8b7ae599dc16d4e1e27ee07a8a9a34c8e71b8,bionic-vars,,,53,0
openstack%2Fansible-role-tripleo-cookiecutter~master~I755a9fdaba3d1dbd702063b0b3745230b624ad68,openstack/ansible-role-tripleo-cookiecutter,master,I755a9fdaba3d1dbd702063b0b3745230b624ad68,Document how to run tox to test the cookiecutter,MERGED,2018-08-02 00:21:19.000000000,2018-08-02 19:27:09.000000000,2018-08-02 19:27:08.000000000,"[{'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 00:21:19.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/34155fd8b06b50615341f57aa437dc356cb2278b', 'message': 'Document how to run tox to test the cookiecutter\n\nChange-Id: I755a9fdaba3d1dbd702063b0b3745230b624ad68\n'}]",0,588108,34155fd8b06b50615341f57aa437dc356cb2278b,8,3,1,3153,,,0,"Document how to run tox to test the cookiecutter

Change-Id: I755a9fdaba3d1dbd702063b0b3745230b624ad68
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/08/588108/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,34155fd8b06b50615341f57aa437dc356cb2278b,readme,## Testing 1. Run 'tox -eansible-lint' to test any change in the cookiecutter. It will generate a role and make sure it works and lint is fine. ,,4,0
openstack%2Fcharm-percona-cluster~stable%2F18.05~Ia435069f5df80bfdf0236d14664317990bd06407,openstack/charm-percona-cluster,stable/18.05,Ia435069f5df80bfdf0236d14664317990bd06407,Check if it's leader before calling leader_set(),MERGED,2018-08-02 13:47:23.000000000,2018-08-02 19:26:55.000000000,2018-08-02 19:26:55.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 13:47:23.000000000', 'files': ['hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/d749fb08fa0599d8079633385cc99f2aa3a24bb7', 'message': ""Check if it's leader before calling leader_set()\n\nThere may be situations where leader-elected hook is executed without\nbeing the leader and making leader_set() calls fail, this patch verifies\nif it's the leader before attempting to use leader_set()\n\nChange-Id: Ia435069f5df80bfdf0236d14664317990bd06407\nCloses-Bug: 1784584\n(cherry picked from commit 1219f7b2a213af5d5697a1c4cb48486e9c08c81e)\n""}]",0,588247,d749fb08fa0599d8079633385cc99f2aa3a24bb7,10,5,1,2424,,,0,"Check if it's leader before calling leader_set()

There may be situations where leader-elected hook is executed without
being the leader and making leader_set() calls fail, this patch verifies
if it's the leader before attempting to use leader_set()

Change-Id: Ia435069f5df80bfdf0236d14664317990bd06407
Closes-Bug: 1784584
(cherry picked from commit 1219f7b2a213af5d5697a1c4cb48486e9c08c81e)
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/47/588247/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_hooks.py'],1,d749fb08fa0599d8079633385cc99f2aa3a24bb7,bug/1784584," if is_leader(): leader_set(**{'leader-ip': get_relation_ip('cluster')}) else: log('leader-elected hook executed, but this unit is not the leader', level=INFO)", leader_set(**{'leader-ip': get_relation_ip('cluster')}),5,1
openstack%2Fironic-specs~master~I450784e7281e0d251c5f230b2d14be244e6c083f,openstack/ironic-specs,master,I450784e7281e0d251c5f230b2d14be244e6c083f,Cleanup specs for Rocky,MERGED,2018-07-21 22:29:15.000000000,2018-08-02 19:20:57.000000000,2018-08-02 19:20:57.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-21 22:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bd4a82230248911fe222fd4b81d0a95bd3a8b7cd', 'message': ""Cleanup specs for Rocky 11.0\n\nWe've released 11.0, and a number of new features landed\nin that which means we can close out the specs in our spec\ndocumentation.\n\nAs for rescue, we finally managed to get the rescue patch\nlanded in nova, and as such moved to the 10.1 folder.\n\nChange-Id: I450784e7281e0d251c5f230b2d14be244e6c083f\n""}, {'number': 2, 'created': '2018-07-24 19:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/052ac9a0e7292d28dd0d9a21e01340c589864287', 'message': ""Cleanup specs for Rocky\n\nWe've released 11.0 and about to release 11.1,\nand a number of new features landed in that which\nmeans we can close out the specs in our spec\ndocumentation.\n\nAs for rescue, we finally managed to get the rescue\npatch landed in nova, and as such moved to the 10.1\nfolder.\n\nChange-Id: I450784e7281e0d251c5f230b2d14be244e6c083f\n""}, {'number': 3, 'created': '2018-08-02 17:30:41.000000000', 'files': ['specs/11.0/power-fault-recovery.rst', 'doc/source/index.rst', 'specs/10.1/implement-rescue-mode.rst', 'specs/11.0/inspection-abort.rst', 'specs/11.1/generic-bios-config.rst', 'specs/11.0/classic-drivers-future.rst', 'specs/11.0/inspect-wait-state.rst', 'specs/11.0/sighup_on_ironic_services.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b78b09f61c0d7693b1d5f9f3a3410ff00d55b5fc', 'message': ""Cleanup specs for Rocky\n\nWe've released 11.0 and about to release 11.1,\nand a number of new features landed in that which\nmeans we can close out the specs in our spec\ndocumentation.\n\nAs for rescue, we finally managed to get the rescue\npatch landed in nova, and as such moved to the 10.1\nfolder.\n\nChange-Id: I450784e7281e0d251c5f230b2d14be244e6c083f\n""}]",6,584608,b78b09f61c0d7693b1d5f9f3a3410ff00d55b5fc,15,4,3,11655,,,0,"Cleanup specs for Rocky

We've released 11.0 and about to release 11.1,
and a number of new features landed in that which
means we can close out the specs in our spec
documentation.

As for rescue, we finally managed to get the rescue
patch landed in nova, and as such moved to the 10.1
folder.

Change-Id: I450784e7281e0d251c5f230b2d14be244e6c083f
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/08/584608/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/11.0/power-fault-recovery.rst', 'doc/source/index.rst', 'specs/10.1/implement-rescue-mode.rst', 'specs/11.0/inspector-boot-management.rst', 'specs/11.0/inspection-abort.rst', 'specs/11.0/generic-bios-config.rst', 'specs/11.0/classic-drivers-future.rst', 'specs/11.0/inspect-wait-state.rst', 'specs/11.0/sighup_on_ironic_services.rst']",9,bd4a82230248911fe222fd4b81d0a95bd3a8b7cd,584608,,,12,0
openstack%2Fnetworking-powervm~master~I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b,openstack/networking-powervm,master,I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b,update requirements for neutron-lib 1.18.0,MERGED,2018-07-24 16:31:06.000000000,2018-08-02 19:16:26.000000000,2018-08-02 19:16:26.000000000,"[{'_account_id': 10608}, {'_account_id': 12947}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 16:31:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/cb46ce3a5bfa024aba7a4eb05dfece33cb739ece', 'message': 'update requirements for neutron-lib 1.18.0\n\nneutron has bumped the min requirement for neutron-lib to 1.18.0 [1]\nand requested that other networking-* projects that depend on master\ndo the same [2]. This makes that change.\n\n[1] 02e9f270e913f26a16f40f161c333e54f2dbdef7\n[2] http://lists.openstack.org/pipermail/openstack-dev/2018-July/132412.html\n\nChange-Id: I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b\n'}]",0,585469,cb46ce3a5bfa024aba7a4eb05dfece33cb739ece,19,5,1,10608,,,0,"update requirements for neutron-lib 1.18.0

neutron has bumped the min requirement for neutron-lib to 1.18.0 [1]
and requested that other networking-* projects that depend on master
do the same [2]. This makes that change.

[1] 02e9f270e913f26a16f40f161c333e54f2dbdef7
[2] http://lists.openstack.org/pipermail/openstack-dev/2018-July/132412.html

Change-Id: I2e38a02c5d34b2b62241e8a3cb8aafffc3c48d6b
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/69/585469/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,cb46ce3a5bfa024aba7a4eb05dfece33cb739ece,update_neutron_lib,neutron-lib==1.18.0,neutron-lib==1.14.0,2,2
openstack%2Fneutron~stable%2Fqueens~I97356b31af35ef19d02b9f0c0a57cbde16752c65,openstack/neutron,stable/queens,I97356b31af35ef19d02b9f0c0a57cbde16752c65,Update install doc for ubuntu,MERGED,2018-05-31 06:15:52.000000000,2018-08-02 19:06:48.000000000,2018-08-02 19:06:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13111}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-31 06:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29bbf5e41bfad352eab9179fbe7a3c6ce4134785', 'message': 'Update install doc for ubuntu\n\nThis change updates the auth_url value to match what has changed\nin the keystone install guide:\n\nhttps://review.openstack.org/#/c/541857/\n\nChange-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65\n'}, {'number': 2, 'created': '2018-06-19 20:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33dd31bc324c2ef161ef48fe1bab353e479541dd', 'message': 'Update install doc for ubuntu\n\nThis change updates the auth_url value to match what has changed\nin the keystone install guide:\n\nhttps://review.openstack.org/#/c/541857/\n\nChange-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65\n(cherry picked from commit e1761d2e29cdd93dffe3d39c0b9407b2facaa0c1)\n'}, {'number': 3, 'created': '2018-06-19 21:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/413f7e962fe4e04c0d3231a36d97c77305c1c7cc', 'message': 'Update install doc for ubuntu\n\nThis change updates the auth_url value to match what has changed\nin the keystone install guide:\n\nhttps://review.openstack.org/#/c/541857/\n\nChange-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65\n(cherry picked from commit e1761d2e29cdd93dffe3d39c0b9407b2facaa0c1)\n'}, {'number': 4, 'created': '2018-08-01 14:30:03.000000000', 'files': ['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e211cc204a90747d5562ac18fff9fd8d42e4f0b4', 'message': 'Update install doc for ubuntu\n\nThis change updates the auth_url value to match what has changed\nin the keystone install guide:\n\nhttps://review.openstack.org/#/c/541857/\n\nChange-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65\n(cherry picked from commit e1761d2e29cdd93dffe3d39c0b9407b2facaa0c1)\nCloses-bug: #1783306\n'}]",10,571384,e211cc204a90747d5562ac18fff9fd8d42e4f0b4,24,9,4,26916,,,0,"Update install doc for ubuntu

This change updates the auth_url value to match what has changed
in the keystone install guide:

https://review.openstack.org/#/c/541857/

Change-Id: I97356b31af35ef19d02b9f0c0a57cbde16752c65
(cherry picked from commit e1761d2e29cdd93dffe3d39c0b9407b2facaa0c1)
Closes-bug: #1783306
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/571384/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-ubuntu.rst']",4,29bbf5e41bfad352eab9179fbe7a3c6ce4134785,bug/1773420, auth_url = http://controller:5000, auth_url = http://controller:35357,7,7
openstack%2Fnova~master~I9b7ee5d6da7837901089861d0252f9792a817ce4,openstack/nova,master,I9b7ee5d6da7837901089861d0252f9792a817ce4,Complete the api-ref of security group rule,MERGED,2018-07-04 09:35:42.000000000,2018-08-02 19:06:39.000000000,2018-08-02 19:06:39.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-04 09:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/271d54e6bd5f2e3c351381f2b59457f709bb281c', 'message': 'Complete the api-ref of security group rule\n\nAdding the correct path of examples in security\ngroup rules api-ref.\n\nChange-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4\n'}, {'number': 2, 'created': '2018-07-10 06:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf896603757e301de0de87e48b0b93b60cbb6c73', 'message': 'Complete the api-ref of security group rule\n\nAdding the correct path of examples in security\ngroup rules api-ref.\n\nChange-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4\n'}, {'number': 3, 'created': '2018-07-12 07:12:59.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-security-group-rules.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/917d8a41a23860f4e04397340e6d049b6b179af1', 'message': 'Complete the api-ref of security group rule\n\nAdding the correct path of examples in security\ngroup rules api-ref.\n\nChange-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4\n'}]",6,580109,917d8a41a23860f4e04397340e6d049b6b179af1,49,19,3,8556,,,0,"Complete the api-ref of security group rule

Adding the correct path of examples in security
group rules api-ref.

Change-Id: I9b7ee5d6da7837901089861d0252f9792a817ce4
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/580109/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-security-group-rules.inc'],1,271d54e6bd5f2e3c351381f2b59457f709bb281c,, .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-rules-post-req.json .. literalinclude:: ../../doc/api_samples/os-security-groups/security-group-rules-post-resp.json,.. needs:example_verification .. needs:body_verification.. TODO(sdague): we currently have no samples here .. literalinclude:: ../../doc/api_samples/os-security-group-rules/security-group-rule-create-req.json.. TODO(sdague): we currently have no samples here .. literalinclude:: ../../doc/api_samples/os-security-group-rules/security-group-rule-create-resp.json,2,6
openstack%2Fnova~master~I9988abfd344d1d3b0b6eaf32b036369b51853965,openstack/nova,master,I9988abfd344d1d3b0b6eaf32b036369b51853965,doc: fix resize user guide link,MERGED,2018-08-01 22:53:10.000000000,2018-08-02 19:03:54.000000000,2018-08-02 19:03:54.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 19944}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-01 22:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6028e3da9122074dab2029d4419e59379903578', 'message': 'doc: fix resize user guide link\n\nThe admin config resize doc was linking to a now non-existent\nuser guide doc which was deleted in pike. This change imports\nthe resize user guide from the openstack-manuals stable/ocata\nbranch, fixes the link, and updates the resize user doc to\n(1) link to our internal shutdown_timeout config option reference\nand (2) link to the image properties doc in glance for the\nos_shutdown_timeout image property.\n\nChange-Id: I9988abfd344d1d3b0b6eaf32b036369b51853965\nCloses-Bug: #1784715\n'}, {'number': 2, 'created': '2018-08-02 12:52:43.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/admin/configuration/resize.rst', 'doc/source/user/resize.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3cd5198d5a767566e3cbba5a33ac4a7ae3d53aef', 'message': 'doc: fix resize user guide link\n\nThe admin config resize doc was linking to a now non-existent\nuser guide doc which was deleted in pike. This change imports\nthe resize user guide from the openstack-manuals stable/ocata\nbranch, fixes the link, and updates the resize user doc to\n(1) link to our internal shutdown_timeout config option reference\nand (2) link to the image properties doc in glance for the\nos_shutdown_timeout image property.\n\nChange-Id: I9988abfd344d1d3b0b6eaf32b036369b51853965\nCloses-Bug: #1784715\n'}]",4,588097,3cd5198d5a767566e3cbba5a33ac4a7ae3d53aef,24,12,2,6873,,,0,"doc: fix resize user guide link

The admin config resize doc was linking to a now non-existent
user guide doc which was deleted in pike. This change imports
the resize user guide from the openstack-manuals stable/ocata
branch, fixes the link, and updates the resize user doc to
(1) link to our internal shutdown_timeout config option reference
and (2) link to the image properties doc in glance for the
os_shutdown_timeout image property.

Change-Id: I9988abfd344d1d3b0b6eaf32b036369b51853965
Closes-Bug: #1784715
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/588097/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/admin/configuration/resize.rst', 'doc/source/user/resize.rst']",3,d6028e3da9122074dab2029d4419e59379903578,bug/1784715,"============================== Change the size of your server ============================== Change the size of a server by changing its flavor. #. Show information about your server, including its size, which is shown as the value of the flavor property: .. code-block:: console $ openstack server show myCirrosServer +--------------------------------------+----------------------------------------------------------+ | Field | Value | +--------------------------------------+----------------------------------------------------------+ | OS-DCF:diskConfig | AUTO | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | node-7.domain.tld | | OS-EXT-SRV-ATTR:hypervisor_hostname | node-7.domain.tld | | OS-EXT-SRV-ATTR:instance_name | instance-000000f3 | | OS-EXT-STS:power_state | 1 | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2016-10-26T01:13:15.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | admin_internal_net=192.168.111.139 | | config_drive | True | | created | 2016-10-26T01:12:38Z | | flavor | m1.small (2) | | hostId | d815539ce1a8fad3d597c3438c13f1229d3a2ed66d1a75447845a2f3 | | id | 67bc9a9a-5928-47c4-852c-3631fef2a7e8 | | image | cirros-test (dc5ec4b8-5851-4be8-98aa-df7a9b8f538f) | | key_name | None | | name | myCirrosServer | | os-extended-volumes:volumes_attached | [] | | progress | 0 | | project_id | c08367f25666480f9860c6a0122dfcc4 | | properties | | | security_groups | [{u'name': u'default'}] | | status | ACTIVE | | updated | 2016-10-26T01:13:00Z | | user_id | 0209430e30924bf9b5d8869990234e44 | +--------------------------------------+----------------------------------------------------------+ The size (flavor) of the server is ``m1.small (2)``. #. List the available flavors with the following command: .. code-block:: console $ openstack flavor list +-----+-----------+-------+------+-----------+-------+-----------+ | ID | Name | RAM | Disk | Ephemeral | VCPUs | Is_Public | +-----+-----------+-------+------+-----------+-------+-----------+ | 1 | m1.tiny | 512 | 1 | 0 | 1 | True | | 2 | m1.small | 2048 | 20 | 0 | 1 | True | | 3 | m1.medium | 4096 | 40 | 0 | 2 | True | | 4 | m1.large | 8192 | 80 | 0 | 4 | True | | 5 | m1.xlarge | 16384 | 160 | 0 | 8 | True | +-----+-----------+-------+------+-----------+-------+-----------+ #. To resize the server, use the :command:`openstack server resize` command and add the server ID or name and the new flavor. For example: .. code-block:: console $ openstack server resize --flavor 4 myCirrosServer .. note:: By default, the :command:`openstack server resize` command gives the guest operating system a chance to perform a controlled shutdown before the instance is powered off and the instance is resized. The shutdown behavior is configured by the :oslo.config:option:`shutdown_timeout` parameter that can be set in the ``nova.conf`` file. Its value stands for the overall period (in seconds) a guest operating system is allowed to complete the shutdown. The default timeout is 60 seconds. The timeout value can be overridden on a per image basis by means of ``os_shutdown_timeout`` that is an image metadata setting allowing different types of operating systems to specify how much time they need to shut down cleanly. See :glance-doc:`Useful image properties <admin/useful-image-properties>` for details. #. Show the status for your server. .. code-block:: console $ openstack server list +----------------------+----------------+--------+-----------------------------------------+ | ID | Name | Status | Networks | +----------------------+----------------+--------+-----------------------------------------+ | 67bc9a9a-5928-47c... | myCirrosServer | RESIZE | admin_internal_net=192.168.111.139 | +----------------------+----------------+--------+-----------------------------------------+ When the resize completes, the status becomes VERIFY\_RESIZE. #. Confirm the resize,for example: .. code-block:: console $ openstack server resize --confirm 67bc9a9a-5928-47c4-852c-3631fef2a7e8 The server status becomes ACTIVE. #. If the resize fails or does not work as expected, you can revert the resize. For example: .. code-block:: console $ openstack server resize --revert 67bc9a9a-5928-47c4-852c-3631fef2a7e8 The server status becomes ACTIVE. ",,125,3
openstack%2Fnova~master~Ifbadce909393268b340b7a08c78a6faa2d7888b2,openstack/nova,master,Ifbadce909393268b340b7a08c78a6faa2d7888b2,Stop setting glance_api_version in cinder.conf in nova-live-migration,MERGED,2018-07-03 13:56:35.000000000,2018-08-02 19:03:44.000000000,2018-08-02 19:03:44.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-03 13:56:35.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1859915ab40b07c63f52da67af18145bf15244a', 'message': 'Stop setting glance_api_version in cinder.conf in nova-live-migration\n\nThe glance_api_version config option was removed from cinder\nin Queens [1] so we can stop setting it during the\nnova-live-migration CI job.\n\n[1] https://docs.openstack.org/releasenotes/cinder/queens.html\n\nChange-Id: Ifbadce909393268b340b7a08c78a6faa2d7888b2\n'}]",0,579871,d1859915ab40b07c63f52da67af18145bf15244a,17,13,1,6873,,,0,"Stop setting glance_api_version in cinder.conf in nova-live-migration

The glance_api_version config option was removed from cinder
in Queens [1] so we can stop setting it during the
nova-live-migration CI job.

[1] https://docs.openstack.org/releasenotes/cinder/queens.html

Change-Id: Ifbadce909393268b340b7a08c78a6faa2d7888b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/579871/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/ceph.sh'],1,d1859915ab40b07c63f52da67af18145bf15244a,live_migration_wait_for_vif_plug,," $ANSIBLE primary --sudo -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$CINDER_CONF section=DEFAULT option=glance_api_version value=2""",0,1
openstack%2Fnova~master~I3d7770589a1526e851d5764214c26ec1a9a8fd43,openstack/nova,master,I3d7770589a1526e851d5764214c26ec1a9a8fd43,Wait for vif plugging during live migration job,MERGED,2018-06-27 20:15:06.000000000,2018-08-02 19:03:37.000000000,2018-08-02 19:03:37.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-27 20:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1bad8c18acee4bbb853f672a405b4aa4e479fd0', 'message': ""Wait for vif plugging during live migration job\n\nThe nova-live-migration CI job uses OVS which sends\nvif plugged events to the source host during live\nmigration when the destination host plugs vifs\nduring pre_live_migration. We can set the\nlive_migration_wait_for_vif_plug option to True\nso that the source host waits for the vif to be\nplugged and get the event from neutron before\nstarting the actual guest transfer in the hypervisor.\n\nThis is really just about coverage of this code\nin a live environment so we don't regress it.\n\nChange-Id: I3d7770589a1526e851d5764214c26ec1a9a8fd43\n""}, {'number': 2, 'created': '2018-07-03 13:52:46.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/73ad42afbd9153d8d040a58be5b770099062914f', 'message': ""Wait for vif plugging during live migration job\n\nThe nova-live-migration CI job uses OVS which sends\nvif plugged events to the source host during live\nmigration when the destination host plugs vifs\nduring pre_live_migration. We can set the\nlive_migration_wait_for_vif_plug option to True\nso that the source host waits for the vif to be\nplugged and get the event from neutron before\nstarting the actual guest transfer in the hypervisor.\n\nThis is really just about coverage of this code\nin a live environment so we don't regress it.\n\nChange-Id: I3d7770589a1526e851d5764214c26ec1a9a8fd43\n""}]",1,578551,73ad42afbd9153d8d040a58be5b770099062914f,34,14,2,6873,,,0,"Wait for vif plugging during live migration job

The nova-live-migration CI job uses OVS which sends
vif plugged events to the source host during live
migration when the destination host plugs vifs
during pre_live_migration. We can set the
live_migration_wait_for_vif_plug option to True
so that the source host waits for the vif to be
plugged and get the event from neutron before
starting the actual guest transfer in the hypervisor.

This is really just about coverage of this code
in a live environment so we don't regress it.

Change-Id: I3d7770589a1526e851d5764214c26ec1a9a8fd43
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/578551/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-live-migration/run.yaml'],1,b1bad8c18acee4bbb853f672a405b4aa4e479fd0,live_migration_wait_for_vif_plug," cat << 'EOF' >>""/tmp/dg-local.conf"" [[post-config|$NOVA_CPU_CONF]] [compute] live_migration_wait_for_vif_plug=True EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x",,14,0
openstack%2Fcinder~master~I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa,openstack/cinder,master,I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa,Fix remotefs driver report wrong value,MERGED,2018-06-20 20:45:48.000000000,2018-08-02 19:03:33.000000000,2018-08-02 19:03:33.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-06-20 20:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18053f0f3fce5b1ffc0910dabc8816c2e78f55a6', 'message': 'Fix remotefs driver report wrong value\n\nprovisioned_capacity_gb is reporting allocated physical space. Use\n_get_provisioned_capacity method to get this value.\n\nChange-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa\nCloses-Bug: #1746233\nSigned-off-by: Kien Ha <kienha9922@gmail.com>\n'}, {'number': 2, 'created': '2018-06-20 22:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/240df8836aac934bf2daeececa0ea7b8c03ab1c9', 'message': 'Fix remotefs driver report wrong value\n\nallocated_capacity_gb should not be reported by drivers and let the\nmanager handle this.\nprovisioned_capacity_gb is reporting allocated physical space. Use\n_get_provisioned_capacity method to get this value.\n\nChange-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa\nCloses-Bug: #1746233\nSigned-off-by: Kien Ha <kienha9922@gmail.com>\n'}, {'number': 3, 'created': '2018-07-24 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c42faee47866ae40c7bcfa5418cfb937869346e5', 'message': 'Fix remotefs driver report wrong value\n\nallocated_capacity_gb should not be reported by drivers and let the\nmanager handle this.\nprovisioned_capacity_gb is reporting allocated physical space. Return\nprovisioned.\n\nChange-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa\nCloses-Bug: #1746233\nSigned-off-by: Kien Ha <kienha9922@gmail.com>\n'}, {'number': 4, 'created': '2018-07-29 00:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc0c3df842f3b6f9491c21c3198b0c8af9dc6c63', 'message': 'Fix remotefs driver report wrong value\n\nallocated_capacity_gb should not be reported by drivers and let the\nmanager handle this.\nprovisioned_capacity_gb is reporting allocated physical space. Return\nprovisioned.\n\nChange-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa\nCloses-Bug: #1746233\nSigned-off-by: Kien Ha <kienha9922@gmail.com>\n'}, {'number': 5, 'created': '2018-07-30 23:00:26.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b629e4eba1aa96ae40e3c5e5a98b00fbcc76eac0', 'message': 'Fix remotefs driver report wrong value\n\nallocated_capacity_gb should not be reported by drivers and let the\nmanager handle this.\nprovisioned_capacity_gb is reporting allocated physical space. Return\nprovisioned.\n\nChange-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa\nCloses-Bug: #1746233\nSigned-off-by: Kien Ha <kienha9922@gmail.com>\n'}]",11,576975,b629e4eba1aa96ae40e3c5e5a98b00fbcc76eac0,104,37,5,19844,,,0,"Fix remotefs driver report wrong value

allocated_capacity_gb should not be reported by drivers and let the
manager handle this.
provisioned_capacity_gb is reporting allocated physical space. Return
provisioned.

Change-Id: I7e1b8d5b399a8dd15bb0dee477090a45c2faa6fa
Closes-Bug: #1746233
Signed-off-by: Kien Ha <kienha9922@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/576975/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/remotefs.py'],1,18053f0f3fce5b1ffc0910dabc8816c2e78f55a6,bug/1746233," 'provisioned_capacity_gb': self._get_provisioned_capacity,"," 'provisioned_capacity_gb': share_used / float(units.Gi),",1,1
openstack%2Fopenstack-helm-infra~master~I47606e5c8db87fac07febb114334ded710f56ed5,openstack/openstack-helm-infra,master,I47606e5c8db87fac07febb114334ded710f56ed5,Helm-Toolkit: Update tls secret manifest for non public endpoints,MERGED,2018-08-02 16:16:55.000000000,2018-08-02 18:36:01.000000000,2018-08-02 18:36:01.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 16:16:55.000000000', 'files': ['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aac1c4e8c02680a159235c6097db0ed66cfbe104', 'message': 'Helm-Toolkit: Update tls secret manifest for non public endpoints\n\nThis PS updates the tls secret manifest to allow non-public endpoints\nto be specified.\n\nChange-Id: I47606e5c8db87fac07febb114334ded710f56ed5\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,588330,aac1c4e8c02680a159235c6097db0ed66cfbe104,7,3,1,23928,,,0,"Helm-Toolkit: Update tls secret manifest for non public endpoints

This PS updates the tls secret manifest to allow non-public endpoints
to be specified.

Change-Id: I47606e5c8db87fac07febb114334ded710f56ed5
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/588330/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_secret-tls.yaml.tpl'],1,aac1c4e8c02680a159235c6097db0ed66cfbe104,helm-toolkit/tls,"{{- if hasKey $host $endpoint }} {{- $endpointHost := index $host $endpoint }} {{- if kindIs ""map"" $endpointHost }} {{- if hasKey $endpointHost ""tls"" }} {{- if and $endpointHost.tls.key $endpointHost.tls.crt }} tls.crt: {{ $endpointHost.tls.crt | b64enc }} tls.key: {{ $endpointHost.tls.key | b64enc }} {{- if $endpointHost.tls.ca }} ca.crt: {{ $endpointHost.tls.ca | b64enc }}","{{- if hasKey $host ""public"" }} {{- if kindIs ""map"" $host.public }} {{- if hasKey $host.public ""tls"" }} {{- if and $host.public.tls.key $host.public.tls.crt }} tls.crt: {{ $host.public.tls.crt | b64enc }} tls.key: {{ $host.public.tls.key | b64enc }} {{- if $host.public.tls.ca }} ca.crt: {{ $host.public.tls.ca | b64enc }}",9,8
openstack%2Frpm-packaging~master~Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607,openstack/rpm-packaging,master,Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607,Convert oslo.reports to singlespec,MERGED,2018-08-02 14:20:47.000000000,2018-08-02 18:33:30.000000000,2018-08-02 18:33:30.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-02 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8f1047524b54a02fe9a848a00e6a2331131b53b0', 'message': 'Convert oslo.reports to singlespec\n\nChange-Id: Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607\n'}, {'number': 2, 'created': '2018-08-02 15:46:18.000000000', 'files': ['openstack/oslo.reports/oslo.reports.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f787ba204ff7789253d063dd75b33e858db6be82', 'message': 'Convert oslo.reports to singlespec\n\nChange-Id: Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607\n'}]",0,588288,f787ba204ff7789253d063dd75b33e858db6be82,13,5,2,12542,,,0,"Convert oslo.reports to singlespec

Change-Id: Ibe9352b7fe7c7cba5bd11ae8921b512ca4402607
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/588288/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.reports/oslo.reports.spec.j2'],1,8f1047524b54a02fe9a848a00e6a2331131b53b0,oslo.reports-singlespec,"BuildRequires: {{ py2pkg('Jinja2', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('greenlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('psutil', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }}%{python_subpackages}%package -n python-oslo.reports-doc%description -n python-oslo.reports-doc%{python_build}%{python_install}%{python_expand rm -rf .testrepository $python setup.py testr } %files %{python_files}%files -n python-oslo.reports-doc",BuildRequires: {{ py2pkg('Jinja2') }} BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('eventlet') }} BuildRequires: {{ py2pkg('greenlet') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('psutil') }} BuildRequires: {{ py2pkg('six') }}%package doc%description doc%{py2_build}%{py2_install}%{__python2} setup.py testr %files%files doc,22,19
openstack%2Fopenstack-helm~master~Iccae704dadc17eba269e857301654782f64763c9,openstack/openstack-helm,master,Iccae704dadc17eba269e857301654782f64763c9,Keystone: enable external access to admin endpoint,MERGED,2018-07-26 19:06:20.000000000,2018-08-02 18:10:04.000000000,2018-08-02 18:09:11.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-26 19:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/283e06fe4ddb9861371991dac5549af406532722', 'message': 'WIP: enable external access to keyston admin endpoint\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-31 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47ac0185b0d39ff4c4ce077d2ada4ea19cd49fe0', 'message': 'WIP: enable external access to keyston admin endpoint\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-07-31 19:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f8f18a6b359cb912715d213ae20c333830b218a', 'message': 'WIP: enable external access to keyston admin endpoint\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-07-31 19:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17b36650d60e9fd38271e5b1c5390e1c85e3b216', 'message': 'Keystone: enable external access to admin endpoint\n\nThis PS moves to use port 80 by default for the keystone\nasdmin endpoint, and adjusts paths accordingly.\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-07-31 19:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6484a44421d89296ad900a60606f7c1f6d33027', 'message': 'Keystone: enable external access to admin endpoint\n\nThis PS moves to use port 80 by default for the keystone\nasdmin endpoint, and adjusts paths accordingly.\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-07-31 19:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d787d9ef7b0b41a915741e180987c11360968db1', 'message': 'Keystone: enable external access to admin endpoint\n\nThis PS moves to use port 80 by default for the keystone\nasdmin endpoint, and adjusts paths accordingly.\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-08-01 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15b5b9719a2ad4658eb69926d5b199c01dcfc7c3', 'message': 'Keystone: enable external access to admin endpoint\n\nThis PS moves to use port 80 by default for the keystone\nasdmin endpoint, and adjusts paths accordingly.\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2018-08-02 14:40:20.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'ceph-client/values.yaml', 'glance/values.yaml', 'keystone/templates/service-api.yaml', 'ceilometer/values.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/etc/_wsgi-keystone.conf.tpl', 'gnocchi/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml', 'tools/deployment/common/setup-client.sh', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc7008d9a5b72fdd256dd0e5813b9e5fdf14e734', 'message': 'Keystone: enable external access to admin endpoint\n\nThis PS moves to use port 80 by default for the keystone\nasdmin endpoint, and adjusts paths accordingly.\n\nChange-Id: Iccae704dadc17eba269e857301654782f64763c9\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,586329,dc7008d9a5b72fdd256dd0e5813b9e5fdf14e734,28,7,8,23928,,,0,"Keystone: enable external access to admin endpoint

This PS moves to use port 80 by default for the keystone
asdmin endpoint, and adjusts paths accordingly.

Change-Id: Iccae704dadc17eba269e857301654782f64763c9
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/586329/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/service-api.yaml', 'keystone/templates/deployment-api.yaml', 'keystone/templates/etc/_wsgi-keystone.conf.tpl', 'keystone/values.yaml', 'tools/deployment/common/setup-client.sh']",5,283e06fe4ddb9861371991dac5549af406532722,585947, auth_url: 'http://keystone.openstack.svc.cluster.local/identity/v3', auth_url: 'http://keystone.openstack.svc.cluster.local/v3',47,18
openstack%2Fneutron~master~Idf16e2460bd434f5eab79745558c55c6579e81e8,openstack/neutron,master,Idf16e2460bd434f5eab79745558c55c6579e81e8,[QoS] Clear rate limits when default null values are used,MERGED,2018-07-20 09:24:47.000000000,2018-08-02 18:09:25.000000000,2018-07-24 03:24:18.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-07-20 09:24:47.000000000', 'files': ['neutron/agent/l3/extensions/qos/fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e0c1e9e23788fc60b2bf19659a7b513ba330dea', 'message': '[QoS] Clear rate limits when default null values are used\n\nIn that case before, tc was called with zero rate and burst values.\nNewer iproute versions (>= 4.9) do not allow that anymore, so we send a\nclear command instead\n\nThis also fixes QoS L3 agent extension functional tests run with such an\niproute version (CentOS 7.5, Ubuntu 18.04)\n\nChange-Id: Idf16e2460bd434f5eab79745558c55c6579e81e8\nCloses-Bug: #1782141\n'}]",0,584297,7e0c1e9e23788fc60b2bf19659a7b513ba330dea,12,7,1,21798,,,0,"[QoS] Clear rate limits when default null values are used

In that case before, tc was called with zero rate and burst values.
Newer iproute versions (>= 4.9) do not allow that anymore, so we send a
clear command instead

This also fixes QoS L3 agent extension functional tests run with such an
iproute version (CentOS 7.5, Ubuntu 18.04)

Change-Id: Idf16e2460bd434f5eab79745558c55c6579e81e8
Closes-Bug: #1782141
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/584297/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/extensions/qos/fip.py'],1,7e0c1e9e23788fc60b2bf19659a7b513ba330dea,bug/1782141," if (rate['rate'] == qos_base.IP_DEFAULT_RATE and rate['burst'] == qos_base.IP_DEFAULT_BURST): # Default value is no limit tc_wrapper.clear_ip_rate_limit(direction, fip) else: tc_wrapper.set_ip_rate_limit(direction, fip, rate['rate'], rate['burst'])"," tc_wrapper.set_ip_rate_limit(direction, fip, rate['rate'], rate['burst'])",7,2
openstack%2Fironic-specs~master~I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb,openstack/ironic-specs,master,I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb,Add ownership information field,MERGED,2018-04-10 17:13:58.000000000,2018-08-02 18:07:21.000000000,2018-08-02 14:05:42.000000000,"[{'_account_id': 6133}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-04-10 17:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/62992812f61fa3dea6a03b4013e8ec47a98ac433', 'message': 'Add ownership information field\n\nChange-Id: I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb\nStory: #2001814\nTask: #12549\n'}, {'number': 2, 'created': '2018-04-10 17:23:35.000000000', 'files': ['specs/not-implemented/ownership-field.rst', 'specs/approved/ownership-field.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/15b27ef6a82a84718473b6cad182d2c7a61a7670', 'message': 'Add ownership information field\n\nChange-Id: I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb\nStory: #2001814\nTask: #12549\n'}]",26,560089,15b27ef6a82a84718473b6cad182d2c7a61a7670,24,9,2,11655,,,0,"Add ownership information field

Change-Id: I24ffdf7162f1a13cf1e0fa04353b65b49cc3d8eb
Story: #2001814
Task: #12549
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/89/560089/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/ownership-field.rst'],1,62992812f61fa3dea6a03b4013e8ec47a98ac433,story/2001814,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Ownership Information Storage ============================= https://storyboard.openstack.org/#!/story/2001814 In many large businesses with hardware fleets, there may be a variety of ownership of the underlying hardware for tracking purposes. A good example of this is in a hybrid service provider scenario where an operator may directly own a portion of the hardware, may have the hardware on lease, and may ultimately have customer owned hardware. We simply cannot model this with existing node fields, since there may be resource sharing agreements also in place between the owners of the hardware. And as such, we need some way to store and represent the end owner of the hardware for tracking and logistical purposes. Problem description =================== While scenarios differ, ultimately there is a need to be able to store information in a top level fashion about who owns a given piece of hardware. Information of this sort can be vital when it comes time for tax asset inventories, or just simple tracking of where the hardware came from. Providing the ability to search and return the hardware that is known to be owned by a particular group allows for faster correlation of the disposition of the hardware for auditing and accounting purposes. Proposed change =============== Proposing to add a new informational field to the node object that can be queried via the REST API, and stored in the database. No other initial use of this field is expected. Future use could also be automatic in the scenario if there is a driver that is aggregating a number of management systems, however that is out of scope. Alternatives ------------ An operator could potentially store this information in extra, however then they would still need to dump all of the nodes out to obtain a list of nodes with the specific information that is needed. The operator would begin to hit limits with the number of responses from the API, and would need to likely create their own tooling around list processing. Data model impact ----------------- A ``owner`` field would be added to the nodes table as a ``VARCHAR(64)`` and will have a default value of ``None``. State Machine Impact -------------------- None REST API impact --------------- An ``owner`` field will be returned as part of the node. The API shall be updated to allow a user to set and unset the value via the API. Additionally the GET syntax for the nodes list will be updated to allow a list of matching nodes to be returned. POST/PATCH operations to the field will be guarded by a new microversion, however returning the field will not be guarded by the microversion. Client (CLI) impact ------------------- ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ A corresponding change will be necessary to enable the ability for a user to set/unset the value from a command line. RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- None Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: TheJulia - juliaashleykreger@gmail.com Other contributors: None Work Items ---------- * Add database field. * Add object field. * Add REST API functionality and microversion. * Update REST API documentation. * Update python-ironicclient. Dependencies ============ None Testing ======= Basic API CRUD testing will be added. There is no need for additional testing as this is an informational field for the API user/baremetal operator. Upgrades and Backwards Compatibility ==================================== Field will be created as part of the upgrade process with a default value in the database schema. Documentation Impact ==================== REST API documentation will need to be updated. References ========== None ",,190,0
openstack%2Fnova~master~I1a18a6357056a3a7bfa729b9fccb288437564937,openstack/nova,master,I1a18a6357056a3a7bfa729b9fccb288437564937,Fix missing print format error,MERGED,2018-07-20 08:31:59.000000000,2018-08-02 18:01:45.000000000,2018-07-24 02:19:35.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-20 08:31:59.000000000', 'files': ['nova/virt/zvm/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8dd399851a6210ecda0734a9d63bfb8585d5ae', 'message': ""Fix missing print format error\n\nMissing print format will cause 'ValueError: unsupported\nformat character' error, this is to fix it.\n\nChange-Id: I1a18a6357056a3a7bfa729b9fccb288437564937\n""}]",0,584277,7b8dd399851a6210ecda0734a9d63bfb8585d5ae,36,18,1,20190,,,0,"Fix missing print format error

Missing print format will cause 'ValueError: unsupported
format character' error, this is to fix it.

Change-Id: I1a18a6357056a3a7bfa729b9fccb288437564937
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/584277/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/zvm/utils.py'],1,7b8dd399851a6210ecda0734a9d63bfb8585d5ae,print_format," LOG.warning(""url is %(url)s which is not https """," LOG.warning(""url is %(url) which is not https """,1,1
openstack%2Fkuryr-tempest-plugin~master~Ie72c93564f38bc51a3abd009085beda92430daea,openstack/kuryr-tempest-plugin,master,Ie72c93564f38bc51a3abd009085beda92430daea,Namespace isolation tempest coverage,MERGED,2018-07-06 14:52:15.000000000,2018-08-02 17:56:40.000000000,2018-08-02 12:45:25.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27086}]","[{'number': 1, 'created': '2018-07-06 14:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/17033c336b7cb5747e1e142cbb963227934f462a', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 2, 'created': '2018-07-10 11:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/664be033cd31ad9aaaa6f9fafa6498c9bdebe5ae', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 3, 'created': '2018-07-31 13:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a08d62c3fa3c8b79d3785c580d74282e35709b44', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 4, 'created': '2018-08-01 10:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/000fb52ba358ca534b95221e79e5a4cc6867f827', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 5, 'created': '2018-08-01 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/78c7da61136cfe7948855536ef7c8d9ec01bb279', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 6, 'created': '2018-08-01 15:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a0bc0c48fe5e89acfe8c29b6a102f8ad7b162934', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}, {'number': 7, 'created': '2018-08-02 10:24:07.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/08ba88d048dc218eeb46b787e29576577845de8e', 'message': 'Namespace isolation tempest coverage\n\nIt creates a new test to ensure proper isolation between namespaces.\nIt creates different pods in different namespaces and check that\ntraffic is block between them, unless it is the default namespace,\nwhich can reach all the namespaces and be reached by all of them.\n\nDepends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\nImplements: blueprint openshift-project-isolation-support\n\nChange-Id: Ie72c93564f38bc51a3abd009085beda92430daea\n'}]",16,580678,08ba88d048dc218eeb46b787e29576577845de8e,47,8,7,23567,,,0,"Namespace isolation tempest coverage

It creates a new test to ensure proper isolation between namespaces.
It creates different pods in different namespaces and check that
traffic is block between them, unless it is the default namespace,
which can reach all the namespaces and be reached by all of them.

Depends-On: Ibf63841b2a6b0c339c4c76980f1489e26af016d7
Implements: blueprint openshift-project-isolation-support

Change-Id: Ie72c93564f38bc51a3abd009085beda92430daea
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/78/580678/7 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,17033c336b7cb5747e1e142cbb963227934f462a,bp/openshift-project-isolation-support," self.assertNotIn(namespace_name, existing_namespaces) def test_namespace_sg_isolation(self): # Check security group resources are created ns1_name, ns1 = self.create_namespace() ns2_name, ns2 = self.create_namespace() existing_namespaces = [ns.metadata.name for ns in self.list_namespaces().items] self.assertIn(ns1_name, existing_namespaces) self.assertIn(ns2_name, existing_namespaces) self.assertIn('default', existing_namespaces) net_crd_ns1_name = 'ns-' + ns1_name net_crd_ns2_name = 'ns-' + ns2_name net_crd_ns1 = self.get_kuryr_net_crds(net_crd_ns1_name) net_crd_ns2 = self.get_kuryr_net_crds(net_crd_ns2_name) self.assertIn(net_crd_ns1_name, net_crd_ns1['metadata']['name']) self.assertIn(net_crd_ns2_name, net_crd_ns2['metadata']['name']) seen_sgs = self.os_admin.security_groups_client.list_security_groups() seen_sg_ids = [sg['id'] for sg in seen_sgs['security_groups']] self.assertIn(net_crd_ns1['spec']['sgId'], seen_sg_ids) self.assertIn(net_crd_ns2['spec']['sgId'], seen_sg_ids) # Create pods in different namespaces pod_ns1_name, pod_ns1 = self.create_pod(labels={""app"": 'pod-label'}, namespace=ns1_name) pod_ns2_name, pod_ns2 = self.create_pod(labels={""app"": 'pod-label'}, namespace=ns2_name) pod_nsdefault_name, pod_nsdefault = self.create_pod( labels={""app"": 'pod-label'}, namespace='default') self.addCleanup(self.delete_pod, pod_nsdefault_name, pod_nsdefault) # Check namespace pod connectivity and isolation pod_ns2_ip = self.get_pod_ip(pod_ns2_name, ns2_name) pod_nsdefault_ip = self.get_pod_ip(pod_nsdefault_name) # check connectivity from NS1 to default cmd = [""/bin/sh"", ""-c"", ""curl {dst_ip}:8080"".format( dst_ip=pod_nsdefault_ip)] self.assertIn('HELLO! I AM ALIVE!!!', self.exec_command_in_pod(pod_ns1_name, cmd, ns1_name)) # check no connectivity from NS1 to NS2 cmd = [""/bin/sh"", ""-c"", ""curl {dst_ip}:8080"".format( dst_ip=pod_ns2_ip)] self.assertNotIn('HELLO! I AM ALIVE!!!', self.exec_command_in_pod(pod_ns1_name, cmd, ns1_name)) # check connectivity from default to NS2 cmd = [""/bin/sh"", ""-c"", ""curl {dst_ip}:8080"".format( dst_ip=pod_ns2_ip)] self.assertIn('HELLO! I AM ALIVE!!!', self.exec_command_in_pod(pod_nsdefault_name, cmd)) # Check resources are deleted self.delete_namespace(ns1_name) self.delete_namespace(ns2_name) while True: time.sleep(1) try: self.get_kuryr_net_crds(net_crd_ns1) except kubernetes.client.rest.ApiException: break existing_namespaces = [ns.metadata.name for ns in self.list_namespaces().items] self.assertNotIn(ns1_name, existing_namespaces) seen_sgs = self.os_admin.security_groups_client.list_security_groups() seen_sg_ids = [sg['id'] for sg in seen_sgs['security_groups']] self.assertNotIn(net_crd_ns1['spec']['sgId'], seen_sg_ids)",,82,0
openstack%2Fkayobe~master~Ib685b0c3e21df01c4dd177771f019fae4bb90e66,openstack/kayobe,master,Ib685b0c3e21df01c4dd177771f019fae4bb90e66,Make installation of epel-release optional,MERGED,2018-08-01 17:51:20.000000000,2018-08-02 17:50:43.000000000,2018-08-02 17:50:43.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-08-01 17:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c98aefbf6129f537d4b1eda1c8cc78042cc82e3', 'message': ""Make installation of epel-release optional\n\nThe epel-release package provides a yum repository configuration for\nEPEL, and points to the upsteam EPEL mirrors. In some cases this is\nundesirable, such as when a local EPEL mirror is available, or access to\nthe public repositories is not possible.\n\nThis change makes it possible to skip installation of epel-release, by\nsetting 'yum_install_epel' to 'false'.\n\nChange-Id: Ib685b0c3e21df01c4dd177771f019fae4bb90e66\nStory: 2003277\nTask: 24218\n""}, {'number': 2, 'created': '2018-08-02 15:42:10.000000000', 'files': ['etc/kayobe/yum.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/kolla-ansible.yml', 'ansible/overcloud-ipa-images.yml', 'releasenotes/notes/optional-epel-release-92eaf3dc4aa1021b.yaml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla/defaults/main.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/test-image.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/kolla-build.yml', 'ansible/external-net.yml', 'ansible/seed-introspection-rules.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/compute-node-flavors.yml', 'ansible/group_vars/all/yum', 'ansible/test-image-centos-cloud.yml', 'ansible/test-keypair.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f349038b1d1c25af8864f755dc9cf9dc76645cb0', 'message': ""Make installation of epel-release optional\n\nThe epel-release package provides a yum repository configuration for\nEPEL, and points to the upstream EPEL mirrors. In some cases this is\nundesirable, such as when a local EPEL mirror is available, or access to\nthe public repositories is not possible.\n\nThis change makes it possible to skip installation of epel-release, by\nsetting 'yum_install_epel' to 'false'.\n\nChange-Id: Ib685b0c3e21df01c4dd177771f019fae4bb90e66\nStory: 2003277\nTask: 24218\n""}]",0,587925,f349038b1d1c25af8864f755dc9cf9dc76645cb0,10,4,2,14826,,,0,"Make installation of epel-release optional

The epel-release package provides a yum repository configuration for
EPEL, and points to the upstream EPEL mirrors. In some cases this is
undesirable, such as when a local EPEL mirror is available, or access to
the public repositories is not possible.

This change makes it possible to skip installation of epel-release, by
setting 'yum_install_epel' to 'false'.

Change-Id: Ib685b0c3e21df01c4dd177771f019fae4bb90e66
Story: 2003277
Task: 24218
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/587925/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/yum.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/kolla-ansible.yml', 'ansible/overcloud-ipa-images.yml', 'releasenotes/notes/optional-epel-release-92eaf3dc4aa1021b.yaml', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'ansible/roles/kolla/defaults/main.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'ansible/test-image.yml', 'ansible/baremetal-compute-inspect.yml', 'ansible/kolla-build.yml', 'ansible/external-net.yml', 'ansible/seed-introspection-rules.yml', 'ansible/baremetal-compute-provide.yml', 'ansible/overcloud-grafana-configure.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/baremetal-compute-manage.yml', 'ansible/compute-node-flavors.yml', 'ansible/group_vars/all/yum', 'ansible/test-image-centos-cloud.yml', 'ansible/test-keypair.yml']",23,2c98aefbf6129f537d4b1eda1c8cc78042cc82e3,story/2003277," os_shade_install_epel: ""{{ yum_install_epel }}""",,49,1
openstack%2Fglance~master~I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6,openstack/glance,master,I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6,Add multi-store support,MERGED,2018-06-12 06:44:29.000000000,2018-08-02 17:44:51.000000000,2018-08-02 17:44:51.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25111}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-06-12 06:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1cfcc5ffba2f3f3cfecc87282f71c6ba9adba800', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 2, 'created': '2018-06-18 09:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7b06acb9425dedcb5eb176cfae90493d22e81057', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 3, 'created': '2018-06-22 05:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bbd52bd84887cf245a99489958003afb6f9812bb', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 4, 'created': '2018-06-28 16:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/507f2cf12df1be96cfea1e5130ef49c355c2111c', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 5, 'created': '2018-06-29 05:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a7cc928595ada1aba0ba8a2560b15ea6f0440504', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 6, 'created': '2018-07-06 05:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c31fcd521e3faed3978012a876f3580d78f9989c', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 7, 'created': '2018-07-27 02:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/39cf594bc1e9a503f9ce2a8b5573b6b1e727e7a4', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 8, 'created': '2018-07-30 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6bc29ac94e8cccf43baf76ad625d00a700ccde5e', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 9, 'created': '2018-07-30 17:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d069452bc7492402753a00b3e640e1960ecd2b2', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 10, 'created': '2018-07-31 12:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/30bb57ec470ec300947a394b60cc8791f8ca9a39', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}, {'number': 11, 'created': '2018-08-01 09:43:25.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/async/taskflow_executor.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/common/store_utils.py', 'glance/tests/unit/test_quota.py', 'glance/async/flows/_internal_plugins/web_download.py', 'glance/tests/unit/test_notifier.py', 'glance/async/flows/api_image_import.py', 'glance/common/wsgi.py', 'glance/api/v2/images.py', 'glance/notifier.py', 'glance/api/v2/router.py', 'glance/common/scripts/image_import/main.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'glance/tests/unit/v2/test_schemas_resource.py', 'glance/api/v2/discovery.py', 'glance/common/wsgi_app.py', 'glance/scrubber.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/cb45edf5c81f7d09c9ef0b88d40d56b4750beb10', 'message': ""Add multi-store support\n\nMade provision for multi-store support. Added new config option\n'enabled_backends' which will be a comma separated Key:Value pair\nof store identifier and store type.\n\nDocImpact\nDepends-On: https://review.openstack.org/573648\nImplements: blueprint multi-store\n\nChange-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6\n""}]",22,574582,cb45edf5c81f7d09c9ef0b88d40d56b4750beb10,73,7,11,9303,,,0,"Add multi-store support

Made provision for multi-store support. Added new config option
'enabled_backends' which will be a comma separated Key:Value pair
of store identifier and store type.

DocImpact
Depends-On: https://review.openstack.org/573648
Implements: blueprint multi-store

Change-Id: I9cfa066bdce51619a78ce86a8b1f1f8d05e5bfb6
",git fetch https://review.opendev.org/openstack/glance refs/changes/82/574582/9 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/async/taskflow_executor.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/common/store_utils.py', 'glance/tests/unit/test_quota.py', 'glance/async/flows/_internal_plugins/web_download.py', 'glance/tests/unit/test_notifier.py', 'glance/async/flows/api_image_import.py', 'glance/common/wsgi.py', 'glance/api/v2/images.py', 'glance/notifier.py', 'glance/api/v2/router.py', 'glance/common/scripts/image_import/main.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py', 'glance/tests/unit/v2/test_schemas_resource.py', 'glance/api/v2/discovery.py', 'glance/common/wsgi_app.py', 'glance/scrubber.py']",22,1cfcc5ffba2f3f3cfecc87282f71c6ba9adba800,bp/multi-store," # if multi-store is enabled then we need to pass backend # to delete the image. backend = loc['metadata'].get('backend') if CONF.enabled_backends: ret.append((image['id'], loc['id'], uri, backend)) else: ret.append((image['id'], loc['id'], uri)) if CONF.enabled_backends: for image_id, loc_id, loc_uri, backend in records: if image_id not in delete_jobs: delete_jobs[image_id] = [] delete_jobs[image_id].append((image_id, loc_id, loc_uri, backend)) else: for image_id, loc_id, loc_uri in records: if image_id not in delete_jobs: delete_jobs[image_id] = [] delete_jobs[image_id].append((image_id, loc_id, loc_uri)) if CONF.enabled_backends: for img_id, loc_id, uri, backend in delete_jobs: try: self._delete_image_location_from_backend(img_id, loc_id, uri, backend=backend) except Exception: success = False else: for img_id, loc_id, uri in delete_jobs: try: self._delete_image_location_from_backend(img_id, loc_id, uri) except Exception: success = False def _delete_image_location_from_backend(self, image_id, loc_id, uri, backend=None): if CONF.enabled_backends: self.store_api.delete(uri, backend, self.admin_context) else: self.store_api.delete_from_backend(uri, self.admin_context)"," ret.append((image['id'], loc['id'], uri)) for image_id, loc_id, loc_uri in records: if image_id not in delete_jobs: delete_jobs[image_id] = [] delete_jobs[image_id].append((image_id, loc_id, loc_uri)) for img_id, loc_id, uri in delete_jobs: try: self._delete_image_location_from_backend(img_id, loc_id, uri) except Exception: success = False def _delete_image_location_from_backend(self, image_id, loc_id, uri): self.store_api.delete_from_backend(uri, self.admin_context)",367,72
openstack%2Fnova~master~Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687,openstack/nova,master,Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687,Remove unused stubbing function from test,MERGED,2018-07-30 08:11:06.000000000,2018-08-02 17:44:47.000000000,2018-08-02 17:44:47.000000000,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-30 08:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9766d8b746f388ae494850c4a7b8b29b5ed9150', 'message': 'Remove unused stubbing function from test\n\nThe fake_networks.stub_out_network_cleanup is unused and therefore\nremoved in this patch.\n\nChange-Id: Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687\n'}, {'number': 2, 'created': '2018-08-02 12:53:39.000000000', 'files': ['nova/tests/unit/fake_network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f66d4c98f23116c4917785014f0c56e4440d6c81', 'message': 'Remove unused stubbing function from test\n\nThe fake_networks.stub_out_network_cleanup is unused since\nI0eaa0a9860af7d574a689722785d5d3d614eb0c1 and therefore removed.\n\nChange-Id: Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687\n'}]",1,586968,f66d4c98f23116c4917785014f0c56e4440d6c81,26,12,2,9708,,,0,"Remove unused stubbing function from test

The fake_networks.stub_out_network_cleanup is unused since
I0eaa0a9860af7d574a689722785d5d3d614eb0c1 and therefore removed.

Change-Id: Ifedcd0cd2821b38a7b4f5eae41fcb705e9606687
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/586968/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/fake_network.py'],1,d9766d8b746f388ae494850c4a7b8b29b5ed9150,,,"def stub_out_network_cleanup(test): test.stub_out('nova.network.api.API.deallocate_for_instance', lambda *args, **kwargs: None) ",0,5
openstack%2Fmonasca-ui~stable%2Fpike~I79746010525784de4b66108e9d1fe749bd57675b,openstack/monasca-ui,stable/pike,I79746010525784de4b66108e9d1fe749bd57675b,Modify policy configuration file,ABANDONED,2018-05-17 17:57:42.000000000,2018-08-02 17:43:00.000000000,,"[{'_account_id': 10311}, {'_account_id': 11880}, {'_account_id': 12542}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-05-17 17:57:42.000000000', 'files': ['monitoring/conf/monitoring_policy.json'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/aab0d6befe4db37f3dcd24ebdd146dc5d0cc09de', 'message': 'Modify policy configuration file\n\nOnly user with monasca-user role should have access to\nmonitoring panel.\n\nStory: 2001895\nTask: 14379\nDepends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92\nChange-Id: I79746010525784de4b66108e9d1fe749bd57675b\n(cherry picked from commit ebe64e0b1478340342e76a7a0279a668ec459c2f)\n'}]",0,569194,aab0d6befe4db37f3dcd24ebdd146dc5d0cc09de,8,7,1,11880,,,0,"Modify policy configuration file

Only user with monasca-user role should have access to
monitoring panel.

Story: 2001895
Task: 14379
Depends-On: I16091dbd631a5e94d08598a23eeb3bdf97cf0a92
Change-Id: I79746010525784de4b66108e9d1fe749bd57675b
(cherry picked from commit ebe64e0b1478340342e76a7a0279a668ec459c2f)
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/94/569194/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/conf/monitoring_policy.json'],1,aab0d6befe4db37f3dcd24ebdd146dc5d0cc09de,policy-stable/pike," ""monitoring:monitoring"": ""rule:monasca_user_role"","," ""owner"" : ""user_id:%(user_id)s"", ""admin_required"": ""role:admin or is_admin:1"", ""admin_or_owner"": ""rule:admin_required or rule:owner"", ""monitoring:monitoring"": ""rule:admin_or_owner"",",1,5
openstack%2Fopenstack-ansible-ops~master~I36016f4733a8800adbcce71abbb290ab4a24798b,openstack/openstack-ansible-ops,master,I36016f4733a8800adbcce71abbb290ab4a24798b,correct typo,MERGED,2018-08-02 14:43:25.000000000,2018-08-02 17:42:55.000000000,2018-08-02 17:42:55.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:43:25.000000000', 'files': ['osquery/env.d/fleet.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/393fe9d42a5ec373cb58ace350e5b646ca15b97e', 'message': 'correct typo\n\nThe fleet env.d config had a typo in it which would causing a failure\nwithin OSA dynamic inventory. This corrects the issue.\n\nChange-Id: I36016f4733a8800adbcce71abbb290ab4a24798b\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,588301,393fe9d42a5ec373cb58ace350e5b646ca15b97e,6,2,1,7353,,,0,"correct typo

The fleet env.d config had a typo in it which would causing a failure
within OSA dynamic inventory. This corrects the issue.

Change-Id: I36016f4733a8800adbcce71abbb290ab4a24798b
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/01/588301/1 && git format-patch -1 --stdout FETCH_HEAD,['osquery/env.d/fleet.yml'],1,393fe9d42a5ec373cb58ace350e5b646ca15b97e,, belongs_to: - fleet_all, belogs_to: - all,2,2
openstack%2Fironic-lib~stable%2Frocky~Idf425e393404950a70106e1cfac9f06a11316e54,openstack/ironic-lib,stable/rocky,Idf425e393404950a70106e1cfac9f06a11316e54,Update .gitreview for stable/rocky,MERGED,2018-07-19 21:18:54.000000000,2018-08-02 17:38:39.000000000,2018-08-02 17:38:39.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-19 21:18:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/3a61db5c99bfb71a11d49df5b53fda82344f2a3c', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: Idf425e393404950a70106e1cfac9f06a11316e54\n'}]",0,584114,3a61db5c99bfb71a11d49df5b53fda82344f2a3c,12,3,1,22816,,,0,"Update .gitreview for stable/rocky

Change-Id: Idf425e393404950a70106e1cfac9f06a11316e54
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/14/584114/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3a61db5c99bfb71a11d49df5b53fda82344f2a3c,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fpuppet-nova~master~I6523ed70536e438d38d9165e31d5d4d214bbc62c,openstack/puppet-nova,master,I6523ed70536e438d38d9165e31d5d4d214bbc62c,Stop logging sensitive data in cell_v2 provider,MERGED,2018-07-31 20:45:59.000000000,2018-08-02 17:28:48.000000000,2018-08-02 17:28:48.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-31 20:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b4d3cc3a05edf6ac6e31162a10bd3da7f96a1cda', 'message': 'WIP: stop logging sensitive data in cell_v2 provider\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}, {'number': 2, 'created': '2018-07-31 22:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c7a09d4043be7ed95339a8801b601e9fcb41c8d8', 'message': 'WIP: stop logging sensitive data in cell_v2 provider\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}, {'number': 3, 'created': '2018-08-01 16:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b8c9603b4945f76583260a435103a77af7251366', 'message': 'Stop logging sensitive data in cell_v2 provider\n\nParses the nova cell_v2 transport_uri/database_connection and rebuilds with\nthe password hidden in is_to_s and should_to_s (used for logging the changes).\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}, {'number': 4, 'created': '2018-08-01 17:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/aee0bb246bd7d2486e0f5ac030f2084147ef0917', 'message': 'Stop logging sensitive data in cell_v2 provider\n\nParses the nova cell_v2 transport_uri/database_connection and rebuilds with\nthe password hidden in is_to_s and should_to_s (used for logging the changes).\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}, {'number': 5, 'created': '2018-08-01 20:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f48a0880f396f0434d99c0d0a05d2b4731ddfc97', 'message': 'Stop logging sensitive data in cell_v2 provider\n\nParses the nova cell_v2 transport_uri/database_connection and rebuilds with\nthe password hidden in is_to_s and should_to_s (used for logging the changes).\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}, {'number': 6, 'created': '2018-08-01 20:05:40.000000000', 'files': ['spec/unit/type/nova_cell_v2.rb', 'lib/puppet/type/nova_cell_v2.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/69387100917eb0b59397172c948a4ad4552eaa04', 'message': 'Stop logging sensitive data in cell_v2 provider\n\nParses the nova cell_v2 transport_uri/database_connection and rebuilds with\nthe password hidden in is_to_s and should_to_s (used for logging the changes).\n\nChange-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c\n'}]",3,587618,69387100917eb0b59397172c948a4ad4552eaa04,31,6,6,23811,,,0,"Stop logging sensitive data in cell_v2 provider

Parses the nova cell_v2 transport_uri/database_connection and rebuilds with
the password hidden in is_to_s and should_to_s (used for logging the changes).

Change-Id: I6523ed70536e438d38d9165e31d5d4d214bbc62c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/18/587618/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/nova_cell_v2.rb'],1,b4d3cc3a05edf6ac6e31162a10bd3da7f96a1cda,,"require 'uri/generic' def sanitize_uri(sensitive_uri) begin uri = URI.parse(sensitive_uri) rescue URI::InvalidURIError return '<Invalid URI>' end sanitized_userinfo = nil unless uri.userinfo.nil? user, password = uri.userinfo.split(':', 2) unless user.nil? sanitized_userinfo = user unless password.nil? sanitized_userinfo << ':****' end end end return URI::Generic.new( uri.scheme, sanitized_userinfo, uri.host, uri.port, uri.registry, uri.path, uri.opaque, uri.query, uri.fragment ).to_s end def is_to_s( currentvalue ) if currentvalue == 'default' return currentvalue else return sanitize_uri(currentvalue) end end def should_to_s( newvalue ) if currentvalue == 'default' return currentvalue else return sanitize_uri(newvalue) end end def is_to_s( currentvalue ) if currentvalue == 'default' return currentvalue else return sanitize_uri(currentvalue) end end def should_to_s( newvalue ) if currentvalue == 'default' return currentvalue else return sanitize_uri(newvalue) end end ",,66,0
openstack%2Fnova~master~Iff1b49fe7e6347e3c2bb5992494b2450809719a2,openstack/nova,master,Iff1b49fe7e6347e3c2bb5992494b2450809719a2,Disable limits if force_hosts or force_nodes is set,MERGED,2018-06-20 03:22:42.000000000,2018-08-02 17:25:30.000000000,2018-07-21 15:51:02.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13630}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21914}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27621}, {'_account_id': 27633}]","[{'number': 1, 'created': '2018-06-20 03:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29f79f928ed4b411f448671dd0c9141fe459e67f', 'message': ""correct some logs in schduler due to max_placement_results\n\nset max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nchanging error logs can remind operators there's a tradeoff.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nClose-Bug: #1777591\n""}, {'number': 2, 'created': '2018-06-26 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e676ca9c75396e194d90c79ae9785f112979f90', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nClose-Bugs: #1777591\n'}, {'number': 3, 'created': '2018-06-26 13:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f5132608ebd88c539248b35c9d87f63fa9324d', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nClose-Bugs: #1777591\n'}, {'number': 4, 'created': '2018-06-27 03:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/673cc1690cc1d392264a909ba96da975119657d4', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 5, 'created': '2018-06-28 02:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac19ce16f09536cebc32588edfb83148f97d2d1e', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 6, 'created': '2018-06-28 14:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e84feb0cacdda922d0d4fc7ea6ae3b844c9f883', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 7, 'created': '2018-07-18 11:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d727804ca4c5a2dcd12abfb2629beebac4c92a10', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSet max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limits param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 8, 'created': '2018-07-19 13:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7185905c0fd23c006d45fa25f4a8105b809b014e', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSetting max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limit param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 9, 'created': '2018-07-19 13:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/865c70f67b6abf6bef8b86be896d538244a0577c', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSetting max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limit param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}, {'number': 10, 'created': '2018-07-19 14:05:08.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d91811ad499af1d291f5c819ced5b1fdf3520c7', 'message': 'Disable limits if force_hosts or force_nodes is set\n\nSetting max_placement_results will make force_host invaild sometimes,\nespecially in large-scale enviroment.\nDisable limit param in GET /allocation_candidates if force_hosts\nor force_nodes is set.\n\nChange-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2\nCloses-Bug: #1777591\n'}]",23,576693,1d91811ad499af1d291f5c819ced5b1fdf3520c7,171,28,10,21914,,,0,"Disable limits if force_hosts or force_nodes is set

Setting max_placement_results will make force_host invaild sometimes,
especially in large-scale enviroment.
Disable limit param in GET /allocation_candidates if force_hosts
or force_nodes is set.

Change-Id: Iff1b49fe7e6347e3c2bb5992494b2450809719a2
Closes-Bug: #1777591
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/576693/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/host_manager.py'],1,29f79f928ed4b411f448671dd0c9141fe459e67f,bug/1777591," LOG.info(""No candidates or hosts matched due to not "" ""match 'force_hosts' value of '%s'"", forced_hosts_str) LOG.info(""No candidates or hosts matched due to not "" ""match 'force_nodes' value of '%s'"", forced_nodes_str) LOG.info('No candidates or hosts matched due to not matching ' 'requested destination (%(host)s, %(node)s)',"," LOG.info(""No hosts matched due to not matching "" ""'force_hosts' value of '%s'"", forced_hosts_str) LOG.info(""No nodes matched due to not matching "" ""'force_nodes' value of '%s'"", forced_nodes_str) LOG.info('No hosts matched due to not matching requested ' 'destination (%(host)s, %(node)s)',",6,6
openstack%2Fopenstack-helm-infra~master~Ie4e85f5547df4b1749280acd7ff858005b91eee9,openstack/openstack-helm-infra,master,Ie4e85f5547df4b1749280acd7ff858005b91eee9,Grafana: Fix Ceph pool usage dashboard panel,ABANDONED,2018-04-27 16:11:16.000000000,2018-08-02 17:23:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-27 16:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0292fdde0ad976cac4d3d34d203c01ddcf4ece1', 'message': ""Grafana: Fix Ceph pool usage dashboard panel\n\nThis fixes the ceph pool usage panel for displaying the percentage\nutilization. As it's a percentage unit, multiplying the expression\nby 100 resulted in erroneous values as the true percentage was\nbeing multipled by 100 again\n\nChange-Id: Ie4e85f5547df4b1749280acd7ff858005b91eee9\n""}, {'number': 2, 'created': '2018-05-08 00:25:18.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7988ff59860bc7cce141b67680530aecd92cad6d', 'message': ""Grafana: Fix Ceph pool usage dashboard panel\n\nThis fixes the ceph pool usage panel for displaying the percentage\nutilization. As it's a percentage unit, multiplying the expression\nby 100 resulted in erroneous values as the true percentage was\nbeing multipled by 100 again\n\nChange-Id: Ie4e85f5547df4b1749280acd7ff858005b91eee9\n""}]",0,564824,7988ff59860bc7cce141b67680530aecd92cad6d,5,1,2,17591,,,0,"Grafana: Fix Ceph pool usage dashboard panel

This fixes the ceph pool usage panel for displaying the percentage
utilization. As it's a percentage unit, multiplying the expression
by 100 resulted in erroneous values as the true percentage was
being multipled by 100 again

Change-Id: Ie4e85f5547df4b1749280acd7ff858005b91eee9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/564824/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,c0292fdde0ad976cac4d3d34d203c01ddcf4ece1,fix_grafana_dashboards," - expr: ceph_pool_bytes_used{pool_id=~""$pool""} / ceph_pool_max_avail{pool_id=~""$pool""}"," - expr: (ceph_pool_bytes_used{pool_id=~""$pool""} / ceph_pool_max_avail{pool_id=~""$pool""}) * 100",1,1
openstack%2Fproject-config~master~I2b1363c5a1e049082892d2f5f775a8309a19a04a,openstack/project-config,master,I2b1363c5a1e049082892d2f5f775a8309a19a04a,Start running jobs on packethost again,MERGED,2018-08-02 16:54:11.000000000,2018-08-02 17:17:08.000000000,2018-08-02 17:17:08.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 16:54:11.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/71be0eab215d5d53241d181194d436d67493c32d', 'message': 'Start running jobs on packethost again\n\nLast time we learned things about networking and MTUs, this time we\nlearned things about disk and not running out of it. We now have many\nmore terabytes of disk space on our hypervisors so that we crash VMs\n(like our mirror) when they run out of disk.\n\nChange-Id: I2b1363c5a1e049082892d2f5f775a8309a19a04a\n'}]",0,588339,71be0eab215d5d53241d181194d436d67493c32d,8,4,1,4146,,,0,"Start running jobs on packethost again

Last time we learned things about networking and MTUs, this time we
learned things about disk and not running out of it. We now have many
more terabytes of disk space on our hypervisors so that we crash VMs
(like our mirror) when they run out of disk.

Change-Id: I2b1363c5a1e049082892d2f5f775a8309a19a04a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/588339/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,71be0eab215d5d53241d181194d436d67493c32d,packethost, max-servers: 10, max-servers: 0,1,1
openstack%2Ftripleo-quickstart-extras~master~I27d0350d71cd3319782337936992787329978ee4,openstack/tripleo-quickstart-extras,master,I27d0350d71cd3319782337936992787329978ee4,undercloud: configure insecure registry with undercloud.conf,ABANDONED,2018-07-16 16:49:54.000000000,2018-08-02 17:15:45.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-07-16 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1326d58ba375284272490238cbd8624e782c5d17', 'message': ""WIP - undercloud: configure insecure registry with undercloud.conf\n\nTODO: make it work for queens as well\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nDepends-On: I2f734f603dd29e8b46bc6cf0c7af7c92488f0818\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 2, 'created': '2018-07-16 18:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/41d082db6ab4b9bb551b5e851c7f2bde1be1b0b6', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nDepends-On: I2f734f603dd29e8b46bc6cf0c7af7c92488f0818\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 3, 'created': '2018-07-16 20:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4cc27a17a5622095e07f1bde11270afa32a82215', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nDepends-On: I2f734f603dd29e8b46bc6cf0c7af7c92488f0818\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 4, 'created': '2018-07-17 01:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cd9b0bda39a16933d5020e6cbbe2b03f8bc0d617', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nDepends-On: I2f734f603dd29e8b46bc6cf0c7af7c92488f0818\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 5, 'created': '2018-07-18 15:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e847c1275f1818b9502c48b4b6d6becf9118ad3d', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nDepends-On: I2f734f603dd29e8b46bc6cf0c7af7c92488f0818\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 6, 'created': '2018-07-23 12:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/93df6fc37b7e6328e095aa9e1be21dbf31143afd', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 7, 'created': '2018-07-23 12:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1731df59d2e0d79bb7616b1096a3709f9926731f', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}, {'number': 8, 'created': '2018-07-29 03:41:45.000000000', 'files': ['roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f01cd4535286f8b765b51be6469cdf46bf41f76', 'message': ""undercloud: configure insecure registry with undercloud.conf\n\n... and not with the workaround in overcloud-prep-containers.sh.\nWe have the interface to do it via undercloud.conf, let's use it.\n\nNote: it works fine with both tripleoclient for containerized undercloud\nand instack-undercloud for non-containerized undercloud.\n\nChange-Id: I27d0350d71cd3319782337936992787329978ee4\n""}]",1,582999,4f01cd4535286f8b765b51be6469cdf46bf41f76,33,6,8,3153,,,0,"undercloud: configure insecure registry with undercloud.conf

... and not with the workaround in overcloud-prep-containers.sh.
We have the interface to do it via undercloud.conf, let's use it.

Note: it works fine with both tripleoclient for containerized undercloud
and instack-undercloud for non-containerized undercloud.

Change-Id: I27d0350d71cd3319782337936992787329978ee4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/99/582999/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2']",2,1326d58ba375284272490238cbd8624e782c5d17,insecure,"{% if additional_insecure_registry|bool and release in ['ocata', 'pike', 'queens'] %}",{% if additional_insecure_registry|bool %},4,1
openstack%2Fkayobe~master~I2073a7f2b76c0cc064376564e7e47a5fd8530468,openstack/kayobe,master,I2073a7f2b76c0cc064376564e7e47a5fd8530468,Add support for Dell PowerConnect switches in NGS,MERGED,2018-06-07 18:15:17.000000000,2018-08-02 17:03:13.000000000,2018-08-02 17:03:13.000000000,"[{'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-06-07 18:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/924e1d10579f21aa82d2ef1081465f7d083012ed', 'message': 'Add support for Dell PowerConnect switches in NGS\n\nThis depends on the support for Dell PowerConnect switches in\nnetworking-generic-switch [1].\n\n[1] https://review.openstack.org/573380\n\nChange-Id: I2073a7f2b76c0cc064376564e7e47a5fd8530468\nStory: 2002106\nTask: 20051\n'}, {'number': 2, 'created': '2018-06-22 14:12:38.000000000', 'files': ['ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f27461a9c2ee51be6c0cfa3744f1f3472b29f28b', 'message': 'Add support for Dell PowerConnect switches in NGS\n\nThis depends on the support for Dell PowerConnect switches in\nnetworking-generic-switch [1].\n\n[1] https://review.openstack.org/573380\n\nChange-Id: I2073a7f2b76c0cc064376564e7e47a5fd8530468\nStory: 2002106\nTask: 20051\n'}]",0,573396,f27461a9c2ee51be6c0cfa3744f1f3472b29f28b,9,3,2,14826,,,0,"Add support for Dell PowerConnect switches in NGS

This depends on the support for Dell PowerConnect switches in
networking-generic-switch [1].

[1] https://review.openstack.org/573380

Change-Id: I2073a7f2b76c0cc064376564e7e47a5fd8530468
Story: 2002106
Task: 20051
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/573396/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-openstack.yml'],1,924e1d10579f21aa82d2ef1081465f7d083012ed,, dell-powerconnect: netmiko_dell_powerconnect,,1,0
openstack%2Fkayobe~master~I86f654c95be05e3a82d6015e4c89093127553408,openstack/kayobe,master,I86f654c95be05e3a82d6015e4c89093127553408,Add support for Mellanox switches running MLNX-OS,MERGED,2018-06-25 15:25:48.000000000,2018-08-02 17:03:11.000000000,2018-08-02 17:03:11.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-06-25 15:25:48.000000000', 'files': ['ansible/physical-network.yml', 'ansible/group_vars/switches/mellanox', 'requirements.yml', 'releasenotes/notes/mellanox-switch-cb82a8c278f5e652.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/abded1e472ed1e6dbb4b77c776eb6c822d34a8a3', 'message': 'Add support for Mellanox switches running MLNX-OS\n\nMellanox switches running MLNX-OS cannot be managed using the Ansible onyx*\nmodules, as the OS is too old. This change uses the stackhpc.mellanox-switch\nAnsible role to configure these devices using the Ansible expect module.\n\nChange-Id: I86f654c95be05e3a82d6015e4c89093127553408\nStory: 2002687\nTask: 22512\n'}]",0,577849,abded1e472ed1e6dbb4b77c776eb6c822d34a8a3,12,4,1,14826,,,0,"Add support for Mellanox switches running MLNX-OS

Mellanox switches running MLNX-OS cannot be managed using the Ansible onyx*
modules, as the OS is too old. This change uses the stackhpc.mellanox-switch
Ansible role to configure these devices using the Ansible expect module.

Change-Id: I86f654c95be05e3a82d6015e4c89093127553408
Story: 2002687
Task: 22512
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/49/577849/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/switches/mellanox', 'ansible/physical-network.yml', 'requirements.yml', 'releasenotes/notes/mellanox-switch-cb82a8c278f5e652.yaml']",4,abded1e472ed1e6dbb4b77c776eb6c822d34a8a3,,--- features: - | Adds support for configuration of Mellanox switches running MLNX-OS. This is integrated with the `kayobe physical network configure` command. ,,30,0
openstack%2Fkayobe~master~I042ad8d115cdc0dd57a116e1be9d397ef4d216ae,openstack/kayobe,master,I042ad8d115cdc0dd57a116e1be9d397ef4d216ae,Fix handling of switch_type variable in Ansible 2.5,MERGED,2018-07-09 14:31:12.000000000,2018-08-02 17:03:09.000000000,2018-08-02 17:03:09.000000000,"[{'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-09 14:31:12.000000000', 'files': ['ansible/physical-network.yml', 'ansible/group_vars/switches/type'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c175b078e551294f7a9d098bb5460066e89cf4a4', 'message': ""Fix handling of switch_type variable in Ansible 2.5\n\nIn Ansible, playbook group variables take precedence over inventory\ngroup variables. Typically in a kayobe-config we might specify the\nswitch_type variable for a group containing switches using inventory\ngroup_vars. This seemed to work in Ansible 2.3, but since Ansible 2.4\nthe default value of None in kayobe's playbook group_vars takes\nprecedence. This behaviour is as documented, not sure why it worked\npreviously.\n\nThis change removes the default value of None set in the playbook\ngroup_vars.\n\nChange-Id: I042ad8d115cdc0dd57a116e1be9d397ef4d216ae\nStory: 2002903\nTask: 22870\n""}]",0,581048,c175b078e551294f7a9d098bb5460066e89cf4a4,7,3,1,14826,,,0,"Fix handling of switch_type variable in Ansible 2.5

In Ansible, playbook group variables take precedence over inventory
group variables. Typically in a kayobe-config we might specify the
switch_type variable for a group containing switches using inventory
group_vars. This seemed to work in Ansible 2.3, but since Ansible 2.4
the default value of None in kayobe's playbook group_vars takes
precedence. This behaviour is as documented, not sure why it worked
previously.

This change removes the default value of None set in the playbook
group_vars.

Change-Id: I042ad8d115cdc0dd57a116e1be9d397ef4d216ae
Story: 2002903
Task: 22870
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/581048/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/physical-network.yml', 'ansible/group_vars/switches/type']",2,c175b078e551294f7a9d098bb5460066e89cf4a4,story/2002903,,"--- ############################################################################### # Switch type configuration. # This configures the type of switch, which is used to determine how the switch # will be configured. switch_type: ",14,7
openstack%2Fopenstack-helm-infra~master~Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e,openstack/openstack-helm-infra,master,Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e,Add endpoint scheme lookup function,ABANDONED,2018-08-02 16:32:06.000000000,2018-08-02 17:02:08.000000000,,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-02 16:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3639e02d9690b431ec729b0cd99ee0bea65c8e54', 'message': 'Add endpoint scheme lookup function\n\nThis patch set adds gotpl function to lookup the scheme for an endpoint,\nsimilar to the parallel functions to look up the port and host.  The\nneed for this function is to account for how some httpProbes in the\nreadiness checks hard code in the scheme of ""HTTP"" (see [0]).  This\nwill cause problem should the deployer switches this to HTTPS.\nThis adds in the flexibility to correctly switch to the correct\nprotocol.\n\n[0] https://github.com/openstack/openstack-helm-infra/blob/bae870c4e060fd765debf4cd14528d50fa931a85/kube-dns/templates/deployment-kube-dns.yaml#L89\n\nChange-Id: Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-08-02 16:34:16.000000000', 'files': ['helm-toolkit/templates/endpoints/_endpoint_scheme_lookup.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe97d8379e846d0999611300bf564be22f82bc5e', 'message': 'Add endpoint scheme lookup function\n\nThis patch set adds gotpl function to lookup the scheme for an endpoint,\nsimilar to the parallel functions to look up the port and host.  The\nneed for this function is to account for how some httpProbes in the\nreadiness checks hard code in the scheme of ""HTTP"" (see [0]).  This\nwill cause problem should the deployer switches this to HTTPS.\nThis adds in the flexibility to correctly switch to the correct\nprotocol.\n\n[0] https://github.com/openstack/openstack-helm-infra/blob/bae870c4e060fd765debf4cd14528d50fa931a85/kube-dns/templates/deployment-kube-dns.yaml#L89\n\nChange-Id: Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,588333,fe97d8379e846d0999611300bf564be22f82bc5e,5,4,2,20466,,,0,"Add endpoint scheme lookup function

This patch set adds gotpl function to lookup the scheme for an endpoint,
similar to the parallel functions to look up the port and host.  The
need for this function is to account for how some httpProbes in the
readiness checks hard code in the scheme of ""HTTP"" (see [0]).  This
will cause problem should the deployer switches this to HTTPS.
This adds in the flexibility to correctly switch to the correct
protocol.

[0] https://github.com/openstack/openstack-helm-infra/blob/bae870c4e060fd765debf4cd14528d50fa931a85/kube-dns/templates/deployment-kube-dns.yaml#L89

Change-Id: Ib681aa8ce1a351102f0bdebdda40d5c3ca69206e
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/588333/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/endpoints/_endpoint_scheme_lookup.tpl'],1,3639e02d9690b431ec729b0cd99ee0bea65c8e54,add-scheme-lookup,"{{/* Copyright 2017-2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | Resolves the port for an endpoint values: | endpoints: cluster_domain_suffix: cluster.local oslo_db: port: mysql: default: 3306 scheme: mysql+pymysql usage: | {{ tuple ""oslo_db"" ""internal"" . | include ""helm-toolkit.endpoints.endpoint_scheme_lookup"" }} return: | mysql+pymysql */}} {{- define ""helm-toolkit.endpoints.endpoint_scheme_lookup"" -}} {{- $type := index . 0 -}} {{- $endpoint := index . 1 -}} {{- $context := index . 2 -}} {{- $endpointMap := index $context.Values.endpoints ( $type | replace ""-"" ""_"" ) }} {{/* NOTE(lamt): Some of this is a string instead of [map], we need to special case this. */}} {{- if kindIs ""string"" $endpointMap.scheme }} {{- printf ""%s"" $endpointMap.scheme -}} {{- else }} {{- $endpointScheme := index $endpointMap.scheme $endpoint | default ( index $endpointMap.scheme ""default"" ) }} {{- printf ""%s"" $endpointScheme -}} {{- end }} {{- end -}} ",,46,0
openstack%2Fkolla-ansible~master~I33d7f2c7b5597a541a0d104c76520ac4a1cd5026,openstack/kolla-ansible,master,I33d7f2c7b5597a541a0d104c76520ac4a1cd5026,Extract cinder_iscsi_helper default from role,MERGED,2018-08-02 14:32:56.000000000,2018-08-02 16:57:45.000000000,2018-08-02 16:57:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-08-02 14:32:56.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33598f58217cf0446939208abdfba53c9e9e2105', 'message': 'Extract cinder_iscsi_helper default from role\n\nThe variable `cinder_iscsi_helper` is used not only in the `cinder` role,\nbut also in the `iscsi` role. It needs to have a default accessible for\nboth roles.\n\nChange-Id: I33d7f2c7b5597a541a0d104c76520ac4a1cd5026\nCloses-Bug: #1785066\n'}]",0,588296,33598f58217cf0446939208abdfba53c9e9e2105,7,3,1,20369,,,0,"Extract cinder_iscsi_helper default from role

The variable `cinder_iscsi_helper` is used not only in the `cinder` role,
but also in the `iscsi` role. It needs to have a default accessible for
both roles.

Change-Id: I33d7f2c7b5597a541a0d104c76520ac4a1cd5026
Closes-Bug: #1785066
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/588296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/group_vars/all.yml']",2,33598f58217cf0446939208abdfba53c9e9e2105,bug/1785066,"cinder_iscsi_helper: ""tgtadm""",,1,1
openstack%2Fnova~master~I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9,openstack/nova,master,I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9,Annotate flows and handle PortBindingDeletionFailed in ComputeManager,MERGED,2018-03-09 21:20:50.000000000,2018-08-02 16:50:21.000000000,2018-07-26 07:53:02.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-03-09 21:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3215062693ebadcad8e8f1cbb635832796a985d3', 'message': 'WIP: Use neutron port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 2, 'created': '2018-03-09 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a52b9a22c7ef31e4c65e661349ab14ea30a5e2ee', 'message': 'WIP: Use neutron port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 3, 'created': '2018-03-12 22:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31bd5293f2b1720ac3fe72f2c5e02e90d1f1368d', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 4, 'created': '2018-03-13 21:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64a413f27c152067dc48fe45a19ce5945de33f47', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 5, 'created': '2018-03-16 22:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3086e6edee3ebb7d17069014b79a9a95c191ce1', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 6, 'created': '2018-03-19 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80e4885d1a1748a788ef2b4d94c86781d4836dc4', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 7, 'created': '2018-03-19 22:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74f846f67b12430abe56e8e6cf37296edc810b32', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 8, 'created': '2018-03-23 22:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c365f0835136344e76059a58f0b323782acd775', 'message': 'compute: use port binding extended API during live migration\n\nThis is just stubs for now. Eventually conductor turns this all on.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 9, 'created': '2018-03-26 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b69056a34067a4d0d12ccf56280c441cdd265fb3', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 10, 'created': '2018-03-26 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7762e20bb654f12d97e04eaafe692f9b4976b15a', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 11, 'created': '2018-03-30 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2a6077a9151c322abf62fddcbe4a05574598eb9', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 12, 'created': '2018-03-30 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d5bbb332b7ef58f6692d375de87034bf85292e', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 13, 'created': '2018-03-31 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42c536f7bd8f9fe8e89ea840e8c5664da25682f3', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 14, 'created': '2018-03-31 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/857101ab61db15ad327618bfb3a4a83eb6593e22', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 15, 'created': '2018-04-04 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/870eef80843a0ed2037ac7f5d5f48d5cc6f2036b', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 16, 'created': '2018-04-04 22:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14494bb96126d2eaecad71566e067f72e7cd0642', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 17, 'created': '2018-04-05 20:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6adcfc7afee712487bc8ffab87c2a2837e20641b', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 18, 'created': '2018-04-12 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a05733f3890909a58ede4851145192b7f05b7b51', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 19, 'created': '2018-04-24 21:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36df7c5509484651ebff20bb936638128958cca5', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 20, 'created': '2018-04-25 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5d6521ecfea30d5df9e14407d4cdc495ea65eec', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 21, 'created': '2018-04-25 22:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f2eea49f35561d02e8fece863e4f2b9bd03d985', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 22, 'created': '2018-04-26 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24ac8d2c70e73a4000a1724d7409b2c28b7d8d37', 'message': 'WIP: compute: use port binding extended API during live migration\n\nThis is all plumbing right now. Eventually conductor turns\nthis all on when it creates the destination host port bindings\nbefore casting to the source compute to start the live migration.\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 23, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa5b0c50ff5b6317111fde5ff9012b9095b4471b', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 24, 'created': '2018-05-08 16:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2ee709a257fb02b5a9261bdb9aed043385fe1fe', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 25, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cbf64c25271655c4a380652ec5027b45d54038c', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 26, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2b2fcf1b19f9e8694e7a307ae61d24df54187b2', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 27, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/607a78c23cd9a98b2ac8cc6bd7bcc51a475e4e53', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 28, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/971b5059f1158375a78dd9c9b610bb7bac7275de', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 29, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ede67036c9bd72cf08777eb8ea48e54a08eab9dc', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 30, 'created': '2018-06-29 15:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/204b8f3d67580be00175c2a6b163648ff8f795ad', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 31, 'created': '2018-07-03 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d73c9de8118e49cf0589aee59b35e6d5df2084fa', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}, {'number': 32, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e53f46672e0fba2c72c972f3f031281a863d7765', 'message': 'Annotate flows and handle PortBindingDeletionFailed in ComputeManager\n\nThis change adds comments to the live migration methods about\nsome of the network API calls since it can get very confusing\ntrying to trace what is happening with networking during\nlive migration since the network API has several similar\nsounding methods.\n\nThis also handles PortBindingDeletionFailed which can be raised\nfrom the neutronv2 API implementation of setup_networks_on_host\nwhen teardown=True. There are three cases that can hit this:\n\n1. post live migration at the destination cleaning up the source\n   host port bindings\n2. rollback live migration at the source cleaning up the\n   destination host port bindings\n3. rollback live migration at the destination cleaning up the\n   destination host port bindings\n\nDepends-On: https://review.openstack.org/558990/\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n'}]",31,551371,e53f46672e0fba2c72c972f3f031281a863d7765,382,20,32,6873,,,0,"Annotate flows and handle PortBindingDeletionFailed in ComputeManager

This change adds comments to the live migration methods about
some of the network API calls since it can get very confusing
trying to trace what is happening with networking during
live migration since the network API has several similar
sounding methods.

This also handles PortBindingDeletionFailed which can be raised
from the neutronv2 API implementation of setup_networks_on_host
when teardown=True. There are three cases that can hit this:

1. post live migration at the destination cleaning up the source
   host port bindings
2. rollback live migration at the source cleaning up the
   destination host port bindings
3. rollback live migration at the destination cleaning up the
   destination host port bindings

Depends-On: https://review.openstack.org/558990/

Co-Authored-By: Sean Mooney <sean.k.mooney@intel.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/551371/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/compute/manager.py']",2,3215062693ebadcad8e8f1cbb635832796a985d3,bp/neutron-new-port-binding-api," if 'vifs' in migrate_data and migrate_data.vifs: # plug vifs using new bindings (this needs to happen in each # virt driver...) # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/ # queens/approved/neutron-new-port-binding-api.rst#n186 # TODO(sean-k-mooney): implement self.vif_to_network_info function # for vif in migrate_data['vifs']: # net_info = self.vif_to_network_info(vif) # self.driver.plug(inspect,net_info) LOG.info('We got new-style vif bindings, plug them in the ' 'driver: %s', migrate_data.vifs, instance=instance) pass # TODO(mriedem): Start waiting for network-vif-plugged events # from neutron since pre_live_migration plugs vifs on the # destination host, and we don't want to start the actual # live migration in the hypervisor until that plugging is done. # Remember that we're on the source host and that's where the # API is going to route the external server event. # TODO(mriedem): Should we implement this for the neutron API to # delete the port binding for the source host? It would be oddly named. # TODO(sean-k-mooney) delete source node port binding here # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/ # queens/approved/neutron-new-port-binding-api.rst#n217 # https://specs.openstack.org/openstack/neutron-specs/specs/pike/ # portbinding_information_for_nova.html#delete-binding # TODO(sean-k-mooney): delete destination port bindings if we created # them. # https://git.openstack.org/cgit/openstack/nova-specs/tree/specs/ # queens/approved/neutron-new-port-binding-api.rst#n230",,34,1
openstack%2Fnetworking-odl~master~I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a,openstack/networking-odl,master,I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a,Assure that PeriodicTask passes context as args,MERGED,2018-07-15 11:32:01.000000000,2018-08-02 16:50:03.000000000,2018-08-02 16:50:03.000000000,"[{'_account_id': 7921}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-15 11:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/447479fece866b5d2a354a5cc7cc569052cfc112', 'message': 'Assure that PeriodicTask passes context as args\n\nEnginefacade expects that the first argument of functions are either\nself, cls or the context. At the same time, PeriodicTask was sending\ncontext as a kwargs called context. Because the introspection that\nenginefacade does only happens on args this was causing an error with\nPeriodicTask.\n\nThis patch modifies the behavior of PeriodicTask so it only sends the\ncontext as enginefacade expects it -an args.\n\nChange-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a\nCloses-Bug: 1781787\n'}, {'number': 2, 'created': '2018-07-15 11:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1b8d70c1cff6381161ff7cf4a45b734b38720405', 'message': 'Assure that PeriodicTask passes context as args\n\nEnginefacade expects that the first argument of functions are either\nself, cls or the context. At the same time, PeriodicTask was sending\ncontext as a kwargs called context. Because the introspection that\nenginefacade does only happens on args this was causing an error with\nPeriodicTask.\n\nThis patch modifies the behavior of PeriodicTask so it only sends the\ncontext as enginefacade expects it -an args.\n\nChange-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a\nCloses-Bug: #1781787\n'}, {'number': 3, 'created': '2018-07-16 10:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f3135cbb3f4b52ca1e1cc29f65f6837baaf5ee9a', 'message': 'Assure that PeriodicTask passes context as args\n\nEnginefacade expects that the first argument of functions are either\nself, cls or the context. At the same time, PeriodicTask was sending\ncontext as a kwargs called context. Because the introspection that\nenginefacade does only happens on args this was causing an error with\nPeriodicTask.\n\nThis patch modifies the behavior of PeriodicTask so it only sends the\ncontext as enginefacade expects it -an args.\n\nChange-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a\nCloses-Bug: #1781787\n'}, {'number': 4, 'created': '2018-07-23 10:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/68436c975b98bc34ca799305dd1bf68450fcaa1a', 'message': 'Assure that PeriodicTask passes context as args\n\nEnginefacade expects that the first argument of functions are either\nself, cls or the context. At the same time, PeriodicTask was sending\ncontext as a kwargs called context. Because the introspection that\nenginefacade does only happens on args this was causing an error with\nPeriodicTask.\n\nThis patch modifies the behavior of PeriodicTask so it only sends the\ncontext as enginefacade expects it -an args.\n\nChange-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a\nCloses-Bug: #1781787\n'}, {'number': 5, 'created': '2018-07-25 10:32:42.000000000', 'files': ['networking_odl/tests/unit/journal/test_periodic_task.py', 'networking_odl/journal/periodic_task.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/752f9d650ac48a8c7f2ddbc732ae4341459cf4f1', 'message': 'Assure that PeriodicTask passes context as args\n\nEnginefacade expects that the first argument of functions are either\nself, cls or the context. At the same time, PeriodicTask was sending\ncontext as a kwargs called context. Because the introspection that\nenginefacade does only happens on args this was causing an error with\nPeriodicTask.\n\nThis patch modifies the behavior of PeriodicTask so it only sends the\ncontext as enginefacade expects it -an args.\n\nChange-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a\nCloses-Bug: #1781787\n'}]",0,582762,752f9d650ac48a8c7f2ddbc732ae4341459cf4f1,17,4,5,26507,,,0,"Assure that PeriodicTask passes context as args

Enginefacade expects that the first argument of functions are either
self, cls or the context. At the same time, PeriodicTask was sending
context as a kwargs called context. Because the introspection that
enginefacade does only happens on args this was causing an error with
PeriodicTask.

This patch modifies the behavior of PeriodicTask so it only sends the
context as enginefacade expects it -an args.

Change-Id: I7edb4c3284a358fba80e4fe68a0cd0f08f809b1a
Closes-Bug: #1781787
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/62/582762/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/journal/test_periodic_task.py', 'networking_odl/journal/periodic_task.py']",2,447479fece866b5d2a354a5cc7cc569052cfc112,bug/1781787, operation(context), operation(context=context),20,1
openstack%2Fnetworking-odl~master~I73f39190cac5f17412ff272a1bdfecfa7d7c3f68,openstack/networking-odl,master,I73f39190cac5f17412ff272a1bdfecfa7d7c3f68,Consume DB retry decorator from neutron-lib,MERGED,2018-07-23 10:41:31.000000000,2018-08-02 16:50:02.000000000,2018-08-02 16:50:02.000000000,"[{'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-23 10:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/58b0752e6761baf61dd3faec9c4029157b6f1edf', 'message': 'Consume DB retry decorator from neutron-lib\n\nIn a process of moving common things out of neutron and into neutron-lib\nthere are patches being issued to gradually move them. The last patch\nthat dealt with retry decorators [1] was incomplete, but somehow the\ngate succeeded and it still succeeds, although it fails locally.\n\nThis patch fixes this problem by consuming the retry decorator from\nneutron-lib as it was originally intended. In addition, it bumps the\nrequirements to the version required for this to work.\n\n[1]: https://review.openstack.org/570028\n\nChange-Id: I73f39190cac5f17412ff272a1bdfecfa7d7c3f68\n'}, {'number': 2, 'created': '2018-07-25 10:32:22.000000000', 'files': ['networking_odl/journal/cleanup.py', 'requirements.txt', 'networking_odl/journal/journal.py', 'networking_odl/journal/recovery.py', 'networking_odl/db/db.py', 'networking_odl/tests/unit/db/test_db.py', 'networking_odl/journal/periodic_task.py', 'lower-constraints.txt', 'networking_odl/journal/full_sync.py', 'networking_odl/l3/l3_odl_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bb5b92c9d3f18ef238c136e2eb47180c154b9dd3', 'message': 'Consume DB retry decorator from neutron-lib\n\nIn a process of moving common things out of neutron and into neutron-lib\nthere are patches being issued to gradually move them. The last patch\nthat dealt with retry decorators [1] was incomplete, but somehow the\ngate succeeded and it still succeeds, although it fails locally.\n\nThis patch fixes this problem by consuming the retry decorator from\nneutron-lib as it was originally intended. In addition, it bumps the\nrequirements to the version required for this to work.\n\n[1]: https://review.openstack.org/570028\n\nChange-Id: I73f39190cac5f17412ff272a1bdfecfa7d7c3f68\n'}]",0,584791,bb5b92c9d3f18ef238c136e2eb47180c154b9dd3,9,2,2,26507,,,0,"Consume DB retry decorator from neutron-lib

In a process of moving common things out of neutron and into neutron-lib
there are patches being issued to gradually move them. The last patch
that dealt with retry decorators [1] was incomplete, but somehow the
gate succeeded and it still succeeds, although it fails locally.

This patch fixes this problem by consuming the retry decorator from
neutron-lib as it was originally intended. In addition, it bumps the
requirements to the version required for this to work.

[1]: https://review.openstack.org/570028

Change-Id: I73f39190cac5f17412ff272a1bdfecfa7d7c3f68
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/91/584791/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/journal/cleanup.py', 'requirements.txt', 'networking_odl/journal/journal.py', 'networking_odl/journal/recovery.py', 'networking_odl/db/db.py', 'networking_odl/tests/unit/db/test_db.py', 'networking_odl/journal/periodic_task.py', 'lower-constraints.txt', 'networking_odl/journal/full_sync.py', 'networking_odl/l3/l3_odl_v2.py']",10,58b0752e6761baf61dd3faec9c4029157b6f1edf,fix/master,from neutron_lib import constants as q_const from neutron_lib.db import api as lib_db_api from neutron_lib.plugins import constants as plugin_constants from oslo_log import log as logging @lib_db_api.retry_if_session_inactive(),from neutron_lib import constants as q_const from neutron_lib.plugins import constants as plugin_constants from oslo_log import log as logging @db_api.retry_if_session_inactive(),37,36
openstack%2Fnova~master~I91627412744dad65122240f0aeb7a57ee85ba313,openstack/nova,master,I91627412744dad65122240f0aeb7a57ee85ba313,libvirt: use dest host vif migrate details for live migration,MERGED,2018-03-09 21:20:50.000000000,2018-08-02 16:49:36.000000000,2018-07-25 01:27:33.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-03-09 21:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f78f3208bb944a0e45d91e22150be7dbc66de89d', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 2, 'created': '2018-03-09 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87641633e379c0277d55a17b01b932462b5fa413', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 3, 'created': '2018-03-12 22:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/499db0ac9ab1a4ce23375aa426884568826638f7', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 4, 'created': '2018-03-13 21:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f8c7de9689fd9d996799774075adcad0277041a', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 5, 'created': '2018-03-16 22:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d41f77b388b440c1e1e972338228fb8a03c7038', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 6, 'created': '2018-03-19 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2b5f1c082f47c4edb1d1cd1ebd22b76881b116', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 7, 'created': '2018-03-19 22:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb0d24c92bd7414556d62d934abb5f6b116b787', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 8, 'created': '2018-03-23 22:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d76fccc6dc27ff34798ff88e98269895de7dd290', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 9, 'created': '2018-03-26 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ed155fed44ce75419fac524fe1033aada4d483f', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 10, 'created': '2018-03-26 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9750165e9cdbaa5c44280e5fd8d2f08a060a5bf8', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 11, 'created': '2018-03-30 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62f0189b85fa495bb7fd5f9cf43bc80d6cc87067', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 12, 'created': '2018-03-30 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/687dc85bb33c155112c4a9bbf8f83806875b9880', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 13, 'created': '2018-03-31 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2348f82087ced8aa83c4ddec13a3cf6641ea9d4', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 14, 'created': '2018-04-04 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69158b4dbcf865c56d1ec5026e65482e0442974c', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 15, 'created': '2018-04-05 20:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2730c1c2eff883212611318fdbfe9a6249e5df6e', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 16, 'created': '2018-04-12 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fa431e73ac87e301acb88321998e1434873fe5e', 'message': 'WIP: libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 17, 'created': '2018-04-24 21:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6d71485e2bbb96bf72bc57f8ecfc0b6f9334026', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 18, 'created': '2018-04-25 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55dc68d8bf3511531475f35fbcd53e6c4b35b47a', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 19, 'created': '2018-04-25 22:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b75df352ebecef1e020b9a59f9615cb4e5afd148', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 20, 'created': '2018-04-26 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf19c4a5fc74f62c7bf6ef0505595ecd00515467', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 21, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8302387394d9438b768b44d26a22300796a145', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 22, 'created': '2018-05-08 16:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aab304296071eb864edb1c37e764770b69df5cab', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 23, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f670319a17cd7a0cbc930fb6a7264929e0b295f8', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 24, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c058d79d6d7095ebb1df94ce648ea06d1d559ef7', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 25, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/284322706b41f2d49203c31ccea05f4212ea4ea2', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 26, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f965d6f34e3c282a42cf5d4927d4623820401d9e', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 27, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93a89dd4c7e4e8219381f8df4d3d0b573cd5449d', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto update the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 28, 'created': '2018-06-29 15:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bffe00b7722aad2e9a482a1991f5c9f29fb68b50', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto overwrite the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 29, 'created': '2018-07-03 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b3b6c057918383432718843f420881af3594adc', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto overwrite the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}, {'number': 30, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b52cde565d542c03f004b48ee9c1a6a25f5b7cd', 'message': 'libvirt: use dest host vif migrate details for live migration\n\nThis takes the vif details from the destination host and uses them\nto overwrite the guest xml on the source host prior to starting the\nlive migration. This allows live migrating between different vif\ntypes on different compute hosts.\n\nCo-Authored-By: Sean Mooney <sean.k.mooney@intel.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I91627412744dad65122240f0aeb7a57ee85ba313\n'}]",43,551370,2b52cde565d542c03f004b48ee9c1a6a25f5b7cd,363,20,30,6873,,,0,"libvirt: use dest host vif migrate details for live migration

This takes the vif details from the destination host and uses them
to overwrite the guest xml on the source host prior to starting the
live migration. This allows live migrating between different vif
types on different compute hosts.

Co-Authored-By: Sean Mooney <sean.k.mooney@intel.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I91627412744dad65122240f0aeb7a57ee85ba313
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/551370/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",3,f78f3208bb944a0e45d91e22150be7dbc66de89d,bp/neutron-new-port-binding-api,# VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY was added in libvirt 1.3.3 VIR_DOMAIN_EVENT_SUSPENDED_POSTCOPY = 7 # suspended for post-copy migration ,,44,0
openstack%2Fnova~master~Ia803978401a0a9e8e28af006ffda1f4897ecd9f0,openstack/nova,master,Ia803978401a0a9e8e28af006ffda1f4897ecd9f0,libvirt: use dest host port bindings during pre_live_migration,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:49:14.000000000,2018-07-24 03:21:44.000000000,"[{'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/371e10775e8fe2318230696a10c7a1ef27012f5d', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 2, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/710c1bfa77251e26f47ebc75a3170b172e7af683', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 3, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff2b25aba57ade45f7dcc6e158ed78cef6d06225', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 4, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b41ba98726d4dd5e187e438ef161a237c8e34d78', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 5, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4f402ab03af6fd8346a5c3c65c075eb9ba50b49', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 6, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a937a63dff71d0c22bc47bf792c28353649245ed', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}, {'number': 7, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a81811e1118e61ef3f8bcb96200f9cbbebe8a6bd', 'message': 'libvirt: use dest host port bindings during pre_live_migration\n\nThis uses the destination host port binding information to plug\nvifs on the destination host during pre_live_migration.\n\nThis gets ""turned on"" later in the series when conductor sets the\nmigrate_data.vifs field.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0\n'}]",7,566933,a81811e1118e61ef3f8bcb96200f9cbbebe8a6bd,92,18,7,6873,,,0,"libvirt: use dest host port bindings during pre_live_migration

This uses the destination host port binding information to plug
vifs on the destination host during pre_live_migration.

This gets ""turned on"" later in the series when conductor sets the
migrate_data.vifs field.

Part of blueprint neutron-new-port-binding-api

Change-Id: Ia803978401a0a9e8e28af006ffda1f4897ecd9f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/566933/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,371e10775e8fe2318230696a10c7a1ef27012f5d,bp/neutron-new-port-binding-api," def test_pre_live_migration_plug_vifs_with_dest_port_bindings(self): """"""Tests that we use the LibvirtLiveMigrateData.vifs destination host port binding details when plugging VIFs during pre_live_migration. """""" source_vif = network_model.VIF( id=uuids.port_id, type=network_model.VIF_TYPE_OVS, vnic_type=network_model.VNIC_TYPE_NORMAL, details={'foo': 'bar'}, profile={'binding:host_id': 'fake-source-host'}) migrate_vifs = [objects.VIFMigrateData( port_id=uuids.port_id, vnic_type=network_model.VNIC_TYPE_NORMAL, vif_type=network_model.VIF_TYPE_OVS, vif_details={'bar': 'baz'}, profile={'binding:host_id': 'fake-dest-host'}, host='fake-dest-host', source_vif=source_vif)] migrate_data = migrate_data_obj.LibvirtLiveMigrateData( vifs=migrate_vifs) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance() network_info = mock.NonCallableMock() with mock.patch.object(drvr, 'plug_vifs') as plug_vifs: drvr._pre_live_migration_plug_vifs( instance, network_info, migrate_data) expected_network_info = network_model.NetworkInfo([ migrate_vifs[0].get_dest_vif()]) plug_vifs.assert_called_once_with(instance, expected_network_info) ",,41,4
openstack%2Fnova~master~Iad4edecee9866d4eadd9da2d81b6fba214578c91,openstack/nova,master,Iad4edecee9866d4eadd9da2d81b6fba214578c91,libvirt: factor out pre_live_migration plug_vifs call,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:42:32.000000000,2018-07-24 03:21:39.000000000,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26311}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/532b6e9e53f1ca8d6a002bddef1b70148ec3cc44', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 2, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/987f6128de3250c204c36a90d5c167a1f45f4716', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 3, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eeeba24c10afb16089b5f375a58164641d1990f', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 4, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ca93be344e734009f0aa670014026bc154299eb', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 5, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1712e5938084c36f82baa99c16969956c2a23500', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 6, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b8d542549e51511b039c5c325f9ace18b005b8', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}, {'number': 7, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b554ed90dec0a662b8caa74e5f3073cf0e0631b', 'message': ""libvirt: factor out pre_live_migration plug_vifs call\n\nThe pre_live_migration() method is already large so this\nfactors out the plug_vifs() call into a separate method\nsince we're going to build on it in an upcoming patch.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91\n""}]",5,566932,5b554ed90dec0a662b8caa74e5f3073cf0e0631b,102,22,7,6873,,,0,"libvirt: factor out pre_live_migration plug_vifs call

The pre_live_migration() method is already large so this
factors out the plug_vifs() call into a separate method
since we're going to build on it in an upcoming patch.

Part of blueprint neutron-new-port-binding-api

Change-Id: Iad4edecee9866d4eadd9da2d81b6fba214578c91
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/566932/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,532b6e9e53f1ca8d6a002bddef1b70148ec3cc44,bp/neutron-new-port-binding-api," def _pre_live_migration_plug_vifs(self, instance, network_info): # We call plug_vifs before the compute manager calls # ensure_filtering_rules_for_instance, to ensure bridge is set up # Retry operation is necessary because continuously request comes, # concurrent request occurs to iptables, then it complains. LOG.debug('Plugging VIFs before live migration.', instance=instance) max_retry = CONF.live_migration_retry_count for cnt in range(max_retry): try: self.plug_vifs(instance, network_info) break except processutils.ProcessExecutionError: if cnt == max_retry - 1: raise else: LOG.warning('plug_vifs() failed %(cnt)d. Retry up to ' '%(max_retry)d.', {'cnt': cnt, 'max_retry': max_retry}, instance=instance) greenthread.sleep(1) self._pre_live_migration_plug_vifs(instance, network_info)"," # We call plug_vifs before the compute manager calls # ensure_filtering_rules_for_instance, to ensure bridge is set up # Retry operation is necessary because continuously request comes, # concurrent request occurs to iptables, then it complains. LOG.debug('Plugging VIFs before live migration.', instance=instance) max_retry = CONF.live_migration_retry_count for cnt in range(max_retry): try: self.plug_vifs(instance, network_info) break except processutils.ProcessExecutionError: if cnt == max_retry - 1: raise else: LOG.warning('plug_vifs() failed %(cnt)d. Retry up to ' '%(max_retry)d.', {'cnt': cnt, 'max_retry': max_retry}, instance=instance) greenthread.sleep(1)",22,19
openstack%2Fopenstack-helm~master~I3df7e7de583a75234a6bc4a71a32bd0a8d369332,openstack/openstack-helm,master,I3df7e7de583a75234a6bc4a71a32bd0a8d369332,Nova: move rootwrap config to be values.yaml driven,MERGED,2018-08-01 18:50:37.000000000,2018-08-02 16:34:53.000000000,2018-08-02 16:34:44.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2018-08-01 18:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f3612686a9298eab37ec2c9b5fe72deee0059771', 'message': 'Nova: move rootwrap config to be values.yaml driven\n\nThis PS updates the nova rootwrap config to be values.yaml driven,\ninline with neutron and cinder.\n\nChange-Id: I3df7e7de583a75234a6bc4a71a32bd0a8d369332\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-08-01 22:08:20.000000000', 'files': ['nova/templates/etc/rootwrap.d/_compute.filters.tpl', 'nova/templates/etc/rootwrap.d/_network.filters.tpl', 'nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/etc/_rootwrap.conf.tpl', 'nova/templates/etc/rootwrap.d/_api-metadata.filters.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/758067bded8de13efa3b1487b710f6eaf92b1474', 'message': 'Nova: move rootwrap config to be values.yaml driven\n\nThis PS updates the nova rootwrap config to be values.yaml driven,\ninline with neutron and cinder.\n\nChange-Id: I3df7e7de583a75234a6bc4a71a32bd0a8d369332\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,587973,758067bded8de13efa3b1487b710f6eaf92b1474,11,4,2,23928,,,0,"Nova: move rootwrap config to be values.yaml driven

This PS updates the nova rootwrap config to be values.yaml driven,
inline with neutron and cinder.

Change-Id: I3df7e7de583a75234a6bc4a71a32bd0a8d369332
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/587973/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/etc/rootwrap.d/_compute.filters.tpl', 'nova/templates/etc/rootwrap.d/_network.filters.tpl', 'nova/templates/configmap-etc.yaml', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/etc/_rootwrap.conf.tpl', 'nova/templates/etc/rootwrap.d/_api-metadata.filters.tpl']",8,f3612686a9298eab37ec2c9b5fe72deee0059771,nova/move-rootwrap-to-value,,"# nova-rootwrap command filters for api-metadata nodes # This is needed on nova-api hosts running with ""metadata"" in enabled_apis # or when running nova-api-metadata # This file should be owned by (and only-writeable by) the root user [Filters] # nova/network/linux_net.py: 'ip[6]tables-save' % (cmd, '-t', ... iptables-save: CommandFilter, iptables-save, root ip6tables-save: CommandFilter, ip6tables-save, root # nova/network/linux_net.py: 'ip[6]tables-restore' % (cmd,) iptables-restore: CommandFilter, iptables-restore, root ip6tables-restore: CommandFilter, ip6tables-restore, root ",424,416
openstack%2Fproject-config~master~Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d,openstack/project-config,master,Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d,Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient,MERGED,2018-07-28 05:51:54.000000000,2018-08-02 16:34:43.000000000,2018-08-02 16:34:43.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 9061}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-28 05:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aa66649c8edca8a922001ee718ac36b458f8ecc0', 'message': 'Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient\n\nmuranoclient will use murano-tempest-api to test\nmuranoclient functional tests.\n\nDepends-On: https://review.openstack.org/#/c/586746/\nChange-Id: Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d\n'}, {'number': 2, 'created': '2018-07-28 05:53:49.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bd85a02040b336b51ab0beaf558914a39396c5cb', 'message': 'Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient\n\nWe move legacy-muranoclient-dsvm-functional-mysql-backend job to muranoclient,\nso remove this job from project-config.\n\nDepends-On: https://review.openstack.org/#/c/586746/\nChange-Id: Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d\n'}]",0,586748,bd85a02040b336b51ab0beaf558914a39396c5cb,8,14,2,14107,,,0,"Remove legacy-muranoclient-dsvm-functional-mysql-backend for muranoclient

We move legacy-muranoclient-dsvm-functional-mysql-backend job to muranoclient,
so remove this job from project-config.

Depends-On: https://review.openstack.org/#/c/586746/
Change-Id: Ib4bfe118e8f39bc9888fbdbff4cbece00106a38d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/586748/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,aa66649c8edca8a922001ee718ac36b458f8ecc0,,, - legacy-muranoclient-dsvm-functional-mysql-backend gate: jobs: - legacy-muranoclient-dsvm-functional-mysql-backend,0,4
openstack%2Fcinder~master~Idfb04652f148e1f820d76d62395fe7cfcb445057,openstack/cinder,master,Idfb04652f148e1f820d76d62395fe7cfcb445057,docs: Write high availability devref,MERGED,2018-05-30 16:03:11.000000000,2018-08-02 16:34:40.000000000,2018-08-02 16:34:40.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-05-30 16:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9f2a902f1bf116d9ec1fbe90aab4464fdc29b1b', 'message': 'WIP: Write high availability devref\n\nThis patch adds some contributor/developer reference.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}, {'number': 2, 'created': '2018-06-08 09:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a1692a1fbc08ecfc352f2744d2e3ad7bfd974b5', 'message': 'WIP: Write high availability devref\n\nThis patch adds some contributor/developer reference.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}, {'number': 3, 'created': '2018-06-27 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c014dd15eec18056250ecc90d5da313c1ed5d3e', 'message': 'docs: Write high availability devref\n\nAdds contributor/developer reference for High Availability in Cinder.\n\nNot only related to Active-Active, but also to Active-Passive and\nconcurrency in general.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}, {'number': 4, 'created': '2018-07-19 11:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7b6c4b5713e71874fb08642902337be581f0138', 'message': 'docs: Write high availability devref\n\nAdds contributor/developer reference for High Availability in Cinder.\n\nNot only related to Active-Active, but also to Active-Passive and\nconcurrency in general.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}, {'number': 5, 'created': '2018-07-26 07:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93cabce2ec5922139712ed9530e8043839e5ef7b', 'message': 'docs: Write high availability devref\n\nAdds contributor/developer reference for High Availability in Cinder.\n\nNot only related to Active-Active, but also to Active-Passive and\nconcurrency in general.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}, {'number': 6, 'created': '2018-08-01 19:46:59.000000000', 'files': ['doc/source/contributor/high_availability.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/drivers_locking_examples.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4d1ab9d19add6a050047452a1e51c01eef68fae', 'message': 'docs: Write high availability devref\n\nAdds contributor/developer reference for High Availability in Cinder.\n\nNot only related to Active-Active, but also to Active-Passive and\nconcurrency in general.\n\nChange-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057\n'}]",70,571242,b4d1ab9d19add6a050047452a1e51c01eef68fae,111,39,6,9535,,,0,"docs: Write high availability devref

Adds contributor/developer reference for High Availability in Cinder.

Not only related to Active-Active, but also to Active-Passive and
concurrency in general.

Change-Id: Idfb04652f148e1f820d76d62395fe7cfcb445057
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/571242/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/high_availability.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/drivers_locking_examples.rst']",3,a9f2a902f1bf116d9ec1fbe90aab4464fdc29b1b,fix_ha_devref,"Drivers Locking Examples ======================== This document presents an incomplete list of locks being currently used in drivers to serve as a reference to other driver developers. .. note:: Each driver may support different deployment options. Some may only support running one backend on each node. Others may support running multiple backends in a single node. And some may even support Active-Active deployments. LIO target - Lock scope: Node. - Critical section: Calls to `cinder-rtstool` CLI. - Lock name: `'lioadm'`. - Where: `_execute` method. - File: `cinder/volume/targets/lio.py` NVMET target - Lock scope: Node. - Critical section: Creating or deleting NVMeOF targets operations. - Lock name: `'nvmetcli'`. - Where: `delete_nvmeof_target` and `create_nvmeof_target` methods. - File: `cinder/volume/targets/nvmet.py`. HGST driver: - Lock scope: Process. - Critical section: Create volume operation. - Lock name: `'hgst'devices'`. - Where: `create_volume` method. - File: `cinder/volume/drivers/hgst.py`. Solidfire driver: - Lock scope: Process - Critical section: Creating volume from an image, cloning volume, creating volume from a snapshot. - Lock name: `solidfire-{resource_id}`. - Where: `locked_image_id_operation` and `locked_source_id_operation` decorators. - File: `cinder/volume/drivers/solidfire.py`. Infinidat driver: - Lock scope: Global. - Critical section: Initialize and terminate connections operations. - Lock name: `infinidat-{management_address}-lock`. - Where: `initialize_connection` and `terminate_connection` methods. - File: `cinder/volume/drivers/infinidat.py`. Kaminario FC driver: - Lock scope: Global. - Critical section: Initialize and terminate connections operations. - Lock name: `kaminario-{san_ip}`. - Where: `initialize_connection` and `terminate_connection` methods. - File: `cinder/volume/drivers/kaminario/kaminario_fc.py` Kaminario iSCSI driver: - Lock scope: Global. - Critical section: Initialize and terminate connections operations. - Lock name: `kaminario-{san_ip}`. - Where: `initialize_connection` and `terminate_connection` methods. - File: `cinder/volume/drivers/kaminario/kaminario_iscsi.py` .. todo:: Complete the drivers locking examples. Other driver: - Lock scope: - Critical section: - Lock name: - Where: - File: ",,1171,0
openstack%2Fcinder~master~I9b13a60adbd283fcc37ee307757605af57a76aa7,openstack/cinder,master,I9b13a60adbd283fcc37ee307757605af57a76aa7,[doc] Use openstack client commands to replace cinder client,MERGED,2018-07-09 07:03:33.000000000,2018-08-02 16:34:35.000000000,2018-08-02 16:34:35.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 20146}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25254}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-09 07:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/887c4cb7e0e01e5056206b3a94a35010bb55bca7', 'message': 'Use openstack client commands to replace cinder client\n\nChange-Id: I9b13a60adbd283fcc37ee307757605af57a76aa7\n'}, {'number': 2, 'created': '2018-07-19 05:48:23.000000000', 'files': ['doc/source/configuration/block-storage/drivers/windows-smb-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fab55e9ddf592f24c73e5e369245bf0a1f1b502', 'message': '[doc] Use openstack client commands to replace cinder client\n\nChange-Id: I9b13a60adbd283fcc37ee307757605af57a76aa7\n'}]",0,580935,3fab55e9ddf592f24c73e5e369245bf0a1f1b502,57,31,2,14151,,,0,"[doc] Use openstack client commands to replace cinder client

Change-Id: I9b13a60adbd283fcc37ee307757605af57a76aa7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/580935/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/windows-smb-volume-driver.rst'],1,887c4cb7e0e01e5056206b3a94a35010bb55bca7,, openstack volume type set $volume_type --property pool_name=$pool_name openstack volume qos create $rule_name --property consumer=front-end --property total_bytes_sec=20971520 openstack volume qos associate $rule_name $volume_type_id openstack volume create $volume_name --type $volume_type_id --size $size, cinder type-key $volume_type set pool_name=$pool_name cinder qos-create $rule_name consumer=front-end total_bytes_sec=20971520 cinder qos-associate $rule_name $volume_type_id cinder create $size --volume-type $volume_type_id,4,4
openstack%2Fcinder~master~Ifd241a9fa34957a3bfc8b3a768d18a781519eefe,openstack/cinder,master,Ifd241a9fa34957a3bfc8b3a768d18a781519eefe,NEC driver: Return non-random iscsi portal in initialize,MERGED,2018-06-19 07:09:23.000000000,2018-08-02 16:34:31.000000000,2018-08-02 16:34:31.000000000,"[{'_account_id': 24}, {'_account_id': 5997}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 12860}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-19 07:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de5b3f5a064a534419c16bbeeb2e292918d48c4a', 'message': 'NEC driver: Return same target_portal in initialize\n\nChange-Id: Ifd241a9fa34957a3bfc8b3a768d18a781519eefe\nCloses-Bug: #1742587\n'}, {'number': 2, 'created': '2018-06-27 08:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a22d265093eec760de98a8fe7b16c52a83f27a3', 'message': 'NEC driver: Return same iscsi portal in initialize\n\nChange-Id: Ifd241a9fa34957a3bfc8b3a768d18a781519eefe\nCloses-Bug: #1742587\n'}, {'number': 3, 'created': '2018-07-25 06:46:15.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6cf3dd2a630be752f1f2b750c7d26bbf3d2d7b7', 'message': 'NEC driver: Return non-random iscsi portal in initialize\n\nReturns same set of portals in initialize, this will\nsuits for both single-path and multipath situations.\n\nChange-Id: Ifd241a9fa34957a3bfc8b3a768d18a781519eefe\nCloses-Bug: #1742587\n'}]",8,576390,b6cf3dd2a630be752f1f2b750c7d26bbf3d2d7b7,111,42,3,12860,,,0,"NEC driver: Return non-random iscsi portal in initialize

Returns same set of portals in initialize, this will
suits for both single-path and multipath situations.

Change-Id: Ifd241a9fa34957a3bfc8b3a768d18a781519eefe
Closes-Bug: #1742587
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/576390/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,de5b3f5a064a534419c16bbeeb2e292918d48c4a,bug/1742587," 'data': {'target_portal': provider_location[0][0:-2].split("";"")[0], 'target_iqn': provider_location[1], 'target_lun': int(provider_location[2]), 'target_discovered': False, 'volume_id': volume.id}"," 'data': {'target_portal': random.choice( provider_location[0][0:-2].split("";"")), 'target_iqn': provider_location[1], 'target_lun': int(provider_location[2]), 'target_discovered': False, 'volume_id': volume.id}",26,8
openstack%2Fnova~master~I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48,openstack/nova,master,I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48,Add VIFMigrateData.get_dest_vif,MERGED,2018-05-08 16:01:39.000000000,2018-08-02 16:31:07.000000000,2018-07-24 03:14:32.000000000,"[{'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27190}]","[{'number': 1, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a19416bd2014f2af595c00d8d2fd89ea5274ef6b', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 2, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9a4c39ef79920b73db2a686042cc2e3915a3549', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 3, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2961195c48b8fe93278716a27dad0c9169a295f0', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 4, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bdbe1f3d469c0a0441b70447ed95eb3d6403e55', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 5, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f76877443aede6961151ff1a17d5d2efdf9b50f6', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 6, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1a30fc5d2f97a0e1a5130ebcf72091f8e47cb3', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}, {'number': 7, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d3a049507d1ea1edbd7e9c65d7769d9f16676c5', 'message': 'Add VIFMigrateData.get_dest_vif\n\nThis adds a simple helper function to VIFMigrateData to\nget a destination VIF object based on the set source_vif\nbut updated with destination port binding details. This\nwill be used by the libvirt driver in later patches in\nthe series.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48\n'}]",0,566931,8d3a049507d1ea1edbd7e9c65d7769d9f16676c5,148,21,7,6873,,,0,"Add VIFMigrateData.get_dest_vif

This adds a simple helper function to VIFMigrateData to
get a destination VIF object based on the set source_vif
but updated with destination port binding details. This
will be used by the libvirt driver in later patches in
the series.

Part of blueprint neutron-new-port-binding-api

Change-Id: I4c5b1fee4a4f6b6ab7b0b1bb2c1049e23a981b48
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/566931/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py']",2,a19416bd2014f2af595c00d8d2fd89ea5274ef6b,bp/neutron-new-port-binding-api,"from nova import exceptionfrom nova import test class TestVIFMigrateData(test.NoDBTestCase): def test_get_dest_vif_source_vif_not_set(self): migrate_vif = objects.VIFMigrateData( port_id=uuids.port_id, vnic_type=network_model.VNIC_TYPE_NORMAL, vif_type=network_model.VIF_TYPE_OVS, vif_details={}, profile={}, host='fake-dest-host') self.assertRaises( exception.ObjectActionError, migrate_vif.get_dest_vif) def test_get_dest_vif(self): source_vif = network_model.VIF( id=uuids.port_id, type=network_model.VIF_TYPE_OVS, details={}, vnic_type=network_model.VNIC_TYPE_DIRECT, profile={'foo': 'bar'}, ovs_interfaceid=uuids.ovs_interfaceid) migrate_vif = objects.VIFMigrateData( port_id=uuids.port_id, vnic_type=network_model.VNIC_TYPE_NORMAL, vif_type=network_model.VIF_TYPE_BRIDGE, vif_details={'bar': 'baz'}, profile={}, host='fake-dest-host', source_vif=source_vif) dest_vif = migrate_vif.get_dest_vif() self.assertEqual(migrate_vif.port_id, dest_vif['id']) self.assertEqual(migrate_vif.vnic_type, dest_vif['vnic_type']) self.assertEqual(migrate_vif.vif_type, dest_vif['type']) self.assertEqual(migrate_vif.vif_details, dest_vif['details']) self.assertEqual(migrate_vif.profile, dest_vif['profile']) self.assertEqual(uuids.ovs_interfaceid, dest_vif['ovs_interfaceid'])",,52,0
openstack%2Fnova~master~I174ae21f143016bb23b8043fa22465dac6c71314,openstack/nova,master,I174ae21f143016bb23b8043fa22465dac6c71314,Add VIFMigrateData object for live migration,MERGED,2017-10-26 14:19:48.000000000,2018-08-02 16:26:22.000000000,2018-07-23 22:10:22.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27997}]","[{'number': 1, 'created': '2017-10-26 14:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a55c9b4bbf4da5b0da46d030950892b276cceb86', 'message': '[WIP] add vif info to migration object\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n- TODO: fix IndexError: list index out of range error\n  ideas?\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 2, 'created': '2017-11-10 15:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19a6fc49229ae64713b177c90a2061e44fdae8f8', 'message': '[WIP] add vif info to migration object\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 3, 'created': '2017-11-10 17:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dea8d9ded065523e6b1ae04cb356f28785957e16', 'message': 'add vif info to migration object\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 4, 'created': '2017-11-13 12:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75878aa98552e80886f021b0beb7d4993237040e', 'message': 'add vif info to migration object\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 5, 'created': '2018-02-22 22:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b160e3dda45342c4e9e18e637b5853386d47ac9', 'message': 'Add vif info to migration object\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 6, 'created': '2018-03-09 21:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8442fb5a8fb84f46041b0dc1b628d901388acccb', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 7, 'created': '2018-03-09 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cffed5d59628d6ca108e1b18c7eb0e6c28285ecf', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 8, 'created': '2018-03-13 21:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e58f3a31d5b77ce398dd1578324f7e29cc02ffc', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 9, 'created': '2018-03-16 22:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b16f7f8b0f080dc73037991d3b8dfa5e7152bea3', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 10, 'created': '2018-03-19 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9eaf8437cffcbfd1662879312c2c0468526062e', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 11, 'created': '2018-03-19 22:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66db1e0149dfbb074b149267064e55de1fcc0052', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 12, 'created': '2018-03-23 22:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e008f6b16601b63aa95ec343273c8d585caac66', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 13, 'created': '2018-03-26 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93399aebd26b6a419855dd105957bec5e63be04f', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 14, 'created': '2018-03-26 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/974a2d173feb043ff9e6d7ed89f9bc15b18067bc', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 15, 'created': '2018-03-30 15:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5da9d5ddc7ffa8a28e91ea45a08383e9505cf440', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 16, 'created': '2018-03-30 21:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9215c7067392ff62767bec6e044310c559f76ae0', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 17, 'created': '2018-03-31 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94beea530e838a259e29babfc33c3920dbaf9995', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrationData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 18, 'created': '2018-04-04 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ed80b5f518c117a9d38e37e836083312a081bd0', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 19, 'created': '2018-04-05 20:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64579c1d0a425759633a7fb2a0ed10b8576b1747', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 20, 'created': '2018-04-12 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/139ff3ed973dc00656d93b25bbe50a19279e7e0c', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 21, 'created': '2018-04-24 21:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9206ece7e52a7c29cabdb11a6f7486039e749fa8', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 22, 'created': '2018-04-25 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c16b03a8506206b9fe770fe64f41b0dfd85a801', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 23, 'created': '2018-04-26 12:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0a972444d146c35cb53d86e718ff706570343ac', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 24, 'created': '2018-05-08 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fa8245679c7a88a3385f355581a3c8d389ede8b', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 25, 'created': '2018-05-14 17:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89cf804a38f6000949e498dfaed8cf8e1e44bca9', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 26, 'created': '2018-06-18 22:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04af5dfd6d534b6c1b7a7d6c7dd8a60e1d891bcf', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 27, 'created': '2018-06-19 22:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2359fb21113d7ad9e78bebf042e8a5eb6aeda36', 'message': 'WIP: Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 28, 'created': '2018-06-20 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10df8573e6bba8e2bd400ff06c11378182797195', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 29, 'created': '2018-06-25 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df99b02efa8a7ff02fd921acb4a4acaee1a16d86', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nNote that vif_details and profile must be stored as\nserialized dicts similar to\nLibvirtLiveMigrateBDMInfo.connection_info_json.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}, {'number': 30, 'created': '2018-07-19 13:34:03.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_objects.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a71a542e02e41ba514984ad49608168b5865696', 'message': 'Add VIFMigrateData object for live migration\n\n- This change adds a new VIFMigrateData object.\n- This change adds a new vifs field to the\n  base LiveMigrateData object.\n\nLater patches will populate this information during\nlive migration where nova uses the neutron port\nbinding extended API to bind the port on the destination\nhost, and store the destination host binding details\nin this object to be leveraged on the source host for\nthings like defining vif details in the guest before\nstarting the live migration in the hypervisor.\n\nNote that vif_details and profile must be stored as\nserialized dicts similar to\nLibvirtLiveMigrateBDMInfo.connection_info_json.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPart of blueprint neutron-new-port-binding-api\n\nChange-Id: I174ae21f143016bb23b8043fa22465dac6c71314\n'}]",57,515423,0a71a542e02e41ba514984ad49608168b5865696,421,23,30,11604,,,0,"Add VIFMigrateData object for live migration

- This change adds a new VIFMigrateData object.
- This change adds a new vifs field to the
  base LiveMigrateData object.

Later patches will populate this information during
live migration where nova uses the neutron port
binding extended API to bind the port on the destination
host, and store the destination host binding details
in this object to be leveraged on the source host for
things like defining vif details in the guest before
starting the live migration in the hypervisor.

Note that vif_details and profile must be stored as
serialized dicts similar to
LibvirtLiveMigrateBDMInfo.connection_info_json.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Part of blueprint neutron-new-port-binding-api

Change-Id: I174ae21f143016bb23b8043fa22465dac6c71314
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/515423/15 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py']",2,a55c9b4bbf4da5b0da46d030950892b276cceb86,bp/neutron-new-port-binding-api," 'HyperVLiveMigrateData': '1.3-a6a58a5a12639fcb24338d8caf07ee18', 'LibvirtLiveMigrateData': '1.5-f7311aa6bf25a018d6824eab23103080', 'LiveMigrateData': '1.2-01e5601040a2c227bf195d8d83f9f887', 'PowerVMLiveMigrateData': '1.3-0312453f97b602f0868cde0d5c0a5413', 'XenapiLiveMigrateData': '1.3-06badbec349d7e3cad30be27b449d60a',"," 'HyperVLiveMigrateData': '1.2-bcb6dad687369348ffe0f41da6888704', 'LibvirtLiveMigrateData': '1.4-ae5f344e7f78d3b45c259a0f80ea69f5', 'PowerVMLiveMigrateData': '1.2-b62cd242c5205a853545b1085b072340', 'XenapiLiveMigrateData': '1.2-72b9b6e70de34a283689ec7126aa4879',",92,37
openstack%2Fproject-config~master~Id814295cfe6a59863e58f0a01014fd31f1c38371,openstack/project-config,master,Id814295cfe6a59863e58f0a01014fd31f1c38371,ansible-role-container-registry: switch to non-pypi jobs,MERGED,2018-08-01 15:20:01.000000000,2018-08-02 16:26:18.000000000,2018-08-02 16:26:17.000000000,"[{'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 15:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/13f903ea9eb1ad5629b58873b8e8745988343220', 'message': ""Cleanup TripleO ansible role jobs\n\nThe jobs are now defined in-tree, we don't want the layout here anymore.\n\nChange-Id: Id814295cfe6a59863e58f0a01014fd31f1c38371\n""}, {'number': 2, 'created': '2018-08-02 12:58:57.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4941769dd233b53c4cf5f316f8a41aff98632beb', 'message': ""ansible-role-container-registry: switch to non-pypi jobs\n\nSwitch the release jobs for ansible-role-container-registry to non-pypi,\nthis is an Ansible module, we don't want it in pypi.\n\nChange-Id: Id814295cfe6a59863e58f0a01014fd31f1c38371\n""}]",6,587847,4941769dd233b53c4cf5f316f8a41aff98632beb,17,8,2,3153,,,0,"ansible-role-container-registry: switch to non-pypi jobs

Switch the release jobs for ansible-role-container-registry to non-pypi,
this is an Ansible module, we don't want it in pypi.

Change-Id: Id814295cfe6a59863e58f0a01014fd31f1c38371
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/587847/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,13f903ea9eb1ad5629b58873b8e8745988343220,tripleo/update,, name: openstack/ansible-role-container-registry templates: - publish-to-pypi check: jobs: - openstack-tox-linters gate: jobs: - openstack-tox-linters post: jobs: - publish-openstack-python-branch-tarball - project: name: openstack/ansible-role-redhat-subscription templates: - release-openstack-server check: jobs: - openstack-tox-linters gate: jobs: - openstack-tox-linters post: jobs: - publish-openstack-python-branch-tarball - project: name: openstack/ansible-role-tripleo-modify-image templates: - release-openstack-server check: jobs: - openstack-tox-linters gate: jobs: - openstack-tox-linters post: jobs: - publish-openstack-python-branch-tarball - project:,0,42
openstack%2Fproject-config~master~Ia64eff3dcca47d023d950faeca82de8d660ab71b,openstack/project-config,master,Ia64eff3dcca47d023d950faeca82de8d660ab71b,Remove various windmill jobs from projects.yaml,MERGED,2018-08-01 17:58:06.000000000,2018-08-02 16:26:16.000000000,2018-08-02 16:26:16.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 17:58:06.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bfb7113d4069aeb02d19f578d816e4c4e32f578a', 'message': 'Remove various windmill jobs from projects.yaml\n\nAll of these projects are in the middle of being converted to in-tree\njobs. It is safe for us to remove these jobs as we plan to land\nin-tree changes right away.\n\nChange-Id: Ia64eff3dcca47d023d950faeca82de8d660ab71b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,587927,bfb7113d4069aeb02d19f578d816e4c4e32f578a,7,3,1,4162,,,0,"Remove various windmill jobs from projects.yaml

All of these projects are in the middle of being converted to in-tree
jobs. It is safe for us to remove these jobs as we plan to land
in-tree changes right away.

Change-Id: Ia64eff3dcca47d023d950faeca82de8d660ab71b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/587927/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,bfb7113d4069aeb02d19f578d816e4c4e32f578a,,, - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27 - windmill-jobs-xenial - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27-nv - windmill-jobs-xenial-nv - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-fedora-27-nv - windmill-jobs-xenial-nv - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27 - windmill-jobs-xenial - ansible-role-jobs - ansible-role-functional-jobs-centos7 - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27 - windmill-jobs-xenial - ansible-role-jobs - ansible-role-functional-jobs-xenial - windmill-jobs-centos7-nv - windmill-jobs-fedora-27 - windmill-jobs-xenial check: jobs: - ansible-role-functional-centos-7: voting: false,0,42
openstack%2Fkayobe~master~I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af,openstack/kayobe,master,I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af,Point README and docs to official release notes,MERGED,2018-08-01 17:58:32.000000000,2018-08-02 16:22:44.000000000,2018-08-02 16:22:44.000000000,"[{'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-08-01 17:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/808aaf0aa2d3d282c12b980c510fee2b5c580fbd', 'message': 'Point README and docs to official release notes\n\nOpenStack publishes release notes for non-official projects as well as\nofficial projects at https://docs.openstack.org/releasenotes.\n\nChange-Id: I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af\n'}, {'number': 2, 'created': '2018-08-01 19:19:36.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc47f7d0d4e807a3150f677a2cad8455e5829c46', 'message': 'Point README and docs to official release notes\n\nOpenStack publishes release notes for non-official projects as well as\nofficial projects at https://docs.openstack.org/releasenotes.\n\nChange-Id: I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af\n'}]",0,587928,cc47f7d0d4e807a3150f677a2cad8455e5829c46,9,3,2,14826,,,0,"Point README and docs to official release notes

OpenStack publishes release notes for non-official projects as well as
official projects at https://docs.openstack.org/releasenotes.

Change-Id: I4b4f0f37b9341d0009b4ea8c77ec014d289cd2af
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/28/587928/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,808aaf0aa2d3d282c12b980c510fee2b5c580fbd,document-release-notes,* Release Notes: https://docs.openstack.org/releasenotes/kayobe,,5,0
openstack%2Fnova~master~Ied464744803864e61a45e03c559760a8a2e2581f,openstack/nova,master,Ied464744803864e61a45e03c559760a8a2e2581f,[placement] disallow additional fields in allocations,MERGED,2018-07-19 09:46:04.000000000,2018-08-02 16:21:54.000000000,2018-07-23 18:56:26.000000000,"[{'_account_id': 7}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-19 09:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ff83528cfd3d8a3e744955252fa9c5bed197387', 'message': '[placement] disallow additional fiels in allocations\n\nBack in microversion 1.12, when the allocations structure was extended\nto allow project_id and user_id on PUT /allocations/{uuid},\n""additionalProperties"" was not set in the JSON schema, so it has been\npossible since then to include unused fields in the input. The schema\nwas then reused in the creation of subsequent schema for new\nmicroversions and for new URIs, such as POST /allocations and the\nforthcoming /reshaper.\n\nThis change fixes it by fixing the old microversion. This is the ""just\nfix it"" option from the discussion on the associated bug. The other\noption is to create a new microversion that corrects the behavior. This\nis more complex than it might initially sound because of the way in\nwhich the original schema is used to compose new ones.\n\nChange-Id: Ied464744803864e61a45e03c559760a8a2e2581f\nCloses-Bug: #1782340\n'}, {'number': 2, 'created': '2018-07-19 09:46:30.000000000', 'files': ['nova/api/openstack/placement/schemas/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations-1-12.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0fc4f95914dec7df68e53514771bf3afe1ee9c4f', 'message': '[placement] disallow additional fields in allocations\n\nBack in microversion 1.12, when the allocations structure was extended\nto allow project_id and user_id on PUT /allocations/{uuid},\n""additionalProperties"" was not set in the JSON schema, so it has been\npossible since then to include unused fields in the input. The schema\nwas then reused in the creation of subsequent schema for new\nmicroversions and for new URIs, such as POST /allocations and the\nforthcoming /reshaper.\n\nThis change fixes it by fixing the old microversion. This is the ""just\nfix it"" option from the discussion on the associated bug. The other\noption is to create a new microversion that corrects the behavior. This\nis more complex than it might initially sound because of the way in\nwhich the original schema is used to compose new ones.\n\nChange-Id: Ied464744803864e61a45e03c559760a8a2e2581f\nCloses-Bug: #1782340\n'}]",0,583907,0fc4f95914dec7df68e53514771bf3afe1ee9c4f,26,20,2,11564,,,0,"[placement] disallow additional fields in allocations

Back in microversion 1.12, when the allocations structure was extended
to allow project_id and user_id on PUT /allocations/{uuid},
""additionalProperties"" was not set in the JSON schema, so it has been
possible since then to include unused fields in the input. The schema
was then reused in the creation of subsequent schema for new
microversions and for new URIs, such as POST /allocations and the
forthcoming /reshaper.

This change fixes it by fixing the old microversion. This is the ""just
fix it"" option from the discussion on the associated bug. The other
option is to create a new microversion that corrects the behavior. This
is more complex than it might initially sound because of the way in
which the original schema is used to compose new ones.

Change-Id: Ied464744803864e61a45e03c559760a8a2e2581f
Closes-Bug: #1782340
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/583907/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/schemas/allocation.py', 'nova/tests/functional/api/openstack/placement/gabbits/allocations-1-12.yaml']",2,4ff83528cfd3d8a3e744955252fa9c5bed197387,bug/1782340,- name: put unused field PUT: /allocations/a0b15655-273a-4b3d-9792-2e579b7d5ad9 data: allocations: $ENVIRON['RP_UUID']: resources: VCPU: 1 DISK_GB: 20 project_id: 42a32c07-3eeb-4401-9373-68a8cdca6784 user_id: 66cb2f29-c86d-47c3-8af5-69ae7b778c70 bad_field: moo status: 400 response_strings: - JSON does not validate ,,16,0
openstack%2Fironic~master~I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337,openstack/ironic,master,I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337,Update the reno for the reset_interfaces feature,MERGED,2018-08-02 14:42:15.000000000,2018-08-02 16:19:26.000000000,2018-08-02 15:38:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:42:15.000000000', 'files': ['releasenotes/notes/reset-interface-e62036ac76b87486.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/103801a9ad4b6bb3d9db1117a0cd49d09a1ade96', 'message': ""Update the reno for the reset_interfaces feature\n\nThis updates the release note for the 'reset_interfaces' query\nparameter of a PATCH request to update a node. It clarifies that\nit is a query parameter and fixes some grammatical issues.\n\nChange-Id: I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337\n""}]",0,588300,103801a9ad4b6bb3d9db1117a0cd49d09a1ade96,8,4,1,6618,,,0,"Update the reno for the reset_interfaces feature

This updates the release note for the 'reset_interfaces' query
parameter of a PATCH request to update a node. It clarifies that
it is a query parameter and fixes some grammatical issues.

Change-Id: I19a9e099ee4d5e9a6b4a6d49d851b5134aa02337
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/588300/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/reset-interface-e62036ac76b87486.yaml'],1,103801a9ad4b6bb3d9db1117a0cd49d09a1ade96,reno_typo," accept the new query parameter ``reset_interfaces``. It can be provided whenever the ``driver`` field is updated. If set to 'true', all hardware interfaces wil be reset to their defaults, except for ones updated in the same request."," accept the new parameter ``reset_interfaces``. If can be provided whenever the ``driver`` field is updated to reset all hardware interfaces to their defaults, expect for ones updated in the same request.",4,3
openstack%2Fnova~master~I47eaf08a9c06e33d707fdfe88f6771e165f377b5,openstack/nova,master,I47eaf08a9c06e33d707fdfe88f6771e165f377b5,"Remove ""DEPRECATED"" tag from Obsolete APIs",MERGED,2018-07-17 03:20:56.000000000,2018-08-02 16:19:08.000000000,2018-07-26 01:14:08.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26311}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-17 03:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b29e86f3f980652a6e43f8779fad5875c6532926', 'message': 'Remove ""DEPRECATED"" tag from Obsolete APIs\n\nAPIs which are being Obsoleted and return 410 like nova-net\nonly APIs, have been moved to ""Obsolete API"" section in api-ref.\n\nIn favour of moving them in ""Obsolete API"" section, ""DEPRECATED""\ntag on those API ref can be removed to avoid confusion whether\nthese APIs are deprecated or gone.\n\nPart of blueprint remove-nova-network\n\nref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4\n\nChange-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5\n'}, {'number': 2, 'created': '2018-07-17 04:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82144454dc531adb668882068043357b1d5c0407', 'message': 'Remove ""DEPRECATED"" tag from Obsolete APIs\n\nAPIs which are being Obsoleted and return 410 like nova-net\nonly APIs, have been moved to ""Obsolete API"" section in api-ref.\n\nIn favour of moving them in ""Obsolete API"" section, ""DEPRECATED""\ntag on those API ref can be removed to avoid confusion whether\nthese APIs are deprecated or gone.\n\nPart of blueprint remove-nova-network\n\nref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4\n\nChange-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5\n'}, {'number': 3, 'created': '2018-07-17 04:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71a6f7f99f16020a04007478100dee136964d608', 'message': 'Remove ""DEPRECATED"" tag from Obsolete APIs\n\nAPIs which are being Obsoleted and return 410 like nova-net\nonly APIs, have been moved to ""Obsolete API"" section in api-ref.\n\nIn favour of moving them in ""Obsolete API"" section, ""DEPRECATED""\ntag on those API ref can be removed to avoid confusion whether\nthese APIs are deprecated or gone.\n\nPart of blueprint remove-nova-network\n\nref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4\n\nChange-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5\n'}, {'number': 4, 'created': '2018-07-17 16:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ed0fc80e13637ea75394ab0aa7d521b8b887a24', 'message': 'Remove ""DEPRECATED"" tag from Obsolete APIs\n\nAPIs which are being Obsoleted and return 410 like nova-net\nonly APIs, have been moved to ""Obsolete API"" section in api-ref.\n\nIn favour of moving them in ""Obsolete API"" section, ""DEPRECATED""\ntag on those API ref can be removed to avoid confusion whether\nthese APIs are deprecated or gone.\n\nPart of blueprint remove-nova-network\n\nref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4\n\nChange-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5\n'}, {'number': 5, 'created': '2018-07-19 02:23:56.000000000', 'files': ['api-ref/source/os-fping.inc', 'api-ref/source/os-floating-ips-bulk.inc', 'api-ref/source/os-virtual-interfaces.inc', 'api-ref/source/os-certificates.inc', 'api-ref/source/os-cloudpipe.inc', 'api-ref/source/os-fixed-ips.inc', 'api-ref/source/os-floating-ip-dns.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/449da032453b0a2f50ac9f2daaa92a193bb35783', 'message': 'Remove ""DEPRECATED"" tag from Obsolete APIs\n\nAPIs which are being Obsoleted and return 410 like nova-net\nonly APIs, have been moved to ""Obsolete API"" section in api-ref.\n\nIn favour of moving them in ""Obsolete API"" section, ""DEPRECATED""\ntag on those API ref can be removed to avoid confusion whether\nthese APIs are deprecated or gone.\n\nPart of blueprint remove-nova-network\n\nref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4\n\nChange-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5\n'}]",3,583092,449da032453b0a2f50ac9f2daaa92a193bb35783,68,19,5,8556,,,0,"Remove ""DEPRECATED"" tag from Obsolete APIs

APIs which are being Obsoleted and return 410 like nova-net
only APIs, have been moved to ""Obsolete API"" section in api-ref.

In favour of moving them in ""Obsolete API"" section, ""DEPRECATED""
tag on those API ref can be removed to avoid confusion whether
these APIs are deprecated or gone.

Part of blueprint remove-nova-network

ref- https://review.openstack.org/#/c/567682/1/api-ref/source/os-fping.inc@4

Change-Id: I47eaf08a9c06e33d707fdfe88f6771e165f377b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/583092/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/os-fping.inc', 'api-ref/source/os-floating-ips-bulk.inc', 'api-ref/source/os-virtual-interfaces.inc', 'api-ref/source/os-certificates.inc', 'api-ref/source/os-cloudpipe.inc', 'api-ref/source/os-fixed-ips.inc']",6,b29e86f3f980652a6e43f8779fad5875c6532926,bp/remove-nova-network,========================= Fixed IPs (os-fixed-ips) =========================,====================================== Fixed IPs (os-fixed-ips) (DEPRECATED) ======================================,18,18
openstack%2Fnova~master~I89d081108b398d8efba9636279088c61349b21e6,openstack/nova,master,I89d081108b398d8efba9636279088c61349b21e6,Remove support for /os-floating-ips-bulk REST API,MERGED,2018-07-16 10:06:40.000000000,2018-08-02 16:18:47.000000000,2018-07-26 01:11:33.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-16 10:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71f845426f70cb78be706d28f6f12abbfe85a89b', 'message': 'Remove support for /os-floating-ips-bulk REST API\n\nDrop support for the os-floating-ips-bulk API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ips-bulk was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I89d081108b398d8efba9636279088c61349b21e6\n'}, {'number': 2, 'created': '2018-07-16 12:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a211c0e72472a048e8c3277c9117229ac3cdc04d', 'message': 'Remove support for /os-floating-ips-bulk REST API\n\nDrop support for the os-floating-ips-bulk API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ips-bulk was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I89d081108b398d8efba9636279088c61349b21e6\nDepends-On: https://review.openstack.org/582945\n'}, {'number': 3, 'created': '2018-07-19 02:23:56.000000000', 'files': ['nova/policies/__init__.py', 'nova/api/openstack/compute/floating_ips_bulk.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.json.tpl', 'api-ref/source/index.rst', 'api-ref/source/os-floating-ips-bulk.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_floating_ips_bulk.py', 'nova/tests/functional/api_sample_tests/test_floating_ips_bulk.py', 'nova/policies/floating_ips_bulk.py', 'releasenotes/notes/bp-remove-nova-network-api-removals-931ad60364f6f2a8.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-req.json.tpl', 'nova/tests/unit/test_policy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.json.tpl', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/schemas/floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/823c4e840d375209cba17a7f80f80fc89e3c6ce7', 'message': 'Remove support for /os-floating-ips-bulk REST API\n\nDrop support for the os-floating-ips-bulk API which has been deprecated\nsince Newton:\n\n  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0\n\nThis API now returns a 410 response for all routes.\n\nUnit tests are removed and the functional API sample tests are just\nasserting the 410 response now.\n\nThe API sample docs are left intact since the API reference still builds\nfrom those and can be considered more or less branchless, so people\nlooking at the API reference can apply it to older deployments of nova\nbefore os-floating-ips-bulk was removed.\n\nThe release note added for previous nova-network API removals is\namended to note this additional change.\n\nPart of blueprint remove-nova-network\n\nChange-Id: I89d081108b398d8efba9636279088c61349b21e6\nDepends-On: https://review.openstack.org/582945\n'}]",4,582912,823c4e840d375209cba17a7f80f80fc89e3c6ce7,103,21,3,15334,,,0,"Remove support for /os-floating-ips-bulk REST API

Drop support for the os-floating-ips-bulk API which has been deprecated
since Newton:

  Idca478c566f9a7b5b30a3172453ce7c66d9fd8f0

This API now returns a 410 response for all routes.

Unit tests are removed and the functional API sample tests are just
asserting the 410 response now.

The API sample docs are left intact since the API reference still builds
from those and can be considered more or less branchless, so people
looking at the API reference can apply it to older deployments of nova
before os-floating-ips-bulk was removed.

The release note added for previous nova-network API removals is
amended to note this additional change.

Part of blueprint remove-nova-network

Change-Id: I89d081108b398d8efba9636279088c61349b21e6
Depends-On: https://review.openstack.org/582945
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/582912/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/__init__.py', 'nova/api/openstack/compute/floating_ips_bulk.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.json.tpl', 'api-ref/source/index.rst', 'api-ref/source/os-floating-ips-bulk.inc', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_floating_ips_bulk.py', 'nova/tests/functional/api_sample_tests/test_floating_ips_bulk.py', 'nova/policies/floating_ips_bulk.py', 'releasenotes/notes/bp-remove-nova-network-api-removals-931ad60364f6f2a8.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-req.json.tpl', 'nova/tests/unit/test_policy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.json.tpl', 'nova/tests/unit/fake_policy.py', 'nova/api/openstack/compute/schemas/floating_ips_bulk.py']",17,71f845426f70cb78be706d28f6f12abbfe85a89b,bp/remove-nova-network,,"# Copyright 2014 IBM Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ip_range = { # TODO(eliqiao) need to find a better pattern 'type': 'string', 'pattern': '^[0-9./a-fA-F]*$', } create = { 'type': 'object', 'properties': { 'floating_ips_bulk_create': { 'type': 'object', 'properties': { 'ip_range': ip_range, 'pool': { 'type': 'string', 'minLength': 1, 'maxLength': 255, }, 'interface': { 'type': 'string', 'minLength': 1, 'maxLength': 255, }, }, 'required': ['ip_range'], 'additionalProperties': False, }, }, 'required': ['floating_ips_bulk_create'], 'additionalProperties': False, } delete = { 'type': 'object', 'properties': { 'ip_range': ip_range, }, 'required': ['ip_range'], 'additionalProperties': False, } ",42,566
openstack%2Fnova~master~If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9,openstack/nova,master,If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9,[placement] cover bad content-length header,MERGED,2018-07-18 15:01:39.000000000,2018-08-02 16:18:21.000000000,2018-07-18 23:33:55.000000000,"[{'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 15:01:39.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/basic-http.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6006ccd83b77cd756e1f4f81d4a1db0828ebad9e', 'message': '[placement] cover bad content-length header\n\nThe main dispatch handler in placement checks to see if the\ncontent-length header is a valid int and returns a 400 status\ncode if not. There had been no gabbi coverage for this behavior.\nThis patch adds that coverage.\n\nChange-Id: If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9\n'}]",0,583644,6006ccd83b77cd756e1f4f81d4a1db0828ebad9e,15,11,1,11564,,,0,"[placement] cover bad content-length header

The main dispatch handler in placement checks to see if the
content-length header is a valid int and returns a 400 status
code if not. There had been no gabbi coverage for this behavior.
This patch adds that coverage.

Change-Id: If12fc7e374c7933bd2f10beb4be3e0a8d8e622e9
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/583644/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/basic-http.yaml'],1,6006ccd83b77cd756e1f4f81d4a1db0828ebad9e,cd/placement-coverage-sweep, - name: bad content length not int POST: /resource_providers request_headers: content-type: application/json content-length: hi mom data: uuid: ce13d7f1-9988-4dfd-8e16-ce071802eb36 status: 400 response_strings: - content-length header must be an integer,,11,0
openstack%2Fnova~master~I239606f5f354a5536b20b1d31ee81d80b4572106,openstack/nova,master,I239606f5f354a5536b20b1d31ee81d80b4572106,tox: Ensure reused envdirs share the same deps,MERGED,2018-08-02 10:37:03.000000000,2018-08-02 16:17:24.000000000,2018-08-02 14:59:53.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-02 10:37:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0614472df8ec425ee0133a0419e1a1591b899d8', 'message': ""tox: Ensure reused envdirs share the same deps\n\nIn commit df669caf, we modified tox.ini to reuse a shared directory for\nenvironments with the same dependencies. The 'venv' directory was\nchosen as this seemed like a suitably generic target. However, the\n'venv' target actually uses a non-default values for 'deps' as doc\nrequirements are included to allow things like reno using this target.\nThis means switching between the 'venv' target and any of the other\nother targets using this directory will result in the virtualenv being\nrebuilt each time.\n\nResolve this by using an explicit directory for these shared\nenvironments. A single setting of 'deps' for one of the targets is\nremoved to make this clear.\n\nChange-Id: I239606f5f354a5536b20b1d31ee81d80b4572106\n""}]",2,588207,a0614472df8ec425ee0133a0419e1a1591b899d8,15,11,1,15334,,,0,"tox: Ensure reused envdirs share the same deps

In commit df669caf, we modified tox.ini to reuse a shared directory for
environments with the same dependencies. The 'venv' directory was
chosen as this seemed like a suitably generic target. However, the
'venv' target actually uses a non-default values for 'deps' as doc
requirements are included to allow things like reno using this target.
This means switching between the 'venv' target and any of the other
other targets using this directory will result in the virtualenv being
rebuilt each time.

Resolve this by using an explicit directory for these shared
environments. A single setting of 'deps' for one of the targets is
removed to make this clear.

Change-Id: I239606f5f354a5536b20b1d31ee81d80b4572106
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/588207/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0614472df8ec425ee0133a0419e1a1591b899d8,python3-first,envdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/sharedenvdir = {toxworkdir}/shared,deps = {[testenv]deps} envdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venvenvdir = {toxworkdir}/venv,9,10
openstack%2Fcinder~master~I5061fcd2256c24814f0868370d07f8c6dd0ae8e3,openstack/cinder,master,I5061fcd2256c24814f0868370d07f8c6dd0ae8e3,Fix indentation in docs,MERGED,2018-08-02 09:44:57.000000000,2018-08-02 16:10:57.000000000,2018-08-02 14:00:52.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-08-02 09:44:57.000000000', 'files': ['doc/source/cli/cli-manage-volumes.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0e9ee1d501fb83b7ebbc59584aa6255dbaec086', 'message': 'Fix indentation in docs\n\ncli/cli-manage-volumes.rst\nCurrent indentation is wrongly interpreted as quotation.\n\nChange-Id: I5061fcd2256c24814f0868370d07f8c6dd0ae8e3\n'}]",0,588193,b0e9ee1d501fb83b7ebbc59584aa6255dbaec086,23,19,1,23913,,,0,"Fix indentation in docs

cli/cli-manage-volumes.rst
Current indentation is wrongly interpreted as quotation.

Change-Id: I5061fcd2256c24814f0868370d07f8c6dd0ae8e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/588193/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/cli-manage-volumes.rst'],1,b0e9ee1d501fb83b7ebbc59584aa6255dbaec086,fix-indent,"The volume must be in an ``available`` state or the request will be denied. If the transfer request is valid in the database (that is, it has not expired or been deleted), the volume is placed in an ``awaiting-transfer`` state. For example: .. code-block:: console $ openstack volume transfer request create a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f The output shows the volume transfer ID in the ``id`` row and the authorization key. .. code-block:: console +------------+--------------------------------------+ | Field | Value | +------------+--------------------------------------+ | auth_key | 0a59e53630f051e2 | | created_at | 2016-11-03T11:49:40.346181 | | id | 34e29364-142b-4c7b-8d98-88f765bf176f | | name | None | | volume_id | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | +------------+--------------------------------------+ .. note:: Optionally, you can specify a name for the transfer by using the ``--name transferName`` parameter. .. note:: While the ``auth_key`` property is visible in the output of ``openstack volume transfer request create VOLUME_ID``, it will not be available in subsequent ``openstack volume transfer request show TRANSFER_ID`` command."," The volume must be in an ``available`` state or the request will be denied. If the transfer request is valid in the database (that is, it has not expired or been deleted), the volume is placed in an ``awaiting-transfer`` state. For example: .. code-block:: console $ openstack volume transfer request create a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f The output shows the volume transfer ID in the ``id`` row and the authorization key. .. code-block:: console +------------+--------------------------------------+ | Field | Value | +------------+--------------------------------------+ | auth_key | 0a59e53630f051e2 | | created_at | 2016-11-03T11:49:40.346181 | | id | 34e29364-142b-4c7b-8d98-88f765bf176f | | name | None | | volume_id | a1cdace0-08e4-4dc7-b9dc-457e9bcfe25f | +------------+--------------------------------------+ .. note:: Optionally, you can specify a name for the transfer by using the ``--name transferName`` parameter. .. note:: While the ``auth_key`` property is visible in the output of ``openstack volume transfer request create VOLUME_ID``, it will not be available in subsequent ``openstack volume transfer request show TRANSFER_ID`` command.",26,26
openstack%2Fcinder~master~I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8,openstack/cinder,master,I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8,Update volume create schema to allow 'null',MERGED,2018-08-01 13:27:59.000000000,2018-08-02 16:06:59.000000000,2018-08-02 16:06:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10234}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16668}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23561}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26285}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-08-01 13:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19e8f6f4d86c8638ef8a763a31f76e13643479ea', 'message': ""Update volume create schema to allow 'null'\n\nWhen creating a volume from a source snapshot, size is not a required\nparameter since it will be defaulted to the snapshot's original size. We\nset it as not required in 8152f6c0cc0950fba33a67e62bf37e9ded7e1424, but\nmissed that the jsonschema validation also needed to be updated to allow\nfor the empty value.\n\nChange-Id: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8\nCloses-bug: #1784821\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2018-08-01 18:22:46.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'cinder/api/schemas/volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b69e041dd661b46a90650d64e7ac9998fc5c45fa', 'message': ""Update volume create schema to allow 'null'\n\nWhen creating a volume from a source snapshot, size is not a required\nparameter since it will be defaulted to the snapshot's original size. We\nset it as not required in 8152f6c0cc0950fba33a67e62bf37e9ded7e1424, but\nmissed that the jsonschema validation also needed to be updated to allow\nfor the empty value.\n\nChange-Id: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8\nCloses-bug: #1784821\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,587821,b69e041dd661b46a90650d64e7ac9998fc5c45fa,68,34,2,11904,,,0,"Update volume create schema to allow 'null'

When creating a volume from a source snapshot, size is not a required
parameter since it will be defaulted to the snapshot's original size. We
set it as not required in 8152f6c0cc0950fba33a67e62bf37e9ded7e1424, but
missed that the jsonschema validation also needed to be updated to allow
for the empty value.

Change-Id: I27b94c5579d5215fdd0fbd6c421aa5f6d9139bd8
Closes-bug: #1784821
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/587821/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/validation/parameter_types.py'],1,19e8f6f4d86c8638ef8a763a31f76e13643479ea,bug/1784821," 'type': ['integer', 'string', 'null'],"," 'type': ['integer', 'string'],",1,1
openstack%2Fopenstack-health~master~Ieb1b3bf4cc63ad73b210db0275fde284277900a4,openstack/openstack-health,master,Ieb1b3bf4cc63ad73b210db0275fde284277900a4,docs: add info about subunit2SQL usage,MERGED,2018-07-16 17:22:05.000000000,2018-08-02 16:05:54.000000000,2018-08-01 22:56:46.000000000,"[{'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 5623}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7069}, {'_account_id': 8556}, {'_account_id': 11682}, {'_account_id': 17001}, {'_account_id': 17887}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 28774}]","[{'number': 1, 'created': '2018-07-16 17:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/27a2a28a043cd7a14d612bd939273473cf617b3a', 'message': 'docs: add info about run metadata\n\nThis document summarizes the metadata keys and values this program\nuses in code to display data on test results.\n\nChange-Id: Ieb1b3bf4cc63ad73b210db0275fde284277900a4\n'}, {'number': 2, 'created': '2018-07-16 17:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/094e2f9bd6ccaa3f3ab7f40799657fe5ed21f4cd', 'message': 'docs: add info about run metadata\n\nThis document summarizes the metadata keys and values this program\nuses in code to display data on test results.\n\nChange-Id: Ieb1b3bf4cc63ad73b210db0275fde284277900a4\n'}, {'number': 3, 'created': '2018-07-17 16:08:53.000000000', 'files': ['doc/source/index.rst', 'doc/source/subunit2sql.rst'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/ed5e6f1876283d70f0de9193b035150100ce4d36', 'message': 'docs: add info about subunit2SQL usage\n\nThis document summarizes the required subunit2SQL usage to produce\nrun metadata, and additional arguments this program uses in code to\ndisplay data on test results.\n\nChange-Id: Ieb1b3bf4cc63ad73b210db0275fde284277900a4\n'}]",9,583003,ed5e6f1876283d70f0de9193b035150100ce4d36,12,13,3,20378,,,0,"docs: add info about subunit2SQL usage

This document summarizes the required subunit2SQL usage to produce
run metadata, and additional arguments this program uses in code to
display data on test results.

Change-Id: Ieb1b3bf4cc63ad73b210db0275fde284277900a4
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/03/583003/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/run_meta.rst'],1,27a2a28a043cd7a14d612bd939273473cf617b3a,metadata,"Run Metadata ============ openstack-health uses `subunit2SQL`_ to process subunit streams and store the stream's test results in a remote repository. When creating runs with subunit2sql and trying to display the test results with openstack-health, there are a number of run metadata parameters that are expected to be included with the runs in order to use all of the features openstack-health provides. .. _subunit2SQL: https://github.com/openstack-infra/subunit2sql/blob/master/README.rst For details on how to create a run with metadata see `subunit2SQL's usage pattern`_ .. _subunit2SQL's usage pattern: https://docs.openstack.org/subunit2sql/latest/reference/api.html#parsing-subunit-stream-and-storing-it-in-a-db Each section below is a metadata key that explains the expected key, value, and a description of the benefit gained by providing the parameters for it. project ------- ``project`` is the default dropdown value for openstack-health. It's used to describe what code is being tested. If you have a repository name, this would be an ideal value. However, It's not necessary to provide this data to enable any features, just know that a user will have to select a metadata item from the ``Grouping`` dropdown on the home page to display results. build_name ---------- ``build_name`` will be used to represent the name of the job that was ran to produce the subunit stream. This value will be used to aggregate your runs. .. important:: This parameter is required for the openstack-health dashboard to operate without errors. build_uuid ---------- ``build_uuid`` will be used to represent the uuid of the job that was ran to produce the subunit stream. .. important:: This parameter is required for the openstack-health dashboard to operate without errors. build_queue ----------- ``build_queue`` is used to determine what kind of queue was used to produce the subunit stream. openstack-health only checks for the value of ``gate`` and provides a fresh-check service as described below. fresh-check ^^^^^^^^^^^ When you provide the ``build_queue`` key, the fresh-check service is enabled. The latest run with the value of ``gate`` will be used to warn users that the data collection may not be working correctly. This warning will be displayed if the last run's ``run_at`` datetime was more than 24 hours ago. node_provider ------------- ``node_provider`` is used to determine what host was used to produce the subunit stream. The value of this key will be populated for you in the ``Recent Failures`` table in the tests view. .. note:: The following two run metadata parameters are derived from the Run table in `subunit2SQL's data model`_. .. _subunit2SQL's data model: https://docs.openstack.org/subunit2sql/latest/reference/data_model.html artifacts --------- ``artifacts`` is used to provide a URL in order to show additional run details to the user like run logs for example. This will be linked with runs in the following tables: * ``Failed Tests in Last 10 Failed Runs`` on the home page in the ``Artifacts`` column * ``Recent Runs`` on the job, and grouping page in the ``Link`` column. * ``Recent Failures`` on the test page in the ``Link`` column. run_at ------ ``run_at`` is used to provide the date and time the tests were executed. This is also known as the start time and it defaults to when the run was entered into the database. ",,82,0
openstack%2Ftripleo-heat-templates~master~Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54,openstack/tripleo-heat-templates,master,Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54,adding vxlan into Neutuon drivers for networking-ansible,MERGED,2018-07-26 14:19:30.000000000,2018-08-02 16:00:05.000000000,2018-08-02 16:00:05.000000000,"[{'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 5792}, {'_account_id': 6926}, {'_account_id': 6994}, {'_account_id': 8655}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-26 14:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/344f7436a67e2d845cbd43c266262c3c96c8b7b6', 'message': 'adding vxlan into Neutuon drivers for networking-ansible\n\nCompute nodes that launch VMs will still need vxlan enabled\nvxlan was left out of the enabled driver types in neutron\nfor the ml2-ansible environment files\n\nChange-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54\nCloses-Bug: #1783776\n'}, {'number': 2, 'created': '2018-07-31 13:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88f46efdf4893b8e95e5b582e0abeeaa43127a6e', 'message': 'adding vxlan into Neutuon drivers for networking-ansible\n\nCompute nodes that launch VMs will still need vxlan enabled\nvxlan was left out of the enabled driver types in neutron\nfor the ml2-ansible environment files\n\nChange-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54\nCloses-Bug: #1783776\n'}, {'number': 3, 'created': '2018-07-31 17:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/781056d150f5546f801d483849f5d15587753cff', 'message': 'adding vxlan into Neutuon drivers for networking-ansible\n\nCompute nodes that launch VMs will still need vxlan enabled\nvxlan was left out of the enabled driver types in neutron\nfor the ml2-ansible environment files\n\nChange-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54\nCloses-Bug: #1783776\n'}, {'number': 4, 'created': '2018-08-01 02:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fd00fc808ed4e946560eaeae96006ec90ec63ce', 'message': 'adding vxlan into Neutuon drivers for networking-ansible\n\nCompute nodes that launch VMs will still need vxlan enabled\nvxlan was left out of the enabled driver types in neutron\nfor the ml2-ansible environment files\n\nChange-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54\nCloses-Bug: #1783776\n'}, {'number': 5, 'created': '2018-08-02 02:13:11.000000000', 'files': ['environments/neutron-ml2-ansible.yaml', 'environments/services/neutron-ml2-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f55f4f6f8472ac52be62a83e710daad4f5d72957', 'message': 'adding vxlan into Neutuon drivers for networking-ansible\n\nCompute nodes that launch VMs will still need vxlan enabled\nvxlan was left out of the enabled driver types in neutron\nfor the ml2-ansible environment files\n\nChange-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54\nCloses-Bug: #1783776\n'}]",4,586244,f55f4f6f8472ac52be62a83e710daad4f5d72957,35,10,5,5792,,,0,"adding vxlan into Neutuon drivers for networking-ansible

Compute nodes that launch VMs will still need vxlan enabled
vxlan was left out of the enabled driver types in neutron
for the ml2-ansible environment files

Change-Id: Ib56610e403ac1e3a41cb9b65b57c40f12f7b5d54
Closes-Bug: #1783776
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/586244/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ansible.yaml', 'environments/services/neutron-ml2-ansible.yaml']",2,344f7436a67e2d845cbd43c266262c3c96c8b7b6,bug/1783776," NeutronTypeDrivers: local,vxlan,vlan,flat"," NeutronTypeDrivers: local,vlan,flat",2,2
openstack%2Foslo.messaging~master~I1303d74af7a242edefe774d8f5e12e63614c0158,openstack/oslo.messaging,master,I1303d74af7a242edefe774d8f5e12e63614c0158,Call listener stop only if listener is initialized,MERGED,2018-08-02 11:28:45.000000000,2018-08-02 15:53:44.000000000,2018-08-02 15:53:44.000000000,"[{'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 11:28:45.000000000', 'files': ['oslo_messaging/server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d8fa6d5edfa171ae5f36b8d1269f87716830ba7b', 'message': 'Call listener stop only if listener is initialized\n\nChange-Id: I1303d74af7a242edefe774d8f5e12e63614c0158\nCloses-Bug: #1785048\n'}]",0,588217,d8fa6d5edfa171ae5f36b8d1269f87716830ba7b,8,5,1,21970,,,0,"Call listener stop only if listener is initialized

Change-Id: I1303d74af7a242edefe774d8f5e12e63614c0158
Closes-Bug: #1785048
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/17/588217/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/server.py'],1,d8fa6d5edfa171ae5f36b8d1269f87716830ba7b,bug/1785048, if self.listener: self.listener.stop() if self.listener: self.listener.cleanup(), self.listener.stop() self.listener.cleanup(),4,2
openstack%2Frpm-packaging~master~Ia4ceed4553ccc92886661b7893384a9b0812fa6c,openstack/rpm-packaging,master,Ia4ceed4553ccc92886661b7893384a9b0812fa6c,Update python-saharaclient to 1.6.0 and include patch for newer Sphinx,MERGED,2018-04-20 02:25:42.000000000,2018-08-02 15:48:45.000000000,2018-08-02 15:48:45.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-20 02:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/493061cabae7631d00893f0b675f88f1d91089da', 'message': 'Update python-saharaclient to 1.6.0\n\nDepends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5\nChange-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c\n'}, {'number': 2, 'created': '2018-07-26 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3dd63ab56980cb6b688a92da3df6437fad36cac7', 'message': 'Update python-saharaclient to 1.6.0\n\nDepends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5\nChange-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c\n'}, {'number': 3, 'created': '2018-07-31 10:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/70e8c7b98aec3953b1a014fb2d9b9f97438514da', 'message': 'Update python-saharaclient to 1.6.0\n\nDepends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5\nChange-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c\n'}, {'number': 4, 'created': '2018-07-31 15:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f697da0eab856cc83a7e425f9383afef196f55a8', 'message': 'Update python-saharaclient to 2.0.0 and osc-lib to 1.11.0\n\nsaharaclient needs updated osc-lib\n\nDepends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5\nChange-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c\n'}, {'number': 5, 'created': '2018-08-01 07:00:38.000000000', 'files': ['openstack/python-saharaclient/0001-Fix-build-with-Sphinx-1.7.x.patch', 'openstack/python-saharaclient/python-saharaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/72ff9a3426790d0df39a657f928ec6a1b2530096', 'message': 'Update python-saharaclient to 1.6.0 and include patch for newer Sphinx\n\n1.6.0 needs a backport of a fix to build with an already deprecated\npart of Sphinx, so to build with Sphinx 1.7.x this patch is required\n\nDepends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5\nChange-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c\n'}]",0,562905,72ff9a3426790d0df39a657f928ec6a1b2530096,30,6,5,17130,,,0,"Update python-saharaclient to 1.6.0 and include patch for newer Sphinx

1.6.0 needs a backport of a fix to build with an already deprecated
part of Sphinx, so to build with Sphinx 1.7.x this patch is required

Depends-on: I0dbf9b9c574bac7b40998c8774e6882b674f3fa5
Change-Id: Ia4ceed4553ccc92886661b7893384a9b0812fa6c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/05/562905/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-saharaclient/python-saharaclient.spec.j2'],1,493061cabae7631d00893f0b675f88f1d91089da,python-saharaclient,Version: 1.6.0,Version: 1.5.0,1,1
openstack%2Fproject-config~master~Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361,openstack/project-config,master,Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361,add publish-to-pypi to vmware-nsx-tempest-plugin,MERGED,2018-07-20 19:36:15.000000000,2018-08-02 15:41:18.000000000,2018-08-02 15:41:18.000000000,"[{'_account_id': 4146}, {'_account_id': 5367}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 19:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e76f8fcf2446b3ae68f89339b317a34f1019e2bb', 'message': 'add publish-to-pypi to vmware-nsx-tempest-plugin\n\nThis patch adds the publish-to-pypi template to the\nopenstack/vmware-nsx-tempest-plugin project so that we have the ability\nto release versions to PYPI.\n\nChange-Id: Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361\n'}, {'number': 2, 'created': '2018-07-31 20:29:11.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2294d628d6b6b6709d1fe8d7b91bc07648141540', 'message': 'add publish-to-pypi to vmware-nsx-tempest-plugin\n\nThis patch adds the publish-to-pypi template to the\nopenstack/vmware-nsx-tempest-plugin project so that we have the ability\nto release versions to PYPI.\n\nChange-Id: Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361\n'}]",4,584498,2294d628d6b6b6709d1fe8d7b91bc07648141540,18,5,2,5367,,,0,"add publish-to-pypi to vmware-nsx-tempest-plugin

This patch adds the publish-to-pypi template to the
openstack/vmware-nsx-tempest-plugin project so that we have the ability
to release versions to PYPI.

Change-Id: Id9a88fe6f8abb7aa0ddf38183313484ed3e6c361
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/584498/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e76f8fcf2446b3ae68f89339b317a34f1019e2bb,vmware-nsx-tempest-publish, - publish-to-pypi,,1,0
openstack%2Frpm-packaging~master~I1126a7aab85b55f2931d8b5a235931e8f705d7e8,openstack/rpm-packaging,master,I1126a7aab85b55f2931d8b5a235931e8f705d7e8,keystone: update requires,MERGED,2018-07-23 12:08:40.000000000,2018-08-02 15:40:01.000000000,2018-08-02 15:40:01.000000000,"[{'_account_id': 6593}, {'_account_id': 10384}, {'_account_id': 13294}, {'_account_id': 13340}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-07-23 12:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b5072b3e843ab2e0f7c2ef95e4e2372b69d31991', 'message': 'keystone: update requires\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 2, 'created': '2018-07-30 04:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bc9deb908e2b00548ec56de81ce2aa693f4ac774', 'message': 'keystone: update requires\n\nUpdate oslo.context to 2.21.0 this is needed for keystone unit test to\npass\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 3, 'created': '2018-07-30 04:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3f6c12fd001ea02a43a00f528f49d51673dac4b9', 'message': 'keystone: update requires\n\nUpdate oslo.context to 2.21.0 this is needed for keystone unit test to\npass\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 4, 'created': '2018-07-30 05:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/83b919dc1716238e83e7b6a7cb8cb244e3f5e143', 'message': 'keystone: update requires\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 5, 'created': '2018-07-31 09:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7f8ade1f304a41bb5393d9d411b7c19ed4ca1847', 'message': 'keystone: update requires and oslo-context tp 2.10.0\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\noslo-context update is required by keystone for the unittests to pass\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 6, 'created': '2018-08-01 13:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e72f977f77e6e7445026ded511e89be72b155d01', 'message': 'keystone: update requires and oslo-context to 2.21.0\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\noslo-context update is required by keystone for the unittests to pass\n\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}, {'number': 7, 'created': '2018-08-02 08:31:13.000000000', 'files': ['openstack/keystone/keystone.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8dc1ae8513b8dc9ff55158ce87a8073d2ffa4a94', 'message': 'keystone: update requires\n\nAfter I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged\nkeystone now requires flask-restful\n\nDepends-On: https://review.openstack.org/#/c/586458/\nChange-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8\n'}]",0,584847,8dc1ae8513b8dc9ff55158ce87a8073d2ffa4a94,50,8,7,6593,,,0,"keystone: update requires

After I398acad439f4e525df3ca4e17fdd3e3ba90d58cc being merged
keystone now requires flask-restful

Depends-On: https://review.openstack.org/#/c/586458/
Change-Id: I1126a7aab85b55f2931d8b5a235931e8f705d7e8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/584847/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone/keystone.spec.j2'],1,b5072b3e843ab2e0f7c2ef95e4e2372b69d31991,keystone,"BuildRequires: {{ py2pkg('Flask-RESTful', py_versions=['py3']) }}Requires: {{ py2pkg('Flask-RESTful', py_versions=['py3']) }}",,2,0
openstack%2Fopenstackdocstheme~master~Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc,openstack/openstackdocstheme,master,Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc,ignore files created during packaging,MERGED,2018-07-26 08:01:10.000000000,2018-08-02 15:37:19.000000000,2018-08-02 15:37:18.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 08:01:10.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/e599814bb92438f8f1b7dd76485c0031c9f22c04', 'message': 'ignore files created during packaging\n\nThe build directory is created by setuptools when a package is created.\n\nThe file RELEASENOTES.rst used to exist as a manually managed file,\nand is now created when reno is installed and a package is created.\n\nThe file releasenotes/notes/reno.cache is created when reno is installed\nand a package is created.\n\nNone of these files should be tracked by git, so add them to the\n.gitignore list.\n\nChange-Id: Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,585985,e599814bb92438f8f1b7dd76485c0031c9f22c04,7,3,1,2472,,,0,"ignore files created during packaging

The build directory is created by setuptools when a package is created.

The file RELEASENOTES.rst used to exist as a manually managed file,
and is now created when reno is installed and a package is created.

The file releasenotes/notes/reno.cache is created when reno is installed
and a package is created.

None of these files should be tracked by git, so add them to the
.gitignore list.

Change-Id: Ia5e24a9d21ed2a0e51dd81b2cd3e44231c885fcc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/85/585985/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,e599814bb92438f8f1b7dd76485c0031c9f22c04,ignore-build-files, # Files created by setuptools /build/ RELEASENOTES.rst releasenotes/notes/reno.cache,,5,0
openstack%2Fkolla-ansible~master~I12f7244aa91ccd7e287320e7edb09e0d04c01017,openstack/kolla-ansible,master,I12f7244aa91ccd7e287320e7edb09e0d04c01017,Stop reporting changed in prechecks,MERGED,2018-08-02 10:34:52.000000000,2018-08-02 15:32:55.000000000,2018-08-02 15:32:55.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-08-02 10:34:52.000000000', 'files': ['ansible/roles/prechecks/tasks/user_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fad16ebb05baeb904b7b817ce699dbd422f9b0b', 'message': 'Stop reporting changed in prechecks\n\nChange-Id: I12f7244aa91ccd7e287320e7edb09e0d04c01017\n'}]",0,588205,6fad16ebb05baeb904b7b817ce699dbd422f9b0b,7,3,1,22629,,,0,"Stop reporting changed in prechecks

Change-Id: I12f7244aa91ccd7e287320e7edb09e0d04c01017
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/588205/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/user_checks.yml'],1,6fad16ebb05baeb904b7b817ce699dbd422f9b0b,bug/prechecks_changed_when, changed_when: False,,1,0
openstack%2Fkolla-cli~master~Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2,openstack/kolla-cli,master,Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2,Bump ansible_version_min to 2.4,MERGED,2018-07-31 05:27:21.000000000,2018-08-02 15:31:51.000000000,2018-08-02 15:31:51.000000000,"[{'_account_id': 16520}, {'_account_id': 17386}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24147}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-31 05:27:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a79a3930ebada25f65e1ea20b80fb7c4a78fc872', 'message': 'Bump ansible_version_min to 2.4\n\nthe include_tasks is the new feature in version 2.4[0], and\nkolla use it[1], the ansible_version_min should be updated\nto version 2.4\n\nDepend-on: I273ac9e8295bfe3fb97af620c1e48e9fbbf06c6e\n\n[0]: https://docs.ansible.com/ansible/2.4/include_tasks_module.html\n[1]: https://review.openstack.org/#/c/584728/\n\nChange-Id: Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2\n'}]",0,587281,a79a3930ebada25f65e1ea20b80fb7c4a78fc872,12,6,1,22165,,,0,"Bump ansible_version_min to 2.4

the include_tasks is the new feature in version 2.4[0], and
kolla use it[1], the ansible_version_min should be updated
to version 2.4

Depend-on: I273ac9e8295bfe3fb97af620c1e48e9fbbf06c6e

[0]: https://docs.ansible.com/ansible/2.4/include_tasks_module.html
[1]: https://review.openstack.org/#/c/584728/

Change-Id: Ic955a6d808dfe9d0f8303b58207e7fbd71be78e2
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/81/587281/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a79a3930ebada25f65e1ea20b80fb7c4a78fc872,,ansible>=2.4.0,ansible>=2.2.0,1,1
openstack%2Fansible-hardening~master~I7942b301b52247564b5561f9e065f133ae91df28,openstack/ansible-hardening,master,I7942b301b52247564b5561f9e065f133ae91df28,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:13:18.000000000,2018-08-02 15:22:00.000000000,2018-08-02 15:21:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:13:18.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/352b86d36b11c5ef42a1b6818f8feb8e062479b3', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I7942b301b52247564b5561f9e065f133ae91df28\n'}]",0,588254,352b86d36b11c5ef42a1b6818f8feb8e062479b3,6,2,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: I7942b301b52247564b5561f9e065f133ae91df28
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/54/588254/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,352b86d36b11c5ef42a1b6818f8feb8e062479b3,bionic-meta, - bionic,,1,0
openstack%2Fpbr~master~I48407415bf783014a57cd57ad1e521f7d3d6b1ac,openstack/pbr,master,I48407415bf783014a57cd57ad1e521f7d3d6b1ac,builddoc: Remove support for Sphinx < 1.6,ABANDONED,2018-07-05 15:36:44.000000000,2018-08-02 15:17:31.000000000,,"[{'_account_id': 2}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 15:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/1cda5b00c8fa5be021537f69216efc72c80127c3', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2018-07-05 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/1da347d00a9d086600a30938cb94349055a300de', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2018-07-06 10:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3957afdbd6b45ebe5dbf9862a30894bc0124a963', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2018-07-06 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/37bc9bc5cf63dcdcd71cd0ac9fe6a7a9b8b5f59f', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2018-07-10 14:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/2570f5cc66b14cc2e2659bc83fad0eddfa162744', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2018-07-17 09:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7d59901d14a0ba49b00b6d3c2b961042e55704a5', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2018-07-18 09:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/c7cae50fc0787f7a2d7261a78faaa5743f942ab8', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2018-07-18 09:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/524a9b56ec9255482febe067571c4b2e49b42e6c', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2018-07-18 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/061170a01faeb3fb4b167e99c32ce591c8c4a36b', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2018-07-18 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/73764dd982a7014fb30d2cb006560e3b86b7d0da', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2018-07-19 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/77adbb7d1b817490dc6b155ec6ea965ec79ee4e2', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2018-07-23 10:08:42.000000000', 'files': ['doc/source/user/using.rst', 'pbr/builddoc.py', 'doc/source/user/compatibility.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/848b0d6bf3064876f1ce10cda3229ef2c81e60bc', 'message': ""builddoc: Remove support for Sphinx < 1.6\n\nAs noted, we're going to drop this in pbr 4.0. Time to do just that.\n\nChange-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,580416,848b0d6bf3064876f1ce10cda3229ef2c81e60bc,27,6,12,15334,,,0,"builddoc: Remove support for Sphinx < 1.6

As noted, we're going to drop this in pbr 4.0. Time to do just that.

Change-Id: I48407415bf783014a57cd57ad1e521f7d3d6b1ac
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/16/580416/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/using.rst', 'pbr/builddoc.py', 'doc/source/user/compatibility.rst']",3,1cda5b00c8fa5be021537f69216efc72c80127c3,the-great-cleanup,pbr requires Sphinx >= 1.6.,.. _sphinx-1.5: Version 1.5.0+ -------------- The ``warning-is-error`` flag is only supported by Sphinx 1.5 and will cause errors when used with older versions.,16,73
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e20586f058f4f9773f5ef3b1ca3159737d81833,openstack/openstack-ansible-openstack_hosts,master,I8e20586f058f4f9773f5ef3b1ca3159737d81833,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:13:50.000000000,2018-08-02 15:15:18.000000000,2018-08-02 15:15:18.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:13:50.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ff8690a52f96416459b631e3113f574bc23cf867', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I8e20586f058f4f9773f5ef3b1ca3159737d81833\n'}]",0,588258,ff8690a52f96416459b631e3113f574bc23cf867,6,2,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: I8e20586f058f4f9773f5ef3b1ca3159737d81833
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/58/588258/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,ff8690a52f96416459b631e3113f574bc23cf867,bionic-meta, - bionic, - bionic,1,1
openstack%2Fopenstack-ansible-os_molteniron~master~I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39,openstack/openstack-ansible-os_molteniron,master,I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:14:54.000000000,2018-08-02 15:13:15.000000000,2018-08-02 15:13:15.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:14:54.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_molteniron/commit/b4300841a25765addf9177f0fe8f43bf37cdd781', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39\n'}]",0,588271,b4300841a25765addf9177f0fe8f43bf37cdd781,6,2,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: I1524dc9ce7fa4e33bff1130792d070bbb1d7dc39
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_molteniron refs/changes/71/588271/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,b4300841a25765addf9177f0fe8f43bf37cdd781,bionic-meta, - bionic,,1,0
openstack%2Fopenstack-ansible-openstack_openrc~master~If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa,openstack/openstack-ansible-openstack_openrc,master,If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa,Add bionic to galaxy_info metadata,MERGED,2018-08-02 14:19:47.000000000,2018-08-02 15:13:10.000000000,2018-08-02 15:13:10.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 14:19:47.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/d52721067d6e080c54285015bdff8359677b493c', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa\n'}]",0,588284,d52721067d6e080c54285015bdff8359677b493c,6,2,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: If47d0cb744a5b9fffa7f5d9eab4002e22ee1aaaa
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/84/588284/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,d52721067d6e080c54285015bdff8359677b493c,bionic-meta, - bionic, - bionic,1,1
openstack%2Fpuppet-nova~master~I31f9e58b82564cc35776846f8595adcdf59906ae,openstack/puppet-nova,master,I31f9e58b82564cc35776846f8595adcdf59906ae,Add support for sync_power_state_pool_size param,MERGED,2018-07-20 08:37:44.000000000,2018-08-02 15:07:01.000000000,2018-08-02 15:07:01.000000000,"[{'_account_id': 3153}, {'_account_id': 11292}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27060}]","[{'number': 1, 'created': '2018-07-20 08:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b2a40759d0dba16b705f728d2b1be4471002bea8', 'message': 'Add support for sync_power_state_pool_size param\n\nChange-Id: I31f9e58b82564cc35776846f8595adcdf59906ae\n'}, {'number': 2, 'created': '2018-08-01 07:15:07.000000000', 'files': ['manifests/compute.pp', 'releasenotes/notes/add_sync_power_state_pool_size_param-e61b3860a4e9b806.yaml', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/78d5ecad86991badd971a95b7eb99640920933ed', 'message': 'Add support for sync_power_state_pool_size param\n\nChange-Id: I31f9e58b82564cc35776846f8595adcdf59906ae\n'}]",0,584278,78d5ecad86991badd971a95b7eb99640920933ed,14,5,2,11292,,,0,"Add support for sync_power_state_pool_size param

Change-Id: I31f9e58b82564cc35776846f8595adcdf59906ae
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/78/584278/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",2,b2a40759d0dba16b705f728d2b1be4471002bea8,sync_power_state_pool_size," it { is_expected.to contain_nova_config('DEFAULT/sync_power_state_pool_size').with_value('<SERVICE DEFAULT>') } :sync_power_state_pool_size => '10', it { is_expected.to contain_nova_config('DEFAULT/sync_power_state_pool_size').with_value('10') } ",,10,0
openstack%2Fpuppet-nova~master~I093a713a4f0ba48686de615aa8cb22b17a56917b,openstack/puppet-nova,master,I093a713a4f0ba48686de615aa8cb22b17a56917b,Add sleep in nova cron jobs,MERGED,2018-07-20 12:05:34.000000000,2018-08-02 15:03:26.000000000,2018-08-02 15:03:26.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-20 12:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/718baaefd3643e1e5832572f90be14529869a28d', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 2, 'created': '2018-07-20 12:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1ca30465034d9fc3ccce7627d67fc7058d3c3949', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 3, 'created': '2018-07-20 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/24943647e44d5045844334f93fc903e7028ca4d3', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 4, 'created': '2018-07-24 11:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d330954189e2f44d17babbf20382f54728e4e27d', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 5, 'created': '2018-07-26 06:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cf07eed2ae638253c2173a4fe882c8431b1ab493', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 6, 'created': '2018-07-26 08:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a83745534b8f0ffcda9c166aed0a87284de139bd', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 7, 'created': '2018-07-30 09:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/841d362e9ce0900d887568ede00c40aae91457b4', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 8, 'created': '2018-07-30 12:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a04298fc45a4b618c806da5e633b8e24d0e3ec86', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 9, 'created': '2018-07-30 13:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1b03b577f2f53498f5f2d86e8ab8b6861c39a132', 'message': 'Add sleep in nova cron jobs\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}, {'number': 10, 'created': '2018-08-02 11:23:11.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/316836a08cb76a8995121e9f1e1859295e15c820', 'message': 'Add sleep in nova cron jobs\n\nIf many DB cron jobs are executed at the same time, it will\ntrigger lock contention or DB spike.\n\nAdded sleep to induce random delay before running cronjobs to avoid\nrunning all cron jobs at the same time on all hosts where this\njob is configured.\n\nChange-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b\n'}]",1,584339,316836a08cb76a8995121e9f1e1859295e15c820,28,11,10,20733,,,0,"Add sleep in nova cron jobs

If many DB cron jobs are executed at the same time, it will
trigger lock contention or DB spike.

Added sleep to induce random delay before running cronjobs to avoid
running all cron jobs at the same time on all hosts where this
job is configured.

Change-Id: I093a713a4f0ba48686de615aa8cb22b17a56917b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/39/584339/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/purge_shadow_tables.pp', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb']",4,718baaefd3643e1e5832572f90be14529869a28d,cron-job-sleep," :maxdelay => 0, context 'cron with maxdelay' do before :each do params.merge!( :maxdelay => 600 ) it 'configures a cron with maxdelay' do is_expected.to contain_cron('nova-manage db archive_deleted_rows').with( :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db archive_deleted_rows --max_rows #{params[:max_rows]} >>#{params[:destination]} 2>&1"", :user => 'nova', :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => parmas[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[nova::dbsync::end]', end end ",,67,2
openstack%2Fvitrage~master~Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5,openstack/vitrage,master,Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5,determine instance id from instance ip in Prometheus datasource,MERGED,2018-08-02 10:11:31.000000000,2018-08-02 14:48:42.000000000,2018-08-02 14:48:42.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 26339}]","[{'number': 1, 'created': '2018-08-02 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/920eac94c52fa160a64a4ba0cba149ef6c090f1d', 'message': 'workaround for unrecognized instance ip in Prometheus datasource\n\nChange-Id: Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5\n'}, {'number': 2, 'created': '2018-08-02 11:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d85f8815f6d6293074f7de632e75f9d5558b6d37', 'message': 'determine instance id from instance ip in Prometheus datasource\n\nChange-Id: Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5\n'}, {'number': 3, 'created': '2018-08-02 12:27:41.000000000', 'files': ['vitrage/datasources/prometheus/driver.py', 'vitrage/tests/unit/datasources/prometheus/test_prometheus_driver.py', 'vitrage/datasources/prometheus/transformer.py', 'vitrage/datasources/prometheus/properties.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/454698ff54e6df0c0003f54647af24a1ab3ad8c3', 'message': 'determine instance id from instance ip in Prometheus datasource\n\nChange-Id: Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5\n'}]",7,588199,454698ff54e6df0c0003f54647af24a1ab3ad8c3,16,4,3,26339,,,0,"determine instance id from instance ip in Prometheus datasource

Change-Id: Ib3149d00d63aa67e76dde6fd14ec3d07b87f75e5
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/99/588199/2 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/prometheus/driver.py', 'vitrage/tests/unit/datasources/prometheus/test_prometheus_driver.py', 'vitrage/datasources/prometheus/transformer.py']",3,920eac94c52fa160a64a4ba0cba149ef6c090f1d,prometheus_datasource_workaround, instance_id = event.get('instance_id') if not instance_id: return {VProps.ID: instance_id}," hostname = get_label(event, PLabels.INSTANCE) if not hostname: hostname = hostname[:hostname.index(':')] return {VProps.ID: hostname}",36,16
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia3a55133f9f11eb8678eeff7a4062d19318aa217,openstack/tripleo-heat-templates,stable/pike,Ia3a55133f9f11eb8678eeff7a4062d19318aa217,[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.,MERGED,2018-08-01 08:55:17.000000000,2018-08-02 14:48:30.000000000,2018-08-02 14:48:30.000000000,"[{'_account_id': 6968}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-08-01 08:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ac1b2da5540fa1bd9a787efc9584e7e7951d679', 'message': '[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.\n\nManilaBackendGeneric service has been deprecated\nin Pike release. But if pike version prior to the\nservice deprecation was installed and then a minor\nupdate is performed to latest Pike an error will\nbe returned as the service is not found anymore.\nThis patch sets the service to OS::Heat::None to\nbypass this issue.\n\nCloses-Bug: #1784624\nChange-Id: Ia3a55133f9f11eb8678eeff7a4062d19318aa217\n'}, {'number': 2, 'created': '2018-08-01 09:58:48.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/223ff7805057df22eb32dab28d25e95443cf1d8b', 'message': '[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.\n\nManilaBackendGeneric service has been deprecated\nin Pike release. But if pike version prior to the\nservice deprecation was installed and then a minor\nupdate is performed to latest Pike an error will\nbe returned as the service is not found anymore.\nThis patch sets the service to OS::Heat::None to\nbypass this issue.\n\nCloses-Bug: #1784624\nChange-Id: Ia3a55133f9f11eb8678eeff7a4062d19318aa217\n'}]",2,587723,223ff7805057df22eb32dab28d25e95443cf1d8b,18,10,2,26343,,,0,"[Pike only] ManilaBackendGeneric nooped to avoid deprecated error.

ManilaBackendGeneric service has been deprecated
in Pike release. But if pike version prior to the
service deprecation was installed and then a minor
update is performed to latest Pike an error will
be returned as the service is not found anymore.
This patch sets the service to OS::Heat::None to
bypass this issue.

Closes-Bug: #1784624
Change-Id: Ia3a55133f9f11eb8678eeff7a4062d19318aa217
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/587723/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,4ac1b2da5540fa1bd9a787efc9584e7e7951d679,bug/1784624, # ManilaBackendGeneric is deprecated in Pike release OS::TripleO::Services::ManilaBackendGeneric: OS:Heat:None,,2,0
openstack%2Fnova~master~I9ff64203db23b50e8feda9cd88de41015f80ffa2,openstack/nova,master,I9ff64203db23b50e8feda9cd88de41015f80ffa2,DNM - example,ABANDONED,2018-08-02 14:31:05.000000000,2018-08-02 14:46:04.000000000,,[],"[{'number': 1, 'created': '2018-08-02 14:31:05.000000000', 'files': ['nova/scheduler/client/report.py', 'nova/conductor/manager.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/183830d944ac7bf0795eee932462030cc278fd3c', 'message': 'DNM - example\n\nChange-Id: I9ff64203db23b50e8feda9cd88de41015f80ffa2\n'}]",0,588295,183830d944ac7bf0795eee932462030cc278fd3c,2,0,1,7,,,0,"DNM - example

Change-Id: I9ff64203db23b50e8feda9cd88de41015f80ffa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/588295/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/report.py', 'nova/conductor/manager.py', 'nova/cmd/manage.py']",3,183830d944ac7bf0795eee932462030cc278fd3c,safe_connect,"from keystoneauth1 import exceptions as ks_exc try: allocations = placement.get_allocations_for_consumer( ctxt, instance.uuid, include_generation=True) except ksa_exc.ClientException as e: print(sys.std.err, ""error: failed to connect to the placement API "" ""service: %s"" % e) return "," allocations = placement.get_allocations_for_consumer( ctxt, instance.uuid, include_generation=True)",26,9
openstack%2Fnova~master~I9cf900314d71c44ec51eb190c102ddc60e13a767,openstack/nova,master,I9cf900314d71c44ec51eb190c102ddc60e13a767,Add sync_power_state_pool_size option,MERGED,2016-09-09 04:47:41.000000000,2018-08-02 14:44:21.000000000,2016-09-12 15:46:33.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 26936}]","[{'number': 1, 'created': '2016-09-09 04:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e0587bfc351563b1395ba27893fd1298d525e4f', 'message': 'Add sync_power_state_pool_size option\n\nThe sync_power_state_pool_size option allows to set\nthe number of greenthreads available for use to sync power states.\n\nIt can be used to reduce the number of concurrent requests\nmade to the hypervisor or system with real instance power states\nfor performance reasons.\n\nChange-Id: I9cf900314d71c44ec51eb190c102ddc60e13a767\n'}, {'number': 2, 'created': '2016-09-09 19:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/616cfad4eae0c405445b712682ab7dcd9ca98ce4', 'message': 'Add sync_power_state_pool_size option\n\nThe sync_power_state_pool_size option allows to set\nthe number of greenthreads available for use to sync power states.\n\nIt can be used to reduce the number of concurrent requests\nmade to the hypervisor or system with real instance power states\nfor performance reasons.\n\nCloses-bug: #1621987\nChange-Id: I9cf900314d71c44ec51eb190c102ddc60e13a767\n'}, {'number': 3, 'created': '2016-09-09 21:15:23.000000000', 'files': ['nova/conf/compute.py', 'releasenotes/notes/sync_power_state_pool_size-81d2d142bffa055b.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/386812e287198cd2d340d273753ef06075f7c05d', 'message': 'Add sync_power_state_pool_size option\n\nThe sync_power_state_pool_size option allows to set\nthe number of greenthreads available for use to sync power states.\n\nIt can be used to reduce the number of concurrent requests\nmade to the hypervisor or system with real instance power states\nfor performance reasons.\n\nCloses-bug: #1621987\nChange-Id: I9cf900314d71c44ec51eb190c102ddc60e13a767\n'}]",3,367746,386812e287198cd2d340d273753ef06075f7c05d,42,17,3,7156,,,0,"Add sync_power_state_pool_size option

The sync_power_state_pool_size option allows to set
the number of greenthreads available for use to sync power states.

It can be used to reduce the number of concurrent requests
made to the hypervisor or system with real instance power states
for performance reasons.

Closes-bug: #1621987
Change-Id: I9cf900314d71c44ec51eb190c102ddc60e13a767
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/367746/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'releasenotes/notes/sync_power_state_pool_size-81d2d142bffa055b.yaml', 'nova/compute/manager.py']",3,3e0587bfc351563b1395ba27893fd1298d525e4f,bug/1621987, self._sync_power_pool = eventlet.GreenPool( size=CONF.sync_power_state_pool_size), self._sync_power_pool = eventlet.GreenPool(),21,1
openstack%2Fpython-tripleoclient~master~I09e5998a355138c02115c3f4a424b37a61fefea1,openstack/python-tripleoclient,master,I09e5998a355138c02115c3f4a424b37a61fefea1,Set TLS cert path when user cert is provided,ABANDONED,2018-08-02 14:02:40.000000000,2018-08-02 14:34:26.000000000,,[],"[{'number': 1, 'created': '2018-08-02 14:02:40.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1efc9d6e6a9bc7a2072fa89ad5a7190cf8f23fef', 'message': 'Set TLS cert path when user cert is provided\n\nIt was still trying to use the default path.\n\nChange-Id: I09e5998a355138c02115c3f4a424b37a61fefea1\nRelated-Bug: #1785059\n'}]",0,588252,1efc9d6e6a9bc7a2072fa89ad5a7190cf8f23fef,2,0,1,10873,,,0,"Set TLS cert path when user cert is provided

It was still trying to use the default path.

Change-Id: I09e5998a355138c02115c3f4a424b37a61fefea1
Related-Bug: #1785059
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/588252/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,1efc9d6e6a9bc7a2072fa89ad5a7190cf8f23fef,bug/1785059, env_data['DeployedSSLCertificatePath'] = CONF.get( 'undercloud_service_certificate'),,2,0
openstack%2Fcompute-hyperv~master~Ib2cda086efe5547ad17decfd57b9267d16802139,openstack/compute-hyperv,master,Ib2cda086efe5547ad17decfd57b9267d16802139,Trivial: Sync renamed driver capability,MERGED,2018-08-01 09:20:29.000000000,2018-08-02 14:32:03.000000000,2018-08-02 14:32:03.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 09:20:29.000000000', 'files': ['compute_hyperv/nova/driver.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e75804f027c449f9cd92df866da69ce4f59dd331', 'message': ""Trivial: Sync renamed driver capability\n\nThe 'recreate' capability has been renamed to 'evacuate'. We need\nto pick up this change.\n\nChange-Id: Ib2cda086efe5547ad17decfd57b9267d16802139\n""}]",0,587735,e75804f027c449f9cd92df866da69ce4f59dd331,8,3,1,8543,,,0,"Trivial: Sync renamed driver capability

The 'recreate' capability has been renamed to 'evacuate'. We need
to pick up this change.

Change-Id: Ib2cda086efe5547ad17decfd57b9267d16802139
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/35/587735/1 && git format-patch -1 --stdout FETCH_HEAD,['compute_hyperv/nova/driver.py'],1,e75804f027c449f9cd92df866da69ce4f59dd331,," ""supports_evacuate"": True,"," ""supports_recreate"": True,",1,1
openstack%2Fmonasca-api~master~I95e9235556c9e639083482b63398a657c52f6abb,openstack/monasca-api,master,I95e9235556c9e639083482b63398a657c52f6abb,Upgrade the storm to 1.1.3,MERGED,2018-07-18 11:58:36.000000000,2018-08-02 14:28:02.000000000,2018-08-02 14:28:02.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-07-18 11:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/96e061553618e90aec35724c3315cf8dd4d70122', 'message': 'Upgrade the storm to 1.1.3\n\nStorm 1.1.1 is affected by the security bug CVE-2018-1332 [1].\nIt is recommended to upgrade to 1.1.3 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/104399\n\nChange-Id: I95e9235556c9e639083482b63398a657c52f6abb\n'}, {'number': 2, 'created': '2018-07-19 09:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/27a4054d835f84e942f1188d0bf53230b00642db', 'message': 'Upgrade the storm to 1.1.3\n\nStorm 1.1.1 is affected by the security bug CVE-2018-1332 [1].\nIt is recommended to upgrade to 1.1.3 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/104399\n\nStory: 2003031\nTask: 23059\n\nChange-Id: I95e9235556c9e639083482b63398a657c52f6abb\n'}, {'number': 3, 'created': '2018-07-19 09:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/73a3fb9090c99246c7482c25033d3994b3d1eb2e', 'message': 'Upgrade the storm to 1.1.3\n\nStorm 1.1.1 is affected by the security bug CVE-2018-1332 [1].\nIt is recommended to upgrade to 1.1.3 (latest in the 1.1.x series).\n\n[1]: http://www.securityfocus.com/bid/104399\n\nStory: 2003031\nTask: 23059\n\nChange-Id: I95e9235556c9e639083482b63398a657c52f6abb\n'}, {'number': 4, 'created': '2018-08-02 12:18:51.000000000', 'files': ['releasenotes/notes/storm_1.1.3-4aa16a9c648cd89b.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/054be06860e9b73835e92b524fcf66bf694cec83', 'message': 'Upgrade the storm to 1.1.3\n\nStorm 1.1.1 is affected by the security bug CVE-2018-1332 [1].\nIt is recommended to upgrade to 1.1.3 (latest in the 1.1.x series).\n\n[1]: http://www.securityfocus.com/bid/104399\n\nStory: 2003031\nTask: 23059\n\nChange-Id: I95e9235556c9e639083482b63398a657c52f6abb\n'}]",2,583554,054be06860e9b73835e92b524fcf66bf694cec83,23,4,4,21922,,,0,"Upgrade the storm to 1.1.3

Storm 1.1.1 is affected by the security bug CVE-2018-1332 [1].
It is recommended to upgrade to 1.1.3 (latest in the 1.1.x series).

[1]: http://www.securityfocus.com/bid/104399

Story: 2003031
Task: 23059

Change-Id: I95e9235556c9e639083482b63398a657c52f6abb
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/54/583554/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,96e061553618e90aec35724c3315cf8dd4d70122,storm_upgrade_1.1.3,STORM_VERSION=${STORM_VERSION:-1.1.3},STORM_VERSION=${STORM_VERSION:-1.1.1},1,1
openstack%2Fironic~master~Ibd8c98024658b13637cf38f699463ed9beb8c88f,openstack/ironic,master,Ibd8c98024658b13637cf38f699463ed9beb8c88f,Improve doc of Node serial console,MERGED,2018-07-25 02:51:59.000000000,2018-08-02 14:26:22.000000000,2018-08-02 14:26:22.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 18320}, {'_account_id': 19339}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-07-25 02:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a978531fbd10b89f9076852712b839c5c0ce455', 'message': 'Improve doc of Node serial console\n\nAccording to the response from the cloud deployment team\nat Fujitsu, there is lack of documentation for serial console.\nThis patch adds below details:\n\n- Points out the Nova doc of serial console, so deployer can refer\nto.\n- Adds some info of case serial console runs under HA config.\n\nThe content is provided by the deployment team.\n\nChange-Id: Ibd8c98024658b13637cf38f699463ed9beb8c88f\n'}, {'number': 2, 'created': '2018-07-31 03:46:43.000000000', 'files': ['doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b0084cb872f786fd1c0e9dd2779574068339e46d', 'message': 'Improve doc of Node serial console\n\nAccording to the response from the cloud deployment team\nat Fujitsu, there is lack of documentation for serial console.\nThis patch adds below details:\n\n- Points out the Nova doc of serial console, so deployer can\nrefer to.\n- Adds some info of case serial console runs under HA config.\n\nThe content is provided by the deployment team.\n\nChange-Id: Ibd8c98024658b13637cf38f699463ed9beb8c88f\n'}]",15,585597,b0084cb872f786fd1c0e9dd2779574068339e46d,22,9,2,18320,,,0,"Improve doc of Node serial console

According to the response from the cloud deployment team
at Fujitsu, there is lack of documentation for serial console.
This patch adds below details:

- Points out the Nova doc of serial console, so deployer can
refer to.
- Adds some info of case serial console runs under HA config.

The content is provided by the deployment team.

Change-Id: Ibd8c98024658b13637cf38f699463ed9beb8c88f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/585597/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/console.rst'],1,3a978531fbd10b89f9076852712b839c5c0ce455,,"Node serial console of the Bare Metal service is compatible with the serial console of the Compute service. Hence, serial consoles to Bare Metal nodes can be seen and interacted via the Dashboard service. In order to achieve that, you need to follow the guide line for `Serial Console`_ from the Compute service. When using Bare Metal serial console under High Availability (HA) configuration, you may consider some settings below. * If you use HAProxy, you may need to set the timeout for both client and server sides with appropriate values. Here is an example of the configuration for the timeout parameter. :: frontend nova_serial_console bind 192.168.20.30:6083 timeout client 10m <- This parameter is necessary use_backend nova_serial_console if <...> backend nova_serial_console balance source timeout server 10m <- This parameter is necessary option tcpka option tcplog server controller01 192.168.30.11:6083 check inter 2000 rise 2 fall 5 server controller02 192.168.30.12:6083 check inter 2000 rise 2 fall 5 * The Conpute service's caching feature may need to be enabled in order to make the Bare Metal serial console work under a HA configuration. Here is an example of caching configuration in nova.conf. .. code-block:: ini [cache] enabled = true backend = dogpile.cache.memcached memcache_servers = memcache01:11211,memcache02:11211,memcache03:11211 .. _`Serial Console`: https://docs.openstack.org/nova/latest/admin/remote-console-access.html#serial-console",,40,0
openstack%2Fironic~master~Ia6d5336ee074ac5f44226c09c3b3c239f0e50162,openstack/ironic,master,Ia6d5336ee074ac5f44226c09c3b3c239f0e50162,Deploy steps documentation,MERGED,2018-07-23 08:34:36.000000000,2018-08-02 14:23:37.000000000,2018-08-02 14:23:37.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-07-23 08:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6330d3c3c7e4727e82e23eed3b73469f0dd2530d', 'message': 'WIP: Deploy steps documentation\n\nStopped working as the train pulled into a station, still much to do...\n\nChange-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162\nStory: #1753128\nTask: #22592\n'}, {'number': 2, 'created': '2018-07-27 11:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1fbb63b85ffe75e05df1c72792c5d5dabd620d65', 'message': 'Deploy steps documentation\n\nChange-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162\nStory: #1753128\nTask: #22592\n'}, {'number': 3, 'created': '2018-07-27 13:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cad16224cc1c10ef59c22dfc843b176b33f284d', 'message': 'Deploy steps documentation\n\nChange-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162\nStory: #1753128\nTask: #22592\n'}, {'number': 4, 'created': '2018-07-27 13:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/969c0f2f73a7b5a4fc950a708a89c39040d05c3b', 'message': 'Deploy steps documentation\n\nChange-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162\nStory: #1753128\nTask: #22592\n'}, {'number': 5, 'created': '2018-08-01 15:10:35.000000000', 'files': ['doc/source/contributor/code-contribution-guide.rst', 'doc/source/admin/cleaning.rst', 'doc/source/contributor/drivers.rst', 'doc/source/admin/index.rst', 'doc/source/admin/deploy-steps.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/995b538e6ef98b06d2d1e7eb652afb8b5cc64977', 'message': 'Deploy steps documentation\n\nChange-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162\nStory: #1753128\nTask: #22592\n'}]",54,584767,995b538e6ef98b06d2d1e7eb652afb8b5cc64977,28,9,5,14826,,,0,"Deploy steps documentation

Change-Id: Ia6d5336ee074ac5f44226c09c3b3c239f0e50162
Story: #1753128
Task: #22592
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/584767/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/code-contribution-guide.rst', 'doc/source/admin/cleaning.rst', 'doc/source/admin/index.rst', 'doc/source/admin/deployment.rst']",4,6330d3c3c7e4727e82e23eed3b73469f0dd2530d,story/1753128,".. _deployment: =============== Node deployment =============== Overview ======== Node deployment is performed by Ironic to prepare a node for use by a workload. The exact procedure used depends on a number of variables, including the hardware type and interfaces assigned to a node. Customising deployment ====================== Ironic implements deployment by collecting a list of deploy steps to perform on a node from the Power, Deploy, Management, BIOS, and RAID interfaces of the driver assigned to the node. These steps are then ordered by priority and executed on the node when the node is moved to the ``deploying`` state. Nodes move to the ``deploying`` state when attempting to move to the ``active`` state (when the hardware is prepared for use by a workload). For a full understanding of all state transitions into deployment, please see :ref:`states`. Ironic added support for deploy steps in the Rocky release. Deploy steps ------------ Deploy steps are ordered from higher to lower priority, where a larger integer is a higher priority. In case of a conflict between priorities across interfaces, the following resolution order is used: Power, Management, Deploy, BIOS, and RAID interfaces. You can skip a deploy step by setting the priority for that deploy step to zero or 'None'. You can reorder the deploy steps by modifying the integer priorities of the deploy steps. See `How do I change the priority of a deploy step?`_ for more information. .. _InbandvsOutOfBandCleaning: In-band vs out-of-band ====================== Ironic uses two main methods to perform actions on a node: in-band and out-of-band. Ironic supports using both methods to clean a node. In-band ------- In-band steps are performed by ironic making API calls to a ramdisk running on the node using a deploy interface. Currently, all the deploy interfaces support in-band cleaning. By default, ironic-python-agent ships with a minimal cleaning configuration, only erasing disks. However, you can add your own cleaning steps and/or override default cleaning steps with a custom Hardware Manager. Out-of-band ----------- Out-of-band are actions performed by your management controller, such as IPMI, iLO, or DRAC. Out-of-band steps will be performed by ironic using a power or management interface. Which steps are performed depends on the hardware type and hardware itself. For Out-of-Band cleaning operations supported by iLO hardware types, refer to :ref:`ilo_node_cleaning`. FAQ === How are deploy steps ordered? ----------------------------- Deploy steps are ordered by integer priority, where a larger integer is a higher priority. In case of a conflict between priorities across hardware interfaces, the following resolution order is used: #. Power interface #. Management interface #. Deploy interface #. BIOS interface #. RAID interface How do I skip a deploy step? ---------------------------- Deploy steps with a priority of 0 or None are skipped. What deploy step is running? ---------------------------- To check what deploy step the node is performing or attempted to perform and failed, run the following command; it will return the value in the node's ``driver_internal_info`` field:: openstack baremetal node show $node_ident -f value -c driver_internal_info The ``deploy_steps`` field will contain a list of all remaining steps with their priorities, and the first one listed is the step currently in progress or that the node failed before going into ``deploy failed`` state. Troubleshooting =============== If deployment fails on a node, the node will be put into ``deploy failed`` state and placed in maintenance mode, to prevent ironic from taking actions on the node. .. TODO: Nodes in ``clean failed`` will not be powered off, as the node might be in a state such that powering it off could damage the node or remove useful information about the nature of the cleaning failure. A ``clean failed`` node can be moved to ``manageable`` state, where it cannot be scheduled by nova and you can safely attempt to fix the node. To move a node from ``clean failed`` to ``manageable``:: openstack baremetal node manage $node_ident You can now take actions on the node, such as replacing a bad disk drive. Strategies for determining why a cleaning step failed include checking the ironic conductor logs, viewing logs on the still-running ironic-python-agent (if an in-band step failed), or performing general hardware troubleshooting on the node. When the node is repaired, you can move the node back to ``available`` state, to allow it to be scheduled by nova. :: # First, move it out of maintenance mode openstack baremetal node maintenance unset $node_ident # Now, make the node available for scheduling by nova openstack baremetal node provide $node_ident The node will begin automated cleaning from the start, and move to ``available`` state when complete. ",,148,5
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Fqueens~Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,openstack/openstack-ansible-apt_package_pinning,stable/queens,Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7,Add bionic to galaxy_info metadata,ABANDONED,2018-08-02 14:13:23.000000000,2018-08-02 14:14:24.000000000,,[],"[{'number': 1, 'created': '2018-08-02 14:13:23.000000000', 'files': ['meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/caae49e0e5a807d64ec8474b5435c90057a8ffd7', 'message': 'Add bionic to galaxy_info metadata\n\nChange-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7\n'}]",0,588255,caae49e0e5a807d64ec8474b5435c90057a8ffd7,2,0,1,25023,,,0,"Add bionic to galaxy_info metadata

Change-Id: Ie33f2d649d6d8fc4c07147c26b840acdb08aafe7
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/55/588255/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,caae49e0e5a807d64ec8474b5435c90057a8ffd7,bionic-meta, - bionic,,1,0
openstack%2Ftripleo-quickstart-extras~master~I8d38369198bcb2dff67cc760586dc763457a5a2b,openstack/tripleo-quickstart-extras,master,I8d38369198bcb2dff67cc760586dc763457a5a2b,DO NOT MERGE,ABANDONED,2018-08-01 20:17:55.000000000,2018-08-02 14:06:33.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 20:17:55.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2677177b47dcd4d7bfbc54a69308010afec36240', 'message': 'DO NOT MERGE\n\nChange-Id: I8d38369198bcb2dff67cc760586dc763457a5a2b\n'}]",0,588073,2677177b47dcd4d7bfbc54a69308010afec36240,5,3,1,21686,,,0,"DO NOT MERGE

Change-Id: I8d38369198bcb2dff67cc760586dc763457a5a2b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/588073/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,2677177b47dcd4d7bfbc54a69308010afec36240,dnm_foo,Team and repository tags test text,Team and repository tags,1,1
openstack%2Fironic-python-agent~master~Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9,openstack/ironic-python-agent,master,Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9,Collect IPv6 address during introspection,MERGED,2018-01-21 14:58:05.000000000,2018-08-02 14:05:14.000000000,2018-08-02 14:05:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 18480}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-01-21 14:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/92f6d026c320beb80e05e8ebd18dabef1063953e', 'message': 'get IPv6 address of network interface in function get_interface_info\n\nwhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, this not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nPartial-Bug: #1744064\n'}, {'number': 2, 'created': '2018-01-23 13:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e3b202bc540bb230467588e0164426f71fb4f2cc', 'message': 'get IPv6 address of network interface in function get_interface_info\n\nwhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, this not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nPartial-Bug: #1744064\n'}, {'number': 3, 'created': '2018-01-23 13:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f9d5103ee588b039009724b470bb5d47bdfa8df4', 'message': 'get IPv6 address of network interface in function get_interface_info\n\nwhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, this not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nPartial-Bug: #1744064\n'}, {'number': 4, 'created': '2018-02-04 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5e24e1a0bf3694dce838338198fe9c35b8e4b94b', 'message': 'get IPv6 address of network interface in function get_interface_info\n\nwhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, this not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nPartial-Bug: #1744064\n'}, {'number': 5, 'created': '2018-03-15 14:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca7b47fc5956cfe46eaff6a02d835483e3fff531', 'message': 'Get IPv6 address of network interface in function get_interface_info\n\nWhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, which is not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nCloses-Bug: #1744064\n'}, {'number': 6, 'created': '2018-03-15 14:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/49af46ca7c602c7b54f6fa4f3bb9a9c03a83bc41', 'message': 'Get IPv6 address of network interface in function get_interface_info\n\nWhen IPA running over IPv6 network environment, only get network interface\nIPv4 address will lead to interface ip is None, which is not reasonable.\n\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nCloses-Bug: #1744064\n'}, {'number': 7, 'created': '2018-07-18 03:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/953324de7e78d06224d745fb2d93ed215c65c111', 'message': 'Collect IPv6 address during introspection\n\nThis patch adds support to retrieve IPv6 address.\n\nA new field ``ipv6_address`` is added to NetworkInterface\nand store the assigned IPv6 address (if any).\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nCloses-Bug: #1744064\nStory: #1744064\nTask: #11604\n'}, {'number': 8, 'created': '2018-07-18 03:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d7078f9999c42d77818c2cc202263d5d5f8663d2', 'message': 'Collect IPv6 address during introspection\n\nThis patch adds support to retrieve IPv6 address.\n\nA new field ``ipv6_address`` is added to NetworkInterface\nand store the assigned IPv6 address (if any).\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nCloses-Bug: #1744064\nStory: #1744064\nTask: #11604\n'}, {'number': 9, 'created': '2018-07-24 01:23:55.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/support-collecting-ipv6-address-dd819d543f851a63.yaml', 'ironic_python_agent/netutils.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/561be773031ff071b576e5dab2e1d2ded28c1ced', 'message': 'Collect IPv6 address during introspection\n\nThis patch adds support to retrieve IPv6 address.\n\nA new field ``ipv6_address`` is added to NetworkInterface\nand store the assigned IPv6 address (if any).\n\nCo-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>\nChange-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9\nCloses-Bug: #1744064\nStory: #1744064\nTask: #11604\n'}]",16,536136,561be773031ff071b576e5dab2e1d2ded28c1ced,40,7,9,18480,,,0,"Collect IPv6 address during introspection

This patch adds support to retrieve IPv6 address.

A new field ``ipv6_address`` is added to NetworkInterface
and store the assigned IPv6 address (if any).

Co-Authored-By: Kaifeng Wang <kaifeng.w@gmail.com>
Change-Id: Ia527a5aa48e3daf66d2be190e43935b38b3bd6f9
Closes-Bug: #1744064
Story: #1744064
Task: #11604
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/36/536136/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/netutils.py', 'ironic_python_agent/tests/unit/test_hardware.py']",3,92f6d026c320beb80e05e8ebd18dabef1063953e,bug/1744064," netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address) netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address) netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address) netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address) netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address) netifaces.AF_INET: [{'addr': '192.168.1.2'}], netifaces.AF_INET6: [{'addr': 'ff01::101'}] self.assertEqual('ff01::101', interfaces[0].ipv6_address)", netifaces.AF_INET: [{'addr': '192.168.1.2'}] netifaces.AF_INET: [{'addr': '192.168.1.2'}] netifaces.AF_INET: [{'addr': '192.168.1.2'}] netifaces.AF_INET: [{'addr': '192.168.1.2'}] netifaces.AF_INET: [{'addr': '192.168.1.2'}] netifaces.AF_INET: [{'addr': '192.168.1.2'}],35,9
openstack%2Fironic-inspector~master~I416e42137e59e04f7fd282aa309f2f89cf574209,openstack/ironic-inspector,master,I416e42137e59e04f7fd282aa309f2f89cf574209,Stop introspection if set boot device failed,MERGED,2018-07-18 09:01:20.000000000,2018-08-02 14:01:55.000000000,2018-08-02 14:01:55.000000000,"[{'_account_id': 8871}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25675}]","[{'number': 1, 'created': '2018-07-18 09:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f6cb0b21a348075d0870206bbd746a90fe7436c1', 'message': 'Stop introspection if set boot device failed\n\nAt the beginning of introspection, ironic inspector sets boot device and\nreboot node through ironic, currently it only stops when reboot the node\nis failed. Actually the node is not guaranteed to reboot with pxe in either\ncase.\n\nThis patch eliminates the descripency, so that if anything goes wrong, it\nwill be exposed early.\n\nChange-Id: I416e42137e59e04f7fd282aa309f2f89cf574209\nStory: #2002977\nTask: #22985\n'}, {'number': 2, 'created': '2018-07-20 08:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/75db146b3a84571505dd3182cdb784cf5503eac8', 'message': 'Stop introspection if set boot device failed\n\nAt the beginning of introspection, ironic inspector sets boot device and\nreboot node through ironic, currently it only stops when reboot the node\nis failed. Actually the node is not guaranteed to reboot with pxe in either\ncase.\n\nThis patch eliminates the descripency, so that if anything goes wrong, it\nwill be exposed early.\n\nChange-Id: I416e42137e59e04f7fd282aa309f2f89cf574209\nStory: #2002977\nTask: #22985\n'}, {'number': 3, 'created': '2018-08-02 00:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6569ec04fa8c203b629b1a73694049e869ec5069', 'message': 'Stop introspection if set boot device failed\n\nAt the beginning of introspection, ironic inspector sets boot device and\nreboot node through ironic, currently it only stops when reboot the node\nis failed. Actually the node is not guaranteed to reboot with pxe in either\ncase.\n\nThis patch eliminates the descripency, so that if anything goes wrong, it\nwill be exposed early.\n\nChange-Id: I416e42137e59e04f7fd282aa309f2f89cf574209\nStory: #2002977\nTask: #22985\n'}, {'number': 4, 'created': '2018-08-02 08:20:13.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'releasenotes/notes/stop-when-setbootdev-failed-68d84fec0843bdc8.yaml', 'ironic_inspector/introspect.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1ad6f695933b51b5dbd89ae6e03faa7fa071799c', 'message': 'Stop introspection if set boot device failed\n\nAt the beginning of introspection, ironic inspector sets boot device and\nreboot node through ironic, currently it only stops when reboot the node\nis failed. Actually the node is not guaranteed to reboot with pxe in either\ncase.\n\nThis patch eliminates the descripency, so that if anything goes wrong, it\nwill be exposed early.\n\nChange-Id: I416e42137e59e04f7fd282aa309f2f89cf574209\nStory: #2002977\nTask: #22985\n'}]",3,583519,1ad6f695933b51b5dbd89ae6e03faa7fa071799c,24,7,4,24828,,,0,"Stop introspection if set boot device failed

At the beginning of introspection, ironic inspector sets boot device and
reboot node through ironic, currently it only stops when reboot the node
is failed. Actually the node is not guaranteed to reboot with pxe in either
case.

This patch eliminates the descripency, so that if anything goes wrong, it
will be exposed early.

Change-Id: I416e42137e59e04f7fd282aa309f2f89cf574209
Story: #2002977
Task: #22985
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/19/583519/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py']",2,f6cb0b21a348075d0870206bbd746a90fe7436c1,story/2002977," raise utils.Error(_('Failed to set boot device to PXE: %s'), exc, node_info=node_info)"," LOG.warning('Failed to set boot device to PXE: %s', exc, node_info=node_info)",24,2
openstack%2Fcompute-hyperv~master~Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1,openstack/compute-hyperv,master,Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1,Switch to stestr,MERGED,2018-07-10 03:11:30.000000000,2018-08-02 14:00:55.000000000,2018-08-02 14:00:55.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-10 03:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a2760c8b12f18723040372df8f1dbfeb432deb7f', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1\n""}, {'number': 2, 'created': '2018-07-10 03:31:14.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ce3f8b7fc185d8482fa970ce80871747542ec2e5', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1\n""}]",0,581174,ce3f8b7fc185d8482fa970ce80871747542ec2e5,13,3,2,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: Ic328c6d6f47fabd3a9b8c013e60dfd44e9d38ac1
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/74/581174/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,a2760c8b12f18723040372df8f1dbfeb432deb7f,stestr,[DEFAULT] test_path=./compute_hyperv/tests top_dir=./ ,,14,17
openstack%2Fnova~stable%2Fqueens~I78c2a34b3d03438457cc968cd0a38b8131e4f6e6,openstack/nova,stable/queens,I78c2a34b3d03438457cc968cd0a38b8131e4f6e6,Call generate_image_url only for legacy notification,MERGED,2018-07-23 17:05:04.000000000,2018-08-02 14:00:47.000000000,2018-08-02 14:00:47.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-23 17:05:04.000000000', 'files': ['nova/notifications/base.py', 'nova/tests/unit/notifications/test_base.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59075b8243e869774e29bd3b378723947c0b3a20', 'message': 'Call generate_image_url only for legacy notification\n\nThe legacy instance.exists notification includes the full url of the glance\nimage of the given instance. But the versioned notification only includes\nthe image uuid. Generating the full url can be a costly operation as it\nneeds to talk to Keystone.\n\nSo this patch makes sure that generate_image_url only called when the\ngenerated information will be used.\n\n Conflicts:\n\tnova/compute/utils.py\n\tnova/notifications/base.py\n\tnova/tests/unit/notifications/test_base.py\n\nNOTE(elod.illes): conflict caused by parameter system_metadata which is not\nthere on master anymore.\n\nChange-Id: I78c2a34b3d03438457cc968cd0a38b8131e4f6e6\nCloses-Bug: #1757407\n(cherry picked from commit 93b897348bde072969f67e43875ce08e5d420b8a)\n'}]",0,584969,59075b8243e869774e29bd3b378723947c0b3a20,11,8,1,17685,,,0,"Call generate_image_url only for legacy notification

The legacy instance.exists notification includes the full url of the glance
image of the given instance. But the versioned notification only includes
the image uuid. Generating the full url can be a costly operation as it
needs to talk to Keystone.

So this patch makes sure that generate_image_url only called when the
generated information will be used.

 Conflicts:
	nova/compute/utils.py
	nova/notifications/base.py
	nova/tests/unit/notifications/test_base.py

NOTE(elod.illes): conflict caused by parameter system_metadata which is not
there on master anymore.

Change-Id: I78c2a34b3d03438457cc968cd0a38b8131e4f6e6
Closes-Bug: #1757407
(cherry picked from commit 93b897348bde072969f67e43875ce08e5d420b8a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/584969/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/base.py', 'nova/tests/unit/notifications/test_base.py', 'nova/compute/utils.py']",3,59075b8243e869774e29bd3b378723947c0b3a20,bug/1757407," network_info, system_metadata, populate_image_ref_url=True, **extra_usage_info)"," network_info, system_metadata, **extra_usage_info)",54,21
openstack%2Fironic~master~I78e96df2e6b5daabcaea203ebbc1ecd7939557c0,openstack/ironic,master,I78e96df2e6b5daabcaea203ebbc1ecd7939557c0,release mappings: first object version must be latest,ABANDONED,2018-08-01 13:05:45.000000000,2018-08-02 13:50:20.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 13:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9bd314d28927770bfff3346137e31008900499d', 'message': 'release mappings: first object version must be latest\n\nFor objects in the release mappings, the first version in the\nlist must be the latest/highest version. This is due to laziness;\ncode in objects/base.py, get_target_version() uses the first value\nas the desired target version. (We could look for the highest\nversion there, but this unit test should be sufficient.)\n\nChange-Id: I78e96df2e6b5daabcaea203ebbc1ecd7939557c0\n'}, {'number': 2, 'created': '2018-08-01 21:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2774c1815396fbe37096be247ab90081feb79d3', 'message': 'release mappings: first object version must be latest\n\nFor objects in the release mappings, the first version in the\nlist must be the latest/highest version. This is due to laziness;\ncode in objects/base.py, get_target_version() uses the first value\nas the desired target version. (We could look for the highest\nversion there, but this unit test should be sufficient.)\n\nChange-Id: I78e96df2e6b5daabcaea203ebbc1ecd7939557c0\n'}, {'number': 3, 'created': '2018-08-02 02:04:59.000000000', 'files': ['ironic/tests/unit/common/test_release_mappings.py', 'ironic/common/release_mappings.py', 'ironic/objects/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/97ea572c53a874aa042c6ea35a300ee8b42e18c8', 'message': 'release mappings: first object version must be latest\n\nFor objects in the release mappings, the first version in the\nlist must be the latest/highest version. This is due to laziness;\ncode in objects/base.py, get_target_version() uses the first value\nas the desired target version. (We could look for the highest\nversion there, but this unit test should be sufficient.)\n\nChange-Id: I78e96df2e6b5daabcaea203ebbc1ecd7939557c0\n'}]",0,587814,97ea572c53a874aa042c6ea35a300ee8b42e18c8,21,7,3,6618,,,0,"release mappings: first object version must be latest

For objects in the release mappings, the first version in the
list must be the latest/highest version. This is due to laziness;
code in objects/base.py, get_target_version() uses the first value
as the desired target version. (We could look for the highest
version there, but this unit test should be sufficient.)

Change-Id: I78e96df2e6b5daabcaea203ebbc1ecd7939557c0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/587814/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_release_mappings.py', 'ironic/common/release_mappings.py', 'ironic/objects/base.py']",3,b9bd314d28927770bfff3346137e31008900499d,version_order," # NOTE(rloo): we assume that if there is more than one # version, the first one in the list is the highest/latest one.",,24,8
openstack%2Fneutron~stable%2Fpike~I6293169d7d7f35e3a9726071e63003ac569dd01e,openstack/neutron,stable/pike,I6293169d7d7f35e3a9726071e63003ac569dd01e,[Fullstack] HA L3 agent restart only standby agents,MERGED,2018-07-16 11:16:56.000000000,2018-08-02 13:45:55.000000000,2018-08-02 13:45:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26431}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-07-16 11:16:56.000000000', 'files': ['neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5584db43a1764a7baf4d79c590374536d3faba4', 'message': ""[Fullstack] HA L3 agent restart only standby agents\n\nIn fullstack test which is testing if there is no packet lost\nduring restart of agents there were restarted always all agents\nwhich hosted router.\nIn case when as first was restarted 'master' agent it might\nlead to the case when after restart 'master' node was switched\nto second L3 agent and that caused lost of few packets and\nfailed test.\nThis test should only check if restart of standby agents will\nnot cause any packet lost so this patch do it in this way.\n\nChange-Id: I6293169d7d7f35e3a9726071e63003ac569dd01e\nCloses-Bug: #1776459\n(cherry picked from commit c57a5d9d8aef4a9b89e3d41c293ceb40d7ebad22)\n""}]",0,582922,e5584db43a1764a7baf4d79c590374536d3faba4,105,10,1,11975,,,0,"[Fullstack] HA L3 agent restart only standby agents

In fullstack test which is testing if there is no packet lost
during restart of agents there were restarted always all agents
which hosted router.
In case when as first was restarted 'master' agent it might
lead to the case when after restart 'master' node was switched
to second L3 agent and that caused lost of few packets and
failed test.
This test should only check if restart of standby agents will
not cause any packet lost so this patch do it in this way.

Change-Id: I6293169d7d7f35e3a9726071e63003ac569dd01e
Closes-Bug: #1776459
(cherry picked from commit c57a5d9d8aef4a9b89e3d41c293ceb40d7ebad22)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/582922/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py']",2,e5584db43a1764a7baf4d79c590374536d3faba4,bug/1776459," def _get_l3_agents_with_ha_state(self, l3_agents, router_id, ha_state): found_agents = [] agents_hosting_router = self.client.list_l3_agent_hosting_routers( router_id)['agents'] for agent in l3_agents: agent_host = agent.neutron_cfg_fixture.get_host() for agent_hosting_router in agents_hosting_router: if (agent_hosting_router['host'] == agent_host and agent_hosting_router['ha_state'] == ha_state): found_agents.append(agent) break return found_agents def test_ha_router_restart_standby_agents_no_packet_lost(self): l3_standby_agents = self._get_l3_agents_with_ha_state( l3_agents, router['id'], 'standby') l3_standby_agents, external_vm.namespace, [router_ip], count=60)"," def test_ha_router_restart_agents_no_packet_lost(self): l3_agents, external_vm.namespace, [router_ip], count=60)",20,2
openstack%2Fkuryr-kubernetes~master~I67b284c08d11be7ec7c51214405fd03678fae3b5,openstack/kuryr-kubernetes,master,I67b284c08d11be7ec7c51214405fd03678fae3b5,Ensure project id is returned for DefaultNamespaceProjectDriver,MERGED,2018-08-02 11:16:54.000000000,2018-08-02 13:39:30.000000000,2018-08-02 13:39:30.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 11:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6b13db046117677064e5c8af57a38ce1c31691bf', 'message': 'Ensure project id is returned for DefaultNamespaceProjectDriver\n\nCloses-Bug: 1785046\nChange-Id: I67b284c08d11be7ec7c51214405fd03678fae3b5\n'}, {'number': 2, 'created': '2018-08-02 11:30:15.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_default_project.py', 'kuryr_kubernetes/controller/drivers/default_project.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d0918128ce137280abcc20bec225a1f7c2258e6', 'message': 'Ensure project id is returned for DefaultNamespaceProjectDriver\n\nIt also adds the missing unittest to ensure it does not happen again\n\nCloses-Bug: 1785046\nChange-Id: I67b284c08d11be7ec7c51214405fd03678fae3b5\n'}]",0,588214,9d0918128ce137280abcc20bec225a1f7c2258e6,11,3,2,23567,,,0,"Ensure project id is returned for DefaultNamespaceProjectDriver

It also adds the missing unittest to ensure it does not happen again

Closes-Bug: 1785046
Change-Id: I67b284c08d11be7ec7c51214405fd03678fae3b5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/588214/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/default_project.py'],1,6b13db046117677064e5c8af57a38ce1c31691bf,bug/1785046, return project_id ,,2,0
openstack%2Fsahara-image-elements~master~I094045a665a4441029fa4930e278e94d0cff50f8,openstack/sahara-image-elements,master,I094045a665a4441029fa4930e278e94d0cff50f8,"Use the correct ""or"" operator to check the spark version",MERGED,2018-08-02 08:12:20.000000000,2018-08-02 13:33:17.000000000,2018-08-02 13:33:16.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 08:12:20.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/5eeec728593d88bb5a220b43206bf5a071151bbd', 'message': 'Use the correct ""or"" operator to check the spark version\n\nIt clearly slipped through the review...\n\nStory: 2003281\nTask: 24222\nChange-Id: I094045a665a4441029fa4930e278e94d0cff50f8\n'}]",0,588169,5eeec728593d88bb5a220b43206bf5a071151bbd,6,2,1,10459,,,0,"Use the correct ""or"" operator to check the spark version

It clearly slipped through the review...

Story: 2003281
Task: 24222
Change-Id: I094045a665a4441029fa4930e278e94d0cff50f8
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/69/588169/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,5eeec728593d88bb5a220b43206bf5a071151bbd,," if [ ""$DIB_SPARK_VERSION"" = ""2.2.0"" -o ""$DIB_SPARK_VERSION"" = ""2.3.0"" ]; then"," if [ ""$DIB_SPARK_VERSION"" = ""2.2.0"" || ""$DIB_SPARK_VERSION"" = ""2.3.0"" ]; then",1,1
openstack%2Fgovernance~master~I1588eaf7c00d855281f81c88f03366a4a3daf1b5,openstack/governance,master,I1588eaf7c00d855281f81c88f03366a4a3daf1b5,update link from python3-first goal to storyboard,MERGED,2018-08-01 16:56:28.000000000,2018-08-02 13:28:46.000000000,2018-08-02 13:28:46.000000000,"[{'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/679ffd6919c7881770e061df4fc6a92fc15bf01a', 'message': 'update link from python3-first goal to storyboard\n\nWe are using one story per team rather than a single story, so update\nthe link in the goal page to point to the query based on the tag\nrather than linking to a single story.\n\nChange-Id: I1588eaf7c00d855281f81c88f03366a4a3daf1b5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-08-01 17:11:29.000000000', 'files': ['goals/stein/python3-first.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/96035e1e3d701fb280e93abb67e0e2be6b6a8fc4', 'message': 'update link from python3-first goal to storyboard\n\nWe are using one story per team rather than a single story, so update\nthe link in the goal page to point to the query based on the tag\nrather than linking to a single story.\n\nAdd a second link to the dashboard, which shows the stories in\ndifferent lanes based on whether they are completed or not.\n\nChange-Id: I1588eaf7c00d855281f81c88f03366a4a3daf1b5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587916,96035e1e3d701fb280e93abb67e0e2be6b6a8fc4,12,4,2,2472,,,0,"update link from python3-first goal to storyboard

We are using one story per team rather than a single story, so update
the link in the goal page to point to the query based on the tag
rather than linking to a single story.

Add a second link to the dashboard, which shows the stories in
different lanes based on whether they are completed or not.

Change-Id: I1588eaf7c00d855281f81c88f03366a4a3daf1b5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/16/587916/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/stein/python3-first.rst'],1,679ffd6919c7881770e061df4fc6a92fc15bf01a,documentation-change,:Storyboard stories: https://storyboard.openstack.org/#!/search?tags=goal-python3-first,:Storyboard Story: https://storyboard.openstack.org/#!/story/2002586,1,1
openstack%2Fgovernance~master~Ic249596f5cd7c1591d13fd3e9b558845703a1e68,openstack/governance,master,Ic249596f5cd7c1591d13fd3e9b558845703a1e68,teach check-review-status to report verification failures,MERGED,2018-08-01 16:37:03.000000000,2018-08-02 13:28:45.000000000,2018-08-02 13:28:45.000000000,"[{'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:37:03.000000000', 'files': ['tools/check_review_status.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/9be9e468d857be94e98ea7bcf727365aadc5a7b4', 'message': 'teach check-review-status to report verification failures\n\nDo not report that a change can be approved if it has failed a\nverification job.\n\nChange-Id: Ic249596f5cd7c1591d13fd3e9b558845703a1e68\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587879,9be9e468d857be94e98ea7bcf727365aadc5a7b4,8,4,1,2472,,,0,"teach check-review-status to report verification failures

Do not report that a change can be approved if it has failed a
verification job.

Change-Id: Ic249596f5cd7c1591d13fd3e9b558845703a1e68
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/79/587879/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_review_status.py'],1,9be9e468d857be94e98ea7bcf727365aadc5a7b4,code-change," verified = count_votes(change, 'Verified') elif verified[-1]: can_approve = 'NO, verification failure' ",,4,0
openstack%2Fcompute-hyperv~master~If13a465000648dfbf1e229a3b8d765e8b3204db4,openstack/compute-hyperv,master,If13a465000648dfbf1e229a3b8d765e8b3204db4,tests: uses oslotest as the test base,MERGED,2018-08-01 13:55:34.000000000,2018-08-02 13:28:02.000000000,2018-08-02 13:28:02.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 13:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/658cbd86112a1cc85a1abbd0113f27a0b7f59535', 'message': 'WIP: tests: stop using mock.patch.stopall\n\nChange-Id: If13a465000648dfbf1e229a3b8d765e8b3204db4\n'}, {'number': 2, 'created': '2018-08-02 12:34:29.000000000', 'files': ['compute_hyperv/tests/unit/test_base.py', 'compute_hyperv/tests/test.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/8dd291019570c1a2b4f5b61cbebb50f166accf49', 'message': ""tests: uses oslotest as the test base\n\noslotest's base will add mock.patch.stopall, so we don't have to.\n\nChange-Id: If13a465000648dfbf1e229a3b8d765e8b3204db4\n""}]",0,587827,8dd291019570c1a2b4f5b61cbebb50f166accf49,10,3,2,8213,,,0,"tests: uses oslotest as the test base

oslotest's base will add mock.patch.stopall, so we don't have to.

Change-Id: If13a465000648dfbf1e229a3b8d765e8b3204db4
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/27/587827/2 && git format-patch -1 --stdout FETCH_HEAD,['compute_hyperv/tests/unit/test_base.py'],1,658cbd86112a1cc85a1abbd0113f27a0b7f59535,, self.addCleanup(utilsfactory_patcher.stop) self.addCleanup(patcher.stop), self.addCleanup(mock.patch.stopall),2,1
openstack%2Fsahara~master~I27d2bc4ad9340440878a2f342549d7fe74ee7e68,openstack/sahara,master,I27d2bc4ad9340440878a2f342549d7fe74ee7e68,Allow overriding of /etc/hosts entries,MERGED,2018-06-04 19:35:35.000000000,2018-08-02 13:24:53.000000000,2018-08-02 13:24:53.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-06-04 19:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/48ae20a67da440a3e6603e0b829dc0c66df6a594', 'message': 'WIP Allow overriding of /etc/hosts entries\n\nWIP WIP WIP just cleaning out the hard drive\n\nChange-Id: I27d2bc4ad9340440878a2f342549d7fe74ee7e68\nStory: 2001737\nTask: 12092\n'}, {'number': 2, 'created': '2018-07-31 16:00:20.000000000', 'files': ['sahara/utils/cluster.py', 'sahara/config.py', 'sahara/tests/unit/utils/test_cluster.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/bf68afba5fd4a31ad924ca088bf123321583f628', 'message': 'Allow overriding of /etc/hosts entries\n\nSometimes the DNS lookup performed where Sahara services are running\nmay be inaccurate.\n\nChange-Id: I27d2bc4ad9340440878a2f342549d7fe74ee7e68\nStory: 2001737\nTask: 12092\n'}]",0,572191,bf68afba5fd4a31ad924ca088bf123321583f628,10,4,2,23078,,,0,"Allow overriding of /etc/hosts entries

Sometimes the DNS lookup performed where Sahara services are running
may be inaccurate.

Change-Id: I27d2bc4ad9340440878a2f342549d7fe74ee7e68
Story: 2001737
Task: 12092
",git fetch https://review.opendev.org/openstack/sahara refs/changes/91/572191/2 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/utils/cluster.py', 'sahara/config.py', 'sahara/tests/unit/utils/test_cluster.py']",3,48ae20a67da440a3e6603e0b829dc0c66df6a594,socket-gethostbyname," @mock.patch(""socket.gethostbyname"") @mock.patch(""sahara.utils.openstack.base.url_for"") def test_etc_hosts_entry_for_service_overrides(self, mock_url, mock_get_host): self.override_config(""object_store_ip_accessible"", None) mock_url.return_value = ""http://swift.org"" mock_get_host.return_value = '1.1.1.1' res = cluster_utils.etc_hosts_entry_for_service('object-store') self.assertEqual('1.1.1.1 swift.org\n', res) self.override_config(""object_store_ip_accessible"", '2.2.2.2') res = cluster_utils.etc_hosts_entry_for_service('object-store') self.assertEqual('2.2.2.2 swift.org\n', res)",,39,0
openstack%2Fpuppet-senlin~master~Iaad63669d2414e01b44d5807b01bc9f410d8eb83,openstack/puppet-senlin,master,Iaad63669d2414e01b44d5807b01bc9f410d8eb83,Remove the unnecessary _,ABANDONED,2018-08-02 09:29:05.000000000,2018-08-02 13:24:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-02 09:29:05.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/c5ad04b0bc137c439c1b020c14eef35cba889802', 'message': 'Remove the unnecessary _\n\nChange-Id: Iaad63669d2414e01b44d5807b01bc9f410d8eb83\n'}]",0,588188,c5ad04b0bc137c439c1b020c14eef35cba889802,3,1,1,28637,,,0,"Remove the unnecessary _

Change-Id: Iaad63669d2414e01b44d5807b01bc9f410d8eb83
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/88/588188/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,c5ad04b0bc137c439c1b020c14eef35cba889802,,----------,-------------,1,1
openstack%2Fpuppet-openstack-guide~master~Id3d31635bafea7eda29629f01d7e578ff02e96b5,openstack/puppet-openstack-guide,master,Id3d31635bafea7eda29629f01d7e578ff02e96b5,Update repository to https,ABANDONED,2018-08-01 16:05:52.000000000,2018-08-02 13:23:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-01 16:05:52.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7d7556de77d2f80885a63f477c4f96f892024266', 'message': 'Update repository to https\n\nChange-Id: Id3d31635bafea7eda29629f01d7e578ff02e96b5\n'}]",0,587868,7d7556de77d2f80885a63f477c4f96f892024266,3,1,1,22165,,,0,"Update repository to https

Change-Id: Id3d31635bafea7eda29629f01d7e578ff02e96b5
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/68/587868/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,7d7556de77d2f80885a63f477c4f96f892024266,,"* `Alarming <https://git.openstack.org/cgit/openstack/puppet-aodh/>`_ (*Aodh*) * `Key Manager <https://git.openstack.org/cgit/openstack/puppet-barbican/>`_ (*Barbican*) * `Telemetry <https://git.openstack.org/cgit/openstack/puppet-ceilometer/>`_ (*Ceilometer*) * `Block Storage <https://git.openstack.org/cgit/openstack/puppet-cinder/>`_ (*Cinder*) * `Rating service <https://git.openstack.org/cgit/openstack/puppet-cloudkitty/>`_ (*Cloudkitty*) * `Policy <https://git.openstack.org/cgit/openstack/puppet-congress/>`_ (*Congress*) * `DNS <https://git.openstack.org/cgit/openstack/puppet-designate/>`_ (*Designate*) * `EC2 API service <https://git.openstack.org/cgit/openstack/puppet-ec2api/>`_ (*EC2API*) * `Backup, Restore, and Disaster Recovery service <https://git.openstack.org/cgit/openstack/puppet-freezer/>`_ (*Freezer*) * `Image Service <https://git.openstack.org/cgit/openstack/puppet-glance/>`_ (*Glance*) * `GLare Artifact Repository <https://git.openstack.org/cgit/openstack/puppet-glare/>`_ (*Glare*) * `Time Series Database <https://git.openstack.org/cgit/openstack/puppet-gnocchi/>`_ (*Gnocchi*) * `Orchestration <https://git.openstack.org/cgit/openstack/puppet-heat/>`_ (*Heat*) * `Dashboard <https://git.openstack.org/cgit/openstack/puppet-horizon/>`_ (*Horizon*) * `Bare Metal <https://git.openstack.org/cgit/openstack/puppet-ironic/>`_ (*Ironic*) * `Identity <https://git.openstack.org/cgit/openstack/puppet-keystone/>`_ (*Keystone*) * `Containers Orchestration <https://git.openstack.org/cgit/openstack/puppet-magnum/>`_ (*Magnum*) * `Shared Filesystems <https://git.openstack.org/cgit/openstack/puppet-manila/>`_ (*Manila*) * `Workflow Service <https://git.openstack.org/cgit/openstack/puppet-mistral/>`_ (*Mistral*) * `Monitoring <https://git.openstack.org/cgit/openstack/puppet-monasca/>`_ (*Monasca*) * `Application Catalog <https://git.openstack.org/cgit/openstack/puppet-murano/>`_ (*Murano*) * `Networking <https://git.openstack.org/cgit/openstack/puppet-neutron/>`_ (*Neutron*) * `Compute <https://git.openstack.org/cgit/openstack/puppet-nova/>`_ (*Nova*) * `Load Balancer <https://git.openstack.org/cgit/openstack/puppet-octavia/>`_ (*Octavia*) * `Oslo Libraries <https://git.openstack.org/cgit/openstack/puppet-oslo/>`_ (*Oslo*) * `Benchmarking <https://git.openstack.org/cgit/openstack/puppet-rally/>`_ (*Rally*) * `Data Processing <https://git.openstack.org/cgit/openstack/puppet-sahara/>`_ (*Sahara*) * `Object Storage <https://git.openstack.org/cgit/openstack/puppet-swift/>`_ (*Swift*) * `Testing <https://git.openstack.org/cgit/openstack/puppet-tempest/>`_ (*Tempest*) * `Deployment <https://git.openstack.org/cgit/openstack/puppet-tripleo/>`_ (*TripleO*) * `Database Service <https://git.openstack.org/cgit/openstack/puppet-trove/>`_ (*Trove*) * `Root Cause Analysis <https://git.openstack.org/cgit/openstack/puppet-vitrage/>`_ (*Vitrage*) * `Resource Optimization <https://git.openstack.org/cgit/openstack/puppet-watcher/>`_ (*Watcher*) * `Message Service <https://git.openstack.org/cgit/openstack/puppet-zaqar/>`_ (*Zaqar*)* `Storage <https://git.openstack.org/cgit/openstack/puppet-ceph/>`_ (*Ceph*) * `Virtual Bridging <https://git.openstack.org/cgit/openstack/puppet-vswitch>`_ (*OpenvSwitch*) * `Virtual Networking <https://git.openstack.org/cgit/openstack/puppet-ovn>`_ (*OVN*) * `TripleO UI <https://git.openstack.org/cgit/openstack/puppet-tuskar/>`_ (*TripleO UI*) (**Deprecated**) * `Composition Layer <https://git.openstack.org/cgit/stackforge/puppet-openstack/>`_ (*OpenStack*) (**Deprecated in Juno**)* `Common Puppet Library <https://git.openstack.org/cgit/openstack/puppet-openstacklib/>`_ (*OpenStackLib*) * `Common Ruby Helper Library <https://git.openstack.org/cgit/openstack/puppet-openstack_spec_helper/>`_ (*puppet-openstack_spec_helper*) * `Puppet OpenStack Helpers <https://git.openstack.org/cgit/openstack/puppet-openstack_extras/>`_ (*OpenStackExtras*) * `Integration CI Tools <https://git.openstack.org/cgit/openstack/puppet-openstack-integration>`_ (*Puppet OpenStack Integration*) * `Blueprints <https://git.openstack.org/cgit/openstack/puppet-openstack-specs>`_ (*Puppet OpenStack Specs*) (hosted `here <https://specs.openstack.org/openstack/puppet-openstack-specs/>`_) * `New Module Cookiecutter Template <https://git.openstack.org/cgit/openstack/puppet-openstack-cookiecutter>`_ (*Cookiecutter*) * `Sync Tool <https://git.openstack.org/cgit/openstack/puppet-modulesync-configs>`_ (*Modulesync*)","* `Alarming <http://git.openstack.org/cgit/openstack/puppet-aodh/>`_ (*Aodh*) * `Key Manager <http://git.openstack.org/cgit/openstack/puppet-barbican/>`_ (*Barbican*) * `Telemetry <http://git.openstack.org/cgit/openstack/puppet-ceilometer/>`_ (*Ceilometer*) * `Block Storage <http://git.openstack.org/cgit/openstack/puppet-cinder/>`_ (*Cinder*) * `Rating service <http://git.openstack.org/cgit/openstack/puppet-cloudkitty/>`_ (*Cloudkitty*) * `Policy <http://git.openstack.org/cgit/openstack/puppet-congress/>`_ (*Congress*) * `DNS <http://git.openstack.org/cgit/openstack/puppet-designate/>`_ (*Designate*) * `EC2 API service <http://git.openstack.org/cgit/openstack/puppet-ec2api/>`_ (*EC2API*) * `Backup, Restore, and Disaster Recovery service <http://git.openstack.org/cgit/openstack/puppet-freezer/>`_ (*Freezer*) * `Image Service <http://git.openstack.org/cgit/openstack/puppet-glance/>`_ (*Glance*) * `GLare Artifact Repository <http://git.openstack.org/cgit/openstack/puppet-glare/>`_ (*Glare*) * `Time Series Database <http://git.openstack.org/cgit/openstack/puppet-gnocchi/>`_ (*Gnocchi*) * `Orchestration <http://git.openstack.org/cgit/openstack/puppet-heat/>`_ (*Heat*) * `Dashboard <http://git.openstack.org/cgit/openstack/puppet-horizon/>`_ (*Horizon*) * `Bare Metal <http://git.openstack.org/cgit/openstack/puppet-ironic/>`_ (*Ironic*) * `Identity <http://git.openstack.org/cgit/openstack/puppet-keystone/>`_ (*Keystone*) * `Containers Orchestration <http://git.openstack.org/cgit/openstack/puppet-magnum/>`_ (*Magnum*) * `Shared Filesystems <http://git.openstack.org/cgit/openstack/puppet-manila/>`_ (*Manila*) * `Workflow Service <http://git.openstack.org/cgit/openstack/puppet-mistral/>`_ (*Mistral*) * `Monitoring <http://git.openstack.org/cgit/openstack/puppet-monasca/>`_ (*Monasca*) * `Application Catalog <http://git.openstack.org/cgit/openstack/puppet-murano/>`_ (*Murano*) * `Networking <http://git.openstack.org/cgit/openstack/puppet-neutron/>`_ (*Neutron*) * `Compute <http://git.openstack.org/cgit/openstack/puppet-nova/>`_ (*Nova*) * `Load Balancer <http://git.openstack.org/cgit/openstack/puppet-octavia/>`_ (*Octavia*) * `Oslo Libraries <http://git.openstack.org/cgit/openstack/puppet-oslo/>`_ (*Oslo*) * `Benchmarking <http://git.openstack.org/cgit/openstack/puppet-rally/>`_ (*Rally*) * `Data Processing <http://git.openstack.org/cgit/openstack/puppet-sahara/>`_ (*Sahara*) * `Object Storage <http://git.openstack.org/cgit/openstack/puppet-swift/>`_ (*Swift*) * `Testing <http://git.openstack.org/cgit/openstack/puppet-tempest/>`_ (*Tempest*) * `Deployment <http://git.openstack.org/cgit/openstack/puppet-tripleo/>`_ (*TripleO*) * `Database Service <http://git.openstack.org/cgit/openstack/puppet-trove/>`_ (*Trove*) * `Root Cause Analysis <http://git.openstack.org/cgit/openstack/puppet-vitrage/>`_ (*Vitrage*) * `Resource Optimization <http://git.openstack.org/cgit/openstack/puppet-watcher/>`_ (*Watcher*) * `Message Service <http://git.openstack.org/cgit/openstack/puppet-zaqar/>`_ (*Zaqar*)* `Storage <http://git.openstack.org/cgit/openstack/puppet-ceph/>`_ (*Ceph*) * `Virtual Bridging <http://git.openstack.org/cgit/openstack/puppet-vswitch>`_ (*OpenvSwitch*) * `Virtual Networking <http://git.openstack.org/cgit/openstack/puppet-ovn>`_ (*OVN*) * `TripleO UI <http://git.openstack.org/cgit/openstack/puppet-tuskar/>`_ (*TripleO UI*) (**Deprecated**) * `Composition Layer <http://git.openstack.org/cgit/stackforge/puppet-openstack/>`_ (*OpenStack*) (**Deprecated in Juno**)* `Common Puppet Library <http://git.openstack.org/cgit/openstack/puppet-openstacklib/>`_ (*OpenStackLib*) * `Common Ruby Helper Library <http://git.openstack.org/cgit/openstack/puppet-openstack_spec_helper/>`_ (*puppet-openstack_spec_helper*) * `Puppet OpenStack Helpers <http://git.openstack.org/cgit/openstack/puppet-openstack_extras/>`_ (*OpenStackExtras*) * `Integration CI Tools <http://git.openstack.org/cgit/openstack/puppet-openstack-integration>`_ (*Puppet OpenStack Integration*) * `Blueprints <http://git.openstack.org/cgit/openstack/puppet-openstack-specs>`_ (*Puppet OpenStack Specs*) (hosted `here <http://specs.openstack.org/openstack/puppet-openstack-specs/>`_) * `New Module Cookiecutter Template <http://git.openstack.org/cgit/openstack/puppet-openstack-cookiecutter>`_ (*Cookiecutter*) * `Sync Tool <http://git.openstack.org/cgit/openstack/puppet-modulesync-configs>`_ (*Modulesync*)",46,46
openstack%2Fpuppet-openstack-guide~master~Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f,openstack/puppet-openstack-guide,master,Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f,Update the home-page for setup.cfg,ABANDONED,2018-08-01 15:58:20.000000000,2018-08-02 13:23:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-01 15:58:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/eacf78a626fcd4dcad690ab600fbe2b0598b89e2', 'message': 'Update the home-page for setup.cfg\n\nChange-Id: Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f\n'}]",0,587863,eacf78a626fcd4dcad690ab600fbe2b0598b89e2,3,1,1,22165,,,0,"Update the home-page for setup.cfg

Change-Id: Ifce76cdb00b9c7ef5789a4fe0c753fded7755b4f
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/63/587863/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eacf78a626fcd4dcad690ab600fbe2b0598b89e2,,home-page = https://docs.openstack.org/puppet-openstack-guide/latest,home-page = http://www.openstack.org/,1,1
openstack%2Fproject-team-guide~master~I72584b21f892826f686e5df2c7c8dd596bd6cf8f,openstack/project-team-guide,master,I72584b21f892826f686e5df2c7c8dd596bd6cf8f,Follow the new PTI for document build,MERGED,2018-08-01 07:46:56.000000000,2018-08-02 13:16:50.000000000,2018-08-02 13:16:50.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-08-01 07:46:56.000000000', 'files': ['doc/source/index.rst', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/671b08455490ead0d426274567a6385672c1d1eb', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n[1] https://governance.openstack.org/tc/reference/project-testing-interface.html\n[2] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n[3] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html\n\nThis patch also organizes index.rst a little bit.\n\nChange-Id: I72584b21f892826f686e5df2c7c8dd596bd6cf8f\n'}]",6,587707,671b08455490ead0d426274567a6385672c1d1eb,14,6,1,27153,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
[1] https://governance.openstack.org/tc/reference/project-testing-interface.html
[2] http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html
[3] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128594.html

This patch also organizes index.rst a little bit.

Change-Id: I72584b21f892826f686e5df2c7c8dd596bd6cf8f
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/07/587707/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,671b08455490ead0d426274567a6385672c1d1eb,updated-pti,deps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/html,deps = -r{toxinidir}/requirements.txtcommands = python setup.py build_sphinx,8,14
openstack%2Fpuppet-gnocchi~master~Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58,openstack/puppet-gnocchi,master,Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58,Adjust the contributors infomation link,ABANDONED,2018-08-01 16:18:02.000000000,2018-08-02 13:14:40.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:18:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/0b0bed31061d23ee1506a463698487c0bc684f1c', 'message': 'Adjust the contributors infomation link\n\nChange-Id: Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58\n'}]",0,587872,0b0bed31061d23ee1506a463698487c0bc684f1c,4,2,1,28614,,,0,"Adjust the contributors infomation link

Change-Id: Ic9c49d853459dbbe2d5127dfd8e1bc66179aae58
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/72/587872/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0b0bed31061d23ee1506a463698487c0bc684f1c,,* https://github.com/openstack/puppet-gnocchi/graphs/contributors,The github [contributor graph](https://github.com/openstack/puppet-gnocchi/graphs/contributors).,1,1
openstack%2Fpuppet-glance~master~I8158a77f359efb2b8963db5aad6a3820cdbb1d61,openstack/puppet-glance,master,I8158a77f359efb2b8963db5aad6a3820cdbb1d61,Update the somking test format,ABANDONED,2018-08-01 00:57:50.000000000,2018-08-02 13:14:19.000000000,,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-08-01 00:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/053bc0d2ac2ec138546cf103cd3257cc802d9310', 'message': 'Update the somking test format\n\nChange-Id: I8158a77f359efb2b8963db5aad6a3820cdbb1d61\n'}, {'number': 2, 'created': '2018-08-01 08:44:03.000000000', 'files': ['tests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1aa3b320b84a72b6e6af8532f9c30333a82fb13e', 'message': 'Update the somking test format\n\nChange-Id: I8158a77f359efb2b8963db5aad6a3820cdbb1d61\n'}]",2,587665,1aa3b320b84a72b6e6af8532f9c30333a82fb13e,13,5,2,28614,,,0,"Update the somking test format

Change-Id: I8158a77f359efb2b8963db5aad6a3820cdbb1d61
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/65/587665/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/init.pp'],1,053bc0d2ac2ec138546cf103cd3257cc802d9310,,# The baseline for module testing used by Puppet Labs is that each manifest # should have a corresponding test manifest that declares that class or defined # type. # # Tests are then run by using puppet apply --noop (to check for compilation # errors and view a log of events) or by fully applying the test in a virtual # environment (to compare the resulting system state to the desired state). # # Learn more about module testing here: # http://docs.puppetlabs.com/guides/tests_smoke.html # include ::glance,class { '::glance': },12,1
openstack%2Fpuppet-ceph~master~I141135ed3d6aee8d2708153b374aeda3376ecb11,openstack/puppet-ceph,master,I141135ed3d6aee8d2708153b374aeda3376ecb11,Remove the unnecessary _,ABANDONED,2018-08-02 08:34:44.000000000,2018-08-02 13:12:04.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 08:34:44.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/73148bdb324eca7fc801d145dd257bcbba69728a', 'message': 'Remove the unnecessary _\n\nChange-Id: I141135ed3d6aee8d2708153b374aeda3376ecb11\n'}]",0,588180,73148bdb324eca7fc801d145dd257bcbba69728a,4,2,1,28637,,,0,"Remove the unnecessary _

Change-Id: I141135ed3d6aee8d2708153b374aeda3376ecb11
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/80/588180/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,73148bdb324eca7fc801d145dd257bcbba69728a,,----------,-------------,1,1
openstack%2Fmanila~master~Ied78435ae927c8c1b6b92740aca7596950a244ff,openstack/manila,master,Ied78435ae927c8c1b6b92740aca7596950a244ff,Docs: glance image-create returns an error issue,MERGED,2018-07-16 04:23:22.000000000,2018-08-02 13:09:45.000000000,2018-08-02 13:09:45.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-07-16 04:23:22.000000000', 'files': ['doc/source/install/common/dhss-true-mode-using-shared-file-systems.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/cfc5edf0ee875b24f8a07eaf17f34246d0c878ab', 'message': 'Docs: glance image-create returns an error issue\n\nglance image-create --copy-from command returns an error\n--copy-from is not allowed in glance default v2 version.\n\nChange-Id: Ied78435ae927c8c1b6b92740aca7596950a244ff\nCloses-bug: #1700169\n'}]",0,582828,cfc5edf0ee875b24f8a07eaf17f34246d0c878ab,14,10,1,25456,,,0,"Docs: glance image-create returns an error issue

glance image-create --copy-from command returns an error
--copy-from is not allowed in glance default v2 version.

Change-Id: Ied78435ae927c8c1b6b92740aca7596950a244ff
Closes-bug: #1700169
",git fetch https://review.opendev.org/openstack/manila refs/changes/28/582828/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/dhss-true-mode-using-shared-file-systems.rst'],1,cfc5edf0ee875b24f8a07eaf17f34246d0c878ab,bug/1700169," $ curl https://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2 | \ glance image-create \ % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 3008k 100 3008k 0 0 1042k 0 0:00:02 0:00:02 --:--:-- 1041k +------------------+----------------------------------------------------------------------------------+ | Property | Value | +------------------+----------------------------------------------------------------------------------+ | checksum | 48a08e746cf0986e2bc32040a9183445 | | container_format | bare | | created_at | 2016-01-26T19:52:24Z | | direct_url | rbd://3c3a4cbc-7331-4fc1-8cbb-79213b9cebff/images/ff97deff-b184-47f8-827c- | | | 16c349c82720/snap | | disk_format | qcow2 | | id | 1fc7f29e-8fe6-44ef-9c3c-15217e83997c | | locations | [{""url"": ""rbd://3c3a4cbc-7331-4fc1-8cbb-79213b9cebff/images/ff97deff-b184-47f8 | | | -827c-16c349c82720/snap"", ""metadata"": {}}] | | min_disk | 0 | | min_ram | 0 | | name | manila-service-image | | owner | e2c965830ecc4162a002bf16ddc91ab7 | | protected | False | | size | 306577408 | | status | active | | tags | [] | | updated_at | 2016-01-26T19:52:28Z | | virtual_size | None | | visibility | public | +------------------+----------------------------------------------------------------------------------+", $ glance image-create \ --copy-from http://tarballs.openstack.org/manila-image-elements/images/manila-service-image-master.qcow2 \ [=============================>] 100% +------------------+--------------------------------------+ | Property | Value | +------------------+--------------------------------------+ | checksum | 48a08e746cf0986e2bc32040a9183445 | | container_format | bare | | created_at | 2016-01-26T19:52:24Z | | disk_format | qcow2 | | id | 1fc7f29e-8fe6-44ef-9c3c-15217e83997c | | min_disk | 0 | | min_ram | 0 | | name | manila-service-image | | owner | e2c965830ecc4162a002bf16ddc91ab7 | | protected | False | | size | 306577408 | | status | active | | tags | [] | | updated_at | 2016-01-26T19:52:28Z | | virtual_size | None | | visibility | public | +------------------+--------------------------------------+,29,23
openstack%2Fmanila~stable%2Fpike~If3700e7a18cbd8ae496b8c503c95cf6723485679,openstack/manila,stable/pike,If3700e7a18cbd8ae496b8c503c95cf6723485679,DB Migration: fix downgrade in 579c267fbb4d,MERGED,2018-07-25 22:43:00.000000000,2018-08-02 13:09:42.000000000,2018-08-02 13:09:42.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25977}]","[{'number': 1, 'created': '2018-07-25 22:43:00.000000000', 'files': ['releasenotes/notes/bug-1717392-fix-downgrade-share-access-map-bbd5fe9cc7002f2d.yaml', 'manila/tests/db/migrations/alembic/migrations_data_checks.py', 'manila/db/migrations/alembic/versions/579c267fbb4d_add_share_instances_access_map.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0028c6b96436bd0b987ca3abae4aa673b6f3024b', 'message': 'DB Migration: fix downgrade in 579c267fbb4d\n\nThe downgrade incorrectly modifies deleted\nshare access rules.\n\nAlso add a missing unit test for this migration.\n\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nChange-Id: If3700e7a18cbd8ae496b8c503c95cf6723485679\nCloses-Bug: #1717392\n(cherry picked from commit 12841fe01656d2cd4ae1e8b69d02dd7ff9e1a3a4)\n(cherry picked from commit 846a1597d342feaa58d4c773eae22c880f031508)\n'}]",0,585905,0028c6b96436bd0b987ca3abae4aa673b6f3024b,10,6,1,16643,,,0,"DB Migration: fix downgrade in 579c267fbb4d

The downgrade incorrectly modifies deleted
share access rules.

Also add a missing unit test for this migration.

Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Change-Id: If3700e7a18cbd8ae496b8c503c95cf6723485679
Closes-Bug: #1717392
(cherry picked from commit 12841fe01656d2cd4ae1e8b69d02dd7ff9e1a3a4)
(cherry picked from commit 846a1597d342feaa58d4c773eae22c880f031508)
",git fetch https://review.opendev.org/openstack/manila refs/changes/05/585905/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1717392-fix-downgrade-share-access-map-bbd5fe9cc7002f2d.yaml', 'manila/tests/db/migrations/alembic/migrations_data_checks.py', 'manila/db/migrations/alembic/versions/579c267fbb4d_add_share_instances_access_map.py']",3,0028c6b96436bd0b987ca3abae4aa673b6f3024b,bug/1717392," share_access_rules = connection.execute( access_table.select().where(access_table.c.deleted == ""False"")) for access_rule in share_access_rules:"," for access_rule in connection.execute(access_table.select()): instance_access_table.c.deleted == ""False"").where(",116,3
openstack%2Fnetworking-hyperv~master~Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b,openstack/networking-hyperv,master,Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b,Removes SG rules on port with SG disabled,MERGED,2018-02-06 13:01:29.000000000,2018-08-02 13:05:03.000000000,2018-02-07 08:38:33.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-06 13:01:29.000000000', 'files': ['networking_hyperv/neutron/security_groups_driver.py', 'networking_hyperv/tests/unit/neutron/test_security_groups_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/13a1d75fe79dc05c7822625b29fe07554855d70e', 'message': ""Removes SG rules on port with SG disabled\n\nThe SecurityGroupsDriver relies on its cache when removing a port's\nACL rules if the port's port_security_enabled field is False.\n\nIf the port was updated while the agent was down, the cache will be\nempty, and thus skip removing the port's ACLs.\n\nThis patch addresses this issue by removing all of the port's ACLs if\nthe port's port_security_enabled is False.\n\nChange-Id: Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b\nCloses-Bug: #1747666\n""}]",0,541261,13a1d75fe79dc05c7822625b29fe07554855d70e,8,3,1,8213,,,0,"Removes SG rules on port with SG disabled

The SecurityGroupsDriver relies on its cache when removing a port's
ACL rules if the port's port_security_enabled field is False.

If the port was updated while the agent was down, the cache will be
empty, and thus skip removing the port's ACLs.

This patch addresses this issue by removing all of the port's ACLs if
the port's port_security_enabled is False.

Change-Id: Ibda80fbd17310e13ceb7fe4e6db7f68e6403e87b
Closes-Bug: #1747666
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/61/541261/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_hyperv/neutron/security_groups_driver.py', 'networking_hyperv/tests/unit/neutron/test_security_groups_driver.py']",2,13a1d75fe79dc05c7822625b29fe07554855d70e,bug/1747666,," def test_update_port_filter_security_disabled(self): mock_port = self._get_port() mock_port['port_security_enabled'] = False self._driver.update_port_filter(mock_port) self.assertFalse(self._driver._utils.remove_all_security_rules.called) self.assertNotIn(mock_port['device'], self._driver._security_ports) self.assertNotIn(mock_port['id'], self._driver._sec_group_rules) ",2,13
openstack%2Fcompute-hyperv~master~I49a0a83ab34ca0b9da5d589aaa9006d169275b15,openstack/compute-hyperv,master,I49a0a83ab34ca0b9da5d589aaa9006d169275b15,Avoid cleaning up cached images when configured not to,MERGED,2018-05-25 12:05:30.000000000,2018-08-02 13:02:10.000000000,2018-06-13 13:33:36.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-25 12:05:30.000000000', 'files': ['compute_hyperv/nova/imagecache.py', 'compute_hyperv/tests/unit/test_imagecache.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/7caef58be03cee448d5845628b59ddd669511b87', 'message': 'Avoid cleaning up cached images when configured not to\n\nThis change ensure that we\'re honoring the ""remove_unused_base_images""\nconfig option, allowing deployers to disable the auto-removal of\nold images.\n\nChange-Id: I49a0a83ab34ca0b9da5d589aaa9006d169275b15\nCloses-Bug: #1773342\n'}]",0,570571,7caef58be03cee448d5845628b59ddd669511b87,10,3,1,8543,,,0,"Avoid cleaning up cached images when configured not to

This change ensure that we're honoring the ""remove_unused_base_images""
config option, allowing deployers to disable the auto-removal of
old images.

Change-Id: I49a0a83ab34ca0b9da5d589aaa9006d169275b15
Closes-Bug: #1773342
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/71/570571/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/imagecache.py', 'compute_hyperv/tests/unit/test_imagecache.py']",2,7caef58be03cee448d5845628b59ddd669511b87,bug/1773342,"import ddt@ddt.ddt @ddt.data(True, False) def test_age_and_verify_cached_images(self, remove_unused_base_images): self.flags(remove_unused_base_images=remove_unused_base_images) if remove_unused_base_images: self.imagecache._remove_if_old_image.assert_called_once_with( mock.sentinel.FAKE_IMG2) else: self.imagecache._remove_if_old_image.assert_not_called()", def test_age_and_verify_cached_images(self): self.imagecache._remove_if_old_image.assert_called_once_with( mock.sentinel.FAKE_IMG2),13,4
openstack%2Fpython-manilaclient~master~I4e2a4b10dfaa8703525df7d5a6892487698657da,openstack/python-manilaclient,master,I4e2a4b10dfaa8703525df7d5a6892487698657da,Replace unicode with six.text_type,MERGED,2018-07-05 04:19:52.000000000,2018-08-02 12:58:46.000000000,2018-08-02 12:58:46.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 26431}]","[{'number': 1, 'created': '2018-07-05 04:19:52.000000000', 'files': ['manilaclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bfeb995fb974779b61dc8e722bf345b18a1411aa', 'message': 'Replace unicode with six.text_type\n\nThe unicode() built-in does not exist under Python 3 so use\nsix.text_type, which is set correctly to str or unicode, instead.\n\nChange-Id: I4e2a4b10dfaa8703525df7d5a6892487698657da\n'}]",0,580279,bfeb995fb974779b61dc8e722bf345b18a1411aa,10,11,1,25903,,,0,"Replace unicode with six.text_type

The unicode() built-in does not exist under Python 3 so use
six.text_type, which is set correctly to str or unicode, instead.

Change-Id: I4e2a4b10dfaa8703525df7d5a6892487698657da
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/79/580279/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/utils.py'],1,bfeb995fb974779b61dc8e722bf345b18a1411aa,unicode," if six.PY2 and isinstance(src, six.text_type):"," if six.PY2 and isinstance(src, unicode):",1,1
openstack%2Fironic~master~I6c612b69865565a88f97f7c27795c2838bb70b04,openstack/ironic,master,I6c612b69865565a88f97f7c27795c2838bb70b04,Mark the ZeroMQ driver deprecated,MERGED,2018-07-12 02:46:39.000000000,2018-08-02 12:49:16.000000000,2018-08-01 19:40:48.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-12 02:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18736e71cd4dedc92c4d2a774d84d30c311b9e9a', 'message': 'Remove help message about ZeroMQ driver\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nChange-Id: I6c612b69865565a88f97f7c27795c2838bb70b04\n'}, {'number': 2, 'created': '2018-07-30 03:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51be87d2aaad2cc1ea0d0f27b084e26b880a4825', 'message': 'Mark the ZeroMQ driver deprecated\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nChange-Id: I6c612b69865565a88f97f7c27795c2838bb70b04\n'}, {'number': 3, 'created': '2018-08-01 08:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/abf666963f0be5f701c5695aa03b08d9cc8e1da5', 'message': 'Mark the ZeroMQ driver deprecated\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nChange-Id: I6c612b69865565a88f97f7c27795c2838bb70b04\n'}, {'number': 4, 'created': '2018-08-01 13:38:15.000000000', 'files': ['ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ece546281ee7ec7a2824e5c2a87981bd9a58af5', 'message': 'Mark the ZeroMQ driver deprecated\n\nZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html\n\nChange-Id: I6c612b69865565a88f97f7c27795c2838bb70b04\n'}]",2,581936,6ece546281ee7ec7a2824e5c2a87981bd9a58af5,35,10,4,16523,,,0,"Mark the ZeroMQ driver deprecated

ZeroMQ driver is deprecated, as per the Dublin 2018 PTG decision:
http://lists.openstack.org/pipermail/openstack-dev/2018-March/128055.html

Change-Id: I6c612b69865565a88f97f7c27795c2838bb70b04
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/581936/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/default.py'],1,18736e71cd4dedc92c4d2a774d84d30c311b9e9a,remove-zeromq," 'an AMQP key.')),"," 'an AMQP key, and if using ZeroMQ, a valid ' 'hostname, FQDN, or IP address.')),",1,2
openstack%2Fnetworking-powervm~master~Ida4102427405e17e42ddc463df4a63c2ba7dcb82,openstack/networking-powervm,master,Ida4102427405e17e42ddc463df4a63c2ba7dcb82,Pass host on get_device_details RPC,MERGED,2018-08-01 22:32:48.000000000,2018-08-02 12:42:46.000000000,2018-08-02 12:42:46.000000000,"[{'_account_id': 12947}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28222}]","[{'number': 1, 'created': '2018-08-01 22:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/f083ac9842cbcbc1f96061174c2b4d1352838e1d', 'message': 'Pass host on get_device_details RPC\n\nNeutron added an optional host argument to the get_device_details RPC\nmethod a long time ago [1] but a recent change [2] has made that no\nlonger really optional, at least for our usage. This adds host to our\ncalls so that VIF plug will not timeout with an error in the neutron\nlogs stating ""Device %s has no active binding in host None"".\n\n[1] f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b\n[2] 01bdb47199468805b714ce4c00c7492951267585\n\nCloses-Bug: #1784950\nChange-Id: Ida4102427405e17e42ddc463df4a63c2ba7dcb82\n'}, {'number': 2, 'created': '2018-08-02 01:45:10.000000000', 'files': ['networking_powervm/plugins/ibm/agent/powervm/agent_base.py', 'networking_powervm/tests/unit/plugins/ibm/powervm/test_agent_base.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/59fbf0a3b6f14d54a0369408a8bc6bb2ad9df874', 'message': 'Pass host on get_device_details RPC\n\nNeutron added an optional host argument to the get_device_details RPC\nmethod a long time ago [1] but a recent change [2] has made that no\nlonger really optional, at least for our usage. This adds host to our\ncalls so that VIF plug will not timeout with an error in the neutron\nlogs stating ""Device %s has no active binding in host None"".\n\n[1] f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b\n[2] 01bdb47199468805b714ce4c00c7492951267585\n\nCloses-Bug: #1784950\nChange-Id: Ida4102427405e17e42ddc463df4a63c2ba7dcb82\n'}]",0,588096,59fbf0a3b6f14d54a0369408a8bc6bb2ad9df874,11,5,2,10608,,,0,"Pass host on get_device_details RPC

Neutron added an optional host argument to the get_device_details RPC
method a long time ago [1] but a recent change [2] has made that no
longer really optional, at least for our usage. This adds host to our
calls so that VIF plug will not timeout with an error in the neutron
logs stating ""Device %s has no active binding in host None"".

[1] f7064f2b6c6ba1d0ab5f9872b2d5ad7969a64e7b
[2] 01bdb47199468805b714ce4c00c7492951267585

Closes-Bug: #1784950
Change-Id: Ida4102427405e17e42ddc463df4a63c2ba7dcb82
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/96/588096/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_powervm/plugins/ibm/agent/powervm/agent_base.py'],1,f083ac9842cbcbc1f96061174c2b4d1352838e1d,bug/1784950," self.context, utils.norm_mac(device_mac), self.agent_id, host=cfg.CONF.host)"," self.context, utils.norm_mac(device_mac), self.agent_id)",2,1
openstack%2Frpm-packaging~master~I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3,openstack/rpm-packaging,master,I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3,update neutron-lib to 1.18.0,MERGED,2018-08-02 09:46:09.000000000,2018-08-02 12:40:16.000000000,2018-08-02 12:40:16.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-02 09:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1bf5161e322b0b5350375adc48a602d6ec00de68', 'message': 'update neutron to 1.18.0\n\nChange-Id: I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3\n'}, {'number': 2, 'created': '2018-08-02 09:49:02.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bb7df2befb405d059a817f7d27a2877c79d778fa', 'message': 'update neutron-lib to 1.18.0\n\nDepends-On:I57143413cf590fa145872ca2ae3899bae4562310\nChange-Id: I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3\n'}]",0,588195,bb7df2befb405d059a817f7d27a2877c79d778fa,10,5,2,23735,,,0,"update neutron-lib to 1.18.0

Depends-On:I57143413cf590fa145872ca2ae3899bae4562310
Change-Id: I452609d483e7c8daf0b4da4b5a8e99b7a3cf29f3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/588195/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,1bf5161e322b0b5350375adc48a602d6ec00de68,,Version: 1.18.0,Version: 1.17.0,1,1
openstack%2Frpm-packaging~master~I899247e62d3d6cf30e6126e43911e6f0b81e4045,openstack/rpm-packaging,master,I899247e62d3d6cf30e6126e43911e6f0b81e4045,masakari-monitors: update filelist,MERGED,2018-07-26 05:48:22.000000000,2018-08-02 12:39:05.000000000,2018-08-02 12:39:05.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-07-26 05:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9ebf51b8543104ea01d23abb160ef2c56fccfe6d', 'message': 'masakari-monitors: update filelist\n\nChange-Id: I899247e62d3d6cf30e6126e43911e6f0b81e4045\n'}, {'number': 2, 'created': '2018-08-02 11:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/62d4ab01f9385432de620beb13592f2219891590', 'message': 'masakari-monitors: update filelist\n\nChange-Id: I899247e62d3d6cf30e6126e43911e6f0b81e4045\n'}, {'number': 3, 'created': '2018-08-02 11:50:38.000000000', 'files': ['openstack/masakari-monitors/masakari-introspectiveinstancemonitor.service', 'openstack/masakari-monitors/masakari-monitors.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/309866a6cddab4cc31e39a58af3324e51c8853ed', 'message': 'masakari-monitors: update filelist\n\nSplit out an openstack-masakari-introspectiveinstancemonitor\nsubpackage.\n\nChange-Id: I899247e62d3d6cf30e6126e43911e6f0b81e4045\n'}]",2,585959,309866a6cddab4cc31e39a58af3324e51c8853ed,14,5,3,6593,,,0,"masakari-monitors: update filelist

Split out an openstack-masakari-introspectiveinstancemonitor
subpackage.

Change-Id: I899247e62d3d6cf30e6126e43911e6f0b81e4045
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/59/585959/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/masakari-monitors/masakari-monitors.spec.j2'],1,9ebf51b8543104ea01d23abb160ef2c56fccfe6d,masakari,%package -n openstack-masakari-introspectiveinstancemonitor Summary: Instance monitoring component of OpenStack Masakari service Requires: %{name} = %{version} %description -n openstack-masakari-introspectiveinstancemonitor This component of the Masakari service for VM HA in OpenStack is responsible for monitoring the health of individual VM instances. exit 0testr run%files -n openstack-masakari-introspectiveinstancemonitor %{_bindir}/masakari-introspectiveinstancemonitor %{_unitdir}/openstack-masakari-introspectiveinstancemonitor.service ,testr list-tests > list testr run --load-list=list,14,2
openstack%2Fvitrage-dashboard~master~I1f4bf854727031996c16cff35238cf79d3d78607,openstack/vitrage-dashboard,master,I1f4bf854727031996c16cff35238cf79d3d78607,template panel in admin section,MERGED,2018-08-02 12:08:41.000000000,2018-08-02 12:33:38.000000000,2018-08-02 12:33:38.000000000,"[{'_account_id': 19134}, {'_account_id': 19140}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 12:08:41.000000000', 'files': ['releasenotes/notes/template_panel_in_admin_section-133f1b0cc228fedc.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/ac002037a7785d36b86b259fae372864c3b0c02d', 'message': 'template panel in admin section\n\nChange-Id: I1f4bf854727031996c16cff35238cf79d3d78607\n'}]",0,588228,ac002037a7785d36b86b259fae372864c3b0c02d,8,4,1,23133,,,0,"template panel in admin section

Change-Id: I1f4bf854727031996c16cff35238cf79d3d78607
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/28/588228/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/template_panel_in_admin_section-133f1b0cc228fedc.yaml'],1,ac002037a7785d36b86b259fae372864c3b0c02d,admin_panel_templates,--- features: - Templates panel is now available in admin section. ,,3,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I8eb073699bbfd441de6703480db7fe7b478f5615,openstack/openstack-ansible-rabbitmq_server,master,I8eb073699bbfd441de6703480db7fe7b478f5615,Use generic vars file for ubuntu,MERGED,2018-08-01 10:41:05.000000000,2018-08-02 12:31:04.000000000,2018-08-01 14:27:19.000000000,"[{'_account_id': 1004}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:41:05.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/efd37c53590ad669229b289e1232aa0fbcc3ea15', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: I8eb073699bbfd441de6703480db7fe7b478f5615\n'}]",0,587765,efd37c53590ad669229b289e1232aa0fbcc3ea15,9,4,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I8eb073699bbfd441de6703480db7fe7b478f5615
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/65/587765/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,efd37c53590ad669229b289e1232aa0fbcc3ea15,bionic-vars,,,0,53
openstack%2Fmanila-ui~master~I2b4f35bc2c332767639a78b34de5ebda786cff01,openstack/manila-ui,master,I2b4f35bc2c332767639a78b34de5ebda786cff01,Update the home-page link,MERGED,2018-07-24 12:46:14.000000000,2018-08-02 12:27:13.000000000,2018-08-02 12:27:13.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 12:46:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/54fd03906e6418b5ebc0a64f61d8175cbca3278d', 'message': 'Update the home-page link\n\nChange-Id: I2b4f35bc2c332767639a78b34de5ebda786cff01\n'}]",0,585338,54fd03906e6418b5ebc0a64f61d8175cbca3278d,8,4,1,17130,,,0,"Update the home-page link

Change-Id: I2b4f35bc2c332767639a78b34de5ebda786cff01
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/38/585338/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,54fd03906e6418b5ebc0a64f61d8175cbca3278d,home-page,home-page = https://docs.openstack.org/manila-ui/latest/,home-page = http://launchpad.net/manila-ui,1,1
openstack%2Fkuryr-kubernetes~master~I2cb58ab038a619f67462271e2db3ed20e9e51ba3,openstack/kuryr-kubernetes,master,I2cb58ab038a619f67462271e2db3ed20e9e51ba3,kuryr-tempest-plugin devstack plugin to build kuryr/demo,MERGED,2018-08-01 16:19:15.000000000,2018-08-02 12:27:12.000000000,2018-08-02 12:27:12.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-08-01 16:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a0984b99486bc4b4b4b059d6a15ceea64589f3f1', 'message': 'kuryr-tempest-plugin devstack plugin to build kuryr/demo\n\nUsing TEMPEST_PLUGINS only installs the tempest code but does\nnot run the tempest devstack plugin. The tempest devstack plugin\nis where we build kuryr/demo from the rootfs in the repo. If this\nis not run, we are depending on dockerhub and potentially running\nan older image.\n\nChange-Id: I2cb58ab038a619f67462271e2db3ed20e9e51ba3\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-08-01 20:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/038d0c610ab4e680036dab4b5c2af8fa43a5aced', 'message': 'kuryr-tempest-plugin devstack plugin to build kuryr/demo\n\nUsing TEMPEST_PLUGINS only installs the tempest code but does\nnot run the tempest devstack plugin. The tempest devstack plugin\nis where we build kuryr/demo from the rootfs in the repo. If this\nis not run, we are depending on dockerhub and potentially running\nan older image.\n\nDepends-On: Idf2c781591f938a02991af4b7991da19a92e03f2\nChange-Id: I2cb58ab038a619f67462271e2db3ed20e9e51ba3\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 3, 'created': '2018-08-01 21:23:30.000000000', 'files': ['.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/612296a94fae1041d084486e85f9a38dbef22132', 'message': 'kuryr-tempest-plugin devstack plugin to build kuryr/demo\n\nUsing TEMPEST_PLUGINS only installs the tempest code but does\nnot run the tempest devstack plugin. The tempest devstack plugin\nis where we build kuryr/demo from the rootfs in the repo. If this\nis not run, we are depending on dockerhub and potentially running\nan older image.\n\nDepends-On: Idf2c781591f938a02991af4b7991da19a92e03f2\nChange-Id: I2cb58ab038a619f67462271e2db3ed20e9e51ba3\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",0,587873,612296a94fae1041d084486e85f9a38dbef22132,15,6,3,14352,,,0,"kuryr-tempest-plugin devstack plugin to build kuryr/demo

Using TEMPEST_PLUGINS only installs the tempest code but does
not run the tempest devstack plugin. The tempest devstack plugin
is where we build kuryr/demo from the rootfs in the repo. If this
is not run, we are depending on dockerhub and potentially running
an older image.

Depends-On: Idf2c781591f938a02991af4b7991da19a92e03f2
Change-Id: I2cb58ab038a619f67462271e2db3ed20e9e51ba3
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/587873/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/base.yaml'],1,a0984b99486bc4b4b4b059d6a15ceea64589f3f1,use_tarballed_test_container, kuryr-tempest-plugin: https://git.openstack.org/openstack/kuryr-tempest-plugin, TEMPEST_PLUGINS: '/opt/stack/kuryr-tempest-plugin',1,1
openstack%2Fpuppet-rally~master~I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69,openstack/puppet-rally,master,I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69,Add the repository of project source in README,ABANDONED,2018-07-28 08:11:24.000000000,2018-08-02 12:27:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-28 08:11:24.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/c47f1f79b665a45da9b73caf9398fe7952c3d147', 'message': 'Add the repository of project source in README\n\nChange-Id: I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69\n'}]",0,586766,c47f1f79b665a45da9b73caf9398fe7952c3d147,4,2,1,14320,,,0,"Add the repository of project source in README

Change-Id: I7cb40d355ed518a00078e08c71cfd6f2f3ca4c69
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/66/586766/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,c47f1f79b665a45da9b73caf9398fe7952c3d147,, Repository ------------- * https://git.openstack.org/cgit/openstack/puppet-rally,,5,0
openstack%2Fpuppet-ovn~master~Ib2c6497202701b6408b3749714cba409a5cf58a6,openstack/puppet-ovn,master,Ib2c6497202701b6408b3749714cba409a5cf58a6,Add the project source code repository in README,ABANDONED,2018-07-28 08:28:04.000000000,2018-08-02 12:26:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-07-28 08:28:04.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/004e9fc36b8336a8f089774a71238522cfe9fa06', 'message': 'Add the project source code repository in README\n\nChange-Id: Ib2c6497202701b6408b3749714cba409a5cf58a6\n'}]",0,586770,004e9fc36b8336a8f089774a71238522cfe9fa06,4,2,1,14320,,,0,"Add the project source code repository in README

Change-Id: Ib2c6497202701b6408b3749714cba409a5cf58a6
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/70/586770/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,004e9fc36b8336a8f089774a71238522cfe9fa06,, The project source code repository is located at: https://git.openstack.org/cgit/openstack/puppet-ovn/,,3,0
openstack%2Fkayobe~master~I0c863d46f65de24c04ba9ea445473436b146c424,openstack/kayobe,master,I0c863d46f65de24c04ba9ea445473436b146c424,Add kolla project dependencies to Zuul configuration,MERGED,2018-07-09 14:36:19.000000000,2018-08-02 12:20:40.000000000,2018-08-02 12:20:40.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-09 14:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0e781ca1f6cb907d6975f46eb7965b0dc09c86b9', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}, {'number': 2, 'created': '2018-07-09 15:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3970830bcabb4d3e974b3d9b7b34b8a37c483a24', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}, {'number': 3, 'created': '2018-07-09 17:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a1c08c3defaec3c41636009cc81505b356c727fb', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}, {'number': 4, 'created': '2018-07-09 18:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a0f025536f8980421de0c08093a5aeb7cd5b7f54', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}, {'number': 5, 'created': '2018-07-10 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09de60d65352133f72600e53d42867f7bd8bc4f3', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}, {'number': 6, 'created': '2018-08-02 09:42:42.000000000', 'files': ['playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7ad3be5351e776b17b7af90aee53f1b816957337', 'message': 'Add kolla project dependencies to Zuul configuration\n\nThis allows us to use the Depends-On syntax in commit messages to depend\non changes in kolla, kolla-ansible, and requirements.\n\nChange-Id: I0c863d46f65de24c04ba9ea445473436b146c424\n'}]",0,581050,7ad3be5351e776b17b7af90aee53f1b816957337,20,5,6,14826,,,0,"Add kolla project dependencies to Zuul configuration

This allows us to use the Depends-On syntax in commit messages to depend
on changes in kolla, kolla-ansible, and requirements.

Change-Id: I0c863d46f65de24c04ba9ea445473436b146c424
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/50/581050/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'zuul.d/jobs.yaml']",3,0e781ca1f6cb907d6975f46eb7965b0dc09c86b9,zuul-dependencies, required-projects: - name: openstack/kolla override-checkout: stable/queens - name: openstack/kolla-ansible override-checkout: stable/queens - name: openstack/requirements override-checkout: stable/queens required-projects: - name: openstack/kolla override-checkout: stable/queens - name: openstack/kolla-ansible override-checkout: stable/queens - name: openstack/requirements override-checkout: stable/queens,,26,0
openstack%2Fpython-manilaclient~master~Ic3dc37467b35cba040068a0db646509fe4662b4c,openstack/python-manilaclient,master,Ic3dc37467b35cba040068a0db646509fe4662b4c,Update reno for stable/rocky,MERGED,2018-07-27 13:13:26.000000000,2018-08-02 12:16:14.000000000,2018-08-02 12:16:13.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 13:13:26.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/443c26596f7eb2c78ebd47b7c039158fa1243f71', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ic3dc37467b35cba040068a0db646509fe4662b4c\n'}]",0,586544,443c26596f7eb2c78ebd47b7c039158fa1243f71,8,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ic3dc37467b35cba040068a0db646509fe4662b4c
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/44/586544/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,443c26596f7eb2c78ebd47b7c039158fa1243f71,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Ftripleo-common~master~Id6593004a7542e590155904775f9ceac02aac81c,openstack/tripleo-common,master,Id6593004a7542e590155904775f9ceac02aac81c,"Fix driver name validations for iboot, amt, wol",ABANDONED,2018-04-25 16:30:11.000000000,2018-08-02 12:14:36.000000000,,"[{'_account_id': 360}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-25 16:30:11.000000000', 'files': ['tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01a11db13f26d198e32c03534a887fcf4e83818d', 'message': ""Fix driver name validations for iboot, amt, wol\n\nThe new entry_points for these drivers is 'staging-'. For example:\nstaging-iboot, staging-wol, staging-amt. The validations here were\nfailing to match the dash and instead were looking for an underscore.\n\nThis patch resolves the issue by matching on .* with the name appended\ninstead which should be safe enough to match the old/new version of\nthese drivers.\n\nChange-Id: Id6593004a7542e590155904775f9ceac02aac81c\n""}]",0,564274,01a11db13f26d198e32c03534a887fcf4e83818d,7,3,1,360,,,0,"Fix driver name validations for iboot, amt, wol

The new entry_points for these drivers is 'staging-'. For example:
staging-iboot, staging-wol, staging-amt. The validations here were
failing to match the dash and instead were looking for an underscore.

This patch resolves the issue by matching on .* with the name appended
instead which should be safe enough to match the old/new version of
these drivers.

Change-Id: Id6593004a7542e590155904775f9ceac02aac81c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/564274/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,01a11db13f26d198e32c03534a887fcf4e83818d,driver_names_fix," '.*iboot': iBootDriverInfo(), '.*wol': DriverInfo( '.*amt': PrefixedDriverInfo('amt'),"," '.*_iboot': iBootDriverInfo(), '.*_wol': DriverInfo( '.*_amt': PrefixedDriverInfo('amt'),",3,3
openstack%2Fmanila~master~I65e54d57caf03bcc23b21bde47f386c487b1e9ba,openstack/manila,master,I65e54d57caf03bcc23b21bde47f386c487b1e9ba,DNM,ABANDONED,2018-06-12 23:37:16.000000000,2018-08-02 12:06:06.000000000,,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 17097}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-06-12 23:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d6985b1c966f9a1950e23ccd2dff9f9f612b9beb', 'message': 'DNM: compare lvm run with\n\nhttp://logs.openstack.org/60/499560/4/check/manila-tempest-minimal-dsvm-lvm-centos-7/62effec/job-output.txt.gz#_2018-06-12_19_27_02_477840\n\nfrom:\n\nhttps://review.openstack.org/#/c/499560\n\nChange-Id: I65e54d57caf03bcc23b21bde47f386c487b1e9ba\n'}, {'number': 2, 'created': '2018-06-25 21:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/98a665322c9a6aec136ef8eec402c187ed650471', 'message': 'DNM: compare lvm run with\n\nhttp://logs.openstack.org/60/499560/4/check/manila-tempest-minimal-dsvm-lvm-centos-7/62effec/job-output.txt.gz#_2018-06-12_19_27_02_477840\n\nfrom:\n\nhttps://review.openstack.org/#/c/499560\n\nChange-Id: I65e54d57caf03bcc23b21bde47f386c487b1e9ba\n'}, {'number': 3, 'created': '2018-07-09 15:00:58.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/fa32edd29b2373f5204a914040b1097cdea45de1', 'message': 'DNM\n\nChange-Id: I65e54d57caf03bcc23b21bde47f386c487b1e9ba\n'}]",0,574919,fa32edd29b2373f5204a914040b1097cdea45de1,39,12,3,9003,,,0,"DNM

Change-Id: I65e54d57caf03bcc23b21bde47f386c487b1e9ba
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/574919/3 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,d6985b1c966f9a1950e23ccd2dff9f9f612b9beb,,,,0,0
openstack%2Fmanila~driverfixes%2Fnewton~I12c85c54c7318592ac0b34efe3624d175d2e6976,openstack/manila,driverfixes/newton,I12c85c54c7318592ac0b34efe3624d175d2e6976,NetApp cDOT: Fix security style for CIFS shares,MERGED,2018-08-01 04:55:25.000000000,2018-08-02 12:01:12.000000000,2018-08-02 12:01:12.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2018-08-01 04:55:25.000000000', 'files': ['releasenotes/notes/bug-1696000-netapp-fix-security-style-on-cifs-shares-cbdd557a27d11961.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/protocols/cifs_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/protocols/test_cifs_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0aecd7d9943ae435dcb9b95f74292d5debea7ae5', 'message': 'NetApp cDOT: Fix security style for CIFS shares\n\nIf the backing FlexVol security style is configured\nincorrectly, end users cannot write to their manila\nshares.\n\nChange-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976\nCloses-Bug: #1696000\n(cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7)\n(cherry picked from commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06)\n'}]",0,587686,0aecd7d9943ae435dcb9b95f74292d5debea7ae5,8,4,1,16643,,,0,"NetApp cDOT: Fix security style for CIFS shares

If the backing FlexVol security style is configured
incorrectly, end users cannot write to their manila
shares.

Change-Id: I12c85c54c7318592ac0b34efe3624d175d2e6976
Closes-Bug: #1696000
(cherry picked from commit 5e8df296abcc2f08aac085b09aeae202508d5dc7)
(cherry picked from commit 48b5c91ad73e74a8e35b3649b0433ba86d6bdf06)
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/587686/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1696000-netapp-fix-security-style-on-cifs-shares-cbdd557a27d11961.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/protocols/cifs_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/protocols/test_cifs_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",5,0aecd7d9943ae435dcb9b95f74292d5debea7ae5,bug/1696000-driverfixes/newton," def set_volume_security_style(self, volume_name, security_style='unix'): """"""Set volume security style"""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-security-attributes': { 'style': security_style, }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,83,0
openstack%2Fmanila~stable%2Focata~Ied021b66333f1254cd232bbc38562a4a9b762ad2,openstack/manila,stable/ocata,Ied021b66333f1254cd232bbc38562a4a9b762ad2,Fix getting share networks and security services error,MERGED,2018-08-01 04:33:22.000000000,2018-08-02 12:01:11.000000000,2018-08-02 12:01:11.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-08-01 04:33:22.000000000', 'files': ['manila/api/v2/share_networks.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/test_security_services_negative.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'releasenotes/notes/bug-1721787-fix-getting-share-networks-and-security-services-error-7e5e7981fcbf2b53.yaml', 'manila/api/v1/security_service.py', 'manila/tests/api/v2/test_share_networks.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila/tests/api/v1/test_security_service.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/95aea67f919042fba97d735c4294afed4722f7e6', 'message': ""Fix getting share networks and security services error\n\nIt will fail when non-admin tenants try to get share networks\nand security services with option '{all_tenants: 1}'.\nThe reason is that the policy of 'get_all_share_networks' and\n'get_all_security_services' are admin api, they do not allow\nthe non-admin tenants list the share networks and security\nservices with all_tenants=1. This patch removes the policy check\nof non-admin tenants and allows non-admin tenants to request to\nlist with 'all_tenants=1', however 'all_tenants' in the request\nis just ignored.\n\nChange-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2\nCo-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>\nRelated-Bug: #1721787\n(cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9)\n(cherry picked from commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d)\n""}]",0,587684,95aea67f919042fba97d735c4294afed4722f7e6,9,5,1,16643,,,0,"Fix getting share networks and security services error

It will fail when non-admin tenants try to get share networks
and security services with option '{all_tenants: 1}'.
The reason is that the policy of 'get_all_share_networks' and
'get_all_security_services' are admin api, they do not allow
the non-admin tenants list the share networks and security
services with all_tenants=1. This patch removes the policy check
of non-admin tenants and allows non-admin tenants to request to
list with 'all_tenants=1', however 'all_tenants' in the request
is just ignored.

Change-Id: Ied021b66333f1254cd232bbc38562a4a9b762ad2
Co-Authored-By: Goutham Pacha Ravi <gouthampravi@gmail.com>
Related-Bug: #1721787
(cherry picked from commit 9f69258cab9baf77384282b67feb390d0487d3b9)
(cherry picked from commit 7a6955dd7fa47b51e5f2a7766061066ffaa0af8d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/84/587684/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_networks.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/test_security_services_negative.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'releasenotes/notes/bug-1721787-fix-getting-share-networks-and-security-services-error-7e5e7981fcbf2b53.yaml', 'manila/api/v1/security_service.py', 'manila/tests/api/v2/test_share_networks.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila/tests/api/v1/test_security_service.py']",9,95aea67f919042fba97d735c4294afed4722f7e6,bug/1721787-stable/pike-stable/ocata," @mock.patch.object(db, 'security_service_get_all_by_project', mock.Mock()) def test_security_services_list_all_tenants_non_admin_context(self): db.security_service_get_all_by_project.return_value = [] fake_context = req.environ['manila.context'] self.controller.index(req) db.security_service_get_all_by_project.assert_called_once_with( fake_context, fake_context.project_id )"," @mock.patch.object(db, 'security_service_get_all', mock.Mock()) def test_security_services_list_all_tenants_non_admin_context(self): self.check_policy_patcher.stop() db.security_service_get_all.return_value = [ self.ss_active_directory, self.ss_ldap, ] self.assertRaises(exception.PolicyNotAuthorized, self.controller.index, req) self.assertFalse(db.security_service_get_all.called)",58,48
openstack%2Fkuryr-tempest-plugin~master~Ic2660ebda25ae5be0a1593c24416edc036580503,openstack/kuryr-tempest-plugin,master,Ic2660ebda25ae5be0a1593c24416edc036580503,Move image build step to test-config phase,ABANDONED,2018-07-25 10:32:45.000000000,2018-08-02 11:59:00.000000000,,"[{'_account_id': 4727}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 10:32:45.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/18bf02c0722ca0b1d47415dd6d8dac6d372cb3fc', 'message': 'Move image build step to test-config phase\n\nThe kuryr/demo image is built during the install phase after\ndocker is installed but the docker service is stopped.\nMoving the build step to the test-config phase should solve this issue.\n\nChange-Id: Ic2660ebda25ae5be0a1593c24416edc036580503\n'}]",1,585706,18bf02c0722ca0b1d47415dd6d8dac6d372cb3fc,9,4,1,4727,,,0,"Move image build step to test-config phase

The kuryr/demo image is built during the install phase after
docker is installed but the docker service is stopped.
Moving the build step to the test-config phase should solve this issue.

Change-Id: Ic2660ebda25ae5be0a1593c24416edc036580503
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/06/585706/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,18bf02c0722ca0b1d47415dd6d8dac6d372cb3fc,docker-service,"if [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then","if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; thenelif [[ ""$1"" == ""stack"" && ""$2"" == ""test-config"" ]]; then",1,2
openstack%2Fmanila~stable%2Fqueens~I5421433c5de65a450c0264b77bd5c40d72b7b68e,openstack/manila,stable/queens,I5421433c5de65a450c0264b77bd5c40d72b7b68e,DNM,ABANDONED,2018-06-18 15:52:29.000000000,2018-08-02 11:57:36.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-06-18 15:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a7c6438922a1fbf729d6f2203fec3fdacd03e2f7', 'message': 'DNM\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}, {'number': 2, 'created': '2018-06-25 21:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0a8e4a0704503ad9ea379c158c3e25dcaa035f0f', 'message': 'DNM\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}, {'number': 3, 'created': '2018-07-24 09:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6da0c09cc46c0f74db7d018f44321d2459f3af05', 'message': 'DNM\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}, {'number': 4, 'created': '2018-07-24 13:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6ce004f17bfcaaf7746824e20717143be8b37e7a', 'message': 'DNM\n\nTest skips on microversion 2.45\n\nDepends-On: https://review.openstack.org/#/c/585351\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}, {'number': 5, 'created': '2018-07-25 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/66073f1b3f225ba63ff55840161bd96c9a809254', 'message': 'DNM\n\nTest skips on microversion 2.45\n\nDepends-On: https://review.openstack.org/#/c/585351\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}, {'number': 6, 'created': '2018-07-25 12:28:19.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/bc3dea58a9ef446d73c28f802401ee5082a4a1e1', 'message': 'DNM\n\n\n\nChange-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e\n'}]",0,576186,bc3dea58a9ef446d73c28f802401ee5082a4a1e1,25,5,6,9003,,,0,"DNM



Change-Id: I5421433c5de65a450c0264b77bd5c40d72b7b68e
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/576186/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,a7c6438922a1fbf729d6f2203fec3fdacd03e2f7,,,,0,0
openstack%2Fmanila~driverfixes%2Fnewton~Id33c0e13d265d50f74f86ab8fb2c533eefa4b783,openstack/manila,driverfixes/newton,Id33c0e13d265d50f74f86ab8fb2c533eefa4b783,NetApp cDOT: Add gateway information to create static routes,MERGED,2018-08-01 04:49:27.000000000,2018-08-02 11:57:28.000000000,2018-08-02 11:57:28.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2018-08-01 04:49:27.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1698258-netapp-fix-tenant-network-gateways-85935582e89a72a0.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/546f3c84788bc0448c9afd0dea88c633c1555603', 'message': 'NetApp cDOT: Add gateway information to create static routes\n\nAdd tenant routes/gateway to Vservers created by the driver.\n\nChange-Id: Id33c0e13d265d50f74f86ab8fb2c533eefa4b783\nCloses-Bug: #1698258\nCloses-Bug: #1612655\n(cherry picked from commit f88df34e3188624ed60c69d9e159bfebe17b0f91)\n(cherry picked from commit 11c8145b964bf2eecc16b29bf20627b73805ff2c)\n'}]",0,587685,546f3c84788bc0448c9afd0dea88c633c1555603,8,4,1,16643,,,0,"NetApp cDOT: Add gateway information to create static routes

Add tenant routes/gateway to Vservers created by the driver.

Change-Id: Id33c0e13d265d50f74f86ab8fb2c533eefa4b783
Closes-Bug: #1698258
Closes-Bug: #1612655
(cherry picked from commit f88df34e3188624ed60c69d9e159bfebe17b0f91)
(cherry picked from commit 11c8145b964bf2eecc16b29bf20627b73805ff2c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/85/587685/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1698258-netapp-fix-tenant-network-gateways-85935582e89a72a0.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",7,546f3c84788bc0448c9afd0dea88c633c1555603,bug/1698258-driverfixes/newton," self.mock_object(self.library, '_create_vserver_routes') self.library._create_ipspace.assert_called_once_with(fake.NETWORK_INFO) self.library._client.create_vserver.assert_called_once_with( self.library._get_api_client.assert_called_once_with( vserver=vserver_name) self.library._create_vserver_lifs.assert_called_once_with( self.library._create_vserver_admin_lif.assert_called_once_with( self.library._create_vserver_routes.assert_called_once_with( vserver_client, fake.NETWORK_INFO) self.library._client.setup_security_services.assert_called_once_with( @ddt.data( fake.get_network_info(fake.USER_NETWORK_ALLOCATIONS, fake.ADMIN_NETWORK_ALLOCATIONS), fake.get_network_info(fake.USER_NETWORK_ALLOCATIONS_IPV6, fake.ADMIN_NETWORK_ALLOCATIONS)) def test_create_vserver_routes(self, network_info): expected_gateway = network_info['network_allocations'][0]['gateway'] vserver_client = mock.Mock() self.mock_object(vserver_client, 'create_route') retval = self.library._create_vserver_routes( vserver_client, network_info) self.assertIsNone(retval) vserver_client.create_route.assert_called_once_with(expected_gateway) ", self.library._create_ipspace.assert_called_with(fake.NETWORK_INFO) self.library._client.create_vserver.assert_called_with( self.library._get_api_client.assert_called_with(vserver=vserver_name) self.library._create_vserver_lifs.assert_called_with( self.library._create_vserver_admin_lif.assert_called_with( self.library._client.setup_security_services.assert_called_with(,179,7
openstack%2Frpm-packaging~master~Id388f599831be55c276ef3a474fce555e201eb37,openstack/rpm-packaging,master,Id388f599831be55c276ef3a474fce555e201eb37,generate policy.yaml using oslopolicy-sample-generator,MERGED,2018-08-02 09:19:18.000000000,2018-08-02 11:56:23.000000000,2018-08-02 11:56:23.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-02 09:19:18.000000000', 'files': ['openstack/masakari/masakari.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/004d223e06d6c9333cd4a0e6cf3ffac70eefc6e0', 'message': 'generate policy.yaml using oslopolicy-sample-generator\n\nDepends-On: If885a66d92c31be440d27d6780635800a0b12e3e\nChange-Id: Id388f599831be55c276ef3a474fce555e201eb37\n'}]",0,588187,004d223e06d6c9333cd4a0e6cf3ffac70eefc6e0,9,5,1,23735,,,0,"generate policy.yaml using oslopolicy-sample-generator

Depends-On: If885a66d92c31be440d27d6780635800a0b12e3e
Change-Id: Id388f599831be55c276ef3a474fce555e201eb37
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/588187/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/masakari/masakari.spec.j2'],1,004d223e06d6c9333cd4a0e6cf3ffac70eefc6e0,,oslopolicy-sample-generator --config-file etc/masakari/masakari-policy-generator.confinstall -p -D -m 640 etc/masakari/policy.yaml.sample %{buildroot}%{_sysconfdir}/masakari/policy.yaml,install -p -D -m 640 etc/masakari/policy.json %{buildroot}%{_sysconfdir}/masakari/policy.json,2,1
openstack%2Frpm-packaging~stable%2Fpike~I458a3e5b16d9888ffbab885d50bc0936d64c8277,openstack/rpm-packaging,stable/pike,I458a3e5b16d9888ffbab885d50bc0936d64c8277,Fix stable/pike rpm packaging for monasca-ui,ABANDONED,2018-07-18 17:38:49.000000000,2018-08-02 11:53:45.000000000,,"[{'_account_id': 6593}, {'_account_id': 10311}, {'_account_id': 12156}, {'_account_id': 12542}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-18 17:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a860dfdf9e2d239603c380a40d0188746843c6c7', 'message': 'Fix stable/pike rpm packaging for monasca_ui\n\nThe change at https://review.openstack.org/#/c/566870/ applied\npart of the patch changes from allow-raw-grafana-links.patch ,\nwhich is causing the rpm build to fail, since git fails\nto apply the patch.\n\nThis change removes from the patch file the section of code that\nwas updated in that commit, leaving the rest of the patch intact\n\nChange-Id: I458a3e5b16d9888ffbab885d50bc0936d64c8277\n'}, {'number': 2, 'created': '2018-07-18 17:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fb171b6a2db42a46dfebe3fd230928dce4df4386', 'message': 'Fix stable/pike rpm packaging for monasca-ui\n\nThe change at https://review.openstack.org/#/c/566870/ applied\npart of the patch changes from allow-raw-grafana-links.patch ,\nwhich is causing the rpm build to fail, since git fails\nto apply the patch.\n\nThis change removes from the patch file the section of code that\nwas updated in that commit, leaving the rest of the patch intact\n\nChange-Id: I458a3e5b16d9888ffbab885d50bc0936d64c8277\n'}, {'number': 3, 'created': '2018-08-02 11:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1056b1a7949b29c42b460b45c0ba33102f538ba6', 'message': 'Fix stable/pike rpm packaging for monasca-ui\n\nThe change at https://review.openstack.org/#/c/566870/ applied\npart of the patch changes from allow-raw-grafana-links.patch ,\nwhich is causing the rpm build to fail, since git fails\nto apply the patch.\n\nThis change removes from the patch file the section of code that\nwas updated in that commit, leaving the rest of the patch intact\n\nChange-Id: I458a3e5b16d9888ffbab885d50bc0936d64c8277\n'}]",0,583676,1056b1a7949b29c42b460b45c0ba33102f538ba6,14,7,3,12156,,,0,"Fix stable/pike rpm packaging for monasca-ui

The change at https://review.openstack.org/#/c/566870/ applied
part of the patch changes from allow-raw-grafana-links.patch ,
which is causing the rpm build to fail, since git fails
to apply the patch.

This change removes from the patch file the section of code that
was updated in that commit, leaving the rest of the patch intact

Change-Id: I458a3e5b16d9888ffbab885d50bc0936d64c8277
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/583676/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-ui/allow-raw-grafana-links.patch'],1,a860dfdf9e2d239603c380a40d0188746843c6c7,fix_pike_monasca_ui_packaging,,"@@ -261,7 +265,9 @@ class MonascaProxyView(TemplateView): dimensions_str = req_kwargs['dimensions'][0] dimensions_str_array = dimensions_str.split(',') for dimension in dimensions_str_array: - dimension_name_value = dimension.split(':') + # limit splitting since value may contain a ':' such as in + # the `url` dimension of the service_status check. + dimension_name_value = dimension.split(':', 1) if len(dimension_name_value) == 2: name = dimension_name_value[0].encode('utf8') value = dimension_name_value[1].encode('utf8')",0,11
openstack%2Fkolla-ansible~master~I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7,openstack/kolla-ansible,master,I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7,Enable rgw_swift_enforce_content_length,MERGED,2018-08-02 09:13:06.000000000,2018-08-02 11:44:03.000000000,2018-08-02 11:44:03.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 11797}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 24574}]","[{'number': 1, 'created': '2018-08-02 09:13:06.000000000', 'files': ['ansible/roles/ceph/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/815c6b75893dba5395e826f61eea518963c9dbb7', 'message': 'Enable rgw_swift_enforce_content_length\n\nCurrently test_list_containers tempest tests[1] would be failed.\nIt is becuase accept-ranges header does not exist. See ceph bug[2].\n\nRgw_swift_enforce_content_length assures Content-Length and\nAccept-Ranges in dynamically generated account & container listings.\n\n[1] tempest.api.object_storage.test_account_services.AccountTest.test_list_containers\n[2] http://tracker.ceph.com/issues/21554\nRelated-Bug: #1783456\n\nChange-Id: I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7\n'}]",0,588185,815c6b75893dba5395e826f61eea518963c9dbb7,9,8,1,22997,,,0,"Enable rgw_swift_enforce_content_length

Currently test_list_containers tempest tests[1] would be failed.
It is becuase accept-ranges header does not exist. See ceph bug[2].

Rgw_swift_enforce_content_length assures Content-Length and
Accept-Ranges in dynamically generated account & container listings.

[1] tempest.api.object_storage.test_account_services.AccountTest.test_list_containers
[2] http://tracker.ceph.com/issues/21554
Related-Bug: #1783456

Change-Id: I9b5fcc361f0bc0e521302d2df1974aabf6f4a7e7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/588185/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/templates/ceph.conf.j2'],1,815c6b75893dba5395e826f61eea518963c9dbb7,bug/1783456,rgw_swift_enforce_content_length = true,,1,0
openstack%2Fproject-config~master~If818ec84c25815228f0fcf7e94ed4270250077d9,openstack/project-config,master,If818ec84c25815228f0fcf7e94ed4270250077d9,Add Fluorine functional to grafana and remove fullstack,MERGED,2018-07-15 09:29:47.000000000,2018-08-02 11:33:19.000000000,2018-08-02 11:33:18.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-15 09:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9116dbaedd8addee611619e6761df655181d994e', 'message': 'Add Fluorine fullstack/functional to the grafana\n\nUntil now n-odl only had oxygen in the gate. Now it is adding also\nFluorine to it.\n\nThis patch adds monitoring for it in grafana.\n\nDepends-On: https://review.openstack.org/582748\nChange-Id: If818ec84c25815228f0fcf7e94ed4270250077d9\n'}, {'number': 2, 'created': '2018-07-16 07:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5b788f9287bd756beb73138f2d60f01da7d5c27', 'message': 'Add Fluorine fullstack/functional to the grafana\n\nUntil now n-odl only had oxygen in the gate. Now it is adding also\nFluorine to it.\n\nThis patch adds monitoring for it in grafana.\n\nDepends-On: https://review.openstack.org/582748\nChange-Id: If818ec84c25815228f0fcf7e94ed4270250077d9\n'}, {'number': 3, 'created': '2018-07-17 06:42:38.000000000', 'files': ['grafana/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb20772ae71790eaf84105d15998c314110b1aa6', 'message': 'Add Fluorine functional to grafana and remove fullstack\n\nUntil now n-odl only had oxygen in the gate. Now it is adding also\nFluorine to it. In addition, fullstack is failing and we will probably\nremove it anyways.\n\nThis patch adds monitoring for functional in grafana and removes the\nfullstack monitoring.\n\nDepends-On: https://review.openstack.org/582980\nDepends-On: https://review.openstack.org/582748\nChange-Id: If818ec84c25815228f0fcf7e94ed4270250077d9\n'}]",3,582749,bb20772ae71790eaf84105d15998c314110b1aa6,16,5,3,26507,,,0,"Add Fluorine functional to grafana and remove fullstack

Until now n-odl only had oxygen in the gate. Now it is adding also
Fluorine to it. In addition, fullstack is failing and we will probably
remove it anyways.

This patch adds monitoring for functional in grafana and removes the
fullstack monitoring.

Depends-On: https://review.openstack.org/582980
Depends-On: https://review.openstack.org/582748
Change-Id: If818ec84c25815228f0fcf7e94ed4270250077d9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/582749/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/networking-odl.yaml'],1,9116dbaedd8addee611619e6761df655181d994e,chg/add_flourine_to_gate," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-functional-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-functional-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-functional-fluorine') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-fullstack-fluorine.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.git_openstack_org.openstack_networking-odl.master.job.networking-odl-fullstack-oxygen.{SUCCESS,FAILURE})),'24hours'), 'networking-odl-fullstack-fluorine')",,2,0
openstack%2Fkayobe~master~I30f5e0b57d88e457283e70a1b00abff9d4575a04,openstack/kayobe,master,I30f5e0b57d88e457283e70a1b00abff9d4575a04,Add support for deploying Prometheus,MERGED,2018-07-31 08:39:09.000000000,2018-08-02 11:30:54.000000000,2018-08-02 11:30:54.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-31 08:39:09.000000000', 'files': ['ansible/group_vars/all/kolla', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/80056749c95009144a2cc8e6b674645b5bcff5d2', 'message': 'Add support for deploying Prometheus\n\nKolla Ansible already provides support for this and includes quite a few\nexporters to scrape.\n\nChange-Id: I30f5e0b57d88e457283e70a1b00abff9d4575a04\nStory: 2003175\nTask: 23319\n'}]",0,587339,80056749c95009144a2cc8e6b674645b5bcff5d2,11,4,1,17669,,,0,"Add support for deploying Prometheus

Kolla Ansible already provides support for this and includes quite a few
exporters to scrape.

Change-Id: I30f5e0b57d88e457283e70a1b00abff9d4575a04
Story: 2003175
Task: 23319
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/39/587339/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml']",3,80056749c95009144a2cc8e6b674645b5bcff5d2,feature/prometheus, - prometheus,,33,0
openstack%2Fkolla-ansible~master~I7e28fdfaff61fc3fae37fdc53b35ae73214a191a,openstack/kolla-ansible,master,I7e28fdfaff61fc3fae37fdc53b35ae73214a191a,WIP: Add bifrost job for ubuntu,ABANDONED,2018-03-13 10:25:29.000000000,2018-08-02 11:26:23.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 10:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6094544bfa287061386959a797045a46e026c9cc', 'message': 'WIP: Add bifrost job for ubuntu\n\nThe Ubuntu build is currently failing with: ""MySQL-python module is\nrequired"". Bifrost does seem to be installing python-mysqldb, so I\'m not\nsure what is wrong.\n\nChange-Id: I7e28fdfaff61fc3fae37fdc53b35ae73214a191a\n'}, {'number': 2, 'created': '2018-04-03 15:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6b18405ccf9ad98e378e0e4eb5c97653d7a2cc4', 'message': 'WIP: Add bifrost job for ubuntu\n\nThe Ubuntu build is currently failing with: ""MySQL-python module is\nrequired"". Bifrost does seem to be installing python-mysqldb, so I\'m not\nsure what is wrong.\n\nChange-Id: I7e28fdfaff61fc3fae37fdc53b35ae73214a191a\n'}, {'number': 3, 'created': '2018-04-23 09:00:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2bd66edc049f55ae04a7f07983ff0342c8b968d4', 'message': 'WIP: Add bifrost job for ubuntu\n\nThe Ubuntu build is currently failing with: ""MySQL-python module is\nrequired"". Bifrost does seem to be installing python-mysqldb, so I\'m not\nsure what is wrong.\n\nChange-Id: I7e28fdfaff61fc3fae37fdc53b35ae73214a191a\n'}]",0,552467,2bd66edc049f55ae04a7f07983ff0342c8b968d4,10,2,3,14826,,,0,"WIP: Add bifrost job for ubuntu

The Ubuntu build is currently failing with: ""MySQL-python module is
required"". Bifrost does seem to be installing python-mysqldb, so I'm not
sure what is wrong.

Change-Id: I7e28fdfaff61fc3fae37fdc53b35ae73214a191a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/552467/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6094544bfa287061386959a797045a46e026c9cc,check-bifrost, - kolla-ansible-bifrost-ubuntu-source - job: name: kolla-ansible-bifrost-ubuntu-source parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-xenial voting: false vars: base_distro: ubuntu,,9,0
openstack%2Frpm-packaging~master~I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f,openstack/rpm-packaging,master,I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f,Update neutron to 12.0.1,ABANDONED,2018-03-28 16:51:47.000000000,2018-08-02 11:26:18.000000000,,"[{'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-28 16:51:47.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/03e6b6c6060c426f54e5c834b1402ef50dfd7144', 'message': 'Update neutron to 12.0.1\n\nChange-Id: I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f\n'}]",0,557435,03e6b6c6060c426f54e5c834b1402ef50dfd7144,9,5,1,17130,,,0,"Update neutron to 12.0.1

Change-Id: I7a69d4d1ad195dbe6b45fe100c0552d64e7de42f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/35/557435/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,03e6b6c6060c426f54e5c834b1402ef50dfd7144,,{% set upstream_version = '12.0.1' %},{% set upstream_version = '12.0.0' %},1,1
openstack%2Fkolla-ansible~master~If89636f77d87bab75e8e7bcf16cc784e83184bc6,openstack/kolla-ansible,master,If89636f77d87bab75e8e7bcf16cc784e83184bc6,Allow object versioning for ceph-rgw,MERGED,2018-07-30 08:50:04.000000000,2018-08-02 11:22:22.000000000,2018-08-02 11:22:22.000000000,"[{'_account_id': 1390}, {'_account_id': 2276}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 11797}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 24574}]","[{'number': 1, 'created': '2018-07-30 08:50:04.000000000', 'files': ['ansible/roles/ceph/templates/ceph.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d37d050e60d276811eb779ea4b8f5c8b916e193f', 'message': 'Allow object versioning for ceph-rgw\n\nObject versioning test[1] is required for RefStack test suite.\nSwift has enabled it by default[2].\nIt is also needed for ceph-rgw.\n\n[1]\ntempest.api.object_storage.test_object_version.ContainerTest.test_versioned_container\n[2] https://review.openstack.org/#/c/517281/\n\nRelated-Bug: #1729583\nChange-Id: If89636f77d87bab75e8e7bcf16cc784e83184bc6\n'}]",0,586981,d37d050e60d276811eb779ea4b8f5c8b916e193f,15,10,1,22997,,,0,"Allow object versioning for ceph-rgw

Object versioning test[1] is required for RefStack test suite.
Swift has enabled it by default[2].
It is also needed for ceph-rgw.

[1]
tempest.api.object_storage.test_object_version.ContainerTest.test_versioned_container
[2] https://review.openstack.org/#/c/517281/

Related-Bug: #1729583
Change-Id: If89636f77d87bab75e8e7bcf16cc784e83184bc6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/586981/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/templates/ceph.conf.j2'],1,d37d050e60d276811eb779ea4b8f5c8b916e193f,bug/1729583,rgw_swift_versioning_enabled = true,,1,0
openstack%2Fnetworking-odl~master~I49f2677c7ec80ddbd6d7355b8b751d84171cf86e,openstack/networking-odl,master,I49f2677c7ec80ddbd6d7355b8b751d84171cf86e,Remove fullstack from the gate,MERGED,2018-07-16 15:37:01.000000000,2018-08-02 11:16:18.000000000,2018-08-02 11:16:18.000000000,"[{'_account_id': 7921}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-16 15:37:01.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4e5ac63e945179396bd08aef177cb33b16a76286', 'message': ""Remove fullstack from the gate\n\nThe test is currently broken and it's using resources needlessly. Also\nwe are considering their removal altogether, so it makes sense to remove\nthem from there for now.\n\nThis patch removes them from the gate.\n\nChange-Id: I49f2677c7ec80ddbd6d7355b8b751d84171cf86e\n""}]",0,582980,4e5ac63e945179396bd08aef177cb33b16a76286,6,2,1,26507,,,0,"Remove fullstack from the gate

The test is currently broken and it's using resources needlessly. Also
we are considering their removal altogether, so it makes sense to remove
them from there for now.

This patch removes them from the gate.

Change-Id: I49f2677c7ec80ddbd6d7355b8b751d84171cf86e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/80/582980/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,4e5ac63e945179396bd08aef177cb33b16a76286,chg/add_flourine_to_gate,, - networking-odl-fullstack-oxygen,0,1
openstack%2Fnetworking-odl~master~I547ba131c5d5663b696fba5f51e418db11c19f7a,openstack/networking-odl,master,I547ba131c5d5663b696fba5f51e418db11c19f7a,Add Fluorine functional to the gate,MERGED,2018-07-15 09:23:30.000000000,2018-08-02 11:16:17.000000000,2018-08-02 11:16:17.000000000,"[{'_account_id': 6547}, {'_account_id': 7921}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-15 09:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2f98c7c6186279e7f2526aa60e5cc64d64760aa1', 'message': ""Add Fluorine fullstack/functional to the gate\n\nCurrently it's only checked in the check pipeline. Considering it is the\ncurrent version of ODL it should also be checked in the gate pipeline.\n\nThis patch adds it to the gate.\n\nChange-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a\n""}, {'number': 2, 'created': '2018-07-16 10:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4a5c54a547434ccc50374aa4fe7a5fe4ce2cef53', 'message': ""Add Fluorine fullstack/functional to the gate\n\nCurrently it's only checked in the check pipeline. Considering it is the\ncurrent version of ODL it should also be checked in the gate pipeline.\n\nThis patch adds it to the gate.\n\nChange-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a\n""}, {'number': 3, 'created': '2018-07-16 11:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1b6747e88b6c17ef8698ac40673251244a63957a', 'message': ""Add Fluorine fullstack/functional to the gate\n\nCurrently it's only checked in the check pipeline. Considering it is the\ncurrent version of ODL it should also be checked in the gate pipeline.\n\nThis patch adds it to the gate and makes functional voting.\n\nNOTE: Currently fullstack is failing so it cann't be voting for now.\n\nChange-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a\n""}, {'number': 4, 'created': '2018-07-16 15:37:01.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6550c5d58676efbbbe04e02a617ef572d330126b', 'message': ""Add Fluorine functional to the gate\n\nCurrently it's only checked in the check pipeline. Considering it is the\ncurrent version of ODL it should also be checked in the gate pipeline.\n\nThis patch adds it to the gate and makes functional voting.\n\nChange-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a\n""}]",1,582748,6550c5d58676efbbbe04e02a617ef572d330126b,19,5,4,26507,,,0,"Add Fluorine functional to the gate

Currently it's only checked in the check pipeline. Considering it is the
current version of ODL it should also be checked in the gate pipeline.

This patch adds it to the gate and makes functional voting.

Change-Id: I547ba131c5d5663b696fba5f51e418db11c19f7a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/48/582748/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,2f98c7c6186279e7f2526aa60e5cc64d64760aa1,chg/add_flourine_to_gate, - networking-odl-functional-fluorine - networking-odl-fullstack-fluorine,,2,0
openstack%2Fkayobe~master~I8c15cd874e147545b0604427771d412b482e5380,openstack/kayobe,master,I8c15cd874e147545b0604427771d412b482e5380,Fix ironic inspector rule registration,MERGED,2018-07-31 17:26:02.000000000,2018-08-02 11:14:03.000000000,2018-08-01 17:39:29.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2018-07-31 17:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7eb3f2d83937a0a8e0f178d9eea1df24b1eed38f', 'message': ""Fix ironic inspector rule registration\n\nUse upper constraints to ensure that new releases of ironic inspector\ndon't break rule registration.\n\nThis was happening because the client object created in the\nos_ironic_inspector_rule module uses the maximum API version known to\nthe client.\n\nChange-Id: I8c15cd874e147545b0604427771d412b482e5380\nStory: 2003129\nTask: 23250\n""}, {'number': 2, 'created': '2018-08-01 13:37:16.000000000', 'files': ['ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f0b84702ee196648325ed90fd3c6a1199f6c0602', 'message': ""Fix ironic inspector rule registration\n\nUse a specific inspector API version (1.12, the latest in Queens) to\nensure that new releases of ironic inspector don't break rule\nregistration.\n\nThis was happening because the client object created in the\nos_ironic_inspector_rule module uses the maximum API version known to\nthe client.\n\nChange-Id: I8c15cd874e147545b0604427771d412b482e5380\nStory: 2003129\nTask: 23250\n""}]",0,587546,f0b84702ee196648325ed90fd3c6a1199f6c0602,14,4,2,14826,,,0,"Fix ironic inspector rule registration

Use a specific inspector API version (1.12, the latest in Queens) to
ensure that new releases of ironic inspector don't break rule
registration.

This was happening because the client object created in the
os_ironic_inspector_rule module uses the maximum API version known to
the client.

Change-Id: I8c15cd874e147545b0604427771d412b482e5380
Story: 2003129
Task: 23250
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/46/587546/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/seed-introspection-rules.yml', 'ansible/roles/ironic-inspector-rules/defaults/main.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/overcloud-introspection-rules.yml', 'ansible/roles/ironic-inspector-rules/tasks/main.yml']",5,7eb3f2d83937a0a8e0f178d9eea1df24b1eed38f,story/2003129," extra_args: ""{% if ironic_inspector_upper_constraints_file %}-c {{ ironic_inspector_upper_constraints_file }}{% endif %}""",,7,0
openstack%2Fnova~master~I83536b179000f41f9618a4b6f2a16b4440fd61ba,openstack/nova,master,I83536b179000f41f9618a4b6f2a16b4440fd61ba,Add note about reschedules and num_attempts in filter_properties,MERGED,2018-07-12 22:28:46.000000000,2018-08-02 10:36:32.000000000,2018-08-02 10:36:32.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25562}, {'_account_id': 26431}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-12 22:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80dec373408eaa4552ef5dff4a545fe5b2803c14', 'message': 'Add note about reschedules and num_attempts in filter_properties\n\nThe ""retry"" entry in filter_properties is not set if reschedules\nare disabled, which happens in these cases:\n\n1. [scheduler]/max_attempts=1\n2. The server is forced to a specific host and/or node.\n\nMore times than I\'d like to admit, I\'ve had to re-learn that\nfilter_properties[\'retry\'][\'num_attempts\'] will always be >1 in\nconductor build_instances during a reschedule because if\nreschedules are disabled, the compute service aborts the build\non failure and we don\'t even get back to conductor.\n\nThis change adds a note since it\'s hard to keep in your head how\nthe retry logic is all tied together from the API, superconductor,\ncompute and cell conductor during a reschedule scenario.\n\nChange-Id: I83536b179000f41f9618a4b6f2a16b4440fd61ba\nRelated-Bug: #1781286\n'}, {'number': 2, 'created': '2018-07-14 12:38:06.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/276130c6d1637f8e0f39ba274e2619a115a8fa1a', 'message': 'Add note about reschedules and num_attempts in filter_properties\n\nThe ""retry"" entry in filter_properties is not set if reschedules\nare disabled, which happens in these cases:\n\n1. [scheduler]/max_attempts=1\n2. The server is forced to a specific host and/or node.\n\nMore times than I\'d like to admit, I\'ve had to re-learn that\nfilter_properties[\'retry\'][\'num_attempts\'] will always be >1 in\nconductor build_instances during a reschedule because if\nreschedules are disabled, the compute service aborts the build\non failure and we don\'t even get back to conductor.\n\nThis change adds a note since it\'s hard to keep in your head how\nthe retry logic is all tied together from the API, superconductor,\ncompute and cell conductor during a reschedule scenario.\n\nChange-Id: I83536b179000f41f9618a4b6f2a16b4440fd61ba\nRelated-Bug: #1781286\n'}]",4,582412,276130c6d1637f8e0f39ba274e2619a115a8fa1a,58,22,2,6873,,,0,"Add note about reschedules and num_attempts in filter_properties

The ""retry"" entry in filter_properties is not set if reschedules
are disabled, which happens in these cases:

1. [scheduler]/max_attempts=1
2. The server is forced to a specific host and/or node.

More times than I'd like to admit, I've had to re-learn that
filter_properties['retry']['num_attempts'] will always be >1 in
conductor build_instances during a reschedule because if
reschedules are disabled, the compute service aborts the build
on failure and we don't even get back to conductor.

This change adds a note since it's hard to keep in your head how
the retry logic is all tied together from the API, superconductor,
compute and cell conductor during a reschedule scenario.

Change-Id: I83536b179000f41f9618a4b6f2a16b4440fd61ba
Related-Bug: #1781286
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/582412/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,80dec373408eaa4552ef5dff4a545fe5b2803c14,bug/1781286," # NOTE(mriedem): If we're rescheduling from a failed build on a # compute, ""retry"" will be set and num_attempts will be >1 because # populate_retry above will increment it. If the server build was # forced onto a host/node or [scheduler]/max_attempts=1, ""retry"" # won't be in filter_properties and we won't get here on a # reschedule because nova-compute will just abort the build since # reschedules are disabled in those cases.",,7,0
openstack%2Fopenstack-ansible~master~Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1,openstack/openstack-ansible,master,Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1,Unfreeze roles after M3,ABANDONED,2018-07-25 12:05:19.000000000,2018-08-02 10:22:16.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 12:05:19.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/585e6970ebc9c26ce82dc7967afd0c0c3d22ba5b', 'message': 'Unfreeze roles after M3\n\nNow that we have a SHA for milestone 3, we can continue our\ndevelopment work.\n\nChange-Id: Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1\n'}]",0,585724,585e6970ebc9c26ce82dc7967afd0c0c3d22ba5b,8,4,1,17068,,,0,"Unfreeze roles after M3

Now that we have a SHA for milestone 3, we can continue our
development work.

Change-Id: Iad80f185aad1ef82d28a4b133e9ac7871f77d1e1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/585724/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,585e6970ebc9c26ce82dc7967afd0c0c3d22ba5b,release_osa, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master, version: 149bf0b91861850e51dd041ee220cac6215ed917 version: 355840bd8292bee67b3bceb85053a6ace594094d version: 722470da02a8b7d17d19b1f24d4b736f9371f633 version: 80acadbb1e400561a33842194a09d6680005494f version: fddfad4cc2fe95183e8a4078b9ef863193eae19d version: 5873b7f422e3eef100369c4ecd0726792f03ceae version: 7015fc3dbbe09dc461436ca3549b2bd53398b67f version: 64764d25ab868417f1138a7b9605f2eb94cbfd02 version: b2020d5c10b7def43490fc192eb70969bf80517a version: eeb21321f47244e12e572e3b83368645777806c0 version: 1b6ceb12f33e917026996428537e63528022dd62 version: 68e9794c6a6f331b5c1f81ec4dccea7a6ea5389a version: cf37e8428fce4d7084cac6b1f267581e7906d601 version: 93dc5f50dff78267d8b39a396d93260804d554af version: 42087a12b0b44d500d4745eef71735220ae21542 version: 30282b479b7cc203ab6d26264a32267be6bff1c9 version: f7d6f7effefd66ddd5c9934e3920ed29e2b8f82f version: f80565e0d06a033a42ccd87587ec94deb5b7ed08 version: 11648896e7dc9c1afedfc2a447d124358b95ab95 version: 9b5d91d520660150f28a8b5060dc008acf0f808f version: f075899894463807134a40674b4f5482dac4708a version: d935ef5b9c9ddc0f01145d7d4d1bf816225b4fd0 version: 1b9ec9b9109a3212a7069c7d0e3973fc7d9ad502 version: 73b74637f53a65d4f9216a11668354193e147010 version: 52444d4d978bb9ca524c2f2e37d0d872ad512ad8 version: 5eae47074affa32df32c0fea9bd9acf5640729b2 version: 1c4bd5ffed028ef166cb80fa3983d7ca3310cce1 version: c6ffb8a72924de95f5ad93bd99a4f64656048928 version: 7e588c057e28a7dfcb252bfefc06735e32acfe77 version: 6c7355000545a4c86593e4fb9a4eb253c94ddfa4 version: caccaba4845be3840d4e8fdcd7a835e517fa439e version: 3b86334e2f84b57e7573bec5b10c959d55ceff06 version: 30ac51d857b09565793fc3e32599d56f8e64f758 version: e911fcf505d769a500f028abdedf2ef45faa10b2 version: ff960d4e8067e4c4afc8b0e3afe8fea8df46df3c version: f2c6b9607650ab1b6e2af219a1012bfe6033753d version: f655fcbaab1242f2f68b8211ce97ba869e87dad5 version: fd498ad45679bbdc1178fe18adb61ba81bf40db2 version: 14e2b93facac0a4cc95506ae97a72d74032acbcd version: dab934bdb9f06a4c194469afa34a0998b76721b6 version: 68a9655da10687615e1183b227956d234ab720e9 version: 61f5e55f6476df4e4f9ed50f9b431420f31529d7 version: d2ba81107ade1cf53c8b93590465c21ad2bc4530 version: 0fdb4848b5aca949ffade9be5a2ae254979e673e version: 3933355dfe51477822db517d3c07ad561fb61318 version: 3bb7414f46b757e943507b65ca4c9f1080a008b0 version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: e85e5ea781e7ae251b277c1fbca83877e3ebfd82 version: 68add19995b90b051375428e7083ab8e3a7ec7c5 version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 6b0bd02729eb5906083adc39717f234dbfc4505e version: e9bb87e7a6cada3a60f83bcdab9f52be0cf13b12 version: 94ff90157ac891e5412b8daaa37d7a1cf2192171 version: 4405f7d6b5149252c69ed02aeeb67909da41a70b version: a116425bef3336630431b83f77152cbc38ada0ba version: a72c53d47e08f3e6782b76675892a73c64d71acf,56,56
openstack%2Fopenstack-ansible~master~I8e2c7e6fbc6a199a465042e30c98ca29a165a167,openstack/openstack-ansible,master,I8e2c7e6fbc6a199a465042e30c98ca29a165a167,Freeze OpenStack-Ansible roles for Milestone 3,ABANDONED,2018-07-25 11:57:16.000000000,2018-08-02 10:22:10.000000000,,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 11:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d390fcf315b80d910d4c26d48015e143d78f1d69', 'message': 'Freeze OpenStack-Ansible roles for Milestone 3\n\nChange-Id: I8e2c7e6fbc6a199a465042e30c98ca29a165a167\n'}, {'number': 2, 'created': '2018-07-26 11:17:12.000000000', 'files': ['releasenotes/notes/nova-service-setup-host-f62d2eaede77d23c.yaml', 'releasenotes/notes/oslo-messaging-backends-65287400dba86fce.yaml', 'releasenotes/notes/ironic-service-setup-host-658842e1875ea7bf.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml', 'releasenotes/notes/sso-callback-template-cf720ab7f6fc2461.yaml', 'releasenotes/notes/heat-service-setup-host-e15eb9aa40414697.yaml', 'releasenotes/notes/openstack-distribution-packages-fcb6220fdeb3668c.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml', 'releasenotes/notes/pypi-cache-removed-c03a9a0658c9d89f.yaml', 'releasenotes/notes/keystone-service-setup-host-cd3ee3346af823e6.yaml', 'releasenotes/notes/barbican-service-setup-host-a5da4ed51d164fb5.yaml', 'releasenotes/notes/trove-service-setup-host-5bb64b2356ca81e2.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-87f2d1a15c202f73.yaml', 'releasenotes/notes/custom-pip-package-add-4c17638c6e5b3373.yaml', 'releasenotes/notes/cinder-service-setup-host-712ca5e7b7b9d578.yaml', 'releasenotes/notes/openstack-distribution-packages-f5d3174b96fc2372.yaml', 'releasenotes/notes/designate-service-setup-host-78466665a752dadd.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-652f63d5c21b1884.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-60f81dae397b1c96.yaml', 'releasenotes/notes/ceilometer-service-setup-host-18179a1f9b71fb14.yaml', 'releasenotes/notes/horizon-service-setup-host-9728b772d2514dd9.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/deprecated-iscsi_helper-98fd2aebfd72fdf6.yaml', 'releasenotes/notes/gnocchi-service-setup-host-ef418b0e709ae796.yaml', 'releasenotes/notes/glance-service-setup-host-b0e71be408de074b.yaml', 'releasenotes/notes/sahara-service-setup-host-18f57fbc1671adfc.yaml', 'releasenotes/notes/neutron-service-setup-host-895ececec99d7a51.yaml', 'releasenotes/notes/get-nested-removed-779b8d2648d2e8b4.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d61c751ca8edb789cb2839b9e442da1e82e162d2', 'message': 'Freeze OpenStack-Ansible roles for Milestone 3\n\nChange-Id: I8e2c7e6fbc6a199a465042e30c98ca29a165a167\n'}]",0,585720,d61c751ca8edb789cb2839b9e442da1e82e162d2,61,5,2,17068,,,0,"Freeze OpenStack-Ansible roles for Milestone 3

Change-Id: I8e2c7e6fbc6a199a465042e30c98ca29a165a167
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/585720/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova-service-setup-host-f62d2eaede77d23c.yaml', 'releasenotes/notes/oslo-messaging-backends-65287400dba86fce.yaml', 'releasenotes/notes/ironic-service-setup-host-658842e1875ea7bf.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e82ea3162d2d383f.yaml', 'releasenotes/notes/sso-callback-template-cf720ab7f6fc2461.yaml', 'releasenotes/notes/heat-service-setup-host-e15eb9aa40414697.yaml', 'releasenotes/notes/openstack-distribution-packages-fcb6220fdeb3668c.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-a3af6957a984ac51.yaml', 'releasenotes/notes/pypi-cache-removed-c03a9a0658c9d89f.yaml', 'releasenotes/notes/keystone-service-setup-host-cd3ee3346af823e6.yaml', 'releasenotes/notes/barbican-service-setup-host-a5da4ed51d164fb5.yaml', 'releasenotes/notes/trove-service-setup-host-5bb64b2356ca81e2.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-87f2d1a15c202f73.yaml', 'releasenotes/notes/custom-pip-package-add-4c17638c6e5b3373.yaml', 'releasenotes/notes/cinder-service-setup-host-712ca5e7b7b9d578.yaml', 'releasenotes/notes/openstack-distribution-packages-f5d3174b96fc2372.yaml', 'releasenotes/notes/designate-service-setup-host-78466665a752dadd.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-652f63d5c21b1884.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-60f81dae397b1c96.yaml', 'releasenotes/notes/ceilometer-service-setup-host-18179a1f9b71fb14.yaml', 'releasenotes/notes/horizon-service-setup-host-9728b772d2514dd9.yaml', 'ansible-role-requirements.yml', 'releasenotes/notes/deprecated-iscsi_helper-98fd2aebfd72fdf6.yaml', 'releasenotes/notes/gnocchi-service-setup-host-ef418b0e709ae796.yaml', 'releasenotes/notes/glance-service-setup-host-b0e71be408de074b.yaml', 'releasenotes/notes/sahara-service-setup-host-18f57fbc1671adfc.yaml', 'releasenotes/notes/neutron-service-setup-host-895ececec99d7a51.yaml', 'releasenotes/notes/get-nested-removed-779b8d2648d2e8b4.yaml', 'releasenotes/notes/oslo-messaging-separate-backends-e8a0b6857f2a9749.yaml']",29,d390fcf315b80d910d4c26d48015e143d78f1d69,release_osa,--- features: - Support separate oslo.messaging services for RPC and Notifications to enable operation of separate and different messaging backend servers. deprecations: - | The rabbitmq server parameters have been replaced by corresponding oslo.messaging RPC and Notify parameters in order to abstract the messaging service from the actual backend server deployment. - octavia_oslomsg_rpc_servers replaces octavia_rabbitmq_servers - octavia_oslomsg_rpc_port replaces octavia_rabbitmq_port - octavia_oslomsg_rpc_use_ssl replaces octavia_rabbitmq_use_ssl - octavia_oslomsg_rpc_userid replaces octavia_rabbitmq_userid - octavia_oslomsg_rpc_vhost replaces octavia_rabbitmq_vhost - octavia_oslomsg_notify_servers replaces octavia_rabbitmq_telemetry_servers - octavia_oslomsg_notify_port replaces octavia_rabbitmq_telemetry_port - octavia_oslomsg_notify_use_ssl replaces octavia_rabbitmq_telemetry_use_ssl - octavia_oslomsg_notify_userid replaces octavia_rabbitmq_telemetry_userid - octavia_oslomsg_notify_vhost replaces octavia_rabbitmq_telemetry_vhost - octavia_oslomsg_notify_password replaces octavia_rabbitmq_telemetry_password ,,477,56
openstack%2Fkuryr-kubernetes~stable%2Fqueens~I406d0291b17e82dace5a6e707fd538210cb25627,openstack/kuryr-kubernetes,stable/queens,I406d0291b17e82dace5a6e707fd538210cb25627,devstack: Fix load balancing project membership,MERGED,2018-08-01 07:38:05.000000000,2018-08-02 10:13:01.000000000,2018-08-02 10:13:01.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-08-01 07:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2f45a9e350b0794a3c264a60ef9941dade32c74', 'message': 'devstack: Fix load balancing project membership\n\nWe had several LB resources not belonging to the k8s project.\n\nChange-Id: I406d0291b17e82dace5a6e707fd538210cb25627\n(cherry picked from commit 0d969c07a71ae1135ab1ae8803542a0ca6f4)\n'}, {'number': 2, 'created': '2018-08-01 10:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cf122cc3944a0d8c995303ad8d68b69c2485fc9d', 'message': 'devstack: Fix load balancing project membership\n\nWe had several LB resources not belonging to the k8s project.\n\nChange-Id: I406d0291b17e82dace5a6e707fd538210cb25627\n(cherry picked from commit 889a0d969c07a71ae1135ab1ae8803542a0ca6f4)\n'}, {'number': 3, 'created': '2018-08-01 12:07:55.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4f5f00cc75b8d454fd56af8cf05e4b38ea98f451', 'message': 'devstack: Fix load balancing project membership\n\nWe had several LB resources not belonging to the k8s project.\n\nChange-Id: I406d0291b17e82dace5a6e707fd538210cb25627\n(cherry picked from commit 889a0d969c07a71ae1135ab1ae8803542a0ca6f4)\n'}]",0,587706,4f5f00cc75b8d454fd56af8cf05e4b38ea98f451,15,5,3,23567,,,0,"devstack: Fix load balancing project membership

We had several LB resources not belonging to the k8s project.

Change-Id: I406d0291b17e82dace5a6e707fd538210cb25627
(cherry picked from commit 889a0d969c07a71ae1135ab1ae8803542a0ca6f4)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/587706/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes']",2,e2f45a9e350b0794a3c264a60ef9941dade32c74,lb_project," local project_id project_id=$(get_or_create_project \ ""$KURYR_NEUTRON_DEFAULT_PROJECT"" default) --project ""$project_id"" \ --project ""$project_id"" \# project_id: Id of the project where the load balancer should be local project_id project_id=""$3"" lb_vip_subnet=""$4"" --project ${project_id} \ --project ${project_id} \# project_id: Id of the the project where this listener belongs local project_id project_id=""$5"" --tenant-id ""$project_id"" \# project_id: Id of the the project where this pool belongs local project_id project_id=""$5"" lb=""$6"" --loadbalancer ""$lb"" \ --tenant-id ""$project_id"" \# project_id: Id of the the project where this pool belongs local project_id project_id=""$7"" --tenant-id ""$project_id"" \"," lb_vip_subnet=""$3"" lb=""$5"" --loadbalancer ""$lb_name"" \",33,7
openstack%2Fkuryr-kubernetes~master~I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf,openstack/kuryr-kubernetes,master,I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf,Ensure no api_root value for containerized deployments,MERGED,2018-08-02 07:03:22.000000000,2018-08-02 10:13:00.000000000,2018-08-02 10:13:00.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-08-02 07:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/84608cdf66597b19986123f7fd8b862ccbf6c5d9', 'message': 'Ensure no api_root value for containerized deployments\n\nIf api_root value is empty the kuryr-config ConfigMap gets malformed.\nThis patch removes its value for the containerized deployments as it\nwill be read from container env vars instead.\n\nCloses-Bug: 1785010\nChange-Id: I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf\n'}, {'number': 2, 'created': '2018-08-02 08:06:18.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/500a27b8c3e92bec9a41d36746a5efaf7bb01417', 'message': 'Ensure no api_root value for containerized deployments\n\nIf api_root value is empty the kuryr-config ConfigMap gets malformed.\nThis patch ensures api_root gets """" value for the containerized\ndeployments so that it forces containers to read it from their env vars.\n\nCloses-Bug: 1785010\nChange-Id: I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf\n'}]",0,588153,500a27b8c3e92bec9a41d36746a5efaf7bb01417,14,5,2,23567,,,0,"Ensure no api_root value for containerized deployments

If api_root value is empty the kuryr-config ConfigMap gets malformed.
This patch ensures api_root gets """" value for the containerized
deployments so that it forces containers to read it from their env vars.

Closes-Bug: 1785010
Change-Id: I321ca4f2755a61bbacc50bf1cf3936ffd4613ddf
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/53/588153/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,84608cdf66597b19986123f7fd8b862ccbf6c5d9,bug/1785010,," else iniset ""$KURYR_CONFIG"" kubernetes api_root """"",0,2
openstack%2Ftripleo-quickstart~master~I691a1ff894115babbf21a19f35483375d0202440,openstack/tripleo-quickstart,master,I691a1ff894115babbf21a19f35483375d0202440,Move to openshift-ansible 3.10,MERGED,2018-07-13 09:46:27.000000000,2018-08-02 10:08:20.000000000,2018-07-26 00:40:59.000000000,"[{'_account_id': 10969}, {'_account_id': 11085}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-07-13 09:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cb69085e2017378217794e27b51bdd51c3f4cb55', 'message': 'WIP: Move to openshift-ansible 3.10\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n'}, {'number': 2, 'created': '2018-07-13 13:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/66ea02b9c8f501d4d34aad6877c8459005f000c4', 'message': ""Move to openshift-ansible 3.10\n\nFor now we have to clone openshift-ansible as there are currently no\nRPMs available in CentOS. As soon as the packages are available, we'll\nrevisit this change and switch back to RPMs.\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n""}, {'number': 3, 'created': '2018-07-16 08:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d3aefbdcd79ba6165d5271c39f3b84fef026624c', 'message': ""Move to openshift-ansible 3.10\n\nFor now we have to clone openshift-ansible as there are currently no\nRPMs available in CentOS. As soon as the packages are available, we'll\nrevisit this change and switch back to RPMs.\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n""}, {'number': 4, 'created': '2018-07-16 11:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a7b76a62899a21005b9416e222f596b1492699f7', 'message': ""Move to openshift-ansible 3.10\n\nFor now we have to clone openshift-ansible as there are currently no\nRPMs available in CentOS. As soon as the packages are available, we'll\nrevisit this change and switch back to RPMs.\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n""}, {'number': 5, 'created': '2018-07-17 12:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cef97557c9ffc5196af024ea87b67521a4901a67', 'message': ""Move to openshift-ansible 3.10\n\nFor now we have to clone openshift-ansible as there are currently no\nRPMs available in CentOS. As soon as the packages are available, we'll\nrevisit this change and switch back to RPMs.\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n""}, {'number': 6, 'created': '2018-07-25 14:17:26.000000000', 'files': ['config/general_config/featureset033.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5af0a56feb8bc1fc3e56f344e94d4b42e2f0e7d5', 'message': ""Move to openshift-ansible 3.10\n\nFor now we have to clone openshift-ansible as there are currently no\nRPMs available in CentOS. As soon as the packages are available, we'll\nrevisit this change and switch back to RPMs.\n\nChange-Id: I691a1ff894115babbf21a19f35483375d0202440\n""}]",0,582493,5af0a56feb8bc1fc3e56f344e94d4b42e2f0e7d5,34,7,6,6159,,,0,"Move to openshift-ansible 3.10

For now we have to clone openshift-ansible as there are currently no
RPMs available in CentOS. As soon as the packages are available, we'll
revisit this change and switch back to RPMs.

Change-Id: I691a1ff894115babbf21a19f35483375d0202440
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/93/582493/3 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset033.yml'],1,cb69085e2017378217794e27b51bdd51c3f4cb55,3.10,# NOTE(flaper87): Commenting this out until # openshift-ansible 3.10 hits the centos repos #add_repos: # - type: package # pkg_name: centos-release-openshift-origin39 # NOTE(flaper87): Commenting this out until # openshift-ansible 3.10 hits the centos repos # sudo yum install -y openshift-ansible-playbooks sudo git clone -b release-3.10 https://github.com/openshift/openshift-ansible /usr/share/ansible/ sudo chmod a+r /usr/share/ansible,add_repos: - type: package pkg_name: centos-release-openshift-origin39 sudo yum install -y openshift-ansible-playbooks,10,4
openstack%2Fsushy-tools~master~I02725332df886fdf6b13c98cb6d80ab3650575b9,openstack/sushy-tools,master,I02725332df886fdf6b13c98cb6d80ab3650575b9,Split unit tests for driver and flask API,ABANDONED,2018-05-07 20:18:12.000000000,2018-08-02 10:06:07.000000000,,"[{'_account_id': 10155}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-05-07 20:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/573af59a9cd9c8a4ea517f7ea6e5927d436866f9', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9\n'}, {'number': 2, 'created': '2018-05-09 15:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2b361b5320a27721953d995dbe92589c6a84421b', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9'}, {'number': 3, 'created': '2018-05-21 15:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b36cba0755c22d15c090e097bd5fbfbbefa7c586', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9'}, {'number': 4, 'created': '2018-05-21 17:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d812f5d264d6836092973518d5ecb6a8668c2c07', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9'}, {'number': 5, 'created': '2018-05-24 16:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/dbf066e4cb36dcc204ffe326636575cca24d9e71', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9'}, {'number': 6, 'created': '2018-05-24 17:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/719b45abd76324d12a90c39965bb3955a941f109', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9\n'}, {'number': 7, 'created': '2018-06-27 20:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b6b2825013b16f6d05a376dcbc5ef14aa43a3627', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9\n'}, {'number': 8, 'created': '2018-06-29 15:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2aa3cecafc33ed8206e6dfef82d3b23656eac4a4', 'message': 'Rewrite unit tests for emulator\n\nUnit tests was spiitted depends on logical functionality. Now we have\ndifferent tests for flask application and libvirt driver.\nCloses-Bug: #1751134\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9\n'}, {'number': 9, 'created': '2018-07-01 19:10:43.000000000', 'files': ['sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/tests/unit/emulator/test_app.py', 'sushy_tools/tests/unit/emulator/test_libvirtdriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f373eb8e4bb62c1ce92eda40cc1f19da54c9349b', 'message': ""Split unit tests for driver and flask API\n\nUnit tests have been split onto multiple files to reflect their\nfunctionality. Flask release breaks 'render_template' mocks, so now\nin tests is used real parameters.\n\nStory: 1751134\nTask: 12046\n\nStory: 2002745\nTask:  22598\n\nChange-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9\n""}]",93,566727,f373eb8e4bb62c1ce92eda40cc1f19da54c9349b,58,5,9,10155,,,0,"Split unit tests for driver and flask API

Unit tests have been split onto multiple files to reflect their
functionality. Flask release breaks 'render_template' mocks, so now
in tests is used real parameters.

Story: 1751134
Task: 12046

Story: 2002745
Task:  22598

Change-Id: I02725332df886fdf6b13c98cb6d80ab3650575b9
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/27/566727/8 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/tests/unit/emulator/test_main.py', 'sushy_tools/tests/unit/emulator/test_app.py', 'sushy_tools/tests/unit/emulator/test_libvirtdriver.py']",3,573af59a9cd9c8a4ea517f7ea6e5927d436866f9,bug/1751134,"#!/usr/bin/env python # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslotest import base from six.moves import mock from sushy_tools.emulator.drivers.libvirtdriver import LibvirtDriver from sushy_tools.error import FishyError import libvirt class LibvirtDriverTastCase(base.BaseTestCase): @mock.patch('libvirt.openReadOnly', autospec=True) def test_systems(self, libvirt_mock): domain_mock = mock.Mock() conn_mock = libvirt_mock.return_value conn_mock.listDefinedDomains.return_value = [domain_mock] tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertEqual([domain_mock], tst_driver.systems) @mock.patch('libvirt.openReadOnly', autospec=True) def test_uuid(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.UUIDString.return_value = 'xxx-yyy-zzz' conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertEqual('xxx-yyy-zzz', tst_driver.uuid('zzz-yyy-xxx')) @mock.patch('libvirt.openReadOnly', autospec=True) def test_get_power_state_on(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertEqual('On', tst_driver.get_power_state('xxx-yyy-zzz')) @mock.patch('libvirt.openReadOnly', autospec=True) def test_get_power_state_off(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = False conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertEqual('Off', tst_driver.get_power_state('xxx-yyy-zzz')) @mock.patch('libvirt.open', autospec=True) def test_set_power_state_forceon(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'ForceOn') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.create.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_forceoff(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'ForceOff') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.destroy.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_grecefulshutdown(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'GrecefulShutdoun') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.shutdown.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_grecefulrestart(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'GrecefulRestart') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.reboot.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_forcerestart(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'ForceRestart') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.reset.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_nmi(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.return_value = True conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') tst_driver.set_power_state('xxx-yyy-zzz', 'Nmi') conn_mock.lookupByName.assert_called_once_with('xxx-yyy-zzz') domain_mock.injectNMI.assert_called() @mock.patch('libvirt.open', autospec=True) def test_set_power_state_exception(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.isActive.side_effect = libvirt.libvirtError( 'because I can') conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertRaises(FishyError, tst_driver.set_power_state, 'xxx-yyy-zzz', 'Nmi') @mock.patch('libvirt.open', autospec=True) def test_set_boot_device(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() domain_mock = mock.Mock() domain_mock.isActive.return_value = True domain_mock.XMLDesc.return_value = data conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock conn_mock.defineXML.assert_called_once() @mock.patch('libvirt.open', autospec=True) def test_set_boot_device_exception(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() domain_mock = mock.Mock() domain_mock.XMLDesc.return_value = data conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock conn_mock.defineXML.side_effect = libvirt.libvirtError( 'because I can') tst_driver = LibvirtDriver(uri='127.0.0.1') self.assertRaises(FishyError, tst_driver.set_boot_device, 'xxx-yyy-zzz', 'Nmi') @mock.patch('libvirt.openReadOnly', autospec=True) def test_get_total_memory(self, libvirt_mock): domain_mock = mock.Mock() domain_mock.maxMemory.return_value = 1024 * 1024 conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') result = tst_driver.get_total_memory('xxx-yyy-zzz') self.assertEqual(1, result) @mock.patch('libvirt.openReadOnly', autospec=True) def test_get_total_cpus(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() domain_mock = mock.Mock() domain_mock.isActive.return_value = True domain_mock.maxVcpus.return_value = 2 domain_mock.XMLDesc.return_value = data conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') result = tst_driver.get_total_cpus('xxx-yyy-zzz') self.assertEqual(2, result) @mock.patch('libvirt.openReadOnly', autospec=True) def test_get_total_cpus_xml(self, libvirt_mock): with open('sushy_tools/tests/unit/emulator/domain.xml', 'r') as f: data = f.read() domain_mock = mock.Mock() domain_mock.isActive.return_value = True domain_mock.maxVcpus.return_value = 0 domain_mock.XMLDesc.return_value = data conn_mock = libvirt_mock.return_value conn_mock.lookupByName.return_value = domain_mock tst_driver = LibvirtDriver(uri='127.0.0.1') result = tst_driver.get_total_cpus('xxx-yyy-zzz') self.assertEqual(2, result) ",,323,181
openstack%2Fkuryr-tempest-plugin~master~Idf2c781591f938a02991af4b7991da19a92e03f2,openstack/kuryr-tempest-plugin,master,Idf2c781591f938a02991af4b7991da19a92e03f2,devstack: Move container build to stack extra,MERGED,2018-08-01 20:27:41.000000000,2018-08-02 10:04:21.000000000,2018-08-02 10:04:21.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-08-01 20:27:41.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1cdf234ed5b5239559daeced99ebd614a75161d1', 'message': 'devstack: Move container build to stack extra\n\nWithout this, the devstack container plugin would do the docker\nconfiguration after we build instead of before. This changes the\norder into the right one.\n\nChange-Id: Idf2c781591f938a02991af4b7991da19a92e03f2\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",0,588074,1cdf234ed5b5239559daeced99ebd614a75161d1,7,3,1,14352,,,0,"devstack: Move container build to stack extra

Without this, the devstack container plugin would do the docker
configuration after we build instead of before. This changes the
order into the right one.

Change-Id: Idf2c781591f938a02991af4b7991da19a92e03f2
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/74/588074/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1cdf234ed5b5239559daeced99ebd614a75161d1,test_container_https_support,"if [[ ""$1"" == ""stack"" && ""$2"" == ""extra"" ]]; then","if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then",1,1
openstack%2Fkuryr-tempest-plugin~master~I5078ba0345999dadd7d3850f07c538a617c54e46,openstack/kuryr-tempest-plugin,master,I5078ba0345999dadd7d3850f07c538a617c54e46,Make Port and http/https configurable for the test container,MERGED,2018-08-01 10:03:41.000000000,2018-08-02 09:59:56.000000000,2018-08-02 09:59:55.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-08-01 10:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3a4a101c2e060c7980af32d321832261d686678c', 'message': 'Make Port and http/https configurable for the test container\n\nIt introduces env vars:\n\n* HTTP_PORT: choose a port to serve. If not set, uses 8080\n* HTTPS_PORT: choose to serve HTTPS and on which port\n* HTTPS_CERT_PATH: Path to the cert to use when serving HTTPS\n* HTTPS_KEY_PATH: Path to the ssl key to use when serving HTTPS\n\nChange-Id: I5078ba0345999dadd7d3850f07c538a617c54e46\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-08-01 10:56:58.000000000', 'files': ['test_container/server.go', 'test_container/rootfs.tar.xz'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a8ff6c4cad36bb954e222070e6adbec822e4de12', 'message': 'Make Port and http/https configurable for the test container\n\nIt introduces env vars:\n\n* HTTP_PORT: choose a port to serve. If not set, uses 8080\n* HTTPS_PORT: choose to serve HTTPS and on which port\n* HTTPS_CERT_PATH: Path to the cert to use when serving HTTPS\n* HTTPS_KEY_PATH: Path to the ssl key to use when serving HTTPS\n\nChange-Id: I5078ba0345999dadd7d3850f07c538a617c54e46\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",1,587746,a8ff6c4cad36bb954e222070e6adbec822e4de12,19,6,2,14352,,,0,"Make Port and http/https configurable for the test container

It introduces env vars:

* HTTP_PORT: choose a port to serve. If not set, uses 8080
* HTTPS_PORT: choose to serve HTTPS and on which port
* HTTPS_CERT_PATH: Path to the cert to use when serving HTTPS
* HTTPS_KEY_PATH: Path to the ssl key to use when serving HTTPS

Change-Id: I5078ba0345999dadd7d3850f07c538a617c54e46
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/46/587746/1 && git format-patch -1 --stdout FETCH_HEAD,['test_container/server.go'],1,3a4a101c2e060c7980af32d321832261d686678c,test_container_https_support," ""fmt"" ""log"" ""net/http"" ""os"" ""strings"" hostname, err := os.Hostname() log.Println(""Received request"") if err == nil { fmt.Fprintf(w, ""%s: HELLO! I AM ALIVE!!!\n"", hostname) } http.HandleFunc(""/"", handler) httpsPort, httpsPortPresent := os.LookupEnv(""HTTPS_PORT"") var port string if httpsPortPresent { port = "":"" + strings.TrimSpace(httpsPort) cert, certPresent := os.LookupEnv(""HTTPS_CERT_PATH"") key, keyPresent := os.LookupEnv(""HTTPS_KEY_PATH"") if !certPresent || !keyPresent { log.Fatal(""HTTPS_PORT configured but missing HTTPS_CERT_PATH and/or HTTPS_KEY_PATH"") } log.Fatal(http.ListenAndServeTLS(port, cert, key, nil)) } else { httpPort, confPresent := os.LookupEnv(""HTTP_PORT"") if confPresent { port = "":"" + strings.TrimSpace(httpPort) } else { port = "":8080"" } log.Fatal(http.ListenAndServe(port, nil)) }"," ""fmt"" ""log"" ""net/http"" ""os"" hostname, err := os.Hostname() log.Println(""Received request"") if err == nil { fmt.Fprintf(w, ""%s: HELLO! I AM ALIVE!!!\n"", hostname) } http.HandleFunc(""/"", handler) log.Fatal(http.ListenAndServe("":8080"", nil))",36,11
openstack%2Ftripleo-heat-templates~master~I3f47fd019ca6b2ccb378c97751a11cb12ffed521,openstack/tripleo-heat-templates,master,I3f47fd019ca6b2ccb378c97751a11cb12ffed521,ovn: Fix minor update failure with OVN db pacemaker HA resource,MERGED,2018-08-01 14:01:36.000000000,2018-08-02 09:59:29.000000000,2018-08-02 09:59:29.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-08-01 14:01:36.000000000', 'files': ['docker/services/pacemaker/ovn-dbs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a432537d0a568c3dc155b6bf5e2484c2bf73014', 'message': 'ovn: Fix minor update failure with OVN db pacemaker HA resource\n\nIf an OVN deployment doesn\'t have this fix [1] in the ovn-northd docker image,\nthe if the image is not tagged with pcmklatest (see [2]), then during\nstep 5 of minor update of controllers (on the bootstrap node) the\n\'pacemaker_resource\' ansible module fails for the ""state: disable"" task.\n\nIt is observed in my testing that \'pacemaker_resource - state: disable\' ansible\ntasks fails if the resource is already in stopped state. It also fails\nfor the task \'pacemaker_resource - state: enable\' if the resource is already\nenabled. This probably needs a fix in \'pacemaker_resource\' ansible module.\n\nTo fix the stack update failure issue with OVN, this patch removes these\ntasks - disable and enable of ovn-dbs-bundle before and after running the\ncommand ""pcs resource bundle update ovn-dbs-bundle container\nimage={{ovn_dbs_docker_image_latest}}"". Since updating the bundle triggers\nthe resource restart, probably we don\'t need to explicitly disable and\nenable the resource.\n\n[1] - https://github.com/openvswitch/ovs/commit/9b46d3f609abf8ad532efb0820753f3a920e2213#diff-9c26550f1dff9ce66cf9c3c510b47864\n[2] - See commit with change id - Idbda3bedff57376b74269ab3470d2324b804ffd4\n\nChange-Id: I3f47fd019ca6b2ccb378c97751a11cb12ffed521\nCloses-bug: #1784863\n'}]",0,587829,8a432537d0a568c3dc155b6bf5e2484c2bf73014,11,7,1,10237,,,0,"ovn: Fix minor update failure with OVN db pacemaker HA resource

If an OVN deployment doesn't have this fix [1] in the ovn-northd docker image,
the if the image is not tagged with pcmklatest (see [2]), then during
step 5 of minor update of controllers (on the bootstrap node) the
'pacemaker_resource' ansible module fails for the ""state: disable"" task.

It is observed in my testing that 'pacemaker_resource - state: disable' ansible
tasks fails if the resource is already in stopped state. It also fails
for the task 'pacemaker_resource - state: enable' if the resource is already
enabled. This probably needs a fix in 'pacemaker_resource' ansible module.

To fix the stack update failure issue with OVN, this patch removes these
tasks - disable and enable of ovn-dbs-bundle before and after running the
command ""pcs resource bundle update ovn-dbs-bundle container
image={{ovn_dbs_docker_image_latest}}"". Since updating the bundle triggers
the resource restart, probably we don't need to explicitly disable and
enable the resource.

[1] - https://github.com/openvswitch/ovs/commit/9b46d3f609abf8ad532efb0820753f3a920e2213#diff-9c26550f1dff9ce66cf9c3c510b47864
[2] - See commit with change id - Idbda3bedff57376b74269ab3470d2324b804ffd4

Change-Id: I3f47fd019ca6b2ccb378c97751a11cb12ffed521
Closes-bug: #1784863
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/587829/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/ovn-dbs.yaml'],1,8a432537d0a568c3dc155b6bf5e2484c2bf73014,bug/1784863,, - name: Disable the ovn-dbs-bundle resource before updating the image pacemaker_resource: resource: ovn-dbs-bundle state: disable wait_for_resource: true register: output retries: 5 until: output.rc == 0 - name: Enable the ovn-dbs-bundle resource pacemaker_resource: resource: ovn-dbs-bundle state: enable wait_for_resource: true register: output retries: 5 until: output.rc == 0,0,16
openstack%2Fkolla~stable%2Fqueens~Ic5ca679c40da3e466433b0e04f762d2bbffbf156,openstack/kolla,stable/queens,Ic5ca679c40da3e466433b0e04f762d2bbffbf156,Install sensu from centos-opstools,MERGED,2018-07-26 08:05:50.000000000,2018-08-02 09:29:20.000000000,2018-08-02 09:29:20.000000000,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 9820}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-07-26 08:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a8c8ba7205a80fe6b1a1e6f8d8cd7a47caa7aed', 'message': ""Install sensu from centos-opstools\n\nThis should help improve stability overall, in exchange for slightly\nolder package version.\n\nCap all the sensu plugins to their known major version that works with\nthe ruby interpreter shipped with the current version of\nrhel/centos/oraclelinux -- currently ruby 2.0. All sensu plugins use\nsemantic versioning so we're assured they don't introduce breaking\nchanges in the capped major version.\n\nChange-Id: Ic5ca679c40da3e466433b0e04f762d2bbffbf156\nCloses-Bug: #1774123\n""}, {'number': 2, 'created': '2018-07-26 08:12:57.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/install_sensu_from_centos_opstools-99d64edb91526fc7.yaml', 'docker/base/sensu.repo', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3bef3ad814c4cc824795307cfa270edecf3f3dfe', 'message': ""Install sensu from centos-opstools\n\nThis should help improve stability overall, in exchange for slightly\nolder package version.\n\nCap all the sensu plugins to their known major version that works with\nthe ruby interpreter shipped with the current version of\nrhel/centos/oraclelinux -- currently ruby 2.0. All sensu plugins use\nsemantic versioning so we're assured they don't introduce breaking\nchanges in the capped major version.\n\nChange-Id: Ic5ca679c40da3e466433b0e04f762d2bbffbf156\nCloses-Bug: #1774123\n""}]",0,585987,3bef3ad814c4cc824795307cfa270edecf3f3dfe,14,7,2,22629,,,0,"Install sensu from centos-opstools

This should help improve stability overall, in exchange for slightly
older package version.

Cap all the sensu plugins to their known major version that works with
the ruby interpreter shipped with the current version of
rhel/centos/oraclelinux -- currently ruby 2.0. All sensu plugins use
semantic versioning so we're assured they don't introduce breaking
changes in the capped major version.

Change-Id: Ic5ca679c40da3e466433b0e04f762d2bbffbf156
Closes-Bug: #1774123
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/585987/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'releasenotes/notes/install_sensu_from_centos_opstools-99d64edb91526fc7.yaml', 'docker/base/sensu.repo', 'docker/sensu/sensu-client/Dockerfile.j2']",5,7a8c8ba7205a80fe6b1a1e6f8d8cd7a47caa7aed,bug/1774123,"# Sensu plugins are all using semantic versioning. # Let's cap them to the known major version that works with the ruby shipped on # rhel/centos/oraclelinux (currently 2.0) 'ceph:""~>1""', 'cpu-checks:""~>1""', 'disk-checks:""~>2""', 'dns:""~>1""', 'docker:""~>3""', 'elasticsearch:""~>1""', 'filesystem-checks:""~>1""', 'haproxy:""~>1""', 'http:""~>1""', 'io-checks:""~>1""', 'load-checks:""~>3""', 'memcached:""~>0""', 'memory-checks:""~>1""', 'mongodb:""~>0""', 'mysql:""~>2""', 'network-checks:""~>2""', 'ntp:""~>1""', 'openstack:""~>1""', 'process-checks:""~>2""', 'rabbitmq:""~>3""', 'redis:""~>2""', 'uptime-checks:""~>1""', 'vmstats:""~>1""'# TODO(mandre) Use packaged sensu plugins from centos-opstools for binary distro # http://cbs.centos.org/koji/search?match=glob&type=package&terms=*sensu* RUN sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}"," 'ceph', 'cpu-checks', 'disk-checks', 'dns', 'docker', 'elasticsearch', 'filesystem-checks', 'haproxy', 'http', 'io-checks', 'load-checks', 'memcached', 'memory-checks', 'mongodb', 'mysql', 'network-checks', 'ntp', 'openstack', 'process-checks', 'rabbitmq', 'redis', 'uptime-checks', 'vmstats'RUN /opt/sensu/embedded/bin/gem install vmstat --no-rdoc --no-ri \ && sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}",38,34
openstack%2Fproject-config~master~I133492ad20e535c6c3d44a7160ae17eccea4750b,openstack/project-config,master,I133492ad20e535c6c3d44a7160ae17eccea4750b,Try again with rtd password secret,MERGED,2018-08-02 08:47:12.000000000,2018-08-02 09:03:00.000000000,2018-08-02 09:03:00.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 08:47:12.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0fde7b2301d854c6a4be2daed7af69fe0151a90e', 'message': 'Try again with rtd password secret\n\nDebugging suggests that this password is incorrect.  I can\'t be sure\nthat I didn\'t generate it from an input file with a newline and\nwithout using the ""--strip"" argument to encrypt_secret.py.\n\nTry again ... this time I have used --strip ...\n\nChange-Id: I133492ad20e535c6c3d44a7160ae17eccea4750b\n'}]",0,588182,0fde7b2301d854c6a4be2daed7af69fe0151a90e,7,3,1,7118,,,0,"Try again with rtd password secret

Debugging suggests that this password is incorrect.  I can't be sure
that I didn't generate it from an input file with a newline and
without using the ""--strip"" argument to encrypt_secret.py.

Try again ... this time I have used --strip ...

Change-Id: I133492ad20e535c6c3d44a7160ae17eccea4750b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/588182/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,0fde7b2301d854c6a4be2daed7af69fe0151a90e,rtd-job, - XoibvwVN4fJciZPQMXywqk12yfzvKY2gg7n0LlLqaCofPnGpObOfhPp5Nq3QPLxt9EPl6 n19v6+EbrO63chH5J4oOvar5HD+U4OA+XLLghfNZcsq4Svvx0ZppW44F7+ZdmcWLN9uYX jlHc9WexEzjfHcfVn8j8+2SO+1dipK/9PbR9PXOyY2D/e+HFJ3krQGVzLgXhKnF8qlIcO 9N32cxFLKhSNYJKynTsFXLqPsoDdGPM9eGf5q6lndPLso4VNEdFCAFzApKV39MyjO/0jy V4235N/mPqP2mKh8+hYbP9Oal5uEVEXNxO2Tvc/UCy5JIb4oKrDzCdk6zwewE0m7+0mS7 E4n9XF+RbkdiOCEy7r2sNyyf18fwoqXWAKyXTpnpuPDrtAZBWmnnrIgaGePLzLW0YS+HY 5GQKnivHC7nSm8LWooWoGoDyV57cSp0ZpB9Pvhhfm7luIAufZAwQ1ZU29aeUlutCEFS5k L1/l7sWMUbZzBM3+lNvymra6VSojdK9kOY4yM1+t1H8jYRTjpheZIF5cdQM17nJQCKqJ9 6bIAL2nmPu9IaD8b6oIPKQEdbrbQcI8KwsEOrqSD7LwRER5ofRaSYIlXOk5T92yROgTR8 agA0DJaFG18YWcAlg8YnmWz/D+LyFDUaZOfIpoE3rsXig38cp2xinxNYWucck0=, - jmecsVW/fOuRCzAXMxJfv6n3Q0LHoEZIqTxB6eObCLWEvcpTTT6ybAMr9uWVnT0LsEIMw PAbh9BLzOOz3xrI8u+23zAv2zU05vUG3KrbDfSC7PkLi6iUrxVNS6o9Av2qif+3RwIFsX BX7SwiCd72VcHgYgZYe507BuXJ9nKRjcABn2gIpJdsIxNWHI0eOrU9MpcDyJzqGJN/Ett 7G9p6KvShA1E2ambl9LQkpjchTdgx6pbBZkxG01VWU3CQghbj5CxlVsGvO9mC7zSuukhB cKEq+zd/Tq2ogsYdhZ9W5shn+vPcOqSIRaK6I0FKaDfkdMPzW1S1VeCjtMojya0w6Op/c t+mQ++EkrL61qabxNgp1XpmJQeRfXLWO/qcvUEYo8bmPoRtxcQolhOZTIqmUBz7KJKvO9 U1Rs72vFkTcT2tCyjV9EuhwEr73IZdH4ZHYZXKusnh1h/YwEjiYV2pDbyakhxJZlWlFnk bTN5pQKQFKIUpJP2yhPvjefGXGrpzk46cvPPA/9+Wl12K04HcRVeCSJCKA3DL2T38c7lv s64C61Vx6Yntum+ptyY1I/fFzVdxlNOynMk4SDthBtV2f3LqfOyKLakxzZK4NI468K4tY srbw9QBbmpl8T7xd6gn2HfKCFeqngOFDV7QGq0F95BZ3HamgDYpXhhOmEDdp3g=,10,10
openstack%2Fnetworking-ovn~master~I132fccc5f87441d807cfe3c64077abadd30c99a9,openstack/networking-ovn,master,I132fccc5f87441d807cfe3c64077abadd30c99a9,Migration infrared plugin: Try to measure downtime for migration process,ABANDONED,2018-07-31 10:22:04.000000000,2018-08-02 08:44:00.000000000,,"[{'_account_id': 10237}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-07-31 10:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bf1a5310915c91004add66006501691bd7302e08', 'message': 'Migration infrared plugin: Try to measure downtime for migration process\n\nThis patch creates few resources (called as pinger resources) and starts ""ping -i 1 <FIP>""\nbefore starting the migration and stops the ping after the migration is complete.\n\nRight now the user has to inspect the ping log files manually to know the downtime.\nThese files are stored as ""/home/stack/ovn_migration/<FIP>_ping.out"".\n\nSince this infrared plugin is expected to run on a CI environment, this patch\ndoesn\'t bother to delete these pinger resources. These resources are different from the\npre and post migration resources the migration process itself creates.\n\nPlease note: Right now this patch makes use of the create_resources.sh.j2 from\nthe actual migration code. There is some amount of code which can be definitely\noptimized and reused. But I think that can be a follow up patch.\n\nChange-Id: I132fccc5f87441d807cfe3c64077abadd30c99a9\n'}, {'number': 2, 'created': '2018-08-02 07:45:28.000000000', 'files': ['migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/create-resources.sh.j2', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/defaults/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/start-pinger.sh.j2', 'plugin.spec'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4d54ad9cf5bcf4e90102b7895c829c019a89a8a9', 'message': 'Migration infrared plugin: Try to measure downtime for migration process\n\nThis patch creates few resources (called as pinger resources) and starts ""ping -i 1 <FIP>""\nbefore starting the migration and stops the ping after the migration is complete.\n\nRight now the user has to inspect the ping log files manually to know the downtime.\nThese files are stored as ""/home/stack/ovn_migration/<FIP>_ping.out"".\n\nSince this infrared plugin is expected to run on a CI environment, this patch\ndoesn\'t bother to delete these pinger resources. These resources are different from the\npre and post migration resources the migration process itself creates.\n\nPlease note: Right now this patch makes use of the create_resources.sh.j2 from\nthe actual migration code. There is some amount of code which can be definitely\noptimized and reused. But I think that can be a follow up patch.\n\nChange-Id: I132fccc5f87441d807cfe3c64077abadd30c99a9\n'}]",6,587375,4d54ad9cf5bcf4e90102b7895c829c019a89a8a9,6,3,2,10237,,,0,"Migration infrared plugin: Try to measure downtime for migration process

This patch creates few resources (called as pinger resources) and starts ""ping -i 1 <FIP>""
before starting the migration and stops the ping after the migration is complete.

Right now the user has to inspect the ping log files manually to know the downtime.
These files are stored as ""/home/stack/ovn_migration/<FIP>_ping.out"".

Since this infrared plugin is expected to run on a CI environment, this patch
doesn't bother to delete these pinger resources. These resources are different from the
pre and post migration resources the migration process itself creates.

Please note: Right now this patch makes use of the create_resources.sh.j2 from
the actual migration code. There is some amount of code which can be definitely
optimized and reused. But I think that can be a follow up patch.

Change-Id: I132fccc5f87441d807cfe3c64077abadd30c99a9
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/587375/2 && git format-patch -1 --stdout FETCH_HEAD,"['migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/create-resources.sh.j2', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/defaults/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/tasks/main.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/create-resources/templates/start-pinger.sh.j2', 'plugin.spec']",6,bf1a5310915c91004add66006501691bd7302e08,infrared_plugin_p2, create_resources: type: Bool help: Create resources to measure downtime default: True image_name: type: Value help: Image name to use default: cirros-0.3.5-x86_64-disk.img,,334,10
openstack%2Fwatcher~master~I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7,openstack/watcher,master,I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7,Fix unittest MismatchError,MERGED,2018-08-01 05:48:37.000000000,2018-08-02 08:38:38.000000000,2018-08-02 08:38:38.000000000,"[{'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}]","[{'number': 1, 'created': '2018-08-01 05:48:37.000000000', 'files': ['watcher/tests/decision_engine/test_sync.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/927d094907b173565c13771a9492ee0a7b8a6635', 'message': 'Fix unittest MismatchError\n\nChange-Id: I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7\nCloses-Bug: #1784758\n'}]",0,587692,927d094907b173565c13771a9492ee0a7b8a6635,12,10,1,21692,,,0,"Fix unittest MismatchError

Change-Id: I4030fb2c4ec89c6c653c2882be1052ed5cbd2cd7
Closes-Bug: #1784758
",git fetch https://review.opendev.org/openstack/watcher refs/changes/92/587692/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/decision_engine/test_sync.py'],1,927d094907b173565c13771a9492ee0a7b8a6635,bug/1784758, dummy_1_spec = jsonutils.loads( self.goal1_spec.serialize_indicators_specs()) dummy_2_spec = jsonutils.loads( self.goal2_spec.serialize_indicators_specs())," dummy_1_spec = [ {'description': 'Dummy indicator', 'name': 'dummy', 'schema': jsonutils.dumps({'minimum': 0, 'type': 'integer'}), 'unit': '%'}] dummy_2_spec = []",4,5
openstack%2Fkayobe~master~Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c,openstack/kayobe,master,Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c,Add support for the Ironic Neutron agent,MERGED,2018-07-20 14:00:31.000000000,2018-08-02 08:38:33.000000000,2018-08-02 08:38:33.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 20369}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f8c3a3e256c715b3cbaa4b9e01d07bcbe4bfb2d9', 'message': 'Add support for the Ironic Neutron agent\n\nChange-Id: Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c\n'}, {'number': 2, 'created': '2018-07-23 14:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/030847625d4f0ce4e97d2cce95da87dd1d317e04', 'message': 'Add support for the Ironic Neutron agent\n\nChange-Id: Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c\n'}, {'number': 3, 'created': '2018-07-25 07:54:47.000000000', 'files': ['ansible/group_vars/all/kolla', 'ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'releasenotes/notes/support_ironic_neutron_agent-a41e44ef41f5a96d.yaml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9c1fa1dc7e0b68e1be806c1e92c20e419868af0d', 'message': 'Add support for the Ironic Neutron agent\n\nChange-Id: Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c\n'}]",4,584382,9c1fa1dc7e0b68e1be806c1e92c20e419868af0d,21,4,3,20369,,,0,"Add support for the Ironic Neutron agent

Change-Id: Ie697b59b48f2b543b3d3bb65566318f2d9a0f46c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/584382/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-openstack/defaults/main.yml']",6,f8c3a3e256c715b3cbaa4b9e01d07bcbe4bfb2d9,ironic-neutron-agent,# Whether to enable the Ironic Neutron agent. kolla_enable_ironic_neutron_agent: ,,13,0
openstack%2Fnetworking-ovn~master~I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516,openstack/networking-ovn,master,I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516,DO NOT MERGE,ABANDONED,2018-08-01 10:15:29.000000000,2018-08-02 08:36:30.000000000,,"[{'_account_id': 6773}, {'_account_id': 8871}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 10:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f56e28c4e72c348f6d83b109af658682d15de13b', 'message': 'DO NOT MERGE\n\nChange-Id: I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516\n'}, {'number': 2, 'created': '2018-08-01 10:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ffb0aefec99deba15a5a45594483011bf7ca42bf', 'message': 'DO NOT MERGE\n\nChange-Id: I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516\n'}, {'number': 3, 'created': '2018-08-01 15:10:13.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'requirements.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5aec0340f3c31cc3c00ac6ed59b6c1fc7b4d06d2', 'message': 'DO NOT MERGE\n\nChange-Id: I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516\n'}]",0,587750,5aec0340f3c31cc3c00ac6ed59b6c1fc7b4d06d2,9,3,3,6773,,,0,"DO NOT MERGE

Change-Id: I23fb85a9dbd8110b76714c7c8f5afa08ca4c2516
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/587750/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/contrib/gate_hook.sh'],1,f56e28c4e72c348f6d83b109af658682d15de13b,stop-gating-ovs-master," OVS_BRANCH=""branch-2.9""",,1,0
openstack%2Frpm-packaging~master~I241517b408936a9d519a74faca208ff57add618e,openstack/rpm-packaging,master,I241517b408936a9d519a74faca208ff57add618e,Update oslo.context to 2.21.0,MERGED,2018-07-27 07:32:02.000000000,2018-08-02 08:35:10.000000000,2018-08-02 08:35:10.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-07-27 07:32:02.000000000', 'files': ['openstack/oslo.context/oslo.context.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9a0f391c366b7f6fb3cfed48ccff552b70052912', 'message': 'Update oslo.context to 2.21.0\n\nChange-Id: I241517b408936a9d519a74faca208ff57add618e\n'}]",0,586458,9a0f391c366b7f6fb3cfed48ccff552b70052912,16,5,1,23735,,,0,"Update oslo.context to 2.21.0

Change-Id: I241517b408936a9d519a74faca208ff57add618e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/586458/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.context/oslo.context.spec.j2'],1,9a0f391c366b7f6fb3cfed48ccff552b70052912,,{% set upstream_version = upstream_version('2.21.0') %},{% set upstream_version = upstream_version('2.20.0') %},1,1
openstack%2Fmonasca-persister~master~I6db38500945a96fffab452c5be5b0ef56ff1f6b9,openstack/monasca-persister,master,I6db38500945a96fffab452c5be5b0ef56ff1f6b9,Fix coverage job configuration,MERGED,2018-07-24 09:27:35.000000000,2018-08-02 08:20:55.000000000,2018-08-02 08:20:54.000000000,"[{'_account_id': 16253}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-07-24 09:27:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/26e6d294bcd71caeac91e906830c23db6fe338f3', 'message': 'Fix coverage job configuration\n\nSet up coverage job configuration as recommended in Project Testing\nInterface documentation.\n\nhttps://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs\n\nChange-Id: I6db38500945a96fffab452c5be5b0ef56ff1f6b9\n'}]",0,585186,26e6d294bcd71caeac91e906830c23db6fe338f3,7,4,1,16222,,,0,"Fix coverage job configuration

Set up coverage job configuration as recommended in Project Testing
Interface documentation.

https://governance.openstack.org/tc/reference/pti/python.html#coverage-jobs

Change-Id: I6db38500945a96fffab452c5be5b0ef56ff1f6b9
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/86/585186/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26e6d294bcd71caeac91e906830c23db6fe338f3,,setenv = PYTHON=coverage run --source monasca_persister --parallel-mode stestr run '{posargs}' coverage combine coverage html -d cover coverage xml -o cover/coverage.xml, coverage erase python setup.py test --coverage --testr-args='{posargs}' \ --coverage-package-name=monasca_persister coverage report,6,4
openstack%2Fwatcher~master~I85cdb0dd4e8f192181146b99f0416bf777a8279a,openstack/watcher,master,I85cdb0dd4e8f192181146b99f0416bf777a8279a,remove extra'_' and space,MERGED,2018-07-31 09:17:33.000000000,2018-08-02 08:19:58.000000000,2018-08-02 08:19:58.000000000,"[{'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21486}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}, {'_account_id': 27621}, {'_account_id': 28748}]","[{'number': 1, 'created': '2018-07-31 09:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/00185dc248a9a1a162831c45d965b6b6f9b3189d', 'message': ""remove extra'_' and space\n\nChange-Id: I85cdb0dd4e8f192181146b99f0416bf777a8279a\n""}, {'number': 2, 'created': '2018-07-31 12:12:41.000000000', 'files': ['watcher/common/exception.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/abd129002ce424b96d13f97dd4bd5de166caa12c', 'message': ""remove extra'_' and space\n\nChange-Id: I85cdb0dd4e8f192181146b99f0416bf777a8279a\n""}]",0,587354,abd129002ce424b96d13f97dd4bd5de166caa12c,20,14,2,28748,,,0,"remove extra'_' and space

Change-Id: I85cdb0dd4e8f192181146b99f0416bf777a8279a
",git fetch https://review.opendev.org/openstack/watcher refs/changes/54/587354/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/exception.py'],1,00185dc248a9a1a162831c45d965b6b6f9b3189d,," msg_fmt = _(""%(parameter)s has to be of type %(parameter_type)s"") msg_fmt = _(""Payload not populated when trying to send notification "" msg_fmt = _(""The %(name)s pool %(attribute)s is not integer"")"," msg_fmt = _(""%(parameter)s has to be of type %(parameter_type)s"") _msg_fmt = _(""Payload not populated when trying to send notification "" msg_fmt = _(""The %(name)s pool %(attribute)s is not integer"")",3,3
openstack%2Fopenstack-ansible-os_octavia~master~I1de294cbb8e2b636edd26c9aee13946630cdfb49,openstack/openstack-ansible-os_octavia,master,I1de294cbb8e2b636edd26c9aee13946630cdfb49,Reduce testing tech debt,ABANDONED,2018-07-13 19:24:36.000000000,2018-08-02 08:18:04.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-13 19:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/786e3484535d53d6a49fb49ef7ac02b21e408c1e', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 2, 'created': '2018-07-13 19:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/142b8b0d198a2c02daf866eb333e50ec054e9311', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 3, 'created': '2018-07-20 09:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a246e3e6766a554f11395ec0305e8e5d4a56ad38', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 4, 'created': '2018-07-20 11:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/18dcf6a418e81bb52d07e1b894a3f90cd437f808', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 5, 'created': '2018-08-01 09:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9999bdafae14a556683a7452f7cdfb6d2d28739e', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 6, 'created': '2018-08-01 11:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0761deb542e7ff8a9e977e238bc2d5ae6b38d736', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 7, 'created': '2018-08-01 13:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/96b5b36c6af97985b2f7a2ed1dab5e4f2431f162', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 8, 'created': '2018-08-01 19:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/bf010df6dff3786db8fcb54fbb113c8c80f1175f', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}, {'number': 9, 'created': '2018-08-02 07:22:42.000000000', 'files': ['tests/test-configure-octavia.yml', 'tests/test-octavia.yml', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8deac2f6dbd747ee23a4dbe1f2498c0328abe705', 'message': 'Reduce testing tech debt\n\nNow that we are using Ansible 2.6, and the clouds.yaml configuration\nis on the deployment host, we can eliminate most of the packages we\nwere installing in tests and simplify several tasks.\n\nChange-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49\n'}]",0,582668,8deac2f6dbd747ee23a4dbe1f2498c0328abe705,17,2,9,6816,,,0,"Reduce testing tech debt

Now that we are using Ansible 2.6, and the clouds.yaml configuration
is on the deployment host, we can eliminate most of the packages we
were installing in tests and simplify several tasks.

Change-Id: I1de294cbb8e2b636edd26c9aee13946630cdfb49
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/68/582668/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-configure-octavia.yml', 'tests/test-octavia.yml', 'tests/test.yml']",3,786e3484535d53d6a49fb49ef7ac02b21e408c1e,remove-cruft-in-osa,,- include: test-configure-octavia.yml,35,113
openstack%2Ftripleo-heat-templates~master~I004a43c1b6c9cee21c24749bd6589435530e48e0,openstack/tripleo-heat-templates,master,I004a43c1b6c9cee21c24749bd6589435530e48e0,Allow to remove xinetd service,MERGED,2018-07-26 12:05:42.000000000,2018-08-02 08:14:58.000000000,2018-08-02 08:14:57.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-26 12:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fe13d1efd0edab7bbe153ab9b0c91774c606ea4', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nDepends-On: Ibf2decaaaedda9a3b44f28786a5ab9b7415a3907\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 2, 'created': '2018-07-26 12:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/599bb20ba475ff75613fc130863d75b243724d92', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 3, 'created': '2018-07-26 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b429b0b42e261e4d5ae4d137af32e06ddd8a467', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 4, 'created': '2018-07-27 04:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/975505b7d06d5b2c76f2b95cec8e0596435a7d0c', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 5, 'created': '2018-07-27 05:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f10edcad11dd9c2a71ce8498e00d9e0415e1df7', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 6, 'created': '2018-07-27 06:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33027fee6f6c9d6411a9c255cabc9480bcf7ca1d', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 7, 'created': '2018-07-27 06:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc003b9c57fa2412019ea692808c107aab7bf4f4', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 8, 'created': '2018-07-27 07:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2580f7458a2351404b1f46ed4369981938238101', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 9, 'created': '2018-07-27 08:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42728ec0dbd504272362e7cce62e708536db835a', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}, {'number': 10, 'created': '2018-07-31 13:22:07.000000000', 'files': ['roles/ControllerNoCeph.yaml', 'docker/services/xinetd.yaml', 'releasenotes/notes/remove-xinetd-859f2a31631774d1.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/623790385292acf4cb4f357a8d089e9d08d4d212', 'message': ""Allow to remove xinetd service\n\nThe xinetd service isn't used anymore on the host - it runs in\ncontainers where it is needed, meaning that service can be dropped\nfor good, as well as its package.\n\nChange-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0\n""}]",5,586057,623790385292acf4cb4f357a8d089e9d08d4d212,30,5,10,28223,,,0,"Allow to remove xinetd service

The xinetd service isn't used anymore on the host - it runs in
containers where it is needed, meaning that service can be dropped
for good, as well as its package.

Change-Id: I004a43c1b6c9cee21c24749bd6589435530e48e0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/586057/9 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/xinetd.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles_data_undercloud.yaml']",4,1fe13d1efd0edab7bbe153ab9b0c91774c606ea4,remove-xinetd, - OS::TripleO::Services::Xinetd,,70,2
openstack%2Fsahara-image-elements~master~If5401e88210f42f1bd059dd1cfa53fa9fee98f44,openstack/sahara-image-elements,master,If5401e88210f42f1bd059dd1cfa53fa9fee98f44,add additional Remove yum cache,NEW,2018-08-01 12:28:32.000000000,2018-08-02 08:11:59.000000000,,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 12:28:32.000000000', 'files': ['elements/hadoop-mapr/post-install.d/99-update-repository'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/af8b82ac10fca22e413f0331d26a2c193af27e9f', 'message': 'add additional Remove yum cache\n\nas a followup to https://review.openstack.org/#/c/505143/\n""Remove yum cache""\n\nChange-Id: If5401e88210f42f1bd059dd1cfa53fa9fee98f44\n'}]",0,587799,af8b82ac10fca22e413f0331d26a2c193af27e9f,4,3,1,21486,,,0,"add additional Remove yum cache

as a followup to https://review.openstack.org/#/c/505143/
""Remove yum cache""

Change-Id: If5401e88210f42f1bd059dd1cfa53fa9fee98f44
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/99/587799/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/hadoop-mapr/post-install.d/99-update-repository'],1,af8b82ac10fca22e413f0331d26a2c193af27e9f,, yum clean all && rm -rf /var/cache/yum && yum repolist, yum clean all && yum repolist,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I7d852f9307232af3c38ec4fa0e6fd37b4b094b61,openstack/openstack-ansible-openstack_hosts,master,I7d852f9307232af3c38ec4fa0e6fd37b4b094b61,Add Rocky UCA for bionic,MERGED,2018-08-01 18:17:55.000000000,2018-08-02 08:11:08.000000000,2018-08-02 08:11:08.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 18:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ea3e719bf97c23fddcd0855a6c6f30452d4e4dbf', 'message': 'Add Rocky UCA for bionic\n\nBionic now has UCA for Rocky, so we add it.\n\nChange-Id: I7d852f9307232af3c38ec4fa0e6fd37b4b094b61\n'}, {'number': 2, 'created': '2018-08-01 19:43:05.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6fdac130d9bd0eda0d248afdce49470e43a50fd3', 'message': 'Add Rocky UCA for bionic\n\nBionic now has UCA for Rocky, so we add it.\n\nChange-Id: I7d852f9307232af3c38ec4fa0e6fd37b4b094b61\n'}]",1,587944,6fdac130d9bd0eda0d248afdce49470e43a50fd3,10,3,2,6816,,,0,"Add Rocky UCA for bionic

Bionic now has UCA for Rocky, so we add it.

Change-Id: I7d852f9307232af3c38ec4fa0e6fd37b4b094b61
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/44/587944/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",3,ea3e719bf97c23fddcd0855a6c6f30452d4e4dbf,bionic-vars,"uca_repo: ""{{ _uca_repo }}"" ","uca_repo: ""deb {{ uca_apt_repo_url | default('http://ubuntu-cloud.archive.canonical.com/ubuntu') }} {{ ansible_lsb.codename }}-updates/queens main""",14,5
openstack%2Fopenstack-ansible-openstack_hosts~master~I8e373f6b25b65078f090a09cd612b6a66c865dd9,openstack/openstack-ansible-openstack_hosts,master,I8e373f6b25b65078f090a09cd612b6a66c865dd9,"Revert ""Use generic vars file for ubuntu""",MERGED,2018-08-01 18:13:24.000000000,2018-08-02 08:11:07.000000000,2018-08-02 08:11:07.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 18:13:24.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f76d59e3579c28903d14e65bbbfe811450f794cd', 'message': 'Revert ""Use generic vars file for ubuntu""\n\nThis reverts commit 0afc70daf01b23e59868aecfc276405303f1ff50.\n\nAs it turns out, my diff skills suck. These files were not the same.\n\nChange-Id: I8e373f6b25b65078f090a09cd612b6a66c865dd9\n'}]",2,587932,f76d59e3579c28903d14e65bbbfe811450f794cd,9,6,1,6816,,,0,"Revert ""Use generic vars file for ubuntu""

This reverts commit 0afc70daf01b23e59868aecfc276405303f1ff50.

As it turns out, my diff skills suck. These files were not the same.

Change-Id: I8e373f6b25b65078f090a09cd612b6a66c865dd9
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/32/587932/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml']",2,f76d59e3579c28903d14e65bbbfe811450f794cd,bionic-vars,,,100,0
openstack%2Fwatcher-dashboard~master~Idf64e5f0ef9e02e62a769ff80a70f05dade8d332,openstack/watcher-dashboard,master,Idf64e5f0ef9e02e62a769ff80a70f05dade8d332,fix audit delete failure: add allow func to filter audit,MERGED,2018-07-30 07:10:39.000000000,2018-08-02 08:06:19.000000000,2018-08-02 08:06:19.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 07:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/51e98b1094e6c6007c165682eb1d127e60e07b29', 'message': 'fix audit delete failure: add allow func to filter audit\n\nonly audits not in (""ONGOING"", ""PENDING"") statues can be deleted,\naudits in other status should not be deleted. This patch adds this func\nto filter audits.\n\nDepends-On: https://review.openstack.org/#/c/586754/\n\nChange-Id: Idf64e5f0ef9e02e62a769ff80a70f05dade8d332\n'}, {'number': 2, 'created': '2018-08-02 02:40:11.000000000', 'files': ['watcher_dashboard/content/audits/tables.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/4ba319142c2ca72a33b06d6038c2dc8daa0b6e82', 'message': 'fix audit delete failure: add allow func to filter audit\n\naudits in (""ONGOING"", ""PENDING"") cannot be deleted,\naudits in other status can be deleted. This patch adds this func\nto filter audits.\n\nDepends-On: https://review.openstack.org/#/c/586754/\n\nChange-Id: Idf64e5f0ef9e02e62a769ff80a70f05dade8d332\n'}]",2,586955,4ba319142c2ca72a33b06d6038c2dc8daa0b6e82,10,3,2,24872,,,0,"fix audit delete failure: add allow func to filter audit

audits in (""ONGOING"", ""PENDING"") cannot be deleted,
audits in other status can be deleted. This patch adds this func
to filter audits.

Depends-On: https://review.openstack.org/#/c/586754/

Change-Id: Idf64e5f0ef9e02e62a769ff80a70f05dade8d332
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/55/586955/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_dashboard/content/audits/tables.py'],1,51e98b1094e6c6007c165682eb1d127e60e07b29,," def allowed(self, request, audit): return audit or audit.state not in (""ONGOING"", ""PENDING"") "," ArchiveAudits,",3,1
openstack%2Ftempest~master~I7e2d181f10c44762399fe133b48e42ba81c09300,openstack/tempest,master,I7e2d181f10c44762399fe133b48e42ba81c09300,Add server schema for microversion 2.6,MERGED,2018-07-27 08:55:48.000000000,2018-08-02 07:30:04.000000000,2018-08-02 07:30:04.000000000,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 25695}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-07-27 08:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/135411322fcd5c5b7ce006c079c43d0b418d4f4c', 'message': 'Add server schema for microversion 2.6\n\nThis PS adds servers schema for microversion 2.6\n\npartially-implements: blueprint full-schema-for-all-microversions\n\nChange-Id: I7e2d181f10c44762399fe133b48e42ba81c09300\n'}, {'number': 2, 'created': '2018-07-27 11:34:52.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_6/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/15d756507dee35feae46ccc353b01eef5607cfc7', 'message': 'Add server schema for microversion 2.6\n\nThis PS adds servers schema for microversion 2.6\n\npartially-implements: blueprint full-schema-for-all-microversions\n\nChange-Id: I7e2d181f10c44762399fe133b48e42ba81c09300\n'}]",2,586486,15d756507dee35feae46ccc353b01eef5607cfc7,14,7,2,25571,,,0,"Add server schema for microversion 2.6

This PS adds servers schema for microversion 2.6

partially-implements: blueprint full-schema-for-all-microversions

Change-Id: I7e2d181f10c44762399fe133b48e42ba81c09300
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/586486/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/api_schema/response/compute/v2_6/servers.py'],1,135411322fcd5c5b7ce006c079c43d0b418d4f4c,bp/full-schema-for-all-microversions,# NOTE: Below are the unchanged schema in this microversion. We need # to keep this schema in this file to have the generic way to select the # right schema based on self.schema_versions_info mapping in service client. # ****** Schemas unchanged since microversion 2.3 ****** update_server = copy.deepcopy(servers.update_server) rebuild_server = copy.deepcopy(servers.rebuild_server) rebuild_server_with_admin_pass = copy.deepcopy( servers.rebuild_server_with_admin_pass) show_server_diagnostics = copy.deepcopy(servers.show_server_diagnostics) ,,10,0
openstack%2Ftempest~master~I92e774e19c618b5c5fcf495fbb2de77bfe18904c,openstack/tempest,master,I92e774e19c618b5c5fcf495fbb2de77bfe18904c,Fill servers schema for microversion 2.3,MERGED,2018-07-26 10:27:22.000000000,2018-08-02 07:21:13.000000000,2018-08-02 07:21:12.000000000,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-07-26 10:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92a05b095500c1d97ffc32b13a8f4682c3132762', 'message': 'Fill servers schema for microversion 2.3\n\nThis patch fills servers schema for microversion 2.3\n\nChange-Id: I92e774e19c618b5c5fcf495fbb2de77bfe18904c\n'}, {'number': 2, 'created': '2018-07-27 07:15:28.000000000', 'files': ['tempest/lib/api_schema/response/compute/v2_3/servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe2058bdc26b17a0f197017ff1356421ccf000d6', 'message': 'Fill servers schema for microversion 2.3\n\nThis patch fills servers schema for microversion 2.3\n\npartially-implements: blueprint full-schema-for-all-microversions\n\nChange-Id: I92e774e19c618b5c5fcf495fbb2de77bfe18904c\n'}]",12,586041,fe2058bdc26b17a0f197017ff1356421ccf000d6,26,8,2,19457,,,0,"Fill servers schema for microversion 2.3

This patch fills servers schema for microversion 2.3

partially-implements: blueprint full-schema-for-all-microversions

Change-Id: I92e774e19c618b5c5fcf495fbb2de77bfe18904c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/586041/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/api_schema/response/compute/v2_3/servers.py'],1,92a05b095500c1d97ffc32b13a8f4682c3132762,bp/full-schema-for-all-microversions,update_server = copy.deepcopy(servers.update_server) rebuild_server = copy.deepcopy(servers.rebuild_server) rebuild_server_with_admin_pass = copy.deepcopy( servers.rebuild_server_with_admin_pass) show_server_diagnostics = copy.deepcopy(servers.show_server_diagnostics),,5,0
openstack%2Fpuppet-tripleo~stable%2Fpike~Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f,openstack/puppet-tripleo,stable/pike,Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f,remove scenario005 from experimental,MERGED,2018-07-30 20:33:16.000000000,2018-08-02 07:03:48.000000000,2018-08-02 07:03:48.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-30 20:33:16.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/201ca8f7cae32d1738cb2993c9f22f59e044a5f9', 'message': 'remove scenario005 from experimental\n\nSee: https://review.openstack.org/#/c/581376/\n\nChange-Id: Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f\n'}]",0,587217,201ca8f7cae32d1738cb2993c9f22f59e044a5f9,7,3,1,9592,,,0,"remove scenario005 from experimental

See: https://review.openstack.org/#/c/581376/

Change-Id: Ib9f8f707af57edc5fab30fd5d9ff5578d6083f1f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/587217/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,201ca8f7cae32d1738cb2993c9f22f59e044a5f9,pike,, - tripleo-ci-centos-7-scenario005-multinode-oooq: files: - ^manifests/haproxy.*$ - ^manifests/pacemaker/.*$ - ^manifests/profile/pacemaker.*$ - manifests/profile/(base|pacemaker)/pacemaker.pp,0,6
openstack%2Fzun~master~Iaa97afabe72cd436b41d8ca7530a0e84d1888f00,openstack/zun,master,Iaa97afabe72cd436b41d8ca7530a0e84d1888f00,Add the missing dependency on rootwrap,MERGED,2018-07-28 20:50:13.000000000,2018-08-02 06:31:05.000000000,2018-08-02 06:31:05.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-07-28 20:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/53a913805f53d6729c2032ad44749b16f3cc438d', 'message': 'Add the missing dependency on rootwrap\n\nChange-Id: Iaa97afabe72cd436b41d8ca7530a0e84d1888f00\nCloses-Bug: #1784177\nRelated-Bug: #1749342\n'}, {'number': 2, 'created': '2018-07-29 16:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2a2c954f61a64323687587746f10d70638fe7453', 'message': 'Add the missing dependency on rootwrap\n\nChange-Id: Iaa97afabe72cd436b41d8ca7530a0e84d1888f00\nCloses-Bug: #1784177\nRelated-Bug: #1749342\n'}, {'number': 3, 'created': '2018-08-01 01:47:33.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/7572495c997a6c5f230f0037b1f1ae36053f8f4e', 'message': 'Add the missing dependency on rootwrap\n\nChange-Id: Iaa97afabe72cd436b41d8ca7530a0e84d1888f00\nCloses-Bug: #1784177\nRelated-Bug: #1749342\n'}]",0,586842,7572495c997a6c5f230f0037b1f1ae36053f8f4e,13,4,3,11536,,,0,"Add the missing dependency on rootwrap

Change-Id: Iaa97afabe72cd436b41d8ca7530a0e84d1888f00
Closes-Bug: #1784177
Related-Bug: #1749342
",git fetch https://review.opendev.org/openstack/zun refs/changes/42/586842/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,53a913805f53d6729c2032ad44749b16f3cc438d,bug/1784177,oslo.rootwrap==5.8.0,,2,0
openstack%2Fswift~master~Ib00bf6992327f15f271120dc5dbc86a4a235baec,openstack/swift,master,Ib00bf6992327f15f271120dc5dbc86a4a235baec,imported some docs from the old user-guide,MERGED,2018-08-01 22:18:57.000000000,2018-08-02 06:01:12.000000000,2018-08-02 06:01:12.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 22:18:57.000000000', 'files': ['doc/source/api/static-website.rst', 'doc/source/api/bulk-delete.rst', 'doc/source/index.rst', 'doc/source/api/pagination.rst', 'doc/source/api/pseudo-hierarchical-folders-directories.rst', 'doc/source/api/serialized-response-formats.rst', 'doc/source/api/object-expiration.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/86d78f6667392b2ee0ca017da8f54ff153aca491', 'message': 'imported some docs from the old user-guide\n\nThese files are imported (and very lightly edited) from the old\nocata user-guide. It has a few other swift-related docs that seemed\nmore duplacative of what we already have, but these seem to fill\nexisting gaps in our docs.\n\nChange-Id: Ib00bf6992327f15f271120dc5dbc86a4a235baec\n'}]",0,588093,86d78f6667392b2ee0ca017da8f54ff153aca491,6,2,1,330,,,0,"imported some docs from the old user-guide

These files are imported (and very lightly edited) from the old
ocata user-guide. It has a few other swift-related docs that seemed
more duplacative of what we already have, but these seem to fill
existing gaps in our docs.

Change-Id: Ib00bf6992327f15f271120dc5dbc86a4a235baec
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/588093/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/static-website.rst', 'doc/source/api/bulk-delete.rst', 'doc/source/index.rst', 'doc/source/api/pagination.rst', 'doc/source/api/pseudo-hierarchical-folders-directories.rst', 'doc/source/api/serialized-response-formats.rst', 'doc/source/api/object-expiration.rst']",7,86d78f6667392b2ee0ca017da8f54ff153aca491,import_docs,"================= Object expiration ================= You can schedule Object Storage (swift) objects to expire by setting the ``X-Delete-At`` or ``X-Delete-After`` header. Once the object is deleted, swift will no longer serve the object and it will be deleted from the cluster shortly thereafter. * Set an object to expire at an absolute time (in Unix time). You can get the current Unix time by running ``date +'%s'``. .. code-block:: console $ swift post CONTAINER OBJECT_FILENAME -H ""X-Delete-At:UNIX_TIME"" Verify the ``X-Delete-At`` header has posted to the object: .. code-block:: console $ swift stat CONTAINER OBJECT_FILENAME * Set an object to expire after a relative amount of time (in seconds): .. code-block:: console $ swift post CONTAINER OBJECT_FILENAME -H ""X-Delete-After:SECONDS"" The ``X-Delete-After`` header will be converted to ``X-Delete-At``. Verify the ``X-Delete-At`` header has posted to the object: .. code-block:: console $ swift stat CONTAINER OBJECT_FILENAME If you no longer want to expire the object, you can remove the ``X-Delete-At`` header: .. code-block:: console $ swift post CONTAINER OBJECT_FILENAME -H ""X-Remove-Delete-At:"" .. note:: In order for object expiration to work properly, the ``swift-object-expirer`` daemon will need access to all backend servers in the cluster. The daemon does not need access to the proxy-server or public network. ",,644,0
openstack%2Fglance~master~I3d394b344492a1f06a4999a3f61cecf5ace30f23,openstack/glance,master,I3d394b344492a1f06a4999a3f61cecf5ace30f23,Bump Imges API version to 2.7,MERGED,2018-08-01 17:59:32.000000000,2018-08-02 06:01:10.000000000,2018-08-02 06:01:10.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 17:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3244e972afda3e30de217fe4d8d6024e141c89d', 'message': 'Bump Imges API version to 2.7\n\nThis API version bump contains the extensions for hidden images\nand multihash feature support.\n\nChange-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23\n'}, {'number': 2, 'created': '2018-08-01 18:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b774e66c6a7d9e13c8daa35286d79a2eb611883d', 'message': 'Bump Imges API version to 2.7\n\nThis API version bump contains the extensions for hidden images\nand multihash feature support.\n\nChange-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23\n'}, {'number': 3, 'created': '2018-08-01 18:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/acd5b2133ddfd219483b639fdae12c6cfd9fca0e', 'message': 'Bump Imges API version to 2.7\n\nThis API version bump contains the extensions for hidden images\nand multihash feature support.\n\nChange-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23\n'}, {'number': 4, 'created': '2018-08-01 18:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6c84dcadd9f6dc99d928721d03f6b9a3e1876f6e', 'message': 'Bump Imges API version to 2.7\n\nThis API version bump contains the extensions for hidden images\nand multihash feature support.\n\nChange-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23\n'}, {'number': 5, 'created': '2018-08-01 18:42:21.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'glance/api/versions.py', 'api-ref/source/versions/samples/image-versions-response.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/8e16e41f4de10541de12cffc7e54d34c895e35e0', 'message': 'Bump Imges API version to 2.7\n\nThis API version bump contains the extensions for hidden images\nand multihash feature support.\n\nChange-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23\n'}]",1,587929,8e16e41f4de10541de12cffc7e54d34c895e35e0,14,5,5,5202,,,0,"Bump Imges API version to 2.7

This API version bump contains the extensions for hidden images
and multihash feature support.

Change-Id: I3d394b344492a1f06a4999a3f61cecf5ace30f23
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/587929/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/versions.py']",2,e3244e972afda3e30de217fe4d8d6024e141c89d,2.7-version," build_version_object(2.7, 'v2', 'CURRENT'), build_version_object(2.6, 'v2', 'SUPPORTED'),"," build_version_object(2.6, 'v2', 'CURRENT'),",9,2
openstack%2Fkeystone~master~I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9,openstack/keystone,master,I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9,Convert OS-REVOKE to flask dispatching,MERGED,2018-07-31 22:06:01.000000000,2018-08-02 06:00:40.000000000,2018-08-02 06:00:39.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 22:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b6712cfccaed167573a45c210d7c4df9825fe083', 'message': 'Convert OS-REVOKE to flask dispatching\n\nConvert OS-REVOKE to flask dispatching.\n\nChange-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9\nPartial-Bug: #1776504\n'}, {'number': 2, 'created': '2018-07-31 22:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f12bb0e31865741b696e3b7ebffb63d07ad045be', 'message': 'Convert OS-REVOKE to flask dispatching\n\nConvert OS-REVOKE to flask dispatching.\n\nChange-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9\nPartial-Bug: #1776504\n'}, {'number': 3, 'created': '2018-08-01 18:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/31e1cbec6395e8e2e1de6ebf5570cefa12432582', 'message': 'Convert OS-REVOKE to flask dispatching\n\nConvert OS-REVOKE to flask dispatching.\n\nChange-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9\nPartial-Bug: #1776504\n'}, {'number': 4, 'created': '2018-08-01 19:57:34.000000000', 'files': ['keystone/revoke/controllers.py', 'keystone/server/flask/application.py', 'keystone/revoke/routers.py', 'keystone/api/__init__.py', 'keystone/api/os_revoke.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a4d9a4f13b21fbdd8feacd07085c77602b4123d9', 'message': 'Convert OS-REVOKE to flask dispatching\n\nConvert OS-REVOKE to flask dispatching.\n\nChange-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9\nPartial-Bug: #1776504\n'}]",3,587647,a4d9a4f13b21fbdd8feacd07085c77602b4123d9,12,3,4,2903,,,0,"Convert OS-REVOKE to flask dispatching

Convert OS-REVOKE to flask dispatching.

Change-Id: I2504d4326b8c35fd6d9a0d929afc7e658e9c14f9
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/47/587647/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/revoke/controllers.py', 'keystone/server/flask/application.py', 'keystone/revoke/routers.py', 'keystone/api/__init__.py', 'keystone/api/os_revoke.py']",5,b6712cfccaed167573a45c210d7c4df9825fe083,bug/1776504,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This file handles all flask-restful resources for /v3/credentials import functools import flask import flask_restful from oslo_utils import timeutils from keystone.common import json_home from keystone.common import provider_api from keystone.common import rbac_enforcer from keystone import exception from keystone.i18n import _ from keystone.server import flask as ks_flask PROVIDERS = provider_api.ProviderAPIs ENFORCER = rbac_enforcer.RBACEnforcer _build_resource_relation = functools.partial( json_home.build_v3_extension_resource_relation, extension_name='OS-REVOKE', extension_version='1.0') class OSRevokeResource(flask_restful.Resource): def get(self): ENFORCER.enforce_call(action='identity:list_revoke_events') since = flask.request.args.get('since') last_fetch = None if since: try: last_fetch = timeutils.normalize_time( timeutils.parse_isotime(since)) except ValueError: raise exception.ValidationError( message=_('invalidate date format %s') % since) # FIXME(notmorgan): The revocation events cannot have resource options # added to them or lazy-loaded relationships as long as to_dict # is called outside of an active session context. This API is unused # and should be deprecated in the near future. Fix this before adding # resource_options or any lazy-loaded relationships to the revocation # events themselves. events = PROVIDERS.revoke_api.list_events(last_fetch=last_fetch) # Build the links by hand as the standard controller calls require ids response = {'events': [event.to_dict() for event in events], 'links': { 'next': None, 'self': '%s/v3/OS-REVOKE/events' % ks_flask.base_url(), 'previous': None} } return response class OSRevokeAPI(ks_flask.APIBase): _name = 'events' _import_name = __name__ _api_url_prefix = '/OS-REVOKE' resources = [] resource_mapping = [ ks_flask.construct_resource_map( resource=OSRevokeResource, url='/events', resource_kwargs={}, rel='events', resource_relation_func=_build_resource_relation ) ] APIs = (OSRevokeAPI,) ",,87,88
openstack%2Fpython-senlinclient~master~I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8,openstack/python-senlinclient,master,I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8,Zuul enable senlinclient function check,MERGED,2018-08-02 02:12:33.000000000,2018-08-02 05:23:53.000000000,2018-08-02 05:23:53.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-08-02 02:12:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/93d303304f27c2bf398d1873abd24855452bb5bb', 'message': 'Zuul enable senlinclient function check\n\nChange-Id: I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",4,588117,93d303304f27c2bf398d1873abd24855452bb5bb,9,5,1,23517,,,0,"Zuul enable senlinclient function check

Change-Id: I3cf6ecbb79575fd3f0315b42fc0df90a20b8ccc8
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/17/588117/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,93d303304f27c2bf398d1873abd24855452bb5bb,function_check, check: - senlinclient-dsvm-functional: voting: false, experimental: check: jobs:,3,3
openstack%2Fkeystone~master~Ic7bcba148f0a062b144e6dfbe9693f2125008458,openstack/keystone,master,Ic7bcba148f0a062b144e6dfbe9693f2125008458,Address FIXMEs for listing revoked tokens,MERGED,2018-02-15 15:34:28.000000000,2018-08-02 05:23:05.000000000,2018-08-02 05:23:05.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-15 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a632d8a73ad7ae8ec1a04cbcce505427d1a6873d', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}, {'number': 2, 'created': '2018-07-25 20:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/482ab8846a57dee77c17bc0a0ef303b500324c38', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}, {'number': 3, 'created': '2018-07-26 17:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9e6e0dbed42b875437b691fe5e883cc49e6a23a7', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}, {'number': 4, 'created': '2018-07-31 17:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/82df34a072b00dec111844f745560bcf44fc2e45', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}, {'number': 5, 'created': '2018-08-01 18:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/10014e300fe8f8a53337b14ff1d58bb79796035c', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}, {'number': 6, 'created': '2018-08-01 19:57:34.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d42e95520302f3203706993304e024e82f947728', 'message': ""Address FIXMEs for listing revoked tokens\n\nNow that support for sql token storage and uuid tokens has been\nremoved, it doesn't make sense to still expose an API for listing\nrevoked tokens. Maintaining this behavior would require keystone to\npersist non-persistent tokens, which defeats the purpose.\n\nThis change makes the API return either a 410 Gone or a 403 Forbidden\ndepending on configuration for backwards compatibility. Logic to\nlist revoked tokens was also removed from the token provider API\nsince it's no longer called by any controllers.\n\nChange-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458\n""}]",4,545009,d42e95520302f3203706993304e024e82f947728,27,5,6,5046,,,0,"Address FIXMEs for listing revoked tokens

Now that support for sql token storage and uuid tokens has been
removed, it doesn't make sense to still expose an API for listing
revoked tokens. Maintaining this behavior would require keystone to
persist non-persistent tokens, which defeats the purpose.

This change makes the API return either a 410 Gone or a 403 Forbidden
depending on configuration for backwards compatibility. Logic to
list revoked tokens was also removed from the token provider API
since it's no longer called by any controllers.

Change-Id: Ic7bcba148f0a062b144e6dfbe9693f2125008458
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/545009/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py']",3,a632d8a73ad7ae8ec1a04cbcce505427d1a6873d,bug/1776504," def test_revoke_by_id_true_returns_forbidden(self): self.config_fixture.config( group='token', revoke_by_id=True) self.get( '/auth/tokens/OS-PKI/revoked', expected_status=http_client.FORBIDDEN ) self.head( '/auth/tokens/OS-PKI/revoked', expected_status=http_client.FORBIDDEN ) ",,20,38
openstack%2Fkeystone~master~I778cab0a6449184ecf7d5ccfbfa12791be139236,openstack/keystone,master,I778cab0a6449184ecf7d5ccfbfa12791be139236,Remove KeystoneToken object,MERGED,2018-06-22 22:04:25.000000000,2018-08-02 05:20:31.000000000,2018-08-02 05:20:31.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 10420}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 22:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/75b49a4dd4446ae26aba293bfc20e05fb901876b', 'message': 'WIP: Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 2, 'created': '2018-06-25 18:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9dce4c521c41bb408892f219f78e9f17816cb53', 'message': 'WIP: Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 3, 'created': '2018-06-25 18:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1864b44b174a719041fa6b2db44864e9ffbc4b80', 'message': 'WIP: Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 4, 'created': '2018-06-27 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/92c3d1bf1ffefd147cd6c8b65d4b2a550d312a6b', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 5, 'created': '2018-06-27 21:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/560ec2ef703e498e0d5b110869cca1ba4eca5ee9', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 6, 'created': '2018-06-28 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bc189154e4a47841b092b013abab4f8c22487a31', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 7, 'created': '2018-06-29 16:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7fe5c87fe88e5c2caa860788010de6aa12c1326', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 8, 'created': '2018-07-11 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e9a3fbf43a1c9bf37649b19bbee3d0e3cbfdfa35', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 9, 'created': '2018-07-11 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/32a75c45c0b089132b02697b2eb5a2eae25df7be', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 10, 'created': '2018-07-12 18:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5e0afbbe66097f809958850a3250eb3aa243a94', 'message': 'Remove KeystoneToken object\n\nThis is failing with some weird errors about how we pass an actual\nKeystoneToken object to oslo.policy(?!). I think this is because\nkeystone overrides middleware and puts a KeystoneToken object in the\nrequest context, which gets used in various places throughout the\ncode base.\n\nIt seems slightly wrong that code is failing in oslo.policy because\nkeystone changed an object that is only used internally.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n'}, {'number': 11, 'created': '2018-07-13 15:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4783b45018b75854ce57eac8e7527adf1f472469', 'message': ""Remove KeystoneToken object\n\nThis commit removes the original KeystoneToken object in favor of the\nnew TokenModel object. Since we have a token provider that knows how\nto deal with TokenModel object, we don't really need another object\nthat uses reflection at all.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n""}, {'number': 12, 'created': '2018-08-01 19:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/513a5f52c3e76532cb2d1bb7226389af8f2a20b2', 'message': ""Remove KeystoneToken object\n\nThis commit removes the original KeystoneToken object in favor of the\nnew TokenModel object. Since we have a token provider that knows how\nto deal with TokenModel object, we don't really need another object\nthat uses reflection at all.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n""}, {'number': 13, 'created': '2018-08-01 21:34:23.000000000', 'files': ['keystone/common/authorization.py', 'keystone/api/trusts.py', 'keystone/models/token_model.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/controller.py', 'keystone/middleware/auth.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/application_credential/controllers.py', 'keystone/common/rbac_enforcer/enforcer.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/140a34b439d9aa60712a164b21622e721a60dfc2', 'message': ""Remove KeystoneToken object\n\nThis commit removes the original KeystoneToken object in favor of the\nnew TokenModel object. Since we have a token provider that knows how\nto deal with TokenModel object, we don't really need another object\nthat uses reflection at all.\n\nCloses-Bug: 1778945\nChange-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236\n""}]",6,577567,140a34b439d9aa60712a164b21622e721a60dfc2,40,6,13,5046,,,0,"Remove KeystoneToken object

This commit removes the original KeystoneToken object in favor of the
new TokenModel object. Since we have a token provider that knows how
to deal with TokenModel object, we don't really need another object
that uses reflection at all.

Closes-Bug: 1778945
Change-Id: I778cab0a6449184ecf7d5ccfbfa12791be139236
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/577567/10 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/plugins/mapped.py', 'keystone/models/token_model.py', 'keystone/trust/controllers.py', 'keystone/middleware/auth.py', 'keystone/tests/unit/token/test_token_model.py']",5,75b49a4dd4446ae26aba293bfc20e05fb901876b,bug/1778945,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy import datetime import uuid from oslo_utils import timeutils from six.moves import range from keystone.common import provider_api from keystone.common import utils as ks_utils import keystone.conf from keystone import exception from keystone.federation import constants as federation_constants from keystone.models import token_model from keystone.tests.unit import base_classes from keystone.tests.unit import core from keystone.tests.unit import test_token_provider from keystone.token import provider CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class TestKeystoneTokenModel(core.TestCase): def setUp(self): super(TestKeystoneTokenModel, self).setUp() self.v3_sample_token = copy.deepcopy( test_token_provider.SAMPLE_V3_TOKEN) def test_token_model_v3(self): token_data = token_model.KeystoneToken(uuid.uuid4().hex, self.v3_sample_token) expires = timeutils.normalize_time(timeutils.parse_isotime( self.v3_sample_token['token']['expires_at'])) issued = timeutils.normalize_time(timeutils.parse_isotime( self.v3_sample_token['token']['issued_at'])) self.assertEqual(expires, token_data.expires) self.assertEqual(issued, token_data.issued) self.assertEqual(self.v3_sample_token['token']['user']['id'], token_data.user_id) self.assertEqual(self.v3_sample_token['token']['user']['name'], token_data.user_name) self.assertEqual( self.v3_sample_token['token']['user']['password_expires_at'], token_data.user_password_expires_at) self.assertEqual(self.v3_sample_token['token']['user']['domain']['id'], token_data.user_domain_id) self.assertEqual( self.v3_sample_token['token']['user']['domain']['name'], token_data.user_domain_name) self.assertEqual( self.v3_sample_token['token']['project']['domain']['id'], token_data.project_domain_id) self.assertEqual( self.v3_sample_token['token']['project']['domain']['name'], token_data.project_domain_name) self.assertEqual( self.v3_sample_token['token']['is_domain'], token_data.is_domain) self.assertEqual(self.v3_sample_token['token']['OS-TRUST:trust']['id'], token_data.trust_id) self.assertEqual( self.v3_sample_token['token']['OS-TRUST:trust']['trustor_user_id'], token_data.trustor_user_id) self.assertEqual( self.v3_sample_token['token']['OS-TRUST:trust']['trustee_user_id'], token_data.trustee_user_id) # Project Scoped Token self.assertRaises(exception.UnexpectedError, getattr, token_data, 'domain_id') self.assertRaises(exception.UnexpectedError, getattr, token_data, 'domain_name') self.assertFalse(token_data.domain_scoped) self.assertEqual(self.v3_sample_token['token']['project']['id'], token_data.project_id) self.assertEqual(self.v3_sample_token['token']['project']['name'], token_data.project_name) self.assertTrue(token_data.project_scoped) self.assertTrue(token_data.scoped) self.assertTrue(token_data.trust_scoped) # by default admin project is True for project scoped tokens self.assertTrue(token_data.is_admin_project) self.assertEqual( [r['id'] for r in self.v3_sample_token['token']['roles']], token_data.role_ids) self.assertEqual( [r['name'] for r in self.v3_sample_token['token']['roles']], token_data.role_names) # Domain Scoped Token token_data.pop('project') self.assertFalse(token_data.project_scoped) self.assertFalse(token_data.scoped) self.assertRaises(exception.UnexpectedError, getattr, token_data, 'project_id') self.assertRaises(exception.UnexpectedError, getattr, token_data, 'project_name') self.assertFalse(token_data.project_scoped) domain_id = uuid.uuid4().hex domain_name = uuid.uuid4().hex token_data['domain'] = {'id': domain_id, 'name': domain_name} self.assertEqual(domain_id, token_data.domain_id) self.assertEqual(domain_name, token_data.domain_name) self.assertTrue(token_data.domain_scoped) token_data['audit_ids'] = [uuid.uuid4().hex] self.assertEqual(token_data.audit_id, token_data['audit_ids'][0]) self.assertEqual(token_data.audit_chain_id, token_data['audit_ids'][0]) token_data['audit_ids'].append(uuid.uuid4().hex) self.assertEqual(token_data.audit_chain_id, token_data['audit_ids'][1]) del token_data['audit_ids'] self.assertIsNone(token_data.audit_id) self.assertIsNone(token_data.audit_chain_id) # by default admin project is False for domain scoped tokens self.assertFalse(token_data.is_admin_project) def test_token_model_v3_federated_user(self): token_data = token_model.KeystoneToken(token_id=uuid.uuid4().hex, token_data=self.v3_sample_token) federation_data = {'identity_provider': {'id': uuid.uuid4().hex}, 'protocol': {'id': 'saml2'}, 'groups': [{'id': uuid.uuid4().hex} for x in range(1, 5)]} self.assertFalse(token_data.is_federated_user) self.assertEqual([], token_data.federation_group_ids) self.assertIsNone(token_data.federation_protocol_id) self.assertIsNone(token_data.federation_idp_id) token_data['user'][federation_constants.FEDERATION] = federation_data self.assertTrue(token_data.is_federated_user) self.assertEqual([x['id'] for x in federation_data['groups']], token_data.federation_group_ids) self.assertEqual(federation_data['protocol']['id'], token_data.federation_protocol_id) self.assertEqual(federation_data['identity_provider']['id'], token_data.federation_idp_id) def test_token_model_unknown(self): self.assertRaises(exception.UnsupportedTokenVersionException, token_model.KeystoneToken, token_id=uuid.uuid4().hex, token_data={'bogus_data': uuid.uuid4().hex}) def test_token_model_dual_scoped_token(self): domain = {'id': uuid.uuid4().hex, 'name': uuid.uuid4().hex} self.v3_sample_token['token']['domain'] = domain self.assertRaises(exception.UnexpectedError, token_model.KeystoneToken, token_id=uuid.uuid4().hex, token_data=self.v3_sample_token) def test_token_model_is_admin_project(self): token_data = token_model.KeystoneToken(token_id=uuid.uuid4().hex, token_data=self.v3_sample_token) token_data['is_admin_project'] = False self.assertFalse(token_data.is_admin_project) class TokenModelTests(base_classes.TestCaseWithBootstrap): def setUp(self): super(TokenModelTests, self).setUp() self.admin_user_id = self.bootstrapper.admin_user_id self.admin_username = self.bootstrapper.admin_username self.admin_password = self.bootstrapper.admin_password self.project_id = self.bootstrapper.project_id self.project_name = self.bootstrapper.project_name self.admin_role_id = self.bootstrapper.admin_role_id self.member_role_id = self.bootstrapper.member_role_id self.reader_role_id = self.bootstrapper.reader_role_id self.token_id = uuid.uuid4().hex issued_at = datetime.datetime.utcnow() self.issued_at = ks_utils.isotime(at=issued_at, subsecond=True) def assertTokenContainsRole(self, token, role): """"""Ensure a role reference exists in a token's roles. :param token: instance of ``keystone.models.token_model.TokenModel`` :param role: a dictionary reference of the expected role """""" self.assertIn(role, token.roles) def test_audit_id_attributes(self): token = token_model.TokenModel() audit_id = provider.random_urlsafe_str() token.audit_id = audit_id self.assertTrue(len(token.audit_ids) == 1) parent_audit_id = provider.random_urlsafe_str() token.parent_audit_id = parent_audit_id self.assertTrue(len(token.audit_ids) == 2) self.assertEqual(audit_id, token.audit_ids[0]) self.assertEqual(parent_audit_id, token.audit_ids[-1]) def test_token_model_user_attributes(self): token = token_model.TokenModel() token.user_id = self.admin_user_id token.user_domain_id = token.user['domain_id'] self.assertEqual(self.admin_user_id, token.user_id) self.assertIsNotNone(token.user) self.assertIsNotNone(token.user_domain) self.assertEqual(self.admin_username, token.user['name']) self.assertEqual(CONF.identity.default_domain_id, token.user_domain_id) self.assertEqual( CONF.identity.default_domain_id, token.user_domain['id'] ) def test_mint_unscoped_token(self): token = token_model.TokenModel() token.user_id = self.admin_user_id token.mint(self.token_id, self.issued_at) self.assertTrue(token.unscoped) self.assertTrue(len(token.roles) == 0) def test_mint_system_scoped_token(self): token = token_model.TokenModel() token.user_id = self.admin_user_id token.system = {'all': True} token.mint(self.token_id, self.issued_at) self.assertTrue(token.system_scoped) self.assertFalse(token.domain_scoped) self.assertFalse(token.project_scoped) self.assertFalse(token.trust_scoped) self.assertFalse(token.unscoped) self.assertIsNotNone(token.system) self.assertTrue(len(token.roles) == 1) admin_role = {'id': self.admin_role_id, 'name': 'admin'} self.assertTokenContainsRole(token, admin_role) def test_mint_system_scoped_token_with_multiple_roles(self): token = token_model.TokenModel() token.user_id = self.admin_user_id token.system = {'all': True} self.assertTrue(token.system_scoped) self.assertFalse(token.domain_scoped) self.assertFalse(token.project_scoped) self.assertFalse(token.trust_scoped) self.assertFalse(token.unscoped) role = core.new_role_ref() PROVIDERS.role_api.create_role(role['id'], role) role.pop('domain_id') PROVIDERS.assignment_api.create_system_grant_for_user( self.admin_user_id, role['id'] ) self.assertIsNotNone(token.system) self.assertTrue(len(token.roles) == 2) admin_role = {'id': self.admin_role_id, 'name': 'admin'} self.assertTokenContainsRole(token, admin_role) self.assertTokenContainsRole(token, role) def test_mint_system_scoped_token_without_roles_fails(self): user = core.new_user_ref(CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) token = token_model.TokenModel() token.user_id = user['id'] token.system = 'all' token.audit_id = provider.random_urlsafe_str() self.assertRaises( exception.Unauthorized, token.mint, self.token_id, self.issued_at ) def test_mint_system_token_with_effective_role_assignment(self): user = core.new_user_ref(CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) group = core.new_group_ref(CONF.identity.default_domain_id) group = PROVIDERS.identity_api.create_group(group) PROVIDERS.identity_api.add_user_to_group(user['id'], group['id']) PROVIDERS.assignment_api.create_system_grant_for_group( group['id'], self.admin_role_id ) token = token_model.TokenModel() token.user_id = user['id'] token.system = 'all' token.mint(self.token_id, self.issued_at) exp_role = {'id': self.admin_role_id, 'name': 'admin'} self.assertTokenContainsRole(token, exp_role) def test_mint_domain_scoped_token(self): PROVIDERS.assignment_api.create_grant( self.admin_role_id, user_id=self.admin_user_id, domain_id=CONF.identity.default_domain_id ) token = token_model.TokenModel() token.user_id = self.admin_user_id token.domain_id = CONF.identity.default_domain_id token.mint(self.token_id, self.issued_at) self.assertTrue(token.domain_scoped) self.assertFalse(token.system_scoped) self.assertFalse(token.project_scoped) self.assertFalse(token.trust_scoped) self.assertFalse(token.unscoped) self.assertIsNotNone(token.domain) exp_domain = PROVIDERS.resource_api.get_domain( CONF.identity.default_domain_id ) self.assertEqual(exp_domain['id'], token.domain_id) self.assertEqual(exp_domain['name'], token.domain['name']) self.assertTrue(len(token.roles) == 3) exp_roles = [ {'id': self.admin_role_id, 'name': 'admin'}, {'id': self.member_role_id, 'name': 'member'}, {'id': self.reader_role_id, 'name': 'reader'} ] for role in exp_roles: self.assertTokenContainsRole(token, role) def test_mint_domain_scoped_token_fails_without_roles(self): user = core.new_user_ref(CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) token = token_model.TokenModel() token.user_id = user['id'] token.domain_id = CONF.identity.default_domain_id token.audit_id = provider.random_urlsafe_str() self.assertRaises( exception.Unauthorized, token.mint, self.token_id, self.issued_at ) def test_mint_project_scoped_token(self): token = token_model.TokenModel() token.user_id = self.admin_user_id token.project_id = self.project_id token.mint(self.token_id, self.issued_at) self.assertTrue(token.project_scoped) self.assertFalse(token.system_scoped) self.assertFalse(token.domain_scoped) self.assertFalse(token.trust_scoped) self.assertFalse(token.unscoped) self.assertIsNotNone(token.project) self.assertEqual(self.project_name, token.project['name']) self.assertTrue(len(token.roles) == 3) exp_roles = [ {'id': self.admin_role_id, 'name': 'admin'}, {'id': self.member_role_id, 'name': 'member'}, {'id': self.reader_role_id, 'name': 'reader'} ] for role in exp_roles: self.assertTokenContainsRole(token, role) def test_mint_project_scoped_token_fails_without_roles(self): user = core.new_user_ref(CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) token = token_model.TokenModel() token.user_id = user['id'] token.project_id = self.project_id token.audit_id = provider.random_urlsafe_str() self.assertRaises( exception.Unauthorized, token.mint, self.token_id, self.issued_at ) def test_mint_project_scoped_token_fails_when_project_is_disabled(self): PROVIDERS.resource_api.update_project( self.project_id, {'enabled': False} ) token = token_model.TokenModel() token.user_id = self.admin_user_id token.project_id = self.project_id token.audit_id = provider.random_urlsafe_str() self.assertRaises( exception.ProjectNotFound, token.mint, self.token_id, self.issued_at ) def test_mint_project_scoped_token_fails_when_domain_is_disabled(self): project = PROVIDERS.resource_api.get_project(self.project_id) PROVIDERS.resource_api.update_domain( project['domain_id'], {'enabled': False} ) token = token_model.TokenModel() token.user_id = self.admin_user_id token.project_id = self.project_id token.audit_id = provider.random_urlsafe_str() self.assertRaises( exception.DomainNotFound, token.mint, self.token_id, self.issued_at ) def test_mint_application_credential_token(self): app_cred = { 'id': uuid.uuid4().hex, 'name': 'monitoring-application', 'user_id': self.admin_user_id, 'roles': [{'id': self.admin_role_id}], 'project_id': self.project_id, 'secret': uuid.uuid4().hex } PROVIDERS.application_credential_api.create_application_credential( app_cred ) token = token_model.TokenModel() token.user_id = self.admin_user_id token.application_credential_id = app_cred['id'] token.project_id = self.project_id token.mint(self.token_id, self.issued_at) self.assertIsNotNone(token.application_credential_id) self.assertIsNotNone(token.application_credential) exp_role = {'id': self.admin_role_id, 'name': 'admin'} self.assertTokenContainsRole(token, exp_role) class TrustScopedTokenModelTests(TokenModelTests): def setUp(self): super(TrustScopedTokenModelTests, self).setUp() trustor_domain = PROVIDERS.resource_api.create_domain( uuid.uuid4().hex, core.new_domain_ref() ) trustee_domain = PROVIDERS.resource_api.create_domain( uuid.uuid4().hex, core.new_domain_ref() ) self.trustor = PROVIDERS.identity_api.create_user( core.new_user_ref(trustor_domain['id']) ) self.trustee = PROVIDERS.identity_api.create_user( core.new_user_ref(trustee_domain['id']) ) PROVIDERS.assignment_api.create_grant( self.admin_role_id, user_id=self.trustor['id'], project_id=self.project_id ) def test_mint_trust_scoped_token(self): roles = [{'id': self.admin_role_id}] trust = core.new_trust_ref( self.trustor['id'], self.trustee['id'], project_id=self.project_id ) trust = PROVIDERS.trust_api.create_trust(trust['id'], trust, roles) token = token_model.TokenModel() token.trust_id = trust['id'] token.user_id = self.trustee['id'] token.mint(self.token_id, self.issued_at) self.assertEqual(self.trustee['id'], token.user_id) self.assertEqual(self.trustee['id'], token.trustee['id']) self.assertEqual(self.trustor['id'], token.trustor['id']) self.assertEqual(self.project_id, token.trust_project['id']) self.assertEqual( CONF.identity.default_domain_id, token.trust_project_domain['id'] ) # NOTE(lbragstad): The domain key here should be removed once # https://bugs.launchpad.net/keystone/+bug/1763510 is fixed. exp_role = { 'id': self.admin_role_id, 'name': 'admin', 'domain_id': None } self.assertTokenContainsRole(token, exp_role) def test_mint_trust_scoped_token_fails_when_trustee_domain_disabled(self): roles = [{'id': self.admin_role_id}] trust = core.new_trust_ref( self.trustor['id'], self.trustee['id'], project_id=self.project_id ) trust = PROVIDERS.trust_api.create_trust(trust['id'], trust, roles) PROVIDERS.resource_api.update_domain( self.trustee['domain_id'], {'enabled': False} ) token = token_model.TokenModel() token.trust_id = trust['id'] token.user_id = self.trustee['id'] self.assertRaises( exception.TokenNotFound, token.mint, self.token_id, self.issued_at ) def test_mint_trust_scoped_token_fails_when_trustor_domain_disabled(self): roles = [{'id': self.admin_role_id}] trust = core.new_trust_ref( self.trustor['id'], self.trustee['id'], project_id=self.project_id ) trust = PROVIDERS.trust_api.create_trust(trust['id'], trust, roles) PROVIDERS.resource_api.update_domain( self.trustor['domain_id'], {'enabled': False} ) token = token_model.TokenModel() token.trust_id = trust['id'] token.user_id = self.trustee['id'] self.assertRaises( exception.TokenNotFound, token.mint, self.token_id, self.issued_at ) def test_mint_trust_scoped_token_fails_when_trustor_is_disabled(self): roles = [{'id': self.admin_role_id}] trust = core.new_trust_ref( self.trustor['id'], self.trustee['id'], project_id=self.project_id ) trust = PROVIDERS.trust_api.create_trust(trust['id'], trust, roles) PROVIDERS.identity_api.update_user( self.trustor['id'], {'enabled': False} ) token = token_model.TokenModel() token.trust_id = trust['id'] token.user_id = self.trustee['id'] self.assertRaises( exception.Forbidden, token.mint, self.token_id, self.issued_at ) def test_mint_trust_scoped_token_with_mismatching_users_fails(self): user = core.new_user_ref(CONF.identity.default_domain_id) user = PROVIDERS.identity_api.create_user(user) roles = [{'id': self.admin_role_id}] trust = core.new_trust_ref( self.trustor['id'], self.trustee['id'], project_id=self.project_id ) trust = PROVIDERS.trust_api.create_trust(trust['id'], trust, roles) token = token_model.TokenModel() token.trust_id = trust['id'] token.user_id = user['id'] self.assertRaises( exception.Forbidden, token.mint, self.token_id, self.issued_at ) ",20,870
openstack%2Fpython-tripleoclient~master~Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51,openstack/python-tripleoclient,master,Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51,"Revert ""Allow operators to override docker_insecure_registries""",MERGED,2018-08-01 23:04:42.000000000,2018-08-02 05:01:04.000000000,2018-08-02 05:01:04.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-08-01 23:04:42.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/docker_insecure_registries-91324f140425d8e7.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/644366469e31a74d62d7a48b93e7451188af9b61', 'message': 'Revert ""Allow operators to override docker_insecure_registries""\n\nIt doesn\'t help our operators since they have to hack in undercloud.conf\nto avoid HTTPS errors. Let\'s revert this patch so the default are good\nand we\'ll configure the insecure registries on the ip of undercloud by\ndefault.\n\nThis reverts commit b1a31a70fd27a4dcfcf1a3ec7f4790bf6c3a8b57.\n\nChange-Id: Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51\n'}]",1,588098,644366469e31a74d62d7a48b93e7451188af9b61,10,5,1,3153,,,0,"Revert ""Allow operators to override docker_insecure_registries""

It doesn't help our operators since they have to hack in undercloud.conf
to avoid HTTPS errors. Let's revert this patch so the default are good
and we'll configure the insecure registries on the ip of undercloud by
default.

This reverts commit b1a31a70fd27a4dcfcf1a3ec7f4790bf6c3a8b57.

Change-Id: Ib61ca0dd9bcb60a19fa589445b426c0bb2fb0d51
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/588098/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/docker_insecure_registries-91324f140425d8e7.yaml']",2,644366469e31a74d62d7a48b93e7451188af9b61,revert,,"--- features: - | Allow the operators to override the INSECURE_REGISTRY parameter without hardcoding the local_ip and the admin VIP in all the cases. If the operators want to override the whole parameter, they now can with docker_insecure_registries parameter in undercloud.conf. ",6,15
openstack%2Fopenstack-manuals~master~I57274006978c40278570c06f02e8c5d4bc3be36a,openstack/openstack-manuals,master,I57274006978c40278570c06f02e8c5d4bc3be36a,Fix the missing url,MERGED,2018-08-01 14:06:22.000000000,2018-08-02 04:45:02.000000000,2018-08-02 04:45:02.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 14:06:22.000000000', 'files': ['doc/doc-contrib-guide/source/api-guides.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7d0f5646466549aa6e95871b72840c5e7fff149f', 'message': 'Fix the missing url\n\nChange-Id: I57274006978c40278570c06f02e8c5d4bc3be36a\n'}]",0,587831,7d0f5646466549aa6e95871b72840c5e7fff149f,6,2,1,19779,,,0,"Fix the missing url

Change-Id: I57274006978c40278570c06f02e8c5d4bc3be36a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/31/587831/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/api-guides.rst'],1,7d0f5646466549aa6e95871b72840c5e7fff149f,url-fix,`openstack/governance repository`_.,`openstack/governance repository`.,1,1
openstack%2Ftripleo-heat-templates~master~I1353020f874b348afd98e7ed3832033f85a5267f,openstack/tripleo-heat-templates,master,I1353020f874b348afd98e7ed3832033f85a5267f,QDR for metrics collection purposes,MERGED,2018-06-05 09:03:15.000000000,2018-08-02 04:29:40.000000000,2018-08-02 04:29:40.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-05 09:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cc1c928efdd48a6bc2857b89626c6eb8bb5f051', 'message': ""[WIP] QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 2, 'created': '2018-06-12 09:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12aa8abbe80ae7b449ffdbef5cb8fe443770dc7b', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 3, 'created': '2018-06-14 10:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66f8e02f7d48afd6cabdbc066f612d6a6a167ac6', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 4, 'created': '2018-06-21 10:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b160d30d04fe87327ce6d0fdf36f89c2afc18bce', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 5, 'created': '2018-06-25 09:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b99caf7bf0cce00bb3eb99e586d1e3c83e59c5ad', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 6, 'created': '2018-06-25 19:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f58554681a5e15278e46abd7b7087fe6294888d0', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 7, 'created': '2018-06-25 19:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/479d72d83214863579546547f94b1bdbd3eff974', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 8, 'created': '2018-06-25 20:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/717853edd38f83ab7fe1b25daec8e8bf9e3f408e', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 9, 'created': '2018-06-26 09:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5825fc1101a682f60aae77a02d90f5fd9ad95942', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 10, 'created': '2018-06-27 10:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3adbc39cf91e44e328fdcb3d95d55c5bd7dd01c', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 11, 'created': '2018-06-27 14:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3e6568056f991e26d366b2f3b0bdf7aa3da9b98', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 12, 'created': '2018-06-28 09:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17f73949a30abb961de4c2dbfdde3abe73ca5550', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 13, 'created': '2018-07-03 17:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4ccf8e4d472f56c5e1b135ad5dea531b45001c8', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 14, 'created': '2018-07-09 19:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96faf4728e5c386044378be14d7a9362b5dc66e1', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 15, 'created': '2018-07-11 07:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1de0b3cd9e6e0a58c97145d7d1929d6aea05e74', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 16, 'created': '2018-07-16 14:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4d6f7316895d25785b550d1d5faafaacc82e872', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 17, 'created': '2018-07-17 15:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2eb53460756883575e78f6d800855cd2c852f4b8', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 18, 'created': '2018-07-20 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0535bfbb1080031771c23f3deaf630bcde9f549a', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 19, 'created': '2018-07-22 20:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dadae1c0850358ebc0901330ab1aaa322d564d49', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 20, 'created': '2018-07-24 09:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e4fc404a04f977e519a3489c0abf2f670d9127d', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 21, 'created': '2018-07-30 09:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02c6efb95d49e74c0b1121367775d2c18f03ed42', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 22, 'created': '2018-07-31 16:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a945bce533afcb0725fad307f63bb60f7af3e772', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}, {'number': 23, 'created': '2018-07-31 21:55:45.000000000', 'files': ['docker/services/metrics/collectd.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'releasenotes/notes/metrics-qdr-97c00cc8059963fa.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'docker/services/metrics/qdr.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/CephObject.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'tools/yaml-validate.py', 'roles/CephFile.yaml', 'network/service_net_map.j2.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'environments/collectd-environment.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/Telemetry.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'environments/services/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b76d7623ac15c94f80fbbc1a5701331147fee52d', 'message': ""QDR for metrics collection purposes\n\nThis patch adds composable new service (QDR) for containerized deployments.\nMetrics QDR will run on each overcloud node in 'edge' mode. This basically\nmeans that there is a possibility that there will be two QDRs running\non controllers in case that oslo messaging is deployed. This is a reason why\nwe need separate composable service for this use case.\n\nDepends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd\nDepends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f\nDepends-On: I73f988d05840eca44949f13f248f86d094a57c46\nChange-Id: I1353020f874b348afd98e7ed3832033f85a5267f\n""}]",2,572312,b76d7623ac15c94f80fbbc1a5701331147fee52d,137,11,23,5241,,,0,"QDR for metrics collection purposes

This patch adds composable new service (QDR) for containerized deployments.
Metrics QDR will run on each overcloud node in 'edge' mode. This basically
means that there is a possibility that there will be two QDRs running
on controllers in case that oslo messaging is deployed. This is a reason why
we need separate composable service for this use case.

Depends-On: If9e3658d304c3071f53ecb1c42796d2603875fcd
Depends-On: I68f39b6bda02ba3920f2ab1cf2df0bd54ad7453f
Depends-On: I73f988d05840eca44949f13f248f86d094a57c46
Change-Id: I1353020f874b348afd98e7ed3832033f85a5267f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/572312/6 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/collectd.yaml', 'docker/services/metrics/qdr.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'environments/collectd-environment.yaml', 'environments/services/collectd.yaml']",5,8cc1c928efdd48a6bc2857b89626c6eb8bb5f051,feature/collectd-qdrouterd-integration, OS::TripleO::Services::Collectd: ../../docker/services/metrics/collectd.yaml, OS::TripleO::Services::Collectd: ../../docker/services/collectd.yaml,213,3
openstack%2Ftripleo-common~master~I73f988d05840eca44949f13f248f86d094a57c46,openstack/tripleo-common,master,I73f988d05840eca44949f13f248f86d094a57c46,Make MetricsQdr service use qdrouterd image,MERGED,2018-06-28 09:47:58.000000000,2018-08-02 04:29:39.000000000,2018-08-02 04:29:39.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 8871}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 09:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/438b2feee214a51e5e17fb71712d5baed1a7da1f', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}, {'number': 2, 'created': '2018-07-03 17:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b171008589b65c4cb1324d774bbda8a11918703', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}, {'number': 3, 'created': '2018-07-25 14:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9d49099081725ebb19a66931f2d1149847b2f55', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}, {'number': 4, 'created': '2018-07-30 09:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f43f562b9fd674b515234fd6887bbe3c1fe5cfc4', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}, {'number': 5, 'created': '2018-07-31 16:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f357346c59e03219823a0a75f11b146db3dc0ea1', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}, {'number': 6, 'created': '2018-07-31 21:54:28.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3406cf04803482bf91c2a0ca1ef954f697a90a49', 'message': 'Make MetricsQdr service use qdrouterd image\n\nThere is no reason to not have MetricsQdr service use the same image\nas Qdrouterd service for Oslo messaging.\n\nChange-Id: I73f988d05840eca44949f13f248f86d094a57c46\n'}]",0,578749,3406cf04803482bf91c2a0ca1ef954f697a90a49,60,9,6,5241,,,0,"Make MetricsQdr service use qdrouterd image

There is no reason to not have MetricsQdr service use the same image
as Qdrouterd service for Oslo messaging.

Change-Id: I73f988d05840eca44949f13f248f86d094a57c46
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/578749/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,438b2feee214a51e5e17fb71712d5baed1a7da1f,feature/collectd-qdrouterd-integration, - DockerMetricsQdrConfigImage - DockerMetricsQdrImage - OS::TripleO::Services::MetricsQdr,,3,0
openstack%2Fpython-zunclient~master~I2965e3a8f4560e78f14f32f7bfc86ad288da5751,openstack/python-zunclient,master,I2965e3a8f4560e78f14f32f7bfc86ad288da5751,Modify ca certificate parameter in the client,MERGED,2018-08-02 02:12:09.000000000,2018-08-02 04:02:31.000000000,2018-08-02 04:02:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 02:12:09.000000000', 'files': ['zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/a1c64d9fa2f5bebf8bd1213832fd348bbe1ddb4e', 'message': 'Modify ca certificate parameter in the client\n\nChange-Id: I2965e3a8f4560e78f14f32f7bfc86ad288da5751\nCloses-Bug: #1784972\n'}]",0,588116,a1c64d9fa2f5bebf8bd1213832fd348bbe1ddb4e,6,2,1,24115,,,0,"Modify ca certificate parameter in the client

Change-Id: I2965e3a8f4560e78f14f32f7bfc86ad288da5751
Closes-Bug: #1784972
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/16/588116/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/tests/unit/test_shell.py']",3,a1c64d9fa2f5bebf8bd1213832fd348bbe1ddb4e,bug/1784972," endpoint_override=None, insecure=False, cacert=None, endpoint_override=None, insecure=False, cacert=None, endpoint_override=None, insecure=False, cacert=None, cacert=None,"," endpoint_override=None, insecure=False, endpoint_override=None, insecure=False, endpoint_override=None, insecure=False,",11,7
openstack%2Fkeystone~master~Ic1d5466bc26c76886333f00b6962886fd2ce32fd,openstack/keystone,master,Ic1d5466bc26c76886333f00b6962886fd2ce32fd,Move unenforced_api decorator to module function,MERGED,2018-07-25 20:03:38.000000000,2018-08-02 03:47:59.000000000,2018-08-02 03:47:59.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-25 20:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/620c7e44209a19d01a21f98ed75d2e55b14c1c44', 'message': 'Move unenforced_api decorator to module function\n\nMove the unenforced_api decorator off the APIBase object and into\nthe module. It is likely the code would require calling the decorator\nfrom the module level anyway since the Resource is added to a list\nthat is a property of the API. Moving the decorator makes it so the\ncall is more akin to @keystone_flask.unenforced_api instead of\n@keystone_flask.APIBase.unenforced_api.\n\nChange-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd\nPartial-Bug: #1776504\n'}, {'number': 2, 'created': '2018-07-26 17:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6275aa826d49c2640b6231acf32e229016c2ec9a', 'message': 'Move unenforced_api decorator to module function\n\nMove the unenforced_api decorator off the APIBase object and into\nthe module. It is likely the code would require calling the decorator\nfrom the module level anyway since the Resource is added to a list\nthat is a property of the API. Moving the decorator makes it so the\ncall is more akin to @keystone_flask.unenforced_api instead of\n@keystone_flask.APIBase.unenforced_api.\n\nChange-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd\nPartial-Bug: #1776504\n'}, {'number': 3, 'created': '2018-07-31 17:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6fab4497c8816e4197b2c8cb1fb11dbbbf25f576', 'message': 'Move unenforced_api decorator to module function\n\nMove the unenforced_api decorator off the APIBase object and into\nthe module. It is likely the code would require calling the decorator\nfrom the module level anyway since the Resource is added to a list\nthat is a property of the API. Moving the decorator makes it so the\ncall is more akin to @keystone_flask.unenforced_api instead of\n@keystone_flask.APIBase.unenforced_api.\n\nChange-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd\nPartial-Bug: #1776504\n'}, {'number': 4, 'created': '2018-08-01 18:22:52.000000000', 'files': ['keystone/tests/unit/server/test_keystone_flask.py', 'keystone/server/flask/common.py', 'keystone/server/flask/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/da4eb43f5c74ffc18af3664545c95476c5123d5c', 'message': 'Move unenforced_api decorator to module function\n\nMove the unenforced_api decorator off the APIBase object and into\nthe module. It is likely the code would require calling the decorator\nfrom the module level anyway since the Resource is added to a list\nthat is a property of the API. Moving the decorator makes it so the\ncall is more akin to @keystone_flask.unenforced_api instead of\n@keystone_flask.APIBase.unenforced_api.\n\nChange-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd\nPartial-Bug: #1776504\n'}]",0,585869,da4eb43f5c74ffc18af3664545c95476c5123d5c,17,4,4,2903,,,0,"Move unenforced_api decorator to module function

Move the unenforced_api decorator off the APIBase object and into
the module. It is likely the code would require calling the decorator
from the module level anyway since the Resource is added to a list
that is a property of the API. Moving the decorator makes it so the
call is more akin to @keystone_flask.unenforced_api instead of
@keystone_flask.APIBase.unenforced_api.

Change-Id: Ic1d5466bc26c76886333f00b6962886fd2ce32fd
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/69/585869/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/server/test_keystone_flask.py', 'keystone/server/flask/common.py', 'keystone/server/flask/__init__.py']",3,620c7e44209a19d01a21f98ed75d2e55b14c1c44,bug/1776504,"from keystone.server.flask.common import unenforced_api # noqa 'full_url', 'unenforced_api')", 'full_url'),21,20
openstack%2Fheat~stable%2Focata~If6eeff7d3212d71891311a4506ec6be4a1a30fa2,openstack/heat,stable/ocata,If6eeff7d3212d71891311a4506ec6be4a1a30fa2,Install guide bug fix: incorrect auth_uri for ec2authtoken,MERGED,2017-09-15 17:51:02.000000000,2018-08-02 03:43:35.000000000,2018-08-02 03:43:35.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 17:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c0e07e64d51eb526bf4b11e0f35e0653aeff6745', 'message': ""Install guide bug fix: incorrect auth_uri for ec2authtoken\n\nKeystone doesn't expose /ec2tokens path on non-versioned base url. So\nwhen auth_uri under ec2authtoken section in heat.conf is set to\nnon-versioned keystone url (e.g., http://localhost:5000), heat-api-cfn's\ncalls for authentication return 404 (Not Found) error.\n\nThis fix updates the install guides to specify proper versioned url\nfor auth_uri param.\n\nChange-Id: If6eeff7d3212d71891311a4506ec6be4a1a30fa2\n""}, {'number': 2, 'created': '2017-11-02 19:55:38.000000000', 'files': ['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/475051bcb197698f4643e88b6c453bc53d349618', 'message': ""Install guide bug fix: incorrect auth_uri for ec2authtoken\n\nKeystone doesn't expose /ec2tokens path on non-versioned base url. So\nwhen auth_uri under ec2authtoken section in heat.conf is set to\nnon-versioned keystone url (e.g., http://localhost:5000), heat-api-cfn's\ncalls for authentication return 404 (Not Found) error.\n\nThis fix updates the install guides to specify proper versioned url\nfor auth_uri param.\n\nNote this is a stable branch only fix due to\ne18a523c9960ac5640eb9fefd4f447ae435cd3f4 landing on master\n\nChange-Id: If6eeff7d3212d71891311a4506ec6be4a1a30fa2\n(cherry-picked from commit f18788ecd8237ae04158c9d0326d1c0504dd604d)\n""}]",0,504477,475051bcb197698f4643e88b6c453bc53d349618,19,8,2,10583,,,0,"Install guide bug fix: incorrect auth_uri for ec2authtoken

Keystone doesn't expose /ec2tokens path on non-versioned base url. So
when auth_uri under ec2authtoken section in heat.conf is set to
non-versioned keystone url (e.g., http://localhost:5000), heat-api-cfn's
calls for authentication return 404 (Not Found) error.

This fix updates the install guides to specify proper versioned url
for auth_uri param.

Note this is a stable branch only fix due to
e18a523c9960ac5640eb9fefd4f447ae435cd3f4 landing on master

Change-Id: If6eeff7d3212d71891311a4506ec6be4a1a30fa2
(cherry-picked from commit f18788ecd8237ae04158c9d0326d1c0504dd604d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/504477/1 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/install-obs.rst', 'install-guide/source/install-rdo.rst', 'install-guide/source/install-ubuntu.rst']",3,c0e07e64d51eb526bf4b11e0f35e0653aeff6745,ocata, auth_uri = http://controller:5000/v3, auth_uri = http://controller:5000,3,3
openstack%2Fheat~stable%2Fqueens~I9275610931a174919076330ec443f54f68cc1371,openstack/heat,stable/queens,I9275610931a174919076330ec443f54f68cc1371,Ignore NotFound error in prepare_for_replace,MERGED,2018-07-31 07:42:14.000000000,2018-08-02 03:43:33.000000000,2018-08-02 03:43:32.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 07:42:14.000000000', 'files': ['heat/engine/resources/openstack/neutron/port.py', 'heat/tests/openstack/neutron/test_neutron_port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/36b0108f8e451bbbadf8b255cebc553337405df5', 'message': ""Ignore NotFound error in prepare_for_replace\n\nIf the port is already deleted in neutron, we don't need to do\nanything.\n\nChange-Id: I9275610931a174919076330ec443f54f68cc1371\nStory: #2003015\nTask: 23035\n(cherry picked from commit 3d542935fbe7def5e785c26a1b6a8b468cfeaa48)\n""}]",0,587317,36b0108f8e451bbbadf8b255cebc553337405df5,6,2,1,8833,,,0,"Ignore NotFound error in prepare_for_replace

If the port is already deleted in neutron, we don't need to do
anything.

Change-Id: I9275610931a174919076330ec443f54f68cc1371
Story: #2003015
Task: 23035
(cherry picked from commit 3d542935fbe7def5e785c26a1b6a8b468cfeaa48)
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/587317/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/port.py', 'heat/tests/openstack/neutron/test_neutron_port.py']",2,36b0108f8e451bbbadf8b255cebc553337405df5,story/2003015-stable/queens," def test_prepare_for_replace_port_not_found(self): t = template_format.parse(neutron_port_template) stack = utils.parse_stack(t) port = stack['port'] port.resource_id = 'test_res_id' port._show_resource = mock.Mock(side_effect=qe.NotFound) port.data_set = mock.Mock() n_client = mock.Mock() port.client = mock.Mock(return_value=n_client) # execute prepare_for_replace port.prepare_for_replace() # check, if the port is not found, do nothing in # prepare_for_replace() self.assertTrue(port._show_resource.called) self.assertFalse(port.data_set.called) self.assertFalse(n_client.update_port.called) ",,26,5
openstack%2Fkeystone~master~Ib668ca18faf42b41bc63558c6634fca96224d195,openstack/keystone,master,Ib668ca18faf42b41bc63558c6634fca96224d195,Remove direct calls to auth.controllers in some tests,MERGED,2018-07-20 21:56:06.000000000,2018-08-02 03:35:21.000000000,2018-08-02 03:35:21.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 21:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f095df4d1a8e9686a6dad650fd511f41986e4d16', 'message': 'Remove direct calls to auth.controllers in some tests\n\nTests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth\nno longer directly instantiate or calls to the auth controllers. The\nonly exception are test classes that are not used, those have had a\nTODO note added to them. This is being done for the conversion to flask\nwhere the auth controllers will no longer exist. All test changes are\ndone outside of the conversion of webob controller -> flask restful\napi.\n\nChange-Id: Ib668ca18faf42b41bc63558c6634fca96224d195\nPartial-Bug: #1776504\n'}, {'number': 2, 'created': '2018-07-20 21:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d58fc0b94229dd9c167ee0adb54e3939a7068866', 'message': 'Remove direct calls to auth.controllers in some tests\n\nTests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth\nno longer directly instantiate or calls to the auth controllers. The\nonly exception are test classes that are not used, those have had a\nTODO note added to them. This is being done for the conversion to flask\nwhere the auth controllers will no longer exist. All test changes are\ndone outside of the conversion of webob controller -> flask restful\napi.\n\nChange-Id: Ib668ca18faf42b41bc63558c6634fca96224d195\nPartial-Bug: #1776504\n'}, {'number': 3, 'created': '2018-07-23 18:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4ac59e4de10e948ae9062b46788ee7eac6e889c1', 'message': 'Remove direct calls to auth.controllers in some tests\n\nTests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth\nno longer directly instantiate or calls to the auth controllers. The\nonly exception are test classes that are not used, those have had a\nTODO note added to them. This is being done for the conversion to flask\nwhere the auth controllers will no longer exist. All test changes are\ndone outside of the conversion of webob controller -> flask restful\napi.\n\nChange-Id: Ib668ca18faf42b41bc63558c6634fca96224d195\nPartial-Bug: #1776504\n'}, {'number': 4, 'created': '2018-07-26 17:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/994b4823d58069ac5ad3b737155312c3c99031d5', 'message': 'Remove direct calls to auth.controllers in some tests\n\nTests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth\nno longer directly instantiate or calls to the auth controllers. The\nonly exception are test classes that are not used, those have had a\nTODO note added to them. This is being done for the conversion to flask\nwhere the auth controllers will no longer exist. All test changes are\ndone outside of the conversion of webob controller -> flask restful\napi.\n\nChange-Id: Ib668ca18faf42b41bc63558c6634fca96224d195\nPartial-Bug: #1776504\n'}, {'number': 5, 'created': '2018-08-01 16:57:23.000000000', 'files': ['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6dbd0058421feb9311571b4a921831a7b35bdc72', 'message': 'Remove direct calls to auth.controllers in some tests\n\nTests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth\nno longer directly instantiate or calls to the auth controllers. The\nonly exception are test classes that are not used, those have had a\nTODO note added to them. This is being done for the conversion to flask\nwhere the auth controllers will no longer exist. All test changes are\ndone outside of the conversion of webob controller -> flask restful\napi.\n\nChange-Id: Ib668ca18faf42b41bc63558c6634fca96224d195\nPartial-Bug: #1776504\n'}]",0,584529,6dbd0058421feb9311571b4a921831a7b35bdc72,20,4,5,2903,,,0,"Remove direct calls to auth.controllers in some tests

Tests in keystone.tests.unit.test_v3 and kestone.tests.unit.test_v3_auth
no longer directly instantiate or calls to the auth controllers. The
only exception are test classes that are not used, those have had a
TODO note added to them. This is being done for the conversion to flask
where the auth controllers will no longer exist. All test changes are
done outside of the conversion of webob controller -> flask restful
api.

Change-Id: Ib668ca18faf42b41bc63558c6634fca96224d195
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/584529/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_auth.py']",2,f095df4d1a8e9686a6dad650fd511f41986e4d16,bug/1776504,"import fixtures app = self.loadapp() auth_contexts = [] # NOTE(morgan): This __new__ is used to inject the auth context into # the auth_contexts list so that we can perform introspection. This way # we do not need to try and mock out anything deep within keystone's # auth pipeline. Note that we are using MockPatch to ensure we undo # the mock after the fact. def __new__(cls, *args, **kwargs): inst = super(auth.core.AuthContext, cls).__new__( cls, *args, **kwargs) auth_contexts.append(inst) return inst self.useFixture(fixtures.MockPatch( 'keystone.auth.core.AuthContext.__new__', __new__)) with app.test_client() as c: c.environ_base.update(self.build_external_auth_environ( self.default_domain_user['name'])) auth_req = self.build_authentication_request() c.post('/v3/auth/tokens', json=auth_req) self.assertEqual(self.default_domain_user['id'], auth_contexts[-1]['user_id']) with app.test_client() as c: c.environ_base.update(self.build_external_auth_environ( user['name'])) auth_req = self.build_authentication_request() c.post('/v3/auth/tokens', json=auth_req) self.assertEqual(self.default_domain_user['id'], auth_contexts[-1]['user_id']) auth_contexts[-1]['user_id']) app = self.loadapp() with app.test_client() as c: c.environ_base.update(self.build_external_auth_environ( self.user['name'])) auth_request = self.build_authentication_request() c.post('/v3/auth/tokens', json=auth_request, expected_status_code=http_client.UNAUTHORIZED) app = self.loadapp() with app.test_client() as c: auth_data = self.build_authentication_request( user_domain_id=self.default_domain_user['domain_id'], username=self.default_domain_user['name'], password=self.default_domain_user['password']) c.post('/v3/auth/tokens', json=auth_data) password=self.user['password']) auth_data['auth']['identity']['methods'] = [""password"", ""external""] auth_data['auth']['identity']['external'] = {} app = self.loadapp() with app.test_client() as c: c.post('/v3/auth/tokens', json=auth_data, expected_status_code=http_client.UNAUTHORIZED) app = self.loadapp() password='badpassword') with app.test_client() as c: c.post('/v3/auth/tokens', json=auth_data, expected_status_code=http_client.UNAUTHORIZED) app = self.loadapp() with app.test_client() as c: c.environ_base.update(self.build_external_auth_environ( remote_user)) auth_data = self.build_authentication_request() c.post('/v3/auth/tokens', json=auth_data, expected_status_code=http_client.UNAUTHORIZED) # TODO(morgan): Determine if these test cases should be run. If so, retro-fit # them to run.# TODO(morgan): Determine if these test cases should be run. If so, retro-fit # them to run. app = self.loadapp() with app.test_client() as c: c.environ_base.update(self.build_external_auth_environ( self.default_domain_user['name'])) auth_data = self.build_authentication_request() c.post('/v3/auth/tokens', json=auth_data, expected_status_code=http_client.UNAUTHORIZED)"," api = auth.controllers.Auth() context, auth_info, auth_context = self.build_external_auth_request( self.default_domain_user['name']) api.authenticate(context, auth_info, auth_context) self.assertEqual(self.default_domain_user['id'], auth_context['user_id']) context, auth_info, auth_context = self.build_external_auth_request( user[""name""]) api.authenticate(context, auth_info, auth_context) auth_context['user_id']) api = auth.controllers.Auth() context, auth_info, auth_context = self.build_external_auth_request( self.user['name']) self.assertRaises(exception.Unauthorized, api.authenticate, context, auth_info, auth_context) api = auth.controllers.Auth() auth_data = self.build_authentication_request( user_domain_id=self.default_domain_user['domain_id'], username=self.default_domain_user['name'], password=self.default_domain_user['password'])['auth'] context, auth_info, auth_context = self.build_external_auth_request( self.default_domain_user['name'], auth_data=auth_data) api.authenticate(context, auth_info, auth_context) password=self.user['password'])['auth'] auth_data['identity']['methods'] = [""password"", ""external""] auth_data['identity']['external'] = {} api = auth.controllers.Auth() auth_info = auth.core.AuthInfo(auth_data) auth_context = auth.core.AuthContext(extras={}, methods=[]) self.assertRaises(exception.Unauthorized, api.authenticate, self.make_request(), auth_info, auth_context) api = auth.controllers.Auth() password='badpassword')['auth'] context, auth_info, auth_context = self.build_external_auth_request( self.default_domain_user['name'], auth_data=auth_data) self.assertRaises(exception.Unauthorized, api.authenticate, context, auth_info, auth_context) api = auth.controllers.Auth() request, auth_info, auth_context = self.build_external_auth_request( remote_user) self.assertRaises(exception.Unauthorized, api.authenticate, request, auth_info, auth_context) api = auth.controllers.Auth() request, auth_info, auth_context = self.build_external_auth_request( self.default_domain_user['name']) self.assertRaises(exception.Unauthorized, api.authenticate, request, auth_info, auth_context)",86,66
openstack%2Ftempest~master~I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d,openstack/tempest,master,I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d,refactor: Prepare test_list_projects for pre-prov,MERGED,2018-07-17 21:07:21.000000000,2018-08-02 03:35:19.000000000,2018-08-02 03:35:19.000000000,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 20378}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-07-17 21:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf6f965e4e123a9625f7550718565b3d2e1b1d04', 'message': 'move some project list tests to static (part 1)\n\nThis is part 1 of 2 commits to use existing credentials to execute\npart 1 aims to move\nthe following tests:\n  * test_list_projects\n  * test_list_projects_with_name\nso that users with a cloud using the pre-provisioned credential\nprovider can execute these tests. Part 2 will refactor.\n\nThe other tests cannot be moved because they require resources to\nbe created explained below:\n  * test_list_projects_with_parent\n    - if this test requires a project with a parent then we cannot\n      use pre-provisioned credentials because there is no way to\n      provide an account with a parent using the current\n      implementation of the pre-provisioned credential provider.\n  * test_list_projects_with_enabled\n    - if this test requires projects that are disabled then we\n      cannot use pre-provisioned credentials because there is no\n      way to provide an account that is disabled with the current\n      implementation of the pre-provisioned credential provider.\n\nChange-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d\n'}, {'number': 2, 'created': '2018-07-18 14:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4cda02a80adae4192c17ad37c789deb636f0aaec', 'message': 'move some project list tests to static (part 1)\n\nThis is part 1 of 2 commits to use existing credentials to execute\npart 1 aims to move\nthe following tests:\n  * test_list_projects\n  * test_list_projects_with_name\nso that users with a cloud using the pre-provisioned credential\nprovider can execute these tests. Part 2 will refactor.\n\nThe other tests cannot be moved because they require resources to\nbe created explained below:\n  * test_list_projects_with_parent\n    - if this test requires a project with a parent then we cannot\n      use pre-provisioned credentials because there is no way to\n      provide an account with a parent using the current\n      implementation of the pre-provisioned credential provider.\n  * test_list_projects_with_enabled\n    - if this test requires projects that are disabled then we\n      cannot use pre-provisioned credentials because there is no\n      way to provide an account that is disabled with the current\n      implementation of the pre-provisioned credential provider.\n\nChange-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d\n'}, {'number': 3, 'created': '2018-07-19 16:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f328a454afee17bca27b4ddcd812e3cd5ad92ef4', 'message': ""refactor: Prepare test_list_projects for pre-prov\n\nThis is part 1 of 2 commits that aim to move tests from only being\nexecuted with the dynamic creds credential provider.\n\nPart 1 does some initial refactoring and Part 2 will move the tests\nand finish any other refactoring that's needed.\n\nChange-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d\n""}, {'number': 4, 'created': '2018-07-19 20:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8412f21ed991ca257886c206fa1da8118b1adb1a', 'message': ""refactor: Prepare test_list_projects for pre-prov\n\nThis is part 1 of 2 commits that aim to move tests from only being\nexecuted with the dynamic creds credential provider.\n\nPart 1 does some initial refactoring and Part 2 will move the tests\nand finish any other refactoring that's needed.\n\nChange-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d\n""}, {'number': 5, 'created': '2018-07-25 12:33:46.000000000', 'files': ['tempest/api/identity/admin/v3/test_list_projects.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/992237db1b1954923da784f2b411ad2e23b031a3', 'message': ""refactor: Prepare test_list_projects for pre-prov\n\nThis is part 1 of 2 commits that aim to move tests from only being\nexecuted with the dynamic creds credential provider.\n\nPart 1 does some initial refactoring and Part 2 will move the tests\nand finish any other refactoring that's needed.\n\nChange-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d\n""}]",1,583385,992237db1b1954923da784f2b411ad2e23b031a3,40,9,5,20378,,,0,"refactor: Prepare test_list_projects for pre-prov

This is part 1 of 2 commits that aim to move tests from only being
executed with the dynamic creds credential provider.

Part 1 does some initial refactoring and Part 2 will move the tests
and finish any other refactoring that's needed.

Change-Id: I0a77350bb0832f0ecf5c50de48b81a8bb9609d2d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/583385/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_list_projects.py'],1,cf6f965e4e123a9625f7550718565b3d2e1b1d04,refactor,"from tempest import configCONF = config.CONF class ListProjectsStaticTestJSON(base.BaseIdentityV3AdminTest): # NOTE: force_tenant_isolation is true in the base class by default but # overridden to false here to allow test execution for clouds using the # pre-provisioned credentials provider. force_tenant_isolation = False @classmethod def resource_setup(cls): super(ListProjectsStaticTestJSON, cls).resource_setup() cls.domain_id = CONF.identity.default_domain_id cls.project_ids = list() cls.p1_name = cls.os_primary.credentials.project_name cls.p1 = cls.projects_client.show_project( cls.os_primary.credentials.project_id)['project'] cls.project_ids.append(cls.p1['id']) cls.p2 = cls.projects_client.show_project( cls.os_admin.credentials.project_id)['project'] cls.project_ids.append(cls.p2['id']) @decorators.idempotent_id('1d830662-22ad-427c-8c3e-4ec854b0af44') def test_list_projects(self): # List projects list_projects = self.projects_client.list_projects()['projects'] for p in self.project_ids: show_project = self.projects_client.show_project(p)['project'] self.assertIn(show_project, list_projects) @decorators.idempotent_id('fa178524-4e6d-4925-907c-7ab9f42c7e26') def test_list_projects_with_name(self): # List projects with name self._list_projects_with_params({'name': self.p1_name}, 'name') @decorators.idempotent_id('fab13f3c-f6a6-4b9f-829b-d32fd44fdf10') def test_list_projects_with_domains(self): # List projects with domain self._list_projects_with_params( {'domain_id': self.domain_id}, 'domain_id') def _list_projects_with_params(self, params, key): body = self.projects_client.list_projects(params)['projects'] self.assertIn(self.p1[key], map(lambda x: x[key], body)) # This function will be refactored because the following fails with # http://paste.openstack.org/show/726145/ due to using the default # domain. #self.assertNotIn(self.p2[key], map(lambda x: x[key], body))"," @decorators.idempotent_id('1d830662-22ad-427c-8c3e-4ec854b0af44') def test_list_projects(self): # List projects list_projects = self.projects_client.list_projects()['projects'] for p in self.project_ids: show_project = self.projects_client.show_project(p)['project'] self.assertIn(show_project, list_projects) @decorators.idempotent_id('fab13f3c-f6a6-4b9f-829b-d32fd44fdf10') def test_list_projects_with_domains(self): # List projects with domain self._list_projects_with_params( {'domain_id': self.domain['id']}, 'domain_id') @decorators.idempotent_id('fa178524-4e6d-4925-907c-7ab9f42c7e26') def test_list_projects_with_name(self): # List projects with name self._list_projects_with_params({'name': self.p1_name}, 'name') ",51,20
openstack%2Fkeystone~master~I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8,openstack/keystone,master,I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8,Update parameters in sp and idp,ABANDONED,2017-08-17 09:15:16.000000000,2018-08-02 03:29:14.000000000,,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 21420}, {'_account_id': 23140}, {'_account_id': 25273}, {'_account_id': 26126}]","[{'number': 1, 'created': '2017-08-17 09:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee948722b54185d9e5a8991b856f0c47db8fd95b', 'message': 'Update parameters in sp and idp\n\nChange-Id: I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8\n'}, {'number': 2, 'created': '2017-08-18 05:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f9ee6bdf4ff7b4e22d61f6c68270aebee4d5de18', 'message': 'Update parameters in sp and idp\n\nChange-Id: I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8\n'}, {'number': 3, 'created': '2017-09-04 02:00:26.000000000', 'files': ['api-ref/source/v3-ext/federation/identity-provider/parameters.yaml', 'api-ref/source/v3-ext/federation/service-provider/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8302029a1376ec4138f83eca4940bd99236d40f', 'message': 'Update parameters in sp and idp\n\nSome optional parameters in identity provider and service provider\nshould be not required. This patch correct and add explain about why\nthe parameters are not required.\n\nChange-Id: I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8\n'}]",5,494449,e8302029a1376ec4138f83eca4940bd99236d40f,16,7,3,25273,,,0,"Update parameters in sp and idp

Some optional parameters in identity provider and service provider
should be not required. This patch correct and add explain about why
the parameters are not required.

Change-Id: I8a3769d87fdfcf4becd3b6c72ce8d5955102c5f8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/49/494449/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3-ext/federation/identity-provider/parameters.yaml', 'api-ref/source/v3-ext/federation/service-provider/parameters.yaml']",2,ee948722b54185d9e5a8991b856f0c47db8fd95b,sp-idp-parameters, required: false, required: true,4,4
openstack%2Fkeystone~master~Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c,openstack/keystone,master,Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c,Don't need set ephemeral user's domain when mapping,ABANDONED,2017-08-17 07:16:58.000000000,2018-08-02 03:28:30.000000000,,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 25273}]","[{'number': 1, 'created': '2017-08-17 07:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bbe34b94080734a81191ff79b8786268ad371162', 'message': ""Don't need set ephemeral user's domain when mapping\n\nNot need to set ephemeral user's domain when mapping user,\nwhich will be contructed during mapped token creation.\nhttps://github.com/openstack/keystone/blob/master/keystone\n/token/providers/common.py#L504\n\nChange-Id: Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c\n""}, {'number': 2, 'created': '2017-08-17 11:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5f81eaf74771749adc9ab39b38d629086964f2c', 'message': ""Don't need set ephemeral user's domain when mapping\n\nNot need to set ephemeral user's domain when mapping user,\nwhich will be contructed during mapped token creation.\nhttps://github.com/openstack/keystone/blob/master/keystone\n/token/providers/common.py#L504\n\nChange-Id: Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c\n""}, {'number': 3, 'created': '2017-08-18 02:02:49.000000000', 'files': ['keystone/federation/utils.py', 'keystone/tests/unit/contrib/federation/test_utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8d14f0ce582c84baf47cb53cda24400170d73c3d', 'message': ""Don't need set ephemeral user's domain when mapping\n\nNot need to set ephemeral user's domain when mapping user,\nwhich will be contructed during mapped token creation.\nhttps://github.com/openstack/keystone/blob/master/keystone\n/token/providers/common.py#L504\n\nChange-Id: Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c\n""}]",2,494405,8d14f0ce582c84baf47cb53cda24400170d73c3d,11,4,3,25273,,,0,"Don't need set ephemeral user's domain when mapping

Not need to set ephemeral user's domain when mapping user,
which will be contructed during mapped token creation.
https://github.com/openstack/keystone/blob/master/keystone
/token/providers/common.py#L504

Change-Id: Iaee47ab32c4a07c4682024ac8d1bebc30a7fbc5c
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/494405/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/utils.py'],1,bbe34b94080734a81191ff79b8786268ad371162,ephemeral-user-domain,, if user_type == UserType.EPHEMERAL: user['domain'] = { 'id': CONF.federation.federated_domain_name } ,0,5
openstack%2Fkeystone~master~I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e,openstack/keystone,master,I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e,Improper handle about building list of token deletion,ABANDONED,2017-06-17 02:59:36.000000000,2018-08-02 03:28:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 17860}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 25273}]","[{'number': 1, 'created': '2017-06-17 02:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/71ea6bf54bf94d78c29095b8bb345d6a19b1bb5d', 'message': 'Improper handle about building list of token deletion\n\nIf deleting a role, we should iterate over the assignments\nfor this role and build the list of tokens we need to delete.\nIn order to minimize the number of token list to delete,\nremove any redundant user+project deletions.\n\nI think simplify the list for the same user is Improper,\nthe same user and different project target different tokens.\n\nChange-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e\n'}, {'number': 2, 'created': '2017-06-27 11:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5a57daa55cb3cd00b009de3497cca4b763539da4', 'message': ""Improper handle about building list of token deletion\n\nIf deleting a role, we should iterate over the assignments\nfor this role and build the list of tokens we need to delete.\nIn order to minimize the number of token list to delete,\nremove any redundant user+project deletions.\n\nI think simplify the list for the same user is Improper,\nthe same user and different project target different tokens.\nAt the same time, original processing actually doesn't work\ndue to user_ids is never added to.\n\nCloses-Bug: 1700748\nChange-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e\n""}, {'number': 3, 'created': '2017-10-12 02:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7bc77ceb75c0cf09c8098eeed2de99fcf64c4b4e', 'message': ""Improper handle about building list of token deletion\n\nIf deleting a role, we should iterate over the assignments\nfor this role and build the list of tokens we need to delete.\nIn order to minimize the number of token list to delete,\nremove any redundant user+project deletions.\n\nI think simplify the list for the same user is Improper,\nthe same user and different project target different tokens.\nAt the same time, original processing actually doesn't work\ndue to user_ids is never added to.\n\nCloses-Bug: 1700748\nChange-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e\n""}, {'number': 4, 'created': '2017-10-13 01:36:04.000000000', 'files': ['keystone/assignment/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6c1ad1ae7fad5d743fdafeb0c052a2653358d8e1', 'message': ""Improper handle about building list of token deletion\n\nIf deleting a role, we should iterate over the assignments\nfor this role and build the list of tokens we need to delete.\nIn order to minimize the number of token list to delete,\nremove any redundant user+project deletions.\n\nI think simplify the list for the same user is Improper,\nthe same user and different project target different tokens.\nAt the same time, original processing actually doesn't work\ndue to user_ids is never added to.\n\nCloses-Bug: 1700748\nChange-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e\n""}]",10,475100,6c1ad1ae7fad5d743fdafeb0c052a2653358d8e1,20,8,4,25273,,,0,"Improper handle about building list of token deletion

If deleting a role, we should iterate over the assignments
for this role and build the list of tokens we need to delete.
In order to minimize the number of token list to delete,
remove any redundant user+project deletions.

I think simplify the list for the same user is Improper,
the same user and different project target different tokens.
At the same time, original processing actually doesn't work
due to user_ids is never added to.

Closes-Bug: 1700748
Change-Id: I1fd25eec458b86232b17b17d2c8e2dcfbdc2a04e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/475100/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/core.py'],1,71ea6bf54bf94d78c29095b8bb345d6a19b1bb5d,bug/1700748, # same user+project is also planned. user_and_project_ids_to_action = list(set(user_and_project_ids)), user_ids = set() # same user is also planned. user_and_project_ids_to_action = [] for user_and_project_id in user_and_project_ids: if user_and_project_id[0] not in user_ids: user_and_project_ids_to_action.append(user_and_project_id),2,6
openstack%2Fnetworking-odl~master~I7234424b3ec4111f283ae4424a17de429c7eff9c,openstack/networking-odl,master,I7234424b3ec4111f283ae4424a17de429c7eff9c,use callback payloads for PRECOMMIT_UPDATE events,MERGED,2017-12-21 15:51:52.000000000,2018-08-02 03:20:56.000000000,2018-03-16 22:07:14.000000000,"[{'_account_id': 333}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2017-12-21 15:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4c715f5c0b2f5c7b4d0ce274adbc399431aa8b06', 'message': 'use callback payloads for PRECOMMIT_UPDATE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib\nbase payload object must be handled for PRECOMMIT_UPDATE events while\nat the same time supporting the existing callback args for other event\ntypes. This requires introducing a few temporary shims to handle both\nstyles of callback args.\n\nDepends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c\n'}, {'number': 2, 'created': '2018-02-16 21:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/81dced6dc4b07e1bfd57ae44a2273a167d639472', 'message': 'use callback payloads for PRECOMMIT_UPDATE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib\nbase payload object must be handled for PRECOMMIT_UPDATE events while\nat the same time supporting the existing callback args for other event\ntypes. This requires introducing a few temporary shims to handle both\nstyles of callback args.\n\nDepends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c\n'}, {'number': 3, 'created': '2018-03-08 21:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7f7ffbabc061530bda75b30e92892984cf633fc3', 'message': 'use callback payloads for PRECOMMIT_UPDATE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib\nbase payload object must be handled for PRECOMMIT_UPDATE events while\nat the same time supporting the existing callback args for other event\ntypes. This requires introducing a few temporary shims to handle both\nstyles of callback args.\n\nDepends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c\n'}, {'number': 4, 'created': '2018-03-13 14:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bafa52075a562e04c5c65ce3c34f27c2f4acecaa', 'message': 'use callback payloads for PRECOMMIT_UPDATE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib\nbase payload object must be handled for PRECOMMIT_UPDATE events while\nat the same time supporting the existing callback args for other event\ntypes. This requires introducing a few temporary shims to handle both\nstyles of callback args.\n\nDepends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c\n'}, {'number': 5, 'created': '2018-03-16 17:37:36.000000000', 'files': ['networking_odl/common/callback.py', 'networking_odl/trunk/trunk_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/638f35473b3fb1a399f3fadb303a752ed273fa3a', 'message': 'use callback payloads for PRECOMMIT_UPDATE events\n\nThis patch switches callbacks over to the payload object style events\n[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib\nbase payload object must be handled for PRECOMMIT_UPDATE events while\nat the same time supporting the existing callback args for other event\ntypes. This requires introducing a few temporary shims to handle both\nstyles of callback args.\n\nDepends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads\n\nChange-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c\n'}]",0,529631,638f35473b3fb1a399f3fadb303a752ed273fa3a,25,7,5,5367,,,0,"use callback payloads for PRECOMMIT_UPDATE events

This patch switches callbacks over to the payload object style events
[1] for PRECOMMIT_UPDATE based notifications. To do so a neutron-lib
base payload object must be handled for PRECOMMIT_UPDATE events while
at the same time supporting the existing callback args for other event
types. This requires introducing a few temporary shims to handle both
styles of callback args.

Depends-On: Ie6d27df01cd7b87894efc80946d41eb1ebe25bef

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html#event-payloads

Change-Id: I7234424b3ec4111f283ae4424a17de429c7eff9c
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/31/529631/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/common/callback.py', 'networking_odl/trunk/trunk_driver_v2.py']",2,4c715f5c0b2f5c7b4d0ce274adbc399431aa8b06,use-callback-payloads," def trunk_update_precommit(self, resource, event, trunk_plugin, payload=None): if isinstance(payload, events.EventPayload): # TODO(boden): remove shim once all callbacks use lib paylaods payload.desired_state.update(status=t_consts.ACTIVE_STATUS) data = payload.desired_state.to_dict() trunk_id = payload.resource_id else: payload.current_trunk.update(status=t_consts.ACTIVE_STATUS) data = payload.current_trunk.to_dict() trunk_id = payload.trunk_id self._record_in_journal(payload.context, trunk_id,"," def trunk_update_precommit(self, resource, event, trunk_plugin, payload): payload.current_trunk.update(status=t_consts.ACTIVE_STATUS) data = payload.current_trunk.to_dict() self._record_in_journal(payload.context, payload.trunk_id,",26,9
openstack%2Fnetworking-odl~stable%2Fqueens~I49872b5b65372ac333ad759bb506fac7348c3fa9,openstack/networking-odl,stable/queens,I49872b5b65372ac333ad759bb506fac7348c3fa9,Log exceptions on security group callbacks,MERGED,2018-07-23 02:33:52.000000000,2018-08-02 03:13:12.000000000,2018-08-02 03:13:11.000000000,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 16771}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}, {'_account_id': 28373}]","[{'number': 1, 'created': '2018-07-23 02:33:52.000000000', 'files': ['networking_odl/common/callback.py', 'networking_odl/tests/unit/common/test_callback.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ea930aee5ec873e154499cfb1ab45388f67283aa', 'message': 'Log exceptions on security group callbacks\n\nThis patch adds EXCEPTION-level logging for non-retriable exceptions\nduring security groups and rules callbacks. The reason is that the\ncallback manager triggering these callbacks wont do any logging on its\nown for precommit events. On situations like [1], it was necessary to\nenable debug logging to check the reason behind the error.\n\nRegarding [1], see change [2] for a fix that prevents the exception.\n\n[1] http://jira.opendaylight.org/browse/NETVIRT-896\n[2] https://review.openstack.org/#/c/536935\n\nChange-Id: I49872b5b65372ac333ad759bb506fac7348c3fa9\nco-authored-by: Jaime Caamaño Ruiz <jcaamano@suse.com>\n(cherry picked from commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c)\n'}]",0,584692,ea930aee5ec873e154499cfb1ab45388f67283aa,24,11,1,28373,,,0,"Log exceptions on security group callbacks

This patch adds EXCEPTION-level logging for non-retriable exceptions
during security groups and rules callbacks. The reason is that the
callback manager triggering these callbacks wont do any logging on its
own for precommit events. On situations like [1], it was necessary to
enable debug logging to check the reason behind the error.

Regarding [1], see change [2] for a fix that prevents the exception.

[1] http://jira.opendaylight.org/browse/NETVIRT-896
[2] https://review.openstack.org/#/c/536935

Change-Id: I49872b5b65372ac333ad759bb506fac7348c3fa9
co-authored-by: Jaime Caamaño Ruiz <jcaamano@suse.com>
(cherry picked from commit 496e9a2a7e2827efdf1f060ee4765fc16c1c3e3c)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/584692/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/common/callback.py', 'networking_odl/tests/unit/common/test_callback.py']",2,ea930aee5ec873e154499cfb1ab45388f67283aa,sg-rule-precommit-exception-stable/queens,"import logging def test_callback_exception(self): class TestException(Exception): def __init__(self): pass self._precommit.side_effect = TestException() resource = callback._RESOURCE_MAPPING[resources.SECURITY_GROUP_RULE] op = callback._OPERATION_MAPPING[events.PRECOMMIT_CREATE] rule = mock.Mock() rule_id = rule.get('id') with mock.patch.object(callback, 'LOG') as log_mock: self.assertRaises(TestException, self._test_callback_precommit_for_sg_rules, events.PRECOMMIT_CREATE, odl_const.ODL_CREATE, rule, rule_id) log_mock.log.assert_called_with( logging.ERROR, callback.LOG_TEMPLATE, {'msg': 'Exception from callback', 'op': op, 'res_type': resource, 'res_id': rule_id, 'res_dict': {odl_const.ODL_SG_RULE: rule}, 'data': {odl_const.ODL_SG_RULE: rule, 'security_group_rule_id': rule_id}, 'exc_info': True})",,55,9
openstack%2Fblazar~master~I04954af4db24bbbe92740152d02619b6e82d1455,openstack/blazar,master,I04954af4db24bbbe92740152d02619b6e82d1455,Add release note for response code fixes,MERGED,2018-06-25 08:13:27.000000000,2018-08-02 02:55:36.000000000,2018-08-02 02:55:36.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-25 08:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fe042c4e0a033e765a01f1d874fbc2d6db8a35b5', 'message': ""Releasenote for reponse code fixes\n\nSome of API return invalid response code regardless of its reasons.\nIn the Rocky release, the invalid API response code are fixed to\nalign its code's meanings.\n\nThis patch adds a summary of the code changes happenning in the\nRocky release.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 2, 'created': '2018-06-25 08:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a4a2ed9cd4c114e3c38a889affcd8f0a1ca6607c', 'message': ""Releasenote for reponse code fixes\n\nSome of API return invalid response code regardless of its reasons.\nIn the Rocky release, the invalid API response code are fixed to\nalign its code's meanings.\n\nThis patch adds a summary of the code changes happenning in the\nRocky release.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 3, 'created': '2018-06-25 08:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d973bba9524b914739ee1e0f081808cb1c69277a', 'message': ""Releasenote for reponse code fixes\n\nSome of API return invalid response code regardless of its reasons.\nIn the Rocky release, the invalid API response code are fixed to\nalign its code's meanings.\n\nThis patch adds a summary of the code changes happenning in the\nRocky release.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 4, 'created': '2018-07-03 02:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7b21f2eb09ccef2febd29b4f32ecd5e91aa7d4b6', 'message': ""Releasenote for reponse code fixes\n\nSome of API return invalid response code regardless of its reasons.\nIn the Rocky release, the invalid API response code are fixed to\nalign its code's meanings.\n\nThis patch adds a summary of the code changes happenning in the\nRocky release.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 5, 'created': '2018-07-09 18:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/cb55f7822185f2d638acae5ecc586815c63cdbee', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 6, 'created': '2018-07-10 07:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/893b631fa9e9fd82715d977729b8ecee433757d0', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 7, 'created': '2018-07-10 10:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f36d6661211d2ed7748d22b80862b2c53407d68c', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 8, 'created': '2018-07-10 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/2a40d6b236169120328c930b30caaef33fe5e2f1', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\n""}, {'number': 9, 'created': '2018-07-11 06:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/91b09674461fb97340ba5becd0b66e1512ddf421', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 10, 'created': '2018-07-12 14:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/dde60788b0a1ac7a570c9ee9d1342e677cdc3c94', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 11, 'created': '2018-07-12 16:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/dd2fca539e40f5e98c4fa46156c1bbdcfd75591d', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 12, 'created': '2018-07-17 02:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/27f894405a84b995b2880da65ee50f55f1f7b8bf', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 13, 'created': '2018-07-17 03:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/6afd55f29d18dd8baafbd46f39874940e0f82ffb', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 14, 'created': '2018-07-18 04:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/92c1f69185b052b02499a77aa9fba3c62c571824', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}, {'number': 15, 'created': '2018-07-18 08:02:02.000000000', 'files': ['releasenotes/notes/response-code-fix-in-rocky-2197a9c1516a0ac4.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/2986471cb8727d5538e391e7d417a6b5aa88ccdb', 'message': ""Add release note for response code fixes\n\nSome Blazar API endpoints were returning response codes that didn't\nmatch the actual error. In the Rocky release, these response codes are\nfixed to align with the actual type of error in the code.\n\nThis patch adds a summary of these changes happening in Rocky.\n\nChange-Id: I04954af4db24bbbe92740152d02619b6e82d1455\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\n""}]",3,577747,2986471cb8727d5538e391e7d417a6b5aa88ccdb,42,4,15,8878,,,0,"Add release note for response code fixes

Some Blazar API endpoints were returning response codes that didn't
match the actual error. In the Rocky release, these response codes are
fixed to align with the actual type of error in the code.

This patch adds a summary of these changes happening in Rocky.

Change-Id: I04954af4db24bbbe92740152d02619b6e82d1455
Co-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>
",git fetch https://review.opendev.org/openstack/blazar refs/changes/47/577747/11 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/response-code-fix-in-rocky-2197a9c1516a0ac4.yaml'],1,fe042c4e0a033e765a01f1d874fbc2d6db8a35b5,fix-response-code,--- fixes: - | Some of API response codes are changed to show correct infomation as its code number. The following cases change its response code: * Requesting instance reservation with ``affinity = True``: 500 to 400 * Requesting end_date is earlier than start_date in the Create Lease API: 202 to 400 * Requesting invalid start_date or end_date in the Create Lease API and the Update Lease API: 403 to 400 ,,11,0
openstack%2Fproject-config~master~Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf,openstack/project-config,master,Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf,readthedocs secret : remove prefix,MERGED,2018-08-01 10:52:23.000000000,2018-08-02 02:51:44.000000000,2018-08-02 02:51:44.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 10:52:23.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2d183bf0b02f2c13370b0ad6e1ae176c98f34d4', 'message': 'readthedocs secret : remove prefix\n\nPer the dependent change, the role changed the name of data keys.\n\nChange-Id: Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf\nDepends-On: https://review.openstack.org/587767\n'}]",0,587771,e2d183bf0b02f2c13370b0ad6e1ae176c98f34d4,7,3,1,7118,,,0,"readthedocs secret : remove prefix

Per the dependent change, the role changed the name of data keys.

Change-Id: Ideb8cf44bcd42dd9b9060ad185e24ece972a7baf
Depends-On: https://review.openstack.org/587767
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/587771/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,e2d183bf0b02f2c13370b0ad6e1ae176c98f34d4,rtd-job, username: openstackci password: !encrypted/pkcs1-oaep, rtd_username: openstackci rtd_password: !encrypted/pkcs1-oaep,2,2
openstack%2Ftripleo-heat-templates~master~I7200f930387406e6cc8e6fee6d5278768074c892,openstack/tripleo-heat-templates,master,I7200f930387406e6cc8e6fee6d5278768074c892,"Switch deployment_source_hosts default to ""Undercloud""",MERGED,2018-08-01 20:37:06.000000000,2018-08-02 02:49:57.000000000,2018-08-02 02:49:57.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 18851}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 20:37:06.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6860fb84f567bcb38a6dc84eae38d361cca52b15', 'message': 'Switch deployment_source_hosts default to ""Undercloud""\n\n""undercloud"" host is too opinionated and hostnames can change. We should\nrather apply the tasks to the Undercloud HostGroup, which contains one\nhost for now: the actual undercloud hostname.\n\nSo this patch switches ""undercloud"" to ""Undercloud"" so when the hostname\nisn\'t ""undercloud"", the external tasks will run correctly on this host.\n\nChange-Id: I7200f930387406e6cc8e6fee6d5278768074c892\nCloses-Bug: #1784910\n'}]",0,588075,6860fb84f567bcb38a6dc84eae38d361cca52b15,10,5,1,3153,,,0,"Switch deployment_source_hosts default to ""Undercloud""

""undercloud"" host is too opinionated and hostnames can change. We should
rather apply the tasks to the Undercloud HostGroup, which contains one
host for now: the actual undercloud hostname.

So this patch switches ""undercloud"" to ""Undercloud"" so when the hostname
isn't ""undercloud"", the external tasks will run correctly on this host.

Change-Id: I7200f930387406e6cc8e6fee6d5278768074c892
Closes-Bug: #1784910
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/588075/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,6860fb84f567bcb38a6dc84eae38d361cca52b15,bug/1784910, default: 'Undercloud', default: 'undercloud',1,1
openstack%2Fkolla-ansible~master~Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549,openstack/kolla-ansible,master,Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549,Fix error about kibana config,ABANDONED,2018-07-31 06:33:34.000000000,2018-08-02 02:43:28.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 18368}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 25167}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-07-31 06:33:34.000000000', 'files': ['ansible/roles/kibana/templates/kibana.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/001eb97c30e2e38209e612d9b9f58901aca939db', 'message': 'Fix error about kibana config\n\nKibana loads its configuration from the /etc/kibana/kibana.yml file by\ndefault. So we need this change\n\nChange-Id: Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,587298,001eb97c30e2e38209e612d9b9f58901aca939db,9,7,1,25167,,,0,"Fix error about kibana config

Kibana loads its configuration from the /etc/kibana/kibana.yml file by
default. So we need this change

Change-Id: Id4c6587d5a9c4d1eebc362acf4d76ab132a0a549
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/587298/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/templates/kibana.json.j2'],1,001eb97c30e2e38209e612d9b9f58901aca939db,fix-conf-err," ""dest"": ""/etc/kibana/kibana.yml"","," ""dest"": ""/opt/kibana/config/kibana.yml"",",1,1
openstack%2Fopenstack-zuul-jobs~master~If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d,openstack/openstack-zuul-jobs,master,If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d,Run a non-voting py36 job for all py35 tox jobs,ABANDONED,2018-06-05 19:44:52.000000000,2018-08-02 01:51:30.000000000,,"[{'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 4162}, {'_account_id': 4257}, {'_account_id': 7118}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-05 19:44:52.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/524c6987b2b62bc622f57e34ed84bf148d209c7b', 'message': 'Run a non-voting py36 job for all py35 tox jobs\n\nIn order to help projects identify any issues with the transition to\nPython3.6, augment all voting py35 unit test jobs with non-voting py36\nequivalents.\n\nAlso create py35_36 templates, so that when projects are ready to make\nPython3.6 gating they can switch to this template (thus removing the\nnon-voting job) rather than simply adding the py36 template. The py36\ntemplates remain in place so that projects can migrate to them in the\nfuture as Python3.5 support is dropped.\n\nChange-Id: If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d\n'}]",8,572535,524c6987b2b62bc622f57e34ed84bf148d209c7b,12,7,1,4257,,,0,"Run a non-voting py36 job for all py35 tox jobs

In order to help projects identify any issues with the transition to
Python3.6, augment all voting py35 unit test jobs with non-voting py36
equivalents.

Also create py35_36 templates, so that when projects are ready to make
Python3.6 gating they can switch to this template (thus removing the
non-voting job) rather than simply adding the py36 template. The py36
templates remain in place so that projects can migrate to them in the
future as Python3.5 support is dropped.

Change-Id: If09aab2e8bdb5c74ff53acfa8bcf1459b1b2ed9d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/35/572535/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,524c6987b2b62bc622f57e34ed84bf148d209c7b,, description: | A Python3.5 tox job plus a non-voting Python3.6 tox job. - openstack-tox-py36: voting: false - openstack-tox-py36: required-projects: - openstack/horizon voting: false - openstack-tox-py36: required-projects: - openstack/neutron voting: false name: openstack-python35_36-jobs description: | Python3.5 and Python3.6 tox jobs. check: jobs: - openstack-tox-py35 - openstack-tox-py36 gate: jobs: - openstack-tox-py35 - openstack-tox-py36 - project-template: name: openstack-python35_36-jobs-horizon description: | The standard openstack-python35_36-jobs but with horizon added as a required-projects. The dashboard projects currently need this due to how the tox_install.sh zuul-cloner's horizon for them. check: jobs: - openstack-tox-py35: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon gate: jobs: - openstack-tox-py35: required-projects: - openstack/horizon - openstack-tox-py36: required-projects: - openstack/horizon - project-template: name: openstack-python35_36-jobs-neutron description: | The standard openstack-python35_36-jobs but with neutron added as a required-projects. The neutron stadium projects currently need this due to how the tox_install.sh zuul-cloner's neutron for them. check: jobs: - openstack-tox-py35: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron gate: jobs: - openstack-tox-py35: required-projects: - openstack/neutron - openstack-tox-py36: required-projects: - openstack/neutron - project-template:,,71,0
openstack%2Fpython-tripleoclient~master~Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea,openstack/python-tripleoclient,master,Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea,Create docker group and find gid in tripleo deploy,ABANDONED,2018-06-29 04:57:27.000000000,2018-08-02 01:50:44.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-29 04:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cea95faba3c3d29c04a72f61c626fe78d5e7a2e1', 'message': ""Create docker group and find gid in tripleo deploy\n\nThe docker group needs to be created early in the deploy process so\nthat the gid can be set as a heat parameter for heat change\nI62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c.\n\nIf the docker group already exists then the groupadd has no effect.\n\nLikewise, creating the group here won't affect docker being installed\nlater in the deployment.\n\nChange-Id: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea\nBlueprint: container-prepare-workflow\n""}, {'number': 2, 'created': '2018-07-03 22:43:39.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7705fda608a2a466570938cdd87e535ffb42914f', 'message': ""Create docker group and find gid in tripleo deploy\n\nThe docker group needs to be created early in the deploy process so\nthat the gid can be set as a heat parameter for change\nI62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c.\n\nIf the docker group already exists then the groupadd has no effect.\n\nLikewise, creating the group here won't affect docker being installed\nlater in the deployment.\n\nChange-Id: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea\nBlueprint: container-prepare-workflow\n""}]",0,579054,7705fda608a2a466570938cdd87e535ffb42914f,10,3,2,4571,,,0,"Create docker group and find gid in tripleo deploy

The docker group needs to be created early in the deploy process so
that the gid can be set as a heat parameter for change
I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c.

If the docker group already exists then the groupadd has no effect.

Likewise, creating the group here won't affect docker being installed
later in the deployment.

Change-Id: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/54/579054/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,cea95faba3c3d29c04a72f61c626fe78d5e7a2e1,bp/container-prepare-workflow," @mock.patch('subprocess.check_output', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_create_docker_group(self, mock_cc, mock_co): env = {'parameter_defaults': {}} mock_co.return_value = 'docker:x:1001:' self.cmd._create_docker_group(env) self.assertEqual( 1001, env['parameter_defaults']['DockerGroupGid'] ) ",,23,0
openstack%2Ftripleo-heat-templates~master~I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c,openstack/tripleo-heat-templates,master,I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c,Add docker group to mistral executor,ABANDONED,2018-06-28 21:21:35.000000000,2018-08-02 01:50:27.000000000,,"[{'_account_id': 4571}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-28 21:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3448b3ae7b2ccc98976630f249d691e19a121e03', 'message': 'WIP add docker group to mistral-executor container\n\nTrying as an alternative the ACL approach\nhttps://review.openstack.org/#/c/577946/\n\nChange-Id: I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c\nBlueprint: container-prepare-workflow\n'}, {'number': 2, 'created': '2018-06-29 04:58:37.000000000', 'files': ['docker/services/mistral-executor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f7bbdb4c2fbdfb26cc2cb6d7ce1f6df10857f3d', 'message': 'Add docker group to mistral executor\n\nThis adds the supplied gid to be an additional group so that\nmistral-executor can perform docker tasks.\n\nOnly the gid works, not the group name. So this must be supplied by\ndiscovering the gid before the undercloud deploy. This is done in the\nchange Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea.\n\nDepends-On: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea\nChange-Id: I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c\nBlueprint: container-prepare-workflow\n'}]",2,579018,4f7bbdb4c2fbdfb26cc2cb6d7ce1f6df10857f3d,15,4,2,4571,,,0,"Add docker group to mistral executor

This adds the supplied gid to be an additional group so that
mistral-executor can perform docker tasks.

Only the gid works, not the group name. So this must be supplied by
discovering the gid before the undercloud deploy. This is done in the
change Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea.

Depends-On: Ia9b3516aa1793cacfd4cc5a15e3cd704ddfe90ea
Change-Id: I62a8624c182bd5a9fbd80dc1d4d2f2165db18b4c
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/579018/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/mistral-executor.yaml'],1,3448b3ae7b2ccc98976630f249d691e19a121e03,bp/container-prepare-workflow," MistralDockerGroup: default: false description: Add the mistral user to the docker group to allow actions to perform docker operations. type: boolean conditions: mistral_docker_group: {equals: [{get_param: MistralDockerGroup}, true]} group_add: {if: [mistral_allow_docker, [docker], []]} - /var/lib/config-data/puppet-generated/mistral/var/:/var/lib/kolla/config_files/src/var/:ro - /var/lib/config-data/puppet-generated/mistral/etc/httpd:/var/lib/kolla/config_files/src/etc/httpd/:ro - /var/lib/config-data/puppet-generated/mistral/etc/mistral:/var/lib/kolla/config_files/src/etc/mistral/:ro - /var/lib/config-data/puppet-generated/mistral/etc/systemd:/var/lib/kolla/config_files/src/etc/systemd/:ro - /var/lib/config-data/puppet-generated/mistral/etc/group:/etc/group:ro - /var/lib/config-data/puppet-generated/mistral/etc/gshadow:/etc/gshadow:ro", - /var/lib/config-data/puppet-generated/mistral/:/var/lib/kolla/config_files/src:ro,13,1
openstack%2Fheat~master~Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec,openstack/heat,master,Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec,Change deprecated url to a correct,ABANDONED,2018-07-05 06:53:31.000000000,2018-08-02 01:45:49.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 06:53:31.000000000', 'files': ['doc/source/contributing/blueprints.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/cfe28ebd7fb65c2c7cbc826b6ed654219709958e', 'message': 'Change deprecated url to a correct\n\nThe url for the heatclient bugs is deprecated and needs to\nchange it to a correct one.\n\nChange-Id: Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec\n'}]",0,580303,cfe28ebd7fb65c2c7cbc826b6ed654219709958e,4,2,1,26311,,,0,"Change deprecated url to a correct

The url for the heatclient bugs is deprecated and needs to
change it to a correct one.

Change-Id: Ieb6231d6fa0bfb6ceecdbc451c6db83bfed661ec
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/580303/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing/blueprints.rst'],1,cfe28ebd7fb65c2c7cbc826b6ed654219709958e,,* `python-heatclient RFE's <https://storyboard.openstack.org/#!/project/997>`_,* `python-heatclient RFE's <https://bugs.launchpad.net/python-heatclient/+bugs?field.status%3Alist=NEW&field.tag=spec-lite>`_,1,1
openstack%2Fheat~master~I014cb403c7c68582d1f3dff158e47ebb309a51ad,openstack/heat,master,I014cb403c7c68582d1f3dff158e47ebb309a51ad,Change bug url to a correct one,ABANDONED,2018-07-02 09:15:52.000000000,2018-08-02 01:45:29.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-02 09:15:52.000000000', 'files': ['doc/source/man/heat-keystone-setup-domain.rst', 'doc/source/man/heat-manage.rst', 'doc/source/man/heat-keystone-setup.rst', 'doc/source/man/heat-db-setup.rst', 'doc/source/contributing/blueprints.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/a62d234874dc035f322301ad751950388d8263de', 'message': 'Change bug url to a correct one\n\nThe url for the heat bugs is deprecated and needs to\nchange it to a correct one.\n\nChange-Id: I014cb403c7c68582d1f3dff158e47ebb309a51ad\n'}]",0,579499,a62d234874dc035f322301ad751950388d8263de,4,2,1,26311,,,0,"Change bug url to a correct one

The url for the heat bugs is deprecated and needs to
change it to a correct one.

Change-Id: I014cb403c7c68582d1f3dff158e47ebb309a51ad
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/579499/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/man/heat-keystone-setup-domain.rst', 'doc/source/man/heat-manage.rst', 'doc/source/man/heat-keystone-setup.rst', 'doc/source/man/heat-db-setup.rst', 'doc/source/contributing/blueprints.rst']",5,a62d234874dc035f322301ad751950388d8263de,,* `heat RFE's <https://storyboard.openstack.org/#!/project/989>`_,* `heat RFE's <https://bugs.launchpad.net/heat/+bugs?field.status%3Alist=NEW&field.tag=spec-lite>`_,5,5
openstack%2Ftempest~master~I1352e9d559e67510917c2eecd9ecbbb387fdfdb6,openstack/tempest,master,I1352e9d559e67510917c2eecd9ecbbb387fdfdb6,Log server console output during create/get timestamp,MERGED,2018-07-30 20:46:58.000000000,2018-08-02 01:34:37.000000000,2018-08-01 01:42:41.000000000,"[{'_account_id': 5689}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-07-30 20:46:58.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/scenario/test_snapshot_pattern.py', 'tempest/scenario/test_shelve_instance.py', 'tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/79d8b0ff9bba455184d175dd8aad2909ff1c1b0b', 'message': 'Log server console output during create/get timestamp\n\nMethods {create,get}_timestamp now have possibility to\npass ""server"" variable to it.\nThat allows to log instance\'s console output in case if\nSSH to instance would not be available.\n\nChange-Id: I1352e9d559e67510917c2eecd9ecbbb387fdfdb6\n'}]",0,587221,79d8b0ff9bba455184d175dd8aad2909ff1c1b0b,19,8,1,11975,,,0,"Log server console output during create/get timestamp

Methods {create,get}_timestamp now have possibility to
pass ""server"" variable to it.
That allows to log instance's console output in case if
SSH to instance would not be available.

Change-Id: I1352e9d559e67510917c2eecd9ecbbb387fdfdb6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/587221/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/scenario/test_snapshot_pattern.py', 'tempest/scenario/test_shelve_instance.py', 'tempest/scenario/test_stamp_pattern.py']",6,79d8b0ff9bba455184d175dd8aad2909ff1c1b0b,log-vm-console-output-timestamps," private_key=keypair['private_key'], server=server) private_key=keypair['private_key'], server=server_from_snapshot)", private_key=keypair['private_key']) private_key=keypair['private_key']),28,15
openstack%2Finstack-undercloud~stable%2Fqueens~Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,openstack/instack-undercloud,stable/queens,Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,Restart rsyslog after installing Swift,MERGED,2018-08-01 06:07:34.000000000,2018-08-02 01:18:02.000000000,2018-08-02 01:18:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 06:07:34.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/swift-undercloud-logging-bf103e33fb444f01.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2f32d629d2c43b0f4148b2ef2c40a659233e0baf', 'message': 'Restart rsyslog after installing Swift\n\nThis ensures that Swift logs end up in /var/log/swift/swift.log.\n\nCloses-Bug: 1781350\nChange-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef\n(cherry picked from commit d3c6857a49d37bc63057203ca75c656d2feeb418)\n'}]",0,587696,2f32d629d2c43b0f4148b2ef2c40a659233e0baf,6,2,1,6968,,,0,"Restart rsyslog after installing Swift

This ensures that Swift logs end up in /var/log/swift/swift.log.

Closes-Bug: 1781350
Change-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef
(cherry picked from commit d3c6857a49d37bc63057203ca75c656d2feeb418)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/96/587696/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/swift-undercloud-logging-bf103e33fb444f01.yaml']",2,2f32d629d2c43b0f4148b2ef2c40a659233e0baf,bug/1781350-stable/queens,--- fixes: - | Enforce a restart of rsyslog after installing Swift rpms. Otherwise all Swift logs end up in /var/log/messages instead of /var/log/swift/swift.log ,,10,0
openstack%2Fswift~master~Ia5dde619b59ac11fa2c020e06c03a79821ccf589,openstack/swift,master,Ia5dde619b59ac11fa2c020e06c03a79821ccf589,add test_init case in cli/recon,ABANDONED,2016-10-02 07:19:28.000000000,2018-08-02 01:12:44.000000000,,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2016-10-02 07:19:28.000000000', 'files': ['test/unit/cli/test_recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c6be0d5e730582bd337ac5f55b62e5a8855f4074', 'message': 'add test_init case in cli/recon\n\nadd SwiftRecon__init__() test case.\n\nChange-Id: Ia5dde619b59ac11fa2c020e06c03a79821ccf589\n'}]",0,380813,c6be0d5e730582bd337ac5f55b62e5a8855f4074,10,3,1,22059,,,0,"add test_init case in cli/recon

add SwiftRecon__init__() test case.

Change-Id: Ia5dde619b59ac11fa2c020e06c03a79821ccf589
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/380813/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/cli/test_recon.py'],1,c6be0d5e730582bd337ac5f55b62e5a8855f4074,test_init," def test_init(self): self.assertFalse(self.recon_instance.verbose) self.assertFalse(self.recon_instance.suppress_errors) self.assertEqual(self.recon_instance.timeout, 5) self.assertEqual(self.recon_instance.pool_size, 30) expected_types = ['account', 'container', 'object'] self.assertEqual(self.recon_instance.check_types, expected_types) self.assertEqual(self.recon_instance.server_type, 'object') ",,9,0
openstack%2Ftripleo-common~master~I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8,openstack/tripleo-common,master,I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8,Create script tripleo-container-image-prepare,MERGED,2018-07-30 22:16:14.000000000,2018-08-02 01:11:42.000000000,2018-08-02 01:11:42.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-30 22:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/37b48908f61e523c1c311b5da3e7e569dd66e95e', 'message': 'Create script tripleo-container-image-prepare\n\nThe mistral executor image needs to trigger a container image prepare\nvia an executable during overcloud stack creation, but adding\npython-tripleoclient to the executor image causes significant image\nbloat.\n\nThis change implements a script equivalent to the command ""openstack\ntripleo container image prepare"" with functionality focused only on\nthe needs of the caller. The script differs to the full command in the\nfollowing ways:\n- Only one environment file can be specified, so filtering by\n  containerized services is not possible (filtering by roles data is\n  still done)\n- No output files are generated, this script exists only to do actual\n  prepare operations\n- --dry-run is not supported\n- The printed output is just the image parameter values, not a full\n  environment file\n\nChange-Id: I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8\nBlueprint: container-prepare-workflow\n'}, {'number': 2, 'created': '2018-07-31 23:40:17.000000000', 'files': ['scripts/tripleo-container-image-prepare', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05532448eea2a60a0156527b51d7b8b4c6b959bc', 'message': 'Create script tripleo-container-image-prepare\n\nThe mistral executor image needs to trigger a container image prepare\nvia an executable during overcloud stack creation, but adding\npython-tripleoclient to the executor image causes significant image\nbloat.\n\nThis change implements a script equivalent to the command ""openstack\ntripleo container image prepare"" with functionality focused only on\nthe needs of the caller. The script differs to the full command in the\nfollowing ways:\n- Only one environment file can be specified, so filtering by\n  containerized services is not possible (filtering by roles data is\n  still done)\n- No output files are generated, this script exists only to do actual\n  prepare operations\n- --dry-run is not supported\n- The printed output is just the image parameter values, not a full\n  environment file\n\nChange-Id: I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8\nBlueprint: container-prepare-workflow\n'}]",4,587239,05532448eea2a60a0156527b51d7b8b4c6b959bc,20,8,2,4571,,,0,"Create script tripleo-container-image-prepare

The mistral executor image needs to trigger a container image prepare
via an executable during overcloud stack creation, but adding
python-tripleoclient to the executor image causes significant image
bloat.

This change implements a script equivalent to the command ""openstack
tripleo container image prepare"" with functionality focused only on
the needs of the caller. The script differs to the full command in the
following ways:
- Only one environment file can be specified, so filtering by
  containerized services is not possible (filtering by roles data is
  still done)
- No output files are generated, this script exists only to do actual
  prepare operations
- --dry-run is not supported
- The printed output is just the image parameter values, not a full
  environment file

Change-Id: I2bd53ac64d6ae7a5bb536fa82b1c70a73d883ba8
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/587239/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-container-image-prepare', 'setup.cfg']",2,37b48908f61e523c1c311b5da3e7e569dd66e95e,bp/container-prepare-workflow, scripts/tripleo-container-image-prepare,,82,0
openstack%2Foslo.policy~master~I3ea2aac73e3c0a4f77f3f4097540de01264cd618,openstack/oslo.policy,master,I3ea2aac73e3c0a4f77f3f4097540de01264cd618,generator: Reimplement wrapping of 'description',MERGED,2017-07-20 14:22:31.000000000,2018-08-02 00:49:03.000000000,2018-08-02 00:49:03.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 9796}, {'_account_id': 10873}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-07-20 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/cbdb29791964efda153204faaebf74639536d1ce', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2017-08-22 15:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1e3aeaf6e63bae572b58856dc316476e5f89190f', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2017-10-26 09:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ac574753472f1d6a9429a2b9ffab31f63022b253', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2017-11-02 14:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2d741a9994033ffcc6e8fad63cfa8c53c56779e5', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2017-12-21 13:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/de18a6d275ef7677f476e5bd37a91e55821333d3', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2018-05-09 10:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/809cc8f12fdc3fc919a3f8706009601dadf18a8b', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2018-06-08 17:41:35.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/bc9a91d8b72d32bc23f61c0bb377405a15c859c3', 'message': ""generator: Reimplement wrapping of 'description'\n\nThe current implementation of wrapping for the Policy.description field\nleaves a lot to be desired. It takes each line in the original\ndescription independently and wraps that, ignoring the fact that the\nline may be part of a paragraph, or could be a literal that shouldn't be\nwrapped. As an example, imagine that wrapping occurred at 40\ncharacters instead of 70. In this case, the below:\n\n    A sample lines with more than forty characters\n    which continues down onto the next line.\n\nwould become:\n\n    A sample lines with more than forty\n    characters\n    which continues down onto the next line.\n\nwhen clearly, what we want is something like this:\n\n    A sample lines with more than forty\n    characters which continues down onto the\n    next line.\n\nThis is resolved.\n\nIn addition, it should be possible to include basic literal blocks and\nthose should be preserved. For example:\n\n    Here's a sample literal block\n\n        This is a really long literal block but it should not wrap\n\nshould be output in the exact same way. This is also resolved.\n\nNote that we're not accounting for things like bullet points. Doing so\nwould bring us close to rST parser implementation territory, and we\ndon't want to go there. We can revisit this if someone turns out to want\nthis feature.\n\nChange-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,485646,bc9a91d8b72d32bc23f61c0bb377405a15c859c3,36,8,7,15334,,,0,"generator: Reimplement wrapping of 'description'

The current implementation of wrapping for the Policy.description field
leaves a lot to be desired. It takes each line in the original
description independently and wraps that, ignoring the fact that the
line may be part of a paragraph, or could be a literal that shouldn't be
wrapped. As an example, imagine that wrapping occurred at 40
characters instead of 70. In this case, the below:

    A sample lines with more than forty characters
    which continues down onto the next line.

would become:

    A sample lines with more than forty
    characters
    which continues down onto the next line.

when clearly, what we want is something like this:

    A sample lines with more than forty
    characters which continues down onto the
    next line.

This is resolved.

In addition, it should be possible to include basic literal blocks and
those should be preserved. For example:

    Here's a sample literal block

        This is a really long literal block but it should not wrap

should be output in the exact same way. This is also resolved.

Note that we're not accounting for things like bullet points. Doing so
would bring us close to rST parser implementation territory, and we
don't want to go there. We can revisit this if someone turns out to want
this feature.

Change-Id: I3ea2aac73e3c0a4f77f3f4097540de01264cd618
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/46/485646/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/tests/test_generator.py', 'oslo_policy/generator.py']",2,cbdb29791964efda153204faaebf74639536d1ce,485646," paragraph = [] def _wrap_paragraph(lines): return textwrap.wrap(' '.join(lines), 70, initial_indent = '# ', subsequent_indent='# ') for line in description.strip().splitlines(): if not line.strip(): # empty line -> line break, so dump anything we have formatted_lines.extend(_wrap_paragraph(paragraph)) paragraph = [] elif len(line) == len(line.lstrip()): # no leading whitespace = paragraph, which should be wrapped paragraph.append(line.rstrip()) else: # leading whitespace - literal block, which should not be wrapping if paragraph: # ...however, literal blocks need a new line before them to # delineate things # TODO(stephenfin): Raise an exception here and stop doing # anything else in oslo.policy 2.0 LOG.warning('Invalid policy description: literal blocks must ' 'be preceded by a new line. This will raise an ' 'exception in a future version of oslo.policy') LOG.debug(description) formatted_lines.extend(_wrap_paragraph(paragraph)) formatted_lines.append('#') formatted_lines.append('# %s' % line.rstrip()) if paragraph: # dump anything we might still have in the buffer formatted_lines.extend(_wrap_paragraph(paragraph)) return '\n'.join(formatted_lines)"," lines = description.splitlines() # wrap each line to support multi line descriptions for line in lines: if not line: else: formatted_lines.append(textwrap.fill(line, 70, initial_indent='# ', subsequent_indent='# ', break_long_words=False, replace_whitespace=False)) return ""\n"".join(formatted_lines)",83,23
openstack%2Fansible-role-tripleo-cookiecutter~master~If0d65996d171283d18a0c21dafa0fabfd1fe3479,openstack/ansible-role-tripleo-cookiecutter,master,If0d65996d171283d18a0c21dafa0fabfd1fe3479,Remove ssh control path setting,MERGED,2018-08-01 16:02:14.000000000,2018-08-02 00:34:18.000000000,2018-08-02 00:34:18.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20868}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/51de5d480e8e5fa0bb0d0c14291f19bb69f2065a', 'message': ""Add % to ssh control path setting\n\nThe second % is needed since the string is passed to Python's % formatting\nthen passed to ssh. Without the additional %, Python eats the whole string and\nssh never gets a setting.\n\nChange-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479\n""}, {'number': 2, 'created': '2018-08-01 16:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/bb5d7cf1734261199bf2c527b955cab42edbb728', 'message': 'Remove ssh control path setting\n\nThe only reason to change this in the past was due to the hostname being too\nlong and causing errors. Ansible changed to a more optimized default control\npath that avoids this problem, so now changing this setting is only required\nin very rare cases.\n\nChange-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479\n'}, {'number': 3, 'created': '2018-08-01 22:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/d27d3e4fedfe75283b7d64d65c7eab12635fda64', 'message': 'Remove ssh control path setting\n\nThe only reason to change this in the past was due to the hostname being too\nlong and causing errors. Ansible changed to a more optimized default control\npath that avoids this problem, so now changing this setting is only required\nin very rare cases.\n\nChange-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479\n'}, {'number': 4, 'created': '2018-08-01 23:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/51d5449191fd9b485ee1414d3a52f07b5ead52ed', 'message': 'Remove ssh control path setting\n\nThe only reason to change this in the past was due to the hostname being too\nlong and causing errors. Ansible changed to a more optimized default control\npath that avoids this problem, so now changing this setting is only required\nin very rare cases.\n\nChange-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479\n'}, {'number': 5, 'created': '2018-08-02 00:19:41.000000000', 'files': ['ansible-role-tripleo-{{cookiecutter.project_name}}/ansible.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/7820e1ecaa4d532fcf836557db36cef20771adad', 'message': 'Remove ssh control path setting\n\nThe only reason to change this in the past was due to the hostname being too\nlong and causing errors. Ansible changed to a more optimized default control\npath that avoids this problem, so now changing this setting is only required\nin very rare cases.\n\nChange-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479\n'}]",0,587866,7820e1ecaa4d532fcf836557db36cef20771adad,13,4,5,27253,,,0,"Remove ssh control path setting

The only reason to change this in the past was due to the hostname being too
long and causing errors. Ansible changed to a more optimized default control
path that avoids this problem, so now changing this setting is only required
in very rare cases.

Change-Id: If0d65996d171283d18a0c21dafa0fabfd1fe3479
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/66/587866/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-tripleo-{{cookiecutter.project_name}}/ansible.cfg'],1,51de5d480e8e5fa0bb0d0c14291f19bb69f2065a,ssh-control-path,control_path = %(directory)s/%%C,control_path = %(directory)s/%C,1,1
openstack%2Fansible-role-tripleo-cookiecutter~master~I76022e580e55094a04ca7ac3c05c025a2894ea1e,openstack/ansible-role-tripleo-cookiecutter,master,I76022e580e55094a04ca7ac3c05c025a2894ea1e,"Add zuul config, tox files, and lint script.",MERGED,2018-07-31 22:54:19.000000000,2018-08-02 00:29:59.000000000,2018-08-02 00:29:59.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 22:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/4a9a15238a9dd0c3a29baae06de27792513f90bd', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 2, 'created': '2018-08-01 18:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/78d9ce138e9ade655675d4d663103e70746e5179', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 3, 'created': '2018-08-01 19:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/d1fb55eb1ce9e78ee7a3fa79b7f89a245bcd662d', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 4, 'created': '2018-08-01 22:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/63e3bd3897e5c7ddc183794581a5ffe1591446f7', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 5, 'created': '2018-08-01 22:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/18dd5a47d658972b0b99cef5af88e489070b65b3', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 6, 'created': '2018-08-01 23:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/ce259ea550caeef94dca523f062b486694e0b393', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 7, 'created': '2018-08-01 23:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/35f1b1346965ee203693318ecd5cbb0a301106fd', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 8, 'created': '2018-08-01 23:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/17bfd35f81f8887b90f66d151a3deb87fcb3a89b', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 9, 'created': '2018-08-01 23:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/b941598aea2a0ed575c57969beaa75f041509486', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}, {'number': 10, 'created': '2018-08-02 00:17:40.000000000', 'files': ['ansible-requirements.txt', '.gitignore', 'test-requirements.txt', 'setup.py', 'zuul.d/layout.yaml', 'setup.cfg', 'ci-scripts/ansible-lint.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/f98ace7d351580233b9ec90f0c6a59fec3ccbae8', 'message': 'Add zuul config, tox files, and lint script.\n\nAdd ci jobs to generate a role from cookiecutter config and run\nansible-lint against the generated role.  Lint script is called from\ntox so that developers can reproduce this locally.\n\nChange-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e\n'}]",6,587654,f98ace7d351580233b9ec90f0c6a59fec3ccbae8,30,3,10,20868,,,0,"Add zuul config, tox files, and lint script.

Add ci jobs to generate a role from cookiecutter config and run
ansible-lint against the generated role.  Lint script is called from
tox so that developers can reproduce this locally.

Change-Id: I76022e580e55094a04ca7ac3c05c025a2894ea1e
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/54/587654/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zuul.d/cookiecutter.yaml', 'setup.py', 'zuul.d/layout.yaml', 'playbooks/cookiecutter/run.yaml', 'setup.cfg', 'ci-scripts/ansible-lint.sh', 'tox.ini']",8,4a9a15238a9dd0c3a29baae06de27792513f90bd,cookiecutter-ci-jobs,"[tox] minversion = 1.6 envlist = docs, linters skipdist = True [testenv] usedevelop = True install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} setenv = VIRTUAL_ENV={envdir} deps = -r{toxinidir}/test-requirements.txt whitelist_externals = bash [testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files. deps = bindep commands = bindep test [testenv:pep8] commands = # Run hacking/flake8 check for all python files bash -c ""git ls-files | grep -v releasenotes | xargs grep --binary-files=without-match \ --files-with-match '^.!.*python$' \ --exclude-dir .tox \ --exclude-dir .git \ --exclude-dir .eggs \ --exclude-dir *.egg-info \ --exclude-dir dist \ --exclude-dir *lib/python* \ --exclude-dir doc \ | xargs flake8 --verbose"" [testenv:ansible-lint] basepython=python2 whitelist_externals = bash commands = bash ci-scripts/ansible-lint.sh [testenv:linters] deps = -r{toxinidir}/test-requirements.txt -r{toxinidir}/ansible-requirements.txt commands = {[testenv:pep8]commands} {[testenv:ansible-lint]commands} [testenv:releasenotes] whitelist_externals = bash commands = bash -c ci-scripts/releasenotes_tox.sh [testenv:venv] commands = {posargs} [flake8] # E123, E125 skipped as they are invalid PEP-8. # E265 deals withs paces inside of comments show-source = True ignore = E123,E125,E265 builtins = _ ",,173,0
openstack%2Fmurano-tempest-plugin~master~Iad64bbaac517b8e1f53ec7046691a79e63f4f74d,openstack/murano-tempest-plugin,master,Iad64bbaac517b8e1f53ec7046691a79e63f4f74d,Use tempest.lib.decorators instead of nose,MERGED,2018-08-01 19:45:22.000000000,2018-08-02 00:28:36.000000000,2018-08-02 00:28:36.000000000,"[{'_account_id': 10459}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-08-01 19:45:22.000000000', 'files': ['requirements.txt', 'murano_tempest_tests/tests/functional/integration/test_policy_enf.py', 'murano_tempest_tests/tests/functional/integration/test_mistral.py'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/3788a62b1fb10fb9763767ffb71bc5ea5a63c9f7', 'message': ""Use tempest.lib.decorators instead of nose\n\n* tempest.lib.decorators provides a better way to handle attrs, let's\n  use it instead of using nose from tempest.lib stable api.\n\nChange-Id: Iad64bbaac517b8e1f53ec7046691a79e63f4f74d\n""}]",0,588057,3788a62b1fb10fb9763767ffb71bc5ea5a63c9f7,8,4,1,12393,,,0,"Use tempest.lib.decorators instead of nose

* tempest.lib.decorators provides a better way to handle attrs, let's
  use it instead of using nose from tempest.lib stable api.

Change-Id: Iad64bbaac517b8e1f53ec7046691a79e63f4f74d
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/57/588057/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'murano_tempest_tests/tests/functional/integration/test_policy_enf.py', 'murano_tempest_tests/tests/functional/integration/test_mistral.py']",3,3788a62b1fb10fb9763767ffb71bc5ea5a63c9f7,remove_nose,"from tempest.lib import decorators @decorators.attr(type=['all', 'coverage'])","from nose.plugins.attrib import attr as tag @tag('all', 'coverage')",8,8
openstack%2Fproject-config~master~I91b7a1fd8d45bce7e99e376dc020317378a656c4,openstack/project-config,master,I91b7a1fd8d45bce7e99e376dc020317378a656c4,"Update meetbot name to ""openstack""",ABANDONED,2018-08-02 00:10:25.000000000,2018-08-02 00:20:58.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 00:10:25.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1346a2a99a2c7162467a7719823ec93cd030753', 'message': 'Update meetbot name to ""openstack""\n\nI don\'t think the meetbot is called ""open_stack""\n\nChange-Id: I91b7a1fd8d45bce7e99e376dc020317378a656c4\n'}]",0,588107,e1346a2a99a2c7162467a7719823ec93cd030753,4,2,1,7118,,,0,"Update meetbot name to ""openstack""

I don't think the meetbot is called ""open_stack""

Change-Id: I91b7a1fd8d45bce7e99e376dc020317378a656c4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/588107/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,e1346a2a99a2c7162467a7719823ec93cd030753,ircmeetbots, - openstack, - open_stack,1,1
openstack%2Fopenstack-helm-infra~master~I15d03a8893331d043df589f5498aaa965559bacb,openstack/openstack-helm-infra,master,I15d03a8893331d043df589f5498aaa965559bacb,Rabbitmq: Disable bert capabilities in exporter,MERGED,2018-08-01 18:48:44.000000000,2018-08-02 00:08:56.000000000,2018-08-02 00:08:56.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-08-01 18:48:44.000000000', 'files': ['rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/580ba12e9d940730d8541f7de41e6560fec0a51c', 'message': 'Rabbitmq: Disable bert capabilities in exporter\n\nThis disables the bert capabilities in the rabbitmq exporter, as\nthe go routines for bert in the exporter are raising panics.\nThis capability should remain disabled until these issues are\nresolved in the exporter.\n\nReferences:\nhttp://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-heat-rabbitmq-rabbitmq-exporter-55b4548bb6-tgwjr/rabbitmq-exporter.txt\nhttp://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-cinder-rabbitmq-rabbitmq-exporter-664945b7c5-rsrmd/rabbitmq-exporter.txt\n\nChange-Id: I15d03a8893331d043df589f5498aaa965559bacb\n'}]",0,587972,580ba12e9d940730d8541f7de41e6560fec0a51c,10,4,1,17591,,,0,"Rabbitmq: Disable bert capabilities in exporter

This disables the bert capabilities in the rabbitmq exporter, as
the go routines for bert in the exporter are raising panics.
This capability should remain disabled until these issues are
resolved in the exporter.

References:
http://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-heat-rabbitmq-rabbitmq-exporter-55b4548bb6-tgwjr/rabbitmq-exporter.txt
http://logs.openstack.org/25/587825/2/check/openstack-helm-armada-fullstack-deploy/0d5ecb6/primary/pod-logs/openstack/osh-cinder-rabbitmq-rabbitmq-exporter-664945b7c5-rsrmd/rabbitmq-exporter.txt

Change-Id: I15d03a8893331d043df589f5498aaa965559bacb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/72/587972/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values.yaml'],1,580ba12e9d940730d8541f7de41e6560fec0a51c,rabbit_disable_bert,, - bert,0,1
openstack%2Fansible-role-tripleo-cookiecutter~master~Ie9098835d98a65ed54c3657a52372500a2b86edb,openstack/ansible-role-tripleo-cookiecutter,master,Ie9098835d98a65ed54c3657a52372500a2b86edb,DNM - try to break cookiecutter,ABANDONED,2018-08-01 23:52:46.000000000,2018-08-01 23:58:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-08-01 23:52:46.000000000', 'files': ['ansible-role-tripleo-{{cookiecutter.project_name}}/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/20dc65b8ec52628bd99f81deb74979c5386b9521', 'message': 'DNM - try to break cookiecutter\n\nChange-Id: Ie9098835d98a65ed54c3657a52372500a2b86edb\n'}]",0,588102,20dc65b8ec52628bd99f81deb74979c5386b9521,3,1,1,3153,,,0,"DNM - try to break cookiecutter

Change-Id: Ie9098835d98a65ed54c3657a52372500a2b86edb
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/02/588102/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-tripleo-{{cookiecutter.project_name}}/tasks/main.yml'],1,20dc65b8ec52628bd99f81deb74979c5386b9521,test/break,-task: wrong syntax bl ,,2,0
openstack%2Fneutron~stable%2Fpike~Ic1864f7efbc94db1369ac7f3e2879fda86f95a11,openstack/neutron,stable/pike,Ic1864f7efbc94db1369ac7f3e2879fda86f95a11,Retry dhcp_release on failures,MERGED,2018-07-30 08:43:32.000000000,2018-08-01 23:55:24.000000000,2018-08-01 23:55:24.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 9373}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 08:43:32.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6aada381f4695ccd904c4be7dbfdd95744d32e38', 'message': 'Retry dhcp_release on failures\n\nSometimes calls to dhcp_release(6) do not result in removal\nof a lease from the leases file, for example, when the release\npacket is not received by dnsmasq.  Trying more than once is\nrecommended in this case.\n\nInstead of blindly trying some number of times, we monitor\nthe lease file contents, and retry the dhcp_release(6) call\nwhen an entry still remains.  This is possible since\ndhcp_release(6) is being run from the DHCP server itself.\nWe try three times and wait 0.3 seconds between tries.\n\nWe also now check for any stale leases in the leases file\nthat are unknown to neutron, also trying to remove them.\n\nChange-Id: Ic1864f7efbc94db1369ac7f3e2879fda86f95a11\nCloses-bug: #1764481\nCloses-bug: #1783908\n(cherry picked from commit fab032b426e1fa89dc473c61cbf15377fe4aaff3)\n'}]",0,586980,6aada381f4695ccd904c4be7dbfdd95744d32e38,13,9,1,11975,,,0,"Retry dhcp_release on failures

Sometimes calls to dhcp_release(6) do not result in removal
of a lease from the leases file, for example, when the release
packet is not received by dnsmasq.  Trying more than once is
recommended in this case.

Instead of blindly trying some number of times, we monitor
the lease file contents, and retry the dhcp_release(6) call
when an entry still remains.  This is possible since
dhcp_release(6) is being run from the DHCP server itself.
We try three times and wait 0.3 seconds between tries.

We also now check for any stale leases in the leases file
that are unknown to neutron, also trying to remove them.

Change-Id: Ic1864f7efbc94db1369ac7f3e2879fda86f95a11
Closes-bug: #1764481
Closes-bug: #1783908
(cherry picked from commit fab032b426e1fa89dc473c61cbf15377fe4aaff3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/586980/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,6aada381f4695ccd904c4be7dbfdd95744d32e38,bug/1764481,"DHCP_RELEASE_TRIES = 3 DHCP_RELEASE_TRIES_SLEEP = 0.3 def _release_lease(self, mac_address, ip, ip_version, client_id=None, if ip_version == constants.IP_VERSION_6: def _read_leases_file_leases(self, filename, ip_version=None): Read information from leases file, which is needed to pass to :param ip_version: IP version of entries to return, or None for all :return: dict, keys are IP(v6) addresses, values are dicts containing if (ip_version and netaddr.IPAddress(ip).version != ip_version): cur_leases = self._read_leases_file_leases(leases_filename) if not cur_leases: return v4_leases = set() for (k, v) in cur_leases.items(): # IPv4 leases have a MAC, IPv6 ones do not, so we must ignore if netaddr.IPAddress(k).version == constants.IP_VERSION_4: # treat '*' as None, see note in _read_leases_file_leases() client_id = v['client_id'] if client_id is '*': client_id = None v4_leases.add((k, v['iaid'], client_id)) # If an entry is in the leases or host file(s), but doesn't have # a fixed IP on a corresponding neutron port, consider it stale. entries_to_release = (v4_leases | old_leases) - new_leases if not entries_to_release: return # Try DHCP_RELEASE_TRIES times to release a lease, re-reading the # file each time to see if it's still there. We loop +1 times to # check the lease file one last time before logging any remaining # entries. for i in range(DHCP_RELEASE_TRIES + 1): entries_not_present = set() for ip, mac, client_id in entries_to_release: try: entry = cur_leases[ip] except KeyError: entries_not_present.add((ip, mac, client_id)) continue # if not the final loop, try and release if i < DHCP_RELEASE_TRIES: ip_version = netaddr.IPAddress(ip).version if ip_version == constants.IP_VERSION_6: client_id = entry['client_id'] self._release_lease(mac, ip, ip_version, client_id, entry['server_id'], entry['iaid']) # Remove elements that were not in the current leases file, # no need to look for them again, and see if we're done. entries_to_release -= entries_not_present if not entries_to_release: break if i < DHCP_RELEASE_TRIES: time.sleep(DHCP_RELEASE_TRIES_SLEEP) cur_leases = self._read_leases_file_leases(leases_filename) if not cur_leases: break else: LOG.warning(""Could not release DHCP leases for these IP "" ""addresses after %d tries: %s"", DHCP_RELEASE_TRIES, ', '.join(ip for ip, m, c in entries_to_release))"," def _release_lease(self, mac_address, ip, client_id=None, if netaddr.IPAddress(ip).version == constants.IP_VERSION_6: def _read_v6_leases_file_leases(self, filename): reading information from leases file which is needed to pass to in this method ipv4 entries in leases file are ignored, as info in hosts file is enough :return: dict, keys are IPv6 addresses, values are dicts containing if netaddr.IPAddress(ip).version == constants.IP_VERSION_4: # here is dhcpv6 stuff needed to craft dhcpv6 packet v6_leases = self._read_v6_leases_file_leases(leases_filename) for ip, mac, client_id in old_leases - new_leases: entry = v6_leases.get(ip, None) version = netaddr.IPAddress(ip).version if entry: # must release IPv6 lease self._release_lease(mac, ip, entry['client_id'], entry['server_id'], entry['iaid']) # must release only if v4 lease. If we have ipv6 address missing # in old_leases, that means it's released already and nothing to do # here elif version == constants.IP_VERSION_4: self._release_lease(mac, ip, client_id)",308,69
openstack%2Fcharm-percona-cluster~master~Ia435069f5df80bfdf0236d14664317990bd06407,openstack/charm-percona-cluster,master,Ia435069f5df80bfdf0236d14664317990bd06407,Check if it's leader before calling leader_set(),MERGED,2018-08-01 16:44:31.000000000,2018-08-01 23:46:27.000000000,2018-08-01 23:46:27.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:44:31.000000000', 'files': ['hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/1219f7b2a213af5d5697a1c4cb48486e9c08c81e', 'message': ""Check if it's leader before calling leader_set()\n\nThere may be situations where leader-elected hook is executed without\nbeing the leader and making leader_set() calls fail, this patch verifies\nif it's the leader before attempting to use leader_set()\n\nChange-Id: Ia435069f5df80bfdf0236d14664317990bd06407\nCloses-Bug: 1784584\n""}]",0,587899,1219f7b2a213af5d5697a1c4cb48486e9c08c81e,8,4,1,2424,,,0,"Check if it's leader before calling leader_set()

There may be situations where leader-elected hook is executed without
being the leader and making leader_set() calls fail, this patch verifies
if it's the leader before attempting to use leader_set()

Change-Id: Ia435069f5df80bfdf0236d14664317990bd06407
Closes-Bug: 1784584
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/99/587899/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_hooks.py'],1,1219f7b2a213af5d5697a1c4cb48486e9c08c81e,bug/1784584," if is_leader(): leader_set(**{'leader-ip': get_relation_ip('cluster')}) else: log('leader-elected hook executed, but this unit is not the leader', level=INFO)", leader_set(**{'leader-ip': get_relation_ip('cluster')}),5,1
openstack%2Fansible-role-container-registry~master~I9b2b29b3a79a89199f7d149673791d1711189913,openstack/ansible-role-container-registry,master,I9b2b29b3a79a89199f7d149673791d1711189913,Use release-openstack-server job-template,MERGED,2018-08-01 14:57:22.000000000,2018-08-01 23:34:28.000000000,2018-08-01 23:34:28.000000000,"[{'_account_id': 4571}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 14:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/51897938f6fef7fc5ab4a7e1aeeaab6545fa9178', 'message': ""Use release-openstack-server job-template\n\nWe don't want these roles pushed to pypi, so no need to try uploading them.\nThis template is the same as publish-to-pypi except it's not pushing the\nproject to pypy.\n\nChange-Id: I9b2b29b3a79a89199f7d149673791d1711189913\n""}, {'number': 2, 'created': '2018-08-01 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/d2451045694f4d26ffba0371074e3a1f81feace0', 'message': ""Use release-openstack-server job-template\n\nWe don't want these roles pushed to pypi, so no need to try uploading them.\nThis template is the same as publish-to-pypi except it's not pushing the\nproject to pypy.\n\nAlso add jobs from project-config; so we can control here.\n\nChange-Id: I9b2b29b3a79a89199f7d149673791d1711189913\n""}, {'number': 3, 'created': '2018-08-01 17:23:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/c41c49db4a5498810638b7f11dbd9db3fac6ffc4', 'message': ""Use release-openstack-server job-template\n\nWe don't want these roles pushed to pypi, so no need to try uploading them.\nThis template is the same as publish-to-pypi except it's not pushing the\nproject to pypy.\n\nAlso add jobs from project-config; so we can control here.\n\nChange-Id: I9b2b29b3a79a89199f7d149673791d1711189913\n""}]",1,587843,c41c49db4a5498810638b7f11dbd9db3fac6ffc4,12,4,3,3153,,,0,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading them.
This template is the same as publish-to-pypi except it's not pushing the
project to pypy.

Also add jobs from project-config; so we can control here.

Change-Id: I9b2b29b3a79a89199f7d149673791d1711189913
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/43/587843/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,51897938f6fef7fc5ab4a7e1aeeaab6545fa9178,zuul/update, - release-openstack-server,,1,0
openstack%2Fnetworking-odl~stable%2Fpike~Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e,openstack/networking-odl,stable/pike,Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e,devstack: teach how to handle latest ODL release,MERGED,2018-07-23 13:19:44.000000000,2018-08-01 23:17:59.000000000,2018-08-01 23:17:59.000000000,"[{'_account_id': 333}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7921}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-07-23 13:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/17fb61928dfb7b99e5a93f20d0fb06d1d7374137', 'message': ""Use latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\n Conflicts:\n\t.zuul.d/jobs.yaml\n\tdevstack/odl-releases/carbon-latest\n\tdevstack/odl-releases/nitrogen-latest\n\ttest-requirements.txt\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. Legacy jobs' ODL_RELEASE_BASE should be changed\nto latest, too, instead.\ntest-requirements.txt should not be changed because it holds lower\nversion constraints, so no need for capping.\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n""}, {'number': 2, 'created': '2018-07-23 14:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9d0dba2f62249c2c624e01b5f1469b5d9f99cc7e', 'message': ""Use latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\n Conflicts:\n\t.zuul.d/jobs.yaml\n\tdevstack/odl-releases/carbon-latest\n\tdevstack/odl-releases/nitrogen-latest\n\ttest-requirements.txt\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n""}, {'number': 3, 'created': '2018-07-23 23:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/74157fdcfc49a5d8f47bdb4d5a0688f9163f245a', 'message': ""devstack: teach how to handle latest ODL release\n\nChange-Id: I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\nChange-Id: I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n""}, {'number': 4, 'created': '2018-07-23 23:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9063b64b9caa75a8d37283dc510cc7802ea965fc', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n""}, {'number': 5, 'created': '2018-07-24 12:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fdba9b711a5102ce6466a1801a194500d0858333', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n""}, {'number': 6, 'created': '2018-07-24 15:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/017bccdea06100503d6a8df4d9f29734e24fcc5d', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 7, 'created': '2018-07-26 17:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6a9d31450eedea40f7a01d8d24fd4611ffab2f5c', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 8, 'created': '2018-07-27 12:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4d464faa1aee454ea2053c6dbafbe5a6da821d9b', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 9, 'created': '2018-07-27 15:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b265f659b817ccd118c0551263ab65e6144ee5e4', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 10, 'created': '2018-07-27 16:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/50dfbdf9ab75d49531794b4adf5e6525164b19ae', 'message': ""devstack: teach how to handle latest ODL release\n\ncommit [1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 11, 'created': '2018-07-31 11:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a471c160f193abf9b5a96505ce16751f9a50a3f8', 'message': ""devstack: teach how to handle latest ODL release\n\nThis commit is a squash of multiple backported fixes and one workaround\nfor rally jobs.\n\n------------------------------------------------------------\nPin rally to 0.12.1\n\nRally plugin after version 0.12.1 installs the new and latest\nrally-openstack, which has higher requirements of oslo.db and\noslo.log and is not constrained by upper-constraints.txt during\ninstall. This causes problem on stable/pike and older stable\nbranches.\n\nThe patch set that introduced this bug:\nhttps://review.openstack.org/#/c/575064/4/devstack/lib/rally\n\n------------------------------------------------------------\ncommit[1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 12, 'created': '2018-07-31 17:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2a4561b692b57cf439f5b6aec99d6bd09e7aaa81', 'message': ""devstack: teach how to handle latest ODL release\n\nThis commit is a squash of multiple backported fixes and one workaround\nfor rally jobs.\n\n------------------------------------------------------------\nPin rally to 0.12.1\n\nRally plugin after version 0.12.1 installs the new and latest\nrally-openstack, which has higher requirements of oslo.db and\noslo.log and is not constrained by upper-constraints.txt during\ninstall. This causes problem on stable/pike and older stable\nbranches.\n\nThe patch set that introduced this bug:\nhttps://review.openstack.org/#/c/575064/4/devstack/lib/rally\n\n------------------------------------------------------------\ncommit[1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}, {'number': 13, 'created': '2018-07-31 21:17:01.000000000', 'files': ['devstack/odl-releases/carbon-latest', 'devstack/pre_test_hook.sh', 'devstack/settings.odl', 'devstack/odl-releases/common', 'devstack/functions', 'devstack/odl-releases/nitrogen-0.7.0', 'devstack/odl-releases/boron-latest', 'devstack/odl-releases/nitrogen-latest', '.zuul.d/jobs.yaml', 'devstack/odl-releases/latest-release', 'networking_odl/tests/contrib/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/409a62b09c5fe66c8319cc662a038ab2f8834bfa', 'message': ""devstack: teach how to handle latest ODL release\n\nThis commit is a squash of multiple backported fixes and one workaround\nfor rally jobs.\n\n------------------------------------------------------------\nPin rally to 0.12.1\n\nRally plugin after version 0.12.1 installs the new and latest\nrally-openstack, which has higher requirements of oslo.db and\noslo.log and is not constrained by upper-constraints.txt during\ninstall. This causes problem on stable/pike and older stable\nbranches.\n\nThe patch set that introduced this bug:\nhttps://review.openstack.org/#/c/575064/4/devstack/lib/rally\n\n------------------------------------------------------------\ncommit[1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9\n\ndevstack: add nitrogen release definition\n\nODL nitrogen has been released. So let's add nitrogen release definition.\n\nAlso fixes the logic to retrieve release version.\n\n------------------------------------------------------------\ncommit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912\n\nUse latest ODL version for jobs\n\nAll the EOL releases are archived and don't have snapshots anymore, so\nuse the latest released version for CI.\n\nAlso updates pylint because one of the pylint dependencies has updated\nto be python3 only; this version of pylint correctly caps things so it\nstill works with python2.\n\nNOTE(elod.illes): the cause of the conflicts is that zuul jobs were\nredesigned in queens. test-requirements.txt should not be changed\nbecause it holds lower version constraints, so no need for capping.\n\n------------------------------------------------------------\ncommit[3] I3d18beb71f4ecec8db133de39df21c8678a35568\n\ndevstack: try metadata in parent dir\n\nWhen getting metadata file for artifact id, try parent directory\nif failed. This is the case when autorelease.\n\n------------------------------------------------------------\ncommit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938\n\nchange testrepository to stestr\n\nAs testrepository has changed to testr, dumping\nlogs on fullstack is spitting error.\n\nNOTE(elod.illes): only post_test_hook.sh fix is needed now\n\nCo-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>\n\nChange-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e\nCo-Authored-By: Michel Peterson <mpeterso@redhat.com>\n(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)\n(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)\n(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)\n""}]",0,584872,409a62b09c5fe66c8319cc662a038ab2f8834bfa,38,8,13,17685,,,0,"devstack: teach how to handle latest ODL release

This commit is a squash of multiple backported fixes and one workaround
for rally jobs.

------------------------------------------------------------
Pin rally to 0.12.1

Rally plugin after version 0.12.1 installs the new and latest
rally-openstack, which has higher requirements of oslo.db and
oslo.log and is not constrained by upper-constraints.txt during
install. This causes problem on stable/pike and older stable
branches.

The patch set that introduced this bug:
https://review.openstack.org/#/c/575064/4/devstack/lib/rally

------------------------------------------------------------
commit[1] I2b766eb7aef5b4f8183d7213a0be3b605b5092d9

devstack: add nitrogen release definition

ODL nitrogen has been released. So let's add nitrogen release definition.

Also fixes the logic to retrieve release version.

------------------------------------------------------------
commit[2] I4c8471b3a1a0bf94558505a8d6241e68dfdbd912

Use latest ODL version for jobs

All the EOL releases are archived and don't have snapshots anymore, so
use the latest released version for CI.

Also updates pylint because one of the pylint dependencies has updated
to be python3 only; this version of pylint correctly caps things so it
still works with python2.

NOTE(elod.illes): the cause of the conflicts is that zuul jobs were
redesigned in queens. test-requirements.txt should not be changed
because it holds lower version constraints, so no need for capping.

------------------------------------------------------------
commit[3] I3d18beb71f4ecec8db133de39df21c8678a35568

devstack: try metadata in parent dir

When getting metadata file for artifact id, try parent directory
if failed. This is the case when autorelease.

------------------------------------------------------------
commit[4]: I5a8c40d1613f6e9ac3c59a68be7b22fffc37b938

change testrepository to stestr

As testrepository has changed to testr, dumping
logs on fullstack is spitting error.

NOTE(elod.illes): only post_test_hook.sh fix is needed now

Co-Authored-By: Isaku Yamahata <isaku.yamahata@intel.com>

Change-Id: Ifbca9cc504a4351c1671bce6083b3eb04b0bed3e
Co-Authored-By: Michel Peterson <mpeterso@redhat.com>
(cherry picked from commit b447dc302e0c4d686587a79328aa63385f4f92e3)
(cherry picked from commit 2bb439e410204488f6bbb82bff98bb4dd502fc77)
(cherry picked from commit b9fe79d81370b8fb1f6e25597d7fa3e547ce0ff3)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/72/584872/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/dsvm-networking-odl-functional-carbon-snapshot/run.yaml', 'devstack/odl-releases/carbon-latest', 'devstack/pre_test_hook.sh', 'playbooks/legacy/tempest-dsvm-networking-odl-multinode-carbon-snapshot/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-odl-nitrogen-snapshot-vpnservice-v2driver/run.yaml', 'playbooks/legacy/rally-dsvm-networking-odl-carbon-snapshot/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-odl-boron-snapshot-v2driver/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-odl-carbon-snapshot-vpnservice-v2driver/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-odl-multinode-nitrogen-snapshot/run.yaml', 'playbooks/legacy/rally-dsvm-networking-odl-nitrogen-snapshot/run.yaml', 'devstack/odl-releases/nitrogen-latest', 'playbooks/legacy/dsvm-networking-odl-fullstack-carbon-snapshot/run.yaml', 'playbooks/legacy/dsvm-networking-odl-fullstack-nitrogen-snapshot/run.yaml', 'playbooks/legacy/dsvm-networking-odl-functional-nitrogen-snapshot/run.yaml']",14,17fb61928dfb7b99e5a93f20d0fb06d1d7374137,, export ODL_RELEASE_BASE=nitrogen-latest, export ODL_RELEASE_BASE=nitrogen-snapshot,17,13
openstack%2Finstack-undercloud~master~Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,openstack/instack-undercloud,master,Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef,Restart rsyslog after installing Swift,MERGED,2018-07-12 07:43:53.000000000,2018-08-01 23:08:47.000000000,2018-07-30 09:46:38.000000000,"[{'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-12 07:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/534a55a242e3ea29bcb1eb88e958d503e992e5db', 'message': 'Restart rsyslog after installing Swift\n\nThis ensures that Swift logs end up in /var/log/swift/swift.log.\n\nCloses-Bug: 1781350\nChange-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef\n'}, {'number': 2, 'created': '2018-07-12 10:53:04.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/swift-undercloud-logging-bf103e33fb444f01.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d3c6857a49d37bc63057203ca75c656d2feeb418', 'message': 'Restart rsyslog after installing Swift\n\nThis ensures that Swift logs end up in /var/log/swift/swift.log.\n\nCloses-Bug: 1781350\nChange-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef\n'}]",1,581990,d3c6857a49d37bc63057203ca75c656d2feeb418,11,3,2,6968,,,0,"Restart rsyslog after installing Swift

This ensures that Swift logs end up in /var/log/swift/swift.log.

Closes-Bug: 1781350
Change-Id: Id5a6083f5dc3f8c569e0d0778722c1e52ff7cdef
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/90/581990/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/swift-undercloud-logging-bf103e33fb444f01.yaml']",2,534a55a242e3ea29bcb1eb88e958d503e992e5db,bug/1781350,--- fixes: - | Enforce a restart of rsyslog after installing Swift rpms. Otherwise all Swift logs end up in /var/log/messages instead of /var/log/swift/swift.log ,,10,0
openstack%2Fopenstack-ansible-os_octavia~master~I9d67717bf5b15fa3b38020ed846ed0b5937aadd0,openstack/openstack-ansible-os_octavia,master,I9d67717bf5b15fa3b38020ed846ed0b5937aadd0,Clarify the octavia-neutron event stream config options,MERGED,2018-07-30 16:53:40.000000000,2018-08-01 23:04:10.000000000,2018-08-01 23:04:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-07-30 16:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0bb0f8c7b583bbcaf7bb43b8900e7872720e0060', 'message': 'Clarify the octavia-neutron event stream config options\n\nFor the sake of clarifying the purpose of the vars from a\ndifferent namespace, the description comments are updated.\n\nThe default value for the password is removed, as passwords\nshould never have a default value. Role tests have the value\npopoulated, as does the integrated repo test.\n\nChange-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0\n'}, {'number': 2, 'created': '2018-07-31 08:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/47580b1fc56c6149795a99acf0fcacea01d34418', 'message': 'Clarify the octavia-neutron event stream config options\n\nFor the sake of clarifying the purpose of the vars from a\ndifferent namespace, the description comments are updated.\n\nThe default value for the password is removed, as passwords\nshould never have a default value. Role tests have the value\npopoulated, as does the integrated repo test.\n\nChange-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0\n'}, {'number': 3, 'created': '2018-08-01 09:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/17b71854d78a220e2dbcb5ef43cb50783bf53792', 'message': 'Clarify the octavia-neutron event stream config options\n\nFor the sake of clarifying the purpose of the vars from a\ndifferent namespace, the description comments are updated.\n\nThe default value for the password is removed, as passwords\nshould never have a default value. Role tests have the value\npopoulated, as does the integrated repo test.\n\nChange-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0\n'}, {'number': 4, 'created': '2018-08-01 11:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c7f666c9ddb7f89af73e725f78c6ba8e169abc07', 'message': 'Clarify the octavia-neutron event stream config options\n\nFor the sake of clarifying the purpose of the vars from a\ndifferent namespace, the description comments are updated.\n\nThe default value for the password is removed, as passwords\nshould never have a default value. Role tests have the value\npopoulated, as does the integrated repo test.\n\nChange-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0\n'}, {'number': 5, 'created': '2018-08-01 19:59:25.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53771fa6227edca991fc4d9aa2f7c88ecbff5217', 'message': 'Clarify the octavia-neutron event stream config options\n\nFor the sake of clarifying the purpose of the vars from a\ndifferent namespace, the description comments are updated.\n\nThe default value for the password is removed, as passwords\nshould never have a default value. Role tests have the value\npopoulated, as does the integrated repo test.\n\nChange-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0\n'}]",0,587140,53771fa6227edca991fc4d9aa2f7c88ecbff5217,19,5,5,6816,,,0,"Clarify the octavia-neutron event stream config options

For the sake of clarifying the purpose of the vars from a
different namespace, the description comments are updated.

The default value for the password is removed, as passwords
should never have a default value. Role tests have the value
popoulated, as does the integrated repo test.

Change-Id: I9d67717bf5b15fa3b38020ed846ed0b5937aadd0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/40/587140/4 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0bb0f8c7b583bbcaf7bb43b8900e7872720e0060,remove-cruft-in-osa,"# For convenience, we make use of the neutron message vhost # for the LBAAS event stream. We could make a completely # seperate vhost, but the old LBAAS functionality is # deprecated so it's a bit pointless unless there is demand # for doing it. As such, we provide these defaults here for # the template to use.neutron_oslomsg_rpc_transport: ""{{ octavia_oslomsg_rpc_transport }}"" neutron_oslomsg_rpc_port: ""{{ octavia_oslomsg_rpc_port }}"" neutron_oslomsg_rpc_servers: ""{{ octavia_oslomsg_rpc_servers }}"" neutron_oslomsg_rpc_use_ssl: ""{{ octavia_oslomsg_rpc_use_ssl }}""",# OSA is architected to use vHosts for queues so we need to post events # into the Neutron queue for them to be picked upneutron_oslomsg_rpc_transport: rabbit neutron_oslomsg_rpc_port: 5672 neutron_oslomsg_rpc_servers: 127.0.0.1 neutron_oslomsg_rpc_use_ssl: False neutron_oslomsg_rpc_password: changeme,10,7
openstack%2Fopenstack-ansible-os_octavia~master~Idfcf5fb400079eadd080b30992a90cc758e1cac8,openstack/openstack-ansible-os_octavia,master,Idfcf5fb400079eadd080b30992a90cc758e1cac8,Clean up test override vars,MERGED,2018-07-30 12:44:13.000000000,2018-08-01 23:02:41.000000000,2018-08-01 23:02:41.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 12:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/07e984ef63f46cfda94f064aebddd6165759e4d6', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}, {'number': 2, 'created': '2018-07-30 15:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ebeffabe6b383dade8b58aa00f041e13fbd3dd80', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}, {'number': 3, 'created': '2018-07-31 08:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d0ceb7e7f48509fe2588a5c67218783a73f261b5', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}, {'number': 4, 'created': '2018-08-01 09:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/72eaa6df2fd7b35aea64d531a729c1a0c1d5f45f', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}, {'number': 5, 'created': '2018-08-01 11:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c78acc7e48163f49f7a66d521bd05ab2639eda21', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}, {'number': 6, 'created': '2018-08-01 19:58:40.000000000', 'files': ['tests/os_octavia-overrides.yml', 'tests/test-octavia.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/778385767507973017a5b3c8c6da1f6a79165b45', 'message': ""Clean up test override vars\n\nSeveral override vars aren't used, or are only used in one\ntest playbook will will get revamped to eliminate the need\nfor them after the service delegation patch merges.\n\nAs such, we remove the unnecessary vars and move those to\nbe cleaned up later into the play to make it simpler to do.\n\nChange-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8\n""}]",0,587046,778385767507973017a5b3c8c6da1f6a79165b45,20,4,6,6816,,,0,"Clean up test override vars

Several override vars aren't used, or are only used in one
test playbook will will get revamped to eliminate the need
for them after the service delegation patch merges.

As such, we remove the unnecessary vars and move those to
be cleaned up later into the play to make it simpler to do.

Change-Id: Idfcf5fb400079eadd080b30992a90cc758e1cac8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/46/587046/6 && git format-patch -1 --stdout FETCH_HEAD,"['tests/os_octavia-overrides.yml', 'tests/test-octavia.yml']",2,07e984ef63f46cfda94f064aebddd6165759e4d6,remove-cruft-in-osa, octavia_service_user_name: octavia octavia_service_project_name: service octavia_service_user_domain_id: default octavia_service_project_domain_id: default octavia_ansible_endpoint_type: internal,,12,37
openstack%2Fopenstack-helm-infra~master~I61f28a2ebeecb22eb66e0394417b0af3a9116483,openstack/openstack-helm-infra,master,I61f28a2ebeecb22eb66e0394417b0af3a9116483,Gate: specify user for tiller image used for bootstrapping cluster,MERGED,2018-08-01 16:03:12.000000000,2018-08-01 22:59:56.000000000,2018-08-01 22:59:56.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:03:12.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-keystone-auth.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-dns.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-deploy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac270960026e3ee3e780425effd45e3fbfd21ae4', 'message': 'Gate: specify user for tiller image used for bootstrapping cluster\n\nThis PS updates the ansible roles to update the user used with\nthe tiller image used for bootstrapping to allow access to approprate\nconfig files used. This is required for use with the current master\ntiller image, which no longer deffaults to the root user.\n\nChange-Id: I61f28a2ebeecb22eb66e0394417b0af3a9116483\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,587867,ac270960026e3ee3e780425effd45e3fbfd21ae4,8,4,1,23928,,,0,"Gate: specify user for tiller image used for bootstrapping cluster

This PS updates the ansible roles to update the user used with
the tiller image used for bootstrapping to allow access to approprate
config files used. This is required for use with the current master
tiller image, which no longer deffaults to the root user.

Change-Id: I61f28a2ebeecb22eb66e0394417b0af3a9116483
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/587867/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-keystone-auth.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-dns.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-deploy.yaml']",4,ac270960026e3ee3e780425effd45e3fbfd21ae4,helm/bootstrapping-user, user: root,,4,0
openstack%2Fnetworking-odl~stable%2Fqueens~I30a7686122a2b4917e7585ac435991a36b1add64,openstack/networking-odl,stable/queens,I30a7686122a2b4917e7585ac435991a36b1add64,Use stable branch for unit tests instead of master,MERGED,2018-07-27 10:37:31.000000000,2018-08-01 22:49:44.000000000,2018-08-01 22:49:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9542}, {'_account_id': 16771}, {'_account_id': 17120}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 10:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/773aa588479c45cc5a0c6affe9fe5a4c73811f3f', 'message': 'Use stable branch for unit tests instead of master\n\nChange-Id: I30a7686122a2b4917e7585ac435991a36b1add64\n'}, {'number': 2, 'created': '2018-07-31 21:21:22.000000000', 'files': ['tools/tox_install_project.sh', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3074f1efdc0a9edc0a88f85e117b47b1fd8935bb', 'message': 'Use stable branch for unit tests instead of master\n\nChange-Id: I30a7686122a2b4917e7585ac435991a36b1add64\n'}]",0,586503,3074f1efdc0a9edc0a88f85e117b47b1fd8935bb,19,6,2,16771,,,0,"Use stable branch for unit tests instead of master

Change-Id: I30a7686122a2b4917e7585ac435991a36b1add64
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/03/586503/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install_project.sh'],1,773aa588479c45cc5a0c6affe9fe5a4c73811f3f,tests_fix,BRANCH_NAME=stable/queens,BRANCH_NAME=master,1,1
openstack%2Frequirements~master~I934fd45299ad8df0b625f25eebdcbdc17ccee7da,openstack/requirements,master,I934fd45299ad8df0b625f25eebdcbdc17ccee7da,Blacklist python-cinderclient 4.0.0,MERGED,2018-08-01 16:29:07.000000000,2018-08-01 22:18:03.000000000,2018-08-01 22:18:03.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:29:07.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/171e2a0c5d40ef9eb9ff1e134cb4e60df1e1f8ed', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\n\nChange-Id: I934fd45299ad8df0b625f25eebdcbdc17ccee7da\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,587877,171e2a0c5d40ef9eb9ff1e134cb4e60df1e1f8ed,7,3,1,11904,,,0,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.

Change-Id: I934fd45299ad8df0b625f25eebdcbdc17ccee7da
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/587877/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,171e2a0c5d40ef9eb9ff1e134cb4e60df1e1f8ed,new-release,python-cinderclient!=4.0.0 # Apache-2.0,python-cinderclient # Apache-2.0,1,1
openstack%2Fswift~master~I0ab646ad70a1416a734677e11427f281f27b86c6,openstack/swift,master,I0ab646ad70a1416a734677e11427f281f27b86c6,Emit periodic stats from account and container replicators,NEW,2018-04-27 20:17:08.000000000,2018-08-01 22:17:56.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 20:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6c7078abc58a180cc4344aa03f287bc77cebdb1', 'message': ""Emit periodic stats from account and container replicators\n\nThe object replicator periodically emits a stats line with some\nprogress numbers, including an estimated completion time. This commit\nadds a similar thing to the account and container replicators. It's\nnot as verbose, but the estimated completion time is in there, and\nthat's the most important part.\n\nChange-Id: I0ab646ad70a1416a734677e11427f281f27b86c6\n""}, {'number': 2, 'created': '2018-06-20 23:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08138fe00445cfe3784cd195950f27166e26530a', 'message': ""Emit periodic stats from account and container replicators\n\nThe object replicator periodically emits a stats line with some\nprogress numbers, including an estimated completion time. This commit\nadds a similar thing to the account and container replicators. It's\nnot as verbose, but the estimated completion time is in there, and\nthat's the most important part.\n\nChange-Id: I0ab646ad70a1416a734677e11427f281f27b86c6\n""}, {'number': 3, 'created': '2018-06-25 19:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92c3042f0f2d83cba113c47e79f067b9348403ef', 'message': ""Emit periodic stats from account and container replicators\n\nThe object replicator periodically emits a stats line with some\nprogress numbers, including an estimated completion time. This commit\nadds a similar thing to the account and container replicators. It's\nnot as verbose, but the estimated completion time is in there, and\nthat's the most important part.\n\nChange-Id: I0ab646ad70a1416a734677e11427f281f27b86c6\n""}, {'number': 4, 'created': '2018-06-29 00:07:34.000000000', 'files': ['doc/source/deployment_guide.rst', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'swift/container/sharder.py', 'etc/account-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/9aedfd19c0e9650aa9381607024245be316ccc5e', 'message': ""Emit periodic stats from account and container replicators\n\nThe object replicator periodically emits a stats line with some\nprogress numbers, including an estimated completion time. This commit\nadds a similar thing to the account and container replicators. It's\nnot as verbose, but the estimated completion time is in there, and\nthat's the most important part.\n\nChange-Id: I0ab646ad70a1416a734677e11427f281f27b86c6\n""}]",3,564875,9aedfd19c0e9650aa9381607024245be316ccc5e,11,4,4,2622,,,0,"Emit periodic stats from account and container replicators

The object replicator periodically emits a stats line with some
progress numbers, including an estimated completion time. This commit
adds a similar thing to the account and container replicators. It's
not as verbose, but the estimated completion time is in there, and
that's the most important part.

Change-Id: I0ab646ad70a1416a734677e11427f281f27b86c6
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/564875/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment_guide.rst', 'etc/container-server.conf-sample', 'test/unit/common/test_db_replicator.py', 'swift/common/db_replicator.py', 'etc/account-server.conf-sample']",5,c6c7078abc58a180cc4344aa03f287bc77cebdb1,db-repl-progress-rebase,# stats_interval = 300 #,,224,136
openstack%2Fcinder~master~Ib0894a606df78112a86d444339db4bb5df81110b,openstack/cinder,master,Ib0894a606df78112a86d444339db4bb5df81110b,Remove mkdir from volume.filters,MERGED,2018-07-05 15:47:28.000000000,2018-08-01 22:06:21.000000000,2018-07-05 22:33:31.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-05 15:47:28.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c96c7556f57bf95e6bcbf3bafb95a86bb794f0d5', 'message': ""Remove mkdir from volume.filters\n\nThe 'mkdir' command was not being used anywhere\nso remove it.\n\nChange-Id: Ib0894a606df78112a86d444339db4bb5df81110b\nSigned-off-by: Chuck Short <chucks@redhat.com>\n""}]",0,580427,c96c7556f57bf95e6bcbf3bafb95a86bb794f0d5,28,23,1,24,,,0,"Remove mkdir from volume.filters

The 'mkdir' command was not being used anywhere
so remove it.

Change-Id: Ib0894a606df78112a86d444339db4bb5df81110b
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/580427/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/cinder/rootwrap.d/volume.filters'],1,c96c7556f57bf95e6bcbf3bafb95a86bb794f0d5,,,"# cinder/volume/drivers/remotefs.py mkdir: CommandFilter, mkdir, root ",0,3
openstack%2Fcinder~master~Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff,openstack/cinder,master,Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff,NetApp ONTAP: Remove NFS driver online volume extending support,MERGED,2018-06-26 20:31:38.000000000,2018-08-01 22:05:28.000000000,2018-07-13 20:35:34.000000000,"[{'_account_id': 24}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-26 20:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5a2668495c527985a8546209c35b2899eade576', 'message': ""NetApp ONTAP: Remove NFS driver online volume extending support\n\nCinder scheduler now checks backend capability online_extend_support\nbefore performing an online volume extend operation. This patch makes\nNetApp ONTAP NFS driver report to the scheduler that it doesn't support\nthis feature, thus avoiding leaving a volume in error_extending state\nafter an online extending attempt.\n\nChange-Id: Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}, {'number': 2, 'created': '2018-07-05 13:28:48.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-1765182-de132ba52167800b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40d50eccdef9cc1b42bb8e24e6b641b20213720d', 'message': ""NetApp ONTAP: Remove NFS driver online volume extending support\n\nCinder scheduler now checks backend capability online_extend_support\nbefore performing an online volume extend operation. This patch makes\nNetApp ONTAP NFS driver report to the scheduler that it doesn't support\nthis feature, thus avoiding leaving a volume in error_extending state\nafter an online extending attempt.\n\nChange-Id: Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff\nDepends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7\nRelated-Bug: #1765182\n""}]",0,578196,40d50eccdef9cc1b42bb8e24e6b641b20213720d,89,39,2,18058,,,0,"NetApp ONTAP: Remove NFS driver online volume extending support

Cinder scheduler now checks backend capability online_extend_support
before performing an online volume extend operation. This patch makes
NetApp ONTAP NFS driver report to the scheduler that it doesn't support
this feature, thus avoiding leaving a volume in error_extending state
after an online extending attempt.

Change-Id: Iafe3e68d6e9c20064a8825848b7b2d33ce7f4cff
Depends-On: I2c31b5c171574074a8fc7ba86f94f983fc9658f7
Related-Bug: #1765182
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/578196/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/bug-1765182-de132ba52167800b.yaml']",3,f5a2668495c527985a8546209c35b2899eade576,bug/1765182,--- fixes: - | NetApp ONTAP (bug 1765182): Make ONTAP NetApp NFS driver report to the Cinder scheduler that it doesn't support online volume extending. ,,7,0
openstack%2Fopenstack-ansible-os_designate~master~I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3,openstack/openstack-ansible-os_designate,master,I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3,[TEST] openstack_hosts/pip_install changes,ABANDONED,2018-08-01 12:35:51.000000000,2018-08-01 22:05:23.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 12:35:51.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/05dd3a11e771d1394a77079ca0e2e30289ddfce6', 'message': '[TEST] openstack_hosts/pip_install changes\n\nDepends-On: https://review.openstack.org/587801\nChange-Id: I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3\n'}]",0,587803,05dd3a11e771d1394a77079ca0e2e30289ddfce6,5,2,1,6816,,,0,"[TEST] openstack_hosts/pip_install changes

Depends-On: https://review.openstack.org/587801
Change-Id: I7f97e2e9977f1f8c506e6f5f2f71a1b1310ba9d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/03/587803/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,05dd3a11e771d1394a77079ca0e2e30289ddfce6,bp/python-build-install-simplification,,,0,0
openstack%2Fopenstack-ansible~master~Ic67afe46f0c94a10a62ffa618ae3462765d9f637,openstack/openstack-ansible,master,Ic67afe46f0c94a10a62ffa618ae3462765d9f637,[TEST] openstack_hosts/pip_install changes,ABANDONED,2018-08-01 12:37:30.000000000,2018-08-01 22:05:02.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 12:37:30.000000000', 'files': ['dummy'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29aebaffd3210111ad3f88033533abe3a4cd9948', 'message': '[TEST] openstack_hosts/pip_install changes\n\nDepends-On: https://review.openstack.org/587801\nChange-Id: Ic67afe46f0c94a10a62ffa618ae3462765d9f637\n'}]",0,587804,29aebaffd3210111ad3f88033533abe3a4cd9948,5,2,1,6816,,,0,"[TEST] openstack_hosts/pip_install changes

Depends-On: https://review.openstack.org/587801
Change-Id: Ic67afe46f0c94a10a62ffa618ae3462765d9f637
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/587804/1 && git format-patch -1 --stdout FETCH_HEAD,['dummy'],1,29aebaffd3210111ad3f88033533abe3a4cd9948,bp/python-build-install-simplification,,,0,0
openstack%2Fcinder~master~I3cff61b4cde16e00ad23d534c5281a2f1afcd29f,openstack/cinder,master,I3cff61b4cde16e00ad23d534c5281a2f1afcd29f,Port nvmet driver to use privsep,MERGED,2018-07-04 19:39:19.000000000,2018-08-01 22:03:53.000000000,2018-07-06 17:13:55.000000000,"[{'_account_id': 24}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-04 19:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04b60ccf3075f387f666cc14df001ea1139edf95', 'message': 'Port nvmet driver to use privsep\n\nNow that we have privsep support in cinder,\nwe can start using privsep in various drivers\nso we can drop rootwrap support.\n\nChange-Id: I3cff61b4cde16e00ad23d534c5281a2f1afcd29f\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-07-04 23:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99f87f06aa46b0b8692942c7d5df6e82be37e03f', 'message': 'Port nvmet driver to use privsep\n\nNow that we have privsep support in cinder,\nwe can start using privsep in various drivers\nso we can drop rootwrap support.\n\nChange-Id: I3cff61b4cde16e00ad23d534c5281a2f1afcd29f\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2018-07-05 12:11:04.000000000', 'files': ['etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/nvmcli.py', 'cinder/privsep/utils.py', 'cinder/volume/targets/nvmet.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c1b5cbad720b3d309152aaa0f54ad0bedb01aac', 'message': 'Port nvmet driver to use privsep\n\nNow that we have privsep support in cinder,\nwe can start using privsep in various drivers\nso we can drop rootwrap support.\n\nChange-Id: I3cff61b4cde16e00ad23d534c5281a2f1afcd29f\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",6,580226,5c1b5cbad720b3d309152aaa0f54ad0bedb01aac,74,28,3,24,,,0,"Port nvmet driver to use privsep

Now that we have privsep support in cinder,
we can start using privsep in various drivers
so we can drop rootwrap support.

Change-Id: I3cff61b4cde16e00ad23d534c5281a2f1afcd29f
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/580226/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/rootwrap.d/volume.filters', 'cinder/privsep/nvmcli.py', 'cinder/privsep/utils.py', 'cinder/volume/targets/nvmet.py']",4,04b60ccf3075f387f666cc14df001ea1139edf95,,"import cinder.privsep try: out, err = cinder.privsep.nvmcli.restore(tmp_fd.name) LOG.debug( 'Removing this subsystem: %s', subsystem_name) for port in nvmf_subsystems['ports']: if subsystem_name in port['subsystems']: port['subsystems'].remove(subsystem_name) break for subsys in nvmf_subsystems['subsystems']: if subsys['nqn'] == subsystem_name: nvmf_subsystems['subsystems'].remove(subsys) break LOG.debug( 'Newly loaded subsystems will be: %s', nvmf_subsystems) self._restore(nvmf_subsystems) return subsystem_name try: out, err = cinder.privsep.nvmcli.save(tmp_file_path) try: out = cinder.privsep.utils.openfile(tmp_file_path) try: cinder.privsep.utils.removefile(file_path)"," cmd = [ 'nvmetcli', 'restore', tmp_fd.name] try: out, err = utils.execute(*cmd, run_as_root=True) LOG.debug( 'Removing this subsystem: %s', subsystem_name) for port in nvmf_subsystems['ports']: if subsystem_name in port['subsystems']: port['subsystems'].remove(subsystem_name) break for subsys in nvmf_subsystems['subsystems']: if subsys['nqn'] == subsystem_name: nvmf_subsystems['subsystems'].remove(subsys) break LOG.debug( 'Newly loaded subsystems will be: %s', nvmf_subsystems) self._restore(nvmf_subsystems) return subsystem_name cmd = [ 'nvmetcli', 'save', tmp_file_path] try: out, err = utils.execute(*cmd, run_as_root=True) cmd = ['cat', tmp_file_path] try: out, err = utils.execute(*cmd) cmd = ['rm', '-f', file_path] try: out, err = utils.execute(*cmd, run_as_root=True)",98,32
openstack%2Fcinder~master~Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e,openstack/cinder,master,Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e,DS8K: correct behavior and return value for terminate_connection method,MERGED,2018-06-27 06:33:57.000000000,2018-08-01 22:03:00.000000000,2018-07-05 19:36:38.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26422}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-27 06:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/017a258b90414dd2eab0ae725933a3f4d4213d43', 'message': ""In terminate_connection method, if the host cann't be found in the storage\nand the lun type is non-replication, driver will log an error instead of\nraising an exception and the return value should be lowercase\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 2, 'created': '2018-06-27 06:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dda11a41a5cac7ae7fa1d1a7c5c952ab1e09128', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host cann't be found in the \nstorage and the lun type is non-replication, driver will log an error \ninstead of raising an exception and the return value should be \nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 3, 'created': '2018-06-27 06:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a43cf46fae56544a8f9fd5802afe3d2d7e0c6e7e', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host cann't be found in the\nstorage and the lun type is non-replication, driver will log an error\ninstead of raising an exception and the return value should be\nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 4, 'created': '2018-06-28 06:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c5d232f628d45ff229a42fd3c90e1beabcca2d0', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host cann't be found in the\nstorage and the lun type is non-replication, driver will log an error\ninstead of raising an exception and the return value should be\nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 5, 'created': '2018-06-28 06:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4da6994859ec13df9f666e4cd328fa767e2ae90', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host can't be found in the\nstorage and the lun type is non-replication, driver will log an error\ninstead of raising an exception and the return value should be\nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 6, 'created': '2018-07-04 05:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66b143956a3aa84a9717d4a22d9073a0828eb928', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host can't be found in the\nstorage and the lun type is non-replication, driver will log an error\ninstead of raising an exception and the return value should be\nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}, {'number': 7, 'created': '2018-07-05 01:11:25.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/97f71915d13c9a538e1fc64ab388d27f5a3b39a7', 'message': ""DS8K: correct behavior and return value for terminate_connection method\n\nIn terminate_connection method, if the host can't be found in the\nstorage and the lun type is non-replication, driver will log an error\ninstead of raising an exception and the return value should be\nlowercase.\n\nChange-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e\nCloses-Bug: 1776227\n""}]",10,578290,97f71915d13c9a538e1fc64ab388d27f5a3b39a7,121,37,7,26422,,,0,"DS8K: correct behavior and return value for terminate_connection method

In terminate_connection method, if the host can't be found in the
storage and the lun type is non-replication, driver will log an error
instead of raising an exception and the return value should be
lowercase.

Change-Id: Idf4e9b966a1b0f9154ca600e088ceb6929a1fb0e
Closes-Bug: 1776227
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/578290/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",3,017a258b90414dd2eab0ae725933a3f4d4213d43,bug/1776227," self.driver.terminate_connection(volume, TEST_CONNECTOR) ret_info = self.driver.terminate_connection(volume, TEST_CONNECTOR) self.assertTrue( list(ret_info['data']['initiator_target_map'].keys())[0] in [TEST_SOURCE_WWPN_1, TEST_SOURCE_WWPN_2]) self.assertTrue( list(ret_info['data']['initiator_target_map'].keys())[1] in [TEST_SOURCE_WWPN_1, TEST_SOURCE_WWPN_2])"," self.assertRaises(exception.VolumeDriverException, self.driver.terminate_connection, volume, TEST_CONNECTOR) self.driver.terminate_connection(volume, TEST_CONNECTOR)",9,6
openstack%2Foslo.messaging~stable%2Frocky~I1950b17bf99ee1ba91334c54b65e746764ae4ea8,openstack/oslo.messaging,stable/rocky,I1950b17bf99ee1ba91334c54b65e746764ae4ea8,Update .gitreview for stable/rocky,MERGED,2018-07-26 12:38:41.000000000,2018-08-01 22:00:27.000000000,2018-08-01 22:00:27.000000000,"[{'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:38:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7b06086f569b6a5e0bb7b2eda60d5d6a657d63ae', 'message': 'Update .gitreview for stable/rocky\n\nChange-Id: I1950b17bf99ee1ba91334c54b65e746764ae4ea8\n'}]",0,586137,7b06086f569b6a5e0bb7b2eda60d5d6a657d63ae,7,3,1,22816,,,0,"Update .gitreview for stable/rocky

Change-Id: I1950b17bf99ee1ba91334c54b65e746764ae4ea8
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/37/586137/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7b06086f569b6a5e0bb7b2eda60d5d6a657d63ae,create-rocky,defaultbranch=stable/rocky,,1,0
openstack%2Fansible-role-tripleo-modify-image~master~I3389f31ed7182d07e72e967e81a8e6afc147508e,openstack/ansible-role-tripleo-modify-image,master,I3389f31ed7182d07e72e967e81a8e6afc147508e,Use release-openstack-server job-template,MERGED,2018-08-01 15:20:19.000000000,2018-08-01 21:54:25.000000000,2018-08-01 21:54:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 15:20:19.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/3b4e2e64e45bfc8363dbb40ba68c52b8fa9b080a', 'message': ""Use release-openstack-server job-template\n\nWe don't want these roles pushed to pypi, so no need to try uploading\nthem. This template is the same as publish-to-pypi except it's not\npushing the project to pypy.\n\nChange-Id: I3389f31ed7182d07e72e967e81a8e6afc147508e\n""}]",0,587848,3b4e2e64e45bfc8363dbb40ba68c52b8fa9b080a,8,4,1,3153,,,0,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading
them. This template is the same as publish-to-pypi except it's not
pushing the project to pypy.

Change-Id: I3389f31ed7182d07e72e967e81a8e6afc147508e
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/48/587848/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3b4e2e64e45bfc8363dbb40ba68c52b8fa9b080a,tripleo/update, - release-openstack-server, - publish-to-pypi,1,1
openstack%2Fcinder~master~Ie5a9753439b7d4d9959e1c59342ad76238276ba1,openstack/cinder,master,Ie5a9753439b7d4d9959e1c59342ad76238276ba1,IBM XIV and DS8K: Update document for Rocky release:,MERGED,2018-07-25 06:26:30.000000000,2018-08-01 21:52:52.000000000,2018-08-01 21:52:51.000000000,"[{'_account_id': 24}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-25 06:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2dd20c6da74424fd4f07ef038470ac7f6f9d57ed', 'message': 'IBM XIV and DS8K: Update document for Rocky release:\n\nAdd detailed configuration information and feature user guide.\n\nChange-Id: Ie5a9753439b7d4d9959e1c59342ad76238276ba1\nCloses-bug: #1783478\n'}, {'number': 2, 'created': '2018-07-30 06:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a3effd3ae0caf9509342213eb82f15f2c9ce2b8', 'message': 'IBM XIV and DS8K: Update document for Rocky release:\n\nAdd detailed configuration information and feature user guide.\n\nChange-Id: Ie5a9753439b7d4d9959e1c59342ad76238276ba1\n'}, {'number': 3, 'created': '2018-07-30 06:28:23.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1675c91a105c1d4fbc99b68afcae5d10f84cadb1', 'message': 'IBM XIV and DS8K: Update document for Rocky release:\n\nAdd detailed configuration information and feature user guide.\n\nChange-Id: Ie5a9753439b7d4d9959e1c59342ad76238276ba1\n'}]",13,585645,1675c91a105c1d4fbc99b68afcae5d10f84cadb1,71,32,3,18288,,,0,"IBM XIV and DS8K: Update document for Rocky release:

Add detailed configuration information and feature user guide.

Change-Id: Ie5a9753439b7d4d9959e1c59342ad76238276ba1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/585645/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'],1,2dd20c6da74424fd4f07ef038470ac7f6f9d57ed,bug1783478,"################################################################The driver was validated on storage systems, as detailed in the Supported storage systems section below. Family (SAF): XIV, Spectrum Accelerate, FlashSystem A9000/A9000R.Preparation ~~~~~~~~~~~ If you intend to manage a Spectrum Accelerate Family product, install a Python client for executing CLI commands on all Cinder nodes. The IBM Python XCLI Client allows full management and monitoring of the relevant storage systems. The client package and its documentation are available at `GitHub <https://github.com/IBM/pyxcli>`_. Compatibility and requirements ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section specifies the compatibility and requirements of the IBM Storage Driver for OpenStack. Supported storage systems ------------------------- The IBM Storage Driver for OpenStack supports the IBM storage systems, as detailed in the following table. +-----------------+--------------------+--------------------+ | Storage system | Microcode version | Connectivity | +=================+====================+====================+ | IBM DS8870 | 7.5 SP4 or later, | Fibre Channel (FC) | | | 7.5 with RESTful | | | | API patch | | +-----------------+--------------------+--------------------+ | IBM DS8880 | 8.1 or later | Fibre Channel (FC) | +-----------------+--------------------+--------------------+ | IBM XIV | 11.1.x, 11.2.x, | Fibre Channel (FC) | | Storage System | 11.3.x, 11.4.x, | iSCSI | | | 11.5.x, 11.6.x | | +-----------------+--------------------+--------------------+ | IBM Spectrum | 11.5.x | iSCSI | | Accelerate | | | +-----------------+--------------------+--------------------+ | IBM FlashSystem | 12.0.x, 12.1.x, | Fibre Channel (FC) | | A9000/A9000R | 12.2.x | iSCSI | +-----------------+--------------------+--------------------+ Copy Services license --------------------- Copy Services features help you implement storage solutions to keep your business running 24 hours a day, 7 days a week by providing image caching, replication and cloning functions. The Copy Services license is based on usable capacity of the volumes involved in Copy Services functionality. The Copy Services license is available for the following license scopes: FB and ALL (both FB and CKD). The Copy Services license includes the following features: * Global Mirror * Metro Mirror * Metro/Global Mirror * Point-in-Time Copy/FlashCopy® * z/OS® Global Mirror * z/OS Metro/Global Mirror Incremental Resync (RMZ) The Copy Services license feature codes are ordered in increments up to a specific capacity. For example, if you require 160 TB of capacity, order 10 of feature code 8251 (10 TB each up to 100 TB capacity), and 4 of feature code 8252 (15 TB each, for an extra 60 TB). The Copy Services license includes the following feature codes. +--------------+-----------------------------------------------------+ | Feature Code | Feature code for licensed function indicator | +==============+=====================================================+ | 8250 | CS - inactive | +--------------+-----------------------------------------------------+ | 8251 | CS - 10 TB (up to 100 TB capacity) | +--------------+-----------------------------------------------------+ | 8252 | CS - 15 TB (from 100.1 TB to 250 TB capacity) | +--------------+-----------------------------------------------------+ | 8253 | CS - 25 TB (from 250.1 TB to 500 TB capacity) | +--------------+-----------------------------------------------------+ | 8254 | CS - 75 TB (from 500.1 to 1250 TB capacity) | +--------------+-----------------------------------------------------+ | 8255 | CS - 175 TB (from 1250.1 TB to 3000 TB capacity) | +--------------+-----------------------------------------------------+ | 8256 | CS - 300 TB (from 3000.1 TB to 6000 TB capacity) | +--------------+-----------------------------------------------------+ | 8260 | CS - 500 TB (from 6000.1 TB to 10,000 TB capacity) | +--------------+-----------------------------------------------------+ The following ordering rules apply when you order the Copy Services license: * The Copy Services license should be ordered based on the total usable capacity of all volumes involved in one or more Copy Services relationships. * The licensed authorization must be equal to or less that the total usable capacity allocated to the volumes that participate in Copy Services operations. * You must purchase features for both the source (primary) and target (secondary) storage system. Required software on the OpenStack Cinder and Nova nodes -------------------------------------------------------- The IBM Storage Driver makes use of the following software on the OpenStack Cinder and Nova-compute nodes. +------------------------+----------------------------------+ | Software | Installed on | +========================+==================================+ | Ubuntu Server (16.04), | All OpenStack Cinder nodes | | x64 | | | | | | Red Hat Enterprise | | | Linux (RHEL) 7.x, x64 | | | | | | CentOS Linux 7.x, x64 | | | | | | KVM for IBM z Systems | | +------------------------+----------------------------------+ | IBM Storage Host | All OpenStack Cinder and Nova | | Attachment Kit for | compute nodes that connect to | | Linux | storage systems and use RHEL 7.x | | | or CentOS Linux 7.x | +------------------------+----------------------------------+ | Linux patch package | All OpenStack Cinder nodes | +------------------------+----------------------------------+ | sysfsutils utility | All OpenStack Cinder nodes on FC | | | network | +------------------------+----------------------------------+ | iscsi-initiator-utils | All OpenStack Cinder and Nova | | utility (RHEL and | compute nodes on iSCSI network | | CentOS) or open-iscsi | | | utility (Ubuntu) | | +------------------------+----------------------------------+ | IBM Python XCLI client | All OpenStack Cinder nodes | +------------------------+----------------------------------+ volume_driver = cinder.volume.drivers.ibm.ibm_storage.IBMStorageDriver Configuration Description for DS8000 ------------------------------------Replication parameters ---------------------- +-----------------+------------------------------+---------------+ | Parameter | Description | Applicable to | +=================+==============================+===============+ | replication | Volume replication | DS8000 | | _device | parameters | | +-----------------+------------------------------+---------------+ | backend_id | IP address or host name of | DS8000 | | | the target storage system | | +-----------------+------------------------------+---------------+ | san_login | User name be used during | DS8000 | | | replication procedure | | +-----------------+------------------------------+---------------+ | san_password | Password be used during | DS8000 | | | replication procedure | | | | (base64-encoded) | | +-----------------+------------------------------+---------------+ | san_clustername | Pool name on the target | DS8000 | | | storage system | | +-----------------+------------------------------+---------------+ | port_pairs | ID pairs of IO ports, | DS8000 | | | participating in | | | | replication | | +-----------------+------------------------------+---------------+ | lss_range_for | LSS range to reserve for | DS8000 | | _cg | consistency groups | | +-----------------+------------------------------+---------------+ Configuration Description for SAF ------------------------------------ +-----------------+------------------------------+---------------+ | Parameter | Description | Applicable to | +=================+==============================+===============+ | management_ips | IP addresses of the | | | | management interfaces of a | | | | storage system | | +-----------------+------------------------------+---------------+ | san_password | Storage system password | SAF | | | (base64-encoded) | | +-----------------+------------------------------+---------------+ | san_login | Storage system user name | SAF | +-----------------+------------------------------+---------------+ | volume_driver | Driver to use for volume | SAF | | | creation | | +-----------------+------------------------------+---------------+ | proxy | Proxy for IBM storage driver | SAF | | | location within Cinder | | | | | | | | SAF: cinder.volume.drivers. | | | | ibm.ibm_storage.xiv_proxy. | | | | XIVProxy | | | | | | | | DS8000: cinder.volume. | | | | drivers.ibm.ibm_storage. | | | | xiv_proxy.XIVProxy | | +-----------------+------------------------------+---------------+ | san_ip | Storage system IP address or | SAF | | | hostname | | +-----------------+------------------------------+---------------+ | connection_type | Network connection type | SAF | | | | | | | Values: fibre_channel, iscsi | | +-----------------+------------------------------+---------------+ | san_clustername | Storage pool name | SAF | +-----------------+------------------------------+---------------+ | chap | iSCSI CHAP authentication | SAF | | | usage | | | | | | | | Values: disabled, enabled | | +-----------------+------------------------------+---------------+ | system_id | Storage system ID | SAF | +-----------------+------------------------------+---------------+The following information provides an overview of security for the IBM Storage Driver for OpenStack.* If working in a secure mode, do not work insecurely against another storage system in the same environment. certificate, use the CA file that was provided with your storage system (``XIV-CA.pem``). The certificate files should be copied to one of the following directories: * ``/etc/ssl/certs`` * ``/etc/ssl/certs/xiv`` * ``/etc/pki`` * ``/etc/pki/xiv`` If you are using your own certificates, copy them to the same directories with the prefix ``XIV`` and in the ``.pem`` format. For example: XIV-my_cert.pem. community `directions <http://osdir.com/ml/openstack-dev/2014-10/msg01349.html>`_. Configuring Cinder nodes for trusted communication (DS8000 Family) ------------------------------------------------------------------ The IBM Storage Driver for OpenStack communicates with DS8000 over HTTPS, using self-signed certificate or certificate signed by a certificate authority (CA). Configure a trusted communication link to ensure a successful attachment of a Cinder node to a DS8000 storage system, as detailed in the following sections. Configuring trusted communication link -------------------------------------- Before configuring a DS8000 backend, complete the following steps to establish the chain of trust. #. In your operating system shell, run this command to obtain the certificate: ``openssl x509 -in <(openssl s_client -connect <host fqdn>:8452 -prexit 2>/dev/null) -text -out <host fqdn>.pem`` If the certificate is self-signed, the following information is displayed: .. code-block:: ini --- Certificate chain 0 s:/CN=ds8000.ibm.com i:/CN=ds8000.ibm.com --- #. Create an exception by moving the certificate ``<fqdn>.pem to the /opt/ibm/ds8k_certs/<host>.pem`` file. #. Verify that the <host fqdn> is the same as configured in san_ip. #. If the certificate subject and issuer are different, the certificate is signed by a CA, as illustrated below: .. code-block:: ini --- Certificate chain 0 s:/C=US/ST=New York/L=Armonk/O=IBM/OU=EI/CN=www.ibm.com i:/C=US/O=GeoTrust Inc./CN=GeoTrust SSL CA - G3 1 s:/C=US/O=GeoTrust Inc./CN=GeoTrust SSL CA - G3 i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA --- #. Add a public certificate to trusted CA certificate store to complete the chain of trust, as explained below. #. Verify trusted communication link, as explained below. Adding a public certificate to trusted CA certificate store ----------------------------------------------------------- Add the CA public certificate to the trusted CA certificates store on the Cinder node, according to procedures for the operating system in use. 1. For RHEL 7.x or CentOS 7.x, place the certificate to be trusted (in PEM format) into the /etc/pki/ca-trust/source/anchors/ directory. Then, run the ``sudo update-ca-trust`` command. 2. For Ubuntu 16.04, place the certificate to be trusted (in PEM format) into the /usr/local/share/ca-certificates/ directory. Rename the file, using the ``*.crt`` extension. Then, run the ``sudo update-ca-certificates`` command. 3. For Python requests library with certifi, run the ``cat ca_public_certificate.pem`` command to append the certificate to the location of the certifi trust store file. For example: .. code-block:: ini cat ca_public_certificate.pem >> /usr/local/lib/python2.7/ dist-packages/certifi/cacert.pem. Verifying trusted communication link ------------------------------------ Verify the chain of trust has been established successfully. #. Obtain the location of the Python library requests trust store, according to the installation type. #. RHEL 7.x or CentOS 7.x: .. code-block:: console # python Python 2.7.5 (default, Oct 11 2015, 17:47:16) [GCC 4.8.3 20140911 (Red Hat 4.8.3-9)] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import requests >>> print requests.certs.where() /etc/pki/tls/certs/ca-bundle.crt #. Ubuntu 16.04: .. code-block:: console # python Python 2.7.6 (default, Jun 22 2015, 17:58:13) [GCC 4.8.2] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import requests >>> print requests.certs.where() /etc/ssl/certs/ca-certificates.crt #. Python requests library with certifi: .. code-block:: console # python Python 2.7.6 (default, Jun 22 2015, 17:58:13) [GCC 4.8.2] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import requests >>> print requests.certs.where() /usr/local/lib/python2.7/ dist-packages/certifi/cacert.pem #. Run the ``openssl s_client -CAfile <location> -connect <host fqdn>:8452 </dev/null`` command. The following return codes indicate a successful or failed attempt in establishing a trusted communication link. * Verify return code: 0 (ok): success. * Verify return code: 21 (unable to verify the first certificate), or any other non-zero value: failure.Checking the Cinder log files .. code-block:: console verbose = True debug = TrueStorage Driver is functioning properly. To check the log file on a Cinder node, go to the /var/log/cinder folder and open the activity log file named cinder-volume.log or volume.log. The IBM Storage Driver writes to this log file using the [IBM DS8K STORAGE] or [IBM XIV STORAGE] prefix (depending on the relevant storage system) for each event that it records in the file.Working with multi-tenancy (Spectrum Accelerate Family) ------------------------------------------------------- The XIV storage systems, running microcode version 11.5 or later, Spectrum Accelerate and FlashSystem A9000/A9000R can employ multi-tenancy. In order to use multi-tenancy with the IBM Storage Driver for OpenStack: * For each storage system, verify that all predefined storage pools are in the same domain or, that all are not in a domain. credentials, as long as the credentials grant a full access to the relevant pool.Working with IBM Real-time Compression™ (Spectrum Accelerate Family) --------------------------------------------------------------------Working with QoS (Spectrum Accelerate Family) ---------------------------------------------For detailed instructions on QoS configuration, refer to the user documentation of the relevant storage system on IBM `Knowledge Center <https://www.ibm.com/support/knowledgecenter>`_. .. code-block:: console cinder qos-create <class_name> <class_specs: bw=#, iops=#> .. code-block:: console cinder type-create type_<qos_class_name> .. code-block:: console cinder qos-associate <qos uuid> <type uuid> .. code-block:: console cinder type-key <type_name or UUID> set QoS_support=True .. code-block:: console cinder create 1 --volume-type <type_name> Configuring volume replication (DS8000 Family) ---------------------------------------------- Volume replication is required for disaster recovery and high-availability applications running on top of OpenStack-based clouds. The IBM Storage Driver for OpenStack supports synchronous (Metro Mirror) volume replication for DS8000 storage systems. 1. Verify that: * Master and remote storage pools exist on DS8000 systems. * Reliable communication link is established between the primary and secondary sites, including physical connection and PPRC path. * Metro Mirror replication is enabled on DS8000 storage systems. 2. Perform the following procedure, replacing the values in the example with your own: .. code-block:: console enabled_backends = ibm_ds8k_1, ibm_ds8k_2 [ibm_ds8k_1] proxy = cinder.volume.drivers.ds8k_proxy.DS8KProxy volume_backend_name = ibm_ds8k_1 san_clustername = P2,P3 san_password = actual_password san_login = actual_username san_ip = host_fqdn volume_driver = cinder.volume.drivers.ibm.ibm_storage.IBMStorageDriver chap = disabled connection_type = fibre_channel replication_device = connection_type: fibre_channel, backend_id: bar, san_ip: host_fqdn, san_login: actual_username, san_password: actual_password, san_clustername: P4, port_pairs: I0236-I0306; I0237-I0307 [ibm_ds8k_2] proxy = cinder.volume.drivers.ibm.ds8k_proxy.DS8KProxy volume_backend_name = ibm_ds8k_2 san_clustername = P4,P5 san_password = actual_password san_login = actual_username san_ip = 10.0.0.1 volume_driver = cinder.volume.drivers.ibm.ibm_storage.IBMStorageDriver chap = disabled connection_type = fibre_channel Configuring groups -------------------- The IBM Storage Driver for OpenStack supports volume grouping. These groups can be assigned a group type, and used for replication and group snapshotting. Replication groups ------------------ For better control over replication granularity, the user can employ volume grouping. This enables volume group replication and failover without affecting the entire backend. The user can choose between a generic group replication and consistency group (CG) replication. For consistency group replication, the driver utilizes the storage capabilities to handle CGs and replicate them to a remote site. On the other hand, in generic group replication, the driver replicates each volume individually. In addition, the user can select the replication type. To configure group replication: 1. Create sync replicated consistency-group. * Create a volume type for replication. .. code-block:: console #cinder type-create rep-vol-1 * Create a volume type for replication. .. code-block:: console #cinder type-key rep-vol-1 set replication_type='<is> sync' replication_enabled='<is> True' * Create a group type. .. code-block:: console #cinder group-type-create rep-gr-1 * Configure the group type. .. code-block:: console #cinder group-type-key rep-gr-1 set group_replication_enabled='<is> True' replication_type='<is> sync' * Create a replicated group, using existing group type and volume type. .. code-block:: console #cinder group-create rep-gr-1 rep-vol-1 --name replicated-gr-1 2. Create a volume and add it to the group. * Create a replicated volume. .. code-block:: console #cinder create --name vol-1 --volume-type rep-vol-1 1 * Add the volume to the group. .. code-block:: console #cinder group-update --add-volumes 91492ed9-c3cf-4732-a525-60e146510b90 replicated-gr-1 .. note:: You can also create the volume directly into the group by using the --group-id parameter, followed by ID of a group that the new volume belongs to. This function is supported by API version 3.13 and later. 3. Enable replication. .. code-block:: console #cinder group-enable-replication replicated-gr-1 4. Disable replication. .. code-block:: console #cinder group-disable-replication replicated-gr-1 5. Fail over the replicated group. .. code-block:: console #cinder group-failover-replication replicated-gr-1 Consistency groups ------------------ Consistency groups are mostly the same as replication groups, but with additional support of group snapshots (``consistent_group_snapshot_enabled`` parameter). See configuration example below. .. code-block:: console #cinder group-type-create cg1 cinder group-type-show cg1 cinder group-type-key cg1 set consistent_group_snapshot_enabled=""<is> True"" cinder group-create --name cg1 IBM-DS8K_ibm.com_P0_P1_fibre_channel_not_thin, IBM-DS8K_ibm.com_P0_P1_fibre_channel_thin, BM-DS8K_ibm.com_P0_P1_fibre_channel_not_thin_replica, IBM-DS8K_ibm.com_P0_P1_fibre_channel_thin_replica Using volume types for volume allocation control (DS8000 Family) ---------------------------------------------------------------- For better controls over volume placement granularity, you can use volume types. This enables volumes to be created on specific LSSes or pools. You can combine both types. * Storage pool .. code-block:: console #cinder type-key pool-1_2 set drivers:storage_pool_ids='P1,P2' * LSS .. code-block:: console #cinder type-key lss80_81 set drivers:storage_lss_ids='80,81'","================================================================The driver was validated on the following storage systems: * IBM DS8000 Family * IBM FlashSystem A9000 * IBM FlashSystem A9000R * IBM Spectrum Accelerate * IBM XIV Storage System Family (XIV, Spectrum Accelerate and FlashSystem A9000/A9000R). volume_driver = cinder.volume.drivers.ibm.ibm_storage.ibm_storage.IBMStorageDriver The following information provides an overview of security for the IBM Storage Driver for OpenStack.* If working in a secure mode, do not work insecurely against another storage system in the same environment. certificate, use the CA file that was provided with your storage system (``XIV-CA.pem``). The certificate files should be copied to one of the following directories: * ``/etc/ssl/certs`` * ``/etc/ssl/certs/xiv`` * ``/etc/pki`` * ``/etc/pki/xiv`` If you are using your own certificates, copy them to the same directories with the prefix ""XIV"" and in the ``.pem`` format. For example: XIV-my_cert.pem. community directions: (http://osdir.com/openstack-developers/msg01349.html).Checking the Cinder node log files.. code-block:: console verbose = True debug = TrueStorage Driver is functioning properly. To check the log file on a Cinder node: Go to the /var/log/cinder folder and open the activity log file named cinder-volume.log or volume.log. The IBM Storage Driver writes to this log file using the [IBM DS8K STORAGE] or [IBM XIV STORAGE] prefix (depending on the relevant storage system) for each event that it records in the file. Working with multi-tenancy -------------------------- The XIV storage systems, running microcode version 11.5 or later, Spectrum Accelerate and FlashSystem A9000/A9000R can employ multi-tenancy. In order to use multi-tenancy with the IBM Storage Driver for OpenStack: * For each storage system, verify that all predefined storage pools are in the same domain or, that all are not in a domain. credentials, as long as the credentials grant a full access to the relevant pool.Working with IBM Real-time Compression™ ---------------------------------------Working with QoS ---------------- See IBM Spectrum Accelerate Family Storage Configuration and Usage for IBM FlashSystem A9000, IBM FlashSystem A9000R and IBM XIV Gen3, SG24-8376 for information about how to set QoS by defining performance classes in terms of IOPS and bandwidth limitation .. code-block:: console cinder qos-create <class_name> <class_specs: bw=#, iops=#> .. code-block:: console cinder type-create type_<qos_class_name> .. code-block:: console cinder qos-associate <qos uuid> <type uuid> .. code-block:: console cinder type-key <type_name or UUID> set QoS_support=True .. code-block:: console cinder create 1 --volume-type <type_name> ",593,67
openstack%2Fcinder~master~Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2,openstack/cinder,master,Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2,Set bootable when creating volume from snapshot,MERGED,2018-07-24 07:45:28.000000000,2018-08-01 21:52:47.000000000,2018-08-01 21:52:47.000000000,"[{'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26537}, {'_account_id': 28452}]","[{'number': 1, 'created': '2018-07-24 07:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13a5baec3a3ac22ca724fc37617e1b589f42610a', 'message': 'volume/api: set bootalbe true when create volume from image\n\nIt synchronous return bootable=false when I create a system volume\n\nfrom image id. So, when image_id is not None, bootable can be set\n\ntrue.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n'}, {'number': 2, 'created': '2018-07-25 02:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c347e09d4b1b657cc9ab457099dc0474f1a223f0', 'message': ""volume/api: set bootalbe true when create volume from image/snapshot\n\nIt synchronous return bootable=false when I create a system volume\n\nfrom image_id or snapshot_id. So, when image_id is not None, bootable\n\ncan be set true. And when snapshot_id is not None, bootable can be set\n\nto be the same as the snapshot's source_volume.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n""}, {'number': 3, 'created': '2018-07-30 02:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe0d2ec1a26f0d08031e00d4578f1234579c6d7a', 'message': ""volume/api: set bootable true when create volume from snapshot\n\nIt synchronous return bootable=false when I create a volume from\n\nsnapshot_id. So, when snapshot_id is not None, bootable can be\n\nset to be the same as the snapshot's source_volume.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n""}, {'number': 4, 'created': '2018-07-30 14:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93d8fb4e9c3ce80c76e65f6b8cb55ca9701aa75d', 'message': ""Set bootable when creating volume from snapshot\n\nWhen creating a volume from a snapshot of a bootable volume the\nbootable setting is ignored. This changes the creation logic so\nwhen snapshot_id is not None, bootable can be set to be the same\nas the snapshot's source_volume.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n""}, {'number': 5, 'created': '2018-07-31 09:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1b06928bc4f1a78a1aea2826b5708c2b84afff5', 'message': ""Set bootable when creating volume from snapshot\n\nWhen creating a volume from a snapshot of a bootable volume the\nbootable setting is ignored. This changes the creation logic so\nwhen snapshot_id is not None, bootable can be set to be the same\nas the snapshot's source_volume.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n""}, {'number': 6, 'created': '2018-08-01 05:35:38.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/api/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b622a17e2915f41098462c53e2d94716c1d01115', 'message': ""Set bootable when creating volume from snapshot\n\nWhen creating a volume from a snapshot of a bootable volume the\nbootable setting is ignored. This changes the creation logic so\nwhen snapshot_id is not None, bootable can be set to be the same\nas the snapshot's source_volume.\n\nChange-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2\n""}]",1,585162,b622a17e2915f41098462c53e2d94716c1d01115,168,42,6,28452,,,0,"Set bootable when creating volume from snapshot

When creating a volume from a snapshot of a bootable volume the
bootable setting is ignored. This changes the creation logic so
when snapshot_id is not None, bootable can be set to be the same
as the snapshot's source_volume.

Change-Id: Ifca9ca04dfa8eca987dc44ec23cda5e0d431cba2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/585162/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/api/create_volume.py'],1,13a5baec3a3ac22ca724fc37617e1b589f42610a,bootable," 'qos_specs', 'group_id', 'availability_zones', 'image_id'] else: bootable = True if kwargs.get('image_id', None) else False"," 'qos_specs', 'group_id', 'availability_zones']",3,1
openstack%2Fopenstack-ansible~stable%2Fqueens~I853b1adfaf978c103105245287ab42bc8ec007d5,openstack/openstack-ansible,stable/queens,I853b1adfaf978c103105245287ab42bc8ec007d5,Add retries to collect ID's for nova services,MERGED,2018-07-31 17:45:05.000000000,2018-08-01 21:39:58.000000000,2018-08-01 21:39:58.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 17:45:05.000000000', 'files': ['scripts/upgrade-utilities/playbooks/cleanup-nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/122b75b033f89d15fef0620002223707a3f98c3d', 'message': ""Add retries to collect ID's for nova services\n\nDue to a report of a transient error while collecting\nthe Id's for the nova services to delete, this patch aims\nto add retries in the task referred to avoid eventual errors\nduring its execution.\n\nChange-Id: I853b1adfaf978c103105245287ab42bc8ec007d5\nCloses-Bug: 1784369\n""}]",0,587563,122b75b033f89d15fef0620002223707a3f98c3d,7,3,1,28008,,,0,"Add retries to collect ID's for nova services

Due to a report of a transient error while collecting
the Id's for the nova services to delete, this patch aims
to add retries in the task referred to avoid eventual errors
during its execution.

Change-Id: I853b1adfaf978c103105245287ab42bc8ec007d5
Closes-Bug: 1784369
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/587563/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/playbooks/cleanup-nova.yml'],1,122b75b033f89d15fef0620002223707a3f98c3d,bug/1784369, until: _nova_service_to_remove is succeeded retries: 5 delay: 2,,3,0
openstack%2Fopenstack-helm-infra~master~Ie3dd8f3db733b038606379b77858f03650f11577,openstack/openstack-helm-infra,master,Ie3dd8f3db733b038606379b77858f03650f11577,DNM: Helm 2.10.x,ABANDONED,2018-07-16 14:30:16.000000000,2018-08-01 21:34:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-16 14:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8730f05e169e117cb93e5b84da276eb7b6501c0', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-16 20:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1af3e83f30faac4dc22a8afd3994b2aba17a1fd6', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-07-17 20:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6946b17f9b8bb450a8368152c51a355487d02273', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2018-07-26 19:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/950a947a6179c77184e2a609feb3cc75b02dfb97', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2018-07-31 19:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2164a2b43dbc9ca853463ec7ebe0e5bd5a373d7', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2018-07-31 19:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04f5181c6f568344962623b287b15c7e550b82fb', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2018-07-31 19:25:34.000000000', 'files': ['tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-keystone-auth.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-cni.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-dns.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'tools/images/kubeadm-aio/assets/opt/playbooks/roles/deploy-kubeadm-master/tasks/helm-deploy.yaml', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52624a1bab47429f4407776862550230703dc778', 'message': 'DNM: Helm 2.10.x\n\nThis PS update to use helm 2.10.x\n\nChange-Id: Ie3dd8f3db733b038606379b77858f03650f11577\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,582965,52624a1bab47429f4407776862550230703dc778,14,1,7,23928,,,0,"DNM: Helm 2.10.x

This PS update to use helm 2.10.x

Change-Id: Ie3dd8f3db733b038606379b77858f03650f11577
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/582965/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml']",4,a8730f05e169e117cb93e5b84da276eb7b6501c0,helm/2.10.x, helm: v2.10.0-rc.1, helm: v2.9.1,4,4
openstack%2Ftripleo-common~master~I67f88c41d75352a7c12e9ce162d5759667b064a1,openstack/tripleo-common,master,I67f88c41d75352a7c12e9ce162d5759667b064a1,Set trash_output for ceph-ansible playbook run,MERGED,2018-07-26 10:02:29.000000000,2018-08-01 21:28:33.000000000,2018-08-01 21:12:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-26 10:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e550fa59b95944e0a05df415908632b8f2e910fd', 'message': 'Set thrash_output for ceph-ansible run\n\nPrevent Mistral from saving the entire execution output into its\nown database.\n\nChange-Id: I67f88c41d75352a7c12e9ce162d5759667b064a1\nCloses-Bug: #1783740\n'}, {'number': 2, 'created': '2018-07-26 10:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad794d1a33f68c2cd64e5da3b7d9092a90c31d18', 'message': 'Set trash_output for ceph-ansible playbook run\n\nPrevent Mistral from saving the entire execution output into its\nown database.\n\nChange-Id: I67f88c41d75352a7c12e9ce162d5759667b064a1\nCloses-Bug: #1783740\n'}, {'number': 3, 'created': '2018-07-28 08:06:02.000000000', 'files': ['workbooks/ceph-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9b02d10a416c6951bee680ca0d7f6ae4f096712', 'message': 'Set trash_output for ceph-ansible playbook run\n\nPrevent Mistral from saving the entire execution output into its\nown database.\n\nChange-Id: I67f88c41d75352a7c12e9ce162d5759667b064a1\nCloses-Bug: #1783740\n'}]",0,586036,e9b02d10a416c6951bee680ca0d7f6ae4f096712,30,8,3,6796,,,0,"Set trash_output for ceph-ansible playbook run

Prevent Mistral from saving the entire execution output into its
own database.

Change-Id: I67f88c41d75352a7c12e9ce162d5759667b064a1
Closes-Bug: #1783740
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/586036/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/ceph-ansible.yaml'],1,e550fa59b95944e0a05df415908632b8f2e910fd,bug/1783740, trash_output: true trash_output: true,,2,0
openstack%2Fopenstack-ansible-os_octavia~master~If7e3712dd70eb083b5dffc98e0c981ec4f513533,openstack/openstack-ansible-os_octavia,master,If7e3712dd70eb083b5dffc98e0c981ec4f513533,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:08:09.000000000,2018-08-01 21:26:41.000000000,2018-08-01 21:26:41.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 21:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/55857f168add39079742b338f787541f29901f51', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 2, 'created': '2018-07-19 18:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/cc34c3169101109d6b62c63175b813e23baf0099', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 3, 'created': '2018-07-20 11:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2aa1c121c32caa76f586c8d4086b01525a33fcdc', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 4, 'created': '2018-07-30 12:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/83a4c0f4fcf38d5879e7aad7fa220a613020fdef', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 5, 'created': '2018-07-30 12:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0f33223429b325183e8e47fc76f4f4cd74052ab5', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 6, 'created': '2018-07-30 15:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e7a294b0bf143946a7639d26c9636c8e0df72d9a', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 7, 'created': '2018-07-31 08:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3c910bd208c4c6c8cdd7af69f57139dc88829497', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 8, 'created': '2018-08-01 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/aedc45d472d2afa459533bcdcaf9bdf66fb92a35', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 9, 'created': '2018-08-01 10:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/53c1d9ceff0e04906820fadced35b69724d4fa8b', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 10, 'created': '2018-08-01 11:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/06a044d487a83bb6ef7ce82f5266500b1e741a4d', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}, {'number': 11, 'created': '2018-08-01 17:57:35.000000000', 'files': ['tasks/main.yml', 'tests/os_octavia-overrides.yml', 'tests/test-install-octavia.yml', 'tasks/mq_setup.yml', 'vars/ubuntu.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b6d495c9c9f7cf6181414c218d5e1cd24615a179', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- octavia_oslomsg_rpc_setup_host\n- octavia_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nFinally, we remove the test mq setup tasks and clean up any unused\nor unnecessary variables configured in tests.\n\nWe also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both\nxenial and bionic. This has become necessary because the\n'Gather variables for each operating system' task in the galera_client\nrole is picking up this role's vars file instead of its own.\n\nChange-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533\n""}]",5,583388,b6d495c9c9f7cf6181414c218d5e1cd24615a179,39,5,11,6816,,,0,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- octavia_oslomsg_rpc_setup_host
- octavia_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

We also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both
xenial and bionic. This has become necessary because the
'Gather variables for each operating system' task in the galera_client
role is picking up this role's vars file instead of its own.

Change-Id: If7e3712dd70eb083b5dffc98e0c981ec4f513533
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/88/583388/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/mq_setup.yml', 'defaults/main.yml']",3,55857f168add39079742b338f787541f29901f51,move-mq-setup-into-roles,"octavia_oslomsg_rpc_transport: ""{{ oslomsg_rpc_transport | default('rabbit') }}"" octavia_oslomsg_rpc_servers: ""{{ oslomsg_rpc_servers | default('127.0.0.1') }}"" octavia_oslomsg_rpc_port: ""{{ oslomsg_rpc_port | default('5672') }}"" octavia_oslomsg_rpc_use_ssl: ""{{ oslomsg_rpc_use_ssl | default(False) }}""octavia_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" octavia_oslomsg_notify_setup_host: ""{{ (octavia_oslomsg_notify_host_group in groups) | ternary(groups[octavia_oslomsg_notify_host_group][0], 'localhost') }}"" octavia_oslomsg_notify_transport: ""{{ oslomsg_notify_transport | default('rabbit') }}"" octavia_oslomsg_notify_servers: ""{{ oslomsg_notify_servers | default('127.0.0.1') }}"" octavia_oslomsg_notify_port: ""{{ oslomsg_notify_port | default('5672') }}"" octavia_oslomsg_notify_use_ssl: ""{{ oslomsg_notify_use_ssl | default(False) }}""octavia_oslomsg_rpc_host_group: ""{{ oslomsg_rpc_host_group | default('rabbitmq_all') }}"" octavia_oslomsg_rpc_setup_host: ""{{ (octavia_oslomsg_rpc_host_group in groups) | ternary(groups[octavia_oslomsg_rpc_host_group][0], 'localhost') }}"" neutron_oslomsg_rpc_transport: ""{{ oslomsg_rpc_transport | default('rabbit') }}"" neutron_oslomsg_rpc_port: ""{{ oslomsg_rpc_port | default('5672') }}"" neutron_oslomsg_rpc_servers: ""{{ oslomsg_rpc_servers | default('127.0.0.1') }}"" neutron_oslomsg_rpc_use_ssl: ""{{ oslomsg_rpc_use_ssl | default(False) }}""",octavia_oslomsg_rpc_transport: rabbit octavia_oslomsg_rpc_servers: 127.0.0.1 octavia_oslomsg_rpc_port: 5672 octavia_oslomsg_rpc_use_ssl: Falseoctavia_oslomsg_notify_transport: rabbit octavia_oslomsg_notify_servers: 127.0.0.1 octavia_oslomsg_notify_port: 5672 octavia_oslomsg_notify_use_ssl: Falseneutron_oslomsg_rpc_transport: rabbit neutron_oslomsg_rpc_port: 5672 neutron_oslomsg_rpc_servers: 127.0.0.1 neutron_oslomsg_rpc_use_ssl: False,80,12
openstack%2Foslo.cache~master~Ic5d8165be352c990e9595f8b3f455b7e6b179041,openstack/oslo.cache,master,Ic5d8165be352c990e9595f8b3f455b7e6b179041,Update reno for stable/rocky,MERGED,2018-07-26 12:37:00.000000000,2018-08-01 21:10:42.000000000,2018-08-01 21:10:42.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:37:00.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1cedba0c15a8d2ffbb280c0f4fc5f38ac505a86d', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ic5d8165be352c990e9595f8b3f455b7e6b179041\n'}]",0,586118,1cedba0c15a8d2ffbb280c0f4fc5f38ac505a86d,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ic5d8165be352c990e9595f8b3f455b7e6b179041
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/18/586118/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,1cedba0c15a8d2ffbb280c0f4fc5f38ac505a86d,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Fosc-lib~master~Ia53de701e21359ac96b0569b9da600a58448b03f,openstack/osc-lib,master,Ia53de701e21359ac96b0569b9da600a58448b03f,Update reno for stable/rocky,MERGED,2018-07-26 12:36:33.000000000,2018-08-01 21:10:25.000000000,2018-08-01 21:10:25.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:36:33.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/049a006f15bcac387a2dcdceb5275f04beb4e11e', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ia53de701e21359ac96b0569b9da600a58448b03f\n'}]",0,586112,049a006f15bcac387a2dcdceb5275f04beb4e11e,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ia53de701e21359ac96b0569b9da600a58448b03f
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/12/586112/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,049a006f15bcac387a2dcdceb5275f04beb4e11e,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Fautomaton~master~I3449260fc178c5ae61d0040b0d5bf82b055a37c6,openstack/automaton,master,I3449260fc178c5ae61d0040b0d5bf82b055a37c6,Update reno for stable/rocky,MERGED,2018-07-26 12:32:33.000000000,2018-08-01 21:10:09.000000000,2018-08-01 21:10:09.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:32:33.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/4daf4215b1df7bd70c5f2b2d51b3098991872ef9', 'message': 'Update reno for stable/rocky\n\nChange-Id: I3449260fc178c5ae61d0040b0d5bf82b055a37c6\n'}]",0,586066,4daf4215b1df7bd70c5f2b2d51b3098991872ef9,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I3449260fc178c5ae61d0040b0d5bf82b055a37c6
",git fetch https://review.opendev.org/openstack/automaton refs/changes/66/586066/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,4daf4215b1df7bd70c5f2b2d51b3098991872ef9,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.privsep~master~Idfbeb3d9918304467d6d9d714b6327f3f502945c,openstack/oslo.privsep,master,Idfbeb3d9918304467d6d9d714b6327f3f502945c,Update reno for stable/rocky,MERGED,2018-07-26 12:39:27.000000000,2018-08-01 21:10:06.000000000,2018-08-01 21:10:06.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:39:27.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/aea141ed58eb7e55752e662eaab068566ab4df0c', 'message': 'Update reno for stable/rocky\n\nChange-Id: Idfbeb3d9918304467d6d9d714b6327f3f502945c\n'}]",0,586149,aea141ed58eb7e55752e662eaab068566ab4df0c,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Idfbeb3d9918304467d6d9d714b6327f3f502945c
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/49/586149/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,aea141ed58eb7e55752e662eaab068566ab4df0c,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.service~master~Iccf0a696912986963b0812ae843a8f26872ef528,openstack/oslo.service,master,Iccf0a696912986963b0812ae843a8f26872ef528,Update reno for stable/rocky,MERGED,2018-07-26 12:40:21.000000000,2018-08-01 21:10:05.000000000,2018-08-01 21:10:05.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:40:21.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9b3e6ad77e8eb281920c25fa549d248646037cc7', 'message': 'Update reno for stable/rocky\n\nChange-Id: Iccf0a696912986963b0812ae843a8f26872ef528\n'}]",0,586161,9b3e6ad77e8eb281920c25fa549d248646037cc7,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Iccf0a696912986963b0812ae843a8f26872ef528
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/61/586161/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,9b3e6ad77e8eb281920c25fa549d248646037cc7,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.middleware~master~I85c956d727c9bbdb4df2eb89316c248874993c26,openstack/oslo.middleware,master,I85c956d727c9bbdb4df2eb89316c248874993c26,Update reno for stable/rocky,MERGED,2018-07-26 12:38:59.000000000,2018-08-01 21:09:40.000000000,2018-08-01 21:09:40.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:38:59.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/4b138279211f33380c1b85f40784be8fa2e20ec9', 'message': 'Update reno for stable/rocky\n\nChange-Id: I85c956d727c9bbdb4df2eb89316c248874993c26\n'}]",0,586142,4b138279211f33380c1b85f40784be8fa2e20ec9,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I85c956d727c9bbdb4df2eb89316c248874993c26
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/42/586142/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,4b138279211f33380c1b85f40784be8fa2e20ec9,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.reports~master~I00f829478576592c1829c8f118e7a2b70ba41ff5,openstack/oslo.reports,master,I00f829478576592c1829c8f118e7a2b70ba41ff5,Update reno for stable/rocky,MERGED,2018-07-26 12:39:41.000000000,2018-08-01 21:09:34.000000000,2018-08-01 21:09:34.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:39:41.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/381f9f15e348959226d4e111477a9df64915782e', 'message': 'Update reno for stable/rocky\n\nChange-Id: I00f829478576592c1829c8f118e7a2b70ba41ff5\n'}]",0,586152,381f9f15e348959226d4e111477a9df64915782e,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I00f829478576592c1829c8f118e7a2b70ba41ff5
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/52/586152/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,381f9f15e348959226d4e111477a9df64915782e,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.serialization~master~Iba4de649c19c1e459af2f6b27fc6356149c131b0,openstack/oslo.serialization,master,Iba4de649c19c1e459af2f6b27fc6356149c131b0,Update reno for stable/rocky,MERGED,2018-07-26 12:40:07.000000000,2018-08-01 21:09:31.000000000,2018-08-01 21:09:30.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:40:07.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/2af0c0e0d97e10d280b222aa47e34c985f33aeab', 'message': 'Update reno for stable/rocky\n\nChange-Id: Iba4de649c19c1e459af2f6b27fc6356149c131b0\n'}]",0,586158,2af0c0e0d97e10d280b222aa47e34c985f33aeab,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Iba4de649c19c1e459af2f6b27fc6356149c131b0
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/58/586158/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,2af0c0e0d97e10d280b222aa47e34c985f33aeab,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Ftaskflow~master~I183f46e8665149e06978f292a2986393d7d7dc2f,openstack/taskflow,master,I183f46e8665149e06978f292a2986393d7d7dc2f,Update reno for stable/rocky,MERGED,2018-07-26 12:43:00.000000000,2018-08-01 21:09:22.000000000,2018-08-01 21:09:22.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:43:00.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a456622fac6c4a5e4dd564c8d5280aa8fb0c8147', 'message': 'Update reno for stable/rocky\n\nChange-Id: I183f46e8665149e06978f292a2986393d7d7dc2f\n'}]",0,586193,a456622fac6c4a5e4dd564c8d5280aa8fb0c8147,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I183f46e8665149e06978f292a2986393d7d7dc2f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/93/586193/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,a456622fac6c4a5e4dd564c8d5280aa8fb0c8147,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslotest~master~I0fea635e0677c6b06a6ba214d6b3830eb1cc9114,openstack/oslotest,master,I0fea635e0677c6b06a6ba214d6b3830eb1cc9114,Update reno for stable/rocky,MERGED,2018-07-26 12:41:18.000000000,2018-08-01 21:08:31.000000000,2018-08-01 21:08:31.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:41:18.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/5a4841b6c24d980b8bfc65f822606bb8ff84f1d3', 'message': 'Update reno for stable/rocky\n\nChange-Id: I0fea635e0677c6b06a6ba214d6b3830eb1cc9114\n'}]",0,586173,5a4841b6c24d980b8bfc65f822606bb8ff84f1d3,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I0fea635e0677c6b06a6ba214d6b3830eb1cc9114
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/73/586173/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,5a4841b6c24d980b8bfc65f822606bb8ff84f1d3,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.i18n~master~Ia386fae51ea6846a04459fe964f6754114578862,openstack/oslo.i18n,master,Ia386fae51ea6846a04459fe964f6754114578862,Update reno for stable/rocky,MERGED,2018-07-26 12:38:12.000000000,2018-08-01 21:08:28.000000000,2018-08-01 21:08:28.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:38:12.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/1e9f9596b2454ee5b1876a2da28af10d8336f302', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ia386fae51ea6846a04459fe964f6754114578862\n'}]",0,586133,1e9f9596b2454ee5b1876a2da28af10d8336f302,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ia386fae51ea6846a04459fe964f6754114578862
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/33/586133/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,1e9f9596b2454ee5b1876a2da28af10d8336f302,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Fpython-openstackclient~master~Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4,openstack/python-openstackclient,master,Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4,Update reno for stable/rocky,MERGED,2018-07-26 08:58:15.000000000,2018-08-01 21:08:23.000000000,2018-08-01 21:08:23.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 08:58:15.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2b62b6e6ecb5fbb6d3078a3f7737364e13ec4e6c', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4\n'}]",0,586006,2b62b6e6ecb5fbb6d3078a3f7737364e13ec4e6c,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ieb4130d9f9d420fb3b858b6972a1f2a896fa7fc4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/06/586006/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,2b62b6e6ecb5fbb6d3078a3f7737364e13ec4e6c,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Fdebtcollector~master~If10ef7da6241f8dbe9ec2f1e59368705276b64d3,openstack/debtcollector,master,If10ef7da6241f8dbe9ec2f1e59368705276b64d3,Update reno for stable/rocky,MERGED,2018-07-26 12:33:12.000000000,2018-08-01 21:07:24.000000000,2018-08-01 21:07:24.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:33:12.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/bd14fce1c5801319889eaeb7382aca94aca38519', 'message': 'Update reno for stable/rocky\n\nChange-Id: If10ef7da6241f8dbe9ec2f1e59368705276b64d3\n'}]",0,586074,bd14fce1c5801319889eaeb7382aca94aca38519,6,2,1,22816,,,0,"Update reno for stable/rocky

Change-Id: If10ef7da6241f8dbe9ec2f1e59368705276b64d3
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/74/586074/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,bd14fce1c5801319889eaeb7382aca94aca38519,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.versionedobjects~master~Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4,openstack/oslo.versionedobjects,master,Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4,Update reno for stable/rocky,MERGED,2018-07-26 12:40:49.000000000,2018-08-01 21:07:15.000000000,2018-08-01 21:07:15.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:40:49.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/ab9eb32601b7cb3bc19c9fad2c7d619a3eae3848', 'message': 'Update reno for stable/rocky\n\nChange-Id: Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4\n'}]",0,586167,ab9eb32601b7cb3bc19c9fad2c7d619a3eae3848,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Ib44a6fd8d96481c9c9585e1e0cffadb8f1cb92e4
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/67/586167/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,ab9eb32601b7cb3bc19c9fad2c7d619a3eae3848,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.utils~master~I8346274c8dc281f18ae7938334adec6d5dd3780f,openstack/oslo.utils,master,I8346274c8dc281f18ae7938334adec6d5dd3780f,Update reno for stable/rocky,MERGED,2018-07-26 12:40:35.000000000,2018-08-01 21:06:40.000000000,2018-08-01 21:06:40.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:40:35.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d3ef97c42e81c5429d5516e5eae2dc0d40b2ff84', 'message': 'Update reno for stable/rocky\n\nChange-Id: I8346274c8dc281f18ae7938334adec6d5dd3780f\n'}]",0,586164,d3ef97c42e81c5429d5516e5eae2dc0d40b2ff84,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I8346274c8dc281f18ae7938334adec6d5dd3780f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/64/586164/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,d3ef97c42e81c5429d5516e5eae2dc0d40b2ff84,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.vmware~master~Iabb08a1fd55e9f31d014479a6584595971734563,openstack/oslo.vmware,master,Iabb08a1fd55e9f31d014479a6584595971734563,Update reno for stable/rocky,MERGED,2018-07-26 12:41:04.000000000,2018-08-01 21:04:41.000000000,2018-08-01 21:04:41.000000000,"[{'_account_id': 2472}, {'_account_id': 9008}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:41:04.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/a2bcf80fbcfa4f78ea8de9df97649c5b51a166ab', 'message': 'Update reno for stable/rocky\n\nChange-Id: Iabb08a1fd55e9f31d014479a6584595971734563\n'}]",0,586170,a2bcf80fbcfa4f78ea8de9df97649c5b51a166ab,8,4,1,22816,,,0,"Update reno for stable/rocky

Change-Id: Iabb08a1fd55e9f31d014479a6584595971734563
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/70/586170/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,a2bcf80fbcfa4f78ea8de9df97649c5b51a166ab,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Foslo.messaging~master~I1a8834b95487805805395e919e2c6cdc435522b0,openstack/oslo.messaging,master,I1a8834b95487805805395e919e2c6cdc435522b0,Update reno for stable/rocky,MERGED,2018-07-26 12:38:45.000000000,2018-08-01 20:57:30.000000000,2018-08-01 20:57:30.000000000,"[{'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-26 12:38:45.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/59c47233f539a8feaddbc7179d0800cd017571ad', 'message': 'Update reno for stable/rocky\n\nChange-Id: I1a8834b95487805805395e919e2c6cdc435522b0\n'}]",0,586139,59c47233f539a8feaddbc7179d0800cd017571ad,7,3,1,22816,,,0,"Update reno for stable/rocky

Change-Id: I1a8834b95487805805395e919e2c6cdc435522b0
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/39/586139/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/rocky.rst']",2,59c47233f539a8feaddbc7179d0800cd017571ad,reno-rocky,=================================== Rocky Series Release Notes =================================== .. release-notes:: :branch: stable/rocky ,,7,0
openstack%2Fheat~master~I7c7dab88d269f92c66b3f68352a6913aa244fdfc,openstack/heat,master,I7c7dab88d269f92c66b3f68352a6913aa244fdfc,Add StoryBoard migration docs and releasenote,MERGED,2018-05-05 04:44:39.000000000,2018-08-01 20:55:32.000000000,2018-08-01 20:55:32.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-05 04:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb2b69c70881377cb5c1c5f3511b9a8aaae20170', 'message': 'Add StoryBoard migration message to relesenote\n\nAdd releasenote to showing migration message.\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 2, 'created': '2018-05-05 05:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/acf0be453ce547b0a29e0b1347006ce0d1edbccc', 'message': 'Add StoryBoard migration message to relesenote\n\nAdd releasenote to showing migration message.\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 3, 'created': '2018-05-10 05:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/11c327214a05ec7f9b115c02cf25fb6718c35aec', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 4, 'created': '2018-05-21 15:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb4f2f9e79c4ab893670e450e1d574800c355ccf', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 5, 'created': '2018-07-05 07:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/043a5ebfba417a05fb011145448239cd0ab9fb3b', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 6, 'created': '2018-07-12 10:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a130034c556cffae03e1a993c3c9e89b889ce18', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 7, 'created': '2018-07-12 10:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c8aa0f4164deae77bb836c46ac4c9cdb2331cb0', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 8, 'created': '2018-07-12 10:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c636ac0b61c077c505ad4bede443ebcab9ffabae', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}, {'number': 9, 'created': '2018-07-26 05:06:07.000000000', 'files': ['doc/source/man/heat-keystone-setup-domain.rst', 'releasenotes/notes/migrate-to-storyboard-36c90857d3167322.yaml', 'tools/dashboards/heat.dash', 'doc/source/man/heat-manage.rst', 'README.rst', 'doc/source/man/heat-keystone-setup.rst', 'doc/source/man/heat-db-setup.rst', 'doc/source/contributing/blueprints.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/6f5e393a9bb4f8c1acc8fe90ff1c102b355cd083', 'message': 'Add StoryBoard migration docs and releasenote\n\nHeat curent bug/bluepint reports are migrated from Launchpad to\nStoryBoard [1]. If you like to create a new story(a bug or a bluepint),\nplease file it under [2]. For more detail, please reference [3]. This\nchange applied to all heat projects.\nThis patch Add documents and guideline link to StoryBoard.\nAlso add releasenote to showing migration message.\n\n[1] https://storyboard.openstack.org/#!/project_group/82\n[2] https://storyboard.openstack.org/#!/project/989\n[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info\n\nChange-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc\n'}]",27,566428,6f5e393a9bb4f8c1acc8fe90ff1c102b355cd083,27,5,9,12404,,,0,"Add StoryBoard migration docs and releasenote

Heat curent bug/bluepint reports are migrated from Launchpad to
StoryBoard [1]. If you like to create a new story(a bug or a bluepint),
please file it under [2]. For more detail, please reference [3]. This
change applied to all heat projects.
This patch Add documents and guideline link to StoryBoard.
Also add releasenote to showing migration message.

[1] https://storyboard.openstack.org/#!/project_group/82
[2] https://storyboard.openstack.org/#!/project/989
[3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info

Change-Id: I7c7dab88d269f92c66b3f68352a6913aa244fdfc
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/566428/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/migrate-to-storyboard-36c90857d3167322.yaml'],1,fb2b69c70881377cb5c1c5f3511b9a8aaae20170,add-doc-for-migrated-to-storyboard,"--- prelude: > Heat curent bug/bluepint reports are migrated from Launchpad to StoryBoard [1]. If you like to create a new story(a bug or a bluepint), please file it under [2]. For more detail, please reference [3]. This change applied to all heat projects. [1] https://storyboard.openstack.org/#!/project_group/82 [2] https://storyboard.openstack.org/#!/project/989 [3] https://etherpad.openstack.org/p/Heat-StoryBoard-Migration-Info ",,10,0
openstack%2Fopenstack-helm~master~I73d71a8d10b99420d3f1c69be476cf7ca4927951,openstack/openstack-helm,master,I73d71a8d10b99420d3f1c69be476cf7ca4927951,Libvirt: allow the libvirt config to include list params,MERGED,2018-08-01 14:29:59.000000000,2018-08-01 20:49:02.000000000,2018-08-01 20:48:52.000000000,"[{'_account_id': 8768}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2018-08-01 14:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca0ca8573420289f26e1d364f6105745b2e4c3bd', 'message': 'Libvirt: allow the libvirt config to include list params\n\nThis PS udpates the libvirt chart to correctly handle listed params.\n\nChange-Id: I73d71a8d10b99420d3f1c69be476cf7ca4927951\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-08-01 16:39:24.000000000', 'files': ['libvirt/templates/configmap-etc.yaml', 'libvirt/templates/utils/_to_libvirt_conf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b20d818a8bbe8c65b97f30b7e066f5253ec18dc', 'message': 'Libvirt: allow the libvirt config to include list params\n\nThis PS udpates the libvirt chart to correctly handle listed params.\n\nChange-Id: I73d71a8d10b99420d3f1c69be476cf7ca4927951\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,587837,2b20d818a8bbe8c65b97f30b7e066f5253ec18dc,13,6,2,23928,,,0,"Libvirt: allow the libvirt config to include list params

This PS udpates the libvirt chart to correctly handle listed params.

Change-Id: I73d71a8d10b99420d3f1c69be476cf7ca4927951
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/587837/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/configmap-etc.yaml', 'libvirt/utils/_to_libvirt_conf.tpl']",2,ca0ca8573420289f26e1d364f6105745b2e4c3bd,libvirt/config,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | Builds a libvirt compatible config file. values: | conf: libvirt: log_level: 3 cgroup_controllers: - cpu - cpuacct usage: | {{ include ""libvirt.utils.to_libvirt_conf"" .Values.conf.libvirt }} return: | cgroup_controllers = [ ""cpu"", ""cpuacct"" ] log_level = 3 */}} {{- define ""libvirt.utils._to_libvirt_conf.list_to_string"" -}} {{- $local := dict ""first"" true -}} {{- range $k, $v := . -}}{{- if not $local.first -}}, {{ end -}}{{- $v | quote -}}{{- $_ := set $local ""first"" false -}}{{- end -}} {{- end -}} {{- define ""libvirt.utils.to_libvirt_conf"" -}} {{- range $key, $value := . -}} {{- if kindIs ""slice"" $value }} {{ $key }} = [ {{ include ""libvirt.utils._to_libvirt_conf.list_to_string"" $value }} ] {{- else if kindIs ""string"" $value }} {{- if regexMatch ""^[0-9]+$"" $value }} {{ $key }} = {{ $value }} {{- else }} {{ $key }} = {{ $value | quote }} {{- end }} {{- else }} {{ $key }} = {{ $value }} {{- end }} {{- end -}} {{- end -}} ",,55,2
openstack%2Fnova~master~I7e0658e681ead30c241ad39baa0fd4334e5a86a1,openstack/nova,master,I7e0658e681ead30c241ad39baa0fd4334e5a86a1,Delete orphan compute nodes before updating resources,MERGED,2018-07-03 16:55:04.000000000,2018-08-01 20:48:02.000000000,2018-08-01 01:41:39.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6637}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-03 16:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa35f38b44cf1c2a188966c7af496c3791a97f6a', 'message': ""WIP: Delete orphan nodes before updating resources\n\nWe were previously deleting orphan nodes before running the code path\nthat hits update_[from_]provider_tree.  This meant that, if there were\nnodes that needed to be cleaned up, they would still show up in the\nprovider tree and we would be trying to update their ancillary info\n(aggregates, traits, etc.).\n\nWith this change set, we delete these providers before running the\nupdate path, so they should be gone from the provider tree and we won't\ntry to muck with them.\n\nChange-Id: I7e0658e681ead30c241ad39baa0fd4334e5a86a1\n""}, {'number': 2, 'created': '2018-07-10 19:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3bbf2601f7da9e273bcddaa1ee5910e322b2ffb', 'message': ""Delete orphan nodes before updating resources\n\nWe were previously deleting orphan nodes before running the code path\nthat hits update_[from_]provider_tree.  This meant that, if there were\nnodes that needed to be cleaned up, they would still show up in the\nprovider tree and we would be trying to update their ancillary info\n(aggregates, traits, etc.).\n\nWith this change set, we delete these providers before running the\nupdate path, so they should be gone from the provider tree and we won't\ntry to muck with them.\n\nExisting unit test coverage in\nnova.tests.unit.compute.test_compute[_mgr] already validates these code\npaths; and we validated that the reorder fixes ironic via [1], PS13-15.\n\n[1] https://review.openstack.org/#/c/514312/\n\nChange-Id: I7e0658e681ead30c241ad39baa0fd4334e5a86a1\n""}, {'number': 3, 'created': '2018-07-11 13:57:25.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16b20e2e6ba3da518949649bd8f6c226ea4e8703', 'message': ""Delete orphan compute nodes before updating resources\n\nWe were previously deleting orphan nodes before running the code path\nthat hits update_[from_]provider_tree.  This meant that, if there were\nnodes that needed to be cleaned up, they would still show up in the\nprovider tree and we would be trying to update their ancillary info\n(aggregates, traits, etc.).\n\nWith this change set, we delete these providers before running the\nupdate path, so they should be gone from the provider tree and we won't\ntry to muck with them.\n\nExisting unit test coverage in\nnova.tests.unit.compute.test_compute[_mgr] already validates these code\npaths; and we validated that the reorder fixes ironic via [1], PS13-15.\n\n[1] https://review.openstack.org/#/c/514312/\n\nChange-Id: I7e0658e681ead30c241ad39baa0fd4334e5a86a1\n""}]",5,579922,16b20e2e6ba3da518949649bd8f6c226ea4e8703,51,25,3,14070,,,0,"Delete orphan compute nodes before updating resources

We were previously deleting orphan nodes before running the code path
that hits update_[from_]provider_tree.  This meant that, if there were
nodes that needed to be cleaned up, they would still show up in the
provider tree and we would be trying to update their ancillary info
(aggregates, traits, etc.).

With this change set, we delete these providers before running the
update path, so they should be gone from the provider tree and we won't
try to muck with them.

Existing unit test coverage in
nova.tests.unit.compute.test_compute[_mgr] already validates these code
paths; and we validated that the reorder fixes ironic via [1], PS13-15.

[1] https://review.openstack.org/#/c/514312/

Change-Id: I7e0658e681ead30c241ad39baa0fd4334e5a86a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/579922/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,aa35f38b44cf1c2a188966c7af496c3791a97f6a,delete_orphan_nodes_after_uarfn," for nodename in nodenames: self._update_available_resource_for_node(context, nodename) "," for nodename in nodenames: self._update_available_resource_for_node(context, nodename) ",3,3
openstack%2Fkeystone~master~I8363f265faacb9ad5783b12d4a64b570b9af46f0,openstack/keystone,master,I8363f265faacb9ad5783b12d4a64b570b9af46f0,Expose random uuid bug in cadf notifications,MERGED,2018-07-06 23:15:54.000000000,2018-08-01 20:32:14.000000000,2018-08-01 20:32:14.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 25235}]","[{'number': 1, 'created': '2018-07-06 23:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ab9edf4f31b3e6508e9ba9ec1d9c9f1e1626bc09', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 2, 'created': '2018-07-07 01:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6d38f18d6d9be550d7949eb363cae04bd44b5e42', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 3, 'created': '2018-07-18 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bbee0423eacd012706ce84110b70bcf5463965e', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 4, 'created': '2018-07-18 21:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4dc7e3ba7982479bc18b6a81878ed1d4460c3e5d', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 5, 'created': '2018-07-26 15:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dde19ae26e68e65d457729dd2101c31b6ec24707', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 6, 'created': '2018-07-26 16:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ea323b9d67d668656d052ef27ccff99d8c72d7c', 'message': 'Expose random uuid bug in cadf notifications\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n'}, {'number': 7, 'created': '2018-07-27 16:09:30.000000000', 'files': ['keystone/tests/unit/common/test_notifications.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/fe5cdc6732fc0102c9e55d45da0bb28c248bebca', 'message': ""Expose random uuid bug in cadf notifications\n\nWhen enabling CADF notifications and clearing the notification_opt_out\nsetting[0] (which cause keystone to be more chatty with notifications)\nin order to audit identity.authenticate events, keystone emits a\nnotification for the identity.authentication event where the\ninitiator's ID is a random UUID that doesn't match up to the user\nwho authenticated.\n\nThis was noticed when users would log into horizon and from the audit\nnotification, it could not be determined which user was logging in.\n\nThis appears to be true for only the authentication event, other\nevents such as project CRUD appear to work as intended.\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/conf/default.py#L221\n\nChange-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0\nRelated-Bug: #1780503\n""}]",5,580780,fe5cdc6732fc0102c9e55d45da0bb28c248bebca,28,7,7,21420,,,0,"Expose random uuid bug in cadf notifications

When enabling CADF notifications and clearing the notification_opt_out
setting[0] (which cause keystone to be more chatty with notifications)
in order to audit identity.authenticate events, keystone emits a
notification for the identity.authentication event where the
initiator's ID is a random UUID that doesn't match up to the user
who authenticated.

This was noticed when users would log into horizon and from the audit
notification, it could not be determined which user was logging in.

This appears to be true for only the authentication event, other
events such as project CRUD appear to work as intended.

[0] https://github.com/openstack/keystone/blob/master/keystone/conf/default.py#L221

Change-Id: I8363f265faacb9ad5783b12d4a64b570b9af46f0
Related-Bug: #1780503
",git fetch https://review.opendev.org/openstack/keystone refs/changes/80/580780/6 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/common/test_notifications.py'],1,ab9edf4f31b3e6508e9ba9ec1d9c9f1e1626bc09,bug/1780503,"from testtools import matchersfrom keystone.tests.unit import utils as test_utils note = self._notifications.pop() @test_utils.wip( 'Waiting on fix for random initiator id for identity.authentication ' 'events for CADF notifications', expected_exception=matchers.MismatchError, bug='#1780503' ) while self._notifications: self._assert_last_note(self.ACTION, user_id)"," note = self._notifications[-1] self._assert_last_note(self.ACTION, user_id)",11,2
openstack%2Fkeystone~master~I97e07cbebb4e97df4b38899037e97ce3f34b9e03,openstack/keystone,master,I97e07cbebb4e97df4b38899037e97ce3f34b9e03,Move validate_issue_token_auth from controllers,MERGED,2018-07-20 18:38:34.000000000,2018-08-01 20:32:12.000000000,2018-08-01 20:32:12.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8871}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-20 18:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0acfa9d3d17a65e247ad6c15cc55747cd5483aa4', 'message': 'Move validate_issue_token_auth from controllers\n\nFor the move to flask, and to ensure there are no test changes,\nthis changeset moves `validate_issue_token_auth` from controllers to\nthe auth.schema module (as it is clearly about validation).\n\nChange-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03\nPartial-Bug: #1776504\n'}, {'number': 2, 'created': '2018-07-20 18:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bb6c2f7e88043e7e56958b18d49d355aa67f995', 'message': 'Move validate_issue_token_auth from controllers\n\nFor the move to flask, and to ensure there are no test changes,\nthis changeset moves `validate_issue_token_auth` from controllers to\nthe auth.schema module (as it is clearly about validation).\n\nChange-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03\nPartial-Bug: #1776504\n'}, {'number': 3, 'created': '2018-07-20 21:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/33e8311e1b32cfe1179d420227954b4c4f20bc07', 'message': 'Move validate_issue_token_auth from controllers\n\nFor the move to flask, and to ensure there are no test changes,\nthis changeset moves `validate_issue_token_auth` from controllers to\nthe auth.schema module (as it is clearly about validation).\n\nChange-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03\nPartial-Bug: #1776504\n'}, {'number': 4, 'created': '2018-07-26 17:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8ff1130cd42027b56f6429c67f2f9e281b4a8eb0', 'message': 'Move validate_issue_token_auth from controllers\n\nFor the move to flask, and to ensure there are no test changes,\nthis changeset moves `validate_issue_token_auth` from controllers to\nthe auth.schema module (as it is clearly about validation).\n\nChange-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03\nPartial-Bug: #1776504\n'}, {'number': 5, 'created': '2018-08-01 16:57:16.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/tests/unit/auth/test_schema.py', 'keystone/auth/schema.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f5c9b094af8442219e75265a87551873e058003b', 'message': 'Move validate_issue_token_auth from controllers\n\nFor the move to flask, and to ensure there are no test changes,\nthis changeset moves `validate_issue_token_auth` from controllers to\nthe auth.schema module (as it is clearly about validation).\n\nChange-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03\nPartial-Bug: #1776504\n'}]",0,584485,f5c9b094af8442219e75265a87551873e058003b,20,6,5,2903,,,0,"Move validate_issue_token_auth from controllers

For the move to flask, and to ensure there are no test changes,
this changeset moves `validate_issue_token_auth` from controllers to
the auth.schema module (as it is clearly about validation).

Change-Id: I97e07cbebb4e97df4b38899037e97ce3f34b9e03
Partial-Bug: #1776504
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/584485/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/tests/unit/auth/test_schema.py', 'keystone/auth/schema.py']",3,0acfa9d3d17a65e247ad6c15cc55747cd5483aa4,bug/1776504,"from keystone.common import validationfrom keystone import exception from keystone.i18n import _ def validate_issue_token_auth(auth=None): if auth is None: return validation.lazy_validate(token_issue, auth) user = auth['identity'].get('password', {}).get('user') if user is not None: if 'id' not in user and 'name' not in user: msg = _('Invalid input for field identity/password/user: ' 'id or name must be present.') raise exception.SchemaValidationError(detail=msg) domain = user.get('domain') if domain is not None: if 'id' not in domain and 'name' not in domain: msg = _( 'Invalid input for field identity/password/user/domain: ' 'id or name must be present.') raise exception.SchemaValidationError(detail=msg) scope = auth.get('scope') if scope is not None and isinstance(scope, dict): project = scope.get('project') if project is not None: if 'id' not in project and 'name' not in project: msg = _( 'Invalid input for field scope/project: ' 'id or name must be present.') raise exception.SchemaValidationError(detail=msg) domain = project.get('domain') if domain is not None: if 'id' not in domain and 'name' not in domain: msg = _( 'Invalid input for field scope/project/domain: ' 'id or name must be present.') raise exception.SchemaValidationError(detail=msg) domain = scope.get('domain') if domain is not None: if 'id' not in domain and 'name' not in domain: msg = _( 'Invalid input for field scope/domain: ' 'id or name must be present.') raise exception.SchemaValidationError(detail=msg)",,60,58
openstack%2Fmanila~stable%2Focata~I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,openstack/manila,stable/ocata,I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3,Remove confusing DB deprecation messages,MERGED,2018-06-23 11:15:35.000000000,2018-08-01 20:18:25.000000000,2018-08-01 20:18:24.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-06-23 11:15:35.000000000', 'files': ['releasenotes/notes/remove-confusing-deprecation-warnings-a17c20d8973ef2bb.yaml', 'manila/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ca0799125ff5a64a7e59772a2edeb4b6242615f0', 'message': 'Remove confusing DB deprecation messages\n\nWhen share instances were introduced a number of fields\nwere moved in the database model to the underlying share instance\nand proxied back to the share in order to maintain compatability\nwith APIs that assume these to belong to the share.  A deprecation\nwarning was added for these.  The warning spams the API log and\nconfuses end users because it sounds like they or their client\nshould make a change to get rid of them and that cannot actually\nbe done.  The API would have to change to expose share instances\nto end users rather than just administrators and that is not\nsomething that we plan to do.\n\nRemove these confusing warnings.\n\nCloses-Bug: #1776947\n\nChange-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3\n(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)\n(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)\n'}]",0,577615,ca0799125ff5a64a7e59772a2edeb4b6242615f0,16,6,1,9003,,,0,"Remove confusing DB deprecation messages

When share instances were introduced a number of fields
were moved in the database model to the underlying share instance
and proxied back to the share in order to maintain compatability
with APIs that assume these to belong to the share.  A deprecation
warning was added for these.  The warning spams the API log and
confuses end users because it sounds like they or their client
should make a change to get rid of them and that cannot actually
be done.  The API would have to change to expose share instances
to end users rather than just administrators and that is not
something that we plan to do.

Remove these confusing warnings.

Closes-Bug: #1776947

Change-Id: I95e99b26f416bbf25cfd1c8f7295f3ba6220efb3
(cherry picked from commit 8bdbbd86ae8efe05950ad0651c40aa17c8ec71c7)
(cherry picked from commit 0c182bca8671dff0296899eef05ac0c473b1a115)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/577615/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-confusing-deprecation-warnings-a17c20d8973ef2bb.yaml', 'manila/db/sqlalchemy/models.py']",2,ca0799125ff5a64a7e59772a2edeb4b6242615f0,bug/1776947-stable/queens-stable/pike-stable/ocata," proxified_properties = ('status', 'host', 'share_server_id', 'share_network_id', 'availability_zone', 'share_type_id', 'share_type')","from oslo_log import logLOG = log.getLogger(__name__) deprecated_properties = ('host', 'share_server_id', 'share_network_id', 'availability_zone', 'share_type_id', 'share_type') proxified_properties = ('status',) + deprecated_properties if item in deprecated_properties: msg = (""Property '%s' is deprecated. Please use appropriate "" ""property from share instance."" % item) LOG.warning(msg)",10,12
openstack%2Fopenstack-ansible-os_masakari~master~I17d6b412a79da110eeabe545385129baa9ea4d63,openstack/openstack-ansible-os_masakari,master,I17d6b412a79da110eeabe545385129baa9ea4d63,Use masakari_service_* vars consistently,MERGED,2018-07-27 14:39:19.000000000,2018-08-01 20:18:23.000000000,2018-08-01 20:18:23.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 14:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/0343ab4db41adba95909122fdd09a8ba0e85d13f', 'message': 'Use masakari_service_* vars consistently\n\nThe conf file was hard-coded, instead of using the right\nvars. We fix that.\n\nChange-Id: I17d6b412a79da110eeabe545385129baa9ea4d63\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\n'}, {'number': 2, 'created': '2018-08-01 18:41:25.000000000', 'files': ['templates/masakari.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/853cece39e00b57ae659f677e80bec235c2887df', 'message': 'Use masakari_service_* vars consistently\n\nThe conf file was hard-coded, instead of using the right\nvars. We fix that.\n\nChange-Id: I17d6b412a79da110eeabe545385129baa9ea4d63\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\n'}]",0,586585,853cece39e00b57ae659f677e80bec235c2887df,22,4,2,6816,,,0,"Use masakari_service_* vars consistently

The conf file was hard-coded, instead of using the right
vars. We fix that.

Change-Id: I17d6b412a79da110eeabe545385129baa9ea4d63
Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/85/586585/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/masakari.conf.j2'],1,0343ab4db41adba95909122fdd09a8ba0e85d13f,fix-masakari-role,project_domain_id = {{ masakari_service_user_domain_id }} user_domain_id = {{ masakari_service_project_domain_id }} project_name = {{ masakari_service_project_name }} username = {{ masakari_service_user_name }} password = {{ masakari_service_password }},project_domain_id = default user_domain_id = default project_name = service username = masakari password = masakari,5,5
openstack%2Fopenstack-ansible-os_masakari~master~Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8,openstack/openstack-ansible-os_masakari,master,Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8,Use masakari_log_dir consistently,MERGED,2018-07-27 14:32:56.000000000,2018-08-01 20:18:22.000000000,2018-08-01 20:18:22.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 14:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/909574623dbd16bf9be399320f742c6f9f82a3a7', 'message': ""Use masakari_log_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/var/log/masakari' to refer to masakari_log_dir instead.\n\nWe also simplify the task which creates it to work whether\nthere is a symlink there or not.\n\nChange-Id: Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8\n""}, {'number': 2, 'created': '2018-07-27 14:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/66df6b2d94dd25bb43a63b968c1443d3f0f44153', 'message': ""Use masakari_log_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/var/log/masakari' to refer to masakari_log_dir instead.\n\nWe also simplify the task which creates it to work whether\nthere is a symlink there or not.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8\n""}, {'number': 3, 'created': '2018-08-01 18:41:17.000000000', 'files': ['tasks/masakari_pre_install.yml', 'templates/masakari.conf.j2', 'templates/masakari-systemd-init.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/0f82dd312f8ce53e1f55638723ad94f232cd3f9f', 'message': ""Use masakari_log_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/var/log/masakari' to refer to masakari_log_dir instead.\n\nWe also simplify the task which creates it to work whether\nthere is a symlink there or not.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8\n""}]",0,586580,0f82dd312f8ce53e1f55638723ad94f232cd3f9f,23,4,3,6816,,,0,"Use masakari_log_dir consistently

The variable is not used consistently. We fix every reference
to '/var/log/masakari' to refer to masakari_log_dir instead.

We also simplify the task which creates it to work whether
there is a symlink there or not.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: Ibf579b6655ddee5cfc8c32ad6a500b4dc85468a8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/80/586580/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/masakari_pre_install.yml', 'templates/masakari-systemd-init.j2', 'templates/masakari.conf.j2']",3,909574623dbd16bf9be399320f742c6f9f82a3a7,fix-masakari-role,log_dir = {{ masakari_log_dir }},log_dir = /var/log/masakari,5,26
openstack%2Fopenstack-ansible-os_masakari~master~I48eac7ffa55717fc57d0287719edbd56bcf21fac,openstack/openstack-ansible-os_masakari,master,I48eac7ffa55717fc57d0287719edbd56bcf21fac,Use masakari_etc_dir consistently,MERGED,2018-07-27 14:32:56.000000000,2018-08-01 20:18:21.000000000,2018-08-01 20:18:20.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 14:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/2be9fb156eab8bf539f871a89925f7b946b79b9a', 'message': ""Use masakari_etc_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/etc/masakari' to refer to masakari_etc_dir instead.\n\nChange-Id: I48eac7ffa55717fc57d0287719edbd56bcf21fac\n""}, {'number': 2, 'created': '2018-07-27 14:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/fa57edaf7fcf4f85fed1d32edc8e04490063d318', 'message': ""Use masakari_etc_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/etc/masakari' to refer to masakari_etc_dir instead.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: I48eac7ffa55717fc57d0287719edbd56bcf21fac\n""}, {'number': 3, 'created': '2018-08-01 18:41:08.000000000', 'files': ['tasks/masakari_pre_install.yml', 'templates/masakari.conf.j2', 'tasks/masakari_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6b3a4e9048fde5955dcf2b8924762f07cdedd31d', 'message': ""Use masakari_etc_dir consistently\n\nThe variable is not used consistently. We fix every reference\nto '/etc/masakari' to refer to masakari_etc_dir instead.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: I48eac7ffa55717fc57d0287719edbd56bcf21fac\n""}]",0,586579,6b3a4e9048fde5955dcf2b8924762f07cdedd31d,23,4,3,6816,,,0,"Use masakari_etc_dir consistently

The variable is not used consistently. We fix every reference
to '/etc/masakari' to refer to masakari_etc_dir instead.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: I48eac7ffa55717fc57d0287719edbd56bcf21fac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/79/586579/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/masakari_pre_install.yml', 'tasks/masakari_post_install.yml', 'templates/masakari.conf.j2']",3,2be9fb156eab8bf539f871a89925f7b946b79b9a,fix-masakari-role,api_paste_config = {{ masakari_etc_dir }}/api-paste.ini,api_paste_config = /etc/masakari/api-paste.ini,5,5
openstack%2Fopenstack-ansible-os_masakari~master~I434caf7d40385d481321c19748d91ecdcb6ae12e,openstack/openstack-ansible-os_masakari,master,I434caf7d40385d481321c19748d91ecdcb6ae12e,Use masakari-api group for setup tasks,MERGED,2018-07-27 13:58:09.000000000,2018-08-01 20:18:19.000000000,2018-08-01 20:18:19.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 13:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b51f3e756fe1875a8df39f167e15c8660eab55cf', 'message': ""Use masakari-api group for setup tasks\n\nRather than use the 'all' group, use the masakari-api group.\nThis will becoe more important when the role extends to also\napply to compute nodes.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: I434caf7d40385d481321c19748d91ecdcb6ae12e\n""}, {'number': 2, 'created': '2018-08-01 18:40:58.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b0c609f90eaabf7211b9d92b2ae50d6b316fd2de', 'message': ""Use masakari-api group for setup tasks\n\nRather than use the 'all' group, use the masakari-api group.\nThis will becoe more important when the role extends to also\napply to compute nodes.\n\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\nChange-Id: I434caf7d40385d481321c19748d91ecdcb6ae12e\n""}]",0,586566,b0c609f90eaabf7211b9d92b2ae50d6b316fd2de,24,4,2,6816,,,0,"Use masakari-api group for setup tasks

Rather than use the 'all' group, use the masakari-api group.
This will becoe more important when the role extends to also
apply to compute nodes.

Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
Change-Id: I434caf7d40385d481321c19748d91ecdcb6ae12e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/66/586566/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,b51f3e756fe1875a8df39f167e15c8660eab55cf,fix-masakari-role," - ""masakari_services['masakari-api']['group'] in group_names"" - ""inventory_hostname == ((groups[masakari_services['masakari-api']['group']] | intersect(ansible_play_hosts)) | list)[0]"" - ""masakari_services['masakari-api']['group'] in group_names"" - ""inventory_hostname == ((groups[masakari_services['masakari-api']['group']] | intersect(ansible_play_hosts)) | list)[0]"" - ""masakari_services['masakari-api']['group'] in group_names"" - ""inventory_hostname == ((groups[masakari_services['masakari-api']['group']] | intersect(ansible_play_hosts)) | list)[0]""", - inventory_hostname == groups['masakari_all'][0] - inventory_hostname == groups['masakari_all'][0] tags: - masakari-config - inventory_hostname == groups['masakari_all'][0],6,5
openstack%2Fnova~master~I17081666db55e2cca21852bb5f520accb2c807a2,openstack/nova,master,I17081666db55e2cca21852bb5f520accb2c807a2,Nix unused raise_if_custom_resource_class_pre_v1_1,MERGED,2018-06-15 20:49:37.000000000,2018-08-01 20:18:14.000000000,2018-08-01 20:18:14.000000000,"[{'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-15 20:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f5b09636f8a515a544caa9a5ba035fce9dc782f', 'message': 'Nix unused raise_if_custom_resource_class_pre_v1_1\n\nnova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1\nwas unused.  It was also the only place\nnova.rc_fields.ResourceClass.V1_0 was used.  This patch removes both.\n\nChange-Id: I17081666db55e2cca21852bb5f520accb2c807a2\n'}, {'number': 2, 'created': '2018-06-16 17:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f541b82bc5276f0a1b453ce13719d6f4ae9fb0b4', 'message': 'Nix unused raise_if_custom_resource_class_pre_v1_1\n\nnova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1\nwas unused.  It was also the only place\nnova.rc_fields.ResourceClass.V1_0 was used.  This patch removes both.\n\nChange-Id: I17081666db55e2cca21852bb5f520accb2c807a2\n'}, {'number': 3, 'created': '2018-06-18 17:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdc20e037861416caf7956cf80d935444f04bace', 'message': 'Nix unused raise_if_custom_resource_class_pre_v1_1\n\nThe only reference to\nnova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1\nwas removed in Ideca0f09f5dc4ba6bb194a2413ed93cf592dd963.  This was also the\nonly place nova.rc_fields.ResourceClass.V1_0 was used.  This patch removes\nboth.\n\nChange-Id: I17081666db55e2cca21852bb5f520accb2c807a2\n'}, {'number': 4, 'created': '2018-06-18 19:52:45.000000000', 'files': ['nova/db/sqlalchemy/resource_class_cache.py', 'nova/rc_fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8de155f81748f20a9d7aee63d444d1c59e1dda06', 'message': 'Nix unused raise_if_custom_resource_class_pre_v1_1\n\nThe only reference to\nnova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1\nwas removed in Ideca0f09f5dc4ba6bb194a2413ed93cf592dd963.  This was also the\nonly place nova.rc_fields.ResourceClass.V1_0 was used.  This patch removes\nboth.\n\nChange-Id: I17081666db55e2cca21852bb5f520accb2c807a2\n'}]",2,575847,8de155f81748f20a9d7aee63d444d1c59e1dda06,85,21,4,14070,,,0,"Nix unused raise_if_custom_resource_class_pre_v1_1

The only reference to
nova.db.sqlalchemy.resource_class_cache.raise_if_custom_resource_class_pre_v1_1
was removed in Ideca0f09f5dc4ba6bb194a2413ed93cf592dd963.  This was also the
only place nova.rc_fields.ResourceClass.V1_0 was used.  This patch removes
both.

Change-Id: I17081666db55e2cca21852bb5f520accb2c807a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/575847/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/resource_class_cache.py', 'nova/rc_fields.py']",2,1f5b09636f8a515a544caa9a5ba035fce9dc782f,remove-ResourceClass-V1_0,," # This is the set of standard resource classes that existed before # we opened up for custom resource classes in version 1.1 of various # objects in nova/objects/resource_provider.py V1_0 = (VCPU, MEMORY_MB, DISK_GB, PCI_DEVICE, SRIOV_NET_VF, NUMA_SOCKET, NUMA_CORE, NUMA_THREAD, NUMA_MEMORY_MB, IPV4_ADDRESS) ",0,23
openstack%2Fansible-role-redhat-subscription~master~I116fcdde7fe0b43ddab15cc9f3240faf130ed537,openstack/ansible-role-redhat-subscription,master,I116fcdde7fe0b43ddab15cc9f3240faf130ed537,Use release-openstack-server job-template,MERGED,2018-08-01 14:55:45.000000000,2018-08-01 20:09:22.000000000,2018-08-01 20:09:22.000000000,"[{'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 14:55:45.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/f42c8a9a0c0921e6e54d02d2638097cff57dc389', 'message': ""Use release-openstack-server job-template\n\nWe don't want these roles pushed to pypi, so no need to try uploading\nthem. This template is the same as publish-to-pypi except it's not\npushing the project to pypy.\n\nChange-Id: I116fcdde7fe0b43ddab15cc9f3240faf130ed537\n""}]",0,587842,f42c8a9a0c0921e6e54d02d2638097cff57dc389,8,4,1,3153,,,0,"Use release-openstack-server job-template

We don't want these roles pushed to pypi, so no need to try uploading
them. This template is the same as publish-to-pypi except it's not
pushing the project to pypy.

Change-Id: I116fcdde7fe0b43ddab15cc9f3240faf130ed537
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/42/587842/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,f42c8a9a0c0921e6e54d02d2638097cff57dc389,zuul/update, - release-openstack-server, - publish-to-pypi,1,1
openstack%2Fopenstack-ansible-os_masakari~master~I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e,openstack/openstack-ansible-os_masakari,master,I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e,Add missing masakari_venv_download_url default,MERGED,2018-07-27 13:58:09.000000000,2018-08-01 20:06:50.000000000,2018-08-01 20:06:50.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 13:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/975eee1d6ac5e79efcd2885bc91fcfb7839d5d5f', 'message': ""Add missing masakari_venv_download_url default\n\nThere are references to the masakari_venv_download_url var,\nbut it's not set anywhere.\n\nChange-Id: I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\n""}, {'number': 2, 'created': '2018-08-01 18:40:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/e517634e1ec282733ccfcb4d0b66b364175d70f8', 'message': ""Add missing masakari_venv_download_url default\n\nThere are references to the masakari_venv_download_url var,\nbut it's not set anywhere.\n\nChange-Id: I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e\nCo-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>\n""}]",0,586565,e517634e1ec282733ccfcb4d0b66b364175d70f8,24,4,2,6816,,,0,"Add missing masakari_venv_download_url default

There are references to the masakari_venv_download_url var,
but it's not set anywhere.

Change-Id: I28ba50fc0b675dcb9241f97f3930e4fb33ac4c2e
Co-Authored-By: Dmitriy R <dmitriy.r@sitevalley.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/65/586565/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,975eee1d6ac5e79efcd2885bc91fcfb7839d5d5f,fix-masakari-role,masakari_venv_download_url: http://127.0.0.1/venvs/untagged/ubuntu/masakari.tgzmasakari_venv_tag: untagged,masakari_venv_tag: untagged,2,1
openstack%2Fironic-python-agent~master~I70667d43af962b357e6eeccba258f4fa5a91a09e,openstack/ironic-python-agent,master,I70667d43af962b357e6eeccba258f4fa5a91a09e,Install grub to PReP partition when prep_boot_part_uuid is provided,MERGED,2018-07-16 14:16:10.000000000,2018-08-01 20:02:12.000000000,2018-08-01 20:02:11.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-16 14:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2e3681861ea7fff73ff5cb60a35db5ce32207ead', 'message': 'Install grub to PreP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nStory: #1749057\nTask: #22999\n'}, {'number': 2, 'created': '2018-07-16 14:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/54b515c98240a2514a6fe5e926050daa34463789', 'message': 'Install grub to PreP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nDepends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22999\n'}, {'number': 3, 'created': '2018-07-16 17:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8b54263b8ef3b0473d19e1d95530602bbc869c7f', 'message': 'Install grub to PreP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nDepends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22999\n'}, {'number': 4, 'created': '2018-07-19 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/accf20ef7cdb3c80dcb8f7f021c9e6adac5c79c7', 'message': 'Install grub to PReP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nThis change also passes the cpu_arch along to work_on_disk so\nthat the PReP partition is created when partitioning disks for\nlocal boot on ppc64* systems,\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nDepends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22999\n'}, {'number': 5, 'created': '2018-07-20 15:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fc9992979c974fd697a16511f536467db1ec105e', 'message': 'Install grub to PReP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nThis change also passes the cpu_arch along to work_on_disk so\nthat the PReP partition is created when partitioning disks for\nlocal boot on ppc64* systems,\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nDepends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22999\n'}, {'number': 6, 'created': '2018-07-20 16:08:43.000000000', 'files': ['releasenotes/notes/support-prep-partitions-5e273572ab7ce018.yaml', 'requirements.txt', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'lower-constraints.txt', 'ironic_python_agent/extensions/image.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b32750f5c4caed282050f7689421579670112b2e', 'message': 'Install grub to PReP partition when prep_boot_part_uuid is provided\n\nInstalls the grub bootloader to the PreP Boot partition when the\nprep_boot_partition_uuid is provided. This is required when\nbooting a partition image locally on ppc64* systems.\n\nThis change also passes the cpu_arch along to work_on_disk so\nthat the PReP partition is created when partitioning disks for\nlocal boot on ppc64* systems,\n\nChange-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e\nDepends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22999\n'}]",2,582962,b32750f5c4caed282050f7689421579670112b2e,26,5,6,11929,,,0,"Install grub to PReP partition when prep_boot_part_uuid is provided

Installs the grub bootloader to the PreP Boot partition when the
prep_boot_partition_uuid is provided. This is required when
booting a partition image locally on ppc64* systems.

This change also passes the cpu_arch along to work_on_disk so
that the PReP partition is created when partitioning disks for
local boot on ppc64* systems,

Change-Id: I70667d43af962b357e6eeccba258f4fa5a91a09e
Depends-On: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc
Story: #1749057
Task: #22999
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/582962/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,2e3681861ea7fff73ff5cb60a35db5ce32207ead,story/1749057,"def _install_grub2(device, root_uuid, efi_system_part_uuid=None, prep_boot_part_uuid=None): # For power we want to install grub directly onto the PreP partition if prep_boot_part_uuid: device = _get_partition(device, uuid=prep_boot_part_uuid) def install_bootloader(self, root_uuid, efi_system_part_uuid=None, prep_boot_part_uuid=None): :param prep_boot_part_uuid: The UUID of the PReP Boot partition. Used only for booting ppc64* partition images locally. In this scenario the bootloader will be installed here. :raises: CommandExecutionError if the installation of the efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid)","def _install_grub2(device, root_uuid, efi_system_part_uuid=None): def install_bootloader(self, root_uuid, efi_system_part_uuid=None): :raises: CommandExecutionError if the installation of the efi_system_part_uuid=efi_system_part_uuid)",78,6
openstack%2Fironic~master~I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc,openstack/ironic,master,I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc,Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images,MERGED,2018-06-29 13:36:31.000000000,2018-08-01 20:02:09.000000000,2018-08-01 20:02:09.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 12898}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e1bfada3945ff88413dca5e6fd8623961af7a32', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nPartial-bug: #1749057\n'}, {'number': 2, 'created': '2018-07-02 01:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d830788ef49cbdb9b740b1bc566e2a1e0504244e', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nPartial-bug: #1749057\n'}, {'number': 3, 'created': '2018-07-16 14:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ace23c4a08c2bc758a0c2a3f4972a0984b075edd', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 4, 'created': '2018-07-24 17:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa611f034141b5e94b6cc515c8012a9507f07f42', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 5, 'created': '2018-07-26 01:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/378c2a807249869eed0bac704582f1eebfe84e8e', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 6, 'created': '2018-07-26 15:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9e46a4d1da5b0f1b52231c046edd72f1245d704', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 7, 'created': '2018-07-27 12:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fdfa33feb5f3edc7139450172f19977480b196c', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 8, 'created': '2018-07-31 19:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2d440193e71b095a286973b6b5688da72c00abd', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}, {'number': 9, 'created': '2018-07-31 19:52:47.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'lower-constraints.txt', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'requirements.txt', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py', 'releasenotes/notes/add-prep-partition-support-d808849795906e64.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f89954f9a3edab71db1157578e9d029a395d2d9', 'message': 'Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images\n\nThis patch gets the PReP Boot partition UUID when performing a local boot\npartition image deployment on ppc64* hardware.\n\nDepends-On: I8f9748dd58146bfb2411c229b02969e0faf18222\nChange-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc\nStory: #1749057\nTask: #22995\n'}]",14,579159,8f89954f9a3edab71db1157578e9d029a395d2d9,78,11,9,11929,,,0,"Pass prep_boot_part_uuid to install_bootloader for ppc64* partition images

This patch gets the PReP Boot partition UUID when performing a local boot
partition image deployment on ppc64* hardware.

Depends-On: I8f9748dd58146bfb2411c229b02969e0faf18222
Change-Id: I2bc9f13ec605de7b7b96d96a1a4edebee0af76dc
Story: #1749057
Task: #22995
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/579159/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",6,6e1bfada3945ff88413dca5e6fd8623961af7a32,story/1749057," None, None, None) prepare_instance_mock.assert_called_once_with(mock.ANY, task, 'root_uuid', None, None) mock.ANY, task, 'root_uuid', 'efi_uuid', None)"," None, None) prepare_instance_mock.assert_called_once_with(mock.ANY, task, 'root_uuid', None) mock.ANY, task, 'root_uuid', 'efi_uuid')",43,22
openstack%2Fopenstack-ansible-os_octavia~master~Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2,openstack/openstack-ansible-os_octavia,master,Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2,Use generic vars file for ubuntu,ABANDONED,2018-07-27 21:32:51.000000000,2018-08-01 20:00:16.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 21:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/681bd4c5fa808eeaa25e3fa511dc1ddef9fbb0dd', 'message': 'Add vars for Bionic\n\nOriginating from the Xenial vars file\n\nChange-Id: Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2\n'}, {'number': 2, 'created': '2018-07-31 10:20:27.000000000', 'files': ['vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7b751b3142d638bb6029f5ef8f1ed0aab3fbf650', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2\n'}]",0,586705,7b751b3142d638bb6029f5ef8f1ed0aab3fbf650,11,4,2,25023,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ie4bfbdb7b13e05179ffab38242a74c18bb5203b2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/05/586705/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,681bd4c5fa808eeaa25e3fa511dc1ddef9fbb0dd,bionic-vars,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ## APT Cache options cache_timeout: 600 octavia_distro_packages: - iptables-persistent - netfilter-persistent - libxml2-dev - git ",,23,0
openstack%2Frequirements~master~If1c968af9638b39ca9d7f949de0ff4ff1346f981,openstack/requirements,master,If1c968af9638b39ca9d7f949de0ff4ff1346f981,update constraint for python-cinderclient to new release 4.0.1,MERGED,2018-08-01 16:23:17.000000000,2018-08-01 19:58:33.000000000,2018-08-01 19:58:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 16:23:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c3d0e1395ea56d661029aefa00d710dff52adb0', 'message': 'update constraint for python-cinderclient to new release 4.0.1\n\nChange-Id: If1c968af9638b39ca9d7f949de0ff4ff1346f981\nmeta:version: 4.0.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Change-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,587875,5c3d0e1395ea56d661029aefa00d710dff52adb0,7,3,1,11131,,,0,"update constraint for python-cinderclient to new release 4.0.1

Change-Id: If1c968af9638b39ca9d7f949de0ff4ff1346f981
meta:version: 4.0.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Change-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/587875/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5c3d0e1395ea56d661029aefa00d710dff52adb0,new-release,python-cinderclient===4.0.1,python-cinderclient===4.0.0,1,1
openstack%2Fpython-dracclient~master~Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034,openstack/python-dracclient,master,Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034,Add ability to schedule jobs,MERGED,2018-06-25 20:39:23.000000000,2018-08-01 19:54:27.000000000,2018-08-01 19:54:27.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 28370}]","[{'number': 1, 'created': '2018-06-25 20:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/a5a91498b19a626088744b8bbb25f33771e6398d', 'message': 'Add ability to schedule jobs\n\nAdds an optional start time to allow configuration changes\nto be scheduled for a future time.\n\nChange-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034\nSigned-off-by: Mark Beierl <mark.beierl@dell.com>\n'}, {'number': 2, 'created': '2018-06-28 20:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/ed364d799645906c29a91ac0d2f1fb463764cc34', 'message': 'Add ability to schedule jobs\n\nAdds an optional start time to allow configuration changes\nto be scheduled for a future time.\n\nCo-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nChange-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034\n'}, {'number': 3, 'created': '2018-07-03 19:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/59aa88358c261e22aad762689a50dbbdec53115a', 'message': 'Add ability to schedule jobs\n\nAdds an optional start time to allow configuration changes\nto be scheduled for a future time.\n\nCo-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nChange-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034\n'}, {'number': 4, 'created': '2018-07-05 15:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/53c46e502e1437e9a3b12ec886480b5958704bf8', 'message': 'Add ability to schedule jobs\n\nAdds an optional start time to allow configuration changes\nto be scheduled for a future time.\n\nCo-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nChange-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034\n'}, {'number': 5, 'created': '2018-07-06 19:27:56.000000000', 'files': ['dracclient/tests/test_raid.py', 'dracclient/tests/test_job.py', 'dracclient/client.py', 'dracclient/resources/job.py', 'dracclient/resources/uris.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/dcf4e2d2801ebb0b8e617d0bccd46c72810ce353', 'message': 'Add ability to schedule jobs\n\nAdds an optional start time to allow configuration changes\nto be scheduled for a future time.\n\nCo-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nChange-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034\n'}]",32,577925,dcf4e2d2801ebb0b8e617d0bccd46c72810ce353,27,7,5,28370,,,0,"Add ability to schedule jobs

Adds an optional start time to allow configuration changes
to be scheduled for a future time.

Co-Authored-By: Christopher Dearborn <christopher.dearborn@dell.com>
Co-Authored-By: Richard G. Pioso <richard.pioso@dell.com>
Change-Id: Ia1f02fd2f8a25efa8bb924bd9d50394cbf5d2034
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/25/577925/1 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_raid.py', 'dracclient/client.py', 'dracclient/resources/job.py', 'dracclient/tests/test_bios.py', 'dracclient/tests/test_idrac_card.py']",5,a5a91498b19a626088744b8bbb25f33771e6398d,schedule_job," reboot=False, start_time='TIME_NOW') reboot=True, start_time='TIME_NOW') @mock.patch.object(job.JobManagement, 'create_config_job', spec_set=True, autospec=True) def test_commit_pending_idrac_changes_with_time( self, mock_create_config_job): timestamp = '20140924120101' self.drac_client.commit_pending_idrac_changes( start_time=timestamp) mock_create_config_job.assert_called_once_with( mock.ANY, resource_uri=uris.DCIM_iDRACCardService, cim_creation_class_name='DCIM_iDRACCardService', cim_name='DCIM:iDRACCardService', target=dracclient.client.DRACClient.IDRAC_FQDD, reboot=False, start_time=timestamp) @mock.patch.object(job.JobManagement, 'create_config_job', spec_set=True, autospec=True) def test_commit_pending_idrac_changes_with_reboot_and_time( self, mock_create_config_job): timestamp = '20140924120101' self.drac_client.commit_pending_idrac_changes( reboot=True, start_time=timestamp) mock_create_config_job.assert_called_once_with( mock.ANY, resource_uri=uris.DCIM_iDRACCardService, cim_creation_class_name='DCIM_iDRACCardService', cim_name='DCIM:iDRACCardService', target=dracclient.client.DRACClient.IDRAC_FQDD, reboot=True, start_time=timestamp)", reboot=False) reboot=True),211,26
openstack%2Fopenstack-ansible-os_nova~master~I7c885974295fa6df3005b68210fc9e3442296ac1,openstack/openstack-ansible-os_nova,master,I7c885974295fa6df3005b68210fc9e3442296ac1,Remove python-keystoneclient package install,MERGED,2018-08-01 09:07:03.000000000,2018-08-01 19:37:02.000000000,2018-08-01 19:37:02.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 09:07:03.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b18668360c88abb100b2d223c00fcda97dfd4b4c', 'message': ""Remove python-keystoneclient package install\n\nNow that we no longer use our own keystone module, but\ninstead make use of the ansible runtime venv's shade\nlibrary and upstream ansible modules, we can eliminate\nthis package/library being installed on the host.\n\nChange-Id: I7c885974295fa6df3005b68210fc9e3442296ac1\n""}]",0,587733,b18668360c88abb100b2d223c00fcda97dfd4b4c,11,4,1,6816,,,0,"Remove python-keystoneclient package install

Now that we no longer use our own keystone module, but
instead make use of the ansible runtime venv's shade
library and upstream ansible modules, we can eliminate
this package/library being installed on the host.

Change-Id: I7c885974295fa6df3005b68210fc9e3442296ac1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/33/587733/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml']",3,b18668360c88abb100b2d223c00fcda97dfd4b4c,bp/python-build-install-simplification,, - python-keystoneclient,0,3
openstack%2Fgoal-tools~master~I99e4b7670319a9d554ee6f2535f36b20dda486db,openstack/goal-tools,master,I99e4b7670319a9d554ee6f2535f36b20dda486db,ensure all commits refer to the goal document,MERGED,2018-08-01 18:28:49.000000000,2018-08-01 19:36:28.000000000,2018-08-01 19:36:28.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:28:49.000000000', 'files': ['tools/python3-first/update_doc_job.sh', 'tools/python3-first/do_repo.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/1d9a34c1da899ce2a53a111691c0a12d85b1a680', 'message': 'ensure all commits refer to the goal document\n\nLink to the published version of the document instead of the change\nproposing the goal.\n\nChange-Id: I99e4b7670319a9d554ee6f2535f36b20dda486db\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587970,1d9a34c1da899ce2a53a111691c0a12d85b1a680,6,2,1,2472,,,0,"ensure all commits refer to the goal document

Link to the published version of the document instead of the change
proposing the goal.

Change-Id: I99e4b7670319a9d554ee6f2535f36b20dda486db
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/70/587970/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/python3-first/update_doc_job.sh', 'tools/python3-first/do_repo.sh']",2,1d9a34c1da899ce2a53a111691c0a12d85b1a680,python3-first,https://governance.openstack.org/tc/goals/stein/python3-first.html,https://review.openstack.org/#/c/575933/,4,1
openstack%2Fgoal-tools~master~I70484f06a205dbed0d22f38805fc26e909c7c0fa,openstack/goal-tools,master,I70484f06a205dbed0d22f38805fc26e909c7c0fa,improve summary in propose.sh,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:44.000000000,2018-08-01 19:34:44.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/propose.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/e4fdb3b0710e725ea28a7fd3c3d95dc729b62afe', 'message': 'improve summary in propose.sh\n\nChange-Id: I70484f06a205dbed0d22f38805fc26e909c7c0fa\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587943,e4fdb3b0710e725ea28a7fd3c3d95dc729b62afe,6,2,1,2472,,,0,"improve summary in propose.sh

Change-Id: I70484f06a205dbed0d22f38805fc26e909c7c0fa
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/43/587943/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/python3-first/propose.sh'],1,e4fdb3b0710e725ea28a7fd3c3d95dc729b62afe,python3-first,"function show_changes { for branch in $BRANCHES do for repo in $(cat $branch) do if [ $branch = master ]; then origin=origin/master else origin=origin/stable/$branch fi (cd $repo && git checkout python3-first-$branch 2>/dev/null && git log --oneline --pretty=format:""%h %s $repo $branch%n"" $origin..) done done } echo show_changes nchanges=$(show_changes 2>/dev/null | wc -l) echo echo ""About to propose $nchanges changes"" echo",for branch in $BRANCHES do for repo in $(cat $branch) do echo echo $repo $branch if [ $branch = master ]; then origin=origin/master else origin=origin/stable/$branch fi (cd $repo && git checkout python3-first-$branch && git log --oneline $origin..) done done ,25,16
openstack%2Fgoal-tools~master~Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc,openstack/goal-tools,master,Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc,change log file names,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:44.000000000,2018-08-01 19:34:43.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/do_team.sh', 'tools/python3-first/propose.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/dbc9e761605138bef5e460c3bb82116a2a65a252', 'message': 'change log file names\n\nlog inside the team output directory to make cleanup easier\n\nChange-Id: Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587942,dbc9e761605138bef5e460c3bb82116a2a65a252,6,2,1,2472,,,0,"change log file names

log inside the team output directory to make cleanup easier

Change-Id: Ib9cc122abfac23bff6ac2a45b939de8deffdfcdc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/42/587942/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/python3-first/do_team.sh', 'tools/python3-first/propose.sh']",2,dbc9e761605138bef5e460c3bb82116a2a65a252,python3-first,"function get_team_dir { local workdir=""$1"" local team=""$2"" echo ""$workdir/$team"" | sed -e 's/ /-/g' } out_dir=$(get_team_dir ""$workdir"" ""$team"") LOGFILE=""$out_dir/propose.log""","LOGFILE=""$workdir/$team-propose.txt""",21,11
openstack%2Fgoal-tools~master~I384c358846a5719a125138012f6aa4116bf678da,openstack/goal-tools,master,I384c358846a5719a125138012f6aa4116bf678da,use published goal URL,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:43.000000000,2018-08-01 19:34:43.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/do_team.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/2b975c0e03044ebc199b6f54907def876b239d24', 'message': 'use published goal URL\n\nThere is no need to make the goal URL an argument to do_team, since it\nwill not change.\n\nChange-Id: I384c358846a5719a125138012f6aa4116bf678da\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587941,2b975c0e03044ebc199b6f54907def876b239d24,6,2,1,2472,,,0,"use published goal URL

There is no need to make the goal URL an argument to do_team, since it
will not change.

Change-Id: I384c358846a5719a125138012f6aa4116bf678da
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/41/587941/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/python3-first/do_team.sh'],1,2b975c0e03044ebc199b6f54907def876b239d24,python3-first," echo ""do_team.sh WORKDIR TEAM"" } workdir=""$1"" team=""$2""goal_url=""https://governance.openstack.org/tc/goals/stein/python3-first.html"" "," echo ""do_team.sh GOAL_URL WORKDIR TEAM"" } goal_url=""$1"" workdir=""$2"" team=""$3"" if [ -z ""$goal_url"" ]; then usage exit 1 fi",5,9
openstack%2Fgoal-tools~master~I6be51a0d50b7d82fa1921fc3ff35bac8048435b3,openstack/goal-tools,master,I6be51a0d50b7d82fa1921fc3ff35bac8048435b3,include story ids in commit messages,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:42.000000000,2018-08-01 19:34:42.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/do_team.sh', 'tools/python3-first/update_doc_job.sh', 'tools/python3-first/process_team.sh', 'README.rst', 'tools/python3-first/do_repo.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/9115f1e0894fe4e9c510af274fea2f2bb619f497', 'message': 'include story ids in commit messages\n\nInclude the ID of the story in storyboard in the commit messages to\nassist with tracking.\n\nWe do not include task IDs because there is only going to be one task\nper repository and completing a goal for a repository will likely mean\nseveral patches.\n\nChange-Id: I6be51a0d50b7d82fa1921fc3ff35bac8048435b3\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587940,9115f1e0894fe4e9c510af274fea2f2bb619f497,6,2,1,2472,,,0,"include story ids in commit messages

Include the ID of the story in storyboard in the commit messages to
assist with tracking.

We do not include task IDs because there is only going to be one task
per repository and completing a goal for a repository will likely mean
several patches.

Change-Id: I6be51a0d50b7d82fa1921fc3ff35bac8048435b3
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/40/587940/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/python3-first/do_team.sh', 'tools/python3-first/update_doc_job.sh', 'tools/python3-first/process_team.sh', 'README.rst', 'tools/python3-first/do_repo.sh']",5,9115f1e0894fe4e9c510af274fea2f2bb619f497,python3-first," echo ""do_repo.sh REPO_DIR BRANCH STORY""story=""$3"" usage usageif [ -z ""$story"" ]; then usage echo ""Need to specify a story!"" exit 1 fi Story: #$story "," echo ""do_repo.sh REPO_DIR BRANCH""",56,17
openstack%2Fgoal-tools~master~I8378aeea06ff3b323caa15c7c7a67217e15d2d4a,openstack/goal-tools,master,I8378aeea06ff3b323caa15c7c7a67217e15d2d4a,report the repo used when adding a task to a story,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:42.000000000,2018-08-01 19:34:41.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['goal_tools/import_goal.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/e39c405a0f66f907985b8d0996e90789d0340fcc', 'message': 'report the repo used when adding a task to a story\n\nChange-Id: I8378aeea06ff3b323caa15c7c7a67217e15d2d4a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587939,e39c405a0f66f907985b8d0996e90789d0340fcc,6,2,1,2472,,,0,"report the repo used when adding a task to a story

Change-Id: I8378aeea06ff3b323caa15c7c7a67217e15d2d4a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/39/587939/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/import_goal.py'],1,e39c405a0f66f907985b8d0996e90789d0340fcc,python3-first," LOG.info('adding task for %s (%s)', title, sb_project.name)"," LOG.info('adding task for %s', title)",2,1
openstack%2Fgoal-tools~master~Ifa37bd47ecb4fa14650df67f33ee0a3905ced337,openstack/goal-tools,master,Ifa37bd47ecb4fa14650df67f33ee0a3905ced337,add find-story cli tool,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:36.000000000,2018-08-01 19:34:35.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['goal_tools/find_story.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/ba01fefe6aa9ee9f2a94148430f88c5db7165206', 'message': 'add find-story cli tool\n\nChange-Id: Ifa37bd47ecb4fa14650df67f33ee0a3905ced337\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587938,ba01fefe6aa9ee9f2a94148430f88c5db7165206,6,2,1,2472,,,0,"add find-story cli tool

Change-Id: Ifa37bd47ecb4fa14650df67f33ee0a3905ced337
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/38/587938/1 && git format-patch -1 --stdout FETCH_HEAD,"['goal_tools/find_story.py', 'setup.cfg']",2,ba01fefe6aa9ee9f2a94148430f88c5db7165206,python3-first, find-story = goal_tools.find_story:main,,90,0
openstack%2Fgoal-tools~master~Ieb03dced4d614ab784869f1d83a4767e13eaa8e4,openstack/goal-tools,master,Ieb03dced4d614ab784869f1d83a4767e13eaa8e4,move story functions to their own module,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:35.000000000,2018-08-01 19:34:35.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['goal_tools/storyboard.py', 'goal_tools/import_goal.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/5e9ca4d108a2b463f43fd960876c8b92e27d9932', 'message': 'move story functions to their own module\n\nMove find_or_create_story and refactor it to let us have a find_story\nfunction.\n\nChange-Id: Ieb03dced4d614ab784869f1d83a4767e13eaa8e4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587937,5e9ca4d108a2b463f43fd960876c8b92e27d9932,6,2,1,2472,,,0,"move story functions to their own module

Move find_or_create_story and refactor it to let us have a find_story
function.

Change-Id: Ieb03dced4d614ab784869f1d83a4767e13eaa8e4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/37/587937/1 && git format-patch -1 --stdout FETCH_HEAD,"['goal_tools/storyboard.py', 'goal_tools/import_goal.py']",2,5e9ca4d108a2b463f43fd960876c8b92e27d9932,python3-first, story = storyboard.find_or_create_story( story = storyboard.find_or_create_story(,"def _find_or_create_story(sbc, title, description): LOG.info('searching for existing stories like {!r}'.format(title)) existing = sbc.stories.get_all(title=title) if not existing: LOG.info('creating new story') story = sbc.stories.create( title=title, description=description, ) LOG.info('created story {}'.format(story.id)) else: story = existing[0] LOG.info('found existing story {}'.format(story.id)) return story story = _find_or_create_story( story = _find_or_create_story(",24,18
openstack%2Fgoal-tools~master~Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc,openstack/goal-tools,master,Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc,make tag handling more robust,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:34.000000000,2018-08-01 19:34:34.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['goal_tools/import_goal.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/4fbf1078eb30fbabb7298f6bcfb0c3ec7d255e44', 'message': 'make tag handling more robust\n\nIf no tag is set, do not add anything. If None was accidentally\nincluded in the set of tags before, remove it now. If proposing the\ntags results in an error, log it and keep moving.\n\nChange-Id: Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587936,4fbf1078eb30fbabb7298f6bcfb0c3ec7d255e44,6,2,1,2472,,,0,"make tag handling more robust

If no tag is set, do not add anything. If None was accidentally
included in the set of tags before, remove it now. If proposing the
tags results in an error, log it and keep moving.

Change-Id: Ic69f7b39f096d9c0a9cc5a2eb434a00048b88adc
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/36/587936/1 && git format-patch -1 --stdout FETCH_HEAD,['goal_tools/import_goal.py'],1,4fbf1078eb30fbabb7298f6bcfb0c3ec7d255e44,python3-first, if not tag: return if None in tags: tags.remove(None) try: story.tags_manager.update(list(tags)) except Exception as err: LOG.info(err), story.tags_manager.update(list(tags)),8,1
openstack%2Fgoal-tools~master~I128e8bd1395713f1daa233751a25487cc0fff153,openstack/goal-tools,master,I128e8bd1395713f1daa233751a25487cc0fff153,move some goal parsing code into sharable module,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:34.000000000,2018-08-01 19:34:34.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['goal_tools/import_goal.py', 'goal_tools/goals.py'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/78ce36575853c11b8374d6bcb7c28ac39619babe', 'message': 'move some goal parsing code into sharable module\n\nThe code for extracting data from a goal document can be reused.\n\nChange-Id: I128e8bd1395713f1daa233751a25487cc0fff153\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587935,78ce36575853c11b8374d6bcb7c28ac39619babe,6,2,1,2472,,,0,"move some goal parsing code into sharable module

The code for extracting data from a goal document can be reused.

Change-Id: I128e8bd1395713f1daa233751a25487cc0fff153
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/35/587935/1 && git format-patch -1 --stdout FETCH_HEAD,"['goal_tools/import_goal.py', 'goal_tools/goals.py']",2,78ce36575853c11b8374d6bcb7c28ac39619babe,python3-first,"#!/usr/bin/env python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import bs4 as beautifulsoup import requests _SITE_TITLE = '— OpenStack Technical Committee Governance Documents' def _parse_goal_page(html): data = { 'title': '', 'description': '', } bs = beautifulsoup.BeautifulSoup(html, 'html.parser') data['title'] = bs.title.string or '' if data['title'].endswith(_SITE_TITLE): data['title'] = data['title'][:-len(_SITE_TITLE)].strip() data['description'] = bs.p.text or bs.p.string or '' return data def get_info(url): html = requests.get(url) data = _parse_goal_page(html.text) data['url'] = url return data ",,40,25
openstack%2Fgoal-tools~master~Ic85e947fdbf74b4799e92acda2f8e389fa97d232,openstack/goal-tools,master,Ic85e947fdbf74b4799e92acda2f8e389fa97d232,show the changes to be proposed before submitting the patches,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:33.000000000,2018-08-01 19:34:33.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/propose.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/3c6601d1f26f4cd288e1e11d7b1897d204804e86', 'message': 'show the changes to be proposed before submitting the patches\n\nChange-Id: Ic85e947fdbf74b4799e92acda2f8e389fa97d232\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587934,3c6601d1f26f4cd288e1e11d7b1897d204804e86,6,2,1,2472,,,0,"show the changes to be proposed before submitting the patches

Change-Id: Ic85e947fdbf74b4799e92acda2f8e389fa97d232
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/34/587934/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/python3-first/propose.sh'],1,3c6601d1f26f4cd288e1e11d7b1897d204804e86,python3-first,"LOGFILE=""$workdir/$team-propose.txt"" echo ""Logging to $LOGFILE"" # Set fd 1 and 2 to write the log file exec 1> >( tee ""${LOGFILE}"" ) 2>&1 date echo $0 $@ for branch in $BRANCHES do for repo in $(cat $branch) do echo echo $repo $branch if [ $branch = master ]; then origin=origin/master else origin=origin/stable/$branch fi (cd $repo && git checkout python3-first-$branch && git log --oneline $origin..) done done echo ""Press return to continue"" read ignoreme ",,28,0
openstack%2Fgoal-tools~master~Ibcbc84d1465e1ab87a62884e7076fbade406fb06,openstack/goal-tools,master,Ibcbc84d1465e1ab87a62884e7076fbade406fb06,automatically create a log file,MERGED,2018-08-01 18:16:57.000000000,2018-08-01 19:34:17.000000000,2018-08-01 19:34:17.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 18:16:57.000000000', 'files': ['tools/python3-first/do_team.sh'], 'web_link': 'https://opendev.org/openstack/goal-tools/commit/d44c04bd8ea62690f07e7e5fe6e8c379584f63c5', 'message': 'automatically create a log file\n\nLog output to a file in the working directory.\n\nChange-Id: Ibcbc84d1465e1ab87a62884e7076fbade406fb06\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,587933,d44c04bd8ea62690f07e7e5fe6e8c379584f63c5,6,2,1,2472,,,0,"automatically create a log file

Log output to a file in the working directory.

Change-Id: Ibcbc84d1465e1ab87a62884e7076fbade406fb06
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/goal-tools refs/changes/33/587933/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/python3-first/do_team.sh'],1,d44c04bd8ea62690f07e7e5fe6e8c379584f63c5,python3-first,"LOGFILE=""$workdir/$team.txt"" echo ""Logging to $LOGFILE"" # Set fd 1 and 2 to write the log file exec 1> >( tee ""${LOGFILE}"" ) 2>&1 date echo $0 $@ ",,7,0
openstack%2Fopenstack-ansible-os_masakari~master~Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35,openstack/openstack-ansible-os_masakari,master,Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35,Move MQ vhost/user creation into role,MERGED,2018-07-17 21:06:09.000000000,2018-08-01 19:27:03.000000000,2018-08-01 19:27:03.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 21:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/a556e1d91c5be0630ef5e9f729dd64f5be7f1c6b', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- masakari_oslomsg_rpc_setup_host\n- masakari_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nChange-Id: Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35\n""}, {'number': 2, 'created': '2018-07-27 11:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/7443d3b904e2b60202b922766c84329b26d41130', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- masakari_oslomsg_rpc_setup_host\n- masakari_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nFinally, we remove the test mq setup tasks and clean up any unused\nor unnecessary variables configured in tests.\n\nChange-Id: Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35\n""}, {'number': 3, 'created': '2018-08-01 17:54:30.000000000', 'files': ['tasks/main.yml', 'tests/test-install-masakari.yml', 'tasks/mq_setup.yml', 'vars/ubuntu.yml', 'tests/os_masakari-overrides.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/8585cb3d3a7599a0f3b29626e8df45a92b259995', 'message': ""Move MQ vhost/user creation into role\n\nThere is no record for why we implement the MQ vhost/user creation\noutside of the role in the playbook, when we could do it inside the\nrole.\n\nImplementing it inside the role allows us to reduce the quantity of\ngroup_vars duplicated from the role, and allows us to better document\nthe required variables in the role. The delegation can still be done\nas it is done in the playbook too.\n\nIn this patch we implement two new variables:\n- masakari_oslomsg_rpc_setup_host\n- masakari_oslomsg_notify_setup_host\n\nThese are used in the role to allow delegation of the MQ vhost/user\nsetup for each type to any host, but they default to using the first\nmember of the applicable oslomsg host group.\n\nWe also adjust some of the defaults to automatically inherit existing\nvars set in group_vars form the integrated build so that we do not\nneed to do the wiring in the integrated build's group vars. We still\ndefault them in the role too for independent role usage.\n\nFinally, we remove the test mq setup tasks and clean up any unused\nor unnecessary variables configured in tests.\n\nWe also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both\nxenial and bionic. This has become necessary because the\n'Gather variables for each operating system' task in the galera_client\nrole is picking up this role's vars file instead of its own.\n\nChange-Id: Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35\n""}]",0,583380,8585cb3d3a7599a0f3b29626e8df45a92b259995,28,4,3,6816,,,0,"Move MQ vhost/user creation into role

There is no record for why we implement the MQ vhost/user creation
outside of the role in the playbook, when we could do it inside the
role.

Implementing it inside the role allows us to reduce the quantity of
group_vars duplicated from the role, and allows us to better document
the required variables in the role. The delegation can still be done
as it is done in the playbook too.

In this patch we implement two new variables:
- masakari_oslomsg_rpc_setup_host
- masakari_oslomsg_notify_setup_host

These are used in the role to allow delegation of the MQ vhost/user
setup for each type to any host, but they default to using the first
member of the applicable oslomsg host group.

We also adjust some of the defaults to automatically inherit existing
vars set in group_vars form the integrated build so that we do not
need to do the wiring in the integrated build's group vars. We still
default them in the role too for independent role usage.

Finally, we remove the test mq setup tasks and clean up any unused
or unnecessary variables configured in tests.

We also rename the ubuntu-16.04.yml file to ubuntu.yml to cover both
xenial and bionic. This has become necessary because the
'Gather variables for each operating system' task in the galera_client
role is picking up this role's vars file instead of its own.

Change-Id: Ibf05d527b6dbed8a10ecf0b64cfb161b66295d35
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/80/583380/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/mq_setup.yml', 'defaults/main.yml']",3,a556e1d91c5be0630ef5e9f729dd64f5be7f1c6b,move-mq-setup-into-roles,"masakari_oslomsg_rpc_host_group: ""{{ oslomsg_rpc_host_group | default('rabbitmq_all') }}"" masakari_oslomsg_notify_host_group: ""{{ oslomsg_notify_host_group | default('rabbitmq_all') }}"" masakari_oslomsg_rpc_setup_host: ""{{ (masakari_oslomsg_rpc_host_group in groups) | ternary(groups[masakari_oslomsg_rpc_host_group][0], 'localhost') }}"" masakari_oslomsg_notify_setup_host: ""{{ (masakari_oslomsg_notify_host_group in groups) | ternary(groups[masakari_oslomsg_notify_host_group][0], 'localhost') }}""",,68,0
openstack%2Fopenstack-helm~master~I479bcda89b0be0056717864e79269b8d071d98ec,openstack/openstack-helm,master,I479bcda89b0be0056717864e79269b8d071d98ec,Fix invalid policy rule,MERGED,2018-07-31 22:08:50.000000000,2018-08-01 19:12:15.000000000,2018-08-01 19:12:07.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2018-07-31 22:08:50.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f57aba1fabc079f0e3cd6e86251935f215f534ae', 'message': 'Fix invalid policy rule\n\nAs reported in OSSN-0083[0], ""get_identity_providers"" is invalid\nand should be singular ""get_identity_provider"". The former rule\nis ignored, this change to make the rule singular fixes this\nissue.\n\n[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0083\n\nChange-Id: I479bcda89b0be0056717864e79269b8d071d98ec\n'}]",0,587648,f57aba1fabc079f0e3cd6e86251935f215f534ae,9,4,1,21420,,,0,"Fix invalid policy rule

As reported in OSSN-0083[0], ""get_identity_providers"" is invalid
and should be singular ""get_identity_provider"". The former rule
is ignored, this change to make the rule singular fixes this
issue.

[0] https://wiki.openstack.org/wiki/OSSN/OSSN-0083

Change-Id: I479bcda89b0be0056717864e79269b8d071d98ec
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/587648/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,f57aba1fabc079f0e3cd6e86251935f215f534ae,policy-fix, identity:get_identity_provider: rule:admin_required, identity:get_identity_providers: rule:admin_required,1,1
openstack%2Fcharm-ceph-mon~master~I34cd8ba1e45b90e60bd9c49d7d3973008bd95559,openstack/charm-ceph-mon,master,I34cd8ba1e45b90e60bd9c49d7d3973008bd95559,Fix ceph-mon can not print log due to incorrect permission on log file,MERGED,2018-07-25 14:21:22.000000000,2018-08-01 19:05:33.000000000,2018-08-01 19:05:33.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 10068}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28759}]","[{'number': 1, 'created': '2018-07-25 14:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/026c31ec14ec964a2b5a5fef44848ed2f9906aa6', 'message': 'Fix ceph-mon can not print log due to incorrect permission on log file\n\nChange-Id: I34cd8ba1e45b90e60bd9c49d7d3973008bd95559\nCloses-Bug: #1783526\nSigned-off-by: dongdong tao <dongdong.tao@canonical.com>\n'}, {'number': 2, 'created': '2018-07-25 14:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6d5412591a7276354977e8316842d7aa23e8b48e', 'message': 'Fix ceph-mon can not print log due to incorrect permission on log file\n\nChange-Id: I34cd8ba1e45b90e60bd9c49d7d3973008bd95559\nSigned-off-by: dongdong tao <dongdong.tao@canonical.com>\nCloses-Bug: #1783526\n'}, {'number': 3, 'created': '2018-07-31 12:08:20.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/af6478c4b49331e707dc8280cf3f241295164027', 'message': 'Fix ceph-mon can not print log due to incorrect permission on log file\n\nChange-Id: I34cd8ba1e45b90e60bd9c49d7d3973008bd95559\nSigned-off-by: dongdong tao <dongdong.tao@canonical.com>\nCloses-Bug: #1783526\n'}]",0,585759,af6478c4b49331e707dc8280cf3f241295164027,19,6,3,28759,,,0,"Fix ceph-mon can not print log due to incorrect permission on log file

Change-Id: I34cd8ba1e45b90e60bd9c49d7d3973008bd95559
Signed-off-by: dongdong tao <dongdong.tao@canonical.com>
Closes-Bug: #1783526
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/59/585759/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,026c31ec14ec964a2b5a5fef44848ed2f9906aa6,bug/1783526," chownr('/var/log/ceph', ceph_user(), ceph_user())",,1,0
openstack%2Fnetworking-sfc~master~Ice140536d55042049e7c2fcb129543c4431e0761,openstack/networking-sfc,master,Ice140536d55042049e7c2fcb129543c4431e0761,Use i18n from the project,MERGED,2018-05-28 14:32:32.000000000,2018-08-01 19:02:44.000000000,2018-08-01 19:02:44.000000000,"[{'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7776}, {'_account_id': 8871}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 14605}, {'_account_id': 14611}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-28 14:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/735b17b6c1493941c5c5530e83e0eae2c2d0cf3a', 'message': 'Use i18n from the project\n\nThe usage of a global built-in i18n function has been deprecated in\nOpenStack.\n\nThis patch adapts networking_sfc.extensions.tap to use the in-project\ni18n function.\n\nChange-Id: Ice140536d55042049e7c2fcb129543c4431e0761\n'}, {'number': 2, 'created': '2018-08-01 14:53:29.000000000', 'files': ['networking_sfc/extensions/tap.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/437af85a59e252e78c37f870a98aea9502f933b4', 'message': 'Use i18n from the project\n\nThe usage of a global built-in i18n function has been deprecated in\nOpenStack.\n\nThis patch adapts networking_sfc.extensions.tap to use the in-project\ni18n function.\n\nChange-Id: Ice140536d55042049e7c2fcb129543c4431e0761\n'}]",0,570792,437af85a59e252e78c37f870a98aea9502f933b4,41,14,2,26507,,,0,"Use i18n from the project

The usage of a global built-in i18n function has been deprecated in
OpenStack.

This patch adapts networking_sfc.extensions.tap to use the in-project
i18n function.

Change-Id: Ice140536d55042049e7c2fcb129543c4431e0761
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/92/570792/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/extensions/tap.py'],1,735b17b6c1493941c5c5530e83e0eae2c2d0cf3a,,from networking_sfc._i18n import _,,1,0
openstack%2Fopenstack-helm-infra~master~If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b,openstack/openstack-helm-infra,master,If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b,WIP: Override elasticsearch vhost with values template,ABANDONED,2018-07-03 20:40:57.000000000,2018-08-01 18:59:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-03 20:40:57.000000000', 'files': ['elasticsearch/templates/configmap-etc.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4928121a79003330f79e40820c2850c60bcfaac9', 'message': 'WIP: Override elasticsearch vhost with values template\n\nChange-Id: If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b\n'}]",0,579978,4928121a79003330f79e40820c2850c60bcfaac9,3,1,1,17591,,,0,"WIP: Override elasticsearch vhost with values template

Change-Id: If7867c3b3cb31d0af8fb1b968f32de5e1dafb09b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/579978/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/configmap-etc.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml']",3,4928121a79003330f79e40820c2850c60bcfaac9,update_apache_proxies,," - name: ELASTICSEARCH_PORT value: {{ tuple ""elasticsearch"" ""internal"" ""client"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" | quote }} - name: LDAP_URL value: {{ tuple ""ldap"" ""default"" ""ldap"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" | quote }} - name: BIND_DN valueFrom: secretKeyRef: name: {{ $esUserSecret }} key: BIND_DN - name: BIND_PASSWORD valueFrom: secretKeyRef: name: {{ $esUserSecret }} key: BIND_PASSWORD",21,18
openstack%2Fnova~master~I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1,openstack/nova,master,I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1,WIP: Add functional scale test for Stats.__deepcopy__ time,ABANDONED,2018-07-31 19:19:26.000000000,2018-08-01 18:51:07.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-31 19:19:26.000000000', 'files': ['nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b67750304a8679cd277949c4ff2478d0c1e5040', 'message': ""WIP: Add functional scale test for Stats.__deepcopy__ time\n\nThis adds a functional test using the FakeDriver which\ncreates 100 instances then runs the ResourceTracker's\nupdate_available_resource() routine before and after\nusing Stats.__deepcopy__ to see the difference.\n\nChange-Id: I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1\nRelated-Bug: #1777422\n""}]",4,587606,5b67750304a8679cd277949c4ff2478d0c1e5040,12,9,1,6873,,,0,"WIP: Add functional scale test for Stats.__deepcopy__ time

This adds a functional test using the FakeDriver which
creates 100 instances then runs the ResourceTracker's
update_available_resource() routine before and after
using Stats.__deepcopy__ to see the difference.

Change-Id: I629a9e5f08bc4007ad6fcf6fbd499bf262aeaab1
Related-Bug: #1777422
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/587606/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_resource_tracker.py'],1,5b67750304a8679cd277949c4ff2478d0c1e5040,bug/1777422,"import time from oslo_utils import timeutilsfrom nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpersfrom nova.tests.unit.image import fake as fake_image class UpdateAvailableResourceScaleTest(integrated_helpers._IntegratedTestBase): USE_NEUTRON = True api_major_version = 'v2.1' _image_ref_parameter = 'imageRef' _flavor_ref_parameter = 'flavorRef' microversion = 'latest' def setUp(self): # Use the FakeDriver which can hold up to 1000 1 vcpu instances self.flags(compute_driver='fake.FakeDriver') self.useFixture(nova_fixtures.NoopQuotaDriverFixture()) super(UpdateAvailableResourceScaleTest, self).setUp() # Need the big rpc_response_timeout because of the CastAsCall fixture # otherwise we timeout during server build (select_destinations). self.flags(rpc_response_timeout=120) def test_update_available_resource_stats_copy(self): # create 50 instances req_body = self._build_minimal_create_server_request( image_uuid=fake_image.get_valid_image_id()) req_body['networks'] = 'none' req_body['min_count'] = 100 self.api.post_server({'server': req_body}) # We're using the CastAsCall fixture so if we get this far we've # successfully created all 100 instances, but make sure we get them # all back. servers = self.api.get_servers(detail=False) self.assertEqual(100, len(servers)) # At this point we want to wrap the # ResourceTracker.update_available_resource method so we can time how # long it takes to process the 1000 instances. rt = self.compute.manager._get_resource_tracker() original_uar = rt.update_available_resource self.elapsed = 0 def stub_update_available_resource(_self, ctxt, nodename): with timeutils.StopWatch() as timer: result = original_uar(ctxt, nodename) self.elapsed = timer.elapsed() return result self.stub_out('nova.compute.resource_tracker.ResourceTracker.' 'update_available_resource', stub_update_available_resource) # Now run the periodic three times to get an average timing. ctxt = context.get_admin_context() with_deepcopy = 0 for x in range(3): self.compute.manager.update_available_resource(ctxt) with_deepcopy += self.elapsed time.sleep(.5) # rest a bit with_deepcopy = with_deepcopy / 3 # Now stub out Stats.__deepcopy__ so it's a noop and re-run the update. def stub_deepcopy(*args, **kwargs): pass self.stub_out('nova.compute.stats.Stats.__deepcopy__', stub_deepcopy) without_deepcopy = 0 for x in range(3): self.compute.manager.update_available_resource(ctxt) without_deepcopy += self.elapsed time.sleep(.5) without_deepcopy = without_deepcopy / 3 self.assertGreater(with_deepcopy, without_deepcopy) print('Took %0.2f with stats deepcopy, ' 'took %0.2f without stats deepcopy' % (with_deepcopy, without_deepcopy))",,80,0
openstack%2Ftripleo-heat-templates~master~I575cfa5591d0fb4b3a33f707db0f738840f6cbdf,openstack/tripleo-heat-templates,master,I575cfa5591d0fb4b3a33f707db0f738840f6cbdf,Set CephX user for Ganesha,MERGED,2018-07-25 09:49:11.000000000,2018-08-01 18:49:29.000000000,2018-08-01 14:17:22.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-25 09:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/271965f3aac00303200530c76eaecb73e79a2fd4', 'message': 'Set CephX user for Ganesha\n\nPreviously Ganesha was assuming client.admin would be available\nlocally as we did not configure which keyring to use.\n\nChange-Id: I575cfa5591d0fb4b3a33f707db0f738840f6cbdf\nCloses-Bug: bug/1783520\n'}, {'number': 2, 'created': '2018-07-25 09:50:36.000000000', 'files': ['docker/services/ceph-ansible/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ce08a8c605e5c09c20379219be6383afc4fb5b4', 'message': 'Set CephX user for Ganesha\n\nPreviously Ganesha was assuming client.admin would be available\nlocally as we did not configure which keyring to use.\n\nChange-Id: I575cfa5591d0fb4b3a33f707db0f738840f6cbdf\nCloses-Bug: #1783520\n'}]",1,585695,3ce08a8c605e5c09c20379219be6383afc4fb5b4,20,7,2,6796,,,0,"Set CephX user for Ganesha

Previously Ganesha was assuming client.admin would be available
locally as we did not configure which keyring to use.

Change-Id: I575cfa5591d0fb4b3a33f707db0f738840f6cbdf
Closes-Bug: #1783520
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/585695/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-nfs.yaml'],1,271965f3aac00303200530c76eaecb73e79a2fd4,bug/1783520, ManilaCephFSCephFSAuthId: type: string default: 'manila' ceph_nfs_disable_caching: true ceph_nfs_ceph_user: {get_param: ManilaCephFSCephFSAuthId} - {}," - ceph_nfs_ansible_vars: map_merge: - {get_attr: [CephBase, role_data, config_settings, ceph_common_ansible_vars]} - ceph_nfs_bind_addr: {get_param: [EndpointMap, GaneshaInternal, host]} - ceph_nfs_enable_service: false - ceph_nfs_use_pacemaker: true - ceph_nfs_dynamic_exports: true - ceph_nfs_service_suffix: pacemaker - nfs_obj_gw: false - ceph_nfs_rados_backend: true - ceph_nfs_disable_caching: true ",6,11
openstack%2Fvirtualbmc~master~If49fd2d3c012a1792fe978c77a216a52fc52f6bf,openstack/virtualbmc,master,If49fd2d3c012a1792fe978c77a216a52fc52f6bf,Fix log message interpolation bugs,MERGED,2018-08-01 10:49:20.000000000,2018-08-01 18:42:18.000000000,2018-08-01 18:42:18.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2018-08-01 10:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/89a638b5541792b9acd31f4b531abf3ac5148d05', 'message': 'Fix log message interpolation bugs\n\nApparently, variable interpolation in the log\nmessages turned out to be buggy and inconsistent.\nThis patch hopefully fixes all such issues.\n\nChange-Id: If49fd2d3c012a1792fe978c77a216a52fc52f6bf\n'}, {'number': 2, 'created': '2018-08-01 10:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/1134d9ac5685a6c8d5b481efc03d4214456761ca', 'message': 'Fix log message interpolation bugs\n\nApparently, variable interpolation in the log\nmessages turned out to be buggy and inconsistent.\nThis patch hopefully fixes all such issues.\n\nIn some cases, variable substitution failure even\ncauses the whole app to crash. /o\\\n\nChange-Id: If49fd2d3c012a1792fe978c77a216a52fc52f6bf\n'}, {'number': 3, 'created': '2018-08-01 11:03:02.000000000', 'files': ['virtualbmc/manager.py', 'virtualbmc/vbmc.py', 'virtualbmc/cmd/vbmcd.py', 'virtualbmc/cmd/vbmc.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/9ebc73b63bdae3749565661524d70f530aa7cf75', 'message': 'Fix log message interpolation bugs\n\nApparently, variable interpolation in the log\nmessages turned out to be buggy and inconsistent.\nThis patch hopefully fixes all such issues and unifies\ninterpolation code across the project.\n\nChange-Id: If49fd2d3c012a1792fe978c77a216a52fc52f6bf\n'}]",2,587769,9ebc73b63bdae3749565661524d70f530aa7cf75,11,6,3,26340,,,0,"Fix log message interpolation bugs

Apparently, variable interpolation in the log
messages turned out to be buggy and inconsistent.
This patch hopefully fixes all such issues and unifies
interpolation code across the project.

Change-Id: If49fd2d3c012a1792fe978c77a216a52fc52f6bf
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/69/587769/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbmc/manager.py', 'virtualbmc/vbmc.py', 'virtualbmc/cmd/vbmcd.py', 'virtualbmc/cmd/vbmc.py', 'virtualbmc/control.py']",5,89a638b5541792b9acd31f4b531abf3ac5148d05,fix-log-msgs-interpolation," LOG.debug('Command request data: %(cmd)s', {'cmd': data_in}) LOG.debug('Command response data: %(cmd)s', {'cmd': data_out})"," LOG.debug('Command request data: %(request)s', {'cmd': data_in}) LOG.debug('Command response data: %(response)s', {'cmd': data_out})",39,32
openstack%2Fpuppet-tripleo~stable%2Fpike~Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0,openstack/puppet-tripleo,stable/pike,Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0,Add panko expirer to configure cron tasks,MERGED,2018-08-01 12:47:50.000000000,2018-08-01 18:36:34.000000000,2018-08-01 18:36:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 12:47:50.000000000', 'files': ['manifests/profile/base/panko/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc7c5a1a2c2f7090a5d82eee273eabc911b3ed4a', 'message': 'Add panko expirer to configure cron tasks\n\nPartial-Bug: #1746514\n\nDepends-On:  I23359239008105cd77a599d2c08c067f132099b7\n\nChange-Id: Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0\n(cherry picked from commit 9b0ff39ad59a0b7d81fe5ea2c5bd413bb8ab4bf0)\n'}]",0,587810,dc7c5a1a2c2f7090a5d82eee273eabc911b3ed4a,8,4,1,6924,,,0,"Add panko expirer to configure cron tasks

Partial-Bug: #1746514

Depends-On:  I23359239008105cd77a599d2c08c067f132099b7

Change-Id: Ia3df0d89459cda6cb648cd6dc97bca3492ca04e0
(cherry picked from commit 9b0ff39ad59a0b7d81fe5ea2c5bd413bb8ab4bf0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/587810/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/panko/api.pp'],1,dc7c5a1a2c2f7090a5d82eee273eabc911b3ed4a,bug/1746514-stable/pike,"# [*enable_panko_expirer*] # (Optional) Whether panko expirer should be configured # Defaults to hiera('enable_panko_expirer', true) # $enable_panko_expirer = hiera('enable_panko_expirer', true), if $enable_panko_expirer { include ::panko::expirer }",,8,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I50ca550d225e52ba44b76a70b1db1c34088b77d9,openstack/tripleo-upgrade,stable/queens,I50ca550d225e52ba44b76a70b1db1c34088b77d9,Fix issue with failed OOO upgrade,MERGED,2018-08-01 10:16:46.000000000,2018-08-01 18:36:34.000000000,2018-08-01 18:36:34.000000000,"[{'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27681}]","[{'number': 1, 'created': '2018-08-01 10:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fb48f88164c185ba3b69972f37e2254b99aabc8a', 'message': ""Fix issue with failed OOO upgrade\n\nThe reason of issue is in the structure of variables in plugins.spec. Since\ninfrared converts varibles from plugin.spec to dict, there is some limitations\nand following example won't work.\n\nFor example:\n  example-key: value\n  example-key-foo: value1\n  example-key-bar: value2\n\nChange-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9\n""}, {'number': 2, 'created': '2018-08-01 16:02:20.000000000', 'files': ['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8445ce8ad5e57931a02b2d8bbd16461583e3b47b', 'message': ""Fix issue with failed OOO upgrade\n\nThe reason of issue is in the structure of variables in plugins.spec. Since\ninfrared converts varibles from plugin.spec to dict, there is some limitations\nand following example won't work.\n\nFor example:\n  example-key: value\n  example-key-foo: value1\n  example-key-bar: value2\n\nChange-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9\n(cherry picked from commit aa2e40eb25d5c51af6be13d26607bf1091ced91f)\n""}]",0,587751,8445ce8ad5e57931a02b2d8bbd16461583e3b47b,10,7,2,28847,,,0,"Fix issue with failed OOO upgrade

The reason of issue is in the structure of variables in plugins.spec. Since
infrared converts varibles from plugin.spec to dict, there is some limitations
and following example won't work.

For example:
  example-key: value
  example-key-foo: value1
  example-key-bar: value2

Change-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9
(cherry picked from commit aa2e40eb25d5c51af6be13d26607bf1091ced91f)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/51/587751/2 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml']",2,fb48f88164c185ba3b69972f37e2254b99aabc8a,," workload_disk: ""{{ install.upgrade.workloaddisk }}"" workload_vcpu: ""{{ install.upgrade.workloadvcpu }}"" workload_swap: ""{{ install.upgrade.workloadswap }}"""," workload_disk: ""{{ install.upgrade.workload.disk }}"" workload_vcpu: ""{{ install.upgrade.workload.vcpu }}"" workload_swap: ""{{ install.upgrade.workload.swap }}""",6,6
openstack%2Fnetworking-sfc~master~I5783d5402f8dc73c41b56b6765960a6231adf0b3,openstack/networking-sfc,master,I5783d5402f8dc73c41b56b6765960a6231adf0b3,Switch to stestr,MERGED,2018-05-30 09:46:53.000000000,2018-08-01 18:33:01.000000000,2018-08-01 18:33:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11313}, {'_account_id': 12021}, {'_account_id': 16707}, {'_account_id': 21486}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25587}]","[{'number': 1, 'created': '2018-05-30 09:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e218920c780e188b635e6eccc6e05fd177a456fd', 'message': 'Switch to stestr\n\nThis updates the test runner to conform to current PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3\n'}, {'number': 2, 'created': '2018-05-30 13:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9e70401049f9b8987aef6aa16e7c5a23f2f761f6', 'message': 'Switch to stestr\n\nThis updates the test runner to conform to current PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3\n'}, {'number': 3, 'created': '2018-06-01 09:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/70b943541813f92dad488e0810a4cdbed79b5fda', 'message': 'Switch to stestr\n\nThis updates the test runner to conform to current PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3\n'}, {'number': 4, 'created': '2018-07-16 09:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1c5d82114ed7b5ae309cc1d94370938d9b80c060', 'message': 'Switch to stestr\n\nThis updates the test runner to conform to current PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3\n'}, {'number': 5, 'created': '2018-07-31 08:32:07.000000000', 'files': ['tools/ostestr_compat_shim.sh', '.gitignore', 'test-requirements.txt', '.testr.conf', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/22e13c4c17454f25392b58c4b51362cc2270f2f1', 'message': 'Switch to stestr\n\nThis updates the test runner to conform to current PTI:\nhttps://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3\n'}]",0,571157,22e13c4c17454f25392b58c4b51362cc2270f2f1,28,9,5,21798,,,0,"Switch to stestr

This updates the test runner to conform to current PTI:
https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

Change-Id: I5783d5402f8dc73c41b56b6765960a6231adf0b3
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/57/571157/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ostestr_compat_shim.sh', '.gitignore', 'test-requirements.txt', 'tox.ini']",4,e218920c780e188b635e6eccc6e05fd177a456fd,switch-to-stestr, OS_LOG_CAPTURE={env:OS_LOG_CAPTURE:true} OS_STDOUT_CAPTURE={env:OS_STDOUT_CAPTURE:true} OS_STDERR_CAPTURE={env:OS_STDERR_CAPTURE:true} stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}, {toxinidir}/tools/ostestr_compat_shim.sh '{posargs}'commands = {toxinidir}/tools/ostestr_compat_shim.sh '{posargs}'commands = {toxinidir}/tools/ostestr_compat_shim.sh '{posargs}',8,14
openstack%2Fironic~master~I0ceea38a782798e87ad003eefbeec5995c16753c,openstack/ironic,master,I0ceea38a782798e87ad003eefbeec5995c16753c,Remove redundant swift vars,MERGED,2018-07-31 09:45:14.000000000,2018-08-01 18:25:03.000000000,2018-08-01 18:25:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 09:45:14.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/065a10c4293cf6d333a72801a95391c9c74a4eb8', 'message': 'Remove redundant swift vars\n\nThese are defined further up.\n\nChange-Id: I0ceea38a782798e87ad003eefbeec5995c16753c\n'}]",0,587364,065a10c4293cf6d333a72801a95391c9c74a4eb8,10,6,1,1926,,,0,"Remove redundant swift vars

These are defined further up.

Change-Id: I0ceea38a782798e87ad003eefbeec5995c16753c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/587364/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,065a10c4293cf6d333a72801a95391c9c74a4eb8,583555,, SWIFT_ENABLE_TEMPURLS: True SWIFT_TEMPURL_KEY: secretkey,0,2
openstack%2Fironic~master~I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326,openstack/ironic,master,I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326,Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3,MERGED,2018-07-18 12:00:45.000000000,2018-08-01 18:25:01.000000000,2018-08-01 18:25:01.000000000,"[{'_account_id': 1926}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-18 12:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/756cd14aa5d56dea4ed95c5dfa1ef0dbaad4a2aa', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 2, 'created': '2018-07-18 22:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e81742f185145f19a09e0cbd42383d4d5de9d359', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 3, 'created': '2018-07-19 10:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9422134a323e0b0130181c2e303f492678c8f242', 'message': ""Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nThis job doesn't include phygmi and virtualbmc in required-projects\nas pyghmi is still not compatible with python3. So we want it pip\ninstalled. setup_virtualbmc installs using python2 when not using git.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n""}, {'number': 4, 'created': '2018-07-19 11:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/937c425430309e7aed8354ccf78ef8a5e843bf9e', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nAlso ensure phygmi and virtualbmc are always installed woth python2\nas pyghmi is still not compatible with python3.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 5, 'created': '2018-07-19 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13f7e79faf5f84e64767d8e848206a2e7e54f8fa', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nAlso ensure phygmi and virtualbmc are always installed with python2\nas pyghmi is still not compatible with python3.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 6, 'created': '2018-07-26 09:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8340a48a75c151aeb162126ae71ed05c5a0e8e64', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nAlso ensure phygmi and virtualbmc are always installed with python2\nas pyghmi is still not compatible with python3.\n\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 7, 'created': '2018-07-30 11:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91892d2022b0957d1d3b357ec88210017b275989', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nAlso ensure phygmi and virtualbmc are always installed with python2\nas pyghmi is still not compatible with python3.\n\nDepends-On: I413ea7ec5db3316f985c38900aa46b8cdfd5d138\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}, {'number': 8, 'created': '2018-07-31 09:45:14.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/253ce25ef2e35822878c96e97016e22fafe64d29', 'message': 'Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\n\nSwitch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3\nto zuulv3 native.\n\nAlso ensure phygmi and virtualbmc are always installed with python2\nas pyghmi is still not compatible with python3.\n\nDepends-On: I413ea7ec5db3316f985c38900aa46b8cdfd5d138\nChange-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326\n'}]",1,583555,253ce25ef2e35822878c96e97016e22fafe64d29,46,9,8,1926,,,0,"Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3

Switch ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3
to zuulv3 native.

Also ensure phygmi and virtualbmc are always installed with python2
as pyghmi is still not compatible with python3.

Depends-On: I413ea7ec5db3316f985c38900aa46b8cdfd5d138
Change-Id: I11ad26c354bcbc2a0ed8e2bc78c9403dbcf85326
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/583555/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml']",3,756cd14aa5d56dea4ed95c5dfa1ef0dbaad4a2aa,583555,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3 from old job gate-tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3-ubuntu-xenial-nv tasks: - shell: cmd: | cat << 'EOF' >> ironic-extra-vars export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_SPECS_RAM=384"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_RAMDISK_TYPE=tinyipa"" export DEVSTACK_GATE_TEMPEST_REGEX=""ironic_tempest_plugin.tests.scenario"" export DEVSTACK_GATE_USE_PYTHON3=True EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | cat << 'EOF' >> ironic-vars-early # use tempest plugin export DEVSTACK_LOCAL_CONFIG+=$'\n'""TEMPEST_PLUGINS+=' /opt/stack/new/ironic-tempest-plugin'"" export TEMPEST_CONCURRENCY=1 EOF chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] disable_service s-account disable_service s-container disable_service s-object disable_service s-proxy EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PROJECTS=""openstack/ironic $PROJECTS"" export PROJECTS=""openstack/ironic-lib $PROJECTS"" export PROJECTS=""openstack/ironic-python-agent $PROJECTS"" export PROJECTS=""openstack/ironic-tempest-plugin $PROJECTS"" export PROJECTS=""openstack/python-ironicclient $PROJECTS"" export PROJECTS=""openstack/pyghmi $PROJECTS"" export PROJECTS=""openstack/virtualbmc $PROJECTS"" export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_IRONIC=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_VIRT_DRIVER=ironic export DEVSTACK_GATE_CONFIGDRIVE=1 export DEVSTACK_GATE_IRONIC_DRIVER=ipmi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEFAULT_DEPLOY_INTERFACE=iscsi"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_DEFAULT_RESCUE_INTERFACE=agent"" export BRANCH_OVERRIDE=""{{ zuul.override_checkout | default('default') }}"" if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi if [[ ""$ZUUL_BRANCH"" != ""stable/ocata"" && ""$BRANCH_OVERRIDE"" != ""stable/ocata"" ]]; then export DEVSTACK_GATE_TLSPROXY=1 fi export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_TEMPEST_WHOLE_DISK_IMAGE=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_EPHEMERAL_DISK=1"" export DEVSTACK_GATE_IRONIC_BUILD_RAMDISK=0 export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_INSPECTOR_BUILD_RAMDISK=False"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_VM_COUNT=1"" # Ensure the ironic-vars-EARLY file exists touch ironic-vars-early # Pull in the EARLY variables injected by the optional builders source ironic-vars-early export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ironic git://git.openstack.org/openstack/ironic"" # Ensure the ironic-EXTRA-vars file exists touch ironic-extra-vars # Pull in the EXTRA variables injected by the optional builders source ironic-extra-vars cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",12,108
openstack%2Ftripleo-quickstart~master~Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4,openstack/tripleo-quickstart,master,Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4,Add Browbeat enable settings to fs053,MERGED,2018-07-18 13:43:51.000000000,2018-08-01 18:19:19.000000000,2018-08-01 18:19:19.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10061}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26109}]","[{'number': 1, 'created': '2018-07-18 13:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4d86d75ac859b1ba9cef28432313a01170420bff', 'message': 'Add Browbeat enable settings to fs053\n\nFor CI running Browbeat, data collection needs to be\ndisabled. These settings are not env specific.\n\nChange-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4\n'}, {'number': 2, 'created': '2018-07-20 12:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a0972885a3c40fe9271c46b0e2699d584cc0d977', 'message': 'Add Browbeat enable settings to fs053\n\nFor CI running Browbeat, data collection needs to be\ndisabled. These settings are not env specific.\n\nChange-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4\n'}, {'number': 3, 'created': '2018-07-20 15:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72df5f9f9019eadc8eb86016d4ace5ad707efb27', 'message': 'Add Browbeat enable settings to fs053\n\nFor CI running Browbeat, data collection needs to be\ndisabled. These settings are not env specific.\n\nChange-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4\n'}, {'number': 4, 'created': '2018-07-23 18:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e94d2a43ad62259df76c84864d0040455ac7f958', 'message': 'Add Browbeat enable settings to fs053\n\nFor CI running Browbeat, data collection needs to be\ndisabled. These settings are not env specific.\n\nChange-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4\n'}, {'number': 5, 'created': '2018-07-27 17:04:32.000000000', 'files': ['config/general_config/featureset053.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c657bad131907ee057f49032ec602300aed7a578', 'message': 'Add Browbeat enable settings to fs053\n\nFor CI running Browbeat, data collection needs to be\ndisabled. These settings are not env specific.\n\nChange-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4\n'}]",2,583578,c657bad131907ee057f49032ec602300aed7a578,45,10,5,9976,,,0,"Add Browbeat enable settings to fs053

For CI running Browbeat, data collection needs to be
disabled. These settings are not env specific.

Change-Id: Ie94b1d1570b302248e42c2b89e64b6723ebd3cb4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/583578/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset053.yml', 'config/general_config/featureset001.yml']",2,4d86d75ac859b1ba9cef28432313a01170420bff,add-browbeat-settings,# Note: any change in this featureset must also be done in featureset035 and featureset053.,# Note: any change in this featureset must also be done in featureset035.,7,3
openstack%2Ftripleo-heat-templates~master~I82eb39b1184958bf834dc8726a6ec0c4b9d44846,openstack/tripleo-heat-templates,master,I82eb39b1184958bf834dc8726a6ec0c4b9d44846,Use RPCPassword instead of RabbitPassword for novajoin,MERGED,2018-08-01 13:09:38.000000000,2018-08-01 18:19:17.000000000,2018-08-01 18:19:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-01 13:09:38.000000000', 'files': ['docker/services/novajoin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c88645ec6a32a0fdc91da40bab63f855bf942d3', 'message': 'Use RPCPassword instead of RabbitPassword for novajoin\n\nRabbitPassword is no longer in use and was causing issues.\n\nChange-Id: I82eb39b1184958bf834dc8726a6ec0c4b9d44846\nCloses-Bug: #1784851\n'}]",0,587817,2c88645ec6a32a0fdc91da40bab63f855bf942d3,10,8,1,10873,,,0,"Use RPCPassword instead of RabbitPassword for novajoin

RabbitPassword is no longer in use and was causing issues.

Change-Id: I82eb39b1184958bf834dc8726a6ec0c4b9d44846
Closes-Bug: #1784851
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/587817/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/novajoin.yaml'],1,2c88645ec6a32a0fdc91da40bab63f855bf942d3,bug/1784851, RpcPassword: description: The password for messaging backend tripleo::profile::base::novajoin::oslomsg_rpc_password: {get_param: RpcPassword}, RabbitPassword: description: The password for RabbitMQ tripleo::profile::base::novajoin::oslomsg_rpc_password: {get_param: RabbitPassword},3,3
openstack%2Fopenstack-ansible-openstack_hosts~master~Ie52c3e513943da46d08344feb538ea4c570e60d3,openstack/openstack-ansible-openstack_hosts,master,Ie52c3e513943da46d08344feb538ea4c570e60d3,Use generic vars file for ubuntu,MERGED,2018-08-01 10:41:23.000000000,2018-08-01 18:13:24.000000000,2018-08-01 14:11:41.000000000,"[{'_account_id': 1004}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:41:23.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0afc70daf01b23e59868aecfc276405303f1ff50', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: Ie52c3e513943da46d08344feb538ea4c570e60d3\n'}]",0,587766,0afc70daf01b23e59868aecfc276405303f1ff50,9,4,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Ie52c3e513943da46d08344feb538ea4c570e60d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/66/587766/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,0afc70daf01b23e59868aecfc276405303f1ff50,bionic-vars,,,0,100
openstack%2Fcharm-neutron-dynamic-routing~master~I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375,openstack/charm-neutron-dynamic-routing,master,I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375,Remove passwords from functional test bundles,MERGED,2018-08-01 14:15:48.000000000,2018-08-01 18:11:53.000000000,2018-08-01 18:11:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 14:15:48.000000000', 'files': ['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/abfb804b6e0ddb2f8880574ae22552f04025cc26', 'message': 'Remove passwords from functional test bundles\n\nLet keystone charm autogenerate admin-password and admin-token.\n\nLet zaza retrieve password from leader settings.\n\nDepends-On: https://github.com/openstack-charmers/zaza/pull/88\n\nChange-Id: I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375\n'}]",0,587834,abfb804b6e0ddb2f8880574ae22552f04025cc26,11,4,1,13686,,,0,"Remove passwords from functional test bundles

Let keystone charm autogenerate admin-password and admin-token.

Let zaza retrieve password from leader settings.

Depends-On: https://github.com/openstack-charmers/zaza/pull/88

Change-Id: I7a9c6fe6ff83a7dd2f37b52f98652953d89a6375
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/34/587834/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-queens-functional.yaml', 'src/tests/bundles/xenial-queens-functional.yaml', 'src/tests/bundles/xenial-ocata-functional.yaml', 'src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/bundles/xenial-pike-functional.yaml', 'src/tests/bundles/bionic-rocky-functional.yaml']",6,abfb804b6e0ddb2f8880574ae22552f04025cc26,functest-remove-passwords, options: {openstack-origin: 'cloud:bionic-rocky'}," options: {admin-password: openstack, admin-token: ubuntutesting, openstack-origin: 'cloud:bionic-rocky'}",1,10
openstack%2Fcinder~master~I8d77b9b172df963063b38ccbd32e805dd7db1e00,openstack/cinder,master,I8d77b9b172df963063b38ccbd32e805dd7db1e00,DS8K: correct the behavior for get_pools method,MERGED,2018-07-04 14:20:34.000000000,2018-08-01 17:59:56.000000000,2018-07-06 17:12:30.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-04 14:20:34.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f16987466e78098cc903c694b00f74b21d4a7b67', 'message': ""DS8K: correct the behavior for get_pools method\n\nIf the pools defined in the config file but these can't be queried\nfrom the storage. The driver should catch this exception and ignore\nit to support the Report Backend status feature.\n\nChange-Id: I8d77b9b172df963063b38ccbd32e805dd7db1e00\nCloses-Bug: 1780095\n""}]",0,580169,f16987466e78098cc903c694b00f74b21d4a7b67,32,29,1,26422,,,0,"DS8K: correct the behavior for get_pools method

If the pools defined in the config file but these can't be queried
from the storage. The driver should catch this exception and ignore
it to support the Report Backend status feature.

Change-Id: I8d77b9b172df963063b38ccbd32e805dd7db1e00
Closes-Bug: 1780095
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/580169/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",2,f16987466e78098cc903c694b00f74b21d4a7b67,bug/1780095, '_get_pool') as get_pool: get_pool.return_value = FAKE_GET_POOL_RESPONSE_2['data'][ 'pools'][0], '_get_pools') as get_pools: get_pools.return_value = FAKE_GET_POOL_RESPONSE_2['data']['pools'],20,10
openstack%2Fpuppet-tripleo~master~I98b72d70f826f12004af73d5bdc88f652b57d598,openstack/puppet-tripleo,master,I98b72d70f826f12004af73d5bdc88f652b57d598,Add the missing smoke testing,ABANDONED,2018-07-30 16:56:25.000000000,2018-08-01 17:42:07.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27621}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-07-30 16:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a8d639c26eb12e9de8057bce1d15f687bf0481c', 'message': 'Add the missing somke testing\n\nChange-Id: I98b72d70f826f12004af73d5bdc88f652b57d598\n'}, {'number': 2, 'created': '2018-08-01 08:55:32.000000000', 'files': ['tests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0663cd4c32040ea9c4d68a6b4dd7c147eb0890f5', 'message': 'Add the missing smoke testing\n\nChange-Id: I98b72d70f826f12004af73d5bdc88f652b57d598\n'}]",0,587155,0663cd4c32040ea9c4d68a6b4dd7c147eb0890f5,19,8,2,28614,,,0,"Add the missing smoke testing

Change-Id: I98b72d70f826f12004af73d5bdc88f652b57d598
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/587155/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/init.pp'],1,5a8d639c26eb12e9de8057bce1d15f687bf0481c,,# The baseline for module testing used by Puppet Labs is that each manifest # should have a corresponding test manifest that declares that class or defined # type. # # Tests are then run by using puppet apply --noop (to check for compilation # errors and view a log of events) or by fully applying the test in a virtual # environment (to compare the resulting system state to the desired state). # # Learn more about module testing here: # http://docs.puppetlabs.com/guides/tests_smoke.html # include ::tripleo ,,12,0
openstack%2Fpuppet-tripleo~master~I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09,openstack/puppet-tripleo,master,I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09,Update the links to https,ABANDONED,2018-07-30 16:14:52.000000000,2018-08-01 17:42:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-07-30 16:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/058b8a9b17f6685647c82d4a19ffdcc0ee24970f', 'message': 'Update the links to https\n\nChange-Id: I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09\n'}, {'number': 2, 'created': '2018-08-01 08:56:48.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bdaffc04df385a1c86a28f907bd6ae79f4a8e380', 'message': 'Update the links to https\n\nChange-Id: I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09\n'}]",0,587102,bdaffc04df385a1c86a28f907bd6ae79f4a8e380,12,5,2,28614,,,0,"Update the links to https

Change-Id: I91f7ebdf17ecf8d7618800df8a33c4aef50c7a09
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/587102/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,058b8a9b17f6685647c82d4a19ffdcc0ee24970f,,* Source: https://git.openstack.org/cgit/openstack/puppet-tripleo * Bugs: https://bugs.launchpad.net/tripleo (tag: puppet),* Source: http://git.openstack.org/cgit/openstack/puppet-tripleo * Bugs: http://bugs.launchpad.net/tripleo (tag: puppet),2,2
openstack%2Fmurano-agent~master~Ib74083ee19381fc6b3ac7ee26cf1216737fa4588,openstack/murano-agent,master,Ib74083ee19381fc6b3ac7ee26cf1216737fa4588,typo fix for inline comment,ABANDONED,2018-07-23 17:40:55.000000000,2018-08-01 17:35:21.000000000,,"[{'_account_id': 7812}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-23 17:40:55.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/981855da0a3ee7d147f1d084a8567f839de860c1', 'message': 'typo fix for inline comment\n\nChange-Id: Ib74083ee19381fc6b3ac7ee26cf1216737fa4588\n'}]",1,584982,981855da0a3ee7d147f1d084a8567f839de860c1,5,3,1,15685,,,0,"typo fix for inline comment

Change-Id: Ib74083ee19381fc6b3ac7ee26cf1216737fa4588
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/82/584982/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,981855da0a3ee7d147f1d084a8567f839de860c1,typo-fix,# The master doctree document.,# The master toctree document.,1,1
openstack%2Fopenstack-ansible~master~Ic5b528bcdad1753aa912cf0a6a1899045784aa07,openstack/openstack-ansible,master,Ic5b528bcdad1753aa912cf0a6a1899045784aa07,typo correction,ABANDONED,2017-10-12 06:27:36.000000000,2018-08-01 17:35:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-12 06:27:36.000000000', 'files': ['releasenotes/notes/gnocchi-init-config-overrides-4fc9ec27ea1bd090.yaml', 'releasenotes/notes/sahara-init-config-overrides-4c35b88618b0d0b4.yaml', 'releasenotes/notes/octavia-init-config-overrides-554491baa2e97102.yaml', 'releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml', 'releasenotes/notes/trove-init-config-overrides-a78ed428a32adef8.yaml', 'releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml', 'releasenotes/notes/aodh-init-config-overrides-f152b8fd098efb0d.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/glance-init-config-overrides-d1c8c3dcc50c109a.yaml', 'releasenotes/notes/barbican-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'releasenotes/notes/nova-init-config-overrides-7221a8f9d5be9291.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/neutron-init-config-overrides-9d1d2b3b908705ed.yaml', 'releasenotes/notes/ceilometer-init-config-overrides-bfce7e419061c4da.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c78e06dac107ca0255ec23a1cba5e00afe2d3d5', 'message': 'typo correction\n\npolute -> pollute\n\nChange-Id: Ic5b528bcdad1753aa912cf0a6a1899045784aa07\n'}]",0,511394,4c78e06dac107ca0255ec23a1cba5e00afe2d3d5,8,5,1,15685,,,0,"typo correction

polute -> pollute

Change-Id: Ic5b528bcdad1753aa912cf0a6a1899045784aa07
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/511394/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/gnocchi-init-config-overrides-4fc9ec27ea1bd090.yaml', 'releasenotes/notes/sahara-init-config-overrides-4c35b88618b0d0b4.yaml', 'releasenotes/notes/octavia-init-config-overrides-554491baa2e97102.yaml', 'releasenotes/notes/magnum-init-config-overrides-aec21cbbd9da8e4e.yaml', 'releasenotes/notes/trove-init-config-overrides-a78ed428a32adef8.yaml', 'releasenotes/notes/heat-init-config-overrides-004872081661a34c.yaml', 'releasenotes/notes/aodh-init-config-overrides-f152b8fd098efb0d.yaml', 'releasenotes/notes/keystone-init-config-overrides-1857d5e5bc5a905f.yaml', 'releasenotes/notes/glance-init-config-overrides-d1c8c3dcc50c109a.yaml', 'releasenotes/notes/barbican-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/swift-init-config-overrides-822ec734e02a0dd1.yaml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'releasenotes/notes/nova-init-config-overrides-7221a8f9d5be9291.yaml', 'releasenotes/notes/nova-init-config-overrides-ffce7e419061c4da.yaml', 'releasenotes/notes/neutron-init-config-overrides-9d1d2b3b908705ed.yaml', 'releasenotes/notes/ceilometer-init-config-overrides-bfce7e419061c4da.yaml']",16,4c78e06dac107ca0255ec23a1cba5e00afe2d3d5,typo, load extra options into the defaults and pollute the generic, load extra options into the defaults and polute the generic,16,16
openstack%2Freleases~master~Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561,openstack/releases,master,Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561,Fix bashate errors,MERGED,2018-07-30 19:56:51.000000000,2018-08-01 17:28:44.000000000,2018-08-01 17:28:44.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 19:56:51.000000000', 'files': ['tools/list_unreleased_changes.sh', 'tools/series_diff_start.sh', 'tools/build_reenqueue_commands.sh', 'tools/announce.sh', 'tools/list_stable_unreleased_changes.sh', 'tools/inactive_project_report.sh', 'tools/clone_repo.sh', 'tools/list_changes_unreleased_deliverables.sh', 'tools/list_library_unreleased_changes.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/1aa9607e0af3b87ff87dcc14edf62e7056d3e576', 'message': 'Fix bashate errors\n\nA few errors were causing the bashate job to fail. This corrects those\nerrors and also addresses the reported warnings for a clean build.\n\nChange-Id: Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,587210,1aa9607e0af3b87ff87dcc14edf62e7056d3e576,7,3,1,11904,,,0,"Fix bashate errors

A few errors were causing the bashate job to fail. This corrects those
errors and also addresses the reported warnings for a clean build.

Change-Id: Ibc5c4f006d264e2f0a4c1b8186b5e313d2905561
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/587210/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/list_unreleased_changes.sh', 'tools/series_diff_start.sh', 'tools/announce.sh', 'tools/build_reenqueue_commands.sh', 'tools/list_stable_unreleased_changes.sh', 'tools/inactive_project_report.sh', 'tools/clone_repo.sh', 'tools/list_changes_unreleased_deliverables.sh', 'tools/list_library_unreleased_changes.sh']",9,1aa9607e0af3b87ff87dcc14edf62e7056d3e576,bashate,repos=$(list-deliverables --repos --type library --type client-library \ --series $SERIES),repos=$(list-deliverables --repos --type library --type client-library --series $SERIES),38,24
openstack%2Fpymod2pkg~master~I433b971f1440a4c638023877c6a4bf96a015b90e,openstack/pymod2pkg,master,I433b971f1440a4c638023877c6a4bf96a015b90e,Rename python-openstacksdk to openstacksdk,ABANDONED,2018-03-23 13:50:18.000000000,2018-08-01 17:22:48.000000000,,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:50:18.000000000', 'files': ['tests.py', 'pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/7ff1af78478c94577d4ca1b58e5477bde7d930a6', 'message': 'Rename python-openstacksdk to openstacksdk\n\nDepends-On: https://review.openstack.org/554662\nChange-Id: I433b971f1440a4c638023877c6a4bf96a015b90e\n'}]",0,555783,7ff1af78478c94577d4ca1b58e5477bde7d930a6,7,3,1,2,,,0,"Rename python-openstacksdk to openstacksdk

Depends-On: https://review.openstack.org/554662
Change-Id: I433b971f1440a4c638023877c6a4bf96a015b90e
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/83/555783/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests.py', 'pymod2pkg/__init__.py']",2,7ff1af78478c94577d4ca1b58e5477bde7d930a6,project-rename,," SingleRule('openstacksdk', 'python-openstacksdk'),",1,2
openstack%2Fneutron~master~Ia6c707756ec0142f9e95610ea4e21d7269934d9c,openstack/neutron,master,Ia6c707756ec0142f9e95610ea4e21d7269934d9c,Add a guide to deploy Neutron API under WSGI server,MERGED,2018-07-20 07:15:44.000000000,2018-08-01 17:18:27.000000000,2018-08-01 17:18:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6476}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-07-20 07:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b2b718e03ed10e0ea4596a6902a0cb4a28ef46', 'message': 'Add a guidant to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nDepends-On: https://review.openstack.org/#/c/555608/\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 2, 'created': '2018-07-25 09:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5c3b7e47c4ae584038286ee801d2aafe6eb7376', 'message': 'Add a guidant to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nDepends-On: https://review.openstack.org/#/c/555608/\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 3, 'created': '2018-07-27 09:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbf3e471e069a652356ab5906714337ac990782b', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 4, 'created': '2018-07-27 10:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e49f026d5234ee80f40d7b35664ed9cca9327fe2', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 5, 'created': '2018-07-30 02:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adbed5898951a84a5cbbba773c35eaff4724d5a6', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 6, 'created': '2018-07-30 11:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30067248fdc42928cfb070d2a51ca08b70eb3bb8', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 7, 'created': '2018-07-31 02:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/331df8135c9bd9fe70734fb9b60b4a249a54fee4', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 8, 'created': '2018-07-31 05:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a11e2cbaac5237a5c9064689eb4844781fccc52e', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 9, 'created': '2018-07-31 08:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0a71db94846c36bb56ca174081ab203f8883107', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}, {'number': 10, 'created': '2018-08-01 06:28:29.000000000', 'files': ['doc/source/admin/config.rst', 'doc/source/admin/config-wsgi.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eafcc08455ae9d9e78dec38f27cd0613704f23be', 'message': 'Add a guide to deploy Neutron API under WSGI server\n\nChange-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c\nPartially-implements: blueprint run-in-wsgi-server\n'}]",65,584257,eafcc08455ae9d9e78dec38f27cd0613704f23be,63,12,10,15471,,,0,"Add a guide to deploy Neutron API under WSGI server

Change-Id: Ia6c707756ec0142f9e95610ea4e21d7269934d9c
Partially-implements: blueprint run-in-wsgi-server
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/584257/10 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/internals/index.rst', 'doc/source/contributor/internals/wsgi_server.rst']",2,96b2b718e03ed10e0ea4596a6902a0cb4a28ef46,bp/run-in-wsgi-server,".. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Convention for heading levels in Neutron devref: ======= Heading 0 (reserved for the title in a document) ------- Heading 1 ~~~~~~~ Heading 2 +++++++ Heading 3 ''''''' Heading 4 (Avoid deeper levels because they do not render well.) Installing neutron API via WSGI =============================== This document provides two WSGI deployments as examples: uwsgi and mod_wsgi. WSGI Application ---------------- The function `neutron.server.get_application` will setup a WSGI application to run behind uwsgi and mod_wsgi Neutron API behind uwsgi ------------------------ Create a neutron-api-uwsgi.ini file: .. code-block:: ini [uwsgi] chmod-socket = 666 socket = /var/run/uwsgi/neutron-api.socket lazy-apps = true add-header = Connection: close buffer-size = 65535 hook-master-start = unix_signal:15 gracefully_kill_them_all thunder-lock = true plugins = python enable-threads = true worker-reload-mercy = 90 exit-on-reload = false die-on-term = true master = true processes = 2 wsgi-file = /usr/local/bin/neutron-api .. end Start neutron-api: .. code-block:: console # uwsgi --procname-prefix neutron-api --ini neutron-api-uwsgi.ini .. end Neutron API behind mod_wsgi --------------------------- Create /etc/apache2/neutron.conf: .. code-block:: ini Listen 9696 LogFormat ""%h %l %u %t \""%r\"" %>s %b \""%{Referer}i\"" \""%{User-agent}i\"" %D(us)"" neutron_combined <Directory /usr/local/bin> Require all granted </Directory> <VirtualHost *:9696> WSGIDaemonProcess neutron-server processes=1 threads=1 user=stack display-name=%{GROUP} WSGIProcessGroup neutron-server WSGIScriptAlias / /usr/local/bin/neutron-api WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On ErrorLogFormat ""%M"" ErrorLog /var/log/apache2/neutron.log CustomLog /var/log/apache2/neutron_access.log neutron_combined </VirtualHost> Alias /networking /usr/local/bin/neutron-api <Location /networking> SetHandler wsgi-script Options +ExecCGI WSGIProcessGroup neutron-server WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On </Location> WSGISocketPrefix /var/run/apache2 .. end Then on deb-based systems copy or symlink the file to /etc/apache2/sites-available. For rpm-based systems the file will go in /etc/httpd/conf.d Enable the neutron site. On deb-based systems: .. code-block:: console # a2ensite neutron # service apache2 reload .. end On rpm-based systems: .. code-block:: console # service httpd reload .. end Start Neutron RPC server ------------------------ When Neutron API is served by a web server (like Apache2) which is difficult to a start rpc listener thread. So start Neutron RPC server process to serve this job. .. code-block:: console # /usr/bin/neutron-rpc-server --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini .. end ",,140,0
openstack%2Fnova~master~Icc5f615baa1042347ec1699eb84ba0670445b995,openstack/nova,master,Icc5f615baa1042347ec1699eb84ba0670445b995,Add recreate test for RT.stats bug 1784705,MERGED,2018-07-31 20:04:16.000000000,2018-08-01 17:18:23.000000000,2018-08-01 17:18:23.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-31 20:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4a94fa45450e8b3b095945c04db3dca4c50258c', 'message': ""WIP: Add recreate test for bug 1784705\n\nThis really should be re-written in it's own regression\ntest class but for now I'm piggy-backing for expediency.\n\nWith change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, we changed the ComputeManager to manage a single\nResourceTracker and that single ResourceTracker will\nmanage multiple compute nodes. The only time a single\nnova-compute service hosts multiple compute nodes is for\nironic where there is a compute node per instance. The\nproblem is the ResourceTracker.stats variable, unlike the\nResourceTracker.compute_nodes variable, is not node-specific\nso it's possible for node stats to leak across nodes based\non how the stats are used (and copied).\n\nThis change adds a functional recreate test to show the issue\nbefore it's fixed.\n\nChange-Id: Icc5f615baa1042347ec1699eb84ba0670445b995\nRelated-Bug: #1784705\n""}, {'number': 2, 'created': '2018-07-31 21:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/146826b493378157174b8c042dfb592491b41789', 'message': ""WIP: Add recreate test for bug 1784705\n\nThis really should be re-written in it's own regression\ntest class but for now I'm piggy-backing for expediency.\n\nWith change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, we changed the ComputeManager to manage a single\nResourceTracker and that single ResourceTracker will\nmanage multiple compute nodes. The only time a single\nnova-compute service hosts multiple compute nodes is for\nironic where there is a compute node per instance. The\nproblem is the ResourceTracker.stats variable, unlike the\nResourceTracker.compute_nodes variable, is not node-specific\nso it's possible for node stats to leak across nodes based\non how the stats are used (and copied).\n\nThis change adds a functional recreate test to show the issue\nbefore it's fixed.\n\nChange-Id: Icc5f615baa1042347ec1699eb84ba0670445b995\nRelated-Bug: #1784705\n""}, {'number': 3, 'created': '2018-07-31 22:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0004f09dd8b669d8ae94f3b2e366aa482028bf9', 'message': ""Add recreate test for RT.stats bug 1784705\n\nWith change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, we changed the ComputeManager to manage a single\nResourceTracker and that single ResourceTracker will\nmanage multiple compute nodes. The only time a single\nnova-compute service hosts multiple compute nodes is for\nironic where there is a compute node per instance. The\nproblem is the ResourceTracker.stats variable, unlike the\nResourceTracker.compute_nodes variable, is not node-specific\nso it's possible for node stats to leak across nodes based\non how the stats are used (and copied).\n\nThis change adds a functional recreate test to show the issue\nbefore it's fixed.\n\nChange-Id: Icc5f615baa1042347ec1699eb84ba0670445b995\nRelated-Bug: #1784705\n""}, {'number': 4, 'created': '2018-08-01 13:48:28.000000000', 'files': ['nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc05626d43571733da0803df0fd9a7c69766b8fd', 'message': ""Add recreate test for RT.stats bug 1784705\n\nWith change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in\nOcata, we changed the ComputeManager to manage a single\nResourceTracker and that single ResourceTracker will\nmanage multiple compute nodes. The only time a single\nnova-compute service hosts multiple compute nodes is for\nironic where there is a compute node per instance. The\nproblem is the ResourceTracker.stats variable, unlike the\nResourceTracker.compute_nodes variable, is not node-specific\nso it's possible for node stats to leak across nodes based\non how the stats are used (and copied).\n\nThis change adds a functional recreate test to show the issue\nbefore it's fixed. The fixture setup had to be tweaked a\nbit to avoid modifying class variables by reference between\ntest cases.\n\nChange-Id: Icc5f615baa1042347ec1699eb84ba0670445b995\nRelated-Bug: #1784705\n""}]",6,587614,fc05626d43571733da0803df0fd9a7c69766b8fd,30,12,4,6873,,,0,"Add recreate test for RT.stats bug 1784705

With change I6827137f35c0cb4f9fc4c6f753d9a035326ed01b in
Ocata, we changed the ComputeManager to manage a single
ResourceTracker and that single ResourceTracker will
manage multiple compute nodes. The only time a single
nova-compute service hosts multiple compute nodes is for
ironic where there is a compute node per instance. The
problem is the ResourceTracker.stats variable, unlike the
ResourceTracker.compute_nodes variable, is not node-specific
so it's possible for node stats to leak across nodes based
on how the stats are used (and copied).

This change adds a functional recreate test to show the issue
before it's fixed. The fixture setup had to be tweaked a
bit to avoid modifying class variables by reference between
test cases.

Change-Id: Icc5f615baa1042347ec1699eb84ba0670445b995
Related-Bug: #1784705
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/587614/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_resource_tracker.py'],1,d4a94fa45450e8b3b095945c04db3dca4c50258c,bug/1784705," for index, cn in enumerate(self.COMPUTE_NODE_FIXTURES.values()): # Fake that each compute node has unique extra specs stats and # the RT makes sure those are unique per node. stats = {'node:%s' % nodename: 1} 'stats': stats, def _assert_stats(bad_node=None): # Make sure each compute node has a unique set of stats and # they don't accumulate across nodes. for _cn in self.rt.compute_nodes.values(): node_stats_key = 'node:%s' % _cn.hypervisor_hostname if bad_node == _cn.hypervisor_hostname: # FIXME(mriedem): This is bug 1784705 where the # compute node has lost its stats and is getting # stats for a different node. self.assertNotIn(node_stats_key, _cn.stats) else: self.assertIn(node_stats_key, _cn.stats) node_stat_count = 0 for stat in _cn.stats: if stat.startswith('node:'): node_stat_count += 1 self.assertEqual(1, node_stat_count, _cn.stats) _assert_stats() _assert_stats(bad_node=cn1_nodename) 'stats': {'node:%s' % cn1_obj.hypervisor_hostname: 1} _assert_stats()", for cn in self.COMPUTE_NODE_FIXTURES.values(): pass,28,2
openstack%2Fheat~stable%2Fpike~I3361ad90e303d24a16a943408fe0f6c406cf785f,openstack/heat,stable/pike,I3361ad90e303d24a16a943408fe0f6c406cf785f,Reset resource replaced_by field for rollback,MERGED,2018-08-01 08:48:00.000000000,2018-08-01 17:11:23.000000000,2018-08-01 17:11:23.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 08:48:00.000000000', 'files': ['heat/tests/convergence/scenarios/update_user_replace_rollback_update.py', 'heat/tests/convergence/framework/fake_resource.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/258d22c411eafd12bc648ba33988fb89d774488a', 'message': 'Reset resource replaced_by field for rollback\n\nWe seem to leave replaced_by field of a resource after rollback\n(if a stack cancel is issued before the replacement\nresource is added to the stack). This in turn results in the\nstack getting stuck in IN_PROGRESS for further updates.\n\nChange-Id: I3361ad90e303d24a16a943408fe0f6c406cf785f\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nTask: #19582\nStory: #2001974\n(cherry picked from commit a544ce43dc8e1bcdaf7657d7f35e03464f85241e)\n'}]",0,587718,258d22c411eafd12bc648ba33988fb89d774488a,9,3,1,8833,,,0,"Reset resource replaced_by field for rollback

We seem to leave replaced_by field of a resource after rollback
(if a stack cancel is issued before the replacement
resource is added to the stack). This in turn results in the
stack getting stuck in IN_PROGRESS for further updates.

Change-Id: I3361ad90e303d24a16a943408fe0f6c406cf785f
Co-Authored-By: Zane Bitter <zbitter@redhat.com>
Task: #19582
Story: #2001974
(cherry picked from commit a544ce43dc8e1bcdaf7657d7f35e03464f85241e)
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/587718/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/convergence/scenarios/update_user_replace_rollback_update.py', 'heat/tests/convergence/framework/fake_resource.py', 'heat/engine/resource.py']",3,258d22c411eafd12bc648ba33988fb89d774488a,story/2001974-stable/pike, self.replaced_by = None,,63,2
openstack%2Fopenstack-ansible-os_designate~master~I9764f557007d97cfcbe02abf7166cce423b39a31,openstack/openstack-ansible-os_designate,master,I9764f557007d97cfcbe02abf7166cce423b39a31,Convert role to use a common systemd service role,MERGED,2018-07-30 19:08:08.000000000,2018-08-01 17:00:32.000000000,2018-08-01 17:00:32.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 19:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/739debe0e13e8e1d68b77e8cb84ed0e769b5a233', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-07-30 22:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/c2ffcb0a46e6159d0475ebfe78e18dfef4b9374a', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-07-31 03:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/4e5d71bddd47b62149b7566e3e5ff2803e46ae0e', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-07-31 03:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/33583d8dc5b9b0f17c8ebb372529eadcb257889a', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-07-31 05:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/31ba22158cc8b498d5b04efb62c6ae7992f3bf2f', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-07-31 06:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/c61648f83d85191599503e7a4630655952ce5052', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-07-31 14:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/e6c96c521f16e79d1450b466b66bb9e765df384e', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-07-31 19:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/61d5a95ce12f6fb0e1eeeb1f6082b23838f1fe35', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-07-31 19:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/5dd525b1ae490d74cf7f2f5c751e429e97715c08', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-07-31 22:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/3706dd5d8e594dc68d32a4b57cc750bb11580f6a', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-08-01 10:53:11.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml', 'tasks/designate_init_systemd.yml', 'tasks/designate_install_source.yml', 'defaults/main.yml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml', 'vars/main.yml', 'tasks/designate_pre_install.yml', 'tasks/designate_post_install.yml', 'templates/designate-systemd-tempfiles.j2', 'templates/designate-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu.yml', 'templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/49ea5b4ea966f04fd6597a93e5fca443f7ba2405', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nThe systemd journal would normally be populated with the standard out of\na service however with the use of uwsgi this is not actually happening\nresulting in us only capturing the logs from the uwsgi process instead\nof the service itself. This change implements journal logging in the\nservice config, which is part of OSLO logging.\n\nOSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>\n\nChange-Id: I9764f557007d97cfcbe02abf7166cce423b39a31\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,587196,49ea5b4ea966f04fd6597a93e5fca443f7ba2405,34,6,11,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

The systemd journal would normally be populated with the standard out of
a service however with the use of uwsgi this is not actually happening
resulting in us only capturing the logs from the uwsgi process instead
of the service itself. This change implements journal logging in the
service config, which is part of OSLO logging.

OSLO logging docs found here: <https://docs.openstack.org/oslo.log/3.28.1/journal.html>

Change-Id: I9764f557007d97cfcbe02abf7166cce423b39a31
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/96/587196/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml', 'tasks/designate_init_systemd.yml', 'tasks/designate_install_source.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'releasenotes/notes/journal-log-ycba504642b47619.yaml', 'vars/main.yml', 'tasks/designate_pre_install.yml', 'templates/designate-systemd-tempfiles.j2', 'templates/designate-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/designate.conf.j2']",14,739debe0e13e8e1d68b77e8cb84ed0e769b5a233,common-systemd-service,use_journal = True,# Log Configuration #log_config = None # Log directory #logdir = /var/log/designate ,108,135
openstack%2Fopenstack-ansible-os_designate~master~Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2,openstack/openstack-ansible-os_designate,master,Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2,"Revert ""Disable functional tests temporarily""",MERGED,2018-07-31 22:02:16.000000000,2018-08-01 17:00:31.000000000,2018-08-01 17:00:31.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 22:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/404b149730bc10222b74f162827e4c854ed322a1', 'message': 'Revert ""Disable functional tests temporarily""\n\nThis reverts commit af39e5b060ba402c017bb6a8487894942d4577a1.\n\nNow that we have everything together, we can enable functional\ntests again.\n\nChange-Id: Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2\n'}, {'number': 2, 'created': '2018-08-01 10:53:11.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/41951f83cb6619ca76ba72c1e68bf5ba8c6e8eaa', 'message': 'Revert ""Disable functional tests temporarily""\n\nThis reverts commit af39e5b060ba402c017bb6a8487894942d4577a1.\n\nNow that we have everything together, we can enable functional\ntests again.\n\nChange-Id: Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2\n'}]",0,587646,41951f83cb6619ca76ba72c1e68bf5ba8c6e8eaa,22,4,2,6816,,,0,"Revert ""Disable functional tests temporarily""

This reverts commit af39e5b060ba402c017bb6a8487894942d4577a1.

Now that we have everything together, we can enable functional
tests again.

Change-Id: Ieaf2c0201426e48784631ac7e6c4fe21ab095ff2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/46/587646/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,404b149730bc10222b74f162827e4c854ed322a1,common-systemd-service, templates: - openstack-ansible-role-jobs - openstack-ansible-designate-ssl-nv - openstack-ansible-functional-distro_install-ubuntu-xenial # NOTE(hwoarang) Centos7 is having some troubles with repo dependencies # so disabling until it's investigated. - openstack-ansible-functional-distro_install-centos-7: voting: false - openstack-ansible-functional-distro_install-opensuse-423 - openstack-ansible-functional-distro_install-ubuntu-xenial - openstack-ansible-functional-distro_install-opensuse-423, - openstack-ansible-linters - openstack-ansible-linters,11,2
openstack%2Fkeystone~master~I6f069c8c94e625ae553e9b41f0c54fd25bad9408,openstack/keystone,master,I6f069c8c94e625ae553e9b41f0c54fd25bad9408,Cleanup keystone.token.providers.common,MERGED,2018-06-22 18:58:38.000000000,2018-08-01 16:57:13.000000000,2018-08-01 16:57:13.000000000,"[{'_account_id': 2903}, {'_account_id': 10420}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-22 18:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d356e34fc3b5645d701da6fbb1ad166f63f10f0', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of various things that spanned token\nproviders. Back when we supported multiple token formats some of them\nwould parts of it, other would use different parts.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the token model and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 2, 'created': '2018-06-27 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/11f8f889d5864e85f580833a336fcfd6b4046dec', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 3, 'created': '2018-06-27 21:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3a6b7013fa96cab14a3c04284db3f1cfd78b5867', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 4, 'created': '2018-06-29 16:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3e68d5032a4172c2ec3dbeb71c42071fe7573466', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 5, 'created': '2018-07-11 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3db0c38195371bc7d4522406158c8c1f249fd62d', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 6, 'created': '2018-07-11 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd1c904aa846c62709e3dff4dd33398c4789ea4b', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 7, 'created': '2018-07-12 18:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ac9d6cec3f2c57ebaca939abee7323698d5ba7d3', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}, {'number': 8, 'created': '2018-07-13 15:03:21.000000000', 'files': ['keystone/tests/unit/token/test_common.py', 'keystone/token/providers/common.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_revoke.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/middleware/auth.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/token/test_token_data_helper.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3dbf4be06f674f132608b7a18da2f44d40e9953a', 'message': ""Cleanup keystone.token.providers.common\n\nThis module was a hodge-podge of common utility methods and a basic\nimplementation of the token provider API interface. In theory, if\nsomething should be done for all providers, we should try and pull\nit into a higher layer, like the token provider Manager. This makes\nthings easier to share without having to worry about reimplementing\nsomething if we override a specific method of the interface. This is\nthe pattern we're working towards with the TokenModel object.\n\nIt was also home to the V3TokenDataHelper, which was ultimately\nresponsible for making sure the token API contracts were honored. Now\nthat we've moved token behavior into the TokenModel and the\nrepresentation of a token into the controllers, we don't need this\nanymore. We should be able to make this much more clear and clean up\nthe interfaces for people providing their own token providers.\n\nPartial-Bug: 1778945\nChange-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408\n""}]",1,577507,3dbf4be06f674f132608b7a18da2f44d40e9953a,23,4,8,5046,,,0,"Cleanup keystone.token.providers.common

This module was a hodge-podge of common utility methods and a basic
implementation of the token provider API interface. In theory, if
something should be done for all providers, we should try and pull
it into a higher layer, like the token provider Manager. This makes
things easier to share without having to worry about reimplementing
something if we override a specific method of the interface. This is
the pattern we're working towards with the TokenModel object.

It was also home to the V3TokenDataHelper, which was ultimately
responsible for making sure the token API contracts were honored. Now
that we've moved token behavior into the TokenModel and the
representation of a token into the controllers, we don't need this
anymore. We should be able to make this much more clear and clean up
the interfaces for people providing their own token providers.

Partial-Bug: 1778945
Change-Id: I6f069c8c94e625ae553e9b41f0c54fd25bad9408
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/577507/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/token/test_common.py', 'keystone/token/providers/common.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_revoke.py', 'keystone/tests/unit/token/test_fernet_provider.py', 'keystone/middleware/auth.py', 'keystone/tests/unit/token/test_token_model.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/token/test_token_data_helper.py']",9,2d356e34fc3b5645d701da6fbb1ad166f63f10f0,bug/1778945,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import base64 import uuid from testtools import matchers from keystone import exception from keystone.tests import unit from keystone.token.providers import common class TestTokenDataHelper(unit.TestCase): def setUp(self): super(TestTokenDataHelper, self).setUp() self.load_backends() self.v3_data_helper = common.V3TokenDataHelper() def test_v3_token_data_helper_populate_audit_info_string(self): token_data = {} audit_info_bytes = base64.urlsafe_b64encode(uuid.uuid4().bytes)[:-2] audit_info = audit_info_bytes.decode('utf-8') self.v3_data_helper._populate_audit_info(token_data, audit_info) self.assertIn(audit_info, token_data['audit_ids']) self.assertThat(token_data['audit_ids'], matchers.HasLength(2)) def test_v3_token_data_helper_populate_audit_info_none(self): token_data = {} self.v3_data_helper._populate_audit_info(token_data, audit_info=None) self.assertThat(token_data['audit_ids'], matchers.HasLength(1)) self.assertNotIn(None, token_data['audit_ids']) def test_v3_token_data_helper_populate_audit_info_list(self): token_data = {} audit_info = [base64.urlsafe_b64encode(uuid.uuid4().bytes)[:-2], base64.urlsafe_b64encode(uuid.uuid4().bytes)[:-2]] self.v3_data_helper._populate_audit_info(token_data, audit_info) self.assertEqual(audit_info, token_data['audit_ids']) def test_v3_token_data_helper_populate_audit_info_invalid(self): token_data = {} audit_info = dict() self.assertRaises(exception.UnexpectedError, self.v3_data_helper._populate_audit_info, token_data=token_data, audit_info=audit_info) ",43,780
openstack%2Fkeystone~master~I6db60077d829ef78baca80eb79a96d0032ad62be,openstack/keystone,master,I6db60077d829ef78baca80eb79a96d0032ad62be,Remove remnants of token bind,MERGED,2018-06-27 15:10:05.000000000,2018-08-01 16:57:12.000000000,2018-08-01 16:57:12.000000000,"[{'_account_id': 2903}, {'_account_id': 10420}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/191ce80770ae6b6db75d1ae72c3adccd03e0e006', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 2, 'created': '2018-06-27 21:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/267f43325b2a83ac9e860f27ba62ae9680409b40', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 3, 'created': '2018-06-29 16:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17f98f491330247b00e294693a8f29da0df8f60b', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 4, 'created': '2018-07-11 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4eb0d9859632db9ddbece6699ef084d97c933a01', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 5, 'created': '2018-07-11 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/40ade2019593745ce39aa7d9896e30eb3f94df12', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 6, 'created': '2018-07-12 18:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72dfe3cc4d9be9a0da46c4cf9777f0a33a03f5ff', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}, {'number': 7, 'created': '2018-07-13 15:03:21.000000000', 'files': ['keystone/token/provider.py', 'keystone/models/token_model.py', 'keystone/token/providers/fernet/core.py', 'keystone/tests/unit/token/test_fernet_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ba3be57a11f9ade1845621d466e2d76717f4cf1', 'message': 'Remove remnants of token bind\n\nWith the removal of token binding, we can clean up some of the logic\nin other parts of the token provider API that accounted for it.\n\nChange-Id: I6db60077d829ef78baca80eb79a96d0032ad62be\n'}]",0,578435,7ba3be57a11f9ade1845621d466e2d76717f4cf1,21,4,7,5046,,,0,"Remove remnants of token bind

With the removal of token binding, we can clean up some of the logic
in other parts of the token provider API that accounted for it.

Change-Id: I6db60077d829ef78baca80eb79a96d0032ad62be
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/578435/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/token/provider.py', 'keystone/models/token_model.py', 'keystone/token/providers/fernet/core.py', 'keystone/tests/unit/token/test_fernet_provider.py']",4,191ce80770ae6b6db75d1ae72c3adccd03e0e006,bug/1778945,, def test_supports_bind_authentication_returns_false(self): self.assertFalse(self.provider._supports_bind_authentication) ,0,25
openstack%2Fmanila~stable%2Focata~I67602bae1f928769d768008deca7bd0f2fef1ac2,openstack/manila,stable/ocata,I67602bae1f928769d768008deca7bd0f2fef1ac2,Fix share-service VM restart problem,MERGED,2018-08-01 02:24:48.000000000,2018-08-01 16:53:50.000000000,2018-08-01 16:53:50.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-08-01 02:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f22c8760822e257c9df7aebb072c1c3e0e9b757d', 'message': ""Fix share-service VM restart problem\n\nThe /etc/mtab file may have mount information such as 'nfsd'\nthat if copied to /etc/fstab will cause the share server to\nhang when rebooted.\n\nUpdate /etc/fstab with exactly the newly mounted or unmounted\nshares rather than simply overwriting /etc/fstab with /etc/mtab.\n\nChange-Id: I67602bae1f928769d768008deca7bd0f2fef1ac2\nClose-Bug: #1639662\n(cherry picked from commit b76934770b0f42950cad35a3e2a5a8e060462332)\n(cherry picked from commit 344d4aa91c848447002d1b297884d52060d274b2)\n(cherry picked from commit 7b306c0676c90a484230afb5fff6f1d02ec3a285)\n""}, {'number': 2, 'created': '2018-08-01 06:45:25.000000000', 'files': ['manila/tests/share/drivers/test_generic.py', 'manila/share/drivers/generic.py', 'etc/manila/rootwrap.d/share.filters', 'releasenotes/notes/bug-1639662-fix-share-service-VM-restart-problem-1110f9133cc294e8.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/891d2deeee82a2f4e391e687d1dd1cfbb32da838', 'message': ""Fix share-service VM restart problem\n\nThe /etc/mtab file may have mount information such as 'nfsd'\nthat if copied to /etc/fstab will cause the share server to\nhang when rebooted.\n\nUpdate /etc/fstab with exactly the newly mounted or unmounted\nshares rather than simply overwriting /etc/fstab with /etc/mtab.\n\nChange-Id: I67602bae1f928769d768008deca7bd0f2fef1ac2\nClose-Bug: #1639662\n(cherry picked from commit b76934770b0f42950cad35a3e2a5a8e060462332)\n(cherry picked from commit 344d4aa91c848447002d1b297884d52060d274b2)\n(cherry picked from commit 7b306c0676c90a484230afb5fff6f1d02ec3a285)\n""}]",2,587672,891d2deeee82a2f4e391e687d1dd1cfbb32da838,14,6,2,27173,,,0,"Fix share-service VM restart problem

The /etc/mtab file may have mount information such as 'nfsd'
that if copied to /etc/fstab will cause the share server to
hang when rebooted.

Update /etc/fstab with exactly the newly mounted or unmounted
shares rather than simply overwriting /etc/fstab with /etc/mtab.

Change-Id: I67602bae1f928769d768008deca7bd0f2fef1ac2
Close-Bug: #1639662
(cherry picked from commit b76934770b0f42950cad35a3e2a5a8e060462332)
(cherry picked from commit 344d4aa91c848447002d1b297884d52060d274b2)
(cherry picked from commit 7b306c0676c90a484230afb5fff6f1d02ec3a285)
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/587672/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/test_generic.py', 'manila/share/drivers/generic.py', 'etc/manila/rootwrap.d/share.filters', 'releasenotes/notes/bug-1639662-fix-share-service-VM-restart-problem-1110f9133cc294e8.yaml']",4,f22c8760822e257c9df7aebb072c1c3e0e9b757d,bug/1639662,--- fixes: - Changed sync mount permanently logic in the Generic driver to select the newly mounted share from /etc/mtab and insert it into /etc/fstab. Added corresponding remove mount permanently functionality. ,,73,38
openstack%2Fopenstack-ansible-os_zun~master~I62b6cfefea64880f4c8bbd86f4667c73d3e93f52,openstack/openstack-ansible-os_zun,master,I62b6cfefea64880f4c8bbd86f4667c73d3e93f52,Use generic vars file for ubuntu,MERGED,2018-08-01 10:39:25.000000000,2018-08-01 16:51:24.000000000,2018-08-01 16:51:24.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:39:25.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/32ca60647926f6bccf8816cb6ce5edb9ed6476f2', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: I62b6cfefea64880f4c8bbd86f4667c73d3e93f52\n'}]",0,587759,32ca60647926f6bccf8816cb6ce5edb9ed6476f2,11,4,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I62b6cfefea64880f4c8bbd86f4667c73d3e93f52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/59/587759/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,32ca60647926f6bccf8816cb6ce5edb9ed6476f2,bionic-vars,,,0,33
openstack%2Fopenstack-helm-infra~master~Ie1745629b90795e4d888d85f35565e6d6350e09b,openstack/openstack-helm-infra,master,Ie1745629b90795e4d888d85f35565e6d6350e09b,Quoting node_select_value in Ingress Controller,MERGED,2018-07-30 07:04:44.000000000,2018-08-01 16:50:08.000000000,2018-08-01 16:50:08.000000000,"[{'_account_id': 16513}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-07-30 07:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/825e470abfc7446eeb91de0148473f88ac13de41', 'message': 'Quoting node_select_value in Ingress Controller\n\nIn most cases, the ingress controller\'s nodeSelector key and value\nare ""node-role.kubernetes.io/ingress"" and ""true"".\nUsing quote to treat the nodeSelector value as a string.\n\nChange-Id: Ie1745629b90795e4d888d85f35565e6d6350e09b\n'}, {'number': 2, 'created': '2018-08-01 02:39:18.000000000', 'files': ['ldap/templates/statefulset.yaml', 'elasticsearch/templates/deployment-master.yaml', 'ingress/templates/deployment-ingress.yaml', 'nfs-provisioner/templates/deployment.yaml', 'registry/templates/job-bootstrap.yaml', 'grafana/templates/deployment.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'registry/templates/daemonset-registry-proxy.yaml', 'grafana/templates/job-db-init.yaml', 'rabbitmq/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'redis/templates/deployment.yaml', 'fluent-logging/templates/deployment-fluentd.yaml', 'memcached/templates/deployment.yaml', 'grafana/templates/job-db-session-sync.yaml', 'registry/templates/deployment-registry.yaml', 'prometheus/templates/statefulset.yaml', 'prometheus-node-exporter/templates/daemonset.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'fluent-logging/templates/job-elasticsearch-template.yaml', 'kibana/templates/deployment.yaml', 'fluent-logging/templates/daemonset-fluent-bit.yaml', 'grafana/templates/job-db-init-session.yaml', 'nagios/templates/deployment.yaml', 'memcached/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'fluent-logging/templates/monitoring/prometheus/exporter-deployment.yaml', 'kubernetes-keystone-webhook/templates/pod-test.yaml', 'elasticsearch/templates/deployment-client.yaml', 'ingress/templates/deployment-error.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'elasticsearch/templates/monitoring/prometheus/exporter-deployment.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'rabbitmq/templates/pod-test.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a430533e6a0300b03f9621e16d161875e50a3db4', 'message': 'Quoting node_select_value in Ingress Controller\n\nIn most cases, the ingress controller\'s nodeSelector key and value\nare ""node-role.kubernetes.io/ingress"" and ""true"".\nUsing quote to treat the nodeSelector value as a string.\n\nChange-Id: Ie1745629b90795e4d888d85f35565e6d6350e09b\n'}]",0,586954,a430533e6a0300b03f9621e16d161875e50a3db4,11,4,2,16513,,,0,"Quoting node_select_value in Ingress Controller

In most cases, the ingress controller's nodeSelector key and value
are ""node-role.kubernetes.io/ingress"" and ""true"".
Using quote to treat the nodeSelector value as a string.

Change-Id: Ie1745629b90795e4d888d85f35565e6d6350e09b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/54/586954/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/templates/deployment-error.yaml']",2,825e470abfc7446eeb91de0148473f88ac13de41,fix_ingress_controller_node_selector_value, {{ .Values.labels.error_server.node_selector_key }}: {{ .Values.labels.error_server.node_selector_value | quote }}, {{ .Values.labels.error_server.node_selector_key }}: {{ .Values.labels.error_server.node_selector_value }},2,2
openstack%2Fkeystone~master~If9ded94e65bacb0d06f5225bb36f659dc7bb8355,openstack/keystone,master,If9ded94e65bacb0d06f5225bb36f659dc7bb8355,Simplify the token provider API,MERGED,2018-02-16 20:35:54.000000000,2018-08-01 16:44:47.000000000,2018-08-01 16:44:47.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8871}, {'_account_id': 10420}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-16 20:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ef0b08674ed16a147dfb8bf24d1e3618ce0ca6c', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfec time to clean up a good amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the call stack. Different\nparts of the API use the reference to invoke call hooks and other\nhard-to-debug things. In order to have a full understanding of how\ntokens are built, you need to understand where and how tokens are\nmodified by different parts of the API according the a specific\ncontract of the authentication API. Another big problem with this is\nthat it couples the actual reference of how a token looks too closely\nto the business logic for tokens. Which means you have to write a ton\nof code if you ever want a token to look differently, like you would\nif you wanted to support a new API version. It shouldn't be this\ndifficult. A token should be an object that the managers and\ncontrollers can query and reason about. From there they should be able\nto build token responses accordingly. This will make the actual token\nprovider API much simpler because it needs to know less about API\ncontracts that are the responsibility of the controllers. This should\nlead to much simpler interfaces when new token providers are added, or\nmaintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 2, 'created': '2018-02-16 21:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/532668fd6da0f0c17d14112d6bf18e9b80fc6328', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfec time to clean up a good amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the call stack. Different\nparts of the API use the reference to invoke call hooks and other\nhard-to-debug things. In order to have a full understanding of how\ntokens are built, you need to understand where and how tokens are\nmodified by different parts of the API according the a specific\ncontract of the authentication API. Another big problem with this is\nthat it couples the actual reference of how a token looks too closely\nto the business logic for tokens. Which means you have to write a ton\nof code if you ever want a token to look differently, like you would\nif you wanted to support a new API version. It shouldn't be this\ndifficult. A token should be an object that the managers and\ncontrollers can query and reason about. From there they should be able\nto build token responses accordingly. This will make the actual token\nprovider API much simpler because it needs to know less about API\ncontracts that are the responsibility of the controllers. This should\nlead to much simpler interfaces when new token providers are added, or\nmaintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 3, 'created': '2018-02-19 22:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ff360c03e09fe414717c934830fb295db54b3d9', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfec time to clean up a good amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the call stack. Different\nparts of the API use the reference to invoke call hooks and other\nhard-to-debug things. In order to have a full understanding of how\ntokens are built, you need to understand where and how tokens are\nmodified by different parts of the API according the a specific\ncontract of the authentication API. Another big problem with this is\nthat it couples the actual reference of how a token looks too closely\nto the business logic for tokens. Which means you have to write a ton\nof code if you ever want a token to look differently, like you would\nif you wanted to support a new API version. It shouldn't be this\ndifficult. A token should be an object that the managers and\ncontrollers can query and reason about. From there they should be able\nto build token responses accordingly. This will make the actual token\nprovider API much simpler because it needs to know less about API\ncontracts that are the responsibility of the controllers. This should\nlead to much simpler interfaces when new token providers are added, or\nmaintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 4, 'created': '2018-03-15 15:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9dfa341357db2c0face5e691f8fa3b4df5176a25', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfect time to clean up a good amount of confusing technical\ndebt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks and other hard-to-debug\nthings. In order to have a full understanding of how tokens are built,\nyou need to understand where and how tokens are modified by different\nparts of the API according the a specific contract of the\nauthentication API. Another big problem with this is that it couples\nthe actual reference of how a token looks too closely to the business\nlogic for tokens. Which means you have to write a ton of code if you\never want a token to look differently, like you would if you wanted to\nsupport a new API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to much simpler interfaces when new\ntoken providers are added, or maintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 5, 'created': '2018-03-21 22:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a9ae8ba0c9823298f34fa0f275fadec802e6183d', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfect time to clean up a good amount of confusing technical\ndebt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks and other hard-to-debug\nthings. In order to have a full understanding of how tokens are built,\nyou need to understand where and how tokens are modified by different\nparts of the API according the a specific contract of the\nauthentication API. Another big problem with this is that it couples\nthe actual reference of how a token looks too closely to the business\nlogic for tokens. Which means you have to write a ton of code if you\never want a token to look differently, like you would if you wanted to\nsupport a new API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to much simpler interfaces when new\ntoken providers are added, or maintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 6, 'created': '2018-03-22 15:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5a176b146f0468d2c7ed30ebca527d03e288e33', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfect time to clean up a good amount of confusing technical\ndebt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks and other hard-to-debug\nthings. In order to have a full understanding of how tokens are built,\nyou need to understand where and how tokens are modified by different\nparts of the API according the a specific contract of the\nauthentication API. Another big problem with this is that it couples\nthe actual reference of how a token looks too closely to the business\nlogic for tokens. Which means you have to write a ton of code if you\never want a token to look differently, like you would if you wanted to\nsupport a new API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to much simpler interfaces when new\ntoken providers are added, or maintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 7, 'created': '2018-03-22 22:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f22c80119c5405b0a4e9f151101e6e8f123b9ef4', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfect time to clean up a good amount of confusing technical\ndebt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks and other hard-to-debug\nthings. In order to have a full understanding of how tokens are built,\nyou need to understand where and how tokens are modified by different\nparts of the API according the a specific contract of the\nauthentication API. Another big problem with this is that it couples\nthe actual reference of how a token looks too closely to the business\nlogic for tokens. Which means you have to write a ton of code if you\never want a token to look differently, like you would if you wanted to\nsupport a new API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to much simpler interfaces when new\ntoken providers are added, or maintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 8, 'created': '2018-03-23 20:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e5445c304e1184532fb0b7e1f5c38489813f46c3', 'message': ""WIP: rewrite keystone\n\nWell, not quite, but close... Since we're no longer supporting\npersistent tokens in tree and we removed the uuid token provider, it's\nthe perfect time to clean up a good amount of confusing technical\ndebt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks and other hard-to-debug\nthings. In order to have a full understanding of how tokens are built,\nyou need to understand where and how tokens are modified by different\nparts of the API according the a specific contract of the\nauthentication API. Another big problem with this is that it couples\nthe actual reference of how a token looks too closely to the business\nlogic for tokens. Which means you have to write a ton of code if you\never want a token to look differently, like you would if you wanted to\nsupport a new API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to much simpler interfaces when new\ntoken providers are added, or maintained out of tree.\n\nThis commit is essentially a programming exercise to try and follow a\nmore MVC-like pattern. Even though we're far from having a complele\nMVC pattern in keystone, the basic idea is that the token provider\n(controller) builds token objects (models) and the auth controllers\n(views) use the objects to build token responses. Since there is a lot\nchanging in this commit, I'm proposing it as WIP so that we can take a\nstep back and look at the whole approach. From there, hopefully we'll\nbe able to pick apart various bits and pieces and introduce the change\nas a series of commits.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 9, 'created': '2018-06-20 15:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/afd24f7a8772ff8aa8cde64d1fd7435540e2d101', 'message': ""Simplify the issue token code path\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent parts of the API according the a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to simpler interfaces when new token\nproviders are added, or maintained out of tree.\n\nThis commit uses a new pythonic token model object to represent\ntokens. As a result, more logic is pulled from the lower levels of the\nauthentication and token provider APIs and into a single area of\nbusiness logic, either in the model itself or the controller.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 10, 'created': '2018-06-20 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e319baae6e0d87290c209981a2ee0583746a15f4', 'message': ""Simplify the issue token code path\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent parts of the API according the a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to simpler interfaces when new token\nproviders are added, or maintained out of tree.\n\nThis commit uses a new pythonic token model object to represent\ntokens. As a result, more logic is pulled from the lower levels of the\nauthentication and token provider APIs and into a single area of\nbusiness logic, either in the model itself or the controller.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 11, 'created': '2018-06-21 14:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fa909dbdbaf65989547e2bf8a20354b7f1e449ed', 'message': ""Simplify the issue token code path\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent parts of the API according the a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to simpler interfaces when new token\nproviders are added, or maintained out of tree.\n\nThis commit uses a new pythonic token model object to represent\ntokens. As a result, more logic is pulled from the lower levels of the\nauthentication and token provider APIs and into a single area of\nbusiness logic, either in the model itself or the controller.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 12, 'created': '2018-06-21 15:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/62a073d90744289f26b952658977e6484ccc9559', 'message': ""Simplify the issue token code path\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent parts of the API according the a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to simpler interfaces when new token\nproviders are added, or maintained out of tree.\n\nThis commit uses a new pythonic token model object to represent\ntokens. As a result, more logic is pulled from the lower levels of the\nauthentication and token provider APIs and into a single area of\nbusiness logic, either in the model itself or the controller.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 13, 'created': '2018-06-22 18:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4dac450f50ed3109a365a3d9cc7f0c49473a8764', 'message': ""WIP: Simplify the issue token code path\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly becuase the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent parts of the API according the a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nIt shouldn't be this difficult. A token should be an object that the\nmanagers and controllers can query and reason about. From there they\nshould be able to build token responses accordingly. This will make\nthe actual token provider API much simpler because it needs to know\nless about API contracts that are the responsibility of the\ncontrollers. This should lead to simpler interfaces when new token\nproviders are added, or maintained out of tree.\n\nThis commit uses a new pythonic token model object to represent\ntokens. As a result, more logic is pulled from the lower levels of the\nauthentication and token provider APIs and into a single area of\nbusiness logic, either in the model itself or the controller.\n\nNote that this commit only focuses on refactoring the authentication\nAPI to use the new token model. The validation path still constructs\ntokens by modifying the reference everywhere. Ideally, both should be\nthe same, which should help us maintain compatibility between the two\npaths until we get everything converted over.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 14, 'created': '2018-06-27 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c821bda24a37146dbba85307ddd24e7d693dc4a4', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 15, 'created': '2018-06-27 21:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/864b3e18d48a3f6704f4b07d9550f75c5039ebf0', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 16, 'created': '2018-06-29 16:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e5a2a1078019a32dbde2cafcfa2ad5a56fa2a5a7', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 17, 'created': '2018-07-11 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/96bc6e02e9f6e631daae88971d5b736884ee8e0a', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 18, 'created': '2018-07-11 15:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee06175ddb675db1b75cdcf0d4a05a7040b3cb40', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 19, 'created': '2018-07-12 18:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2ce029cf971a76ab2d4fa5596e28cc4276b08116', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}, {'number': 20, 'created': '2018-07-13 15:03:21.000000000', 'files': ['keystone/auth/controllers.py', 'keystone/models/revoke_model.py', 'keystone/token/provider.py', 'keystone/contrib/ec2/controllers.py', 'keystone/federation/utils.py', 'keystone/models/token_model.py', 'keystone/auth/plugins/token.py', 'keystone/token/token_formatters.py', 'keystone/middleware/auth.py', 'keystone/federation/controllers.py', 'keystone/common/rbac_enforcer/enforcer.py', 'keystone/tests/unit/test_token_provider.py', 'keystone/tests/unit/common/test_rbac_enforcer.py', 'keystone/token/providers/base.py', 'keystone/token/providers/common.py', 'releasenotes/notes/bug-1778945-b7f2db3052525ca8.yaml', 'keystone/common/authorization.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/controller.py', 'keystone/token/providers/fernet/core.py', 'keystone/tests/unit/token/test_fernet_provider.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b47e84dac185adcc3e068237fb4cd285c1ae5583', 'message': ""Simplify the token provider API\n\nSince we're no longer supporting persistent tokens in tree and we\nremoved the uuid token provider, it's the perfect time to clean up a\ngood amount of confusing technical debt.\n\nThe token provider API is historically known for being confusing.\nThis is mainly because the reference that is intended to be returned\nto the user is modified all up and down the API. Different parts of\nthe API use the reference to invoke call hooks in other method making\nthe code hard to debug. In order to fully understand how tokens are\nbuilt, you need to understand where and how tokens are modified by\ndifferent layers of the API according to a specific contract of the\nauthentication API. Another big problem is that it couples the actual\nreference of how a token looks too closely to the business logic for\ntokens. Which means you have to write a ton of code if you ever want a\ntoken to look differently, like you would if you wanted to support a\nnew API version.\n\nA token should be an object that the managers and controllers can\nquery and reason about. From there they should be able to build token\nresponses accordingly. This will make the actual token provider API\nmuch simpler because it needs to know less about API contracts that\nare the responsibility of the controllers. This should lead to simpler\ninterfaces when new token providers are added, or maintained out of\ntree. This also makes it less likely for APIs to behave differently\nbased on what token provider is configured by being explicitly\nbuilding the token reference in one place.\n\nThis commit ports the token business logic out of the\nkeystone.token.providers.common module and into a dedicated token\nobject, or model. This will result in a cleaner interface between the\ntoken providers and the token provider API. A subsequent patch will\nremove the unused code across the token provider API.\n\nPartial-Bug: 1778945\nChange-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355\n""}]",42,545450,b47e84dac185adcc3e068237fb4cd285c1ae5583,72,8,20,5046,,,0,"Simplify the token provider API

Since we're no longer supporting persistent tokens in tree and we
removed the uuid token provider, it's the perfect time to clean up a
good amount of confusing technical debt.

The token provider API is historically known for being confusing.
This is mainly because the reference that is intended to be returned
to the user is modified all up and down the API. Different parts of
the API use the reference to invoke call hooks in other method making
the code hard to debug. In order to fully understand how tokens are
built, you need to understand where and how tokens are modified by
different layers of the API according to a specific contract of the
authentication API. Another big problem is that it couples the actual
reference of how a token looks too closely to the business logic for
tokens. Which means you have to write a ton of code if you ever want a
token to look differently, like you would if you wanted to support a
new API version.

A token should be an object that the managers and controllers can
query and reason about. From there they should be able to build token
responses accordingly. This will make the actual token provider API
much simpler because it needs to know less about API contracts that
are the responsibility of the controllers. This should lead to simpler
interfaces when new token providers are added, or maintained out of
tree. This also makes it less likely for APIs to behave differently
based on what token provider is configured by being explicitly
building the token reference in one place.

This commit ports the token business logic out of the
keystone.token.providers.common module and into a dedicated token
object, or model. This will result in a cleaner interface between the
token providers and the token provider API. A subsequent patch will
remove the unused code across the token provider API.

Partial-Bug: 1778945
Change-Id: If9ded94e65bacb0d06f5225bb36f659dc7bb8355
",git fetch https://review.opendev.org/openstack/keystone refs/changes/50/545450/13 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/auth/controllers.py', 'keystone/token/provider.py', 'keystone/token/providers/base.py', 'keystone/token/providers/common.py', 'keystone/models/token_model.py', 'keystone/token/providers/fernet/core.py']",6,7ef0b08674ed16a147dfb8bf24d1e3618ce0ca6c,bug/1778945," def generate_token_id(self, token): # FIXME(lbragstad): The only reason why we pass a dictionary here is # becuase token creation was dependent on using attributes from the # token reference. Now that we have a token model, we can ask the # object about it's properties and whatnot instead of different parts # of keystone expecting a specific data structure like this one. The # end result should be more readable and understandable because it # reads like business logic. federated_info = None if token.is_federated: federated_info = { 'group_ids': token.groups, 'idp_id': token.identity_provider['id'], 'protocol_id': token.protocol['id'] } token.id = self.token_formatter.create_token( token.user_id, token.expires_at, token.audit_ids, methods=token.methods, system=token.system, domain_id=token.domain_id, project_id=token.project_id, trust_id=token.trust_id, access_token_id=token.access_token_id ) creation_datetime_obj = self.token_formatter.creation_time(token.id) token.issued_at = ks_utils.isotime( at=creation_datetime_obj, subsecond=True"," def _build_federated_info(self, token_data): """"""Extract everything needed for federated tokens. This dictionary is passed to federated token formatters, which unpack the values and build federated Fernet tokens. """""" token_data = token_data['token'] try: user = token_data['user'] federation = user[federation_constants.FEDERATION] idp_id = federation['identity_provider']['id'] protocol_id = federation['protocol']['id'] except KeyError: # The token data doesn't have federated info, so we aren't dealing # with a federated token and no federated info to build. return group_ids = federation.get('groups') return {'group_ids': group_ids, 'idp_id': idp_id, 'protocol_id': protocol_id} def _get_token_id(self, token_data): """"""Generate the token_id based upon the data in token_data. :param token_data: token information :type token_data: dict :rtype: six.text_type """""" user_id = token_data['token']['user']['id'] expires_at = token_data['token']['expires_at'] audit_ids = token_data['token']['audit_ids'] methods = token_data['token'].get('methods') system = token_data['token'].get('system', {}).get('all', None) domain_id = token_data['token'].get('domain', {}).get('id') project_id = token_data['token'].get('project', {}).get('id') trust_id = token_data['token'].get('OS-TRUST:trust', {}).get('id') access_token_id = token_data['token'].get('OS-OAUTH1', {}).get( 'access_token_id') federated_info = self._build_federated_info(token_data) return self.token_formatter.create_token( user_id, expires_at, audit_ids, methods=methods, system=system, domain_id=domain_id, project_id=project_id, trust_id=trust_id, access_token_id=access_token_id",471,127
openstack%2Fglance~master~Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a,openstack/glance,master,Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a,Multihash implementation for Glance,MERGED,2018-07-30 20:59:59.000000000,2018-08-01 16:44:45.000000000,2018-08-01 16:44:45.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-30 20:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ada97b8c16b6e36d210439911f7bc28a5ee0aed7', 'message': 'Multihash implementation for Glance\n\nPartially implements blueprint multihash\n\nCo-authored-by: Scott McClymont <scott.mcclymont@verizonwireless.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nDepends-On: https://review.openstack.org/#/c/587098/\nChange-Id: Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a\n'}, {'number': 2, 'created': '2018-08-01 01:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/18faa3b3cf9ca8f0adb8c0935cf9e6783dfe155f', 'message': 'Multihash implementation for Glance\n\nPartially implements blueprint multihash.\n\nRequires glance_store 0.26.1\n\nCo-authored-by: Scott McClymont <scott.mcclymont@verizonwireless.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nDepends-On: https://review.openstack.org/#/c/587098/\nChange-Id: Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a\n'}, {'number': 3, 'created': '2018-08-01 01:29:02.000000000', 'files': ['glance/api/authorization.py', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/tests/functional/db/migrations/test_rocky_expand02.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'api-ref/source/v2/images-images-v2.inc', 'api-ref/source/v2/samples/image-update-response.json', 'glance/db/sqlalchemy/alembic_migrations/data_migrations/rocky_migrate02_empty.py', 'api-ref/source/v2/samples/schemas-image-show-response.json', 'api-ref/source/v2/samples/image-show-response.json', 'glance/tests/unit/test_policy.py', 'requirements.txt', 'api-ref/source/v2/samples/image-details-deactivate-response.json', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'api-ref/source/v2/samples/images-list-response.json', 'glance/domain/proxy.py', 'glance/db/sqlalchemy/alembic_migrations/versions/rocky_expand02_add_os_hash_.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'releasenotes/notes/multihash-081466a98601da20.yaml', 'glance/db/__init__.py', 'lower-constraints.txt', 'api-ref/source/v2/samples/image-create-response.json', 'glance/db/sqlalchemy/models.py', 'api-ref/source/v2/images-parameters.yaml', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_schemas_resource.py', 'glance/db/sqlalchemy/alembic_migrations/versions/rocky_contract02_empty.py', 'api-ref/source/v2/samples/schemas-images-list-response.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/0b24dbd620f88b4d36bf6e0f8975f10aa8709b86', 'message': 'Multihash implementation for Glance\n\nPartially implements blueprint multihash.\n\nRequires glance_store 0.26.1\n\nCo-authored-by: Scott McClymont <scott.mcclymont@verizonwireless.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a\n'}]",0,587225,0b24dbd620f88b4d36bf6e0f8975f10aa8709b86,20,6,3,5314,,,0,"Multihash implementation for Glance

Partially implements blueprint multihash.

Requires glance_store 0.26.1

Co-authored-by: Scott McClymont <scott.mcclymont@verizonwireless.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ib28ea1f6c431db6434dbab2a234018e82d5a6d1a
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/587225/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/authorization.py', 'glance/db/simple/api.py', 'glance/db/sqlalchemy/api.py', 'glance/tests/functional/v2/test_schemas.py', 'glance/tests/functional/db/migrations/test_rocky_expand02.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'api-ref/source/v2/images-images-v2.inc', 'api-ref/source/v2/samples/image-update-response.json', 'glance/db/sqlalchemy/alembic_migrations/data_migrations/rocky_migrate02_empty.py', 'api-ref/source/v2/samples/schemas-image-show-response.json', 'api-ref/source/v2/samples/image-show-response.json', 'glance/tests/unit/test_policy.py', 'api-ref/source/v2/samples/image-details-deactivate-response.json', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'api-ref/source/v2/samples/images-list-response.json', 'glance/domain/proxy.py', 'glance/db/sqlalchemy/alembic_migrations/versions/rocky_expand02_add_os_hash_.py', 'glance/location.py', 'glance/tests/functional/v2/test_images.py', 'releasenotes/notes/multihash-081466a98601da20.yaml', 'glance/db/__init__.py', 'api-ref/source/v2/samples/image-create-response.json', 'glance/db/sqlalchemy/models.py', 'api-ref/source/v2/images-parameters.yaml', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_schemas_resource.py', 'glance/db/sqlalchemy/alembic_migrations/versions/rocky_contract02_empty.py', 'api-ref/source/v2/samples/schemas-images-list-response.json']",30,ada97b8c16b6e36d210439911f7bc28a5ee0aed7,bp/multihash," ""os_hash_algo"": { ""description"": ""Algorithm to calculate the os_hash_value"", ""maxLength"": 64, ""readOnly"": true, ""type"": [ ""null"", ""string"" ] }, ""os_hash_value"": { ""description"": ""Hexdigest of the image contents using the algorithm specified by the os_hash_algo"", ""maxLength"": 128, ""readOnly"": true, ""type"": [ ""null"", ""string"" ] },",,509,33
openstack%2Fgovernance~master~I2424a9957a60ba7858d37da46d4fb86a2e6c6b48,openstack/governance,master,I2424a9957a60ba7858d37da46d4fb86a2e6c6b48,write up the python3-first goal,MERGED,2018-06-16 21:24:28.000000000,2018-08-01 16:39:56.000000000,2018-08-01 16:39:56.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 8099}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-06-16 21:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ac5759cef223cdbbe91e2f89e2648ed64626d51a', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-06-16 21:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2d702ef33a759a9eb9ecf26c2bd00ed5aaaaa1d6', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-06-20 14:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8cf27200c122c22d00204ee29e8655a26f03c04f', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-06-20 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0137a86eb32dab5724ff82e081bcd8319cbcfadf', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2018-06-20 15:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/cbe34f2507d7b4050b26edee0f07312d37753081', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2018-06-20 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f6b00f81d37f893056e1e879773e7111efa27f8a', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2018-06-25 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b6f6812d4d8c3e6421f71c27b9063a387c63fcfe', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 8, 'created': '2018-06-25 19:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/48ac1472fe257c518d2052e98df22bbf74ca2668', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 9, 'created': '2018-06-27 13:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c622f665fc421ad0b3f7cd960a2e933db8068365', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 10, 'created': '2018-07-06 18:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/bbb572b5bbbcc9a5537f1f96533c29ecdf26a7b6', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 11, 'created': '2018-07-06 19:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d49e21e24b418ccd8db1c94bf54f5d678863505c', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 12, 'created': '2018-07-06 19:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d202324551dc0e5a2ef50f418f26112ecb4e8223', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 13, 'created': '2018-07-12 19:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/409e9ea818c8af7c1726e47c5692687de17426ca', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 14, 'created': '2018-07-16 13:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d7a57594e0f268e6cd81b561873e661a669be9a1', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 15, 'created': '2018-07-18 14:54:48.000000000', 'files': ['resolutions/20180529-python2-deprecation-timeline.rst', 'goals/pike/python35.rst', 'goals/stein/python3-first.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/1116e6bc386ac7d89b8ae21c8174e08fcaaebec8', 'message': 'write up the python3-first goal\n\nChange-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",27,575933,1116e6bc386ac7d89b8ae21c8174e08fcaaebec8,101,20,15,2472,,,0,"write up the python3-first goal

Change-Id: I2424a9957a60ba7858d37da46d4fb86a2e6c6b48
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/33/575933/5 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20180529-python2-deprecation-timeline.rst', 'goals/pike/python35.rst', 'goals/stein/python3-first.rst']",3,ac5759cef223cdbbe91e2f89e2648ed64626d51a,formal-vote,"=============================== Run under Python 3 by default =============================== As we agreed in the :ref:`python2-deprecation-timeline` resolution, the next phase of our adoption of python 3 is to begin running all jobs using python 3 by default, and only using python 2 to test operating under python 2 (via unit, functional, or integration tests). This goal describes the activities needed to move us to this ""python 3 first"" state. :Storyboard Story: https://storyboard.openstack.org/#!/story/2002586 Gerrit Topic ============ `python3-first <https://review.openstack.org/#/q/topic:python3-first+(status:open+OR+status:merged)>`__ Completion Criteria =================== #. The Zuul settings to attach jobs have been moved from the ``openstack/project-config`` repository into each project repository. #. Documentation build and publish jobs use python 3. #. Release notes build and publish jobs use python 3. #. Source code linter jobs (pep8, pylint, bandit, etc.) should use python 3. #. Release artifact build and publish jobs use python 3 and publish to PyPI. #. Functional test jobs are running under python 3. Details ======= Moving settings from project-config ----------------------------------- A big part of the work for this goal for each project is to configure different sets of jobs to run the same tasks differently on different branches. Although Zuul supports doing this using branch specifiers, it will be easier to maintain the job settings over time if we place them in each repository. This lets us set different jobs, or variants of jobs, to run against each branch just by modifying the zuul settings in that branch. The first step, therefore, is to take the project settings that control the jobs out of the ``openstack/project-config`` repository and put them into each git repository. Then those same settings should be backported to all of the open stable branches in the repository. https://review.openstack.org/#/c/574393/ is an example of adding the project settings to ``openstack/reno``. Note that the patch should *not* include the ``system-required`` project template. Each repository needs a patch like 574393 on the master branch. The settings can go into any of the zuul configuration files (``.zuul.yaml``, ``zuul.yaml``, ``.zuul.d/project.yaml``, etc.) and should be organized based on the way the project team has their zuul configuration set up already. The patch should then be backported to ``stable/rocky``, ``stable/queens``, ``stable/pike``, and ``stable/ocata``. https://review.openstack.org/#/c/574402/ shows how to remove the settings for reno from ``openstack/project-config``. The ``system-required`` template needs to remain configured in ``zuul.d/projects.yaml`` in ``openstack/project-config``. At this point the job configuration for each repository can be managed directly by the project team, and each branch will have a separate list of jobs. This will make future job management much simpler and should make it possible for the project team to do the rest of the work for the goal without waiting for anyone else to review their patches. Documentation Jobs ------------------ The ``publish-openstack-sphinx-docs-python3`` project template defines a set of jobs for testing and building documentation using python 3, and replaces the old ``publish-openstack-sphinx-docs`` project template. The new jobs do not use the ``docs`` tox environment, but the tox settings should be updated as well so that when developers run the documentation build locally they are reproducing what the zuul job will do. https://review.openstack.org/#/c/574394/ shows how to change the project settings for a repository to use the new documentation jobs. The change will be self-testing, and should only be made on the master branch. https://review.openstack.org/#/c/572895/ shows how to update the tox.ini settings in the project to set the ``basepython`` variable for the ``docs`` environment, used for developer testing. This change should only be made on the master branch. Common issues to anticipate: * Under python 3 the output of subprocess.check_output() is a bytes instance, but sphinx expects values for version and timestamps to be str objects. Doc builds that do things in conf.py (or extensions) like extract the modification date from the most recent commit will need to properly decode the return values. Release Notes Jobs ------------------ The ``release-notes-jobs-python3`` project template defines a set of jobs for testing and building release notes using python 3. As with the documentation build, the release notes jobs do not use tox, but the tox settings should still be updated. In the zuul configuration on the master branch of the repository, change the project template ``release-notes-jobs`` to ``release-notes-jobs-python3``. If the patch to change the project template does not run the new job, it may be necessary to add a dummy release note to make the patch self-testing. https://review.openstack.org/#/c/572895/ shows how to update the tox.ini settings in the project to set the ``basepython`` variable for the ``releasenotes`` environment, used for developer testing. This change should only be made on the master branch. Common issues to anticipate: * Under python 3 the output of subprocess.check_output() is a bytes instance, but sphinx expects values for version and timestamps to be str objects. Doc builds that do things in conf.py (or extensions) like extract the modification date from the most recent commit will need to properly decode the return values. Source Code Linter Jobs ----------------------- Most of the jobs we have that run source code linters *do* use tox to control the versions of the linter tool. These jobs typically have names like ``openstack-tox-linters`` or ``openstack-tox-pep8``. https://review.openstack.org/#/c/572895/ shows how to update the tox.ini settings in the project to set the ``basepython`` variable for the environments. All of the linter jobs running against python source code in the master branch should be updated. These changes should be self-testing. Any linter jobs that use python-based tools to check other sorts of source should also be updated to use python 3, if possible. Common issues to anticipate: * The built-in ``file``() no longer exists under python 3, so using it causes pylint to report an undefined name. Use ``open()`` instead. * The built-in ``unicode`` no longer exists under python 3, so using it causes pylint to report an undefined name. Use ``six.text_type`` instead. * Under python 3 the flake8/hacking/pep8/pylint tools run different or additional checks. This may mean new code formatting issues will have to be fixed as part of changing the linter jobs over. * There is a bug in the older version of pylint that many projects are using that prevents it from working correctly under python 3. Pylint will have to be upgraded as part of this transition; version 1.9.2 is known to work. The error message from the broken version is:: AttributeError: 'Call' object has no attribute 'starargs' Updating the version of pylint brings new rules, and will require modifications either to source code or to the pylint configuration. https://review.openstack.org/#/c/573024/ is an example of updating to the latest version of pylint in the freezer repository, with a combination of fixes and disabling rules. Release Artifact Publishing --------------------------- We will be making several changes to artifact publishing for Python-based projects simultaneously. First, a new job that uses ``setuptools`` to validate the packaging metadata for a repository will run in the check and gate queues when ``README.rst``, ``setup.cfg``, or ``setup.py`` are modified. This will be an early warning for issues that may come up as part of publishing the build artifacts, and runs the same step that was added recently to the validation job in ``openstack/releases`` as well as actually building an sdist and a wheel. Second, the new packaging test, build, and publish jobs will all run under python 3. Third, all python-based projects will have their sdists and wheels published to PyPI. This will simplify dependency management between plugins and server projects and will streamline the number of variations of release jobs that we have. In order to make this change, project teams may first need to register their project name on PyPI. Refer to `the creator's guide in the infra manual`_ for details of how to do this. After the name is configured on PyPI, change any existing release project template to ``publish-to-pypi-python3``. It will be useful to make a whitespace or other typo-fix change in the ``README.rst`` in order to trigger the packaging test job in this patch to ensure everything works properly before the change is approved. The release jobs for python-based projects have already been updated, but teams using release jobs that rely on python to publish artifacts for projects not written in python should work with the release and infra teams to update their release jobs to use python 3. Common issues to anticipate: * Projects that have not published to PyPI before may need to fix their ``README.rst`` file if it uses RST directives only defined by Sphinx and not by docutils. The new test job will catch any issues. * Projects that cannot reserve their project name on PyPI because it is owned by another community may need to change the sdist name in their ``setup.cfg`` in order to be able to publish to PyPI under a different name. That will not change how the code is imported, but it will change package names and may require setting ``tarball-base`` in the release settings managed in ``openstack/releases``. The release management team can help if you end up needing to change names, so contact them before starting to make the change. .. _the creator's guide in the infra manual: https://docs.openstack.org/infra/manual/creators.html#give-openstack-permission-to-publish-releases Functional Test Jobs -------------------- Updating the functional test jobs for a project will require more knowledge of the jobs that exist, which ones need to be duplicated under python 3, and which can be changed to python 3 without being run under python 2. Changing the job configuration will require knowledge of the job implementation details. For these reasons, the analysis and implementation work for updating the functional test jobs is left up to each project team. Libraries used by services that run in the default integrated gate can add the ``lib-forward-testing-python3`` project template to ensure they have full integration tests run. https://review.openstack.org/#/c/575927/ shows an example of doing this for oslo.config. Where possible, when modifying existing jobs, a variable should be added to control the version of python so that the same job implementation (playbooks, roles, etc.) can be used instead of duplicating the entire job definition. This will simplify cleaning up the old job definitions when python 2 support is finally dropped. It should be possible to update functional and integration test jobs that run through tox by setting ``basepython = python3`` for the appropriate tox environment, as in https://review.openstack.org/#/c/572895/. References ========== * :ref:`goal-support-python-3.5` * `Updating python packaging jobs <https://review.openstack.org/#/q/topic:python3-packaging+(status:open+OR+status:merged)>`__ * `Configuring library forward testing jobs <https://review.openstack.org/#/q/topic:python3-lib-forward-testing+(status:open+OR+status:merged)>`__ * `Planning etherpad <https://etherpad.openstack.org/p/python3-first>`__ * `Status of OpenStack projects <https://wiki.openstack.org/wiki/Python3#Python_3_Status_of_OpenStack_projects>`__ from the Python3 wiki page. Current State / Anticipated Impact ================================== A significant number of patches to update the tox settings for projects have already been proposed and many have been merged: https://review.openstack.org/#/q/topic:python3-first Some of the Oslo libraries are using the python 3 versions of these jobs. Provide a summary of the current state of any ongoing work related to the goal, including known blockers for any projects, projects that have completed the work already and can serve as examples, or other information useful to evaluate the scope of the goal and whether it would fit into the time given. ",,291,0
openstack%2Fkolla~stable%2Fqueens~I191f3e073d14e9ba5419a8a9b043e8afaa565e2a,openstack/kolla,stable/queens,I191f3e073d14e9ba5419a8a9b043e8afaa565e2a,build with --template-only to not require running docker service,MERGED,2018-07-27 12:01:08.000000000,2018-08-01 16:36:50.000000000,2018-08-01 16:36:50.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-07-27 12:01:08.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f2330730b0b46962c25d8372ffc71cd837f5442a', 'message': ""build with --template-only to not require running docker service\n\nAdd a try/except check and raise excpetion if not --template-only\n\nReason for this is so that you can run kolla_build --template-only\non a system with a user that doesn't have permissions to access\ndocker or system may not have docker service running.  The template\nonly generation is ok because it doesn't specifically need the docker\ncontext\n\nChange-Id: I191f3e073d14e9ba5419a8a9b043e8afaa565e2a\n(cherry picked from commit 9cc7667a5110c59c1ffda4b75d7667ca4628e4bb)\n""}]",0,586519,f2330730b0b46962c25d8372ffc71cd837f5442a,12,3,1,16282,,,0,"build with --template-only to not require running docker service

Add a try/except check and raise excpetion if not --template-only

Reason for this is so that you can run kolla_build --template-only
on a system with a user that doesn't have permissions to access
docker or system may not have docker service running.  The template
only generation is ok because it doesn't specifically need the docker
context

Change-Id: I191f3e073d14e9ba5419a8a9b043e8afaa565e2a
(cherry picked from commit 9cc7667a5110c59c1ffda4b75d7667ca4628e4bb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/586519/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,f2330730b0b46962c25d8372ffc71cd837f5442a,," try: self.dc = docker.APIClient(version='auto', **docker_kwargs) except docker.errors.DockerException as e: self.dc = None if not conf.template_only: raise e"," self.dc = docker.APIClient(version='auto', **docker_kwargs)",6,1
openstack%2Fopenstack-manuals~master~Ie16998d73221259aeb14583445331561f425573e,openstack/openstack-manuals,master,Ie16998d73221259aeb14583445331561f425573e,Drop use port 35357,MERGED,2018-07-19 04:12:03.000000000,2018-08-01 16:23:23.000000000,2018-08-01 16:23:23.000000000,"[{'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-19 04:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/35c566292345a5eff11efb36704105023b1bd78f', 'message': 'Drop use port 35357\n\nWith Keystone v3, the admin (35357) and public (5000) ports are\nthe same and use the same keystone code paths for authentication.\n\nThis patch set drops 35357 and only uses port 5000.\n\nChange-Id: Ie16998d73221259aeb14583445331561f425573e\n'}, {'number': 2, 'created': '2018-07-19 13:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88c6f052ddf814826ac1cccbc3e352572a0fc702', 'message': 'Drop use port 35357\n\nWith Keystone v3, the admin (35357) and public (5000) ports are\nthe same and use the same keystone code paths for authentication.\n\nThis patch set drops 35357 and only uses port 5000.\n\nChange-Id: Ie16998d73221259aeb14583445331561f425573e\n'}, {'number': 3, 'created': '2018-07-19 21:56:33.000000000', 'files': ['doc/install-guide/source/firewalls-default-ports.rst', 'doc/ha-guide/source/storage-ha-block.rst', 'doc/ha-guide/source/controller-ha-haproxy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a359d5a71a5031a4a17d5a8443d54d8b3c6395dd', 'message': 'Drop use port 35357\n\nWith Keystone v3, the admin (35357) and public (5000) ports are\nthe same and use the same keystone code paths for authentication.\n\nThis patch set drops 35357 and only uses port 5000.\n\nChange-Id: Ie16998d73221259aeb14583445331561f425573e\n'}]",0,583839,a359d5a71a5031a4a17d5a8443d54d8b3c6395dd,11,3,3,28278,,,0,"Drop use port 35357

With Keystone v3, the admin (35357) and public (5000) ports are
the same and use the same keystone code paths for authentication.

This patch set drops 35357 and only uses port 5000.

Change-Id: Ie16998d73221259aeb14583445331561f425573e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/39/583839/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/firewalls-default-ports.rst', 'doc/ha-guide/source/storage-ha-block.rst', 'doc/ha-guide/source/controller-ha-haproxy.rst']",3,35c566292345a5eff11efb36704105023b1bd78f,, listen keystone_admin_public_internal_cluster, listen keystone_admin_cluster bind <Virtual IP>:35357 balance source option tcpka option httpchk option tcplog server controller1 10.0.0.12:35357 check inter 2000 rise 2 fall 5 server controller2 10.0.0.13:35357 check inter 2000 rise 2 fall 5 server controller3 10.0.0.14:35357 check inter 2000 rise 2 fall 5 listen keystone_public_internal_cluster,3,13
openstack%2Fopenstack-helm~master~Ie50ae5692dbf67c19f55521a5cb46308480f737a,openstack/openstack-helm,master,Ie50ae5692dbf67c19f55521a5cb46308480f737a,OVS: update container privs,MERGED,2018-07-30 22:44:12.000000000,2018-08-01 16:19:43.000000000,2018-08-01 16:19:35.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 26201}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-07-30 22:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf7f6087b1f022e0f070d9768b9329facb0c72d9', 'message': 'OVS: update container privs\n\nThis PS updates the privs granted to the OvS containers.\n\nChange-Id: Ie50ae5692dbf67c19f55521a5cb46308480f737a\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2018-07-31 18:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ec67bd5b57f9001acb19013653246579895a997', 'message': 'OVS: update container privs\n\nThis PS updates the privs granted to the OvS containers.\n\nChange-Id: Ie50ae5692dbf67c19f55521a5cb46308480f737a\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2018-07-31 20:50:32.000000000', 'files': ['openvswitch/templates/daemonset-ovs-db.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/108d9606d7b2737813ac115d0bbff2f055ee8b92', 'message': 'OVS: update container privs\n\nThis PS updates the privs granted to the OvS containers.\n\nChange-Id: Ie50ae5692dbf67c19f55521a5cb46308480f737a\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,587243,108d9606d7b2737813ac115d0bbff2f055ee8b92,13,5,3,23928,,,0,"OVS: update container privs

This PS updates the privs granted to the OvS containers.

Change-Id: Ie50ae5692dbf67c19f55521a5cb46308480f737a
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/587243/2 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/templates/daemonset-ovs-db.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml']",2,cf7f6087b1f022e0f070d9768b9329facb0c72d9,ovs-privs, securityContext: capabilities: add: - NET_ADMIN, privileged: true,4,2
openstack%2Fironic~master~I480fa50540764079e5d13cfbf4ed6afbac648799,openstack/ironic,master,I480fa50540764079e5d13cfbf4ed6afbac648799,Remove rabbit_max_retries option,MERGED,2018-08-01 11:53:28.000000000,2018-08-01 16:19:20.000000000,2018-08-01 16:19:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 11:53:28.000000000', 'files': ['doc/source/admin/report.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f78ebd0dce523d7eba5c83d719261cdaf5118e72', 'message': 'Remove rabbit_max_retries option\n\nThe rabbit_max_retries parameter has been deprecated\n\nChange-Id: I480fa50540764079e5d13cfbf4ed6afbac648799\n'}]",0,587785,f78ebd0dce523d7eba5c83d719261cdaf5118e72,8,4,1,21486,,,0,"Remove rabbit_max_retries option

The rabbit_max_retries parameter has been deprecated

Change-Id: I480fa50540764079e5d13cfbf4ed6afbac648799
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/587785/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/report.txt'],1,f78ebd0dce523d7eba5c83d719261cdaf5118e72,,, rabbit_max_retries = 0,0,1
openstack%2Ftripleo-upgrade~master~I1e1fc6471525855fb09280131e7847f21b1a74d8,openstack/tripleo-upgrade,master,I1e1fc6471525855fb09280131e7847f21b1a74d8,Adjust roles_data also for updates.,MERGED,2018-07-31 13:10:38.000000000,2018-08-01 16:18:28.000000000,2018-08-01 16:18:28.000000000,"[{'_account_id': 8042}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-07-31 13:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0b1a5a5bf45781af6f9da933e8ef4d27a26f8673', 'message': 'Adjust roles_data also for updates.\n\nDuring the update prepare process, if\nsome of the services defined in the roles\ndata where deprecated in the version to\nupdate to, an error will be retrieved during\ncontainer image downloading as the service\nis not present anymore. This patch enables\nthe roles_data adjusting, which was run in\nupgrades, also in updates.\n\nChange-Id: I1e1fc6471525855fb09280131e7847f21b1a74d8\nCloses-Bug: #1784624\n'}, {'number': 2, 'created': '2018-08-01 08:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/53f91c2ec5596570388c827d0a3d35cc2f240b59', 'message': 'Adjust roles_data also for updates.\n\nDuring the update prepare process, if\nsome of the services defined in the roles\ndata where deprecated in the version to\nupdate to, an error will be retrieved during\ncontainer image downloading as the service\nis not present anymore. This patch enables\nthe roles_data adjusting, which was run in\nupgrades, also in updates.\n\nChange-Id: I1e1fc6471525855fb09280131e7847f21b1a74d8\nRelated-Bug: #1784624\n'}, {'number': 3, 'created': '2018-08-01 10:57:03.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/update/overcloud_update_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ba9879a93209ba25fdb9a5dd1d00aa3a5f33a9bf', 'message': 'Adjust roles_data also for updates.\n\nDuring the update prepare process, if\nsome of the services defined in the roles\ndata where deprecated in the version to\nupdate to, an error will be retrieved during\ncontainer image downloading as the service\nis not present anymore. This patch enables\nthe roles_data adjusting, which was run in\nupgrades, also in updates.\n\nChange-Id: I1e1fc6471525855fb09280131e7847f21b1a74d8\nRelated-Bug: #1784624\n'}]",5,587413,ba9879a93209ba25fdb9a5dd1d00aa3a5f33a9bf,19,8,3,26343,,,0,"Adjust roles_data also for updates.

During the update prepare process, if
some of the services defined in the roles
data where deprecated in the version to
update to, an error will be retrieved during
container image downloading as the service
is not present anymore. This patch enables
the roles_data adjusting, which was run in
upgrades, also in updates.

Change-Id: I1e1fc6471525855fb09280131e7847f21b1a74d8
Related-Bug: #1784624
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/587413/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'tasks/update/overcloud_update_prepare.yml']",3,0b1a5a5bf45781af6f9da933e8ef4d27a26f8673,bug/1784624,- name: adjust role-data for Pike update include: ../common/adjust-roles-data.yaml when: custom_roles_used|bool ,,5,1
openstack%2Freleases~master~Iaa44388a19c5a09d9363fe7175552ea6ac813a09,openstack/releases,master,Iaa44388a19c5a09d9363fe7175552ea6ac813a09,Release python-cinderclient 4.0.1,MERGED,2018-08-01 15:24:19.000000000,2018-08-01 16:03:29.000000000,2018-08-01 16:03:29.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 15:24:19.000000000', 'files': ['deliverables/rocky/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b3dcb05952b218cf6a5589d275b3591e4446688', 'message': ""Release python-cinderclient 4.0.1\n\nIn testing close to the end of Rocky we have found\nsome bugs in cinderclient.  One of those bugs broke\nthe Horizon's volume interface and left volume_transfer\nfunctionality broken.  This release is being done to\nfix those issues along with some other minor bugs.\n\nChange-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09\n""}]",0,587852,2b3dcb05952b218cf6a5589d275b3591e4446688,9,4,1,7198,,,0,"Release python-cinderclient 4.0.1

In testing close to the end of Rocky we have found
some bugs in cinderclient.  One of those bugs broke
the Horizon's volume interface and left volume_transfer
functionality broken.  This release is being done to
fix those issues along with some other minor bugs.

Change-Id: Iaa44388a19c5a09d9363fe7175552ea6ac813a09
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/587852/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-cinderclient.yaml'],1,2b3dcb05952b218cf6a5589d275b3591e4446688,python-cinderclient, - projects: - hash: 460229c6099719dec0d027f798f9c751b8ec7e44 repo: openstack/python-cinderclient version: 4.0.1,,4,0
openstack%2Fkuryr-kubernetes~stable%2Fqueens~I6d229c92f6de9b9827db7fec4a3765b634d1b57d,openstack/kuryr-kubernetes,stable/queens,I6d229c92f6de9b9827db7fec4a3765b634d1b57d,Services: Fix service connectivity after service port edit procedure,MERGED,2018-07-31 18:31:38.000000000,2018-08-01 16:01:51.000000000,2018-08-01 16:01:51.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-07-31 18:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f1692c163c6bf13a815b80f47363ef9c83136dd', 'message': 'Services: Fix service connectivity after service port edit procedure\n\nKubernetes supports edit operation for API resources.\nThis patch updates LBaaS handler to add members as expected\nto the new Pool after service port edit procedure.\n\nChange-Id: I6d229c92f6de9b9827db7fec4a3765b634d1b57d\nCloses-Bug: 1784683\n'}, {'number': 2, 'created': '2018-08-01 10:07:05.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/495b7882f69be067bcf9d6b9a67728725ad982c7', 'message': 'Services: Fix service connectivity after service port edit procedure\n\nKubernetes supports edit operation for API resources.\nThis patch updates LBaaS handler to add members as expected\nto the new Pool after service port edit procedure.\n\nChange-Id: I6d229c92f6de9b9827db7fec4a3765b634d1b57d\nCloses-Bug: 1784683\n(cherry picked from commit 85f0617e2020e38cf54d1c58681109016aa3bcd7)\n'}]",0,587583,495b7882f69be067bcf9d6b9a67728725ad982c7,11,5,2,21041,,,0,"Services: Fix service connectivity after service port edit procedure

Kubernetes supports edit operation for API resources.
This patch updates LBaaS handler to add members as expected
to the new Pool after service port edit procedure.

Change-Id: I6d229c92f6de9b9827db7fec4a3765b634d1b57d
Closes-Bug: 1784683
(cherry picked from commit 85f0617e2020e38cf54d1c58681109016aa3bcd7)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/83/587583/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,5f1692c163c6bf13a815b80f47363ef9c83136dd,bug/1784683-stable/queens, lbaas_state.members = [m for m in lbaas_state.members if m.pool_id not in removed_ids],,2,0
openstack%2Fkuryr-kubernetes~master~Ibf63841b2a6b0c339c4c76980f1489e26af016d7,openstack/kuryr-kubernetes,master,Ibf63841b2a6b0c339c4c76980f1489e26af016d7,Ensure isolation between namespaces,MERGED,2018-06-29 14:46:39.000000000,2018-08-01 16:01:50.000000000,2018-08-01 16:01:50.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26287}]","[{'number': 1, 'created': '2018-06-29 14:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7275395bd84a185257e146749af6ad56bc5a3ea2', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 2, 'created': '2018-07-02 08:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74da6c99055007cdc95c9cabcedf57dd3df14401', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 3, 'created': '2018-07-03 09:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04895ead8f6139cae08298127ac9b37b911de443', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 4, 'created': '2018-07-03 09:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/02b6480bb778f5d6397450de672848ef6b74e1cd', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 5, 'created': '2018-07-03 09:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e382700d504b9a0bd4f245d7356b5599fdaec9c3', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 6, 'created': '2018-07-04 06:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/725d0be5e1df16abc2971e0c4a6ee627341dfff2', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 7, 'created': '2018-07-05 06:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/61350d6e188544b008a54ed5d99aa408917e65a8', 'message': '[WIP] Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 8, 'created': '2018-07-05 16:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f8eec5f84a2eac2ab8dd1069c7e044fc7f4de9e4', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Fix unittest\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 9, 'created': '2018-07-06 08:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3eb2feec1fab7d3ae8924039338bf518c2232dfc', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 10, 'created': '2018-07-06 08:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/859b275ff777fc2f6d4e8ff2c15a4aad4da86141', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nTODO:\n- Extend unittest\n- Update tempest related tests\n- Update documentation\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 11, 'created': '2018-07-06 11:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/184a908218d60117ba38be551db0947777e14b09', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 12, 'created': '2018-07-06 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b6cd15dc989b0afd7a5d6186108b6090074964d', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 13, 'created': '2018-07-09 16:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3ba6e148952ee84912bac63c51d31ba7ad11c5a3', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 14, 'created': '2018-07-10 10:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/87b868d812d2422235b1b230486bd94304e805b2', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 15, 'created': '2018-07-10 16:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/899a1a9282bce4d61a4e2132e4860fa7a96b7137', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 16, 'created': '2018-07-13 16:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e1ae4c3d26c54515b16a07817915094c10020144', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 17, 'created': '2018-07-31 07:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce1b2021b328bdac6081bfc7bf9a4424435932cf', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 18, 'created': '2018-07-31 10:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/520cfbc20b3124d08cc720132259c67f45b96f6d', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 19, 'created': '2018-07-31 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf4c61253d4c4ef6543b5ac338051ecef5506b69', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 20, 'created': '2018-07-31 13:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e65483b0151d1819dd562224acbae7908d04c4a3', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 21, 'created': '2018-08-01 08:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/820efc005c71fa4ce715cd6361a5875d98bb3fe3', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}, {'number': 22, 'created': '2018-08-01 11:46:58.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/controller/drivers/base.py', 'devstack/plugin.sh', 'doc/source/installation/network_namespace.rst', 'kuryr_kubernetes/controller/handlers/namespace.py', 'devstack/settings', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/opts.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_security_groups.py', 'devstack/lib/kuryr_kubernetes', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f02b2e99e910db4b9cbff3cf14d7472fdc44dcca', 'message': 'Ensure isolation between namespaces\n\nThis patch ensures that a different security group is attached to\neach newly created namespace. Thus providing extra isolation\nbetween the pods allocated on the different namespaces.\n\nImplements: blueprint openshift-project-isolation-support\nChange-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7\n'}]",15,579181,f02b2e99e910db4b9cbff3cf14d7472fdc44dcca,75,7,22,23567,,,0,"Ensure isolation between namespaces

This patch ensures that a different security group is attached to
each newly created namespace. Thus providing extra isolation
between the pods allocated on the different namespaces.

Implements: blueprint openshift-project-isolation-support
Change-Id: Ibf63841b2a6b0c339c4c76980f1489e26af016d7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/579181/20 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/opts.py', 'devstack/plugin.sh', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'setup.cfg', 'kuryr_kubernetes/controller/handlers/namespace.py', 'devstack/settings']",7,7275395bd84a185257e146749af6ad56bc5a3ea2,namespace-project,KURYR_SG_DRIVER=${KURYR_SG_DRIVER:-default},,160,4
openstack%2Fopenstack-helm~master~I609455b1a58e576644b8a6cfb8b273d5aeb94c58,openstack/openstack-helm,master,I609455b1a58e576644b8a6cfb8b273d5aeb94c58,Nova: Move nova sudoers file to be drive fully by values.yaml,MERGED,2018-07-30 23:25:40.000000000,2018-08-01 15:56:26.000000000,2018-08-01 15:56:12.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26201}]","[{'number': 1, 'created': '2018-07-30 23:25:40.000000000', 'files': ['nova/templates/configmap-etc.yaml', 'nova/templates/etc/_nova_sudoers.tpl', 'nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d9519b396e89501b8a4204a0fef4a5533434506', 'message': 'Nova: Move nova sudoers file to be drive fully by values.yaml\n\nThis PS brings novas sudoers file config to be in line with neutron\nand other osh charts.\n\nChange-Id: I609455b1a58e576644b8a6cfb8b273d5aeb94c58\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,587250,5d9519b396e89501b8a4204a0fef4a5533434506,9,4,1,23928,,,0,"Nova: Move nova sudoers file to be drive fully by values.yaml

This PS brings novas sudoers file config to be in line with neutron
and other osh charts.

Change-Id: I609455b1a58e576644b8a6cfb8b273d5aeb94c58
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/587250/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/configmap-etc.yaml', 'nova/templates/etc/_nova_sudoers.tpl', 'nova/values.yaml']",3,5d9519b396e89501b8a4204a0fef4a5533434506,nova/configs," nova_sudoers: | # This sudoers file supports rootwrap for both Kolla and LOCI Images. Defaults !requiretty Defaults secure_path=""/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/var/lib/openstack/bin:/var/lib/kolla/venv/bin"" nova ALL = (root) NOPASSWD: /var/lib/kolla/venv/bin/nova-rootwrap /etc/nova/rootwrap.conf *, /var/lib/openstack/bin/nova-rootwrap /etc/nova/rootwrap.conf *", nova_sudoers: override: append:,6,24
openstack%2Ftripleo-upgrade~master~I50ca550d225e52ba44b76a70b1db1c34088b77d9,openstack/tripleo-upgrade,master,I50ca550d225e52ba44b76a70b1db1c34088b77d9,Fix issue with failed OOO upgrade,MERGED,2018-08-01 10:14:57.000000000,2018-08-01 15:52:28.000000000,2018-08-01 15:52:28.000000000,"[{'_account_id': 18851}, {'_account_id': 19118}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 22895}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27681}]","[{'number': 1, 'created': '2018-08-01 10:14:57.000000000', 'files': ['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/aa2e40eb25d5c51af6be13d26607bf1091ced91f', 'message': ""Fix issue with failed OOO upgrade\n\nThe reason of issue is in the structure of variables in plugins.spec. Since\ninfrared converts varibles from plugin.spec to dict, there is some limitations\nand following example won't work.\n\nFor example:\n  example-key: value\n  example-key-foo: value1\n  example-key-bar: value2\n\nChange-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9\n""}]",0,587749,aa2e40eb25d5c51af6be13d26607bf1091ced91f,11,9,1,28847,,,0,"Fix issue with failed OOO upgrade

The reason of issue is in the structure of variables in plugins.spec. Since
infrared converts varibles from plugin.spec to dict, there is some limitations
and following example won't work.

For example:
  example-key: value
  example-key-foo: value1
  example-key-bar: value2

Change-Id: I50ca550d225e52ba44b76a70b1db1c34088b77d9
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/49/587749/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'infrared_plugin/main.yml']",2,aa2e40eb25d5c51af6be13d26607bf1091ced91f,," workload_disk: ""{{ install.upgrade.workloaddisk }}"" workload_vcpu: ""{{ install.upgrade.workloadvcpu }}"" workload_swap: ""{{ install.upgrade.workloadswap }}"""," workload_disk: ""{{ install.upgrade.workload.disk }}"" workload_vcpu: ""{{ install.upgrade.workload.vcpu }}"" workload_swap: ""{{ install.upgrade.workload.swap }}""",6,6
openstack%2Fpuppet-tripleo~stable%2Fpike~I1570f59be977773ba8a0ff1222b57f88a9954ca8,openstack/puppet-tripleo,stable/pike,I1570f59be977773ba8a0ff1222b57f88a9954ca8,Remove notification_driver parameter from heat profile,MERGED,2018-07-25 03:54:20.000000000,2018-08-01 15:52:27.000000000,2018-08-01 15:52:27.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-25 03:54:20.000000000', 'files': ['manifests/profile/base/heat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e958ecf38b2ebfa0e9e7a9b0f330f8a34cb806e7', 'message': ""Remove notification_driver parameter from heat profile\n\nThe service profile has a default that overrides the one set either\nby 'NotificationDriver' parameter or 'heat::notification_driver' in\nExtraConfig.\n\nThis parameter is not there in any other service profile and can\nbe removed as it's not used by the service.\n\nChange-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8\nCloses-Bug: #1782720\n(cherry picked from commit 77a158bdd8ce13800d61b262a27b00e91945dba2)\n""}]",0,585617,e958ecf38b2ebfa0e9e7a9b0f330f8a34cb806e7,11,6,1,8833,,,0,"Remove notification_driver parameter from heat profile

The service profile has a default that overrides the one set either
by 'NotificationDriver' parameter or 'heat::notification_driver' in
ExtraConfig.

This parameter is not there in any other service profile and can
be removed as it's not used by the service.

Change-Id: I1570f59be977773ba8a0ff1222b57f88a9954ca8
Closes-Bug: #1782720
(cherry picked from commit 77a158bdd8ce13800d61b262a27b00e91945dba2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/585617/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/heat.pp'],1,e958ecf38b2ebfa0e9e7a9b0f330f8a34cb806e7,bug/1782720-stable/pike,,"# [*notification_driver*] # (Optional) Heat notification driver to use. # Defaults to 'messaging' # $notification_driver = 'messaging', notification_driver => $notification_driver,",0,6
openstack%2Fopenstack-ansible-openstack_hosts~master~I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc,openstack/openstack-ansible-openstack_hosts,master,I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc,"Revert ""Revert ""Install virtualenv for CentOS via distro packages""""",MERGED,2018-08-01 12:31:31.000000000,2018-08-01 15:50:48.000000000,2018-08-01 15:50:48.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 12:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d05dcf74e2563e686c551cf3b0bbaf9343608cf9', 'message': 'Revert ""Revert ""Install virtualenv for CentOS via distro packages""""\n\nThis reverts commit fd585081adff0f7885413f270b2de73e721a8996.\n\nThe failures when trying to install pip for CentOS were not due to\nthe pip/setuptools/wheel packages, but instead due to the\ninclusion of the virtualenv package in the list. With the dependent\npatch, that is removed, so pip/setuptools/wheel should install\njust fine.\n\nChange-Id: I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc\nDepends-On: https://review.openstack.org/587798\n'}, {'number': 2, 'created': '2018-08-01 15:20:37.000000000', 'files': ['vars/redhat-7.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/dd7d498fd4a5402159d7b12e803c279bbcc88537', 'message': 'Revert ""Revert ""Install virtualenv for CentOS via distro packages""""\n\nThis reverts commit fd585081adff0f7885413f270b2de73e721a8996.\n\nThe failures when trying to install pip for CentOS were not due to\nthe pip/setuptools/wheel packages, but instead due to the\ninclusion of the virtualenv package in the list. With the dependent\npatch, that is removed, so pip/setuptools/wheel should install\njust fine.\n\nChange-Id: I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc\nDepends-On: https://review.openstack.org/587798\n'}]",0,587801,dd7d498fd4a5402159d7b12e803c279bbcc88537,15,6,2,6816,,,0,"Revert ""Revert ""Install virtualenv for CentOS via distro packages""""

This reverts commit fd585081adff0f7885413f270b2de73e721a8996.

The failures when trying to install pip for CentOS were not due to
the pip/setuptools/wheel packages, but instead due to the
inclusion of the virtualenv package in the list. With the dependent
patch, that is removed, so pip/setuptools/wheel should install
just fine.

Change-Id: I8648dc3dd3ee04ac31a9497bf6a8c677374f1afc
Depends-On: https://review.openstack.org/587798
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/01/587801/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-7.yml'],1,d05dcf74e2563e686c551cf3b0bbaf9343608cf9,bp/python-build-install-simplification,_openstack_host_distro_packages: - python-virtualenv,_openstack_host_distro_packages: [],2,1
openstack%2Fheat~stable%2Fpike~Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,openstack/heat,stable/pike,Ic25c35098cff8b68e184a336b21f2e8df70bb1ee,Ignore RESOLVE translation errors when translating before_props,MERGED,2018-07-31 07:44:45.000000000,2018-08-01 15:48:56.000000000,2018-08-01 15:48:56.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 07:44:45.000000000', 'files': ['heat/tests/test_translation_rule.py', 'heat/engine/properties.py', 'heat/engine/translation.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/123976539ccb687c53998f2d68e54d4a25fd0c8d', 'message': ""Ignore RESOLVE translation errors when translating before_props\n\nWhen translating name to id, if we don't find the resource it's\nbetter to ignore the error and return the non-translated value\nfor before properties.\n\nChange-Id: Ic25c35098cff8b68e184a336b21f2e8df70bb1ee\nStory: #2003015\nTask: 23103\n(cherry picked from commit 8c39f3bb8b08ad37cb5411b448ef2acde6345d55)\n""}]",0,587322,123976539ccb687c53998f2d68e54d4a25fd0c8d,8,3,1,8833,,,0,"Ignore RESOLVE translation errors when translating before_props

When translating name to id, if we don't find the resource it's
better to ignore the error and return the non-translated value
for before properties.

Change-Id: Ic25c35098cff8b68e184a336b21f2e8df70bb1ee
Story: #2003015
Task: 23103
(cherry picked from commit 8c39f3bb8b08ad37cb5411b448ef2acde6345d55)
",git fetch https://review.opendev.org/openstack/heat refs/changes/22/587322/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_translation_rule.py', 'heat/engine/properties.py', 'heat/engine/translation.py', 'heat/engine/resource.py']",4,123976539ccb687c53998f2d68e54d4a25fd0c8d,fix_translation-stable/pike," client_resolve=True, ignore_resolve_error=False): properties.update_translation( rules, client_resolve=client_resolve, ignore_resolve_error=ignore_resolve_error) self.translate_properties(before_props, ignore_resolve_error=True)"," client_resolve=True): properties.update_translation(rules, client_resolve=client_resolve) self.translate_properties(before_props)",57,14
openstack%2Fopenstack-ansible-os_tempest~master~I905c13066e49cbbce232de2fc04f0977e2548bb8,openstack/openstack-ansible-os_tempest,master,I905c13066e49cbbce232de2fc04f0977e2548bb8,Use generic vars file for ubuntu,MERGED,2018-08-01 10:37:30.000000000,2018-08-01 15:29:23.000000000,2018-08-01 15:29:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:37:30.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/da8f2b354603e9b7b20e5f10c6c501ac676c192f', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: I905c13066e49cbbce232de2fc04f0977e2548bb8\n'}]",0,587755,da8f2b354603e9b7b20e5f10c6c501ac676c192f,7,3,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I905c13066e49cbbce232de2fc04f0977e2548bb8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/55/587755/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,da8f2b354603e9b7b20e5f10c6c501ac676c192f,bionic-vars,,,0,31
openstack%2Fopenstack-ansible-pip_install~master~I26046ab20cef0012a2d6c52c29827908f2d9f81c,openstack/openstack-ansible-pip_install,master,I26046ab20cef0012a2d6c52c29827908f2d9f81c,"Revert ""defaults: Add virtualenv to default pip packages""",MERGED,2018-08-01 12:26:27.000000000,2018-08-01 15:25:38.000000000,2018-08-01 15:25:38.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-08-01 12:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/03e016e7dcf0e34b2535fdf228ef040dfe65f917', 'message': 'Revert ""defaults: Add virtualenv to default pip packages""\n\nThis reverts commit d14847189419d479373c3734cbfebd3fdc9c1e15.\n\nIn order to install the virtualenv package using a distribution package\nin the openstack_hosts role, we need to remove it from being installed\nhere.\n\nChange-Id: I26046ab20cef0012a2d6c52c29827908f2d9f81c\n'}, {'number': 2, 'created': '2018-08-01 14:49:18.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/889b1248ea2050b7db4281c8ce7d76b79a2da8b5', 'message': 'Revert ""defaults: Add virtualenv to default pip packages""\n\nThis reverts commit d14847189419d479373c3734cbfebd3fdc9c1e15.\n\nIn order to install the virtualenv package using a distribution package\nin the openstack_hosts role, we need to remove it from being installed\nhere.\n\nChange-Id: I26046ab20cef0012a2d6c52c29827908f2d9f81c\n'}]",0,587798,889b1248ea2050b7db4281c8ce7d76b79a2da8b5,11,5,2,6816,,,0,"Revert ""defaults: Add virtualenv to default pip packages""

This reverts commit d14847189419d479373c3734cbfebd3fdc9c1e15.

In order to install the virtualenv package using a distribution package
in the openstack_hosts role, we need to remove it from being installed
here.

Change-Id: I26046ab20cef0012a2d6c52c29827908f2d9f81c
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/98/587798/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,03e016e7dcf0e34b2535fdf228ef040dfe65f917,bp/python-build-install-simplification,# wheel and any other packages which must be installed when pip installs.,"# virtualenv, wheel and any other packages which must be installed when pip installs. - virtualenv",1,2
openstack%2Fsolum~master~Ia78a9bc915e1ebda1d5cd11a73595dc08d624415,openstack/solum,master,Ia78a9bc915e1ebda1d5cd11a73595dc08d624415,Remove the unuesd sample conf,MERGED,2018-08-01 13:18:46.000000000,2018-08-01 15:16:43.000000000,2018-08-01 15:16:43.000000000,"[{'_account_id': 14107}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-01 13:18:46.000000000', 'files': ['devstack/solum.conf.sample'], 'web_link': 'https://opendev.org/openstack/solum/commit/ed8555b4302d8b4790857c8a0ba74e6f6ec01ac1', 'message': 'Remove the unuesd sample conf\n\nChange-Id: Ia78a9bc915e1ebda1d5cd11a73595dc08d624415\n'}]",0,587820,ed8555b4302d8b4790857c8a0ba74e6f6ec01ac1,7,3,1,14107,,,0,"Remove the unuesd sample conf

Change-Id: Ia78a9bc915e1ebda1d5cd11a73595dc08d624415
",git fetch https://review.opendev.org/openstack/solum refs/changes/20/587820/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/solum.conf.sample'],1,ed8555b4302d8b4790857c8a0ba74e6f6ec01ac1,,,"[DEFAULT] # # From oslo.log # # If set to true, the logging level will be set to DEBUG instead of the default # INFO level. (boolean value) # Note: This option can be changed without restarting. #debug = false # The name of a logging configuration file. This file is appended to any # existing logging configuration files. For details about logging configuration # files, see the Python logging module documentation. Note that when logging # configuration files are used then all logging configuration is set in the # configuration file and other logging configuration options are ignored (for # example, logging_context_format_string). (string value) # Note: This option can be changed without restarting. # Deprecated group/name - [DEFAULT]/log_config #log_config_append = <None> # Defines the format string for %%(asctime)s in log records. Default: # %(default)s . This option is ignored if log_config_append is set. (string # value) #log_date_format = %Y-%m-%d %H:%M:%S # (Optional) Name of log file to send logging output to. If no default is set, # logging will go to stderr as defined by use_stderr. This option is ignored if # log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logfile #log_file = <None> # (Optional) The base directory used for relative log_file paths. This option # is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logdir #log_dir = <None> # Uses logging handler designed to watch file system. When log file is moved or # removed this handler will open a new log file with specified path # instantaneously. It makes sense only if log_file option is specified and # Linux platform is used. This option is ignored if log_config_append is set. # (boolean value) #watch_log_file = false # Use syslog for logging. Existing syslog format is DEPRECATED and will be # changed later to honor RFC5424. This option is ignored if log_config_append # is set. (boolean value) #use_syslog = false # Enable journald for logging. If running in a systemd environment you may wish # to enable journal support. Doing so will use the journal native protocol # which includes structured metadata in addition to log messages.This option is # ignored if log_config_append is set. (boolean value) #use_journal = false # Syslog facility to receive log lines. This option is ignored if # log_config_append is set. (string value) #syslog_log_facility = LOG_USER # Log output to standard error. This option is ignored if log_config_append is # set. (boolean value) #use_stderr = false # Format string to use for log messages with context. (string value) #logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages when context is undefined. (string # value) #logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Additional data to append to log message when logging level for the message # is DEBUG. (string value) #logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. (string value) #logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s # Defines the format string for %(user_identity)s that is used in # logging_context_format_string. (string value) #logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s # List of package logging levels in logger=LEVEL pairs. This option is ignored # if log_config_append is set. (list value) #default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,dogpile.core.dogpile=INFO # Enables or disables publication of error events. (boolean value) #publish_errors = false # The format for an instance that is passed with the log message. (string # value) #instance_format = ""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log message. (string # value) #instance_uuid_format = ""[instance: %(uuid)s] "" # Interval, number of seconds, of log rate limiting. (integer value) #rate_limit_interval = 0 # Maximum number of logged messages per rate_limit_interval. (integer value) #rate_limit_burst = 0 # Log level name used by rate limiting: CRITICAL, ERROR, INFO, WARNING, DEBUG # or empty string. Logs with level greater or equal to rate_limit_except_level # are not filtered. An empty string means that all levels are filtered. (string # value) #rate_limit_except_level = CRITICAL # Enables or disables fatal status of deprecations. (boolean value) #fatal_deprecations = false # # From oslo.messaging # # Size of RPC connection pool. (integer value) #rpc_conn_pool_size = 30 # The pool size limit for connections expiration policy (integer value) #conn_pool_min_size = 2 # The time-to-live in sec of idle connections in the pool (integer value) #conn_pool_ttl = 1200 # ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP. # The ""host"" option should point or resolve to this address. (string value) #rpc_zmq_bind_address = * # MatchMaker driver. (string value) # Allowed values: redis, sentinel, dummy #rpc_zmq_matchmaker = redis # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts = 1 # Maximum number of ingress messages to locally buffer per topic. Default is # unlimited. (integer value) #rpc_zmq_topic_backlog = <None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir = /var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP address. Must match # ""host"" option, if running Nova. (string value) #rpc_zmq_host = localhost # Number of seconds to wait before all pending messages will be sent after # closing a socket. The default value of -1 specifies an infinite linger # period. The value of 0 specifies no linger period. Pending messages shall be # discarded immediately when the socket is closed. Positive values specify an # upper bound for the linger period. (integer value) # Deprecated group/name - [DEFAULT]/rpc_cast_timeout #zmq_linger = -1 # The default number of seconds that poll should wait. Poll raises timeout # exception when timeout expired. (integer value) #rpc_poll_timeout = 1 # Expiration timeout in seconds of a name service record about existing target # ( < 0 means no timeout). (integer value) #zmq_target_expire = 300 # Update period in seconds of a name service record about existing target. # (integer value) #zmq_target_update = 180 # Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean # value) #use_pub_sub = false # Use ROUTER remote proxy. (boolean value) #use_router_proxy = false # This option makes direct connections dynamic or static. It makes sense only # with use_router_proxy=False which means to use direct connections for direct # message types (ignored otherwise). (boolean value) #use_dynamic_connections = false # How many additional connections to a host will be made for failover reasons. # This option is actual only in dynamic connections mode. (integer value) #zmq_failover_connections = 2 # Minimal port number for random ports range. (port value) # Minimum value: 0 # Maximum value: 65535 #rpc_zmq_min_port = 49153 # Maximal port number for random ports range. (integer value) # Minimum value: 1 # Maximum value: 65536 #rpc_zmq_max_port = 65536 # Number of retries to find free port number before fail with ZMQBindError. # (integer value) #rpc_zmq_bind_port_retries = 100 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #rpc_zmq_serialization = json # This option configures round-robin mode in zmq socket. True means not keeping # a queue when server side disconnects. False means to keep queue and messages # even if server is disconnected, when the server appears we send all # accumulated messages to it. (boolean value) #zmq_immediate = true # Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any # other negative value) means to skip any overrides and leave it to OS default; # 0 and 1 (or any other positive value) mean to disable and enable the option # respectively. (integer value) #zmq_tcp_keepalive = -1 # The duration between two keepalive transmissions in idle condition. The unit # is platform dependent, for example, seconds in Linux, milliseconds in Windows # etc. The default value of -1 (or any other negative value and 0) means to # skip any overrides and leave it to OS default. (integer value) #zmq_tcp_keepalive_idle = -1 # The number of retransmissions to be carried out before declaring that remote # end is not available. The default value of -1 (or any other negative value # and 0) means to skip any overrides and leave it to OS default. (integer # value) #zmq_tcp_keepalive_cnt = -1 # The duration between two successive keepalive retransmissions, if # acknowledgement to the previous keepalive transmission is not received. The # unit is platform dependent, for example, seconds in Linux, milliseconds in # Windows etc. The default value of -1 (or any other negative value and 0) # means to skip any overrides and leave it to OS default. (integer value) #zmq_tcp_keepalive_intvl = -1 # Maximum number of (green) threads to work concurrently. (integer value) #rpc_thread_pool_size = 100 # Expiration timeout in seconds of a sent/received message after which it is # not tracked anymore by a client/server. (integer value) #rpc_message_ttl = 300 # Wait for message acknowledgements from receivers. This mechanism works only # via proxy without PUB/SUB. (boolean value) #rpc_use_acks = false # Number of seconds to wait for an ack from a cast/call. After each retry # attempt this timeout is multiplied by some specified multiplier. (integer # value) #rpc_ack_timeout_base = 15 # Number to multiply base ack timeout by after each retry attempt. (integer # value) #rpc_ack_timeout_multiplier = 2 # Default number of message sending attempts in case of any problems occurred: # positive value N means at most N retries, 0 means no retries, None or -1 (or # any other negative values) mean to retry forever. This option is used only if # acknowledgments are enabled. (integer value) #rpc_retry_attempts = 3 # List of publisher hosts SubConsumer can subscribe on. This option has higher # priority then the default publishers list taken from the matchmaker. (list # value) #subscribe_on = # Size of executor thread pool when executor is threading or eventlet. (integer # value) # Deprecated group/name - [DEFAULT]/rpc_thread_pool_size #executor_thread_pool_size = 64 # Seconds to wait for a response from a call. (integer value) #rpc_response_timeout = 60 # A URL representing the messaging driver to use and its full configuration. # (string value) #transport_url = <None> # DEPRECATED: The messaging driver to use, defaults to rabbit. Other drivers # include amqp and zmq. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rpc_backend = rabbit # The default exchange under which topics are scoped. May be overridden by an # exchange name specified in the transport_url option. (string value) #control_exchange = openstack # # From solum.api.app # # Maximum raw byte size of a plan (integer value) #max_plan_size = 65536 # # From solum.api.auth # # This option enables or disables user authentication via keystone. Default # value is True. (boolean value) #enable_authentication = true # # From solum.api.release # # The current build of Solum. (string value) #release = openstack # # From solum.common.catalog # # The location the source code. (string value) #source_path = # # From solum.common.clients # # Region of endpoint in Identity service catalog to use for all clients. # (string value) #region_name = RegionOne # # From solum.common.context # # Tenant id of global admin (string value) #solum_admin_tenant_id = # # From solum.common.exception # # make exception message format errors fatal (boolean value) #fatal_exception_format_errors = false # # From solum.common.solum_keystoneclient # # The keystone version to use with Solum (string value) #keystone_version = 3 # Subset of trustor roles to be delegated to solum. (list value) #trusts_delegated_roles = solum_assembly_update [api] # # From solum.api.app # # The port for the solum API server (integer value) #port = 9777 # The listen IP for the solum API server (unknown value) #host = 127.0.0.1 # Maximum number of application allowed per tenant (integer value) #max_apps_per_tenant = 10 # # From solum.api.handlers.assembly_handler # # The format of the image to output (string value) #image_format = qcow2 # The format of source repository (string value) #source_format = heroku # Comment phrase to trigger rebuilding (string value) #rebuild_phrase = solum retry tests # # From solum.api.handlers.language_pack_handler # # Tenant id of the operator account used to create LPs (string value) #operator_project_id = # Maximum number of languagepacks allowed (integer value) #max_languagepack_limit = 10 # # From solum.api.handlers.plan_handler # # Tells where to store system generated parameters, e.g. deploy keys for # cloning a private repo. Options: database, barbican, local_file. Defaults to # database (string value) #system_param_store = database # The local file to store system generated parameters when system_param_store # is set to 'local_file' (string value) #system_param_file = /etc/solum/secrets/git_secrets.db # # From solum.api.handlers.workflow_handler # # The format of the image to output (string value) #image_format = qcow2 # The format of source repository (string value) #source_format = heroku # Comment phrase to trigger rebuilding (string value) #rebuild_phrase = solum retry tests # Application scale limit (integer value) #max_instances_per_app = 100 # # From solum.common.repo_utils # # Timeout value in seconds for sending http requests (integer value) #http_request_timeout = 2 [barbican_client] # # From solum.common.clients # # If set, then the server's certificate for barbican will not be verified. # (boolean value) #insecure = false [camp] # # From solum.api.controllers.root # # Enable/disable support for the OASIS CAMP API. Default value is True. # (boolean value) #camp_enabled = true [conductor] # # From solum.conductor.config # # The queue to add conductor tasks to (string value) #topic = solum-conductor # The location of the conductor rpc queue (unknown value) #host = localhost [cors] # # From oslo.middleware.cors # # Indicate whether this resource may be shared with the domain received in the # requests ""origin"" header. Format: ""<protocol>://<host>[:<port>]"", no trailing # slash. Example: https://horizon.example.com (list value) #allowed_origin = <None> # Indicate that the actual request can include user credentials (boolean value) #allow_credentials = true # Indicate which headers are safe to expose to the API. Defaults to HTTP Simple # Headers. (list value) #expose_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token # Maximum cache age of CORS preflight requests. (integer value) #max_age = 3600 # Indicate which methods can be used during the actual request. (list value) #allow_methods = GET,PUT,POST,DELETE,PATCH # Indicate which header field names may be used during the actual request. # (list value) #allow_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token [database] # # From oslo.db # # If True, SQLite uses synchronous mode. (boolean value) #sqlite_synchronous = true # The back end to use for the database. (string value) # Deprecated group/name - [DEFAULT]/db_backend #backend = sqlalchemy # The SQLAlchemy connection string to use to connect to the database. (string # value) # Deprecated group/name - [DEFAULT]/sql_connection # Deprecated group/name - [DATABASE]/sql_connection # Deprecated group/name - [sql]/connection #connection = <None> # The SQLAlchemy connection string to use to connect to the slave database. # (string value) #slave_connection = <None> # The SQL mode to be used for MySQL sessions. This option, including the # default, overrides any server-set SQL mode. To use whatever SQL mode is set # by the server configuration, set this to no value. Example: mysql_sql_mode= # (string value) #mysql_sql_mode = TRADITIONAL # If True, transparently enables support for handling MySQL Cluster (NDB). # (boolean value) #mysql_enable_ndb = false # Timeout before idle SQL connections are reaped. (integer value) # Deprecated group/name - [DEFAULT]/sql_idle_timeout # Deprecated group/name - [DATABASE]/sql_idle_timeout # Deprecated group/name - [sql]/idle_timeout #idle_timeout = 3600 # Minimum number of SQL connections to keep open in a pool. (integer value) # Deprecated group/name - [DEFAULT]/sql_min_pool_size # Deprecated group/name - [DATABASE]/sql_min_pool_size #min_pool_size = 1 # Maximum number of SQL connections to keep open in a pool. Setting a value of # 0 indicates no limit. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_pool_size # Deprecated group/name - [DATABASE]/sql_max_pool_size #max_pool_size = 5 # Maximum number of database connection retries during startup. Set to -1 to # specify an infinite retry count. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_retries # Deprecated group/name - [DATABASE]/sql_max_retries #max_retries = 10 # Interval between retries of opening a SQL connection. (integer value) # Deprecated group/name - [DEFAULT]/sql_retry_interval # Deprecated group/name - [DATABASE]/reconnect_interval #retry_interval = 10 # If set, use this value for max_overflow with SQLAlchemy. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_overflow # Deprecated group/name - [DATABASE]/sqlalchemy_max_overflow #max_overflow = 50 # Verbosity of SQL debugging information: 0=None, 100=Everything. (integer # value) # Minimum value: 0 # Maximum value: 100 # Deprecated group/name - [DEFAULT]/sql_connection_debug #connection_debug = 0 # Add Python stack traces to SQL as comment strings. (boolean value) # Deprecated group/name - [DEFAULT]/sql_connection_trace #connection_trace = false # If set, use this value for pool_timeout with SQLAlchemy. (integer value) # Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout #pool_timeout = <None> # Enable the experimental use of database reconnect on connection lost. # (boolean value) #use_db_reconnect = false # Seconds between retries of a database transaction. (integer value) #db_retry_interval = 1 # If True, increases the interval between retries of a database operation up to # db_max_retry_interval. (boolean value) #db_inc_retry_interval = true # If db_inc_retry_interval is set, the maximum seconds between retries of a # database operation. (integer value) #db_max_retry_interval = 10 # Maximum retries in case of connection error or deadlock error before error is # raised. Set to -1 to specify an infinite retry count. (integer value) #db_max_retries = 20 # # From solum.objects # # The version of the schema that should be running: 'old', 'transition', 'new' # (string value) #schema_mode = new [deployer] # # From solum.deployer.config # # The queue to add deployer tasks to (string value) #topic = solum-deployer # The location of the deployer rpc queue (unknown value) #host = localhost # The deployer endpoint to deploy (string value) #handler = heat # # From solum.deployer.handlers.heat # # Number of attempts to query the Heat stack for finding out the status of the # created stack and getting url of the DU created in the stack (integer value) #max_attempts = 600 # Number of attempts to query the Docker DU for finding out the status of the # created app and getting url of the DU created in the stack (integer value) #du_attempts = 500 # Sleep time interval between two attempts of querying the Heat stack. This # interval is in seconds. (integer value) #wait_interval = 1 # Factor by which sleep time interval increases. This value should be >= 1.0 # (floating point value) #growth_factor = 1.1 # VM Flavor (string value) #flavor = m1.small # Image id (string value) #image = coreos # keypair name (string value) #key_name = mykey # Deployer logs location (string value) #deployer_log_dir = /var/log/solum/deployer [glance_client] # # From solum.common.clients # # Type of endpoint in Identity service catalog to use for communication with # the Glance service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = [heat_client] # # From solum.common.clients # # Type of endpoint in Identity service catalog to use for communication with # the OpenStack service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = # Optional CA cert file to use in SSL connections. (string value) #ca_file = <None> # Optional PEM-formatted certificate chain file. (string value) #cert_file = <None> # Optional PEM-formatted file that contains the private key. (string value) #key_file = <None> # If set, then the server's certificate will not be verified. (boolean value) #insecure = false [keystone_authtoken] # # From keystonemiddleware.auth_token # # Complete ""public"" Identity API endpoint. This endpoint should not be an # ""admin"" endpoint, as it should be accessible by all end users. # Unauthenticated clients are redirected to this endpoint to authenticate. # Although this endpoint should ideally be unversioned, client support in the # wild varies. If you're using a versioned v2 endpoint here, then this should # *not* be the same endpoint the service user utilizes for validating tokens, # because normal end users may not be able to reach that endpoint. (string # value) #www_authenticate_uri = <None> # API version of the admin Identity API endpoint. (string value) #auth_version = <None> # Do not handle authorization requests within the middleware, but delegate the # authorization decision to downstream WSGI components. (boolean value) #delay_auth_decision = false # Request timeout value for communicating with Identity API server. (integer # value) #http_connect_timeout = <None> # How many times are we trying to reconnect when communicating with Identity # API Server. (integer value) #http_request_max_retries = 3 # Request environment key where the Swift cache object is stored. When # auth_token middleware is deployed with a Swift cache, use this option to have # the middleware share a caching backend with swift. Otherwise, use the # ``memcached_servers`` option instead. (string value) #cache = <None> # Required if identity server requires client certificate (string value) #certfile = <None> # Required if identity server requires client certificate (string value) #keyfile = <None> # A PEM encoded Certificate Authority to use when verifying HTTPs connections. # Defaults to system CAs. (string value) #cafile = <None> # Verify HTTPS connections. (boolean value) #insecure = false # The region in which the identity server can be found. (string value) #region_name = <None> # DEPRECATED: Directory used to cache files related to PKI tokens. This option # has been deprecated in the Ocata release and will be removed in the P # release. (string value) # This option is deprecated for removal since Ocata. # Its value may be silently ignored in the future. # Reason: PKI token format is no longer supported. #signing_dir = <None> # Optionally specify a list of memcached server(s) to use for caching. If left # undefined, tokens will instead be cached in-process. (list value) # Deprecated group/name - [keystone_authtoken]/memcache_servers #memcached_servers = <None> # In order to prevent excessive effort spent validating tokens, the middleware # caches previously-seen tokens for a configurable duration (in seconds). Set # to -1 to disable caching completely. (integer value) #token_cache_time = 300 # DEPRECATED: Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of revocation # events combined with a low cache duration may significantly reduce # performance. Only valid for PKI tokens. This option has been deprecated in # the Ocata release and will be removed in the P release. (integer value) # This option is deprecated for removal since Ocata. # Its value may be silently ignored in the future. # Reason: PKI token format is no longer supported. #revocation_cache_time = 10 # (Optional) If defined, indicate whether token data should be authenticated or # authenticated and encrypted. If MAC, token data is authenticated (with HMAC) # in the cache. If ENCRYPT, token data is encrypted and authenticated in the # cache. If the value is not one of these options or empty, auth_token will # raise an exception on initialization. (string value) # Allowed values: None, MAC, ENCRYPT #memcache_security_strategy = None # (Optional, mandatory if memcache_security_strategy is defined) This string is # used for key derivation. (string value) #memcache_secret_key = <None> # (Optional) Number of seconds memcached server is considered dead before it is # tried again. (integer value) #memcache_pool_dead_retry = 300 # (Optional) Maximum total number of open connections to every memcached # server. (integer value) #memcache_pool_maxsize = 10 # (Optional) Socket timeout in seconds for communicating with a memcached # server. (integer value) #memcache_pool_socket_timeout = 3 # (Optional) Number of seconds a connection to memcached is held unused in the # pool before it is closed. (integer value) #memcache_pool_unused_timeout = 60 # (Optional) Number of seconds that an operation will wait to get a memcached # client connection from the pool. (integer value) #memcache_pool_conn_get_timeout = 10 # (Optional) Use the advanced (eventlet safe) memcached client pool. The # advanced pool will only work under python 2.x. (boolean value) #memcache_use_advanced_pool = false # (Optional) Indicate whether to set the X-Service-Catalog header. If False, # middleware will not ask for service catalog on token validation and will not # set the X-Service-Catalog header. (boolean value) #include_service_catalog = true # Used to control the use and type of token binding. Can be set to: ""disabled"" # to not check token binding. ""permissive"" (default) to validate binding # information if the bind type is of a form known to the server and ignore it # if not. ""strict"" like ""permissive"" but if the bind type is unknown the token # will be rejected. ""required"" any form of token binding is needed to be # allowed. Finally the name of a binding method that must be present in tokens. # (string value) #enforce_token_bind = permissive # DEPRECATED: If true, the revocation list will be checked for cached tokens. # This requires that PKI tokens are configured on the identity server. (boolean # value) # This option is deprecated for removal since Ocata. # Its value may be silently ignored in the future. # Reason: PKI token format is no longer supported. #check_revocations_for_cached = false # DEPRECATED: Hash algorithms to use for hashing PKI tokens. This may be a # single algorithm or multiple. The algorithms are those supported by Python # standard hashlib.new(). The hashes will be tried in the order given, so put # the preferred one first for performance. The result of the first hash will be # stored in the cache. This will typically be set to multiple values only while # migrating from a less secure algorithm to a more secure one. Once all the old # tokens are expired this option should be set to a single value for better # performance. (list value) # This option is deprecated for removal since Ocata. # Its value may be silently ignored in the future. # Reason: PKI token format is no longer supported. #hash_algorithms = md5 # A choice of roles that must be present in a service token. Service tokens are # allowed to request that an expired token can be used and so this check should # tightly control that only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list must be present. # For backwards compatibility reasons this currently only affects the # allow_expired check. (list value) #service_token_roles = service # For backwards compatibility reasons we must let valid service tokens pass # that don't pass the service_token_roles check as valid. Setting this true # will become the default in a future release and should be enabled if # possible. (boolean value) #service_token_roles_required = false # Authentication type to load (string value) # Deprecated group/name - [keystone_authtoken]/auth_plugin #auth_type = <None> # Config Section from which to load plugin specific options (string value) #auth_section = <None> [matchmaker_redis] # # From oslo.messaging # # DEPRECATED: Host to locate redis. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #host = 127.0.0.1 # DEPRECATED: Use this port to connect to redis host. (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #port = 6379 # DEPRECATED: Password for Redis server (optional). (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #password = # DEPRECATED: List of Redis Sentinel hosts (fault tolerance mode), e.g., # [host:port, host1:port ... ] (list value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #sentinel_hosts = # Redis replica set name. (string value) #sentinel_group_name = oslo-messaging-zeromq # Time in ms to wait between connection attempts. (integer value) #wait_timeout = 2000 # Time in ms to wait before the transaction is killed. (integer value) #check_timeout = 20000 # Timeout in ms on blocking socket operations. (integer value) #socket_timeout = 10000 [mistral_client] # # From solum.common.clients # # Type of endpoint in Identity service catalog to use for communication with # the mistral service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = # Optional CA cert file to use in SSL connections with Mistral. (string value) #cacert = <None> # If set the server certificate will not be verified while using Mistral. # (boolean value) #insecure = false [neutron_client] # # From solum.common.clients # # Type of endpoint in Identity service catalog to use for communication with # the Neutron service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = # Optional CA bundle file to use in SSL connections. (string value) #ca_cert = <None> # If set, then the server's certificate for neutron will not be verified. # (boolean value) #insecure = false [oslo_messaging_amqp] # # From oslo.messaging # # Name for the AMQP container. must be globally unique. Defaults to a generated # UUID (string value) #container_name = <None> # Timeout for inactive connections (in seconds) (integer value) #idle_timeout = 0 # Debug: dump AMQP frames to stdout (boolean value) #trace = false # Attempt to connect via SSL. If no other ssl-related parameters are given, it # will use the system's CA-bundle to verify the server's certificate. (boolean # value) #ssl = false # CA certificate PEM file used to verify the server's certificate (string # value) #ssl_ca_file = # Self-identifying certificate PEM file for client authentication (string # value) #ssl_cert_file = # Private key PEM file used to sign ssl_cert_file certificate (optional) # (string value) #ssl_key_file = # Password for decrypting ssl_key_file (if encrypted) (string value) #ssl_key_password = <None> # DEPRECATED: Accept clients using either SSL or plain TCP (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Not applicable - not a SSL server #allow_insecure_clients = false # Space separated list of acceptable SASL mechanisms (string value) #sasl_mechanisms = # Path to directory that contains the SASL configuration (string value) #sasl_config_dir = # Name of configuration file (without .conf suffix) (string value) #sasl_config_name = # SASL realm to use if no realm present in username (string value) #sasl_default_realm = # DEPRECATED: User name for message broker authentication (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Should use configuration option transport_url to provide the # username. #username = # DEPRECATED: Password for message broker authentication (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Should use configuration option transport_url to provide the # password. #password = # Seconds to pause before attempting to re-connect. (integer value) # Minimum value: 1 #connection_retry_interval = 1 # Increase the connection_retry_interval by this many seconds after each # unsuccessful failover attempt. (integer value) # Minimum value: 0 #connection_retry_backoff = 2 # Maximum limit for connection_retry_interval + connection_retry_backoff # (integer value) # Minimum value: 1 #connection_retry_interval_max = 30 # Time to pause between re-connecting an AMQP 1.0 link that failed due to a # recoverable error. (integer value) # Minimum value: 1 #link_retry_delay = 10 # The maximum number of attempts to re-send a reply message which failed due to # a recoverable error. (integer value) # Minimum value: -1 #default_reply_retry = 0 # The deadline for an rpc reply message delivery. (integer value) # Minimum value: 5 #default_reply_timeout = 30 # The deadline for an rpc cast or call message delivery. Only used when caller # does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_send_timeout = 30 # The deadline for a sent notification message delivery. Only used when caller # does not provide a timeout expiry. (integer value) # Minimum value: 5 #default_notify_timeout = 30 # The duration to schedule a purge of idle sender links. Detach link after # expiry. (integer value) # Minimum value: 1 #default_sender_link_timeout = 600 # Indicates the addressing mode used by the driver. # Permitted values: # 'legacy' - use legacy non-routable addressing # 'routable' - use routable addresses # 'dynamic' - use legacy addresses if the message bus does not support routing # otherwise use routable addressing (string value) #addressing_mode = dynamic # address prefix used when sending to a specific server (string value) #server_request_prefix = exclusive # address prefix used when broadcasting to all servers (string value) #broadcast_prefix = broadcast # address prefix when sending to any server in group (string value) #group_request_prefix = unicast # Address prefix for all generated RPC addresses (string value) #rpc_address_prefix = openstack.org/om/rpc # Address prefix for all generated Notification addresses (string value) #notify_address_prefix = openstack.org/om/notify # Appended to the address prefix when sending a fanout message. Used by the # message bus to identify fanout messages. (string value) #multicast_address = multicast # Appended to the address prefix when sending to a particular RPC/Notification # server. Used by the message bus to identify messages sent to a single # destination. (string value) #unicast_address = unicast # Appended to the address prefix when sending to a group of consumers. Used by # the message bus to identify messages that should be delivered in a round- # robin fashion across consumers. (string value) #anycast_address = anycast # Exchange name used in notification addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_notification_exchange if set # else control_exchange if set # else 'notify' (string value) #default_notification_exchange = <None> # Exchange name used in RPC addresses. # Exchange name resolution precedence: # Target.exchange if set # else default_rpc_exchange if set # else control_exchange if set # else 'rpc' (string value) #default_rpc_exchange = <None> # Window size for incoming RPC Reply messages. (integer value) # Minimum value: 1 #reply_link_credit = 200 # Window size for incoming RPC Request messages (integer value) # Minimum value: 1 #rpc_server_credit = 100 # Window size for incoming Notification messages (integer value) # Minimum value: 1 #notify_server_credit = 100 # Send messages of this type pre-settled. # Pre-settled messages will not receive acknowledgement # from the peer. Note well: pre-settled messages may be # silently discarded if the delivery fails. # Permitted values: # 'rpc-call' - send RPC Calls pre-settled # 'rpc-reply'- send RPC Replies pre-settled # 'rpc-cast' - Send RPC Casts pre-settled # 'notify' - Send Notifications pre-settled # (multi valued) #pre_settled = rpc-cast #pre_settled = rpc-reply [oslo_messaging_kafka] # # From oslo.messaging # # DEPRECATED: Default Kafka broker Host (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #kafka_default_host = localhost # DEPRECATED: Default Kafka broker Port (port value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #kafka_default_port = 9092 # Max fetch bytes of Kafka consumer (integer value) #kafka_max_fetch_bytes = 1048576 # Default timeout(s) for Kafka consumers (floating point value) #kafka_consumer_timeout = 1.0 # Pool Size for Kafka Consumers (integer value) #pool_size = 10 # The pool size limit for connections expiration policy (integer value) #conn_pool_min_size = 2 # The time-to-live in sec of idle connections in the pool (integer value) #conn_pool_ttl = 1200 # Group id for Kafka consumer. Consumers in one group will coordinate message # consumption (string value) #consumer_group = oslo_messaging_consumer # Upper bound on the delay for KafkaProducer batching in seconds (floating # point value) #producer_batch_timeout = 0.0 # Size of batch for the producer async send (integer value) #producer_batch_size = 16384 [oslo_messaging_notifications] # # From oslo.messaging # # The Drivers(s) to handle sending notifications. Possible values are # messaging, messagingv2, routing, log, test, noop (multi valued) # Deprecated group/name - [DEFAULT]/notification_driver #driver = # A URL representing the messaging driver to use for notifications. If not set, # we fall back to the same configuration used for RPC. (string value) # Deprecated group/name - [DEFAULT]/notification_transport_url #transport_url = <None> # AMQP topic used for OpenStack notifications. (list value) # Deprecated group/name - [rpc_notifier2]/topics # Deprecated group/name - [DEFAULT]/notification_topics #topics = notifications # The maximum number of attempts to re-send a notification message which failed # to be delivered due to a recoverable error. 0 - No retry, -1 - indefinite # (integer value) #retry = -1 [oslo_messaging_rabbit] # # From oslo.messaging # # Use durable queues in AMQP. (boolean value) # Deprecated group/name - [DEFAULT]/amqp_durable_queues # Deprecated group/name - [DEFAULT]/rabbit_durable_queues #amqp_durable_queues = false # Auto-delete queues in AMQP. (boolean value) #amqp_auto_delete = false # Enable SSL (boolean value) #ssl = <None> # SSL version to use (valid only if SSL enabled). Valid values are TLSv1 and # SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be available on some # distributions. (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_version #ssl_version = # SSL key file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_keyfile #ssl_key_file = # SSL cert file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_certfile #ssl_cert_file = # SSL certification authority file (valid only if SSL enabled). (string value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_ca_certs #ssl_ca_file = # How long to wait before reconnecting in response to an AMQP consumer cancel # notification. (floating point value) #kombu_reconnect_delay = 1.0 # EXPERIMENTAL: Possible values are: gzip, bz2. If not set compression will not # be used. This option may not be available in future versions. (string value) #kombu_compression = <None> # How long to wait a missing client before abandoning to send it its replies. # This value should not be longer than rpc_response_timeout. (integer value) # Deprecated group/name - [oslo_messaging_rabbit]/kombu_reconnect_timeout #kombu_missing_consumer_retry_timeout = 60 # Determines how the next RabbitMQ node is chosen in case the one we are # currently connected to becomes unavailable. Takes effect only if more than # one RabbitMQ node is provided in config. (string value) # Allowed values: round-robin, shuffle #kombu_failover_strategy = round-robin # DEPRECATED: The RabbitMQ broker address where a single node is used. (string # value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_host = localhost # DEPRECATED: The RabbitMQ broker port where a single node is used. (port # value) # Minimum value: 0 # Maximum value: 65535 # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_port = 5672 # DEPRECATED: RabbitMQ HA cluster host:port pairs. (list value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_hosts = $rabbit_host:$rabbit_port # DEPRECATED: The RabbitMQ userid. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_userid = guest # DEPRECATED: The RabbitMQ password. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_password = guest # The RabbitMQ login method. (string value) # Allowed values: PLAIN, AMQPLAIN, RABBIT-CR-DEMO #rabbit_login_method = AMQPLAIN # DEPRECATED: The RabbitMQ virtual host. (string value) # This option is deprecated for removal. # Its value may be silently ignored in the future. # Reason: Replaced by [DEFAULT]/transport_url #rabbit_virtual_host = / # How frequently to retry connecting with RabbitMQ. (integer value) #rabbit_retry_interval = 1 # How long to backoff for between retries when connecting to RabbitMQ. (integer # value) #rabbit_retry_backoff = 2 # Maximum interval of RabbitMQ connection retries. Default is 30 seconds. # (integer value) #rabbit_interval_max = 30 # DEPRECATED: Maximum number of RabbitMQ connection retries. Default is 0 # (infinite retry count). (integer value) # This option is deprecated for removal. # Its value may be silently ignored in the future. #rabbit_max_retries = 0 # Try to use HA queues in RabbitMQ (x-ha-policy: all). If you change this # option, you must wipe the RabbitMQ database. In RabbitMQ 3.0, queue mirroring # is no longer controlled by the x-ha-policy argument when declaring a queue. # If you just want to make sure that all queues (except those with auto- # generated names) are mirrored across all nodes, run: ""rabbitmqctl set_policy # HA '^(?!amq\.).*' '{""ha-mode"": ""all""}' "" (boolean value) #rabbit_ha_queues = false # Positive integer representing duration in seconds for queue TTL (x-expires). # Queues which are unused for the duration of the TTL are automatically # deleted. The parameter affects only reply and fanout queues. (integer value) # Minimum value: 1 #rabbit_transient_queues_ttl = 1800 # Specifies the number of messages to prefetch. Setting to zero allows # unlimited messages. (integer value) #rabbit_qos_prefetch_count = 0 # Number of seconds after which the Rabbit broker is considered down if # heartbeat's keep-alive fails (0 disable the heartbeat). EXPERIMENTAL (integer # value) #heartbeat_timeout_threshold = 60 # How often times during the heartbeat_timeout_threshold we check the # heartbeat. (integer value) #heartbeat_rate = 2 # Deprecated, use rpc_backend=kombu+memory or rpc_backend=fake (boolean value) #fake_rabbit = false # Maximum number of channels to allow (integer value) #channel_max = <None> # The maximum byte size for an AMQP frame (integer value) #frame_max = <None> # How often to send heartbeats for consumer's connections (integer value) #heartbeat_interval = 3 # Arguments passed to ssl.wrap_socket (dict value) #ssl_options = <None> # Set socket timeout in seconds for connection's socket (floating point value) #socket_timeout = 0.25 # Set TCP_USER_TIMEOUT in seconds for connection's socket (floating point # value) #tcp_user_timeout = 0.25 # Set delay for reconnection to some host which has connection error (floating # point value) #host_connection_reconnect_delay = 0.25 # Connection factory implementation (string value) # Allowed values: new, single, read_write #connection_factory = single # Maximum number of connections to keep queued. (integer value) #pool_max_size = 30 # Maximum number of connections to create above `pool_max_size`. (integer # value) #pool_max_overflow = 0 # Default number of seconds to wait for a connections to available (integer # value) #pool_timeout = 30 # Lifetime of a connection (since creation) in seconds or None for no # recycling. Expired connections are closed on acquire. (integer value) #pool_recycle = 600 # Threshold at which inactive (since release) connections are considered stale # in seconds or None for no staleness. Stale connections are closed on acquire. # (integer value) #pool_stale = 60 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #default_serializer_type = json # Persist notification messages. (boolean value) #notification_persistence = false # Exchange name for sending notifications (string value) #default_notification_exchange = ${control_exchange}_notification # Max number of not acknowledged message which RabbitMQ can send to # notification listener. (integer value) #notification_listener_prefetch_count = 100 # Reconnecting retry count in case of connectivity problem during sending # notification, -1 means infinite retry. (integer value) #default_notification_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during sending # notification message (floating point value) #notification_retry_delay = 0.25 # Time to live for rpc queues without consumers in seconds. (integer value) #rpc_queue_expiration = 60 # Exchange name for sending RPC messages (string value) #default_rpc_exchange = ${control_exchange}_rpc # Exchange name for receiving RPC replies (string value) #rpc_reply_exchange = ${control_exchange}_rpc_reply # Max number of not acknowledged message which RabbitMQ can send to rpc # listener. (integer value) #rpc_listener_prefetch_count = 100 # Max number of not acknowledged message which RabbitMQ can send to rpc reply # listener. (integer value) #rpc_reply_listener_prefetch_count = 100 # Reconnecting retry count in case of connectivity problem during sending # reply. -1 means infinite retry during rpc_timeout (integer value) #rpc_reply_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during sending # reply. (floating point value) #rpc_reply_retry_delay = 0.25 # Reconnecting retry count in case of connectivity problem during sending RPC # message, -1 means infinite retry. If actual retry attempts in not 0 the rpc # request could be processed more than one time (integer value) #default_rpc_retry_attempts = -1 # Reconnecting retry delay in case of connectivity problem during sending RPC # message (floating point value) #rpc_retry_delay = 0.25 [oslo_messaging_zmq] # # From oslo.messaging # # ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP. # The ""host"" option should point or resolve to this address. (string value) #rpc_zmq_bind_address = * # MatchMaker driver. (string value) # Allowed values: redis, sentinel, dummy #rpc_zmq_matchmaker = redis # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts = 1 # Maximum number of ingress messages to locally buffer per topic. Default is # unlimited. (integer value) #rpc_zmq_topic_backlog = <None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir = /var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP address. Must match # ""host"" option, if running Nova. (string value) #rpc_zmq_host = localhost # Number of seconds to wait before all pending messages will be sent after # closing a socket. The default value of -1 specifies an infinite linger # period. The value of 0 specifies no linger period. Pending messages shall be # discarded immediately when the socket is closed. Positive values specify an # upper bound for the linger period. (integer value) # Deprecated group/name - [DEFAULT]/rpc_cast_timeout #zmq_linger = -1 # The default number of seconds that poll should wait. Poll raises timeout # exception when timeout expired. (integer value) #rpc_poll_timeout = 1 # Expiration timeout in seconds of a name service record about existing target # ( < 0 means no timeout). (integer value) #zmq_target_expire = 300 # Update period in seconds of a name service record about existing target. # (integer value) #zmq_target_update = 180 # Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean # value) #use_pub_sub = false # Use ROUTER remote proxy. (boolean value) #use_router_proxy = false # This option makes direct connections dynamic or static. It makes sense only # with use_router_proxy=False which means to use direct connections for direct # message types (ignored otherwise). (boolean value) #use_dynamic_connections = false # How many additional connections to a host will be made for failover reasons. # This option is actual only in dynamic connections mode. (integer value) #zmq_failover_connections = 2 # Minimal port number for random ports range. (port value) # Minimum value: 0 # Maximum value: 65535 #rpc_zmq_min_port = 49153 # Maximal port number for random ports range. (integer value) # Minimum value: 1 # Maximum value: 65536 #rpc_zmq_max_port = 65536 # Number of retries to find free port number before fail with ZMQBindError. # (integer value) #rpc_zmq_bind_port_retries = 100 # Default serialization mechanism for serializing/deserializing # outgoing/incoming messages (string value) # Allowed values: json, msgpack #rpc_zmq_serialization = json # This option configures round-robin mode in zmq socket. True means not keeping # a queue when server side disconnects. False means to keep queue and messages # even if server is disconnected, when the server appears we send all # accumulated messages to it. (boolean value) #zmq_immediate = true # Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any # other negative value) means to skip any overrides and leave it to OS default; # 0 and 1 (or any other positive value) mean to disable and enable the option # respectively. (integer value) #zmq_tcp_keepalive = -1 # The duration between two keepalive transmissions in idle condition. The unit # is platform dependent, for example, seconds in Linux, milliseconds in Windows # etc. The default value of -1 (or any other negative value and 0) means to # skip any overrides and leave it to OS default. (integer value) #zmq_tcp_keepalive_idle = -1 # The number of retransmissions to be carried out before declaring that remote # end is not available. The default value of -1 (or any other negative value # and 0) means to skip any overrides and leave it to OS default. (integer # value) #zmq_tcp_keepalive_cnt = -1 # The duration between two successive keepalive retransmissions, if # acknowledgement to the previous keepalive transmission is not received. The # unit is platform dependent, for example, seconds in Linux, milliseconds in # Windows etc. The default value of -1 (or any other negative value and 0) # means to skip any overrides and leave it to OS default. (integer value) #zmq_tcp_keepalive_intvl = -1 # Maximum number of (green) threads to work concurrently. (integer value) #rpc_thread_pool_size = 100 # Expiration timeout in seconds of a sent/received message after which it is # not tracked anymore by a client/server. (integer value) #rpc_message_ttl = 300 # Wait for message acknowledgements from receivers. This mechanism works only # via proxy without PUB/SUB. (boolean value) #rpc_use_acks = false # Number of seconds to wait for an ack from a cast/call. After each retry # attempt this timeout is multiplied by some specified multiplier. (integer # value) #rpc_ack_timeout_base = 15 # Number to multiply base ack timeout by after each retry attempt. (integer # value) #rpc_ack_timeout_multiplier = 2 # Default number of message sending attempts in case of any problems occurred: # positive value N means at most N retries, 0 means no retries, None or -1 (or # any other negative values) mean to retry forever. This option is used only if # acknowledgments are enabled. (integer value) #rpc_retry_attempts = 3 # List of publisher hosts SubConsumer can subscribe on. This option has higher # priority then the default publishers list taken from the matchmaker. (list # value) #subscribe_on = [swift_client] # # From solum.common.clients # # Type of endpoint in Identity service catalog to use for communication with # the Swift service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = # Optional CA cert file to use in SSL connections. (string value) #cacert = <None> # If set the server certificate will not be verified. (boolean value) #insecure = false [worker] # # From solum.worker.config # # The queue to add build tasks to (string value) #topic = solum-worker # The location of the build rpc queue (unknown value) #host = localhost # The worker endpoint to employ (string value) #handler = shell # The directory containing task log output. (string value) #task_log_dir = /var/log/solum/worker # The directory containing the project's code, especially the contrib # directory. (string value) #proj_dir = # The prefix of test log URL to be sent back (string value) #log_url_prefix = http://localhost/ # Upload task log to central storage, using modules like swift and local from # solum/uploaders. (string value) #log_upload_strategy = local # The name of the Swift container to upload logs to. (string value) #log_upload_swift_container = solum-logs # The path of param files to save to. (string value) #param_file_path = /tmp/solum # Image storage backend. This includes images created for LanguagePacks and # Deployment Units. Possible values are docker_registry, swift and glance. # (string value) #image_storage = glance # Docker registry endpoint (string value) #docker_reg_endpoint = 127.0.0.1 # Delete cached docker images and git repos from the worker node after building # languagepacks and deployment units. Valid options are true or false. (string # value) #delete_local_cache = false # Region name to use (string value) #region_name = RegionOne # Secret to use with temp url (string value) #temp_url_secret = secret # Protocol to use with temp url. Options are http/https (string value) #temp_url_protocol = http # TTL in seconds. (string value) #temp_url_ttl = 604800 # url to the container where LPs are stored. (string value) #lp_location_url = # Options for downloading operator LPs.Possible values are ""wget"" or ""swift- # client"" (string value) #operator_lp_download_strategy = swift-client # LP operator username. (string value) #lp_operator_user = demo # LP operator password. (string value) #lp_operator_password = solum # LP operator tenant name. (string value) #lp_operator_tenant_name = demo # docker daemon url. (string value) #docker_daemon_url = unix://var/run/docker.sock # max memory a container can consume. No limit by default (integer value) #container_mem_limit = 0 # max time a docker build can take. Default: 30 minutes (integer value) #docker_build_timeout = 1800 [zaqar_client] # # From solum.common.clients # # Type of endpoint in Queue service catalog to use for communication with the # Zaqar service. (string value) #endpoint_type = publicURL # Region of endpoint in Identity service catalog to use. (string value) #region_name = # If set, then the server's certificate for zaqar will not be verified. # (boolean value) #insecure = false ",0,1729
openstack%2Frally-openstack~master~Ie0920b4a6a0a357404329a38d2d87ff3c345c940,openstack/rally-openstack,master,Ie0920b4a6a0a357404329a38d2d87ff3c345c940,[trival] fix the indent of roles key,MERGED,2018-07-31 02:11:36.000000000,2018-08-01 15:10:00.000000000,2018-08-01 15:09:59.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-31 02:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/01475623b6f25dba9df54b4197baebf2dc770d61', 'message': '[trival] fix the indent of roles key\n\nChange-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940\n'}, {'number': 2, 'created': '2018-07-31 02:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e523b2bda375c2075a8da18db19437f88117e844', 'message': '[trival] fix the indent of roles key\n\nChange-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940\n'}, {'number': 3, 'created': '2018-07-31 03:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a0abe36f3c55a4ec00e48bde3e72c4fb15958d00', 'message': '[trival] fix the indent of roles key\n\nChange-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940\n'}, {'number': 4, 'created': '2018-08-01 07:22:29.000000000', 'files': ['tests/ci/playbooks/run-rally-task.yaml', '.zuul.d/README.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1d689ab5f7a8d72aab4008efef90b57a27ca7c78', 'message': '[trival] fix the indent of roles key\n\nChange-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940\n'}]",0,587265,1d689ab5f7a8d72aab4008efef90b57a27ca7c78,18,3,4,21528,,,0,"[trival] fix the indent of roles key

Change-Id: Ie0920b4a6a0a357404329a38d2d87ff3c345c940
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/65/587265/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/run-rally-task.yaml'],1,01475623b6f25dba9df54b4197baebf2dc770d61,trival, - run-devstack - prepare-for-rally-task - snapshot-available-os-resources - run-rally-task - process-task-results - import-task-results - check-os-resources - check-task-sla, - run-devstack - prepare-for-rally-task - snapshot-available-os-resources - run-rally-task - process-task-results - import-task-results - check-os-resources - check-task-sla,8,8
openstack%2Fbarbican~master~I4dc552587391ad2245ee2fdfa20ce178da2efbe0,openstack/barbican,master,I4dc552587391ad2245ee2fdfa20ce178da2efbe0,Adding support for 512-Bit-Secret-Creation when using xts-mode,MERGED,2018-06-21 09:04:30.000000000,2018-08-01 15:07:04.000000000,2018-08-01 15:07:03.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10068}, {'_account_id': 11561}, {'_account_id': 19554}, {'_account_id': 22348}, {'_account_id': 28271}]","[{'number': 1, 'created': '2018-06-21 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/df977a47856c242b7d8891fc1b1762cb89013499', 'message': 'Adding support for 512-Bit-Secret-Creation when using xts-mode\n\nBy default barbican checks only the algorithm and the bit_length when\ncreating a new secret. The xts-mode cuts the key in half for aes, so\nfor using aes-256 with xts, you have to use a 512 bit key, but\nbarbican allows only a maximum of 256 bit.\nFor this reason, it was necessary to add a check for the mode within\nthe _is_algorithm_supported method of the class SimpleCryptoPlugin.\nWhen mode xts is set, it now checks, if the half of the key-length is\nin the list of supported bit-length. So when using xts-mode, 512 bit\nkeys are now supported, but 64 bit keys are not because they would\nresult in a 32 bit aes key, which would be too short. Maybe there are\nother modes too, which change the effective key-length, so the new\nlength_factor was added, to make it easier to add other modes like xts\ntoo.\nIn the future their could be a list of supported modes together with\nits key changing factor.\n\nChange-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0\nStory: 2002612\n'}, {'number': 2, 'created': '2018-06-22 08:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b237859faac7fb7c095bccf4eb4336ae827b6ba5', 'message': 'Adding support for 512-Bit-Secret-Creation when using xts-mode\n\nBy default barbican checks only the algorithm and the bit_length when\ncreating a new secret. The xts-mode cuts the key in half for aes, so\nfor using aes-256 with xts, you have to use a 512 bit key, but\nbarbican allows only a maximum of 256 bit.\nFor this reason, it was necessary to add a check for the mode within\nthe _is_algorithm_supported method of the class SimpleCryptoPlugin.\nWhen mode xts is set, it now checks, if the half of the key-length is\nin the list of supported bit-length. So when using xts-mode, 512 bit\nkeys are now supported, but 64 bit keys are not because they would\nresult in a 32 bit aes key, which would be too short. Maybe there are\nother modes too, which change the effective key-length, so the new\nlength_factor was added, to make it easier to add other modes like xts\ntoo.\nIn the future their could be a list of supported modes together with\nits key changing factor.\n\nChange-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0\nStory: 2002612\n'}, {'number': 3, 'created': '2018-06-25 11:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4b4b9e72aef32e3509557d444b8ba88619b4820d', 'message': 'Adding support for 512-Bit-Secret-Creation when using xts-mode\n\nBy default barbican checks only the algorithm and the bit_length when\ncreating a new secret. The xts-mode cuts the key in half for aes, so\nfor using aes-256 with xts, you have to use a 512 bit key, but\nbarbican allows only a maximum of 256 bit.\nFor this reason, it was necessary to add a check for the mode within\nthe _is_algorithm_supported method of the class SimpleCryptoPlugin.\nWhen mode xts is set, it now checks, if the half of the key-length is\nin the list of supported bit-length. So when using xts-mode, 512 bit\nkeys are now supported, but 64 bit keys are not because they would\nresult in a 32 bit aes key, which would be too short. Maybe there are\nother modes too, which change the effective key-length, so the new\nlength_factor was added, to make it easier to add other modes like xts\ntoo.\nIn the future their could be a list of supported modes together with\nits key changing factor.\n\nChange-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0\nStory: 2002612\n'}, {'number': 4, 'created': '2018-07-31 13:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/69b5126476e6e1330ee674d2a4cf19dcfe64ee9f', 'message': 'Adding support for 512-Bit-Secret-Creation when using xts-mode\n\nBy default barbican checks only the algorithm and the bit_length when\ncreating a new secret. The xts-mode cuts the key in half for aes, so\nfor using aes-256 with xts, you have to use a 512 bit key, but\nbarbican allows only a maximum of 256 bit.\nFor this reason, it was necessary to add a check for the mode within\nthe _is_algorithm_supported method of the class SimpleCryptoPlugin.\nWhen mode xts is set, it now checks, if the half of the key-length is\nin the list of supported bit-length. So when using xts-mode, 512 bit\nkeys are now supported, but 64 bit keys are not because they would\nresult in a 32 bit aes key, which would be too short. Maybe there are\nother modes too, which change the effective key-length, so the new\nlength_factor was added, to make it easier to add other modes like xts\ntoo.\nIn the future their could be a list of supported modes together with\nits key changing factor.\n\nChange-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0\nStory: 2002612\n'}, {'number': 5, 'created': '2018-08-01 06:02:45.000000000', 'files': ['barbican/plugin/crypto/simple_crypto.py', 'releasenotes/notes/allow-aes-xts-512-bitlength-in-simple-crypto-95936a2d830035cc.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/abd65a1e5097a14a537b6c09cf5db66ab7c4e08e', 'message': 'Adding support for 512-Bit-Secret-Creation when using xts-mode\n\nBy default barbican checks only the algorithm and the bit_length when\ncreating a new secret. The xts-mode cuts the key in half for aes, so\nfor using aes-256 with xts, you have to use a 512 bit key, but\nbarbican allows only a maximum of 256 bit.\nFor this reason, it was necessary to add a check for the mode within\nthe _is_algorithm_supported method of the class SimpleCryptoPlugin.\nWhen mode xts is set, it now checks, if the half of the key-length is\nin the list of supported bit-length. So when using xts-mode, 512 bit\nkeys are now supported, but 64 bit keys are not because they would\nresult in a 32 bit aes key, which would be too short. Maybe there are\nother modes too, which change the effective key-length, so the new\nlength_factor was added, to make it easier to add other modes like xts\ntoo.\nIn the future their could be a list of supported modes together with\nits key changing factor.\n\nChange-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0\nStory: 2002612\n'}]",2,577096,abd65a1e5097a14a537b6c09cf5db66ab7c4e08e,25,7,5,28271,,,0,"Adding support for 512-Bit-Secret-Creation when using xts-mode

By default barbican checks only the algorithm and the bit_length when
creating a new secret. The xts-mode cuts the key in half for aes, so
for using aes-256 with xts, you have to use a 512 bit key, but
barbican allows only a maximum of 256 bit.
For this reason, it was necessary to add a check for the mode within
the _is_algorithm_supported method of the class SimpleCryptoPlugin.
When mode xts is set, it now checks, if the half of the key-length is
in the list of supported bit-length. So when using xts-mode, 512 bit
keys are now supported, but 64 bit keys are not because they would
result in a 32 bit aes key, which would be too short. Maybe there are
other modes too, which change the effective key-length, so the new
length_factor was added, to make it easier to add other modes like xts
too.
In the future their could be a list of supported modes together with
its key changing factor.

Change-Id: I4dc552587391ad2245ee2fdfa20ce178da2efbe0
Story: 2002612
",git fetch https://review.opendev.org/openstack/barbican refs/changes/96/577096/4 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/crypto/simple_crypto.py'],1,df977a47856c242b7d8891fc1b1762cb89013499,barbican_aes_xts_512_bit_addon," bit_length, mode) bit_length, mode) def _is_algorithm_supported(self, algorithm=None, bit_length=None, mode=""""): length_factor = 1 # xts-mode cut the effective key for the algorithm in half, # so the bit_length must be the double of the supported length. # in the future their should be a validation of supported modes too if mode.lower() == ""xts"": length_factor = 2 if (algorithm.lower() in c.PluginSupportTypes.SYMMETRIC_ALGORITHMS and bit_length/length_factor in c.PluginSupportTypes.SYMMETRIC_KEY_LENGTHS):"," bit_length) bit_length) def _is_algorithm_supported(self, algorithm=None, bit_length=None): if (algorithm.lower() in c.PluginSupportTypes.SYMMETRIC_ALGORITHMS and bit_length in c.PluginSupportTypes.SYMMETRIC_KEY_LENGTHS):",14,6
openstack%2Fopenstack-ansible-nspawn_hosts~master~Id36db9f678eebeb8d035a5448fe9c040781ce020,openstack/openstack-ansible-nspawn_hosts,master,Id36db9f678eebeb8d035a5448fe9c040781ce020,Use generic vars file for ubuntu,ABANDONED,2018-08-01 10:40:06.000000000,2018-08-01 15:04:22.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:40:06.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/4cbee0231816b7a5d05af30cdd867348ec5bb11c', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: Id36db9f678eebeb8d035a5448fe9c040781ce020\n'}]",0,587761,4cbee0231816b7a5d05af30cdd867348ec5bb11c,8,4,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: Id36db9f678eebeb8d035a5448fe9c040781ce020
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/61/587761/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,4cbee0231816b7a5d05af30cdd867348ec5bb11c,bionic-vars,,,0,62
openstack%2Fopenstack-ansible-nspawn_container_create~master~I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f,openstack/openstack-ansible-nspawn_container_create,master,I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f,Use generic vars file for ubuntu,ABANDONED,2018-08-01 10:38:25.000000000,2018-08-01 15:04:07.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 10:38:25.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/11edf18ece6949b9c723900078f7abcecf8f4713', 'message': 'Use generic vars file for ubuntu\n\nThese vars work for both Xenial and Bionic\n\nChange-Id: I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f\n'}]",0,587756,11edf18ece6949b9c723900078f7abcecf8f4713,8,4,1,6816,,,0,"Use generic vars file for ubuntu

These vars work for both Xenial and Bionic

Change-Id: I0e238ea8786c41c10c2f5a8dc69876cb7b0b8e9f
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/56/587756/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml']",2,11edf18ece6949b9c723900078f7abcecf8f4713,bionic-vars,,,0,33
openstack%2Fmistral~master~Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc,openstack/mistral,master,Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc,Add user creds trusts to db,ABANDONED,2017-05-03 09:43:49.000000000,2018-08-01 15:02:18.000000000,,"[{'_account_id': 4328}, {'_account_id': 7065}, {'_account_id': 14025}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-03 09:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/65a48c07a9a36f760d9cfab0776330f1624ad507', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 2, 'created': '2017-05-09 07:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/173dc2540ff04515dcfa56bc974e20ef758e08aa', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 3, 'created': '2017-05-10 11:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/647baecbb24f02c30dae42958d6094ab54519635', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 4, 'created': '2017-05-10 12:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1462c7c0dc87f6dde64a04fdfdb9c909f262a6cb', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 5, 'created': '2017-05-11 13:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/66c391913dcd124a712ab0b79e2d15cf312e6957', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 6, 'created': '2017-05-12 14:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0621c95a535c0c03c8cd95bd6ff0ca2e8f8c6965', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 7, 'created': '2017-05-12 15:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a05265dc14c9fb86c03a6eece9158ff730f415f6', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 8, 'created': '2017-05-15 09:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9b343d3361449824ce2c4c3f977be31feadb5794', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 9, 'created': '2018-06-07 13:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/95d4080e283011725b0ea9f77b11ec3cffb09cf3', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 10, 'created': '2018-06-07 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/def07b5fa7a247c632e2d687949cefedbd38eecd', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\n'}, {'number': 11, 'created': '2018-06-07 14:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d9014ff5afd33bca7fb8d3895242c01db677d220', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\n'}, {'number': 12, 'created': '2018-07-16 15:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/283831ed6374f96dcad581621c99b2170eecfa58', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\n'}, {'number': 13, 'created': '2018-07-17 13:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/314448855a58af99451626b32d46d6f744e504fa', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\nDepends-On: I1f42836ec549a3e56681af29738868bf5896e971\n'}, {'number': 14, 'created': '2018-07-17 20:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bca1b7ee79461889f41184dd1338cc9dab38f454', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\nDepends-On: I1f42836ec549a3e56681af29738868bf5896e971\n'}, {'number': 15, 'created': '2018-07-17 21:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8c7cb7d761d5c616d4bbc85541a8ada3eaddc418', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\nDepends-On: I1f42836ec549a3e56681af29738868bf5896e971\n'}, {'number': 16, 'created': '2018-07-18 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8bf574afb9b828b5ee52c1ec82140ea15374a8dd', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nPartial-Bug: #1595084\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\nDepends-On: I1f42836ec549a3e56681af29738868bf5896e971\n'}, {'number': 17, 'created': '2018-07-18 14:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4795725122683f9b6c4aeb43dedbc1344ec765d1', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\n'}, {'number': 18, 'created': '2018-07-19 12:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/01eb970d5e29bf2f8b98f1b40a0f96ef766d7ac5', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\n'}, {'number': 19, 'created': '2018-07-19 16:57:00.000000000', 'files': ['mistral/context.py', 'mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/028_add_user_creds_trusts.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/24c5e5f886f480d2442feb6762b721efb21356a9', 'message': 'Add user creds trusts to db\n\nA new table is created to store the user creds trusts.\n\nChange-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034\n'}]",0,462056,24c5e5f886f480d2442feb6762b721efb21356a9,52,4,19,14025,,,0,"Add user creds trusts to db

A new table is created to store the user creds trusts.

Change-Id: Ia2a19a3fcd8808475a16d4d439e085e62a00dfdc
Closes-Bug: #1595084
Closes-Bug: #1761050
Depends-On: If6ff496fe562c1f7ec76cb7e38e89300b4880034
",git fetch https://review.opendev.org/openstack/mistral refs/changes/56/462056/16 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/context.py', 'mistral/db/v2/api.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/021_add_user_creds_trusts.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py']",6,65a48c07a9a36f760d9cfab0776330f1624ad507,req-projects," user_creds_id = sa.Column( sa.Integer, sa.ForeignKey('user_creds.id') )class UserCreds(mb.MistralModelBase): """"""Represents user credentials. Also, mirrors the 'context' handed in by wsgi. Currently, this table is used for storing trust_id and trustor_user_id. Later on, it can be used to store information of user credentials if they are needed. """""" __tablename__ = 'user_creds' id = sa.Column(sa.Integer, primary_key=True) trust_id = sa.Column(sa.String(255)) trustor_user_id = sa.Column(sa.String(64)) wf_execution = relationship(WorkflowExecution, backref=backref('user_creds'), cascade_backrefs=False) ",,145,0
openstack%2Fopenstack-ansible-galera_client~master~Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4,openstack/openstack-ansible-galera_client,master,Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4,Remove bionic workaround,MERGED,2018-07-21 22:52:30.000000000,2018-08-01 15:00:06.000000000,2018-08-01 15:00:06.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-21 22:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/aed1c0f9399842f3893f5f6ee82cfb4b81d42c80', 'message': 'Remove bionic workaround\n\nThere is no need to use the artful release since bionic packages\nare present in the repo now.\n\nChange-Id: Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4\n'}, {'number': 2, 'created': '2018-07-21 22:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/05e9cdb4b4d3589761aca3a0365a358e74cfff76', 'message': 'Remove bionic workaround\n\nThere is no need to use the artful release since bionic packages\nare present in the repo now.\n\nChange-Id: Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4\n'}, {'number': 3, 'created': '2018-07-22 04:58:08.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/7eca83de1f34021a532c9a92e3392dad159b6f29', 'message': 'Remove bionic workaround\n\nThere is no need to use the artful release since bionic packages\nare present in the repo now.\n\nChange-Id: Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4\n'}]",0,584610,7eca83de1f34021a532c9a92e3392dad159b6f29,10,3,3,17799,,,0,"Remove bionic workaround

There is no need to use the artful release since bionic packages
are present in the repo now.

Change-Id: Ib1d78b5f2a22c52d4ab6612b1214ecbfe1428bc4
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/10/584610/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,aed1c0f9399842f3893f5f6ee82cfb4b81d42c80,bionic,"_galera_client_repo: ""deb {{ galera_client_repo_url }} {{ ansible_distribution_release }} main""","# Temporarily replace {{ ansible_distribution_release }} with artful, as bionic # support is not provided yet #_galera_client_repo: ""deb {{ galera_client_repo_url }} {{ ansible_distribution_release }} main"" _galera_client_repo: ""deb {{ galera_client_repo_url }} artful main""",1,4
openstack%2Floci~master~I7ac98db6538fbc49392b6f385645298bc1c6addd,openstack/loci,master,I7ac98db6538fbc49392b6f385645298bc1c6addd,Sort bindep.txt,MERGED,2018-07-17 14:00:59.000000000,2018-08-01 15:00:05.000000000,2018-08-01 15:00:05.000000000,"[{'_account_id': 1390}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-07-17 14:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/72fa14fb746a962c6314c4920b92d8f1b8d4d02a', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 2, 'created': '2018-07-17 18:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4260bf1ea01255c82558f2dfa306cc1e25651673', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 3, 'created': '2018-07-17 19:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4134b6a23fa070570f21c955893ddbb672145848', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions. Also\nadd a small check to the gate to make sure it and pydep.txt stay this\nway.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 4, 'created': '2018-07-17 20:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/cc0b769e77bbc5ee3782cb6192fa4e795bec15f8', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions. Also\nadd a small check to the gate to make sure it and pydep.txt stay this\nway.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 5, 'created': '2018-07-17 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/aa3c7c18a1a06cb4362af8588f94ef181b2d360d', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions. Also\nadd a small check to the gate to make sure it and pydep.txt stay this\nway.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 6, 'created': '2018-07-17 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/87300f2f0edb174e48da621dbcddb4d83e2a1a37', 'message': 'Lint the dep files\n\nAdd a small check to ensure the dep files stay sorted\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}, {'number': 7, 'created': '2018-07-17 23:00:20.000000000', 'files': ['bindep.txt', 'playbooks/loci-builder.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/3193983c1c3abba7e9df78befc2d84557f3ff872', 'message': 'Sort bindep.txt\n\nSort bindep.txt alphabetically to more easily allow new additions. Also\nadd a small check to the gate to make sure it and pydep.txt stay this\nway.\n\nChange-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd\n'}]",0,583253,3193983c1c3abba7e9df78befc2d84557f3ff872,21,6,7,1390,,,0,"Sort bindep.txt

Sort bindep.txt alphabetically to more easily allow new additions. Also
add a small check to the gate to make sure it and pydep.txt stay this
way.

Change-Id: I7ac98db6538fbc49392b6f385645298bc1c6addd
",git fetch https://review.opendev.org/openstack/loci refs/changes/53/583253/6 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,72fa14fb746a962c6314c4920b92d8f1b8d4d02a,583253,gcc [platform:rpm requirements]ipxe [platform:dpkg (ironic ipxe)]liberasurecode-dev [platform:dpkg requirements]libffi-dev [platform:dpkg requirements]libosinfo [platform:rpm nova]libvirt-bin [platform:dpkg (infra libvirt)] libvirt-devel [platform:rpm requirements] libvirt-dev [platform:dpkg requirements] libvirt [platform:rpm (infra libvirt)]libxml2-dev [platform:dpkg requirements]libxslt-devel [platform:rpm requirements]libyaml-dev [platform:dpkg requirements]openldap [platform:rpm (keystone ldap !python3)]python3-dev [platform:dpkg (requirements python3)]python-devel [platform:rpm (requirements !python3)] python-dev [platform:dpkg (requirements !python3)] python-rbd [(glance ceph !python3)]qemu [platform:dpkg (infra libvirt)]tftp-server [platform:rpm (ironic tftp)],gcc [platform:rpm requirements]ipxe [platform:dpkg (ironic ipxe)]liberasurecode-dev [platform:dpkg requirements]libffi-dev [platform:dpkg requirements]libosinfo [platform:rpm nova]libvirt [platform:rpm (infra libvirt)] libvirt-bin [platform:dpkg (infra libvirt)] libvirt-dev [platform:dpkg requirements] libvirt-devel [platform:rpm requirements]libxml2-dev [platform:dpkg requirements]libxslt-devel [platform:rpm requirements]libyaml-dev [platform:dpkg requirements]openldap [platform:rpm (keystone ldap !python3)]python-dev [platform:dpkg (requirements !python3)] python-devel [platform:rpm (requirements !python3)] python-rbd [(glance ceph !python3)] python3-dev [platform:dpkg (requirements python3)]qemu [platform:dpkg (infra libvirt)]tftp-server [platform:rpm (ironic tftp)],19,19
openstack%2Fsushy-tools~master~If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0,openstack/sushy-tools,master,If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0,Fix nova unit tests,MERGED,2018-07-27 09:50:01.000000000,2018-08-01 15:00:04.000000000,2018-08-01 15:00:04.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-07-27 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/c7c4c468d6eb82ad858fa26fd32bf67267ad7561', 'message': 'Fix nova unit tests assertions\n\nSomehow some of the mocks in the mocking harness\nescaped to the wild and lived their own life. They\ngot away with that just because of the accidental loss\nof `assert_` piece of the function name that is supposed\nto nail those loose mocks down.\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n'}, {'number': 2, 'created': '2018-07-27 15:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/40c3e1029fd8a74c195fec7755f1af85c4b6a5ac', 'message': 'Fix nova unit tests\n\nSomehow some of the mocks in the mocking harness\nescaped to the wild and lived their own life. They\ngot away with that just because of the accidental loss\nof `assert_` piece of the function name that is supposed\nto nail those loose mocks down.\n\nSpecifically, in nova unit tests:\n\n* Moved `openstack.connect` mocking to the class level\n* Fixed improper `power_state` value\n* Set up proper chain of mocks to address `.compute`\n* Fixed mocks assertions\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n'}, {'number': 3, 'created': '2018-07-30 11:21:00.000000000', 'files': ['sushy_tools/tests/unit/emulator/test_nova.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2d8cec3d68f45d0b0e3c515cf33e603dd3705ce7', 'message': 'Fix nova unit tests\n\nSomehow some of the mocks in the mocking harness\nescaped to the wild and lived their own life. They\ngot away with that just because of the accidental loss\nof `assert_` piece of the function name that is supposed\nto nail those loose mocks down.\n\nSpecifically, in nova unit tests:\n\n* Moved `openstack.connect` mocking to the class level\n* Fixed improper `power_state` value\n* Set up proper chain of mocks to address `.compute`\n* Fixed mocks assertions\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0\n'}]",4,586496,2d8cec3d68f45d0b0e3c515cf33e603dd3705ce7,16,5,3,26340,,,0,"Fix nova unit tests

Somehow some of the mocks in the mocking harness
escaped to the wild and lived their own life. They
got away with that just because of the accidental loss
of `assert_` piece of the function name that is supposed
to nail those loose mocks down.

Specifically, in nova unit tests:

* Moved `openstack.connect` mocking to the class level
* Fixed improper `power_state` value
* Set up proper chain of mocks to address `.compute`
* Fixed mocks assertions

This is a follow-up of change ID:

    I82032fd13a74d9aa77616dac3802d506b4a9c1cf

Change-Id: If8a479ae793c1616ef8b30e76bd8cdfdfc08dbe0
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/96/586496/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/tests/unit/emulator/test_nova.py'],1,c7c4c468d6eb82ad858fa26fd32bf67267ad7561,fix-nova-tests-assertions,"@mock.patch('openstack.connect', autospec=True) def test_system_resource_patch(self, nova_mock): nova_conn_mock = nova_mock.return_value server = mock.Mock(power_state=0) nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.set_server_metadata.assert_called_once_with( server.id, {'libvirt:pxe-first': ''}) def test_system_reset_action_on(self, nova_mock): nova_conn_mock = nova_mock.return_value server = mock.Mock(power_state=0) nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.start_server.assert_called_once_with(server.id) def test_system_reset_action_forceon(self, nova_mock): nova_conn_mock = nova_mock.return_value server = mock.Mock(power_state=0) nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.start_server.assert_called_once_with(server.id) def test_system_reset_action_forceoff(self, nova_mock): nova_conn_mock = nova_mock.return_value nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.stop_server.assert_called_once_with(server.id) def test_system_reset_action_shutdown(self, nova_mock): nova_conn_mock = nova_mock.return_value nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.stop_server.assert_called_once_with(server.id) def test_system_reset_action_restart(self, nova_mock): nova_conn_mock = nova_mock.return_value nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.reboot_server.assert_called_once_with( server.id, reboot_type='SOFT') def test_system_reset_action_forcerestart(self, nova_mock): nova_conn_mock = nova_mock.return_value nova_conn_mock.get_server.return_value = server nova_conn_mock.compute.reboot_server.assert_called_once_with( server.id, reboot_type='HARD')"," @mock.patch('openstack.connect', autospec=True) @mock.patch('openstack.connect', autospec=True) @mock.patch('openstack.connect', autospec=True) @mock.patch('openstack.connect', autospec=True) def test_system_resource_patch(self, nova_mock): server = nova_mock.return_value server.compute.set_server_metadata.called_once_with( {'libvirt:pxe-first': ''}) @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_on(self, nova_mock): server = mock.Mock(power_state=1) nova_mock.return_value.get_server.return_value = server server.compute.start_server.called_once() @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_forceon(self, nova_mock): server = mock.Mock(power_state=1) nova_mock.return_value.get_server.return_value = server server.compute.start_server.called_once() @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_forceoff(self, nova_mock): nova_mock.return_value.get_server.return_value = server server.compute.stop_server.called_once() @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_shutdown(self, nova_mock): nova_mock.return_value.get_server.return_value = server server.compute.stop_server.called_once() @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_restart(self, nova_mock): nova_mock.return_value.get_server.return_value = server server.compute.reboot_server.called_once() @mock.patch('openstack.connect', autospec=True) def test_system_reset_action_forcerestart(self, nova_mock): nova_mock.return_value.get_server.return_value = server server.compute.reboot_server.called_once()",30,27
openstack%2Fsushy-tools~master~I66a372973f71c4265b47eacb5098d8a900680ba0,openstack/sushy-tools,master,I66a372973f71c4265b47eacb5098d8a900680ba0,Clean up unit tests,MERGED,2018-07-26 09:38:56.000000000,2018-08-01 15:00:04.000000000,2018-08-01 15:00:04.000000000,"[{'_account_id': 10155}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26340}, {'_account_id': 27909}]","[{'number': 1, 'created': '2018-07-26 09:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e88cb95b3c072dd8d5462b934d6886c955efacbf', 'message': 'Clean up libvirt unit tests\n\n* Fix non-functional test\n* Make sure to initialize libvirt backend\n* Do not serialize json samples explicitly\n* Drop unittest stub file\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: I66a372973f71c4265b47eacb5098d8a900680ba0\n'}, {'number': 2, 'created': '2018-07-27 08:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4f0278ee0105e325e2ec7071f87ea78ac5c368dc', 'message': 'Clean up unit tests\n\n* Fix non-functional libvirt test\n* Make sure to initialize libvirt backend\n* Do not serialize json samples explicitly in libvirt test suite\n* Drop unittest stub file\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: I66a372973f71c4265b47eacb5098d8a900680ba0\n'}, {'number': 3, 'created': '2018-07-30 10:59:26.000000000', 'files': ['sushy_tools/tests/unit/test.py', 'sushy_tools/tests/unit/emulator/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7ae738a980697cae6c10b42a71e499dcb0bfa105', 'message': 'Clean up unit tests\n\n* Fix non-functional libvirt test\n* Make sure to initialize libvirt backend\n* Do not serialize json samples explicitly in libvirt test suite\n* Drop unittest stub file\n\nThis is a follow-up of change ID:\n\n    I82032fd13a74d9aa77616dac3802d506b4a9c1cf\n\nChange-Id: I66a372973f71c4265b47eacb5098d8a900680ba0\n'}]",2,586029,7ae738a980697cae6c10b42a71e499dcb0bfa105,18,7,3,26340,,,0,"Clean up unit tests

* Fix non-functional libvirt test
* Make sure to initialize libvirt backend
* Do not serialize json samples explicitly in libvirt test suite
* Drop unittest stub file

This is a follow-up of change ID:

    I82032fd13a74d9aa77616dac3802d506b4a9c1cf

Change-Id: I66a372973f71c4265b47eacb5098d8a900680ba0
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/29/586029/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/tests/unit/test.py', 'sushy_tools/tests/unit/emulator/test_libvirt.py']",2,e88cb95b3c072dd8d5462b934d6886c955efacbf,update-libvirt-tests,"@mock.patch.object(main, 'driver', None) # This enables libvirt driver self.assertTrue(response.json) self.assertEqual(200, response.status_code) self.assertEqual({'@odata.id': '/redfish/v1/Systems/host0'}, response.json['Members'][0]) self.assertEqual({'@odata.id': '/redfish/v1/Systems/host1'}, response.json['Members'][1]) data = {'Boot': {'BootSourceOverrideTarget': 'Cd'}} json=data) data = {'ResetType': 'On'} json=data) data = {'ResetType': 'ForceOn'} json=data) data = {'ResetType': 'ForceOff'} json=data) data = {'ResetType': 'GracefulShutdown'} json=data) data = {'ResetType': 'GracefulRestart'} json=data) data = {'ResetType': 'ForceRestart'} json=data) data = {'ResetType': 'Nmi'} json=data)","import json self.assertEqual(True, bool(response.json)) self.assertEqual(response.status_code, 200) hosts = ['/redfish/v1/Systems/%s' % x.values() for x in response.json['Members']] self.assertEqual(hosts, hosts) data0 = json.dumps({'Boot': {'BootSourceOverrideTarget': 'Cd'}}) data=data0, content_type='application/json') data = json.dumps({'ResetType': 'On'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'ForceOn'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'ForceOff'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'GracefulShutdown'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'GracefulRestart'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'ForceRestart'}) data=data, content_type='application/json') data = json.dumps({'ResetType': 'Nmi'}) data=data, content_type='application/json')",24,45
