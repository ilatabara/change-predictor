id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-specs~master~If5ce6573aa744523d1564f4ad750e37ef4dceaaa,openstack/neutron-specs,master,If5ce6573aa744523d1564f4ad750e37ef4dceaaa,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 06:35:40.000000000,2019-12-06 10:56:55.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 06:35:40.000000000', 'files': ['specs/liberty/reference-ipam-driver.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/68ab7257a3b042e77029150d90bb7a3f90a55b07', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org\nas redirection from old path was enabled.\n\nChange-Id: If5ce6573aa744523d1564f4ad750e37ef4dceaaa\n'}]",1,694909,68ab7257a3b042e77029150d90bb7a3f90a55b07,4,2,1,24061,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org
as redirection from old path was enabled.

Change-Id: If5ce6573aa744523d1564f4ad750e37ef4dceaaa
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/09/694909/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/reference-ipam-driver.rst'],1,68ab7257a3b042e77029150d90bb7a3f90a55b07,,.. [3] Base DB plugin module: http://opendev.org/copendev/neutron/tree/neutron/db/db_base_plugin_v2.py.. [5] ML2 plugin: http://opendev.org/copendev/neutron/tree/neutron/plugins/ml2/plugin.py,.. [3] Base DB plugin module: http://git.openstack.org/cgit/openstack/neutron/tree/neutron/db/db_base_plugin_v2.py.. [5] ML2 plugin: http://git.openstack.org/cgit/openstack/neutron/tree/neutron/plugins/ml2/plugin.py,2,2
openstack%2Fneutron~stable%2Frocky~If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6,openstack/neutron,stable/rocky,If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6,"NetcatTester.stop_processes skip ""No such process"" exception",ABANDONED,2019-11-22 10:54:24.000000000,2019-12-06 10:49:28.000000000,,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-22 10:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a92b6313e668bb4aaea040fae64be1b30bb80f3', 'message': 'NetcatTester.stop_processes skip ""No such process"" exception\n\nIf any of the processes, client or server, spawned by NetcatTester is\nnot present during the stop command (kill signal sent), by default the\nmethod will not raise an exception.\n\nChange-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6\nCloses-Bug: #1852869\n(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)\n'}, {'number': 2, 'created': '2019-12-04 16:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/853cda7c97629b31475f9e10ee62ea96a4a35e5c', 'message': 'NetcatTester.stop_processes skip ""No such process"" exception\n\nIf any of the processes, client or server, spawned by NetcatTester is\nnot present during the stop command (kill signal sent), by default the\nmethod will not raise an exception.\n\nChange-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6\nCloses-Bug: #1852869\n(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)\n'}, {'number': 3, 'created': '2019-12-05 11:51:32.000000000', 'files': ['neutron/tests/functional/tests/common/test_net_helpers.py', 'neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb77be6239466d3bcb3d47007be393651ed7043e', 'message': 'NetcatTester.stop_processes skip ""No such process"" exception\n\nIf any of the processes, client or server, spawned by NetcatTester is\nnot present during the stop command (kill signal sent), by default the\nmethod will not raise an exception.\n\nChange-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6\nCloses-Bug: #1852869\n(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)\n'}]",0,695658,cb77be6239466d3bcb3d47007be393651ed7043e,46,6,3,16688,,,0,"NetcatTester.stop_processes skip ""No such process"" exception

If any of the processes, client or server, spawned by NetcatTester is
not present during the stop command (kill signal sent), by default the
method will not raise an exception.

Change-Id: If8cf47a01dc353734ad07ca6cd4db7bec6c90fb6
Closes-Bug: #1852869
(cherry picked from commit 728d8ee4b1b9fd6a99ebbd66a0e30e81a078a5b5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/695658/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/tests/common/test_net_helpers.py', 'neutron/tests/common/net_helpers.py']",2,1a92b6313e668bb4aaea040fae64be1b30bb80f3,bug/1852869,"from neutron_lib import exceptions as n_exc def stop_processes(self, skip_errors=None): skip_errors = (['No such process'] if skip_errors is None else skip_errors) try: if proc.poll() is None: proc.kill() proc.wait() except n_exc.ProcessExecutionError as exc: for skip_error in skip_errors: if skip_error in str(exc): break else: raise exc", def stop_processes(self): if proc.poll() is None: proc.kill() proc.wait(),89,4
openstack%2Fmagnum~stable%2Ftrain~Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6,openstack/magnum,stable/train,Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6,bug: Use configured heat-container-agent tag,MERGED,2019-12-02 14:13:19.000000000,2019-12-06 10:44:55.000000000,2019-12-06 10:43:47.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-02 14:13:19.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/717b7d102c0bd81e09eba2f83288cd2ef7c81f2b', 'message': 'bug: Use configured heat-container-agent tag\n\nRemove hard coded reference to train-dev which ends up pulling multiple\nimages down and use HEAT_CONTAINER_AGENT_TAG instead.\n\nAlso add missing CONTAINER_INFRA_PREFIX.\n\nStory: 2006459\nTask: 37566\n\nChange-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6\n(cherry picked from commit b2cc1c237c0aa221d87bc72fcb500e3d16d17128)\n'}]",0,696887,717b7d102c0bd81e09eba2f83288cd2ef7c81f2b,9,4,1,28022,,,0,"bug: Use configured heat-container-agent tag

Remove hard coded reference to train-dev which ends up pulling multiple
images down and use HEAT_CONTAINER_AGENT_TAG instead.

Also add missing CONTAINER_INFRA_PREFIX.

Story: 2006459
Task: 37566

Change-Id: Ic8d0e3ba125ef6ce7fde68c086ccbdb4730ac4a6
(cherry picked from commit b2cc1c237c0aa221d87bc72fcb500e3d16d17128)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/87/696887/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh']",3,717b7d102c0bd81e09eba2f83288cd2ef7c81f2b,train-9.2.0,ExecStartPre=-/bin/podman pull ${CONTAINER_INFRA_PREFIX:-docker.io/openstackmagnum/}heat-container-agent:${HEAT_CONTAINER_AGENT_TAG},ExecStartPre=-/bin/podman pull docker.io/openstackmagnum/heat-container-agent:train-dev,5,5
openstack%2Fgovernance~master~Ib2cadedceec8ab167b6add1fd8f2309f90f16bae,openstack/governance,master,Ib2cadedceec8ab167b6add1fd8f2309f90f16bae,Link to Charter Amendment section from House Rules,MERGED,2019-12-05 16:12:33.000000000,2019-12-06 10:39:19.000000000,2019-12-06 10:37:54.000000000,"[{'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 16:12:33.000000000', 'files': ['reference/charter.rst', 'reference/house-rules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/293050784490834dfeaffb9f46d42ef707fe5aae', 'message': 'Link to Charter Amendment section from House Rules\n\nTry to reduce confusion in the future by linking all approval rules from\none document.\n\nChange-Id: Ib2cadedceec8ab167b6add1fd8f2309f90f16bae\n'}]",0,697511,293050784490834dfeaffb9f46d42ef707fe5aae,12,5,1,4257,,,0,"Link to Charter Amendment section from House Rules

Try to reduce confusion in the future by linking all approval rules from
one document.

Change-Id: Ib2cadedceec8ab167b6add1fd8f2309f90f16bae
",git fetch https://review.opendev.org/openstack/governance refs/changes/11/697511/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/charter.rst', 'reference/house-rules.rst']",2,293050784490834dfeaffb9f46d42ef707fe5aae,documentation-change,":ref:`charter-motions-section` section (or :ref:`charter-amendment-section` section) of the Charter and call for a formal discussion and vote by the Technical Committee membership, we also have a number of exceptions to that general rule, in order to speed up the processing of smaller changes. This",":ref:`charter-motions-section` section and call for a formal discussion and vote by the Technical Committee membership, we also have a number of exceptions to that general rule, in order to speed up the processing of smaller changes. This",6,3
openstack%2Fopenstack-ansible-os_ironic~master~I987630d0af1354b5c74c00c1ba0f76e2c80bed7e,openstack/openstack-ansible-os_ironic,master,I987630d0af1354b5c74c00c1ba0f76e2c80bed7e,Replace git.openstack.org with opendev.org,MERGED,2019-11-14 14:41:23.000000000,2019-12-06 10:37:55.000000000,2019-12-06 10:36:45.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-14 14:41:23.000000000', 'files': ['defaults/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/2350d09d3f34550af1d0038fb244ec9c612c1441', 'message': 'Replace git.openstack.org with opendev.org\n\nThis patch replaces git.openstack.org with opendev.org as redirection\nfrom old path was enabled.\nAlso we change upper constraints url due to [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I987630d0af1354b5c74c00c1ba0f76e2c80bed7e\n'}]",0,694313,2350d09d3f34550af1d0038fb244ec9c612c1441,86,7,1,28619,,,0,"Replace git.openstack.org with opendev.org

This patch replaces git.openstack.org with opendev.org as redirection
from old path was enabled.
Also we change upper constraints url due to [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I987630d0af1354b5c74c00c1ba0f76e2c80bed7e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/13/694313/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'releasenotes/source/conf.py']",2,2350d09d3f34550af1d0038fb244ec9c612c1441,osa/opendev," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",3,3
openstack%2Fhorizon~stable%2Ftrain~I2715c6573f1c84bbba64e9e850421b54003b80da,openstack/horizon,stable/train,I2715c6573f1c84bbba64e9e850421b54003b80da,Compact overly nested css in compressed css,MERGED,2019-11-05 13:50:36.000000000,2019-12-06 10:31:07.000000000,2019-12-06 10:29:23.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 31241}]","[{'number': 1, 'created': '2019-11-05 13:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af7c1ebe007b4e97ad5f43943cb36988e39f9ab9', 'message': 'Compact overly nested css in compressed css\n\nBefore:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css\n    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css\n    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css\n\nAfter:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css\n    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css\n    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css\n\nI.e. 12x smaller.\n\nChange-Id: I2715c6573f1c84bbba64e9e850421b54003b80da\nSee: https://github.com/Kronuz/pyScss/issues/243\n'}, {'number': 2, 'created': '2019-11-18 15:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fca08700c7703263043749895605c45693ae9ba4', 'message': 'Compact overly nested css in compressed css\n\nBefore:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css\n    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css\n    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css\n\nAfter:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css\n    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css\n    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css\n\nI.e. 12x smaller.\n\nChange-Id: I2715c6573f1c84bbba64e9e850421b54003b80da\nSee: https://github.com/Kronuz/pyScss/issues/243\n'}, {'number': 3, 'created': '2019-11-18 15:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1544c40336ddeee294da1288da26026d27175969', 'message': 'Compact overly nested css in compressed css\n\nBefore:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css\n    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css\n    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css\n\nAfter:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css\n    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css\n    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css\n\nI.e. 12x smaller.\n\nChange-Id: I2715c6573f1c84bbba64e9e850421b54003b80da\nSee: https://github.com/Kronuz/pyScss/issues/243\n'}, {'number': 4, 'created': '2019-11-26 12:43:31.000000000', 'files': ['horizon/utils/scss_filter.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0342638981b98a4285ae68ee9cd3182e761b98f3', 'message': 'Compact overly nested css in compressed css\n\nBefore:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css\n    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css\n    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css\n\nAfter:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css\n    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css\n    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css\n\nI.e. 12x smaller.\n\nChange-Id: I2715c6573f1c84bbba64e9e850421b54003b80da\n(cherry picked from commit f2264d9f33d4a9e9e44bb5e5848ab399b25bbf82)\n\nSee: https://github.com/Kronuz/pyScss/issues/243\n'}]",0,693006,0342638981b98a4285ae68ee9cd3182e761b98f3,22,4,4,31241,,,0,"Compact overly nested css in compressed css

Before:

    # ls -l static/dashboard/css/output.*css
    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css
    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css
    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css
    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css

After:

    # ls -l static/dashboard/css/output.*css
    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css
    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css
    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css
    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css

I.e. 12x smaller.

Change-Id: I2715c6573f1c84bbba64e9e850421b54003b80da
(cherry picked from commit f2264d9f33d4a9e9e44bb5e5848ab399b25bbf82)

See: https://github.com/Kronuz/pyScss/issues/243
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/693006/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/utils/scss_filter.py'],1,af7c1ebe007b4e97ad5f43943cb36988e39f9ab9,stable/train-more-compact-compressed-css," # output_style is 'nested' by default, which is crazy. See: # https://github.com/Kronuz/pyScss/issues/243 output_style='compact', # or 'compressed'",,3,0
openstack%2Fmonasca-events-api~master~I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0,openstack/monasca-events-api,master,I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 15:35:57.000000000,2019-12-06 10:20:47.000000000,2019-12-06 10:16:13.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-15 15:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/f40b2030fe2d5fa75fbdf1c1d6a2d6aab4fb6318', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-event-api is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0\n'}, {'number': 2, 'created': '2019-11-16 17:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/e05bc3df962c4572a91eddaf222b449cdada14e0', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-event-api is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0\n'}, {'number': 3, 'created': '2019-12-02 09:45:09.000000000', 'files': ['releasenotes/notes/drop-py-2-7-22f6ed725217ced1.yaml', 'test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/67ee8e5c66bef00e56d8c9e9bd57c5ee3c50d56c', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-event-api is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0\n'}]",2,694577,67ee8e5c66bef00e56d8c9e9bd57c5ee3c50d56c,14,3,3,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-event-api is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/
Change-Id: I1ea3a93bdd2cd6d5e95b7fefaca6a26c682aebc0
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/77/694577/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-22f6ed725217ced1.yaml', 'test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,f40b2030fe2d5fa75fbdf1c1d6a2d6aab4fb6318,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover[testenv:py27] description = Runs unit test using Python2.7 basepython = python2.7 commands = {[testenv]commands} stestr run {posargs} ",10,22
openstack%2Fopenstack-ansible-os_tempest~master~Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e,openstack/openstack-ansible-os_tempest,master,Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e,Also keep old_style blacklist schema,MERGED,2019-11-26 12:16:15.000000000,2019-12-06 10:10:02.000000000,2019-12-06 10:08:26.000000000,"[{'_account_id': 1004}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-26 12:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/fcc733fbfd7bd61a1354e2aa0081138ee9b794fd', 'message': 'Also keep old_style blacklist schema\n\nThe blacklist defined for older release with in the job\ndoes not have test attributes leading to break the role.\n\nIn order to have compatibility between older blacklist and\nnewer blacklist having test tag schema fixes the issue.\n\nChange-Id: Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-11-27 06:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/71a1a108f2c5bad4ae9a0b5db06a5e0413434aeb', 'message': 'Also keep old_style blacklist schema\n\nThe blacklist defined for older release with in the job\ndoes not have test attributes leading to break the role.\n\nIn order to have compatibility between older blacklist and\nnewer blacklist having test tag schema fixes the issue.\n\nChange-Id: Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-11-29 04:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/080fdd281f84a1f14349073e91a5535847a276b0', 'message': 'Also keep old_style blacklist schema\n\nThe blacklist defined for older release with in the job\ndoes not have test attributes leading to break the role.\n\nIn order to have compatibility between older blacklist and\nnewer blacklist having test tag schema fixes the issue.\n\nChange-Id: Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-12-03 01:43:23.000000000', 'files': ['tasks/tempest_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0d4f0f3f6998cf4dc5223d51e6554b403d5e8fef', 'message': 'Also keep old_style blacklist schema\n\nThe blacklist defined for older release with in the job\ndoes not have test attributes leading to break the role.\n\nIn order to have compatibility between older blacklist and\nnewer blacklist having test tag schema fixes the issue.\n\nChange-Id: Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",9,696073,0d4f0f3f6998cf4dc5223d51e6554b403d5e8fef,35,9,4,12393,,,0,"Also keep old_style blacklist schema

The blacklist defined for older release with in the job
does not have test attributes leading to break the role.

In order to have compatibility between older blacklist and
newer blacklist having test tag schema fixes the issue.

Change-Id: Ide422b7b60a0b3a9321fb4686f0a2ab922200b7e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/73/696073/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_post_install.yml', 'defaults/main.yml']",2,fcc733fbfd7bd61a1354e2aa0081138ee9b794fd,blacklist,# OR # tempest_test_blacklist: # - 'tempest.scenario.test.minimum_basic',,5,0
openstack%2Ftrove~master~I6b448747c873bfc9c0138c0f7e3ca67ddce02dee,openstack/trove,master,I6b448747c873bfc9c0138c0f7e3ca67ddce02dee,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-30 06:16:46.000000000,2019-12-06 10:09:58.000000000,2019-12-06 10:06:41.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-10-30 06:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/89f720a262ce8d7b68e9af5b6eba7a2d3eec2d9c', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nTrove is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6b448747c873bfc9c0138c0f7e3ca67ddce02dee\n'}, {'number': 2, 'created': '2019-10-30 06:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6765300982aa867274af69cb3c5ca30c64cdf696', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nTrove is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6b448747c873bfc9c0138c0f7e3ca67ddce02dee\n'}, {'number': 3, 'created': '2019-11-16 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1d8e9a12a54a1d02adff4a586b5e7576feedb57', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nTrove is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I6b448747c873bfc9c0138c0f7e3ca67ddce02dee\n'}, {'number': 4, 'created': '2019-12-05 09:38:40.000000000', 'files': ['playbooks/legacy/grenade-dsvm-trove/run.yaml', 'requirements.txt', 'releasenotes/notes/drop-py-2-7-010fe6df0c10352d.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/e6f55c57d5506503033aff2e3c9496efb40fabaa', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nTrove is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I6b448747c873bfc9c0138c0f7e3ca67ddce02dee\n'}]",0,692038,e6f55c57d5506503033aff2e3c9496efb40fabaa,23,3,4,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

Trove is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I6b448747c873bfc9c0138c0f7e3ca67ddce02dee
",git fetch https://review.opendev.org/openstack/trove refs/changes/38/692038/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-trove/run.yaml', 'requirements.txt', 'releasenotes/notes/drop-py-2-7-010fe6df0c10352d.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",6,89f720a262ce8d7b68e9af5b6eba7a2d3eec2d9c,drop-py27-support,"envlist = py37,pep8,cover,api-ref,releasenotes,bandit,fakemodetests,pylint","envlist = py27,py37,pep8,cover,api-ref,releasenotes,bandit,fakemodetests,pylint",12,8
openstack%2Fkayobe~master~Idf1e7b1e7018d1324326c3b8b8cb04f2e27ee0d2,openstack/kayobe,master,Idf1e7b1e7018d1324326c3b8b8cb04f2e27ee0d2,Task to generate nginx.conf in inspection-store missing `become: True`,MERGED,2019-12-04 11:52:48.000000000,2019-12-06 10:04:25.000000000,2019-12-05 23:07:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 11:52:48.000000000', 'files': ['ansible/roles/inspection-store/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ec56393590c803a25ca1a9a10ec290ee096ad48c', 'message': 'Task to generate nginx.conf in inspection-store missing `become: True`\n\nChange-Id: Idf1e7b1e7018d1324326c3b8b8cb04f2e27ee0d2\n'}]",0,697276,ec56393590c803a25ca1a9a10ec290ee096ad48c,10,3,1,29543,,,0,"Task to generate nginx.conf in inspection-store missing `become: True`

Change-Id: Idf1e7b1e7018d1324326c3b8b8cb04f2e27ee0d2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/76/697276/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/inspection-store/tasks/config.yml'],1,ec56393590c803a25ca1a9a10ec290ee096ad48c,, become: True,,1,0
openstack%2Fopenstack-ansible~master~I59543d84e19e2e5eb327afc86ffc0db7c8f24443,openstack/openstack-ansible,master,I59543d84e19e2e5eb327afc86ffc0db7c8f24443,Imported Translations from Zanata,MERGED,2019-12-06 09:33:23.000000000,2019-12-06 10:00:40.000000000,2019-12-06 09:58:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-06 09:33:23.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/280ddcee9798892eee1830b87f38d9682690e05d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I59543d84e19e2e5eb327afc86ffc0db7c8f24443\n'}]",0,697637,280ddcee9798892eee1830b87f38d9682690e05d,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I59543d84e19e2e5eb327afc86ffc0db7c8f24443
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/697637/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po']",6,280ddcee9798892eee1830b87f38d9682690e05d,zanata/translations,"""POT-Creation-Date: 2019-12-05 21:54+0000\n""","""POT-Creation-Date: 2019-08-14 14:51+0000\n""msgid """" ""The |current_release_formal_name| release is only compatible with Debian 9 "" ""(stretch), Ubuntu 18.04 (Bionic Beaver), CentOS 7 and openSUSE Leap 15.X."" msgstr """" ""Die |current_release_formal_name| Version ist nur kompatibel mit Debian 9, "" ""Ubuntu 18.04 (Bionic Beaver), Centos 7 und openSUSE Leap 15.X."" ",29,74
openstack%2Ftrove~master~I81b72fae1c31ce2995232b52460d0ad0d6f894be,openstack/trove,master,I81b72fae1c31ce2995232b52460d0ad0d6f894be,Support pip3 and run on guest-agent service for redis,MERGED,2019-10-19 17:04:44.000000000,2019-12-06 09:59:20.000000000,2019-12-06 09:57:17.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-10-19 17:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9e01096f49f7009c4e811a0acc20e49c3b441f90', 'message': 'Support pip3 and run on guest-agent service for redis\n\nThis patch will solve some following items:\n- Support python3/ pip3\n- Permit redis is running with guest-agent service\n\nTested with standalone, replicate and cluster successfully.\n\nChange-Id: I81b72fae1c31ce2995232b52460d0ad0d6f894be\n'}, {'number': 2, 'created': '2019-12-05 09:35:12.000000000', 'files': ['integration/scripts/files/elements/ubuntu-redis/install.d/30-redis', 'integration/scripts/files/elements/ubuntu-redis/install.d/80-fix-in-guest-agent-env'], 'web_link': 'https://opendev.org/openstack/trove/commit/d5549f30cfd6ed5d211d1e1e73ce04a3921a3601', 'message': 'Support pip3 and run on guest-agent service for redis\n\nThis patch will solve some following items:\n- Support python3/ pip3\n- Permit redis is running with guest-agent service\n\nTested with standalone, replicate and cluster successfully.\n\nChange-Id: I81b72fae1c31ce2995232b52460d0ad0d6f894be\n'}]",0,689628,d5549f30cfd6ed5d211d1e1e73ce04a3921a3601,27,3,2,25254,,,0,"Support pip3 and run on guest-agent service for redis

This patch will solve some following items:
- Support python3/ pip3
- Permit redis is running with guest-agent service

Tested with standalone, replicate and cluster successfully.

Change-Id: I81b72fae1c31ce2995232b52460d0ad0d6f894be
",git fetch https://review.opendev.org/openstack/trove refs/changes/28/689628/2 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-redis/install.d/30-redis', 'integration/scripts/files/elements/ubuntu-redis/install.d/80-fix-in-guest-agent-env']",2,9e01096f49f7009c4e811a0acc20e49c3b441f90,support-redis-with-guest-agent,#!/bin/sh # PURPOSE: Install redis required package in guest-agent-venv set -ex if [ $GUEST_VENV ] then # Install Python driver for Redis ('redis-py'). $GUEST_VENV/bin/pip3 install redis fi ,,12,1
openstack%2Fneutron~master~I895514a0f6a0fe860cd549bde4d93c15e193b303,openstack/neutron,master,I895514a0f6a0fe860cd549bde4d93c15e193b303,DO NOT REVIEW: Test OVN DevStack module,ABANDONED,2019-11-27 16:21:58.000000000,2019-12-06 09:45:20.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 16:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b926a17aaff0dffef59227d8351fbae0f45efc', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-11-27 16:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15a2e7b9583fdb6008a39094073580e2e1e6e3b8', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-11-27 16:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb2568e30dccf4e74618ba0f7c5ad0c8c941d75e', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-11-28 09:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da9b4b678fb3756ab9c46b436a00c49e199be925', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-11-28 09:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3b41b29d98ae4cdaa8af28f58cfbe1fa8da101f', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-11-28 09:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f59fec46761af6305e50df4d9335f1c6cdcfd020', 'message': 'DO NOT REVIEW: Job testing OVN from DevStack\n\nThis patch is creating a job in the check pipeline to test the OVN\nmodule that now leaves in the DevStack repository instead of the plugin\nin the networking-ovn one.\n\nDO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nDepends-On: https://review.opendev.org/#/c/696109/\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-11-28 15:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3947c001fe74234bba7d9cf8bcce98f33a2a07e3', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2019-12-02 11:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cba4124604f621bcc2fa3e72a19f0c81ac057c6f', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2019-12-02 11:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6de7f6d4ae975c710bbf9b3dda87a07e5d7bbc6d', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2019-12-02 12:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acf1f05b48d29bc0787a4892c3559b4c813b61bb', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2019-12-03 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6ac3f70489750049a5d59ef9eda441343e97a60', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nDepends-On: https://review.opendev.org/697039\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2019-12-03 09:46:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97ecaa4eda72489d70cc6cb323a51701a0333af7', 'message': 'DO NOT REVIEW: Test OVN DevStack module\n\nPLEASE DO NOT MERGE!\n\nDepends-On: https://review.opendev.org/697039\nChange-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,696347,97ecaa4eda72489d70cc6cb323a51701a0333af7,32,3,12,6773,,,0,"DO NOT REVIEW: Test OVN DevStack module

PLEASE DO NOT MERGE!

Depends-On: https://review.opendev.org/697039
Change-Id: I895514a0f6a0fe860cd549bde4d93c15e193b303
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/696347/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,09b926a17aaff0dffef59227d8351fbae0f45efc,bp/neutron-ovn-merge-devstack," #templates: # - neutron-tempest-plugin-jobs # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-ussuri-jobs # - publish-openstack-docs-pti # - periodic-stable-jobs # - check-requirements # - integrated-gate-networking # - release-notes-jobs-python3 - ovn-tempest-ovn-master #- neutron-functional #- neutron-fullstack #- neutron-rally-task #- neutron-tempest-dvr #- neutron-tempest-linuxbridge #- neutron-grenade-multinode #- neutron-grenade-dvr-multinode #- tempest-multinode-full-py3: # voting: false # # We don't run the job on things like neutron docs-only changes # irrelevant-files: &tempest-irrelevant-files # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^doc/.*$ # - ^neutron/locale/.*$ # - ^neutron/tests/unit/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ #- neutron-tempest-dvr-ha-multinode-full #- neutron-tempest-iptables_hybrid #- ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *tempest-irrelevant-files #- tempest-slow-py3: # irrelevant-files: *tempest-irrelevant-files #- networking-ovn-tempest-dsvm-ovs-release: # irrelevant-files: *tempest-irrelevant-files #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false # irrelevant-files: *tempest-irrelevant-files #- grenade-py3: # irrelevant-files: *tempest-irrelevant-files #- tempest-ipv6-only: # irrelevant-files: *tempest-irrelevant-files #- openstacksdk-functional-devstack-networking: # voting: false #- neutron-functional-with-uwsgi: # voting: false #- neutron-fullstack-with-uwsgi: # voting: false #- neutron-tempest-with-uwsgi: # voting: false #- neutron-centos-7-tripleo-standalone - job: name: ovn-base description: Base job for devstack/tempest based networking-ovn jobs. parent: devstack-tempest timeout: 10800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/neutron-tempest-plugin - openstack/tempest irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - ^vagrant/.*$ - ^migration/.*$ - ^networking_ovn/locale/.*$ vars: tox_envlist: all-plugin tempest_test_regex: ""^(?!.*\ (?:.*\\[.*slow.*\\])|\ (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|\ (?:tempest.api.network.test_load_balancer.*)|\ (?:tempest.scenario.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_load_balancer.*)|\ (?:tempest.api.network.admin.test_lbaas.*)|\ (?:tempest.api.network.test_fwaas_extensions.*)|\ (?:tempest.api.network.test_metering_extensions.*)|\ (?:tempest.thirdparty.boto.test_s3.*)|\ (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|\ (?:tempest.api.identity*)|\ (?:tempest.api.image*)|\ (?:tempest.api.volume*)|\ (?:tempest.api.compute.images*)|\ (?:tempest.api.compute.keypairs*)|\ (?:tempest.api.compute.certificates*)|\ (?:tempest.api.compute.flavors*)|\ (?:tempest.api.compute.test_quotas*)|\ (?:tempest.api.compute.test_versions*)|\ (?:tempest.api.compute.volumes*)|\ (?:tempest.api.compute.admin.test_flavor*)|\ (?:tempest.api.compute.admin.test_volume*)|\ (?:tempest.api.compute.admin.test_hypervisor*)|\ (?:tempest.api.compute.admin.test_aggregate*)|\ (?:tempest.api.compute.admin.test_quota*)|\ (?:tempest.scenario.test_volume*))\ ((^neutron_tempest_plugin.api)|\ (^neutron_tempest_plugin.scenario)|\ (tempest.(api|scenario|thirdparty))).*$"" tempest_concurrency: 2 devstack_localrc: Q_AGENT: ovn Q_ML2_PLUGIN_MECHANISM_DRIVERS: ovn,logger Q_ML2_PLUGIN_TYPE_DRIVERS: local,flat,vlan,geneve Q_ML2_TENANT_NETWORK_TYPE: geneve Q_ML2_PLUGIN_EXT_DRIVERS: port_security,dns Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_DBS_LOG_LEVEL: dbg USE_PYTHON3: True DOWNLOAD_DEFAULT_IMAGES: false IMAGE_URLS: ""http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-0.4.0-x86_64-disk DEFAULT_IMAGE_FILE_NAME: cirros-0.4.0-x86_64-disk.img ADVANCED_IMAGE_NAME: ubuntu-16.04-server-cloudimg-amd64-disk1 ADVANCED_INSTANCE_TYPE: ds512M ADVANCED_INSTANCE_USER: ubuntu BUILD_TIMEOUT: 784 devstack_plugins: neutron-tempest-plugin: https://opendev.org/openstack/neutron-tempest-plugin zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true devstack_services: br-ex-tcpdump: true br-int-flows: true c-api: true c-sch: true c-vol: true dstat: true g-api: true g-reg: true keystone: true n-api-meta: true n-api: true n-cauth: true n-cond-cell1: true n-cpu: true n-novnc-cell1: true n-sch: true n-super-cond: true networking-ovn-metadata-agent: true o-api: true o-hk: true ovn-controller: true ovn-northd: true ovs-vswitchd: true ovsdb-server: true placement-api: true q-svc: true q-dns: true ovn-octavia: false c-bak: false etcd: false peakmem_tracker: false q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false s-account: false s-container-sync: false s-container: false s-object: false s-proxy: false - job: name: ovn-tempest-ovn-master description: Job testing for testing the ovn driver with the OVN master branch parent: ovn-base vars: devstack_localrc: OVN_BRANCH: master", templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - integrated-gate-networking - release-notes-jobs-python3 - neutron-functional - neutron-fullstack - neutron-rally-task - neutron-tempest-dvr - neutron-tempest-linuxbridge - neutron-grenade-multinode - neutron-grenade-dvr-multinode - tempest-multinode-full-py3: voting: false # We don't run the job on things like neutron docs-only changes irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-slow-py3: irrelevant-files: *tempest-irrelevant-files - networking-ovn-tempest-dsvm-ovs-release: irrelevant-files: *tempest-irrelevant-files - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - grenade-py3: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false - neutron-centos-7-tripleo-standalone,187,55
openstack%2Fmonasca-ceilometer~master~I2143a5d345737ab5028151232557263e3b308412,openstack/monasca-ceilometer,master,I2143a5d345737ab5028151232557263e3b308412,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:51:33.000000000,2019-12-06 09:29:22.000000000,2019-12-06 09:29:22.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/cf6603991a17aa5e20328448affcd75cbd149d4f', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-ceilometer is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I2143a5d345737ab5028151232557263e3b308412\n'}, {'number': 2, 'created': '2019-11-16 16:56:54.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-4dae58627c40d109.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/4259f74ff1e1bbbd7f3a9524080be4819a226114', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-ceilometer is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I2143a5d345737ab5028151232557263e3b308412\n'}]",0,694600,4259f74ff1e1bbbd7f3a9524080be4819a226114,9,3,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-ceilometer is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I2143a5d345737ab5028151232557263e3b308412
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/00/694600/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-4dae58627c40d109.yaml', 'setup.cfg', 'tox.ini']",4,cf6603991a17aa5e20328448affcd75cbd149d4f,drop-py27-support,"envlist = pep8,py37","envlist = pep8,py27,py37",8,5
openstack%2Fkolla~stable%2Fstein~Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,openstack/kolla,stable/stein,Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,Install etcd3gw to fix Ubuntu binary tooz coordination,MERGED,2019-12-05 09:30:55.000000000,2019-12-06 09:29:09.000000000,2019-12-06 09:27:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-12-05 09:30:55.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/38191924fe0400415a1d20a17529a9e1003a30de', 'message': 'Install etcd3gw to fix Ubuntu binary tooz coordination\n\nChange-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e\nCloses-bug: #1852086\n(cherry picked from commit 0186c5e3cafeae0bb1c39bdef0df6ade827552d5)\n'}]",0,697427,38191924fe0400415a1d20a17529a9e1003a30de,8,3,1,30491,,,0,"Install etcd3gw to fix Ubuntu binary tooz coordination

Change-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e
Closes-bug: #1852086
(cherry picked from commit 0186c5e3cafeae0bb1c39bdef0df6ade827552d5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/697427/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml']",2,38191924fe0400415a1d20a17529a9e1003a30de,,--- fixes: - | Fixes unavailability of an etcd3-compatible tooz coordination driver in Ubuntu binary images by installing ``python3-etcd3gw``. See `bug 1852086 <https://bugs.launchpad.net/kolla-ansible/+bug/1852086>`__ for details. ,,7,0
openstack%2Fmonasca-analytics~master~Id65137faa25d9623207c046c5fc30c7e7d0177d6,openstack/monasca-analytics,master,Id65137faa25d9623207c046c5fc30c7e7d0177d6,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 16:51:30.000000000,2019-12-06 09:26:15.000000000,2019-12-06 09:26:15.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 16:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-analytics/commit/3eef90797e7870262da960b9ba08037f9281e6dc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-analytics is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id65137faa25d9623207c046c5fc30c7e7d0177d6\n'}, {'number': 2, 'created': '2019-11-16 16:57:21.000000000', 'files': ['releasenotes/notes/drop-py-2-7-e99c2ab58c9d978a.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-analytics/commit/03a4b5380832c37550081a3b32d464b904445e5a', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nmonasca-analytics is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id65137faa25d9623207c046c5fc30c7e7d0177d6\n'}]",0,694599,03a4b5380832c37550081a3b32d464b904445e5a,9,2,2,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

monasca-analytics is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Id65137faa25d9623207c046c5fc30c7e7d0177d6
",git fetch https://review.opendev.org/openstack/monasca-analytics refs/changes/99/694599/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-e99c2ab58c9d978a.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,3eef90797e7870262da960b9ba08037f9281e6dc,drop-py27-support,"envlist = py37,pep8,cover","envlist = py27,py37,pep8,cover",8,10
openstack%2Fhorizon~master~I5e47001dad730b64d4914e72df7d93ee15a1db12,openstack/horizon,master,I5e47001dad730b64d4914e72df7d93ee15a1db12,Fix failing tests under python3.8,MERGED,2019-11-26 11:25:01.000000000,2019-12-06 09:22:29.000000000,2019-12-06 09:20:13.000000000,"[{'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-26 11:25:01.000000000', 'files': ['openstack_dashboard/dashboards/project/security_groups/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/33fe0fef334ace8b19f1aad78602bb1903806892', 'message': 'Fix failing tests under python3.8\n\nIn python3.8 cgi.escape function was removed as it is\nnoted here : https://docs.python.org/3/whatsnew/3.8.html\n\nThis patch is fixing security_groups tests and replacing\nescape func from cgi to escape func from django.utils.html.\n\nChange-Id: I5e47001dad730b64d4914e72df7d93ee15a1db12\nCloses-Bug: #1854019\n'}]",4,696067,33fe0fef334ace8b19f1aad78602bb1903806892,12,5,1,27339,,,0,"Fix failing tests under python3.8

In python3.8 cgi.escape function was removed as it is
noted here : https://docs.python.org/3/whatsnew/3.8.html

This patch is fixing security_groups tests and replacing
escape func from cgi to escape func from django.utils.html.

Change-Id: I5e47001dad730b64d4914e72df7d93ee15a1db12
Closes-Bug: #1854019
",git fetch https://review.opendev.org/openstack/horizon refs/changes/67/696067/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/security_groups/tests.py'],1,33fe0fef334ace8b19f1aad78602bb1903806892,bug/1854019,"from django.utils import html self.assertContains(res, html.escape('""from"" port number is invalid')) self.assertContains(res, html.escape('""to"" port number is invalid'))","import cgi self.assertContains(res, cgi.escape('""from"" port number is invalid', quote=True)) self.assertContains(res, cgi.escape('""to"" port number is invalid', quote=True))",3,6
openstack%2Ftrove~master~I7daafa68a03a3bf88c3651b6cab8c58cf5256b29,openstack/trove,master,I7daafa68a03a3bf88c3651b6cab8c58cf5256b29,Mark CI job trove-scenario-mariadb-single voting,MERGED,2019-12-05 22:07:21.000000000,2019-12-06 09:17:03.000000000,2019-12-06 09:14:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 22:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9c932d2722835cb0ccb9c0490b91a639e81aed97', 'message': 'Mark CI job trove-scenario-mariadb-single voting\n\nChange-Id: I7daafa68a03a3bf88c3651b6cab8c58cf5256b29\n'}, {'number': 2, 'created': '2019-12-05 22:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8e905a68b2ed6c9ddb7bd6fb622b750d44c6ee54', 'message': 'Mark CI job trove-scenario-mariadb-single voting\n\nChange-Id: I7daafa68a03a3bf88c3651b6cab8c58cf5256b29\n'}, {'number': 3, 'created': '2019-12-05 22:22:08.000000000', 'files': ['integration/scripts/trovestack', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/637c900b875fd52a6ebf25848972469f6abb23fc', 'message': 'Mark CI job trove-scenario-mariadb-single voting\n\nFix the current CI issue as well.\n\nChange-Id: I7daafa68a03a3bf88c3651b6cab8c58cf5256b29\n'}]",0,697572,637c900b875fd52a6ebf25848972469f6abb23fc,13,2,3,6732,,,0,"Mark CI job trove-scenario-mariadb-single voting

Fix the current CI issue as well.

Change-Id: I7daafa68a03a3bf88c3651b6cab8c58cf5256b29
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/697572/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9c932d2722835cb0ccb9c0490b91a639e81aed97,mariadb-single-ci, - trove-scenario-mariadb-single, - trove-scenario-mariadb-single: voting: false,1,2
openstack%2Fnova~master~I967ba6abf38dd0e991a070c76decacc579bb4ff7,openstack/nova,master,I967ba6abf38dd0e991a070c76decacc579bb4ff7,nova-net: Remove SG tests that don't apply to neutron,MERGED,2019-11-28 11:02:05.000000000,2019-12-06 09:14:07.000000000,2019-12-06 09:07:49.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c4d40dce46959563833367efcebbc5471a2dd52', 'message': ""nova-net: Remove SG tests that don't apply to neutron\n\nThe neutron security group driver tests subclass the nova-network ones.\nSince there are some tests that don't make sense for neutron, these are\nstubbed out for the tests for same. Simply remove them from both as a\nanother step towards unifying these test classes.\n\nChange-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-28 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/277dc2d5ebbf363fa03191fb307ff4be597fea96', 'message': ""nova-net: Remove SG tests that don't apply to neutron\n\nThe neutron security group driver tests subclass the nova-network ones.\nSince there are some tests that don't make sense for neutron, these are\nstubbed out for the tests for same. Simply remove them from both as a\nanother step towards unifying these test classes.\n\nChange-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d342fe1644273212355a615a9653de803196a1', 'message': ""nova-net: Remove SG tests that don't apply to neutron\n\nThe neutron security group driver tests subclass the nova-network ones.\nSince there are some tests that don't make sense for neutron, these are\nstubbed out for the tests for same. Simply remove them from both as a\nanother step towards unifying these test classes.\n\nChange-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-11-29 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93a4f2da3f35851d2c16a5d84da7be2ad38bd2f3', 'message': ""nova-net: Remove SG tests that don't apply to neutron\n\nThe neutron security group driver tests subclass the nova-network ones.\nSince there are some tests that don't make sense for neutron, these are\nstubbed out for the tests for same. Simply remove them from both as a\nanother step towards unifying these test classes.\n\nChange-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-12-05 16:03:35.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4ce6ae58c296197996eecc5eed5ba8d39e1ef6c', 'message': 'nova-net: Remove SG tests that don\'t apply to neutron\n\nThe neutron security group driver tests subclass the nova-network ones.\nSince there are some tests that don\'t make sense for neutron, these are\nstubbed out for the tests for same. Simply remove them from both as a\nanother step towards unifying these test classes.\n\nIn addition, remove a test that does ""work"" with neutron but doesn\'t\nmake any sense, since it\'s testing that nova is validating something\nwhen in reality neutron is doing the validation.\n\nChange-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",5,696507,c4ce6ae58c296197996eecc5eed5ba8d39e1ef6c,43,10,5,15334,,,0,"nova-net: Remove SG tests that don't apply to neutron

The neutron security group driver tests subclass the nova-network ones.
Since there are some tests that don't make sense for neutron, these are
stubbed out for the tests for same. Simply remove them from both as a
another step towards unifying these test classes.

In addition, remove a test that does ""work"" with neutron but doesn't
make any sense, since it's testing that nova is validating something
when in reality neutron is doing the validation.

Change-Id: I967ba6abf38dd0e991a070c76decacc579bb4ff7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/696507/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py']",2,6c4d40dce46959563833367efcebbc5471a2dd52,bp/remove-nova-network-ussuri,," def test_create_security_group_with_no_description(self): sg = security_group_request_template() del sg['description'] self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_with_empty_description(self): sg = security_group_request_template() sg['description'] = """" try: self.controller.create(self.req, {'security_group': sg}) self.fail('Should have raised BadRequest exception') except webob.exc.HTTPBadRequest as exc: self.assertEqual('description has 0 characters, ' 'less than 1.', exc.explanation) except exception.InvalidInput: self.fail('Should have raised BadRequest exception instead of') def test_create_security_group_with_blank_name(self): sg = security_group_request_template(name='') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_with_whitespace_name(self): sg = security_group_request_template(name=' ') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_with_blank_description(self): sg = security_group_request_template(description='') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_with_whitespace_description(self): sg = security_group_request_template(description=' ') self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_with_duplicate_name(self): sg = security_group_request_template() # FIXME: Stub out _get instead of creating twice self.controller.create(self.req, {'security_group': sg}) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_non_string_name(self): sg = security_group_request_template(name=12) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_non_string_description(self): sg = security_group_request_template(description=12) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, self.req, {'security_group': sg}) def test_create_security_group_quota_limit(self): for num in range(1, CONF.quota.security_groups): name = 'test%s' % num sg = security_group_request_template(name=name) res_dict = self.controller.create(self.req, {'security_group': sg}) self.assertEqual(res_dict['security_group']['name'], name) sg = security_group_request_template() self.assertRaises(webob.exc.HTTPForbidden, self.controller.create, self.req, {'security_group': sg}) @mock.patch('nova.objects.quotas.Quotas.check_deltas') def test_create_security_group_over_quota_during_recheck(self, check_mock): # Simulate a race where the first check passes and the recheck fails. check_mock.side_effect = [None, exception.OverQuota(overs='security_groups')] ctxt = self.req.environ['nova.context'] sg = security_group_request_template() self.assertRaises(webob.exc.HTTPForbidden, self.controller.create, self.req, {'security_group': sg}) self.assertEqual(2, check_mock.call_count) call1 = mock.call(ctxt, {'security_groups': 1}, ctxt.project_id, user_id=ctxt.user_id) call2 = mock.call(ctxt, {'security_groups': 0}, ctxt.project_id, user_id=ctxt.user_id) check_mock.assert_has_calls([call1, call2]) # Verify we removed the security group that was added after the first # quota check passed. self.assertRaises(exception.SecurityGroupNotFound, objects.SecurityGroup.get_by_name, ctxt, ctxt.project_id, sg['name']) @mock.patch('nova.objects.quotas.Quotas.check_deltas') def test_create_security_group_no_quota_recheck(self, check_mock): # Disable recheck_quota. self.flags(recheck_quota=False, group='quota') ctxt = self.req.environ['nova.context'] sg = security_group_request_template() self.controller.create(self.req, {'security_group': sg}) # check_deltas should have been called only once. check_mock.assert_called_once_with(ctxt, {'security_groups': 1}, ctxt.project_id, user_id=ctxt.user_id) def test_get_security_group_list_all_tenants(self): all_groups = [] tenant_groups = [] for i, name in enumerate(['default', 'test']): sg = security_group_template(id=i + 1, name=name, description=name + '-desc', rules=[]) all_groups.append(sg) if name == 'default': tenant_groups.append(sg) all = {'security_groups': all_groups} tenant_specific = {'security_groups': tenant_groups} def return_all_security_groups(context): return [security_group_db(sg) for sg in all_groups] self.stub_out('nova.db.api.security_group_get_all', return_all_security_groups) def return_tenant_security_groups(context, project_id): return [security_group_db(sg) for sg in tenant_groups] self.stub_out('nova.db.api.security_group_get_by_project', return_tenant_security_groups) path = '/v2/%s/os-security-groups' % fakes.FAKE_PROJECT_ID req = fakes.HTTPRequest.blank(path, use_admin_context=True) res_dict = self.controller.index(req) self.assertEqual(res_dict, tenant_specific) req = fakes.HTTPRequest.blank('%s?all_tenants=1' % path, use_admin_context=True) res_dict = self.controller.index(req) self.assertEqual(res_dict, all) def test_update_security_group(self): sg = security_group_template(id=2, rules=[]) sg_update = security_group_template(id=2, rules=[], name='update_name', description='update_desc') def return_security_group(context, group_id, columns_to_join=None): self.assertEqual(sg['id'], group_id) return security_group_db(sg) def return_update_security_group(context, group_id, values, columns_to_join=None): self.assertEqual(sg_update['id'], group_id) self.assertEqual(sg_update['name'], values['name']) self.assertEqual(sg_update['description'], values['description']) return security_group_db(sg_update) self.stub_out('nova.db.api.security_group_update', return_update_security_group) self.stub_out('nova.db.api.security_group_get', return_security_group) res_dict = self.controller.update(self.req, '2', {'security_group': sg_update}) expected = {'security_group': sg_update} self.assertEqual(res_dict, expected) def test_update_security_group_name_to_default(self): sg = security_group_template(id=2, rules=[], name='default') def return_security_group(context, group_id, columns_to_join=None): self.assertEqual(sg['id'], group_id) return security_group_db(sg) self.stub_out('nova.db.api.security_group_get', return_security_group) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.update, self.req, '2', {'security_group': sg}) def test_associate_already_associated_security_group_to_instance(self): self.stub_out('nova.db.api.security_group_get_by_name', return_security_group_by_name) body = dict(addSecurityGroup=dict(name=""test"")) self.assertRaises(webob.exc.HTTPBadRequest, self.manager._addSecurityGroup, self.req, UUID_SERVER, body) def test_disassociate_already_associated_security_group_to_instance(self): self.stub_out('nova.db.api.security_group_get_by_name', return_security_group_without_instances) body = dict(removeSecurityGroup=dict(name=""test"")) self.assertRaises(webob.exc.HTTPBadRequest, self.manager._removeSecurityGroup, self.req, UUID_SERVER, body) def test_create_rule_quota_limit(self): for num in range(100, 100 + CONF.quota.security_group_rules): rule = { 'ip_protocol': 'tcp', 'from_port': num, 'to_port': num, 'parent_group_id': self.sg2['id'], 'group_id': self.sg1['id'] } self.controller.create(self.req, {'security_group_rule': rule}) rule = { 'ip_protocol': 'tcp', 'from_port': '121', 'to_port': '121', 'parent_group_id': self.sg2['id'], 'group_id': self.sg1['id'] } self.assertRaises(webob.exc.HTTPForbidden, self.controller.create, self.req, {'security_group_rule': rule}) @mock.patch('nova.objects.Quotas.check_deltas') def test_create_rule_over_quota_during_recheck(self, mock_check): # Simulate a race where the first check passes and the recheck fails. # First check occurs in compute/api. exc = exception.OverQuota(overs='security_group_rules', usages={'security_group_rules': 100}) mock_check.side_effect = [None, exc] rule = { 'ip_protocol': 'tcp', 'from_port': '121', 'to_port': '121', 'parent_group_id': self.sg2['id'], 'group_id': self.sg1['id'] } self.assertRaises(webob.exc.HTTPForbidden, self.controller.create, self.req, {'security_group_rule': rule}) ctxt = self.req.environ['nova.context'] self.assertEqual(2, mock_check.call_count) # parent_group_id is used for adding the rules. call1 = mock.call(ctxt, {'security_group_rules': 1}, self.sg2['id']) call2 = mock.call(ctxt, {'security_group_rules': 0}, self.sg2['id']) mock_check.assert_has_calls([call1, call2]) # Verify we removed the rule that was added after the first quota check # passed. rules = objects.SecurityGroupRuleList.get_by_security_group_id( ctxt, self.sg1['id']) self.assertEqual(0, len(rules)) @mock.patch('nova.objects.Quotas.check_deltas') def test_create_rule_no_quota_recheck(self, mock_check): # Disable recheck_quota. self.flags(recheck_quota=False, group='quota') rule = { 'ip_protocol': 'tcp', 'from_port': '121', 'to_port': '121', 'parent_group_id': self.sg2['id'], 'group_id': self.sg1['id'] } self.controller.create(self.req, {'security_group_rule': rule}) ctxt = self.req.environ['nova.context'] # check_deltas should have been called only once. # parent_group_id is used for adding the rules. mock_check.assert_called_once_with(ctxt, {'security_group_rules': 1}, self.sg2['id']) ",0,363
openstack%2Fnova~master~Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d,openstack/nova,master,Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d,xenapi: Remove vestigial nova-network support,MERGED,2019-11-28 11:02:05.000000000,2019-12-06 09:12:30.000000000,2019-12-06 09:07:37.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f251854b8e6ea70f79d1d74651aa5bdad2f8b21', 'message': 'xenapi: Remove vestigial nova-network support\n\nI suspect there is more to be removed here, but this is all I could spot\nfor the moment.\n\nChange-Id: Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ffe9a46a99fae601b27072621d2aef50edfd031', 'message': 'xenapi: Remove vestigial nova-network support\n\nI suspect there is more to be removed here, but this is all I could spot\nfor the moment.\n\nChange-Id: Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f431fca1f3a8277c1639ea0f01df43109cae861f', 'message': 'xenapi: Remove vestigial nova-network support\n\nI suspect there is more to be removed here, but this is all I could spot\nfor the moment.\n\nChange-Id: Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/295100c3fefb32df5bf075ffcfab02a0f5e25395', 'message': 'xenapi: Remove vestigial nova-network support\n\nI suspect there is more to be removed here, but this is all I could spot\nfor the moment.\n\nChange-Id: Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,696505,295100c3fefb32df5bf075ffcfab02a0f5e25395,83,11,4,15334,,,0,"xenapi: Remove vestigial nova-network support

I suspect there is more to be removed here, but this is all I could spot
for the moment.

Change-Id: Ifb8dc7de5d4845dd639fba71b853d38cdb851c7d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/696505/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vmops.py']",2,3f251854b8e6ea70f79d1d74651aa5bdad2f8b21,bp/remove-nova-network-ussuri, if power_on and timeout and first_boot and not rescue:, if (utils.is_neutron() and power_on and timeout and first_boot and not rescue):,1,62
openstack%2Fpuppet-tripleo~master~I380f631de03eb3baddac80661e4c7632180b1d64,openstack/puppet-tripleo,master,I380f631de03eb3baddac80661e4c7632180b1d64,"Revert ""Replace hiera('service_names') by hiera('enabled_services')""",MERGED,2019-12-04 17:07:08.000000000,2019-12-06 09:08:22.000000000,2019-12-06 09:08:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 17:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/540ed6f5e8ffc87238b92e3fc897108901db9df6', 'message': 'Revert ""Replace hiera(\'service_names\') by hiera(\'enabled_services\')""\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\nCloses-Bug: #1855138\n\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\n'}, {'number': 2, 'created': '2019-12-04 17:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce2131edcb19e0a75cf9e922f46d41fdd4f899e3', 'message': 'Revert ""Replace hiera(\'service_names\') by hiera(\'enabled_services\')""\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\n\nDepends-On: I7339b8791817bdaffa65c928d424796114efdf57\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\nCloses-Bug: #1855138\n'}, {'number': 3, 'created': '2019-12-04 18:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f9bb93f44fa4b95048e1f29f8ea06fd781911554', 'message': 'Revert ""Replace hiera(\'service_names\') by hiera(\'enabled_services\')""\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\n\nDepends-On: I7339b8791817bdaffa65c928d424796114efdf57\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\nCloses-Bug: #1855138\n'}, {'number': 4, 'created': '2019-12-04 19:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/684ace8867731d173ce7daf76afbc195faf7cdc5', 'message': 'Revert ""Replace hiera(\'service_names\') by hiera(\'enabled_services\')""\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\n\nDepends-On: I7339b8791817bdaffa65c928d424796114efdf57\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\n\nCloses-Bug: #1855138\n'}, {'number': 5, 'created': '2019-12-05 00:54:42.000000000', 'files': ['manifests/firewall.pp', 'manifests/profile/base/nova/migration/target.pp', 'spec/fixtures/hieradata/step4.yaml', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/logging/fluentd.pp', 'manifests/profile/base/logging/rsyslog.pp', 'spec/fixtures/hieradata/step2.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/950caffea800c4f7196cd511f459b7277a137e26', 'message': 'Revert ""Replace hiera(\'service_names\') by hiera(\'enabled_services\')""\n\nThis reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.\n\nDepends-On: I7339b8791817bdaffa65c928d424796114efdf57\nChange-Id: I380f631de03eb3baddac80661e4c7632180b1d64\n\nCloses-Bug: #1855138\n'}]",0,697325,950caffea800c4f7196cd511f459b7277a137e26,31,6,5,3153,,,0,"Revert ""Replace hiera('service_names') by hiera('enabled_services')""

This reverts commit 7970733cf1483fab466f205e57c9ea224f051c94.

Depends-On: I7339b8791817bdaffa65c928d424796114efdf57
Change-Id: I380f631de03eb3baddac80661e4c7632180b1d64

Closes-Bug: #1855138
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/25/697325/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/firewall.pp', 'manifests/profile/base/nova/migration/target.pp', 'spec/fixtures/hieradata/step4.yaml', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/logging/fluentd.pp', 'manifests/profile/base/logging/rsyslog.pp', 'spec/fixtures/hieradata/step2.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp']",8,540ed6f5e8ffc87238b92e3fc897108901db9df6,bug/1855138,"# Defaults to hiera('service_names') $service_names = hiera('service_names'),","# Defaults to hiera('enabled_services') $service_names = hiera('enabled_services'),",11,11
openstack%2Fnova~master~I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9,openstack/nova,master,I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9,nova-net: Flatten class hierarchy for neutron SG tests,MERGED,2019-11-28 11:02:05.000000000,2019-12-06 09:07:43.000000000,2019-12-06 09:07:42.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d338d941ca5d44c416a10e303eb26dac528e8e4', 'message': ""nova-net: Flatten class hierarchy for neutron SG tests\n\nWe're going to want to merge this back into the parent once we drop\nsupport for the nova-network security group driver. Make this a little\neasier by reducing some of the redundant levels of classes currently\nfound here.\n\nChange-Id: I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-11-28 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c33507d401f13a9f8e827757fee337b88a53c9f5', 'message': ""nova-net: Flatten class hierarchy for neutron SG tests\n\nWe're going to want to merge this back into the parent once we drop\nsupport for the nova-network security group driver. Make this a little\neasier by reducing some of the redundant levels of classes currently\nfound here.\n\nChange-Id: I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c3c5749a0fa1f2393923d43c66cc02ddd8462b7', 'message': ""nova-net: Flatten class hierarchy for neutron SG tests\n\nWe're going to want to merge this back into the parent once we drop\nsupport for the nova-network security group driver. Make this a little\neasier by reducing some of the redundant levels of classes currently\nfound here.\n\nChange-Id: I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c29d6dcf201658693dde92381f44195b981f2ec7', 'message': ""nova-net: Flatten class hierarchy for neutron SG tests\n\nWe're going to want to merge this back into the parent once we drop\nsupport for the nova-network security group driver. Make this a little\neasier by reducing some of the redundant levels of classes currently\nfound here.\n\nChange-Id: I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",10,696506,c29d6dcf201658693dde92381f44195b981f2ec7,48,10,4,15334,,,0,"nova-net: Flatten class hierarchy for neutron SG tests

We're going to want to merge this back into the parent once we drop
support for the nova-network security group driver. Make this a little
easier by reducing some of the redundant levels of classes currently
found here.

Change-Id: I4fdb1057101ec6a4c0c1f1f393462ffd86bec8c9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/696506/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_neutron_security_groups.py'],1,8d338d941ca5d44c416a10e303eb26dac528e8e4,bp/remove-nova-network-ussuri,"class TestNeutronSecurityGroupsV21(test_security_groups.TestSecurityGroupsV21): # Used to override set config in the base test in test_security_groups. use_neutron = True def setUp(self): super(TestNeutronSecurityGroupsV21, self).setUp() super(TestNeutronSecurityGroupsV21, self).tearDown()class TestNeutronSecurityGroupRulesV21( test_security_groups.TestSecurityGroupRulesV21): # Used to override set config in the base test in test_security_groups. use_neutron = True def setUp(self): super(TestNeutronSecurityGroupRulesV21, self).setUp() cfg.CONF.set_override('use_neutron', True) self.original_client = neutron_api.get_client neutron_api.get_client = get_client super(TestNeutronSecurityGroupRulesV21, self).tearDown()class TestNeutronSecurityGroupsOutputTest(test.TestCase): cfg.CONF.set_override('use_neutron', True) self.original_client = neutron_api.get_client neutron_api.get_client = get_client def tearDown(self): neutron_api.get_client = self.original_client get_client()._reset() super(TestNeutronSecurityGroupsOutputTest, self).tearDown() ","class TestNeutronSecurityGroupsTestCase(test.TestCase): def setUp(self): super(TestNeutronSecurityGroupsTestCase, self).setUp() super(TestNeutronSecurityGroupsTestCase, self).tearDown() class TestNeutronSecurityGroupsV21( test_security_groups.TestSecurityGroupsV21, TestNeutronSecurityGroupsTestCase): # Used to override set config in the base test in test_security_groups. use_neutron = Trueclass TestNeutronSecurityGroupRulesTestCase(TestNeutronSecurityGroupsTestCase): def setUp(self): super(TestNeutronSecurityGroupRulesTestCase, self).setUp() super(TestNeutronSecurityGroupsTestCase, self).tearDown() class _TestNeutronSecurityGroupRulesBase(object):class TestNeutronSecurityGroupRulesV21( _TestNeutronSecurityGroupRulesBase, test_security_groups.TestSecurityGroupRulesV21, TestNeutronSecurityGroupRulesTestCase): # Used to override set config in the base test in test_security_groups. use_neutron = True class TestNeutronSecurityGroupsOutputTest(TestNeutronSecurityGroupsTestCase):",29,25
openstack%2Ftripleo-heat-templates~master~I7339b8791817bdaffa65c928d424796114efdf57,openstack/tripleo-heat-templates,master,I7339b8791817bdaffa65c928d424796114efdf57,"Re-enable ""service_names"" hieradata",MERGED,2019-12-04 17:02:15.000000000,2019-12-06 09:04:03.000000000,2019-12-06 09:04:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-04 17:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/671c2367908fb5a817cfb4f16bb2c6c94888f849', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}, {'number': 2, 'created': '2019-12-04 18:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0bb37d0c456d6a195af3e1e883727c8b5867a68', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}, {'number': 3, 'created': '2019-12-04 19:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e5358da9169aac9f949ce52056bc2ec7bcff4e3', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}, {'number': 4, 'created': '2019-12-04 21:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a020640275991d881bda04b9ad2967760c22ba14', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}, {'number': 5, 'created': '2019-12-04 22:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb9027578a536a5c82f6f39d3500775c772b13fd', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}, {'number': 6, 'created': '2019-12-04 22:26:24.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5eff6783050a0449d4da1027e38dcee17672c66', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n'}]",0,697323,b5eff6783050a0449d4da1027e38dcee17672c66,40,7,6,3153,,,0,"Re-enable ""service_names"" hieradata

""service_names"" was a useful hieradata which listed the services enabled
for a specific roles vs ""enabled_services"" which are for all the
services enabled in the cloud, no matter the role.

This is re-added for backward compatibility.

Depends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd
Related-Bug: #1855138
Change-Id: I7339b8791817bdaffa65c928d424796114efdf57
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/697323/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,671c2367908fb5a817cfb4f16bb2c6c94888f849,bug/1855138, ServiceNames: type: comma_delimited_list default: [] service_names: {get_param: ServiceNames} - service_names,,6,0
openstack%2Fneutron~master~I948af3d3b93731dbf0773615759b49bf6b4a8f5f,openstack/neutron,master,I948af3d3b93731dbf0773615759b49bf6b4a8f5f,[OVN] Add revision number maintenance methods,MERGED,2019-11-28 12:16:52.000000000,2019-12-06 08:45:00.000000000,2019-12-06 08:42:49.000000000,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 12:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/866238d1e4c29e411fe77dc4cae4d24812b53230', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 2, 'created': '2019-11-28 15:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f694a24a92bf529562ea06be3ef95f2dad6ae4c', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 3, 'created': '2019-11-29 08:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39e495f3bd8fcca1a04823bbb1f4cddf06161c21', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 4, 'created': '2019-11-29 12:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63d0cffcd9e48a177b64bb786556892819cc8ad7', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 5, 'created': '2019-12-02 13:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c28411e2b77b8e9bfc168096745bbcf3a82b7761', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/db/maintenance -> ./neutron/db/ovn_revision_numbers_db\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}, {'number': 6, 'created': '2019-12-04 11:17:02.000000000', 'files': ['neutron/tests/unit/db/test_ovn_revision_numbers_db.py', 'neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8cb7e849f88c123568cfb0259abc7ef1c8f3d7c', 'message': '[OVN] Add revision number maintenance methods\n\nThe OVNRevisionNumbers maintenance methods are used to check\ninconsistences between the Neutron and the OVN databases. Two\nmethods are implemented:\n- get_inconsistent_resources: to retrieve those registers with\n  different revision number\n- get_deleted_resources: to retrieve the list of OVNRevisionNumbers\n  orphan registers (the resource register is deleted).\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/db/maintenance -> ./neutron/db/ovn_revision_numbers_db\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f\nPartially-Implements: blueprint neutron-ovn-merge\n'}]",1,696529,f8cb7e849f88c123568cfb0259abc7ef1c8f3d7c,62,8,6,16688,,,0,"[OVN] Add revision number maintenance methods

The OVNRevisionNumbers maintenance methods are used to check
inconsistences between the Neutron and the OVN databases. Two
methods are implemented:
- get_inconsistent_resources: to retrieve those registers with
  different revision number
- get_deleted_resources: to retrieve the list of OVNRevisionNumbers
  orphan registers (the resource register is deleted).

Previous paths in networking-ovn tree:
./networking_ovn/db/maintenance -> ./neutron/db/ovn_revision_numbers_db

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Change-Id: I948af3d3b93731dbf0773615759b49bf6b4a8f5f
Partially-Implements: blueprint neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/696529/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_revision_numbers_db.py', 'neutron/db/ovn_revision_numbers_db.py']",2,866238d1e4c29e411fe77dc4cae4d24812b53230,bp/neutron-ovn-merge,"import datetime from oslo_utils import timeutils import sqlalchemy as sa _TYPES_PRIORITY_ORDER = ( TYPE_NETWORKS, TYPE_SECURITY_GROUPS, TYPE_SUBNETS, TYPE_ROUTERS, TYPE_PORTS, TYPE_ROUTER_PORTS, TYPE_FLOATINGIPS, TYPE_SECURITY_GROUP_RULES) # The order in which the resources should be created or updated by the # maintenance task: Root ones first and leafs at the end. MAINTENANCE_CREATE_UPDATE_TYPE_ORDER = { t: n for n, t in enumerate(_TYPES_PRIORITY_ORDER, 1)} # The order in which the resources should be deleted by the maintenance # task: Leaf ones first and roots at the end. MAINTENANCE_DELETE_TYPE_ORDER = { t: n for n, t in enumerate(reversed(_TYPES_PRIORITY_ORDER), 1)} # Time (in seconds) used to identify if an entry is new before considering # it an inconsistency INCONSISTENCIES_OLDER_THAN = 60 if resource_type in _TYPES_PRIORITY_ORDER: def get_inconsistent_resources(context): """"""Get a list of inconsistent resources. :returns: A list of objects which the revision number from the ovn_revision_number and standardattributes tables differs. """""" sort_order = sa.case(value=ovn_models.OVNRevisionNumbers.resource_type, whens=MAINTENANCE_CREATE_UPDATE_TYPE_ORDER) time_ = (timeutils.utcnow() - datetime.timedelta(seconds=INCONSISTENCIES_OLDER_THAN)) with db_api.CONTEXT_READER.using(context): query = context.session.query(ovn_models.OVNRevisionNumbers).join( standard_attr.StandardAttribute, ovn_models.OVNRevisionNumbers.standard_attr_id == standard_attr.StandardAttribute.id) # Filter out new entries query = query.filter( standard_attr.StandardAttribute.created_at < time_) # Filter for resources which revision_number differs query = query.filter( ovn_models.OVNRevisionNumbers.revision_number != standard_attr.StandardAttribute.revision_number) return query.order_by(sort_order).all() def get_deleted_resources(context): """"""Get a list of resources that failed to be deleted in OVN. Get a list of resources that have been deleted from neutron but not in OVN. Once a resource is deleted in Neutron the ``standard_attr_id`` foreign key in the ovn_revision_numbers table will be set to NULL. Upon successfully deleting the resource in OVN the entry in the ovn_revision_number should also be deleted but if something fails the entry will be kept and returned in this list so the maintenance thread can later fix it. """""" sort_order = sa.case(value=ovn_models.OVNRevisionNumbers.resource_type, whens=MAINTENANCE_DELETE_TYPE_ORDER) with db_api.CONTEXT_READER.using(context): return context.session.query(ovn_models.OVNRevisionNumbers).filter_by( standard_attr_id=None).order_by(sort_order).all()","TYPES_OVN = (TYPE_NETWORKS, TYPE_PORTS, TYPE_SECURITY_GROUP_RULES, TYPE_ROUTERS, TYPE_ROUTER_PORTS, TYPE_SECURITY_GROUPS, TYPE_FLOATINGIPS, TYPE_SUBNETS) if resource_type in TYPES_OVN:",226,4
openstack%2Fcinder~master~I394c1f802409137d95a82ed6d1a4b82cf755b9e7,openstack/cinder,master,I394c1f802409137d95a82ed6d1a4b82cf755b9e7,Readd reno to test-requirements,MERGED,2019-12-02 10:15:52.000000000,2019-12-06 08:44:38.000000000,2019-12-06 08:42:52.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-12-02 10:15:52.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6cd56baca1e7482eac53373a143a32970905e06', 'message': 'Readd reno to test-requirements\n\nIf86dd619402495d9d4470b14cb270fcf53db6794 moved reno to the docs\nrequirements file, so it is now only installed into the docs virtual\nenvironment. Our instructions for adding release notes state to use ""tox\n-e venv -- reno new [slug]"" to generate the new release note. This now\nfails due to reno not being present in the default virtual environment.\n\nThis add reno back to test-requirements to make sure it is present for\ngenerating new release notes.\n\nChange-Id: I394c1f802409137d95a82ed6d1a4b82cf755b9e7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,696853,d6cd56baca1e7482eac53373a143a32970905e06,68,30,1,11904,,,0,"Readd reno to test-requirements

If86dd619402495d9d4470b14cb270fcf53db6794 moved reno to the docs
requirements file, so it is now only installed into the docs virtual
environment. Our instructions for adding release notes state to use ""tox
-e venv -- reno new [slug]"" to generate the new release note. This now
fails due to reno not being present in the default virtual environment.

This add reno back to test-requirements to make sure it is present for
generating new release notes.

Change-Id: I394c1f802409137d95a82ed6d1a4b82cf755b9e7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/696853/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d6cd56baca1e7482eac53373a143a32970905e06,reno,reno>=2.5.0 # Apache-2.0,,1,0
openstack%2Fhorizon~master~I5f2a027149be490613e7661b895325a63374334d,openstack/horizon,master,I5f2a027149be490613e7661b895325a63374334d,Fix change expired password feature,MERGED,2019-11-05 04:21:41.000000000,2019-12-06 08:26:09.000000000,2019-12-06 00:54:54.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-05 04:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f41a302c3fac3f20e0ed94ae2ac16cf86d3ec10b', 'message': 'Fix change expired password feature\n\nChange-Id: I5f2a027149be490613e7661b895325a63374334d\n'}, {'number': 2, 'created': '2019-11-06 01:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0577ab0dcd70c6a95d9e75dddd40f1e66055f33', 'message': 'Fix change expired password feature\n\nCloses-Bug: #1791111\nChange-Id: I5f2a027149be490613e7661b895325a63374334d\n'}, {'number': 3, 'created': '2019-12-05 13:56:26.000000000', 'files': ['openstack_auth/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c0cc0433c645181a9031b99d23954ae9bece9542', 'message': 'Fix change expired password feature\n\nCloses-Bug: #1791111\nChange-Id: I5f2a027149be490613e7661b895325a63374334d\n'}]",2,692945,c0cc0433c645181a9031b99d23954ae9bece9542,26,4,3,1736,,,0,"Fix change expired password feature

Closes-Bug: #1791111
Change-Id: I5f2a027149be490613e7661b895325a63374334d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/692945/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/forms.py'],1,f41a302c3fac3f20e0ed94ae2ac16cf86d3ec10b,change-password-fix,"from keystoneauth1 import plugin as auth_pluginclass DummyAuth(auth_plugin.BaseAuthPlugin): def get_headers(self, session, **kwargs): return {} except Exception as e: LOG.error(""Unable to update password during to the exception: %s"", e)",class DummyAuth(object): except Exception:,8,2
openstack%2Ftripleo-heat-templates~master~Ic036ad901885f9d8c8072b560f2d9f3c8e919d58,openstack/tripleo-heat-templates,master,Ic036ad901885f9d8c8072b560f2d9f3c8e919d58,Ensure we set proper SELinux label on container-puppet.sh,MERGED,2019-11-28 15:38:43.000000000,2019-12-06 08:13:09.000000000,2019-12-06 07:16:29.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30598}]","[{'number': 1, 'created': '2019-11-28 15:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fd1e8e9dc5799b847b6edb5d37f0d187c49b2b4', 'message': 'Ensure we set proper SELinux label on container-puppet.sh\n\nJust to ensure we have the right label, even if something does mount the\ndirectory with re-labelling. This would avoid any race-condition chance.\n\nAlso update old svirt_sandbox_file_t alias since the common thing is\n""container_file_t"".\n\nChange-Id: Ic036ad901885f9d8c8072b560f2d9f3c8e919d58\n'}, {'number': 2, 'created': '2019-11-28 16:01:21.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b146b1e45fbf3a7829128eeb6dd510f9f21b278', 'message': 'Ensure we set proper SELinux label on container-puppet.sh\n\nJust to ensure we have the right label, even if something does mount the\ndirectory with re-labelling. This would avoid any race-condition chance.\n\nAlso update old svirt_sandbox_file_t alias since the common thing is\n""container_file_t"".\n\nChange-Id: Ic036ad901885f9d8c8072b560f2d9f3c8e919d58\nCloses-Bug: #1854377\n'}]",0,696602,3b146b1e45fbf3a7829128eeb6dd510f9f21b278,12,5,2,28223,,,0,"Ensure we set proper SELinux label on container-puppet.sh

Just to ensure we have the right label, even if something does mount the
directory with re-labelling. This would avoid any race-condition chance.

Also update old svirt_sandbox_file_t alias since the common thing is
""container_file_t"".

Change-Id: Ic036ad901885f9d8c8072b560f2d9f3c8e919d58
Closes-Bug: #1854377
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/696602/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml']",2,4fd1e8e9dc5799b847b6edb5d37f0d187c49b2b4,selinux/container-puppet, file: path=/var/lib/container-puppet state=directory setype=container_file_t selevel=s0 recurse=true copy: src=container_puppet_script.yaml dest=/var/lib/container-puppet/container-puppet.sh force=yes mode=0755 setype=container_file_t, file: path=/var/lib/container-puppet state=directory setype=svirt_sandbox_file_t selevel=s0 recurse=true copy: src=container_puppet_script.yaml dest=/var/lib/container-puppet/container-puppet.sh force=yes mode=0755,3,3
openstack%2Faodh~master~I666817cdcf9083f2ad5871d157900cb6dc5a86e0,openstack/aodh,master,I666817cdcf9083f2ad5871d157900cb6dc5a86e0,Support aodh-evaluator built-in active/active deployment mode,MERGED,2019-12-05 21:12:35.000000000,2019-12-06 07:59:18.000000000,2019-12-06 07:01:18.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 21:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/cd352f24bd1f2e1e7278b757c4deccac8109212f', 'message': '[WIP] Support aodh-evaluator built-in active/active deployment mode\n\nSupport to deploy aodh-evaluator in active/active mode by leveraging\ndatabase non-locking mechanism. With this feature, there could be\nmultiple aodh-evaluator processes running without dependency of etcd or\nzookeeper.\n\nChange-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0\n'}, {'number': 2, 'created': '2019-12-06 01:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/11acdb0026e4377b2a4b351056a7e6441b8ea173', 'message': ""Support aodh-evaluator built-in active/active deployment mode\n\nSupport to deploy aodh-evaluator in active/active mode by leveraging\ndatabase non-locking mechanism. With this feature, there could be\nmultiple aodh-evaluator processes running without dependency of etcd or\nzookeeper.\n\nThe main change is in aodh/evaluator/__init__.py, all other code changed\nbecause of 'storage_conn.get_alarms()' implementation changed.\n\nChange-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0\n""}, {'number': 3, 'created': '2019-12-06 02:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b48c29d0fbbbc80fc106a970157009fe860ea72a', 'message': ""Support aodh-evaluator built-in active/active deployment mode\n\nSupport to deploy aodh-evaluator in active/active mode by leveraging\ndatabase non-locking mechanism. With this feature, there could be\nmultiple aodh-evaluator processes running without dependency of etcd or\nzookeeper.\n\nThe main change is in aodh/evaluator/__init__.py, all other code changed\nbecause of 'storage_conn.get_alarms()' implementation changed.\n\nChange-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0\n""}, {'number': 4, 'created': '2019-12-06 02:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/72d973b7f20f0e3d8c2ca83d3cabe0a0b1c56244', 'message': ""Support aodh-evaluator built-in active/active deployment mode\n\nSupport to deploy aodh-evaluator in active/active mode by leveraging\ndatabase non-locking mechanism. With this feature, there could be\nmultiple aodh-evaluator processes running without dependency of etcd or\nzookeeper.\n\nThe main change is in aodh/evaluator/__init__.py, in order to use\nnon-locking db update, a new column named 'evaluate_timestamp' is\nintroduced to 'alarm' table. all other code is changed\nbecause of 'storage_conn.get_alarms()' implementation changed.\n\nChange-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0\n""}, {'number': 5, 'created': '2019-12-06 03:23:42.000000000', 'files': ['aodh/tests/base.py', 'aodh/api/rbac.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/service.py', 'aodh/api/policies.py', 'aodh/tests/functional/api/v2/test_query.py', 'aodh/api/controllers/v2/base.py', 'aodh/api/controllers/v2/alarms.py', 'aodh/storage/models.py', 'aodh/storage/sqlalchemy/models.py', 'aodh/tests/unit/evaluator/test_event.py', 'releasenotes/notes/ussuri-support-builtin-active-active-aodh-evaluator-a935577e17a211ea.yaml', 'releasenotes/notes/ussuri-support-query-all-projects-alarms-by-admin-3ecccf2217d711ea.yaml', 'aodh/tests/unit/test_evaluator.py', 'aodh/api/controllers/v2/utils.py', 'aodh/api/controllers/v2/alarm_rules/event.py', 'aodh/evaluator/__init__.py', 'aodh/coordination.py', 'aodh/tests/unit/evaluator/base.py', 'aodh/evaluator/event.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/storage/sqlalchemy/alembic/versions/006_add_evaluate_timestamp_to_alarm.py', 'aodh/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/1349706e2ee6c2735c224b93e442a998a221118d', 'message': ""Support aodh-evaluator built-in active/active deployment mode\n\nSupport to deploy aodh-evaluator in active/active mode by leveraging\ndatabase non-locking mechanism. With this feature, there could be\nmultiple aodh-evaluator processes running without dependency of etcd or\nzookeeper.\n\nThe main change is in aodh/evaluator/__init__.py, in order to use\nnon-locking db update, a new column named 'evaluate_timestamp' is\nintroduced to 'alarm' table. all other code is changed\nbecause of 'storage_conn.get_alarms()' implementation changed.\n\nChange-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0\n""}]",2,697566,1349706e2ee6c2735c224b93e442a998a221118d,14,2,5,6732,,,0,"Support aodh-evaluator built-in active/active deployment mode

Support to deploy aodh-evaluator in active/active mode by leveraging
database non-locking mechanism. With this feature, there could be
multiple aodh-evaluator processes running without dependency of etcd or
zookeeper.

The main change is in aodh/evaluator/__init__.py, in order to use
non-locking db update, a new column named 'evaluate_timestamp' is
introduced to 'alarm' table. all other code is changed
because of 'storage_conn.get_alarms()' implementation changed.

Change-Id: I666817cdcf9083f2ad5871d157900cb6dc5a86e0
",git fetch https://review.opendev.org/openstack/aodh refs/changes/66/697566/4 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/api/rbac.py', 'aodh/service.py', 'aodh/api/policies.py', 'aodh/api/controllers/v2/utils.py', 'aodh/tests/functional/api/v2/test_query.py', 'aodh/api/controllers/v2/base.py', 'aodh/api/controllers/v2/alarms.py', 'aodh/storage/models.py', 'aodh/api/controllers/v2/alarm_rules/event.py', 'aodh/evaluator/__init__.py', 'aodh/coordination.py', 'aodh/storage/sqlalchemy/models.py', 'aodh/evaluator/event.py', 'aodh/storage/impl_sqlalchemy.py', 'aodh/storage/base.py', 'aodh/storage/sqlalchemy/alembic/versions/006_add_evaluate_timestamp_to_alarm.py', 'releasenotes/notes/ussuri-support-builtin-active-active-aodh-evaluator-a935577e17a211ea.yaml']",17,cd352f24bd1f2e1e7278b757c4deccac8109212f,alarm-lock,"--- features: - Support to deploy aodh-evaluator in active/active mode by leveraging database non-locking mechanism. With this feature, there could be multiple aodh-evaluator processes running without dependency of etcd or zookeeper. ",,318,143
openstack%2Fpython-glanceclient~master~Idd3d92657a7c17370afc0d0c35cc4666025ab9d6,openstack/python-glanceclient,master,Idd3d92657a7c17370afc0d0c35cc4666025ab9d6,Stop configuring install_command in tox.,MERGED,2019-11-15 09:19:03.000000000,2019-12-06 07:52:01.000000000,2019-12-06 07:50:52.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-15 09:19:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1f9fe0319b20629938baf44ec8acb24522adf509', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Idd3d92657a7c17370afc0d0c35cc4666025ab9d6\n""}]",0,694487,1f9fe0319b20629938baf44ec8acb24522adf509,9,4,1,31245,,,0,"Stop configuring install_command in tox.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Idd3d92657a7c17370afc0d0c35cc4666025ab9d6
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/87/694487/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f9fe0319b20629938baf44ec8acb24522adf509,stop_configuring_install_command,setenv = OS_STDOUT_NOCAPTURE=False,install_command = pip install {opts} {packages} setenv = VIRTUAL_ENV={envdir} OS_STDOUT_NOCAPTURE=False,1,3
openstack%2Fpanko~master~Ic895009bf6202d742d4cb9a7f9bd7c70fde8dbe2,openstack/panko,master,Ic895009bf6202d742d4cb9a7f9bd7c70fde8dbe2,Change openstack-dev to openstack-discuss,NEW,2018-12-04 06:15:52.000000000,2019-12-06 07:48:39.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29360}, {'_account_id': 30619}]","[{'number': 1, 'created': '2018-12-04 06:15:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/panko/commit/e02fa2f74d7db15765f08f3b7aeff3182272af35', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces\nopenstack-dev.\n\nChange-Id: Ic895009bf6202d742d4cb9a7f9bd7c70fde8dbe2\n'}]",0,622011,e02fa2f74d7db15765f08f3b7aeff3182272af35,11,4,1,29360,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces
openstack-dev.

Change-Id: Ic895009bf6202d742d4cb9a7f9bd7c70fde8dbe2
",git fetch https://review.opendev.org/openstack/panko refs/changes/11/622011/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e02fa2f74d7db15765f08f3b7aeff3182272af35,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7339b8791817bdaffa65c928d424796114efdf57,openstack/tripleo-heat-templates,stable/train,I7339b8791817bdaffa65c928d424796114efdf57,"Re-enable ""service_names"" hieradata",MERGED,2019-12-05 13:14:29.000000000,2019-12-06 07:16:33.000000000,2019-12-06 07:16:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 13:14:29.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8b060727171fee75eb9adba16258c6b0c420ef8', 'message': 'Re-enable ""service_names"" hieradata\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nDepends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\nChange-Id: I7339b8791817bdaffa65c928d424796114efdf57\n(cherry picked from commit b5eff6783050a0449d4da1027e38dcee17672c66)\n'}]",0,697464,d8b060727171fee75eb9adba16258c6b0c420ef8,14,4,1,3153,,,0,"Re-enable ""service_names"" hieradata

""service_names"" was a useful hieradata which listed the services enabled
for a specific roles vs ""enabled_services"" which are for all the
services enabled in the cloud, no matter the role.

This is re-added for backward compatibility.

Depends-On: I75b1112089a66cf5db0a2fd651bb24428cf861fd
Related-Bug: #1855138
Change-Id: I7339b8791817bdaffa65c928d424796114efdf57
(cherry picked from commit b5eff6783050a0449d4da1027e38dcee17672c66)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/697464/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2']",2,d8b060727171fee75eb9adba16258c6b0c420ef8,bug/1855138, - service_names,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I943ae272749b05d18549db6da8efadf7867b34af,openstack/tripleo-heat-templates,stable/train,I943ae272749b05d18549db6da8efadf7867b34af,Add a version of the multiple-nics templates with tagged VLANs,MERGED,2019-11-27 11:33:51.000000000,2019-12-06 07:16:31.000000000,2019-12-06 07:16:31.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-27 11:33:51.000000000', 'files': ['environments/net-multiple-nics-vlans.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/compute-dvr.j2.yaml', 'network/config/multiple-nics-vlans/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a9bbec27b6050b5de35fc1c72ad6f8e1abbcbd1', 'message': 'Add a version of the multiple-nics templates with tagged VLANs\n\nThis change duplicates the multiple-nics templates, only with tagged\nVLANs on each NIC. This is for demonstration, since most production\nenvironments would have ports with VLANs delivered untagged, but it\nserves to show how to use tagged VLANs on regular interface ports.\n\nChange-Id: I943ae272749b05d18549db6da8efadf7867b34af\n(cherry picked from commit e2d2462c534ee57c6379fb8d15ca52c779984c64)\n'}]",0,696288,3a9bbec27b6050b5de35fc1c72ad6f8e1abbcbd1,10,5,1,21909,,,0,"Add a version of the multiple-nics templates with tagged VLANs

This change duplicates the multiple-nics templates, only with tagged
VLANs on each NIC. This is for demonstration, since most production
environments would have ports with VLANs delivered untagged, but it
serves to show how to use tagged VLANs on regular interface ports.

Change-Id: I943ae272749b05d18549db6da8efadf7867b34af
(cherry picked from commit e2d2462c534ee57c6379fb8d15ca52c779984c64)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/696288/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/net-multiple-nics-vlans.j2.yaml', 'network/config/multiple-nics-vlans/role.role.j2.yaml', 'network/config/multiple-nics-vlans/compute-dvr.j2.yaml', 'network/config/multiple-nics-vlans/README.md']",4,3a9bbec27b6050b5de35fc1c72ad6f8e1abbcbd1,multiple-nics-vlans-stable/train,"This directory contains Heat templates to help configure multiple NICs for each Overcloud role, where it is assumed that each NIC is running a specific network traffic type with tagged VLANs. Configuration ------------- To make use of these templates create a Heat environment that looks something like this: resource\_registry: OS::TripleO::BlockStorage::Net::SoftwareConfig: network/config/multiple-nics/cinder-storage.yaml OS::TripleO::Compute::Net::SoftwareConfig: network/config/multiple-nics/compute.yaml OS::TripleO::Controller::Net::SoftwareConfig: network/config/multiple-nics/controller.yaml OS::TripleO::ObjectStorage::Net::SoftwareConfig: network/config/multiple-nics/swift-storage.yaml OS::TripleO::CephStorage::Net::SoftwareConfig: network/config/multiple-nics/ceph-storage.yaml Or use this Heat environment file: environments/net-multiple-nics-vlans.yaml Configuration with System Management Network -------------------------------------------- The Management network is enabled for backwards-compatibility, but is not included in any roles by default. To enable the optional System Management network, create a Heat environment that looks something like this: resource\_registry: OS::TripleO::Network::Management: ../network/management.yaml OS::TripleO::Controller::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::Compute::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::CephStorage::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::ObjectStorage::Ports::ManagementPort: ../network/ports/management.yaml OS::TripleO::BlockStorage::Ports::ManagementPort: ../network/ports/management.yaml Or use this Heat environment file: environments/network-management.yaml Or, add the network to the list of networks used by each role in the role definition file (e.g. roles_data.yaml). Refer to installation documentation for procedure to generate a role file for custom roles. ",,488,0
openstack%2Ftripleo-common~master~Ie0abc345cea4a69b19b2ea760a29a2cab61c1ceb,openstack/tripleo-common,master,Ie0abc345cea4a69b19b2ea760a29a2cab61c1ceb,Provide the output to add a validation for role-specific params on services,MERGED,2018-02-16 10:28:23.000000000,2019-12-06 07:11:38.000000000,2018-03-08 10:19:04.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 9712}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-16 10:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/53a920c73c391731db371426cd1c3a1aa3ca34b6', 'message': 'Provide the output to add a validation for role-specific params on services\n\nIn order to provide role-specific parameters for a service,\n""<RoleName>Parameters"" should be used to provide the actual\nparameter to be applied to a specific role (in the parameter_defaults\nof user\'s environment file). Parameters require special implementation\nto support role-specific in a service. This workflow validates the\nuser provided role-specific parameters with the actual implementation\nand provides the invalid ones. The actual role-specific parameters\non a template could be found using the \'tags\' attribute of a\nparameter in the heat template.\n\nChange-Id: Ie0abc345cea4a69b19b2ea760a29a2cab61c1ceb\n'}, {'number': 2, 'created': '2018-02-16 13:03:40.000000000', 'files': ['releasenotes/notes/role-specific-validation-5ea0a31711ced6fe.yaml', 'workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8586cc1542e894e52767507e1ec87f3d9ac95e03', 'message': 'Provide the output to add a validation for role-specific params on services\n\nIn order to provide role-specific parameters for a service,\n""<RoleName>Parameters"" should be used to provide the actual\nparameter to be applied to a specific role (in the parameter_defaults\nof user\'s environment file). Parameters require special implementation\nto support role-specific in a service. This workflow validates the\nuser provided role-specific parameters with the actual implementation\nand provides the invalid ones. The actual role-specific parameters\non a template could be found using the \'tags\' attribute of a\nparameter in the heat template.\n\nChange-Id: Ie0abc345cea4a69b19b2ea760a29a2cab61c1ceb\n'}]",3,545257,8586cc1542e894e52767507e1ec87f3d9ac95e03,17,6,2,18575,,,0,"Provide the output to add a validation for role-specific params on services

In order to provide role-specific parameters for a service,
""<RoleName>Parameters"" should be used to provide the actual
parameter to be applied to a specific role (in the parameter_defaults
of user's environment file). Parameters require special implementation
to support role-specific in a service. This workflow validates the
user provided role-specific parameters with the actual implementation
and provides the invalid ones. The actual role-specific parameters
on a template could be found using the 'tags' attribute of a
parameter in the heat template.

Change-Id: Ie0abc345cea4a69b19b2ea760a29a2cab61c1ceb
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/545257/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/role-specific-validation-5ea0a31711ced6fe.yaml', 'workbooks/plan_management.yaml']",2,53a920c73c391731db371426cd1c3a1aa3ca34b6,verify_role_specific_params," get_roles: action: tripleo.role.list container=<% $.container %> publish: role_name_list: <% task().result %> on-success: - get_flatten_data: <% $.role_name_list %> - set_status_failed_get_roles: <% not $.role_name_list %> on-error: set_status_failed_on_error_get_roles params_role_specific_tag: <% task().result.heat_resource_tree.parameters.values().where( $.get('tags') and $.get('tags').contains('role_specific') ).select($.name).flatten() %> valid_role_name_list: <% let(hr => task().result.heat_resource_tree.parameters) -> $.role_name_list.where(int($hr.get(concat($, 'Count'), {}).get('default', 0)) > 0) %> on-success: get_user_role_params get_user_role_params: on-success: find_invalid_role_specific_params with-items: role_name in <% $.valid_role_name_list %> concurrency: 1 action: std.echo output=<% ""{}Parameters"".format($.role_name) %> publish: user_provided_role_specific: <% let(param => task().result) -> $.user_params.items().where( $param.contains($[0]) ).select( $[1] ).flatten().sum().keys() %> find_invalid_role_specific_params: on-success: send_message publish: invalid_role_specific: <% let(role_spec => $.params_role_specific_tag) -> $.user_provided_role_specific.where( not $role_spec.contains($) ) %> set_status_failed_get_roles: on-success: send_message publish: status: FAILED message: ""Unable to determine the list of roles in the deployment plan"" set_status_failed_on_error_get_roles: on-success: send_message publish: status: FAILED message: <% task(get_roles).result %> invalid_role_specific: <% $.get('invalid_role_specific', []) %>", on-success: send_message,41,1
openstack%2Fmagnum~master~Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f,openstack/magnum,master,Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f,Change k8s-keystone-auth docker repo,MERGED,2019-11-29 13:59:06.000000000,2019-12-06 07:08:50.000000000,2019-12-05 14:31:15.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-11-29 13:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d6949bdf04232cf70191d7aed1fa798d1618a43f', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 2, 'created': '2019-11-29 16:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1fb00f935f3097fe094fff6332a0ffb2168f46c7', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 3, 'created': '2019-11-29 16:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a1bc978bc4c1a863ad7a6b924f85353b2d1f8245', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 4, 'created': '2019-12-02 10:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4cb208ba7cdad62791105178c1eff3eb47961607', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nStory: 2006967\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 5, 'created': '2019-12-02 13:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0347892b194073cb9329334c7512d4377091b492', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nStory: 2006967\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 6, 'created': '2019-12-02 13:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8aabc1a6fae62e4c50cb040a7b70c746364c95e7', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nStory: 2006967\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 7, 'created': '2019-12-02 14:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/becf124da97a276575ef19b0d0d185f9b968828b', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train release.\n\nStory: 2006967\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}, {'number': 8, 'created': '2019-12-02 14:22:01.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'releasenotes/notes/keystone-auth-repo-6970c05f44299326.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9910925da98f251dc9417dea8342cb0af54595d4', 'message': 'Change k8s-keystone-auth docker repo\n\nReverts the change in https://review.opendev.org/#/c/643225/22 (line 9).\nThis allows users to deploy clusters with all released versions of\ncloud-provider-openstack. The openstackmagnum repo only has v1.14.0\n\nAlso updates the docs with the default value for the Train/Ussuri release.\n\nUpdates the default tag to v1.15.0 for Ussuri.\n\nStory: 2006967\nChange-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f\n'}]",8,696706,9910925da98f251dc9417dea8342cb0af54595d4,35,6,8,30927,,,0,"Change k8s-keystone-auth docker repo

Reverts the change in https://review.opendev.org/#/c/643225/22 (line 9).
This allows users to deploy clusters with all released versions of
cloud-provider-openstack. The openstackmagnum repo only has v1.14.0

Also updates the docs with the default value for the Train/Ussuri release.

Updates the default tag to v1.15.0 for Ussuri.

Story: 2006967
Change-Id: Icf6f9f3c02d6b211c4dc3c1d654c8d8573443e0f
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/696706/8 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh'],1,d6949bdf04232cf70191d7aed1fa798d1618a43f,keystone-auth-repo, _prefix=${CONTAINER_INFRA_PREFIX:-docker.io/k8scloudprovider/}, _prefix=${CONTAINER_INFRA_PREFIX:-docker.io/openstackmagnum/},1,1
openstack%2Fpuppet-tripleo~master~I73f05b163f6153810f46d60d0d7f384d48207211,openstack/puppet-tripleo,master,I73f05b163f6153810f46d60d0d7f384d48207211,remove the repetition words in docs,ABANDONED,2018-12-13 13:04:38.000000000,2019-12-06 07:05:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-13 13:04:38.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'releasenotes/notes/nova_migration_qemu-fc2150565dae8d33.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'spec/classes/tripleo_profile_base_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eaa4360610cc4de64845e7a0ed42b703df47878a', 'message': 'remove the repetition words in docs\n\nChange-Id: I73f05b163f6153810f46d60d0d7f384d48207211\n'}]",0,624985,eaa4360610cc4de64845e7a0ed42b703df47878a,9,5,1,29655,,,0,"remove the repetition words in docs

Change-Id: I73f05b163f6153810f46d60d0d7f384d48207211
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/624985/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/database/redis.pp', 'releasenotes/notes/nova_migration_qemu-fc2150565dae8d33.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp', 'spec/classes/tripleo_profile_base_neutron_spec.rb']",5,eaa4360610cc4de64845e7a0ed42b703df47878a,, it 'should set the value' do, it 'should set the the value' do,5,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6b5af0b5afcdec75fe239385922dc84fbbb8288c,openstack/tripleo-heat-templates,stable/train,I6b5af0b5afcdec75fe239385922dc84fbbb8288c,Split QDR environment from collectd,MERGED,2019-12-03 14:51:56.000000000,2019-12-06 07:04:37.000000000,2019-12-06 07:04:37.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 14:51:56.000000000', 'files': ['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6be8329c96578b82f953670a0957bf01a0436dc7', 'message': 'Split QDR environment from collectd\n\nThis patch splits QDR configuration from shared environment files which enables\nflexibility to either run in edge mode only or in mesh mode.\n\nIt also adds separate environment file for ceilometer and dynamic listener\nconfiguration for storage nodes for cases when storage nodes are not connected\nto internal network (which is a case for CephStorage nodes by default).\n\nChange-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c\n(cherry picked from commit 7ed8ab86dd1754cd9954df8b59dddd3498259e76)\n'}]",0,697100,6be8329c96578b82f953670a0957bf01a0436dc7,8,4,1,5241,,,0,"Split QDR environment from collectd

This patch splits QDR configuration from shared environment files which enables
flexibility to either run in edge mode only or in mesh mode.

It also adds separate environment file for ceilometer and dynamic listener
configuration for storage nodes for cases when storage nodes are not connected
to internal network (which is a case for CephStorage nodes by default).

Change-Id: I6b5af0b5afcdec75fe239385922dc84fbbb8288c
(cherry picked from commit 7ed8ab86dd1754cd9954df8b59dddd3498259e76)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/697100/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'environments/metrics/ceilometer-write-qdr.yaml']",4,6be8329c96578b82f953670a0957bf01a0436dc7,saf-environments-stable/train,## This environment serves the purpose of enabling ceilometer to send telemetry and notification data ## through QPID dispatch routers. resource_registry: OS::TripleO::Services::CeilometerAgentCentral: ../../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::CeilometerAgentIpmi: ../../deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml parameter_defaults: CeilometerQdrPublish: true ,,72,14
openstack%2Ftripleo-quickstart-extras~master~Ic7cfdb28647fa5addb3e6561cc5a1701f6848645,openstack/tripleo-quickstart-extras,master,Ic7cfdb28647fa5addb3e6561cc5a1701f6848645,tempest: try to find clouds.yaml in /etc/openstack,MERGED,2019-11-29 20:12:47.000000000,2019-12-06 06:51:47.000000000,2019-12-06 06:51:47.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 20:12:47.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4017ebcdca4654d052e9bfe6e55aa07969cb4ade', 'message': ""tempest: try to find clouds.yaml in /etc/openstack\n\nIf the clouds.yaml can't be found in ~/.config/openstack, it can also be\nin /etc/openstack.\n\nThis is useful for https://review.opendev.org/#/c/696390/.\n\nChange-Id: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645\n""}]",1,696759,4017ebcdca4654d052e9bfe6e55aa07969cb4ade,20,6,1,3153,,,0,"tempest: try to find clouds.yaml in /etc/openstack

If the clouds.yaml can't be found in ~/.config/openstack, it can also be
in /etc/openstack.

This is useful for https://review.opendev.org/#/c/696390/.

Change-Id: Ic7cfdb28647fa5addb3e6561cc5a1701f6848645
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/696759/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,4017ebcdca4654d052e9bfe6e55aa07969cb4ade,tripleo-keystone-resources,- name: Copy clouds.yaml file to /root directory block: - name: Copy clouds.yaml file from user's home to /root directory copy: src: '{{ ansible_user_dir }}/.config/openstack/clouds.yaml' remote_src: true dest: '/root/.config/openstack/clouds.yaml' mode: 0600 become: true rescue: - name: Copy clouds.yaml file /etc/openstack to /root directory copy: src: '/etc/openstack/clouds.yaml' remote_src: true dest: '/root/.config/openstack/clouds.yaml' mode: 0600 become: true,- name: Copy clouds.yaml file from user's home to /root directory copy: src: '{{ ansible_user_dir }}/.config/openstack/clouds.yaml' remote_src: true dest: '/root/.config/openstack/clouds.yaml' mode: 0600 become: true,17,7
openstack%2Ftripleo-heat-templates~master~I37245f6cada11f060b8a0b8da06a583d64bb347b,openstack/tripleo-heat-templates,master,I37245f6cada11f060b8a0b8da06a583d64bb347b,Fix the Octavia amphora provider driver description,MERGED,2019-12-05 09:30:42.000000000,2019-12-06 06:40:51.000000000,2019-12-06 06:40:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-12-05 09:30:42.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88d6c029db2aa0d7ae8106f7add5d88b8562e61b', 'message': ""Fix the Octavia amphora provider driver description\n\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails with the following:\n\ntesttools.matchers._impl.MismatchError: 'The Octavia Amphora driver.' != 'Octavia Amphora Driver.'\n\nChange-Id: I37245f6cada11f060b8a0b8da06a583d64bb347b\n""}]",2,697425,88d6c029db2aa0d7ae8106f7add5d88b8562e61b,12,7,1,6469,,,0,"Fix the Octavia amphora provider driver description

octavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list
fails with the following:

testtools.matchers._impl.MismatchError: 'The Octavia Amphora driver.' != 'Octavia Amphora Driver.'

Change-Id: I37245f6cada11f060b8a0b8da06a583d64bb347b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/697425/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,88d6c029db2aa0d7ae8106f7add5d88b8562e61b,," - octavia::api::provider_drivers: 'amphora: The Octavia Amphora driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'"," - octavia::api::provider_drivers: 'amphora: Octavia Amphora Driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'",1,1
openstack%2Fceilometermiddleware~master~I758b50f7aa82474c0800fbeb8dd62638169de359,openstack/ceilometermiddleware,master,I758b50f7aa82474c0800fbeb8dd62638169de359,Change openstack-dev to openstack-discuss,MERGED,2018-12-04 05:54:19.000000000,2019-12-06 06:39:09.000000000,2019-12-06 06:37:53.000000000,"[{'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2018-12-04 05:54:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/5d7695060cc40e2372803c4048184626f682f766', 'message': 'Change openstack-dev to openstack-discuss\n\nMailing lists have been updated. Openstack-discuss replaces\nopenstack-dev.\n\nChange-Id: I758b50f7aa82474c0800fbeb8dd62638169de359\n'}]",0,622004,5d7695060cc40e2372803c4048184626f682f766,10,5,1,29360,,,0,"Change openstack-dev to openstack-discuss

Mailing lists have been updated. Openstack-discuss replaces
openstack-dev.

Change-Id: I758b50f7aa82474c0800fbeb8dd62638169de359
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/04/622004/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5d7695060cc40e2372803c4048184626f682f766,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fnova~stable%2Ftrain~Ic749c49e227e41732dbe04acea303b303acd264a,openstack/nova,stable/train,Ic749c49e227e41732dbe04acea303b303acd264a,block_device: Copy original volume_type when missing for snapshot based volumes,MERGED,2019-11-29 11:39:41.000000000,2019-12-06 06:07:33.000000000,2019-12-06 06:01:52.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-29 11:39:41.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/059dc01ae027f00ffffbaa9ee8a3c958031829ce', 'message': 'block_device: Copy original volume_type when missing for snapshot based volumes\n\nAttempts to launch an instance from an encrypted volume snapshot would\npreviously fail if a volume_type was not specified in the\nblock_device_mapping of the boot request.\n\nTo avoid such failures DriverVolSnapshotBlockDevice will now attempt to\nlookup and use the volume_type of the original volume that the snapshot\nis based on. This should allow the eventual volume creation request\nbased on the snapshot to succeed in cases where a volume_type is\nrequired but not provided in the boot request.\n\nConflicts:\n        nova/virt/block_device.py\n\nNOTE(lyarwood): Due to I30a49c9e085cffc071d0ba332db67945e116bc80 not\nbeing present in stable/train.\n\nCloses-Bug: #1853495\nChange-Id: Ic749c49e227e41732dbe04acea303b303acd264a\n(cherry picked from commit 5679a0bf99c17ff336fa520c9cdfad5156c6c9d2)\n'}]",0,696683,059dc01ae027f00ffffbaa9ee8a3c958031829ce,23,6,1,10135,,,0,"block_device: Copy original volume_type when missing for snapshot based volumes

Attempts to launch an instance from an encrypted volume snapshot would
previously fail if a volume_type was not specified in the
block_device_mapping of the boot request.

To avoid such failures DriverVolSnapshotBlockDevice will now attempt to
lookup and use the volume_type of the original volume that the snapshot
is based on. This should allow the eventual volume creation request
based on the snapshot to succeed in cases where a volume_type is
required but not provided in the boot request.

Conflicts:
        nova/virt/block_device.py

NOTE(lyarwood): Due to I30a49c9e085cffc071d0ba332db67945e116bc80 not
being present in stable/train.

Closes-Bug: #1853495
Change-Id: Ic749c49e227e41732dbe04acea303b303acd264a
(cherry picked from commit 5679a0bf99c17ff336fa520c9cdfad5156c6c9d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/696683/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,059dc01ae027f00ffffbaa9ee8a3c958031829ce,," # NOTE(lyarwood): Try to use the original volume type if one isn't # set against the bdm but is on the original volume. if not self.volume_type and snapshot.get('volume_id'): snap_volume_id = snapshot.get('volume_id') orig_volume = volume_api.get(context, snap_volume_id) self.volume_type = orig_volume.get('volume_type_id') ",,38,0
openstack%2Fneutron~master~I9fd571881bdd899d0ad0f5105dc48ddd123b86f6,openstack/neutron,master,I9fd571881bdd899d0ad0f5105dc48ddd123b86f6,OpenFlow monitor,MERGED,2019-10-17 13:18:54.000000000,2019-12-06 06:06:29.000000000,2019-12-06 06:02:06.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-17 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f84099bb8b4cb9e0a585a6888b2c69f97b09db1', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 2, 'created': '2019-10-17 13:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f8e4d5ab9e82b171524cdb4eea00df5c235b21e', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 3, 'created': '2019-10-18 08:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92abac909b995b52ae38d1156a02d3f5e8a8a07a', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 4, 'created': '2019-10-18 17:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b279ffe73f8e840c1e28f3857d6dfaefca2001e4', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 5, 'created': '2019-10-18 19:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d22101d18bee2211eac35d75352f4bffa7f5ab65', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 6, 'created': '2019-10-19 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ceb9dd04bcad220c04bb963421a1c57eb5fe8df2', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 7, 'created': '2019-10-20 20:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dcf0615007ee44bbfa10c74c7261c750309213d', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 8, 'created': '2019-10-21 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95ba7f3d643cd7bb73a6f2e6950fc719a94cdb59', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 9, 'created': '2019-10-21 08:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2cf3f903e0b53e3f30ae13c62a2fc5fa7dc0572', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 10, 'created': '2019-10-25 14:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7b10578d2006c1fd37101f1a941f9e69284d16b', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}, {'number': 11, 'created': '2019-11-20 18:00:13.000000000', 'files': ['neutron/agent/linux/of_monitor.py', 'neutron/tests/functional/agent/linux/test_of_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdadaef53abadfd0176fc2ffffe334a721e11156', 'message': 'OpenFlow monitor\n\nThis OF monitor will track the changes in the OF list in a OVS bridge.\nThe events (ADDED, MODIFIED, DELETED) are stored internally in the\ninstance and can be retrieved using the property ""of_events"". Once\nthe stored events are read, the buffer is deleted.\n\nChange-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6\nCloses-Bug: #1848500\n'}]",2,689150,cdadaef53abadfd0176fc2ffffe334a721e11156,71,8,11,16688,,,0,"OpenFlow monitor

This OF monitor will track the changes in the OF list in a OVS bridge.
The events (ADDED, MODIFIED, DELETED) are stored internally in the
instance and can be retrieved using the property ""of_events"". Once
the stored events are read, the buffer is deleted.

Change-Id: I9fd571881bdd899d0ad0f5105dc48ddd123b86f6
Closes-Bug: #1848500
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/689150/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/of_monitor.py', 'neutron/tests/functional/agent/linux/test_of_monitor.py']",2,8f84099bb8b4cb9e0a585a6888b2c69f97b09db1,bug/1848500,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.agent.linux import of_monitor from neutron.common import utils from neutron.tests.common import net_helpers from neutron.tests.functional import base as functional_base class OFMonitorTestCase(functional_base.BaseSudoTestCase): DEFAULT_FLOW = {'table': 0, 'cookie': '0', 'actions': 'NORMAL'} def setUp(self): super(OFMonitorTestCase, self).setUp() self.bridge = self.useFixture(net_helpers.OVSBridgeFixture()).bridge self.of_monitor = of_monitor.OFMonitor(self.bridge.br_name, start=False) self.addCleanup(self.of_monitor.stop) def _format_flow(self, flow, event): deleted = '' if event == 'DELETED': deleted = 'reason=delete' table = 'table=%s' % flow['table'] cookie = flow.get('cookie') or hex(self.bridge._default_cookie) cookie = 'cookie=%s' % cookie filters = [] if flow.get('in_port'): filters.append('in_port=%s' % flow.get('in_port')) if flow.get('dl_vlan'): filters.append('dl_vlan=%s' % flow.get('dl_vlan')) if flow.get('dl_src'): filters.append('dl_src=%s' % flow.get('dl_src')) filters = ','.join(filters) actions = '' if flow.get('actions'): actions += 'actions=%s' % flow.get('actions') flow_sections = [section for section in (deleted, table, cookie, filters, actions) if section] return ' '.join(flow_sections) def _check_flow(self, reference_flow, event): def _read_and_check(): events.append(self.of_monitor.of_events) return len(events) == 1 events = [] try: utils.wait_until_true(_read_and_check, timeout=5) except utils.WaitTimeout: self.fail('Flow ""%s"" with action %s not found' % (reference_flow, event)) events = events.pop() self.assertEqual(event, events[0].event_type) self.assertEqual(self._format_flow(reference_flow, event), events[0].flow) def test_of_events(self): self.of_monitor.start() self._check_flow(self.DEFAULT_FLOW, 'ADDED') flow = {'table': 10, 'in_port': 20, 'dl_vlan': 30, 'dl_src': '00:00:00:00:00:01', 'actions': 'NORMAL'} self.bridge.add_flow(**flow) self._check_flow(flow, 'ADDED') flow['table'] = 50 self.bridge.add_flow(**flow) self._check_flow(flow, 'ADDED') flow['actions'] = 'resubmit:100' self.bridge.mod_flow(**flow) self._check_flow(flow, 'MODIFIED') flow['table'] = 10 flow['actions'] = 'NORMAL' flow_to_delete = flow.copy() flow_to_delete.pop('actions') self.bridge.delete_flows(**flow_to_delete) self._check_flow(flow, 'DELETED') ",,178,0
openstack%2Fneutron~master~I24ab11ab923339959eecfbaed79a3ceadc4a87f4,openstack/neutron,master,I24ab11ab923339959eecfbaed79a3ceadc4a87f4,Move DevStack OVN module to Neutron,MERGED,2019-11-28 15:14:37.000000000,2019-12-06 06:04:11.000000000,2019-12-06 06:01:46.000000000,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 15:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbc7a90e4f03080ab2e02c4b469565326db68a4a', 'message': '[OVN] Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\nQ_ML2_PLUGIN_EXT_DRIVERS=port_security,dns\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-12-02 11:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee33039e2cf16858a51033e5b742a8e55e5f993e', 'message': '[OVN] Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\nQ_ML2_PLUGIN_EXT_DRIVERS=port_security,dns\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-12-02 11:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c8d99016b5cdad5ddf4dcd27d15681933afa92d', 'message': 'Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\nQ_ML2_PLUGIN_EXT_DRIVERS=port_security,dns\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-12-04 11:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22510c55cea0ad16d665093fe3dfde01d6f36721', 'message': 'Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\nQ_ML2_PLUGIN_EXT_DRIVERS=port_security,dns\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-12-04 13:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f80f9dfa0fc87c5f18e7d14e1b0dbb77c2eab70d', 'message': 'Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-12-04 14:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7e84b1f398a875b84152a2bcba96b7571336720', 'message': 'Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-12-05 11:06:58.000000000', 'files': ['neutron/common/ovn/extensions.py', 'devstack/plugin.sh', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96741866a7fc2c38232995966686dbc79ec9c6e9', 'message': 'Move DevStack OVN module to Neutron\n\nThis patch is moving the DevStack module to deploy OVN to the Neutron\nDevStack plugin.\n\nAs a first step, this plugin will continue to use the\nopenstack/networking-ovn repository and, as we advance into the mergings\nsteps we will modify this plugin (just few lines) to use the code in\nthe Neutron repository itself.\n\nTODO\'s where left in the code on top of all the bits that will change\nonce the networking-ovn code is merged into Neutron.\n\nBelow is a snippet of the what needs to be enabled in local.conf to get\nOVN deployed:\n\n[[local|localrc]]\n\nenable_plugin neutron https://opendev.org/openstack/neutron\n\nQ_AGENT=ovn\nQ_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger\nQ_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve\nQ_ML2_TENANT_NETWORK_TYPE=""geneve""\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",2,696592,96741866a7fc2c38232995966686dbc79ec9c6e9,46,8,7,6773,,,0,"Move DevStack OVN module to Neutron

This patch is moving the DevStack module to deploy OVN to the Neutron
DevStack plugin.

As a first step, this plugin will continue to use the
openstack/networking-ovn repository and, as we advance into the mergings
steps we will modify this plugin (just few lines) to use the code in
the Neutron repository itself.

TODO's where left in the code on top of all the bits that will change
once the networking-ovn code is merged into Neutron.

Below is a snippet of the what needs to be enabled in local.conf to get
OVN deployed:

[[local|localrc]]

enable_plugin neutron https://opendev.org/openstack/neutron

Q_AGENT=ovn
Q_ML2_PLUGIN_MECHANISM_DRIVERS=ovn,logger
Q_ML2_PLUGIN_TYPE_DRIVERS=local,flat,vlan,geneve
Q_ML2_TENANT_NETWORK_TYPE=""geneve""

Partially-Implements: blueprint neutron-ovn-merge
Change-Id: I24ab11ab923339959eecfbaed79a3ceadc4a87f4
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/696592/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ovn', 'devstack/plugin.sh']",2,fbc7a90e4f03080ab2e02c4b469565326db68a4a,bp/neutron-ovn-merge,"source $LIBDIR/ovn if is_ovn_enabled; then install_ovn configure_ovn init_ovn fi if is_ovn_enabled; then configure_ovn_plugin start_ovn fi if is_ovn_enabled; then if [[ ""$OVN_L3_CREATE_PUBLIC_NETWORK"" == ""True"" ]]; then if [[ ""$NEUTRON_CREATE_INITIAL_NETWORKS"" != ""True"" ]]; then echo ""OVN_L3_CREATE_PUBLIC_NETWORK=True is being ignored because"" echo ""NEUTRON_CREATE_INITIAL_NETWORKS is set to False"" else create_public_bridge fi fi fi if is_ovn_enabled; then stop_ovn cleanup_ovn fi",,819,0
openstack%2Fneutron~master~I3fbba2854d40ab0f683443aa30c2a95752345d2e,openstack/neutron,master,I3fbba2854d40ab0f683443aa30c2a95752345d2e,Use threads insted of greethreads in IP monitor,MERGED,2019-10-22 17:54:18.000000000,2019-12-06 06:02:03.000000000,2019-12-06 06:02:03.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-22 17:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b65ba379b01aac5f852980f3a06a20dae8f90f', 'message': '[WIP] Use threads insted of greethreads in IP monitor\n\nNOTE: add better description\n\nTo avoid thread starvation, use kernel threads.\n\nAlso: reduced number of IPs generated in ""test_add_and_remove_multiple_ips"",\nto reduce testing time.\n\nChange-Id: I3fbba2854d40ab0f683443aa30c2a95752345d2e\nCloses-Bug: #to_be_defined\n'}, {'number': 2, 'created': '2019-10-23 18:38:10.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48730d9449c0e425637f0f1182d81f60a3d259ac', 'message': 'Use threads insted of greethreads in IP monitor\n\nIP monitor is a method that is going to be executed in a separate\nprocess, to monitor the IP addresses changes in a namespace.\n\nThis method spawns a thread to read from a socket opened by Pyroute2.\nThe read function is a blocking method that will end only when the\nsocket is closed. To avoid thread starvation that can happen using\ngreenthreads, IP monitor will use kernel threads.\n\nThis will increase the resources used but will ensure that no message\nis lost when reading the monitor socket.\n\nReduced the number of IPs generated in ""test_add_and_remove_multiple_ips""\nto shrink the testing time used.\n\nChange-Id: I3fbba2854d40ab0f683443aa30c2a95752345d2e\nCloses-Bug: #1849547\n'}]",0,690144,48730d9449c0e425637f0f1182d81f60a3d259ac,13,5,2,16688,,,0,"Use threads insted of greethreads in IP monitor

IP monitor is a method that is going to be executed in a separate
process, to monitor the IP addresses changes in a namespace.

This method spawns a thread to read from a socket opened by Pyroute2.
The read function is a blocking method that will end only when the
socket is closed. To avoid thread starvation that can happen using
greenthreads, IP monitor will use kernel threads.

This will increase the resources used but will ensure that no message
is lost when reading the monitor socket.

Reduced the number of IPs generated in ""test_add_and_remove_multiple_ips""
to shrink the testing time used.

Change-Id: I3fbba2854d40ab0f683443aa30c2a95752345d2e
Closes-Bug: #1849547
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/690144/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py']",3,99b65ba379b01aac5f852980f3a06a20dae8f90f,bug/1849547,"import threading from six.moves import queueEVENT_STOP = threading.Event() EVENT_STARTED = threading.Event() IP_MONITOR = None READ_QUEUE = None global IP_MONITOR global READ_QUEUE EVENT_STOP.set() IP_MONITOR.join() READ_QUEUE.join() while not event_stop.is_set(): try: retval = _queue.get(timeout=1) except queue.Empty: global IP_MONITOR global READ_QUEUE IP_MONITOR = threading.Thread(target=ip_lib.ip_monitor, args=(namespace, _queue, EVENT_STOP, EVENT_STARTED)) IP_MONITOR.start() READ_QUEUE = threading.Thread(target=read_queue, args=(temp_file, _queue, EVENT_STOP, EVENT_STARTED)) READ_QUEUE.start() READ_QUEUE.join()"," import eventlet from eventlet import queueEVENT_STOP = eventlet.Event() EVENT_STARTED = eventlet.Event() POOL = eventlet.GreenPool(2) global POOL EVENT_STOP.send() POOL.waitall() while not event_stop.ready(): eventlet.sleep(0) try: retval = _queue.get(timeout=2) except eventlet.queue.Empty: global POOL POOL.spawn(ip_lib.ip_monitor, namespace, _queue, EVENT_STOP, EVENT_STARTED) POOL.spawn(read_queue, temp_file, _queue, EVENT_STOP, EVENT_STARTED) POOL.waitall()",40,31
openstack%2Fneutron~master~Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8,openstack/neutron,master,Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8,Migrate from ofctl to native QoS DSCP,MERGED,2019-11-21 16:33:00.000000000,2019-12-06 06:01:57.000000000,2019-12-06 06:01:57.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-21 16:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3836f7310ef86d73b0f5289f895af2c3b31752dc', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Rocky.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\n'}, {'number': 2, 'created': '2019-11-22 16:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/923adb2d296c0358ec7818a61721556518492d4f', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Pike.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\n'}, {'number': 3, 'created': '2019-11-25 15:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e28773f64a6faaf96ed8e655ee0a2b8cf739bbd', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Pike.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\nCloses-Bug: #1853171\n'}, {'number': 4, 'created': '2019-12-03 12:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10f6e90753455e5fbfadbd649f03afbfef4e1468', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Pike.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\nCloses-Bug: #1853171\n'}, {'number': 5, 'created': '2019-12-03 18:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81f77aa1c9889e61859d5a80edb9485a93c21599', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Pike.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\nCloses-Bug: #1853171\n'}, {'number': 6, 'created': '2019-12-05 12:08:31.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b81155ee27d918ba934ee7f08cb70d76715a2163', 'message': 'Migrate from ofctl to native QoS DSCP\n\nNeutron migrated from using ofctl from the command line in Pike.\nThis patch refactors DSCPs OvS backend to use native rather than\nofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.\n\nChange-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8\nRelated-Bug: #1853171\n'}]",30,695479,b81155ee27d918ba934ee7f08cb70d76715a2163,53,11,6,18051,,,0,"Migrate from ofctl to native QoS DSCP

Neutron migrated from using ofctl from the command line in Pike.
This patch refactors DSCPs OvS backend to use native rather than
ofctl and deprecates the run_ofctl function in ovs_lib.OVSBridge.

Change-Id: Id9ab0eaf92b6ec6d5c9197bee60d324ffcb192a8
Related-Bug: #1853171
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/695479/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py']",2,3836f7310ef86d73b0f5289f895af2c3b31752dc,bug/1853171," self.qos_driver.br_int._get_dp = mock.Mock(return_value=(mock.Mock(), mock.Mock(), mock.Mock())) # Assert install_instructions is the last call 'install_instructions', self.qos_driver.br_int.install_instructions.assert_called_once_with( mock.ANY, in_port=mock.ANY, priority=65535, reg2=0, table_id=0, eth_type=2048)"," self.qos_driver.br_int.dump_flows_for = mock.Mock(return_value=None) # Assert add_flow is the last call 'add_flow', self.qos_driver.br_int.add_flow.assert_called_once_with( actions='mod_nw_tos:128,load:55->NXM_NX_REG2[0..5],resubmit(,0)', in_port=mock.ANY, priority=65535, reg2=0, table=0)",18,31
openstack%2Fpuppet-nova~master~Iaa47181318eb8b9251d47fd381784791f4967a4e,openstack/puppet-nova,master,Iaa47181318eb8b9251d47fd381784791f4967a4e,Adds --all-cells to the archive command,MERGED,2019-12-02 15:26:42.000000000,2019-12-06 05:39:10.000000000,2019-12-06 01:36:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 15:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/df40c1d837e678210b71e47a9c367059aa0ce197', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 2, 'created': '2019-12-02 16:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cbc6eebe08de271a6c2569aea19dd044b7621bb2', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 3, 'created': '2019-12-02 18:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7e5b4d0a716bf4eedb399666b953f2206a59075e', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 4, 'created': '2019-12-03 08:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0dbd4a2241b64f27936876ec2abc1309debfb3cc', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 5, 'created': '2019-12-03 09:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a3dc209d29b0a26f86e1fa3923ba4a1a30724dac', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 6, 'created': '2019-12-03 09:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1ad4e54ddd278d31b1df93f514fc32b07752c592', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nDepends-On: https://review.opendev.org/697012\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 7, 'created': '2019-12-03 10:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bad1ebe2968d6f0e35370596280313ba040668b9', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nDepends-On: https://review.opendev.org/697012\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 8, 'created': '2019-12-03 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7cce249efbfaa1a0571b66d190e21c34f6e7d7f4', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nDepends-On: https://review.opendev.org/697012\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 9, 'created': '2019-12-03 16:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bdddd57e2cfada4e11e6cdb00f9e3c09bf147883', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nDepends-On: https://review.opendev.org/697012\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}, {'number': 10, 'created': '2019-12-03 16:55:46.000000000', 'files': ['spec/acceptance/nova_wsgi_apache_spec.rb', 'manifests/cron/archive_deleted_rows.pp', 'releasenotes/notes/add-all-cells-archive-cron-065604f9953191ea.yaml', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb08feae87642519524f2fa233e88cb65ee7bae8', 'message': 'Adds --all-cells to the archive command\n\nAdds --all-cells to the archive command based on an empty_table\nboolean flag. If true, it will run in archive command on all\nconfigured cells.\n\nDepends-On: https://review.opendev.org/697012\n\nChange-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e\n'}]",2,696900,bb08feae87642519524f2fa233e88cb65ee7bae8,38,7,10,17216,,,0,"Adds --all-cells to the archive command

Adds --all-cells to the archive command based on an empty_table
boolean flag. If true, it will run in archive command on all
configured cells.

Depends-On: https://review.opendev.org/697012

Change-Id: Iaa47181318eb8b9251d47fd381784791f4967a4e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/00/696900/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/archive_deleted_rows.pp', 'releasenotes/notes/add-all-cells-archive-cron-065604f9953191ea.yaml', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb']",3,df40c1d837e678210b71e47a9c367059aa0ce197,1778814," :all_cells => false, context 'until_complete and all_cells is false' do it 'configures a cron without until_complete and all_cells' do context 'all_cells is true' do before :each do params.merge!( :all_cells => true, ) end it 'configures a cron with all_cells' do is_expected.to contain_cron('nova-manage db archive_deleted_rows').with( :command => ""nova-manage db archive_deleted_rows --max_rows #{params[:max_rows]} --all-cells >>#{params[:destination]} 2>&1"", :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[nova::dbsync::end]', ) end end ", context 'until_complete is false' do it 'configures a cron without until_complete' do,43,3
openstack%2Fmistral-extra~master~I144fe6e50c245c5ae9a7b9fd7db43a011bd364f9,openstack/mistral-extra,master,I144fe6e50c245c5ae9a7b9fd7db43a011bd364f9,Start README.rst with a better title,MERGED,2019-11-28 02:04:52.000000000,2019-12-06 05:32:06.000000000,2019-12-06 05:32:05.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-28 02:04:52.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/f3b09f4b946830e0f759ddb69639f8aa32d1039e', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: I144fe6e50c245c5ae9a7b9fd7db43a011bd364f9\n'}]",0,696433,f3b09f4b946830e0f759ddb69639f8aa32d1039e,6,2,1,30408,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: I144fe6e50c245c5ae9a7b9fd7db43a011bd364f9
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/33/696433/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f3b09f4b946830e0f759ddb69639f8aa32d1039e,dev,============== Mistral Extras ==============,======================== Team and repository tags ====================================== Mistral Extras ============== ,3,7
openstack%2Foctavia~stable%2Fqueens~I8e449b19af72d72f6effd52e0a2debb5754a19b3,openstack/octavia,stable/queens,I8e449b19af72d72f6effd52e0a2debb5754a19b3,Fix a potential race condition with certs-ramfs,MERGED,2019-11-18 18:17:59.000000000,2019-12-06 04:12:41.000000000,2019-12-06 04:11:27.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-18 18:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa53b66fda3eb63e5777ec79b765fb9610cb409d', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}, {'number': 2, 'created': '2019-11-20 00:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/06b13d4bce131ad57d7ddc16b7cff855a85b1c4d', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nDepends-On: https://review.opendev.org/683537\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}, {'number': 3, 'created': '2019-12-04 20:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a248e4f786e0a6387f4aa25d6d48109e663dc1f', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}, {'number': 4, 'created': '2019-12-04 20:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2e6f41f990c8b3dd480f17cac3ef3abb471dab7', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nDepends-On: https://review.opendev.org/683537\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}, {'number': 5, 'created': '2019-12-04 20:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e7589f3ba86d14058072895e390eefe4803141bf', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}, {'number': 6, 'created': '2019-12-04 20:22:50.000000000', 'files': ['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8e50b11f90f611c701330b16372a9e8932079ce', 'message': 'Fix a potential race condition with certs-ramfs\n\nThere is a potential race condition in the start order for the\namphora-agent service and the certs-ramfs service.\nThis patch configures an explict ordering for the services.\n\nChange-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3\nStory: 2006823\nTask: 37396\n(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)\n'}]",0,694826,c8e50b11f90f611c701330b16372a9e8932079ce,28,5,6,11628,,,0,"Fix a potential race condition with certs-ramfs

There is a potential race condition in the start order for the
amphora-agent service and the certs-ramfs service.
This patch configures an explict ordering for the services.

Change-Id: I8e449b19af72d72f6effd52e0a2debb5754a19b3
Story: 2006823
Task: 37396
(cherry picked from commit 1900ee71a51c25d4c0fa1ee79447219cef05b5ef)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/694826/5 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.service', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.init', 'elements/amphora-agent/install.d/amphora-agent-source-install/amphora-agent.conf', 'releasenotes/notes/fix-certs-ramfs-race-561f355d13fc6d14.yaml', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service']",5,aa53b66fda3eb63e5777ec79b765fb9610cb409d,,Before=amphora-agent.service,,19,3
openstack%2Fironic~master~Iee4a9f4f13a9bd944e193e2cf09debc8fd8c21bc,openstack/ironic,master,Iee4a9f4f13a9bd944e193e2cf09debc8fd8c21bc,docs: add a missing heading,MERGED,2019-12-05 15:23:50.000000000,2019-12-06 03:56:18.000000000,2019-12-06 03:54:53.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-05 15:23:50.000000000', 'files': ['doc/source/contributor/webapi-version-history.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a0b1a39f2723363287f989ed0df70523c3e1c20', 'message': 'docs: add a missing heading\n\nChange-Id: Iee4a9f4f13a9bd944e193e2cf09debc8fd8c21bc\n'}]",0,697499,8a0b1a39f2723363287f989ed0df70523c3e1c20,9,3,1,10239,,,0,"docs: add a missing heading

Change-Id: Iee4a9f4f13a9bd944e193e2cf09debc8fd8c21bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/697499/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/webapi-version-history.rst'],1,8a0b1a39f2723363287f989ed0df70523c3e1c20,docs,---------------------,,1,0
openstack%2Ftripleo-common~stable%2Fstein~I876820969c35b2c969d339bf757607863c178835,openstack/tripleo-common,stable/stein,I876820969c35b2c969d339bf757607863c178835,Switch scenario010 to voting in the check queue,MERGED,2019-11-26 19:17:48.000000000,2019-12-06 03:51:22.000000000,2019-12-06 03:48:48.000000000,"[{'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-26 19:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45dbff430b6445936a3e06f09c9586d448c379e0', 'message': 'Switch scenario010 to voting in the check queue\n\nScenario010 job is already in the gate queue.\n\nChange-Id: I876820969c35b2c969d339bf757607863c178835\n'}, {'number': 2, 'created': '2019-11-29 08:06:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba8d5d9a65d012ec341aa7cea30aab299ea1ea13', 'message': 'Switch scenario010 to voting in the check queue\n\nScenario010 job is already in the gate queue.\n\nChange-Id: I876820969c35b2c969d339bf757607863c178835\n'}]",2,696170,ba8d5d9a65d012ec341aa7cea30aab299ea1ea13,20,6,2,6469,,,0,"Switch scenario010 to voting in the check queue

Scenario010 job is already in the gate queue.

Change-Id: I876820969c35b2c969d339bf757607863c178835
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/696170/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,45dbff430b6445936a3e06f09c9586d448c379e0,, - tripleo-ci-centos-7-scenario010-standalone: dependencies: *deps_unit_lint files: - workbooks/octavia_post.yaml - playbooks/octavia-files.yaml - playbooks/roles/octavia.*$ - playbooks/roles/common/.*$ - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - zuul.d/layout.yaml, - tripleo-ci-centos-7-scenario010-standalone: voting: false,11,2
openstack%2Fpython-tripleoclient~master~I2d661682b3ee4d82d9f445a04e930c2fb328ef80,openstack/python-tripleoclient,master,I2d661682b3ee4d82d9f445a04e930c2fb328ef80,Add locks to container image commands,MERGED,2019-12-04 21:29:38.000000000,2019-12-06 03:40:48.000000000,2019-12-06 01:19:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-12-04 21:29:38.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/94f8ef1df8d2a642c89fcb2838d0b8666aac0b08', 'message': ""Add locks to container image commands\n\nIe5ef4045b7e22c06551e886f9f9b6f22c8d4bd21 added some additional\nprocessing when uploading images. This unfortunately broke the\n'openstack tripleo container image push' command because it assumes a\nlock is always available. This change adds a process lock to the\nImageManagers used by the cli to ensure we are locking correctly when\ndoing any multiprocessing\n\nChange-Id: I2d661682b3ee4d82d9f445a04e930c2fb328ef80\nCloses-Bug: #1855184\n""}]",0,697372,94f8ef1df8d2a642c89fcb2838d0b8666aac0b08,16,6,1,14985,,,0,"Add locks to container image commands

Ie5ef4045b7e22c06551e886f9f9b6f22c8d4bd21 added some additional
processing when uploading images. This unfortunately broke the
'openstack tripleo container image push' command because it assumes a
lock is always available. This change adds a process lock to the
ImageManagers used by the cli to ensure we are locking correctly when
doing any multiprocessing

Change-Id: I2d661682b3ee4d82d9f445a04e930c2fb328ef80
Closes-Bug: #1855184
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/697372/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py']",2,94f8ef1df8d2a642c89fcb2838d0b8666aac0b08,bug/1855184," @mock.patch('tripleo_common.utils.locks.processlock.' 'ProcessLock') def test_container_image_upload_noargs(self, mock_manager, exit_mock, mock_lock): mock_lockobj = mock.MagicMock() mock_lock.return_value = mock_lockobj @mock.patch('tripleo_common.utils.locks.processlock.' 'ProcessLock') def test_container_image_upload_conf_files(self, mock_manager, mock_lock): mock_lockobj = mock.MagicMock() mock_lock.return_value = mock_lockobj ['/tmp/foo.yaml', '/tmp/bar.yaml'], cleanup='full', lock=mock_lockobj) lock = mock.patch('tripleo_common.utils.locks.processlock.ProcessLock') self.mock_lock = lock.start() self.addCleanup(lock.stop) lock = mock.patch('tripleo_common.utils.locks.processlock.ProcessLock') self.mock_lock = lock.start() self.addCleanup(lock.stop) lock = mock.patch('tripleo_common.utils.locks.processlock.ProcessLock') self.mock_lock = lock.start() self.addCleanup(lock.stop) lock = mock.patch('tripleo_common.utils.locks.processlock.ProcessLock') self.mock_lock = lock.start() self.addCleanup(lock.stop) "," def test_container_image_upload_noargs(self, mock_manager, exit_mock): def test_container_image_upload_conf_files(self, mock_manager): ['/tmp/foo.yaml', '/tmp/bar.yaml'], cleanup='full')",47,9
openstack%2Fnova~master~Ie0e6136e88bedb2c4c6d0b742319627d58da147e,openstack/nova,master,Ie0e6136e88bedb2c4c6d0b742319627d58da147e,Skip test_minbw_allocation_placement in nova-next job,MERGED,2019-12-05 14:57:42.000000000,2019-12-06 03:16:11.000000000,2019-12-06 03:08:45.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-05 14:57:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/15c59f1897771e696cbce167379b9ac968c255db', 'message': ""Skip test_minbw_allocation_placement in nova-next job\n\nWe just recently enable this scenario test [1] but it's\ncausing the nova-next job to intermittently fail because\nthe nova-next job runs the tempest compute API and scenario\ntests concurrently (unlike the tempest-full job which runs\nthe API tests concurrently and then the scenario tests serially)\nand the scenario test is creating a public shared network which\ncauses the compute API tests, when creating a server without\nspecifying a network, to fail since nova doesn't know which\nnetwork to use. So for now just blacklist the scenario test\nuntil the related tempest bug is fixed.\n\n[1] https://review.opendev.org/#/c/697180/\n\nChange-Id: Ie0e6136e88bedb2c4c6d0b742319627d58da147e\nRelated-Bug: #1844568\n""}]",1,697491,15c59f1897771e696cbce167379b9ac968c255db,22,12,1,6873,,,0,"Skip test_minbw_allocation_placement in nova-next job

We just recently enable this scenario test [1] but it's
causing the nova-next job to intermittently fail because
the nova-next job runs the tempest compute API and scenario
tests concurrently (unlike the tempest-full job which runs
the API tests concurrently and then the scenario tests serially)
and the scenario test is creating a public shared network which
causes the compute API tests, when creating a server without
specifying a network, to fail since nova doesn't know which
network to use. So for now just blacklist the scenario test
until the related tempest bug is fixed.

[1] https://review.opendev.org/#/c/697180/

Change-Id: Ie0e6136e88bedb2c4c6d0b742319627d58da147e
Related-Bug: #1844568
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/697491/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,15c59f1897771e696cbce167379b9ac968c255db,bug/1844568, # TODO(mriedem): Unskip test_minbw_allocation_placement once bug 1844568 # is fixed. tempest_black_regex: ^tempest.scenario\.(test_network|test_minbw_allocation_placement), tempest_black_regex: ^tempest.scenario.test_network,3,1
openstack%2Fneutron~master~I08c712ff1b093370cda2ce66b93e2a0709094fe1,openstack/neutron,master,I08c712ff1b093370cda2ce66b93e2a0709094fe1,"Do not inherit from built-in ""dict""",MERGED,2019-10-29 14:48:56.000000000,2019-12-06 03:14:27.000000000,2019-12-06 03:08:32.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17758fb62869b8e3250b71d853872c1d9ca4f84e', 'message': '[WIP] Do not inherit from built-in ""dict""\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 2, 'created': '2019-10-29 17:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b1274ca77fa353867f75db5b5bc34aa2c336304', 'message': '[WIP] Do not inherit from built-in ""dict""\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 3, 'created': '2019-10-30 12:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1648b0f3e187c48e94926863605612f4a04cf93', 'message': '[WIP] Do not inherit from built-in ""dict""\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 4, 'created': '2019-11-01 14:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36cdfc7aafb1eabd80900d7d162958f3c4e67006', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 5, 'created': '2019-11-04 14:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5511d6652eb709d60cd6db719b3d765a1b4de366', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 6, 'created': '2019-11-04 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e549470e6e8baf69688d99054819b1aeb098a5af', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 7, 'created': '2019-11-05 18:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2808af09535af32072ae6cd45d5dfa0774e1a2b0', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 8, 'created': '2019-11-13 17:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bd3b8169b106d5e83e68d81793ec8625c228786', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 9, 'created': '2019-11-14 11:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a280a070a8bde7744c7ef8dff87f747e09e0c0f', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 10, 'created': '2019-11-15 11:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d4f9f8b6642e004b5dd52327fa655bb92a15f28', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 11, 'created': '2019-11-15 15:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0501f4e0a6d808e04024f6b0514464e3c3fc192', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 12, 'created': '2019-11-20 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d30fc38a8d30a1379050457add6783fd5e3b6f3', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 13, 'created': '2019-11-20 17:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e394e030e9cb5e2717a6b0f0d0e9dc6d5dcac9af', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 14, 'created': '2019-11-21 18:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69fa2393b68ef2fbfece316524134e49042fa833', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 15, 'created': '2019-11-22 10:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c679e7ada31988a793cda940cbac34a95170e157', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 16, 'created': '2019-11-25 05:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/697bb301fb22400e2931d5d418041e5864893064', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 17, 'created': '2019-11-26 16:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2da738da012886d51c2e9634e7503109693967a9', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}, {'number': 18, 'created': '2019-11-29 18:12:07.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py', 'neutron/debug/debug_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b3baeb15a8015e8ed9075e465cf97800189eef2', 'message': 'Do not inherit from built-in ""dict""\n\nThis is not recommended because some type methods are implemented not\nin Python but in C [1][2] and should not be overridden. Subclassing\nthe built-in types directly, will yield non-obvious errors that are\nhard to debug, and identify at first glance [3].\n\n[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html\n[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/\n[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1\n\nCloses-Bug: #1849980\n\nChange-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1\n'}]",9,691874,4b3baeb15a8015e8ed9075e465cf97800189eef2,133,11,18,16688,,,0,"Do not inherit from built-in ""dict""

This is not recommended because some type methods are implemented not
in Python but in C [1][2] and should not be overridden. Subclassing
the built-in types directly, will yield non-obvious errors that are
hard to debug, and identify at first glance [3].

[1] http://www.kr41.net/2016/03-23-dont_inherit_python_builtin_dict_type.html
[2] https://treyhunner.com/2019/04/why-you-shouldnt-inherit-from-list-and-dict-in-python/
[3] https://medium.com/bynder-tech/using-collections-in-python-36129737b5a1

Closes-Bug: #1849980

Change-Id: I08c712ff1b093370cda2ce66b93e2a0709094fe1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/691874/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py']",2,17758fb62869b8e3250b71d853872c1d9ca4f84e,bug/1849980,"class DictModel(collections.abc.Mapping): __slots__ = ['_dictmodel_internal_storage'] temp_dict = dict(*args) self._dictmodel_internal_storage = {} for key, value in {**temp_dict, **kwargs}.items(): self._dictmodel_internal_storage[key] = type(value)( self._dictmodel_internal_storage[key] = DictModel(value) else: self._dictmodel_internal_storage[key] = value if name == '_dictmodel_internal_storage': return super(DictModel, self).__getattr__(name) return self.__getitem__(name) if name == '_dictmodel_internal_storage': super(DictModel, self).__setattr__(name, value) else: self._dictmodel_internal_storage[name] = value del self._internal_storage[name] pairs = ['%s=%s' % (k, v) for k, v in self._dictmodel_internal_storage.items()] def __getitem__(self, name): return self._dictmodel_internal_storage[name] def __setitem__(self, name, value): self._dictmodel_internal_storage[name] = value def __iter__(self): return iter(self._dictmodel_internal_storage) def __len__(self): return len(self._dictmodel_internal_storage) def __copy__(self): return type(self)(self) def __deepcopy__(self): return type(self)(self) ","class DictModel(dict): super(DictModel, self).__init__(*args, **kwargs) for key, value in self.items(): self[key] = type(value)( self[key] = DictModel(value) return self[name] self[name] = value del self[name] pairs = ['%s=%s' % (k, v) for k, v in self.items()]",71,42
openstack%2Fpuppet-tripleo~stable%2Ftrain~I62edac42204b28d9a81789723b331c79aa3358a6,openstack/puppet-tripleo,stable/train,I62edac42204b28d9a81789723b331c79aa3358a6,Fill sslProfile only when it is defined,MERGED,2019-12-03 14:52:27.000000000,2019-12-06 03:13:45.000000000,2019-12-06 03:13:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 14:52:27.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/048561a9fbc42fd4116059a1cf15af7767bd9013', 'message': 'Fill sslProfile only when it is defined\n\nCurrently when it is not defined the config contains sslProfile: undef which\nmakes nterior QDR communication malf`unctioning.\n\nChange-Id: I62edac42204b28d9a81789723b331c79aa3358a6\n(cherry picked from commit b66ee38e82d26533a23f91795b671ce53c047f78)\n'}]",0,697102,048561a9fbc42fd4116059a1cf15af7767bd9013,8,4,1,5241,,,0,"Fill sslProfile only when it is defined

Currently when it is not defined the config contains sslProfile: undef which
makes nterior QDR communication malf`unctioning.

Change-Id: I62edac42204b28d9a81789723b331c79aa3358a6
(cherry picked from commit b66ee38e82d26533a23f91795b671ce53c047f78)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/697102/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp']",2,048561a9fbc42fd4116059a1cf15af7767bd9013,qdr-mesh-fix-stable/train," if ssl_internal_profile_name { $node_base = {'sslProfile' => $ssl_internal_profile_name} } else { $node_base = {} } $all_connectors = [merge($node_base, 'saslMechanisms' => 'ANONYMOUS'} )] $edge_listener = merge($node_base, {'host' => $listener_addr, 'port' => '5668', 'role' => 'edge', 'authenticatePeer' => 'no', 'saslMechanisms' => 'ANONYMOUS'}) merge($node_base, {'host' => $listener_addr, 'saslMechanisms' => 'ANONYMOUS'}) $memo << merge($node_base, {'host' => $node, 'port' => '5667', 'role' => 'inter-router', 'verifyHostname' => false})"," $all_connectors = [ 'saslMechanisms' => 'ANONYMOUS', 'sslProfile' => $ssl_internal_profile_name} ] $edge_listener = {'host' => $listener_addr, 'port' => '5668', 'role' => 'edge', 'authenticatePeer' => 'no', 'saslMechanisms' => 'ANONYMOUS', 'sslProfile' => $ssl_internal_profile_name} {'host' => $listener_addr, 'saslMechanisms' => 'ANONYMOUS', 'sslProfile' => $ssl_internal_profile_name} $memo << {'host' => $node, 'port' => '5667', 'role' => 'inter-router', 'verifyHostname' => false, 'sslProfile' => $ssl_internal_profile_name}",34,30
openstack%2Fkeystone~master~I5dd85a6b8368373a27aef2942a64499d020662ef,openstack/keystone,master,I5dd85a6b8368373a27aef2942a64499d020662ef,Fix credential list for project members,MERGED,2019-12-04 19:45:16.000000000,2019-12-06 02:57:02.000000000,2019-12-06 02:20:19.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-12-04 19:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/137bd97be978faa5c77986f1f0166deca03b05e4', 'message': ""Fix credential list for project members\n\nWithout this patch, project members and readers can list any credentials\nwith the /v3/credentials API when enforce_scope is false. enforce_scope\nis only applicable to project admins due to the admin-ness problem[1],\nand this policy is not meant to allow project admins any access to users'\ncredentials (only system admins should be able to access them), so this\npatch simply removes the config check.\n\nCloses-bug: #1855080\n\n[1] https://bugs.launchpad.net/keystone/+bug/968696\n\nChange-Id: I5dd85a6b8368373a27aef2942a64499d020662ef\n""}, {'number': 2, 'created': '2019-12-05 00:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fd7882f669f477e6d3b978ca45617595134e6719', 'message': ""Fix credential list for project members\n\nWithout this patch, project members and readers can list any credentials\nwith the /v3/credentials API when enforce_scope is false. enforce_scope\nis only applicable to project admins due to the admin-ness problem[1],\nand this policy is not meant to allow project admins any access to users'\ncredentials (only system admins should be able to access them). However,\nwhen enforce_scope is false, we need to preserve the old behavior of\nproject admins being able to list all credentials. This change mitigates\nthe problem by running the identity:get_credential policy check to\nfilter out credentials the user does not have access to. This will\nimpact performance.\n\nCloses-bug: #1855080\n\n[1] https://bugs.launchpad.net/keystone/+bug/968696\n\nChange-Id: I5dd85a6b8368373a27aef2942a64499d020662ef\n""}, {'number': 3, 'created': '2019-12-05 00:42:23.000000000', 'files': ['keystone/api/credentials.py', 'keystone/tests/protection/v3/test_credentials.py', 'releasenotes/notes/bug-1855080-08b28181b7cb2470.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/17c337dbdbfb9d548ad531c2ad0483c9bce5b98f', 'message': ""Fix credential list for project members\n\nWithout this patch, project members and readers can list any credentials\nwith the /v3/credentials API when enforce_scope is false. enforce_scope\nis only applicable to project admins due to the admin-ness problem[1],\nand this policy is not meant to allow project admins any access to users'\ncredentials (only system admins should be able to access them). However,\nwhen enforce_scope is false, we need to preserve the old behavior of\nproject admins being able to list all credentials. This change mitigates\nthe problem by running the identity:get_credential policy check to\nfilter out credentials the user does not have access to. This will\nimpact performance.\n\nCloses-bug: #1855080\n\n[1] https://bugs.launchpad.net/keystone/+bug/968696\n\nChange-Id: I5dd85a6b8368373a27aef2942a64499d020662ef\n""}]",7,697355,17c337dbdbfb9d548ad531c2ad0483c9bce5b98f,26,7,3,8482,,,0,"Fix credential list for project members

Without this patch, project members and readers can list any credentials
with the /v3/credentials API when enforce_scope is false. enforce_scope
is only applicable to project admins due to the admin-ness problem[1],
and this policy is not meant to allow project admins any access to users'
credentials (only system admins should be able to access them). However,
when enforce_scope is false, we need to preserve the old behavior of
project admins being able to list all credentials. This change mitigates
the problem by running the identity:get_credential policy check to
filter out credentials the user does not have access to. This will
impact performance.

Closes-bug: #1855080

[1] https://bugs.launchpad.net/keystone/+bug/968696

Change-Id: I5dd85a6b8368373a27aef2942a64499d020662ef
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/697355/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/credentials.py', 'keystone/tests/protection/v3/test_credentials.py', 'releasenotes/notes/bug-1855080-08b28181b7cb2470.yaml']",3,137bd97be978faa5c77986f1f0166deca03b05e4,credential-list-sec,"--- critical: - | [`bug 1855080 <https://bugs.launchpad.net/keystone/+bug/1855080>`_] An error in the policy target filtering inadvertently allowed any user to list any credential object with the /v3/credentials API when ``[oslo_policy]/enforce_scope`` was set to false, which is the default. This has been addressed: users with non-admin roles on a project may not list other users' credentials. However, users with the admin role on a project may still list any users credentials when ``[oslo_policy]/enforce_scope`` is false due to `bug 968696 <https://bugs.launchpad.net/keystone/+bug/968696>`_. security: - | [`bug 1855080 <https://bugs.launchpad.net/keystone/+bug/1855080>`_] An error in the policy target filtering inadvertently allowed any user to list any credential object with the /v3/credentials API when ``[oslo_policy]/enforce_scope`` was set to false, which is the default. This has been addressed: users with non-admin roles on a project may not list other users' credentials. However, users with the admin role on a project may still list any users credentials when ``[oslo_policy]/enforce_scope`` is false due to `bug 968696 <https://bugs.launchpad.net/keystone/+bug/968696>`_. ",,108,2
openstack%2Fswift~stable%2Fstein~I3833843cd8d23c498a2afe6c68a3f0afe26343c0,openstack/swift,stable/stein,I3833843cd8d23c498a2afe6c68a3f0afe26343c0,Update known-failures and config for up-rev'ed ceph/s3tests,MERGED,2019-12-04 19:20:26.000000000,2019-12-06 02:21:36.000000000,2019-12-06 02:20:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 19:20:26.000000000', 'files': ['doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'tools/playbooks/ceph-s3tests/ceph-s3.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/2c25b3104613a3a22972f36a474bfbc1ea2a96eb', 'message': ""Update known-failures and config for up-rev'ed ceph/s3tests\n\nChange-Id: I3833843cd8d23c498a2afe6c68a3f0afe26343c0\n(cherry picked from commit cfb3ae6019d9a4437675ff9d6161d67071fe528d)\n""}]",0,697350,2c25b3104613a3a22972f36a474bfbc1ea2a96eb,13,2,1,15343,,,0,"Update known-failures and config for up-rev'ed ceph/s3tests

Change-Id: I3833843cd8d23c498a2afe6c68a3f0afe26343c0
(cherry picked from commit cfb3ae6019d9a4437675ff9d6161d67071fe528d)
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/697350/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'tools/playbooks/ceph-s3tests/ceph-s3.conf']",2,2c25b3104613a3a22972f36a474bfbc1ea2a96eb,,[fixtures] bucket prefix = ceph-s3tests-{random}- [s3 tenant] # XXX(tburke): I have no idea if this even begins to make any sense... user_id = test2:tester2 display_name = test2:tester2 email = test2:tester2 access_key = test2:tester2 secret_key = testing2,,262,0
openstack%2Fpython-tripleoclient~master~I27e98fa77966213fd14e9a5e3187fd4e02db0a10,openstack/python-tripleoclient,master,I27e98fa77966213fd14e9a5e3187fd4e02db0a10,Write minimal paste configuration for heat-all.,MERGED,2019-10-29 20:09:14.000000000,2019-12-06 02:12:57.000000000,2019-12-06 02:10:44.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-29 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02de0df0c3469aa2a3ca2d471a5d0ebcf63c5559', 'message': ""Write minimal paste configuration for heat-all.\n\nInstead of relying on the system's paste configuration for heat api, we\ncan write a minimal configuration that is needed by the heat-all\nprocess. This works in a similar way that we generate a minimal\nconfiguration for heat.conf.\n\nIt also ensures that the configuration can be reprodcued if needed\nwithout having to rely on what may have been configured on an individual\nsystem.\n\nChange-Id: I27e98fa77966213fd14e9a5e3187fd4e02db0a10\n""}, {'number': 2, 'created': '2019-11-08 18:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0c71e890c8fb99f368bb01cf2612270c0121cdc', 'message': ""Write minimal paste configuration for heat-all.\n\nInstead of relying on the system's paste configuration for heat api, we\ncan write a minimal configuration that is needed by the heat-all\nprocess. This works in a similar way that we generate a minimal\nconfiguration for heat.conf.\n\nIt also ensures that the configuration can be reprodcued if needed\nwithout having to rely on what may have been configured on an individual\nsystem.\n\nChange-Id: I27e98fa77966213fd14e9a5e3187fd4e02db0a10\n""}, {'number': 3, 'created': '2019-12-05 19:41:18.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43896a6bc45b158fad8145a3c8333c97a666df9d', 'message': ""Write minimal paste configuration for heat-all.\n\nInstead of relying on the system's paste configuration for heat api, we\ncan write a minimal configuration that is needed by the heat-all\nprocess. This works in a similar way that we generate a minimal\nconfiguration for heat.conf.\n\nIt also ensures that the configuration can be reprodcued if needed\nwithout having to rely on what may have been configured on an individual\nsystem.\n\nChange-Id: I27e98fa77966213fd14e9a5e3187fd4e02db0a10\n""}]",0,691961,43896a6bc45b158fad8145a3c8333c97a666df9d,21,5,3,7144,,,0,"Write minimal paste configuration for heat-all.

Instead of relying on the system's paste configuration for heat api, we
can write a minimal configuration that is needed by the heat-all
process. This works in a similar way that we generate a minimal
configuration for heat.conf.

It also ensures that the configuration can be reprodcued if needed
without having to rely on what may have been configured on an individual
system.

Change-Id: I27e98fa77966213fd14e9a5e3187fd4e02db0a10
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/691961/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,02de0df0c3469aa2a3ca2d471a5d0ebcf63c5559,691963,"api_paste_config = api-paste.ini heat_api_paste_config = ''' [pipeline:heat-api-noauth] pipeline = noauth context versionnegotiation apiv1app [app:apiv1app] paste.app_factory = heat.common.wsgi:app_factory heat.app_factory = heat.api.openstack.v1:API [filter:noauth] paste.filter_factory = heat.common.noauth:filter_factory [filter:context] paste.filter_factory = heat.common.context:ContextMiddleware_filter_factory [filter:versionnegotiation] paste.filter_factory = heat.common.wsgi:filter_factory heat.filter_factory = heat.api.openstack:version_negotiation_filter ''' paste_file = os.path.join( os.path.dirname(config_file), 'api-paste.ini') with open(paste_file, 'w') as temp_file: temp_file.write(heat_api_paste_config) ",api_paste_config = /usr/share/heat/api-paste-dist.ini,20,1
openstack%2Fpython-tripleoclient~master~Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848,openstack/python-tripleoclient,master,Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848,Configurable heat launcher directory,MERGED,2019-10-29 20:09:14.000000000,2019-12-06 02:12:06.000000000,2019-12-06 02:10:44.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-29 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3934edf116782222c5ef531277d744006dd4bb92', 'message': 'Configurable heat launcher directory\n\nThis patch makes the directory used by the heat launcher configurable\ninstead of hardcoded to /var/log/heat-launcher. This is required when\nrunning as non-root without write privileges to /var/log.\n\nChange-Id: Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848\n'}, {'number': 2, 'created': '2019-11-08 18:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c120aed1668e26a52459ec8f7c53700a97a4fcf', 'message': 'Configurable heat launcher directory\n\nThis patch makes the directory used by the heat launcher configurable\ninstead of hardcoded to /var/log/heat-launcher. This is required when\nrunning as non-root without write privileges to /var/log.\n\nChange-Id: Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848\n'}, {'number': 3, 'created': '2019-12-05 19:41:18.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4bf4dbad56dd321236922e1faf9a3c15f48380a', 'message': 'Configurable heat launcher directory\n\nThis patch makes the directory used by the heat launcher configurable\ninstead of hardcoded to /var/log/heat-launcher. This is required when\nrunning as non-root without write privileges to /var/log.\n\nChange-Id: Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848\n'}]",0,691960,a4bf4dbad56dd321236922e1faf9a3c15f48380a,21,5,3,7144,,,0,"Configurable heat launcher directory

This patch makes the directory used by the heat launcher configurable
instead of hardcoded to /var/log/heat-launcher. This is required when
running as non-root without write privileges to /var/log.

Change-Id: Id8443c8dd4e1d3dc3fb9bd1fcf4242d4d1da1848
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/691960/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,3934edf116782222c5ef531277d744006dd4bb92,691963," def __init__(self, api_port, container_image, user='heat', heat_dir='/var/log/heat-launcher'): heatdir = heat_dir def __init__(self, api_port, container_image, user='heat', heat_dir='/var/log/heat-launcher'): user, heat_dir) def __init__(self, api_port, container_image, user='heat', heat_dir='/var/log/heat-launcher'): user, heat_dir)"," def __init__(self, api_port, container_image, user='heat'): heatdir = '/var/log/heat-launcher' def __init__(self, api_port, container_image, user='heat'): user) def __init__(self, api_port, container_image, user='heat'): user)",9,6
openstack%2Fplacement~master~If9a26b4d85bd902457228bafc28abb75980b168d,openstack/placement,master,If9a26b4d85bd902457228bafc28abb75980b168d,Update for os-traits 2.0.0,MERGED,2019-12-05 16:37:52.000000000,2019-12-06 01:52:02.000000000,2019-12-06 01:49:21.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-12-05 16:37:52.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/eff1092233370693093fde7ae1a812df93d39aaf', 'message': 'Update for os-traits 2.0.0\n\nos-traits has a new release 2.0.0 with an additional trait; update tests\nand requirements accordingly.\n\nChange-Id: If9a26b4d85bd902457228bafc28abb75980b168d\n'}]",0,697516,eff1092233370693093fde7ae1a812df93d39aaf,8,8,1,14070,,,0,"Update for os-traits 2.0.0

os-traits has a new release 2.0.0 with an additional trait; update tests
and requirements accordingly.

Change-Id: If9a26b4d85bd902457228bafc28abb75980b168d
",git fetch https://review.opendev.org/openstack/placement refs/changes/16/697516/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,eff1092233370693093fde7ae1a812df93d39aaf,os-traits-2.0.0, $.traits.`len`: 274 # Number of standard traits, $.traits.`len`: 273 # Number of standard traits,3,3
openstack%2Fnova~stable%2Ftrain~Ieb59de10c63bb067f92ec054535766cdd722dae2,openstack/nova,stable/train,Ieb59de10c63bb067f92ec054535766cdd722dae2,compute: Take an instance.uuid lock when rebooting,MERGED,2019-11-26 18:14:41.000000000,2019-12-06 01:51:43.000000000,2019-12-06 01:49:04.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-26 18:14:41.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/939cd9b177db8f12952e72145a5c00a0574959eb', 'message': 'compute: Take an instance.uuid lock when rebooting\n\nPreviously simultaneous requests to reboot and delete an instance could\nrace as only the latter took a lock against the uuid of the instance.\n\nWith the Libvirt driver this race could potentially result in attempts\nbeing made to reconnect previously disconnected volumes on the host.\nDepending on the volume backend being used this could then result in\nstale block devices point to unmapped volumes being left on the host\nthat in turn could cause failures later on when connecting newly mapped\nvolumes.\n\nThis change avoids this race by ensuring any request to reboot an\ninstance takes an instance.uuid lock within the compute manager,\nserialising requests to reboot and then delete the instance.\n\nCloses-Bug: #1838392\nChange-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2\n(cherry picked from commit 9ad54f3dacbd372271f441baea5380f913072dde)\n'}]",0,696151,939cd9b177db8f12952e72145a5c00a0574959eb,12,6,1,10135,,,0,"compute: Take an instance.uuid lock when rebooting

Previously simultaneous requests to reboot and delete an instance could
race as only the latter took a lock against the uuid of the instance.

With the Libvirt driver this race could potentially result in attempts
being made to reconnect previously disconnected volumes on the host.
Depending on the volume backend being used this could then result in
stale block devices point to unmapped volumes being left on the host
that in turn could cause failures later on when connecting newly mapped
volumes.

This change avoids this race by ensuring any request to reboot an
instance takes an instance.uuid lock within the compute manager,
serialising requests to reboot and then delete the instance.

Closes-Bug: #1838392
Change-Id: Ieb59de10c63bb067f92ec054535766cdd722dae2
(cherry picked from commit 9ad54f3dacbd372271f441baea5380f913072dde)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/696151/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,939cd9b177db8f12952e72145a5c00a0574959eb,bug/1838392," @utils.synchronized(instance.uuid) def do_reboot_instance(context, instance, block_device_info, reboot_type): self._reboot_instance(context, instance, block_device_info, reboot_type) do_reboot_instance(context, instance, block_device_info, reboot_type) def _reboot_instance(self, context, instance, block_device_info, reboot_type):",,9,0
openstack%2Fnova~master~If6cdd627f66a66c412f3c1d4997baab3552a9a9c,openstack/nova,master,If6cdd627f66a66c412f3c1d4997baab3552a9a9c,Add confirm_snapshot_based_resize_at_source compute method,MERGED,2019-02-14 21:41:20.000000000,2019-12-06 01:51:14.000000000,2019-12-06 01:49:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-14 21:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c776ed47588c84311369233b73e4f20332ae19fd', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It just destroys the guest, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 2, 'created': '2019-02-14 21:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82e0df27a7dae5deafc74a98dee1d02956a9599a', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It just destroys the guest, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 3, 'created': '2019-02-14 22:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24c8a397a43bef0c45760b06622dbdec2b919557', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It just destroys the guest, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 4, 'created': '2019-02-15 22:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a5d69cd9ba9c2b3a9c05ba2e8c7899852ee720', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 5, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4bf03246ae71d1d6d85205f43d9726d6b499a3', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 6, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2e32fc8323d2e37480e862a60b0d194fc9dcf34', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 7, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f93e535f52e37944b1fa64358c0f1d058a47cbe7', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 8, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8347b22ace65b2d12e945a7512a5be27bd4ca9d', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 9, 'created': '2019-03-08 23:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6faaddd5fcff07a00bb8751cd3df35a3aee85376', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 10, 'created': '2019-03-11 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b22205d5756fb13d9966cd50350e856550484b56', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 11, 'created': '2019-03-14 20:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70fb7d8979c0acd65489413a6ffa4710f1fd7cd3', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 12, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba82cbcecee6d60d59cf4c24055a9eaa7be06d62', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 13, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b439bed60475fad782cc132e8556d3c04d3374b9', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 14, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/168a0eefad04148f2e74a5987745a1cde107dc80', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 15, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eedd33f5692c05dc31d927109cae16e3acabe27', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 16, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b22047c472c76b549f38aaf4d1bf3db19d3d81fc', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 17, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0968a83a094e70d414818c43707ffea04a64cacb', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 18, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae4cc8f529f049ce141be2ff154f596f9b356c2', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 19, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60cf7e470de87190986078546570af6e2f6db005', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 20, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436acd6762741a842b6abc5ea022bdbda9329530', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 21, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3122155bdfe475c917fa7458756fc7dde8ac75a0', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 22, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbb5bfe65d42044edb1ceea2363ec04b07e11ab4', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 23, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e0589d509541294628504432ab8fd8577e20a6', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 24, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50ed39ee285a5ad7de7b26bb6d40de9b7ba15e8', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 25, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58a97405c89e711c5dc207384985025c9ddaf02b', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 26, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27cfcfaeb62293fce32ffaae21fdcd2805ed4270', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 27, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2f7c5d7a8c91515cdcad15a32b8cd83c22402a8', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 28, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/714fbbe3025443924f20d8753842ea597a03323c', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 29, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41f13f65c578d2ca47c9949e17ef854391a40833', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 30, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa5016337839d05a73c94056b53d22cbea0336f', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 31, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f37e602a845777555767c75c99e5eda64e58b377', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 32, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39b9d8e35651fa2dc1ab8dc46cbf876ace1137c4', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 33, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c96e7127c243facf30691ab765e04b30a671601', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 34, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6c9e80d85e4face2c552df90752a1e49b5c981d', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 35, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e685a1c93e07176de8508bd96027e986d06374d', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 36, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/901ce8337b1ca86d35586d5588c0a4ec1753567b', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 37, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70d9eb66db26c2a3052f11d3079bf9d4a0c57386', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 38, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d3ea3476bbeebdaef56a36bb33eb22af706e516', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 39, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/372bb9ec380e42a3133e310626ff991c546f7ead', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 40, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8895929ad90872a0085b9c51986751ddfc68303', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 41, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ee66fbf5f28c49f5774032c43a8247902aeafba', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 42, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/918fd53a4ef3ef028183d556d56b96239886a5e0', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 43, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b07c96f116ba4ab626c09fe1339eccbb31db213f', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 44, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c4de1983147ad7826eaad6272bdc1835aa23a8f', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 45, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/396e7788f788a17eb6f38c2626d307218727fc49', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 46, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0096f6aa0431efad62ba1aa9e9c4063eb13f6b52', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 47, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9d089fd031ac89988954c81e6a6d9af6d7315d1', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 48, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4edca014584e9fc7a93bec809b0bfb907ad9a214', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 49, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54b1399352b91c526ed86c35bf25d7d8de45350a', 'message': 'WIP: Add confirm_snapshot_based_resize_at_source compute method\n\nTODO: tests and need to sort out bug 1809095 wrinkle\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 50, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62c70ecbd91fe4830571aa3a9d0675cdac97b0b1', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 51, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aba95f6b16f905a1feff5b6a9884378d872c0e67', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 52, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b10ee92c29b97dab31cf6666f2f84d2d415bf5b3', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 53, 'created': '2019-11-05 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3212902a2c0711c108a338ce4d2c52ff552c9c41', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 54, 'created': '2019-11-12 21:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87f3c5efc86f4474fa6ac88f161c639ebce83e4e', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 55, 'created': '2019-11-13 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00be9556d477ba42f79fb7b88c293e42defa6daf', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 56, 'created': '2019-11-21 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1db5931b76585c91fb570ac08b57a269dc8e99f', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}, {'number': 57, 'created': '2019-11-27 00:25:33.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c741258f8fc069f223d233f46598f790834eb37b', 'message': 'Add confirm_snapshot_based_resize_at_source compute method\n\nThis adds the confirm_snapshot_based_resize_at_source compute\nservice method which will be RPC called from (super)conductor\nwhen confirming a cross-cell resize.\n\nThis method is pretty basic and is similar to confirm_resize()\nbut not exactly. It cleans the guest disks, cleans up port\nbindings and volume attachments, and frees up resource usage\nin the resource tracker and placement.\n\nThe changes made to the instance object in the traditional\nconfirm_resize flow are not made here since conductor is going\nto just destroy the instance in the source cell database\nonce we have cleaned up the source host.\n\nAnother difference is when this is called, it is with the copy\nof the instance from the source cell database which still has\nthe host/node set pointing to the source host/node which is\nunlike how a traditional resize works where the instance host/node\nare set to the target host prior to confirmation.\n\nAlso, the resize.confirm.start/end notifications do not happen\nhere because conductor will send those notifications since the\nconfirmation process spans both the source and target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c\n'}]",22,637058,c741258f8fc069f223d233f46598f790834eb37b,515,17,57,6873,,,0,"Add confirm_snapshot_based_resize_at_source compute method

This adds the confirm_snapshot_based_resize_at_source compute
service method which will be RPC called from (super)conductor
when confirming a cross-cell resize.

This method is pretty basic and is similar to confirm_resize()
but not exactly. It cleans the guest disks, cleans up port
bindings and volume attachments, and frees up resource usage
in the resource tracker and placement.

The changes made to the instance object in the traditional
confirm_resize flow are not made here since conductor is going
to just destroy the instance in the source cell database
once we have cleaned up the source host.

Another difference is when this is called, it is with the copy
of the instance from the source cell database which still has
the host/node set pointing to the source host/node which is
unlike how a traditional resize works where the instance host/node
are set to the target host prior to confirmation.

Also, the resize.confirm.start/end notifications do not happen
here because conductor will send those notifications since the
confirmation process spans both the source and target cell.

Part of blueprint cross-cell-resize

Change-Id: If6cdd627f66a66c412f3c1d4997baab3552a9a9c
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/637058/56 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",3,c776ed47588c84311369233b73e4f20332ae19fd,bp/cross-cell-resize," * 5.5 - Add confirm_snapshot_based_resize_at_source() def confirm_snapshot_based_resize_at_source( self, ctxt, instance, migration): """"""Confirms a snapshot-based resize on the source host. Destroys the guest on the source hypervisor including disks and drops the MoveClaim which will free up ""old_flavor"" usage from the ResourceTracker. This is a synchronous RPC call using the ``long_rpc_timeout`` configuration option. :param ctxt: nova auth request context targeted at the source cell :param instance: Instance object being resized which should have the ""old_flavor"" attribute set :param migration: Migration object for the resize operation :raises: nova.exception.MigrationError if the source compute is too old to perform the operation :raises: oslo_messaging.exceptions.MessagingTimeout if the RPC call times out """""" version = '5.5' client = self.router.client(ctxt) if not client.can_send_version(version): raise exception.MigrationError(reason=_('Compute too old')) cctxt = client.prepare(server=migration.source_compute, version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout) return cctxt.call( ctxt, 'confirm_snapshot_based_resize_at_source', instance=instance, migration=migration) ",,122,2
openstack%2Fdevstack~master~Id3f46b3537cd3232cb29c42808bde44c667565f1,openstack/devstack,master,Id3f46b3537cd3232cb29c42808bde44c667565f1,Dump the upper constraints for tempest in a temporary file,MERGED,2019-11-04 11:41:57.000000000,2019-12-06 01:51:00.000000000,2019-12-06 01:49:36.000000000,"[{'_account_id': 7118}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-04 11:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/104f25dccd689c797b6a8b0d12678e47bfd6e541', 'message': 'Dump the upper constraints for tempest in a temporary file\n\nThis will avoid the creation of an unneeded file in the ""tempest""\nrepository directory.\n\nTrivialFix\n\nChange-Id: Id3f46b3537cd3232cb29c42808bde44c667565f1\n'}, {'number': 2, 'created': '2019-11-06 15:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6be4de681cb281f9cd4d686a2bdb220391254302', 'message': 'Dump the upper constraints for tempest in a temporary file\n\nThis will avoid the creation of an unneeded file in the ""tempest""\nrepository directory.\n\nTrivialFix\n\nChange-Id: Id3f46b3537cd3232cb29c42808bde44c667565f1\n'}, {'number': 3, 'created': '2019-11-06 18:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c1cb953a8a197db95831c9cb905e1b2a08cd8614', 'message': 'Dump the upper constraints for tempest in a temporary file\n\nThis will avoid the creation of an unneeded file in the ""tempest""\nrepository directory.\n\nTrivialFix\n\nChange-Id: Id3f46b3537cd3232cb29c42808bde44c667565f1\n'}, {'number': 4, 'created': '2019-11-29 13:56:45.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8579f583077e5df3358605e4cdfe418b1d46f53b', 'message': 'Dump the upper constraints for tempest in a temporary file\n\nThis will avoid the creation of an unneeded file in the ""tempest""\nrepository directory.\n\nTrivialFix\n\nChange-Id: Id3f46b3537cd3232cb29c42808bde44c667565f1\n'}]",8,692806,8579f583077e5df3358605e4cdfe418b1d46f53b,32,6,4,16688,,,0,"Dump the upper constraints for tempest in a temporary file

This will avoid the creation of an unneeded file in the ""tempest""
repository directory.

TrivialFix

Change-Id: Id3f46b3537cd3232cb29c42808bde44c667565f1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/692806/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,104f25dccd689c797b6a8b0d12678e47bfd6e541,temp_upper_contraints_tempest, tmp_u_c_m=$(mktemp -d -t tempest_u_c_m.XXXXXXXXXX) (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > tmp_u_c_m tox -evenv-tempest -- pip install -c tmp_u_c_m -r requirements.txt tmp_u_c_m=$(mktemp -d -t tempest_u_c_m.XXXXXXXXXX) (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > tmp_u_c_m tox -evenv-tempest -- pip install -c tmp_u_c_m $TEMPEST_PLUGINS, (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt -r requirements.txt (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) > u-c-m.txt tox -evenv-tempest -- pip install -c u-c-m.txt $TEMPEST_PLUGINS,6,4
openstack%2Fnova~stable%2Frocky~I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,openstack/nova,stable/rocky,I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b,Replace time.sleep(10) with service forced_down in tests,MERGED,2019-11-27 00:43:22.000000000,2019-12-06 01:49:24.000000000,2019-12-06 01:49:24.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-27 00:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e29ac70669b83997b4903d0d2f2e8fe100c95a77', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1783565\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)\n(cherry picked from commit a5daa0ddb3129ddd1bea4e85570c047fc2912b1a)\n(cherry picked from commit 92eb45ba5eb413400e1789f09d3739ee8c0b77de)\n'}, {'number': 2, 'created': '2019-11-27 02:05:10.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/functional/api/client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ffce5be5cae59969ec5ecf7e2b36ae4ec87c29d1', 'message': 'Replace time.sleep(10) with service forced_down in tests\n\nThe server group functional tests are doing time.sleep(10) in order\nto make sure a stopped compute service is considered ""down"" by the nova\ncompute API.\n\nInstead of sleeping, we can set the service as ""forced_down"" to get the\ndesired ""down"" compute service status and avoid unnecessary delays in\nthese tests.\n\nUnnecessary service start() calls are also removed in this change. They\nappear at the end of tests and services are started during each test\nsetUp() and killed during each test tearDown() via the ServiceFixture.\n\nCloses-Bug: #1783565\n\nNOTE(melwitt): The differences from the cherry picked change are:\n\n  * Addition of \'from nova import utils\' because change\n    Ie07b419732e0832a9b9d16565f6c9d00ba85d654 is not in Rocky\n\n  * Addition of the put_service_force_down method for the API client\n    because change If0693eab2ed31b5fbfe6cbafa5d67b69c2ed8442 is not\n    in Rocky\n\nChange-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b\n(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)\n(cherry picked from commit a5daa0ddb3129ddd1bea4e85570c047fc2912b1a)\n(cherry picked from commit 92eb45ba5eb413400e1789f09d3739ee8c0b77de)\n'}]",0,696217,ffce5be5cae59969ec5ecf7e2b36ae4ec87c29d1,19,6,2,4690,,,0,"Replace time.sleep(10) with service forced_down in tests

The server group functional tests are doing time.sleep(10) in order
to make sure a stopped compute service is considered ""down"" by the nova
compute API.

Instead of sleeping, we can set the service as ""forced_down"" to get the
desired ""down"" compute service status and avoid unnecessary delays in
these tests.

Unnecessary service start() calls are also removed in this change. They
appear at the end of tests and services are started during each test
setUp() and killed during each test tearDown() via the ServiceFixture.

Closes-Bug: #1783565

NOTE(melwitt): The differences from the cherry picked change are:

  * Addition of 'from nova import utils' because change
    Ie07b419732e0832a9b9d16565f6c9d00ba85d654 is not in Rocky

  * Addition of the put_service_force_down method for the API client
    because change If0693eab2ed31b5fbfe6cbafa5d67b69c2ed8442 is not
    in Rocky

Change-Id: I74f64b68e4b33ee0f8c45fdc5f570c7e12e05d3b
(cherry picked from commit 1c93ca82b8fb8e39787020decfe335d45f8732e7)
(cherry picked from commit a5daa0ddb3129ddd1bea4e85570c047fc2912b1a)
(cherry picked from commit 92eb45ba5eb413400e1789f09d3739ee8c0b77de)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/696217/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,e29ac70669b83997b4903d0d2f2e8fe100c95a77,bug/1783565," def _set_forced_down(self, service, forced_down): # Use microversion 2.53 for PUT /os-services/{service_id} force down. with utils.temporary_mutation(self.admin_api, microversion='2.53'): self.admin_api.put_service_force_down(service.service_ref.uuid, forced_down) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True) # Set forced_down on the host to ensure nova considers the host down. self._set_forced_down(host, True)",import time # Override servicegroup parameters to make the tests run faster _service_down_time = 10 _report_interval = 1 self.flags(service_down_time=self._service_down_time) self.flags(report_interval=self._report_interval) host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() host.stop() # Need to wait service_down_time amount of seconds to ensure # nova considers the host down time.sleep(self._service_down_time) host.start() ,20,49
openstack%2Fnova~stable%2Focata~I20981c987549eec40ad9762e74b0db16e54f4e63,openstack/nova,stable/ocata,I20981c987549eec40ad9762e74b0db16e54f4e63,Workaround missing RequestSpec.instance_group.uuid,MERGED,2019-06-04 21:05:33.000000000,2019-12-06 01:49:16.000000000,2019-12-06 01:49:16.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26970}]","[{'number': 1, 'created': '2019-06-04 21:05:33.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py', 'nova/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3390c7af7ac774163fc8aa43e65662dfcefdc4cc', 'message': ""Workaround missing RequestSpec.instance_group.uuid\n\nIt's clear that we could have a RequestSpec.instance_group\nwithout a uuid field if the InstanceGroup is set from the\n_populate_group_info method which should only be used for\nlegacy translation of request specs using legacy filter\nproperties dicts.\n\nTo workaround the issue, we look for the group scheduler hint\nto get the group uuid before loading it from the DB.\n\nThe related functional regression recreate test is updated\nto show this solves the issue.\n\nChange-Id: I20981c987549eec40ad9762e74b0db16e54f4e63\nCloses-Bug: #1830747\n(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)\n(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)\n(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)\n(cherry picked from commit 20b90f2e26e6a46a12c2fd943b4472c3147528fa)\n(cherry picked from commit 79cc08642172a3df1cd8d7a7c413adc21b468dcf)\n""}]",0,663144,3390c7af7ac774163fc8aa43e65662dfcefdc4cc,14,10,1,6873,,,0,"Workaround missing RequestSpec.instance_group.uuid

It's clear that we could have a RequestSpec.instance_group
without a uuid field if the InstanceGroup is set from the
_populate_group_info method which should only be used for
legacy translation of request specs using legacy filter
properties dicts.

To workaround the issue, we look for the group scheduler hint
to get the group uuid before loading it from the DB.

The related functional regression recreate test is updated
to show this solves the issue.

Change-Id: I20981c987549eec40ad9762e74b0db16e54f4e63
Closes-Bug: #1830747
(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)
(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)
(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)
(cherry picked from commit 20b90f2e26e6a46a12c2fd943b4472c3147528fa)
(cherry picked from commit 79cc08642172a3df1cd8d7a7c413adc21b468dcf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/663144/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1830747.py']",2,3390c7af7ac774163fc8aa43e65662dfcefdc4cc,bug/1830747," self.api, server, 'VERIFY_RESIZE') self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) # The RequestSpec.instance_group.uuid should still be set. reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid)","import sixfrom nova import exception # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex))",13,14
openstack%2Fnova~stable%2Focata~I05700c97f756edb7470be7273d5c9c3d76d63e29,openstack/nova,stable/ocata,I05700c97f756edb7470be7273d5c9c3d76d63e29,Add regression recreate test for bug 1830747,MERGED,2019-06-04 21:05:33.000000000,2019-12-06 01:49:11.000000000,2019-12-06 01:49:11.000000000,"[{'_account_id': 7166}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30105}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 21:05:33.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c41fe944dbf554e2d5980595e6155e25e6c0c25b', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nNOTE(mriedem): In this version we have to use the FakeDriver because the\nMediumFakeDriver did not exist in Ocata. Also, we have to disable the\nDiskFilter since we are using placement during scheduling.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)\n(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)\n(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)\n(cherry picked from commit 581df2c98676b6734e8195ab56c9e0dba74789a5)\n(cherry picked from commit 09ec97b95b19a42b949da76fe1f1b3cc06da8f35)\n'}]",0,663143,c41fe944dbf554e2d5980595e6155e25e6c0c25b,12,8,1,6873,,,0,"Add regression recreate test for bug 1830747

Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when
a cold migration would reschedule to conductor it would not send the
RequestSpec, only the filter_properties. The filter_properties contain
a primitive version of the instance group information from the RequestSpec
for things like the group members, hosts and policies, but not the uuid.
When conductor is trying to reschedule the cold migration without a
RequestSpec, it builds a RequestSpec from the components it has, like the
filter_properties. This results in a RequestSpec with an instance_group
field set but with no uuid field in the RequestSpec.instance_group.
That RequestSpec gets persisted and then because of change
Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the
RequestSpec from the database will fail because of the missing
RequestSpec.instance_group.uuid.

The test added here recreates the pre-Stein scenario which could still
be a problem (on master) for any corrupted RequestSpecs for older
instances.

NOTE(mriedem): In this version we have to use the FakeDriver because the
MediumFakeDriver did not exist in Ocata. Also, we have to disable the
DiskFilter since we are using placement during scheduling.

Change-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29
Related-Bug: #1830747
(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)
(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)
(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)
(cherry picked from commit 581df2c98676b6734e8195ab56c9e0dba74789a5)
(cherry picked from commit 09ec97b95b19a42b949da76fe1f1b3cc06da8f35)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/663143/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1830747.py'],1,c41fe944dbf554e2d5980595e6155e25e6c0c25b,bug/1830747,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import six import nova.conf from nova import context as nova_context from nova import exception from nova import objects from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova.virt import fake as fake_virt CONF = nova.conf.CONF class HostNameWeigher(weights.BaseHostWeigher): # Prefer host1 over host2. weights = {'host1': 100, 'host2': 50} def _weigh_object(self, host_state, weight_properties): return self.weights.get(host_state.host, 0) class MissingReqSpecInstanceGroupUUIDTestCase( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression recreate test for bug 1830747 Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when a cold migration would reschedule to conductor it would not send the RequestSpec, only the filter_properties. The filter_properties contain a primitive version of the instance group information from the RequestSpec for things like the group members, hosts and policies, but not the uuid. When conductor is trying to reschedule the cold migration without a RequestSpec, it builds a RequestSpec from the components it has, like the filter_properties. This results in a RequestSpec with an instance_group field set but with no uuid field in the RequestSpec.instance_group. That RequestSpec gets persisted and then because of change Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the RequestSpec from the database will fail because of the missing RequestSpec.instance_group.uuid. This test recreates the regression scenario by cold migrating a server to a host which fails and triggers a reschedule but without the RequestSpec so a RequestSpec is created/updated for the instance without the instance_group.uuid set which will lead to a failure loading the RequestSpec from the DB later. """""" def setUp(self): super(MissingReqSpecInstanceGroupUUIDTestCase, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Configure the API to allow resizing to the same host so we can keep # the number of computes down to two in the test. self.flags(allow_resize_to_same_host=True) # Start nova controller services. api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.start_service('conductor') # Use our custom weigher defined above to make sure that we have # a predictable scheduling sort order. self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') enabled_filters = CONF.filter_scheduler.enabled_filters # Remove the DiskFilter since we're using Placement for filtering on # DISK_GB. if 'DiskFilter' in enabled_filters: enabled_filters.remove('DiskFilter') self.flags(enabled_filters=enabled_filters, group='filter_scheduler') self.start_service('scheduler') # Use the FakeDriver so we have enough resources to resize to # the same host. self.flags(compute_driver='fake.FakeDriver') # Start two computes, one where the server will be created and another # where we'll cold migrate it. self.addCleanup(fake_virt.restore_nodes) self.computes = {} # keep track of the compute services per host name for host in ('host1', 'host2'): fake_virt.set_nodes([host]) compute_service = self.start_service('compute', host=host) self.computes[host] = compute_service def test_cold_migrate_reschedule(self): # Create an anti-affinity group for the server. body = { 'server_group': { 'name': 'test-group', 'policies': ['anti-affinity'] } } group_id = self.api.api_post( '/os-server-groups', body).body['server_group']['id'] # Create a server in the group which should land on host1 due to our # custom weigher. networks = [{ 'port': nova_fixtures.NeutronFixture.port_1['id'] }] server = self._build_minimal_create_server_request( self.api, 'test_cold_migrate_reschedule', networks=networks) body = dict(server=server) body['os:scheduler_hints'] = {'group': group_id} server = self.api.post_server(body) server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # Verify the group uuid is set in the request spec. ctxt = nova_context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid) # Now cold migrate the server. Because of allow_resize_to_same_host and # the weigher, the scheduler will pick host1 first. The FakeDriver # actually allows migrating to the same host so we need to stub that # out so the compute will raise UnableToMigrateToSelf like when using # the libvirt driver. host1_driver = self.computes['host1'].driver with mock.patch.dict(host1_driver.capabilities, supports_migrate_to_same_host=False): self.api.post_server_action(server['id'], {'migrate': None}) # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. server = self._wait_for_state_change( self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex)) ",,153,0
openstack%2Ftripleo-heat-templates~master~I606e0f27f9f9ae9d85bc0fc653f8985eb734d004,openstack/tripleo-heat-templates,master,I606e0f27f9f9ae9d85bc0fc653f8985eb734d004,Use ansible for hosts entries,MERGED,2019-10-22 18:32:57.000000000,2019-12-06 01:38:39.000000000,2019-12-06 01:36:59.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-22 18:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5a097ac1a4272b80c5fe62c9270aa52f578c046', 'message': 'Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: I1e12962e2f2fa6c1a2b429a3e02424fd42b0a08d\n'}, {'number': 2, 'created': '2019-10-29 20:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c27fee75500e403046b383a8d845cc4550bdfd45', 'message': 'Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ifc4d9553b74e6e6a9794902b418f54c0cfc7a39d\n'}, {'number': 3, 'created': '2019-11-02 01:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fdae556568f9325749ca6dac6eb9675ea8efe23', 'message': 'WIP: Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ifc4d9553b74e6e6a9794902b418f54c0cfc7a39d\n'}, {'number': 4, 'created': '2019-11-02 18:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bf76ae42475cd442cbb8bb77aada5d7f7adca06', 'message': 'WIP: Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ifc4d9553b74e6e6a9794902b418f54c0cfc7a39d\n'}, {'number': 5, 'created': '2019-11-05 14:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f90ba153e0119764c820b7023b92a0f0bf679f35', 'message': 'Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}, {'number': 6, 'created': '2019-11-05 14:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fcbc8417546827832be43e6b9aaf4eaa08d8a3d1', 'message': 'Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}, {'number': 7, 'created': '2019-11-14 16:29:57.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/use-ansible-for-hosts-entries-b4905552515e17ff.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/597cdb67962289f35cb37f17a2cd427af6b81358', 'message': 'Use ansible for hosts entries\n\nThis patch updates the templates to use the new ansible role,\ntripleo-hosts-entries, for managing the entries in /etc/hosts instead of\nthe values from the Heat stack.\n\nChange-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004\nDepends-On: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a\n'}]",0,690154,597cdb67962289f35cb37f17a2cd427af6b81358,55,5,7,7144,,,0,"Use ansible for hosts entries

This patch updates the templates to use the new ansible role,
tripleo-hosts-entries, for managing the entries in /etc/hosts instead of
the values from the Heat stack.

Change-Id: I606e0f27f9f9ae9d85bc0fc653f8985eb734d004
Depends-On: Ia02ca1263590e2b579f2534e99119d7b1cd4b39a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/690154/7 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'releasenotes/notes/use-ansible-for-hosts-entries-b4905552515e17ff.yaml']",4,f5a097ac1a4272b80c5fe62c9270aa52f578c046,690357,--- features: - | The ansible tripleo-hosts-entries is now used for adding individual entries to /etc/hosts for each overcloud node. This role is used instead of the output data from the Heat stack. ,,39,4
openstack%2Foctavia~master~I3f0c47e72978103bb4dd83fe6f3cdd2c0e8e3210,openstack/octavia,master,I3f0c47e72978103bb4dd83fe6f3cdd2c0e8e3210,Adjust for new octavia-lib LB signature,MERGED,2019-12-04 21:00:41.000000000,2019-12-06 01:36:29.000000000,2019-12-06 01:33:51.000000000,"[{'_account_id': 1131}, {'_account_id': 3031}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 21:00:41.000000000', 'files': ['requirements.txt', 'octavia/tests/common/sample_data_models.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d115644d3eacbe472c98440148a0231006a0a94e', 'message': 'Adjust for new octavia-lib LB signature\n\nDepends-On: https://review.opendev.org/#/c/697359/\nChange-Id: I3f0c47e72978103bb4dd83fe6f3cdd2c0e8e3210\n'}]",0,697365,d115644d3eacbe472c98440148a0231006a0a94e,13,5,1,10273,,,0,"Adjust for new octavia-lib LB signature

Depends-On: https://review.opendev.org/#/c/697359/
Change-Id: I3f0c47e72978103bb4dd83fe6f3cdd2c0e8e3210
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/697365/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'octavia/tests/common/sample_data_models.py', 'lower-constraints.txt']",3,d115644d3eacbe472c98440148a0231006a0a94e,,octavia-lib==1.5.0,octavia-lib==1.3.1,3,2
openstack%2Foctavia-lib~master~I001bfd82c3b762987a0414f84a5d3a04f3694b4f,openstack/octavia-lib,master,I001bfd82c3b762987a0414f84a5d3a04f3694b4f,Return tips jobs to voting,MERGED,2019-11-19 03:07:09.000000000,2019-12-06 01:36:16.000000000,2019-12-06 01:33:52.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-11-19 03:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ad6ce69c2b02babd9996d75ac83ea0c0b831d4f3', 'message': 'Return tips jobs to voting\n\nDepends-On: https://review.opendev.org/#/c/693762/\nChange-Id: I001bfd82c3b762987a0414f84a5d3a04f3694b4f\n'}, {'number': 2, 'created': '2019-11-19 03:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/137279792fd5ef8c003ef3d6efa06356a0227d81', 'message': 'Return tips jobs to voting\n\nDepends-On: https://review.opendev.org/#/c/693762/\nChange-Id: I001bfd82c3b762987a0414f84a5d3a04f3694b4f\n'}, {'number': 3, 'created': '2019-11-21 22:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/787bce5fe10718a73f7ac93b42657bd1ba29cdef', 'message': 'Return tips jobs to voting\n\nDepends-On: https://review.opendev.org/#/c/693762/\nChange-Id: I001bfd82c3b762987a0414f84a5d3a04f3694b4f\n'}, {'number': 4, 'created': '2019-12-04 21:30:28.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/4cef38bd85bf430814a0f18cea74a072343dcb4f', 'message': 'Return tips jobs to voting\n\nDepends-On: https://review.opendev.org/#/c/697365/\nChange-Id: I001bfd82c3b762987a0414f84a5d3a04f3694b4f\n'}]",0,694895,4cef38bd85bf430814a0f18cea74a072343dcb4f,17,4,4,10273,,,0,"Return tips jobs to voting

Depends-On: https://review.opendev.org/#/c/697365/
Change-Id: I001bfd82c3b762987a0414f84a5d3a04f3694b4f
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/95/694895/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ad6ce69c2b02babd9996d75ac83ea0c0b831d4f3,octavia-availability-zones, - octavia-tox-tips, - octavia-tox-tips: voting: false,1,2
openstack%2Ftripleo-heat-templates~master~If189eb6fc0b2dc2c78323a7c08f7e303be2b6124,openstack/tripleo-heat-templates,master,If189eb6fc0b2dc2c78323a7c08f7e303be2b6124,Relax filtering in krb-service-principals jinja,MERGED,2019-12-05 15:23:31.000000000,2019-12-06 01:33:23.000000000,2019-12-06 01:22:35.000000000,"[{'_account_id': 4571}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-12-05 15:23:31.000000000', 'files': ['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af79ae34ad9a3ed1581c0f6df91fa1e3ef0f8433', 'message': 'Relax filtering in krb-service-principals jinja\n\nThe filtering added to fix Bug: #1821377 filters any\nnetwork without a VIP address. This filtering is to\nagressive and cause deployment failure when a management\nnetwork without a VIP is used.\n\nChange-Id: If189eb6fc0b2dc2c78323a7c08f7e303be2b6124\nResolves: rhbz#1778719\nCloses-Bug: #1854846\n'}]",0,697498,af79ae34ad9a3ed1581c0f6df91fa1e3ef0f8433,18,5,1,24245,,,0,"Relax filtering in krb-service-principals jinja

The filtering added to fix Bug: #1821377 filters any
network without a VIP address. This filtering is to
agressive and cause deployment failure when a management
network without a VIP is used.

Change-Id: If189eb6fc0b2dc2c78323a7c08f7e303be2b6124
Resolves: rhbz#1778719
Closes-Bug: #1854846
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/697498/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml']",2,af79ae34ad9a3ed1581c0f6df91fa1e3ef0f8433,bug/1854846,"--- fixes: - | Fixes an issue where filtering of networks for kerberos service principals was too aggressive, causing deployment failure. See bug `1854846 <https://bugs.launchpad.net/tripleo/+bug/1854846>`_. ",,8,1
openstack%2Fnova~stable%2Ftrain~I17e0e45117a3312c11d6c7f2762dd416b6067979,openstack/nova,stable/train,I17e0e45117a3312c11d6c7f2762dd416b6067979,compute: Use long_rpc_timeout in reserve_block_device_name,MERGED,2019-12-02 20:13:46.000000000,2019-12-06 01:23:49.000000000,2019-12-06 01:22:13.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-02 20:13:46.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/conf/rpc.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9a1bc71050b41753259b96998a2a4b4dc8ecd79', 'message': 'compute: Use long_rpc_timeout in reserve_block_device_name\n\nGiven the instance.uuid lock taken on the remote compute, calls to\nreserve_block_device_name can take a large amount of time to complete\nwhen attaching multiple volumes. To help avoid timeouts during such\nattempts this change switches to using the long_rpc_timeout for the\noverall timeout for each call.\n\nConflicts:\n        nova/conf/rpc.py\n\nNOTE(lyarwood): Conflicts due to the following not being present in\nstable/train. I9115ef6df59844cd6e702f19ba38ffbf9f8b35d3,\nI518ae675b7a67da64a5796e57e87860f0c3ef0db and\nIf373fedb8d2e0dfc46b8ac5b018f8216aa5c643c.\n\nRelated-Bug: #1844296\nChange-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979\n(cherry picked from commit 648c05f7bee025087c2f9d8e2f9cda6e2c13e13f)\n'}]",1,696953,f9a1bc71050b41753259b96998a2a4b4dc8ecd79,14,7,1,10135,,,0,"compute: Use long_rpc_timeout in reserve_block_device_name

Given the instance.uuid lock taken on the remote compute, calls to
reserve_block_device_name can take a large amount of time to complete
when attaching multiple volumes. To help avoid timeouts during such
attempts this change switches to using the long_rpc_timeout for the
overall timeout for each call.

Conflicts:
        nova/conf/rpc.py

NOTE(lyarwood): Conflicts due to the following not being present in
stable/train. I9115ef6df59844cd6e702f19ba38ffbf9f8b35d3,
I518ae675b7a67da64a5796e57e87860f0c3ef0db and
If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c.

Related-Bug: #1844296
Change-Id: I17e0e45117a3312c11d6c7f2762dd416b6067979
(cherry picked from commit 648c05f7bee025087c2f9d8e2f9cda6e2c13e13f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/696953/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/conf/rpc.py', 'nova/compute/rpcapi.py']",3,f9a1bc71050b41753259b96998a2a4b4dc8ecd79,bug/1844296," version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout)", version=version),6,1
openstack%2Fosc-placement~master~Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc,openstack/osc-placement,master,Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-10-25 05:50:28.000000000,2019-12-06 01:07:48.000000000,2019-12-06 01:05:01.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-25 05:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/109c6227b771aace20cb93e37bd58b47cb9017db', 'message': 'Drop support for python2\n\nThis patch stop testing with python2 and issue the release note.\n\nChange-Id: Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc\nDepends-On: https://review.opendev.org/#/c/688997/\n'}, {'number': 2, 'created': '2019-12-03 06:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/aac468dbe58cdc5631921e281b41279db0d6c6e1', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\n""osc-placement"" is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc\n'}, {'number': 3, 'created': '2019-12-03 06:48:43.000000000', 'files': ['releasenotes/notes/drop-python-2-df59500ad303a56c.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/52ef27a8ce64878c2ef95298e5b9e7370e06f98a', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\n""osc-placement"" is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc\n'}]",9,691193,52ef27a8ce64878c2ef95298e5b9e7370e06f98a,18,5,3,25625,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

""osc-placement"" is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ibd9d1c839f820d8c8ea0ad0979d5dca9223d11dc
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/93/691193/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-2-df59500ad303a56c.yaml', '.zuul.yaml', 'setup.cfg', 'tox.ini']",4,109c6227b771aace20cb93e37bd58b47cb9017db,drop-py27-support,"envlist = py37,functional-py37,pep8","envlist = py27,py37,functional,functional-py36,pep8basepython = python2.7",7,6
openstack%2Fnova~master~I3364bc09234ffe65f48aeee2415d109ad3f7b6ae,openstack/nova,master,I3364bc09234ffe65f48aeee2415d109ad3f7b6ae,WIP: log when loading security group driver,ABANDONED,2019-04-15 22:06:02.000000000,2019-12-06 01:05:00.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-04-15 22:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d91d0acbb23df811a38d2b32efc544208c3b85b', 'message': 'WIP: log when loading security group driver\n\nSee how bad https://review.openstack.org/#/c/325684/ (newton)\nregressed the cache performance benefit of\nhttps://review.openstack.org/#/c/256073/ (mitaka).\n\nChange-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae\n'}, {'number': 2, 'created': '2019-12-03 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6720610893dcd345ba3d00e249e6b8eea18dd4f', 'message': 'WIP: log when loading security group driver\n\nSee how bad https://review.openstack.org/#/c/325684/ (newton)\nregressed the cache performance benefit of\nhttps://review.openstack.org/#/c/256073/ (mitaka).\n\nChange-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae\n'}, {'number': 3, 'created': '2019-12-05 15:49:00.000000000', 'files': ['nova/network/security_group/openstack_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f575bf3429156301ee2386954befafdc1f417830', 'message': 'WIP: log when loading security group driver\n\nSee how bad https://review.openstack.org/#/c/325684/ (newton)\nregressed the cache performance benefit of\nhttps://review.openstack.org/#/c/256073/ (mitaka).\n\nChange-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae\n'}]",2,652783,f575bf3429156301ee2386954befafdc1f417830,26,8,3,6873,,,0,"WIP: log when loading security group driver

See how bad https://review.openstack.org/#/c/325684/ (newton)
regressed the cache performance benefit of
https://review.openstack.org/#/c/256073/ (mitaka).

Change-Id: I3364bc09234ffe65f48aeee2415d109ad3f7b6ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/652783/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/security_group/openstack_driver.py'],1,4d91d0acbb23df811a38d2b32efc544208c3b85b,bug/1825018,from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.info('Loading security group driver'),,3,0
openstack%2Fopenstack-ansible-os_keystone~master~I5139d075a38173da530c20f17c12bcdcc2997e9c,openstack/openstack-ansible-os_keystone,master,I5139d075a38173da530c20f17c12bcdcc2997e9c,tox: Keeping going with docs,MERGED,2019-12-05 08:38:50.000000000,2019-12-06 00:33:17.000000000,2019-12-06 00:31:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-12-05 08:38:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fb1869c95775bb84f606a0770137f9514644b5ab', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Remove the unnecessary blank line for tox.ini\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I5139d075a38173da530c20f17c12bcdcc2997e9c\n""}]",0,697421,fb1869c95775bb84f606a0770137f9514644b5ab,8,3,1,17130,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. Remove the unnecessary blank line for tox.ini

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I5139d075a38173da530c20f17c12bcdcc2997e9c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/21/697421/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fb1869c95775bb84f606a0770137f9514644b5ab,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,18
openstack%2Fopenstack-ansible~stable%2Ftrain~Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d,openstack/openstack-ansible,stable/train,Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d,Don't require provider_networks with no_containers,MERGED,2019-12-04 13:57:15.000000000,2019-12-06 00:14:17.000000000,2019-12-06 00:11:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-04 13:57:15.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2591e2c8b6680ed5fdc8dc26f683c29c16673f0a', 'message': ""Don't require provider_networks with no_containers\n\nWhen no_containers is set in global_overrides it means that it's going\nto be metal deployment. Since metal deployments do not require\nprovider_networks, we can easily skip check of their existance in\nopenstack_user_config.yml\n\nChange-Id: Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d\n(cherry picked from commit 94e477032ac466cc72bdf06e7fec0dd51ce5b84e)\n""}]",0,697289,2591e2c8b6680ed5fdc8dc26f683c29c16673f0a,17,4,1,25023,,,0,"Don't require provider_networks with no_containers

When no_containers is set in global_overrides it means that it's going
to be metal deployment. Since metal deployments do not require
provider_networks, we can easily skip check of their existance in
openstack_user_config.yml

Change-Id: Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d
(cherry picked from commit 94e477032ac466cc72bdf06e7fec0dd51ce5b84e)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/697289/1 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/generate.py'],1,2591e2c8b6680ed5fdc8dc26f683c29c16673f0a,osa-train," if 'global_overrides' in config: no_containers = config['global_overrides'].get('no_containers', False) else: no_containers = False if not no_containers: for key, value in container_skel.items(): properties = value.get('properties', {}) is_metal = properties.get('is_metal', False) if not is_metal: is_provider_networks_needed = True break"," for key, value in container_skel.items(): properties = value.get('properties', {}) is_metal = properties.get('is_metal', False) if not is_metal: is_provider_networks_needed = True break",11,6
openstack%2Ftripleo-ansible~master~I07cc4cebf3cd3e1dabfdec0a87707f96e430983a,openstack/tripleo-ansible,master,I07cc4cebf3cd3e1dabfdec0a87707f96e430983a,OpenStack Node Provide playbook,MERGED,2019-10-30 16:27:29.000000000,2019-12-06 00:12:07.000000000,2019-12-06 00:12:07.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-30 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55634df365364ff395d23fc7ad4e1302bb3d0313', 'message': 'OpenStack Node Provide playbook\n\nThis playbook replaces the Mistral workflows used by the `openstack\novercloud node provide` CLI command\n\nRelated-Bug: #1835230\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>\nChange-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a\n'}, {'number': 2, 'created': '2019-11-14 14:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e3984ba3dd504703d3939478a8cd0b211d31dc3', 'message': 'OpenStack Node Provide playbook\n\nThis playbook replaces the Mistral workflows used by the `openstack\novercloud node provide` CLI command\n\nRelated-Bug: #1835230\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>\nChange-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a\n'}, {'number': 3, 'created': '2019-11-21 18:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/70c626b5eabffc2d9685bb46c0b7b63107ab5079', 'message': 'OpenStack Node Provide playbook\n\nThis playbook replaces the Mistral workflows used by the `openstack\novercloud node provide` CLI command\n\nRelated-Bug: #1835230\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>\nChange-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-11-22 22:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16c3706e48d8a1c6731fed35e1bf27cf9e43cd58', 'message': 'OpenStack Node Provide playbook\n\nThis playbook replaces the Mistral workflows used by the `openstack\novercloud node provide` CLI command\n\nRelated-Bug: #1835230\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>\nChange-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-11-25 14:55:46.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d8b4496d2946e86c5e1232d325141b065f43f91a', 'message': 'OpenStack Node Provide playbook\n\nThis playbook replaces the Mistral workflows used by the `openstack\novercloud node provide` CLI command\n\nRelated-Bug: #1835230\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>\nChange-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",18,692189,d8b4496d2946e86c5e1232d325141b065f43f91a,34,7,5,9712,,,0,"OpenStack Node Provide playbook

This playbook replaces the Mistral workflows used by the `openstack
overcloud node provide` CLI command

Related-Bug: #1835230
Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Cedric Jeanneret <cjeanner@redhat.com>
Change-Id: I07cc4cebf3cd3e1dabfdec0a87707f96e430983a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/692189/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/overcloud-node-provide.yaml'],1,55634df365364ff395d23fc7ad4e1302bb3d0313,mistral_to_ansible,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Overcloud Node Provide connection: local hosts: localhost pre_tasks: - name: Check for required inputs fail: msg: > Either `node_uuids` or `all_manageable` are required inputs. when: - node_uuids is undefined - all_manageable is undefined tasks: # Get Node UUIDs, if ""all_manageable"" is True - name: Get node UUIDS shell: > openstack baremetal node list --provision-state=manageable -c UUID -f value register: command_output changed_when: false when: - all_manageable | bool - set_fact: node_uuids: ""{{ command_output.stdout_lines }}"" when: - all_manageable | bool - name: exit if nothing to do block: - name: Notice debug: msg: No nodes are manageable at this time. - name: end play meta: end_play when: - (node_uuids | length) < 1 # Set nodes to available - name: Make nodes available command: >- openstack baremetal node provide {{ item }} --wait 1200 loop: ""{{ node_uuids }}"" async: 2400 poll: 0 register: node_provide - name: poll for completion async_status: jid: ""{{ item.ansible_job_id }}"" loop: ""{{ node_provide.results }}"" loop_control: label: ""{{ item.item }}"" register: wait until: wait.finished retries: 120 # Run cellv2 discovery of hosts - name: Run cell_v2 host discovery command: podman exec nova_api /bin/nova-manage cell_v2 discover_hosts --verbose changed_when: false become: true - name: Wait for nova resources command: >- openstack hypervisor show {{ item }} loop: ""{{ node_uuids }}"" changed_when: false register: hypervisor_check until: hypervisor_check is success delay: 30 retries: 30 # Power off nodes the nodes - name: Power off nodes command: >- openstack baremetal node power off {{ item }} loop: ""{{ node_uuids }}"" async: 2400 poll: 0 register: node_power_off - name: poll for completion async_status: jid: ""{{ item.ansible_job_id }}"" loop: ""{{ node_power_off.results }}"" loop_control: label: ""{{ item.item }}"" register: wait until: wait.finished retries: 120 ",,111,0
openstack%2Ftripleo-ansible~master~If4233e57edeec10ccac965d61c78f30688cd5531,openstack/tripleo-ansible,master,If4233e57edeec10ccac965d61c78f30688cd5531,Improve idempotency for podman containers module,MERGED,2019-12-03 22:54:28.000000000,2019-12-06 00:12:06.000000000,2019-12-06 00:12:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-12-03 22:54:28.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0609c16d10795bee6bb2a48c023d4272b35d7db5', 'message': 'Improve idempotency for podman containers module\n\nFix some pep8 issues\nChange-Id: If4233e57edeec10ccac965d61c78f30688cd5531\n'}]",0,697200,0609c16d10795bee6bb2a48c023d4272b35d7db5,11,6,1,10969,,,0,"Improve idempotency for podman containers module

Fix some pep8 issues
Change-Id: If4233e57edeec10ccac965d61c78f30688cd5531
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/697200/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,0609c16d10795bee6bb2a48c023d4272b35d7db5,podmancont,"from distutils.version import LooseVersionfrom ansible.module_utils.basic import AnsibleModule if callable(getattr(self, func)) and func.startswith(""addparam"")] ""etc_hosts"": {}, self.info = yaml.safe_load(json.dumps(info).lower()) def diffparam_annotation(self): before = self.info['config']['annotations'] or {} after = before.copy() if self.module.params['annotation'] is not None: after.update(self.params['annotation']) return self._diff_update_and_compare('annotation', before, after) after = [] after += before before = self.info['effectivecaps'] or [] after = before[:] return self._diff_update_and_compare('cap_drop', before, after) after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] env_before = self.info['config']['env'] or {} before = {i.split(""="")[0]: i.split(""="")[1] for i in env_before} after = before.copy() if self.params['env']: after.update({ str(k).lower(): str(v).lower() for k, v in self.params['env'].items() }) before = {} before = self.info['config']['labels'] or {} after = before.copy() if self.params['label']: after.update({ str(k).lower(): str(v).lower() for k, v in self.params['label'].items() }) if (self.module.params['memory_swap'] is None and self.params['memory'] != 0 and self.params['memory'].isdigit()): if self.params['network'] == ['none']: after = True if self.module.params['user'] is None and before: after = before else: after = self.params['user'] before = self.info['hostconfig']['volumesfrom'] or [] after = self.params['volumes_from'] or [] full_cmd = "" "".join([self.module.params['executable']] + [to_native(i) for i in b_command]) self.module.fail_json(msg='Cannot create container when image' self.module.fail_json(msg=""Unexpected logic error happened, ""","from distutils.version import LooseVersion from ansible.module_utils.basic import AnsibleModule, env_fallback if callable(getattr(self, func)) and func.startswith(""addparam"")] ""annotation"": [ ""io.container.manager"", ""io.kubernetes.cri-o.containertype"", ""io.kubernetes.cri-o.created"", ""io.kubernetes.cri-o.tty"", ""io.podman.annotations.autoremove"", ""io.podman.annotations.init"", ""io.podman.annotations.privileged"", ""io.podman.annotations.publish-all"", ""org.opencontainers.image.stopsignal"", ], ""cap_add"": ['cap_audit_write', 'cap_chown', 'cap_dac_override', 'cap_fowner', 'cap_fsetid', 'cap_kill', 'cap_mknod', 'cap_net_bind_service', 'cap_net_raw', 'cap_setfcap', 'cap_setgid', 'cap_setpcap', 'cap_setuid', 'cap_sys_chroot'], ""env"": [ ""path"", ""term"", ""hostname"", ""container"", ""home"" ], ""etc_hosts"": [], if LooseVersion(self.version) < LooseVersion(""1.6.0""): self.defaults[""env""] = [ ""path"", ""term"", ""hostname"", ""container"", ] self.info = json.loads(json.dumps(info).lower()) 'stop_timeout', self.all_caps = ['cap_audit_control', 'cap_audit_read', 'cap_audit_write', 'cap_block_suspend', 'cap_chown', 'cap_dac_override', 'cap_dac_read_search', 'cap_fowner', 'cap_fsetid', 'cap_ipc_lock', 'cap_ipc_owner', 'cap_kill', 'cap_lease', 'cap_linux_immutable', 'cap_mac_admin', 'cap_mac_override', 'cap_mknod', 'cap_net_admin', 'cap_net_bind_service', 'cap_net_broadcast', 'cap_net_raw', 'cap_setfcap', 'cap_setgid', 'cap_setpcap', 'cap_setuid', 'cap_sys_admin', 'cap_sys_boot', 'cap_sys_chroot', 'cap_sys_module', 'cap_sys_nice', 'cap_sys_pacct', 'cap_sys_ptrace', 'cap_sys_rawio', 'cap_sys_resource', 'cap_sys_time', 'cap_sys_tty_config', 'cap_syslog', 'cap_wake_alarm'] # def diffparam_annotation(self): # before = self.info['config']['annotations'] # after = before.copy() # if (self.params['annotation'] and self.params['annotation'] != self.default_dict['annotation']): # after.update(self.params['annotation']) # for key in list(after): # if (key not in self.params['annotation'] and key not in self.default_dict['annotation']): # del after[key] # return self._diff_update_and_compare('annotation', before, after) after = self.default_dict['cap_add'] if self.params['privileged']: after = self.all_caps before = self.info['effectivecaps'] after = self.default_dict['cap_add'] if self.params['privileged']: after = self.all_caps return self._diff_update_and_compare('cap_add', before, after) after = after.split() keys = [i.split(""="")[0] for i in self.info['config']['env']] if self.module.params['env'] is None: if sorted(keys) == sorted(self.default_dict['env']): before = after = self.info['config']['env'] else: before = self.info['config']['env'] after = [""="".join([i, ""default""]) for i in self.default_dict['env']] return self._diff_update_and_compare('env', before, after) before = {i.split(""="")[0]: i.split(""="")[1] for i in self.info['config']['env']} after = {} for key in self.default_dict['env']: after[key] = before[key] for d_key in self.module.params['env']: after[d_key.lower()] = self.module.params['env'][d_key].lower() before = [] before = self.info['config']['labels'] after = self.params['label'] if not self.params['label'] else { k: str(v) for k, v in self.params['label'].items() } if (self.module.params['memory_swap'] is None and self.params['memory'] != 0 and self.params['memory'].isdigit()): after = self.params['user'] before = self.info['hostconfig']['volumesfrom'] after = self.params['volumes_from'] full_cmd = "" "".join([self.module.params['executable']] + [to_native(i) for i in b_command]) self.module.fail_json(msg='Cannot create container when image' + self.module.fail_json(msg=""Unexpected logic error happened, "" +",51,132
openstack%2Fopenstack-ansible-lxc_hosts~master~Id99c8c66f156dadc9912eaf3ddcb28413094a359,openstack/openstack-ansible-lxc_hosts,master,Id99c8c66f156dadc9912eaf3ddcb28413094a359,tox: Keeping going with docs,MERGED,2019-12-05 09:36:12.000000000,2019-12-06 00:00:58.000000000,2019-12-05 23:59:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-12-05 09:36:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/964d418ba5ef7889af87179bb5af8a863144ceaa', 'message': ""tox: Keeping going with docs\n\n1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n2. Remove the unnecessary blank line for tox.ini\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Id99c8c66f156dadc9912eaf3ddcb28413094a359\n""}]",0,697430,964d418ba5ef7889af87179bb5af8a863144ceaa,8,3,1,17130,,,0,"tox: Keeping going with docs

1. Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

2. Remove the unnecessary blank line for tox.ini

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Id99c8c66f156dadc9912eaf3ddcb28413094a359
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/30/697430/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,964d418ba5ef7889af87179bb5af8a863144ceaa,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build --keep-going -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html ,3,16
openstack%2Fopenstack-ansible~stable%2Ftrain~I85b97d1f503bfbda5a893b9afbf74bd28f732882,openstack/openstack-ansible,stable/train,I85b97d1f503bfbda5a893b9afbf74bd28f732882,Install galera client for placement migration,MERGED,2019-12-02 11:22:37.000000000,2019-12-05 23:42:06.000000000,2019-12-05 23:39:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-02 11:22:37.000000000', 'files': ['playbooks/os-placement-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10ab985c288c8b7acab7b196727b2bc21f6599e7', 'message': 'Install galera client for placement migration\n\nThe placement migration tool interacts directly with the galera database\nand needs the client libraries and command line tools in order to do this.\nOn a metal deploy the placement and database may be co-located so these\nlibraries are present, but on an LXC deployment they are not available\nin the placement container.\n\nDuring upgrade from stein to train received the error:\n""Failed to connect to NOVA_API database"", ""/openstack/venvs/placement\n-20.0.0.0rc2.dev17/lib/python3.6/site-packages/placement_db_tools/\nmysql-migrate-db.sh: line 79: mysql: command not found\n\n\nChange-Id: I85b97d1f503bfbda5a893b9afbf74bd28f732882\n(cherry picked from commit 41fa313250bbdef5da60fa9cf22845644aae2da7)\n'}]",0,696865,10ab985c288c8b7acab7b196727b2bc21f6599e7,17,4,1,28619,,,0,"Install galera client for placement migration

The placement migration tool interacts directly with the galera database
and needs the client libraries and command line tools in order to do this.
On a metal deploy the placement and database may be co-located so these
libraries are present, but on an LXC deployment they are not available
in the placement container.

During upgrade from stein to train received the error:
""Failed to connect to NOVA_API database"", ""/openstack/venvs/placement
-20.0.0.0rc2.dev17/lib/python3.6/site-packages/placement_db_tools/
mysql-migrate-db.sh: line 79: mysql: command not found


Change-Id: I85b97d1f503bfbda5a893b9afbf74bd28f732882
(cherry picked from commit 41fa313250bbdef5da60fa9cf22845644aae2da7)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/696865/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-placement-install.yml'],1,10ab985c288c8b7acab7b196727b2bc21f6599e7,osa-train," - role: ""galera_client"" when: placement_migrate_flag | default(False)",,2,0
openstack%2Foctavia~master~I20290157a6540200cafa55277b41ab14acef34c4,openstack/octavia,master,I20290157a6540200cafa55277b41ab14acef34c4,WIP - support AZs in spares creation and use,ABANDONED,2019-12-05 04:20:48.000000000,2019-12-05 23:29:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-05 04:20:48.000000000', 'files': ['octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/controller/housekeeping/house_keeping.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c8280e7baafece274bd6561b6b11639945286393', 'message': 'WIP - support AZs in spares creation and use\n\nChange-Id: I20290157a6540200cafa55277b41ab14acef34c4\n'}]",0,697409,c8280e7baafece274bd6561b6b11639945286393,3,1,1,3031,,,0,"WIP - support AZs in spares creation and use

Change-Id: I20290157a6540200cafa55277b41ab14acef34c4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/697409/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/controller/housekeeping/house_keeping.py']",5,c8280e7baafece274bd6561b6b11639945286393,," self.az_repo = repo.AvailabilityZoneRepository() availability_zones, links = self.az_repo.get_all(session) # TODO(sorrison) Handle no AZs defined for az in availability_zones: curr_spare_cnt = self.amp_repo.get_spare_amphora_count( session, availability_zone=az.name) LOG.debug(""Current Spare Amphora count for AZ %s: %d"", az.name, curr_spare_cnt) diff_count = conf_spare_cnt - curr_spare_cnt # When the current spare amphora is less than required amp_booting = [] if diff_count > 0: LOG.info(""Initiating creation of %d spare amphora for az %s."", diff_count, az.name) # Call Amphora Create Flow diff_count times with futures.ThreadPoolExecutor( max_workers=CONF.house_keeping.spare_amphora_pool_size ) as executor: for i in range(1, diff_count + 1): LOG.debug(""Starting amphorae number %d ..."", i) amp_booting.append( executor.submit(self.cw.create_amphora, az.name)) else: LOG.debug(""Current spare amphora count for AZ %s satisfies "" ""the requirement"", az.name)"," curr_spare_cnt = self.amp_repo.get_spare_amphora_count(session) LOG.debug(""Current Spare Amphora count : %d"", curr_spare_cnt) diff_count = conf_spare_cnt - curr_spare_cnt # When the current spare amphora is less than required amp_booting = [] if diff_count > 0: LOG.info(""Initiating creation of %d spare amphora."", diff_count) # Call Amphora Create Flow diff_count times with futures.ThreadPoolExecutor( max_workers=CONF.house_keeping.spare_amphora_pool_size ) as executor: for i in range(1, diff_count + 1): LOG.debug(""Starting amphorae number %d ..."", i) amp_booting.append( executor.submit(self.cw.create_amphora)) else: LOG.debug(""Current spare amphora count satisfies the "" ""requirement"")",61,32
openstack%2Frequirements~master~I699dae2af6679f6ee0f774734f1ce61d7106d7be,openstack/requirements,master,I699dae2af6679f6ee0f774734f1ce61d7106d7be,update constraint for octavia-lib to new release 1.5.0,MERGED,2019-12-04 20:10:26.000000000,2019-12-05 23:13:03.000000000,2019-12-05 23:10:58.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 20:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ff0806a57af91d6e6a6c22ae10188ba09741a64', 'message': 'update constraint for octavia-lib to new release 1.5.0\n\nChange-Id: I699dae2af6679f6ee0f774734f1ce61d7106d7be\nmeta:version: 1.5.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: I0a0e094af192a6ea9e366d8bbf4d695e60640218\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-12-04 22:27:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72f6d113d1cbdd1b0d25f40cc196879edc237099', 'message': 'update constraint for octavia-lib to new release 1.5.0\n\nChange-Id: I699dae2af6679f6ee0f774734f1ce61d7106d7be\nmeta:version: 1.5.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: I0a0e094af192a6ea9e366d8bbf4d695e60640218\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,697359,72f6d113d1cbdd1b0d25f40cc196879edc237099,12,5,2,11131,,,0,"update constraint for octavia-lib to new release 1.5.0

Change-Id: I699dae2af6679f6ee0f774734f1ce61d7106d7be
meta:version: 1.5.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Michael Johnson <johnsomor@gmail.com>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: I0a0e094af192a6ea9e366d8bbf4d695e60640218
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/697359/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ff0806a57af91d6e6a6c22ae10188ba09741a64,new-release,octavia-lib===1.5.0,octavia-lib===1.4.0,1,1
openstack%2Fcinder~master~I26c3fdea1a8b8f64ef428a888124d95c3c5b9ec9,openstack/cinder,master,I26c3fdea1a8b8f64ef428a888124d95c3c5b9ec9,PowerMax Driver - Setting minimum Unisphere version to 9.1.0.5,MERGED,2019-11-07 15:47:43.000000000,2019-12-05 23:05:52.000000000,2019-12-05 23:03:53.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-07 15:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13e2a110666bbc6a2fe6b0572684b9a89b631fcb', 'message': 'PowerMax Driver - Setting minimum Unisphere version to 9.1.0.5\n\nThis is the minimum Unisphere version available on the Dell EMC\nsupport site. Changing minimum version for accuracy.\n\nChange-Id: I26c3fdea1a8b8f64ef428a888124d95c3c5b9ec9\n'}, {'number': 2, 'created': '2019-11-19 12:00:29.000000000', 'files': ['releasenotes/notes/minimum-u4p-version-4c66d69d1b873796.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/250b51c8d1b987215653500c681a40e9932f39ec', 'message': 'PowerMax Driver - Setting minimum Unisphere version to 9.1.0.5\n\nThis is the minimum Unisphere for PowerMax version of the 9.1.x\nseries available on the Dell EMC support site. Changing minimum\nversion to 9.1.0.5 for accuracy.\n\nChange-Id: I26c3fdea1a8b8f64ef428a888124d95c3c5b9ec9\n'}]",0,693381,250b51c8d1b987215653500c681a40e9932f39ec,134,38,2,12670,,,0,"PowerMax Driver - Setting minimum Unisphere version to 9.1.0.5

This is the minimum Unisphere for PowerMax version of the 9.1.x
series available on the Dell EMC support site. Changing minimum
version to 9.1.0.5 for accuracy.

Change-Id: I26c3fdea1a8b8f64ef428a888124d95c3c5b9ec9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/693381/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",2,13e2a110666bbc6a2fe6b0572684b9a89b631fcb,min_version,MIN_U4P_VERSION = '9.1.0.5',MIN_U4P_VERSION = '9.1.0.1054',2,2
openstack%2Fopenstack-ansible~master~I9ef0d07ac93a5c893dae332988fdcc12d46afaf1,openstack/openstack-ansible,master,I9ef0d07ac93a5c893dae332988fdcc12d46afaf1,Move debian jobs to buster,MERGED,2019-09-12 15:18:32.000000000,2019-12-05 22:38:41.000000000,2019-12-05 21:31:10.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-12 15:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6fbdb06384ab3f3ec2c6d33ee80a457cfb0522e', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 2, 'created': '2019-09-12 15:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe8560791de58849f450c45ce49ddb3d239d00a7', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 3, 'created': '2019-09-12 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e80568f23ec775d2465f1e886d35d66f8efc87ea', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 4, 'created': '2019-09-12 15:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f81a1a68287f7fc57fb5631705275368af70bf5', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 5, 'created': '2019-09-12 16:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8610eaf02d37c2d8a32930ff8db2fa20f17b167', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 6, 'created': '2019-09-16 11:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/776dd6e7e05d0b386c110b7e92bbda908b5038ce', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 7, 'created': '2019-10-08 09:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e649c421d5a31b72fbc8d0c20aa40daf0372cc7', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 8, 'created': '2019-10-08 10:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efbae09d2eebb42b750779e47be5c017340d4996', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 9, 'created': '2019-10-08 12:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9df7659c535d3ee1769b882a713077c2d85737f2', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nDepends-On: https://review.opendev.org/687280\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 10, 'created': '2019-10-09 16:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6d007e164192760ab9583c60c74ef30b659aeb47', 'message': 'Move debian jobs to buster\n\nCreate a osa specific nodeset as there is not one currently defined for\nbuster.\n\nDepends-On: https://review.opendev.org/687620\nDepends-On: https://review.opendev.org/687574\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 11, 'created': '2019-10-22 16:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe9d7b60bb62c0b18392fef987854ac4842422f3', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/687620\nDepends-On: https://review.opendev.org/687574\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 12, 'created': '2019-10-22 16:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40759b820b20c9b42b777db305341179d2c285de', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/687620\nDepends-On: https://review.opendev.org/687574\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 13, 'created': '2019-10-30 13:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6031cabdc93556291f9509314224c7c03b03169d', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/687620\nDepends-On: https://review.opendev.org/687574\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 14, 'created': '2019-10-30 20:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9e116a3abce8075a438d5da7917fe77b83eaba37', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/692219\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 15, 'created': '2019-12-02 09:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c4611ed4156fc158d1cd91ceb3953dc22a1184df', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/692219\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 16, 'created': '2019-12-02 10:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d4f068ef83e90826748ec45e2587e9e03900139e', 'message': 'Move debian jobs to buster\n\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 17, 'created': '2019-12-02 15:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/612ec00b30e6af3d7328b608ca8b26e590c6c54b', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/696903\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 18, 'created': '2019-12-03 13:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01a24d5890b6caa0b7dfadeb0d259e8ec632f6df', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/696903\nDepends-On: https://review.opendev.org/697085\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 19, 'created': '2019-12-03 18:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4e14968640683e5131120331a831c7db41d564ad', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/696903\nDepends-On: https://review.opendev.org/697085\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}, {'number': 20, 'created': '2019-12-03 22:19:21.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46358ae9db8b8f86311b69a08e20991c9de08fa8', 'message': 'Move debian jobs to buster\n\nDepends-On: https://review.opendev.org/696903\nDepends-On: https://review.opendev.org/697085\nChange-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1\n'}]",7,681777,46358ae9db8b8f86311b69a08e20991c9de08fa8,67,5,20,25023,,,0,"Move debian jobs to buster

Depends-On: https://review.opendev.org/696903
Depends-On: https://review.opendev.org/697085
Change-Id: I9ef0d07ac93a5c893dae332988fdcc12d46afaf1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/681777/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/nodeset.yaml', 'zuul.d/jobs.yaml']",2,f6fbdb06384ab3f3ec2c6d33ee80a457cfb0522e,osa-train, nodeset: osa-debian-buster nodeset: osa-debian-buster nodeset: osa-debian-buster, nodeset: debian-stable nodeset: debian-stable nodeset: debian-stable,9,3
openstack%2Fheat~master~I8bd92e6cea8fe661c7de232578baf1f783f3072c,openstack/heat,master,I8bd92e6cea8fe661c7de232578baf1f783f3072c,Replace str with six.text_type,ABANDONED,2019-06-11 13:29:40.000000000,2019-12-05 22:25:06.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 13:29:40.000000000', 'files': ['heat/engine/service_software_config.py', 'heat/engine/update.py', 'heat/engine/environment.py', 'heat/engine/resources/openstack/neutron/security_group_rule.py', 'heat/common/lifecycle_plugin_utils.py', 'heat/engine/resources/openstack/neutron/security_group.py', 'heat/engine/properties.py', 'heat/engine/scheduler.py', 'heat/engine/service.py', 'heat/engine/resources/openstack/heat/swiftsignal.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/common/identifier.py', 'heat/engine/resources/aws/ec2/instance.py', 'heat/engine/stack.py', 'heat/common/serializers.py', 'heat/engine/resources/aws/ec2/eip.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/cfn/parameters.py', 'heat/common/param_utils.py', 'heat/engine/resources/openstack/heat/wait_condition.py', 'heat/objects/event.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/hot/parameters.py', 'heat/objects/stack.py', 'heat/common/service_utils.py', 'heat/engine/template_files.py', 'heat/engine/parameters.py', 'heat/engine/resources/aws/iam/user.py', 'heat/engine/event.py', 'heat/engine/sync_point.py', 'heat/engine/resources/server_base.py', 'heat/api/middleware/version_negotiation.py', 'heat/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4ef60506fdd01896898229555bd19e06ff3cf7cf', 'message': 'Replace str with six.text_type\n\nReplace str with six.text_type to avoid raise exception when\nparsing ascii.\nsix.text_type will cast string to unicode.\n\nChange-Id: I8bd92e6cea8fe661c7de232578baf1f783f3072c\nStory: #2005856\nTask: #33649\n'}]",2,664589,4ef60506fdd01896898229555bd19e06ff3cf7cf,5,3,1,12404,,,0,"Replace str with six.text_type

Replace str with six.text_type to avoid raise exception when
parsing ascii.
six.text_type will cast string to unicode.

Change-Id: I8bd92e6cea8fe661c7de232578baf1f783f3072c
Story: #2005856
Task: #33649
",git fetch https://review.opendev.org/openstack/heat refs/changes/89/664589/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/service_software_config.py', 'heat/engine/update.py', 'heat/engine/environment.py', 'heat/engine/resources/openstack/neutron/security_group_rule.py', 'heat/common/lifecycle_plugin_utils.py', 'heat/engine/resources/openstack/neutron/security_group.py', 'heat/engine/properties.py', 'heat/engine/scheduler.py', 'heat/engine/service.py', 'heat/engine/resources/openstack/heat/swiftsignal.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/common/identifier.py', 'heat/engine/resources/aws/ec2/instance.py', 'heat/engine/stack.py', 'heat/common/serializers.py', 'heat/engine/resources/aws/ec2/eip.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/engine/cfn/parameters.py', 'heat/common/param_utils.py', 'heat/engine/resources/openstack/heat/wait_condition.py', 'heat/objects/event.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/hot/parameters.py', 'heat/objects/stack.py', 'heat/common/service_utils.py', 'heat/engine/template_files.py', 'heat/engine/parameters.py', 'heat/engine/resources/aws/iam/user.py', 'heat/engine/event.py', 'heat/engine/sync_point.py', 'heat/engine/resources/server_base.py', 'heat/api/middleware/version_negotiation.py', 'heat/db/sqlalchemy/models.py']",33,4ef60506fdd01896898229555bd19e06ff3cf7cf,story/2005856,"import six default=lambda: six.text_type(uuid.uuid4())) default=lambda: six.text_type(uuid.uuid4()), default=lambda: six.text_type(uuid.uuid4()), default=lambda: six.text_type(uuid.uuid4())) default=lambda: six.text_type(uuid.uuid4())) default=lambda: six.text_type(uuid.uuid4())) default=lambda: six.text_type(uuid.uuid4()))"," default=lambda: str(uuid.uuid4())) default=lambda: str(uuid.uuid4()), default=lambda: str(uuid.uuid4()), default=lambda: str(uuid.uuid4())) default=lambda: str(uuid.uuid4())) default=lambda: str(uuid.uuid4())) default=lambda: str(uuid.uuid4()))",89,60
openstack%2Fopenstack-ansible~master~Iffac734d302ef5c083ac2e9f917fc3c7e4361232,openstack/openstack-ansible,master,Iffac734d302ef5c083ac2e9f917fc3c7e4361232,Set CentOS upgrade jobs to non-voting,MERGED,2019-12-05 14:10:15.000000000,2019-12-05 22:07:37.000000000,2019-12-05 20:54:23.000000000,"[{'_account_id': 13095}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25591}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-05 14:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6d4e3a2eefb3fef3cba4b73778e8ce759f90db91', 'message': ""Use flavor with 16GB of RAM for CentOS upgrade\n\nAs centos upgrade jobs instantly ends up in timout error as\nthey take more than 3 hours pretty frequently, it's worth\ntrying to use more resources for CI VM.\nUnfortunatelly, only 1 nodepool can provide this flavor at the time,\nso this solution is not very reliable and can't be permanent.\n\nChange-Id: Iffac734d302ef5c083ac2e9f917fc3c7e4361232\n""}, {'number': 2, 'created': '2019-12-05 15:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b63e67bf43e4f9a350e2cce60b8d6fbe82a1d14', 'message': ""Set CentOS upgrade jobs to non-voting\n\nAs centos upgrade jobs instantly ends up in timout error as\nthey take more than 3 hours pretty frequently, it's worth\nsetting them as non voting and dropping from gate.\nBut we still should look at the job status and we may\nignore only tomout failures, while failures for other reasons\nshould be investigated.\n\nChange-Id: Iffac734d302ef5c083ac2e9f917fc3c7e4361232\n""}, {'number': 3, 'created': '2019-12-05 15:48:25.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e4f3da81ce1f09a9600eda53473bed4b93a7f966', 'message': ""Set CentOS upgrade jobs to non-voting\n\nAs centos upgrade jobs instantly ends up in timout error as\nthey take more than 3 hours pretty frequently, it's worth\nsetting them as non voting and dropping from gate.\nBut we still should look at the job status and we may\nignore only timeout failures, while failures for other reasons\nshould be investigated.\n\nChange-Id: Iffac734d302ef5c083ac2e9f917fc3c7e4361232\n""}]",3,697476,e4f3da81ce1f09a9600eda53473bed4b93a7f966,17,5,3,28619,,,0,"Set CentOS upgrade jobs to non-voting

As centos upgrade jobs instantly ends up in timout error as
they take more than 3 hours pretty frequently, it's worth
setting them as non voting and dropping from gate.
But we still should look at the job status and we may
ignore only timeout failures, while failures for other reasons
should be investigated.

Change-Id: Iffac734d302ef5c083ac2e9f917fc3c7e4361232
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/697476/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,6d4e3a2eefb3fef3cba4b73778e8ce759f90db91,osa-train, nodeset: centos-7-expanded nodeset: centos-7-expanded, nodeset: centos-7 nodeset: centos-7,2,2
openstack%2Ftrove~master~I21090320ba7396979cee31431de7198150dd763e,openstack/trove,master,I21090320ba7396979cee31431de7198150dd763e,Support pip3-virtualenv during image creation,MERGED,2019-09-12 10:11:36.000000000,2019-12-05 22:06:10.000000000,2019-12-05 22:04:56.000000000,"[{'_account_id': 6732}, {'_account_id': 8037}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2019-09-12 10:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/40d40b9c03adb354dd7a4d144ddb0630e85ba960', 'message': 'Support pip3-virtualenv during image creation\n\nThis patch will auto-process with `pip-and-virtualenv`\nelement when use `guest-agent` in python3. We also can add\nthis element in disk-image-create cli which instead of\nthis patch to fix following issue:\n\n   2019-09-12 09:19:58.674 | + python3 -m virtualenv /opt/guest-agent-venv\n   2019-09-12 09:19:58.752 | /usr/bin/python3: No module named virtualenv\n\nChange-Id: I21090320ba7396979cee31431de7198150dd763e\n'}, {'number': 2, 'created': '2019-10-17 10:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/070e73ce82b37c0e886dd90349a40929794c8b2f', 'message': 'Support pip3-virtualenv during image creation\n\nThis patch will auto-process with `pip-and-virtualenv`\nelement when use `guest-agent` in python3. We also can add\nthis element in disk-image-create cli which instead of\nthis patch to fix following issue:\n\n   2019-09-12 09:19:58.674 | + python3 -m virtualenv /opt/guest-agent-venv\n   2019-09-12 09:19:58.752 | /usr/bin/python3: No module named virtualenv\n\nChange-Id: I21090320ba7396979cee31431de7198150dd763e\n'}, {'number': 3, 'created': '2019-12-05 09:34:52.000000000', 'files': ['integration/scripts/files/elements/guest-agent/element-deps'], 'web_link': 'https://opendev.org/openstack/trove/commit/1d314fdf91ec968bd8072a07a293c8342459fbb4', 'message': 'Support pip3-virtualenv during image creation\n\nThis patch will auto-process with `pip-and-virtualenv`\nelement when use `guest-agent` in python3. We also can add\nthis element in disk-image-create cli which instead of\nthis patch to fix following issue:\n\n   2019-09-12 09:19:58.674 | + python3 -m virtualenv /opt/guest-agent-venv\n   2019-09-12 09:19:58.752 | /usr/bin/python3: No module named virtualenv\n\nChange-Id: I21090320ba7396979cee31431de7198150dd763e\n'}]",0,681698,1d314fdf91ec968bd8072a07a293c8342459fbb4,22,4,3,25254,,,0,"Support pip3-virtualenv during image creation

This patch will auto-process with `pip-and-virtualenv`
element when use `guest-agent` in python3. We also can add
this element in disk-image-create cli which instead of
this patch to fix following issue:

   2019-09-12 09:19:58.674 | + python3 -m virtualenv /opt/guest-agent-venv
   2019-09-12 09:19:58.752 | /usr/bin/python3: No module named virtualenv

Change-Id: I21090320ba7396979cee31431de7198150dd763e
",git fetch https://review.opendev.org/openstack/trove refs/changes/98/681698/3 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/element-deps'],1,40d40b9c03adb354dd7a4d144ddb0630e85ba960,add_element_pip3,pip-and-virtualenv,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I06995dee0ec7eabda16793aa42cae7197c4959f5,openstack/tripleo-common,stable/train,I06995dee0ec7eabda16793aa42cae7197c4959f5,Quote output values for overcloudrc,MERGED,2019-12-05 14:29:16.000000000,2019-12-05 22:02:21.000000000,2019-12-05 22:01:08.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 14:29:16.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79e457cf86899cef7096d58b5031c33b99fba424', 'message': 'Quote output values for overcloudrc\n\nIf the overcloudrc values have spaces, we need to quote them to ensure\nit gets parsed correctly.\n\nChange-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5\nCloses-Bug: #1854868\n(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)\n'}]",0,697481,79e457cf86899cef7096d58b5031c33b99fba424,8,3,1,14985,,,0,"Quote output values for overcloudrc

If the overcloudrc values have spaces, we need to quote them to ensure
it gets parsed correctly.

Change-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5
Closes-Bug: #1854868
(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/81/697481/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py']",2,79e457cf86899cef7096d58b5031c33b99fba424,bug/1854868-stable/train,"try: # py3 from shlex import quote except ImportError: # py2 from pipes import quote line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': quote(value)}"," line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': value}",10,2
openstack%2Ftripleo-common~stable%2Fstein~I06995dee0ec7eabda16793aa42cae7197c4959f5,openstack/tripleo-common,stable/stein,I06995dee0ec7eabda16793aa42cae7197c4959f5,Quote output values for overcloudrc,MERGED,2019-12-05 14:29:28.000000000,2019-12-05 22:01:49.000000000,2019-12-05 22:00:35.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 14:29:28.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d5d85db409478b07fe4392314f8d9b72142e9a9f', 'message': 'Quote output values for overcloudrc\n\nIf the overcloudrc values have spaces, we need to quote them to ensure\nit gets parsed correctly.\n\nChange-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5\nCloses-Bug: #1854868\n(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)\n'}]",0,697482,d5d85db409478b07fe4392314f8d9b72142e9a9f,8,3,1,14985,,,0,"Quote output values for overcloudrc

If the overcloudrc values have spaces, we need to quote them to ensure
it gets parsed correctly.

Change-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5
Closes-Bug: #1854868
(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/697482/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py']",2,d5d85db409478b07fe4392314f8d9b72142e9a9f,bug/1854868-stable/stein,"try: # py3 from shlex import quote except ImportError: # py2 from pipes import quote line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': quote(value)}"," line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': value}",10,2
openstack%2Ftripleo-common~stable%2Fqueens~I06995dee0ec7eabda16793aa42cae7197c4959f5,openstack/tripleo-common,stable/queens,I06995dee0ec7eabda16793aa42cae7197c4959f5,Quote output values for overcloudrc,MERGED,2019-12-05 14:29:57.000000000,2019-12-05 22:00:34.000000000,2019-12-05 22:00:34.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 14:29:57.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6938afd5c6bdf800b8945a30c162b594a96b0c3', 'message': 'Quote output values for overcloudrc\n\nIf the overcloudrc values have spaces, we need to quote them to ensure\nit gets parsed correctly.\n\nChange-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5\nCloses-Bug: #1854868\n(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)\n'}]",0,697484,e6938afd5c6bdf800b8945a30c162b594a96b0c3,7,3,1,14985,,,0,"Quote output values for overcloudrc

If the overcloudrc values have spaces, we need to quote them to ensure
it gets parsed correctly.

Change-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5
Closes-Bug: #1854868
(cherry picked from commit 5d44457ae16ebb3298143e04dbf0c0c5e5249553)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/697484/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py']",2,e6938afd5c6bdf800b8945a30c162b594a96b0c3,bug/1854868-stable/queens,"try: # py3 from shlex import quote except ImportError: # py2 from pipes import quote line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': quote(value)}"," line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': value}",10,2
openstack%2Fopenstack-helm-images~master~I544c5f79c87e57f78699289bb3de3494b0eb674f,openstack/openstack-helm-images,master,I544c5f79c87e57f78699289bb3de3494b0eb674f,Fix IMAGE variable scope issue,MERGED,2019-12-04 21:14:41.000000000,2019-12-05 21:36:28.000000000,2019-12-05 21:34:58.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27950}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-12-04 21:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9b5eceda47b5fa19d525eb3869cfb28495b7cd45', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}, {'number': 2, 'created': '2019-12-04 21:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a4211a0eb7311791bbdf3a72695824f953cac277', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}, {'number': 3, 'created': '2019-12-04 21:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a56cfa30a1568734f4582a6078dfacf2d13aaf64', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}, {'number': 4, 'created': '2019-12-05 14:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0eaf8cc22da5f84f9aff4ad532a04c3f091531e4', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}, {'number': 5, 'created': '2019-12-05 16:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/431824bd3312ab5bd10fcff90aa0529dd980125d', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}, {'number': 6, 'created': '2019-12-05 18:54:48.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_bionic', 'Makefile', 'ceph-daemon/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bb33da1bfe1d8b951f08a0783f97b6250221be04', 'message': 'Fix IMAGE variable scope issue\n\nThis is to fix the variable IMAGE scope since its giving errros\nwhen we use makefile.\nalso adds missing packages to deploy ceph-osd.\n\nChange-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f\n'}]",0,697366,bb33da1bfe1d8b951f08a0783f97b6250221be04,21,6,6,28372,,,0,"Fix IMAGE variable scope issue

This is to fix the variable IMAGE scope since its giving errros
when we use makefile.
also adds missing packages to deploy ceph-osd.

Change-Id: I544c5f79c87e57f78699289bb3de3494b0eb674f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/66/697366/2 && git format-patch -1 --stdout FETCH_HEAD,"['@', 'Makefile']",2,9b5eceda47b5fa19d525eb3869cfb28495b7cd45,,"ifeq ($(OS_RELEASE),$(filter $(OS_RELEASE), ubuntu_bionic ubuntu_bionic-dpdk)) IMAGE := ${DOCKER_REGISTRY}/${IMAGE_PREFIX}/${IMAGE_NAME}:${IMAGE_TAG}-${OS_RELEASE} endif ", IMAGE := ${DOCKER_REGISTRY}/${IMAGE_PREFIX}/${IMAGE_NAME}:${IMAGE_TAG}-${OS_RELEASE} IMAGE := ${DOCKER_REGISTRY}/${IMAGE_PREFIX}/${IMAGE_NAME}:${IMAGE_TAG}-${OS_RELEASE},84,2
openstack%2Fopenstack-ansible~master~I35ab8a80226b7815136a614f041c0c45c65b06ca,openstack/openstack-ansible,master,I35ab8a80226b7815136a614f041c0c45c65b06ca,Bump SHAs for master,MERGED,2019-12-01 13:39:44.000000000,2019-12-05 21:36:27.000000000,2019-12-05 21:31:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-01 13:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d779c3ea2e943ce0b7e2d02a50d6d9880100f448', 'message': 'Bump SHAs for master\n\nChange-Id: I35ab8a80226b7815136a614f041c0c45c65b06ca\n'}, {'number': 2, 'created': '2019-12-04 08:12:45.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/cloudkitty-init-config-overrides-ffce7e419061c4da.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph_ceph_conf_overrides-7b3a09ac34f94a6b.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c837594ce00708c59f1692e89cdb71eb2d22883', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/681777/\nChange-Id: I35ab8a80226b7815136a614f041c0c45c65b06ca\n'}]",0,696798,7c837594ce00708c59f1692e89cdb71eb2d22883,17,4,2,28619,,,0,"Bump SHAs for master

Depends-On: https://review.opendev.org/681777/
Change-Id: I35ab8a80226b7815136a614f041c0c45c65b06ca
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/696798/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/cloudkitty-init-config-overrides-ffce7e419061c4da.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph_ceph_conf_overrides-7b3a09ac34f94a6b.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/ironic-init-config-overrides-e73d9fd46a69afcf.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",7,d779c3ea2e943ce0b7e2d02a50d6d9880100f448,bump_osa,tempest_git_install_branch: 5d9229b5216037586d4e8f6920d6e21bf11f41ae # HEAD as of 01.12.2019,tempest_git_install_branch: 9ef43160912f5ed7a71640b370d0dde2d84f6249 # HEAD as of 17.11.2019,57,50
openstack%2Fos-brick~master~I29ac666386927181e45e85e3ad9ca1a95ad41750,openstack/os-brick,master,I29ac666386927181e45e85e3ad9ca1a95ad41750,Move legacy tempest jobs to os-brick repo,ABANDONED,2019-12-04 22:26:26.000000000,2019-12-05 21:18:47.000000000,,"[{'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-12-04 22:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cc541fccff9e3a61e28fc2d01f37c0c230697601', 'message': 'Move legacy tempest jobs to os-brick repo\n\nCopies the legacy jobs from openstack-zuul-jobs to our repo, renames\nthem, and configures them to run Python 3.  These new jobs should\neventually be migrated to zuul v3 jobs.\n\nThe legacy jobs are left in openstack-zuul-jobs for the pre-Ussuri\nstable branches to use.\n\nPartial-bug: #1853372\n\nChange-Id: I29ac666386927181e45e85e3ad9ca1a95ad41750\n'}, {'number': 2, 'created': '2019-12-05 02:44:21.000000000', 'files': ['playbooks/legacy/os-brick-tempest-dsvm-full-ceph-plugin/run.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-lio/post.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-ceph-plugin/post.yaml', '.zuul.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-lio/run.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cf8deac69c8b097355a94c5ee7c9077bd9e42920', 'message': 'Move legacy tempest jobs to os-brick repo\n\nCopies the legacy jobs from openstack-zuul-jobs to our repo, renames\nthem, and configures them to run Python 3.  These new jobs should\neventually be migrated to zuul v3 jobs.\n\nThe legacy jobs are left in openstack-zuul-jobs for the pre-Ussuri\nstable branches to use.\n\nPartial-bug: #1853372\n\nChange-Id: I29ac666386927181e45e85e3ad9ca1a95ad41750\n'}]",0,697380,cf8deac69c8b097355a94c5ee7c9077bd9e42920,20,12,2,5314,,,0,"Move legacy tempest jobs to os-brick repo

Copies the legacy jobs from openstack-zuul-jobs to our repo, renames
them, and configures them to run Python 3.  These new jobs should
eventually be migrated to zuul v3 jobs.

The legacy jobs are left in openstack-zuul-jobs for the pre-Ussuri
stable branches to use.

Partial-bug: #1853372

Change-Id: I29ac666386927181e45e85e3ad9ca1a95ad41750
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/80/697380/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/os-brick-tempest-dsvm-full-ceph-plugin/run.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-lio/post.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-ceph-plugin/post.yaml', '.zuul.yaml', 'playbooks/legacy/os-brick-tempest-dsvm-full-lio/run.yaml']",5,cc541fccff9e3a61e28fc2d01f37c0c230697601,bug/1853372,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-full-lio-src-os-brick from old job gate-tempest-dsvm-full-lio-src-os-brick-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] CINDER_ISCSI_HELPER=lioadm CINDER_LVM_TYPE=thin EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_USE_PYTHON3=True export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=1 # As we are setting DEVSTACK_GATE_TEMPEST_ALL_PLUGINS, we need to add # the regex to limit the tests to the same as a tempest -efull would # run. export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^tempest\.(api|scenario)|(^cinder\.tests.tempest))' export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_PROJECT_FROM_GIT=$ZUUL_SHORT_PROJECT_NAME cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,186,3
openstack%2Fcinder~master~I558e9e67e427b40708220046eef953cb09ea4917,openstack/cinder,master,I558e9e67e427b40708220046eef953cb09ea4917,PowerMax Driver - Volume group delete failure,MERGED,2019-11-22 16:06:41.000000000,2019-12-05 21:03:36.000000000,2019-12-05 01:01:48.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-22 16:06:41.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'releasenotes/notes/powermax-bug-1853589-f6c7164177da0496.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27a5c58bdd87514a100517fadb345084b4d37da2', 'message': 'PowerMax Driver - Volume group delete failure\n\n1. Volume group deletion failed after a group snapshot had been created\non and deleted from it. This fix eliminates the ""cannot use the device for\nthe function because it is a Copy Session source"" on cleanup.\n2. Fix to update the metadata correctly for a generic group.\n\nChange-Id: I558e9e67e427b40708220046eef953cb09ea4917\nCloses-Bug: #1853589\n'}]",1,695717,27a5c58bdd87514a100517fadb345084b4d37da2,64,34,1,12670,,,0,"PowerMax Driver - Volume group delete failure

1. Volume group deletion failed after a group snapshot had been created
on and deleted from it. This fix eliminates the ""cannot use the device for
the function because it is a Copy Session source"" on cleanup.
2. Fix to update the metadata correctly for a generic group.

Change-Id: I558e9e67e427b40708220046eef953cb09ea4917
Closes-Bug: #1853589
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/695717/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_provision.py', 'releasenotes/notes/powermax-bug-1853589-f6c7164177da0496.yaml', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",7,27a5c58bdd87514a100517fadb345084b4d37da2,group_ss_delete," def delete_storagegroup_snap(self, array, source_group, snap_name, generation='0'): """"""Delete a snapVx snapshot of a storage group. :param array: the array serial number :param source_group: the source group name :param snap_name: the name of the snapshot :param generation: the generation number of the SnapVX """""" resource_name = (""%(sg_name)s/snapshot/%(snap_name)s"" ""/generation/%(generation)s"" % {'sg_name': source_group, 'snap_name': snap_name, 'generation': generation}) self.delete_resource( array, REPLICATION, 'storagegroup', resource_name=resource_name) def get_storagegroup_snap_generation_list( self, array, source_group, snap_name): """"""Get a snapshot and its generation count information for an sg. The most recent snapshot will have a gen number of 0. The oldest snapshot will have a gen number = genCount - 1 (i.e. if there are 4 generations of particular snapshot, the oldest will have a gen num of 3). :param array: name of the array -- str :param source_group: name of the storage group -- str :param snap_name: the name of the snapshot -- str :returns: generation numbers -- list """""" resource_name = (""%(sg_name)s/snapshot/%(snap_name)s/generation"" % {'sg_name': source_group, 'snap_name': snap_name}) response = self.get_resource(array, REPLICATION, 'storagegroup', resource_name=resource_name) return response.get('generations', list()) if response else list() ",,156,37
openstack%2Foslo.reports~master~Iff4cf1871a6a91d91da03d9b79ef61e715a979cf,openstack/oslo.reports,master,Iff4cf1871a6a91d91da03d9b79ef61e715a979cf,Switch from 'collections' -> 'collections.abc',MERGED,2019-12-05 15:46:59.000000000,2019-12-05 21:03:35.000000000,2019-12-05 21:02:34.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-05 15:46:59.000000000', 'files': ['oslo_reports/models/base.py', 'oslo_reports/tests/test_base_report.py', 'oslo_reports/views/text/generic.py', 'oslo_reports/views/xml/generic.py'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/1209fb97c72f3634f60e4abde3c703dc93b2843e', 'message': 'Switch from \'collections\' -> \'collections.abc\'\n\nResolve the following deprecation warnings on Python 3.x:\n\n    DeprecationWarning: Using or importing the ABCs from \'collections\'\n    instead of from \'collections.abc\' is deprecated since Python 3.3,and\n    in 3.9 it will stop working""\n\nNote that even though we\'re in Ussuri, I\'ve kept this Python 2\ncompatible since we haven\'t done all the other work to mark this\npackage as Python 3-only.\n\nChange-Id: Iff4cf1871a6a91d91da03d9b79ef61e715a979cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,697506,1209fb97c72f3634f60e4abde3c703dc93b2843e,10,4,1,15334,,,0,"Switch from 'collections' -> 'collections.abc'

Resolve the following deprecation warnings on Python 3.x:

    DeprecationWarning: Using or importing the ABCs from 'collections'
    instead of from 'collections.abc' is deprecated since Python 3.3,and
    in 3.9 it will stop working""

Note that even though we're in Ussuri, I've kept this Python 2
compatible since we haven't done all the other work to mark this
package as Python 3-only.

Change-Id: Iff4cf1871a6a91d91da03d9b79ef61e715a979cf
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/06/697506/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_reports/models/base.py', 'oslo_reports/tests/test_base_report.py', 'oslo_reports/views/text/generic.py', 'oslo_reports/views/xml/generic.py']",4,1209fb97c72f3634f60e4abde3c703dc93b2843e,trivial,"try: # python 3 from collections import abc except ImportError: # python 2 import collections as abc if isinstance(rootmodel, abc.Mapping): elif (isinstance(rootmodel, abc.Sequence) and","import collections as col if isinstance(rootmodel, col.Mapping): elif (isinstance(rootmodel, col.Sequence) and",29,14
openstack%2Fcinder~stable%2Fstein~I2a3fa8909a9104c464fd0bbc83c61ded94f81765,openstack/cinder,stable/stein,I2a3fa8909a9104c464fd0bbc83c61ded94f81765,Pure Storage - Fix disconnect error in clustered environments,MERGED,2019-12-02 15:26:24.000000000,2019-12-05 20:53:11.000000000,2019-12-05 20:51:34.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19004}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-02 15:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0791427d9c974493b77af01be644621e7dbd32b6', 'message': 'Pure Storage - Fix disconnect error in clustered environments\n\nWhen arrays are configured into a synchronous cluster relationship\na disconnect of a volume that is of a non-replicated type will\ncause a failure. This will also happen when attempting a volume\nretype over multiple backends.\n\nChange-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765\nCloses-Bug: #1850697\n(cherry picked from commit 2eabeacfb32f30d57cb4424dffde2b890a734bcc)\n'}, {'number': 4, 'created': '2019-12-02 15:30:59.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc6902cd4dfab9966259debfa8fad20afcb9fee1', 'message': 'Pure Storage - Fix disconnect error in clustered environments\n\nWhen arrays are configured into a synchrous cluster relationship\na disconnect of a volume that is of a non-replicated type will\ncause a failure. This will also happen when attempting a volume\nretype over multiple backends.\n\nChange-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765\nCloses-Bug: #1850697\n(cherry picked from commit 2eabeacfb32f30d57cb4424dffde2b890a734bcc)\n(cherry picked from commit b8c0cd0d6416d0e152bd864e858828ffca746a15)\n'}]",1,696899,bc6902cd4dfab9966259debfa8fad20afcb9fee1,33,17,2,13425,,,0,"Pure Storage - Fix disconnect error in clustered environments

When arrays are configured into a synchrous cluster relationship
a disconnect of a volume that is of a non-replicated type will
cause a failure. This will also happen when attempting a volume
retype over multiple backends.

Change-Id: I2a3fa8909a9104c464fd0bbc83c61ded94f81765
Closes-Bug: #1850697
(cherry picked from commit 2eabeacfb32f30d57cb4424dffde2b890a734bcc)
(cherry picked from commit b8c0cd0d6416d0e152bd864e858828ffca746a15)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/696899/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,0791427d9c974493b77af01be644621e7dbd32b6,bug/1850697-stable/stein," # Now disconnect from the current array connector, remove_remote_hosts=False)"," # Now disconnect from the current array, removing any left over # remote hosts that we maybe couldn't reach. connector, remove_remote_hosts=True)",2,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I06d929e1602ece966100a6913166910b9e301635,openstack/tripleo-ansible,stable/train,I06d929e1602ece966100a6913166910b9e301635,Handle range in the cpu_mask conversion for DPDK cores,MERGED,2019-12-03 09:24:15.000000000,2019-12-05 20:49:20.000000000,2019-12-05 20:49:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 09:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24ce78301fb747aefb2d0dc59e892822b69af526', 'message': 'Handle range in the cpu_mask conversion for DPDK cores\n\ncpu_mask filter plugin handles list of cores, extend it to\nsupport range of cores to convert to mask.\nCloses-Bug: #1854341\n\nChange-Id: I06d929e1602ece966100a6913166910b9e301635\n(cherry picked from commit 709a11cbde41bbacbd45f556a7bce8a0abfd0643)\n'}, {'number': 2, 'created': '2019-12-03 13:16:10.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7948693b756e3ed346be740f28f52b809e16758f', 'message': 'Handle range in the cpu_mask conversion for DPDK cores\n\ncpu_mask filter plugin handles list of cores, extend it to\nsupport range of cores to convert to mask.\nCloses-Bug: #1854341\n\nChange-Id: I06d929e1602ece966100a6913166910b9e301635\n(cherry picked from commit 709a11cbde41bbacbd45f556a7bce8a0abfd0643)\n'}]",0,697036,7948693b756e3ed346be740f28f52b809e16758f,20,5,2,18575,,,0,"Handle range in the cpu_mask conversion for DPDK cores

cpu_mask filter plugin handles list of cores, extend it to
support range of cores to convert to mask.
Closes-Bug: #1854341

Change-Id: I06d929e1602ece966100a6913166910b9e301635
(cherry picked from commit 709a11cbde41bbacbd45f556a7bce8a0abfd0643)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/697036/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml']",3,24ce78301fb747aefb2d0dc59e892822b69af526,bug/1854341-stable/train," tripleo_ovs_dpdk_pmd_core_list: ""1,13-15"" tripleo_ovs_dpdk_pmd_core_list: ""1,13-15"""," tripleo_ovs_dpdk_pmd_core_list: ""1,13"" tripleo_ovs_dpdk_pmd_core_list: ""1,13""",10,5
openstack%2Foslo.limit~master~I294a922ea80af673291c991f07a4a203f25c289d,openstack/oslo.limit,master,I294a922ea80af673291c991f07a4a203f25c289d,Add flat enforcer,MERGED,2019-11-20 22:10:42.000000000,2019-12-05 20:22:39.000000000,2019-12-05 20:21:06.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 22:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/5edbbf0660cba283384381e30f69fa67c7be46d6', 'message': ""Add basic enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova's needs.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n""}, {'number': 2, 'created': '2019-11-20 22:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6c7628b5a555f530430490e8c8b37f84c20d2253', 'message': ""Add basic enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova's needs.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n""}, {'number': 3, 'created': '2019-11-21 16:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/c0f480b11b1ad6b1e7658abdd199191bd3522e42', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 4, 'created': '2019-11-22 13:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/921c448389cb2e844fb34abd8db7f7a984ca3fa8', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 5, 'created': '2019-11-22 16:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/dd70d1a331efcbc0eaf44134739d0ace8fa94b50', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 6, 'created': '2019-11-25 10:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/8a4db5e1d85329c997251c038b9986b79b6c9cbd', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 7, 'created': '2019-11-25 11:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/94a735863694b3e78ac720b37629c16fbc5bba3a', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 8, 'created': '2019-11-25 12:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/47144ab60449b2b4cff5346778fa92bf3553edb5', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}, {'number': 9, 'created': '2019-11-25 18:31:07.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/40ef2764a5b8483103ce4d7b8d390b4e5d643d79', 'message': 'Add flat enforcer\n\nTaking the Nova work as an example, looking to add a basic flat enforcer\nthat meets Nova\'s needs.\n\nThe user of the Enforce provides a callback. You can see an example of\nthe callback in the unit tests:\n\n  def fake_callback(project_id, resources):\n    return {\n      ""a"": 5,\n      ""b"": 10,\n      ""c"": 0,\n    }\n\nIn the code where you want to check if you increase the amount of\nresources that are being consumed, you can make this call:\n\n   enforcer = limit.Enforcer(fake_callback)\n   enforcer.enforce(project_id, {""a"": 5})\n\nThe enforce function looks up the limits that apply for the given\nproject_id, uses the callback to count the current usage. The proposed\nusage is then calculated be adding the delta and the current usage\ntogether. This is compared to any limits that apply.\n\nIf you later want to check if you have races that mean you are\nover your limit, you can do this call:\n\n   enforcer.enforce(project_id, {\'a\': 0})\n\nSummary of key design points:\n\n* single set of logic to enforce limits shared between all projects\n  that adopt unified limits\n\n* interface should work for both flat and strict-two-level enforcement\n\n* it is assumed that oslo.limit will control which type of enforcement\n  is being applied\n\n* callback lists all resources that need counting\n  for the given project_id, in Nova this helps limit\n  the number of API calls made to placement\n\n* allows to check if proposed additional usage means you are over\n  your limit, and also double check if the current usages means\n  you are over quota\n\n* if the code is checking a resource where you do not have a\n  registered limit, we default to a limit of zero, i.e. no\n  resources can be created unless you set that registered limit\n  There will be an appropriate warning logged to help the operator\n  understand what needs to be setup in keystone.\n\nThis builds on various previous prototypes from:\nCo-Authored-By: Lance Bragstad<lbragstad@gmail.com>\nCo-Authored-By: wangxiyuan <wangxiyuan@huawei.com>\n\nChange-Id: I294a922ea80af673291c991f07a4a203f25c289d\n'}]",15,695310,40ef2764a5b8483103ce4d7b8d390b4e5d643d79,33,7,9,782,,,0,"Add flat enforcer

Taking the Nova work as an example, looking to add a basic flat enforcer
that meets Nova's needs.

The user of the Enforce provides a callback. You can see an example of
the callback in the unit tests:

  def fake_callback(project_id, resources):
    return {
      ""a"": 5,
      ""b"": 10,
      ""c"": 0,
    }

In the code where you want to check if you increase the amount of
resources that are being consumed, you can make this call:

   enforcer = limit.Enforcer(fake_callback)
   enforcer.enforce(project_id, {""a"": 5})

The enforce function looks up the limits that apply for the given
project_id, uses the callback to count the current usage. The proposed
usage is then calculated be adding the delta and the current usage
together. This is compared to any limits that apply.

If you later want to check if you have races that mean you are
over your limit, you can do this call:

   enforcer.enforce(project_id, {'a': 0})

Summary of key design points:

* single set of logic to enforce limits shared between all projects
  that adopt unified limits

* interface should work for both flat and strict-two-level enforcement

* it is assumed that oslo.limit will control which type of enforcement
  is being applied

* callback lists all resources that need counting
  for the given project_id, in Nova this helps limit
  the number of API calls made to placement

* allows to check if proposed additional usage means you are over
  your limit, and also double check if the current usages means
  you are over quota

* if the code is checking a resource where you do not have a
  registered limit, we default to a limit of zero, i.e. no
  resources can be created unless you set that registered limit
  There will be an appropriate warning logged to help the operator
  understand what needs to be setup in keystone.

This builds on various previous prototypes from:
Co-Authored-By: Lance Bragstad<lbragstad@gmail.com>
Co-Authored-By: wangxiyuan <wangxiyuan@huawei.com>

Change-Id: I294a922ea80af673291c991f07a4a203f25c289d
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/10/695310/8 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py', 'lower-constraints.txt', 'oslo_limit/opts.py']",7,5edbbf0660cba283384381e30f69fa67c7be46d6,add-flat-enforce," loading.register_auth_conf_options(CONF, _option_group) plugin_name = CONF.oslo_limit.auth_type if plugin_name: plugin_loader = loading.get_plugin_loader(plugin_name) plugin_opts = loading.get_auth_plugin_conf_options(plugin_loader) CONF.register_opts(plugin_opts, group=_option_group) ",,274,24
openstack%2Fnova~master~Ic365cfb29495c49babfa4df0cf23d5b4e3def318,openstack/nova,master,Ic365cfb29495c49babfa4df0cf23d5b4e3def318,Allow disabling cold migration to the same host,ABANDONED,2019-08-12 21:31:42.000000000,2019-12-05 20:14:26.000000000,,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26124}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-12 21:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43258ca8a78c1a3a672e1ce4e5001063122d3ea8', 'message': ""Allow disabling cold migration to the same host\n\nThe allow_resize_to_same_host option is currently used for\nboth resize and cold migration, and most drivers support\nresize to the same host but only the vCenter driver supports\ncold migrating to the same host. This means that if you\nconfigure allow_resize_to_same_host=True and you're not using\nthe vCenter driver, the scheduler can pick the host that the\ninstance is already running on and fail the cold migration\nwith an UnableToMigrateToSelf error in the compute service.\n\nThis change adds a backward compatible option to allow\nresize to the same host but disable cold migration to the\nsame host. The API knows if we are resizing or cold mgirating\nif the flavor changes, so the appropriate option will be used\nbased on the operation. The new option defaults to the configured\nvalue of allow_resize_to_same_host (which defaults to False).\n\nLong-term we should be able to deprecate and replace the\nworkaround option with intelligent traits-based filtering\nusing compute capabilities [1] but that is not backportable\nsince it relies on standard traits.\n\n[1] https://review.opendev.org/666604/\n\nChange-Id: Ic365cfb29495c49babfa4df0cf23d5b4e3def318\nPartial-Bug: #1748697\nRelated-Bug: #1811235\n""}, {'number': 2, 'created': '2019-11-19 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4c9620cfe6d4e7116f88e623213f3c72ee6cc56', 'message': ""Allow disabling cold migration to the same host\n\nThe allow_resize_to_same_host option is currently used for\nboth resize and cold migration, and most drivers support\nresize to the same host but only the vCenter driver supports\ncold migrating to the same host. This means that if you\nconfigure allow_resize_to_same_host=True and you're not using\nthe vCenter driver, the scheduler can pick the host that the\ninstance is already running on and fail the cold migration\nwith an UnableToMigrateToSelf error in the compute service.\n\nThis change adds a backward compatible option to allow\nresize to the same host but disable cold migration to the\nsame host. The API knows if we are resizing or cold mgirating\nif the flavor changes, so the appropriate option will be used\nbased on the operation. The new option defaults to the configured\nvalue of allow_resize_to_same_host (which defaults to False).\n\nLong-term we should be able to deprecate and replace the\nworkaround option with intelligent traits-based filtering\nusing compute capabilities [1] but that is not backportable\nsince it relies on standard traits.\n\n[1] https://review.opendev.org/666604/\n\nChange-Id: Ic365cfb29495c49babfa4df0cf23d5b4e3def318\nPartial-Bug: #1748697\nRelated-Bug: #1811235\n""}, {'number': 3, 'created': '2019-11-19 20:28:19.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/compute/test_compute_api.py', 'releasenotes/notes/bug-1748697-workaround-allow-cold-migrate-same-host-a2c8b8ecd56883ee.yaml', 'nova/compute/api.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7281b68020deb6cbec47c0b469a1f89a0a6d4c88', 'message': ""Allow disabling cold migration to the same host\n\nThe allow_resize_to_same_host option is currently used for\nboth resize and cold migration, and most drivers support\nresize to the same host but only the vCenter driver supports\ncold migrating to the same host. This means that if you\nconfigure allow_resize_to_same_host=True and you're not using\nthe vCenter driver, the scheduler can pick the host that the\ninstance is already running on and fail the cold migration\nwith an UnableToMigrateToSelf error in the compute service.\n\nThis change adds a backward compatible option to allow\nresize to the same host but disable cold migration to the\nsame host. The API knows if we are resizing or cold mgirating\nif the flavor changes, so the appropriate option will be used\nbased on the operation. The new option defaults to the configured\nvalue of allow_resize_to_same_host (which defaults to False).\n\nLong-term we should be able to deprecate and replace the\nworkaround option with intelligent traits-based filtering\nusing compute capabilities [1] but that is not backportable\nsince it relies on standard traits.\n\n[1] https://review.opendev.org/666604/\n\nChange-Id: Ic365cfb29495c49babfa4df0cf23d5b4e3def318\nPartial-Bug: #1748697\nRelated-Bug: #1811235\n""}]",24,676022,7281b68020deb6cbec47c0b469a1f89a0a6d4c88,48,18,3,6873,,,0,"Allow disabling cold migration to the same host

The allow_resize_to_same_host option is currently used for
both resize and cold migration, and most drivers support
resize to the same host but only the vCenter driver supports
cold migrating to the same host. This means that if you
configure allow_resize_to_same_host=True and you're not using
the vCenter driver, the scheduler can pick the host that the
instance is already running on and fail the cold migration
with an UnableToMigrateToSelf error in the compute service.

This change adds a backward compatible option to allow
resize to the same host but disable cold migration to the
same host. The API knows if we are resizing or cold mgirating
if the flavor changes, so the appropriate option will be used
based on the operation. The new option defaults to the configured
value of allow_resize_to_same_host (which defaults to False).

Long-term we should be able to deprecate and replace the
workaround option with intelligent traits-based filtering
using compute capabilities [1] but that is not backportable
since it relies on standard traits.

[1] https://review.opendev.org/666604/

Change-Id: Ic365cfb29495c49babfa4df0cf23d5b4e3def318
Partial-Bug: #1748697
Related-Bug: #1811235
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/676022/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/functional/wsgi/test_servers.py', 'releasenotes/notes/bug-1748697-workaround-allow-cold-migrate-same-host-a2c8b8ecd56883ee.yaml', 'nova/compute/api.py', 'nova/conf/workarounds.py']",5,43258ca8a78c1a3a672e1ce4e5001063122d3ea8,bug/1748697," cfg.BoolOpt( 'allow_cold_migrate_to_same_host', # NOTE(mriedem): We explicitly default to None for backward # compatibility with the allow_resize_to_same_host option, meaning # if the operator does not set this option explicitly, we default # to the value of allow_resize_to_same_host (which defaults to False). default=None, help="""""" Allow destination machine to match source for cold migration. Useful for cluster compute drivers like the vCenter driver where there are a small number of nova-compute services managing vCenter clusters. By default this option uses the same value as ``allow_resize_to_same_host`` which is to not allow cold migration to the same host. Setting this option to True will add the same host to the destination options for scheduling, but does not mean the same host will be selected by the scheduler. If not using the vCenter driver this should be False to avoid bug 1748697: https://bugs.launchpad.net/nova/+bug/1748697 .. note:: This workaround is applied globally in the API service and therefore does not account for a mixed hypervisor deployment, e.g. libvirt and vCenter drivers in different aggregates. Related options: * ``[DEFAULT]/allow_resize_to_same_host`` - Most compute drivers allow resizing to the same host but not cold migrating to the same host. """"""),",,139,3
openstack%2Fopenstack-ansible~master~Icc7c0f7fa08ad6e21b574b236e71c7e08558ec8c,openstack/openstack-ansible,master,Icc7c0f7fa08ad6e21b574b236e71c7e08558ec8c,Use unconfined apparmor profiles on Debian Buster.,MERGED,2019-12-03 13:27:11.000000000,2019-12-05 20:11:56.000000000,2019-12-05 19:05:29.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-03 13:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ee5cea7f13cd5b7b0085d7d20e4c0899cca6389', 'message': 'Use unconfined apparmor profiles on Debian Buster.\n\nThis seems related to systemd >= 240 and this issue\nhttps://discuss.linuxcontainers.org/t/apparmor-denied-operation-mount/2424/13\n\nChange-Id: Icc7c0f7fa08ad6e21b574b236e71c7e08558ec8c\n'}, {'number': 2, 'created': '2019-12-03 15:03:40.000000000', 'files': ['inventory/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6729ad423292e7935b77ca208cedd0cd6058f909', 'message': 'Use unconfined apparmor profiles on Debian Buster.\n\nThis seems related to systemd >= 240 and this issue\nhttps://discuss.linuxcontainers.org/t/apparmor-denied-operation-mount/2424/13\n\nChange-Id: Icc7c0f7fa08ad6e21b574b236e71c7e08558ec8c\n'}]",0,697085,6729ad423292e7935b77ca208cedd0cd6058f909,12,4,2,25023,,,0,"Use unconfined apparmor profiles on Debian Buster.

This seems related to systemd >= 240 and this issue
https://discuss.linuxcontainers.org/t/apparmor-denied-operation-mount/2424/13

Change-Id: Icc7c0f7fa08ad6e21b574b236e71c7e08558ec8c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/697085/2 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all_containers.yml'],1,7ee5cea7f13cd5b7b0085d7d20e4c0899cca6389,osa-train," - ""{{ (ansible_distribution == 'Debian' and ansible_distribution_major_version == '10' ) | ternary('lxc.aa_profile=unconfined', 'lxc.aa_profile=lxc-openstack') }}"""," - ""lxc.aa_profile=lxc-openstack""",1,1
openstack%2Fpaunch~stable%2Ftrain~Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be,openstack/paunch,stable/train,Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be,Do not always needlessly pull the images via podman,MERGED,2019-12-05 07:02:47.000000000,2019-12-05 19:54:52.000000000,2019-12-05 13:39:55.000000000,"[{'_account_id': 8297}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 07:02:47.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/912a5743584c4fc7ff453bf06bebf48da8553efc', 'message': 'Do not always needlessly pull the images via podman\n\nVia https://review.opendev.org/#/c/665731/ there was a tentative\nreduction of podman inspect calls. The problem was that a podman\npull was performed even when the image already existed due to\na wrong if check, since image_exist() returns true/false and not\nthe return code of the podman image shell command.\n\nCloses-Bug: #1855128\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be\n(cherry picked from commit 14fa098fcb6a36eff0c7e965e86c5ec6ce112c81)\n'}]",0,697414,912a5743584c4fc7ff453bf06bebf48da8553efc,11,5,1,20172,,,0,"Do not always needlessly pull the images via podman

Via https://review.opendev.org/#/c/665731/ there was a tentative
reduction of podman inspect calls. The problem was that a podman
pull was performed even when the image already existed due to
a wrong if check, since image_exist() returns true/false and not
the return code of the podman image shell command.

Closes-Bug: #1855128
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be
(cherry picked from commit 14fa098fcb6a36eff0c7e965e86c5ec6ce112c81)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/14/697414/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,912a5743584c4fc7ff453bf06bebf48da8553efc,fix_paunch-stable/train, if img_exist:, if img_exist == 0:,1,1
openstack%2Ftripleo-specs~master~I0cbc1620904acb149230cd5f295f2a17abd59146,openstack/tripleo-specs,master,I0cbc1620904acb149230cd5f295f2a17abd59146,Add spec for scaling with the ansible inventory,MERGED,2019-10-17 00:20:59.000000000,2019-12-05 19:50:27.000000000,2019-12-05 19:47:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 00:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/078b73c221272c81b4a17b78be0dbb38d960f714', 'message': 'Add spec for scaling with the ansible inventory\n\nChange-Id: I0cbc1620904acb149230cd5f295f2a17abd59146\n'}, {'number': 2, 'created': '2019-10-17 00:28:43.000000000', 'files': ['specs/ussuri/scaling-with-ansible-inventory.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/91ccca4058f778f72e28fcc54413fa8bcefe2fc0', 'message': 'Add spec for scaling with the ansible inventory\n\nChange-Id: I0cbc1620904acb149230cd5f295f2a17abd59146\n'}]",3,689058,91ccca4058f778f72e28fcc54413fa8bcefe2fc0,13,5,2,7144,,,0,"Add spec for scaling with the ansible inventory

Change-Id: I0cbc1620904acb149230cd5f295f2a17abd59146
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/58/689058/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/scaling-with-ansible-inventory.rst'],1,078b73c221272c81b4a17b78be0dbb38d960f714,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Scaling with the Ansible Inventory ================================== https://blueprints.launchpad.net/tripleo/scaling-with-Ansible-inventory Scaling an existing deployment should be possible by adding new host definitions directly to the Ansible inventory, and not having to do any Heat stack operation. Problem Description =================== Currently to scale a deployment, a Heat stack update is required. The stack update reflects the new desired node count of each role, which is then represented in the generated Ansible inventory. The inventory file is then used by the config-download process when Ansible-playbook is executed to perform the software configuration on each node. Updating the Heat stack with the new desired node count has posed some scaling challenges. Heat creates a set of resources associated with each node. As the number of nodes in a deployment increases, Heat has more and more resources to manage. As the stack size grows, Heat must be tuned with software configurations or horizontally scaled with additional engine workers. However, horizontal scaling of Heat workers will only help so much as eventually other service workers would need to be scaled as well, such as database, messaging, or Keystone worker process. Having to increasingly scale worker processes results in additional physical resource consumption. Heat performance also begins to degrade as stack size increases. It takes longer and longer for stack operations to complete as node count increases. The stack operation time often reaches into the taking many hours, which is usually outside the range of typical maintenance windows. It is also hard to predict what changes Heat will make. Often, no changes are desired other than to scale out to new nodes. However, unintended template changes or user error around forgetting to pass environment files poses additional unnecessary risk to the scaling operation. Proposed Change =============== Overview -------- The proposed change would allow for users to directly add new node definitions to the Ansible inventory to allow for scaling services onto those new nodes. No change in the <Role>Count parameters would be required. With Ansible's ability to use a directory of inventory files as a source, the user can drop-in new files to a predetermined directory to add new node definitions. A minimum set of data would be required when adding a new node to the Ansible inventory. Presently, this includes the TripleO role, and an IP address on each network that is used by that role. Only scaling of already defined roles will be possible with this method. Defining new roles would still require a full Heat stack update. Once the new node(s) are added to the inventory, Ansible-playbook could be rerun with the config-download directory to scale the software services out on to the new nodes. As increasing the node count in the Heat stack operation won't be necessary when scaling, if baremetal provisioning is required for the new nodes, then this work depends on the nova-less-deploy work: https://specs.openstack.org/openstack/tripleo-specs/specs/stein/nova-less-deploy.html Once baremetal provisioning is migrated out of Heat with the above work, then new nodes can be provisioned with those new workflows before adding them directly to the Ansible inventory. Since new nodes added directly to the Ansible inventory would still be consuming IP's from the subnet ranges defined for the overcloud networks, Neutron needs to be made aware of those assignments so that there are no overlapping IP addresses. This could be done with a new interface in tripleo-heat-templates that allows for specifying the extra node inventory data. The parameter would be called ``ExtraInventoryData``. The templates would take care of operating on that input and creating the appropriate Neutron ports to correspond to the IP addresses specified in the data. When tripleo-ansible-inventory is used to generate the inventory, it would query Heat as it does today, but also layer in the extra inventory data as specified by ``ExtraInventoryData``. The resulting inventory would be a unified view of all nodes in the deployment. ``ExtraInventoryData`` may be a list of files that are consumed with Heat's get_file function so that the deployer can keep their inventory data organized by file. Alternatives ------------ This change is primarily targeted at addressing scaling issues around the Heat stack operation. Alternative methods include using undercloud minions: https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/undercloud_minion.html Multi-stack/split-controlplane also addresses the issue somewhat by breaking up the deployment into smaller and more manageable stacks: https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/distributed_compute_node.html These alternatives are complimentary to the proposed solution here, and all of these solutions can be used together for the greatest benefits. Direct manipulation of inventory data _____________________________________ Another alternative would be to not make use of any new interface in the templates such as the previously mentioned ``ExtraInventoryData``. Users could just update the inventory file manually, or drop inventory files in a specified location (since Ansible can use a directory as an inventory source). The drawbacks to this approach are that another tool would be necessary to create associated ports in Neutron so that there are no overlapping IP addresses. It could also be a manual step, although that is prone to error. The advantages to this approach is that it would completely eliminate the stack update operation as part of the scaling. Not having any stack operation is appealing in some regards due to the potential to forget environment files or other user error (out of date templates, etc). Security Impact --------------- IP addresses and hostnames would potentially exist in user managed templates that have the value for ``ExtraInventoryData``, however this is no different than what is present today. Upgrade Impact -------------- The upgrade process will need to be aware that not all nodes are represented in the Heat stack, and some will be represented only in the inventory. This should not be an issue as long as there is a consistent interface to get a single unified inventory as there exists now. Any changes around creating the unified view of the inventory should be made within the implementation of that interface (tripleo-ansible-inventory) such that existing tooling continues to use an inventory that contains all nodes for a deployment. Other End User Impact --------------------- Users will potentially have to manage additional environment files for the extra inventory data. Performance Impact ------------------ Performance should be improved during scale out operations. However, it should be noted that Ansible will face scaling challenges as well. While this change does not directly introduce those new challenges, it may expose them more rapidly as it bypasses the Heat scaling challenges. For example, it is not expected that simply adding hundreds or thousands of new nodes directly to the Ansible inventory means that scaling operation would succeed. It would likely expose new scaling challenges in other tooling, such as the playbook and role tasks or Ansible itself. Other Deployer Impact --------------------- Since this proposal is meant to align with the nova-less-deploy, all nodes (whether they are known to Heat or not) would be unprovisioned if the deployment is deleted. If using pre-provisioned nodes, then there is no change in behavior in that deleting the Heat stack does not actually ""undeploy"" any software. This proposal does not change that behavior. Developer Impact ---------------- Developers could more quickly test scaling by bypassing the Heat stack update completely if desired, or using the ``ExtraInventoryData`` interface. Implementation ============== Assignee(s) ----------- Primary assignee: James Slagle <jslagle@redhat.com> Work Items ---------- * Add new parameter ``ExtraInventoryData`` * Add Heat processing of ``ExtraInventoryData`` * create Neutron ports * add stack outputs * Update tripleo-ansible-inventory to consume from added stack outputs * Update HostsEntry to be generic Dependencies ============ * Depends on nova-less-deploy work for baremetal provisioning outside of Heat. If using pre-provisioned nodes, does not depend on nova-less-deploy. * All deployment configurations coming out of Heat need to be generic per role. Most of this work was complete in Train, however this should be reviewed. For example, the HostsEntry data is still static and Heat is calculating the node list. This data needs to be moved to an Ansible template. Testing ======= Scaling is not currently tested in CI, however perhaps it could be with this change. Manual test plans and other test automation would need to be updated to also test scaling with ``ExtraInventoryData``. Documentation Impact ==================== Documentation needs to be added for ``ExtraInventoryData``. The feature should also be fully explained in that users and deployers need to be made aware of the change of how nodes may or may not be represented in the Heat stack. References ========== * https://specs.openstack.org/openstack/tripleo-specs/specs/stein/nova-less-deploy.html * https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/undercloud_minion.html * https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/distributed_compute_node.html ",,253,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icd8d49c0cf8c8ac43348813c502861fb0aa7091f,openstack/tripleo-heat-templates,stable/queens,Icd8d49c0cf8c8ac43348813c502861fb0aa7091f,Handle any network name in ServiceNetMap,MERGED,2019-12-03 17:55:33.000000000,2019-12-05 19:50:07.000000000,2019-12-05 19:48:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-03 17:55:33.000000000', 'files': ['network/service_net_map.j2.yaml', 'releasenotes/notes/handle-any-network-name-in-ServiceNetMap-efffd0583bab827f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aed61aea568220453fc8879e489da0910d9059d', 'message': ""Handle any network name in ServiceNetMap\n\nIn commit, I737d5656b113f7e2238fe7bb555cc2d4cb13877c, support was added\nto have the services fall back to the ctlplane network if the default\nservice network wasn't enabled.\n\nThe commit only worked for the hardcoded default network names though\n(ItnernalApi, Storage, etc). Given that any network names can be used,\nand that our spine/leaf examples show using non-default network names\n(IternalApi0, Storage0, etc), the code needs to work for any network\nname.\n\nThis commit updates the jinja2 logic to work for any network name. It\nalso handles service_net_map_replace in the jinja2 logic instead of\nHeat, so that services can be correctly defaulted when the default\nnetworks don't exist at all.\n\nConflicts:\n\tnetwork/service_net_map.j2.yaml\n\nChange-Id: Icd8d49c0cf8c8ac43348813c502861fb0aa7091f\nimplements: blueprint split-controlplane-templates\nCloses-Bug: #1824025\n(cherry picked from commit da5b57c7bb9b7621de4b7a16ac4148d599ec0f05)\n""}]",0,697146,8aed61aea568220453fc8879e489da0910d9059d,13,7,1,24245,,,0,"Handle any network name in ServiceNetMap

In commit, I737d5656b113f7e2238fe7bb555cc2d4cb13877c, support was added
to have the services fall back to the ctlplane network if the default
service network wasn't enabled.

The commit only worked for the hardcoded default network names though
(ItnernalApi, Storage, etc). Given that any network names can be used,
and that our spine/leaf examples show using non-default network names
(IternalApi0, Storage0, etc), the code needs to work for any network
name.

This commit updates the jinja2 logic to work for any network name. It
also handles service_net_map_replace in the jinja2 logic instead of
Heat, so that services can be correctly defaulted when the default
networks don't exist at all.

Conflicts:
	network/service_net_map.j2.yaml

Change-Id: Icd8d49c0cf8c8ac43348813c502861fb0aa7091f
implements: blueprint split-controlplane-templates
Closes-Bug: #1824025
(cherry picked from commit da5b57c7bb9b7621de4b7a16ac4148d599ec0f05)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/697146/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/service_net_map.j2.yaml', 'releasenotes/notes/handle-any-network-name-in-ServiceNetMap-efffd0583bab827f.yaml']",2,8aed61aea568220453fc8879e489da0910d9059d,bug/1824025,--- fixes: - ServiceNetMap now handles any network name when computing the default network for each service in ServiceNetMapDefaults. ,,9,22
openstack%2Fkolla~master~Ic74fe3021154826c7db577ff8d7008bfef2ccd1a,openstack/kolla,master,Ic74fe3021154826c7db577ff8d7008bfef2ccd1a,rabbitmq: update to latest 3.7.x (+ erlang 22.x),ABANDONED,2019-11-21 07:09:08.000000000,2019-12-05 19:32:29.000000000,,"[{'_account_id': 7353}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 29543}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-21 07:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21af5b4f308f194a84ebff344a1730ad9ed50618', 'message': '[rabbitmq] Fixes unsupported erlang version for centos\n\nRabbitmq does not belong to the corresponding erlang version\nmentioned at the official website[1]. It should be between 20.3.x and\n21.3.x but the current version belongs to 19.3.x.\n\nThis change introduces bintray repo to fix this issue.\n\n1. https://www.rabbitmq.com/which-erlang.html\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n'}, {'number': 2, 'created': '2019-11-21 07:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f932c5fd292c0eac7cadefcc553d68b3fd34962a', 'message': '[rabbitmq] Fixes unsupported erlang version for centos\n\nRabbitmq does not belong to the corresponding erlang version\nmentioned at the official website[1]. It should be between 20.3.x and\n21.3.x but the current version belongs to 19.3.x.\n\nThis change introduces bintray repo to fix this issue.\n\n1. https://www.rabbitmq.com/which-erlang.html\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n'}, {'number': 3, 'created': '2019-11-21 13:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/659e654df56afe813bcb55d6ba8208f758090e34', 'message': '[rabbitmq] start using bintray repo for all distros\n\nThis change introduces:\n\n1. bintray repo to all distributions\n2. updates the pinned rabbitmq version to latest 3.7.x\n3. updates the erlang version to 22.x\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n'}, {'number': 4, 'created': '2019-11-21 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23579f8453c9cf459663cac3638cef0d60cfd82c', 'message': '[rabbitmq] start using bintray repository for all dsitributions\n\nThis change introduces:\n\n1. bintray repository to all dsitributions\n2. updates the pinned rabbitmq version to latest 3.7.x\n3. updates the erlang version to 22.x\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n'}, {'number': 5, 'created': '2019-11-21 19:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a1d8cdf75c81738d2fcf247eed3f039a55a85fff', 'message': '[rabbitmq] start using bintray repository for all distributions\n\nThis change introduces:\n\n1. bintray repository to all distributions\n2. updates the pinned rabbitmq version to latest 3.7.x\n3. updates the erlang version to 22.x\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n'}, {'number': 6, 'created': '2019-11-27 17:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/739e9481d8aed65c081e0c38862dd66a7e556c9b', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements.\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 7, 'created': '2019-11-27 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c22ca026cb21cfab2cae38e922b28fd743bfee4', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements.\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 8, 'created': '2019-11-27 17:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58aef1d792952ed194d56624aee3118791734174', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 9, 'created': '2019-11-28 13:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/baf97839450d48fd716233c000466db5c192ddb6', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 10, 'created': '2019-11-28 14:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/73cebdd87cce6d7b9eda7e0a61bc9afa8c8361be', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/695847/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 11, 'created': '2019-11-28 15:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c68b52268bdc2933de7e181413fcac51788dd1e', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 12, 'created': '2019-11-29 08:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bb836d3c5e6d6e00d31de0d6dbdd4d9467b05014', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/695847/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 13, 'created': '2019-12-02 01:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ee7355d6970594636f6b2465648f223c7db68a93', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 14, 'created': '2019-12-02 14:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae6b9380744cd41a79c9a8cd6ec34bc2953a0bbe', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 15, 'created': '2019-12-02 14:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f030af2af65c28e175426db00de671f1bec6e54a', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}, {'number': 16, 'created': '2019-12-02 14:44:42.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/sources.list.ubuntu.aarch64', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/base/sources.list.debian.aarch64', 'docker/base/rabbitmq_rabbitmq-erlang-aarch64.repo', 'docker/base/sources.list.ubuntu', 'docker/base/sources.list.debian.ppc64le', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'docker/base/sources.list.debian', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a29b3a8c93ab3e14ce1e78489ea2e83e2c58d45', 'message': ""rabbitmq: update to latest 3.7.x (+ erlang 22.x)\n\nUpdate the pinned rabbitmq version to latest 3.7.x version.\n\nUpdate the erlang version to 22.1.x to satisfy rabbitmq requirements:\n\nhttps://www.rabbitmq.com/which-erlang.html\n\nFor x86-64 architecture we use bintray repository provided by rabbitmq\nupstream to get updated Erlang.\n\nFor aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported\nfrom Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a\nCloses-Bug: #1853167\n""}]",17,695356,5a29b3a8c93ab3e14ce1e78489ea2e83e2c58d45,73,10,16,30523,,,0,"rabbitmq: update to latest 3.7.x (+ erlang 22.x)

Update the pinned rabbitmq version to latest 3.7.x version.

Update the erlang version to 22.1.x to satisfy rabbitmq requirements:

https://www.rabbitmq.com/which-erlang.html

For x86-64 architecture we use bintray repository provided by rabbitmq
upstream to get updated Erlang.

For aarch64 Linaro builds are used. Debian/Ubuntu get 22.1.x backported
from Debian 'testing', CentOS gets rebuild of rabbitmq upstream package.

Depends-On: https://review.opendev.org/#/c/696182/

Change-Id: Ic74fe3021154826c7db577ff8d7008bfef2ccd1a
Closes-Bug: #1853167
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/695356/6 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-erlang.repo']",3,21af5b4f308f194a84ebff344a1730ad9ed50618,bug/1853167,[rabbitmq_rabbitmq-erlang] name=rabbitmq_rabbitmq-erlang baseurl=https://dl.bintray.com/rabbitmq-erlang/rpm/erlang/21/el/7/ repo_gpgcheck=1 gpgcheck=1 enabled=1 gpgkey=https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.asc sslverify=1 sslcacert=/etc/pki/tls/certs/ca-bundle.crt metadata_expire=300 priority=1 ,,14,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I75b1112089a66cf5db0a2fd651bb24428cf861fd,openstack/tripleo-ansible,stable/train,I75b1112089a66cf5db0a2fd651bb24428cf861fd,"tripleo-hieradata: re-enable ""service_names""",MERGED,2019-12-05 13:13:38.000000000,2019-12-05 19:08:23.000000000,2019-12-05 19:08:23.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 13:13:38.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c97ce3e1c793f5350750502009b26a59bc3e9d32', 'message': 'tripleo-hieradata: re-enable ""service_names""\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nChange-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n(cherry picked from commit 114c3c97f400fb99591484e65ed198cbd7ffe584)\n'}]",0,697463,c97ce3e1c793f5350750502009b26a59bc3e9d32,8,3,1,3153,,,0,"tripleo-hieradata: re-enable ""service_names""

""service_names"" was a useful hieradata which listed the services enabled
for a specific roles vs ""enabled_services"" which are for all the
services enabled in the cloud, no matter the role.

This is re-added for backward compatibility.

Change-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd
Related-Bug: #1855138
(cherry picked from commit 114c3c97f400fb99591484e65ed198cbd7ffe584)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/697463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py']",4,c97ce3e1c793f5350750502009b26a59bc3e9d32,bug/1855138," ""service_names"",",,59,0
openstack%2Fcinder~stable%2Ftrain~I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263,openstack/cinder,stable/train,I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263,NEC driver: fix a non-disruptive backup error,MERGED,2019-11-28 07:51:37.000000000,2019-12-05 19:00:01.000000000,2019-12-05 18:58:11.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-11-28 07:51:37.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25cc53e43ef2ae4e862f96cdb867baae269bb512', 'message': ""NEC driver: fix a non-disruptive backup error\n\nWhen attaching a snapshot to a node,\nNEC driver automatically creates and attaches LUN-0\nif the node does not have it yet.\nThe LUN-0 is reserved for storage functions control.\n\nCurrently, the driver does not update a LUN list after creating LUN-0\nand selects the already used LUN to attach the snapshot.\nThat causes a non-disruptive backup error.\n\nThis patch adds the LUN list update.\nThe list is stored in `ldset' variable.\n\nChange-Id: I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263\nCloses-Bug: #1852201\n(cherry picked from commit 04f8e46659a4b29db3aec9832c608b350c3a63cc)\n""}]",0,696463,25cc53e43ef2ae4e862f96cdb867baae269bb512,43,15,1,28403,,,0,"NEC driver: fix a non-disruptive backup error

When attaching a snapshot to a node,
NEC driver automatically creates and attaches LUN-0
if the node does not have it yet.
The LUN-0 is reserved for storage functions control.

Currently, the driver does not update a LUN list after creating LUN-0
and selects the already used LUN to attach the snapshot.
That causes a non-disruptive backup error.

This patch adds the LUN list update.
The list is stored in `ldset' variable.

Change-Id: I6d5d34ac802ecf6239f2d7e1a2a13c58ce5db263
Closes-Bug: #1852201
(cherry picked from commit 04f8e46659a4b29db3aec9832c608b350c3a63cc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/696463/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,25cc53e43ef2ae4e862f96cdb867baae269bb512,bug/1852201-stable/train," # NEC Storage cannot create an LV with LUN 0. # Create a CV with LUN 0 to use the other LUN for an LV. ldset = validate_ldset_exist(ldsets, connector)",,25,0
openstack%2Fkolla~master~Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6,openstack/kolla,master,Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6,Introduce macro to remove Py3 only plugins on CentOS 7,MERGED,2019-12-05 11:41:57.000000000,2019-12-05 18:53:41.000000000,2019-12-05 18:52:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-12-05 11:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74bd15fcede07e19fdb9e258132dc245679b0e5c', 'message': ""Introduce macro to remove Py3 only plugins on CentOS 7\n\nAs CentOS 7 is Python 2 we need a way to remove plugins used in\nOpenStack components once they switch to be Python 3 only.\n\n'remove_plugins_because_centos7_is_py2' macro does exactly that.\n\nChange-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6\n""}, {'number': 2, 'created': '2019-12-05 12:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/248ce9c0e64558c11ff38c3bc69769fa10c5ed40', 'message': ""Introduce macro to remove Py3 only plugins on CentOS 7\n\nAs CentOS 7 is Python 2 we need a way to remove plugins used in\nOpenStack components once they switch to be Python 3 only.\n\n'remove_py3_only_plugins_for_py2' macro does exactly that.\n\nThis change also disables networking-bgpvpn for python 2.\n\nChange-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6\nRelated: blueprint drop-py2-support\n""}, {'number': 3, 'created': '2019-12-05 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3f6ec53e70264aa67b54dea8cda7740f5b3bc65', 'message': ""Introduce macro to remove Py3 only plugins on CentOS 7\n\nAs CentOS 7 is Python 2 we need a way to remove plugins used in\nOpenStack components once they switch to be Python 3 only.\n\n'remove_py3_only_plugins_for_py2' macro does exactly that.\n\nThis change also disables networking-bgpvpn for python 2.\n\nChange-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6\nRelated: blueprint drop-py2-support\n""}, {'number': 4, 'created': '2019-12-05 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74f43e90a0c38fa0fda30d7cd02f36b2ebfbb7e4', 'message': ""Introduce macro to remove Py3 only plugins on CentOS 7\n\nAs CentOS 7 is Python 2 we need a way to remove plugins used in\nOpenStack components once they switch to be Python 3 only.\n\n'remove_py3_only_plugins_for_py2' macro does exactly that.\n\nThis change also disables networking-bgpvpn for python 2.\n\nChange-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6\nRelated: blueprint drop-py2-support\n""}, {'number': 5, 'created': '2019-12-05 13:48:15.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'docker/macros.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/df987c9d3fca40e0a7529e48a3626dfdd58e2168', 'message': ""Introduce macro to remove Py3 only plugins on CentOS 7\n\nAs CentOS 7 is Python 2 we need a way to remove plugins used in\nOpenStack components once they switch to be Python 3 only.\n\n'remove_py3_only_plugins_for_py2' macro does exactly that.\n\nThis change also disables networking-bgpvpn for python 2.\n\nChange-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6\nRelated: blueprint drop-py2-support\n""}]",4,697449,df987c9d3fca40e0a7529e48a3626dfdd58e2168,21,6,5,24072,,,0,"Introduce macro to remove Py3 only plugins on CentOS 7

As CentOS 7 is Python 2 we need a way to remove plugins used in
OpenStack components once they switch to be Python 3 only.

'remove_py3_only_plugins_for_py2' macro does exactly that.

This change also disables networking-bgpvpn for python 2.

Change-Id: Ib90aabc485f1c831d3d41cc0f70052f8fffc3fe6
Related: blueprint drop-py2-support
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/697449/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'docker/macros.j2']",3,74bd15fcede07e19fdb9e258132dc245679b0e5c,bp/drop-py2-support, {% macro remove_plugins_because_centos7_is_py2(plugins_to_remove) -%} {% if base_package_type == 'rpm' and base_distro_tag.startswith('7') %} {% for plugin in plugins_to_remove %} && rm -rf /plugins/{{ plugin }}* \ {% endfor %} {% endif %} {%- endmacro %},,12,4
openstack%2Fopenstack-ansible-os_nova~stable%2Ftrain~I9656f9cf65f371a9640c387b5e5d815bf2062a5f,openstack/openstack-ansible-os_nova,stable/train,I9656f9cf65f371a9640c387b5e5d815bf2062a5f,Readd some distro packages,MERGED,2019-12-03 19:32:41.000000000,2019-12-05 18:44:43.000000000,2019-12-05 18:43:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-03 19:32:41.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4234db21d0693c87d139d6b8ed853002c144ca0a', 'message': 'Readd some distro packages\n\nReturn required CentOS packages to build corret venv and\nto have virsh CLI tool installed.\n\nChange-Id: I9656f9cf65f371a9640c387b5e5d815bf2062a5f\n(cherry picked from commit 253a2ff610ccdd09952557747bbe5354676ccbec)\n'}]",0,697167,4234db21d0693c87d139d6b8ed853002c144ca0a,8,4,1,25023,,,0,"Readd some distro packages

Return required CentOS packages to build corret venv and
to have virsh CLI tool installed.

Change-Id: I9656f9cf65f371a9640c387b5e5d815bf2062a5f
(cherry picked from commit 253a2ff610ccdd09952557747bbe5354676ccbec)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/697167/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,4234db21d0693c87d139d6b8ed853002c144ca0a,osa-train-stable/train, - systemd-devel - libvirt-client,,2,0
openstack%2Fironic-lib~master~Iee637a46e134341d7cd28c1e16ee78a31c90b3f8,openstack/ironic-lib,master,Iee637a46e134341d7cd28c1e16ee78a31c90b3f8,mdns: default to listing on both V4 and V6 interfaces,MERGED,2019-12-05 13:22:12.000000000,2019-12-05 18:04:08.000000000,2019-12-05 18:02:03.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-05 13:22:12.000000000', 'files': ['ironic_lib/mdns.py', 'ironic_lib/tests/test_mdns.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6285f799304ab6f8076f7cf8717a08fdc9a42d0f', 'message': 'mdns: default to listing on both V4 and V6 interfaces\n\nCurrently when [mdns]interfaces is not provided, we default to V4.\n\nChange-Id: Iee637a46e134341d7cd28c1e16ee78a31c90b3f8\n'}]",0,697467,6285f799304ab6f8076f7cf8717a08fdc9a42d0f,8,3,1,10239,,,0,"mdns: default to listing on both V4 and V6 interfaces

Currently when [mdns]interfaces is not provided, we default to V4.

Change-Id: Iee637a46e134341d7cd28c1e16ee78a31c90b3f8
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/67/697467/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/mdns.py', 'ironic_lib/tests/test_mdns.py']",2,6285f799304ab6f8076f7cf8717a08fdc9a42d0f,mdns-v6," interfaces=zeroconf.InterfaceChoice.All, ip_version=zeroconf.IPVersion.All) mock_zc.assert_called_once_with(interfaces=['10.0.0.1', '192.168.1.1'], ip_version=None)"," interfaces=zeroconf.InterfaceChoice.All) mock_zc.assert_called_once_with(interfaces=['10.0.0.1', '192.168.1.1'])",8,3
openstack%2Fopenstack-ansible-openstack_hosts~master~I5cc9a7b406d3c84eef9cf796ddd85758b262ad61,openstack/openstack-ansible-openstack_hosts,master,I5cc9a7b406d3c84eef9cf796ddd85758b262ad61,Use legacy ebtables on Debian,MERGED,2019-12-02 15:41:16.000000000,2019-12-05 18:02:38.000000000,2019-12-05 17:22:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-02 15:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a2bf1cff656a8ba2f83bdbe35cfc21088caf9097', 'message': 'Use legacy ebtables on Debian\n\nSee https://ask.openstack.org/en/question/120060/neutron-failing-to-deploy-with-policy-drop-not-allowed-for-user-defined-chains/\n\nChange-Id: I5cc9a7b406d3c84eef9cf796ddd85758b262ad61\n'}, {'number': 2, 'created': '2019-12-02 15:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/dc2f6aba4b7fe8445f8d2b087648ef47f589047b', 'message': 'Use legacy ebtables on Debian\n\nSee https://ask.openstack.org/en/question/120060/neutron-failing-to-deploy-with-policy-drop-not-allowed-for-user-defined-chains/\n\nChange-Id: I5cc9a7b406d3c84eef9cf796ddd85758b262ad61\n'}, {'number': 3, 'created': '2019-12-02 15:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/46c4e223a3121f5543a4c59cd0b6e02e0f91f15d', 'message': 'Use legacy ebtables on Debian\n\nSee https://ask.openstack.org/en/question/120060/neutron-failing-to-deploy-with-policy-drop-not-allowed-for-user-defined-chains/\n\nChange-Id: I5cc9a7b406d3c84eef9cf796ddd85758b262ad61\n'}, {'number': 4, 'created': '2019-12-02 16:27:06.000000000', 'files': ['tasks/configure_metal_hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/db0cb02f3be629d3c22ec4646263fd8dab3ebfc7', 'message': 'Use legacy ebtables on Debian\n\nSee https://ask.openstack.org/en/question/120060/neutron-failing-to-deploy-with-policy-drop-not-allowed-for-user-defined-chains/\n\nChange-Id: I5cc9a7b406d3c84eef9cf796ddd85758b262ad61\n'}]",0,696903,db0cb02f3be629d3c22ec4646263fd8dab3ebfc7,13,3,4,25023,,,0,"Use legacy ebtables on Debian

See https://ask.openstack.org/en/question/120060/neutron-failing-to-deploy-with-policy-drop-not-allowed-for-user-defined-chains/

Change-Id: I5cc9a7b406d3c84eef9cf796ddd85758b262ad61
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/03/696903/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_apt.yml'],1,a2bf1cff656a8ba2f83bdbe35cfc21088caf9097,osa-train, - name: Configure legacy alternative for ebtables on Debian alternatives: name: ebtables path: /usr/sbin/ebtables-legacy when: - ansible_distribution == 'Debian',,7,0
openstack%2Fplacement~master~Ib86ae6444e4c55fc37fc5afe8325c1e44f6ef385,openstack/placement,master,Ib86ae6444e4c55fc37fc5afe8325c1e44f6ef385,DNM: Where have all the global_request_id gone?,ABANDONED,2019-07-26 14:05:38.000000000,2019-12-05 17:56:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-26 14:05:38.000000000', 'files': ['placement/requestlog.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/f3ebd5a1dc464c1621127a65c0d992f2fdc63e42', 'message': ""DNM: Where have all the global_request_id gone?\n\nTest patch to track headers through this oddity [1]. I think the\nplacement_req_id we get out should be the same as the global_request_id\nwe sent in, but it ain't so. Or maybe we're not setting the\nglobal_request_id properly at all.\n\nA similar debuggy Nova change will Depends-On this one.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/nova/scheduler/client/report.py#L547-L556\n\nChange-Id: Ib86ae6444e4c55fc37fc5afe8325c1e44f6ef385\n""}]",0,672984,f3ebd5a1dc464c1621127a65c0d992f2fdc63e42,6,1,1,14070,,,0,"DNM: Where have all the global_request_id gone?

Test patch to track headers through this oddity [1]. I think the
placement_req_id we get out should be the same as the global_request_id
we sent in, but it ain't so. Or maybe we're not setting the
global_request_id properly at all.

A similar debuggy Nova change will Depends-On this one.

[1] https://opendev.org/openstack/nova/src/branch/master/nova/scheduler/client/report.py#L547-L556

Change-Id: Ib86ae6444e4c55fc37fc5afe8325c1e44f6ef385
",git fetch https://review.opendev.org/openstack/placement refs/changes/84/672984/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/requestlog.py'],1,f3ebd5a1dc464c1621127a65c0d992f2fdc63e42,where-are-you-global_request_id," 'microversion: %(microversion)s headers: %(headers)s') self.write_log(environ, req_uri, status, size, headers) def write_log(self, environ, req_uri, status, size, headers): 'headers': headers,"," 'microversion: %(microversion)s') self.write_log(environ, req_uri, status, size) def write_log(self, environ, req_uri, status, size):",4,3
openstack%2Fplacement~master~I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d,openstack/placement,master,I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d,WIP: Microversion 1.36: root_member_of,ABANDONED,2019-06-20 17:26:54.000000000,2019-12-05 17:56:26.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 17:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a669d5912db349573f56f6005d02aa2a20da371e', 'message': 'WIP: Microversion 1.36: root_member_of\n\nChange-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d\n'}, {'number': 2, 'created': '2019-06-20 21:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2348fe11a23f1ad2e14c5e1ff2bbc142a3f84bb4', 'message': 'WIP: Microversion 1.36: root_member_of\n\nChange-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d\n'}, {'number': 3, 'created': '2019-06-20 22:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3d77eba7edb8b811f86d8987b3674f9996b94d64', 'message': 'WIP: Microversion 1.36: root_member_of\n\nChange-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d\n'}, {'number': 4, 'created': '2019-06-20 22:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1e1fff3cd1af3302f709885785472b24fa38a2a5', 'message': 'WIP: Microversion 1.36: root_member_of\n\nChange-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d\n'}, {'number': 5, 'created': '2019-06-25 13:34:21.000000000', 'files': ['placement/lib.py', 'placement/objects/research_context.py', 'placement/errors.py', 'placement/util.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/42475799b9f883a5e4417a335a7f5ebc03a478e3', 'message': 'WIP: Microversion 1.36: root_member_of\n\nChange-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d\n'}]",8,666653,42475799b9f883a5e4417a335a7f5ebc03a478e3,11,3,5,14070,,,0,"WIP: Microversion 1.36: root_member_of

Change-Id: I4ebbe6607348c0bdc3a43a28f9825d7b46ae827d
",git fetch https://review.opendev.org/openstack/placement refs/changes/53/666653/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/errors.py', 'placement/objects/research_context.py', 'placement/util.py']",4,a669d5912db349573f56f6005d02aa2a20da371e,story/2005575-33753,"def normalize_member_of_qs_params(req, prefix='', suffix=''): if prefix and not want_version.matches((1, 36)): 'root_member_of is not supported in the specified microversion', comment=errors.NOT_SUPPORTED_AT_MICROVERSION) mokey = prefix + 'member_of' + suffix if not multi_member_of and len(req.GET.getall(mokey)) > 1: raise webob.exc.HTTPBadRequest( 'Multiple %s parameters are not supported' % mokey) for value in req.GET.getall(mokey): 'Forbidden %s parameters are not supported in the ' 'specified microversion' % mokey)","def normalize_member_of_qs_params(req, suffix=''): if not multi_member_of and len(req.GET.getall('member_of' + suffix)) > 1: 'Multiple member_of%s parameters are not supported' % suffix) for value in req.GET.getall('member_of' + suffix): 'Forbidden member_of%s parameters are not supported ' 'in the specified microversion' % suffix)",79,42
openstack%2Fplacement~master~I726ed72cd8b5974d86cd35a36b24948a56227e5b,openstack/placement,master,I726ed72cd8b5974d86cd35a36b24948a56227e5b,DNM: PoC of getting subtree in /resource_providers,ABANDONED,2019-02-11 06:37:37.000000000,2019-12-05 17:56:21.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-11 06:37:37.000000000', 'files': ['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/d9b4d7efb1e7954800db2f5b936fd271d058ad45', 'message': ""DNM: PoC of getting subtree in /resource_providers\n\nImplementing `in_tree` queryparam in `GET /allocation_candidates`,\nI looked into a question whether we should include siblings if a\nnon-root rp is specified. My answer is yes, let's include them because\notherwise it is not consistent with the existing `in_tree` behavior in\n`GET /resource_providers` and the inconsistency depite of the same\nqueryparam name could confuse users.\n\nIf we want to exclude the siblings and limit to only descendents of\nthe specified rp, that should be something different from `in_tree`,\n- let's say `under_subtree` - and it should be implemented to the\n`GET /resource_providers` precedently to the\n`GET /allocation_candidates`.\n\nThis patch is a PoC for the under_subtree feature in the DB layer.\n-W this since there is no use case or spec for this.\n\nChange-Id: I726ed72cd8b5974d86cd35a36b24948a56227e5b\n""}]",4,636092,d9b4d7efb1e7954800db2f5b936fd271d058ad45,4,3,1,25625,,,0,"DNM: PoC of getting subtree in /resource_providers

Implementing `in_tree` queryparam in `GET /allocation_candidates`,
I looked into a question whether we should include siblings if a
non-root rp is specified. My answer is yes, let's include them because
otherwise it is not consistent with the existing `in_tree` behavior in
`GET /resource_providers` and the inconsistency depite of the same
queryparam name could confuse users.

If we want to exclude the siblings and limit to only descendents of
the specified rp, that should be something different from `in_tree`,
- let's say `under_subtree` - and it should be implemented to the
`GET /resource_providers` precedently to the
`GET /allocation_candidates`.

This patch is a PoC for the under_subtree feature in the DB layer.
-W this since there is no use case or spec for this.

Change-Id: I726ed72cd8b5974d86cd35a36b24948a56227e5b
",git fetch https://review.opendev.org/openstack/placement refs/changes/92/636092/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/db/test_base.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/objects/resource_provider.py']",3,d9b4d7efb1e7954800db2f5b936fd271d058ad45,under-tree,"@db_api.placement_context_manager.reader def _get_resource_providers_subtree(ctx, subtree_id): """"""Returns a set of resource provider IDs (internal IDs, not UUIDs) that are under the subtree, at top of which is a resource provider with the given id as subtree_id. """""" # WITH RECURSIVE sub_tree(id, parent_provider_id) AS # ( # SELECT rpt.id AS id, rpt.parent_provider_id AS parent_provider_id # FROM resource_providers AS rpt # WHERE rpt.id = $subtree_id UNION ALL # SELECT rp_alias.id AS rp_alias_id, rp_alias.parent_provider_id # AS rp_alias_parent_provider_id # FROM resource_providers AS rp_alias, sub_tree AS subtree_alias # WHERE rp_alias.parent_provider_id = subtree_alias.id # ) # SELECT sub_tree.id FROM sub_tree rpt = sa.alias(_RP_TBL, name='rpt') subtree = ctx.session.query(rpt.c.id, rpt.c.parent_provider_id).filter( rpt.c.id == subtree_id).cte(name='sub_tree', recursive=True) subtree_alias = sa.alias(subtree, name='subtree_alias') rp_alias = sa.alias(_RP_TBL, name='rp_alias') subtree_rps = subtree.union_all(ctx.session.query( rp_alias.c.id, rp_alias.c.parent_provider_id).filter( rp_alias.c.parent_provider_id == subtree_alias.c.id)) sel = sa.select([subtree_rps.c.id]) return set(r[0] for r in ctx.session.execute(sel)) if 'under_subtree' in filters: # The 'under_tree' parameter is the UUID of a resource provider # that the caller wants to limit the returned providers to only # those under its ""provider tree"". subtree_uuid = filters.pop('under_subtree') subtree_ids = _provider_ids_from_uuid(context, subtree_uuid) if subtree_ids is None: # List operations should simply return an empty list when a # non-existing resource provider UUID is given. return [] subtree_id = subtree_ids.id subtree_rps = _get_resource_providers_subtree(context, subtree_id) query = query.where(rp.c.id.in_(subtree_rps))",,97,0
openstack%2Ftripleo-common~master~I8770ee8515513c15a28f07587578222952e1e607,openstack/tripleo-common,master,I8770ee8515513c15a28f07587578222952e1e607,Update template overrides for rabbitmq,ABANDONED,2019-11-26 20:43:53.000000000,2019-12-05 17:54:46.000000000,,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-26 20:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3458c75825948797b937ad4c4195c0ea1615d54d', 'message': 'Update template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides. This\nadds the new pin, which will be cleaned up on a follow on review.\n\nChange-Id: I8770ee8515513c15a28f07587578222952e1e607\nCloses-Bug: #1853801\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-11-27 13:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d296ead07ea905f5c888fc0d3fefe14c5548a30', 'message': 'Update template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides. This\nadds the new pin, which will be cleaned up on a follow on review.\n\nDepends-On: https://review.opendev.org/#/c/695356/\n\nChange-Id: I8770ee8515513c15a28f07587578222952e1e607\nCloses-Bug: #1853801\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-11-27 20:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71ae090a5910427869316ebaf363b96511315a6f', 'message': 'Update template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides. This\nadds the new pin, which will be cleaned up on a follow on review.\n\nNeeded-By: https://review.opendev.org/#/c/695356/\n\nChange-Id: I8770ee8515513c15a28f07587578222952e1e607\nCloses-Bug: #1853801\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-11-29 08:18:51.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f88416e195c1c14b5a14165a564e84e2160e09f2', 'message': 'Update template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides. This\nadds the new pin, which will be cleaned up on a follow on review.\n\nChange-Id: I8770ee8515513c15a28f07587578222952e1e607\nCloses-Bug: #1853801\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,696182,f88416e195c1c14b5a14165a564e84e2160e09f2,44,8,4,7353,,,0,"Update template overrides for rabbitmq

Kolla will start pinning rabbitmq version to 3.7.* related with
LP#1853167 so need to update tripleo template overrides. This
adds the new pin, which will be cleaned up on a follow on review.

Change-Id: I8770ee8515513c15a28f07587578222952e1e607
Closes-Bug: #1853801
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/696182/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,3458c75825948797b937ad4c4195c0ea1615d54d,bug/1853167,"{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10', 'rabbitmq-server-3.7.*'] %}",{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10'] %},1,1
openstack%2Freleases~master~If6ffc2188186c9d7aae1a8dbdc66c7c948698286,openstack/releases,master,If6ffc2188186c9d7aae1a8dbdc66c7c948698286,Release sushy-tools 0.8.0,MERGED,2019-12-04 14:00:54.000000000,2019-12-05 17:41:58.000000000,2019-12-05 17:41:58.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-04 14:00:54.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f007dfb224584dd9ce988229d9be5daab612561c', 'message': 'Release sushy-tools 0.8.0\n\nChange-Id: If6ffc2188186c9d7aae1a8dbdc66c7c948698286\n'}]",0,697290,f007dfb224584dd9ce988229d9be5daab612561c,9,5,1,14826,,,0,"Release sushy-tools 0.8.0

Change-Id: If6ffc2188186c9d7aae1a8dbdc66c7c948698286
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/697290/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,f007dfb224584dd9ce988229d9be5daab612561c,sushy-release, - version: 0.8.0 projects: - repo: openstack/sushy-tools hash: 907c3ad6d50ef7fc11bfb7f324c91f30016ba2ab,,4,0
openstack%2Ftripleo-ansible~master~I75b1112089a66cf5db0a2fd651bb24428cf861fd,openstack/tripleo-ansible,master,I75b1112089a66cf5db0a2fd651bb24428cf861fd,"tripleo-hieradata: re-enable ""service_names""",MERGED,2019-12-04 16:54:14.000000000,2019-12-05 17:40:43.000000000,2019-12-05 17:40:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 16:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a97fa8575e072f5f47b6fba07a99def3688662d3', 'message': 'tripleo-hieradata: re-enable ""service_names""\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nChange-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n'}, {'number': 2, 'created': '2019-12-04 18:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8e3fc1c3b8af48821f32b26712a8b5a03a1f791', 'message': 'tripleo-hieradata: re-enable ""service_names""\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nChange-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n'}, {'number': 3, 'created': '2019-12-04 19:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ce83a883290fae017bc1de53fb274f6e74493ae', 'message': 'tripleo-hieradata: re-enable ""service_names""\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nChange-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n'}, {'number': 4, 'created': '2019-12-04 22:09:57.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/114c3c97f400fb99591484e65ed198cbd7ffe584', 'message': 'tripleo-hieradata: re-enable ""service_names""\n\n""service_names"" was a useful hieradata which listed the services enabled\nfor a specific roles vs ""enabled_services"" which are for all the\nservices enabled in the cloud, no matter the role.\n\nThis is re-added for backward compatibility.\n\nChange-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd\nRelated-Bug: #1855138\n'}]",1,697320,114c3c97f400fb99591484e65ed198cbd7ffe584,19,5,4,3153,,,0,"tripleo-hieradata: re-enable ""service_names""

""service_names"" was a useful hieradata which listed the services enabled
for a specific roles vs ""enabled_services"" which are for all the
services enabled in the cloud, no matter the role.

This is re-added for backward compatibility.

Change-Id: I75b1112089a66cf5db0a2fd651bb24428cf861fd
Related-Bug: #1855138
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/697320/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/templates/service_names.j2', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/playbook.yml', 'tripleo_ansible/roles/tripleo-hieradata/molecule/hieradata_vars/tests/test_hieradata_vars.py']",4,a97fa8575e072f5f47b6fba07a99def3688662d3,bug/1855138," ""service_names"",",,56,0
openstack%2Freleases~master~Id1ff2c2d035b7c06881c81464e3de20e361abcb5,openstack/releases,master,Id1ff2c2d035b7c06881c81464e3de20e361abcb5,Release OpenStack-Ansible Rocky,MERGED,2019-12-04 11:28:16.000000000,2019-12-05 17:39:12.000000000,2019-12-05 17:39:12.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 11:28:16.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8922ce71949e4709385ed9988d3de19276ed10ac', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: Id1ff2c2d035b7c06881c81464e3de20e361abcb5\n'}]",0,697272,8922ce71949e4709385ed9988d3de19276ed10ac,7,3,1,28619,,,0,"Release OpenStack-Ansible Rocky

Change-Id: Id1ff2c2d035b7c06881c81464e3de20e361abcb5
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/697272/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,8922ce71949e4709385ed9988d3de19276ed10ac,release_osa, - version: 18.1.15 projects: - repo: openstack/openstack-ansible hash: 38255f4e94253c42b0cab2f0467462c343a6d0a3,,4,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~I273aaca107d33a4ce952b73a58b43ba093444ff3,openstack/tripleo-upgrade,stable/queens,I273aaca107d33a4ce952b73a58b43ba093444ff3,"Revert ""[ci-ffu]Add an option to support puddle configuration in undercloud ffu""",MERGED,2019-12-05 14:16:44.000000000,2019-12-05 17:36:32.000000000,2019-12-05 17:36:32.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 14:16:44.000000000', 'files': ['infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f56d7e3477d25ebdd07fab7ec3c6aa3ea2727169', 'message': 'Revert ""[ci-ffu]Add an option to support puddle configuration in undercloud ffu""\n\nThis broke FFWD tests, if we will merge next iteration we will\nneed proof of job running with this.\n\nThis reverts commit 55a5830f09dc748e5eee9d14af3d59f724a9cbbe.\n\nChange-Id: I273aaca107d33a4ce952b73a58b43ba093444ff3\n'}]",0,697477,f56d7e3477d25ebdd07fab7ec3c6aa3ea2727169,8,4,1,11166,,,0,"Revert ""[ci-ffu]Add an option to support puddle configuration in undercloud ffu""

This broke FFWD tests, if we will merge next iteration we will
need proof of job running with this.

This reverts commit 55a5830f09dc748e5eee9d14af3d59f724a9cbbe.

Change-Id: I273aaca107d33a4ce952b73a58b43ba093444ff3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/77/697477/1 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",4,f56d7e3477d25ebdd07fab7ec3c6aa3ea2727169,ffwd," loop: ""{{ ffu_undercloud_releases }}"""," loop: - ""{{ ffu_undercloud_releases }}"" - ""{{ ffu_puddle_releases }}""",9,17
openstack%2Ftripleo-heat-templates~master~Ifdebecc8c7975b6f5cfefb14b0133be247b7abf0,openstack/tripleo-heat-templates,master,Ifdebecc8c7975b6f5cfefb14b0133be247b7abf0,Remove unnecessary slash volume maps,MERGED,2019-12-04 06:47:30.000000000,2019-12-05 17:36:29.000000000,2019-12-05 17:36:28.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-12-04 06:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de1487edf7739e7ada4857643e170d056023a092', 'message': 'Remove unnecessary slash in rabbimq volumes map\n\nChange-Id: Ifdebecc8c7975b6f5cfefb14b0133be247b7abf0\n'}, {'number': 2, 'created': '2019-12-04 18:34:44.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/logging/stdout/haproxy.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/016f7c600242e1a1c7930eb41b762aed3a98701f', 'message': 'Remove unnecessary slash volume maps\n\nWhen podman parses such volume map it removes the slash\nautomatically and shows in inspection volumes w/o slash.\nWhen comparing configurations it turns to be a difference and\nit breaks idempotency of containers, causing them to be recreated.\n\nChange-Id: Ifdebecc8c7975b6f5cfefb14b0133be247b7abf0\n'}]",0,697238,016f7c600242e1a1c7930eb41b762aed3a98701f,17,6,2,10969,,,0,"Remove unnecessary slash volume maps

When podman parses such volume map it removes the slash
automatically and shows in inspection volumes w/o slash.
When comparing configurations it turns to be a difference and
it breaks idempotency of containers, causing them to be recreated.

Change-Id: Ifdebecc8c7975b6f5cfefb14b0133be247b7abf0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/697238/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",6,de1487edf7739e7ada4857643e170d056023a092,fixslash, - /var/lib/config-data/puppet-generated/rabbitmq:/var/lib/kolla/config_files/src:ro - - /var/lib/config-data/puppet-generated/rabbitmq:/var/lib/kolla/config_files/src:ro, - /var/lib/config-data/puppet-generated/rabbitmq/:/var/lib/kolla/config_files/src:ro - - /var/lib/config-data/puppet-generated/rabbitmq/:/var/lib/kolla/config_files/src:ro,12,12
openstack%2Fneutron-dynamic-routing~master~Ifd48004e26beedd92231ee730aa897ceb2945d84,openstack/neutron-dynamic-routing,master,Ifd48004e26beedd92231ee730aa897ceb2945d84,Remove tempest path from setup.cfg & tox.ini,MERGED,2019-12-03 10:33:19.000000000,2019-12-05 17:35:29.000000000,2019-12-05 17:33:32.000000000,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13438}, {'_account_id': 13995}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 10:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d712f2d66462b670389a76488b567fbdfeabf7d3', 'message': 'Remove tempest path from setup.cfg & tox.ini\n\nCommit I94a443c92fe2317ba2591ae3a227ec8df82ec294 removed the tempest\ntests from thi project.\nThis commit remove some leftover pathes to the tempest tests.\n\nChange-Id: Ifd48004e26beedd92231ee730aa897ceb2945d84\n'}, {'number': 2, 'created': '2019-12-04 06:27:20.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0c98a88de7021a6a41d22063b1f34acca35cdeea', 'message': 'Remove tempest path from setup.cfg & tox.ini\n\nCommit I94a443c92fe2317ba2591ae3a227ec8df82ec294 removed the tempest\ntests from this project.\nThis commit remove some leftover pathes to the tempest tests.\n\nChange-Id: Ifd48004e26beedd92231ee730aa897ceb2945d84\n'}]",0,697052,0c98a88de7021a6a41d22063b1f34acca35cdeea,14,8,2,20363,,,0,"Remove tempest path from setup.cfg & tox.ini

Commit I94a443c92fe2317ba2591ae3a227ec8df82ec294 removed the tempest
tests from this project.
This commit remove some leftover pathes to the tempest tests.

Change-Id: Ifd48004e26beedd92231ee730aa897ceb2945d84
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/52/697052/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,d712f2d66462b670389a76488b567fbdfeabf7d3,,,[testenv:api] basepython = python3 sitepackages=True setenv = OS_TEST_PATH=./neutron_dynamic_routing/tests/tempest/api/ OS_TESTR_CONCURRENCY=1 TEMPEST_CONFIG_DIR={env:TEMPEST_CONFIG_DIR:/opt/stack/tempest/etc} commands = stestr run {posargs} stestr slowest ,0,13
openstack%2Freleases~master~I879fdb3162c4fb1f1457d78f929bc8e6e71f6dbe,openstack/releases,master,I879fdb3162c4fb1f1457d78f929bc8e6e71f6dbe,Release OpenStack-Ansible Stein,MERGED,2019-12-04 11:30:43.000000000,2019-12-05 17:34:58.000000000,2019-12-05 17:34:58.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 11:30:43.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/679097c6260037f935fdab2888532a8ad4bdf540', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: I879fdb3162c4fb1f1457d78f929bc8e6e71f6dbe\n'}]",0,697273,679097c6260037f935fdab2888532a8ad4bdf540,7,3,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: I879fdb3162c4fb1f1457d78f929bc8e6e71f6dbe
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/697273/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,679097c6260037f935fdab2888532a8ad4bdf540,release_osa, - version: 19.0.8 projects: - repo: openstack/openstack-ansible hash: 5584e18c5f4b5c957678a331f988ce6f9ce4fe00,,4,0
openstack%2Freleases~master~If59272ec78ee049aa0e56bc563961a1b7f0260fe,openstack/releases,master,If59272ec78ee049aa0e56bc563961a1b7f0260fe,RC3 OpenStack-Ansible Train,MERGED,2019-12-04 11:35:51.000000000,2019-12-05 17:32:57.000000000,2019-12-05 17:32:57.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 11:35:51.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/abd6f05a5735328da7c747ddd56e7ae82d94e6a1', 'message': 'RC3 OpenStack-Ansible Train\n\nChange-Id: If59272ec78ee049aa0e56bc563961a1b7f0260fe\n'}]",0,697274,abd6f05a5735328da7c747ddd56e7ae82d94e6a1,7,3,1,28619,,,0,"RC3 OpenStack-Ansible Train

Change-Id: If59272ec78ee049aa0e56bc563961a1b7f0260fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/697274/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,abd6f05a5735328da7c747ddd56e7ae82d94e6a1,release_osa, - version: 20.0.0.0rc3 projects: - repo: openstack/openstack-ansible hash: 1eea5f8dae8c098970717977aaf8d8736ecf7e98,,4,0
openstack%2Freleases~master~Idcad8ff2daf63d601aebbeeb087e5ac10ae73c2a,openstack/releases,master,Idcad8ff2daf63d601aebbeeb087e5ac10ae73c2a,Oslo releases for 2019-12-02,MERGED,2019-12-02 18:22:35.000000000,2019-12-05 17:32:15.000000000,2019-12-05 17:32:15.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-12-02 18:22:35.000000000', 'files': ['deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0893045065e7758ffee2d7b415703efa482fd0d2', 'message': 'Oslo releases for 2019-12-02\n\nChange-Id: Idcad8ff2daf63d601aebbeeb087e5ac10ae73c2a\n'}]",0,696942,0893045065e7758ffee2d7b415703efa482fd0d2,8,4,1,6928,,,0,"Oslo releases for 2019-12-02

Change-Id: Idcad8ff2daf63d601aebbeeb087e5ac10ae73c2a
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/696942/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/oslo.utils.yaml']",2,0893045065e7758ffee2d7b415703efa482fd0d2,oslo-master, - version: 3.42.1 projects: - repo: openstack/oslo.utils hash: 577da7f00b36f23a95c0fa9beb6c4c702ad82f92,,9,0
openstack%2Fsushy-oem-idrac~master~I2a233e056de935d235e8261cdcee07a13f877ac8,openstack/sushy-oem-idrac,master,I2a233e056de935d235e8261cdcee07a13f877ac8,Summon Zuul,MERGED,2019-12-05 17:05:50.000000000,2019-12-05 17:25:06.000000000,2019-12-05 17:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-12-05 17:05:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/a7833b7baa6f8aeeffce1dcd2decb99814cac1fe', 'message': 'Summon Zuul\n\nChange-Id: I2a233e056de935d235e8261cdcee07a13f877ac8\n'}]",0,697527,a7833b7baa6f8aeeffce1dcd2decb99814cac1fe,7,2,1,26340,,,0,"Summon Zuul

Change-Id: I2a233e056de935d235e8261cdcee07a13f877ac8
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/27/697527/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a7833b7baa6f8aeeffce1dcd2decb99814cac1fe,,- project: templates: - noop-jobs ,,3,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I19248324604e079336c896b763a0b97ec6aad3a2,openstack/openstack-ansible,stable/train,I19248324604e079336c896b763a0b97ec6aad3a2,Removes package cache references from yum config,MERGED,2019-12-04 14:32:35.000000000,2019-12-05 17:09:26.000000000,2019-12-05 17:05:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27941}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-12-04 14:32:35.000000000', 'files': ['playbooks/common-tasks/package-cache-proxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/428b3df345a646c79212162b8ff59d1ea1213e88', 'message': 'Removes package cache references from yum config\n\nRemoves references to the now-deprecated package cache repo from\nyum.conf and the Percona repo in yum.repos.d\n\nChange-Id: I19248324604e079336c896b763a0b97ec6aad3a2\nCloses-Bug: #1849219\n(cherry picked from commit ed625067b3e50c98ff69d2b01679fe50d81b3f9d)\n'}]",0,697295,428b3df345a646c79212162b8ff59d1ea1213e88,9,4,1,28619,,,0,"Removes package cache references from yum config

Removes references to the now-deprecated package cache repo from
yum.conf and the Percona repo in yum.repos.d

Change-Id: I19248324604e079336c896b763a0b97ec6aad3a2
Closes-Bug: #1849219
(cherry picked from commit ed625067b3e50c98ff69d2b01679fe50d81b3f9d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/697295/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/package-cache-proxy.yml'],1,428b3df345a646c79212162b8ff59d1ea1213e88,osa-train, proxy=http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }}- name: Remove yum package manager proxy in repo definitions shell: | sed -i -e '/proxy = http:\/\/{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }}/d' /etc/yum.repos.d/* when: - ansible_os_family == 'RedHat' tags: - common-proxy ," proxy=""http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }}""",9,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7dbad26cef9c1cf9c68610d6d06e0f212241cf75,openstack/tripleo-heat-templates,stable/train,I7dbad26cef9c1cf9c68610d6d06e0f212241cf75,Disable ceph dashboard to fix upstream ci,MERGED,2019-10-22 15:31:03.000000000,2019-12-05 17:03:58.000000000,2019-10-22 20:54:53.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-22 15:31:03.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acd19fcd33dae7e78e920657e93e6c8627075904', 'message': 'Disable ceph dashboard to fix upstream ci\n\nThis review just disable ceph-dashboard on scenario001 since\nthe last promoted ceph-ansible contains a task with a command\nthat seems not provided yet by the ceph container current build.\nThe patch can be reverted after a new ceph container tag will\nbe created.\n\nRelated-Bug: #1849274\nChange-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75\n(cherry picked from commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1)\n'}]",0,690108,acd19fcd33dae7e78e920657e93e6c8627075904,12,7,1,25402,,,0,"Disable ceph dashboard to fix upstream ci

This review just disable ceph-dashboard on scenario001 since
the last promoted ceph-ansible contains a task with a command
that seems not provided yet by the ceph container current build.
The patch can be reverted after a new ceph container tag will
be created.

Related-Bug: #1849274
Change-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75
(cherry picked from commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/690108/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,acd19fcd33dae7e78e920657e93e6c8627075904,, # disable dashboard until launchpad tripleo/+bug/1849274 CephEnableDashboard: false, CephEnableDashboard: true,2,1
openstack%2Freleases~master~Ifcdc596124ec3e53dae4cde5de54a4199cf7f7b0,openstack/releases,master,Ifcdc596124ec3e53dae4cde5de54a4199cf7f7b0,Update python-tempestconf to 2.4.0,MERGED,2019-12-04 15:33:10.000000000,2019-12-05 17:03:51.000000000,2019-12-05 17:03:51.000000000,"[{'_account_id': 308}, {'_account_id': 8367}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 15:33:10.000000000', 'files': ['deliverables/_independent/python-tempestconf.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4b33a013029bf3b6029cf8fcf7c89809f0267d1', 'message': 'Update python-tempestconf to 2.4.0\n\nMake a new release of python-tempestconf containing\nthe newest changes.\n\nChange-Id: Ifcdc596124ec3e53dae4cde5de54a4199cf7f7b0\n'}]",0,697308,e4b33a013029bf3b6029cf8fcf7c89809f0267d1,11,6,1,22873,,,0,"Update python-tempestconf to 2.4.0

Make a new release of python-tempestconf containing
the newest changes.

Change-Id: Ifcdc596124ec3e53dae4cde5de54a4199cf7f7b0
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/697308/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/python-tempestconf.yaml'],1,e4b33a013029bf3b6029cf8fcf7c89809f0267d1,, - version: 2.4.0 projects: - repo: openstack/python-tempestconf hash: 6a616e5db26a18e9e9d842e3979de2ad3e394219,,4,0
openstack%2Ftripleo-common~master~I583dfcb1e049dbf4728bca9832e5b5f9506b6f99,openstack/tripleo-common,master,I583dfcb1e049dbf4728bca9832e5b5f9506b6f99,Cleanup template overrides for rabbitmq,ABANDONED,2019-11-25 08:03:44.000000000,2019-12-05 17:02:04.000000000,,"[{'_account_id': 7353}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-25 08:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6680fcad81ab7af65b42e418efb64d933cea0115', 'message': 'Update template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 2, 'created': '2019-11-26 20:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c06cf6e245276ae773e5fb8d61f5b750d6d017d9', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 3, 'created': '2019-11-27 10:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f4dc2cc53bf5a859ea1ecd5e3ce95f2e290a1c72', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/695356/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 4, 'created': '2019-11-28 15:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3554d9cf763a94b903b9d1b472526bc8607f099c', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 5, 'created': '2019-11-28 21:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc32758a2ef429cf7064989d4e2048792259c961', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/696182/\nNeeded-By: https://review.opendev.org/#/c/695356/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 6, 'created': '2019-11-29 08:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/624aef600b1a2f7ca7c87f0b044bf7619737299d', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 7, 'created': '2019-12-02 01:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eb549c05f378a7da98d76061a1ef94d525bfea05', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/696182/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}, {'number': 8, 'created': '2019-12-02 01:45:01.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c210a99896919ad9a19eac0f1436bac63c66c5b2', 'message': 'Cleanup template overrides for rabbitmq\n\nKolla will start pinning rabbitmq version to 3.7.* related with\nLP#1853167 so need to update tripleo template overrides.\n\nDepends-On: https://review.opendev.org/#/c/695356/\n\nChange-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99\nCloses-Bug: #1853801\n'}]",2,695847,c210a99896919ad9a19eac0f1436bac63c66c5b2,45,9,8,30523,,,0,"Cleanup template overrides for rabbitmq

Kolla will start pinning rabbitmq version to 3.7.* related with
LP#1853167 so need to update tripleo template overrides.

Depends-On: https://review.opendev.org/#/c/695356/

Change-Id: I583dfcb1e049dbf4728bca9832e5b5f9506b6f99
Closes-Bug: #1853801
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/695847/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,6680fcad81ab7af65b42e418efb64d933cea0115,bug/1853167,{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.*'] %},{% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10'] %},1,1
openstack%2Fopenstack-helm-infra~master~Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2,openstack/openstack-helm-infra,master,Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2,tools: Restore Xenial compatibility in K8s script,ABANDONED,2019-11-25 16:36:29.000000000,2019-12-05 17:01:40.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-11-25 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5877e99d09db54b183470466a963e6e82cfce1b3', 'message': 'tools: Restore Xenial compatibility in K8s script\n\nThe minikube K8s script makes changes to resolv.conf that are not\ncompatible with Ubuntu Xenial. This commit makes those changes\nconditional upon the release name so that the minikube script may be\nexecuted on Xenial and Bionic hosts.\n\nChange-Id: Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 2, 'created': '2019-11-25 22:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3cacd85162ffd574f2a86b54a13a7ea276bc4edb', 'message': 'tools: Restore Xenial compatibility in K8s script\n\nThe minikube K8s script makes changes to resolv.conf that are not\ncompatible with Ubuntu Xenial. This commit makes those changes\nconditional upon the release name so that the minikube script may be\nexecuted on Xenial and Bionic hosts.\n\nChange-Id: Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 3, 'created': '2019-11-25 22:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4edae662c863bdee0703e44e0189c8309cdc204f', 'message': 'tools: Restore Xenial compatibility in K8s script\n\nThe minikube K8s script makes changes to resolv.conf that are not\ncompatible with Ubuntu Xenial. This commit makes those changes\nconditional upon the release name so that the minikube script may be\nexecuted on Xenial and Bionic hosts.\n\nChange-Id: Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}, {'number': 4, 'created': '2019-11-25 22:38:57.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df45fffd3564e34347619d91c680101e8e4269bc', 'message': 'tools: Restore Xenial compatibility in K8s script\n\nThe minikube K8s script makes changes to resolv.conf that are not\ncompatible with Ubuntu Xenial. This commit makes those changes\nconditional upon the release name so that the minikube script may be\nexecuted on Xenial and Bionic hosts.\n\nChange-Id: Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}]",2,695943,df45fffd3564e34347619d91c680101e8e4269bc,9,9,4,28618,,,0,"tools: Restore Xenial compatibility in K8s script

The minikube K8s script makes changes to resolv.conf that are not
compatible with Ubuntu Xenial. This commit makes those changes
conditional upon the release name so that the minikube script may be
executed on Xenial and Bionic hosts.

Change-Id: Ib72933ed052fc6e4557f0d5687118bedb9ec6cd2
Signed-off-by: Drew Walters <andrew.walters@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/695943/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,5877e99d09db54b183470466a963e6e82cfce1b3,,"RELEASE_NAME=$(grep 'CODENAME' /etc/lsb-release | awk -F= '{print $2}') sudo cp /etc/resolv.conf /etc/resolv.conf.backup # Create symbolic link to the resolv.conf file managed by systemd-resolved on # Ubuntu 18.04, as the kubelet.resolv-conf extra-config flag is automatically # executed by the minikube start command, regardless of being passed in here if [[ ""${RELEASE_NAME}"" == ""bionic"" ]]; then sudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf fi"," sudo mv /etc/resolv.conf /etc/resolv.conf.backup # Create symbolic link to the resolv.conf file managed by systemd-resolved, as # the kubelet.resolv-conf extra-config flag is automatically executed by the # minikube start command, regardless of being passed in here sudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.confRELEASE_NAME=$(grep 'CODENAME' /etc/lsb-release | awk -F= '{print $2}')",9,6
openstack%2Ftripleo-heat-templates~master~I7da826200db1b6ac7d2a60cfa2577004d27aee17,openstack/tripleo-heat-templates,master,I7da826200db1b6ac7d2a60cfa2577004d27aee17,Remove unused post update and upgrade tasks,MERGED,2019-11-29 16:10:05.000000000,2019-12-05 16:59:21.000000000,2019-12-05 16:59:21.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-29 16:10:05.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/531327eec91e03c23270424b1bfc263601fb7a24', 'message': 'Remove unused post update and upgrade tasks\n\nThese tasks were incorrectly placed in post update and upgrade steps.\nThey need to be moved to tripleo-ansible.\nSee https://review.opendev.org/#/c/696727/\n\nCloses-Bug: #1836074\nChange-Id: I7da826200db1b6ac7d2a60cfa2577004d27aee17\n'}]",3,696729,531327eec91e03c23270424b1bfc263601fb7a24,11,5,1,6469,,,0,"Remove unused post update and upgrade tasks

These tasks were incorrectly placed in post update and upgrade steps.
They need to be moved to tripleo-ansible.
See https://review.opendev.org/#/c/696727/

Closes-Bug: #1836074
Change-Id: I7da826200db1b6ac7d2a60cfa2577004d27aee17
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/696729/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",3,531327eec91e03c23270424b1bfc263601fb7a24,bug/1836074,," post_upgrade_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent post_update_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent",0,36
openstack%2Fopenstacksdk~master~I1ed5fd8b965f4466a20d61d9acd84e7aa2bbcf57,openstack/openstacksdk,master,I1ed5fd8b965f4466a20d61d9acd84e7aa2bbcf57,tox: Keeping going with docs,MERGED,2019-11-01 07:07:43.000000000,2019-12-05 16:57:56.000000000,2019-12-05 16:56:01.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 07:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3c0b8aa1372dd22b1f8909a0404d221c171bb9bc', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1ed5fd8b965f4466a20d61d9acd84e7aa2bbcf57\n""}, {'number': 2, 'created': '2019-11-01 07:08:47.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/84137a1af2234dc9063c893ed7ec95f48c5e2119', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I1ed5fd8b965f4466a20d61d9acd84e7aa2bbcf57\n""}]",0,692503,84137a1af2234dc9063c893ed7ec95f48c5e2119,10,2,2,30356,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I1ed5fd8b965f4466a20d61d9acd84e7aa2bbcf57
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/692503/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,3c0b8aa1372dd22b1f8909a0404d221c171bb9bc,, sphinx-build -W -d doc/build/doctrees --keep-going -b html doc/source/ doc/build/html sphinx-build -W -d doc/build/doctrees --keep-going -b latex doc/source/ doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -d doc/build/doctrees -b html doc/source/ doc/build/html sphinx-build -W -d doc/build/doctrees -b latex doc/source/ doc/build/pdfcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Ftripleo-heat-templates~master~I8955c940c09b3619bf72cc195b1e3edbca2507b9,openstack/tripleo-heat-templates,master,I8955c940c09b3619bf72cc195b1e3edbca2507b9,"Revert ""Disable ceph dashboard to fix upstream ci""",MERGED,2019-12-04 15:49:54.000000000,2019-12-05 16:56:13.000000000,2019-12-05 16:56:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-12-04 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/869a9b304cdd94834a3e37f2c92970ffa672b95f', 'message': 'Revert ""Disable ceph dashboard to fix upstream ci""\n\nSince ceph-ansible v4.0.5 contains all the fix needed to interact with grafana api, we can now revert this change and re-enable the new ceph dashboard testing.\n\nThis reverts commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1.\n\nChange-Id: I8955c940c09b3619bf72cc195b1e3edbca2507b9\n'}, {'number': 2, 'created': '2019-12-04 16:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bea4f1ad7d990ed8c739d1da47b92e48f4f2044d', 'message': 'Revert ""Disable ceph dashboard to fix upstream ci""\n\nSince ceph-ansible v4.0.5 contains all the fix needed\nto interact with grafana api, we can now revert this\nchange and re-enable the new ceph dashboard testing.\n\nThis reverts commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1.\n\nChange-Id: I8955c940c09b3619bf72cc195b1e3edbca2507b9\n'}, {'number': 3, 'created': '2019-12-05 08:33:38.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0808454b1f92c1058bec0d40dd1a0bc144a4ebdb', 'message': 'Revert ""Disable ceph dashboard to fix upstream ci""\n\nSince ceph-ansible v4.0.5 contains all the fix needed\nto interact with grafana api, we can now revert this\nchange and re-enable the new ceph dashboard testing.\n\nThis reverts commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1.\n\nRelated-Bug: 1849274\nChange-Id: I8955c940c09b3619bf72cc195b1e3edbca2507b9\n'}]",2,697311,0808454b1f92c1058bec0d40dd1a0bc144a4ebdb,15,9,3,25402,,,0,"Revert ""Disable ceph dashboard to fix upstream ci""

Since ceph-ansible v4.0.5 contains all the fix needed
to interact with grafana api, we can now revert this
change and re-enable the new ceph dashboard testing.

This reverts commit 8c2cba372bb413e6207118648f5adfa3ff9d28a1.

Related-Bug: 1849274
Change-Id: I8955c940c09b3619bf72cc195b1e3edbca2507b9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/697311/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,869a9b304cdd94834a3e37f2c92970ffa672b95f,, CephEnableDashboard: true, # disable dashboard until launchpad tripleo/+bug/1849274 CephEnableDashboard: false,1,2
openstack%2Ftripleo-upgrade~master~Ib119210139886382726bc0ccddfdb4f7f6803015,openstack/tripleo-upgrade,master,Ib119210139886382726bc0ccddfdb4f7f6803015,Update: Run all roles update at once,MERGED,2019-11-28 11:33:04.000000000,2019-12-05 16:50:36.000000000,2019-12-05 14:49:48.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-28 11:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/83bfdcaf996e3c4a2eaf19e8281799659546b75f', 'message': 'Update: Run all roles update at once\n\nPreviously we ran role by role which is not necessary and not\nintended way of production update. In case of proper testing on\npreprod customers should run update as fast as possible which\nmeans leveraging ability to run all roles at once and even all\nnodes of selected roles at once. With this patch the Pacemaker\nenabled roles will still update in serial but the roles will be\ndone in parallel. In case of 3 controller 3 database 3 messaging\nsetup it will look roughly like this:\n\nUpdate of controller[0] database[0] messaging[0]\nUpdate of controller[0] database[1] messaging[1]\nUpdate of controller[1] database[2] messaging[2]\nUpdate of controller[2]\n\nThis is due to not blocking between roles and each role taking\ndifferent amount of time to apply the update. At any moment the\npacemaker quorum is not broken.\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n'}, {'number': 2, 'created': '2019-11-28 16:03:15.000000000', 'files': ['tasks/update/overcloud_update_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a2b433133de755c410d235172c0644173d17ae80', 'message': 'Update: Run all roles update at once\n\nPreviously we ran role by role which is not necessary and not\nintended way of production update. In case of proper testing on\npreprod customers should run update as fast as possible which\nmeans leveraging ability to run all roles at once and even all\nnodes of selected roles at once. With this patch the Pacemaker\nenabled roles will still update in serial but the roles will be\ndone in parallel. In case of 3 controller 3 database 3 messaging\nsetup it will look roughly like this:\n\nUpdate of controller[0] database[0] messaging[0]\nUpdate of controller[0] database[1] messaging[1]\nUpdate of controller[1] database[2] messaging[2]\nUpdate of controller[2]\n\nThis is due to not blocking between roles and each role taking\ndifferent amount of time to apply the update. At any moment the\npacemaker quorum is not broken.\n\nChange-Id: Ib119210139886382726bc0ccddfdb4f7f6803015\n'}]",0,696522,a2b433133de755c410d235172c0644173d17ae80,11,4,2,11166,,,0,"Update: Run all roles update at once

Previously we ran role by role which is not necessary and not
intended way of production update. In case of proper testing on
preprod customers should run update as fast as possible which
means leveraging ability to run all roles at once and even all
nodes of selected roles at once. With this patch the Pacemaker
enabled roles will still update in serial but the roles will be
done in parallel. In case of 3 controller 3 database 3 messaging
setup it will look roughly like this:

Update of controller[0] database[0] messaging[0]
Update of controller[0] database[1] messaging[1]
Update of controller[1] database[2] messaging[2]
Update of controller[2]

This is due to not blocking between roles and each role taking
different amount of time to apply the update. At any moment the
pacemaker quorum is not broken.

Change-Id: Ib119210139886382726bc0ccddfdb4f7f6803015
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/22/696522/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/overcloud_update_run.yml'],1,83bfdcaf996e3c4a2eaf19e8281799659546b75f,," async: 25200 poll: 0- name: was the overcloud minor update successful? async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: 25200 #- name: was the overcloud minor update successful. #fail: msg=""Overcloud minor update execution step failed..."" #loop: ""{{ overcloud_update_nodes.results }}"" #when: item.rc != 0","- name: was the overcloud minor update successful. fail: msg=""Overcloud minor update execution step failed..."" when: item.rc != 0",15,3
openstack%2Fkolla-ansible~master~I02cbbf64e769855bdf4622da1f1c9c693e01f510,openstack/kolla-ansible,master,I02cbbf64e769855bdf4622da1f1c9c693e01f510,DNM: CI: Enable etcd,ABANDONED,2019-12-05 11:10:02.000000000,2019-12-05 16:43:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-05 11:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11485a336f7ae31e5208da4e87fae392cb4926e5', 'message': 'DNM: CI: Enable etcd\n\nChange-Id: I02cbbf64e769855bdf4622da1f1c9c693e01f510\n'}, {'number': 2, 'created': '2019-12-05 11:11:20.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83205c7702a17ad3a358530eb9c5f0f665a2396a', 'message': 'DNM: CI: Enable etcd\n\nDepends-On: https://review.opendev.org/#/c/694476\nChange-Id: I02cbbf64e769855bdf4622da1f1c9c693e01f510\n'}]",0,697441,83205c7702a17ad3a358530eb9c5f0f665a2396a,4,1,2,14826,,,0,"DNM: CI: Enable etcd

Depends-On: https://review.opendev.org/#/c/694476
Change-Id: I02cbbf64e769855bdf4622da1f1c9c693e01f510
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/697441/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,11485a336f7ae31e5208da4e87fae392cb4926e5,,enable_etcd: true,,1,0
openstack%2Fopenstack-ansible-haproxy_server~stable%2Ftrain~I2a1ce48f90c5f85b1238842f17ad2c9708333629,openstack/openstack-ansible-haproxy_server,stable/train,I2a1ce48f90c5f85b1238842f17ad2c9708333629,Make log socket available to chrooted filesystem,MERGED,2019-12-03 18:56:46.000000000,2019-12-05 16:35:03.000000000,2019-12-05 16:32:52.000000000,"[{'_account_id': 13095}, {'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-03 18:56:46.000000000', 'files': ['tasks/haproxy_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/0f7d34d4d85217588a77d150740ca4d0eb4e66c5', 'message': 'Make log socket available to chrooted filesystem\n\nHad an issue where HAProxy logs could not be found.\n\nThe /dev/log socket was not available to the chrooted filesystem.\nWe need to mount the socket and persist it.\n\nChange-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629\n(cherry picked from commit 38f7ec04bcd7fefc0023092ab43e89779a88ab49)\n'}]",0,697160,0f7d34d4d85217588a77d150740ca4d0eb4e66c5,10,5,1,25023,,,0,"Make log socket available to chrooted filesystem

Had an issue where HAProxy logs could not be found.

The /dev/log socket was not available to the chrooted filesystem.
We need to mount the socket and persist it.

Change-Id: I2a1ce48f90c5f85b1238842f17ad2c9708333629
(cherry picked from commit 38f7ec04bcd7fefc0023092ab43e89779a88ab49)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/60/697160/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_post_install.yml', 'defaults/main.yml']",2,0f7d34d4d85217588a77d150740ca4d0eb4e66c5,osa-train," # Make the log socket available to the chrooted filesystem haproxy_log_socket: ""/dev/log"" haproxy_log_mount_point: ""/var/lib/haproxy/dev/log""",,29,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,openstack/tripleo-heat-templates,stable/stein,Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd,Derive Pci passthrough whitelist disable option,MERGED,2019-12-04 07:13:59.000000000,2019-12-05 16:31:44.000000000,2019-12-05 16:31:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 07:13:59.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21178c2d8fad2c30a1d9876eec23b052cafe9dc9', 'message': 'Derive Pci passthrough whitelist disable option\n\nThis change is to add the option to disable the derive\npci passthrough whitelist automation logic in sriov\ndeployments if required.\n\nChange-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd\nCloses-Bug: #1841041\n(cherry picked from commit 227c516aa2d7de60cec2cc2a77b74221b4c7bc4a)\n'}]",0,697239,21178c2d8fad2c30a1d9876eec23b052cafe9dc9,8,6,1,22865,,,0,"Derive Pci passthrough whitelist disable option

This change is to add the option to disable the derive
pci passthrough whitelist automation logic in sriov
deployments if required.

Change-Id: Ib2d5b019e3064acf50c06da071d9eb77fe0d10dd
Closes-Bug: #1841041
(cherry picked from commit 227c516aa2d7de60cec2cc2a77b74221b4c7bc4a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/697239/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,21178c2d8fad2c30a1d9876eec23b052cafe9dc9,," DerivePciWhitelistEnabled: default: true description: Whether to enable or not the pci passthrough whitelist automation. type: boolean tags: - role_specific conditions: derive_pci_whitelist_enabled: or: - and: - equals: [{get_param: DerivePciWhitelistEnabled}, true] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, ''] - equals: [{get_param: [RoleParameters, DerivePciWhitelistEnabled]}, true] - if: - derive_pci_whitelist_enabled - - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py - []"," - name: ""creating directory"" file: state: directory path: /var/lib/pci_passthrough_whitelist_scripts owner: root group: root mode: 0750 - name: derive pci passthrough whitelist copy: content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py' mode: 0700 - name: run derive_pci_passthrough_whitelist.py command: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py",33,14
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I159489622817242e6248453b90f1b7487c5a0784,openstack/tripleo-heat-templates,stable/train,I159489622817242e6248453b90f1b7487c5a0784,[Train-Only] Remove the Fluentd role.,MERGED,2019-12-02 22:38:05.000000000,2019-12-05 16:31:42.000000000,2019-12-05 16:31:42.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 22:38:05.000000000', 'files': ['deployed-server/deployed-server-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32f9d03af50fa544101d78d0407aee154f2a1162', 'message': '[Train-Only] Remove the Fluentd role.\n\nThis service has been removed in Train. This also aligns\nwith the default roles_data. The deployed-server-roles-data\nfile has been removed in master for the Ussuri release.\n\nChange-Id: I159489622817242e6248453b90f1b7487c5a0784\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,696983,32f9d03af50fa544101d78d0407aee154f2a1162,10,6,1,25877,,,0,"[Train-Only] Remove the Fluentd role.

This service has been removed in Train. This also aligns
with the default roles_data. The deployed-server-roles-data
file has been removed in master for the Ussuri release.

Change-Id: I159489622817242e6248453b90f1b7487c5a0784
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/696983/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/deployed-server-roles-data.yaml'],1,32f9d03af50fa544101d78d0407aee154f2a1162,,, - OS::TripleO::Services::Fluentd - OS::TripleO::Services::Fluentd - OS::TripleO::Services::Fluentd - OS::TripleO::Services::Fluentd - OS::TripleO::Services::Fluentd,0,5
openstack%2Fkeystone-specs~master~I698cb6d2a5c6d55747c8a3f2c226ea42ec3b3175,openstack/keystone-specs,master,I698cb6d2a5c6d55747c8a3f2c226ea42ec3b3175,[DNM] Test pep8,ABANDONED,2019-12-05 10:08:41.000000000,2019-12-05 16:10:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-05 10:08:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/ed5c3716065778cf8ffa7da2594ba2f9d6bc42bb', 'message': '[DNM] Test pep8\n\nChange-Id: I698cb6d2a5c6d55747c8a3f2c226ea42ec3b3175\n'}]",0,697434,ed5c3716065778cf8ffa7da2594ba2f9d6bc42bb,3,1,1,27621,,,0,"[DNM] Test pep8

Change-Id: I698cb6d2a5c6d55747c8a3f2c226ea42ec3b3175
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/34/697434/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ed5c3716065778cf8ffa7da2594ba2f9d6bc42bb,,,,1,0
openstack%2Fproject-config~master~I66cf17890a5619223d3e4e51591c43cf3fb61c61,openstack/project-config,master,I66cf17890a5619223d3e4e51591c43cf3fb61c61,Add `sushy-oem-idrac` project,MERGED,2019-12-03 18:51:41.000000000,2019-12-05 16:10:19.000000000,2019-12-05 16:10:19.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-12-03 18:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc921f4ad244a5c8078482557d0ba2f36f249d9a', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 2, 'created': '2019-12-03 19:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0058e5037be9742e684a9a64aa0fa0c8b8a12c87', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 3, 'created': '2019-12-03 21:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ee90c0d1243fcac8b9935e598fc28b3f0c1436d2', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 4, 'created': '2019-12-03 21:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/acfb1ae8422b3150abe5493484665f3efeca8d66', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 5, 'created': '2019-12-03 21:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b01b49164d4bf18350850cbfbe91562b5887baa5', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 6, 'created': '2019-12-03 22:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4ce5be61e41933b63e5ac88254a2b6cef6719ebc', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 7, 'created': '2019-12-03 22:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bdf8438ff6e7e8a4c8e96f4ceedaddc1609ca9df', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 8, 'created': '2019-12-04 08:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b6035a69a97cbbe07c087ac3852d3e4e07d69377', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}, {'number': 9, 'created': '2019-12-05 15:42:47.000000000', 'files': ['gerritbot/channels.yaml', 'gerrit/acls/x/sushy-oem-idrac.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a688f65ade1733ce6fd64a5e5c0f32f190105e78', 'message': 'Add `sushy-oem-idrac` project\n\nAdds `sushy-oem-idrac` project which is an extension to `sushy`\nlibrary providing Redfish OEM features support that are specific\nto Dell/EMC hardware.\n\nIronic will rely on this package to boot Dell EMC baremetal\nmachines over Redfish virtual media.\n\nChange-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61\n'}]",18,697159,a688f65ade1733ce6fd64a5e5c0f32f190105e78,37,8,9,26340,,,0,"Add `sushy-oem-idrac` project

Adds `sushy-oem-idrac` project which is an extension to `sushy`
library providing Redfish OEM features support that are specific
to Dell/EMC hardware.

Ironic will rely on this package to boot Dell EMC baremetal
machines over Redfish virtual media.

Change-Id: I66cf17890a5619223d3e4e51591c43cf3fb61c61
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/697159/9 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/acls/x/sushy-oem-idrac.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,fc921f4ad244a5c8078482557d0ba2f36f249d9a,add-sushy-oem-idrac, - openstack/sushy-oem-idrac,,24,0
openstack%2Fcookbook-openstack-common~master~Ic5ca4ff1b1bfd6c7765bf788e1600deb5ec2bfa3,openstack/cookbook-openstack-common,master,Ic5ca4ff1b1bfd6c7765bf788e1600deb5ec2bfa3,Fix README.rst formatting,MERGED,2019-12-05 14:23:45.000000000,2019-12-05 16:06:49.000000000,2019-12-05 16:06:49.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 14:23:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/d5e2d175cd08ceb2985d8311887f7901847d9bd8', 'message': 'Fix README.rst formatting\n\nAdd a line between tables to make ""pandoc -f rst README.rst"" format it\ncorrectly. This should allow correct display on opendev.org\'s git\ninterface.\n\nChange-Id: Ic5ca4ff1b1bfd6c7765bf788e1600deb5ec2bfa3\n'}]",0,697479,d5e2d175cd08ceb2985d8311887f7901847d9bd8,6,2,1,6547,,,0,"Fix README.rst formatting

Add a line between tables to make ""pandoc -f rst README.rst"" format it
correctly. This should allow correct display on opendev.org's git
interface.

Change-Id: Ic5ca4ff1b1bfd6c7765bf788e1600deb5ec2bfa3
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/79/697479/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d5e2d175cd08ceb2985d8311887f7901847d9bd8,,,,1,0
openstack%2Fshade~master~I447872e205346f6ac9179cc404218eae278ac7c1,openstack/shade,master,I447872e205346f6ac9179cc404218eae278ac7c1,Add source and contributing link in readme,MERGED,2019-10-05 08:10:43.000000000,2019-12-05 15:32:56.000000000,2019-12-05 15:31:23.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 08:10:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/shade/commit/88b03d8ddd528935fa7e2a98198e7a858ea3243b', 'message': 'Add source and contributing link in readme\n\nChange-Id: I447872e205346f6ac9179cc404218eae278ac7c1\n'}]",0,686871,88b03d8ddd528935fa7e2a98198e7a858ea3243b,7,2,1,30092,,,0,"Add source and contributing link in readme

Change-Id: I447872e205346f6ac9179cc404218eae278ac7c1
",git fetch https://review.opendev.org/openstack/shade refs/changes/71/686871/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,88b03d8ddd528935fa7e2a98198e7a858ea3243b,,* `Source <https://opendev.org/openstack/shade>`_* `Contributing <https://docs.openstack.org/shade/latest/contributor/index.html>`_,,2,0
openstack%2Fgovernance~master~I484f286553c9db061b613dace39e7995e1cf9a24,openstack/governance,master,I484f286553c9db061b613dace39e7995e1cf9a24,Gradually reduce TC membership to 9 members,MERGED,2019-09-10 14:04:48.000000000,2019-12-05 15:24:30.000000000,2019-09-23 21:16:44.000000000,"[{'_account_id': 308}, {'_account_id': 970}, {'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 14:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3aaf2a1eddb9feff8c3e5a73ebc14170b91b326f', 'message': 'Gradually reduce TC membership to 9 members\n\nOver 2020 and 2021 elections, gradually reduce the TC to 9 members by\nrenewing one less seat than you normally should.\n\nA 9-member TC would strike the right balance between diversity of ideas\n(for good representation of the community) and number of available\nstewards.\n\nChange-Id: I484f286553c9db061b613dace39e7995e1cf9a24\n'}, {'number': 2, 'created': '2019-09-12 09:28:46.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/ea3497502602cedf5ccbb3110d1a04613f5e9fe9', 'message': 'Gradually reduce TC membership to 9 members\n\nOver 2020 elections, gradually reduce the TC to 9 members by\nrenewing two less seats than you normally should.\n\nA 9-member TC would strike the right balance between diversity of ideas\n(for good representation of the community) and number of available\nstewards.\n\nChange-Id: I484f286553c9db061b613dace39e7995e1cf9a24\n'}]",5,681266,ea3497502602cedf5ccbb3110d1a04613f5e9fe9,29,12,2,308,,,0,"Gradually reduce TC membership to 9 members

Over 2020 elections, gradually reduce the TC to 9 members by
renewing two less seats than you normally should.

A 9-member TC would strike the right balance between diversity of ideas
(for good representation of the community) and number of available
stewards.

Change-Id: I484f286553c9db061b613dace39e7995e1cf9a24
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/681266/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,3aaf2a1eddb9feff8c3e5a73ebc14170b91b326f,formal-vote,"The TC is composed of directly-elected members. It is partially renewedThe TC seats are partially renewed every 6 months using staggered elections. Seats are valid for one-year terms. For this election we'll use aNumber of seats to elect ======================== The Q3 2019 elections elected 6 seats, for a total of 13 members for the Q3-Q4 TC membership. Over 2020 and 2021 the number of TC seats will be gradually reduced to 9 members, with the following number of seats to elect: - Q1 2020 elections: 6 seats (out of 7 incumbents): 12 members total - Q3 2020 elections: 5 seats (out of 6 incumbents): 11 members total - Q1 2021 elections: 5 seats (out of 6 incumbents): 10 members total - Q3 2021 elections: 4 seats (out of 5 incumbents): 9 members total Each year after 2021, the Q1 election should renew 5 seats, and the Q3 election should renew 4 seats.","The TC is composed of 13 directly-elected members. It is partially renewedThe 13 TC seats are partially renewed every 6 months using staggered elections: 6 seats are renewed every (Northern hemisphere) Fall, and 7 seats are renewed every Spring. Seats are valid for one-year terms. For this election we'll use aInitial committee ================= The current TC will serve as TC until the elections in Fall 2013. At that point, the two TC members who still had 6 months to serve get a 6-month seat, and an election is run to determine the 11 other members. Candidates ranking 1st to 6th would get one-year seats, and candidates ranking 7th to 11th would get 6-month seats. Spring 2014 elections should see the normal renewal of 7 seats.",16,12
openstack%2Ftripleo-heat-templates~master~Iccbb124ee98b9ee4095192b5cfdeac59f8362d5b,openstack/tripleo-heat-templates,master,Iccbb124ee98b9ee4095192b5cfdeac59f8362d5b,Relax filtering in krb-service-principals jinja,ABANDONED,2019-12-05 15:20:16.000000000,2019-12-05 15:21:54.000000000,,[],"[{'number': 1, 'created': '2019-12-05 15:20:16.000000000', 'files': ['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5bbcfa7c1a57a2cf9dd1761d7f7f6def40590bf', 'message': 'Relax filtering in krb-service-principals jinja\n\nThe filtering added to fix Bug: #1821377 filters any\nnetwork without a VIP address. This filtering is to\nagressive and cause deployment failure when a management\nnetwork without a VIP is used.\n\nResolves: rhbz#1778719\nCloses-Bug: #1821377\nChange-Id: Iccbb124ee98b9ee4095192b5cfdeac59f8362d5b\n'}]",0,697497,b5bbcfa7c1a57a2cf9dd1761d7f7f6def40590bf,2,0,1,24245,,,0,"Relax filtering in krb-service-principals jinja

The filtering added to fix Bug: #1821377 filters any
network without a VIP address. This filtering is to
agressive and cause deployment failure when a management
network without a VIP is used.

Resolves: rhbz#1778719
Closes-Bug: #1821377
Change-Id: Iccbb124ee98b9ee4095192b5cfdeac59f8362d5b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/697497/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml', 'releasenotes/notes/fix-krb-service-principals-do-not-filter-on-vip-in-jinja-c8f996ffed94d3cd.yaml']",2,b5bbcfa7c1a57a2cf9dd1761d7f7f6def40590bf,bug/1821377,"--- fixes: - | Fixes an issue where filtering of networks for kerberos service principals was too aggressive, causing deployment failure. See bug `1854846 <https://bugs.launchpad.net/tripleo/+bug/1854846>`_. ",,8,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I395ce82f31a2a9652233a3de6610e6376e26709e,openstack/networking-ovn,stable/train,I395ce82f31a2a9652233a3de6610e6376e26709e,[TrainOnly] Bump OVS/OVN to 2.12 in stable/train,ABANDONED,2019-12-02 09:39:36.000000000,2019-12-05 15:16:17.000000000,,"[{'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-12-02 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab34582b03e16c1f2cb5dff9ba2e93612463542e', 'message': '[TrainOnly] Bump OVS/OVN to 2.12 in stable/train\n\nLatest OVS/OVN release is now OVS 2.12 so this patch is making\njobs to run against such branch.\n\nChange-Id: I395ce82f31a2a9652233a3de6610e6376e26709e\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2019-12-05 14:58:07.000000000', 'files': ['devstack/devstackgaterc', 'devstack/lib/ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b6cb1253c872f1a1d925673ba0bfbf4537157d0f', 'message': '[TrainOnly] Bump OVS/OVN to 2.12 in stable/train\n\nLatest OVS/OVN release is now OVS 2.12 so this patch is making\njobs to run against such branch.\n\nChange-Id: I395ce82f31a2a9652233a3de6610e6376e26709e\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,696839,b6cb1253c872f1a1d925673ba0bfbf4537157d0f,10,3,2,23804,,,0,"[TrainOnly] Bump OVS/OVN to 2.12 in stable/train

Latest OVS/OVN release is now OVS 2.12 so this patch is making
jobs to run against such branch.

Change-Id: I395ce82f31a2a9652233a3de6610e6376e26709e
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/696839/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'zuul.d/networking-ovn-jobs.yaml']",2,ab34582b03e16c1f2cb5dff9ba2e93612463542e,train, OVN_BRANCH: branch-2.12 OVN_BRANCH: branch-2.12, OVN_BRANCH: branch-2.11 OVN_BRANCH: branch-2.11,3,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,openstack/tripleo-heat-templates,stable/stein,Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,ovn_dbs upgrade-with-os work,MERGED,2019-12-05 07:12:25.000000000,2019-12-05 15:16:03.000000000,2019-12-05 15:16:03.000000000,"[{'_account_id': 8042}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-12-05 07:12:25.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a6dc87f00cd9b30b9e611763a5707d08a603641', 'message': 'ovn_dbs upgrade-with-os work\n\nThis adds the missing steps for the upgrades-with-os blueprint for\nthe ovn_dbs service. The ovn_dbs pacemaker service was not taken care of\nin the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024\nThis commit tries to fix that.\n\nCloses-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nDepends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\nChange-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff\n(cherry picked from commit 36a84820e51bad57c6bbb92429f3afb3d9da29c2)\n(cherry picked from commit b1abede842fb676cae198874f7979afec2c7df21)\n'}]",0,697416,7a6dc87f00cd9b30b9e611763a5707d08a603641,8,5,1,20172,,,0,"ovn_dbs upgrade-with-os work

This adds the missing steps for the upgrades-with-os blueprint for
the ovn_dbs service. The ovn_dbs pacemaker service was not taken care of
in the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024
This commit tries to fix that.

Closes-Bug: #1854519

Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Depends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
Change-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff
(cherry picked from commit 36a84820e51bad57c6bbb92429f3afb3d9da29c2)
(cherry picked from commit b1abede842fb676cae198874f7979afec2c7df21)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/697416/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,7a6dc87f00cd9b30b9e611763a5707d08a603641,ovn_dbs_upgrade-stable/train-stable/stein," - when: - step|int == 1 block: - name: set ovn_dbs upgrade node facts in a single-node environment set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names }}"" cacheable: no when: groups['ovn_dbs'] | length <= 1 - name: set ovn_dbs upgrade node facts from the limit option set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ovn_dbs'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ ovn_dbs_short_node_names }}"" - debug: msg: ""Prepare ovn_dbs upgrade for {{ ovn_dbs_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade ovn_dbs without staged upgrade. You need to use the limit option in order to do so. when: >- ovn_dbs_short_node_names_upgraded is not defined or ovn_dbs_short_node_names_upgraded | length == 0 - name: remove ovn_dbs init container on upgrade-scaleup to force re-init shell: | if podman inspect ovn_dbs_init_bundle &> /dev/null; then podman rm ovn_dbs_init_bundle fi when: ovn_dbs_short_node_names_upgraded | length > 1 - name: add the ovn_dbs short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override tripleo_upgrade_value: ""{{ovn_dbs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override when: ovn_dbs_short_node_names_upgraded | length == ovn_dbs_short_node_names | length",,48,0
openstack%2Fnetworking-ovn~master~I186f80d51ba52d386c48f40cf0d21ebaf51d8d98,openstack/networking-ovn,master,I186f80d51ba52d386c48f40cf0d21ebaf51d8d98,Switch master relase jobs to use OVS 2.12,MERGED,2019-09-26 08:20:25.000000000,2019-12-05 15:15:31.000000000,2019-10-04 18:09:22.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-26 08:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd964a11ec18bd1e29a31a9be7ac16d3e5426145', 'message': 'Switch master relase jobs to use OVS 2.12\n\nThose jobs were using 2.11. We would like to have tests\nfor InternalDNS functionality so we need to switch those to\n2.12.\n\nChange-Id: I186f80d51ba52d386c48f40cf0d21ebaf51d8d98\n'}, {'number': 2, 'created': '2019-09-26 14:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a5f1d61eaeb21ed3ff7b9da2e45da285c4b3ce1d', 'message': 'Switch master relase jobs to use OVS 2.12\n\nThose jobs were using 2.11. We would like to have tests\nfor InternalDNS functionality so we need to switch those to\n2.12.\n\nChange-Id: I186f80d51ba52d386c48f40cf0d21ebaf51d8d98\n'}, {'number': 3, 'created': '2019-09-27 06:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7ce08f7b001defc6fa04f83fc8546bc021984b72', 'message': 'Switch master relase jobs to use OVS 2.12\n\nThose jobs were using 2.11. We would like to have tests\nfor InternalDNS functionality so we need to switch those to\n2.12.\n\nUnfortunately branch-2.12 is not yet configured\nin ovn.org repository. Because of this lets bump up\nversion in repository selector function\n(use_new_ovn_repository).\n\nChange-Id: I186f80d51ba52d386c48f40cf0d21ebaf51d8d98\n'}, {'number': 4, 'created': '2019-10-01 10:20:01.000000000', 'files': ['devstack/devstackgaterc', 'devstack/lib/ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2543f4aaead1cde82469e67fedd435e7f23f158f', 'message': 'Switch master relase jobs to use OVS 2.12\n\nThose jobs were using 2.11. We would like to have tests\nfor InternalDNS functionality so we need to switch those to\n2.12.\n\nUnfortunately branch-2.12 is not yet configured\nin ovn.org repository. Because of this lets bump up\nversion in repository selector function\n(use_new_ovn_repository).\n\nChange-Id: I186f80d51ba52d386c48f40cf0d21ebaf51d8d98\n'}]",4,684967,2543f4aaead1cde82469e67fedd435e7f23f158f,26,6,4,24791,,,0,"Switch master relase jobs to use OVS 2.12

Those jobs were using 2.11. We would like to have tests
for InternalDNS functionality so we need to switch those to
2.12.

Unfortunately branch-2.12 is not yet configured
in ovn.org repository. Because of this lets bump up
version in repository selector function
(use_new_ovn_repository).

Change-Id: I186f80d51ba52d386c48f40cf0d21ebaf51d8d98
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/67/684967/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'zuul.d/networking-ovn-jobs.yaml']",2,fd964a11ec18bd1e29a31a9be7ac16d3e5426145,, OVN_BRANCH: branch-2.12 OVN_BRANCH: branch-2.12, OVN_BRANCH: branch-2.11 OVN_BRANCH: branch-2.11,3,3
openstack%2Fpuppet-tripleo~stable%2Fstein~I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,openstack/puppet-tripleo,stable/stein,I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,ovn_dbs override support,MERGED,2019-12-05 07:12:10.000000000,2019-12-05 15:13:40.000000000,2019-12-05 15:13:40.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-12-05 07:12:10.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b392eb655acb393d71dd2e5a4c1a55279d543cce', 'message': 'ovn_dbs override support\n\nThese hiera keys are needed to support the upgrade-with-os\nblueprint. This support was added for other services already\nsee LP#1832361\n\nRelated-Bug: #1854519\n\nNB: Slight cherry-pick concflict in stein due to missing context\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n(cherry picked from commit 07c525c8d769842cb544f11fd7787bebef8e1254)\n(cherry picked from commit 70385618140b47dd28cbf84cf9c496d8ccd3a77f)\n'}]",0,697415,b392eb655acb393d71dd2e5a4c1a55279d543cce,8,3,1,20172,,,0,"ovn_dbs override support

These hiera keys are needed to support the upgrade-with-os
blueprint. This support was added for other services already
see LP#1832361

Related-Bug: #1854519

NB: Slight cherry-pick concflict in stein due to missing context
Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Change-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
(cherry picked from commit 07c525c8d769842cb544f11fd7787bebef8e1254)
(cherry picked from commit 70385618140b47dd28cbf84cf9c496d8ccd3a77f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/697415/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,b392eb655acb393d71dd2e5a4c1a55279d543cce,stein_ovn," if (hiera('ovn_dbs_short_node_names_override', undef)) { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names_override') } else { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names') }", $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names'),5,1
openstack%2Fironic-python-agent-builder~master~I2ca2a574ba84f44dfbfa197d80c14ac0e4c59de2,openstack/ironic-python-agent-builder,master,I2ca2a574ba84f44dfbfa197d80c14ac0e4c59de2,Add words on building image for other architecture,MERGED,2019-12-04 03:06:52.000000000,2019-12-05 15:07:35.000000000,2019-12-05 15:06:13.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-04 03:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/e607e5488f4a147bfb2f4a74d01557c794eac078', 'message': 'Add words on building image for other architecture\n\nChange-Id: I2ca2a574ba84f44dfbfa197d80c14ac0e4c59de2\n'}, {'number': 2, 'created': '2019-12-05 02:25:13.000000000', 'files': ['doc/source/admin/dib.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0916598653c6192ce1d43717ec005bfd8baefc93', 'message': 'Add words on building image for other architecture\n\nChange-Id: I2ca2a574ba84f44dfbfa197d80c14ac0e4c59de2\n'}]",2,697222,0916598653c6192ce1d43717ec005bfd8baefc93,12,4,2,24828,,,0,"Add words on building image for other architecture

Change-Id: I2ca2a574ba84f44dfbfa197d80c14ac0e4c59de2
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/22/697222/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/dib.rst'],1,e607e5488f4a147bfb2f4a74d01557c794eac078,aarch64,"You can specify the arch of the target image by setting ``ARCH`` environment variable (default is amd64): .. code-block:: shell export ARCH=aarch64 ironic-python-agent-builder -o my-ipa fedora To build image other than amd64, you can either set the ``ARCH`` environment variable or use ``-a`` to specify the target architecture: .. code-block:: shell disk-image-create -a arm64 -o ironic-python-agent \ ironic-agent-ramdisk fedora dhcp-all-interfaces ",,16,0
openstack%2Ftripleo-common~master~I06995dee0ec7eabda16793aa42cae7197c4959f5,openstack/tripleo-common,master,I06995dee0ec7eabda16793aa42cae7197c4959f5,Quote output values for overcloudrc,MERGED,2019-12-02 23:21:49.000000000,2019-12-05 14:29:57.000000000,2019-12-05 07:51:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-02 23:21:49.000000000', 'files': ['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d44457ae16ebb3298143e04dbf0c0c5e5249553', 'message': 'Quote output values for overcloudrc\n\nIf the overcloudrc values have spaces, we need to quote them to ensure\nit gets parsed correctly.\n\nChange-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5\nCloses-Bug: #1854868\n'}]",0,696985,5d44457ae16ebb3298143e04dbf0c0c5e5249553,18,5,1,14985,,,0,"Quote output values for overcloudrc

If the overcloudrc values have spaces, we need to quote them to ensure
it gets parsed correctly.

Change-Id: I06995dee0ec7eabda16793aa42cae7197c4959f5
Closes-Bug: #1854868
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/696985/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_overcloudrc.py', 'tripleo_common/utils/overcloudrc.py']",2,5d44457ae16ebb3298143e04dbf0c0c5e5249553,bug/1854868,"try: # py3 from shlex import quote except ImportError: # py2 from pipes import quote line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': quote(value)}"," line = ""export %(key)s=%(value)s\n"" % {'key': key, 'value': value}",10,2
openstack%2Fnova~master~Icacc763f19db6dc90e72af32e17d480775ad5edf,openstack/nova,master,Icacc763f19db6dc90e72af32e17d480775ad5edf,Cache security group driver,MERGED,2019-12-03 15:57:23.000000000,2019-12-05 14:02:54.000000000,2019-12-05 01:24:30.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-03 15:57:23.000000000', 'files': ['nova/tests/unit/network/test_config.py', 'nova/test.py', 'nova/network/security_group/openstack_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0461921d9e5313c3e92b039b90f713ed961e20c8', 'message': ""Cache security group driver\n\nChange I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka\nwas a performance improvement to cache the loaded security\ngroup driver since the API calls get_openstack_security_group_driver\na lot. That performance fix was regressed with change\nIa4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton.\n\nThis caches the loaded security group driver once again. This\nis pretty similar to the original change except simpler since\nwe don't have to account for the skip_policy_check flag.\n\nChange-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf\nCloses-Bug: #1825018\n""}]",6,697122,0461921d9e5313c3e92b039b90f713ed961e20c8,30,12,1,6873,,,0,"Cache security group driver

Change I0932c652fb455fe10239215a93e183ea947234e3 from Mitaka
was a performance improvement to cache the loaded security
group driver since the API calls get_openstack_security_group_driver
a lot. That performance fix was regressed with change
Ia4a8d9954bf456253101b936f8b4ff513aaa73b2 in Newton.

This caches the loaded security group driver once again. This
is pretty similar to the original change except simpler since
we don't have to account for the skip_policy_check flag.

Change-Id: Icacc763f19db6dc90e72af32e17d480775ad5edf
Closes-Bug: #1825018
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/697122/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_config.py', 'nova/test.py', 'nova/network/security_group/openstack_driver.py']",3,0461921d9e5313c3e92b039b90f713ed961e20c8,bug/1825018,DRIVER_CACHE = None # singleton of the driver once loaded global DRIVER_CACHE if DRIVER_CACHE is None: if is_neutron_security_groups(): DRIVER_CACHE = importutils.import_object(NEUTRON_DRIVER) else: DRIVER_CACHE = importutils.import_object(NOVA_DRIVER) return DRIVER_CACHE, if is_neutron_security_groups(): return importutils.import_object(NEUTRON_DRIVER) else: return importutils.import_object(NOVA_DRIVER),19,5
openstack%2Fkolla~stable%2Ftrain~Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,openstack/kolla,stable/train,Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,Install etcd3gw to fix Ubuntu binary tooz coordination,MERGED,2019-12-05 09:30:48.000000000,2019-12-05 13:59:48.000000000,2019-12-05 13:58:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-05 09:30:48.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/19c38d9c9d6416b7859037396484fff2e587ec4b', 'message': 'Install etcd3gw to fix Ubuntu binary tooz coordination\n\nChange-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e\nCloses-bug: #1852086\n(cherry picked from commit 0186c5e3cafeae0bb1c39bdef0df6ade827552d5)\n'}]",0,697426,19c38d9c9d6416b7859037396484fff2e587ec4b,10,4,1,30491,,,0,"Install etcd3gw to fix Ubuntu binary tooz coordination

Change-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e
Closes-bug: #1852086
(cherry picked from commit 0186c5e3cafeae0bb1c39bdef0df6ade827552d5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/697426/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml']",2,19c38d9c9d6416b7859037396484fff2e587ec4b,,--- fixes: - | Fixes unavailability of an etcd3-compatible tooz coordination driver in Ubuntu binary images by installing ``python3-etcd3gw``. See `bug 1852086 <https://bugs.launchpad.net/kolla-ansible/+bug/1852086>`__ for details. ,,7,0
openstack%2Fopenstack-ansible~master~Ie7b675a2b24ee722c8cac228765f52bfb16de4bd,openstack/openstack-ansible,master,Ie7b675a2b24ee722c8cac228765f52bfb16de4bd,"Revert ""Add nova placement to placement migration""",MERGED,2019-11-11 17:57:44.000000000,2019-12-05 13:26:41.000000000,2019-12-05 13:23:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-11 17:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7dcf827e9a0c7ec8079c28765aef62f2e10a7f0f', 'message': 'Revert ""Add nova placement to placement migration""\n\nSince we are in U cycle now, we code for migrating placement\nis not needed anymore.\n\nThis partially reverts commit cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c\n\nChange-Id: Ie7b675a2b24ee722c8cac228765f52bfb16de4bd\n'}, {'number': 2, 'created': '2019-11-12 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00328565d1fb3f85583228134402ea2648fa07fb', 'message': 'Revert ""Add nova placement to placement migration""\n\nSince we are in U cycle now, we code for migrating placement\nis not needed anymore.\n\nThis partially reverts commit cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c\n\nDepends-On: https://review.opendev.org/693841\nChange-Id: Ie7b675a2b24ee722c8cac228765f52bfb16de4bd\n'}, {'number': 3, 'created': '2019-12-04 10:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e9d93a522c4ea01ac9b677355cb79de7bc77882d', 'message': 'Revert ""Add nova placement to placement migration""\n\nSince we are in U cycle now, we code for migrating placement\nis not needed anymore.\n\nThis partially reverts commit cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c\n\nDepends-On: https://review.opendev.org/693841\nChange-Id: Ie7b675a2b24ee722c8cac228765f52bfb16de4bd\n'}, {'number': 4, 'created': '2019-12-04 10:20:26.000000000', 'files': ['doc/source/admin/upgrades/major-upgrades.rst', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/run-upgrade.sh', 'playbooks/os-placement-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57342076307d5b85a26719efe2756f82ed59b18f', 'message': 'Revert ""Add nova placement to placement migration""\n\nSince we are in U cycle now, we code for migrating placement\nis not needed anymore.\n\nThis partially reverts commit cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c\n\nDepends-On: https://review.opendev.org/693841\nChange-Id: Ie7b675a2b24ee722c8cac228765f52bfb16de4bd\n'}]",0,693740,57342076307d5b85a26719efe2756f82ed59b18f,20,5,4,28619,,,0,"Revert ""Add nova placement to placement migration""

Since we are in U cycle now, we code for migrating placement
is not needed anymore.

This partially reverts commit cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c

Depends-On: https://review.opendev.org/693841
Change-Id: Ie7b675a2b24ee722c8cac228765f52bfb16de4bd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/693740/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/major-upgrades.rst', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/run-upgrade.sh', 'playbooks/os-placement-install.yml']",4,7dcf827e9a0c7ec8079c28765aef62f2e10a7f0f,osa-placement-migration,," - name: Stop nova-placement-api services for the upgrade delegate_to: ""{{ item }}"" service: name: nova-placement-api state: stopped enabled: no when: placement_migrate_flag | default(False) with_items: ""{{ groups['nova_api_placement'] }}"" run_once: true ignore_errors: true ",7,62
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ie4c9d56a20573be9d8b2d59bd08c2e3b980e97ce,openstack/charm-octavia-diskimage-retrofit,master,Ie4c9d56a20573be9d8b2d59bd08c2e3b980e97ce,Use python_packages in layer.yaml for py deps,MERGED,2019-12-05 12:35:05.000000000,2019-12-05 13:22:44.000000000,2019-12-05 13:22:44.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-12-05 12:35:05.000000000', 'files': ['src/wheelhouse.txt', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/92067add1e122f3e0c74c30361d532eb74791860', 'message': 'Use python_packages in layer.yaml for py deps\n\nDefine python deps via python_packages in layer.yaml rather than in\nsrc/wheelhouse.txt till layer-basic issues #149 is resolved.\n\nChange-Id: Ie4c9d56a20573be9d8b2d59bd08c2e3b980e97ce\n'}]",0,697459,92067add1e122f3e0c74c30361d532eb74791860,8,4,1,12549,,,0,"Use python_packages in layer.yaml for py deps

Define python deps via python_packages in layer.yaml rather than in
src/wheelhouse.txt till layer-basic issues #149 is resolved.

Change-Id: Ie4c9d56a20573be9d8b2d59bd08c2e3b980e97ce
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/59/697459/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/wheelhouse.txt', 'src/layer.yaml']",2,92067add1e122f3e0c74c30361d532eb74791860,fix-wheelhouse-install-issue," # python_packages replaces using src/wheelhouse.txt till # layer-basic issues #149 is resolved. python_packages: [ 'keystoneauth1', 'python-glanceclient' ]",,3,2
openstack%2Fmagnum~stable%2Fstein~I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,openstack/magnum,stable/stein,I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,k8s_fedora: Move rp_filter=1 for calico up,MERGED,2019-12-05 09:54:00.000000000,2019-12-05 13:20:12.000000000,2019-12-05 13:17:56.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-12-05 09:54:00.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4807e64772b4364e849cb98c458e2a9f0a5dd926', 'message': 'k8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)\n'}]",0,697432,4807e64772b4364e849cb98c458e2a9f0a5dd926,11,4,1,28022,,,0,"k8s_fedora: Move rp_filter=1 for calico up

follow up of: I828cec27968ffe0961011e34a66e0eef3e567c91

Move set of sysctl.conf up as it does need to
depend on NetworkManager configuration.

upstream docs:
Cluster nodes must have rp_filter set to strict (1).
https://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md

story: 2006441
task: 36564

Change-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/32/697432/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,4807e64772b4364e849cb98c458e2a9f0a5dd926,stein-8.2.0," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf sysctl -p"," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf sysctl -p",4,4
openstack%2Fmagnum~stable%2Fstein~I2ba32844b822ffc14da043e6ef7d071bb62a22ee,openstack/magnum,stable/stein,I2ba32844b822ffc14da043e6ef7d071bb62a22ee,k8s: stop introspecting instance name,MERGED,2019-11-22 15:22:24.000000000,2019-12-05 13:19:04.000000000,2019-12-05 13:17:50.000000000,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-11-22 15:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a8e939990b7419bf7def381f549934c1c1c5b193', 'message': 'k8s: stop introspecting instance name\n\nWe kept introspecting the name of the instance with the assumption\nthat the network always existed under .novalocal\n\nThis is not always the case, with certain variables changed inside\nNeutron it is possible to control this, therefore, leading in failing\ndeploys.\n\nWith this change, we pass the instance name directly to the cluster\nand therefore we always have the accurate name.\n\nTask: 36160\nStory: 2006371\n\nChange-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee\n(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)\n'}, {'number': 2, 'created': '2019-11-22 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/070d53d18a14348b4f8f71150d9e2022495dfefb', 'message': 'k8s: stop introspecting instance name\n\nWe kept introspecting the name of the instance with the assumption\nthat the network always existed under .novalocal\n\nThis is not always the case, with certain variables changed inside\nNeutron it is possible to control this, therefore, leading in failing\ndeploys.\n\nWith this change, we pass the instance name directly to the cluster\nand therefore we always have the accurate name.\n\nTask: 36160\nStory: 2006371\n\nChange-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee\n(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)\n'}, {'number': 3, 'created': '2019-11-22 16:26:14.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d13c2b7c1568cc55faf522676500ded38a1dea85', 'message': 'k8s: stop introspecting instance name\n\nWe kept introspecting the name of the instance with the assumption\nthat the network always existed under .novalocal\n\nThis is not always the case, with certain variables changed inside\nNeutron it is possible to control this, therefore, leading in failing\ndeploys.\n\nWith this change, we pass the instance name directly to the cluster\nand therefore we always have the accurate name.\n\nTask: 36160\nStory: 2006371\n\nChange-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee\n(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)\n'}]",0,695709,d13c2b7c1568cc55faf522676500ded38a1dea85,12,6,3,28022,,,0,"k8s: stop introspecting instance name

We kept introspecting the name of the instance with the assumption
that the network always existed under .novalocal

This is not always the case, with certain variables changed inside
Neutron it is possible to control this, therefore, leading in failing
deploys.

With this change, we pass the instance name directly to the cluster
and therefore we always have the accurate name.

Task: 36160
Story: 2006371

Change-Id: I2ba32844b822ffc14da043e6ef7d071bb62a22ee
(cherry picked from commit 2f2d05c826a35dbc89199f49560bb68cd14f49f4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/09/695709/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-master.yaml', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-kubelet-minion.yaml']",9,a8e939990b7419bf7def381f549934c1c1c5b193,stein-8.2.0, --hostname-override=${INSTANCE_NAME} \, HOSTNAME_OVERRIDE=$(hostname --short | sed 's/\.novalocal//') --hostname-override=${HOSTNAME_OVERRIDE} \,12,20
openstack%2Fmagnum~stable%2Fstein~Ibe7f3446be894c593c6147186cc159bd01834d29,openstack/magnum,stable/stein,Ibe7f3446be894c593c6147186cc159bd01834d29,Using vxlan as default value for flannel_backend,MERGED,2019-11-22 15:48:58.000000000,2019-12-05 13:17:53.000000000,2019-12-05 13:17:53.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-11-22 15:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7214a2f8f6b17bab4f56cd01ae67a5435277c33b', 'message': ""Using vxlan as default value for flannel_backend\n\nFlannel is recommending using vxlan[1] and udp is just for debugging\nor the kernel doesn't support vxlan or host-gw. So this patch is\nproposing using 'vxlan' as the default value of label 'flannel_backend'\nand it has been verified with sonobuoy.\n\n[1] https://github.com/coreos/flannel/blob/master/Documentation/backends.md\n\nTask: 36425\nStory: 2006482\n\nChange-Id: Ibe7f3446be894c593c6147186cc159bd01834d29\n(cherry picked from commit 0b033f03d02d31b42fd38cf6e9aadaeca5e7b7ca)\n""}, {'number': 2, 'created': '2019-11-22 16:26:14.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'releasenotes/notes/using-vxlan-for-flannel-backend-8d82a290ca97d6e2.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/261b0eeab61762894272df2dba8c4f3f45ff9d8f', 'message': ""Using vxlan as default value for flannel_backend\n\nFlannel is recommending using vxlan[1] and udp is just for debugging\nor the kernel doesn't support vxlan or host-gw. So this patch is\nproposing using 'vxlan' as the default value of label 'flannel_backend'\nand it has been verified with sonobuoy.\n\n[1] https://github.com/coreos/flannel/blob/master/Documentation/backends.md\n\nTask: 36425\nStory: 2006482\n\nChange-Id: Ibe7f3446be894c593c6147186cc159bd01834d29\n(cherry picked from commit 0b033f03d02d31b42fd38cf6e9aadaeca5e7b7ca)\n""}]",0,695713,261b0eeab61762894272df2dba8c4f3f45ff9d8f,9,4,2,28022,,,0,"Using vxlan as default value for flannel_backend

Flannel is recommending using vxlan[1] and udp is just for debugging
or the kernel doesn't support vxlan or host-gw. So this patch is
proposing using 'vxlan' as the default value of label 'flannel_backend'
and it has been verified with sonobuoy.

[1] https://github.com/coreos/flannel/blob/master/Documentation/backends.md

Task: 36425
Story: 2006482

Change-Id: Ibe7f3446be894c593c6147186cc159bd01834d29
(cherry picked from commit 0b033f03d02d31b42fd38cf6e9aadaeca5e7b7ca)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/695713/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'releasenotes/notes/using-vxlan-for-flannel-backend-8d82a290ca97d6e2.yaml']",2,7214a2f8f6b17bab4f56cd01ae67a5435277c33b,stein-8.2.0,--- other: - | The default value of flannel_backend will be replaced with `vxlan` which was `udp` based on the recommendation at https://github.com/coreos/flannel/blob/master/Documentation/backends.md ,,8,2
openstack%2Fmagnum~stable%2Frocky~I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,openstack/magnum,stable/rocky,I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,k8s_fedora: Move rp_filter=1 for calico up,MERGED,2019-12-05 10:08:11.000000000,2019-12-05 13:17:47.000000000,2019-12-05 13:17:47.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-12-05 10:08:11.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1df886df52ace162e88b064d4c3302908c2ba290', 'message': 'k8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)\n(cherry picked from commit 4807e64772b4364e849cb98c458e2a9f0a5dd926)\n'}]",0,697433,1df886df52ace162e88b064d4c3302908c2ba290,8,4,1,28022,,,0,"k8s_fedora: Move rp_filter=1 for calico up

follow up of: I828cec27968ffe0961011e34a66e0eef3e567c91

Move set of sysctl.conf up as it does need to
depend on NetworkManager configuration.

upstream docs:
Cluster nodes must have rp_filter set to strict (1).
https://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md

story: 2006441
task: 36564

Change-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)
(cherry picked from commit 4807e64772b4364e849cb98c458e2a9f0a5dd926)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/33/697433/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,1df886df52ace162e88b064d4c3302908c2ba290,rocky-7.1.1," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf sysctl -p",,4,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Ftrain~I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac,openstack/openstack-ansible-rabbitmq_server,stable/train,I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac,Switch to the amqp repository for erlang dependencies,MERGED,2019-12-04 13:56:56.000000000,2019-12-05 13:10:07.000000000,2019-12-05 13:08:51.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-12-04 13:56:56.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/165258301acf542c755e7802d9716b7ff882fffa', 'message': 'Switch to the amqp repository for erlang dependencies\n\nChange-Id: I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac\n(cherry picked from commit 287bb31279b7817ff2b6c334c5b09025ce8d800c)\n'}]",0,697288,165258301acf542c755e7802d9716b7ff882fffa,9,4,1,25023,,,0,"Switch to the amqp repository for erlang dependencies

Change-Id: I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac
(cherry picked from commit 287bb31279b7817ff2b6c334c5b09025ce8d800c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/88/697288/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,165258301acf542c755e7802d9716b7ff882fffa,osa-train,"_rabbitmq_erlang_repo_url: ""https://download.opensuse.org/repositories/network:/messaging:/amqp/openSUSE_Leap_{{ ansible_distribution_version }}/"" _rabbitmq_erlang_repo: name: network_messaging_amqp description: ""AMQP Messaging Broker repository""_rabbitmq_package_version: 3.8.1-1","_rabbitmq_erlang_repo_url: ""https://download.opensuse.org/repositories/devel:languages:erlang:Factory/openSUSE_Leap_{{ ansible_distribution_version }}/"" _rabbitmq_erlang_repo: name: devel_languages_erlang_Factory description: ""erlang devel project for Factory""_rabbitmq_package_version: 3.8.0-1",4,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I2dea3ce979c3b2d01dc15dd63635efdc1378c15d,openstack/tripleo-upgrade,stable/train,I2dea3ce979c3b2d01dc15dd63635efdc1378c15d,Fix the hieradata_override template,MERGED,2019-12-02 10:17:13.000000000,2019-12-05 13:06:02.000000000,2019-12-03 12:52:43.000000000,"[{'_account_id': 8532}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-12-02 10:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e79b449aaceae351e8dc557e4e102d7e6e3543c1', 'message': 'Fix the hieradata_override template\n\nCurrently when we generate hieradata_override\nwith glance_backend: file, the file is not\nformed correctly.\n\n(cherry picked from commit 72e36f7819996233f6c20c7276eeba22ebe69de2)\nChange-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d\n'}, {'number': 2, 'created': '2019-12-02 16:16:19.000000000', 'files': ['tasks/upgrade/configure_uc_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2a60154219d99d9e05939e92f34f17727dfd3e7d', 'message': 'Fix the hieradata_override template\n\nCurrently when we generate hieradata_override\nwith glance_backend: file, the file is not\nformed correctly.\n\n(cherry picked from commit 72e36f7819996233f6c20c7276eeba22ebe69de2)\nChange-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d\n'}]",0,696855,2a60154219d99d9e05939e92f34f17727dfd3e7d,11,6,2,20775,,,0,"Fix the hieradata_override template

Currently when we generate hieradata_override
with glance_backend: file, the file is not
formed correctly.

(cherry picked from commit 72e36f7819996233f6c20c7276eeba22ebe69de2)
Change-Id: I2dea3ce979c3b2d01dc15dd63635efdc1378c15d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/696855/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/configure_uc_containers.yml'],1,e79b449aaceae351e8dc557e4e102d7e6e3543c1,," - name: Create the hieradata_override file with the basic layout copy: dest: ""{{ undercloud_hiera }}"" content: | parameter_defaults: UndercloudExtraConfig: glance_backend: 'file' # This means that hieradata_override is empty"," - name: Create undercloud hiera file lineinfile: state: present create: true path: ""{{ undercloud_hiera }}"" regexp: '^glance_backend' line: ""glance_backend: 'file'""",8,7
openstack%2Fmagnum~stable%2Frocky~I306a249afb275fdbd71354ed75043ffc4d466304,openstack/magnum,stable/rocky,I306a249afb275fdbd71354ed75043ffc4d466304,k8s_fedora_atomic: Add PodSecurityPolicy,MERGED,2019-12-03 11:21:52.000000000,2019-12-05 12:52:42.000000000,2019-12-05 12:50:47.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23922}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-03 11:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/85a598fe498a2a9c3882a09729fe6dd43e922c0d', 'message': 'k8s_fedora_atomic: Add PodSecurityPolicy\n\nFor moving to 1.15.x and beyond we need to have PSP for privileged pods.\nflannel, calico and node-problem-detector need it.\n\nPSP\nstory: 2006515\ntask: 36513\n\nAllow-priv\nstory: 2006252\ntask: 35867\n\nChange-Id: I306a249afb275fdbd71354ed75043ffc4d466304\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 7267c1ea43b72849ece0bedb0a18bfc438829354)\n(cherry picked from commit 6762a97439ac8feeac05db5b49ac26498c1f0e95)\n'}, {'number': 2, 'created': '2019-12-03 11:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/968bd411a2a84d07785f9ed17f46a01884a50b0c', 'message': 'k8s_fedora_atomic: Add PodSecurityPolicy\n\nFor moving to 1.15.x and beyond we need to have PSP for privileged pods.\nflannel, calico and node-problem-detector need it.\n\nPSP\nstory: 2006515\ntask: 36513\n\nAllow-priv\nstory: 2006252\ntask: 35867\n\nChange-Id: I306a249afb275fdbd71354ed75043ffc4d466304\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 7267c1ea43b72849ece0bedb0a18bfc438829354)\n(cherry picked from commit 6762a97439ac8feeac05db5b49ac26498c1f0e95)\n'}, {'number': 3, 'created': '2019-12-03 11:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dedf69eff3435f973783dabb0122cbb9d3aa1e52', 'message': 'k8s_fedora_atomic: Add PodSecurityPolicy\n\nFor moving to 1.15.x and beyond we need to have PSP for privileged pods.\nflannel, calico and node-problem-detector need it.\n\nPSP\nstory: 2006515\ntask: 36513\n\nAllow-priv\nstory: 2006252\ntask: 35867\n\nChange-Id: I306a249afb275fdbd71354ed75043ffc4d466304\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 7267c1ea43b72849ece0bedb0a18bfc438829354)\n(cherry picked from commit 6762a97439ac8feeac05db5b49ac26498c1f0e95)\n'}, {'number': 4, 'created': '2019-12-05 09:57:54.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'releasenotes/notes/podsecuritypolicy-2400063d73524e06.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/925628b627a8c86f259519ea7dc3b0742eb3226f', 'message': 'k8s_fedora_atomic: Add PodSecurityPolicy\n\nFor moving to 1.15.x and beyond we need to have PSP for privileged pods.\nflannel, calico and node-problem-detector need it.\n\nPSP\nstory: 2006515\ntask: 36513\n\nAllow-priv\nstory: 2006252\ntask: 35867\n\nChange-Id: I306a249afb275fdbd71354ed75043ffc4d466304\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 7267c1ea43b72849ece0bedb0a18bfc438829354)\n(cherry picked from commit 6762a97439ac8feeac05db5b49ac26498c1f0e95)\n'}]",0,697060,925628b627a8c86f259519ea7dc3b0742eb3226f,14,5,4,28022,,,0,"k8s_fedora_atomic: Add PodSecurityPolicy

For moving to 1.15.x and beyond we need to have PSP for privileged pods.
flannel, calico and node-problem-detector need it.

PSP
story: 2006515
task: 36513

Allow-priv
story: 2006252
task: 35867

Change-Id: I306a249afb275fdbd71354ed75043ffc4d466304
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 7267c1ea43b72849ece0bedb0a18bfc438829354)
(cherry picked from commit 6762a97439ac8feeac05db5b49ac26498c1f0e95)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/697060/4 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'releasenotes/notes/podsecuritypolicy-2400063d73524e06.yaml']",4,85a598fe498a2a9c3882a09729fe6dd43e922c0d,rocky-7.1.1,--- features: - | k8s_fedora_atomic_v1 Add PodSecurityPolicy for privileged pods. Use privileged PSP for calico and node-problem-detector. Add PSP for flannel from upstream. ,,192,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62,openstack/tripleo-upgrade,stable/train,I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62,Remove qemu packages to run Leapp upgrade with rhos-release.,MERGED,2019-12-04 13:23:16.000000000,2019-12-05 12:43:39.000000000,2019-12-04 21:35:35.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-12-04 13:23:16.000000000', 'files': ['tasks/upgrade/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/76fb87ba5218ae34a36d4d405a193305be709e52', 'message': 'Remove qemu packages to run Leapp upgrade with rhos-release.\n\nExecuting the Leapp upgrade with rhos-release requires\nto have these two packages removed, otherwise leapp\nupgrade fails.\n\nChange-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62\n(cherry picked from commit 32c5bcf876a2b5e03442f130171918ad9b5f49c1)\n'}]",0,697283,76fb87ba5218ae34a36d4d405a193305be709e52,8,6,1,26343,,,0,"Remove qemu packages to run Leapp upgrade with rhos-release.

Executing the Leapp upgrade with rhos-release requires
to have these two packages removed, otherwise leapp
upgrade fails.

Change-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62
(cherry picked from commit 32c5bcf876a2b5e03442f130171918ad9b5f49c1)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/697283/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/undercloud_os_upgrade.yaml'],1,76fb87ba5218ae34a36d4d405a193305be709e52,, yum -y remove *el7ost* qemu-kvm-common-rhev qemu-img-rhev -- \, yum -y remove *el7ost* -- \,1,1
openstack%2Fnova~master~I256e75eceeb3495dce04885ca42d16adb4160cf3,openstack/nova,master,I256e75eceeb3495dce04885ca42d16adb4160cf3,Integrate 'pre-commit',MERGED,2019-06-15 16:19:20.000000000,2019-12-05 12:31:46.000000000,2019-12-05 12:26:58.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24162}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-15 16:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b1283ef988256736cb38800cbea53d29750ea8f', 'message': ""Integrate 'pre-commit' and deprecate 'tox -e fast8'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis deprecated.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-15 16:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf4c2de747981d8ce3570ec5cff4e7421fe9940a', 'message': ""Integrate 'pre-commit' and deprecate 'tox -e fast8'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis deprecated.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-18 11:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/260ef97fa6f9b347ffacfbc7e6a25ce031e5be3e', 'message': ""Integrate 'pre-commit' and deprecate 'tox -e fast8'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis not deprecated though a note is included for end-users to alert them\nto this great new tool.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-07-12 15:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78b3bde80dd504ee8c70521c21415d553e527ec5', 'message': ""Integrate 'pre-commit'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis not deprecated though a note is included for end-users to alert them\nto this great new tool.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-07-15 13:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1c44b9160e879f84fdbb3e87a23f9b943dec770', 'message': ""Integrate 'pre-commit'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis not deprecated though a note is included for end-users to alert them\nto this great new tool.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-08-02 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab92aa105141a37bf161b9df9d84991e3e62a676', 'message': ""Integrate 'pre-commit'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis not deprecated though a note is included for end-users to alert them\nto this great new tool.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-11-28 12:47:51.000000000', 'files': ['tools/flake8wrap.sh', '.pre-commit-config.yaml', 'doc/source/contributor/development-environment.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f8dd65f6cfcb7f33e72b9371f325801835c9c83', 'message': ""Integrate 'pre-commit'\n\nThis nifty tool provides a extensible way to configure pre-commit hooks\nto do everything from running linters to spellchecking [1] and has\nalready been adopted by a few OpenStack projects [2]. Let's start using\nit as a faster, more automatic alternative to the 'fast8' tox target and\niterate on it as we find more things to use it for. The 'fast8' target\nis not deprecated though a note is included for end-users to alert them\nto this great new tool.\n\nNote that the 'check-executables-have-shebangs' actually failed and\nhighlighted that the 'contributor/development-environment.rst' document\nwas marked as executable when it shouldn't have been. This is corrected.\n\n[1] https://pre-commit.com/\n[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml\n\nChange-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",30,665518,5f8dd65f6cfcb7f33e72b9371f325801835c9c83,97,23,7,15334,,,0,"Integrate 'pre-commit'

This nifty tool provides a extensible way to configure pre-commit hooks
to do everything from running linters to spellchecking [1] and has
already been adopted by a few OpenStack projects [2]. Let's start using
it as a faster, more automatic alternative to the 'fast8' tox target and
iterate on it as we find more things to use it for. The 'fast8' target
is not deprecated though a note is included for end-users to alert them
to this great new tool.

Note that the 'check-executables-have-shebangs' actually failed and
highlighted that the 'contributor/development-environment.rst' document
was marked as executable when it shouldn't have been. This is corrected.

[1] https://pre-commit.com/
[2] https://review.opendev.org/#/q/file:.pre-commit-config.yaml

Change-Id: I256e75eceeb3495dce04885ca42d16adb4160cf3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/665518/7 && git format-patch -1 --stdout FETCH_HEAD,"['tools/flake8wrap.sh', '.pre-commit-config.yaml', 'doc/source/contributor/development-environment.rst']",3,7b1283ef988256736cb38800cbea53d29750ea8f,pre-commit,Using the pre-commit hook ========================= Nova makes use of the `pre-commit framework <https://pre-commit.com/>`__ to allow running of some linters on each commit. This must be enabled locally to function: .. code-block:: shell $ pip install --user pre-commit $ pre-commit install ,,35,0
openstack%2Fkolla-ansible~master~I8a18b6816c8523df6f038f4bf9b46657f285980f,openstack/kolla-ansible,master,I8a18b6816c8523df6f038f4bf9b46657f285980f,Add OpenDaylight web interface,ABANDONED,2018-03-05 08:15:29.000000000,2019-12-05 12:29:54.000000000,,"[{'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-03-05 08:15:29.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9439f15ab4cc521275d236ec98edb9d61af6ec1f', 'message': 'Add OpenDaylight web interface\n\nImplement blueprint opendaylight-web\n\nChange-Id: I8a18b6816c8523df6f038f4bf9b46657f285980f\n'}]",0,549703,9439f15ab4cc521275d236ec98edb9d61af6ec1f,9,7,1,26975,,,0,"Add OpenDaylight web interface

Implement blueprint opendaylight-web

Change-Id: I8a18b6816c8523df6f038f4bf9b46657f285980f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/549703/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,9439f15ab4cc521275d236ec98edb9d61af6ec1f,bp/opendaylight-web,"opendaylight_features: ""odl-restconf,odl-l2switch-switch-ui,odl-openflowplugin-flow-services-ui,odl-mdsal-apidocs,odl-dluxapps-applications,odl-netvirt-openstack""","opendaylight_features: ""odl-mdsal-apidocs,odl-netvirt-openstack""",1,1
openstack%2Fkolla-ansible~stable%2Frocky~I6fe4321b8016f51f69400da86d3f6b2ed504fc71,openstack/kolla-ansible,stable/rocky,I6fe4321b8016f51f69400da86d3f6b2ed504fc71,"Add Option neutron_plugin_agent: ""opendaylight""",ABANDONED,2018-12-07 02:46:49.000000000,2019-12-05 12:29:16.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-12-07 02:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e392136481cdced4ddedd685dfbf0488a679193', 'message': 'Add Option neutron_plugin_agent: ""opendaylight""\n\nChange-Id: I6fe4321b8016f51f69400da86d3f6b2ed504fc71\nCloses-Bug: #1806016\n'}, {'number': 2, 'created': '2018-12-07 02:48:07.000000000', 'files': ['doc/source/reference/networking-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5a0a2005803aeba901ed7b75094c265b70fb120', 'message': 'Add Option neutron_plugin_agent: ""opendaylight""\n\nThis change has been merged into master branch in this change:\nI56a377e1faab9a50f36383ea59b45bf5a9155bcf\n\nChange-Id: I6fe4321b8016f51f69400da86d3f6b2ed504fc71\nCloses-Bug: #1806016\n'}]",0,623386,f5a0a2005803aeba901ed7b75094c265b70fb120,6,3,2,19779,,,0,"Add Option neutron_plugin_agent: ""opendaylight""

This change has been merged into master branch in this change:
I56a377e1faab9a50f36383ea59b45bf5a9155bcf

Change-Id: I6fe4321b8016f51f69400da86d3f6b2ed504fc71
Closes-Bug: #1806016
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/623386/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking-guide.rst'],1,4e392136481cdced4ddedd685dfbf0488a679193,bug/1806016," neutron_plugin_agent: ""opendaylight""",,1,0
openstack%2Ftempest~master~I4288aad4084cbfb2b7db873f17d9dab86d66a5c4,openstack/tempest,master,I4288aad4084cbfb2b7db873f17d9dab86d66a5c4,Fix api-link for interface force_detach_volume,MERGED,2019-11-19 02:41:49.000000000,2019-12-05 12:28:57.000000000,2019-12-05 12:26:54.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31239}]","[{'number': 1, 'created': '2019-11-19 02:41:49.000000000', 'files': ['tempest/lib/services/volume/v3/volumes_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/df959302e5bb46f8dbfd843d54fc5c8fc467006b', 'message': 'Fix api-link for interface force_detach_volume\n\nThe api-link for interface force_detach_volume should be\n""#force-detach-a-volume"", not ""#force-delete-a-volume"".\n\nChange-Id: I4288aad4084cbfb2b7db873f17d9dab86d66a5c4\n'}]",0,694893,df959302e5bb46f8dbfd843d54fc5c8fc467006b,23,7,1,20190,,,0,"Fix api-link for interface force_detach_volume

The api-link for interface force_detach_volume should be
""#force-detach-a-volume"", not ""#force-delete-a-volume"".

Change-Id: I4288aad4084cbfb2b7db873f17d9dab86d66a5c4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/694893/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/volume/v3/volumes_client.py'],1,df959302e5bb46f8dbfd843d54fc5c8fc467006b,force_detach_link, https://docs.openstack.org/api-ref/block-storage/v3/index.html#force-detach-a-volume, https://docs.openstack.org/api-ref/block-storage/v3/index.html#force-delete-a-volume,1,1
openstack%2Fheat~master~Ie955bd170698dd04924b2823b0c38b585e1892b3,openstack/heat,master,Ie955bd170698dd04924b2823b0c38b585e1892b3,Remove setting of DEVSTACK_GATE_EXERCISES,MERGED,2018-07-17 08:44:00.000000000,2019-12-05 12:28:33.000000000,2019-12-05 12:26:01.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 08:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2f14dced2c389f98600127f9684f73ec1f0a6f9e', 'message': 'Remove setting of DEVSTACK_GATE_EXERCISES\n\nThis defaults to 0 anyway, and is being removed as the devstack\nexcercises are being removed. see https://review.openstack.org/#/c/581377/\n\nChange-Id: Ie955bd170698dd04924b2823b0c38b585e1892b3\n'}, {'number': 2, 'created': '2019-01-04 18:26:59.000000000', 'files': ['playbooks/devstack/functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/177b48b5f01e43795d20d638d6f051a89ac1312b', 'message': 'Remove setting of DEVSTACK_GATE_EXERCISES\n\nThis defaults to 0 anyway, and is being removed as the devstack\nexcercises are being removed. see https://review.openstack.org/#/c/581377/\n\nChange-Id: Ie955bd170698dd04924b2823b0c38b585e1892b3\n'}]",0,583155,177b48b5f01e43795d20d638d6f051a89ac1312b,18,3,2,6593,,,0,"Remove setting of DEVSTACK_GATE_EXERCISES

This defaults to 0 anyway, and is being removed as the devstack
excercises are being removed. see https://review.openstack.org/#/c/581377/

Change-Id: Ie955bd170698dd04924b2823b0c38b585e1892b3
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/583155/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/functional/run.yaml'],1,2f14dced2c389f98600127f9684f73ec1f0a6f9e,exercises,, export DEVSTACK_GATE_EXERCISES=0,0,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I6dd88a811e8db89cc71c2dc5526c14dcc074bf16,openstack/tripleo-upgrade,stable/queens,I6dd88a811e8db89cc71c2dc5526c14dcc074bf16,[ci-ffu]Add an option to support puddle configuration in undercloud ffu,MERGED,2019-11-18 11:23:22.000000000,2019-12-05 12:18:05.000000000,2019-12-05 12:18:05.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16615}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 25864}, {'_account_id': 26343}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-11-18 11:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6b8e7d813312bf030d970c6f3c33e15227f96ec2', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 2, 'created': '2019-11-20 12:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6a7de85ba7deaf4015c56a4ec1887601ac3e79e5', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 3, 'created': '2019-11-20 12:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/78f6f5db58fc0702611250a3f60a442aaca47ded', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 4, 'created': '2019-11-22 14:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/aec9efe19ed9f2698f14e2d64cc91e907293910b', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 5, 'created': '2019-11-22 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3edd8df722001fcc70f2cd6fc728778c1bd8d4ac', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 6, 'created': '2019-11-25 11:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/790a190fbe9f043c314108b1de3c937835164826', 'message': '[ci-ffu]Add a option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 7, 'created': '2019-12-02 10:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d848ad7f04558217daaf83d41343b70ee25ae54e', 'message': '[ci-ffu]Add an option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}, {'number': 8, 'created': '2019-12-04 15:10:16.000000000', 'files': ['infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/55a5830f09dc748e5eee9d14af3d59f724a9cbbe', 'message': '[ci-ffu]Add an option to support puddle configuration in undercloud ffu\n\nChange-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16\n'}]",4,694750,55a5830f09dc748e5eee9d14af3d59f724a9cbbe,27,9,8,29088,,,0,"[ci-ffu]Add an option to support puddle configuration in undercloud ffu

Change-Id: I6dd88a811e8db89cc71c2dc5526c14dcc074bf16
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/50/694750/8 && git format-patch -1 --stdout FETCH_HEAD,"['infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/undercloud-upgrade.yml', 'tasks/fast-forward-upgrade/main.yml']",3,6b8e7d813312bf030d970c6f3c33e15227f96ec2,queens," with_together: - ""{{ ffu_undercloud_releases }}"" - ""{{ ffu_puddle_releases }}"""," with_items: ""{{ ffu_undercloud_releases }}""",16,9
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5cdc9ef6a20b7d18aaa802927959b81a08334753,openstack/tripleo-heat-templates,stable/train,I5cdc9ef6a20b7d18aaa802927959b81a08334753,Check if snmpd is enabled for upgrade_tasks,MERGED,2019-11-20 16:37:04.000000000,2019-12-05 12:18:04.000000000,2019-12-05 12:18:04.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11166}, {'_account_id': 12393}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-20 16:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaaae67c1f5b79fc39cde8429b8b69d532ed3013', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 2, 'created': '2019-11-21 09:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3c2bc6dc850d164be1a5298a22352bcaea65a2e', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 3, 'created': '2019-11-21 13:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cc63322a7701b90c944c3bf1465c15495828bae', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695242/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 4, 'created': '2019-11-21 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32525ad76ac43d47f5c64594f9a345a095c4f931', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695242/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 5, 'created': '2019-11-21 14:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f62badbe3c6c32d5a24de062364c36b9819496e', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 6, 'created': '2019-11-21 20:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93b7f91249e5a9d4c10a6a0a0e5b42597cae52a3', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 7, 'created': '2019-11-22 14:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1df65fc06c90654346d72495f4807d600bde0cad', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695700/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 8, 'created': '2019-11-22 14:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6b012b6e0297be20b0bfbb084aed1d412ac575b', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 9, 'created': '2019-11-22 16:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11c73cad4648abfab379b9a6d2760ed92d908a18', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695719\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 10, 'created': '2019-11-25 08:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/241d0608f3ef079ff73dafe710901ef5c9656897', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 11, 'created': '2019-11-26 09:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd986c804be7abc46bdc5167e59aa3db977cf6f0', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\nDepends-On: https://review.opendev.org/#/c/696044/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 12, 'created': '2019-11-26 11:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6080e750294585f3278f1b26b4be5fa4439e4a32', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 13, 'created': '2019-11-26 14:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46a13d0c1fbef45e8e71ffc49dc6355414c51cbd', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\nDepends-On: https://review.opendev.org/#/c/695929/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 14, 'created': '2019-11-27 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbda9dbd033acaeaaf66c5f1cd0186bb6a484d87', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/695889/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 15, 'created': '2019-11-27 13:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/588430c050326afa861fd8688b89c4bf0372c025', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/696304/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 16, 'created': '2019-11-29 10:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb85d87a287d7750f1e1ce71a5e58e832e4c4303', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/695704/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/696673/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 17, 'created': '2019-12-02 10:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eec35e143bed48fbd49c29cd538097998c1b802e', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/696855/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/696673/\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 18, 'created': '2019-12-02 11:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6e0d69c4376a4248747f5e745dfadbe49d476fa', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nChange-Id: Ifa03f397567d58660a6554bced9cc7191b5b369d\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/696855/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/696673/\n\nCloses-Bug: #1853812\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}, {'number': 19, 'created': '2019-12-04 13:30:31.000000000', 'files': ['deployment/snmp/snmp-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a364005e03d7b5e44740354bde21d2fc185f6fab', 'message': 'Check if snmpd is enabled for upgrade_tasks\n\nThis check should prevent some error when the upgrade\ntasks checks if the snmpd is stopped in step 1\n\nDepends-On: https://review.opendev.org/#/c/695234/\nDepends-On: https://review.opendev.org/#/c/695419/\nDepends-On: https://review.opendev.org/#/c/695562/\nDepends-On: https://review.opendev.org/#/c/696855/\nDepends-On: https://review.opendev.org/#/c/695929/\nDepends-On: https://review.opendev.org/#/c/696673/\n\nCloses-Bug: #1853812\n\n(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)\n\nChange-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753\n'}]",3,695242,a364005e03d7b5e44740354bde21d2fc185f6fab,102,10,19,20775,,,0,"Check if snmpd is enabled for upgrade_tasks

This check should prevent some error when the upgrade
tasks checks if the snmpd is stopped in step 1

Depends-On: https://review.opendev.org/#/c/695234/
Depends-On: https://review.opendev.org/#/c/695419/
Depends-On: https://review.opendev.org/#/c/695562/
Depends-On: https://review.opendev.org/#/c/696855/
Depends-On: https://review.opendev.org/#/c/695929/
Depends-On: https://review.opendev.org/#/c/696673/

Closes-Bug: #1853812

(cherry picked from commit 709a6b78bbe3ed181ab53b6055964c8b4332946d)

Change-Id: I5cdc9ef6a20b7d18aaa802927959b81a08334753
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/695242/16 && git format-patch -1 --stdout FETCH_HEAD,['deployment/snmp/snmp-baremetal-puppet.yaml'],1,aaaae67c1f5b79fc39cde8429b8b69d532ed3013,snmpd/enabled-stable/train," - when: step|int == 0 block: - name: Check if snmpd is enabled command: systemctl is-enabled --quiet snmpd ignore_errors: True register: snmpd_enabled_result - name: Set fact snmpd_enabled set_fact: snmpd_enabled: ""{{ snmpd_enabled_result.rc == 0 }}"" when: - step|int == 1 - snmpd_enabled|bool", when: step|int == 1,12,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9640529455e1d14c98c3b53993a71d77de8d7a25,openstack/tripleo-heat-templates,stable/train,I9640529455e1d14c98c3b53993a71d77de8d7a25,ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers,MERGED,2019-12-04 13:31:39.000000000,2019-12-05 12:18:03.000000000,2019-12-05 12:18:02.000000000,"[{'_account_id': 8449}, {'_account_id': 10237}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-04 13:31:39.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f1ffe9a10ea27b404a638fc11f12ad8cb42609d', 'message': 'ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers\n\nThe kolla commit [1] deleted the extend_start script for ovn-nb-db-server/ovn-sb-db-server\nkolla images. This script created the ovn dbs from the schema. After this commit\ntripleo CI is broken as the ovn dbs are not present.\n\nTo fix this issue, this patch first creates OVN dbs before starting the OVN ovsdb-servers.\n\n[1] -  I31a372d801dace92950cd85b29b308431f78bbdb\nCloses-bug: #1852682\nCloses-bug: #1855055\n\n(cherry-picked from master commit e8ecbecb6a36c1222a5ff4459ceaa6e7e3b9a680)\nChange-Id: I9640529455e1d14c98c3b53993a71d77de8d7a25\nSigned-off-by: Numan Siddique <nusiddiq@redhat.com>\n'}]",2,697285,0f1ffe9a10ea27b404a638fc11f12ad8cb42609d,15,7,1,10237,,,0,"ovn-db standalone: Create ovndbs before starting the OVN ovsdb servers

The kolla commit [1] deleted the extend_start script for ovn-nb-db-server/ovn-sb-db-server
kolla images. This script created the ovn dbs from the schema. After this commit
tripleo CI is broken as the ovn dbs are not present.

To fix this issue, this patch first creates OVN dbs before starting the OVN ovsdb-servers.

[1] -  I31a372d801dace92950cd85b29b308431f78bbdb
Closes-bug: #1852682
Closes-bug: #1855055

(cherry-picked from master commit e8ecbecb6a36c1222a5ff4459ceaa6e7e3b9a680)
Change-Id: I9640529455e1d14c98c3b53993a71d77de8d7a25
Signed-off-by: Numan Siddique <nusiddiq@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/697285/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,0f1ffe9a10ea27b404a638fc11f12ad8cb42609d,train_bz1852682," step_3: ovn_north_db_init: image: &northd_db_image {get_param: ContainerOvnNbDbImage} net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z command: ""ovsdb-tool create /var/lib/openvswitch/ovnnb.db /usr/share/openvswitch/ovn-nb.ovsschema"" ovn_south_db_init: image: &south_db_image {get_param: ContainerOvnSbDbImage} net: host privileged: false detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/ovn_north_db_server.json:/var/lib/kolla/config_files/config.json:ro - /lib/modules:/lib/modules:ro - /var/lib/openvswitch/ovn:/var/lib/openvswitch:shared,z - /var/lib/openvswitch/ovn:/run/openvswitch:shared,z - /var/log/containers/openvswitch:/var/log/openvswitch:z command: ""ovsdb-tool create /var/lib/openvswitch/ovnsb.db /usr/share/openvswitch/ovn-sb.ovsschema"" image: *northd_db_image image: *south_db_image", image: {get_param: ContainerOvnNbDbImage} image: {get_param: ContainerOvnSbDbImage},35,2
openstack%2Fopenstack-ansible-os_swift~master~Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657,openstack/openstack-ansible-os_swift,master,Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657,Install python3 packages for ubuntu,MERGED,2019-11-18 14:23:13.000000000,2019-12-05 12:05:30.000000000,2019-12-05 01:05:26.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-18 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/6719d19c23001b478c34cb610e23276c07a91f7d', 'message': 'Install python3 packages for ubuntu\n\nChange-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657\n'}, {'number': 2, 'created': '2019-11-18 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/63f7f12a74f16153c7efb0e1082070208a8c9789', 'message': 'Install python3 packages for ubuntu\n\nChange-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657\n'}, {'number': 3, 'created': '2019-11-18 16:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d03e660a8a227059337a46228cdf33871dd23ec4', 'message': 'Install python3 packages for ubuntu\n\nChange-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657\n'}, {'number': 4, 'created': '2019-12-04 17:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/b62fb41f558534d544a8bb11992f710d7d813632', 'message': 'Install python3 packages for ubuntu\n\nDepends-On: https://review.opendev.org/695204\nChange-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657\n'}, {'number': 5, 'created': '2019-12-04 18:22:46.000000000', 'files': ['templates/swift_rings_check.py.j2', 'templates/swift_rings.py.j2', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d276dbb7a96fe45c75aa90367d85bb7c7549d633', 'message': 'Install python3 packages for ubuntu\n\nChange-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657\n'}]",0,694783,d276dbb7a96fe45c75aa90367d85bb7c7549d633,23,4,5,28619,,,0,"Install python3 packages for ubuntu

Change-Id: Ie7ec148ca56ea5cf8d53cd237c50f2e76b994657
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/83/694783/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,6719d19c23001b478c34cb610e23276c07a91f7d,osa-train, - python3-keystonemiddleware - python3-memcache - python3-swift, - python-keystonemiddleware - python-memcache - python-swift,3,3
openstack%2Fcloudkitty~master~Id176c99a8cfc7761ba2a67c89a5521d23505ecb5,openstack/cloudkitty,master,Id176c99a8cfc7761ba2a67c89a5521d23505ecb5,Allow reaggregation method to be specified in the gnocchi collector,MERGED,2019-11-20 15:13:03.000000000,2019-12-05 11:18:01.000000000,2019-12-05 11:16:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-20 15:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a280bd3a4ed61f96c2b6f311b241ae6a1eee7da4', 'message': 'Allow reaggregation method to be specified in the gnocchi collector\n\nThis introduces a new option to the gnocchi collector: ""re_aggregation_method"".\nIt allows to specify an aggregation method that\'s different from the\nretrieved aggregate type for dynamic aggregation.\n\nWork items:\n\n* Added a ""re_aggregation_method"" to the gnocchi collector\n* Updated the documentation\n* Added some unit tests\n\nChange-Id: Id176c99a8cfc7761ba2a67c89a5521d23505ecb5\n'}, {'number': 2, 'created': '2019-11-28 08:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/210b019866fa1701a1b795b12068705081657374', 'message': 'Allow reaggregation method to be specified in the gnocchi collector\n\nThis introduces a new option to the gnocchi collector: ""re_aggregation_method"".\nIt allows to specify an aggregation method that\'s different from the\nretrieved aggregate type for dynamic aggregation.\n\nWork items:\n\n* Added a ""re_aggregation_method"" to the gnocchi collector\n* Updated the documentation\n* Added some unit tests\n\nChange-Id: Id176c99a8cfc7761ba2a67c89a5521d23505ecb5\n'}, {'number': 3, 'created': '2019-12-03 10:39:50.000000000', 'files': ['cloudkitty/tests/collectors/test_gnocchi.py', 'releasenotes/notes/fix-dataframe-filtering-282cae643457bb8b.yaml', 'releasenotes/notes/add-re-aggregation-method-option-gnocchi-collector-249917a14c4fc721.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/collectors/test_validation.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8a0f80ad915e9dff5ab1ec244fdaae5682f6f195', 'message': 'Allow reaggregation method to be specified in the gnocchi collector\n\nThis introduces a new option to the gnocchi collector: ""re_aggregation_method"".\nIt allows to specify an aggregation method that\'s different from the\nretrieved aggregate type for dynamic aggregation.\n\nWork items:\n\n* Added a ""re_aggregation_method"" to the gnocchi collector\n* Updated the documentation\n* Added some unit tests\n\nChange-Id: Id176c99a8cfc7761ba2a67c89a5521d23505ecb5\n'}]",0,695217,8a0f80ad915e9dff5ab1ec244fdaae5682f6f195,12,3,3,23060,,,0,"Allow reaggregation method to be specified in the gnocchi collector

This introduces a new option to the gnocchi collector: ""re_aggregation_method"".
It allows to specify an aggregation method that's different from the
retrieved aggregate type for dynamic aggregation.

Work items:

* Added a ""re_aggregation_method"" to the gnocchi collector
* Updated the documentation
* Added some unit tests

Change-Id: Id176c99a8cfc7761ba2a67c89a5521d23505ecb5
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/17/695217/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/collectors/test_gnocchi.py', 'releasenotes/notes/fix-dataframe-filtering-282cae643457bb8b.yaml', 'releasenotes/notes/add-re-aggregation-method-option-gnocchi-collector-249917a14c4fc721.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/tests/collectors/test_validation.py']",6,a280bd3a4ed61f96c2b6f311b241ae6a1eee7da4,," 're_aggregation_method': None,",,109,6
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ib6d2e19febdff00fb1a92302e2777948332dfa42,openstack/tripleo-heat-templates,stable/rocky,Ib6d2e19febdff00fb1a92302e2777948332dfa42,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:44:05.000000000,2019-12-05 11:08:34.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-01 12:44:05.000000000', 'files': ['puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4188f060197da648e6760c0d3e22446bfdc2b5e4', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nDepends-On: https://review.openstack.org/#/c/648954/\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)\n'}]",0,648964,4188f060197da648e6760c0d3e22446bfdc2b5e4,5,3,1,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Depends-On: https://review.openstack.org/#/c/648954/

Change-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42
(cherry picked from commit 285f2f6684a147003b27b1354d54106ef95ccc50)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/648964/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-controller.yaml'],1,4188f060197da648e6760c0d3e22446bfdc2b5e4,, OctaviaAmphoraSecGroupAllowedProjects: description: List of project ids that are allowed to have Load balancer security groups belonging to them. type: comma_delimited_list octavia::controller::amp_secgroup_allowed_projects: {get_param: OctaviaAmphoraSecGroupAllowedProjects},,5,0
openstack%2Fpuppet-octavia~master~I2dbca4bb778dcd1132946641eb304194b279a8ea,openstack/puppet-octavia,master,I2dbca4bb778dcd1132946641eb304194b279a8ea,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 11:50:54.000000000,2019-12-05 11:08:26.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/94c7cab4aada85215735680601c990aad27b4e13', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n'}, {'number': 2, 'created': '2019-06-07 12:31:58.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/af1ac3cd0d5a69a0249f568a758250f6df055254', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n'}]",0,648952,af1ac3cd0d5a69a0249f568a758250f6df055254,7,2,2,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Change-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/52/648952/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",2,94c7cab4aada85215735680601c990aad27b4e13,648952,"# [*amp_secgroup_allowed_projects*] # (optional) List of project ids that are allowed to have Load balancer # security groups belonging to them. # Defaults to $::os_service_default # $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $amp_secgroup_allowed_projects = $::os_service_default, $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $timeout_client_data = $::os_service_default, $timeout_member_connect = $::os_service_default, $timeout_member_data = $::os_service_default, $timeout_tcp_inspect = $::os_service_default, $controller_ip_port_list = $::os_service_default, $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $amp_secgroup_allowed_projects_real = pick($::octavia::worker::amp_secgroup_allowed_projects, $amp_secgroup_allowed_projects) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) $timeout_client_data_real = pick($::octavia::worker::timeout_client_data, $timeout_client_data) $timeout_member_connect_real = pick($::octavia::worker::timeout_member_connect, $timeout_member_connect) $timeout_member_data_real = pick($::octavia::worker::timeout_member_data, $timeout_member_data) $timeout_tcp_inspect_real = pick($::octavia::worker::timeout_tcp_inspect, $timeout_tcp_inspect) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/amp_secgroup_allowed_projects' : value => $amp_secgroup_allowed_projects_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data_real; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect_real; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data_real; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;"," $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $timeout_client_data = $::os_service_default, $timeout_member_connect = $::os_service_default, $timeout_member_data = $::os_service_default, $timeout_tcp_inspect = $::os_service_default, $controller_ip_port_list = $::os_service_default, $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) $timeout_client_data_real = pick($::octavia::worker::timeout_client_data, $timeout_client_data) $timeout_member_connect_real = pick($::octavia::worker::timeout_member_connect, $timeout_member_connect) $timeout_member_data_real = pick($::octavia::worker::timeout_member_data, $timeout_member_data) $timeout_tcp_inspect_real = pick($::octavia::worker::timeout_tcp_inspect, $timeout_tcp_inspect) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data_real; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect_real; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data_real; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;",60,49
openstack%2Fpuppet-octavia~stable%2Fstein~I2dbca4bb778dcd1132946641eb304194b279a8ea,openstack/puppet-octavia,stable/stein,I2dbca4bb778dcd1132946641eb304194b279a8ea,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 11:55:18.000000000,2019-12-05 11:08:22.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 11:55:18.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1a95a9213e0bf0267fa89243b85b767ca009df0b', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)\n'}]",0,648953,1a95a9213e0bf0267fa89243b85b767ca009df0b,4,2,1,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Change-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea
(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/53/648953/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",2,1a95a9213e0bf0267fa89243b85b767ca009df0b,,"# [*amp_secgroup_allowed_projects*] # (optional) List of project ids that are allowed to have Load balancer # security groups belonging to them. # Defaults to $::os_service_default # $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $amp_secgroup_allowed_projects = $::os_service_default, $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $timeout_client_data = $::os_service_default, $timeout_member_connect = $::os_service_default, $timeout_member_data = $::os_service_default, $timeout_tcp_inspect = $::os_service_default, $controller_ip_port_list = $::os_service_default, $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $amp_secgroup_allowed_projects_real = pick($::octavia::worker::amp_secgroup_allowed_projects, $amp_secgroup_allowed_projects) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) $timeout_client_data_real = pick($::octavia::worker::timeout_client_data, $timeout_client_data) $timeout_member_connect_real = pick($::octavia::worker::timeout_member_connect, $timeout_member_connect) $timeout_member_data_real = pick($::octavia::worker::timeout_member_data, $timeout_member_data) $timeout_tcp_inspect_real = pick($::octavia::worker::timeout_tcp_inspect, $timeout_tcp_inspect) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/amp_secgroup_allowed_projects' : value => $amp_secgroup_allowed_projects_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data_real; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect_real; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data_real; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;"," $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $timeout_client_data = $::os_service_default, $timeout_member_connect = $::os_service_default, $timeout_member_data = $::os_service_default, $timeout_tcp_inspect = $::os_service_default, $controller_ip_port_list = $::os_service_default, $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) $timeout_client_data_real = pick($::octavia::worker::timeout_client_data, $timeout_client_data) $timeout_member_connect_real = pick($::octavia::worker::timeout_member_connect, $timeout_member_connect) $timeout_member_data_real = pick($::octavia::worker::timeout_member_data, $timeout_member_data) $timeout_tcp_inspect_real = pick($::octavia::worker::timeout_tcp_inspect, $timeout_tcp_inspect) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data_real; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect_real; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data_real; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;",60,49
openstack%2Fpuppet-octavia~stable%2Frocky~I2dbca4bb778dcd1132946641eb304194b279a8ea,openstack/puppet-octavia,stable/rocky,I2dbca4bb778dcd1132946641eb304194b279a8ea,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 11:58:56.000000000,2019-12-05 11:08:19.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 11:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/86fd1742b7b4b36f0dde78cfc73a14d5f4b31c38', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)\n(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)\n'}, {'number': 2, 'created': '2019-04-01 12:23:09.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f21547b3c1425e793cd211f8723eec457672a153', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)\n(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)\n'}]",0,648954,f21547b3c1425e793cd211f8723eec457672a153,7,2,2,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Change-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea
(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)
(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/54/648954/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",2,86fd1742b7b4b36f0dde78cfc73a14d5f4b31c38,648954,"# [*amp_secgroup_allowed_projects*] # (optional) List of project ids that are allowed to have Load balancer # security groups belonging to them. # Defaults to $::os_service_default #<<<<<<< HEAD $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $amp_secgroup_allowed_projects = $::os_service_default, $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $controller_ip_port_list = $::os_service_default,<<<<<<< HEAD $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $amp_secgroup_allowed_projects_real = pick($::octavia::worker::amp_secgroup_allowed_projects, $amp_secgroup_allowed_projects) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access)<<<<<<< HEAD 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/amp_secgroup_allowed_projects' : value => $amp_secgroup_allowed_projects_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;"," $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $controller_ip_port_list = $::os_service_default, $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'health_manager/controller_ip_port_list' : value => $controller_ip_port_list;",51,37
openstack%2Fpuppet-octavia~stable%2Fqueens~I2dbca4bb778dcd1132946641eb304194b279a8ea,openstack/puppet-octavia,stable/queens,I2dbca4bb778dcd1132946641eb304194b279a8ea,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:06:57.000000000,2019-12-05 11:08:15.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 12:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/eebabb49b4b95cd85df27566cef19bffd1d56e44', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)\n(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)\n(cherry picked from commit 86fd1742b7b4b36f0dde78cfc73a14d5f4b31c38)\n'}, {'number': 2, 'created': '2019-04-01 12:26:11.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a224ed9291adb95fbc6b632720d5a21ed3af502a', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea\n(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)\n(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)\n(cherry picked from commit f21547b3c1425e793cd211f8723eec457672a153)\n'}]",0,648955,a224ed9291adb95fbc6b632720d5a21ed3af502a,6,2,2,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Change-Id: I2dbca4bb778dcd1132946641eb304194b279a8ea
(cherry picked from commit 94c7cab4aada85215735680601c990aad27b4e13)
(cherry picked from commit 1a95a9213e0bf0267fa89243b85b767ca009df0b)
(cherry picked from commit f21547b3c1425e793cd211f8723eec457672a153)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/55/648955/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",2,eebabb49b4b95cd85df27566cef19bffd1d56e44,648955,"# [*amp_secgroup_allowed_projects*] # (optional) List of project ids that are allowed to have Load balancer # security groups belonging to them. # Defaults to $::os_service_default # $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $amp_secgroup_allowed_projects = $::os_service_default, $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $amp_secgroup_allowed_projects_real = pick($::octavia::worker::amp_secgroup_allowed_projects, $amp_secgroup_allowed_projects) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/amp_secgroup_allowed_projects' : value => $amp_secgroup_allowed_projects_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real;"," $amp_flavor_id = '65', $amp_image_tag = $::os_service_default, $amp_secgroup_list = $::os_service_default, $amp_boot_network_list = [], $loadbalancer_topology = $::os_service_default, $amphora_driver = 'amphora_haproxy_rest_driver', $compute_driver = 'compute_nova_driver', $network_driver = 'allowed_address_pairs_driver', $enable_ssh_access = true, $amp_ssh_key_name = 'octavia-ssh-key', $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real;",39,28
openstack%2Ftripleo-heat-templates~master~Ib6d2e19febdff00fb1a92302e2777948332dfa42,openstack/tripleo-heat-templates,master,Ib6d2e19febdff00fb1a92302e2777948332dfa42,Add parameter to set amp_secgroup_allowed_projects,ABANDONED,2019-04-01 12:37:23.000000000,2019-12-05 11:08:06.000000000,,"[{'_account_id': 6469}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-01 12:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e8aef84d727ad548387d36815de0c74c1cf4d16', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n'}, {'number': 2, 'created': '2019-04-01 12:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/285f2f6684a147003b27b1354d54106ef95ccc50', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nDepends-On: https://review.openstack.org/#/c/648952/\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n'}, {'number': 3, 'created': '2019-05-26 17:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51c13a1e85b51bb38b2d8abf54e35916162d2fbf', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nDepends-On: https://review.openstack.org/#/c/648952/\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n'}, {'number': 4, 'created': '2019-05-27 08:01:42.000000000', 'files': ['deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5a66366228a7845e9bda9f8728197386888a412', 'message': 'Add parameter to set amp_secgroup_allowed_projects\n\nEnables admins/installers to set amp_secgroup_allowed_projects for those\nwho have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their\nOctavia code base.\n\nDepends-On: https://review.openstack.org/#/c/648952/\n\nChange-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42\n'}]",0,648963,e5a66366228a7845e9bda9f8728197386888a412,14,4,4,6469,,,0,"Add parameter to set amp_secgroup_allowed_projects

Enables admins/installers to set amp_secgroup_allowed_projects for those
who have imported I2346c8a3f2fa4b4eb8a004b4aaab93986228c371 in to their
Octavia code base.

Depends-On: https://review.openstack.org/#/c/648952/

Change-Id: Ib6d2e19febdff00fb1a92302e2777948332dfa42
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/648963/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,2e8aef84d727ad548387d36815de0c74c1cf4d16,648963, OctaviaAmphoraSecGroupAllowedProjects: description: List of project ids that are allowed to have Load balancer security groups belonging to them type: comma_delimited_list octavia::controller::amp_secgroup_allowed_projects: {get_param: OctaviaAmphoraSecGroupAllowedProjects},,5,0
openstack%2Fpython-cloudkittyclient~master~I6735f1fa8d876a87e2b7d4aaa533d5a32b085735,openstack/python-cloudkittyclient,master,I6735f1fa8d876a87e2b7d4aaa533d5a32b085735,Improve HTTP error formatting,MERGED,2019-11-28 10:53:24.000000000,2019-12-05 11:07:42.000000000,2019-12-05 11:06:29.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-11-28 10:53:24.000000000', 'files': ['cloudkittyclient/common/base.py', 'cloudkittyclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d28c5bc4dd01894553a8dcb0e4d5356d07da9953', 'message': 'Improve HTTP error formatting\n\nThis improves formatting for HTTP errors. keystoneauth\'s HttpErrors\nare now caught an re-formatted to include the body of the http response.\n\nWork items:\n\n* Introduce the ""http_error_formatter"" function decorator, which catches\n  an re-formats keystoneauths HttpErrors.\n\n* Introduce the ""format_http_errors"" class decorator, which applies the\n  ""http_error_formatter"" to all functions of a class.\n\n* Add an ""HttpDecoratorMeta"" to the ""BaseManager"" class. This will decorate\n  all functions of classes inheriting from ""BaseManager"" with the\n  ""http_error_formatter"" decorator.\n\nChange-Id: I6735f1fa8d876a87e2b7d4aaa533d5a32b085735\n'}]",0,696494,d28c5bc4dd01894553a8dcb0e4d5356d07da9953,8,3,1,23060,,,0,"Improve HTTP error formatting

This improves formatting for HTTP errors. keystoneauth's HttpErrors
are now caught an re-formatted to include the body of the http response.

Work items:

* Introduce the ""http_error_formatter"" function decorator, which catches
  an re-formats keystoneauths HttpErrors.

* Introduce the ""format_http_errors"" class decorator, which applies the
  ""http_error_formatter"" to all functions of a class.

* Add an ""HttpDecoratorMeta"" to the ""BaseManager"" class. This will decorate
  all functions of classes inheriting from ""BaseManager"" with the
  ""http_error_formatter"" decorator.

Change-Id: I6735f1fa8d876a87e2b7d4aaa533d5a32b085735
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/94/696494/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/common/base.py', 'cloudkittyclient/utils.py']",2,d28c5bc4dd01894553a8dcb0e4d5356d07da9953,,"import inspect import sys from keystoneauth1.exceptions import http def http_error_formatter(func): """"""This decorator catches Http Errors and re-formats them"""""" def wrap(*args, **kwargs): try: return func(*args, **kwargs) except http.HttpError as e: raise http.HttpError(message=e.response.text, http_status=e.http_status) return wrap def format_http_errors(ignore): """"""Applies ``http_error_formatter`` to all methods of a class. :param ignore: List of function names to ignore :type ignore: iterable """""" def wrap(cls): # If you want pretty errors, use python3. # __qualname__ does not exist in python 2 if sys.version_info.major < 3: return cls def predicate(item): # This avoids decorating functions of parent classes return (inspect.isfunction(item) and item.__name__ not in ignore and not item.__name__.startswith('_') and cls.__name__ in item.__qualname__) for name, func in inspect.getmembers(cls, predicate): setattr(cls, name, http_error_formatter(func)) return cls return wrap",# -*- coding: utf-8 -*-,59,1
openstack%2Fmagnum~stable%2Frocky~Ic70938184bdb98eaaf4f384ce553818cf2624a2a,openstack/magnum,stable/rocky,Ic70938184bdb98eaaf4f384ce553818cf2624a2a,k8s: Clear cni configuration,MERGED,2019-12-02 16:41:34.000000000,2019-12-05 11:00:54.000000000,2019-12-05 11:00:54.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23922}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-02 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/983fdb9361a5fba8a726a4acfaa69ba37d31fa7d', 'message': 'k8s: Clear cni configuration\n\nIn fedora atomic 29, podman is present and configures\nits own cni. We need to clear the cni configuration\notherwise we will get  that cni0 is already used.\n\nstory: 2006171\ntask: 35682\n\nChange-Id: Ic70938184bdb98eaaf4f384ce553818cf2624a2a\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit afd2403adc2a423455d5521a157886d5a15ad9aa)\n'}, {'number': 2, 'created': '2019-12-03 00:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c454666bcdf37c1c4032ecffedc8709802a0d67c', 'message': 'k8s: Clear cni configuration\n\nIn fedora atomic 29, podman is present and configures\nits own cni. We need to clear the cni configuration\notherwise we will get  that cni0 is already used.\n\nstory: 2006171\ntask: 35682\n\nChange-Id: Ic70938184bdb98eaaf4f384ce553818cf2624a2a\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit afd2403adc2a423455d5521a157886d5a15ad9aa)\n(cherry picked from commit fcc0213a582acb14aa71a1938076c6aed9b696be)\n'}, {'number': 3, 'created': '2019-12-03 00:59:49.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/dbe2abd258ffd00f000e2fde4a5880ca92e52282', 'message': 'k8s: Clear cni configuration\n\nIn fedora atomic 29, podman is present and configures\nits own cni. We need to clear the cni configuration\notherwise we will get  that cni0 is already used.\n\nstory: 2006171\ntask: 35682\n\nChange-Id: Ic70938184bdb98eaaf4f384ce553818cf2624a2a\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit afd2403adc2a423455d5521a157886d5a15ad9aa)\n(cherry picked from commit fcc0213a582acb14aa71a1938076c6aed9b696be)\n'}]",0,696915,dbe2abd258ffd00f000e2fde4a5880ca92e52282,13,5,3,28022,,,0,"k8s: Clear cni configuration

In fedora atomic 29, podman is present and configures
its own cni. We need to clear the cni configuration
otherwise we will get  that cni0 is already used.

story: 2006171
task: 35682

Change-Id: Ic70938184bdb98eaaf4f384ce553818cf2624a2a
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit afd2403adc2a423455d5521a157886d5a15ad9aa)
(cherry picked from commit fcc0213a582acb14aa71a1938076c6aed9b696be)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/696915/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,983fdb9361a5fba8a726a4acfaa69ba37d31fa7d,rocky-7.1.1,"rm -rf /etc/cni/net.d/* rm -rf /var/lib/cni/* rm -rf /opt/cni/*mkdir -p /etc/cni/net.d/ _addtl_mounts=',{""type"":""bind"",""source"":""/opt/cni"",""destination"":""/opt/cni"",""options"":[""bind"",""rw"",""slave"",""mode=777""]},{""type"":""bind"",""source"":""/var/lib/docker"",""destination"":""/var/lib/docker"",""options"":[""bind"",""rw"",""slave"",""mode=755""]}' if [ ""$NETWORK_DRIVER"" = ""calico"" ]; then if [ ""`systemctl status NetworkManager.service | grep -o ""Active: active""`"" = ""Active: active"" ]; then CALICO_NM=/etc/NetworkManager/conf.d/calico.conf [ -f ${CALICO_NM} ] || { echo ""Writing File: $CALICO_NM"" mkdir -p $(dirname ${CALICO_NM}) cat << EOF > ${CALICO_NM} [keyfile] unmanaged-devices=interface-name:cali*;interface-name:tunl* EOF } systemctl restart NetworkManager fi fi mkdir -p /srv/magnum/kubernetes/ cat > /srv/magnum/kubernetes/install-kubernetes.sh <<EOF #!/bin/bash -x atomic install --storage ostree --system --set=ADDTL_MOUNTS='${_addtl_mounts}' --system-package=no --name=kubelet ${_prefix}kubernetes-kubelet:${KUBE_TAG}","_addtl_mounts=',{""type"":""bind"",""source"":""/opt/cni"",""destination"":""/opt/cni"",""options"":[""bind"",""rw"",""slave"",""mode=777""]}' atomic install --storage ostree --system --set=ADDTL_MOUNTS=${_addtl_mounts} --system-package=no --name=kubelet ${_prefix}kubernetes-kubelet:${KUBE_TAG}",33,3
openstack%2Fkolla~master~I8e9faf613a52a65414dc2333237de2a6881763d6,openstack/kolla,master,I8e9faf613a52a65414dc2333237de2a6881763d6,WIP: Remove horizon plugin logic,ABANDONED,2017-08-01 15:26:49.000000000,2019-12-05 10:56:43.000000000,,[{'_account_id': 19316}],"[{'number': 1, 'created': '2017-08-01 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2dace91d0d886caaf3a2e2f94032970821e4965d', 'message': 'WIP: Remove horizon plugin logic\n\nHorizon enable plugins if detect each service\nendpoint. This enable logic is mostly useless\nand breaking with rpm packages who does not have\nplugin files into python_path.\n\nChange-Id: I8e9faf613a52a65414dc2333237de2a6881763d6\n'}, {'number': 2, 'created': '2017-08-01 15:28:38.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ce96a4ff05f34697aa169f89d18b23e2231b9e30', 'message': 'WIP: Remove horizon plugin logic\n\nHorizon enable plugins if detect each service\nendpoint. This enable logic is mostly useless\nand breaking with rpm packages who does not have\nplugin files into python_path.\n\nChange-Id: I8e9faf613a52a65414dc2333237de2a6881763d6\n'}]",0,489635,ce96a4ff05f34697aa169f89d18b23e2231b9e30,6,1,2,19316,,,0,"WIP: Remove horizon plugin logic

Horizon enable plugins if detect each service
endpoint. This enable logic is mostly useless
and breaking with rpm packages who does not have
plugin files into python_path.

Change-Id: I8e9faf613a52a65414dc2333237de2a6881763d6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/489635/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'docker/horizon/extend_start.sh']",2,2dace91d0d886caaf3a2e2f94032970821e4965d,remove-horizon-logic," SRC=$1 DEST=$2 if [[ ! -f ""${DEST}"" ]]; then elif [[ -f ""${DEST}"" ]]; then config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \ config_dashboard \if [[ ""${KOLLA_INSTALL_TYPE}"" == ""binary"" ]]; then config_cloudkitty_dashboard config_designate_dashboard config_freezer_ui config_ironic_dashboard config_karbor_dashboard config_magnum_dashboard config_manila_ui config_mistral_dashboard config_murano_dashboard config_neutron_lbaas config_sahara_dashboard config_searchlight_ui config_senlin_dashboard config_solum_dashboard config_tacker_dashboard config_trove_dashboard config_watcher_dashboard config_zaqar_dashboard config_zun_dashboard fi"," ENABLE=$1 SRC=$2 DEST=$3 if [[ ""${ENABLE}"" == ""yes"" ]] && [[ ! -f ""${DEST}"" ]]; then elif [[ ""${ENABLE}"" != ""yes"" ]] && [[ -f ""${DEST}"" ]]; then config_dashboard ""${ENABLE_CLOUDKITTY}"" \ config_dashboard ""${ENABLE_DESIGNATE}"" \ config_dashboard ""${ENABLE_FREEZER}"" \ config_dashboard ""${ENABLE_IRONIC}"" \ config_dashboard ""${ENABLE_KARBOR}"" \ config_dashboard ""${ENABLE_MAGNUM}"" \ config_dashboard ""${ENABLE_MANILA}"" \ config_dashboard ""${ENABLE_MURANO}"" \ config_dashboard ""${ENABLE_MURANO}""\ config_dashboard ""${ENABLE_MURANO}""\ config_dashboard ""${ENABLE_MISTRAL}"" \ config_dashboard ""${ENABLE_NEUTRON_LBAAS}"" \ config_dashboard ""${ENABLE_SAHARA}"" \ config_dashboard ""${ENABLE_SEARCHLIGHT}"" \ config_dashboard ""${ENABLE_SEARCHLIGHT}"" \ config_dashboard ""${ENABLE_SEARCHLIGHT}"" \ config_dashboard ""${ENABLE_SENLIN}"" \ config_dashboard ""${ENABLE_SENLIN}"" \ config_dashboard ""${ENABLE_SOLUM}"" \ config_dashboard ""${ENABLE_TACKER}"" \ config_dashboard ""${ENABLE_TROVE}"" \ config_dashboard ""${ENABLE_WATCHER}"" \ config_dashboard ""${ENABLE_WATCHER}"" \ config_dashboard ""${ENABLE_ZAQAR}"" \ config_dashboard ""${ENABLE_ZUN}"" \config_cloudkitty_dashboard config_designate_dashboard config_freezer_ui config_ironic_dashboard config_karbor_dashboard config_magnum_dashboard config_manila_ui config_mistral_dashboard config_murano_dashboard config_neutron_lbaas config_sahara_dashboard config_searchlight_ui config_senlin_dashboard config_solum_dashboard config_tacker_dashboard config_trove_dashboard config_watcher_dashboard config_zaqar_dashboard config_zun_dashboard",50,53
openstack%2Fkolla-ansible~master~I53609f0d3cfc8caf636090e3e4368317ec981e88,openstack/kolla-ansible,master,I53609f0d3cfc8caf636090e3e4368317ec981e88,Split keepalived own role,ABANDONED,2017-03-31 12:11:05.000000000,2019-12-05 10:56:36.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-03-31 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f56faf7452eae61089375860ddb45f825bd60a3d', 'message': 'WIP: Split keepalived own role\n\nNeed multinode/upgrades testing.\n\nPartially-Implements: blueprint nginx-ansible-role\nChange-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88\n'}, {'number': 2, 'created': '2017-04-04 10:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b05a25b42df017b922d729f95bad93d73f3b5462', 'message': 'Split keepalived own role\n\nKeepalived service can be consumed by other services as\ncan be the work in progress nginx as load balancer.\nIn order to ease this service integration with others\nthis PS split keepalived role to be independent of HAproxy.\n\n\nPartially-Implements: blueprint nginx-ansible-role\nChange-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88\n'}, {'number': 3, 'created': '2017-06-29 10:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1f3b2dddaf3c0248320c4381169edc80f45db7e', 'message': 'Split keepalived own role\n\nKeepalived service can be consumed by other services as\ncan be nginx as load balancer or quagga for HAproxy a/a HA.\nIn order to ease this service integration with others\nthis PS split keepalived role to be independent of HAproxy.\n\nChange-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88\n'}, {'number': 4, 'created': '2017-06-30 08:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f0018892acf59bff812c62e191b0b23f120d775', 'message': 'Split keepalived own role\n\nKeepalived service can be consumed by other services as\ncan be nginx as load balancer or quagga for HAproxy a/a HA.\nIn order to ease this service integration with others\nthis PS split keepalived role to be independent of HAproxy.\n\nChange-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88\n'}, {'number': 5, 'created': '2017-06-30 08:12:42.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/keepalived/tasks/pull.yml', 'ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/keepalived/tasks/precheck.yml', 'ansible/roles/keepalived/meta/main.yml', 'ansible/site.yml', 'ansible/roles/keepalived/handlers/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/keepalived/tasks/check.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/inventory/all-in-one', 'ansible/roles/keepalived/tasks/upgrade.yml', 'ansible/roles/keepalived/templates/keepalived.conf.j2', 'releasenotes/notes/split-keepalived-4bed37974d98ad8d.yaml', 'ansible/roles/keepalived/tasks/deploy.yml', 'ansible/roles/keepalived/tasks/reconfigure.yml', 'ansible/roles/keepalived/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/keepalived/tasks/main.yml', 'ansible/roles/keepalived/tasks/config.yml', 'ansible/roles/keepalived/templates/keepalived.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e33202f2c0a04788b6ec6ed9c9f3826eb098afab', 'message': 'Split keepalived own role\n\nKeepalived service can be consumed by other services as\ncan be nginx as load balancer or quagga for HAproxy a/a HA.\nIn order to ease this service integration with others\nthis PS split keepalived role to be independent of HAproxy.\n\nChange-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88\n'}]",7,452177,e33202f2c0a04788b6ec6ed9c9f3826eb098afab,18,5,5,19316,,,0,"Split keepalived own role

Keepalived service can be consumed by other services as
can be nginx as load balancer or quagga for HAproxy a/a HA.
In order to ease this service integration with others
this PS split keepalived role to be independent of HAproxy.

Change-Id: I53609f0d3cfc8caf636090e3e4368317ec981e88
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/452177/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/keepalived/tasks/pull.yml', 'ansible/roles/haproxy/handlers/main.yml', 'ansible/roles/keepalived/tasks/precheck.yml', 'ansible/roles/keepalived/meta/main.yml', 'ansible/site.yml', 'ansible/roles/keepalived/handlers/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/keepalived/tasks/check.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/inventory/all-in-one', 'ansible/roles/keepalived/tasks/upgrade.yml', 'ansible/roles/keepalived/templates/keepalived.conf.j2', 'ansible/roles/keepalived/tasks/deploy.yml', 'ansible/roles/keepalived/tasks/reconfigure.yml', 'ansible/roles/keepalived/defaults/main.yml', 'ansible/roles/haproxy/tasks/upgrade.yml', 'ansible/roles/keepalived/tasks/main.yml', 'ansible/roles/keepalived/tasks/config.yml', 'ansible/roles/keepalived/templates/keepalived.json.j2']",21,f56faf7452eae61089375860ddb45f825bd60a3d,split-keepalived,,,234,121
openstack%2Fkolla~master~I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202,openstack/kolla,master,I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202,WIP: Add nginx image,ABANDONED,2017-03-31 10:33:13.000000000,2019-12-05 10:56:30.000000000,,"[{'_account_id': 7488}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 23303}, {'_account_id': 23717}, {'_account_id': 23825}, {'_account_id': 24072}]","[{'number': 1, 'created': '2017-03-31 10:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e88788a2db8eab4c832e821d38711c598f79763e', 'message': 'WIP: Add nginx image\n\nImplement a new docker image for Nginx.\nThis image will be used as alternative for\nHAproxy load balancer.\n\nChange-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202\nImplements: blueprint nginx-image\n'}, {'number': 2, 'created': '2017-03-31 10:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/acb1a2e20a874bb78a72eb4ac76288a49b9b7be4', 'message': 'WIP: Add nginx image\n\nImplement a new docker image for Nginx.\nThis image will be used as alternative for\nHAproxy load balancer.\n\nChange-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202\nImplements: blueprint nginx-image\n'}, {'number': 3, 'created': '2017-07-19 10:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58b623721733fc8c38a93fee7816b5161d316f35', 'message': 'WIP: Add nginx image\n\nImplement a new docker image for Nginx.\nThis image will be used as alternative for\nHAproxy load balancer.\n\nChange-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202\nImplements: blueprint nginx-image\n'}, {'number': 4, 'created': '2017-07-19 10:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/98487ac7421ab443df70a4254b7d406e972e537d', 'message': 'WIP: Add nginx image\n\nImplement a new docker image for Nginx.\nThis image will be used as alternative for\nHAproxy load balancer.\n\nChange-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202\nImplements: blueprint nginx-image\n'}, {'number': 5, 'created': '2017-07-19 12:08:29.000000000', 'files': ['releasenotes/notes/nginx-image-7a7049594480efd8.yaml', 'docker/nginx/extend_start.sh', 'docker/nginx/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ecc7a9d1b3597c591862ad63a10d7ab29901ac5', 'message': 'WIP: Add nginx image\n\nImplement a new docker image for Nginx.\nThis image will be used as alternative for\nHAproxy load balancer.\n\nChange-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202\nImplements: blueprint nginx-image\n'}]",2,452134,4ecc7a9d1b3597c591862ad63a10d7ab29901ac5,19,7,5,19316,,,0,"WIP: Add nginx image

Implement a new docker image for Nginx.
This image will be used as alternative for
HAproxy load balancer.

Change-Id: I5d4d46c5dc9fa3d78ce84f9e3e50c41151a4d202
Implements: blueprint nginx-image
",git fetch https://review.opendev.org/openstack/kolla refs/changes/34/452134/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nginx/extend_start.sh', 'docker/nginx/Dockerfile.j2', 'tools/releasenotes/notes/nginx-image-7a7049594480efd8.yaml', 'kolla/common/config.py']",4,e88788a2db8eab4c832e821d38711c598f79763e,bp/nginx-image," 'nginx', 'nginx-user': { 'uid': 42461, 'gid': 42461, },",,39,0
openstack%2Fkolla~master~I95651b3ce09835aa7cf280834d8dab5ffd7548b8,openstack/kolla,master,I95651b3ce09835aa7cf280834d8dab5ffd7548b8,WIP Split bind9 into his own image,ABANDONED,2017-03-19 17:10:25.000000000,2019-12-05 10:56:23.000000000,,[{'_account_id': 14826}],"[{'number': 1, 'created': '2017-03-19 17:10:25.000000000', 'files': ['docker/designate/designate-backend-bind9/Dockerfile.j2', 'docker/bind9/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e142fa51c5191afa9fc0b03d0141c60a90876da8', 'message': 'WIP Split bind9 into his own image\n\nReparent from opentack-base to base image reduce image layer and\nremove unneed packages.\n\nChange-Id: I95651b3ce09835aa7cf280834d8dab5ffd7548b8\n'}]",0,447307,e142fa51c5191afa9fc0b03d0141c60a90876da8,6,1,1,19316,,,0,"WIP Split bind9 into his own image

Reparent from opentack-base to base image reduce image layer and
remove unneed packages.

Change-Id: I95651b3ce09835aa7cf280834d8dab5ffd7548b8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/447307/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/designate/designate-backend-bind9/Dockerfile.j2', 'docker/bind9/Dockerfile.j2']",2,e142fa51c5191afa9fc0b03d0141c60a90876da8,bind-own-container,"FROM {{ namespace }}/{{ image_prefix }}base:{{ tag }} MAINTAINER {{ maintainer }} {% block bind9_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set bind9_packages = ['bind'] %} {{ macros.install_packages(bind9_packages | customizable(""packages"")) }} {% elif base_distro in ['ubuntu'] %} {% set bind9_packages = ['bind9'] %} {{ macros.install_packages(bind9_packages | customizable(""packages"")) }} {% endif %} {% set bind9_name = 'bind' if base_distro in ['ubuntu', 'debian'] else 'named' %} RUN mkdir -p /var/lib/kolla/ /var/lib/{{ bind9_name }}/ /run/{{ bind9_name }} \ && chown -R root: /var/lib/{{ bind9_name }} /run/{{ bind9_name }} \ && chmod 755 /run/{{ bind9_name }} \ {% block bind9_footer %}{% endblock %} {% block footer %}{% endblock %} ",,27,27
openstack%2Fkolla-ansible~master~I3b9492a0291fe61e342a966b52e1ef86f04ab831,openstack/kolla-ansible,master,I3b9492a0291fe61e342a966b52e1ef86f04ab831,WIP: Split bind9 into its own role,ABANDONED,2017-03-16 15:07:43.000000000,2019-12-05 10:56:18.000000000,,[{'_account_id': 19316}],"[{'number': 1, 'created': '2017-03-16 15:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ceaf0db17639591f79e0feb50a304c45c3e2f20', 'message': 'WIP: Split bind9 into its own role\n\nTODOs:\n  - Create bind9 volume data migration from designate_backend_bind9\n    to bind9 volume while upgrading.\n     - Create bootstrap task who mounts --volumes-from\n     - copy data from volume to other\n     - remove old container and volume\n  - Rename bind9 docker image and remove designate dependency.\n  - Cleanup designate/bind\n\nChange-Id: I3b9492a0291fe61e342a966b52e1ef86f04ab831\n'}, {'number': 2, 'created': '2017-03-16 16:51:08.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/bind9/tasks/pull.yml', 'ansible/roles/designate/templates/named.conf.j2', 'ansible/site.yml', 'ansible/roles/bind9/templates/rndc.conf.j2', 'ansible/roles/bind9/handlers/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/bind9/templates/named.conf.j2', 'ansible/roles/bind9/tasks/upgrade.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/bind9/tasks/config.yml', 'ansible/roles/designate/templates/pools.yaml.j2', 'ansible/roles/bind9/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/bind9/templates/bind9.json.j2', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/bind9/tasks/check.yml', 'etc/kolla/passwords.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/bind9/meta/main.yml', 'kolla_ansible/cmd/genpwd.py', 'ansible/roles/bind9/tasks/main.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/designate/templates/rndc.key.j2', 'ansible/roles/bind9/defaults/main.yml', 'ansible/roles/bind9/tasks/reconfigure.yml', 'ansible/group_vars/all.yml', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/bind9/tasks/deploy.yml', 'ansible/roles/bind9/templates/rndc.key.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7db6deadc63fbd4c1e2f07257116800f6d2f1ca', 'message': 'WIP: Split bind9 into its own role\n\nTODOs:\n  - Create bind9 volume data migration from designate_backend_bind9\n    to bind9 volume while upgrading.\n     - Create bootstrap task who mounts --volumes-from\n     - copy data from volume to other\n     - remove old container and volume\n  - Rename bind9 docker image and remove designate dependency.\n  - Cleanup designate/bind\n  - Check bind9 is enabled when is used as designate backend\n\nChange-Id: I3b9492a0291fe61e342a966b52e1ef86f04ab831\n'}]",1,446588,e7db6deadc63fbd4c1e2f07257116800f6d2f1ca,9,1,2,19316,,,0,"WIP: Split bind9 into its own role

TODOs:
  - Create bind9 volume data migration from designate_backend_bind9
    to bind9 volume while upgrading.
     - Create bootstrap task who mounts --volumes-from
     - copy data from volume to other
     - remove old container and volume
  - Rename bind9 docker image and remove designate dependency.
  - Cleanup designate/bind
  - Check bind9 is enabled when is used as designate backend

Change-Id: I3b9492a0291fe61e342a966b52e1ef86f04ab831
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/446588/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/bind9/tasks/pull.yml', 'ansible/roles/designate/templates/named.conf.j2', 'ansible/site.yml', 'ansible/roles/bind9/templates/rndc.conf.j2', 'ansible/roles/bind9/handlers/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/bind9/templates/named.conf.j2', 'ansible/roles/bind9/tasks/upgrade.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/bind9/tasks/config.yml', 'ansible/roles/designate/templates/pools.yaml.j2', 'ansible/roles/bind9/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/bind9/templates/bind9.json.j2', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/bind9/tasks/check.yml', 'etc/kolla/passwords.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/bind9/meta/main.yml', 'kolla_ansible/cmd/genpwd.py', 'ansible/roles/bind9/tasks/main.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/designate/templates/rndc.key.j2', 'ansible/roles/bind9/defaults/main.yml', 'ansible/roles/bind9/tasks/reconfigure.yml', 'ansible/group_vars/all.yml', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/bind9/tasks/deploy.yml', 'ansible/roles/bind9/templates/rndc.key.j2']",30,4ceaf0db17639591f79e0feb50a304c45c3e2f20,bind-own-role,"key ""rndc-key"" { algorithm hmac-md5; secret ""{{ bind9_rndc_key }}""; }; ",,236,124
openstack%2Fpuppet-pacemaker~stable%2F0.7.x~Ibb87428fce4026b21032f874feb09104cca0db52,openstack/puppet-pacemaker,stable/0.7.x,Ibb87428fce4026b21032f874feb09104cca0db52,Fix missing deep_compare for fence_redfish,MERGED,2019-12-04 13:28:30.000000000,2019-12-05 10:56:01.000000000,2019-12-05 10:56:00.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-12-04 13:28:30.000000000', 'files': ['manifests/stonith/fence_redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/71c73442a9e20b94df008fbff3fb6d979d3cdae2', 'message': 'Fix missing deep_compare for fence_redfish\n\nFence_redfish was blacklisted from the automatic agent generation by:\n\nhttps://review.opendev.org/#/c/636886/\n\nand unfortunately https://review.opendev.org/#/c/679407/ did not take\nthat into account.\n\nThis commit adds deep_compare and update_settle_secs manually until we\ncan revert that change.\n\nResolves: rhbz#1699449\n\nChange-Id: Ibb87428fce4026b21032f874feb09104cca0db52\n(cherry picked from commit 635aee9afd4010507498020ab6ea54e4430913e6)\n'}]",0,697284,71c73442a9e20b94df008fbff3fb6d979d3cdae2,11,5,1,30126,,,0,"Fix missing deep_compare for fence_redfish

Fence_redfish was blacklisted from the automatic agent generation by:

https://review.opendev.org/#/c/636886/

and unfortunately https://review.opendev.org/#/c/679407/ did not take
that into account.

This commit adds deep_compare and update_settle_secs manually until we
can revert that change.

Resolves: rhbz#1699449

Change-Id: Ibb87428fce4026b21032f874feb09104cca0db52
(cherry picked from commit 635aee9afd4010507498020ab6ea54e4430913e6)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/84/697284/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/stonith/fence_redfish.pp'],1,71c73442a9e20b94df008fbff3fb6d979d3cdae2,,"# [*deep_compare*] # Enable deep comparing of resources and bundles # When set to true a resource will be compared in full (options, meta parameters,..) # to the existing one and in case of difference it will be repushed to the CIB # Defaults to false # # [*update_settle_secs*] # When deep_compare is enabled and puppet updates a resource, this # parameter represents the number (in seconds) to wait for the cluster to settle # after the resource update. # Defaults to 600 (seconds) # $deep_compare = false, $update_settle_secs = 600, ensure => $ensure, stonith_type => 'fence_redfish', pcmk_host_list => $pcmk_host_value_chunk, pcs_param_string => $param_string, tries => $tries, try_sleep => $try_sleep, deep_compare => $deep_compare, update_settle_secs => $update_settle_secs,"," ensure => $ensure, stonith_type => 'fence_redfish', pcmk_host_list => $pcmk_host_value_chunk, pcs_param_string => $param_string, tries => $tries, try_sleep => $try_sleep,",22,6
openstack%2Fkolla~master~I9039354814ed6bb51002c00ab26013872cd61969,openstack/kolla,master,I9039354814ed6bb51002c00ab26013872cd61969,mark 'neutron-mlnx-agent' as unbuildable for tripleo8,ABANDONED,2019-12-04 20:20:29.000000000,2019-12-05 10:55:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-12-04 20:20:29.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f5d5e799acb81c4d20e526951e89e33f79a6f6c', 'message': ""mark 'neutron-mlnx-agent' as unbuildable for tripleo8\n\nThis change introduces list of unbuildable images for tripleo8 jobs.\n\nChange-Id: I9039354814ed6bb51002c00ab26013872cd61969\n""}]",0,697360,3f5d5e799acb81c4d20e526951e89e33f79a6f6c,7,4,1,24072,,,0,"mark 'neutron-mlnx-agent' as unbuildable for tripleo8

This change introduces list of unbuildable images for tripleo8 jobs.

Change-Id: I9039354814ed6bb51002c00ab26013872cd61969
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/697360/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,3f5d5e799acb81c4d20e526951e89e33f79a6f6c,," # NOTE(hrw): tripleo-build-containers-rhel-8-master job 'rhel': { ""neutron-mlnx-agent"", },",,5,0
openstack%2Fkolla-ansible~master~Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e,openstack/kolla-ansible,master,Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e,Run OpenDaylight in NFV CI jobs,ABANDONED,2018-08-31 11:43:07.000000000,2019-12-05 10:55:33.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 27336}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-08-31 11:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c8167d55789297b501713377f83a28eefdcc3cfb', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 2, 'created': '2018-08-31 11:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ececab5342fe63e031e2e00d5ffb3daff08f3a46', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 3, 'created': '2018-08-31 12:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1013dba607f177ba14d1146754e4bd7421e9303f', 'message': 'DNM: Test Opendaylight\n\nDepends-On: I71dda29fc4a6765300ce7bb173d2c448c24f6eca\nDepends-On: I090cf055ebedc555b5ada35e140b7a7bb2a4cf8f\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 4, 'created': '2018-08-31 12:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c92596d561e54d2c1a376270e75ffd38de31701', 'message': 'DNM: Test Opendaylight\n\nDepends-On: I71dda29fc4a6765300ce7bb173d2c448c24f6eca\nDepends-On: Ib84a1c926daef9b7e9ef3529abedcb44bb1fcd50\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 5, 'created': '2018-09-03 16:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e69f082ad0e84be14af422358a06dbd3853e8284', 'message': 'DNM: Test Opendaylight\n\n\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 6, 'created': '2018-09-05 16:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f1eba1438f01f09498e39af49006a9f99f4595a', 'message': 'DNM: Test Opendaylight\n\n\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 7, 'created': '2018-09-06 04:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e031f329e6871360aac24caa84515e0411e0cf7a', 'message': 'DNM: Test Opendaylight\n\n\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 8, 'created': '2018-09-09 06:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6bb0e2579dd9aeb2b786ae4accb78e659af98d97', 'message': 'DNM: Test Opendaylight\n\n\nDepends-On: I67c2d9b2ae514b131a42297fa235071603dc230b\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 9, 'created': '2018-09-14 17:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e4ba3c3a2a0c5ce6030dc18354a25e971c0a8a6', 'message': 'DNM: Test Opendaylight\n\n\nDepends-On: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 10, 'created': '2018-09-27 15:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36a24eb526b6ccbb6c5ca2c94c517f8bb5a384d0', 'message': 'DNM: Test Opendaylight\n\n\nDepends-On: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 11, 'created': '2018-10-22 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a86973c2713b1ed4850a47ee909e0d8dfa9110b', 'message': 'DNM: Test Opendaylight\n\n\nDepends-On: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 12, 'created': '2018-10-23 07:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55a941cb4f59fe928bbd2c2e1d0baad9ae4eadfa', 'message': 'DNM: Test Opendaylight\n\n\nDepends-On: I8cafaa543ad09572bdbb6af1bbbd65f55fe42f8c\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 13, 'created': '2018-10-23 07:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6887967df7c289cc0ac16468db94f3943f3d4b65', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 14, 'created': '2018-10-29 12:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99274fd471e3b6b393fc9a439b7c9401b9076d06', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 15, 'created': '2018-10-30 07:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92032df8ce36eca0361654bde4d433cac42d29ba', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 16, 'created': '2018-10-30 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de588505f12d5ddd7c2d1b98fa45dbb3c52b1068', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 17, 'created': '2018-11-06 14:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/206039dc2be75748a52feaa76acd67367871d9a1', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 18, 'created': '2018-11-06 19:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/606c196d2a5889c538effa92a45d894cd2eb40df', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 19, 'created': '2018-11-12 13:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52f14e300bfa3c92835fe67fd567518a561a9cdb', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 20, 'created': '2018-11-20 08:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48736e10a58d8370d61a9ad080a19ecd4dff5756', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 21, 'created': '2018-11-20 10:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4a4b7f70da55ba4b907ffbe3d3cf974a8664804', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 22, 'created': '2018-11-20 11:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3755d6bfa2ad5a0197dede891391a32126fcc89', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 23, 'created': '2018-11-20 11:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b6dc5cddb4889311b5bd10b4a1a95f5d89c10ea', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 24, 'created': '2018-11-20 13:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f8327349ec783fe5fd4630fab41b54b185f6d48', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 25, 'created': '2018-11-29 10:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af6bd26f38006343233b9ae1fc26b726b85147a0', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 26, 'created': '2018-12-05 09:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b08d5034c100d1c2445e53bb47944cb9fbe3dee', 'message': 'DNM: Test Opendaylight\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 27, 'created': '2018-12-11 07:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39b38b33ce3d3a09450ddbd08406caed3f5489cb', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Icefe3a77fb12d57c869521000d458e3f58435374\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 28, 'created': '2018-12-11 08:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d3c43bdd5c14388f6c168e0b6500eee7aa7fcfe', 'message': 'DNM: Test Opendaylight\n\nDepends-On: Icefe3a77fb12d57c869521000d458e3f58435374\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 29, 'created': '2018-12-17 19:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de6b44a0f1ab27cc4560c10972b3b708cd5e0355', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 30, 'created': '2018-12-27 08:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0976c40823f73559978e335692850dbfdb518d8b', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 31, 'created': '2019-01-16 08:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c26669d25a1142e9138a62a8737c50d4ed1c59a2', 'message': 'DNM: Test Opendaylight\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 32, 'created': '2019-01-16 08:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff1c98ba0f8a85c0fc5346b62a3ffebd2b8964c3', 'message': 'Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 33, 'created': '2019-01-17 08:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2378f2d66e5e402a99cea04b55c3aa5fd188931f', 'message': 'Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 34, 'created': '2019-01-17 08:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/297a41373168442dae2a9699c00b089d64d0da34', 'message': 'WIP: Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 35, 'created': '2019-02-08 08:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57968d4ce39b5a5f62c26556f3e91f1b5a58b451', 'message': 'Run OpenDaylight in NFV CI jobs\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 36, 'created': '2019-04-05 07:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56a5f0e4b1ee74044dac3317b17f33f679650129', 'message': 'Run OpenDaylight in NFV CI jobs\n\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 37, 'created': '2019-04-08 07:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e72f0d14be105a4b20b63aafe071a1d4e7ef8152', 'message': 'Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 38, 'created': '2019-04-24 07:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc6c68ef87d972a0611a54bfd8ae23c140116b03', 'message': 'Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}, {'number': 39, 'created': '2019-07-09 07:05:02.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e1091cd5b9c19e2ee03e78a94d8c0bfe86f78af', 'message': 'Run OpenDaylight in NFV CI jobs\n\nDepends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\nChange-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e\n'}]",0,598612,9e1091cd5b9c19e2ee03e78a94d8c0bfe86f78af,121,4,39,19316,,,0,"Run OpenDaylight in NFV CI jobs

Depends-On: I62af2112f75e7b6c7f050e8d4e02eefd098083ee
Change-Id: Ib3f2e9df2c40e9352e317f898cfa0ebe3674ce3e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/598612/21 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,c8167d55789297b501713377f83a28eefdcc3cfb,test-odl,"enable_opendaylight: ""yes""",,1,0
openstack%2Fkolla-ansible~master~Id38648798221b284ee16043c6c590b5331cae474,openstack/kolla-ansible,master,Id38648798221b284ee16043c6c590b5331cae474,WIP: Allow better configurable features in ODl,ABANDONED,2018-09-18 17:45:18.000000000,2019-12-05 10:55:26.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-18 17:45:18.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ad10131b4dbf5edb06a29369aba4599e261f32c', 'message': 'WIP: Allow better configurable features in ODl\n\nAdd some base features to be enabled with variables and\nimprove feature enablement.\n\nChange-Id: Id38648798221b284ee16043c6c590b5331cae474\n'}]",0,603457,4ad10131b4dbf5edb06a29369aba4599e261f32c,4,2,1,19316,,,0,"WIP: Allow better configurable features in ODl

Add some base features to be enabled with variables and
improve feature enablement.

Change-Id: Id38648798221b284ee16043c6c590b5331cae474
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/603457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2']",4,4ad10131b4dbf5edb06a29369aba4599e261f32c,configurable-odl-features,"featuresBoot={{ opendaylight_enabled_features|map(attribute='name')|join(',') }}","featuresBoot=config,standard,region,package,kar,ssh,management{% if not opendaylight_features == '' %},{% endif %}{{ opendaylight_features }}",49,2
openstack%2Fkolla~master~Ida0e507ec0fa5808fb856009bca0315b8470a6e8,openstack/kolla,master,Ida0e507ec0fa5808fb856009bca0315b8470a6e8,Upgrade ODL to fluorine release,ABANDONED,2018-09-09 16:43:28.000000000,2019-12-05 10:55:18.000000000,,"[{'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2018-09-09 16:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d58341245a172708acaa568ba1eff1c837040575', 'message': 'WIP: Upgrade ODL to oxygen release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 2, 'created': '2018-09-10 16:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/146585da5629766cf660614568a1e885cdddbd07', 'message': 'WIP: Upgrade ODL to oxygen release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 3, 'created': '2018-11-06 18:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b3b8a8b141fd96808f58e732b396e61558f80e20', 'message': 'WIP: Upgrade ODL to oxygen release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 4, 'created': '2018-11-07 17:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74fbf6d1c8931deaf26a38aeb1ef2f2fff642514', 'message': 'WIP: Upgrade ODL to oxygen release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 5, 'created': '2018-12-04 16:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5402b44923fa4a34ca26bc0805b9f5e0579e4693', 'message': 'WIP: Upgrade ODL to oxygen release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 6, 'created': '2018-12-11 08:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cc9995e5cdbb05d27d8dcd5fb839059bd37d0b63', 'message': 'WIP: Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 7, 'created': '2018-12-11 10:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/37ea173204524599f81fa9d1561c922d1d14f6d7', 'message': 'WIP: Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 8, 'created': '2018-12-11 19:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/63c9c8397af585079b1c5573b0accdbdb83c6af6', 'message': 'WIP: Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 9, 'created': '2018-12-12 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4acae66e699f624d3e90b2203330889b81a5218d', 'message': 'WIP: Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 10, 'created': '2019-01-02 13:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/25d00fcfc221b14e98f4c76294fd7571253d8939', 'message': 'Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 11, 'created': '2019-01-03 17:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5717213bdd028bf2b6f7c7a155fc3ae2d4fe3573', 'message': 'Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 12, 'created': '2019-04-05 07:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d1c1b57cf51d8688a08a827d1ac56760331acb7', 'message': 'Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 13, 'created': '2019-04-24 07:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/66a5a553b01627dc9f2b31ac1b0f339a3ef7b170', 'message': 'Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}, {'number': 14, 'created': '2019-07-09 06:49:13.000000000', 'files': ['docker/base/opendaylight.repo', 'releasenotes/notes/upgrade-odl-fluorine-6fefcf936bb23120.yaml', 'docker/opendaylight/Dockerfile.j2', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8fb96dca5d6ff94ee05d0b8886f7dbd48de56d73', 'message': 'Upgrade ODL to fluorine release\n\nChange-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\n'}]",6,601094,8fb96dca5d6ff94ee05d0b8886f7dbd48de56d73,49,7,14,19316,,,0,"Upgrade ODL to fluorine release

Change-Id: Ida0e507ec0fa5808fb856009bca0315b8470a6e8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/601094/8 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'docker/base/sources.list.ubuntu']",3,d58341245a172708acaa568ba1eff1c837040575,bump-odl-version,deb http://ppa.launchpad.net/odl-team/oxygen/ubuntu xenial main,deb http://ppa.launchpad.net/odl-team/carbon/ubuntu xenial main,3,3
openstack%2Fkolla-ansible~master~I62af2112f75e7b6c7f050e8d4e02eefd098083ee,openstack/kolla-ansible,master,I62af2112f75e7b6c7f050e8d4e02eefd098083ee,Upgrade ODL to fluorine release,ABANDONED,2018-12-05 08:58:38.000000000,2019-12-05 10:55:08.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 20205}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-12-05 08:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9700b10d201ec5a7daaf0bbef58e88ce4184045f', 'message': 'Upgrade ODL to oxigen release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 2, 'created': '2018-12-05 09:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aedbfb9468cc542e99fb8c835cb1eaf24c51d384', 'message': 'Upgrade ODL to oxigen release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 3, 'created': '2018-12-10 18:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77a1881a5eb70db61b2ffd31ae61118e84a156f0', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 4, 'created': '2018-12-10 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9adc7d123c424273aefd5ab3933328d10ac76e40', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 5, 'created': '2018-12-11 09:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aef340cef74b80c21bd423de82bafd1a836f01c4', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 6, 'created': '2018-12-11 19:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e4af8065178e8481c592f429c240c7f7a07b726', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 7, 'created': '2018-12-11 19:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fa9e53687608f738a0ac8e40460293a42e44a36', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 8, 'created': '2019-01-02 13:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76340234f27c3fd78fe65a810c03e308e9fc8eee', 'message': 'Upgrade ODL to fluorine release\n\nStill very work in progress, karaf now starts,\nsome features fails to start and need to properly\nreconfigure pax logging\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 9, 'created': '2019-01-03 08:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40b5365be2b5facab011928bca49e9ed0088619d', 'message': 'Upgrade ODL to fluorine release\n\nMigrate config from Carbon to Fluorine release.\nAlso adds a volume for odl data\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 10, 'created': '2019-04-05 07:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09e46df51bb428cee2559803574e042892229a1d', 'message': 'Upgrade ODL to fluorine release\n\nMigrate config from Carbon to Fluorine release.\nAlso adds a volume for odl data\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 11, 'created': '2019-04-24 07:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f08b7cca64f34fc91771f61dadb5996df5736a1', 'message': 'Upgrade ODL to fluorine release\n\nMigrate config from Carbon to Fluorine release.\nAlso adds a volume for odl data\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}, {'number': 12, 'created': '2019-07-09 07:00:29.000000000', 'files': ['ansible/roles/opendaylight/templates/custom.properties.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/opendaylight/templates/netvirt-aclservice-config.xml.j2', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2', 'ansible/roles/opendaylight/templates/tomcat-server.xml.j2', 'ansible/roles/opendaylight/templates/org.opendaylight.restconf.cfg.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/opendaylight.json.j2', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/templates/org.ops4j.pax.logging.cfg.j2', 'ansible/roles/opendaylight/templates/10-rest-connector.xml.j2', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d475db0f6f396a24de877f1b2578f851587f77c5', 'message': 'Upgrade ODL to fluorine release\n\nMigrate config from Carbon to Fluorine release.\nAlso adds a volume for odl data\n\nDepends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8\nChange-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee\n'}]",0,622896,d475db0f6f396a24de877f1b2578f851587f77c5,32,5,12,19316,,,0,"Upgrade ODL to fluorine release

Migrate config from Carbon to Fluorine release.
Also adds a volume for odl data

Depends-On: Ida0e507ec0fa5808fb856009bca0315b8470a6e8
Change-Id: I62af2112f75e7b6c7f050e8d4e02eefd098083ee
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/622896/11 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/templates/custom.properties.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/org.apache.karaf.features.cfg.j2', 'ansible/roles/opendaylight/templates/tomcat-server.xml.j2', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2']",11,9700b10d201ec5a7daaf0bbef58e88ce4184045f,upgrade-odl,rm -rf /opt/opendaylight/data /opt/opendaylight/bin/karaf clean,,102,49
openstack%2Fkolla-ansible~master~Ibcf746a3dc23b8d79b500a80b652a644cfef1153,openstack/kolla-ansible,master,Ibcf746a3dc23b8d79b500a80b652a644cfef1153,Bind ODL ports to specific IP address,ABANDONED,2018-09-27 15:03:12.000000000,2019-12-05 10:55:01.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 15:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d4313f8b62c2fd32fafc3714bd45ae904f90072', 'message': 'WIP: Bind ODL ports to specific IP address\n\nODL is currently binding to 0.0.0.0, this is a security hole\n\nChange-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\n'}, {'number': 2, 'created': '2018-10-19 12:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47df4768b2f91de70797ef2aebae5b083c6f3581', 'message': 'WIP: Bind ODL ports to specific IP address\n\nODL is currently binding to 0.0.0.0, this is a security hole\n\nChange-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\n'}, {'number': 3, 'created': '2018-10-23 07:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87b1296118cecf5081d49bdd2ba9a65986915a54', 'message': 'WIP: Bind ODL ports to specific IP address\n\nODL is currently binding to 0.0.0.0, this is a security hole\n\nChange-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\n'}, {'number': 4, 'created': '2018-10-29 15:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed215c9da6ff639c15dcbc218a2ce84f54a504a8', 'message': 'WIP: Bind ODL ports to specific IP address\n\nODL is currently binding to 0.0.0.0, this is a security hole\n\nChange-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\n'}, {'number': 5, 'created': '2018-11-20 10:56:19.000000000', 'files': ['ansible/roles/opendaylight/templates/org.apache.karaf.shell.cfg.j2', 'ansible/roles/opendaylight/templates/org.ops4j.pax.web.cfg.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/opendaylight.json.j2', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/opendaylight/templates/org.opendaylight.restconf.cfg.j2', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/877392fce4caf9f364014ace72fd1c77e63fe685', 'message': 'Bind ODL ports to specific IP address\n\nODL is currently binding to 0.0.0.0, this is a security hole\n\nChange-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153\n'}]",0,605767,877392fce4caf9f364014ace72fd1c77e63fe685,13,2,5,19316,,,0,"Bind ODL ports to specific IP address

ODL is currently binding to 0.0.0.0, this is a security hole

Change-Id: Ibcf746a3dc23b8d79b500a80b652a644cfef1153
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/605767/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opendaylight/templates/org.apache.karaf.shell.cfg.j2', 'ansible/roles/opendaylight/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/opendaylight/templates/opendaylight.json.j2', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/opendaylight/templates/jetty.xml.j2', 'ansible/roles/opendaylight/templates/start-odl.j2']",8,8d4313f8b62c2fd32fafc3714bd45ae904f90072,odl-bind-to-ip,/opt/opendaylight/bin/karaf clean,,53,8
openstack%2Fmagnum~stable%2Frocky~Ic55e27b608ad8b09d6b560186ca7dab368845870,openstack/magnum,stable/rocky,Ic55e27b608ad8b09d6b560186ca7dab368845870,fix: Deploy enable_service last (rocky only),MERGED,2019-12-02 14:01:37.000000000,2019-12-05 10:26:02.000000000,2019-12-05 10:26:02.000000000,"[{'_account_id': 6484}, {'_account_id': 6873}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23922}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-12-02 14:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c8282ab51bd11ef7411e32c374a761d2b0be901f', 'message': 'fix: Deploy enable_service last (rocky only)\n\nSince enable_service needs to label the master node, it blocks\ndeployment of flannel upon which it depends. Deploy enable_service last\nto address this issue.\n\nChange-Id: Ic55e27b608ad8b09d6b560186ca7dab368845870\n'}, {'number': 2, 'created': '2019-12-02 14:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d63769213706d01dcd902b550aabf9ee3b285cff', 'message': 'fix: Deploy enable_service last (rocky only)\n\nSince enable_service needs to label the master node, the current order\nblocks deployment of flannel upon which this depends. Deploy\nenable_service last to address this issue.\n\nRegression caused by https://review.opendev.org/#/c/696253/\n\nstory: 2006459\ntask: 37696\n\nChange-Id: Ic55e27b608ad8b09d6b560186ca7dab368845870\n'}, {'number': 3, 'created': '2019-12-02 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6641ecf267fd900e743e4bd30b54694186bf8d2e', 'message': 'fix: Deploy enable_service last (rocky only)\n\nSince enable_service needs to label the master node, the current order\nblocks deployment of flannel upon which this depends. Deploy\nenable_service last to address this issue.\n\nRegression caused by https://review.opendev.org/#/c/696253/\n\nstory: 2006459\ntask: 37696\n\nChange-Id: Ic55e27b608ad8b09d6b560186ca7dab368845870\n'}, {'number': 4, 'created': '2019-12-03 00:43:58.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/174fc15afd39297a39d667ee4b4e8833e988fc71', 'message': 'fix: Deploy enable_service last (rocky only)\n\nSince enable_service needs to label the master node, the current order\nblocks deployment of flannel upon which this depends. Deploy\nenable_service last to address this issue.\n\nRegression caused by https://review.opendev.org/#/c/696253/\n\nstory: 2006459\ntask: 37696\n\nChange-Id: Ic55e27b608ad8b09d6b560186ca7dab368845870\n'}]",0,696884,174fc15afd39297a39d667ee4b4e8833e988fc71,16,7,4,28022,,,0,"fix: Deploy enable_service last (rocky only)

Since enable_service needs to label the master node, the current order
blocks deployment of flannel upon which this depends. Deploy
enable_service last to address this issue.

Regression caused by https://review.opendev.org/#/c/696253/

story: 2006459
task: 37696

Change-Id: Ic55e27b608ad8b09d6b560186ca7dab368845870
",git fetch https://review.opendev.org/openstack/magnum refs/changes/84/696884/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'],1,c8282ab51bd11ef7411e32c374a761d2b0be901f,rocky-7.1.1, - config: {get_resource: enable_services}, - config: {get_resource: enable_services},1,1
openstack%2Fkolla~master~Icf2a8397a8349e0fe849d88d160409fd234480a9,openstack/kolla,master,Icf2a8397a8349e0fe849d88d160409fd234480a9,Enable repos only when needed,MERGED,2019-11-21 16:16:04.000000000,2019-12-05 10:13:02.000000000,2019-12-04 17:45:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-21 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/99e2674aced9ba08c33406658f3704cdded6085b', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nCentOS only so far.\n\nTODO: compare with normal build to catch packages from wrong repos used.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 2, 'created': '2019-11-22 07:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec3fe3f83103e543b0a617678ea0af0320f458b0', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nCentOS only so far.\n\nTODO: compare with normal build to catch packages from wrong repos used.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 3, 'created': '2019-11-22 20:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0afeafc3faa5048c79f1bae2a5a6629fdde1af4d', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 4, 'created': '2019-11-22 21:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7520e6fc928d3de02da2d3a317f303b72546e082', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 5, 'created': '2019-11-23 08:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8f79b9e78f4588ff0085c9a8da81a8d27d7872e', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 6, 'created': '2019-11-23 10:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4158af7dee2f6af8f692f1f8ef8d79ef8ca48f8d', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 7, 'created': '2019-11-23 11:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe12c8fe7e56e2379308fab326fe4134acd53a56', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 8, 'created': '2019-11-23 11:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7afd54f3e742675b142b695077420631ebcc4a8', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\nImplements: blueprint repos-off-by-default\n'}, {'number': 9, 'created': '2019-11-23 11:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b93b7dcbf03c7909af7e1bd3b3bd9d127435d2d', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nNOTE: x86-64 only so far.\n\nDepends-On: https://review.opendev.org/695796\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 10, 'created': '2019-11-25 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/812c70f78123782f284ef8cb9b1dd0d1c8debbff', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nDepends-On: https://review.opendev.org/695796\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 11, 'created': '2019-11-26 09:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5b39de4596385736640e05e43b7470b8beb89cad', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 12, 'created': '2019-11-26 10:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44ccd2ef2c4a6b9ae418c820eef8f6f208fe576a', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 13, 'created': '2019-11-26 11:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6a75bc049af99a75411ad6d1e9c663535a65d2a2', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 14, 'created': '2019-11-26 11:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e18f673f45d83a2da111516ec3ebe239ef179d16', 'message': 'WIP: Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 15, 'created': '2019-11-28 07:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f7e67dfafc4380087fda5fd233b28b88409e2ac1', 'message': 'Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 16, 'created': '2019-11-28 09:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c59dcb228c421ed62d5eb1cd90624dd25cf7fd4f', 'message': 'Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nDepends-on: https://review.opendev.org/696480\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 17, 'created': '2019-11-29 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5160d6c09213d76e03d88e17d3f1806bc706c56a', 'message': 'Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nDepends-on: https://review.opendev.org/696480\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}, {'number': 18, 'created': '2019-11-29 10:38:20.000000000', 'files': ['docker/grafana/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/td.repo', 'docker/glance/glance-base/Dockerfile.j2', 'kolla/image/build.py', 'docker/influxdb/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-server.repo', 'kolla/template/methods.py', 'releasenotes/notes/enable-repos-when-needed-3beac8e1e24ea8eb.yaml', 'docker/macros.j2', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/crmsh.repo', 'docker/base/elasticsearch.repo', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/qdrouterd/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/base/sources.list.ubuntu', 'kolla/tests/test_methods.py', 'docker/elasticsearch/elasticsearch/Dockerfile.j2', 'docker/ceph/ceph-base/Dockerfile.j2', 'docker/kibana/Dockerfile.j2', 'docker/hacluster/hacluster-pcs/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/base/grafana.repo', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/sensu/sensu-base/Dockerfile.j2', 'docker/base/sources.list.debian', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/fluentd/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf11cd6f3d1f0f0d9e1bb948672be12171a4099b', 'message': 'Enable repos only when needed\n\nDisable external repositories by default and enable only when needed.\n\nDepends-on: https://review.opendev.org/696480\n\nImplements: blueprint repos-off-by-default\n\nChange-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9\n'}]",20,695465,cf11cd6f3d1f0f0d9e1bb948672be12171a4099b,67,7,18,24072,,,0,"Enable repos only when needed

Disable external repositories by default and enable only when needed.

Depends-on: https://review.opendev.org/696480

Implements: blueprint repos-off-by-default

Change-Id: Icf2a8397a8349e0fe849d88d160409fd234480a9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/695465/10 && git format-patch -1 --stdout FETCH_HEAD,"['docker/grafana/Dockerfile.j2', 'docker/macros.j2', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/base/crmsh.repo', 'docker/base/elasticsearch.repo', 'docker/base/td.repo', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/ceph/ceph-base/Dockerfile.j2', 'docker/influxdb/Dockerfile.j2', 'docker/kibana/Dockerfile.j2', 'docker/hacluster/hacluster-pcs/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/base/grafana.repo', 'docker/elasticsearch/Dockerfile.j2', 'docker/fluentd/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-server.repo']",19,99e2674aced9ba08c33406658f3704cdded6085b,wip/disable-repos-by-default,enabled=0,enabled=1,99,5
openstack%2Fmagnum~stable%2Frocky~I828cec27968ffe0961011e34a66e0eef3e567c91,openstack/magnum,stable/rocky,I828cec27968ffe0961011e34a66e0eef3e567c91,k8s_fedora: Set rp_filter=1 for calico,ABANDONED,2019-12-02 16:41:34.000000000,2019-12-05 10:10:30.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23922}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-02 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6e44c8d399a1fc145421a5a930df4a70ddd1d066', 'message': 'k8s_fedora: Set rp_filter=1 for calico\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I828cec27968ffe0961011e34a66e0eef3e567c91\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3a38cfb2efd9bf97efa0dff1c311da1b01f04de8)\n'}, {'number': 2, 'created': '2019-12-03 00:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1284e77ef1a8efc1fe22634f73e7e3db7910baa1', 'message': 'k8s_fedora: Set rp_filter=1 for calico\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I828cec27968ffe0961011e34a66e0eef3e567c91\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3a38cfb2efd9bf97efa0dff1c311da1b01f04de8)\n(cherry picked from commit 1f4da1830320e3cb8ad4cd29c11b8f7355976be6)\n'}, {'number': 3, 'created': '2019-12-03 00:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c2155960e592b66fac96d9f1082ce9b51a36bae3', 'message': 'k8s_fedora: Set rp_filter=1 for calico\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I828cec27968ffe0961011e34a66e0eef3e567c91\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3a38cfb2efd9bf97efa0dff1c311da1b01f04de8)\n(cherry picked from commit 1f4da1830320e3cb8ad4cd29c11b8f7355976be6)\n'}, {'number': 4, 'created': '2019-12-05 09:57:54.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bf4b835aa80a231f7880eed1c5c2deed3dfd6ccb', 'message': 'k8s_fedora: Set rp_filter=1 for calico\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 3a38cfb2efd9bf97efa0dff1c311da1b01f04de8)\n(cherry picked from commit 1f4da1830320e3cb8ad4cd29c11b8f7355976be6)\n\nk8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)\n(cherry picked from commit 4807e64772b4364e849cb98c458e2a9f0a5dd926)\n\nChange-Id: I828cec27968ffe0961011e34a66e0eef3e567c91\n'}]",0,696916,bf4b835aa80a231f7880eed1c5c2deed3dfd6ccb,14,5,4,28022,,,0,"k8s_fedora: Set rp_filter=1 for calico

upstream docs:
Cluster nodes must have rp_filter set to strict (1).
https://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md

story: 2006441
task: 36564

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 3a38cfb2efd9bf97efa0dff1c311da1b01f04de8)
(cherry picked from commit 1f4da1830320e3cb8ad4cd29c11b8f7355976be6)

k8s_fedora: Move rp_filter=1 for calico up

follow up of: I828cec27968ffe0961011e34a66e0eef3e567c91

Move set of sysctl.conf up as it does need to
depend on NetworkManager configuration.

upstream docs:
Cluster nodes must have rp_filter set to strict (1).
https://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md

story: 2006441
task: 36564

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bb747ac5e79d3734422d9561c52dc85213f2e22b)
(cherry picked from commit 4807e64772b4364e849cb98c458e2a9f0a5dd926)

Change-Id: I828cec27968ffe0961011e34a66e0eef3e567c91
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/696916/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,6e44c8d399a1fc145421a5a930df4a70ddd1d066,rocky-7.1.1," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf sysctl -p",,4,0
openstack%2Fdesignate-dashboard~master~Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113,openstack/designate-dashboard,master,Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-11-15 03:43:22.000000000,2019-12-05 10:01:37.000000000,2019-12-05 09:58:22.000000000,"[{'_account_id': 1736}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-15 03:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/554dd9fd4bebd075e043010045269eec0a99bfa0', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}, {'number': 2, 'created': '2019-11-16 17:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/4931b0608956b6b29d12ebae468323db9984c86d', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}, {'number': 3, 'created': '2019-11-20 08:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/69ca8ef3f5500e17a2b86d2daa4baa5f0b728f2d', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}, {'number': 4, 'created': '2019-11-22 16:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/2876f3268724a80d677ae72ceed05eafd8458706', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}, {'number': 5, 'created': '2019-11-22 17:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/da2b4c741973d38b680a700affd9f2c32199cd34', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso changing tox path to py3 to fix gate.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}, {'number': 6, 'created': '2019-11-22 17:06:40.000000000', 'files': ['manage.py', 'karma.conf.js', 'releasenotes/notes/drop-py-2-7-ae8cade4a0ee1da8.yaml', 'test-requirements.txt', '.zuul.yaml', 'package.json', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/95dbf83346a33ecf6b7b9af696f0da4ae6ee9596', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ndesignate-dashboard is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso changing tox path to py3 to fix gate.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nDepends-On: https://review.opendev.org/#/c/693631/\n\nCo-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>\nChange-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113\n'}]",0,694440,95dbf83346a33ecf6b7b9af696f0da4ae6ee9596,21,5,6,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

designate-dashboard is ready with python 3 and ok to drop the
python 2.7 support.

Also changing tox path to py3 to fix gate.
Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Depends-On: https://review.opendev.org/#/c/693631/

Co-Authored-By: Vishal Manchanda <manchandavishal143@gmail.com>
Change-Id: Id734dd4772ee4476ae1cfa8fb3c3e4b81109a113
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/40/694440/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-ae8cade4a0ee1da8.yaml', 'test-requirements.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini']",5,554dd9fd4bebd075e043010045269eec0a99bfa0,drop-py27-support,"envlist = py37,py3-{dj111,dj22},pep8","envlist = py27,py37,py3-{dj111,dj22},pep8",7,5
openstack%2Fkolla-ansible~master~Icc946b883e769aaaf2300477ab3e4d9af1e7dc74,openstack/kolla-ansible,master,Icc946b883e769aaaf2300477ab3e4d9af1e7dc74,Start README.rst with a better title,MERGED,2019-11-28 01:51:45.000000000,2019-12-05 09:58:26.000000000,2019-12-05 09:57:15.000000000,"[{'_account_id': 14826}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-28 01:51:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4405c848acd036bd4ae1ed0f0d95bfa3cee84af9', 'message': 'Start README.rst with a better title\n\nNow that we are using gitea the contents of our README.rst are\nmore prominently displayed. Starting it with a ""Team and repository\ntags"" title is a bit confusing. This change makes it start with the\nname of the project instead.\n\nChange-Id: Icc946b883e769aaaf2300477ab3e4d9af1e7dc74\n'}]",0,696427,4405c848acd036bd4ae1ed0f0d95bfa3cee84af9,9,4,1,30408,,,0,"Start README.rst with a better title

Now that we are using gitea the contents of our README.rst are
more prominently displayed. Starting it with a ""Team and repository
tags"" title is a bit confusing. This change makes it start with the
name of the project instead.

Change-Id: Icc946b883e769aaaf2300477ab3e4d9af1e7dc74
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/696427/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4405c848acd036bd4ae1ed0f0d95bfa3cee84af9,dev,============= Kolla-Ansible =============,======================== Team and repository tags ============================================== Kolla-Ansible Overview ======================,3,6
openstack%2Fdevstack~master~Ibc93f191bb83249de8c1d7ef430447b5d54aa736,openstack/devstack,master,Ibc93f191bb83249de8c1d7ef430447b5d54aa736,lib/tempest: Specify python3 version in image_size_in_gib,ABANDONED,2019-12-04 22:44:23.000000000,2019-12-05 09:58:09.000000000,,"[{'_account_id': 1131}, {'_account_id': 7118}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 22:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/967d94c57cf0800088d7f54345d6c03a020e17f2', 'message': 'lib/tempest: Specify python3 version in image_size_in_gib\n\nthe function in lib/tempest called image_size_in_gib\ndoes the following:\n\n   echo $size | python -c ""import math; import six; ...""\n\nin systems where python2 is installed and package six is only\npart of python3, the following error will occur:\n\n  Traceback (most recent call last):\n    File ""<string>"", line 1, in <module>\n  ImportError: No module named six\n\nSo, explicitly use ${PYTHON3_VERSION}, since python\nmay mean python2.\n\nChange-Id: Ibc93f191bb83249de8c1d7ef430447b5d54aa736\n'}, {'number': 2, 'created': '2019-12-04 22:48:19.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8123d59ddc6c7e930ad30ab5585d010c16c9e41', 'message': 'lib/tempest: Specify python3 version in image_size_in_gib\n\nThe function in lib/tempest called image_size_in_gib\ndoes the following:\n\n   echo $size | python -c ""import math; import six; ...""\n\nIn systems where python2 is installed and package six is only\npart of python3, the following error will occur:\n\n  Traceback (most recent call last):\n    File ""<string>"", line 1, in <module>\n  ImportError: No module named six\n\nSo, explicitly use ${PYTHON3_VERSION}, since python\nmay mean python2.\n\nChange-Id: Ibc93f191bb83249de8c1d7ef430447b5d54aa736\n'}]",2,697382,f8123d59ddc6c7e930ad30ab5585d010c16c9e41,9,6,2,11952,,,0,"lib/tempest: Specify python3 version in image_size_in_gib

The function in lib/tempest called image_size_in_gib
does the following:

   echo $size | python -c ""import math; import six; ...""

In systems where python2 is installed and package six is only
part of python3, the following error will occur:

  Traceback (most recent call last):
    File ""<string>"", line 1, in <module>
  ImportError: No module named six

So, explicitly use ${PYTHON3_VERSION}, since python
may mean python2.

Change-Id: Ibc93f191bb83249de8c1d7ef430447b5d54aa736
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/697382/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,967d94c57cf0800088d7f54345d6c03a020e17f2,," echo $size | python${PYTHON3_VERSION} -c ""import math; import six; print(int(math.ceil(float(int(six.moves.input()) / 1024.0 ** 3))))"""," echo $size | python -c ""import math; import six; print(int(math.ceil(float(int(six.moves.input()) / 1024.0 ** 3))))""",1,1
openstack%2Fdesignate~master~I9c7adff0f684146102fac89d1cee74a785ab70d9,openstack/designate,master,I9c7adff0f684146102fac89d1cee74a785ab70d9,Fix devstack plugin python3 support,ABANDONED,2019-12-05 08:57:12.000000000,2019-12-05 09:57:14.000000000,,"[{'_account_id': 13252}, {'_account_id': 20363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 08:57:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/c4a7aef824fd3dbca5affa27c4361c308fd9c7ff', 'message': 'Fix devstack plugin python3 support\n\nThe devstack plugin.sh script was calling explicitly\n""python"". This causes the plugin to fail on python3 only hosts.\nThis patch corrects this by using the devstack $PYTHON variable.\n\nChange-Id: I9c7adff0f684146102fac89d1cee74a785ab70d9\n'}]",0,697422,c4a7aef824fd3dbca5affa27c4361c308fd9c7ff,5,3,1,20363,,,0,"Fix devstack plugin python3 support

The devstack plugin.sh script was calling explicitly
""python"". This causes the plugin to fail on python3 only hosts.
This patch corrects this by using the devstack $PYTHON variable.

Change-Id: I9c7adff0f684146102fac89d1cee74a785ab70d9
",git fetch https://review.opendev.org/openstack/designate refs/changes/22/697422/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,c4a7aef824fd3dbca5affa27c4361c308fd9c7ff,, (cd ${DESIGNATEDASHBOARD_DIR}/designatedashboard; DJANGO_SETTINGS_MODULE=openstack_dashboard.settings $PYTHON ../manage.py compilemessages), (cd ${DESIGNATEDASHBOARD_DIR}/designatedashboard; DJANGO_SETTINGS_MODULE=openstack_dashboard.settings ../manage.py compilemessages),1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I154e6ffdeec86b13bc7e586154909c3ff41f8d58,openstack/tripleo-ansible,stable/train,I154e6ffdeec86b13bc7e586154909c3ff41f8d58,Optionally add ctlplane vips,MERGED,2019-12-05 02:27:42.000000000,2019-12-05 09:51:38.000000000,2019-12-05 09:51:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 02:27:42.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4fdd85de2212145ce6d0746fb07bb7bc60bcb33', 'message': ""Optionally add ctlplane vips\n\nIf the OS::TripleO::Network::Ports::ControlPlaneVipPort is not\nconfigured, as done on an undercloud minion, the ctlplane_subnet_cidr is\nnever configured. We shouldn't assume it's available so let's check that\nit exists first.\n\nChange-Id: I154e6ffdeec86b13bc7e586154909c3ff41f8d58\nCloses-Bug: #1837644\n(cherry picked from commit 0dba52d59390ee60ec387a434ef4789fc104a389)\n""}]",0,697400,b4fdd85de2212145ce6d0746fb07bb7bc60bcb33,7,3,1,14985,,,0,"Optionally add ctlplane vips

If the OS::TripleO::Network::Ports::ControlPlaneVipPort is not
configured, as done on an undercloud minion, the ctlplane_subnet_cidr is
never configured. We shouldn't assume it's available so let's check that
it exists first.

Change-Id: I154e6ffdeec86b13bc7e586154909c3ff41f8d58
Closes-Bug: #1837644
(cherry picked from commit 0dba52d59390ee60ec387a434ef4789fc104a389)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/697400/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'],1,b4fdd85de2212145ce6d0746fb07bb7bc60bcb33,bug/1837644-stable/train,"{% if ctlplane_ip is defined %}{% if ctlplane_subnet is defined %} {% set _ = net_ip_map.__setitem__('ctlplane_subnet', ctlplane_ip ~ '/' ~ ctlplane_subnet_cidr) %} {% endif %} {% endif %}","{% set _ = net_ip_map.__setitem__('ctlplane_subnet', ctlplane_ip ~ '/' ~ ctlplane_subnet_cidr) %}",5,1
openstack%2Fopenstacksdk~stable%2Frocky~Ie0cffc402747d070c1eae1d9b423a046936d917d,openstack/openstacksdk,stable/rocky,Ie0cffc402747d070c1eae1d9b423a046936d917d,Keep connection backrefs with weakref.proxy,MERGED,2019-11-27 01:57:55.000000000,2019-12-05 09:46:11.000000000,2019-12-05 09:46:11.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-11-27 01:57:55.000000000', 'files': ['openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9873ecbad9cccbac0fcecfaa3415510468619dbb', 'message': ""Keep connection backrefs with weakref.proxy\n\nWe're storing references to the connection object on\nproxy objects and the senlin folks are seeing memory\nleaks. Storing them in weakrefs.\n\nChange-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d\n(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)\n""}]",0,696221,9873ecbad9cccbac0fcecfaa3415510468619dbb,11,3,1,22623,,,0,"Keep connection backrefs with weakref.proxy

We're storing references to the connection object on
proxy objects and the senlin folks are seeing memory
leaks. Storing them in weakrefs.

Change-Id: Ie0cffc402747d070c1eae1d9b423a046936d917d
(cherry picked from commit 0e8e36163716a53b4c1c2931408ced72951513be)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/21/696221/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/connection.py'],1,9873ecbad9cccbac0fcecfaa3415510468619dbb,,import weakref self.session._sdk_connection = weakref.proxy(self), self.session._sdk_connection = self,2,1
openstack%2Fdevstack~master~Iefcca99904dde76b34efbbfc0e04515dfa5a09e5,openstack/devstack,master,Iefcca99904dde76b34efbbfc0e04515dfa5a09e5,Drop Xenial support,MERGED,2019-11-19 23:42:50.000000000,2019-12-05 09:44:05.000000000,2019-12-05 09:40:27.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 23:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/37083946bf3954f52ff479a71777df06c85930ff', 'message': 'Drop Xenial support\n\nWith the goals of Ussuri being Python 3.6 [1], the python 3.5\nenvironment on Xenial is too old.  Remove testing and the most obvious\nbits of support from devstack.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/ussuri.html\n\nChange-Id: Iefcca99904dde76b34efbbfc0e04515dfa5a09e5\n'}, {'number': 2, 'created': '2019-11-21 10:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fdbca2725ff7e636a8f8b11dd41e244e16f94d30', 'message': 'Drop Xenial support\n\nWith the goals of Ussuri being Python 3.6 [1], the python 3.5\nenvironment on Xenial is too old.  Remove testing and the most obvious\nbits of support from devstack.\n\nAlso drop claimed support for artful, which is long EOL.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/ussuri.html\n\nChange-Id: Iefcca99904dde76b34efbbfc0e04515dfa5a09e5\n'}, {'number': 3, 'created': '2019-11-21 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/15b2412ee1e8676b875a5e5eb8b933220212ec55', 'message': 'Drop Xenial support\n\nWith the goals of Ussuri being Python 3.6 [1], the python 3.5\nenvironment on Xenial is too old.  Remove testing and the most obvious\nbits of support from devstack.\n\nAlso drop claimed support for artful, which is long EOL.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/ussuri.html\n\nChange-Id: Iefcca99904dde76b34efbbfc0e04515dfa5a09e5\n'}, {'number': 4, 'created': '2019-11-21 18:39:51.000000000', 'files': ['files/debs/nova', 'lib/nova_plugins/functions-libvirt', '.zuul.yaml', 'tools/fixup_stuff.sh', 'stackrc', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2e6677869925c86c01cae883b3dde6cccad81d30', 'message': 'Drop Xenial support\n\nWith the goals of Ussuri being Python 3.6 [1], the python 3.5\nenvironment on Xenial is too old.  Remove testing and the most obvious\nbits of support from devstack.\n\nAlso drop claimed support for artful, which is long EOL.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/ussuri.html\n\nChange-Id: Iefcca99904dde76b34efbbfc0e04515dfa5a09e5\n'}]",3,695114,2e6677869925c86c01cae883b3dde6cccad81d30,17,3,4,7118,,,0,"Drop Xenial support

With the goals of Ussuri being Python 3.6 [1], the python 3.5
environment on Xenial is too old.  Remove testing and the most obvious
bits of support from devstack.

Also drop claimed support for artful, which is long EOL.

[1] https://governance.openstack.org/tc/reference/runtimes/ussuri.html

Change-Id: Iefcca99904dde76b34efbbfc0e04515dfa5a09e5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/695114/3 && git format-patch -1 --stdout FETCH_HEAD,"['files/debs/nova', 'lib/nova_plugins/functions-libvirt', '.zuul.yaml', 'tools/fixup_stuff.sh', 'stack.sh']",5,37083946bf3954f52ff479a71777df06c85930ff,no-xenial,"# (Bionic or newer), **Fedora** (F24 or newer), or **CentOS/RHEL**if [[ ! ${DISTRO} =~ (artful|bionic|stretch|jessie|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then","# (16.04 Xenial or newer), **Fedora** (F24 or newer), or **CentOS/RHEL**if [[ ! ${DISTRO} =~ (xenial|artful|bionic|stretch|jessie|f29|opensuse-15.0|opensuse-15.1|opensuse-tumbleweed|rhel7) ]]; then",4,93
openstack%2Ftempest~master~Id3e537bc55089ca5c35fa1f973dd47f2b11147ae,openstack/tempest,master,Id3e537bc55089ca5c35fa1f973dd47f2b11147ae,Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name,MERGED,2019-11-15 22:12:09.000000000,2019-12-05 09:37:40.000000000,2019-12-05 09:36:14.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 10459}, {'_account_id': 11604}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27478}, {'_account_id': 31239}]","[{'number': 1, 'created': '2019-11-15 22:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/049664e44bacbbb70134707d8aacf6e682f76f9d', 'message': 'Fix test_attach_detach_volume function to work with existing instance which has two exisitng volumes\nconfig drive format vfat and root\n\nThis Patch will take the instance volume disk  name after the volume is being attached\nto instance and use this volume device name to check if the device is properly removed or not\nrather than relying on self.drive which is based on assumptions that libvirt take the\nsame name while attaching which may or may not be true and we observer this test case failing\nwhen the instance boot with config drive format ""vfat"" enabled taking two vda and vdb volume\ndisk name.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 2, 'created': '2019-11-16 01:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d3ce8ffa1172e30def2762c09fa42cff7fae0023', 'message': 'Fix test_attach_detach_volume function to work with existing instance which has two exisitng volumes\nconfig drive format vfat and root\n\nThis Patch will take the instance volume disk  name after the volume is being attached\nto instance and use this volume device name to check if the device is properly removed or not\nrather than relying on self.drive which is based on assumptions that libvirt take the\nsame name while attaching which may or may not be true and we observer this test case failing\nwhen the instance boot with config drive format ""vfat"" enabled taking two vda and vdb volume\ndisk name.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 3, 'created': '2019-11-19 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/912457abb8c6be8c2b811b045dd71fbc1a528f28', 'message': 'Fix test_attach_detach_volume function to not rely on libvirt provided vol. name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption and validate the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of existing util remote client.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled taking two vda and\nvdb volume disk name, so whatever test case boot with\nephemeral disk or config drive will not be able to use this\ntestcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 4, 'created': '2019-11-20 12:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/830900a9414002a831b8c033508632c4a6c5ecc5', 'message': 'Fix test_attach_detach_volume function to not rely on libvirt provided vol. name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption and validate the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of existing util remote client.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled taking two vda and\nvdb volume disk name, so whatever test case boot with\nephemeral disk or config drive will not be able to use this\ntestcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 5, 'created': '2019-11-20 17:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc4517bb33672bb274b3005b3ba8ab90e11c538e', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 6, 'created': '2019-11-21 19:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7792a5ca0e2563b0c4c756c33685d7ec744e6946', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 7, 'created': '2019-11-21 22:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/977d8f67996d52a5da0ffed2379c8b328c0f8abf', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 8, 'created': '2019-11-22 01:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cfdb0376351a7638e120d4c16d36edd55a07b0a2', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 9, 'created': '2019-11-22 15:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/acb61a36829ed67508a83cb64ac29aeac5a956cc', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\ncloses-Bug: #1852807\n'}, {'number': 10, 'created': '2019-11-23 19:27:37.000000000', 'files': ['tempest/common/utils/linux/remote_client.py', 'tempest/tests/common/utils/linux/test_remote_client.py', 'tempest/api/compute/volumes/test_attach_volume.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f11856505fcfb85f1ad4fde4bf68078c63be787a', 'message': 'Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name\n\nThis patch removes user provided and libvirt assigned\nvalue as that was based on assumption rather count the\ndisk name before and after attach/detach based on output\ngenerated using \'lsblk\' command  in the running instance\nwith the help of new method list_disks in client and\nexisting util remote client for remote ssh.\n\nwe observer this test case failing when the instance boot\nwith config drive format ""vfat"" enabled with two volume\nvda and vdb volume disk name, so whatever test case boot with\nconfig drive as well as ephemeral disk  was not be able to\nuse this testcase.\n\nChange-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae\nPartial-Bug: #1852807\n'}]",21,694636,f11856505fcfb85f1ad4fde4bf68078c63be787a,65,13,10,31239,,,0,"Fix test_attach_detach_volume test case to not rely on user/libvirt supplied disk name

This patch removes user provided and libvirt assigned
value as that was based on assumption rather count the
disk name before and after attach/detach based on output
generated using 'lsblk' command  in the running instance
with the help of new method list_disks in client and
existing util remote client for remote ssh.

we observer this test case failing when the instance boot
with config drive format ""vfat"" enabled with two volume
vda and vdb volume disk name, so whatever test case boot with
config drive as well as ephemeral disk  was not be able to
use this testcase.

Change-Id: Id3e537bc55089ca5c35fa1f973dd47f2b11147ae
Partial-Bug: #1852807
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/694636/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/volumes/test_attach_volume.py'],1,049664e44bacbbb70134707d8aacf6e682f76f9d,," device_name_to_match = attachment['device'].replace('/dev/','')", device_name_to_match = '\n' + self.device + ' ',1,1
openstack%2Ftrove~master~I3401ab18faf4ccdd5006f8258d67626f49aeec5e,openstack/trove,master,I3401ab18faf4ccdd5006f8258d67626f49aeec5e,Fix Mariadb issue without password and innodb plugin,ABANDONED,2019-10-17 10:06:18.000000000,2019-12-05 09:36:23.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 10:06:18.000000000', 'files': ['trove/templates/mariadb/config.template', 'trove/guestagent/datastore/mysql_common/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f6323aae61df3e0b1315fb988cce0cb8f8408933', 'message': 'Fix Mariadb issue without password and innodb plugin\n\nSince mariadb v10.2 then innoDB is default [1]. By default,\nthe mariadb access without password thus we need to set empty\npassword before create new engine with empty password for mariadb.\nThis is a reason is making error during mariadb mechanism.\n\n[1] https://mariadb.com/kb/en/library/using-innodb-instead-of-xtradb/\n\nChange-Id: I3401ab18faf4ccdd5006f8258d67626f49aeec5e\n'}]",0,689118,f6323aae61df3e0b1315fb988cce0cb8f8408933,5,2,1,25254,,,0,"Fix Mariadb issue without password and innodb plugin

Since mariadb v10.2 then innoDB is default [1]. By default,
the mariadb access without password thus we need to set empty
password before create new engine with empty password for mariadb.
This is a reason is making error during mariadb mechanism.

[1] https://mariadb.com/kb/en/library/using-innodb-instead-of-xtradb/

Change-Id: I3401ab18faf4ccdd5006f8258d67626f49aeec5e
",git fetch https://review.opendev.org/openstack/trove refs/changes/18/689118/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/templates/mariadb/config.template']",2,f6323aae61df3e0b1315fb988cce0cb8f8408933,fix_mariadb,,ignore_builtin_innodb plugin_load=innodb=ha_innodb.so,11,4
openstack%2Fkolla~master~Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,openstack/kolla,master,Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e,Install etcd3gw to fix Ubuntu binary tooz coordination,MERGED,2019-12-03 13:29:47.000000000,2019-12-05 09:30:48.000000000,2019-12-04 19:27:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-03 13:29:47.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0186c5e3cafeae0bb1c39bdef0df6ade827552d5', 'message': 'Install etcd3gw to fix Ubuntu binary tooz coordination\n\nChange-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e\nCloses-bug: #1852086\n'}]",1,697088,0186c5e3cafeae0bb1c39bdef0df6ade827552d5,11,5,1,30491,,,0,"Install etcd3gw to fix Ubuntu binary tooz coordination

Change-Id: Ib56e62d1fb4d0fc4a6c627b87a929be0bc614d1e
Closes-bug: #1852086
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/697088/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'releasenotes/notes/add-etcd3gw-to-ubuntu-binary-1aaf4b5e1ee670ee.yaml']",2,0186c5e3cafeae0bb1c39bdef0df6ade827552d5,,--- fixes: - | Fixes unavailability of an etcd3-compatible tooz coordination driver in Ubuntu binary images by installing ``python3-etcd3gw``. See `bug 1852086 <https://bugs.launchpad.net/kolla-ansible/+bug/1852086>`__ for details. ,,7,0
openstack%2Fheat~master~Ib2bd7dc33ae9ee603dad4ccfacb7d04fd7e9f35f,openstack/heat,master,Ib2bd7dc33ae9ee603dad4ccfacb7d04fd7e9f35f,Categorize releasenotes by release,ABANDONED,2019-09-20 06:48:04.000000000,2019-12-05 09:17:44.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 06:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2fc603e749c446e54533102c099b38c9e2f869fb', 'message': '[Test] categories releasenotes by release\n\nChange-Id: Ib2bd7dc33ae9ee603dad4ccfacb7d04fd7e9f35f\n'}, {'number': 2, 'created': '2019-09-20 09:35:12.000000000', 'files': ['releasenotes/notes/queens/force-delete-nova-instance-6ed5d7fbd5b6f5fe.yaml', 'releasenotes/notes/ocata/resource-search-3234afe601ea4e9d.yaml', 'releasenotes/notes/stein/bp-tap-as-a-service-da00206c6a3d4ffc.yaml', 'releasenotes/notes/rocky/subnet-allow-update-segmentid-d3b20b8c24969d0a.yaml', 'releasenotes/notes/ocata/add-template-dir-config-b96392a9e116a2d3.yaml', 'releasenotes/notes/rocky/change-dist-name-288024b5d6668c01.yaml', 'releasenotes/notes/ocata/bp-support-rbac-policy-fd71f8f6cc97bfb6.yaml', 'releasenotes/notes/ocata/subnet-pool-resource-c32ff97d4f956b73.yaml', 'releasenotes/notes/pike/deprecate-nova-floatingip-resources-d5c9447a199be402.yaml', 'releasenotes/notes/stein/providernet_tags_support-e8cc20a4ab76ab8e.yaml', 'releasenotes/notes/queens/add-hostname-hints-security_groups-to-container-d3b69ae4b6f71fc7.yaml', 'releasenotes/notes/pike/mark-combination-alarm-as-placeholder-resource-e243e9692cab52e0.yaml', 'releasenotes/notes/train/add-dedicated-auth-endpoint-config-for-servers-b20f7eb351f619d0.yaml', 'releasenotes/notes/stein/glance-web-download-c9d1fd2a6a2cb044.yaml', 'releasenotes/notes/pike/bp-support-trunk-port-733019c49a429826.yaml', 'releasenotes/notes/ocata/environment-merging-d623362fac1279f7.yaml', 'releasenotes/notes/ocata/event-transport-302d1db6c5a5daa9.yaml', 'releasenotes/notes/pike/parameter-group-for-nested-04559c4de34e326a.yaml', 'releasenotes/notes/train/port-mac-address-update-b377d23434e7b48a.yaml', 'releasenotes/notes/ocata/bp-support-conditions-1a9f89748a08cd4f.yaml', 'releasenotes/notes/pike/add-list-concat-unique-function-5a87130d9c93cb08.yaml', 'releasenotes/notes/rocky/server-addresses-attr-include-subnet-62d74e161e1db1af.yaml', 'releasenotes/notes/rocky/add-networks-properties-to-container-resource-b1936d7e113aafbc.yaml', 'releasenotes/notes/ocata/cinder-qos-specs-resource-ca5a237ebc114729.yaml', 'releasenotes/notes/stein/neutron-l2gw-support-9fbb690bb5648f76.yaml', 'releasenotes/notes/queens/octavia-resources-0a25720e16dfe55d.yaml', 'releasenotes/notes/pike/server-group-soft-policy-8eabde24bf14bf1d.yaml', 'releasenotes/notes/ocata/template-validate-improvements-52ecf5125c9efeda.yaml', 'releasenotes/notes/train/qos-bandwidth-limit-ingress-182a6300cd6e7aa3.yaml', 'releasenotes/notes/pike/set-tags-for-network-resource-d6f3843c546744a2.yaml', 'releasenotes/notes/ocata/nova-quota-resource-84350f0467ce2d40.yaml', 'releasenotes/notes/train/constraints-i18n-dc8b2652b8455196.yaml', 'releasenotes/notes/ocata/neutron-address-scope-ce234763e22c7449.yaml', 'releasenotes/notes/stein/add-subnetpool-rbacpolicy-quota-resource-945a74b57e2198a3.yaml', 'releasenotes/notes/pike/make_url-function-d76737adb1e54801.yaml', 'releasenotes/notes/queens/cancel_without_rollback-e5d978a60d9baf45.yaml', 'releasenotes/notes/ocata/cinder-quota-resource-f13211c04020cd0c.yaml', 'releasenotes/notes/queens/sync-queens-releasenote-13f68851f7201e37.yaml', 'releasenotes/notes/queens/hidden-designate-domain-record-res-d445ca7f1251b63d.yaml', 'releasenotes/notes/queens/project-tags-orchestration-If9125519e35f9f95ea8343cb07c377de9ccf5edf.yaml', 'releasenotes/notes/pike/deployment-swift-data-server-property-51fd4f9d1671fc90.yaml', 'releasenotes/notes/ocata/random-string-entropy-9b8e23874cd79b8f.yaml', 'releasenotes/notes/ocata/yaql-function-4895e39555c2841d.yaml', 'releasenotes/notes/queens/hidden-heat-harestarter-resource-a123479c317886a3.yaml', 'releasenotes/notes/ocata/legacy-stack-user-id-cebbad8b0f2ed490.yaml', 'releasenotes/notes/train/add_doc_for_multi_cloud_support-9f6e74ccc2639b4e.yaml', 'releasenotes/notes/ocata/bp-support-neutron-qos-3feb38eb2abdcc87.yaml', 'releasenotes/notes/ocata/cinder-backup-cb72e775681fb5a5.yaml', 'releasenotes/notes/rocky/delay-resource-e20ba61f31799f6e.yaml', 'releasenotes/notes/pike/doc-migrate-10c968c819848240.yaml', 'releasenotes/notes/pike/fix-attachments-type-c5b6fb5b4c2bcbfe.yaml', 'releasenotes/notes/pike/repeat-support-setting-permutations-fbc3234166b529ca.yaml', 'releasenotes/notes/pike/add-contains-function-440aa7184a07758c.yaml', 'releasenotes/notes/ocata/bp-support-host-aggregate-fbc4097f4e6332b8.yaml', 'releasenotes/notes/rocky/hidden-resources-529934d5eb519c86.yaml', 'releasenotes/notes/ocata/event-list-nested-depth-80081a2a8eefee1a.yaml', 'releasenotes/notes/stein/add-udp-support-octavia-593dca738ab2ef57.yaml', 'releasenotes/notes/ocata/monasca-supported-71c5373282c3b338.yaml', 'releasenotes/notes/ocata/glance-image-tag-6fa123ca30be01aa.yaml', 'releasenotes/notes/ocata/barbican-container-77967add0832d51b.yaml', 'releasenotes/notes/ocata/mark-unhealthy-phys-id-e90fd669d86963d1.yaml', 'releasenotes/notes/pike/change-heat-keystone-user-name-limit-to-255-bd076132b98744be.yaml', 'releasenotes/notes/stein/heat-status-upgrade-check-framework-ccbd67cee3994b88.yaml', 'releasenotes/notes/ocata/external-resources-965d01d690d32bd2.yaml', 'releasenotes/notes/rocky/drop-ceilometerclient-868ee47eedf2dff4.yaml', 'releasenotes/notes/queens/parameter-tags-148ef065616f92fc.yaml', 'releasenotes/notes/ocata/keystone-region-ce3b435c73c81ce4.yaml', 'releasenotes/notes/ocata/server-side-multi-env-7862a75e596ae8f5.yaml', 'releasenotes/notes/pike/set-tags-for-subnet-17a97b88dd11de63.yaml', 'releasenotes/notes/queens/deprecate-threshold-alarm-5738f5ab8aebfd20.yaml', 'releasenotes/notes/ocata/neutron-quota-resource-7fa5e4df8287bf77.yaml', 'releasenotes/notes/train/attribute-schema-validation-db615003e577f8dd.yaml', 'releasenotes/notes/pike/get-server-webmks-console-url-f7066a9e14429084.yaml', 'releasenotes/notes/ocata/restrict_update_replace-68abece58cf3f6a0.yaml', 'releasenotes/notes/rocky/migrate-to-storyboard-36c90857d3167322.yaml', 'releasenotes/notes/rocky/network-attribute-segments-984ec5b3e75d657b.yaml', 'releasenotes/notes/ocata/dns-resolution-5afc1c57dfd05aff.yaml', 'releasenotes/notes/pike/neutron-segment-support-a7d44af499838a4e.yaml', 'releasenotes/notes/ocata/bp-update-cinder-resources-e23e62762f167d29.yaml', 'releasenotes/notes/pike/bp-mistral-new-resource-type-workflow-execution-748bd37faa3e427b.yaml', 'releasenotes/notes/pike/store-resource-attributes-8bcbedca2f86986e.yaml', 'releasenotes/notes/queens/remove-cloudwatch-api-149403251da97b41.yaml', 'releasenotes/notes/pike/give-me-a-network-67e23600945346cd.yaml', 'releasenotes/notes/stein/manual-rollback-failed-replacement-08ebb9271617fe9d.yaml', 'releasenotes/notes/pike/add-zun-client-plugin-dfc10ecd1a6e98be.yaml', 'releasenotes/notes/queens/policy-in-code-124372f6cdb0a497.yaml', 'releasenotes/notes/ocata/designate-v2-support-0f889e9ad13d4aa2.yaml', 'releasenotes/notes/pike/stack-definition-in-functions-3f7f172a53edf535.yaml', 'releasenotes/notes/ocata/keystone-domain-support-e06e2c65c5925ae5.yaml', 'releasenotes/notes/train/add-aodh-lbmemberhealth-alarm-c59502aac1944b8b.yaml', 'releasenotes/notes/ocata/neutron-lbaas-v2-resources-c0ebbeb9bc9f7a42.yaml', 'releasenotes/notes/queens/legacy-client-races-ba7a60cef5ec1694.yaml', 'releasenotes/notes/ocata/server-ephemeral-bdm-v2-55e0fe2afc5d8b63.yaml', 'releasenotes/notes/queens/set-networks-for-trove-cluster-b997a049eedbad17.yaml', 'releasenotes/notes/stein/deprecate_personality_property-6bcda7c7c0e07151.yaml', 'releasenotes/notes/rocky/server-addresses-attr-include-network-0f5359ecc33b4718.yaml', 'releasenotes/notes/stein/allow_global_admin_get_resources_from_other_projects-711a6b61a0aaaf63.yaml', 'releasenotes/notes/pike/set-tags-for-subnetpool-d86ca0d7e35a05f1.yaml', 'releasenotes/notes/pike/support-rbac-for-qos-policy-a55434654e1dd953.yaml', 'releasenotes/notes/pike/set-tags-for-port-471155bb53436361.yaml', 'releasenotes/notes/ocata/add-aodh-composite-alarm-f8eb4f879fe0916b.yaml', 'releasenotes/notes/pike/magnum-resource-update-0f617eec45ef8ef7.yaml', 'releasenotes/notes/queens/environment_validate_template-fee21a03bb628446.yaml', 'releasenotes/notes/ocata/add-cephfs-share-protocol-033e091e7c6c5166.yaml', 'releasenotes/notes/stein/Multi-OpenStack-Cloud-Support-b1ae023811d88854.yaml', 'releasenotes/notes/ocata/system-random-string-38a14ae2cb6f4a24.yaml', 'releasenotes/notes/ocata/server-add-user-data-update-policy-c34646acfaada4d4.yaml', 'releasenotes/notes/queens/remove-SSLMiddleware-2f15049af559f26a.yaml', 'releasenotes/notes/pike/add-list_concat-function-c28563ab8fb6362e.yaml', 'releasenotes/notes/queens/resource_group_removal_policies_mode-d489e0cc49942e2a.yaml', 'releasenotes/notes/pike/add-zun-container-c31fa5316237b13d.yaml', 'releasenotes/notes/pike/converge-flag-for-stack-update-e0e92a7fe232f10f.yaml', 'releasenotes/notes/pike/add-tags-for-neutron-router-43d72e78aa89fd07.yaml', 'releasenotes/notes/train/octavia-member-tags-84cd00224d6b7bc1.yaml', 'releasenotes/notes/queens/convergence-delete-race-5b821bbd4c5ba5dc.yaml', 'releasenotes/notes/train/trust-redelegate-25a6cfc78528a361.yaml', 'releasenotes/notes/ocata/sahara-job-resource-84aecc11fdf1d5af.yaml', 'releasenotes/notes/ocata/api-outputs-6d09ebf5044f51c3.yaml', 'releasenotes/notes/stein/neutron-l2gw-connection-support-56fc2db6e448100a.yaml', 'releasenotes/notes/ocata/monasca-period-f150cdb134f1e036.yaml', 'releasenotes/notes/rocky/neutron-port-network-attribute-14d2eeb481b25fa8.yaml', 'releasenotes/notes/rocky/add-blazar-client-plugin-e2077e8646ca5f1a.yaml', 'releasenotes/notes/stein/support_remote_stack_override_ssl_options-69c82b351920af57.yaml', 'releasenotes/notes/stein/add-blazar-lease-resource-724caa6572e44182.yaml', 'releasenotes/notes/pike/know-limit-releasenote-4d21fc4d91d136d9.yaml', 'releasenotes/notes/rocky/drop-watch-rule-watch-data-tables-9ecb8da574611236.yaml', 'releasenotes/notes/ocata/map-replace-function-26bf247c620f64bf.yaml', 'releasenotes/notes/ocata/zaqar-notification-a4d240bbf31b7440.yaml', 'releasenotes/notes/rocky/support-files-from-swift-f27fd2d788d67580.yaml', 'releasenotes/notes/ocata/configurable-server-name-limit-947d9152fe9b43ee.yaml', 'releasenotes/notes/ocata/senlin-resources-71c856dc62d0b407.yaml', 'releasenotes/notes/stein/add-blazar-host-resource-392ce00635ac27ed.yaml', 'releasenotes/notes/ocata/immutable-parameters-a13dc9bec7d6fa0f.yaml', 'releasenotes/notes/queens/keystone-project-allow-get-attribute-b382fe97694e3987.yaml', 'releasenotes/notes/queens/remove-heat-resourcetype-constraint-b679618a149fc04e.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/0c41b116d54459d1f200f08e4007f92435ef39ed', 'message': 'Categorize releasenotes by release\n\nChange-Id: Ib2bd7dc33ae9ee603dad4ccfacb7d04fd7e9f35f\n'}]",1,683297,0c41b116d54459d1f200f08e4007f92435ef39ed,8,3,2,12404,,,0,"Categorize releasenotes by release

Change-Id: Ib2bd7dc33ae9ee603dad4ccfacb7d04fd7e9f35f
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/683297/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/stein/Multi-OpenStack-Cloud-Support-b1ae023811d88854.yaml'],1,2fc603e749c446e54533102c099b38c9e2f869fb,releasenotes,,,0,0
openstack%2Fheat~master~Ia1b1fd0dc91129146f0ec14985922090f8e04c0a,openstack/heat,master,Ia1b1fd0dc91129146f0ec14985922090f8e04c0a,Imported Translations from Zanata,MERGED,2019-11-15 08:05:06.000000000,2019-12-05 08:47:12.000000000,2019-12-05 08:44:25.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-15 08:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fb3bba69aa94e5e77a32662ae1cb5bafd22ed553', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia1b1fd0dc91129146f0ec14985922090f8e04c0a\n'}, {'number': 2, 'created': '2019-12-05 07:18:26.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/fa1e211a166b3716d5ac4da3f958cbad7b1b921d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia1b1fd0dc91129146f0ec14985922090f8e04c0a\n'}]",0,694468,fa1e211a166b3716d5ac4da3f958cbad7b1b921d,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia1b1fd0dc91129146f0ec14985922090f8e04c0a
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/694468/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fb3bba69aa94e5e77a32662ae1cb5bafd22ed553,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2019. #zanata""POT-Creation-Date: 2019-11-15 05:10+0000\n""""PO-Revision-Date: 2019-11-14 11:15+0000\n""msgid ""11.0.2"" msgstr ""11.0.2"" msgid ""12.0.0"" msgstr ""12.0.0"" msgid ""12.0.0-16"" msgstr ""12.0.0-16"" msgid ""12.0.0.0rc1"" msgstr ""12.0.0.0rc1"" msgid ""13.0.0"" msgstr ""13.0.0"" msgid ""13.0.0.0rc1"" msgstr ""13.0.0.0rc1"" msgid ""9.0.7-16"" msgstr ""9.0.7-16"" ""A new ``OS::Blazar::Host`` resource is added to manage compute hosts for the "" ""lease/reservation in OpenStack."" msgstr """" ""A new ``OS::Blazar::Host`` resource is added to manage compute hosts for the "" ""lease/reservation in OpenStack."" msgid """" ""A new ``OS::Blazar::Lease`` resource is added to manage reservations for "" ""specific type/amount of cloud resources in OpenStack."" msgstr """" ""A new ``OS::Blazar::Lease`` resource is added to manage reservations for "" ""specific type/amount of cloud resources in OpenStack."" msgid """"""A new ``OS::Neutron::TaaS::TapFlow`` resource is added to support a Tap Flow "" ""in the Neutron Tap-as-a-service plugin."" msgstr """" ""A new ``OS::Neutron::TaaS::TapFlow`` resource is added to support a Tap Flow "" ""in the Neutron Tap-as-a-service plugin."" msgid """"msgid ""Add tags support for ProviderNet resource"" msgstr ""Add tags support for ProviderNet resource"" ""For more information see http://lists.openstack.org/pipermail/openstack-"" ""discuss/2019-February/002925.html"" msgstr """" ""For more information see http://lists.openstack.org/pipermail/openstack-"" ""discuss/2019-February/002925.html"" msgid """"""New document is out for ``multi-clouds support``, check out https://docs."" ""openstack.org/heat/latest/template_guide/multi-clouds.html for more "" ""information."" msgstr """" ""New document is out for ``multi-clouds support``, check out https://docs."" ""openstack.org/heat/latest/template_guide/multi-clouds.html for more "" ""information."" msgid """"""New resource ``OS::Neutron::L2GatewayConnection`` to allow management of "" ""Neutron Layer2 Gateway Connection. This resource provides capability to "" ""connect a Neutron network to a Layer2 Gateway. The resource depends on the "" ""Neutron ``l2-gateway`` extension."" msgstr """" ""New resource ``OS::Neutron::L2GatewayConnection`` to allow management of "" ""Neutron Layer2 Gateway Connection. This resource provides capability to "" ""connect a Neutron network to a Layer2 Gateway. The resource depends on the "" ""Neutron ``l2-gateway`` extension."" msgid """"msgid """" ""This feature allows the deployer to unambiguously specify the keystone "" ""endpoint passed to user provisioned servers, and is particularly useful "" ""where the deployment network architecture requires the heat service to "" ""interact with the internal endpoint, but user provisioned servers only have "" ""access to the external network."" msgstr """" ""This feature allows the deployer to unambiguously specify the keystone "" ""endpoint passed to user provisioned servers, and is particularly useful "" ""where the deployment network architecture requires the heat service to "" ""interact with the internal endpoint, but user provisioned servers only have "" ""access to the external network."" ""We now allowed global admins to operate software deployment and software "" ""config resources from other projects."" msgstr """" ""We now allowed global admins to operate software deployment and software "" ""config resources from other projects."" msgid """"""When loading a Resource plugin, the attribute schema is now validated in the "" ""same way that the properties schema is. Third-party resource plugins should "" ""be tested to check that they still comply."" msgstr """" ""When loading a Resource plugin, the attribute schema is now validated in the "" ""same way that the properties schema is. Third-party resource plugins should "" ""be tested to check that they still comply."" msgid """"","""POT-Creation-Date: 2019-01-24 04:16+0000\n""""PO-Revision-Date: 2018-12-04 05:27+0000\n""",104,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I0bbda8857473566a9ad18f20af9da8a34dd6ed0f,openstack/python-tripleoclient,stable/train,I0bbda8857473566a9ad18f20af9da8a34dd6ed0f,Use configured passwords,MERGED,2019-12-05 02:29:27.000000000,2019-12-05 08:25:45.000000000,2019-12-05 08:23:33.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 02:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47415bf938b3bf889774614e291dd892e30da7e0', 'message': 'Use configured passwords\n\nThe tripleo deploy command automatically loads passwords from\ntripleo-<stackname>-passwords.yaml. We have a configuration items in the\nminion configuration to point at the undercloud config. We need to copy\nthe configure file into the correct name to ensure it gets loaded\ncorrectly.\n\nChange-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f\nCloses-Bug: #1855010\n(cherry picked from commit 778351abe687fbaaae59450631a8e461c238e7fe)\n'}, {'number': 2, 'created': '2019-12-05 02:29:33.000000000', 'files': ['tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d24b159f9b9a601cee3819e0f2a65c96214dfd6f', 'message': 'Use configured passwords\n\nThe tripleo deploy command automatically loads passwords from\ntripleo-<stackname>-passwords.yaml. We have a configuration items in the\nminion configuration to point at the undercloud config. We need to copy\nthe configure file into the correct name to ensure it gets loaded\ncorrectly.\n\nChange-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f\nCloses-Bug: #1855010\n(cherry picked from commit 778351abe687fbaaae59450631a8e461c238e7fe)\n'}]",0,697402,d24b159f9b9a601cee3819e0f2a65c96214dfd6f,9,3,2,14985,,,0,"Use configured passwords

The tripleo deploy command automatically loads passwords from
tripleo-<stackname>-passwords.yaml. We have a configuration items in the
minion configuration to point at the undercloud config. We need to copy
the configure file into the correct name to ensure it gets loaded
correctly.

Change-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f
Closes-Bug: #1855010
(cherry picked from commit 778351abe687fbaaae59450631a8e461c238e7fe)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/697402/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py']",2,47415bf938b3bf889774614e291dd892e30da7e0,bug/1855010-stable/train," @mock.patch('tripleoclient.v1.minion_config._process_undercloud_passwords') mock_check, mock_pass): @mock.patch('tripleoclient.v1.minion_config._process_undercloud_passwords') mock_ans_symlink, mock_check, mock_pass):"," mock_check): mock_ans_symlink, mock_check):",19,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I152b3e60d53ebd482430f9b52baf68a3370a9c4c,openstack/python-tripleoclient,stable/train,I152b3e60d53ebd482430f9b52baf68a3370a9c4c,Include memcached_node_ips in the output for the undercloud,MERGED,2019-12-05 02:29:12.000000000,2019-12-05 08:24:45.000000000,2019-12-05 08:23:32.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-05 02:29:12.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/467967ab9d1f42bc636d66fbc2f8b1864c5155fa', 'message': ""Include memcached_node_ips in the output for the undercloud\n\nBecause the memcached_node_ips is required by puppet and we don't\nconfigure it with a hostnetmap configuration, we need to specify the\nundercloud as the memcached_node_ips configuration in the outputs that\nwe export for the undercloud minion.\n\nChange-Id: I152b3e60d53ebd482430f9b52baf68a3370a9c4c\nCloses-Bug: #1855010\n(cherry picked from commit 4c7e09fe5e73fe8c863fdef334a48346e6fd4a00)\n""}]",0,697401,467967ab9d1f42bc636d66fbc2f8b1864c5155fa,8,3,1,14985,,,0,"Include memcached_node_ips in the output for the undercloud

Because the memcached_node_ips is required by puppet and we don't
configure it with a hostnetmap configuration, we need to specify the
undercloud as the memcached_node_ips configuration in the outputs that
we export for the undercloud minion.

Change-Id: I152b3e60d53ebd482430f9b52baf68a3370a9c4c
Closes-Bug: #1855010
(cherry picked from commit 4c7e09fe5e73fe8c863fdef334a48346e6fd4a00)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/697401/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,467967ab9d1f42bc636d66fbc2f8b1864c5155fa,bug/1855010-stable/train, # we want to grab it for the undercloud for use by a minion. # The same is true for memcached as well. globalcfg['memcached_node_ips'] = [name], # we want to grab it for the undercloud for use by a minion,3,1
openstack%2Fheat~master~I74cb22a7995376c2339f24fca9ca5d651d598480,openstack/heat,master,I74cb22a7995376c2339f24fca9ca5d651d598480,Fix Firewall policy resource,MERGED,2019-08-01 09:24:36.000000000,2019-12-05 07:45:56.000000000,2019-12-05 07:18:47.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17261}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 23314}, {'_account_id': 27427}, {'_account_id': 27781}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-08-01 09:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d561521f903cac9fd6e978e3dbff36aacd9589ec', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 2, 'created': '2019-08-01 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d98e7085fb9f2eb164b4be9db70235258446611d', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without \nfirewall_rules.I can create firewall policy via the rest api of neutron.\nAnd in the rest api of neutron to create firewall policy ,the \nfirewall_rules is an optional parameter.This should be consistent with \nthe rest api of neutron.So the firewall_rules should be an optional \npropertyof OS::Neutron::FirewallPolicy resource.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 3, 'created': '2019-08-02 07:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c6c57eb85cf4b7fae451af20244e2bb0ee032ac0', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without \nfirewall_rules.I can create firewall policy via the rest api of neutron.\nAnd in the rest api of neutron to create firewall policy ,the \nfirewall_rules is an optional parameter.This should be consistent with \nthe rest api of neutron.So the firewall_rules should be an optional \npropertyof OS::Neutron::FirewallPolicy resource.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nStory: #2006314\nTask: #36037\n'}, {'number': 4, 'created': '2019-10-03 05:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/50620dfe254e09775f970da88ca59890408249ce', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 5, 'created': '2019-10-09 00:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a34f8c59ccf34f8ad816270637731122016b7b6', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 6, 'created': '2019-10-09 05:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d01eb6f8a1292117bc4a7ac633eae1e48064fc63', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 7, 'created': '2019-10-12 00:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/74fb0f5a8a0e7d48c0cd3ddada1c6ad161202daa', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 8, 'created': '2019-10-12 02:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/63c59df4828762d2950785b386a131762da6a72c', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 9, 'created': '2019-10-14 19:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/25e5205083857c9394a870c3287d6c6b5a3cfdb1', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}, {'number': 10, 'created': '2019-10-15 01:21:02.000000000', 'files': ['releasenotes/notes/update-firwallpolicy-ruls-90a8904e899b2365.yaml', 'heat/engine/resources/openstack/neutron/firewall.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/624be98be0cad6270154f76e79d58f2f1ff1ea0d', 'message': 'Fix Firewall policy resource\n\nOS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.\nI can create firewall policy via the rest api of neutron.And in the rest api\nof neutron to create firewall policy ,the firewall_rules is an optional parameter.\nThis should be consistent with the rest api of neutron.\nSo I think the firewall_rules should be an optional property\nof OS::Neutron::FirewallPolicy resource.\n\nAdd releasenote about this.\n\nChange-Id: I74cb22a7995376c2339f24fca9ca5d651d598480\nTask: 36037\n'}]",5,673973,624be98be0cad6270154f76e79d58f2f1ff1ea0d,66,10,10,23314,,,0,"Fix Firewall policy resource

OS::Neutron::FirewallPolicy resource cannot be created without firewall_rules.
I can create firewall policy via the rest api of neutron.And in the rest api
of neutron to create firewall policy ,the firewall_rules is an optional parameter.
This should be consistent with the rest api of neutron.
So I think the firewall_rules should be an optional property
of OS::Neutron::FirewallPolicy resource.

Add releasenote about this.

Change-Id: I74cb22a7995376c2339f24fca9ca5d651d598480
Task: 36037
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/673973/5 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/firewall.py'],1,d561521f903cac9fd6e978e3dbff36aacd9589ec,story/2006314,," required=True,",0,1
openstack%2Fhorizon~master~Ia17f6e311b70d086fa36250ca4323cd567beb4aa,openstack/horizon,master,Ia17f6e311b70d086fa36250ca4323cd567beb4aa,Launch instance with bootbale volume snapshots only.,NEW,2017-12-21 10:14:15.000000000,2019-12-05 07:40:35.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6763}, {'_account_id': 14151}, {'_account_id': 22348}, {'_account_id': 23327}, {'_account_id': 24056}, {'_account_id': 27288}, {'_account_id': 27400}]","[{'number': 1, 'created': '2017-12-21 10:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d48eea1efb4b65f87475e8776757c5c65daadf74', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 2, 'created': '2017-12-24 10:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0a46da709b3bac508c83aac7f5371d1ef58c6951', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 3, 'created': '2017-12-24 12:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a3f749bc622ca3a890fe1ba8bfceeafee9c64ad4', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 4, 'created': '2017-12-24 14:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/40aafa15b996829e650856fa158d79ab415a7069', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 5, 'created': '2017-12-24 15:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3cd6be77769f44a37fc4a4e9f2bc297a59b47880', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 6, 'created': '2017-12-24 15:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/62409f19826b615558d27b38dfa2958cc39bafff', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 7, 'created': '2017-12-24 15:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ab6a50c021d2d9de1ea44002854da68e151182c6', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 8, 'created': '2017-12-25 06:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b339ad1f3c7d3e8b784e0d5b2a2b8b4484123aaf', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 9, 'created': '2017-12-25 09:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e12b7ec5d90234bd58294da32c25fcf064cbd4b3', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 10, 'created': '2017-12-26 07:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3cfe0699ed5ad20dc7764b7d1009b54e632ba9b7', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 11, 'created': '2017-12-26 12:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fcb4e02908682672e6b4f503a80d4376557c3a7e', 'message': 'Volume snapshots in launch instance.\n\nThe volume snapshot in launch instance only show the\nbootable volume snapshots. This patch check if\nthe volume snapshot bootable before show the available\nlist.\n\nCloses-Bug: 1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}, {'number': 12, 'created': '2017-12-29 16:33:08.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2b69b473fd648927ab64339237c8f62a455a1579', 'message': 'Launch instance with bootbale volume snapshots only.\n\nThe volume snapshot list in launch instance  show the\nbootable  and nonbootable volume snapshots(VS) while only bootable \nVS is allowed to create instnaces with. This patch \nensure this by filtering all VS.\n\nCloses-Bug: #1736636\nChange-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa\n'}]",25,529532,2b69b473fd648927ab64339237c8f62a455a1579,55,9,12,27288,,,0,"Launch instance with bootbale volume snapshots only.

The volume snapshot list in launch instance  show the
bootable  and nonbootable volume snapshots(VS) while only bootable 
VS is allowed to create instnaces with. This patch 
ensure this by filtering all VS.

Closes-Bug: #1736636
Change-Id: Ia17f6e311b70d086fa36250ca4323cd567beb4aa
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/529532/12 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/rest/cinder.py'],1,d48eea1efb4b65f87475e8776757c5c65daadf74,bug/1736636," for i, u in enumerate(result): bootable = api.cinder.volume_get(request, u.volume_id).bootable if bootable == 'false': result.pop(i)",,4,0
openstack%2Frally~master~I228049b408e5cd86e6a166922e1f151d79008a6c,openstack/rally,master,I228049b408e5cd86e6a166922e1f151d79008a6c,Modify broken link,NEW,2018-01-23 03:39:25.000000000,2019-12-05 07:40:18.000000000,,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 03:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6675e9608fd58105e9db60202c7f63a3e7dc92c2', 'message': 'Modify broken link\n\nChange-Id: I228049b408e5cd86e6a166922e1f151d79008a6c\n'}, {'number': 2, 'created': '2018-01-23 08:03:35.000000000', 'files': ['doc/release_notes/archive/v0.0.3.rst', 'doc/source/overview/glossary.rst', 'doc/release_notes/archive/v0.1.2.rst', 'doc/release_notes/archive/v0.4.0.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/e436c839e30ec0924c5e9536c1d3377488f2aee6', 'message': 'Modify broken link\n\nChange-Id: I228049b408e5cd86e6a166922e1f151d79008a6c\n'}]",4,536664,e436c839e30ec0924c5e9536c1d3377488f2aee6,15,4,2,27405,,,0,"Modify broken link

Change-Id: I228049b408e5cd86e6a166922e1f151d79008a6c
",git fetch https://review.opendev.org/openstack/rally refs/changes/64/536664/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/release_notes/archive/v0.0.3.rst', 'doc/source/overview/glossary.rst', 'doc/release_notes/archive/v0.1.2.rst', 'doc/release_notes/archive/v0.4.0.rst']",4,6675e9608fd58105e9db60202c7f63a3e7dc92c2,broken-link, See `HOWTO <http://rally.readthedocs.io/en/latest/install_and_upgrade/db_migrations.html#>`_, See `HOWTO <http://rally.readthedocs.org/en/latest/db_migrations.html>`_,6,6
openstack%2Fironic~master~Idf25d9f434483f023ad7a40b6c242635ab89a804,openstack/ironic,master,Idf25d9f434483f023ad7a40b6c242635ab89a804,Prevent localhost from being used as ironic-inspector callback URL,MERGED,2019-11-08 17:43:00.000000000,2019-12-05 07:18:49.000000000,2019-12-04 18:42:12.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-08 17:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/977ec974c57552c2d046e13a62edaffccad7fa20', 'message': ""Prevent localhost from being used as ironic-inspector callback URL\n\nAt least bifrost used to do it, so it's better to prevent users\nfrom shooting their legs.\n\nChange-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804\nStory: #1528920\n""}, {'number': 2, 'created': '2019-11-19 12:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7539cf1d11c47c7046b3af44ae37bda218367d5d', 'message': ""Prevent localhost from being used as ironic-inspector callback URL\n\nAt least bifrost used to do it, so it's better to prevent users\nfrom shooting their legs.\n\nChange-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804\nStory: #1528920\n""}, {'number': 3, 'created': '2019-11-21 12:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a427e8c701a37432c6732a5e08eef311e75f699', 'message': ""Prevent localhost from being used as ironic-inspector callback URL\n\nAt least bifrost used to do it, so it's better to prevent users\nfrom shooting their legs.\n\nChange-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804\nStory: #1528920\n""}, {'number': 4, 'created': '2019-11-26 16:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0c32ee2db741f501032efb5593af4cd8cf8259a', 'message': ""Prevent localhost from being used as ironic-inspector callback URL\n\nAt least bifrost used to do it, so it's better to prevent users\nfrom shooting their legs.\n\nChange-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804\nStory: #1528920\n""}, {'number': 5, 'created': '2019-11-27 15:28:58.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'releasenotes/notes/no-localhost-596adedfe388dfae.yaml', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6035d6137f357d3208af10fd36b98f6eb868e1f', 'message': ""Prevent localhost from being used as ironic-inspector callback URL\n\nAt least bifrost used to do it, so it's better to prevent users\nfrom shooting their legs.\n\nChange-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804\nStory: #1528920\n""}]",9,693564,b6035d6137f357d3208af10fd36b98f6eb868e1f,59,9,5,10239,,,0,"Prevent localhost from being used as ironic-inspector callback URL

At least bifrost used to do it, so it's better to prevent users
from shooting their legs.

Change-Id: Idf25d9f434483f023ad7a40b6c242635ab89a804
Story: #1528920
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/693564/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'lower-constraints.txt', 'ironic/drivers/modules/inspector.py']",4,977ec974c57552c2d046e13a62edaffccad7fa20,story/1528920,"import ipaddressimport six from six.moves.urllib import parse as urlparse parts = urlparse.urlsplit(root) try: # ip_address requires a unicode string on Python 2 addr = ipaddress.ip_address(six.u(parts.hostname)) except ValueError: pass # host name else: if addr.is_loopback: raise exception.InvalidParameterValue( _('Loopback address %s cannot be used as an introspection ' 'callback URL') % parts.hostname) # NOTE(dtantsur): the IPA side is quite picky about the exact format. if parts.path.endswith('/v1'): add = '/continue' else: add = '/v1/continue' return urlparse.urlunsplit((parts.scheme, parts.netloc, parts.path.rstrip('/') + add, parts.query, parts.fragment))", root = root.rstrip('/') # NOTE(dtantsur): the IPA side is quite picky about the exact format. if root.endswith('/v1'): return '%s/continue' % root else: return '%s/v1/continue' % root,31,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,openstack/tripleo-heat-templates,stable/train,Id90754ad2506ee52d2a2cb939ccbf2d84e792cff,ovn_dbs upgrade-with-os work,MERGED,2019-12-03 07:27:17.000000000,2019-12-05 07:12:25.000000000,2019-12-05 02:48:29.000000000,"[{'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 07:27:17.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1abede842fb676cae198874f7979afec2c7df21', 'message': 'ovn_dbs upgrade-with-os work\n\nThis adds the missing steps for the upgrades-with-os blueprint for\nthe ovn_dbs service. The ovn_dbs pacemaker service was not taken care of\nin the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024\nThis commit tries to fix that.\n\nCloses-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nDepends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\nChange-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff\n(cherry picked from commit 36a84820e51bad57c6bbb92429f3afb3d9da29c2)\n'}]",0,697010,b1abede842fb676cae198874f7979afec2c7df21,16,4,1,20172,,,0,"ovn_dbs upgrade-with-os work

This adds the missing steps for the upgrades-with-os blueprint for
the ovn_dbs service. The ovn_dbs pacemaker service was not taken care of
in the initial work in https://github.com/openstack/tripleo-heat-templates/commit/cb8caaae4381e6a3de81a517dc7c6b23d272e024
This commit tries to fix that.

Closes-Bug: #1854519

Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Depends-On: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
Change-Id: Id90754ad2506ee52d2a2cb939ccbf2d84e792cff
(cherry picked from commit 36a84820e51bad57c6bbb92429f3afb3d9da29c2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/697010/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,b1abede842fb676cae198874f7979afec2c7df21,ovn_dbs_upgrade-stable/train," - when: - step|int == 1 block: - name: set ovn_dbs upgrade node facts in a single-node environment set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names }}"" cacheable: no when: groups['ovn_dbs'] | length <= 1 - name: set ovn_dbs upgrade node facts from the limit option set_fact: ovn_dbs_short_node_names_upgraded: ""{{ ovn_dbs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ovn_dbs'] | length > 1 - item.split('.')[0] in ansible_limit.split(',') loop: ""{{ ovn_dbs_short_node_names }}"" - debug: msg: ""Prepare ovn_dbs upgrade for {{ ovn_dbs_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade ovn_dbs without staged upgrade. You need to use the limit option in order to do so. when: >- ovn_dbs_short_node_names_upgraded is not defined or ovn_dbs_short_node_names_upgraded | length == 0 - name: remove ovn_dbs init container on upgrade-scaleup to force re-init shell: | if podman inspect ovn_dbs_init_bundle &> /dev/null; then podman rm ovn_dbs_init_bundle fi when: ovn_dbs_short_node_names_upgraded | length > 1 - name: add the ovn_dbs short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override tripleo_upgrade_value: ""{{ovn_dbs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ovn_dbs_short_node_names_override when: ovn_dbs_short_node_names_upgraded | length == ovn_dbs_short_node_names | length",,48,0
openstack%2Fdevstack~master~I757f8fdd307ac979b63f9531445b9af773d0b717,openstack/devstack,master,I757f8fdd307ac979b63f9531445b9af773d0b717,Fix ./clean.sh cleaning of /var/lib/mysql on openSUSE,NEW,2019-08-08 14:18:15.000000000,2019-12-05 07:04:23.000000000,,"[{'_account_id': 2394}, {'_account_id': 7118}, {'_account_id': 8482}, {'_account_id': 12907}, {'_account_id': 13252}, {'_account_id': 17499}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-08 14:18:15.000000000', 'files': ['lib/databases/mysql'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8ca31e019ada25862c1fe917faddd2032ca2d305', 'message': ""Fix ./clean.sh cleaning of /var/lib/mysql on openSUSE\n\nOn openSUSE, it's not uncommon for /var/lib/mysql to be set up as a\nbtrfs subvolume.  In this case, rm -rf /var/lib/mysql will fail\nbecause it's an active mountpoint.  So instead just nuke the contents,\nnot the mountpoint.\n\nChange-Id: I757f8fdd307ac979b63f9531445b9af773d0b717\n""}]",9,675347,8ca31e019ada25862c1fe917faddd2032ca2d305,18,10,1,2394,,,0,"Fix ./clean.sh cleaning of /var/lib/mysql on openSUSE

On openSUSE, it's not uncommon for /var/lib/mysql to be set up as a
btrfs subvolume.  In this case, rm -rf /var/lib/mysql will fail
because it's an active mountpoint.  So instead just nuke the contents,
not the mountpoint.

Change-Id: I757f8fdd307ac979b63f9531445b9af773d0b717
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/675347/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/databases/mysql'],1,8ca31e019ada25862c1fe917faddd2032ca2d305,clean-mysql-suse, if mount | grep -q ' on /var/lib/mysql '; then # Probably a btrfs subvolume sudo rm -rf /var/lib/mysql/* else sudo rm -rf /var/lib/mysql fi, sudo rm -rf /var/lib/mysql,6,1
openstack%2Fpaunch~master~Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be,openstack/paunch,master,Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be,Do not always needlessly pull the images via podman,MERGED,2019-12-04 14:57:35.000000000,2019-12-05 07:02:47.000000000,2019-12-04 21:35:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 14:57:35.000000000', 'files': ['paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/14fa098fcb6a36eff0c7e965e86c5ec6ce112c81', 'message': 'Do not always needlessly pull the images via podman\n\nVia https://review.opendev.org/#/c/665731/ there was a tentative\nreduction of podman inspect calls. The problem was that a podman\npull was performed even when the image already existed due to\na wrong if check, since image_exist() returns true/false and not\nthe return code of the podman image shell command.\n\nCloses-Bug: #1855128\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be\n'}]",0,697302,14fa098fcb6a36eff0c7e965e86c5ec6ce112c81,11,5,1,20172,,,0,"Do not always needlessly pull the images via podman

Via https://review.opendev.org/#/c/665731/ there was a tentative
reduction of podman inspect calls. The problem was that a podman
pull was performed even when the image already existed due to
a wrong if check, since image_exist() returns true/false and not
the return code of the podman image shell command.

Closes-Bug: #1855128
Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ia0c71de6a0a1fe243a39dbd7b1458610b81bd6be
",git fetch https://review.opendev.org/openstack/paunch refs/changes/02/697302/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,14fa098fcb6a36eff0c7e965e86c5ec6ce112c81,fix_paunch, if img_exist:, if img_exist == 0:,1,1
openstack%2Fhorizon~stable%2Ftrain~Iaf3d33d3200f2fed934bde4d7373674de722a9e1,openstack/horizon,stable/train,Iaf3d33d3200f2fed934bde4d7373674de722a9e1,Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined),MERGED,2019-11-05 13:38:54.000000000,2019-12-05 06:58:10.000000000,2019-12-05 06:56:42.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 31241}]","[{'number': 1, 'created': '2019-11-05 13:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/47b119300d372c5da3c4844660279d3942ce4f52', 'message': ""Pin jQuery to < 3\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n""}, {'number': 2, 'created': '2019-11-05 15:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8168dfb632dc2a8dded1a68f63a2a5112c96e617', 'message': ""Pin jQuery to < 2\n\n(Actually, <3 works, but <2 might work for Zuul and the\nproject-requirements-change.py check.)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n""}, {'number': 3, 'created': '2019-11-26 12:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3e5b035f09c894ff4211bb06e323d5957e10f9b6', 'message': ""Pin jQuery to < 2\n\n(Actually, <3 works, but <2 might work for Zuul and the\nproject-requirements-change.py check.)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n(cherry picked from commit f04565c6341def772a986b248274b6dfe98a68b3)\n""}, {'number': 4, 'created': '2019-11-26 12:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fae171c0648369633f0c7f45d4ff8816ca59f787', 'message': ""Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)\n\n(Actually, <3 works, but <2 might work for Zuul and the\nproject-requirements-change.py check.)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n(cherry picked from commit f04565c6341def772a986b248274b6dfe98a68b3)\n""}, {'number': 5, 'created': '2019-11-26 12:38:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/43fc1547c291341f4d469c62c95c67614cf03481', 'message': ""Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)\n\nOtherwise we get lots of:\n\n    Uncaught TypeError: Cannot read property 'indexOf' of undefined\n\nAnd the dashboard is completely unusable.\n\n(Actually, <3 works, but the project-requirements-change.py Zuul check\ndoesn't pass when this isn't <2.)\n\nChange-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1\n(cherry picked from commit f04565c6341def772a986b248274b6dfe98a68b3)\n""}]",0,693003,43fc1547c291341f4d469c62c95c67614cf03481,19,5,5,31241,,,0,"Pin jQuery to < 2; fixing unusable dashboard JS ('indexOf' of undefined)

Otherwise we get lots of:

    Uncaught TypeError: Cannot read property 'indexOf' of undefined

And the dashboard is completely unusable.

(Actually, <3 works, but the project-requirements-change.py Zuul check
doesn't pass when this isn't <2.)

Change-Id: Iaf3d33d3200f2fed934bde4d7373674de722a9e1
(cherry picked from commit f04565c6341def772a986b248274b6dfe98a68b3)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/03/693003/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,47b119300d372c5da3c4844660279d3942ce4f52,stable/train-fix-jquery-dependency,"XStatic-jQuery>=1.8.2.1,<3 # MIT License",XStatic-jQuery>=1.8.2.1 # MIT License,1,1
openstack%2Fhorizon~master~Id5701f2823016d86ec2cd76d64610cc53067c64f,openstack/horizon,master,Id5701f2823016d86ec2cd76d64610cc53067c64f,Fix typo,MERGED,2019-12-04 02:25:19.000000000,2019-12-05 06:58:08.000000000,2019-12-05 06:56:39.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 27386}]","[{'number': 1, 'created': '2019-12-04 02:25:19.000000000', 'files': ['openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5b56dfabef5f14124cc6d40c5b759039c6be6ac4', 'message': 'Fix typo\n\nChange-Id: Id5701f2823016d86ec2cd76d64610cc53067c64f\n'}]",0,697219,5b56dfabef5f14124cc6d40c5b759039c6be6ac4,10,4,1,27386,,,0,"Fix typo

Change-Id: Id5701f2823016d86ec2cd76d64610cc53067c64f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/697219/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/local/local_settings.py.example'],1,5b56dfabef5f14124cc6d40c5b759039c6be6ac4,fix-typo,# openstack_dashboard/defaults.py. Previously most available settings,# openstack_dashboard/defaults.py. Prevously most available settings,1,1
openstack%2Ftacker~stable%2Ftrain~I01b8238ae6f44e9ed8780f52812f6c7e552ec526,openstack/tacker,stable/train,I01b8238ae6f44e9ed8780f52812f6c7e552ec526,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-27 08:55:15.000000000,2019-12-05 06:34:03.000000000,2019-12-05 06:32:43.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-09-27 08:55:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/aa8126e6a1825bd79c72d670b7dca66211e16afd', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I01b8238ae6f44e9ed8780f52812f6c7e552ec526\n'}]",1,685240,aa8126e6a1825bd79c72d670b7dca66211e16afd,10,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I01b8238ae6f44e9ed8780f52812f6c7e552ec526
",git fetch https://review.opendev.org/openstack/tacker refs/changes/40/685240/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa8126e6a1825bd79c72d670b7dca66211e16afd,create-train, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages}, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa,openstack/networking-ovn,stable/train,Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa,Fallback to default network_driver value if octavia not present,MERGED,2019-11-28 10:56:39.000000000,2019-12-05 06:30:44.000000000,2019-12-05 06:28:59.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-28 10:56:39.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8cd28b83e27704931dfe11a572cb0e001e59a734', 'message': ""Fallback to default network_driver value if octavia not present\n\nIn OVN Octavia driver we don't fallback to default network_driver\nconfiguration option value in case of missing octavia module.\n\nWe wouldn't add this module to requirements, so better is to\nfallback. This will prevent functional test failures.\n\nChange-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa\nCloses-Bug: 1853810\n(cherry picked from commit 5804e2bb0d03b0a7eeb5705d6bd5983c056cded0)\n""}]",0,696495,8cd28b83e27704931dfe11a572cb0e001e59a734,18,4,1,24791,,,0,"Fallback to default network_driver value if octavia not present

In OVN Octavia driver we don't fallback to default network_driver
configuration option value in case of missing octavia module.

We wouldn't add this module to requirements, so better is to
fallback. This will prevent functional test failures.

Change-Id: Ic4c8e81b0d1ab7491bc317c02464bd6853c109fa
Closes-Bug: 1853810
(cherry picked from commit 5804e2bb0d03b0a7eeb5705d6bd5983c056cded0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/95/696495/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,8cd28b83e27704931dfe11a572cb0e001e59a734,bug/1853810-stable/train," try: CONF.import_group('controller_worker', 'octavia.common.config') name = CONF.controller_worker.network_driver except ImportError: # TODO(mjozefcz): Remove this when the config option will # land in octavia-lib. name = 'network_noop_driver' name=name,"," CONF.import_group('controller_worker', 'octavia.common.config') name=CONF.controller_worker.network_driver,",8,2
openstack%2Fmonasca-events-api~master~I41336dc3f7344cf9fdb134d91d4183b40a9046ab,openstack/monasca-events-api,master,I41336dc3f7344cf9fdb134d91d4183b40a9046ab,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:42:36.000000000,2019-12-05 06:29:09.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 08:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/a60c67d601d1eb5b3d35b9ad022a490966d0f027', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I41336dc3f7344cf9fdb134d91d4183b40a9046ab\n'}, {'number': 2, 'created': '2019-12-02 09:46:25.000000000', 'files': ['devstack/Vagrantfile'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/165c45f9cf9c44d19aab38ad167accc87acb535c', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I41336dc3f7344cf9fdb134d91d4183b40a9046ab\n'}]",1,694944,165c45f9cf9c44d19aab38ad167accc87acb535c,6,2,2,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I41336dc3f7344cf9fdb134d91d4183b40a9046ab
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/44/694944/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/Vagrantfile'],1,a60c67d601d1eb5b3d35b9ad022a490966d0f027,, git config --global url.https://opendev.org/.insteadOf https://opendev.org/ sudo git config --global url.https://opendev.org/.insteadOf https://opendev.org/, git config --global url.https://git.openstack.org/.insteadOf https://git.openstack.org/ sudo git config --global url.https://git.openstack.org/.insteadOf https://git.openstack.org/,2,2
openstack%2Fdevstack~master~I5640ee431f6856853f6b00ec7ed1ea21d05117dd,openstack/devstack,master,I5640ee431f6856853f6b00ec7ed1ea21d05117dd,Centralize and configure nova with cinder service user access,MERGED,2019-09-27 20:46:56.000000000,2019-12-05 06:29:08.000000000,2019-12-05 06:26:53.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 20:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7dfb7ae14e88a73c6b1a819ecb552647c3d19f43', 'message': 'Centralize and configure nova with cinder service user access\n\nSince Queens [1] nova has been able to be configured with\ncinder service user credentials for operating on cinder\nresources without a user auth token similar to things nova\nneeds to do without a user auth token for working with neutron\nand placement resources.\n\nThis centralizes the nova [cinder] section configuration and\nadds the necessary auth configuration.\n\nNeeded by: https://review.opendev.org/549130/\n\n[1] I3c35bba43fee81baebe8261f546c1424ce3a3383\n\nChange-Id: I5640ee431f6856853f6b00ec7ed1ea21d05117dd\n'}, {'number': 2, 'created': '2019-09-27 21:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b30e85a0a0470c93ad0a89ddff67c835efc5d1f', 'message': 'Centralize and configure nova with cinder service user access\n\nSince Queens [1] nova has been able to be configured with\ncinder service user credentials for operating on cinder\nresources without a user auth token similar to things nova\nneeds to do without a user auth token for working with neutron\nand placement resources.\n\nThis change:\n\n- centralizes the nova [cinder] section configuration\n- adds the necessary auth configuration\n- grants the admin role to the cinder service user\n\nNeeded by: https://review.opendev.org/549130/\n\n[1] I3c35bba43fee81baebe8261f546c1424ce3a3383\n\nChange-Id: I5640ee431f6856853f6b00ec7ed1ea21d05117dd\n'}, {'number': 3, 'created': '2019-09-30 14:24:53.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/594885c80864710846f4fed35f19dc30a060f446', 'message': 'Centralize and configure nova with cinder service user access\n\nSince Queens [1] nova has been able to be configured with\ncinder service user credentials for operating on cinder\nresources without a user auth token similar to things nova\nneeds to do without a user auth token for working with neutron\nand placement resources.\n\nThis change:\n\n- centralizes the nova [cinder] section configuration\n- adds the necessary auth configuration\n\nNeeded by: https://review.opendev.org/549130/\n\n[1] I3c35bba43fee81baebe8261f546c1424ce3a3383\n\nChange-Id: I5640ee431f6856853f6b00ec7ed1ea21d05117dd\n'}]",1,685488,594885c80864710846f4fed35f19dc30a060f446,24,5,3,6873,,,0,"Centralize and configure nova with cinder service user access

Since Queens [1] nova has been able to be configured with
cinder service user credentials for operating on cinder
resources without a user auth token similar to things nova
needs to do without a user auth token for working with neutron
and placement resources.

This change:

- centralizes the nova [cinder] section configuration
- adds the necessary auth configuration

Needed by: https://review.opendev.org/549130/

[1] I3c35bba43fee81baebe8261f546c1424ce3a3383

Change-Id: I5640ee431f6856853f6b00ec7ed1ea21d05117dd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/685488/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,7dfb7ae14e88a73c6b1a819ecb552647c3d19f43,nova-cinder-service-user-auth-config," configure_cinder_access# Configure access to cinder. function configure_cinder_access { iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder auth_type ""password"" iniset $NOVA_CONF cinder auth_url ""$KEYSTONE_SERVICE_URI"" iniset $NOVA_CONF cinder username cinder iniset $NOVA_CONF cinder password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF cinder user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF cinder project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF cinder project_domain_name ""$SERVICE_DOMAIN_NAME"" if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi } "," if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" ",18,7
openstack%2Fansible-role-qdrouterd~master~I959509fc5369ca9b32700df467affb8718b223d9,openstack/ansible-role-qdrouterd,master,I959509fc5369ca9b32700df467affb8718b223d9,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:35:52.000000000,2019-12-05 06:28:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-11-19 08:35:52.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/33e59806ffa7d89befa07e97cfde349e82fccf08', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I959509fc5369ca9b32700df467affb8718b223d9\n'}]",6,694942,33e59806ffa7d89befa07e97cfde349e82fccf08,4,2,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I959509fc5369ca9b32700df467affb8718b223d9
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/42/694942/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile', 'doc/source/conf.py', 'releasenotes/source/conf.py']",5,33e59806ffa7d89befa07e97cfde349e82fccf08,, 'https://opendev.org/cgit/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),9,9
openstack%2Fself-healing-sig~master~Ie7ef592722853d3b58659de27ce5e025f16e49be,openstack/self-healing-sig,master,Ie7ef592722853d3b58659de27ce5e025f16e49be,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:25:41.000000000,2019-12-05 06:28:31.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 08:25:41.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/0e3edd55b15965c1c5002df9f97e7b8783ffe0ff', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: Ie7ef592722853d3b58659de27ce5e025f16e49be\n'}]",1,694937,0e3edd55b15965c1c5002df9f97e7b8783ffe0ff,4,2,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: Ie7ef592722853d3b58659de27ce5e025f16e49be
",git fetch https://review.opendev.org/openstack/self-healing-sig refs/changes/37/694937/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,0e3edd55b15965c1c5002df9f97e7b8783ffe0ff,,<http://opendev.org/cgit/openstack/self-healing-sig/tree/use-cases/template.rst>`__<http://opendev.org/cgit/openstack/self-healing-sig/tree/use-cases>`_<http://opendev.org/cgit/openstack/self-healing-sig>`_.<http://opendev.org/cgit/openstack/self-healing-sig/tree/specs/template.rst>`__<http://opendev.org/cgit/openstack/self-healing-sig/tree/specs>`_,<http://git.openstack.org/cgit/openstack/self-healing-sig/tree/use-cases/template.rst>`__<http://git.openstack.org/cgit/openstack/self-healing-sig/tree/use-cases>`_<http://git.openstack.org/cgit/openstack/self-healing-sig>`_.<http://git.openstack.org/cgit/openstack/self-healing-sig/tree/specs/template.rst>`__<http://git.openstack.org/cgit/openstack/self-healing-sig/tree/specs>`_,5,5
openstack%2Fneutron-specs~master~I6d953a718144553f0780905fd564ece6586991f9,openstack/neutron-specs,master,I6d953a718144553f0780905fd564ece6586991f9,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:30:02.000000000,2019-12-05 06:28:09.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 08:30:02.000000000', 'files': ['specs/stadium/ocata/networking-l2gw.rst', 'specs/newton/push-notifications.rst', 'specs/stadium/ocata/neutron-vpnaas.rst', 'specs/liberty/pecan-switch.rst', 'specs/archive/kilo/plugin-interface-perestroika.rst', 'specs/liberty/reference-ipam-driver.rst', 'specs/stadium/ocata/networking-calico.rst', 'specs/stadium/ocata/networking-bagpipe.rst', 'specs/stadium/ocata/neutron-fwaas.rst', 'specs/stadium/pike/neutron-vpnaas.rst', 'specs/backlog/pike/common-classification-framework.rst', 'specs/kilo/mcafee-ngfw-fwaas-driver.rst', 'specs/newton/neutron-stadium.rst', 'specs/stadium/ocata/index.rst', 'specs/stadium/queens/neutron-vpnaas.rst', 'specs/kilo/ml2-ovs-portsecurity.rst', 'specs/stadium/pike/placeholder.rst', 'specs/mitaka/l2-agent-extensions-agent-api.rst', 'specs/juno/l3-high-availability.rst', 'specs/stadium/ocata/networking-ovn.rst', 'specs/scorecard_template.rst', 'specs/stadium/ocata/networking-midonet.rst', 'specs/newton/l3-agent-extension.rst', 'specs/stadium/queens/placeholder.rst', 'specs/mitaka/adopt-oslo-guru-reports.rst', 'specs/stadium/ocata/networking-sfc.rst', 'specs/stadium/ocata/neutron-dynamic-routing.rst', 'specs/stadium/ocata/networking-onos.rst', 'specs/stadium/ocata/networking-bgpvpn.rst', 'specs/stadium/ocata/networking-odl.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3d066637ea488bf33ce208dad097365220ac6c12', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I6d953a718144553f0780905fd564ece6586991f9\n'}]",2,694938,3d066637ea488bf33ce208dad097365220ac6c12,4,2,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I6d953a718144553f0780905fd564ece6586991f9
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/38/694938/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stadium/ocata/networking-l2gw.rst', 'specs/newton/push-notifications.rst', 'specs/stadium/ocata/neutron-vpnaas.rst', 'specs/liberty/pecan-switch.rst', 'specs/archive/kilo/plugin-interface-perestroika.rst', 'specs/liberty/reference-ipam-driver.rst', 'specs/stadium/ocata/networking-calico.rst', 'specs/stadium/ocata/networking-bagpipe.rst', 'specs/stadium/ocata/neutron-fwaas.rst', 'specs/stadium/pike/neutron-vpnaas.rst', 'specs/backlog/pike/common-classification-framework.rst', 'specs/kilo/mcafee-ngfw-fwaas-driver.rst', 'specs/newton/neutron-stadium.rst', 'specs/stadium/ocata/index.rst', 'specs/stadium/queens/neutron-vpnaas.rst', 'specs/kilo/ml2-ovs-portsecurity.rst', 'specs/stadium/pike/placeholder.rst', 'specs/mitaka/l2-agent-extensions-agent-api.rst', 'specs/juno/l3-high-availability.rst', 'specs/stadium/ocata/networking-ovn.rst', 'specs/scorecard_template.rst', 'specs/stadium/ocata/networking-midonet.rst', 'specs/newton/l3-agent-extension.rst', 'specs/stadium/queens/placeholder.rst', 'specs/mitaka/adopt-oslo-guru-reports.rst', 'specs/stadium/ocata/networking-sfc.rst', 'specs/stadium/ocata/neutron-dynamic-routing.rst', 'specs/stadium/ocata/networking-onos.rst', 'specs/stadium/ocata/networking-bgpvpn.rst', 'specs/stadium/ocata/networking-odl.rst']",30,3d066637ea488bf33ce208dad097365220ac6c12,, in the `release repo <http://opendev.org/cgit/openstack/releases/tree/>`_., in the `release repo <http://git.openstack.org/cgit/openstack/releases/tree/>`_.,60,60
openstack%2Fpython-zaqarclient~master~I8cfe583beab143f6631a7e2c870f49849ade61e0,openstack/python-zaqarclient,master,I8cfe583beab143f6631a7e2c870f49849ade61e0,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:13:08.000000000,2019-12-05 06:27:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 08:13:08.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/7e46abe0b38b36c010697172391bb0fda6ce1d12', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I8cfe583beab143f6631a7e2c870f49849ade61e0\n'}]",0,694933,7e46abe0b38b36c010697172391bb0fda6ce1d12,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I8cfe583beab143f6631a7e2c870f49849ade61e0
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/33/694933/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,7e46abe0b38b36c010697172391bb0fda6ce1d12,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/cgit/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},7,7
openstack%2Fpatrole~master~Iefc63fe9452d14caddee59b4a1a7f8ff1adc1655,openstack/patrole,master,Iefc63fe9452d14caddee59b4a1a7f8ff1adc1655,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:21:06.000000000,2019-12-05 06:27:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 08:21:06.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/README.rst', 'patrole_tempest_plugin/tests/api/identity/v3/test_auth_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domain_configuration_rbac.py', 'patrole_tempest_plugin/policy_authority.py', 'tox.ini', 'devstack/README.rst', 'doc/source/installation.rst', 'HACKING.rst', 'doc/source/rbac-overview.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/ed38d8f5cf3fdd0bfbdd683493552f9e1333ccc3', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: Iefc63fe9452d14caddee59b4a1a7f8ff1adc1655\n'}]",0,694935,ed38d8f5cf3fdd0bfbdd683493552f9e1333ccc3,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: Iefc63fe9452d14caddee59b4a1a7f8ff1adc1655
",git fetch https://review.opendev.org/openstack/patrole refs/changes/35/694935/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/identity/v3/test_auth_rbac.py', 'patrole_tempest_plugin/tests/api/network/README.rst', 'patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_domain_configuration_rbac.py', 'patrole_tempest_plugin/policy_authority.py', 'tox.ini', 'devstack/README.rst', 'doc/source/installation.rst', 'HACKING.rst', 'doc/source/rbac-overview.rst']",10,ed38d8f5cf3fdd0bfbdd683493552f9e1333ccc3,,.. _Nova repository: https://opendev.org/cgit/openstack/nova/tree/nova/policies .. _Keystone repository: https://opendev.org/cgit/openstack/keystone/tree/keystone/common/policies,.. _Nova repository: https://git.openstack.org/cgit/openstack/nova/tree/nova/policies .. _Keystone repository: https://git.openstack.org/cgit/openstack/keystone/tree/keystone/common/policies,18,18
openstack%2Fmasakari-dashboard~master~I43db56541163630802ce4233f45eb878717266c9,openstack/masakari-dashboard,master,I43db56541163630802ce4233f45eb878717266c9,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:51:17.000000000,2019-12-05 06:27:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 08:51:17.000000000', 'files': ['doc/source/index.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/69337f2a00d15d842872c1c412995dbaa1698c4c', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I43db56541163630802ce4233f45eb878717266c9\n'}]",0,694948,69337f2a00d15d842872c1c412995dbaa1698c4c,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I43db56541163630802ce4233f45eb878717266c9
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/48/694948/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'tox.ini']",3,69337f2a00d15d842872c1c412995dbaa1698c4c,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/cgit/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},5,5
openstack%2Fmanila~master~I6158a898339842ac7faeef585c95ebc5bd802db3,openstack/manila,master,I6158a898339842ac7faeef585c95ebc5bd802db3,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 08:08:33.000000000,2019-12-05 06:26:50.000000000,,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 08:08:33.000000000', 'files': ['doc/source/contributor/manila-review-policy.rst', 'doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'doc/source/contributor/documenting_your_work.rst', 'README.rst', 'devstack/plugin.sh', 'doc/source/contributor/samples/cephfs_local.conf', 'doc/source/contributor/tempest_tests.rst', 'devstack/README.rst', 'doc/source/contributor/samples/zfsonlinux_local.conf', 'devstack/settings', 'doc/source/contributor/development-environment-devstack.rst', 'devstack/upgrade/settings', 'doc/source/admin/container_driver.rst', 'tox.ini', 'doc/source/configuration/shared-file-systems/drivers.rst', 'doc/source/contributor/architecture.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/contributor/samples/lvm_local.conf'], 'web_link': 'https://opendev.org/openstack/manila/commit/b538a819c8931ba9619f2d11d69761c41917ee7b', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I6158a898339842ac7faeef585c95ebc5bd802db3\n'}]",1,694932,b538a819c8931ba9619f2d11d69761c41917ee7b,13,9,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I6158a898339842ac7faeef585c95ebc5bd802db3
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/694932/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/manila-review-policy.rst', 'doc/source/contributor/samples/container_local.conf', 'doc/source/contributor/samples/generic_local.conf', 'doc/source/contributor/documenting_your_work.rst', 'README.rst', 'devstack/plugin.sh', 'doc/source/contributor/samples/cephfs_local.conf', 'doc/source/contributor/tempest_tests.rst', 'devstack/README.rst', 'doc/source/contributor/samples/zfsonlinux_local.conf', 'devstack/settings', 'doc/source/contributor/development-environment-devstack.rst', 'devstack/upgrade/settings', 'doc/source/admin/container_driver.rst', 'tox.ini', 'doc/source/configuration/shared-file-systems/drivers.rst', 'doc/source/contributor/architecture.rst', 'doc/source/contributor/development.environment.rst', 'doc/source/contributor/samples/lvm_local.conf']",19,b538a819c8931ba9619f2d11d69761c41917ee7b,,enable_plugin manila https://opendev.org/openstack/manilaenable_plugin manila-tempest-plugin https://opendev.org/openstack/manila-tempest-plugin,enable_plugin manila https://git.openstack.org/openstack/manilaenable_plugin manila-tempest-plugin https://git.openstack.org/openstack/manila-tempest-plugin,33,33
openstack%2Fnetworking-bgpvpn~master~Id8046ef85da72207097fef52b7966a4b3a067704,openstack/networking-bgpvpn,master,Id8046ef85da72207097fef52b7966a4b3a067704,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2019-12-02 20:12:43.000000000,2019-12-05 06:26:48.000000000,2019-12-05 06:24:04.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-02 20:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/cc2e387b34d521637ae1f10157dfde4f88611cc7', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-bgpvpn is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id8046ef85da72207097fef52b7966a4b3a067704\n'}, {'number': 2, 'created': '2019-12-03 11:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a8c28ce8da4b237dc38eb2a0636912e3b97ea305', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-bgpvpn is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id8046ef85da72207097fef52b7966a4b3a067704\n'}, {'number': 3, 'created': '2019-12-04 06:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ebbe98309ec98a2b16b08c0049b0b6052390bf06', 'message': ""[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-bgpvpn is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version and remove 'pypy' entry \nas it is no longer run in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id8046ef85da72207097fef52b7966a4b3a067704\n""}, {'number': 4, 'created': '2019-12-04 13:23:27.000000000', 'files': ['releasenotes/notes/drop-py-2-7-4db5f2b1529bb09c.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/40fa37be8c80f9e59d32c561e441a367907e8f85', 'message': ""[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-bgpvpn is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAlso this patch update minimum tox version and remove 'pypy' entry\nas it is no longer run in tox.ini file.\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id8046ef85da72207097fef52b7966a4b3a067704\n""}]",11,696952,40fa37be8c80f9e59d32c561e441a367907e8f85,26,5,4,29313,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

networking-bgpvpn is ready with python 3 and ok to drop the
python 2.7 support.

Also this patch update minimum tox version and remove 'pypy' entry
as it is no longer run in tox.ini file.
Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Id8046ef85da72207097fef52b7966a4b3a067704
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/52/696952/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-py-2-7-4db5f2b1529bb09c.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,cc2e387b34d521637ae1f10157dfde4f88611cc7,drop-py27-support,"minversion = 3.1.1 envlist = py37,py3-{dj111,dj22},pypy,pep8ignore_basepython_conflict = Truebasepython = python3[testenv:py36]","minversion = 2.0 envlist = py27,py37,py3-{dj111,dj22},pypy,pep8basepython = python3basepython = python3basepython = python3basepython = python2.7[testenv:py27]basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",13,30
openstack%2Fheat~master~I9bd6007509214c7a7ed7f7f4e391b609da4408a5,openstack/heat,master,I9bd6007509214c7a7ed7f7f4e391b609da4408a5,Drop creating extra endpoints in devstack,MERGED,2019-08-19 10:34:04.000000000,2019-12-05 06:26:25.000000000,2019-12-05 06:21:36.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-19 10:34:04.000000000', 'files': ['devstack/lib/heat', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/heat/commit/45fd0ec9bbd57598a534bffa1b3e1cee02506df8', 'message': ""Drop creating extra endpoints in devstack\n\nWe don't need admin or internal endpoints in a normal devstack setup,\nother basic projects are also only creating the public endpoint now.\n\nChange-Id: I9bd6007509214c7a7ed7f7f4e391b609da4408a5\n""}]",0,677174,45fd0ec9bbd57598a534bffa1b3e1cee02506df8,12,3,1,13252,,,0,"Drop creating extra endpoints in devstack

We don't need admin or internal endpoints in a normal devstack setup,
other basic projects are also only creating the public endpoint now.

Change-Id: I9bd6007509214c7a7ed7f7f4e391b609da4408a5
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/677174/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/heat', 'devstack/settings']",2,45fd0ec9bbd57598a534bffa1b3e1cee02506df8,drop-extra-endpoints,# It consists of three parts,# It consists of 4 parts,3,3
openstack%2Fnova-powervm~master~I0fefb316772c3d22d1fcf333241cc4b6820c0b5a,openstack/nova-powervm,master,I0fefb316772c3d22d1fcf333241cc4b6820c0b5a,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 07:54:47.000000000,2019-12-05 06:25:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 07:54:47.000000000', 'files': ['doc/source/devref/development_environment.rst', 'devstack/local.conf.compute', 'devstack/local.conf.aio-ovs-ssp', 'devstack/local.conf.aio-sea-localdisk', 'devstack/local.conf.control', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/46f718e6eb989a3bd93d75be50d9042e378c3dce', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I0fefb316772c3d22d1fcf333241cc4b6820c0b5a\n'}]",0,694928,46f718e6eb989a3bd93d75be50d9042e378c3dce,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I0fefb316772c3d22d1fcf333241cc4b6820c0b5a
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/28/694928/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/development_environment.rst', 'devstack/local.conf.compute', 'devstack/local.conf.aio-ovs-ssp', 'devstack/local.conf.aio-sea-localdisk', 'devstack/local.conf.control', 'tox.ini', 'devstack/README.rst']",7,46f718e6eb989a3bd93d75be50d9042e378c3dce,, $ git clone https://opendev.org/openstack-dev/devstack /opt/stack/devstack enable_plugin nova-powervm http://opendev.org/openstack/nova-powervm, $ git clone https://git.openstack.org/openstack-dev/devstack /opt/stack/devstack enable_plugin nova-powervm http://git.openstack.org/openstack/nova-powervm,22,22
openstack%2Fmonasca-ceilometer~master~I8f0b6957ff456b41de8509f3b54df1a68bf5cff4,openstack/monasca-ceilometer,master,I8f0b6957ff456b41de8509f3b54df1a68bf5cff4,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 07:51:02.000000000,2019-12-05 06:25:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 07:51:02.000000000', 'files': ['mkdocs.yml', 'tools/rally-scripts/README.md', 'devstack/sample-local.conf', 'devstack/ceilosca.sh'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/e0479b72ba034b02ca19811bbb8940b0c443a4f3', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I8f0b6957ff456b41de8509f3b54df1a68bf5cff4\n'}]",0,694925,e0479b72ba034b02ca19811bbb8940b0c443a4f3,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I8f0b6957ff456b41de8509f3b54df1a68bf5cff4
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/25/694925/1 && git format-patch -1 --stdout FETCH_HEAD,"['mkdocs.yml', 'tools/rally-scripts/README.md', 'devstack/sample-local.conf', 'devstack/ceilosca.sh']",4,e0479b72ba034b02ca19811bbb8940b0c443a4f3,, git config --global url.https://opendev.org/.insteadOf https://opendev.org/ sudo git config --global url.https://opendev.org/.insteadOf https://opendev.org/git clone https://opendev.org/openstack-dev/devstack | trueenable_plugin monasca-api https://opendev.org/openstack/monasca-api stable/newton enable_plugin ceilometer https://opendev.org/openstack/ceilometer stable/newton#enable_plugin monasca-transform https://opendev.org/openstack/monasca-transform master, git config --global url.https://git.openstack.org/.insteadOf https://git.openstack.org/ sudo git config --global url.https://git.openstack.org/.insteadOf https://git.openstack.org/git clone https://git.openstack.org/openstack-dev/devstack | trueenable_plugin monasca-api https://git.openstack.org/openstack/monasca-api stable/newton enable_plugin ceilometer https://git.openstack.org/openstack/ceilometer stable/newton#enable_plugin monasca-transform https://git.openstack.org/openstack/monasca-transform master,12,12
openstack%2Ffreezer-api~master~I36825c3a19186f45ef2c7287c897bf2a0c5f1788,openstack/freezer-api,master,I36825c3a19186f45ef2c7287c897bf2a0c5f1788,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 07:38:47.000000000,2019-12-05 06:24:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 07:38:47.000000000', 'files': ['devstack/local.conf.example', 'devstack/gate_hook.sh', 'doc/README.rst', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f07c20310cc1d4b059a6169f62c8101b9b567ca0', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I36825c3a19186f45ef2c7287c897bf2a0c5f1788\n'}]",0,694921,f07c20310cc1d4b059a6169f62c8101b9b567ca0,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I36825c3a19186f45ef2c7287c897bf2a0c5f1788
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/21/694921/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.example', 'devstack/gate_hook.sh', 'doc/README.rst', 'devstack/README.rst']",4,f07c20310cc1d4b059a6169f62c8101b9b567ca0,, enable_plugin freezer-api https://opendev.org/openstack/freezer-api master enable_plugin freezer http://opendev.org/openstack/freezer master enable_plugin freezer-api http://opendev.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://opendev.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://opendev.org/openstack/freezer-web-ui.git master, enable_plugin freezer-api https://git.openstack.org/openstack/freezer-api master enable_plugin freezer http://git.openstack.org/openstack/freezer master enable_plugin freezer-api http://git.openstack.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://git.openstack.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://git.openstack.org/openstack/freezer-web-ui.git master,9,9
openstack%2Ffreezer-web-ui~master~I5c2ed1877aaec374efdbf0258ae9ec7a7e2d92dc,openstack/freezer-web-ui,master,I5c2ed1877aaec374efdbf0258ae9ec7a7e2d92dc,Replace git.openstack.org with opendev.org,ABANDONED,2019-11-19 07:36:27.000000000,2019-12-05 06:24:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-19 07:36:27.000000000', 'files': ['devstack/gate_hook.sh', 'tox.ini', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/5502f76242f830576aa039596ecb6b2c91956847', 'message': 'Replace git.openstack.org with opendev.org\n\nChange-Id: I5c2ed1877aaec374efdbf0258ae9ec7a7e2d92dc\n'}]",0,694919,5502f76242f830576aa039596ecb6b2c91956847,3,1,1,27565,,,0,"Replace git.openstack.org with opendev.org

Change-Id: I5c2ed1877aaec374efdbf0258ae9ec7a7e2d92dc
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/19/694919/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/gate_hook.sh', 'tox.ini', 'devstack/README.rst']",3,5502f76242f830576aa039596ecb6b2c91956847,, enable_plugin freezer http://opendev.org/openstack/freezer master enable_plugin freezer-api http://opendev.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://opendev.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://opendev.org/openstack/freezer-web-ui.git master, enable_plugin freezer http://git.openstack.org/openstack/freezer master enable_plugin freezer-api http://git.openstack.org/openstack/freezer-api.git master enable_plugin freezer-tempest-plugin http://git.openstack.org/openstack/freezer-tempest-plugin.git master enable_plugin freezer-web-ui http://git.openstack.org/openstack/freezer-web-ui.git master,6,6
openstack%2Fcharm-ceph-osd~master~Id854caff6ae0fec1515fcf9281556d729723c19a,openstack/charm-ceph-osd,master,Id854caff6ae0fec1515fcf9281556d729723c19a,Switch to Ussuri jobs,ABANDONED,2019-10-31 09:35:38.000000000,2019-12-05 06:24:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:35:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4b9541943fbcb98cd8414116b9c87dbd87c59673', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id854caff6ae0fec1515fcf9281556d729723c19a\n'}]",0,692299,4b9541943fbcb98cd8414116b9c87dbd87c59673,4,2,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: Id854caff6ae0fec1515fcf9281556d729723c19a
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/99/692299/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4b9541943fbcb98cd8414116b9c87dbd87c59673,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-ceph-mon~master~I218e1df96dc7809a97da32590f7866ea90478325,openstack/charm-ceph-mon,master,I218e1df96dc7809a97da32590f7866ea90478325,Switch to Ussuri jobs,ABANDONED,2019-10-31 09:33:48.000000000,2019-12-05 06:21:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:33:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2bc93f4481b70ff815279c869ae1aa526797bba3', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I218e1df96dc7809a97da32590f7866ea90478325\n'}]",0,692298,2bc93f4481b70ff815279c869ae1aa526797bba3,4,2,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I218e1df96dc7809a97da32590f7866ea90478325
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/98/692298/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2bc93f4481b70ff815279c869ae1aa526797bba3,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnetworking-bagpipe~master~I04429bd44385338f2153185727383425f8971e0a,openstack/networking-bagpipe,master,I04429bd44385338f2153185727383425f8971e0a,Switch to Ussuri jobs,ABANDONED,2019-10-31 09:17:27.000000000,2019-12-05 06:21:05.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 09:17:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1e5a02ee2dfd3dbda0966a127fb5bb5db1916fb8', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I04429bd44385338f2153185727383425f8971e0a\n'}]",0,692295,1e5a02ee2dfd3dbda0966a127fb5bb5db1916fb8,4,2,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I04429bd44385338f2153185727383425f8971e0a
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/95/692295/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e5a02ee2dfd3dbda0966a127fb5bb5db1916fb8,, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fheat~master~Id4e533430600b5ff03fd63cdc09b9a00741b8e4e,openstack/heat,master,Id4e533430600b5ff03fd63cdc09b9a00741b8e4e,PDF documentation build,MERGED,2019-09-23 21:10:36.000000000,2019-12-05 06:20:45.000000000,2019-12-05 06:20:45.000000000,"[{'_account_id': 841}, {'_account_id': 4257}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28777}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-23 21:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e0bbf88e4dd53a4c63f0d16ffddfb9f2ef856e00', 'message': 'PDF documentation build\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n'}, {'number': 2, 'created': '2019-09-23 21:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/70c93f17acfffa20169466ff1cb5d1915691086d', 'message': 'PDF documentation build\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n'}, {'number': 3, 'created': '2019-09-25 00:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3eba4accf21f5175199501b993084cdaa328d045', 'message': 'PDF documentation build\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n'}, {'number': 4, 'created': '2019-09-27 22:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0104f18f8fc22135f7995c0bb8fafa7daa3c06ad', 'message': ""PDF documentation build\n\nThis change provides the necessary modifications to enable\nbuilding of pdf documentation. The resources.py extension\nrequired modification to:\n  - prevent attributes from being rendered as stray \\items\n    outside of a list environment\n  - prevent update policies from being rendered as stray\n    \\items outside of a list environment\n  - remove the 'Note:' admonition around the 'Not implemented'\n    message when it applies to a sub-property, such as a list.\n    The admonition was not rendered as a list item, causing the\n    build to fail due to an empty list.\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n""}, {'number': 5, 'created': '2019-09-28 00:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8f07e3d56255581a4b6c86e89ab6b5be584895d6', 'message': ""PDF documentation build\n\nThis change provides the necessary modifications to enable\nbuilding of pdf documentation. The resources.py extension\nrequired modification to:\n  - prevent attributes from being rendered as stray \\items\n    outside of a list environment\n  - prevent update policies from being rendered as stray\n    \\items outside of a list environment\n  - remove the 'Note:' admonition around the 'Not implemented'\n    message when it applies to a sub-property, such as a list.\n    The admonition was not rendered as a list item, causing the\n    build to fail due to an empty list.\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n""}, {'number': 6, 'created': '2019-10-01 16:00:34.000000000', 'files': ['doc/source/conf.py', 'doc/source/configuration/sample_config.rst', 'tox.ini', 'doc/source/ext/resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/debff05779ad12bcbee4e009cdd28c4dc5d30444', 'message': ""PDF documentation build\n\nThis change provides the necessary modifications to enable\nbuilding of pdf documentation. The resources.py extension\nrequired modification to:\n  - prevent attributes from being rendered as stray \\items\n    outside of a list environment\n  - prevent update policies from being rendered as stray\n    \\items outside of a list environment\n  - remove the 'Note:' admonition around the 'Not implemented'\n    message when it applies to a sub-property, such as a list.\n    The admonition was not rendered as a list item, causing the\n    build to fail due to an empty list.\n\nChange-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e\n""}]",9,684137,debff05779ad12bcbee4e009cdd28c4dc5d30444,29,8,6,28777,,,0,"PDF documentation build

This change provides the necessary modifications to enable
building of pdf documentation. The resources.py extension
required modification to:
  - prevent attributes from being rendered as stray \items
    outside of a list environment
  - prevent update policies from being rendered as stray
    \items outside of a list environment
  - remove the 'Note:' admonition around the 'Not implemented'
    message when it applies to a sub-property, such as a list.
    The admonition was not rendered as a list item, causing the
    build to fail due to an empty list.

Change-Id: Id4e533430600b5ff03fd63cdc09b9a00741b8e4e
",git fetch https://review.opendev.org/openstack/heat refs/changes/37/684137/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,e0bbf88e4dd53a4c63f0d16ffddfb9f2ef856e00,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,16,10
openstack%2Fnetworking-bgpvpn~master~I06a339eec73092afcb0d6dabfe04c57ece0a2e60,openstack/networking-bgpvpn,master,I06a339eec73092afcb0d6dabfe04c57ece0a2e60,Switch to Ussuri jobs,ABANDONED,2019-10-31 09:12:36.000000000,2019-12-05 06:20:33.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-31 09:12:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/65b554fbdc0f07a6c91231d83985f85868ab9d6e', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I06a339eec73092afcb0d6dabfe04c57ece0a2e60\n'}]",0,692294,65b554fbdc0f07a6c91231d83985f85868ab9d6e,5,3,1,27565,,,0,"Switch to Ussuri jobs

Change-Id: I06a339eec73092afcb0d6dabfe04c57ece0a2e60
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/94/692294/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,65b554fbdc0f07a6c91231d83985f85868ab9d6e,, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fheat~master~Icfd4ef1654dd141d17541bed48fee412001efdec,openstack/heat,master,Icfd4ef1654dd141d17541bed48fee412001efdec,Add unit test for nested stack cancel,MERGED,2019-10-29 19:24:20.000000000,2019-12-05 06:14:09.000000000,2019-12-05 06:10:53.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-29 19:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/56224758f72eec784e9863340ac098e7149022c1', 'message': 'Add unit test for nested stack cancel\n\nTest that when cancelling a nested stack, its children also get\ncancelled.\n\nChange-Id: Icfd4ef1654dd141d17541bed48fee412001efdec\n'}, {'number': 2, 'created': '2019-10-30 03:18:35.000000000', 'files': ['heat/tests/engine/test_engine_worker.py', 'heat/engine/worker.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/38614a78c1a06dca704a8e9badc2cc6ad55f613b', 'message': 'Add unit test for nested stack cancel\n\nTest that when cancelling a nested stack, its children also get\ncancelled.\n\nChange-Id: Icfd4ef1654dd141d17541bed48fee412001efdec\n'}]",0,691951,38614a78c1a06dca704a8e9badc2cc6ad55f613b,13,3,2,4257,,,0,"Add unit test for nested stack cancel

Test that when cancelling a nested stack, its children also get
cancelled.

Change-Id: Icfd4ef1654dd141d17541bed48fee412001efdec
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/691951/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/engine/test_engine_worker.py', 'heat/engine/worker.py']",2,56224758f72eec784e9863340ac098e7149022c1,, Any in-progress traversals are also stopped on all nested stacks that are descendants of the one passed.,,26,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea,openstack/puppet-tripleo,stable/train,I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea,Fix grafana listener options to allow affinity,MERGED,2019-12-04 22:05:03.000000000,2019-12-05 06:02:10.000000000,2019-12-05 06:02:09.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 22:05:03.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4619ea75d6460c8fb389ae00b4e2b101206c2bb3', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nCloses-Bug: 1854337\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n(cherry picked from commit 602034a6e5c2ff306c5ab6e7d80c5da282d539ec)\n'}]",0,697376,4619ea75d6460c8fb389ae00b4e2b101206c2bb3,7,4,1,25402,,,0,"Fix grafana listener options to allow affinity

Like the other web based services, we need to enable
the source affinity to access the grafana instance
through the haproxy vip.

Closes-Bug: 1854337
Change-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea
(cherry picked from commit 602034a6e5c2ff306c5ab6e7d80c5da282d539ec)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/697376/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,4619ea75d6460c8fb389ae00b4e2b101206c2bb3,ceph_dashboard-stable/train," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk HEAD /' ], 'balance' => 'source', }),"," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk HEAD /' ] }),",4,1
openstack%2Frequirements~master~I3ff2fa5fae8afc4bcec37d403ff97f637fedd434,openstack/requirements,master,I3ff2fa5fae8afc4bcec37d403ff97f637fedd434,update constraint for os-traits to new release 2.0.0,MERGED,2019-12-04 10:33:53.000000000,2019-12-05 06:02:08.000000000,2019-12-05 06:00:54.000000000,"[{'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 10:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8d9240b35cee1256ead586a2597571d962162e56', 'message': 'update constraint for os-traits to new release 2.0.0\n\nChange-Id: I3ff2fa5fae8afc4bcec37d403ff97f637fedd434\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\nmeta:release:Code-Review+1: Eric Xie <eric_xiett@163.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}, {'number': 2, 'created': '2019-12-04 22:26:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd3536a93a1d27260a10d37f1f8d99a3c3404060', 'message': 'update constraint for os-traits to new release 2.0.0\n\nChange-Id: I3ff2fa5fae8afc4bcec37d403ff97f637fedd434\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>\nmeta:release:Code-Review+1: Eric Xie <eric_xiett@163.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,697259,fd3536a93a1d27260a10d37f1f8d99a3c3404060,19,4,2,11131,,,0,"update constraint for os-traits to new release 2.0.0

Change-Id: I3ff2fa5fae8afc4bcec37d403ff97f637fedd434
meta:version: 2.0.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Tetsuro Nakamura <tetsuro.nakamura.bc@hco.ntt.co.jp>
meta:release:Code-Review+1: Eric Xie <eric_xiett@163.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/697259/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8d9240b35cee1256ead586a2597571d962162e56,new-release,os-traits===2.0.0,os-traits===1.1.0,1,1
openstack%2Fneutron~master~I8a3bf9a915f6812db6e78a189127613a2fa204ae,openstack/neutron,master,I8a3bf9a915f6812db6e78a189127613a2fa204ae,[OVN] Add revision number methods,MERGED,2019-11-27 17:49:39.000000000,2019-12-05 06:00:56.000000000,2019-12-05 05:58:46.000000000,"[{'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-27 17:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa4ef9540606af7865e01ee334c7cec21f74ecaf', 'message': '[OVN] Add revision number methods\n\nOVNRevisionNumbers registers are used to check the synchronization\nstatus of the objects handled by OVN, assigning a revision number\nto those objects stored in the Neutron DB, also present in the OVN\none.\n\nThe methods implemented are:\n- create_initial_revision\n- delete_revision\n- get_revision_row\n- bump_revision\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae\n'}, {'number': 2, 'created': '2019-11-28 15:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be79b22e0ab14af500d487915e905b8dfcfcb379', 'message': '[OVN] Add revision number methods\n\nOVNRevisionNumbers registers are used to check the synchronization\nstatus of the objects handled by OVN, assigning a revision number\nto those objects stored in the Neutron DB, also present in the OVN\none.\n\nThe methods implemented are:\n- create_initial_revision\n- delete_revision\n- get_revision_row\n- bump_revision\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae\n'}, {'number': 3, 'created': '2019-11-29 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/893d139a628bd1ab543147c42f1e8e90c4849e3d', 'message': '[OVN] Add revision number methods\n\nOVNRevisionNumbers registers are used to check the synchronization\nstatus of the objects handled by OVN, assigning a revision number\nto those objects stored in the Neutron DB, also present in the OVN\none.\n\nThe methods implemented are:\n- create_initial_revision\n- delete_revision\n- get_revision_row\n- bump_revision\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae\n'}, {'number': 4, 'created': '2019-11-29 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/386a1250af80dfecac7f68c040fc2e9b3c925ed3', 'message': '[OVN] Add revision number methods\n\nOVNRevisionNumbers registers are used to check the synchronization\nstatus of the objects handled by OVN, assigning a revision number\nto those objects stored in the Neutron DB, also present in the OVN\none.\n\nThe methods implemented are:\n- create_initial_revision\n- delete_revision\n- get_revision_row\n- bump_revision\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae\n'}, {'number': 5, 'created': '2019-12-04 11:16:25.000000000', 'files': ['neutron/tests/unit/db/test_ovn_revision_numbers_db.py', 'neutron/db/ovn_revision_numbers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/04f693bbbb8d83c82d934e141737f56427ed86e8', 'message': '[OVN] Add revision number methods\n\nOVNRevisionNumbers registers are used to check the synchronization\nstatus of the objects handled by OVN, assigning a revision number\nto those objects stored in the Neutron DB, also present in the OVN\none.\n\nThe methods implemented are:\n- create_initial_revision\n- delete_revision\n- get_revision_row\n- bump_revision\n\nPartially-Implements: blueprint neutron-ovn-merge\nChange-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae\n'}]",0,696373,04f693bbbb8d83c82d934e141737f56427ed86e8,47,10,5,16688,,,0,"[OVN] Add revision number methods

OVNRevisionNumbers registers are used to check the synchronization
status of the objects handled by OVN, assigning a revision number
to those objects stored in the Neutron DB, also present in the OVN
one.

The methods implemented are:
- create_initial_revision
- delete_revision
- get_revision_row
- bump_revision

Partially-Implements: blueprint neutron-ovn-merge
Change-Id: I8a3bf9a915f6812db6e78a189127613a2fa204ae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/696373/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_revision_numbers_db.py', 'neutron/db/ovn_revision_numbers_db.py']",2,fa4ef9540606af7865e01ee334c7cec21f74ecaf,bp/neutron-ovn-merge,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.db import api as db_api from neutron_lib import exceptions as n_exc from oslo_config import cfg from oslo_log import log from sqlalchemy.orm import exc from neutron.db.models import l3 # noqa from neutron.db.models import ovn as ovn_models from neutron.db.models import securitygroup # noqa from neutron.db import models_v2 # noqa from neutron.db import standard_attr LOG = log.getLogger(__name__) CONF = cfg.CONF STD_ATTR_MAP = standard_attr.get_standard_attr_resource_model_map() # NOTE(ralonsoh): to be moved to neutron-lib TYPE_NETWORKS = 'networks' TYPE_PORTS = 'ports' TYPE_SECURITY_GROUP_RULES = 'security_group_rules' TYPE_ROUTERS = 'routers' TYPE_ROUTER_PORTS = 'router_ports' TYPE_SECURITY_GROUPS = 'security_groups' TYPE_FLOATINGIPS = 'floatingips' TYPE_SUBNETS = 'subnets' TYPES_OVN = (TYPE_NETWORKS, TYPE_PORTS, TYPE_SECURITY_GROUP_RULES, TYPE_ROUTERS, TYPE_ROUTER_PORTS, TYPE_SECURITY_GROUPS, TYPE_FLOATINGIPS, TYPE_SUBNETS) INITIAL_REV_NUM = -1 # 1:2 mapping for OVN, neutron router ports are simple ports, but # for OVN we handle LSP & LRP objects if STD_ATTR_MAP: STD_ATTR_MAP[TYPE_ROUTER_PORTS] = STD_ATTR_MAP[TYPE_PORTS] # NOTE(ralonsoh): to be moved to neutron-lib class StandardAttributeIDNotFound(n_exc.NeutronException): message = 'Standard attribute ID not found for %(resource_uuid)s' # NOTE(ralonsoh): to be moved to neutron-lib class UnknownResourceType(n_exc.NeutronException): message = 'Uknown resource type: %(resource_type)s' def get_revision_number(resource, resource_type): """"""Get the resource's revision number based on its type."""""" if resource_type in TYPES_OVN: return resource['revision_number'] raise UnknownResourceType(resource_type=resource_type) def _get_standard_attr_id(context, resource_uuid, resource_type): try: row = context.session.query(STD_ATTR_MAP[resource_type]).filter_by( id=resource_uuid).one() return row.standard_attr_id except exc.NoResultFound: raise StandardAttributeIDNotFound(resource_uuid=resource_uuid) @db_api.retry_if_session_inactive() def create_initial_revision(context, resource_uuid, resource_type, revision_number=INITIAL_REV_NUM, may_exist=False): LOG.debug('create_initial_revision uuid=%s, type=%s, rev=%s', resource_uuid, resource_type, revision_number) db_func = context.session.merge if may_exist else context.session.add with db_api.CONTEXT_WRITER.using(context): std_attr_id = _get_standard_attr_id( context, resource_uuid, resource_type) row = ovn_models.OVNRevisionNumbers( resource_uuid=resource_uuid, resource_type=resource_type, standard_attr_id=std_attr_id, revision_number=revision_number) db_func(row) context.session.flush() @db_api.retry_if_session_inactive() def delete_revision(context, resource_uuid, resource_type): LOG.debug('delete_revision(%s)', resource_uuid) with db_api.CONTEXT_WRITER.using(context): row = context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource_uuid, resource_type=resource_type).one_or_none() if row: context.session.delete(row) def _ensure_revision_row_exist(context, resource, resource_type): """"""Ensure the revision row exists. Ensure the revision row exist before we try to bump its revision number. This method is part of the migration plan to deal with resources that have been created prior to the database sync work getting merged. """""" # TODO(lucasagomes): As the docstring says, this method was created to # deal with objects that already existed before the sync work. I believe # that we can remove this method after few development cycles. Or, # if we decide to make a migration script as well. with db_api.CONTEXT_WRITER.using(context): if not context.session.query(ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource['id'], resource_type=resource_type).one_or_none(): LOG.warning( 'No revision row found for %(res_uuid)s (type: ' '%(res_type)s) when bumping the revision number. ' 'Creating one.', {'res_uuid': resource['id'], 'res_type': resource_type}) create_initial_revision(context, resource['id'], resource_type) @db_api.retry_if_session_inactive() def get_revision_row(context, resource_uuid): try: with db_api.CONTEXT_READER.using(context): return context.session.query( ovn_models.OVNRevisionNumbers).filter_by( resource_uuid=resource_uuid).one() except exc.NoResultFound: pass @db_api.retry_if_session_inactive() def bump_revision(context, resource, resource_type): revision_number = get_revision_number(resource, resource_type) with db_api.CONTEXT_WRITER.using(context): _ensure_revision_row_exist(context, resource, resource_type) std_attr_id = _get_standard_attr_id( context, resource['id'], resource_type) row = context.session.merge(ovn_models.OVNRevisionNumbers( standard_attr_id=std_attr_id, resource_uuid=resource['id'], resource_type=resource_type)) if revision_number < row.revision_number: LOG.debug( 'Skip bumping the revision number for %(res_uuid)s (type: ' '%(res_type)s) to %(rev_num)d. A higher version is already ' 'registered in the database (%(new_rev)d)', {'res_type': resource_type, 'res_uuid': resource['id'], 'rev_num': revision_number, 'new_rev': row.revision_number}) return row.revision_number = revision_number context.session.merge(row) LOG.info('Successfully bumped revision number for resource ' '%(res_uuid)s (type: %(res_type)s) to %(rev_num)d', {'res_uuid': resource['id'], 'res_type': resource_type, 'rev_num': revision_number}) ",,261,0
openstack%2Frequirements~master~I6c9f545e09779431120cee942318013ed91a581a,openstack/requirements,master,I6c9f545e09779431120cee942318013ed91a581a,Remove most python-2.7 jobs,MERGED,2019-12-04 22:05:12.000000000,2019-12-05 06:00:39.000000000,2019-12-05 05:58:49.000000000,"[{'_account_id': 841}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 22:05:12.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bcda45553a415ba82360a779db6568554fa30537', 'message': 'Remove most python-2.7 jobs\n\nremove all jobs depending on projects that are set to remove support\nfor python-2.7 during the Ussuri cycle.  This will keep us from being\nsurprised when a project pulls support for py27 and breaking our gate.\n\nOriginally this was set to occur later in the cycle but as we depend\non the projects for cross jobs it needs to be done earlier.\n\nChange-Id: I6c9f545e09779431120cee942318013ed91a581a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,697377,bcda45553a415ba82360a779db6568554fa30537,13,6,1,14288,,,0,"Remove most python-2.7 jobs

remove all jobs depending on projects that are set to remove support
for python-2.7 during the Ussuri cycle.  This will keep us from being
surprised when a project pulls support for py27 and breaking our gate.

Originally this was set to occur later in the cycle but as we depend
on the projects for cross jobs it needs to be done earlier.

Change-Id: I6c9f545e09779431120cee942318013ed91a581a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/697377/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml']",2,bcda45553a415ba82360a779db6568554fa30537,drop-py27-support,, name: cross-cinder-py27 parent: requirements-cross-test description: Run cross-project tests on cinder with py27. required-projects: openstack/cinder vars: tox_envlist: py27 - job: name: cross-glance-py27 parent: requirements-cross-test description: Run cross-project tests on glance with py27. required-projects: openstack/glance vars: tox_envlist: py27 - job: name: cross-horizon-py27 parent: requirements-cross-test description: Run cross-project tests on horizon with py27. required-projects: openstack/horizon vars: tox_envlist: py27 - job: name: cross-keystone-py27 parent: requirements-cross-test description: Run cross-project tests on keystone with py27. required-projects: openstack/keystone timeout: 3600 vars: tox_envlist: py27 - job: name: cross-neutron-py27 parent: requirements-cross-test description: Run cross-project tests on neutron with py27. required-projects: openstack/neutron vars: tox_envlist: py27 - job: name: cross-nova-py27 parent: requirements-cross-test description: Run cross-project tests on nova with py27. required-projects: openstack/nova vars: tox_envlist: py27 - job:,0,61
openstack%2Fnetworking-l2gw~master~Iee43b0169e1b159c8ced5671018918925b99f00d,openstack/networking-l2gw,master,Iee43b0169e1b159c8ced5671018918925b99f00d,Switch to Ussuri jobs,MERGED,2019-10-25 06:34:12.000000000,2019-12-05 05:41:35.000000000,2019-12-05 05:41:35.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 06:34:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/007695b2629e5d85f16a9faa18709ad8a76223f5', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iee43b0169e1b159c8ced5671018918925b99f00d\n'}]",0,691211,007695b2629e5d85f16a9faa18709ad8a76223f5,10,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Iee43b0169e1b159c8ced5671018918925b99f00d
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/11/691211/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,007695b2629e5d85f16a9faa18709ad8a76223f5,ussuri, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fhorizon~stable%2Fqueens~I4c6c3b1d0e0c38c8130440c2b6c162fd65532179,openstack/horizon,stable/queens,I4c6c3b1d0e0c38c8130440c2b6c162fd65532179,Fix quoting in zuul for tempest plugins,MERGED,2019-12-04 04:00:44.000000000,2019-12-05 05:28:54.000000000,2019-12-05 05:28:54.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-04 04:00:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b22a1e39c4b5ca948ba7576fe8ffa85224d485f5', 'message': 'Fix quoting in zuul for tempest plugins\n\nSomething has changed and the quoting used in the zuul jobs\nconfiguration no longer works. This patch removes the excess\nquoting.\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I4c6c3b1d0e0c38c8130440c2b6c162fd65532179\n(cherry picked from commit e17325dd3bcedffe0b1a96c02b00e918d191a743)\n'}]",0,697227,b22a1e39c4b5ca948ba7576fe8ffa85224d485f5,9,6,1,841,,,0,"Fix quoting in zuul for tempest plugins

Something has changed and the quoting used in the zuul jobs
configuration no longer works. This patch removes the excess
quoting.

Conflicts:
	.zuul.yaml

Change-Id: I4c6c3b1d0e0c38c8130440c2b6c162fd65532179
(cherry picked from commit e17325dd3bcedffe0b1a96c02b00e918d191a743)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/27/697227/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b22a1e39c4b5ca948ba7576fe8ffa85224d485f5,," TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon"""," TEMPEST_PLUGINS: ""'{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon'""",1,1
openstack%2Ftrove~master~I7beb6849abbfc889bae29668deb4ba7ae93df91d,openstack/trove,master,I7beb6849abbfc889bae29668deb4ba7ae93df91d,Add CI job to build Ubuntu Xenial based Trove guest image for dev,MERGED,2019-12-04 11:05:35.000000000,2019-12-05 05:20:51.000000000,2019-12-05 05:18:11.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 11:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c64c54995f811413bc2de7f14a2f84758cdac014', 'message': 'Add CI job to build Ubuntu Xenial based Trove guest image for dev\n\nChange-Id: I7beb6849abbfc889bae29668deb4ba7ae93df91d\n'}, {'number': 2, 'created': '2019-12-04 18:47:53.000000000', 'files': ['playbooks/image-build/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/52bfbd641dfa0c0f946ff06b7ba9ea700cb0fc51', 'message': 'Add CI job to build Ubuntu Xenial based Trove guest image for dev\n\nChange-Id: I7beb6849abbfc889bae29668deb4ba7ae93df91d\n'}]",0,697265,52bfbd641dfa0c0f946ff06b7ba9ea700cb0fc51,13,2,2,6732,,,0,"Add CI job to build Ubuntu Xenial based Trove guest image for dev

Change-Id: I7beb6849abbfc889bae29668deb4ba7ae93df91d
",git fetch https://review.opendev.org/openstack/trove refs/changes/65/697265/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/run.yaml', '.zuul.yaml']",2,c64c54995f811413bc2de7f14a2f84758cdac014,build-static-image, - publish-trove-guest-image-mysql-ubuntu-xenial-dev: branches: - master branch: master dev_node: false - job: name: publish-trove-guest-image-mysql-ubuntu-xenial-dev parent: publish-trove-guest-image description: | Build and publish Ubuntu Xenial based Trove guest image to tarballs.openstack.org. vars: datastore_type: mysql guest_os: ubuntu guest_os_release: xenial guest_username: ubuntu branch: master dev_mode: true, branch: master,20,2
openstack%2Ftrove-dashboard~master~If7429fbfd1d687411c266161ffa4f093d498b220,openstack/trove-dashboard,master,If7429fbfd1d687411c266161ffa4f093d498b220,Switch to Ussuri jobs,MERGED,2019-10-22 07:32:53.000000000,2019-12-05 05:19:38.000000000,2019-12-05 05:19:38.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 07:32:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/6f61e85960a90bfb24022065bf89d098a7bd54d6', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If7429fbfd1d687411c266161ffa4f093d498b220\n'}]",0,689993,6f61e85960a90bfb24022065bf89d098a7bd54d6,8,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: If7429fbfd1d687411c266161ffa4f093d498b220
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/93/689993/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6f61e85960a90bfb24022065bf89d098a7bd54d6,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-heatclient~master~I10df19e4f4b25a29df9389b3f469ee053552496a,openstack/python-heatclient,master,I10df19e4f4b25a29df9389b3f469ee053552496a,Update master for stable/train,MERGED,2019-09-20 17:40:28.000000000,2019-12-05 03:53:06.000000000,2019-12-05 03:50:44.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:40:28.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/19122b7ac55d2a72a11b4a048c868f9bc7ced7f6', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I10df19e4f4b25a29df9389b3f469ee053552496a\nSem-Ver: feature\n'}]",0,683606,19122b7ac55d2a72a11b4a048c868f9bc7ced7f6,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I10df19e4f4b25a29df9389b3f469ee053552496a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/06/683606/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,19122b7ac55d2a72a11b4a048c868f9bc7ced7f6,reno-train, train,,7,0
openstack%2Fpython-heatclient~master~I65ec66ebcef80609a4fc111c71a225eccec35eeb,openstack/python-heatclient,master,I65ec66ebcef80609a4fc111c71a225eccec35eeb,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:44:41.000000000,2019-12-05 03:52:03.000000000,2019-12-05 03:50:40.000000000,"[{'_account_id': 4257}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28471}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30388}, {'_account_id': 30398}]","[{'number': 1, 'created': '2019-04-23 05:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b1bc4a29d8a20b5d6489c26f5cf1f71941c8105e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb\n'}, {'number': 2, 'created': '2019-04-28 06:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/df475a50e95be353825d75b20da9aa4841df3e07', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb\n'}, {'number': 3, 'created': '2019-04-30 02:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/34dcb49f8efa2165c7499e28a7c5d280e6e80d45', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb\n'}, {'number': 4, 'created': '2019-06-20 03:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4cb15bf15a1b31c2db676cf747373c7df426bc86', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb\n'}, {'number': 5, 'created': '2019-07-14 15:05:49.000000000', 'files': ['README.rst', 'doc/source/man/heat.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/87253c46fda3f1d468ba5b13d5e858433791e203', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb\n'}]",4,654760,87253c46fda3f1d468ba5b13d5e858433791e203,28,11,5,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I65ec66ebcef80609a4fc111c71a225eccec35eeb
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/60/654760/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,b1bc4a29d8a20b5d6489c26f5cf1f71941c8105e,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},5,5
openstack%2Ftripleo-ansible~master~Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665,openstack/tripleo-ansible,master,Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665,Fix case in filters when Labels is None,MERGED,2019-12-03 13:50:07.000000000,2019-12-05 03:31:42.000000000,2019-12-05 03:31:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffd39844f61d39c0fb10d35e94950fa1edf78de8', 'message': 'Fix case in filters when Labels is None\n\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n'}, {'number': 2, 'created': '2019-12-03 13:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7b0eac040655681910e4c53a642ca5e331707cf', 'message': ""Fix case in filters when Labels is None\n\nWhen Labels is None it's not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n""}, {'number': 3, 'created': '2019-12-03 14:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6efc17c677631d46cb927188e5fd1f6f31ae8ef', 'message': ""Fix case in filters when Labels is None\n\nWhen Labels is None it's not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n""}, {'number': 4, 'created': '2019-12-04 09:16:27.000000000', 'files': ['tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1acc95211d018033858f15e33dd063fca1991d3b', 'message': ""Fix case in filters when Labels is None\n\nWhen Labels is None it's not managed by tripleo container,\nthen skip it.\nChange-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665\n""}]",0,697092,1acc95211d018033858f15e33dd063fca1991d3b,16,5,4,10969,,,0,"Fix case in filters when Labels is None

When Labels is None it's not managed by tripleo container,
then skip it.
Change-Id: Ib82c4d28c462abb3f1a5ccb7d5137ec6059b2665
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/697092/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/helpers.py'],1,ffd39844f61d39c0fb10d35e94950fa1edf78de8,fixfilter, if (c['Config']['Labels'] is None or c['Config']['Labels'].get( 'managed_by') != 'tripleo_ansible'): if (c['Config']['Labels'] is None or c['Config']['Labels'].get('config_id') != config_id):, if c['Config']['Labels'].get('managed_by') != 'tripleo_ansible': if c['Config']['Labels'].get('config_id') != config_id:,5,2
openstack%2Fpython-heatclient~master~Icbc1b3a92f796bf9e3186a512dd21661db035583,openstack/python-heatclient,master,Icbc1b3a92f796bf9e3186a512dd21661db035583,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 08:04:58.000000000,2019-12-05 02:54:59.000000000,2019-12-05 02:53:41.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26458}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-06-06 08:04:58.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/0789bc93dc4ea2f63bf1de56bf2fbb761d280cb6', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Icbc1b3a92f796bf9e3186a512dd21661db035583\n'}]",0,663533,0789bc93dc4ea2f63bf1de56bf2fbb761d280cb6,10,5,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Icbc1b3a92f796bf9e3186a512dd21661db035583
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/33/663533/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0789bc93dc4ea2f63bf1de56bf2fbb761d280cb6,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpython-heatclient~master~Ibc0dc62105b96b705fa92504e204abbd1bcea402,openstack/python-heatclient,master,Ibc0dc62105b96b705fa92504e204abbd1bcea402,Update the constraints url,ABANDONED,2019-09-23 08:42:11.000000000,2019-12-05 02:36:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-23 08:42:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/77a2938585f006ad39c0bc3708da2a3bda34d021', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ibc0dc62105b96b705fa92504e204abbd1bcea402\n'}]",0,683881,77a2938585f006ad39c0bc3708da2a3bda34d021,3,1,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ibc0dc62105b96b705fa92504e204abbd1bcea402
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/81/683881/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,77a2938585f006ad39c0bc3708da2a3bda34d021,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fpython-heatclient~master~Idb540e27cc79771b0318938f624a510cc9649722,openstack/python-heatclient,master,Idb540e27cc79771b0318938f624a510cc9649722,Mailing lists change openstack-dev to openstack-discuss,ABANDONED,2019-07-01 11:31:35.000000000,2019-12-05 02:35:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 28471}, {'_account_id': 29222}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-01 11:31:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/becad41e8b4abb960d74564d7d6dd79633c9299f', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: Idb540e27cc79771b0318938f624a510cc9649722\n'}]",0,668443,becad41e8b4abb960d74564d7d6dd79633c9299f,7,5,1,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: Idb540e27cc79771b0318938f624a510cc9649722
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/43/668443/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,becad41e8b4abb960d74564d7d6dd79633c9299f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpython-heatclient~master~I6100f83d6be1505c88226b71693114703b5e3a77,openstack/python-heatclient,master,I6100f83d6be1505c88226b71693114703b5e3a77,fix unsutable links and descriptions,NEW,2019-08-30 09:43:57.000000000,2019-12-05 02:33:43.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-30 09:43:57.000000000', 'files': ['doc/source/index.rst', 'README.rst', 'doc/source/man/heat.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b0c5b84f6eb7d5eb46f42ad4e1aca8de2fc9412f', 'message': 'fix unsutable links and descriptions\n\nreplace links from git.openstack to opendev, update links and\ndescriptions from launchpad to storyboard\n\nChange-Id: I6100f83d6be1505c88226b71693114703b5e3a77\n'}]",2,679411,b0c5b84f6eb7d5eb46f42ad4e1aca8de2fc9412f,4,2,1,30814,,,0,"fix unsutable links and descriptions

replace links from git.openstack to opendev, update links and
descriptions from launchpad to storyboard

Change-Id: I6100f83d6be1505c88226b71693114703b5e3a77
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/11/679411/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'doc/source/man/heat.rst', 'setup.cfg', 'tox.ini']",5,b0c5b84f6eb7d5eb46f42ad4e1aca8de2fc9412f,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},10,12
openstack%2Fpython-tripleoclient~master~I0bbda8857473566a9ad18f20af9da8a34dd6ed0f,openstack/python-tripleoclient,master,I0bbda8857473566a9ad18f20af9da8a34dd6ed0f,Use configured passwords,MERGED,2019-12-04 00:03:35.000000000,2019-12-05 02:30:43.000000000,2019-12-05 02:28:26.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 00:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e680da5080fe5553be9ea94f78dbc61726cca947', 'message': 'Use configured passwords\n\nThe tripleo deploy command automatically loads passwords from\ntripleo-<stackname>-passwords.yaml. We have a configuration items in the\nminion configuration to point at the undercloud config. We need to copy\nthe configure file into the correct name to ensure it gets loaded\ncorrectly.\n\nChange-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f\nCloses-Bug: #1855010\n'}, {'number': 2, 'created': '2019-12-04 03:58:54.000000000', 'files': ['tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/778351abe687fbaaae59450631a8e461c238e7fe', 'message': 'Use configured passwords\n\nThe tripleo deploy command automatically loads passwords from\ntripleo-<stackname>-passwords.yaml. We have a configuration items in the\nminion configuration to point at the undercloud config. We need to copy\nthe configure file into the correct name to ensure it gets loaded\ncorrectly.\n\nChange-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f\nCloses-Bug: #1855010\n'}]",0,697203,778351abe687fbaaae59450631a8e461c238e7fe,14,4,2,14985,,,0,"Use configured passwords

The tripleo deploy command automatically loads passwords from
tripleo-<stackname>-passwords.yaml. We have a configuration items in the
minion configuration to point at the undercloud config. We need to copy
the configure file into the correct name to ensure it gets loaded
correctly.

Change-Id: I0bbda8857473566a9ad18f20af9da8a34dd6ed0f
Closes-Bug: #1855010
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/697203/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py']",2,e680da5080fe5553be9ea94f78dbc61726cca947,bug/1855010," @mock.patch('tripleoclient.v1.minion_config._process_undercloud_passwords') mock_check, mock_pass): @mock.patch('tripleoclient.v1.minion_config._process_undercloud_passwords') mock_ans_symlink, mock_check, mock_pass):"," mock_check): mock_ans_symlink, mock_check):",20,2
openstack%2Fpython-tripleoclient~master~I152b3e60d53ebd482430f9b52baf68a3370a9c4c,openstack/python-tripleoclient,master,I152b3e60d53ebd482430f9b52baf68a3370a9c4c,Include memcached_node_ips in the output for the undercloud,MERGED,2019-12-03 22:51:17.000000000,2019-12-05 02:29:32.000000000,2019-12-05 02:28:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 22:51:17.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c7e09fe5e73fe8c863fdef334a48346e6fd4a00', 'message': ""Include memcached_node_ips in the output for the undercloud\n\nBecause the memcached_node_ips is required by puppet and we don't\nconfigure it with a hostnetmap configuration, we need to specify the\nundercloud as the memcached_node_ips configuration in the outputs that\nwe export for the undercloud minion.\n\nChange-Id: I152b3e60d53ebd482430f9b52baf68a3370a9c4c\nCloses-Bug: #1855010\n""}]",0,697196,4c7e09fe5e73fe8c863fdef334a48346e6fd4a00,11,4,1,14985,,,0,"Include memcached_node_ips in the output for the undercloud

Because the memcached_node_ips is required by puppet and we don't
configure it with a hostnetmap configuration, we need to specify the
undercloud as the memcached_node_ips configuration in the outputs that
we export for the undercloud minion.

Change-Id: I152b3e60d53ebd482430f9b52baf68a3370a9c4c
Closes-Bug: #1855010
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/697196/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,4c7e09fe5e73fe8c863fdef334a48346e6fd4a00,bug/1855010, # we want to grab it for the undercloud for use by a minion. # The same is true for memcached as well. globalcfg['memcached_node_ips'] = [name], # we want to grab it for the undercloud for use by a minion,3,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,openstack/puppet-tripleo,stable/train,I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7,ovn_dbs override support,MERGED,2019-12-03 07:27:08.000000000,2019-12-05 02:28:31.000000000,2019-12-05 02:28:31.000000000,"[{'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 07:27:08.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/70385618140b47dd28cbf84cf9c496d8ccd3a77f', 'message': 'ovn_dbs override support\n\nThese hiera keys are needed to support the upgrade-with-os\nblueprint. This support was added for other services already\nsee LP#1832361\n\nRelated-Bug: #1854519\n\nTested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>\n\nChange-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7\n(cherry picked from commit 07c525c8d769842cb544f11fd7787bebef8e1254)\n'}]",0,697009,70385618140b47dd28cbf84cf9c496d8ccd3a77f,18,5,1,20172,,,0,"ovn_dbs override support

These hiera keys are needed to support the upgrade-with-os
blueprint. This support was added for other services already
see LP#1832361

Related-Bug: #1854519

Tested-by: Jose Luis Franco Arza <jfrancoa@redhat.com>

Change-Id: I7bff96c0b0238e4aeaa33e0ec343a75e08b6a2f7
(cherry picked from commit 07c525c8d769842cb544f11fd7787bebef8e1254)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/697009/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,70385618140b47dd28cbf84cf9c496d8ccd3a77f,," if (hiera('ovn_dbs_short_node_names_override', undef)) { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names_override') } else { $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names') }", $ovn_dbs_short_node_names = hiera('ovn_dbs_short_node_names'),5,1
openstack%2Ftripleo-quickstart-extras~master~Icd4553f7c236080ebc529079142110a0b2e0ac2d,openstack/tripleo-quickstart-extras,master,Icd4553f7c236080ebc529079142110a0b2e0ac2d,Add container-update role and containers prepare step for Undercloud upgrades.,MERGED,2019-11-21 12:52:45.000000000,2019-12-05 02:28:29.000000000,2019-12-05 02:28:29.000000000,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-21 12:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1a41639e05f01ac6dafa5be44b095cc7c376af53', 'message': 'Add the containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds the section which updates the containers-prepare-\nparameters.yaml file when upgrading to a containerized undercloud.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n'}, {'number': 2, 'created': '2019-11-21 14:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b139c1ae6167d2d8fe635d770a6e6e7821d4b7fc', 'message': 'Add the containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds the section which updates the containers-prepare-\nparameters.yaml file when upgrading to a containerized undercloud.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n'}, {'number': 3, 'created': '2019-11-25 11:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4e2c425b030d3f198ccea2dcde8a1701a509fa79', 'message': ""Add container-update role and containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds a new role named container-update which makes use\nof the parameters set in container-prep and substitute the relevant\nparameters inside containers-prepare-parameter.yaml file. The input\nfor the role is the file used to configure the ContainerImagePrepare\nenvironment variable (defaults to containers-prepare-parameter.yaml).\n\nAs part of the patch, it's been added a call to the newly added repo\ncontainer-update into multinode-undercloud-upgrade.yaml playbook to\nupdate all needed parameters in containers-prepare-parameter.yaml\nbefore the Undercloud's upgrade.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n""}, {'number': 4, 'created': '2019-11-25 11:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5fa5b9d1895f8a75929e1fc8c51ba8884362cb5e', 'message': ""Add container-update role and containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds a new role named container-update which makes use\nof the parameters set in container-prep and substitute the relevant\nparameters inside containers-prepare-parameter.yaml file. The input\nfor the role is the file used to configure the ContainerImagePrepare\nenvironment variable (defaults to containers-prepare-parameter.yaml).\n\nAs part of the patch, it's been added a call to the newly added repo\ncontainer-update into multinode-undercloud-upgrade.yaml playbook to\nupdate all needed parameters in containers-prepare-parameter.yaml\nbefore the Undercloud's upgrade.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n""}, {'number': 5, 'created': '2019-11-25 14:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be3a39f4c46cf1beac895fafdb9a1d85bd289a6a', 'message': ""Add container-update role and containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds a new role named container-update which makes use\nof the parameters set in container-prep and substitute the relevant\nparameters inside containers-prepare-parameter.yaml file. The input\nfor the role is the file used to configure the ContainerImagePrepare\nenvironment variable (defaults to containers-prepare-parameter.yaml).\n\nAs part of the patch, it's been added a call to the newly added repo\ncontainer-update into multinode-undercloud-upgrade.yaml playbook to\nupdate all needed parameters in containers-prepare-parameter.yaml\nbefore the Undercloud's upgrade.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n""}, {'number': 6, 'created': '2019-11-25 15:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4daf1c8d353f609f5da669bba4c9728fe94182cb', 'message': ""Add container-update role and containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds a new role named container-update which makes use\nof the parameters set in container-prep and substitute the relevant\nparameters inside containers-prepare-parameter.yaml file. The input\nfor the role is the file used to configure the ContainerImagePrepare\nenvironment variable (defaults to containers-prepare-parameter.yaml).\n\nAs part of the patch, it's been added a call to the newly added repo\ncontainer-update into multinode-undercloud-upgrade.yaml playbook to\nupdate all needed parameters in containers-prepare-parameter.yaml\nbefore the Undercloud's upgrade.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n""}, {'number': 7, 'created': '2019-11-25 20:39:26.000000000', 'files': ['roles/container-update/README.md', 'roles/container-update/defaults/main.yml', 'playbooks/multinode-undercloud-upgrade.yml', 'roles/container-update/meta/main.yml', 'roles/container-update/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3a47baff8db62b3a63426fe16ced5b86b312c25d', 'message': ""Add container-update role and containers prepare step for Undercloud upgrades.\n\nSince Rocky, the Undercloud is also containerized. The way to\ntell the undercloud which containers to use is by setting the\nright registry in containers-prepare-parameters.yaml file.\n\nThis patch adds a new role named container-update which makes use\nof the parameters set in container-prep and substitute the relevant\nparameters inside containers-prepare-parameter.yaml file. The input\nfor the role is the file used to configure the ContainerImagePrepare\nenvironment variable (defaults to containers-prepare-parameter.yaml).\n\nAs part of the patch, it's been added a call to the newly added repo\ncontainer-update into multinode-undercloud-upgrade.yaml playbook to\nupdate all needed parameters in containers-prepare-parameter.yaml\nbefore the Undercloud's upgrade.\n\nChange-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d\n""}]",5,695419,3a47baff8db62b3a63426fe16ced5b86b312c25d,45,12,7,26343,,,0,"Add container-update role and containers prepare step for Undercloud upgrades.

Since Rocky, the Undercloud is also containerized. The way to
tell the undercloud which containers to use is by setting the
right registry in containers-prepare-parameters.yaml file.

This patch adds a new role named container-update which makes use
of the parameters set in container-prep and substitute the relevant
parameters inside containers-prepare-parameter.yaml file. The input
for the role is the file used to configure the ContainerImagePrepare
environment variable (defaults to containers-prepare-parameter.yaml).

As part of the patch, it's been added a call to the newly added repo
container-update into multinode-undercloud-upgrade.yaml playbook to
update all needed parameters in containers-prepare-parameter.yaml
before the Undercloud's upgrade.

Change-Id: Icd4553f7c236080ebc529079142110a0b2e0ac2d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/695419/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-undercloud-upgrade.yml'],1,1a41639e05f01ac6dafa5be44b095cc7c376af53,,"- name: Prepare containers for Upgrade hosts: undercloud gather_facts: false tags: - overcloud-prep-containers roles: - role: overcloud-prep-containers # This need the new repo in place. update_containers: true # This enable us to run it even on non-containerized overcloud deployment # ie, ffu upgrade where deployment is on newton. containerized_overcloud: ""{{ prep_container_upgrade_run|default(false) }}"" # Do not overwrite the deployment log if any. overcloud_prep_containers_log: ""upgrade_undercloud_prep_containers.log"" overcloud_prep_containers_script: ""upgrade_undercloud_prep_containers.sh"" when: containerized_undercloud|default(false)|bool ",,17,0
openstack%2Ftripleo-quickstart-extras~master~I6a421646608e558e14c5769bffa16fa4edea6c11,openstack/tripleo-quickstart-extras,master,I6a421646608e558e14c5769bffa16fa4edea6c11,Add  job.repos to container update,MERGED,2019-12-03 16:58:58.000000000,2019-12-05 02:28:27.000000000,2019-12-05 02:28:27.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 16:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e6a972655ed62fee13df1696dd480ea097c57fbb', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 2, 'created': '2019-12-03 17:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/93659bae88c27efbdb689685f1872b36f4aa864e', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 3, 'created': '2019-12-03 18:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/435bcb6b087c06fea4618a3e0567ce0d6067945f', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 4, 'created': '2019-12-03 19:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23ea58f18df5a728737de9516bfa38a1d2c81094', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 5, 'created': '2019-12-03 19:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4bf65c9830b5fedaecf8ac3232ca33ddb18e3b9d', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 6, 'created': '2019-12-03 19:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce1695b377934b2ea2ae26e8f10c12f3fc8def23', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 7, 'created': '2019-12-03 20:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38a32a7248f6e9dca25200c36ef42352ed1b897a', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 8, 'created': '2019-12-03 22:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/11d94540b00cd24e41815db2cc762c99f345f688', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 9, 'created': '2019-12-03 22:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f2a2d81f29bb071d2638fa3b39384b0fed3bfa6', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 10, 'created': '2019-12-03 23:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c7c2929d956e3951ce29cbc9b16aba0c8499f0d', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 11, 'created': '2019-12-03 23:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2bc0ee181a03af4d1f912d2369fddcc9824b9b9', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 12, 'created': '2019-12-04 00:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9149357c8b21ab5bc497da0126d196a5d7819e2', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 13, 'created': '2019-12-04 08:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ab5993afdb2de6c22e5367ae9b4cf8bafa8b2d9', 'message': 'Add  job.repos to container update\n\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 14, 'created': '2019-12-04 13:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0490731232f39fcb67b25a93e8a0a332495680a7', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 15, 'created': '2019-12-04 14:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a99188b107a3eda16b003fbe160c481d01d0a7d', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 16, 'created': '2019-12-04 14:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/70fdade016485673288e174cc80acabd99b341d3', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 17, 'created': '2019-12-04 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/312386f1cea4fd10ae5b5f7c83f94138ef03279f', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 18, 'created': '2019-12-04 15:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e55c3548a74f99858cff0eb5c82a606400ffaf7', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 19, 'created': '2019-12-04 16:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc34459b1d9db7ea8fa92d825c131e58fba39cb5', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 20, 'created': '2019-12-04 16:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fc7a545637dd87ee263ade14bbf8e71269e92835', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 21, 'created': '2019-12-04 17:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab17af5c15e3bfd1e85c84cba01f9fdfcd2f2ab8', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}, {'number': 22, 'created': '2019-12-04 18:52:03.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d47f77f6dee9065e7e799673bf71d21efeca1a0', 'message': 'Add  job.repos to container update\n\nWhen add_repos is defined at the job level,\nadd the option to update containers with those repos.\nChange-Id: I6a421646608e558e14c5769bffa16fa4edea6c11\n'}]",5,697138,5d47f77f6dee9065e7e799673bf71d21efeca1a0,39,7,22,9976,,,0,"Add  job.repos to container update

When add_repos is defined at the job level,
add the option to update containers with those repos.
Change-Id: I6a421646608e558e14c5769bffa16fa4edea6c11
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/697138/22 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,e6a972655ed62fee13df1696dd480ea097c57fbb,add-component-repo,"- name: Set repos defined in the job to update when: - job.add_repos is defined - job.add_repos != [] - standalone_container_prep_updates block: - name: Create string of repos to update set_fact: add_repo_update_list: ""{{ add_repo_update_list|default('') }}{% if item.update_container|default(false)) %},{{item.reponame }}{% endif %}"" with_items: job.add_repos register: add_repo_update_list_result - name: Add repos to update_repo set_fact: update_repo: ""{{ update_repo }},{{ add_repo_update_list_result.results | map(attribute='ansible_facts.add_repo_update_list') }}"" cacheable: true - name: debug debug: var: update_repo ",,22,0
openstack%2Fpython-heatclient~master~Icd01b48e867537180443bbee821619db8bee1c20,openstack/python-heatclient,master,Icd01b48e867537180443bbee821619db8bee1c20,Fix author-email in setup.cfg,ABANDONED,2019-01-24 02:28:17.000000000,2019-12-05 02:28:14.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 02:28:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/cf9d9ee0e2a9d7eac1e5ac31467324b965981a86', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: Icd01b48e867537180443bbee821619db8bee1c20\n'}]",0,632864,cf9d9ee0e2a9d7eac1e5ac31467324b965981a86,6,4,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: Icd01b48e867537180443bbee821619db8bee1c20
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/64/632864/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cf9d9ee0e2a9d7eac1e5ac31467324b965981a86,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ftripleo-ansible~master~I154e6ffdeec86b13bc7e586154909c3ff41f8d58,openstack/tripleo-ansible,master,I154e6ffdeec86b13bc7e586154909c3ff41f8d58,Optionally add ctlplane vips,MERGED,2019-12-03 22:20:09.000000000,2019-12-05 02:27:42.000000000,2019-12-05 00:24:15.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 22:20:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0dba52d59390ee60ec387a434ef4789fc104a389', 'message': ""Optionally add ctlplane vips\n\nIf the OS::TripleO::Network::Ports::ControlPlaneVipPort is not\nconfigured, as done on an undercloud minion, the ctlplane_subnet_cidr is\nnever configured. We shouldn't assume it's available so let's check that\nit exists first.\n\nChange-Id: I154e6ffdeec86b13bc7e586154909c3ff41f8d58\nCloses-Bug: #1837644\n""}]",0,697191,0dba52d59390ee60ec387a434ef4789fc104a389,11,5,1,14985,,,0,"Optionally add ctlplane vips

If the OS::TripleO::Network::Ports::ControlPlaneVipPort is not
configured, as done on an undercloud minion, the ctlplane_subnet_cidr is
never configured. We shouldn't assume it's available so let's check that
it exists first.

Change-Id: I154e6ffdeec86b13bc7e586154909c3ff41f8d58
Closes-Bug: #1837644
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/697191/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/net_ip_map.j2'],1,0dba52d59390ee60ec387a434ef4789fc104a389,bug/1837644,"{% if ctlplane_ip is defined %}{% if ctlplane_subnet is defined %} {% set _ = net_ip_map.__setitem__('ctlplane_subnet', ctlplane_ip ~ '/' ~ ctlplane_subnet_cidr) %} {% endif %} {% endif %}","{% set _ = net_ip_map.__setitem__('ctlplane_subnet', ctlplane_ip ~ '/' ~ ctlplane_subnet_cidr) %}",5,1
openstack%2Fpython-heatclient~master~Idaf618686a7430ec159addacef06ccaa4e9b69b9,openstack/python-heatclient,master,Idaf618686a7430ec159addacef06ccaa4e9b69b9,Add Python 3.6 classifier to setup.cfg,ABANDONED,2018-11-29 09:34:52.000000000,2019-12-05 02:26:04.000000000,,"[{'_account_id': 4257}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-29 09:34:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/052e7e3ce2d29d7ae0207e767f4d682e61d00e40', 'message': 'Add Python 3.6 classifier to setup.cfg\n\nChange-Id: Idaf618686a7430ec159addacef06ccaa4e9b69b9\n'}]",0,620847,052e7e3ce2d29d7ae0207e767f4d682e61d00e40,8,6,1,17499,,,0,"Add Python 3.6 classifier to setup.cfg

Change-Id: Idaf618686a7430ec159addacef06ccaa4e9b69b9
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/47/620847/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,052e7e3ce2d29d7ae0207e767f4d682e61d00e40,, Programming Language :: Python :: 3.6,,1,0
openstack%2Fpython-heatclient~master~I0faa4dd8a2ce8258f5eb24315ef8f6117c5fd262,openstack/python-heatclient,master,I0faa4dd8a2ce8258f5eb24315ef8f6117c5fd262,add python 3.6 unit test job,ABANDONED,2018-11-28 06:59:16.000000000,2019-12-05 02:24:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-28 06:59:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/10f06f3b2a1d0a7f8c33c87ec220ade8a64e4eee', 'message': 'add python 3.6 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.6 as part of the python3-first goal.\n\nSee the python3-first goal document for details:\nhttps://governance.openstack.org/tc/goals/stein/python3-first.html\n\nChange-Id: I0faa4dd8a2ce8258f5eb24315ef8f6117c5fd262\nStory: #2002586\n'}]",0,620487,10f06f3b2a1d0a7f8c33c87ec220ade8a64e4eee,5,3,1,28543,,,0,"add python 3.6 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.6 as part of the python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I0faa4dd8a2ce8258f5eb24315ef8f6117c5fd262
Story: #2002586
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/87/620487/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,10f06f3b2a1d0a7f8c33c87ec220ade8a64e4eee,,"envlist = pypy,py36,py35,py27,pep8","envlist = pypy,py35,py27,pep8",1,1
openstack%2Ftempest~master~I0c71e64cd9672f63019278f970dceace911d26b1,openstack/tempest,master,I0c71e64cd9672f63019278f970dceace911d26b1,add test about images tag,ABANDONED,2019-12-04 02:18:42.000000000,2019-12-05 02:22:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-12-04 02:18:42.000000000', 'files': ['tempest/api/image/v2/test_images_tags_list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb42148b7ab06da99aa801f6c7bcaeb4986c7854', 'message': 'add test about images tag\n\nChange-Id: I0c71e64cd9672f63019278f970dceace911d26b1\n'}]",3,697218,bb42148b7ab06da99aa801f6c7bcaeb4986c7854,4,2,1,31280,,,0,"add test about images tag

Change-Id: I0c71e64cd9672f63019278f970dceace911d26b1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/697218/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_tags_list.py'],1,bb42148b7ab06da99aa801f6c7bcaeb4986c7854,fix,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.image import base from tempest.lib.common.utils import data_utils from tempest.lib import decorators class ImagesTagsListTest(base.BaseV2ImageTest): # @decorators.idempotent_id('10407036-6059-4f95-a2cd-cbbbee7ed329') def test_update_tags_for_image_list(self): image = self.create_image(container_format='bare', disk_format='raw', visibility='private') tag = data_utils.rand_name('tag') self.addCleanup(self.client.delete_image, image['id']) # Creating image tag and verify it. self.client.add_image_tag(image['id'], tag) params = {'name': image['name']} body = self.client.list_images(**params)['images'] self.assertIn(tag, body['tags']) ",,35,0
openstack%2Fironic-inspector~stable%2Ftrain~Ifd870a8465b6643578299dc86e2eae023db6ae43,openstack/ironic-inspector,stable/train,Ifd870a8465b6643578299dc86e2eae023db6ae43,Do not update/delete ports upon inspection of active nodes,MERGED,2019-12-04 13:42:39.000000000,2019-12-05 02:19:48.000000000,2019-12-05 02:18:16.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30107}]","[{'number': 1, 'created': '2019-12-04 13:42:39.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/short_circuit_port_update_for_manual_inspection-5dc296df9d409c69.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4e8312c047a0b45f585ed3261457804d1f797174', 'message': 'Do not update/delete ports upon inspection of active nodes\n\nShort-circuit the port update logic for active nodes to allow only\nfor the addition of new ports.\n\nStory: #2006956\nTask: #37645\n\nChange-Id: Ifd870a8465b6643578299dc86e2eae023db6ae43\n(cherry picked from commit 78dbcf603a623de16b3614187cd2c6687d2b9225)\n'}]",0,697287,4e8312c047a0b45f585ed3261457804d1f797174,11,5,1,10239,,,0,"Do not update/delete ports upon inspection of active nodes

Short-circuit the port update logic for active nodes to allow only
for the addition of new ports.

Story: #2006956
Task: #37645

Change-Id: Ifd870a8465b6643578299dc86e2eae023db6ae43
(cherry picked from commit 78dbcf603a623de16b3614187cd2c6687d2b9225)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/87/697287/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/short_circuit_port_update_for_manual_inspection-5dc296df9d409c69.yaml']",3,4e8312c047a0b45f585ed3261457804d1f797174,story_2006956-stable/train,"--- fixes: - | Fixes an issue happening during manual inspection of active nodes where the code attempts to delete or update ports, while the only modification allowed for active nodes is updating the MAC address if the node is in maintenance. ",,33,0
openstack%2Fironic-inspector~master~I5a450da256057ac1a997c08f7c3b580feb490377,openstack/ironic-inspector,master,I5a450da256057ac1a997c08f7c3b580feb490377,Update docs on aarch64 PXE,MERGED,2019-12-04 02:49:20.000000000,2019-12-05 02:19:31.000000000,2019-12-05 02:18:20.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-04 02:49:20.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b22c3347d316909df2499f7794e9c14a471a7ad3', 'message': 'Update docs on aarch64 PXE\n\nAdds a subsection to note PXE configuration for aarch64 machines.\n\nChange-Id: I5a450da256057ac1a997c08f7c3b580feb490377\n'}]",1,697221,b22c3347d316909df2499f7794e9c14a471a7ad3,8,3,1,24828,,,0,"Update docs on aarch64 PXE

Adds a subsection to note PXE configuration for aarch64 machines.

Change-Id: I5a450da256057ac1a997c08f7c3b580feb490377
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/21/697221/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,b22c3347d316909df2499f7794e9c14a471a7ad3,aarch64,"Configuring PXE for aarch64 ~~~~~~~~~~~~~~~~~~~~~~~~~~~ For aarch64 Bare Metals, the PXE boot environment is basically the same as x86_64, you'll need: * TFTP server running and accessible (see below for using *dnsmasq*). Ensure ``grubaa64.efi`` is present in the TFTP root. The firmware can be retrieved from the installation distributions for aarch64. * Copy ``ironic-agent.kernel`` and ``ironic-agent.initramfs`` to the TFTP root as well. Note that the ramdisk needs to be pre-built on an aarch64 machine with tools like ``ironic-python-agent-builder``, see https://docs.openstack.org/ironic-python-agent-builder/latest/admin/dib.html for how to build ramdisk for aarch64. * Next, setup ``$TFTPROOT/EFI/BOOT/grub.cfg`` as follows:: set default=""1"" set timeout=5 menuentry 'Introspection for aarch64' { linux ironic-agent.kernel text showopts selinux=0 ipa-inspection-callback-url=http://{IP}:5050/v1/continue ipa-inspection-collectors=default ipa-collect-lldp=1 systemd.journald.forward_to_console=no initrd ironic-agent.initramfs } Replace ``{IP}`` with IP of the machine (do not use loopback interface, it will be accessed by ramdisk on a booting machine). * Update DHCP options for aarch64, here is an example *dnsmasq.conf*:: port=0 interface={INTERFACE} bind-interfaces dhcp-range={DHCP IP RANGE, e.g. 192.168.0.50,192.168.0.150} enable-tftp dhcp-match=aarch64, option:client-arch, 11 # aarch64 dhcp-boot=tag:aarch64, grubaa64.efi tftp-root={TFTP ROOT, e.g. /tftpboot} dhcp-sequential-ip ",,42,0
openstack%2Fneutron~master~Iad119108ea82b47ac2a66b9f6f8a8bb56b57e7b6,openstack/neutron,master,Iad119108ea82b47ac2a66b9f6f8a8bb56b57e7b6,Update comments messages in abandon_old_reviews script,MERGED,2019-12-04 09:40:24.000000000,2019-12-05 02:10:39.000000000,2019-12-05 02:09:02.000000000,"[{'_account_id': 1131}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-04 09:40:24.000000000', 'files': ['tools/abandon_old_reviews.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/10bb7ecbb66444bbd1b2535ad3bd5602437ed2af', 'message': 'Update comments messages in abandon_old_reviews script\n\nIn comments given automatically by abandon_old_reviews.sh script\nthere was still Jenkins mentioned as CI tool.\nWe are using Zuul for very long time and ""zuul"" user is voting\nnow instead of ""jenkins"" so this patch updates those commit\nmessages to make this messages correct.\n\nTrivialFix\n\nChange-Id: Iad119108ea82b47ac2a66b9f6f8a8bb56b57e7b6\n'}]",0,697245,10bb7ecbb66444bbd1b2535ad3bd5602437ed2af,11,6,1,11975,,,0,"Update comments messages in abandon_old_reviews script

In comments given automatically by abandon_old_reviews.sh script
there was still Jenkins mentioned as CI tool.
We are using Zuul for very long time and ""zuul"" user is voting
now instead of ""jenkins"" so this patch updates those commit
messages to make this messages correct.

TrivialFix

Change-Id: Iad119108ea82b47ac2a66b9f6f8a8bb56b57e7b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/697245/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/abandon_old_reviews.sh'],1,10bb7ecbb66444bbd1b2535ad3bd5602437ed2af,,"# then purge all the reviews that are > 4w with no changes and Zuul has -1edThis review is > 4 weeks without comment, and failed Zuul jobs the last","# then purge all the reviews that are > 4w with no changes and Jenkins has -1edThis review is > 4 weeks without comment, and failed Jenkins the last",2,2
openstack%2Fironic-inspector~stable%2Ftrain~I1378a1a4d2a35ba8f182138877b5151f25d4c56d,openstack/ironic-inspector,stable/train,I1378a1a4d2a35ba8f182138877b5151f25d4c56d,Get details when listing ports upon inspection of active nodes,MERGED,2019-12-04 13:42:14.000000000,2019-12-05 02:10:38.000000000,2019-12-05 02:09:10.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-04 13:42:14.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/fix_node_uuid_for_manual_inspection-2fa3f11343cab417.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f8521efe8e749e73dd35de7ff9109e75bcbdd829', 'message': 'Get details when listing ports upon inspection of active nodes\n\nAdd detail=True to make sure the inspector gets the node_uuid\nfrom the port list when inspecting active nodes,\n\nChange-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d\nStory: #2006950\n(cherry picked from commit dc606b71320dcd96aff96cd6564387dac6d39d2c)\n'}]",0,697286,f8521efe8e749e73dd35de7ff9109e75bcbdd829,11,5,1,10239,,,0,"Get details when listing ports upon inspection of active nodes

Add detail=True to make sure the inspector gets the node_uuid
from the port list when inspecting active nodes,

Change-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d
Story: #2006950
(cherry picked from commit dc606b71320dcd96aff96cd6564387dac6d39d2c)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/86/697286/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/fix_node_uuid_for_manual_inspection-2fa3f11343cab417.yaml', 'ironic_inspector/common/ironic.py']",3,f8521efe8e749e73dd35de7ff9109e75bcbdd829,story_2006950-stable/train," ports = ironic.port.list(address=mac, fields=[""uuid"", ""node_uuid""])", ports = ironic.port.list(address=mac),15,5
openstack%2Fdevstack~master~I34e9f94548c575e1af5bca9655a3b7d1915375a8,openstack/devstack,master,I34e9f94548c575e1af5bca9655a3b7d1915375a8,stackrc: Make REQUIREMENTS_DIR configurable,MERGED,2019-11-06 12:20:07.000000000,2019-12-05 02:10:07.000000000,2019-12-05 02:09:00.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 7118}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-11-06 12:20:07.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6c15c38f1a9e8e833a29637598f373d7ea29bc62', 'message': 'stackrc: Make REQUIREMENTS_DIR configurable\n\nIn cases where global REQUIREMENTS_DIR is set, use it\ninstead of overwriting it. This is particularly needed\nin cases where users of pip_install wrapper have the\nupper-constraints.txt at another location.\n\nChange-Id: I34e9f94548c575e1af5bca9655a3b7d1915375a8\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",0,693164,6c15c38f1a9e8e833a29637598f373d7ea29bc62,26,9,1,11952,,,0,"stackrc: Make REQUIREMENTS_DIR configurable

In cases where global REQUIREMENTS_DIR is set, use it
instead of overwriting it. This is particularly needed
in cases where users of pip_install wrapper have the
upper-constraints.txt at another location.

Change-Id: I34e9f94548c575e1af5bca9655a3b7d1915375a8
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/693164/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,6c15c38f1a9e8e833a29637598f373d7ea29bc62,,REQUIREMENTS_DIR=${REQUIREMENTS_DIR:-$DEST/requirements},REQUIREMENTS_DIR=$DEST/requirements,1,1
openstack%2Foctavia~stable%2Fqueens~I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,openstack/octavia,stable/queens,I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d,Fix issues with unavailable secrets,MERGED,2019-10-28 21:28:59.000000000,2019-12-05 00:52:03.000000000,2019-12-05 00:50:46.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 21:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2111d3565cdd7cceb0ad9ab53cc667a83f1415ea', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client. This patch improves\nthe error message returned to the user.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\n(cherry picked from commit f68460ddd31f9b09d59fff876f103324078473a6)\n'}, {'number': 2, 'created': '2019-10-29 16:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac4978f59025d651da28d6e8a77587f000eec952', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client. This patch improves\nthe error message returned to the user.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\n(cherry picked from commit f68460ddd31f9b09d59fff876f103324078473a6)\n'}, {'number': 3, 'created': '2019-11-06 21:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a6950ed58eedfbc28a846dee2f298adc5f9a3f8', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client. This patch improves\nthe error message returned to the user.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\n(cherry picked from commit f68460ddd31f9b09d59fff876f103324078473a6)\n'}, {'number': 4, 'created': '2019-12-04 20:24:50.000000000', 'files': ['octavia/common/tls_utils/cert_parser.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e7bd65eccf667965ab88bd1112f640c3b691c1db', 'message': 'Fix issues with unavailable secrets\n\nPreviously, if a secret became unavailable in barbican, the user saw\na generic error raised from the barbican client. This patch improves\nthe error message returned to the user.\n\nChange-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d\nStory: 2006676\nTask: 37012\n(cherry picked from commit f68460ddd31f9b09d59fff876f103324078473a6)\n'}]",0,691757,e7bd65eccf667965ab88bd1112f640c3b691c1db,17,4,4,11628,,,0,"Fix issues with unavailable secrets

Previously, if a secret became unavailable in barbican, the user saw
a generic error raised from the barbican client. This patch improves
the error message returned to the user.

Change-Id: I97bd1b2a97a44d0a0566ae56167fa4f2e503ee2d
Story: 2006676
Task: 37012
(cherry picked from commit f68460ddd31f9b09d59fff876f103324078473a6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/691757/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/tls_utils/cert_parser.py', 'octavia/tests/unit/common/tls_utils/test_cert_parser.py']",2,2111d3565cdd7cceb0ad9ab53cc667a83f1415ea,," def test_load_certificate_data_with_error(self): mock_cert_mngr = mock.MagicMock() mock_cert_mngr.get_cert.side_effect = [Exception] self.assertRaises(exceptions.CertificateRetrievalException, cert_parser.load_certificate_data, mock_cert_mngr, 'fake_ref', 'fake_context') ",,16,3
openstack%2Fpython-neutronclient~master~I59807606d4865cb2f4d9c6a912f659ea45b3fba8,openstack/python-neutronclient,master,I59807606d4865cb2f4d9c6a912f659ea45b3fba8,Switch to Ussuri jobs,MERGED,2019-10-22 09:05:59.000000000,2019-12-05 00:48:10.000000000,2019-12-05 00:45:16.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-22 09:05:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/40996e50ea5fbfbaca628cd81a34dd7db694578d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I59807606d4865cb2f4d9c6a912f659ea45b3fba8\n'}]",0,690014,40996e50ea5fbfbaca628cd81a34dd7db694578d,14,6,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I59807606d4865cb2f4d9c6a912f659ea45b3fba8
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/14/690014/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,40996e50ea5fbfbaca628cd81a34dd7db694578d,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fneutron-vpnaas~master~I44aff0ed06cf1faf75e99f83157f1cc2f0d32800,openstack/neutron-vpnaas,master,I44aff0ed06cf1faf75e99f83157f1cc2f0d32800,CI test,ABANDONED,2019-11-13 03:44:32.000000000,2019-12-05 00:42:12.000000000,,"[{'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-13 03:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6461b7e86f98491c6c10f6b6e1c4270d17c2a0eb', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 2, 'created': '2019-11-20 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/71a823c3b5fb6a32015c179a61c18d384ccc8430', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 3, 'created': '2019-11-20 10:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/78b433fc709111ae28b4d2a10e4fd1717a7c2b03', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 4, 'created': '2019-11-21 10:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/04557ca5b74941a6d79334662ee5994389d898e5', 'message': 'CI test\n\nDepends-On: https://review.opendev.org/#/c/695389/\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 5, 'created': '2019-11-23 14:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f72c59dc62ac50026c4ebc7b1cb21a68786b2de5', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 6, 'created': '2019-11-24 01:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4d5a1039af694f65797b4337aaa40e69fe8c2e55', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}, {'number': 7, 'created': '2019-11-24 13:05:01.000000000', 'files': ['neutron_vpnaas/tests/tempest/scenario/test_vpnaas.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/819258993d70d8859b163074c4d4dd725b2e2cdf', 'message': 'CI test\n\nChange-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800\n'}]",0,693965,819258993d70d8859b163074c4d4dd725b2e2cdf,25,3,7,12860,,,0,"CI test

Change-Id: I44aff0ed06cf1faf75e99f83157f1cc2f0d32800
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/65/693965/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6461b7e86f98491c6c10f6b6e1c4270d17c2a0eb,ci,# TEST,,1,0
openstack%2Fnova~master~I149bd481cdd4fd4f2fa1e47339a83ea14e287a37,openstack/nova,master,I149bd481cdd4fd4f2fa1e47339a83ea14e287a37,zvm: Remove vestigial nova-network support,MERGED,2019-11-28 11:02:05.000000000,2019-12-05 00:34:04.000000000,2019-12-05 00:30:00.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/779835dfb19c091598e5ad3524314a17c6446609', 'message': 'zvm: Remove vestigial nova-network support\n\nOnly one reference to worry about here. I imagine nova-network never\nworked with this driver.\n\nChange-Id: I149bd481cdd4fd4f2fa1e47339a83ea14e287a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb3af39c1840e094f4f0cab8b821a28e5c2dc128', 'message': 'zvm: Remove vestigial nova-network support\n\nOnly one reference to worry about here. I imagine nova-network never\nworked with this driver.\n\nChange-Id: I149bd481cdd4fd4f2fa1e47339a83ea14e287a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d52110d658d4b421c852cd9f1649ca3b1d4301f3', 'message': 'zvm: Remove vestigial nova-network support\n\nOnly one reference to worry about here. I imagine nova-network never\nworked with this driver.\n\nChange-Id: I149bd481cdd4fd4f2fa1e47339a83ea14e287a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/virt/zvm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/846fc0a0b72e8f3ba25741cdff49591e6f2c3e01', 'message': 'zvm: Remove vestigial nova-network support\n\nOnly one reference to worry about here. I imagine nova-network never\nworked with this driver.\n\nChange-Id: I149bd481cdd4fd4f2fa1e47339a83ea14e287a37\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,696504,846fc0a0b72e8f3ba25741cdff49591e6f2c3e01,37,12,4,15334,,,0,"zvm: Remove vestigial nova-network support

Only one reference to worry about here. I imagine nova-network never
worked with this driver.

Change-Id: I149bd481cdd4fd4f2fa1e47339a83ea14e287a37
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/696504/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/zvm/driver.py'],1,779835dfb19c091598e5ad3524314a17c6446609,bp/remove-nova-network-ussuri, if CONF.vif_plugging_timeout: return [],from nova import utils if utils.is_neutron() and CONF.vif_plugging_timeout: else: return [],3,4
openstack%2Fnova~master~I21e1cd412d5caae22ebc4de31f09e3817c8a710a,openstack/nova,master,I21e1cd412d5caae22ebc4de31f09e3817c8a710a,vmware: Remove vestigial nova-network support,MERGED,2019-11-28 11:02:05.000000000,2019-12-05 00:16:16.000000000,2019-12-05 00:11:47.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-28 11:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49d871d64a46eb03128619ad8012fa1d0d80d535', 'message': 'vmware: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the VMWare driver,\nsimplifying some of the code in the process.\n\nChange-Id: I21e1cd412d5caae22ebc4de31f09e3817c8a710a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fe55560bc69d05180023f1fd68f09a6aa5b7ebd', 'message': 'vmware: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the VMWare driver,\nsimplifying some of the code in the process.\n\nChange-Id: I21e1cd412d5caae22ebc4de31f09e3817c8a710a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-11-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd88b3e890a54c565a3509cff26b3e1e3db969de', 'message': 'vmware: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the VMWare driver,\nsimplifying some of the code in the process.\n\nChange-Id: I21e1cd412d5caae22ebc4de31f09e3817c8a710a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-11-29 17:20:33.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/virt/vmwareapi/vmops.py', 'nova/exception.py', 'nova/virt/vmwareapi/vif.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'releasenotes/notes/remove-nova-network-c02953ba72a1795d.yaml', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/conf/vmware.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f3cc31183b169d427eb26cfb483ba5195863f167', 'message': 'vmware: Remove vestigial nova-network support\n\nRemove the last few references to nova-net from the VMWare driver,\nsimplifying some of the code in the process.\n\nChange-Id: I21e1cd412d5caae22ebc4de31f09e3817c8a710a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",5,696503,f3cc31183b169d427eb26cfb483ba5195863f167,40,13,4,15334,,,0,"vmware: Remove vestigial nova-network support

Remove the last few references to nova-net from the VMWare driver,
simplifying some of the code in the process.

Change-Id: I21e1cd412d5caae22ebc4de31f09e3817c8a710a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/696503/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/exception.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vif.py', 'releasenotes/notes/remove-nova-network-c02953ba72a1795d.yaml', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/virt/vmwareapi/network_util.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/conf/vmware.py', 'nova/virt/vmwareapi/vm_util.py']",10,49d871d64a46eb03128619ad8012fa1d0d80d535,bp/remove-nova-network-ussuri,,"def get_add_vswitch_port_group_spec(client_factory, vswitch_name, port_group_name, vlan_id): """"""Builds the virtual switch port group add spec."""""" vswitch_port_group_spec = client_factory.create('ns0:HostPortGroupSpec') vswitch_port_group_spec.name = port_group_name vswitch_port_group_spec.vswitchName = vswitch_name # VLAN ID of 0 means that VLAN tagging is not to be done for the network. vswitch_port_group_spec.vlanId = int(vlan_id) policy = client_factory.create('ns0:HostNetworkPolicy') nicteaming = client_factory.create('ns0:HostNicTeamingPolicy') nicteaming.notifySwitches = True policy.nicTeaming = nicteaming vswitch_port_group_spec.policy = policy return vswitch_port_group_spec ",20,462
openstack%2Foslo.limit~master~Ia5ced4a46833b194f397ac936b99b0c9573b50d1,openstack/oslo.limit,master,Ia5ced4a46833b194f397ac936b99b0c9573b50d1,Fetch unified limits from keystone,MERGED,2019-11-22 16:59:18.000000000,2019-12-04 23:46:55.000000000,2019-12-04 23:45:44.000000000,"[{'_account_id': 782}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-22 16:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/b07d36cd721dfaf35a8e10209c975e77b45da5cf', 'message': 'Fetch limits from keystone\n\nLogic extracted for exiting patches to fetch limit information from\nkeystone.\n\nChange-Id: Ia5ced4a46833b194f397ac936b99b0c9573b50d1\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n'}, {'number': 2, 'created': '2019-11-25 10:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/69da5756ea8b3ba1bafa3a66e3678ec3da1e7b41', 'message': 'Fetch limits from keystone\n\nLogic extracted for exiting patches to fetch limit information from\nkeystone.\n\nChange-Id: Ia5ced4a46833b194f397ac936b99b0c9573b50d1\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n'}, {'number': 3, 'created': '2019-11-25 18:31:07.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a044cd9d70bc723cd3b3a46a7aaca82f9a0c4ed9', 'message': 'Fetch unified limits from keystone\n\nFor a given resource find out the current limits for the project.\nIf there are no per project limits look up the registered limits\nthat act as a default for when there are no project limits.\n\nFuture patches will look at comparing these limits with the current and\nproposed resource usage to enforce the limits.\n\nChange-Id: Ia5ced4a46833b194f397ac936b99b0c9573b50d1\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n'}]",16,695724,a044cd9d70bc723cd3b3a46a7aaca82f9a0c4ed9,28,5,3,782,,,0,"Fetch unified limits from keystone

For a given resource find out the current limits for the project.
If there are no per project limits look up the registered limits
that act as a default for when there are no project limits.

Future patches will look at comparing these limits with the current and
proposed resource usage to enforce the limits.

Change-Id: Ia5ced4a46833b194f397ac936b99b0c9573b50d1
Co-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>
Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/24/695724/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/exception.py', 'oslo_limit/limit.py']",3,b07d36cd721dfaf35a8e10209c975e77b45da5cf,," class _EnforcerUtils(object): """"""Logic common used by multiple enforcers"""""" def __init__(self, keystone_connection): self.connection = keystone_connection # get and cache endpoint info endpoint_id = CONF.oslo_limit.endpoint_id self._endpoint = self.connection.get_endpoint(endpoint_id) if not self._endpoint: raise ValueError(""can't find endpoint for %s"" % endpoint_id) self._service_id = self._endpoint.service_id self._region_id = self._endpoint.region_id def get_project_limits(self, project_id, resource_names): """"""Get all the limits for given project a resource_name list We will raise :param project_id: :param resource_names: list of resource_name strings :return: list of (resource_name,limit) pairs :raises exception.LimitNotFound if no limit is found """""" # Using a list to preserver the resource_name order project_limits = [] for resource_name in resource_names: limit = self._get_limit(project_id, resource_name) project_limits.append((resource_name, limit)) return project_limits def _get_limit(self, project_id, resource_name): # TODO(johngarbutt): might need to cache here project_limit = self._get_project_limit(project_id, resource_name) if project_limit: return project_limit.resource_limit registered_limit = self._get_registered_limit(resource_name) if registered_limit: return registered_limit.default_limit raise exception.LimitNotFound( resource_name, self._service_id, self._region_id) def _get_project_limit(self, project_id, resource_name): limit = self.connection.limits( service_id=self._service_id, region_id=self._region_id, resource_name=resource_name, project_id=project_id) try: return next(limit) except StopIteration: return None def _get_registered_limit(self, resource_name): reg_limit = self.connection.registered_limits( service_id=self._service_id, region_id=self._region_id, resource_name=resource_name) try: return next(reg_limit) except StopIteration: return None",,145,0
openstack%2Fheat~master~If34ed713ff09c5bb8c72f97cb7b08e653cd3edd2,openstack/heat,master,If34ed713ff09c5bb8c72f97cb7b08e653cd3edd2,Migrate grenade jobs to py3,MERGED,2019-11-19 21:47:23.000000000,2019-12-04 23:45:59.000000000,2019-12-04 23:43:49.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-11-19 21:47:23.000000000', 'files': ['playbooks/devstack/grenade/run.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/057553b2e709ffefffda51e367bc4423268fc186', 'message': 'Migrate grenade jobs to py3\n\nAs part of community goal of dropping py27 support[1], we are\nmoving the devstack to py3 by default[2]. That will make grenade job\nto perform upgrade from py2 to py3 which will not work (we have seen\nthe failure in neutron-grenade job).\n\nTo avoid existing grenade py2 job break, this commit moves grenade\njobs to py3 which is what we planned as part dropping the py2 support.\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[2] https://review.opendev.org/#/c/649097/12\n    http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010938.html\n\nChange-Id: If34ed713ff09c5bb8c72f97cb7b08e653cd3edd2\n'}]",0,695088,057553b2e709ffefffda51e367bc4423268fc186,40,6,1,8556,,,0,"Migrate grenade jobs to py3

As part of community goal of dropping py27 support[1], we are
moving the devstack to py3 by default[2]. That will make grenade job
to perform upgrade from py2 to py3 which will not work (we have seen
the failure in neutron-grenade job).

To avoid existing grenade py2 job break, this commit moves grenade
jobs to py3 which is what we planned as part dropping the py2 support.

[1] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[2] https://review.opendev.org/#/c/649097/12
    http://lists.openstack.org/pipermail/openstack-discuss/2019-November/010938.html

Change-Id: If34ed713ff09c5bb8c72f97cb7b08e653cd3edd2
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/695088/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/grenade/run.yaml'],1,057553b2e709ffefffda51e367bc4423268fc186,drop-py27-support-devstack-default-py3, export DEVSTACK_GATE_USE_PYTHON3=True,,1,0
openstack%2Fswift~master~Ifb15ce50fc3bcfda9532a2c3dec542c272ea4933,openstack/swift,master,Ifb15ce50fc3bcfda9532a2c3dec542c272ea4933,py3: Fix s3api header casing,MERGED,2019-11-19 17:57:56.000000000,2019-12-04 23:10:45.000000000,2019-11-21 21:56:25.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-19 17:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd5300d3fa978ea9b00667b98b5c8dac0d5b1313', 'message': 'py3: Fix s3api header casing\n\nChange-Id: Ifb15ce50fc3bcfda9532a2c3dec542c272ea4933\n'}, {'number': 2, 'created': '2019-11-20 20:15:16.000000000', 'files': ['swift/common/middleware/s3api/s3response.py', 'test/unit/common/middleware/s3api/test_s3response.py', 'swift/common/header_key_dict.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b5c9dc1c9f68afe8083b74eaf8080e17a9ef8f8b', 'message': 'py3: Fix s3api header casing\n\nCloses-Bug: #1853367\n\nChange-Id: Ifb15ce50fc3bcfda9532a2c3dec542c272ea4933\n'}]",0,695053,b5c9dc1c9f68afe8083b74eaf8080e17a9ef8f8b,17,3,2,15343,,,0,"py3: Fix s3api header casing

Closes-Bug: #1853367

Change-Id: Ifb15ce50fc3bcfda9532a2c3dec542c272ea4933
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/695053/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3response.py'],1,fd5300d3fa978ea9b00667b98b5c8dac0d5b1313,695053,"import six if not six.PY2: def encode(self, encoding, errors='strict'): return HeaderKeyBytes(str.encode(self, encoding, errors)) class HeaderKeyBytes(bytes): """""" Like HeaderKey, but for py3 and bytes. """""" def title(self): if self.lower() == b'etag': # AWS Java SDK expects only 'ETag'. return b'ETag' if self.lower().startswith(b'x-amz-'): # AWS headers returned by S3 are lowercase. return self.lower() return bytes.title(self) ",,20,0
openstack%2Foslo.privsep~stable%2Fstein~I8096fc7fd014e6dd299fae8ab073336c7cae362a,openstack/oslo.privsep,stable/stein,I8096fc7fd014e6dd299fae8ab073336c7cae362a,Self-resetting PrivContext,MERGED,2019-09-05 20:18:24.000000000,2019-12-04 22:55:54.000000000,2019-12-04 22:54:37.000000000,"[{'_account_id': 4523}, {'_account_id': 8770}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-05 20:18:24.000000000', 'files': ['oslo_privsep/priv_context.py', 'oslo_privsep/comm.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/9e09a179305b77ea1985c7d2944c91266a97e10e', 'message': ""Self-resetting PrivContext\n\nWhen nova-compute, an oslo.service, receives SIGHUP, running PrivContext\nclients terminate, resulting in the shutdown of their corresponding\nClientChannel threads. Subsequent attempts to execute privileged methods\nfail with EPIPE as a result.\n\nThe PrivContext._wrap'per (the meat of the entrypoint decorator) already\nhad a check to lazily start() the ClientChannel if that hasn't already\nhappened.\n\nThis commit makes ClientChannel store state indicating whether it's\nstill running; and adds logic to PrivContext._wrap to check that state\nand reset (stop() and re-start()) the ClientChannel if it was previously\ncreated but terminated.\n\nChange-Id: I8096fc7fd014e6dd299fae8ab073336c7cae362a\nCloses-Bug: #1715374\n(cherry picked from commit e896ed39c4b2d8492bb91283d99c6446bacc657c)\n""}]",0,680506,9e09a179305b77ea1985c7d2944c91266a97e10e,9,5,1,6928,,,0,"Self-resetting PrivContext

When nova-compute, an oslo.service, receives SIGHUP, running PrivContext
clients terminate, resulting in the shutdown of their corresponding
ClientChannel threads. Subsequent attempts to execute privileged methods
fail with EPIPE as a result.

The PrivContext._wrap'per (the meat of the entrypoint decorator) already
had a check to lazily start() the ClientChannel if that hasn't already
happened.

This commit makes ClientChannel store state indicating whether it's
still running; and adds logic to PrivContext._wrap to check that state
and reset (stop() and re-start()) the ClientChannel if it was previously
created but terminated.

Change-Id: I8096fc7fd014e6dd299fae8ab073336c7cae362a
Closes-Bug: #1715374
(cherry picked from commit e896ed39c4b2d8492bb91283d99c6446bacc657c)
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/06/680506/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/priv_context.py', 'oslo_privsep/comm.py']",2,9e09a179305b77ea1985c7d2944c91266a97e10e,bug/1715374-stable/stein, self.running = False with self.lock: self.running = True self.running = False,,7,0
openstack%2Foslo.rootwrap~master~Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81,openstack/oslo.rootwrap,master,Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81,reap rootwrap daemon process when it is timeout,MERGED,2019-10-28 13:29:16.000000000,2019-12-04 22:39:24.000000000,2019-12-04 22:38:11.000000000,"[{'_account_id': 7488}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-28 13:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/1d10653b5ec16d565809980b6e3d0a4bd7dbbf58', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}, {'number': 2, 'created': '2019-10-29 01:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/0742061658e7655b0eefc7fd862371f649925bbd', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}, {'number': 3, 'created': '2019-10-30 01:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/26c35233e68b9eb5122d0415501125ace77a5e0d', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}, {'number': 4, 'created': '2019-10-30 03:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/e961af337690c449d87c3976ac1a501242b318d5', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}, {'number': 5, 'created': '2019-11-10 23:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/3a3c3a3f299fbe42fb76ad8ccb6330a7c5d80907', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}, {'number': 6, 'created': '2019-11-10 23:50:31.000000000', 'files': ['releasenotes/notes/reap-rootwrap-daemon-process-60aebb56d8015484.yaml', 'oslo_rootwrap/client.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/c9a57aab082f55d525f003db61290b6ab7437b7c', 'message': ""reap rootwrap daemon process when it is timeout\n\nWhen the daemon process is timeout, it will kill itself. But the parent\ndoesn't reap it. This patch add a thread to wait the process to be done\nonce the daemon is started.\n\nCloses-Bug: #1850241\nChange-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81\n""}]",2,691672,c9a57aab082f55d525f003db61290b6ab7437b7c,25,4,6,7488,,,0,"reap rootwrap daemon process when it is timeout

When the daemon process is timeout, it will kill itself. But the parent
doesn't reap it. This patch add a thread to wait the process to be done
once the daemon is started.

Closes-Bug: #1850241
Change-Id: Ic209b8ef86c2522ce7e4bd81ac57bf13f1706a81
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/72/691672/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_rootwrap/client.py'],1,1d10653b5ec16d565809980b6e3d0a4bd7dbbf58,," def wait_process(): return_code = process_obj.wait() LOG.info(""Rootwap daemon process exit with status: %d"", return_code) reap_process = threading.Thread(target=wait_process) reap_process.daemon = True reap_process.start()",,9,0
openstack%2Fheat-cfntools~master~I3f436f742aff90d6610ad12f4b9bc096c2c18ea0,openstack/heat-cfntools,master,I3f436f742aff90d6610ad12f4b9bc096c2c18ea0,Delete pylint tox environment,MERGED,2018-03-05 19:32:39.000000000,2019-12-04 22:37:34.000000000,2019-12-04 22:35:11.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-05 19:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/0b10e5d85958b3755a2ff8a1ee330a6259ab20d3', 'message': ""Delete pylint tox environment\n\nNobody uses pylint, but a lot of people are trying to generate code\nchurn by 'fixing' trivial issues in lintstack.py. Just delete it.\n\nChange-Id: I3f436f742aff90d6610ad12f4b9bc096c2c18ea0\n""}, {'number': 2, 'created': '2018-07-30 23:45:19.000000000', 'files': ['tools/lintstack.py', 'tools/lintstack.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/039cc4419d8be1b78ee4b08c93a427021e0fd387', 'message': ""Delete pylint tox environment\n\nNobody uses pylint, but a lot of people are trying to generate code\nchurn by 'fixing' trivial issues in lintstack.py. Just delete it.\n\nChange-Id: I3f436f742aff90d6610ad12f4b9bc096c2c18ea0\n""}]",0,549856,039cc4419d8be1b78ee4b08c93a427021e0fd387,9,2,2,4257,,,0,"Delete pylint tox environment

Nobody uses pylint, but a lot of people are trying to generate code
churn by 'fixing' trivial issues in lintstack.py. Just delete it.

Change-Id: I3f436f742aff90d6610ad12f4b9bc096c2c18ea0
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/56/549856/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'tools/lintstack.sh', 'tox.ini']",3,0b10e5d85958b3755a2ff8a1ee330a6259ab20d3,,,[testenv:pylint] setenv = VIRTUAL_ENV={envdir} deps = -r{toxinidir}/requirements.txt pylint==0.26.0 commands = bash tools/lintstack.sh ,0,263
openstack%2Fheat-cfntools~master~Ie8cbd5bf55314d62fbd0ab7567570ca2c7376c39,openstack/heat-cfntools,master,Ie8cbd5bf55314d62fbd0ab7567570ca2c7376c39,Switch to Ussuri jobs,MERGED,2019-10-22 03:06:33.000000000,2019-12-04 22:36:30.000000000,2019-12-04 22:33:02.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 03:06:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/b0e9ebe6c1629c92ac750189c88be106b1bc12ae', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie8cbd5bf55314d62fbd0ab7567570ca2c7376c39\n'}]",0,689910,b0e9ebe6c1629c92ac750189c88be106b1bc12ae,7,2,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ie8cbd5bf55314d62fbd0ab7567570ca2c7376c39
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/10/689910/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0e9ebe6c1629c92ac750189c88be106b1bc12ae,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fheat-cfntools~master~I0d73efcab246370410d9454ff621d1b812ffbe29,openstack/heat-cfntools,master,I0d73efcab246370410d9454ff621d1b812ffbe29,Sync Sphinx requirement,MERGED,2019-10-09 08:21:28.000000000,2019-12-04 22:35:10.000000000,2019-12-04 22:35:10.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:21:28.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/2d815e654ea998eba1b026b4df4e59510c2ece31', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I0d73efcab246370410d9454ff621d1b812ffbe29\n'}]",0,687478,2d815e654ea998eba1b026b4df4e59510c2ece31,6,2,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I0d73efcab246370410d9454ff621d1b812ffbe29
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/78/687478/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,2d815e654ea998eba1b026b4df4e59510c2ece31,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fheat-cfntools~master~Ib0778872dd3eb55d4455b07d256134b87e336893,openstack/heat-cfntools,master,Ib0778872dd3eb55d4455b07d256134b87e336893,Update the constraints url,MERGED,2019-09-25 06:10:05.000000000,2019-12-04 22:32:36.000000000,2019-12-04 22:31:32.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 06:10:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/9f57a83518c13c41c2b3ca0acf19eb312f44cb6d', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ib0778872dd3eb55d4455b07d256134b87e336893\n'}]",0,684512,9f57a83518c13c41c2b3ca0acf19eb312f44cb6d,7,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ib0778872dd3eb55d4455b07d256134b87e336893
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/12/684512/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9f57a83518c13c41c2b3ca0acf19eb312f44cb6d,constraints,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fheat-cfntools~master~I54118d8f7f51a218053e15a1d7414a9092d9a436,openstack/heat-cfntools,master,I54118d8f7f51a218053e15a1d7414a9092d9a436,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 03:52:12.000000000,2019-12-04 22:29:04.000000000,2019-12-04 22:27:27.000000000,"[{'_account_id': 4257}, {'_account_id': 17499}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-12-05 03:52:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/22f9c1a759ee3f2f81ecbf9b7e71d2d459c48c17', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I54118d8f7f51a218053e15a1d7414a9092d9a436\n'}]",0,622776,22f9c1a759ee3f2f81ecbf9b7e71d2d459c48c17,13,8,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I54118d8f7f51a218053e15a1d7414a9092d9a436
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/76/622776/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,22f9c1a759ee3f2f81ecbf9b7e71d2d459c48c17,mail-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fheat-agents~master~If5723c05d8474158e62ea79af07b6ea862a7616e,openstack/heat-agents,master,If5723c05d8474158e62ea79af07b6ea862a7616e,Switch to Ussuri jobs,MERGED,2019-10-25 03:21:20.000000000,2019-12-04 22:29:04.000000000,2019-12-04 22:25:26.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-25 03:21:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/128f0119ea4e3a9901d53821bbb32d2a5141bf38', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If5723c05d8474158e62ea79af07b6ea862a7616e\n'}]",0,691174,128f0119ea4e3a9901d53821bbb32d2a5141bf38,8,3,1,30384,,,0,"Switch to Ussuri jobs

Change-Id: If5723c05d8474158e62ea79af07b6ea862a7616e
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/74/691174/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,128f0119ea4e3a9901d53821bbb32d2a5141bf38,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fheat-cfntools~master~Ief912ba509264325ee81d94638b947db98ef8c60,openstack/heat-cfntools,master,Ief912ba509264325ee81d94638b947db98ef8c60,Changed the home-page for heat-cfntools,ABANDONED,2016-10-03 12:46:15.000000000,2019-12-04 22:23:40.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 12404}]","[{'number': 1, 'created': '2016-10-03 12:46:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/18e40c46c87b090921f24f6f14e28673f264a43f', 'message': 'Changed the home-page for heat-cfntools\n\nChange-Id: Ief912ba509264325ee81d94638b947db98ef8c60\n'}]",2,381095,18e40c46c87b090921f24f6f14e28673f264a43f,5,3,1,20863,,,0,"Changed the home-page for heat-cfntools

Change-Id: Ief912ba509264325ee81d94638b947db98ef8c60
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/95/381095/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,18e40c46c87b090921f24f6f14e28673f264a43f,home-page,home-page = http://docs.openstack.org/developer/heat,home-page = http://www.openstack.org/,1,1
openstack%2Fheat-cfntools~master~I337e2f19364a5b932e3b4ad890734ead84a976b2,openstack/heat-cfntools,master,I337e2f19364a5b932e3b4ad890734ead84a976b2,Fix author-email in setup.cfg,ABANDONED,2019-01-22 09:25:42.000000000,2019-12-04 22:19:17.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 09:25:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/e4be6329c2ebe3d40282ae219ce7b8f050fd8b0f', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I337e2f19364a5b932e3b4ad890734ead84a976b2\n'}]",0,632343,e4be6329c2ebe3d40282ae219ce7b8f050fd8b0f,5,3,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I337e2f19364a5b932e3b4ad890734ead84a976b2
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/43/632343/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e4be6329c2ebe3d40282ae219ce7b8f050fd8b0f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fpuppet-tripleo~master~I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea,openstack/puppet-tripleo,master,I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea,Fix grafana listener options to allow affinity,MERGED,2019-11-27 11:21:04.000000000,2019-12-04 22:05:03.000000000,2019-12-04 21:35:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-27 11:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/15d92ae651fa665c6c14a7d295d715ed753d6a8b', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 2, 'created': '2019-11-27 11:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e2ca01e3b041300e4cc13db330790f7f9428947', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 3, 'created': '2019-11-27 12:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2bd25a88f0c69cc2a1167e7783a5cfbca8f75be0', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 4, 'created': '2019-11-27 13:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/377f5b7ee3c8792ab01139af7e878d6fcd02fa5c', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 5, 'created': '2019-11-28 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74a008d64dbf8693bc7b0cb36f23f5dba7e94030', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nCloses-Bug: 1854337\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 6, 'created': '2019-12-02 15:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/17228680cf0f0869cfb24930c855ea2eb89416dc', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 7, 'created': '2019-12-02 16:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2bcd03f31f91b8e92b6dfc47f4de397e19c290af', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nCloses-Bug: 1854337\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}, {'number': 8, 'created': '2019-12-02 16:33:14.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/602034a6e5c2ff306c5ab6e7d80c5da282d539ec', 'message': 'Fix grafana listener options to allow affinity\n\nLike the other web based services, we need to enable\nthe source affinity to access the grafana instance\nthrough the haproxy vip.\n\nCloses-Bug: 1854337\nChange-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea\n'}]",9,696287,602034a6e5c2ff306c5ab6e7d80c5da282d539ec,59,8,8,25402,,,0,"Fix grafana listener options to allow affinity

Like the other web based services, we need to enable
the source affinity to access the grafana instance
through the haproxy vip.

Closes-Bug: 1854337
Change-Id: I3c6e8dd2d4a48f5c63311d9c37181c2f26b595ea
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/696287/8 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,15d92ae651fa665c6c14a7d295d715ed753d6a8b,ceph_dashboard," listen_options => merge($default_listen_options, { 'balance' => 'source', 'timeout' => [ 'tunnel 1h' ], }),"," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk HEAD /' ] }),",4,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I7a6f0f68a26381226686b410edb00dc6a56b5efb,openstack/networking-ovn,stable/train,I7a6f0f68a26381226686b410edb00dc6a56b5efb,Fix agent extension support after hashring merge,MERGED,2019-12-02 17:32:36.000000000,2019-12-04 21:43:43.000000000,2019-12-04 21:41:00.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8297}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-02 17:32:36.000000000', 'files': ['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bd9786564433d488fa1a9eeec0a4325822d52f92', 'message': 'Fix agent extension support after hashring merge\n\nThe agent API extension support made use of a cache that was filled\nby processing events. Before hashring support, all events were\nprocessed on each server, producing complete caches on those servers.\nAfter distributing those events via the hashring, the cache for each\nprocess would only have a partial list of the hash, so lookups for\nagents would often fail. In addition, class on which the events were\nregistered was no longer being used, so the events wouldn\'t fire.\n\nThis patch deletes the in-memory AgentStats cache and instead stores\nthe values in the OVSDB and caches the chassis is memory based off of\nthe table contents instead of event triggers. This cache is required\nin case ovn-controller is gracefully and temporarily shut down to keep\nthe Chassis from disappearing instead of showing up as ""down"".\n\nCloses-Bug: #1853386\nCloses-Bug: #1833394\nChange-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb\n(cherry picked from commit 70c3d06656e15e11a0daf9c3732a21c8ce601c4d)\n'}]",0,696936,bd9786564433d488fa1a9eeec0a4325822d52f92,19,7,1,5756,,,0,"Fix agent extension support after hashring merge

The agent API extension support made use of a cache that was filled
by processing events. Before hashring support, all events were
processed on each server, producing complete caches on those servers.
After distributing those events via the hashring, the cache for each
process would only have a partial list of the hash, so lookups for
agents would often fail. In addition, class on which the events were
registered was no longer being used, so the events wouldn't fire.

This patch deletes the in-memory AgentStats cache and instead stores
the values in the OVSDB and caches the chassis is memory based off of
the table contents instead of event triggers. This cache is required
in case ovn-controller is gracefully and temporarily shut down to keep
the Chassis from disappearing instead of showing up as ""down"".

Closes-Bug: #1853386
Closes-Bug: #1833394
Change-Id: I7a6f0f68a26381226686b410edb00dc6a56b5efb
(cherry picked from commit 70c3d06656e15e11a0daf9c3732a21c8ce601c4d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/36/696936/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/stats.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/exceptions.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/agent/test_stats.py', 'networking_ovn/tests/unit/fakes.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py', 'networking_ovn/tests/functional/test_metadata_agent.py']",10,bd9786564433d488fa1a9eeec0a4325822d52f92,,,"from networking_ovn.agent import statsfrom networking_ovn.common import exceptions as ovn_exc def test_updating_metadata_doesnt_update_controller_stats(self): self.nb_cfg = None def read_stats(): try: self.nb_cfg = stats.AgentStats.get_stat(chassis.uuid).nb_cfg except ovn_exc.AgentStatsNotFound: return False return True chassis = self.sb_api.lookup('Chassis', self.chassis_name) self.assertNotIn(ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY, chassis.external_ids) exc = AssertionError('AgentStats for chassis %(chassis_uuid)s not ' 'found' % {'chassis_uuid': chassis.uuid}) n_utils.wait_until_true(read_stats, timeout=5, exception=exc) new_nb_cfg = self.nb_cfg + 1 row_event = MetadataAgentHealthEvent(chassis.name, new_nb_cfg) self.handler.watch_event(row_event) self.sb_api.update_metadata_health_status( chassis.name, new_nb_cfg).execute(check_error=True) self.assertTrue(row_event.wait()) self.assertEqual(stats.AgentStats.get_stat(chassis.uuid).nb_cfg, self.nb_cfg) ",46,259
openstack%2Fopenstacksdk~master~I6c54413aaf9fa6c7bc18a5de47c96c4ec84386a9,openstack/openstacksdk,master,I6c54413aaf9fa6c7bc18a5de47c96c4ec84386a9,Fix reno index list indent,MERGED,2019-12-04 19:54:31.000000000,2019-12-04 21:26:43.000000000,2019-12-04 21:24:55.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 19:54:31.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eafa75bd74357670740dc07634c225be5d446580', 'message': 'Fix reno index list indent\n\nThe whitespace was throwing off the formatting for the list.\n\nChange-Id: I6c54413aaf9fa6c7bc18a5de47c96c4ec84386a9\n'}]",0,697356,eafa75bd74357670740dc07634c225be5d446580,8,2,1,6873,,,0,"Fix reno index list indent

The whitespace was throwing off the formatting for the list.

Change-Id: I6c54413aaf9fa6c7bc18a5de47c96c4ec84386a9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/697356/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,eafa75bd74357670740dc07634c225be5d446580,fix-reno-index,.. toctree:: :maxdepth: 1 unreleased train stein rocky queens pike ocata, .. toctree:: :maxdepth: 1 unreleased train stein rocky queens pike ocata,9,9
openstack%2Fcookbook-openstack-common~master~I3d6250a42ca37e88d8139fa68692672a505ad07b,openstack/cookbook-openstack-common,master,I3d6250a42ca37e88d8139fa68692672a505ad07b,Properly convert README to rst,MERGED,2019-12-04 18:54:31.000000000,2019-12-04 21:15:09.000000000,2019-12-04 21:15:09.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 18:54:31.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/8a1a644f116e158a0e76816085698d005f9458ba', 'message': 'Properly convert README to rst\n\nThis should fix the rendering on opendev.org.\n\nChange-Id: I3d6250a42ca37e88d8139fa68692672a505ad07b\n'}]",0,697344,8a1a644f116e158a0e76816085698d005f9458ba,6,2,1,21961,,,0,"Properly convert README to rst

This should fix the rendering on opendev.org.

Change-Id: I3d6250a42ca37e88d8139fa68692672a505ad07b
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/44/697344/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8a1a644f116e158a0e76816085698d005f9458ba,,".. image:: https://governance.openstack.org/badges/cookbook-openstack-common.svg :target: https://governance.openstack.org/reference/tags/index.html .. Change things from this point onThis cookbook provides common setup recipes, helper methods and attributes that describe an OpenStack deployment as part of the OpenStack reference deployment Chef for OpenStack. Please relate to the official OpenStack Configuration and Installation Guides for a more detailed documentation on operating and administration of an OpenStack cluster:- Chef 14 or higher - chefdk 3.2.30 for testing (also includes berkshelf for cookbook dependency resolution)- ubuntu - redhat - centos- 'etcd', '~> 5.5' - 'mariadb', '~> 1.5' - 'memcached', '~> 4.1' - 'mysql', '~> 8.2' - 'selinux' - 'yum-epel'Please see the extensive inline documentation in ``attributes/*.rb`` forNote that all attributes are in the ``default[""openstack""]`` ""namespace"" Attributes to generate OpenStack service configuration files ------------------------------------------------------------ Since the mitaka release, we moved to a completely new way to generate all OpenStack service configuration files. The base template is the ``openstack-service.conf.erb`` included in the templates of this cookbook. In each of the service cookbook (e.g. openstack-network, openstack-identity or openstack-compute), the service configuration file (e.g neutron.conf, keystone.conf or nova.conf) gets generated directly from attributes set inside the cookbook. To merge all the configuration options (including the secrets) properly, before handing them over as ``@service_config`` to the mentioned template above, we use the methods defined in ``libraries/config_helpers``. For examples how to use these attributes, please refer to the attribute files included in the service cookbooks (e.g. ``attributes/neutron_conf.rb`` in openstack-network or ``attributes/keystone_conf.rb`` in openstack-identity). The basic structure of all these attributes always follows this model: .. code-block:: ruby # usual config option that should eventually be saved to the node object default['openstack'][service]['conf'][section][key][value] # configuration options like passwords that should not be saved in the node # object default['openstack'][service]['conf_secrets'][section][key][value]openstack-common::client ------------------------ - Install the common python openstack client package openstack-common::default ------------------------- - Installs/Configures common recipes openstack-common::logging ------------------------- - Installs/Configures common logging openstack-common::sysctl ------------------------ - Iterates over the contents of the ``node['openstack']['sysctl']`` hash and writes the entries to ``/etc/sysctl.d/60-openstack.conf``.In addition to traditionally encrypted data bags they can also be created as chef-vault items. To read more about chef-vault and how to use it, go to https://docs.chef.io/chef_vault.html. Documentation for Attributes for selecting databag format can be found in the attributes section of this cookbook. Documentation for format of these Databags can be found in the `Openstack Chef Repo <https://opendev.org/openstack/openstack-chef#data-bags>`__ repository.This cookbook provides the ``openstack_common_database`` LWRP, which replaces the old database library function ``db_create_with_user``. When this cookbook is included as dependency, this LWRP can be used to create databases needed by the OpenStack services. .. code-block:: ruby depends 'openstack-common' .. code-block:: ruby openstack_common_database 'compute' do service 'compute' # name_attribute user 'nova' pass 'supersecret' end An example of the usage can be seen here https://opendev.org/openstack/cookbook-openstack-ops-database/src/branch/master/recipes/openstack-db.rb .- ``cli`` -- Used to call openstack CLIs - ``endpoint`` -- Used to return a ``::URI`` object representing the named OpenStack endpoint - ``internal_endpoint`` -- Used to return a ``::URI`` object representing the named OpenStack internal endpoint if one was specified. Otherwise, it will return the same value as ``endpoint``. - ``public_endpoint`` -- Used to return a ``::URI`` object representing the named OpenStack public endpoint if one was specified. Otherwise, it will return the same value as ``endpoint``. - ``endpoints`` -- Useful for operating on all OpenStack endpoints - ``db`` -- Returns a Hash of information about a named OpenStack database - ``db_uri`` -- Returns the SQLAlchemy RFC-1738 DB URI (see: http://rfc.net/rfc1738.html) for a named OpenStack database - ``secret`` -- Returns the value of an encrypted data bag for a named OpenStack secret key and key-section - ``get_password`` -- Ease-of-use helper that returns the decrypted password for a named database, service or keystone user. - ``matchers`` -- A custom matcher(``render_config_file``) for testing ini format file section content by ``with_section_content``.The following are code examples showing the above library routines in action. Remember when using the library routines exposed by this library to include the Openstack routines in your recipe's ``::Chef::Recipe`` namespace, like so: .. code-block:: ruby class ::Chef::Recipe include ::Openstack end Example of using the ``endpoint`` routine: .. code-block:: ruby nova_api_ep = endpoint ""compute-api"" ::Chef::Log.info(""Using Openstack Compute API endpoint at #{nova_api_ep.to_s}"") # Note that endpoint URIs may contain variable interpolation markers such # as `%(tenant_id)s`, so you may need to decode them. Do so like this: require ""uri"" puts ::URI.decode nova_api_ap.to_s Example of using the ``get_password`` and ``db_uri`` routine: .. code-block:: ruby db_pass = get_password ""db"" ""cinder"" db_user = node[""cinder""][""db""][""user""] sql_connection = db_uri ""volume"", db_user, db_pass template ""/etc/cinder/cinder.conf"" do source ""cinder.conf.erb"" owner node[""cinder""][""user""] group node[""cinder""][""group""] mode 00644 variables( ""sql_connection"" => sql_connection ) endUse the ``Openstack::uri_from_hash`` routine to helpfully return a ``::URI::Generic`` object for a hash that contains any of the following keys: - ``host`` - ``uri`` - ``port`` - ``path`` - ``scheme`` If the ``uri`` key is in the hash, that will be used as the URI, otherwise the URI will be constructed from the various parts of the hash corresponding to the keys above. .. code-block:: ruby # Suppose node hash contains the following subhash in the :identity_service key: # { # :host => 'identity.example.com', # :port => 5000, # :scheme => 'https' # } uri = ::Openstack::uri_from_hash(node[:identity_service]) # uri.to_s would == ""https://identity.example.com:5000"" The routine will return nil if neither a ``uri`` or ``host`` key exists in the supplied hash.Don't like prefixing calls to the library's routines with ``::Openstack``? Do this: .. code-block:: ruby class ::Chef::Recipe include ::Openstack end+-----------------+-------------------------------------------------+ | **Author** | Jay Pipes (jaypipes@att.com) | +-----------------+-------------------------------------------------+ | **Author** | John Dewey (jdewey@att.com) | +-----------------+-------------------------------------------------+ | **Author** | Matt Ray (matt@opscode.com) | +-----------------+-------------------------------------------------+ | **Author** | Craig Tracey (craigtracey@gmail.com) | +-----------------+-------------------------------------------------+ | **Author** | Sean Gallagher (sean.gallagher@att.com) | +-----------------+-------------------------------------------------+ | **Author** | Ionut Artarisi (iartarisi@suse.cz) | +-----------------+-------------------------------------------------+ | **Author** | Chen Zhiwei (zhiwchen@cn.ibm.com) | +-----------------+-------------------------------------------------+ | **Author** | Brett Campbell (brett.campbell@rackspace.com) | +-----------------+-------------------------------------------------+ | **Author** | Mark Vanderwiel (vanderwl@us.ibm.com) | +-----------------+-------------------------------------------------+ | **Author** | Jan Klare (j.klare@cloudbau.de) | +-----------------+-------------------------------------------------+ | **Author** | Christoph Albers (c.albers@x-ion.de) | +-----------------+-------------------------------------------------+ | **Author** | Jens Harbott (j.harbott@x-ion.de) | +-----------------+-------------------------------------------------+ +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2012-2013, AT&T Services, Inc. | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2013, Opscode, Inc. | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2013, Craig Tracey | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2013-2014, SUSE Linux GmbH | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2013-2015, IBM, Corp. | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2013-2014, Rackspace US, Inc. | +-----------------+-------------------------------------------------+ | **Copyright** | Copyright (c) 2016-2019, x-ion GmbH | +-----------------+-------------------------------------------------+ Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at ::","[![Team and repository tags](http://governance.openstack.org/badges/cookbook-openstack-common.svg)](http://governance.openstack.org/reference/tags/index.html) <!-- Change things from this point on -->This cookbook provides common setup recipes, helper methods and attributes that describe an OpenStack deployment as part of the OpenStack reference deployment Chef for OpenStack. Please relate to the official OpenStack Configuration and Installation Guides for a more detailed documentation on operating and administration of an OpenStack cluster:- Chef 14 or higher - chefdk 3.2.30 for testing (also includes berkshelf for cookbook dependency resolution)- ubuntu - redhat - centos- 'etcd', '~> 5.5' - 'mariadb', '~> 1.5' - 'memcached', '~> 4.1' - 'mysql', '~> 8.2' - 'selinux' - 'yum-epel'Please see the extensive inline documentation in `attributes/*.rb` forNote that all attributes are in the `default[""openstack""]` ""namespace"" ## Attributes to generate OpenStack service configuration files Since the mitaka release, we moved to a completely new way to generate all OpenStack service configuration files. The base template is the 'openstack-service.conf.erb' included in the templates of this cookbook. In each of the service cookbook (e.g. openstack-network, openstack-identity or openstack-compute), the service configuration file (e.g neutron.conf, keystone.conf or nova.conf) gets generated directly from attributes set inside the cookbook. To merge all the configuration options (including the secrets) properly, before handing them over as '@service_config' to the mentioned template above, we use the methods defined in 'libraries/config_helpers'. For examples how to use these attributes, please refer to the attribute files included in the service cookbooks (e.g. attributes/neutron_conf.rb in openstack-network or attributes/keystone_conf.rb in openstack-identity). The basic structure of all these attributes always follows this model: ``` # usual config option that should eventually be saved to the node object default['openstack'][service]['conf'][section][key][value] # configuration options like passwords that should not be saved in the node # object default['openstack'][service]['conf_secrets'][section][key][value] ```## openstack-common::client - Install the common python openstack client package ## openstack-common::default - Installs/Configures common recipes ## openstack-common::logging - Installs/Configures common logging ## openstack-common::sysctl - Iterates over the contents of the `node['openstack']['sysctl']` hash and writes the entries to `/etc/sysctl.d/60-openstack.conf`.In addition to traditionally encrypted data bags they can also be created as chef-vault items. To read more about chef-vault and how to use it, go to https://docs.chef.io/chef_vault.html. Documentation for Attributes for selecting databag format can be found in the attributes section of this cookbook. Documentation for format of these Databags can be found in the [Openstack Chef Repo](https://opendev.org/openstack/openstack-chef#data-bags) repository.This cookbook provides the openstack_common_database LWRP, which replaces the old database library function 'db_create_with_user'. When this cookbook is included as dependency, this LWRP can be used to create databases needed by the OpenStack services. ```ruby depends 'openstack-common' ``` ```ruby openstack_common_database 'compute' do service 'compute' # name_attribute user 'nova' pass 'supersecret' end ``` An example of the usage can be seen here https://opendev.org/openstack/cookbook-openstack-ops-database/src/branch/master/recipes/openstack-db.rb .* `cli` -- Used to call openstack CLIs * `endpoint` -- Used to return a `::URI` object representing the named OpenStack endpoint * `internal_endpoint` -- Used to return a `::URI` object representing the named OpenStack internal endpoint if one was specified. Otherwise, it will return the same value as `endpoint`. * `public_endpoint` -- Used to return a `::URI` object representing the named OpenStack public endpoint if one was specified. Otherwise, it will return the same value as `endpoint`. * `endpoints` -- Useful for operating on all OpenStack endpoints * `db` -- Returns a Hash of information about a named OpenStack database * `db_uri` -- Returns the SQLAlchemy RFC-1738 DB URI (see: http://rfc.net/rfc1738.html) for a named OpenStack database * `secret` -- Returns the value of an encrypted data bag for a named OpenStack secret key and key-section * `get_password` -- Ease-of-use helper that returns the decrypted password for a named database, service or keystone user. * `matchers` -- A custom matcher(render_config_file) for testing ini format file section content by with_section_content.The following are code examples showing the above library routines in action. Remember when using the library routines exposed by this library to include the Openstack routines in your recipe's `::Chef::Recipe` namespace, like so: ```ruby class ::Chef::Recipe include ::Openstack end ``` Example of using the `endpoint` routine: ```ruby nova_api_ep = endpoint ""compute-api"" ::Chef::Log.info(""Using Openstack Compute API endpoint at #{nova_api_ep.to_s}"") # Note that endpoint URIs may contain variable interpolation markers such # as `%(tenant_id)s`, so you may need to decode them. Do so like this: require ""uri"" puts ::URI.decode nova_api_ap.to_s ``` Example of using the `get_password` and `db_uri` routine: ```ruby db_pass = get_password ""db"" ""cinder"" db_user = node[""cinder""][""db""][""user""] sql_connection = db_uri ""volume"", db_user, db_pass template ""/etc/cinder/cinder.conf"" do source ""cinder.conf.erb"" owner node[""cinder""][""user""] group node[""cinder""][""group""] mode 00644 variables( ""sql_connection"" => sql_connection ) end ```Use the `Openstack::uri_from_hash` routine to helpfully return a `::URI::Generic` object for a hash that contains any of the following keys: * `host` * `uri` * `port` * `path` * `scheme` If the `uri` key is in the hash, that will be used as the URI, otherwise the URI will be constructed from the various parts of the hash corresponding to the keys above. ```ruby # Suppose node hash contains the following subhash in the :identity_service key: # { # :host => 'identity.example.com', # :port => 5000, # :scheme => 'https' # } uri = ::Openstack::uri_from_hash(node[:identity_service]) # uri.to_s would == ""https://identity.example.com:5000"" ``` The routine will return nil if neither a `uri` or `host` key exists in the supplied hash.Don't like prefixing calls to the library's routines with `::Openstack`? Do this: ```ruby class ::Chef::Recipe include ::Openstack end ```| | | |:---------------------|:---------------------------------------------------| | **Author** | Jay Pipes (<jaypipes@att.com>) | | **Author** | John Dewey (<jdewey@att.com>) | | **Author** | Matt Ray (<matt@opscode.com>) | | **Author** | Craig Tracey (<craigtracey@gmail.com>) | | **Author** | Sean Gallagher (<sean.gallagher@att.com>) | | **Author** | Ionut Artarisi (<iartarisi@suse.cz>) | | **Author** | Chen Zhiwei (<zhiwchen@cn.ibm.com>) | | **Author** | Brett Campbell (<brett.campbell@rackspace.com>) | | **Author** | Mark Vanderwiel (<vanderwl@us.ibm.com>) | | **Author** | Jan Klare (<j.klare@cloudbau.de>) | | **Author** | Christoph Albers (<c.albers@x-ion.de>) | | **Author** | Jens Harbott (<j.harbott@x-ion.de>) | | | | | **Copyright** | Copyright (c) 2012-2013, AT&T Services, Inc. | | **Copyright** | Copyright (c) 2013, Opscode, Inc. | | **Copyright** | Copyright (c) 2013, Craig Tracey | | **Copyright** | Copyright (c) 2013-2014, SUSE Linux GmbH | | **Copyright** | Copyright (c) 2013-2015, IBM, Corp. | | **Copyright** | Copyright (c) 2013-2014, Rackspace US, Inc. | | **Copyright** | Copyright (c) 2016-2019, x-ion GmbH | Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at",218,177
openstack%2Ftrove~master~If23f4f179a6ab72cfb35e4c45d55142fedb76498,openstack/trove,master,If23f4f179a6ab72cfb35e4c45d55142fedb76498,Build reusable Trove guest image for dev,MERGED,2019-12-04 03:30:40.000000000,2019-12-04 21:14:20.000000000,2019-12-04 21:12:51.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 03:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/496c4224914e079f8b2d3a18ac709d2c401f40a3', 'message': 'Build reusable Trove guest image\n\nWhen building the guest image for dev_mode=true, the controller IP\naddress is injected to the image in order for the guest-agent to\ndownload Trove code during initialization. As a result, we have to build\nguest image each time in the Trove CI because the image build relies on\nthe devstack host IP address.\n\nIf we could remove the dependency, we can build the image(in\ndevmode=true) for a specific datastore once and use that image for all\nrelated CI jobs, which could save some time for Trove CI.\n\nChange-Id: If23f4f179a6ab72cfb35e4c45d55142fedb76498\n'}, {'number': 2, 'created': '2019-12-04 10:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/55961dc6796849ae6cd46b4df5ef360bda485262', 'message': 'Build reusable Trove guest image for dev\n\nWhen building the guest image for dev_mode=true, the controller IP\naddress is injected to the image in order for the guest-agent to\ndownload Trove code during initialization. As a result, we have to build\nguest image each time in the Trove CI because the image build relies on\nthe devstack host IP address.\n\nIf we could remove the dependency, we can build the image(in\ndevmode=true) for a specific datastore once and use that image for all\nrelated CI jobs, which could save some time for Trove CI.\n\nFix the current CI issue as well.\n\nChange-Id: If23f4f179a6ab72cfb35e4c45d55142fedb76498\n'}, {'number': 3, 'created': '2019-12-04 11:46:09.000000000', 'files': ['integration/scripts/files/elements/ubuntu-trusty-db2/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/25-trove-mongo-dep', 'trove/instance/models.py', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/20-mongodb', 'integration/scripts/files/elements/ubuntu-trusty-postgresql/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-guest/install.d/20-etc', 'integration/scripts/files/elements/ubuntu-trusty-guest/pre-install.d/01-trim-pkgs', 'integration/scripts/files/elements/ubuntu-trusty-mariadb/install.d/30-mariadb', 'integration/scripts/functions_qemu', 'integration/scripts/files/elements/ubuntu-trusty-redis/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-couchbase/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/30-mongodb-conf', 'integration/scripts/files/elements/ubuntu-trusty-mysql/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-cassandra/element-deps', 'integration/scripts/files/elements/ubuntu-xenial-guest/extra-data.d/20-guest-systemd', 'integration/scripts/files/elements/ubuntu-trusty-vertica/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mariadb/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/41-mongod-init', 'integration/scripts/files/elements/ubuntu-trusty-guest/element-deps', 'devstack/plugin.sh', 'integration/README.md', 'integration/scripts/files/elements/ubuntu-trusty-couchdb/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/element-deps', 'integration/scripts/files/trove-guest.systemd.conf', 'integration/scripts/files/elements/ubuntu-trusty-percona/element-deps', 'integration/scripts/trovestack', 'integration/scripts/files/elements/ubuntu-trusty-pxc/element-deps', 'trove/guestagent/api.py', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/42-mongos-init', 'integration/scripts/files/elements/ubuntu-trusty-mysql/install.d/30-mysql', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/10-mongodb-thp', 'integration/scripts/files/elements/ubuntu-trusty-guest/extra-data.d/20-guest-upstart'], 'web_link': 'https://opendev.org/openstack/trove/commit/8fc0b7695d8e74e9ff45ca4e1857eccbea81726c', 'message': 'Build reusable Trove guest image for dev\n\nWhen building the guest image for dev_mode=true, the controller IP\naddress is injected to the image in order for the guest-agent to\ndownload Trove code during initialization. As a result, we have to build\nguest image each time in the Trove CI because the image build relies on\nthe devstack host IP address.\n\nIf we could remove the dependency, we can build the image(in\ndevmode=true) for a specific datastore once and use that image for all\nrelated CI jobs, which could save some time for Trove CI.\n\nFix the current CI issue as well.\n\nChange-Id: If23f4f179a6ab72cfb35e4c45d55142fedb76498\n'}]",0,697225,8fc0b7695d8e74e9ff45ca4e1857eccbea81726c,10,2,3,6732,,,0,"Build reusable Trove guest image for dev

When building the guest image for dev_mode=true, the controller IP
address is injected to the image in order for the guest-agent to
download Trove code during initialization. As a result, we have to build
guest image each time in the Trove CI because the image build relies on
the devstack host IP address.

If we could remove the dependency, we can build the image(in
devmode=true) for a specific datastore once and use that image for all
related CI jobs, which could save some time for Trove CI.

Fix the current CI issue as well.

Change-Id: If23f4f179a6ab72cfb35e4c45d55142fedb76498
",git fetch https://review.opendev.org/openstack/trove refs/changes/25/697225/2 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-trusty-db2/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/25-trove-mongo-dep', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/20-mongodb', 'integration/scripts/files/elements/ubuntu-trusty-postgresql/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-guest/install.d/20-etc', 'integration/scripts/files/elements/ubuntu-trusty-guest/pre-install.d/01-trim-pkgs', 'integration/scripts/files/elements/ubuntu-trusty-mariadb/install.d/30-mariadb', 'integration/scripts/functions_qemu', 'integration/scripts/files/elements/ubuntu-trusty-redis/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-couchbase/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/30-mongodb-conf', 'integration/scripts/files/elements/ubuntu-trusty-mysql/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-cassandra/element-deps', 'integration/scripts/files/elements/ubuntu-xenial-guest/extra-data.d/20-guest-systemd', 'integration/scripts/files/elements/ubuntu-trusty-vertica/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mariadb/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/41-mongod-init', 'integration/scripts/files/elements/ubuntu-trusty-guest/element-deps', 'devstack/plugin.sh', 'integration/README.md', 'integration/scripts/files/elements/ubuntu-trusty-couchdb/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/element-deps', 'integration/scripts/files/trove-guest.systemd.conf', 'integration/scripts/files/elements/ubuntu-trusty-percona/element-deps', 'integration/scripts/trovestack', 'integration/scripts/files/elements/ubuntu-trusty-pxc/element-deps', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/42-mongos-init', 'integration/scripts/files/elements/ubuntu-trusty-mysql/install.d/30-mysql', 'integration/scripts/files/elements/ubuntu-trusty-mongodb/install.d/10-mongodb-thp', 'integration/scripts/files/elements/ubuntu-trusty-guest/extra-data.d/20-guest-upstart']",30,496c4224914e079f8b2d3a18ac709d2c401f40a3,static-image,,"#!/bin/bash set -e set -o xtrace # CONTEXT: HOST prior to IMAGE BUILD as SCRIPT USER # PURPOSE: stages the bootstrap file and upstart conf file while replacing variables so that guest image is properly # configured source $_LIB/die [ -n ""$TMP_HOOKS_PATH"" ] || die ""Temp hook path not set"" [ -n ""${GUEST_USERNAME}"" ] || die ""GUEST_USERNAME needs to be set to the user for the guest image"" [ -n ""${HOST_SCP_USERNAME}"" ] || die ""HOST_SCP_USERNAME needs to be set to the user for the host instance"" [ -n ""${CONTROLLER_IP}"" ] || die ""CONTROLLER_IP needs to be set to the ip address that guests will use to contact the controller"" [ -n ""${ESCAPED_PATH_TROVE}"" ] || die ""ESCAPED_PATH_TROVE needs to be set to the path to the trove directory on the trovestack host"" [ -n ""${TROVESTACK_SCRIPTS}"" ] || die ""TROVESTACK_SCRIPTS needs to be set to the trove/integration/scripts dir"" [ -n ""${ESCAPED_GUEST_LOGDIR}"" ] || die ""ESCAPED_GUEST_LOGDIR must be set to the escaped guest log dir"" sed ""s/GUEST_USERNAME/${GUEST_USERNAME}/g;s/GUEST_LOGDIR/${ESCAPED_GUEST_LOGDIR}/g;s/HOST_SCP_USERNAME/${HOST_SCP_USERNAME}/g;s/CONTROLLER_IP/${CONTROLLER_IP}/g;s/PATH_TROVE/${ESCAPED_PATH_TROVE}/g"" ${TROVESTACK_SCRIPTS}/files/trove-guest.upstart.conf > ${TMP_HOOKS_PATH}/trove-guest.conf ",28,457
openstack%2Foslo.service~master~I219cf652526802b8212fe8a8f6c499e9aa24a3cf,openstack/oslo.service,master,I219cf652526802b8212fe8a8f6c499e9aa24a3cf,Add 'is_available' function,MERGED,2019-11-27 17:00:29.000000000,2019-12-04 21:13:26.000000000,2019-12-04 21:11:00.000000000,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-27 17:00:29.000000000', 'files': ['oslo_service/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/e86fb9dcce7f872c718829b416a1c8484fc4e962', 'message': 'Add \'is_available\' function\n\nResolves the following warnings seen in the likes of nova:\n\n    DeprecationWarning: Please provide `is_available()` function in your\n    custom Eventlet hub <module \'oslo_service\' from\n    \'../oslo_service/__init__.py\'>.""\n\n    It must return bool: whether hub supports current platform. See\n    eventlet/hubs/{epoll,kqueue} for example.\n\nSince we\'re simply taking the default hub provided by eventlet and\noverriding a single attribute, we will always have support so set the\nattribute.\n\nChange-Id: I219cf652526802b8212fe8a8f6c499e9aa24a3cf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,696362,e86fb9dcce7f872c718829b416a1c8484fc4e962,8,3,1,15334,,,0,"Add 'is_available' function

Resolves the following warnings seen in the likes of nova:

    DeprecationWarning: Please provide `is_available()` function in your
    custom Eventlet hub <module 'oslo_service' from
    '../oslo_service/__init__.py'>.""

    It must return bool: whether hub supports current platform. See
    eventlet/hubs/{epoll,kqueue} for example.

Since we're simply taking the default hub provided by eventlet and
overriding a single attribute, we will always have support so set the
attribute.

Change-Id: I219cf652526802b8212fe8a8f6c499e9aa24a3cf
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/62/696362/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/__init__.py'],1,e86fb9dcce7f872c718829b416a1c8484fc4e962,trivial, # get_default_hub() will return a hub that is supported on this platform hub.is_available = lambda: True,,2,0
openstack%2Fheat~master~I712957c9f017fee9f2584539b8c8faf574c48e8b,openstack/heat,master,I712957c9f017fee9f2584539b8c8faf574c48e8b,Workaround for octavia client API change,ABANDONED,2019-12-02 17:08:57.000000000,2019-12-04 21:12:03.000000000,,"[{'_account_id': 4257}, {'_account_id': 6469}, {'_account_id': 8833}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-12-02 17:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ec404c98c563ade6c40885c35cbcabb1e136b684', 'message': '[WIP] Workaround for https://storyboard.openstack.org/#!/story/2006970\n\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\n'}, {'number': 2, 'created': '2019-12-02 18:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fcca9819d8ce28cf5e04d38c9d779156bc5a100c', 'message': ""Workaround for octavia client API change\n\nThis fixes below error:\n  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'\n\nThe problem fixed here probably appeared after a change\nin python-octaviaclient.\n\nRelatedChange: If2565df22c2677bbad09f3eafacc148c740c0124\nStory: 2006970\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\n""}, {'number': 3, 'created': '2019-12-02 20:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8aca15a0217f60fa056163bc70d6285d3288b642', 'message': ""Workaround for octavia client API change\n\nThis fixes below error:\n  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'\n\nThe problem fixed here probably appeared after a change\nin python-octaviaclient.\n\nRelatedChange: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\nStory: 2006970\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\n""}, {'number': 4, 'created': '2019-12-02 20:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b13cb8ca6af5ae4701dbb8fdbd716348002ed691', 'message': ""Workaround for octavia client API change\n\nThis fixes below error:\n  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'\n\nThe problem fixed here probably appeared after a change\nin python-octaviaclient.\n\nRelatedChange: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\nRelatedChange: I35aa0bf105c3b59abb2ff775af12198bc0436572\n\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\nStory: #2006970\n""}, {'number': 5, 'created': '2019-12-02 20:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ae16a940a50b84c2fa6a34e26ff0d3a358547bfe', 'message': ""Workaround for octavia client API change\n\nThis fixes below error:\n  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'\n\nThe problem fixed here probably appeared after a change\nin python-octaviaclient.\n\nRelatedChange: Ia8e451d7f806fac7d36b2860f256eb34f9f7400e\nRelatedChange: I35aa0bf105c3b59abb2ff775af12198bc0436572\n\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\nStory: #2006970\nTask: 37698\n""}, {'number': 6, 'created': '2019-12-03 12:06:27.000000000', 'files': ['heat/engine/clients/os/octavia.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8b47fbb2703ed28940468933c15c6e38f0b4d3e8', 'message': ""Workaround for octavia client API change\n\nThis fixes below error:\n  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'\n\nThe problem fixed here probably appeared after a change\nin python-octaviaclient.\n\nRelatedChange: If2565df22c2677bbad09f3eafacc148c740c0124\nStory: 2006970\nChange-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b\n""}]",4,696930,8b47fbb2703ed28940468933c15c6e38f0b4d3e8,20,8,6,27329,,,0,"Workaround for octavia client API change

This fixes below error:
  module 'octaviaclient.api.v2.octavia' has no attribute 'OctaviaClientException'

The problem fixed here probably appeared after a change
in python-octaviaclient.

RelatedChange: If2565df22c2677bbad09f3eafacc148c740c0124
Story: 2006970
Change-Id: I712957c9f017fee9f2584539b8c8faf574c48e8b
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/696930/5 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/clients/os/octavia.py'],1,ec404c98c563ade6c40885c35cbcabb1e136b684,octaviaclient,"if not hasattr(octavia, 'OctaviaClientException'): # Workaround for https://storyboard.openstack.org/#!/story/2006970 octavia.OctaviaClientException = octavia.exceptions.OctaviaClientException ",,5,0
openstack%2Fswift~stable%2Fstein~I488f88a54948663c682b35dc976b62db6e72eef7,openstack/swift,stable/stein,I488f88a54948663c682b35dc976b62db6e72eef7,Switch py2 DSVM jobs to only run swift under py2,MERGED,2019-11-21 22:22:09.000000000,2019-12-04 21:09:59.000000000,2019-12-04 21:04:09.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 22:22:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/19ed6048a0f517332f63cf58102cd2ce33fec4c0', 'message': 'Switch py2 DSVM jobs to only run swift under py2\n\nOther services are fine to move on to py3. We still want to test py2,\nthough.\n\nChange-Id: I488f88a54948663c682b35dc976b62db6e72eef7\n'}]",0,695597,19ed6048a0f517332f63cf58102cd2ce33fec4c0,8,2,1,15343,,,0,"Switch py2 DSVM jobs to only run swift under py2

Other services are fine to move on to py3. We still want to test py2,
though.

Change-Id: I488f88a54948663c682b35dc976b62db6e72eef7
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/695597/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,19ed6048a0f517332f63cf58102cd2ce33fec4c0,, # Other services are fine to run py3 USE_PYTHON3: true # explicitly state that we want to test swift under py2 DISABLED_PYTHON3_PACKAGES: 'swift',,4,0
openstack%2Fswift~master~I73e9c38bde00a7117cec97e98f013e86350aa5be,openstack/swift,master,I73e9c38bde00a7117cec97e98f013e86350aa5be,Turn off dns_compliant_bucket_names for ceph tests,MERGED,2019-11-22 17:40:06.000000000,2019-12-04 21:09:52.000000000,2019-12-04 21:04:06.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-22 17:40:06.000000000', 'files': ['doc/saio/swift/proxy-server.conf', 'doc/s3api/conf/ceph-known-failures-tempauth.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/e11c58ef892084f3dd1b08e0d0bfd97668705988', 'message': 'Turn off dns_compliant_bucket_names for ceph tests\n\nWe get a handful more passing tests that way, following their move to boto3.\n\nChange-Id: I73e9c38bde00a7117cec97e98f013e86350aa5be\n'}]",0,695744,e11c58ef892084f3dd1b08e0d0bfd97668705988,11,2,1,15343,,,0,"Turn off dns_compliant_bucket_names for ceph tests

We get a handful more passing tests that way, following their move to boto3.

Change-Id: I73e9c38bde00a7117cec97e98f013e86350aa5be
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/695744/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'doc/s3api/conf/ceph-known-failures-tempauth.yaml']",2,e11c58ef892084f3dd1b08e0d0bfd97668705988,,, s3tests_boto3.functional.test_s3.test_bucket_create_naming_dns_dash_at_end: {status: KNOWN} s3tests_boto3.functional.test_s3.test_bucket_create_naming_dns_dash_dot: {status: KNOWN} s3tests_boto3.functional.test_s3.test_bucket_create_naming_dns_dot_dash: {status: KNOWN} s3tests_boto3.functional.test_s3.test_bucket_create_naming_dns_dot_dot: {status: KNOWN} s3tests_boto3.functional.test_s3.test_bucket_create_naming_dns_underscore: {status: KNOWN},0,6
openstack%2Fswift~stable%2Ftrain~I488f88a54948663c682b35dc976b62db6e72eef7,openstack/swift,stable/train,I488f88a54948663c682b35dc976b62db6e72eef7,Switch py2 DSVM jobs to only run swift under py2,MERGED,2019-11-21 22:21:57.000000000,2019-12-04 21:09:15.000000000,2019-12-04 21:04:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-21 22:21:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/6e4fe1d5fa54ff8853b6bfe3924d5504fdb168e2', 'message': 'Switch py2 DSVM jobs to only run swift under py2\n\nOther services are fine to move on to py3. We still want to test py2,\nthough.\n\nChange-Id: I488f88a54948663c682b35dc976b62db6e72eef7\n'}]",0,695596,6e4fe1d5fa54ff8853b6bfe3924d5504fdb168e2,8,2,1,15343,,,0,"Switch py2 DSVM jobs to only run swift under py2

Other services are fine to move on to py3. We still want to test py2,
though.

Change-Id: I488f88a54948663c682b35dc976b62db6e72eef7
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/695596/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6e4fe1d5fa54ff8853b6bfe3924d5504fdb168e2,, # Other services are fine to run py3 USE_PYTHON3: true # explicitly state that we want to test swift under py2 DISABLED_PYTHON3_PACKAGES: 'swift',,4,0
openstack%2Fnetworking-ovn~master~Id625b0abab09fda022be23954ffca453499566bd,openstack/networking-ovn,master,Id625b0abab09fda022be23954ffca453499566bd,Skip DB table creation and model definition,MERGED,2019-12-03 09:38:55.000000000,2019-12-04 21:09:13.000000000,2019-12-04 21:04:10.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-03 09:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1ac97a56a421934ce697ae993b11b63fd966a995', 'message': 'DO NOT REVIEW: Skip DB table creation\n\nSince Neutron now creates the database ovn_hash_ring and\novn_revisio_numbers table as part of [0], networking-ovn needs to be\naware of that and skip the creation if the tables are already present in\nthe database.\n\n[0] https://review.opendev.org/#/c/695969\n\nChange-Id: Id625b0abab09fda022be23954ffca453499566bd\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-12-03 13:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2931ca8687154278af913644544e16c6e172ddf7', 'message': 'Skip DB table creation\n\nSince Neutron now creates the database ovn_hash_ring and\novn_revisio_numbers table as part of [0], networking-ovn needs to be\naware of that and skip the creation if the tables are already present in\nthe database.\n\n[0] https://review.opendev.org/#/c/695969\n\nChange-Id: Id625b0abab09fda022be23954ffca453499566bd\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-12-03 17:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/df099d462bf118b01c7e8e53129c3730e8464260', 'message': 'Skip DB table creation and model definition\n\nSince Neutron now creates the database ovn_hash_ring and\novn_revisio_numbers table as part of [0], networking-ovn needs to be\naware of that and skip the creation if the tables are already present in\nthe database.\n\nDB models are imported from Neutron.\n\n[0] https://review.opendev.org/#/c/695969\n\nChange-Id: Id625b0abab09fda022be23954ffca453499566bd\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-12-03 18:06:21.000000000', 'files': ['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/db/migration/alembic_migrations/versions/stein/expand/e55d09277410_ovn_hash_ring_add_group_column.py', 'networking_ovn/db/models.py', 'networking_ovn/db/migration/alembic_migrations/versions/stein/expand/4a478c5c1e16_add_ovn_hash_ring_table.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3c0225c994d7386d73a0c451c3bb49c7f6f2bdae', 'message': 'Skip DB table creation and model definition\n\nSince Neutron now creates the database ovn_hash_ring and\novn_revisio_numbers table as part of [0], networking-ovn needs to be\naware of that and skip the creation if the tables are already present in\nthe database.\n\nDB models are imported from Neutron.\n\n[0] https://review.opendev.org/#/c/695969\n\nChange-Id: Id625b0abab09fda022be23954ffca453499566bd\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,697039,3c0225c994d7386d73a0c451c3bb49c7f6f2bdae,20,8,4,6773,,,0,"Skip DB table creation and model definition

Since Neutron now creates the database ovn_hash_ring and
ovn_revisio_numbers table as part of [0], networking-ovn needs to be
aware of that and skip the creation if the tables are already present in
the database.

DB models are imported from Neutron.

[0] https://review.opendev.org/#/c/695969

Change-Id: Id625b0abab09fda022be23954ffca453499566bd
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/39/697039/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/db/migration/alembic_migrations/versions/queens/expand/f48286668608_add_ovn_revision_numbers_table.py', 'networking_ovn/db/migration/alembic_migrations/versions/stein/expand/4a478c5c1e16_add_ovn_hash_ring_table.py']",2,1ac97a56a421934ce697ae993b11b63fd966a995,skip-db-table-creation,from sqlalchemy.engine import reflection inspector = reflection.Inspector.from_engine(op.get_bind()) table_names = inspector.get_table_names() if 'ovn_hash_ring' in table_names: return ,,12,0
openstack%2Fproject-config~master~I1e431431779a052ebbacaee1cf2b830fdcb2003a,openstack/project-config,master,I1e431431779a052ebbacaee1cf2b830fdcb2003a,Add a limestone-specific label for debugging,MERGED,2019-12-04 20:42:46.000000000,2019-12-04 21:07:42.000000000,2019-12-04 21:07:41.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 20:42:46.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/aeec5fa2532ba5e720383a18cbd7e41f6e71ef80', 'message': 'Add a limestone-specific label for debugging\n\nLimestone is currently our only ipv6-only provider.  Debugging\nissues that only occur in that situation can be difficult depending\non node allocation.  Add a debug label so we can request a limestone\nnode in these circumstances.\n\nChange-Id: I1e431431779a052ebbacaee1cf2b830fdcb2003a\n'}]",0,697362,aeec5fa2532ba5e720383a18cbd7e41f6e71ef80,8,4,1,1,,,0,"Add a limestone-specific label for debugging

Limestone is currently our only ipv6-only provider.  Debugging
issues that only occur in that situation can be difficult depending
on node allocation.  Add a debug label so we can request a limestone
node in these circumstances.

Change-Id: I1e431431779a052ebbacaee1cf2b830fdcb2003a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/62/697362/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,aeec5fa2532ba5e720383a18cbd7e41f6e71ef80,, - name: ubuntu-bionic-limestone-debug - name: ubuntu-bionic-limestone-debug min-ram: 8000 flavor-name: 'nodepool.0' diskimage: ubuntu-bionic key-name: infra-root-keys-2018-06-15,,6,0
openstack%2Fnetworking-ovn~stable%2Frocky~If3ce6ab1d1318a6d5142989b3bf45ecce97762e3,openstack/networking-ovn,stable/rocky,If3ce6ab1d1318a6d5142989b3bf45ecce97762e3,Fix for getting port groups while using OVS up to 2.9,MERGED,2019-09-23 11:45:46.000000000,2019-12-04 21:04:12.000000000,2019-12-04 21:04:12.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-23 11:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/501d48b181b1d93ac634021860aff708ff9d940e', 'message': 'Fix for getting port groups while using OVS up to 2.9\n\nFunctions get_port_group() and get_port_groups() were failing\nwith KeyError while getting to access non-existent Port_Group\ntable with OVS 2.9.\n\nThis patch adds additional check if Port Group is supported in the\nenv where the code runs.\n\nChange-Id: If3ce6ab1d1318a6d5142989b3bf45ecce97762e3\nCloses-Bug: #1844491\n(cherry-picked from commit a78dbc252d97f1e276a45cb8a633a4b17fcef8d7)\n'}, {'number': 2, 'created': '2019-12-04 09:09:22.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3ac53d2ed48f249b13c88ea1397a0f4b9c356abd', 'message': 'Fix for getting port groups while using OVS up to 2.9\n\nFunctions get_port_group() and get_port_groups() were failing\nwith KeyError while getting to access non-existent Port_Group\ntable with OVS 2.9.\n\nThis patch adds additional check if Port Group is supported in the\nenv where the code runs.\n\nChange-Id: If3ce6ab1d1318a6d5142989b3bf45ecce97762e3\nCloses-Bug: #1844491\n(cherry-picked from commit a78dbc252d97f1e276a45cb8a633a4b17fcef8d7)\n'}]",0,683928,3ac53d2ed48f249b13c88ea1397a0f4b9c356abd,50,6,2,23804,,,0,"Fix for getting port groups while using OVS up to 2.9

Functions get_port_group() and get_port_groups() were failing
with KeyError while getting to access non-existent Port_Group
table with OVS 2.9.

This patch adds additional check if Port Group is supported in the
env where the code runs.

Change-Id: If3ce6ab1d1318a6d5142989b3bf45ecce97762e3
Closes-Bug: #1844491
(cherry-picked from commit a78dbc252d97f1e276a45cb8a633a4b17fcef8d7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/683928/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py']",2,501d48b181b1d93ac634021860aff708ff9d940e,bug/1844491,"import uuid def test_get_port_group_not_supported(self): self._load_nb_db() # Make sure that PG tables doesn't exist in fake db. self._tables.pop('Port_Group', None) port_group = self.nb_ovn_idl.get_port_group(str(uuid.uuid4())) self.assertIsNone(port_group) def test_get_port_groups_not_supported(self): self._load_nb_db() # Make sure that PG tables doesn't exist in fake db. self._tables.pop('Port_Group', None) port_groups = self.nb_ovn_idl.get_port_groups() self.assertEqual({}, port_groups) ",,41,13
openstack%2Fnova~stable%2Fpike~Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,openstack/nova,stable/pike,Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398,Hook resource_tracker to remove stale node information,MERGED,2019-08-14 16:45:04.000000000,2019-12-04 21:04:02.000000000,2019-12-04 21:04:02.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-14 16:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56a825c41317eb16f8bbd4d144e22c5d42b42c64', 'message': 'Hook resource_tracker to remove stale node information\n\nWhen we remove a node from a host due to rebalance or decommission,\nwe need to tell the resource tracker so it stops keeping track of\nthe details for that node. This adds a hook for doing that and\ncalls it from the place in compute manager where we purge the\nrecord from the database.\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict is due to not having change\nI7e0658e681ead30c241ad39baa0fd4334e5a86a1 in Queens.\n\nChange-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398\nCloses-Bug: #1784874\n(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)\n(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)\n'}, {'number': 2, 'created': '2019-08-14 16:54:51.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f112195b0ad99f07784a9fe8dbe32a25329151d', 'message': 'Hook resource_tracker to remove stale node information\n\nWhen we remove a node from a host due to rebalance or decommission,\nwe need to tell the resource tracker so it stops keeping track of\nthe details for that node. This adds a hook for doing that and\ncalls it from the place in compute manager where we purge the\nrecord from the database.\n\nChange-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398\nCloses-Bug: #1784874\n(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)\n(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)\n'}]",1,676461,4f112195b0ad99f07784a9fe8dbe32a25329151d,13,8,2,6873,,,0,"Hook resource_tracker to remove stale node information

When we remove a node from a host due to rebalance or decommission,
we need to tell the resource tracker so it stops keeping track of
the details for that node. This adds a hook for doing that and
calls it from the place in compute manager where we purge the
record from the database.

Change-Id: Ie6b6bb2a9e8a4ad33675fccb3827e8197fa16398
Closes-Bug: #1784874
(cherry picked from commit 99db9faae5c1e84e5aa8586c32ffcca7a61ae276)
(cherry picked from commit 7302a625ee9af2c9dd88f8630f1e95fc5977a70a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/676461/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,56a825c41317eb16f8bbd4d144e22c5d42b42c64,bug/1784705," def remove_node(self, nodename): """"""Handle node removal/rebalance. Clean up any stored data about a compute node no longer managed by this host. """""" self.stats.pop(nodename, None) self.compute_nodes.pop(nodename, None) self.old_resources.pop(nodename, None) ",,38,1
openstack%2Foslo.limit~master~Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7,openstack/oslo.limit,master,Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7,Pick between Flat and StrictTwoLevel enforcement,MERGED,2019-06-19 21:02:17.000000000,2019-12-04 20:50:09.000000000,2019-12-04 20:48:29.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 21:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/42eb1dc53202b82f95fac307f92fc8c0854d8a06', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 2, 'created': '2019-06-19 21:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/dad756f92bf4cc6074121afe6f7e0e0b728e7d8a', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 3, 'created': '2019-06-20 14:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/cda82d4e81dc8d0da250f3223a1d8f4b76881530', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 4, 'created': '2019-06-24 22:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/f743475200b2b52ff2b932abe689b3340581fdc1', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 5, 'created': '2019-06-25 19:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/559ddf17ae70a908602abb16a18a65da19bb394f', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 6, 'created': '2019-07-01 16:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/3f73dd6a84cbe26211809cc31232756b6ebefd3a', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 7, 'created': '2019-07-01 16:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/0613e8154193e5e29c7170dc519af61f44156e7e', 'message': 'Flush out basic enforcer and model relationship\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to forcible determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\n'}, {'number': 8, 'created': '2019-11-22 16:59:18.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6e5b28a80da2f3430978482650770c8a21660417', 'message': 'Pick between Flat and StrictTwoLevel enforcement\n\nThe enforcer needs to be able to determine which model to use and pass\ninformation to it. This commit sets the model attribute on the\nenforcer, adds a method to determine which model to use, and\ndefines a basic interface for enforcement models to use.\n\nChange-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7\nCo-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\nCo-Authored-By: John Garbutt <john.garbutt@stackhpc.com>\n'}]",11,666444,6e5b28a80da2f3430978482650770c8a21660417,40,6,8,5046,,,0,"Pick between Flat and StrictTwoLevel enforcement

The enforcer needs to be able to determine which model to use and pass
information to it. This commit sets the model attribute on the
enforcer, adds a method to determine which model to use, and
defines a basic interface for enforcement models to use.

Change-Id: Id03d361b702c2ee0811f37ad23bb2b9a3171b1f7
Co-Authored-By: wangxiyuan <wangxiyuan1007@gmail.com>
Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>
Co-Authored-By: John Garbutt <john.garbutt@stackhpc.com>
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/44/666444/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_limit/limit.py'],1,42eb1dc53202b82f95fac307f92fc8c0854d8a06,rewrite,"import abc import six self.model = None self.set_enforcement_model() def _get_enforcement_model(self): """"""Query keystone for the configured enforcement model."""""" r = self._connection.limits.model() return r.model.name def set_enforcement_model(self): """"""Set the enforcement model based on configured model in keystone. Callers can invoke the Enforcer to call keystone and ask for the currently configured enforcement model. The Enforcer will reset its model attribute accordingly, if appropriate. """""" current_model = self._get_enforcement_model() for m in _MODELS: if current_model == m.name and self.model != current_model: self.model = m() def enforce(self, project_id, deltas): # query for all project limits # iterate all applicable projects and calculate usage for k, v in iter(deltas.items()): if not isinstance(k, six.text_type): raise ValueError('resource name is not a string.') elif not isinstance(v, int): raise ValueError('resource limit is not an integer.') self.model.enforce(project_id, deltas, self.usage_callback) @six.add_metaclass(abc.ABCMeta) class _BaseEnforcer(object): name = None def enforce(self): raise NotImplementedError() class _FlatEnforcer(_BaseEnforcer): name = 'flat' def enforce(self, project_id, deltas, usage_callback): pass class _StrictTwoLevelEnforcer(_BaseEnforcer): name = 'strict-two-level' def enforce(self, project_id, deltas, usage_callback): pass _MODELS = [_FlatEnforcer, _StrictTwoLevelEnforcer]"," def enforce(self, deltas):",62,2
openstack%2Fneutron~master~Ic2e7ca04929dc89a2e408465eb34ef3feec2e328,openstack/neutron,master,Ic2e7ca04929dc89a2e408465eb34ef3feec2e328,Remove grenade-py3 job from Neutron CI,MERGED,2019-11-20 11:07:37.000000000,2019-12-04 20:00:04.000000000,2019-12-04 19:56:30.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-20 11:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f80bbe8ad6f605907424463b67eedbf3946da50a', 'message': 'Remove grenade-py3 job from Neutron CI\n\nWe have run neutron-grenade-multinode in both check and gate queues\nalready. This job is almost the same as grenade-py3. The only difference\nfrom Neutron pov is that neutron-grenade-multinode is multinode job and\ngrenade-py3 is single node job.\nSo we agreed on last Neutron CI meeting [1], that there is no need to\nrun both of those jobs.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-11-19-16.00.log.html#l-179\n\nChange-Id: Ic2e7ca04929dc89a2e408465eb34ef3feec2e328\n'}, {'number': 2, 'created': '2019-11-25 20:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/112bed6db78ec9111f499f6a8f57f87a2cf05f5c', 'message': 'Remove grenade-py3 job from Neutron CI\n\nWe have run neutron-grenade-multinode in both check and gate queues\nalready. This job is almost the same as grenade-py3. The only difference\nfrom Neutron pov is that neutron-grenade-multinode is multinode job and\ngrenade-py3 is single node job.\nSo we agreed on last Neutron CI meeting [1], that there is no need to\nrun both of those jobs.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-11-19-16.00.log.html#l-179\n\nChange-Id: Ic2e7ca04929dc89a2e408465eb34ef3feec2e328\n'}, {'number': 3, 'created': '2019-11-29 14:56:49.000000000', 'files': ['.zuul.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/151dab39dcb377ffc4a422f28368416d696ef54a', 'message': ""Remove grenade-py3 job from Neutron CI\n\nWe have run neutron-grenade-multinode in both check and gate queues\nalready. This job is almost the same as grenade-py3. The only difference\nfrom Neutron pov is that neutron-grenade-multinode is multinode job and\ngrenade-py3 is single node job.\nSo we agreed on last Neutron CI meeting [1], that there is no need to\nrun both of those jobs.\n\nAs grenade-py3 is part of integrated-gate-networking template together\nwith tempest-integrated-networking job this patch removes also\nintegrated-gate-networking template from neutron's zuul config and adds\nonly tempest-integrated-networking to both check and gate queues.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-11-19-16.00.log.html#l-179\n\nChange-Id: Ic2e7ca04929dc89a2e408465eb34ef3feec2e328\n""}]",0,695172,151dab39dcb377ffc4a422f28368416d696ef54a,29,7,3,11975,,,0,"Remove grenade-py3 job from Neutron CI

We have run neutron-grenade-multinode in both check and gate queues
already. This job is almost the same as grenade-py3. The only difference
from Neutron pov is that neutron-grenade-multinode is multinode job and
grenade-py3 is single node job.
So we agreed on last Neutron CI meeting [1], that there is no need to
run both of those jobs.

As grenade-py3 is part of integrated-gate-networking template together
with tempest-integrated-networking job this patch removes also
integrated-gate-networking template from neutron's zuul config and adds
only tempest-integrated-networking to both check and gate queues.

[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-11-19-16.00.log.html#l-179

Change-Id: Ic2e7ca04929dc89a2e408465eb34ef3feec2e328
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/695172/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,f80bbe8ad6f605907424463b67eedbf3946da50a,cleaning-ci-jobs,, | grenade-py3 | 3.6 | 1 | openvswitch | openvswitch | legacy | False | False | True | Yes | +--------------------------------+---------+-------+-------------+-------------+----------+-------+--------+------------+-------------+,0,6
openstack%2Freleases~master~I0a0e094af192a6ea9e366d8bbf4d695e60640218,openstack/releases,master,I0a0e094af192a6ea9e366d8bbf4d695e60640218,Release octavia-lib 1.5.0 for ussuri,MERGED,2019-12-04 17:23:47.000000000,2019-12-04 19:51:56.000000000,2019-12-04 19:51:56.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 17:23:47.000000000', 'files': ['deliverables/ussuri/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a4f9ba4158112517068806f1c62bee065b6e41f', 'message': 'Release octavia-lib 1.5.0 for ussuri\n\nThis release adds support for new availability zone features.\n\nChange-Id: I0a0e094af192a6ea9e366d8bbf4d695e60640218\n'}]",0,697330,9a4f9ba4158112517068806f1c62bee065b6e41f,8,4,1,11628,,,0,"Release octavia-lib 1.5.0 for ussuri

This release adds support for new availability zone features.

Change-Id: I0a0e094af192a6ea9e366d8bbf4d695e60640218
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/697330/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/octavia-lib.yaml'],1,9a4f9ba4158112517068806f1c62bee065b6e41f,,releases: - version: 1.5.0 projects: - repo: openstack/octavia-lib hash: 12d678a04943aea6c1987ce098c2ff4659109137,,5,0
openstack%2Fopenstacksdk~master~I129fa7f27ffdc82d591c4cf1f23eca46df50e1ba,openstack/openstacksdk,master,I129fa7f27ffdc82d591c4cf1f23eca46df50e1ba,Expose baremetal Node.owner,MERGED,2019-12-03 20:11:08.000000000,2019-12-04 19:43:26.000000000,2019-12-04 19:41:12.000000000,"[{'_account_id': 2}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-03 20:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f07a5de8a474731f94426a6723923e20f4ac495', 'message': ""Expose baremetal Node.owner\n\nThe baremetal API node resource gained the 'owner' field\nin the 1.50 microversion. This adds it to the Node resource\nin the SDK.\n\nChange-Id: I129fa7f27ffdc82d591c4cf1f23eca46df50e1ba\n""}, {'number': 2, 'created': '2019-12-03 20:12:53.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'releasenotes/notes/node-owner-7f4b083ff9da8cce.yaml', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c585ed197fe2d07c5c0bdd399dee937486202a97', 'message': ""Expose baremetal Node.owner\n\nThe baremetal API node resource gained the 'owner' field\nin the 1.50 microversion. This adds it to the Node resource\nin the SDK.\n\nChange-Id: I129fa7f27ffdc82d591c4cf1f23eca46df50e1ba\n""}]",1,697179,c585ed197fe2d07c5c0bdd399dee937486202a97,20,5,2,6873,,,0,"Expose baremetal Node.owner

The baremetal API node resource gained the 'owner' field
in the 1.50 microversion. This adds it to the Node resource
in the SDK.

Change-Id: I129fa7f27ffdc82d591c4cf1f23eca46df50e1ba
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/79/697179/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'releasenotes/notes/node-owner-7f4b083ff9da8cce.yaml', 'openstack/baremetal/v1/node.py']",3,3f07a5de8a474731f94426a6723923e20f4ac495,bp/ironic-tenant-filter," #: A string or UUID of the tenant who owns the baremetal node. Added in API #: microversion 1.50. owner = resource.Body(""owner"")",,13,1
openstack%2Frequirements~master~Ibf778c61f170fcb798dc93c79c9ab4cdae658c84,openstack/requirements,master,Ibf778c61f170fcb798dc93c79c9ab4cdae658c84,Add missing format arg for missing g-r reqs,MERGED,2019-05-03 20:42:00.000000000,2019-12-04 19:35:18.000000000,2019-05-08 04:24:26.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 20:42:00.000000000', 'files': ['openstack_requirements/check.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9078b0c275125b133f515256a821e02e33aaf80f', 'message': 'Add missing format arg for missing g-r reqs\n\nError message when package not found in the global requirements has\nformatting placeholder for the missing package name, but no formatting\nwas being called to actually populate the name.\n\nChange-Id: Ibf778c61f170fcb798dc93c79c9ab4cdae658c84\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,657037,9078b0c275125b133f515256a821e02e33aaf80f,13,5,1,11904,,,0,"Add missing format arg for missing g-r reqs

Error message when package not found in the global requirements has
formatting placeholder for the missing package name, but no formatting
was being called to actually populate the name.

Change-Id: Ibf778c61f170fcb798dc93c79c9ab4cdae658c84
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/657037/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_requirements/check.py'],1,9078b0c275125b133f515256a821e02e33aaf80f,404," ""the name or platform markers there may not match the local "" ""settings."".format(req.package)"," ""the name or platform markers there may not match the local settings.""",2,1
openstack%2Fswift~master~I3833843cd8d23c498a2afe6c68a3f0afe26343c0,openstack/swift,master,I3833843cd8d23c498a2afe6c68a3f0afe26343c0,Update known-failures and config for up-rev'ed ceph/s3tests,MERGED,2019-11-16 00:20:59.000000000,2019-12-04 19:20:18.000000000,2019-11-18 23:39:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-16 00:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83c87e6c7032da2870b66a5e2cae5fd1dee407f8', 'message': ""Update known-failures and config for up-rev'ed ceph/s3tests\n\nChange-Id: I3833843cd8d23c498a2afe6c68a3f0afe26343c0\n""}, {'number': 2, 'created': '2019-11-16 22:24:38.000000000', 'files': ['doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'tools/playbooks/ceph-s3tests/ceph-s3.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/cfb3ae6019d9a4437675ff9d6161d67071fe528d', 'message': ""Update known-failures and config for up-rev'ed ceph/s3tests\n\nChange-Id: I3833843cd8d23c498a2afe6c68a3f0afe26343c0\n""}]",0,694650,cfb3ae6019d9a4437675ff9d6161d67071fe528d,16,2,2,15343,,,0,"Update known-failures and config for up-rev'ed ceph/s3tests

Change-Id: I3833843cd8d23c498a2afe6c68a3f0afe26343c0
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/694650/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'tools/playbooks/ceph-s3tests/ceph-s3.conf']",2,83c87e6c7032da2870b66a5e2cae5fd1dee407f8,,[fixtures] bucket prefix = ceph-s3tests-{random}- [s3 tenant] # XXX(tburke): I have no idea if this even begins to make any sense... user_id = test2:tester2 display_name = test2:tester2 email = test2:tester2 access_key = test2:tester2 secret_key = testing2,,271,0
openstack%2Fdesignate~master~Id8206ee5285d3a73e00ef21b7d3961a29c23ab4b,openstack/designate,master,Id8206ee5285d3a73e00ef21b7d3961a29c23ab4b,Ensure coordination IDs are encoded,MERGED,2019-07-29 20:17:19.000000000,2019-12-04 19:17:13.000000000,2019-08-26 04:46:46.000000000,"[{'_account_id': 8099}, {'_account_id': 11805}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-29 20:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cdd2c6bc8bd336006ee31ffbd0febe8cd7607e60', 'message': ""Ensure coordination IDs are encoded\n\nEnsure coordination IDs are encoded when working with coordination\nbackend. This fixes an issue when upgrading to Python 3 (where bytes\nand str are different types) and _update_partitions() attempts to\nsort types of 'str' and 'bytes', causing designate-producer to crash.\n\nChange-Id: Id8206ee5285d3a73e00ef21b7d3961a29c23ab4b\nCloses-Bug: #1828534\n""}, {'number': 2, 'created': '2019-08-14 14:28:30.000000000', 'files': ['designate/coordination.py', 'designate/producer/service.py', 'releasenotes/notes/bug-1828534-ensure-coordination-ids-are-encoded-b5f32b9e16339251.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/556a27e4e9c9c4e21fb0ea46d8d8832d28c85314', 'message': ""Ensure coordination IDs are encoded\n\nEnsure coordination IDs are encoded when working with coordination\nbackend. This fixes an issue when upgrading to Python 3 (where bytes\nand str are different types) and _update_partitions() attempts to\nsort types of 'str' and 'bytes', causing designate-producer to crash.\n\nChange-Id: Id8206ee5285d3a73e00ef21b7d3961a29c23ab4b\nCloses-Bug: #1828534\n""}]",0,673360,556a27e4e9c9c4e21fb0ea46d8d8832d28c85314,22,5,2,11805,,,0,"Ensure coordination IDs are encoded

Ensure coordination IDs are encoded when working with coordination
backend. This fixes an issue when upgrading to Python 3 (where bytes
and str are different types) and _update_partitions() attempts to
sort types of 'str' and 'bytes', causing designate-producer to crash.

Change-Id: Id8206ee5285d3a73e00ef21b7d3961a29c23ab4b
Closes-Bug: #1828534
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/673360/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/coordination.py', 'designate/producer/service.py']",2,cdd2c6bc8bd336006ee31ffbd0febe8cd7607e60,bug/1828534," self._coordinator, self.service_name, self._coordination_id.encode(), range(0, 4095))"," self._coordinator, self.service_name, self._coordination_id, range(0, 4095))",3,3
openstack%2Foslo.db~master~I2c3a36fbc020d41c5eaa09008a0586142a63d6ba,openstack/oslo.db,master,I2c3a36fbc020d41c5eaa09008a0586142a63d6ba,Bump the openstackdocstheme extension to 1.20,MERGED,2019-11-12 11:15:36.000000000,2019-12-04 19:13:41.000000000,2019-12-04 19:12:23.000000000,"[{'_account_id': 8770}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-12 11:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/e67c4e72e6f0096e9df48aa7a624679c21036125', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c3a36fbc020d41c5eaa09008a0586142a63d6ba\n'}, {'number': 2, 'created': '2019-11-13 11:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4c5b705465dbd836443c65406e83ab02b5842601', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c3a36fbc020d41c5eaa09008a0586142a63d6ba\n'}, {'number': 3, 'created': '2019-11-13 11:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/509214f118b98105592cb538b24de1a74e46295b', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c3a36fbc020d41c5eaa09008a0586142a63d6ba\n'}, {'number': 4, 'created': '2019-11-13 12:06:10.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4370cb39ce2b0a7cc1ac643621d647180568967f', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I2c3a36fbc020d41c5eaa09008a0586142a63d6ba\n'}]",1,693812,4370cb39ce2b0a7cc1ac643621d647180568967f,18,4,4,17130,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I2c3a36fbc020d41c5eaa09008a0586142a63d6ba
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/12/693812/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'releasenotes/source/conf.py']",2,e67c4e72e6f0096e9df48aa7a624679c21036125,,,"project = u'oslo.db Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,17
openstack%2Fkolla~master~I1daeab2e78168443e81a7dcde44edbaa3f8fbeba,openstack/kolla,master,I1daeab2e78168443e81a7dcde44edbaa3f8fbeba,Added senlin-conductor and senlin-health-manager,MERGED,2019-11-05 06:02:09.000000000,2019-12-04 19:09:33.000000000,2019-12-03 20:52:57.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2ce04c4bd1ee7a5506aef3cadd6c0270c3e44d5f', 'message': 'Add new Senlin services\n\nDepends-On: https://review.opendev.org/692691/\nChange-Id: I1daeab2e78168443e81a7dcde44edbaa3f8fbeba\n'}, {'number': 2, 'created': '2019-11-05 08:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/83ba82e546e4aa143bd329dff02382fb67ddfb07', 'message': 'Added senlin-conductor and senlin-health-manager\n\nDepends-On: https://review.opendev.org/692691/\nChange-Id: I1daeab2e78168443e81a7dcde44edbaa3f8fbeba\n'}, {'number': 3, 'created': '2019-11-28 18:27:06.000000000', 'files': ['docker/senlin/senlin-health-manager/Dockerfile.j2', 'docker/senlin/senlin-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f85be51a0387cf7e3fad3e5bb4f6c9971230eee', 'message': 'Added senlin-conductor and senlin-health-manager\n\nDepends-On: https://review.opendev.org/692691/\nChange-Id: I1daeab2e78168443e81a7dcde44edbaa3f8fbeba\n'}]",0,692948,7f85be51a0387cf7e3fad3e5bb4f6c9971230eee,45,8,3,22623,,,0,"Added senlin-conductor and senlin-health-manager

Depends-On: https://review.opendev.org/692691/
Change-Id: I1daeab2e78168443e81a7dcde44edbaa3f8fbeba
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/692948/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/senlin/senlin-health-manager/Dockerfile.j2', 'docker/senlin/senlin-conductor/Dockerfile.j2']",2,2ce04c4bd1ee7a5506aef3cadd6c0270c3e44d5f,senlin_new_services,"FROM {{ namespace }}/{{ image_prefix }}senlin-base:{{ tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% block senlin_conductor_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if install_type == 'binary' %} {% if base_package_type == 'rpm' %} {% set senlin_conductor_packages = ['openstack-senlin-conductor'] %} {% elif base_package_type == 'deb' %} {% set senlin_conductor_packages = ['senlin-conductor'] %} {% endif %} {{ macros.install_packages(senlin_conductor_packages | customizable(""packages"")) }} {% endif %} {% block senlin_conductor_footer %}{% endblock %} {% block footer %}{% endblock %} USER senlin ",,46,0
openstack%2Fnetworking-sfc~stable%2Fstein~I000436c7bbda82a95f1f190b09053b9179ccaf1f,openstack/networking-sfc,stable/stein,I000436c7bbda82a95f1f190b09053b9179ccaf1f,Add libpq-dev to bindep.txt to fix gate error,ABANDONED,2019-12-04 18:47:40.000000000,2019-12-04 18:55:52.000000000,,[],"[{'number': 1, 'created': '2019-12-04 18:47:40.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/817765152f618bd8aa76e23afc5a1c0490005e27', 'message': 'Add libpq-dev to bindep.txt to fix gate error\n\nSpotted log:\nhttp://logs.openstack.org/09/668109/1/check/openstack-tox-py37/af3c478/job-output.txt.gz\n\nChange-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f\n(cherry picked from commit 315eefc9b55df58060e4760fe90f7f545ef0753d)\n'}]",0,697339,817765152f618bd8aa76e23afc5a1c0490005e27,2,0,1,11904,,,0,"Add libpq-dev to bindep.txt to fix gate error

Spotted log:
http://logs.openstack.org/09/668109/1/check/openstack-tox-py37/af3c478/job-output.txt.gz

Change-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f
(cherry picked from commit 315eefc9b55df58060e4760fe90f7f545ef0753d)
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/39/697339/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,817765152f618bd8aa76e23afc5a1c0490005e27,," # This environment can be used to quickly validate that all needed system # packages required to successfully execute test targets are installed [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files. deps = bindep commands = bindep test",,12,0
openstack%2Fceilometer~stable%2Fstein~Id5a2b3e1fb9aed3e620c8b0e9ffb9cf1a447fea8,openstack/ceilometer,stable/stein,Id5a2b3e1fb9aed3e620c8b0e9ffb9cf1a447fea8,Fixes KeyError on volume create/delete,MERGED,2019-04-18 05:07:48.000000000,2019-12-04 18:54:22.000000000,2019-04-18 07:38:23.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-04-18 05:07:48.000000000', 'files': ['ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/data/meters.d/meters.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4685a8fb08f7f7f39c65a22cd417476ece1bba07', 'message': 'Fixes KeyError on volume create/delete\n\nSeems, that cinder changed format of notifications in rocky,\nas image_id in glance_metadata is not a list anymore.\n\nDue to this bug agent-notification get stuck and info about\nvolume delete was not delivered to gnocchi.\n\nChange-Id: Id5a2b3e1fb9aed3e620c8b0e9ffb9cf1a447fea8\nCloses-Bug: 1801348\n(cherry picked from commit 643f7b5702d6ab676c80a86ef0c730524742b97f)\n'}]",0,653657,4685a8fb08f7f7f39c65a22cd417476ece1bba07,7,2,1,28619,,,0,"Fixes KeyError on volume create/delete

Seems, that cinder changed format of notifications in rocky,
as image_id in glance_metadata is not a list anymore.

Due to this bug agent-notification get stuck and info about
volume delete was not delivered to gnocchi.

Change-Id: Id5a2b3e1fb9aed3e620c8b0e9ffb9cf1a447fea8
Closes-Bug: 1801348
(cherry picked from commit 643f7b5702d6ab676c80a86ef0c730524742b97f)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/57/653657/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/pipeline/data/event_definitions.yaml', 'ceilometer/data/meters.d/meters.yaml']",2,4685a8fb08f7f7f39c65a22cd417476ece1bba07,bug/1801348-stable/stein, image_id: $.payload.glance_metadata[?key=image_id].value, image_id: $.payload.glance_metadata[?key=image_id][0].value,2,2
openstack%2Fnetworking-sfc~master~I000436c7bbda82a95f1f190b09053b9179ccaf1f,openstack/networking-sfc,master,I000436c7bbda82a95f1f190b09053b9179ccaf1f,Add libpq-dev to bindep.txt to fix gate error,MERGED,2019-06-28 07:54:05.000000000,2019-12-04 18:47:40.000000000,2019-07-30 11:33:28.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 07:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/a050ce8d5cd2d9aabca313157a92bc9c37104be1', 'message': 'DNM: Testing\n\nChange-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f\n'}, {'number': 2, 'created': '2019-07-05 10:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1620a725d84a64b3eacd3f3b9cd615d587bb6e17', 'message': 'DNM: Testing\n\nChange-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f\n'}, {'number': 3, 'created': '2019-07-05 13:05:17.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/315eefc9b55df58060e4760fe90f7f545ef0753d', 'message': 'Add libpq-dev to bindep.txt to fix gate error\n\nSpotted log:\nhttp://logs.openstack.org/09/668109/1/check/openstack-tox-py37/af3c478/job-output.txt.gz\n\nChange-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f\n'}]",0,668109,315eefc9b55df58060e4760fe90f7f545ef0753d,22,6,3,18955,,,0,"Add libpq-dev to bindep.txt to fix gate error

Spotted log:
http://logs.openstack.org/09/668109/1/check/openstack-tox-py37/af3c478/job-output.txt.gz

Change-Id: I000436c7bbda82a95f1f190b09053b9179ccaf1f
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/09/668109/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a050ce8d5cd2d9aabca313157a92bc9c37104be1,,,,1,0
openstack%2Fhorizon~master~I2715c6573f1c84bbba64e9e850421b54003b80da,openstack/horizon,master,I2715c6573f1c84bbba64e9e850421b54003b80da,Compact overly nested css in compressed css,MERGED,2019-11-18 15:38:32.000000000,2019-12-04 18:35:21.000000000,2019-12-04 18:32:02.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-18 15:38:32.000000000', 'files': ['horizon/utils/scss_filter.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f2264d9f33d4a9e9e44bb5e5848ab399b25bbf82', 'message': 'Compact overly nested css in compressed css\n\nBefore:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css\n    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css\n    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css\n\nAfter:\n\n    # ls -l static/dashboard/css/output.*css\n    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css\n    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css\n    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css\n    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css\n\nI.e. 12x smaller.\n\nChange-Id: I2715c6573f1c84bbba64e9e850421b54003b80da\nSee: https://github.com/Kronuz/pyScss/issues/243\n'}]",0,694795,f2264d9f33d4a9e9e44bb5e5848ab399b25bbf82,9,4,1,31241,,,0,"Compact overly nested css in compressed css

Before:

    # ls -l static/dashboard/css/output.*css
    -rw-r--r-- 1 root root 6925719 Oct 29 15:00 static/dashboard/css/output.28f3a5b9a5de.css
    -rw-r--r-- 1 root root   41082 Oct 29 14:59 static/dashboard/css/output.361cca58bb99.css
    -rw-r--r-- 1 root root 1268980 Oct 29 14:59 static/dashboard/css/output.be235b4cb282.css
    -rw-r--r-- 1 root root     306 Oct 29 14:59 static/dashboard/css/output.fb46d877de44.css

After:

    # ls -l static/dashboard/css/output.*css
    -rw-r--r-- 1 root root    224 Oct 29 14:57 static/dashboard/css/output.28d154fd34de.css
    -rw-r--r-- 1 root root 388079 Oct 29 14:57 static/dashboard/css/output.2bb8178d434f.css
    -rw-r--r-- 1 root root  41082 Oct 29 14:57 static/dashboard/css/output.361cca58bb99.css
    -rw-r--r-- 1 root root 242717 Oct 29 14:57 static/dashboard/css/output.d2683889a5b6.css

I.e. 12x smaller.

Change-Id: I2715c6573f1c84bbba64e9e850421b54003b80da
See: https://github.com/Kronuz/pyScss/issues/243
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/694795/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/utils/scss_filter.py'],1,f2264d9f33d4a9e9e44bb5e5848ab399b25bbf82,master-more-compact-compressed-css," # output_style is 'nested' by default, which is crazy. See: # https://github.com/Kronuz/pyScss/issues/243 output_style='compact', # or 'compressed'",,3,0
openstack%2Fhorizon~stable%2Ftrain~I84f4da9c84d75c458b54bd456cbc7b92b303ba81,openstack/horizon,stable/train,I84f4da9c84d75c458b54bd456cbc7b92b303ba81,Fix deleting port from port details page,MERGED,2019-12-03 10:11:09.000000000,2019-12-04 17:58:23.000000000,2019-12-04 17:56:32.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-03 10:11:09.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/697f19de10035f6096fb56d00d6ded345014fe3b', 'message': 'Fix deleting port from port details page\n\nThis patch fixes ""Delete port"" button at the port details page:\nProject -> Network -> Networks -> <network name> -> Ports -> <port name>\n\nChange-Id: I84f4da9c84d75c458b54bd456cbc7b92b303ba81\nCloses-Bug: #1854514\n(cherry picked from commit 18020e30b67efa9e67d061c317804a6f800b74c7)\n'}]",0,697042,697f19de10035f6096fb56d00d6ded345014fe3b,10,5,1,6914,,,0,"Fix deleting port from port details page

This patch fixes ""Delete port"" button at the port details page:
Project -> Network -> Networks -> <network name> -> Ports -> <port name>

Change-Id: I84f4da9c84d75c458b54bd456cbc7b92b303ba81
Closes-Bug: #1854514
(cherry picked from commit 18020e30b67efa9e67d061c317804a6f800b74c7)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/42/697042/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/ports/views.py'],1,697f19de10035f6096fb56d00d6ded345014fe3b,bug/1854514-stable/train," context[""url""] = reverse( 'horizon:project:networks:ports_tab', args=[port.network_id])"," context[""url""] = self.get_redirect_url()",2,1
openstack%2Fgovernance-sigs~master~I2e4be272b22c99f9c4b46c3a5bf04d64e32536d9,openstack/governance-sigs,master,I2e4be272b22c99f9c4b46c3a5bf04d64e32536d9,Propose Large Scale SIG,MERGED,2019-11-27 13:22:24.000000000,2019-12-04 17:51:09.000000000,2019-12-04 17:49:07.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-27 13:22:24.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/06b6a3a6bb7b3f1f993c7790cd20b9d8467e632a', 'message': 'Propose Large Scale SIG\n\nDuring a forum session in Shanghai around the opportunity to create\na SIG around large scale issues, there was a critical mass of people\ninterested in participating in such a group. The Large Scale SIG held\nits first meeting on November 27.\n\nChange-Id: I2e4be272b22c99f9c4b46c3a5bf04d64e32536d9\n'}]",0,696302,06b6a3a6bb7b3f1f993c7790cd20b9d8467e632a,11,5,1,308,,,0,"Propose Large Scale SIG

During a forum session in Shanghai around the opportunity to create
a SIG around large scale issues, there was a critical mass of people
interested in participating in such a group. The Large Scale SIG held
its first meeting on November 27.

Change-Id: I2e4be272b22c99f9c4b46c3a5bf04d64e32536d9
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/02/696302/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,06b6a3a6bb7b3f1f993c7790cd20b9d8467e632a,large-scale-sig,"Large Scale: chairs: - name: Belmiro Moreira irc: belmoreira email: belmiro.moreira@cern.ch - name: Pengju Jiao irc: jiaopengju email: jiaopengju@cmss.chinamobile.com - name: Thierry Carrez irc: ttx email: thierry@openstack.org scope: > The aim of the group is to facilitate running OpenStack at large scale, and help address some of the limitations operators encounter in large OpenStack clusters. status: active url: https://wiki.openstack.org/wiki/Large_Scale_SIG ",,18,0
openstack%2Fswift~master~I587275e68083aaed3c04486049b67791b52562b7,openstack/swift,master,I587275e68083aaed3c04486049b67791b52562b7,Fix BadResponseLength error when creating symlink,MERGED,2019-11-26 15:52:14.000000000,2019-12-04 17:41:47.000000000,2019-12-02 12:56:10.000000000,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-26 15:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2ecf8f38d0ff3ccc7cac34c21a4982b79596535', 'message': 'Fix BadResponseLength error when creating symlink\n\nCloses-Bug: #1854074\n\nChange-Id: I587275e68083aaed3c04486049b67791b52562b7\n'}, {'number': 2, 'created': '2019-11-27 17:21:40.000000000', 'files': ['swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a2aaf598520331874c8d49a3230f6d4892fb3207', 'message': 'Fix BadResponseLength error when creating symlink\n\nCloses-Bug: #1854074\n\nChange-Id: I587275e68083aaed3c04486049b67791b52562b7\n'}]",0,696113,a2aaf598520331874c8d49a3230f6d4892fb3207,20,2,2,1179,,,0,"Fix BadResponseLength error when creating symlink

Closes-Bug: #1854074

Change-Id: I587275e68083aaed3c04486049b67791b52562b7
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/696113/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py']",2,e2ecf8f38d0ff3ccc7cac34c21a4982b79596535,bug/1854074," def test_symlink_simple_put_error(self): self.app.register('HEAD', '/v1/a/c1/o', swob.HTTPInternalServerError, {}, 'bad news') req = Request.blank('/v1/a/c/symlink', method='PUT', headers={ 'X-Symlink-Target': 'c1/o', 'X-Symlink-Target-Etag': 'not-tgt-etag', }, body='') status, headers, body = self.call_sym(req) self.assertEqual(status, '500 Internal Error') # this is a PUT response; so if we have a content-length... self.assertGreater(int(dict(headers)['Content-Length']), 0) # ... we better have a body! self.assertIn(b'Internal Error', body) ",,21,5
openstack%2Fnetworking-ovn~stable%2Fstein~Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,openstack/networking-ovn,stable/stein,Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559,Initialize TLS prior to retrieving OVSDB schema,MERGED,2019-11-13 08:13:49.000000000,2019-12-04 17:24:50.000000000,2019-12-04 17:23:11.000000000,"[{'_account_id': 1131}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-13 08:13:49.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5b93b558c6bcaeeabf80f9213a4f78c42d0ab850', 'message': 'Initialize TLS prior to retrieving OVSDB schema\n\nChange-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559\nCloses-Bug: #1847032\n(cherry picked from commit e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73)\n'}]",0,694007,5b93b558c6bcaeeabf80f9213a4f78c42d0ab850,18,5,1,24791,,,0,"Initialize TLS prior to retrieving OVSDB schema

Change-Id: Ic7e97ae78dadc4a07cff695a108c82fd3cb8e559
Closes-Bug: #1847032
(cherry picked from commit e349bfb14aeaa884e3d26dce7e09ffb96cc0ae73)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/07/694007/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,5b93b558c6bcaeeabf80f9213a4f78c42d0ab850,bug/1847032-stable/stein, ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA),,1,0
openstack%2Fopenstack-helm-infra~master~I70b8fac4fd2365f8eedcf50519f125eb34534f2f,openstack/openstack-helm-infra,master,I70b8fac4fd2365f8eedcf50519f125eb34534f2f,Add feature gate capability to OSH-Infra,MERGED,2019-10-22 13:47:50.000000000,2019-12-04 17:13:24.000000000,2019-12-04 17:11:09.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-22 13:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53d260469a8b96182e9e21f63641c780f32f0b73', 'message': '[WIP][RFC] Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 2, 'created': '2019-10-22 15:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b971218957321f1e6529c44fce2c3afdce2ed0e8', 'message': '[WIP][RFC] Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 3, 'created': '2019-10-23 04:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bc05a71324519b6fc094afde1c6fa61d85a6013', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 4, 'created': '2019-10-24 15:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ed0ad146879bcfedae140cff7d4502fe9e61bb7', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 5, 'created': '2019-10-25 13:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d53914fa0dcebcf3ca01c708e1989d2c6244fa7a', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 6, 'created': '2019-10-25 13:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de7200d079aba6a0eb76a43f7bdb7e8a7479ed4f', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 7, 'created': '2019-10-31 15:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d047ae4d189e22d8d3e3315ea577a3af2c6120f0', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 8, 'created': '2019-11-02 03:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb9a9d87dc908b2355e921000cc2d5ebc83e43b6', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 9, 'created': '2019-11-10 16:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/74dd9719766f2c874abce510a423131cdd38dd81', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 10, 'created': '2019-11-11 07:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/95512068a0e190f2289508c12f7d58f68f1efddf', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 11, 'created': '2019-11-21 12:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f30c2db54f989add0c7ef78f5dbacdaf34ee3a81', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 12, 'created': '2019-11-21 14:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed579e20690a61e5c84fb516614b8f0b788d5e11', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\n'}, {'number': 13, 'created': '2019-11-21 17:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a6ed9b5f0cf8e6520316606200b67f944cb2fd2', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2019-11-21 19:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a3c7a7e58002c92f1750a5ced9103f3c2135e9f', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2019-11-22 15:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a7136998bf4e2f1ff00bdd348e73c56450864e5', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2019-11-23 23:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/329202ab9813616f06aa15466a37aa1dc6999107', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2019-11-25 23:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0eadb67cb7a308b3749878686b0ecaf4579e610', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2019-11-27 01:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89e54de35745c3f5a8a762886586abb2a687fdb9', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2019-12-03 22:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/693e19e2753493e96192b2a3713e9e9b7dcfe341', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2019-12-03 22:55:04.000000000', 'files': ['tools/deployment/osh-infra-logging/075-kibana.sh', 'tools/deployment/network-policy/045-mariadb.sh', 'tools/deployment/apparmor/020-ceph.sh', 'tools/deployment/multinode/045-mariadb.sh', 'tools/deployment/apparmor/040-memcached.sh', 'tools/deployment/openstack-support/030-rabbitmq.sh', 'tools/deployment/common/get-values-overrides.sh', 'tools/deployment/osh-infra-logging/050-elasticsearch.sh', 'tools/deployment/openstack-support/050-libvirt.sh', 'tools/deployment/common/040-ldap.sh', 'tools/deployment/tenant-ceph/040-tenant-ceph.sh', 'tools/deployment/keystone-auth/060-mariadb.sh', 'tools/deployment/apparmor/050-libvirt.sh', 'tools/deployment/osh-infra-monitoring/120-nagios.sh', 'tools/deployment/osh-infra-monitoring/130-postgresql.sh', 'tools/deployment/tenant-ceph/030-ceph.sh', 'tools/deployment/multinode/035-ceph-ns-activate.sh', 'tools/deployment/osh-infra-logging/025-ceph-ns-activate.sh', 'tools/deployment/tenant-ceph/045-tenant-ceph-ns-activate.sh', 'tools/deployment/common/fluentbit.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh', 'tools/deployment/osh-infra-monitoring/045-mariadb.sh', 'tools/deployment/keystone-auth/070-keystone.sh', 'tools/deployment/common/env-variables.sh', 'tools/deployment/openstack-support/025-ceph-ns-activate.sh', 'tools/deployment/multinode/030-ceph.sh', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'tools/deployment/openstack-support/040-memcached.sh', 'tools/deployment/openstack-support/060-openvswitch.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/daefed7218af504bc57bde16f47789a9fc97683b', 'message': 'Add feature gate capability to OSH-Infra\n\nThis patch set adds the feature gate capability to OpenStack-Helm-Infra\nrepository without depending on the main OpenStack-Helm repository.\n\nChange-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f\nSigned-off-by: Tin Lam <tlam@omegaprime.dev>\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",27,690080,daefed7218af504bc57bde16f47789a9fc97683b,66,9,20,20466,,,0,"Add feature gate capability to OSH-Infra

This patch set adds the feature gate capability to OpenStack-Helm-Infra
repository without depending on the main OpenStack-Helm repository.

Change-Id: I70b8fac4fd2365f8eedcf50519f125eb34534f2f
Signed-off-by: Tin Lam <tlam@omegaprime.dev>
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/690080/16 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/get-values-overrides.sh', 'tools/deployment/common/env-variables.sh', 'tools/deployment/common/040-ldap.sh']",3,53d260469a8b96182e9e21f63641c780f32f0b73,feature-gates,": ${OSH_INFRA_EXTRA_HELM_ARGS_LDAP:=""$(./tools/deployment/common/get-values-overrides.sh ldap)""} --set bootstrap.enabled=true \ ${OSH_INFRA_EXTRA_HELM_ARGS_LDAP}", --set bootstrap.enabled=true,86,1
openstack%2Fpuppet-tripleo~master~I457f2c81a2cf6cc2f42dc4585b41b0d91dacc059,openstack/puppet-tripleo,master,I457f2c81a2cf6cc2f42dc4585b41b0d91dacc059,Replace hiera('service_names') by hiera('enabled_services'),MERGED,2019-07-05 17:28:12.000000000,2019-12-04 17:07:08.000000000,2019-07-12 17:36:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-05 17:28:12.000000000', 'files': ['manifests/firewall.pp', 'manifests/profile/base/nova/migration/target.pp', 'spec/fixtures/hieradata/step4.yaml', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/logging/fluentd.pp', 'manifests/profile/base/logging/rsyslog.pp', 'spec/fixtures/hieradata/step2.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7970733cf1483fab466f205e57c9ea224f051c94', 'message': ""Replace hiera('service_names') by hiera('enabled_services')\n\nIn the effort of reducing the number of Hieradata files, the\nservice_names parameter previously consummed in puppet-tripleo can be\nreplaced by enabled_services which contains the same list.\n\nIt will allow us later to remove the service_names hieradata file.\n\nChange-Id: I457f2c81a2cf6cc2f42dc4585b41b0d91dacc059\nRelated-Bug: #1835551\n""}]",0,669414,7970733cf1483fab466f205e57c9ea224f051c94,19,5,1,3153,,,0,"Replace hiera('service_names') by hiera('enabled_services')

In the effort of reducing the number of Hieradata files, the
service_names parameter previously consummed in puppet-tripleo can be
replaced by enabled_services which contains the same list.

It will allow us later to remove the service_names hieradata file.

Change-Id: I457f2c81a2cf6cc2f42dc4585b41b0d91dacc059
Related-Bug: #1835551
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/669414/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/firewall.pp', 'manifests/profile/base/nova/migration/target.pp', 'spec/fixtures/hieradata/step4.yaml', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/logging/fluentd.pp', 'manifests/profile/base/logging/rsyslog.pp', 'spec/fixtures/hieradata/step2.yaml', 'manifests/profile/base/neutron/plugins/ml2.pp']",8,7970733cf1483fab466f205e57c9ea224f051c94,bug/1835551,"# Defaults to hiera('enabled_services') $service_names = hiera('enabled_services'),","# Defaults to hiera('service_names') $service_names = hiera('service_names'),",11,11
openstack%2Fos-net-config~stable%2Fqueens~Ib4d40bac8e25600be97cdae3715c87449aad573b,openstack/os-net-config,stable/queens,Ib4d40bac8e25600be97cdae3715c87449aad573b,Using tempfile instead of fixed path in unit tests.,MERGED,2019-12-03 16:09:15.000000000,2019-12-04 16:53:05.000000000,2019-12-04 16:53:05.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 16:09:15.000000000', 'files': ['os_net_config/tests/test_sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/30585d72d2bc921f5fd4f3bb1386775bcf08e48c', 'message': 'Using tempfile instead of fixed path in unit tests.\n\nChange-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b\n(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)\n'}]",0,697127,30585d72d2bc921f5fd4f3bb1386775bcf08e48c,8,4,1,18904,,,0,"Using tempfile instead of fixed path in unit tests.

Change-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b
(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/27/697127/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_sriov_config.py'],1,30585d72d2bc921f5fd4f3bb1386775bcf08e48c,test_issue-stable/queens,"import tempfile """"""Unit tests for methods defined in sriov_config.py"""""" tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.sriov_config._SYS_CLASS_NET', tmpdir) sriov_config._UDEV_RULE_FILE = '/tmp/' + rand + 'etc_udev_rules.d'\ '80-persistent-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/' + rand + 'sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/' + rand + 'etc_sysconfig_'\ 'allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/' + rand + 'sriov_config'\ if os.path.isfile(sriov_config._RESET_SRIOV_RULES_FILE): os.remove(sriov_config._RESET_SRIOV_RULES_FILE) if os.path.isfile(sriov_config._ALLOCATE_VFS_FILE): os.remove(sriov_config._ALLOCATE_VFS_FILE) if os.path.isfile(sriov_config._UDEV_LEGACY_RULE_FILE): os.remove(sriov_config._UDEV_LEGACY_RULE_FILE) """"""Test the numvfs setting for SR-IOV PF Test the udev rules created for legacy mode of SR-IOV PF """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: The ifup-local has the default content generated by puppet-tripleo """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: When os-net-config is run on fresh deployments, all these files will not exist. """""" """"""Test the cleanup of puppet-tripleo generated config file Usecase: When os-net-config is run first time after the deprecation of NeutronSriovNumVFs and ifup-local has contents other than invoking allocate_vfs. """""" """"""Test the numvfs config with valid arguments"""""" """"""Test the numvfs config with invalid arguments"""""" """"""Test the numvfs config while its already configured"""""" """"""Test configuration of SR-IOV VF settings"""""" ", sriov_config._SYS_CLASS_NET = '/tmp/sys_class_net' sriov_config._UDEV_RULE_FILE = '/tmp/etc_udev_rules.d_80-persistent'\ '-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/etc_udev_rules.d_'\ '70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/etc_udev_rules.d_'\ '70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/etc_sysconfig_allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/sriov_config_' + rand + \ os.mkdir(sriov_config._SYS_CLASS_NET),54,11
openstack%2Fos-net-config~stable%2Frocky~Ib4d40bac8e25600be97cdae3715c87449aad573b,openstack/os-net-config,stable/rocky,Ib4d40bac8e25600be97cdae3715c87449aad573b,Using tempfile instead of fixed path in unit tests.,MERGED,2019-12-03 16:08:48.000000000,2019-12-04 16:53:00.000000000,2019-12-04 16:53:00.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 16:08:48.000000000', 'files': ['os_net_config/tests/test_sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/af134457617465cf6626d76300b6f46658b4c3ca', 'message': 'Using tempfile instead of fixed path in unit tests.\n\nChange-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b\n(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)\n'}]",0,697126,af134457617465cf6626d76300b6f46658b4c3ca,8,4,1,18904,,,0,"Using tempfile instead of fixed path in unit tests.

Change-Id: Ib4d40bac8e25600be97cdae3715c87449aad573b
(cherry picked from commit 3e938d82f57e89cc57596bbd8f5a87ba480149f6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/26/697126/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/tests/test_sriov_config.py'],1,af134457617465cf6626d76300b6f46658b4c3ca,test_issue-stable/rocky,"import tempfile """"""Unit tests for methods defined in sriov_config.py"""""" tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.sriov_config._SYS_CLASS_NET', tmpdir) sriov_config._UDEV_RULE_FILE = '/tmp/' + rand + 'etc_udev_rules.d'\ '80-persistent-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/' + rand + 'sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/' + rand + 'etc_udev_'\ 'rules.d_70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/' + rand + 'etc_sysconfig_'\ 'allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/' + rand + 'sriov_config'\ if os.path.isfile(sriov_config._RESET_SRIOV_RULES_FILE): os.remove(sriov_config._RESET_SRIOV_RULES_FILE) if os.path.isfile(sriov_config._ALLOCATE_VFS_FILE): os.remove(sriov_config._ALLOCATE_VFS_FILE) if os.path.isfile(sriov_config._UDEV_LEGACY_RULE_FILE): os.remove(sriov_config._UDEV_LEGACY_RULE_FILE) """"""Test the numvfs setting for SR-IOV PF Test the udev rules created for legacy mode of SR-IOV PF """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: The ifup-local has the default content generated by puppet-tripleo """""" """"""Test the cleanup of puppet-tripleo generated config file. Usecase: When os-net-config is run on fresh deployments, all these files will not exist. """""" """"""Test the cleanup of puppet-tripleo generated config file Usecase: When os-net-config is run first time after the deprecation of NeutronSriovNumVFs and ifup-local has contents other than invoking allocate_vfs. """""" """"""Test the numvfs config with valid arguments"""""" """"""Test the numvfs config with invalid arguments"""""" """"""Test the numvfs config while its already configured"""""" """"""Test configuration of SR-IOV VF settings"""""" ", sriov_config._SYS_CLASS_NET = '/tmp/sys_class_net' sriov_config._UDEV_RULE_FILE = '/tmp/etc_udev_rules.d_80-persistent'\ '-os-net-config.rules' sriov_config._UDEV_LEGACY_RULE_FILE = '/tmp/etc_udev_rules.d_'\ '70-os-net-config-sriov.rules' sriov_config._IFUP_LOCAL_FILE = '/tmp/sbin_ifup-local' sriov_config._RESET_SRIOV_RULES_FILE = '/tmp/etc_udev_rules.d_'\ '70-tripleo-reset-sriov.rules' sriov_config._ALLOCATE_VFS_FILE = '/tmp/etc_sysconfig_allocate_vfs' sriov_config._SRIOV_CONFIG_FILE = '/tmp/sriov_config_' + rand + \ os.mkdir(sriov_config._SYS_CLASS_NET),54,11
openstack%2Fnetworking-baremetal~master~I73e8f81041a31501215be99f6ab0f05afc03e06a,openstack/networking-baremetal,master,I73e8f81041a31501215be99f6ab0f05afc03e06a,Stop using six library,MERGED,2019-12-03 13:23:05.000000000,2019-12-04 16:13:10.000000000,2019-12-04 16:11:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-12-03 13:23:05.000000000', 'files': ['networking_baremetal/agent/ironic_neutron_agent.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/7ea0e6f76edfb2a7bb0e1d946ed2a08595104744', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I73e8f81041a31501215be99f6ab0f05afc03e06a\n""}]",2,697081,7ea0e6f76edfb2a7bb0e1d946ed2a08595104744,9,4,1,23851,,,0,"Stop using six library

Since we've dropped support for Python 2.7, it's time to look at
the bright future that Python 3.x will bring and stop forcing
compatibility with older versions.
This patch removes the six library from requirements, not
looking back.

Change-Id: I73e8f81041a31501215be99f6ab0f05afc03e06a
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/81/697081/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_baremetal/agent/ironic_neutron_agent.py', 'lower-constraints.txt']",2,7ea0e6f76edfb2a7bb0e1d946ed2a08595104744,goodbye-six,,six==1.11.0,5,6
openstack%2Fmetalsmith~master~I19384db89fc2a68376efc3f9f2e05fbd05046fd6,openstack/metalsmith,master,I19384db89fc2a68376efc3f9f2e05fbd05046fd6,Stop using six library,MERGED,2019-12-03 14:15:29.000000000,2019-12-04 16:12:36.000000000,2019-12-04 16:08:05.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-03 14:15:29.000000000', 'files': ['requirements.txt', 'metalsmith/_utils.py', 'metalsmith/test/test_instance.py', 'lower-constraints.txt', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'metalsmith/sources.py', 'metalsmith/_scheduler.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/c765bbe8a80e9bd1213cf96da7bf96d6d1658d5c', 'message': ""Stop using six library\n\nSince we've dropped support for Python 2.7, it's time to look at\nthe bright future that Python 3.x will bring and stop forcing\ncompatibility with older versions.\nThis patch removes the six library from requirements, not\nlooking back.\n\nChange-Id: I19384db89fc2a68376efc3f9f2e05fbd05046fd6\n""}]",2,697093,c765bbe8a80e9bd1213cf96da7bf96d6d1658d5c,9,4,1,15519,,,0,"Stop using six library

Since we've dropped support for Python 2.7, it's time to look at
the bright future that Python 3.x will bring and stop forcing
compatibility with older versions.
This patch removes the six library from requirements, not
looking back.

Change-Id: I19384db89fc2a68376efc3f9f2e05fbd05046fd6
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/93/697093/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'metalsmith/_utils.py', 'metalsmith/test/test_instance.py', 'lower-constraints.txt', 'metalsmith/test/test_cmd.py', 'metalsmith/_provisioner.py', 'metalsmith/sources.py', 'metalsmith/_scheduler.py']",8,c765bbe8a80e9bd1213cf96da7bf96d6d1658d5c,goodbye-six,"class Filter(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class Filter(object):,18,27
openstack%2Fnova~master~Ib9332b8677c4ccb9e38b6fcdf39e989a891a56fe,openstack/nova,master,Ib9332b8677c4ccb9e38b6fcdf39e989a891a56fe,Add QoS tempest config so bw tests run,MERGED,2019-12-03 20:11:28.000000000,2019-12-04 16:11:13.000000000,2019-12-04 16:01:43.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-03 20:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49c19e3bf71cb5b46e35a3fe5ff9bb97bbdf9771', 'message': 'Add QoS tempest config so bw tests run\n\nIn [1] the tempest-slow-py3 job was dropped and non-redundant bits\nfolded into the nova-next job.\n\nExcept we forgot to move over some of the config necessary to make this\nQoS bandwidth test [2] work, so it gets skipped:\n\nsetUpClass (tempest.scenario.test_minbw_allocation_placement.MinBwAllocationPlacementTest)\n... SKIPPED: Skipped as no physnet is available in config for placement based QoS allocation.\n\nThis syncs the nova-next job with the config like what was done for\ntempest-slow here [3]. Some of that was already in place (to make\nQoS heal allocation testing work).\n\n[1] https://review.opendev.org/#/c/683988/\n[2] https://github.com/openstack/tempest/blob/3eb3c29e979fd3f13c205d62119748952d63054a/tempest/scenario/test_minbw_allocation_placement.py#L142\n[3] https://github.com/openstack/tempest/commit/c87a06b3c29427dc8f2513047c804e0410b4b99c\n\nChange-Id: Ib9332b8677c4ccb9e38b6fcdf39e989a891a56fe\n'}, {'number': 2, 'created': '2019-12-03 20:19:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f347839151a78f9fbc70c79f017fb0e96438465c', 'message': 'Add QoS tempest config so bw tests run\n\nIn [1] the tempest-slow-py3 job was dropped and non-redundant bits\nfolded into the nova-next job.\n\nExcept we forgot to move over some of the config necessary to make this\nQoS bandwidth test [2] work, so it gets skipped:\n\nsetUpClass (tempest.scenario.test_minbw_allocation_placement.MinBwAllocationPlacementTest)\n... SKIPPED: Skipped as no physnet is available in config for placement based QoS allocation.\n\nThis syncs the nova-next job with the config like what was done for\ntempest-slow here [3]. Some of that was already in place (to make\nQoS heal allocation testing work).\n\n[1] https://review.opendev.org/#/c/683988/\n[2] https://github.com/openstack/tempest/blob/3eb3c29e979fd3f13c205d62119748952d63054a/tempest/scenario/test_minbw_allocation_placement.py#L142\n[3] https://github.com/openstack/tempest/commit/c87a06b3c29427dc8f2513047c804e0410b4b99c\n\nCloses-Bug: #1854993\n\nChange-Id: Ib9332b8677c4ccb9e38b6fcdf39e989a891a56fe\n'}]",2,697180,f347839151a78f9fbc70c79f017fb0e96438465c,27,10,2,14070,,,0,"Add QoS tempest config so bw tests run

In [1] the tempest-slow-py3 job was dropped and non-redundant bits
folded into the nova-next job.

Except we forgot to move over some of the config necessary to make this
QoS bandwidth test [2] work, so it gets skipped:

setUpClass (tempest.scenario.test_minbw_allocation_placement.MinBwAllocationPlacementTest)
... SKIPPED: Skipped as no physnet is available in config for placement based QoS allocation.

This syncs the nova-next job with the config like what was done for
tempest-slow here [3]. Some of that was already in place (to make
QoS heal allocation testing work).

[1] https://review.opendev.org/#/c/683988/
[2] https://github.com/openstack/tempest/blob/3eb3c29e979fd3f13c205d62119748952d63054a/tempest/scenario/test_minbw_allocation_placement.py#L142
[3] https://github.com/openstack/tempest/commit/c87a06b3c29427dc8f2513047c804e0410b4b99c

Closes-Bug: #1854993

Change-Id: Ib9332b8677c4ccb9e38b6fcdf39e989a891a56fe
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/697180/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,49c19e3bf71cb5b46e35a3fe5ff9bb97bbdf9771,bug/1854993, test-config: $TEMPEST_CONFIG: network-feature-enabled: qos_placement_physnet: public,,4,0
openstack%2Ftripleo-heat-templates~master~I7dbad26cef9c1cf9c68610d6d06e0f212241cf75,openstack/tripleo-heat-templates,master,I7dbad26cef9c1cf9c68610d6d06e0f212241cf75,Disable ceph dashboard to fix upstream ci,MERGED,2019-10-22 08:15:47.000000000,2019-12-04 15:49:54.000000000,2019-10-22 14:54:48.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-22 08:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e31e5a70825ef855f54c9f7b344e6696610fa23', 'message': 'Disable ceph dashboard to fix upstream ci\n\nThis review just disable ceph-dashboard on scenario001 since\nthe last promoted ceph-ansible contains a task with a command\nthat seems not provided yet by the ceph container current build.\nThe patch can be reverted after a new ceph container tag will\nbe created.\n\nChange-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75\n'}, {'number': 2, 'created': '2019-10-22 08:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/878319fb7b30a7471981107e6f627a1721c699fa', 'message': 'Disable ceph dashboard to fix upstream ci\n\nThis review just disable ceph-dashboard on scenario001 since\nthe last promoted ceph-ansible contains a task with a command\nthat seems not provided yet by the ceph container current build.\nThe patch can be reverted after a new ceph container tag will\nbe created.\n\nRelated-Bug: #1849274\nChange-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75\n'}, {'number': 3, 'created': '2019-10-22 08:56:39.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c2cba372bb413e6207118648f5adfa3ff9d28a1', 'message': 'Disable ceph dashboard to fix upstream ci\n\nThis review just disable ceph-dashboard on scenario001 since\nthe last promoted ceph-ansible contains a task with a command\nthat seems not provided yet by the ceph container current build.\nThe patch can be reverted after a new ceph container tag will\nbe created.\n\nRelated-Bug: #1849274\nChange-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75\n'}]",3,690007,8c2cba372bb413e6207118648f5adfa3ff9d28a1,21,8,3,25402,,,0,"Disable ceph dashboard to fix upstream ci

This review just disable ceph-dashboard on scenario001 since
the last promoted ceph-ansible contains a task with a command
that seems not provided yet by the ceph container current build.
The patch can be reverted after a new ceph container tag will
be created.

Related-Bug: #1849274
Change-Id: I7dbad26cef9c1cf9c68610d6d06e0f212241cf75
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/690007/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,0e31e5a70825ef855f54c9f7b344e6696610fa23,, CephEnableDashboard: false, CephEnableDashboard: true,1,1
openstack%2Fcharm-tempest~master~I618235384164c03776bd25bf669543fbd99794ad,openstack/charm-tempest,master,I618235384164c03776bd25bf669543fbd99794ad,Change openstack clients install directive,MERGED,2019-12-04 14:52:01.000000000,2019-12-04 15:39:16.000000000,2019-12-04 15:39:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 14:52:01.000000000', 'files': ['src/wheelhouse.txt', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/a9a5a2e5fa390b5bd448b3fbff48b32556244d40', 'message': 'Change openstack clients install directive\n\nThis change switches to using the python_packages *1 layer.yaml\ndirective for installing the openstack clients for use by the\ncharm. This is primarily to work around *2\n\n*1 https://charmsreactive.readthedocs.io/en/latest/layer-basic.html#layer-configuration\n*2 https://github.com/juju-solutions/layer-basic/issues/149\n\nChange-Id: I618235384164c03776bd25bf669543fbd99794ad\n'}]",0,697300,a9a5a2e5fa390b5bd448b3fbff48b32556244d40,7,3,1,12549,,,0,"Change openstack clients install directive

This change switches to using the python_packages *1 layer.yaml
directive for installing the openstack clients for use by the
charm. This is primarily to work around *2

*1 https://charmsreactive.readthedocs.io/en/latest/layer-basic.html#layer-configuration
*2 https://github.com/juju-solutions/layer-basic/issues/149

Change-Id: I618235384164c03776bd25bf669543fbd99794ad
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/00/697300/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/wheelhouse.txt', 'src/layer.yaml']",2,a9a5a2e5fa390b5bd448b3fbff48b32556244d40,workaround-layer-basic-issue-149," python_packages: ['keystoneauth1', 'python-glanceclient', 'python-novaclient', 'python-neutronclient']",,1,5
openstack%2Fos-brick~stable%2Fqueens~I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,openstack/os-brick,stable/queens,I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9,Fix FC scan too broad,MERGED,2019-11-27 18:32:38.000000000,2019-12-04 15:23:46.000000000,2019-12-04 15:22:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-11-27 18:32:38.000000000', 'files': ['releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2e46deeaa109f46686171e9af6ea12e94eb9e1f7', 'message': 'Fix FC scan too broad\n\nAfter some changes to the FC connector we have introduced a regression\non the way we do the scans, and we end up scanning using wildcards even\nthough we shouldn\'t.\n\nThe targets in the ""initiator_target_map"" don\'t mean that they are all\nconnected, so we must take that into account.\n\nWith the current code, if we have the following connections:\n\nHBA host7 ---- SWITCH ---- port W (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port X (channel 0, target 3)\n\nHBA host8 ---- SWITCH ---- port Y (channel 0, target 2)\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\\--- SWITCH ---- port Z (channel 0, target 3)\n\nWe will end up with the following scans 8 scans for LUN L:\n\n\xa0\xa0- - L > host7\n\xa0\xa0- - L > host7\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\xa0\xa0- - L > host8\n\xa0\xa0- - L > host8\n\nWhich correspond to the responses from _get_hba_channel_scsi_target like\nthis:\n\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0port Y          port Z          port W          port X\n\xa0\xa0host7 ... [\'-\',\'-\',L]     [\'-\',\'-\',L]     [\'0\',\'2\',L]     [\'0\',\'3\',L]\n\xa0\xa0host8 ... [\'0\',\'2\',L]     [\'0\',\'3\',L]     [\'-\',\'-\',L]     [\'-\',\'-\',L]\n\nAnd we should only be doing 4 scans:\n\n\xa0\xa00 2 L > host7\n\xa0\xa00 3 L > host7\n\xa0\xa00 2 L > host8\n\xa0\xa00 3 L > host8\n\nMost storage arrays get their target ports automatically detected by the\nLinux FC initiator and sysfs gets populated with that information, but\nthere are some that don\'t.\n\nWe\'ll do a narrow scan using the channel, target, and LUN for the former\nand a wider scan for the latter.\n\nIf all paths to a former type of array were down on the system boot the\narray could look like it\'s of the latter type and make us bring us\nunwanted volumes into the system by doing a broad scan.\n\nTo prevent this from happening Cinder drivers can use the\n""enable_wildcard_scan"" key in the connection information to let us know\nthey don\'t want us to do broad scans even if no target ports are found\n(because they know the cause is there\'s no connection).\n\nClose-Bug: #1849504\nRelated-Bug: #1765000\nRelated-Bug: #1828440\nChange-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9\n(cherry picked from commit 708733e49598145eb8e898d486723dc3df00a52f)\n(cherry picked from commit c76b6dc514b8e17e1211e4a7465a7e2a635adea3)\n(cherry picked from commit 8933503041529978b9fd816e1788b1b0c343b540)\n'}]",0,696385,2e46deeaa109f46686171e9af6ea12e94eb9e1f7,20,10,1,9535,,,0,"Fix FC scan too broad

After some changes to the FC connector we have introduced a regression
on the way we do the scans, and we end up scanning using wildcards even
though we shouldn't.

The targets in the ""initiator_target_map"" don't mean that they are all
connected, so we must take that into account.

With the current code, if we have the following connections:

HBA host7 ---- SWITCH ---- port W (channel 0, target 2)
\--- SWITCH ---- port X (channel 0, target 3)

HBA host8 ---- SWITCH ---- port Y (channel 0, target 2)
\--- SWITCH ---- port Z (channel 0, target 3)

We will end up with the following scans 8 scans for LUN L:

- - L > host7
- - L > host7
0 2 L > host7
0 3 L > host7

0 2 L > host8
0 3 L > host8
- - L > host8
- - L > host8

Which correspond to the responses from _get_hba_channel_scsi_target like
this:

port Y          port Z          port W          port X
host7 ... ['-','-',L]     ['-','-',L]     ['0','2',L]     ['0','3',L]
host8 ... ['0','2',L]     ['0','3',L]     ['-','-',L]     ['-','-',L]

And we should only be doing 4 scans:

0 2 L > host7
0 3 L > host7
0 2 L > host8
0 3 L > host8

Most storage arrays get their target ports automatically detected by the
Linux FC initiator and sysfs gets populated with that information, but
there are some that don't.

We'll do a narrow scan using the channel, target, and LUN for the former
and a wider scan for the latter.

If all paths to a former type of array were down on the system boot the
array could look like it's of the latter type and make us bring us
unwanted volumes into the system by doing a broad scan.

To prevent this from happening Cinder drivers can use the
""enable_wildcard_scan"" key in the connection information to let us know
they don't want us to do broad scans even if no target ports are found
(because they know the cause is there's no connection).

Close-Bug: #1849504
Related-Bug: #1765000
Related-Bug: #1828440
Change-Id: I5dbefaff43fb902b15117b443fc92f7b6a6ad8c9
(cherry picked from commit 708733e49598145eb8e898d486723dc3df00a52f)
(cherry picked from commit c76b6dc514b8e17e1211e4a7465a7e2a635adea3)
(cherry picked from commit 8933503041529978b9fd816e1788b1b0c343b540)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/85/696385/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/linuxfc.py', 'releasenotes/notes/fix-fc-scan-too-broad-3c576e1846b7f05f.yaml', 'os_brick/tests/initiator/test_linuxfc.py']",3,2e46deeaa109f46686171e9af6ea12e94eb9e1f7,bug/1849504," def test__get_hba_channel_scsi_target_lun_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_with_initiator_target_map_none( self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1], ['0', '2', 7]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) expected = ([['0', '1', 1]], set()) self.assertEqual(expected, res) def test__get_hba_channel_scsi_target_lun_not_found(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], set()), res) def test__get_hba_channel_scsi_target_lun_exception(self): res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) self.assertEqual(([], {1}), res) def test__get_hba_channel_scsi_target_lun_some_exception(self): execute_effects = [ ('/sys/class/fc_transport/target6:0:1/port_name\n', ''), Exception() ] expected_cmds = [ mock.call('grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), mock.call('grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), ] hbas, con_props = self.__get_rescan_info() with mock.patch.object(self.lfc, '_execute', side_effect=execute_effects) as execute_mock: res = self.lfc._get_hba_channel_scsi_target_lun(hbas[0], con_props) execute_mock.assert_has_calls(expected_cmds) expected = ([['0', '1', 1]], {1}) self.assertEqual(expected, res) get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([['6', '7', 1]], set())] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', [[['2', '3', 1], ['4', '5', 1]], set()], [[['6', '7', 1]], set()], [[], {1}], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', get_chan_results = [([['2', '3', 1], ['4', '5', 1]], set()), ([], {1})] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', def test_rescan_hosts_port_not_found(self): """"""Test when we don't find the target ports."""""" get_chan_results = [([], {1}), ([], {1})] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', def test_rescan_hosts_port_not_found_driver_disables_wildcards(self): """"""Test when we don't find the target ports but driver forces scan."""""" get_chan_results = [([], {1}), ([], {1})] hbas, con_props = self.__get_rescan_info(zone_manager=True) con_props['enable_wildcard_scan'] = False with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target_lun', side_effect=get_chan_results), \ mock.patch.object(self.lfc, '_execute', side_effect=None) as execute_mock: self.lfc.rescan_hosts(hbas, con_props) execute_mock.assert_not_called() "," def test__get_hba_channel_scsi_target_single_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn_and_luns(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1], ['0', '2', 7]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_zone_manager(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_not_found(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertListEqual([], res) def test__get_hba_channel_scsi_target_exception(self): res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) self.assertEqual(res, [['-', '-', 1]]) get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', [['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]], [['-', '-', 1]], mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['-', '-', 1]]] mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', def test_rescan_hosts_wildcard(self): """"""Test when we don't have initiator map or target is single WWNN."""""" get_chan_results = [[['-', '-', 1]], [['-', '-', 1]]] with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target',",149,81
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9463d2352475511fb9fee2be4037c71429330eab,openstack/tripleo-heat-templates,stable/rocky,I9463d2352475511fb9fee2be4037c71429330eab,DNM Test rocky DIB change,ABANDONED,2019-12-03 08:06:40.000000000,2019-12-04 15:02:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 08:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2187a5df0050201bbfe50f5bd7a9f70910551327', 'message': 'DNM Test rocky DIB change\n\nDepends-On: I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d\nChange-Id: I9463d2352475511fb9fee2be4037c71429330eab\n'}, {'number': 2, 'created': '2019-12-03 08:28:12.000000000', 'files': ['README.rst', 'overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78192aa1430d685094d36d994a6f9f88954a7f79', 'message': 'DNM Test rocky DIB change\n\nDepends-On: I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d\nChange-Id: I9463d2352475511fb9fee2be4037c71429330eab\n'}]",0,697015,78192aa1430d685094d36d994a6f9f88954a7f79,6,2,2,20172,,,0,"DNM Test rocky DIB change

Depends-On: I38c76c0edee436f1e7dd0c9a868cea1e6ee3271d
Change-Id: I9463d2352475511fb9fee2be4037c71429330eab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/697015/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2187a5df0050201bbfe50f5bd7a9f70910551327,rocky,,,1,0
openstack%2Fcharm-neutron-api~stable%2F19.10~Ib48adee32d649e5254265924175c3bf2d3437c0b,openstack/charm-neutron-api,stable/19.10,Ib48adee32d649e5254265924175c3bf2d3437c0b,Remove lbaas in OpenStack Train deployments,MERGED,2019-12-02 09:14:11.000000000,2019-12-04 14:47:59.000000000,2019-12-04 14:47:59.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-12-02 09:14:11.000000000', 'files': ['hooks/neutron_api_utils.py', 'templates/train/neutron.conf', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f2e726258e3912426fb60e1b37498a6fbecad03a', 'message': 'Remove lbaas in OpenStack Train deployments\n\nThis patch removes completely any lbaas related service or\nconfiguration for OS Train deployements.\n\nChange-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b\nCloses-Bug: #1853868\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n(cherry picked from commit b36ac4b4ed228e5763034f5e8b75c761a96027a4)\n'}]",0,696837,f2e726258e3912426fb60e1b37498a6fbecad03a,24,7,1,28014,,,0,"Remove lbaas in OpenStack Train deployments

This patch removes completely any lbaas related service or
configuration for OS Train deployements.

Change-Id: Ib48adee32d649e5254265924175c3bf2d3437c0b
Closes-Bug: #1853868
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
(cherry picked from commit b36ac4b4ed228e5763034f5e8b75c761a96027a4)
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/37/696837/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_utils.py', 'templates/train/neutron.conf', 'unit_tests/test_neutron_api_utils.py']",3,f2e726258e3912426fb60e1b37498a6fbecad03a,bug/1853868-stable/19.10," @patch.object(nutils, 'fwaas_migrate_v1_to_v2') @patch.object(charmhelpers.contrib.openstack.utils, 'get_os_codename_install_source') @patch.object(nutils, 'migrate_neutron_database') @patch.object(nutils, 'stamp_neutron_database') def test_do_openstack_upgrade_train(self, stamp_neutron_db, migrate_neutron_db, gsrc, fwaas_migrate_v1_to_v2): self.is_elected_leader.return_value = True self.os_release.return_value = 'train' self.config.side_effect = self.test_config.get self.test_config.set('openstack-origin', 'cloud:bionic-train') gsrc.return_value = 'train' self.get_os_codename_install_source.return_value = 'train' self.filter_missing_packages.return_value = ['python-neutron'] configs = MagicMock() nutils.do_openstack_upgrade(configs) self.apt_purge.assert_called_with(['python-neutron'], fatal=True) self.apt_autoremove.assert_called_with(purge=True, fatal=True) self.filter_missing_packages.assert_called_with( nutils.PURGE_PACKAGES + nutils.PURGE_EXTRA_PACKAGES_ON_TRAIN) self.assertFalse(stamp_neutron_db.called) fwaas_migrate_v1_to_v2.assert_called_once_with() configs.write_all.assert_called_once_with() ",,179,1
openstack%2Fneutron~master~Ie9cd4833b2b3e2910710e175f9ec3cfbd1ebb7ac,openstack/neutron,master,Ie9cd4833b2b3e2910710e175f9ec3cfbd1ebb7ac,[WIP] [OVN] Move QoS related code,ABANDONED,2019-11-29 13:48:45.000000000,2019-12-04 14:41:25.000000000,,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-29 13:48:45.000000000', 'files': ['neutron/services/qos/drivers/ovn/__init__.py', 'neutron/tests/unit/services/qos/drivers/ovn/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/tests/functional/services/qos/__init__.py', 'neutron/tests/functional/services/qos/drivers/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/__init__.py', 'neutron/tests/unit/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/services/qos/drivers/ovn/qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3e5751bbc3410b29da443b6084e7b79c34761bc', 'message': '[WIP] [OVN] Move QoS related code\n\nThis patch moves the OVN QoS related code:\nPrevious paths in networking-ovn tree:\n./networking_ovn/ml2/qos_driver.py -> neutron/services/qos/drivers/ovn/qos_driver.py\n\nChange-Id: Ie9cd4833b2b3e2910710e175f9ec3cfbd1ebb7ac\nRelated-Blueprint: neutron-ovn-merge\n'}]",4,696704,b3e5751bbc3410b29da443b6084e7b79c34761bc,10,6,1,24791,,,0,"[WIP] [OVN] Move QoS related code

This patch moves the OVN QoS related code:
Previous paths in networking-ovn tree:
./networking_ovn/ml2/qos_driver.py -> neutron/services/qos/drivers/ovn/qos_driver.py

Change-Id: Ie9cd4833b2b3e2910710e175f9ec3cfbd1ebb7ac
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/696704/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/drivers/ovn/__init__.py', 'neutron/tests/unit/services/qos/drivers/ovn/__init__.py', 'neutron/tests/functional/services/qos/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/tests/functional/services/qos/drivers/__init__.py', 'neutron/tests/functional/services/qos/drivers/ovn/__init__.py', 'neutron/tests/unit/services/qos/drivers/ovn/test_qos_driver.py', 'neutron/services/qos/drivers/ovn/qos_driver.py']",8,b3e5751bbc3410b29da443b6084e7b79c34761bc,bp/neutron-ovn-merge,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.objects.qos import policy as qos_policy from neutron.objects.qos import rule as qos_rule from neutron_lib.api.definitions import portbindings from neutron_lib import constants from neutron_lib import context as n_context from neutron_lib.db import constants as db_consts from neutron_lib.plugins import directory from neutron_lib.services.qos import base from neutron_lib.services.qos import constants as qos_consts from oslo_config import cfg from oslo_log import log as logging from neutron.common.ovn import utils LOG = logging.getLogger(__name__) OVN_QOS = 'qos' SUPPORTED_RULES = { qos_consts.RULE_TYPE_BANDWIDTH_LIMIT: { qos_consts.MAX_KBPS: { 'type:range': [0, db_consts.DB_INTEGER_MAX_VALUE]}, qos_consts.MAX_BURST: { 'type:range': [0, db_consts.DB_INTEGER_MAX_VALUE]}, qos_consts.DIRECTION: { 'type:values': [constants.EGRESS_DIRECTION]} }, } VIF_TYPES = [portbindings.VIF_TYPE_OVS, portbindings.VIF_TYPE_VHOST_USER] VNIC_TYPES = [portbindings.VNIC_NORMAL] class OVNQosNotificationDriver(base.DriverBase): """"""OVN notification driver for QoS."""""" def __init__(self, name='OVNQosDriver', vif_types=VIF_TYPES, vnic_types=VNIC_TYPES, supported_rules=SUPPORTED_RULES, requires_rpc_notifications=False): super(OVNQosNotificationDriver, self).__init__( name, vif_types, vnic_types, supported_rules, requires_rpc_notifications) @classmethod def create(cls, plugin_driver): cls._driver = plugin_driver return cls() @property def is_loaded(self): return OVN_QOS in cfg.CONF.ml2.extension_drivers def create_policy(self, context, policy): # No need to update OVN on create pass def update_policy(self, context, policy): # Call into OVN client to update the policy self._driver._ovn_client._qos_driver.update_policy(context, policy) def delete_policy(self, context, policy): # No need to update OVN on delete pass class OVNQosDriver(object): """"""Qos driver for OVN"""""" def __init__(self, driver): LOG.info(""Starting OVNQosDriver"") super(OVNQosDriver, self).__init__() self._driver = driver self._plugin_property = None @property def _plugin(self): if self._plugin_property is None: self._plugin_property = directory.get_plugin() return self._plugin_property def _generate_port_options(self, context, policy_id): if policy_id is None: return {} options = {} # The policy might not have any rules all_rules = qos_rule.get_rules(qos_policy.QosPolicy, context, policy_id) for rule in all_rules: if isinstance(rule, qos_rule.QosBandwidthLimitRule): if rule.max_kbps: options['qos_max_rate'] = str(rule.max_kbps * 1000) if rule.max_burst_kbps: options['qos_burst'] = str(rule.max_burst_kbps * 1000) return options def get_qos_options(self, port): # Is qos service enabled if 'qos_policy_id' not in port: return {} # Don't apply qos rules to network devices if utils.is_network_device_port(port): return {} # Determine if port or network policy should be used context = n_context.get_admin_context() port_policy_id = port.get('qos_policy_id') network_policy_id = None if not port_policy_id: network_policy = qos_policy.QosPolicy.get_network_policy( context, port['network_id']) network_policy_id = network_policy.id if network_policy else None # Generate qos options for the selected policy policy_id = port_policy_id or network_policy_id return self._generate_port_options(context, policy_id) def _update_network_ports(self, context, network_id, options): # Retrieve all ports for this network ports = self._plugin.get_ports(context, filters={'network_id': [network_id]}) for port in ports: # Don't apply qos rules if port has a policy port_policy_id = port.get('qos_policy_id') if port_policy_id: continue # Don't apply qos rules to network devices if utils.is_network_device_port(port): continue # Call into OVN client to update port self._driver.update_port(port, qos_options=options) def update_network(self, network): # Is qos service enabled if 'qos_policy_id' not in network: return # Update the qos options on each network port context = n_context.get_admin_context() options = self._generate_port_options( context, network['qos_policy_id']) self._update_network_ports(context, network.get('id'), options) def update_policy(self, context, policy): options = self._generate_port_options(context, policy.id) # Update each network bound to this policy network_bindings = policy.get_bound_networks() for network_id in network_bindings: self._update_network_ports(context, network_id, options) # Update each port bound to this policy port_bindings = policy.get_bound_ports() for port_id in port_bindings: port = self._plugin.get_port(context, port_id) self._driver.update_port(port, qos_options=options) ",,575,0
openstack%2Frpm-packaging~master~I7a96ef8ccbaa4b8ffb613cc826d3232e718c9e1d,openstack/rpm-packaging,master,I7a96ef8ccbaa4b8ffb613cc826d3232e718c9e1d,neutron: update requirements after ovn-merge,MERGED,2019-12-04 13:05:05.000000000,2019-12-04 14:38:16.000000000,2019-12-04 14:38:16.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-04 13:05:05.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/681ca5b12462061ed301fa2506ff1719e5d2741b', 'message': 'neutron: update requirements after ovn-merge\n\nChange I988e506e9593e7c0856ef9e2955ec04b37f2ba3b introduced\nthese dependencies.\n\nChange-Id: I7a96ef8ccbaa4b8ffb613cc826d3232e718c9e1d\n'}]",0,697279,681ca5b12462061ed301fa2506ff1719e5d2741b,10,6,1,6593,,,0,"neutron: update requirements after ovn-merge

Change I988e506e9593e7c0856ef9e2955ec04b37f2ba3b introduced
these dependencies.

Change-Id: I7a96ef8ccbaa4b8ffb613cc826d3232e718c9e1d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/697279/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,681ca5b12462061ed301fa2506ff1719e5d2741b,remove-nova-console,BuildRequires: {{ py3('futurist') }}BuildRequires: {{ py3('tooz') }}Requires: {{ py3('futurist') }}Requires: {{ py3('tooz') }},,4,0
openstack%2Fopenstack-ansible~master~I19248324604e079336c896b763a0b97ec6aad3a2,openstack/openstack-ansible,master,I19248324604e079336c896b763a0b97ec6aad3a2,Removes package cache references from yum config,MERGED,2019-10-22 01:09:57.000000000,2019-12-04 14:32:35.000000000,2019-12-04 14:19:20.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27941}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-22 01:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5deb637739530c7bb2e5c59639d8e45c0bc4cf2e', 'message': 'Removes package cache references from yum config\n\nRemoves references to the now-deprecated package cache repo from\nyum.conf and the Percona repo in yum.repos.d\n\nChange-Id: I19248324604e079336c896b763a0b97ec6aad3a2\nCloses-Bug: #1849219\n'}, {'number': 2, 'created': '2019-11-01 14:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab3553c88629d043ca0f4673da2da950f5f8f3df', 'message': 'Removes package cache references from yum config\n\nRemoves references to the now-deprecated package cache repo from\nyum.conf and the Percona repo in yum.repos.d\n\nChange-Id: I19248324604e079336c896b763a0b97ec6aad3a2\nCloses-Bug: #1849219\n'}, {'number': 3, 'created': '2019-11-21 22:04:50.000000000', 'files': ['playbooks/common-tasks/package-cache-proxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed625067b3e50c98ff69d2b01679fe50d81b3f9d', 'message': 'Removes package cache references from yum config\n\nRemoves references to the now-deprecated package cache repo from\nyum.conf and the Percona repo in yum.repos.d\n\nChange-Id: I19248324604e079336c896b763a0b97ec6aad3a2\nCloses-Bug: #1849219\n'}]",2,689896,ed625067b3e50c98ff69d2b01679fe50d81b3f9d,36,5,3,27941,,,0,"Removes package cache references from yum config

Removes references to the now-deprecated package cache repo from
yum.conf and the Percona repo in yum.repos.d

Change-Id: I19248324604e079336c896b763a0b97ec6aad3a2
Closes-Bug: #1849219
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/689896/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/package-cache-proxy.yml'],1,5deb637739530c7bb2e5c59639d8e45c0bc4cf2e,osa-train," proxy=http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }}- name: Remove yum package manager proxy from Percona repo lineinfile: line: >- proxy = http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }} dest: ""/etc/yum.repos.d/percona-original-release.repo"" state: absent when: - ansible_os_family == 'RedHat' tags: - common-proxy "," proxy=""http://{{ internal_lb_vip_address }}:{{ repo_pkg_cache_port | default('3142') }}""",12,1
openstack%2Fkolla~stable%2Frocky~I85132bbace63c8b386f69ddb758a3b52e52c0ef0,openstack/kolla,stable/rocky,I85132bbace63c8b386f69ddb758a3b52e52c0ef0,build: remove link to failed log before creating,MERGED,2019-12-03 16:35:43.000000000,2019-12-04 14:30:36.000000000,2019-12-04 14:30:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-03 16:35:43.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e4c908b4c95df6073b67b36f458c504fe62a7a3', 'message': 'build: remove link to failed log before creating\n\nKolla allows to create separate logs per image. It also makes very\nuseful symlinks to those builds which fail.\n\nBut it fails to do that on next builds:\n\nERROR:kolla.common.utils:aodh-base Failed with status: error\nTraceback (most recent call last):\n  File ""./tools/build.py"", line 40, in <module>\n    sys.exit(main())\n  File ""./tools/build.py"", line 30, in main\n    statuses = build.run_build()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1333, in run_build\n    results = kolla.summary()\n  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1037, in summary\n    ""000_FAILED_%s.log"" % name))\nFileExistsError: [Errno 17] File exists: \'aodh-base.log\' -> \'logs/debian-source-buster/000_FAILED_aodh-base.log\'\n\nChange-Id: I85132bbace63c8b386f69ddb758a3b52e52c0ef0\n(cherry picked from commit 5792c1d7b44737f1f39bb1a81b0c95207ad087ad)\n'}]",1,697131,8e4c908b4c95df6073b67b36f458c504fe62a7a3,9,4,1,24072,,,0,"build: remove link to failed log before creating

Kolla allows to create separate logs per image. It also makes very
useful symlinks to those builds which fail.

But it fails to do that on next builds:

ERROR:kolla.common.utils:aodh-base Failed with status: error
Traceback (most recent call last):
  File ""./tools/build.py"", line 40, in <module>
    sys.exit(main())
  File ""./tools/build.py"", line 30, in main
    statuses = build.run_build()
  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1333, in run_build
    results = kolla.summary()
  File ""/home/hrw/devel/kolla/kolla/image/build.py"", line 1037, in summary
    ""000_FAILED_%s.log"" % name))
FileExistsError: [Errno 17] File exists: 'aodh-base.log' -> 'logs/debian-source-buster/000_FAILED_aodh-base.log'

Change-Id: I85132bbace63c8b386f69ddb758a3b52e52c0ef0
(cherry picked from commit 5792c1d7b44737f1f39bb1a81b0c95207ad087ad)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/697131/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,8e4c908b4c95df6073b67b36f458c504fe62a7a3,612726-stable/rocky," linkname = os.path.join(self.conf.logs_dir, ""000_FAILED_%s.log"" % name) try: os.lstat(linkname) os.remove(linkname) except OSError: pass os.symlink(""%s.log"" % name, linkname)"," os.symlink(""%s.log"" % name, os.path.join(self.conf.logs_dir, ""000_FAILED_%s.log"" % name))",9,3
openstack%2Fmagnum~stable%2Ftrain~Ifdedac420fe4384013704865fa05ea6f1c15feb5,openstack/magnum,stable/train,Ifdedac420fe4384013704865fa05ea6f1c15feb5,Fix cert_manager_api with x509keypair,MERGED,2019-11-22 08:11:31.000000000,2019-12-04 14:11:42.000000000,2019-12-04 14:09:46.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-11-22 08:11:31.000000000', 'files': ['magnum/drivers/heat/k8s_fedora_template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4721c79463064fa10b41081b8637fc6916d1843', 'message': 'Fix cert_manager_api with x509keypair\n\nWhen magnum is using x509keypair as backend\nthe db query fails to apply the tenant filters\ndue to the missing context.\n\nPass the context to the the cert_manager.\n\nstory: 2006897\ntask: 37533\n\nChange-Id: Ifdedac420fe4384013704865fa05ea6f1c15feb5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit 0205534f90e8b75d519579254749f6019b0faafa)\n'}]",0,695638,b4721c79463064fa10b41081b8637fc6916d1843,10,5,1,20498,,,0,"Fix cert_manager_api with x509keypair

When magnum is using x509keypair as backend
the db query fails to apply the tenant filters
due to the missing context.

Pass the context to the the cert_manager.

story: 2006897
task: 37533

Change-Id: Ifdedac420fe4384013704865fa05ea6f1c15feb5
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit 0205534f90e8b75d519579254749f6019b0faafa)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/38/695638/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/k8s_fedora_template_def.py'],1,b4721c79463064fa10b41081b8637fc6916d1843,fix-cert_manager_api-with-x509keypair-stable/train," self._set_cert_manager_params(context, cluster, extra_params) def _set_cert_manager_params(self, context, cluster, extra_params): ca_cert = cert_manager.get_cluster_ca_certificate(cluster, context=context)"," self._set_cert_manager_params(cluster, extra_params) def _set_cert_manager_params(self, cluster, extra_params): ca_cert = cert_manager.get_cluster_ca_certificate(cluster)",4,3
openstack%2Fpython-openstackclient~master~I55deab0c640b718e811d2c4573dbd02152bea076,openstack/python-openstackclient,master,I55deab0c640b718e811d2c4573dbd02152bea076,Allow for router resource without 'routes' attribute,ABANDONED,2019-09-27 10:24:32.000000000,2019-12-04 14:03:20.000000000,,"[{'_account_id': 13252}, {'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 10:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7a96d7c3a3969704eb1ca0ee71ac932e496db17f', 'message': ""Allow for router resource without 'routes' attribute\n\nThe 'routes' attribute is optional, so allow for Neutron plugins that\ndo not provide it.\n\nChange-Id: I55deab0c640b718e811d2c4573dbd02152bea076\n""}, {'number': 2, 'created': '2019-10-21 12:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b0c0cfcf5c5caaf1eda499d8cc3fdb9de7de1569', 'message': ""Allow for router resource without 'routes' attribute\n\nThe 'routes' attribute is optional, so allow for Neutron plugins that\ndo not provide it.\n\nChange-Id: I55deab0c640b718e811d2c4573dbd02152bea076\n""}, {'number': 3, 'created': '2019-10-23 13:34:59.000000000', 'files': ['openstackclient/network/v2/router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fcfaf3e3e62240dde272a7bd101da6387093fffe', 'message': ""Allow for router resource without 'routes' attribute\n\nThe 'routes' attribute is optional, so allow for Neutron plugins that\ndo not provide it.\n\nChange-Id: I55deab0c640b718e811d2c4573dbd02152bea076\n""}]",3,685312,fcfaf3e3e62240dde272a7bd101da6387093fffe,10,3,3,13734,,,0,"Allow for router resource without 'routes' attribute

The 'routes' attribute is optional, so allow for Neutron plugins that
do not provide it.

Change-Id: I55deab0c640b718e811d2c4573dbd02152bea076
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/12/685312/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/router.py'],1,7a96d7c3a3969704eb1ca0ee71ac932e496db17f,router-may-not-have-routes," # The 'routes' attribute is optional. Handle as an empty dict, if it's # missing. routes = self._value or {} for route in routes: return utils.format_list_of_dicts(routes)", for route in self._value: return utils.format_list_of_dicts(self._value),5,2
openstack%2Fopenstack-ansible~master~Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d,openstack/openstack-ansible,master,Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d,Don't require provider_networks with no_containers,MERGED,2019-11-29 14:52:52.000000000,2019-12-04 13:57:15.000000000,2019-12-04 13:27:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-29 14:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/136958ef625bc6cf139848386d381c418dd4bc47', 'message': ""Don't require provider_networks with no_containers\n\nWhen no_containers is set in global_overrides it means that it's going\nto be metal deployment. Since metal deployments do not require\nprovider_networks, we can easily skip check of their existance in\nopenstack_user_config.yml\n\nChange-Id: Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d\n""}, {'number': 2, 'created': '2019-12-02 14:38:29.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94e477032ac466cc72bdf06e7fec0dd51ce5b84e', 'message': ""Don't require provider_networks with no_containers\n\nWhen no_containers is set in global_overrides it means that it's going\nto be metal deployment. Since metal deployments do not require\nprovider_networks, we can easily skip check of their existance in\nopenstack_user_config.yml\n\nChange-Id: Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d\n""}]",0,696713,94e477032ac466cc72bdf06e7fec0dd51ce5b84e,28,4,2,28619,,,0,"Don't require provider_networks with no_containers

When no_containers is set in global_overrides it means that it's going
to be metal deployment. Since metal deployments do not require
provider_networks, we can easily skip check of their existance in
openstack_user_config.yml

Change-Id: Ie12d13f5eb90bc4fbb4bf73e2d5915b1493e819d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/696713/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.aio.j2', 'osa_toolkit/generate.py']",2,136958ef625bc6cf139848386d381c418dd4bc47,osa-train," if 'global_overrides' in config: no_containers = config['global_overrides'].get('no_containers', False) else: no_containers = False if not no_containers: for key, value in container_skel.items(): properties = value.get('properties', {}) is_metal = properties.get('is_metal', False) if not is_metal: is_provider_networks_needed = True break"," for key, value in container_skel.items(): properties = value.get('properties', {}) is_metal = properties.get('is_metal', False) if not is_metal: is_provider_networks_needed = True break",13,6
openstack%2Fopenstack-ansible-rabbitmq_server~master~I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac,openstack/openstack-ansible-rabbitmq_server,master,I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac,Switch to the amqp repository for erlang dependencies,MERGED,2019-11-28 14:09:39.000000000,2019-12-04 13:56:56.000000000,2019-12-04 13:52:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-28 14:09:39.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/287bb31279b7817ff2b6c334c5b09025ce8d800c', 'message': 'Switch to the amqp repository for erlang dependencies\n\nChange-Id: I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac\n'}]",0,696580,287bb31279b7817ff2b6c334c5b09025ce8d800c,13,3,1,6593,,,0,"Switch to the amqp repository for erlang dependencies

Change-Id: I4e7dc0a64c4fa802991c9195cd70dcf4b19ba4ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/80/696580/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,287bb31279b7817ff2b6c334c5b09025ce8d800c,,"_rabbitmq_erlang_repo_url: ""https://download.opensuse.org/repositories/network:/messaging:/amqp/openSUSE_Leap_{{ ansible_distribution_version }}/"" _rabbitmq_erlang_repo: name: network_messaging_amqp description: ""AMQP Messaging Broker repository""_rabbitmq_package_version: 3.8.1-1","_rabbitmq_erlang_repo_url: ""https://download.opensuse.org/repositories/devel:languages:erlang:Factory/openSUSE_Leap_{{ ansible_distribution_version }}/"" _rabbitmq_erlang_repo: name: devel_languages_erlang_Factory description: ""erlang devel project for Factory""_rabbitmq_package_version: 3.8.0-1",4,4
openstack%2Frally~master~I668a4a83b538b49eaae7f3d41de7bbf882827c5b,openstack/rally,master,I668a4a83b538b49eaae7f3d41de7bbf882827c5b,Update the community page.,MERGED,2019-12-03 02:09:36.000000000,2019-12-04 13:50:15.000000000,2019-12-04 13:50:15.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-03 02:09:36.000000000', 'files': ['doc/specs/in-progress/cleanup_refactoring.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/028d9b3723fe48da3832ef02b581df8d063eacda', 'message': 'Update the community page.\n\nChange-Id: I668a4a83b538b49eaae7f3d41de7bbf882827c5b\n'}]",0,696998,028d9b3723fe48da3832ef02b581df8d063eacda,6,2,1,30717,,,0,"Update the community page.

Change-Id: I668a4a83b538b49eaae7f3d41de7bbf882827c5b
",git fetch https://review.opendev.org/openstack/rally refs/changes/98/696998/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/specs/in-progress/cleanup_refactoring.rst'],1,028d9b3723fe48da3832ef02b581df8d063eacda,,* Consistent resource names: https://review.opendev.org/201545 https://review.opendev.org/#/c/139643/ https://review.opendev.org/#/c/168524/,* Consistent resource names: https://review.openstack.org/201545 https://review.openstack.org/#/c/139643/ https://review.openstack.org/#/c/168524/,3,3
openstack%2Fkolla-ansible~stable%2Ftrain~I006dea21321146c7fc738d0b41c401b72d271a99,openstack/kolla-ansible,stable/train,I006dea21321146c7fc738d0b41c401b72d271a99,Fix Swift with kernel 4.19 and later,MERGED,2019-12-04 10:19:53.000000000,2019-12-04 13:46:22.000000000,2019-12-04 13:44:36.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-04 10:19:53.000000000', 'files': ['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a3afd4ea53601ca24ad5f6e873c0552fb0dd139', 'message': ""Fix Swift with kernel 4.19 and later\n\nWe mount Swift volumes with xfs.\nThe 'nobarrier' option we used was made noop [1]\nand deprecated [2] (with warning) in kernel 4.10.\nIn 4.19 it was removed [3] resulting in an error\nwhen using e.g. Debian Buster as host.\nThe noop patch was backported to CentOS 7 so\nit is safe to remove this option with no behavior\nchange and backport to where needed.\nUbuntu Bionic uses 4.15 which only warns.\nCentOS 8 uses 4.18 which only warns as well.\nDebian Buster uses 4.19 exactly which breaks.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81\n\nChange-Id: I006dea21321146c7fc738d0b41c401b72d271a99\nCloses-bug: #1800132\n(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)\n""}]",0,697255,8a3afd4ea53601ca24ad5f6e873c0552fb0dd139,10,4,1,30491,,,0,"Fix Swift with kernel 4.19 and later

We mount Swift volumes with xfs.
The 'nobarrier' option we used was made noop [1]
and deprecated [2] (with warning) in kernel 4.10.
In 4.19 it was removed [3] resulting in an error
when using e.g. Debian Buster as host.
The noop patch was backported to CentOS 7 so
it is safe to remove this option with no behavior
change and backport to where needed.
Ubuntu Bionic uses 4.15 which only warns.
CentOS 8 uses 4.18 which only warns as well.
Debian Buster uses 4.19 exactly which breaks.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32
[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81

Change-Id: I006dea21321146c7fc738d0b41c401b72d271a99
Closes-bug: #1800132
(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/697255/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml']",2,8a3afd4ea53601ca24ad5f6e873c0552fb0dd139,bug/1800132-stable/train," opts: ""noatime,nodiratime,logbufs=8"""," opts: ""noatime,nodiratime,nobarrier,logbufs=8""",8,1
openstack%2Fironic-inspector~master~Ifd870a8465b6643578299dc86e2eae023db6ae43,openstack/ironic-inspector,master,Ifd870a8465b6643578299dc86e2eae023db6ae43,Do not update/delete ports upon inspection of active nodes,MERGED,2019-12-03 13:01:48.000000000,2019-12-04 13:42:39.000000000,2019-12-04 13:35:47.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-03 13:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a67d5d6676fd2a4f02e24078027f43c93a8221d2', 'message': 'Do not update/delete ports upon inspection of active nodes\n\nShort-circuit the port update logic for active nodes to allow only\nfor the addition of new ports.\n\nStory: #2006956\nTask: #37645\n\nChange-Id: Ifd870a8465b6643578299dc86e2eae023db6ae43\n'}, {'number': 2, 'created': '2019-12-03 14:32:44.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/short_circuit_port_update_for_manual_inspection-5dc296df9d409c69.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/78dbcf603a623de16b3614187cd2c6687d2b9225', 'message': 'Do not update/delete ports upon inspection of active nodes\n\nShort-circuit the port update logic for active nodes to allow only\nfor the addition of new ports.\n\nStory: #2006956\nTask: #37645\n\nChange-Id: Ifd870a8465b6643578299dc86e2eae023db6ae43\n'}]",5,697075,78dbcf603a623de16b3614187cd2c6687d2b9225,15,4,2,30107,,,0,"Do not update/delete ports upon inspection of active nodes

Short-circuit the port update logic for active nodes to allow only
for the addition of new ports.

Story: #2006956
Task: #37645

Change-Id: Ifd870a8465b6643578299dc86e2eae023db6ae43
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/75/697075/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/short_circuit_port_update_for_manual_inspection-5dc296df9d409c69.yaml']",3,a67d5d6676fd2a4f02e24078027f43c93a8221d2,story_2006956,"--- fixes: - | Fixes an issue happening during manual inspection of active nodes where the code attempts to delete or update ports, while the only modification allowed for active nodes is updating the MAC address if the node is in maintenance. ",,28,0
openstack%2Fironic-inspector~master~I1378a1a4d2a35ba8f182138877b5151f25d4c56d,openstack/ironic-inspector,master,I1378a1a4d2a35ba8f182138877b5151f25d4c56d,Get details when listing ports upon inspection of active nodes,MERGED,2019-11-26 17:03:53.000000000,2019-12-04 13:42:14.000000000,2019-12-04 13:14:54.000000000,"[{'_account_id': 136}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-26 17:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/19aec51d11f36ebc40c58e2e63e0a1a82d1a93c8', 'message': 'Get details when listing ports upon inspection of active nodes\n\nAdd detail=True to make sure the inspector gets the node_uuid\nfrom the port list when inspecting active nodes,\n\nChange-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d\nStory: #2006950\n'}, {'number': 2, 'created': '2019-11-27 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c34a00a9354c6473bdfd60e025a103c6f3c1d6c5', 'message': 'Get details when listing ports upon inspection of active nodes\n\nAdd detail=True to make sure the inspector gets the node_uuid\nfrom the port list when inspecting active nodes,\n\nChange-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d\nStory: #2006950\n'}, {'number': 3, 'created': '2019-11-28 08:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/77154eac328dbf68c93512863f2df1b886e84525', 'message': 'Get details when listing ports upon inspection of active nodes\n\nAdd detail=True to make sure the inspector gets the node_uuid\nfrom the port list when inspecting active nodes,\n\nChange-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d\nStory: #2006950\n'}, {'number': 4, 'created': '2019-11-28 09:50:55.000000000', 'files': ['ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/fix_node_uuid_for_manual_inspection-2fa3f11343cab417.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/dc606b71320dcd96aff96cd6564387dac6d39d2c', 'message': 'Get details when listing ports upon inspection of active nodes\n\nAdd detail=True to make sure the inspector gets the node_uuid\nfrom the port list when inspecting active nodes,\n\nChange-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d\nStory: #2006950\n'}]",5,696133,dc606b71320dcd96aff96cd6564387dac6d39d2c,37,7,4,11292,,,0,"Get details when listing ports upon inspection of active nodes

Add detail=True to make sure the inspector gets the node_uuid
from the port list when inspecting active nodes,

Change-Id: I1378a1a4d2a35ba8f182138877b5151f25d4c56d
Story: #2006950
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/33/696133/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/common/ironic.py'],1,19aec51d11f36ebc40c58e2e63e0a1a82d1a93c8,story_2006950," ports = ironic.port.list(address=mac, detail=True)", ports = ironic.port.list(address=mac),1,1
openstack%2Fneutron~master~I302c85fcc3cbd24d48f89e91c62756f6a2a5342e,openstack/neutron,master,I302c85fcc3cbd24d48f89e91c62756f6a2a5342e,[OVN] Move extensions.py,ABANDONED,2019-12-03 15:09:14.000000000,2019-12-04 13:40:18.000000000,,"[{'_account_id': 6773}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 15:09:14.000000000', 'files': ['devstack/lib/ovn_agent', 'neutron/extensions/ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c05731d58dc79295bb0ceb8aab34b6af3708231a', 'message': '[OVN] Move extensions.py\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/common/extensions.py -> ./neutron/extensions/ovn.py\n\nThe patch also updates the DevStack module to consume the extensions\nlist from the neutron repository.\n\nChange-Id: I302c85fcc3cbd24d48f89e91c62756f6a2a5342e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",9,697108,c05731d58dc79295bb0ceb8aab34b6af3708231a,11,8,1,6773,,,0,"[OVN] Move extensions.py

Previous paths in networking-ovn tree:
./networking_ovn/common/extensions.py -> ./neutron/extensions/ovn.py

The patch also updates the DevStack module to consume the extensions
list from the neutron repository.

Change-Id: I302c85fcc3cbd24d48f89e91c62756f6a2a5342e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/697108/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ovn_agent', 'neutron/extensions/ovn.py']",2,c05731d58dc79295bb0ceb8aab34b6af3708231a,bp/neutron-ovn-merge,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # NOTE(russellb) This remains in its own file (vs constants.py) because we want # to be able to easily import it and export the info without any dependencies # on external imports. # NOTE(russellb) If you update these lists, please also update # doc/source/features.rst and the current release note. ML2_SUPPORTED_API_EXTENSIONS_NEUTRON_L3 = [ 'dns-integration', 'dvr', 'extraroute', 'ext-gw-mode', 'l3-ha', 'l3_agent_scheduler', 'router', 'router_availability_zone', ] ML2_SUPPORTED_API_EXTENSIONS_OVN_L3 = [ 'router', 'extraroute', 'ext-gw-mode', 'pagination', 'sorting', 'project-id', 'dns-integration', ] ML2_SUPPORTED_API_EXTENSIONS = [ 'address-scope', 'agent', 'allowed-address-pairs', 'auto-allocated-topology', 'availability_zone', 'binding', 'default-subnetpools', 'external-net', 'extra_dhcp_opt', 'multi-provider', 'net-mtu', 'network_availability_zone', 'network-ip-availability', 'port-security', 'provider', 'quotas', 'rbac-policies', 'standard-attr-revisions', 'security-group', 'standard-attr-description', 'subnet_allocation', 'standard-attr-tag', 'standard-attr-timestamp', 'trunk', 'quota_details', ] ",,69,4
openstack%2Fkolla-ansible~stable%2Fstein~I006dea21321146c7fc738d0b41c401b72d271a99,openstack/kolla-ansible,stable/stein,I006dea21321146c7fc738d0b41c401b72d271a99,Fix Swift with kernel 4.19 and later,MERGED,2019-12-04 10:19:58.000000000,2019-12-04 13:32:16.000000000,2019-12-04 13:30:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-12-04 10:19:58.000000000', 'files': ['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/021f55b2fa7b66aa37d2859331e48b1383474da7', 'message': ""Fix Swift with kernel 4.19 and later\n\nWe mount Swift volumes with xfs.\nThe 'nobarrier' option we used was made noop [1]\nand deprecated [2] (with warning) in kernel 4.10.\nIn 4.19 it was removed [3] resulting in an error\nwhen using e.g. Debian Buster as host.\nThe noop patch was backported to CentOS 7 so\nit is safe to remove this option with no behavior\nchange and backport to where needed.\nUbuntu Bionic uses 4.15 which only warns.\nCentOS 8 uses 4.18 which only warns as well.\nDebian Buster uses 4.19 exactly which breaks.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81\n\nChange-Id: I006dea21321146c7fc738d0b41c401b72d271a99\nCloses-bug: #1800132\n(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)\n""}]",1,697256,021f55b2fa7b66aa37d2859331e48b1383474da7,10,4,1,30491,,,0,"Fix Swift with kernel 4.19 and later

We mount Swift volumes with xfs.
The 'nobarrier' option we used was made noop [1]
and deprecated [2] (with warning) in kernel 4.10.
In 4.19 it was removed [3] resulting in an error
when using e.g. Debian Buster as host.
The noop patch was backported to CentOS 7 so
it is safe to remove this option with no behavior
change and backport to where needed.
Ubuntu Bionic uses 4.15 which only warns.
CentOS 8 uses 4.18 which only warns as well.
Debian Buster uses 4.19 exactly which breaks.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32
[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81

Change-Id: I006dea21321146c7fc738d0b41c401b72d271a99
Closes-bug: #1800132
(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/697256/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml']",2,021f55b2fa7b66aa37d2859331e48b1383474da7,bug/1800132-stable/train-stable/stein," opts: ""noatime,nodiratime,logbufs=8"""," opts: ""noatime,nodiratime,nobarrier,logbufs=8""",8,1
openstack%2Fpuppet-pacemaker~master~Ibb87428fce4026b21032f874feb09104cca0db52,openstack/puppet-pacemaker,master,Ibb87428fce4026b21032f874feb09104cca0db52,Fix missing deep_compare for fence_redfish,MERGED,2019-12-03 19:53:34.000000000,2019-12-04 13:28:30.000000000,2019-12-04 13:11:56.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 19:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/6676dcaa8e737718c814b456b7144d7ee7fd6658', 'message': ""Fix missing deep_compare for fence_redfish\n\nAgent generator doesn't seem to work for fence_redfish, so this\nwas missing in https://review.opendev.org/#/c/679407/.\n\nThis commit adds deep_compare and update_settle_secs.\n\nChange-Id: Ibb87428fce4026b21032f874feb09104cca0db52\n""}, {'number': 2, 'created': '2019-12-04 08:18:13.000000000', 'files': ['manifests/stonith/fence_redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/635aee9afd4010507498020ab6ea54e4430913e6', 'message': 'Fix missing deep_compare for fence_redfish\n\nFence_redfish was blacklisted from the automatic agent generation by:\n\nhttps://review.opendev.org/#/c/636886/\n\nand unfortunately https://review.opendev.org/#/c/679407/ did not take\nthat into account.\n\nThis commit adds deep_compare and update_settle_secs manually until we\ncan revert that change.\n\nResolves: rhbz#1699449\n\nChange-Id: Ibb87428fce4026b21032f874feb09104cca0db52\n'}]",0,697171,635aee9afd4010507498020ab6ea54e4430913e6,14,4,2,30126,,,0,"Fix missing deep_compare for fence_redfish

Fence_redfish was blacklisted from the automatic agent generation by:

https://review.opendev.org/#/c/636886/

and unfortunately https://review.opendev.org/#/c/679407/ did not take
that into account.

This commit adds deep_compare and update_settle_secs manually until we
can revert that change.

Resolves: rhbz#1699449

Change-Id: Ibb87428fce4026b21032f874feb09104cca0db52
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/71/697171/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/stonith/fence_redfish.pp'],1,6676dcaa8e737718c814b456b7144d7ee7fd6658,,"# [*deep_compare*] # Enable deep comparing of resources and bundles # When set to true a resource will be compared in full (options, meta parameters,..) # to the existing one and in case of difference it will be repushed to the CIB # Defaults to false # # [*update_settle_secs*] # When deep_compare is enabled and puppet updates a resource, this # parameter represents the number (in seconds) to wait for the cluster to settle # after the resource update. # Defaults to 600 (seconds) # $deep_compare = false, $update_settle_secs = 600, ensure => $ensure, stonith_type => 'fence_redfish', pcmk_host_list => $pcmk_host_value_chunk, pcs_param_string => $param_string, tries => $tries, try_sleep => $try_sleep, deep_compare => $deep_compare, update_settle_secs => $update_settle_secs,"," ensure => $ensure, stonith_type => 'fence_redfish', pcmk_host_list => $pcmk_host_value_chunk, pcs_param_string => $param_string, tries => $tries, try_sleep => $try_sleep,",22,6
openstack%2Fopenstack-ansible~stable%2Frocky~I3816340ea9e00c8bd00b3b2a81b6c10a776b4788,openstack/openstack-ansible,stable/rocky,I3816340ea9e00c8bd00b3b2a81b6c10a776b4788,Bump SHAs for stable/rocky,MERGED,2019-12-01 13:39:52.000000000,2019-12-04 13:27:38.000000000,2019-12-04 13:27:38.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-12-01 13:39:52.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39cdf93c8b94ba7108bbc5b692500564e478c3cb', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I3816340ea9e00c8bd00b3b2a81b6c10a776b4788\n'}]",0,696799,39cdf93c8b94ba7108bbc5b692500564e478c3cb,11,4,1,28619,,,0,"Bump SHAs for stable/rocky

Change-Id: I3816340ea9e00c8bd00b3b2a81b6c10a776b4788
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/696799/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,39cdf93c8b94ba7108bbc5b692500564e478c3cb,bump_osa, version: 013542e42bf99067c4db6a32a2aee1a30134bcba version: 1d12e1553ce332863c879c6df1617724b95e329d version: 87f389d0e0b6b45709bd36c0526419eb846bf0b2, version: 7bdbbd5ca21d399ecd7100d905be5034d11bc2c7 version: 4802f0059fed006c14287a7827d7a1315a4524ca version: ba8c15f39d6fd541c7d6acacadacceac2d22e2bd,42,42
openstack%2Ftripleo-upgrade~master~I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62,openstack/tripleo-upgrade,master,I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62,Remove qemu packages to run Leapp upgrade with rhos-release.,MERGED,2019-10-28 22:06:53.000000000,2019-12-04 13:23:16.000000000,2019-12-03 12:52:41.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-10-28 22:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7323c668b13848ed855760e1ca708d952d4d0aa2', 'message': 'Remove qemu packages to run Leapp upgrade with rhos-release.\n\nExecuting the Leapp upgrade with rhos-release requires\nto have these two packages removed, otherwise leapp\nupgrade fails.\n\nChange-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62\n'}, {'number': 2, 'created': '2019-10-30 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3e98539923488e29464fa24df177f81c7dca1f32', 'message': 'Remove qemu packages to run Leapp upgrade with rhos-release.\n\nExecuting the Leapp upgrade with rhos-release requires\nto have these two packages removed, otherwise leapp\nupgrade fails.\n\nChange-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62\n'}, {'number': 3, 'created': '2019-12-02 17:45:25.000000000', 'files': ['tasks/upgrade/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/32c5bcf876a2b5e03442f130171918ad9b5f49c1', 'message': 'Remove qemu packages to run Leapp upgrade with rhos-release.\n\nExecuting the Leapp upgrade with rhos-release requires\nto have these two packages removed, otherwise leapp\nupgrade fails.\n\nChange-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62\n'}]",4,691763,32c5bcf876a2b5e03442f130171918ad9b5f49c1,16,6,3,26343,,,0,"Remove qemu packages to run Leapp upgrade with rhos-release.

Executing the Leapp upgrade with rhos-release requires
to have these two packages removed, otherwise leapp
upgrade fails.

Change-Id: I26c6aa351be978f3f454f99f7e5a3c1a1cc2db62
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/63/691763/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/undercloud_os_upgrade.yaml'],1,7323c668b13848ed855760e1ca708d952d4d0aa2,, yum -y remove *el7ost* qemu-kvm-common-rhev qemu-img-rhev -- \, yum -y remove *el7ost* -- \,1,1
openstack%2Ftripleo-upgrade~master~I0f3c503fb6286f107aea2d92733aef9a0b002113,openstack/tripleo-upgrade,master,I0f3c503fb6286f107aea2d92733aef9a0b002113,Remove the useless file.,MERGED,2019-12-02 09:57:37.000000000,2019-12-04 13:22:11.000000000,2019-12-04 13:22:11.000000000,"[{'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-12-02 09:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fe2ad3f9a66e2c8ef6855412c7e22bfdf1d2d1b4', 'message': 'Remove the useless file.\n\nMake a little cleanup and remove useless files.\n\nChange-Id: I0f3c503fb6286f107aea2d92733aef9a0b002113\n'}, {'number': 2, 'created': '2019-12-03 15:25:44.000000000', 'files': ['handlers/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/afe2739d789b93c699b513d0f677d3cc60c00b33', 'message': 'Remove the useless file.\n\nMake a little cleanup and remove useless files.\n\nChange-Id: I0f3c503fb6286f107aea2d92733aef9a0b002113\n'}]",0,696843,afe2739d789b93c699b513d0f677d3cc60c00b33,11,6,2,31245,,,0,"Remove the useless file.

Make a little cleanup and remove useless files.

Change-Id: I0f3c503fb6286f107aea2d92733aef9a0b002113
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/43/696843/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'vars/main.yml']",2,fe2ad3f9a66e2c8ef6855412c7e22bfdf1d2d1b4,remove_useless_files,,--- # vars file for tripleo-upgrade ,0,4
openstack%2Fironic-inspector~stable%2Ftrain~If8115f8d592e1b24b07ef52bcd703d10763c1f00,openstack/ironic-inspector,stable/train,If8115f8d592e1b24b07ef52bcd703d10763c1f00,Stop trying to power off nodes if manage_boot is False,MERGED,2019-12-03 17:16:22.000000000,2019-12-04 13:16:10.000000000,2019-12-04 13:14:53.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-12-03 17:16:22.000000000', 'files': ['ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'releasenotes/notes/manage-boot-power-off-d8ed644f11659c38.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/3d5b57cb5de489ca0ae3912076a2eb7ea9cb4479', 'message': ""Stop trying to power off nodes if manage_boot is False\n\nWhen manage_boot is False, we do not power on the machines on starting\nintrospection, nor do we power them off on aborting. We should not\npower off on finishing introspection either, let's leave it up to ironic.\n\nChange-Id: If8115f8d592e1b24b07ef52bcd703d10763c1f00\nStory: #1528920\n(cherry picked from commit 85267e881c4aaa83511a247d28693600dc8ced94)\n""}]",0,697140,3d5b57cb5de489ca0ae3912076a2eb7ea9cb4479,11,3,1,10239,,,0,"Stop trying to power off nodes if manage_boot is False

When manage_boot is False, we do not power on the machines on starting
introspection, nor do we power them off on aborting. We should not
power off on finishing introspection either, let's leave it up to ironic.

Change-Id: If8115f8d592e1b24b07ef52bcd703d10763c1f00
Story: #1528920
(cherry picked from commit 85267e881c4aaa83511a247d28693600dc8ced94)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/40/697140/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/process.py', 'ironic_inspector/test/unit/test_process.py', 'releasenotes/notes/manage-boot-power-off-d8ed644f11659c38.yaml']",3,3d5b57cb5de489ca0ae3912076a2eb7ea9cb4479,story/1528920-stable/train,--- fixes: - | No longer tries to power off nodes after introspection if ``manage_boot`` is ``False``. ,,15,1
openstack%2Fkolla-ansible~stable%2Ftrain~I4fca319ccc3de7188f8b7b44c9c71321e3899467,openstack/kolla-ansible,stable/train,I4fca319ccc3de7188f8b7b44c9c71321e3899467,CI: Refactor a lot,MERGED,2019-11-29 07:57:12.000000000,2019-12-04 13:10:53.000000000,2019-12-04 13:08:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-29 07:57:12.000000000', 'files': ['tests/deploy.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'tests/test-dashboard.sh', 'tests/test-core-openstack.sh', 'tools/setup_gate.sh', 'zuul.d/project.yaml', 'tools/dump_info.sh', 'tox.ini', 'zuul.d/jobs.yaml', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4beb760d8d72c8bed71a224813e64682dd4d688e', 'message': 'CI: Refactor a lot\n\nSeparate upgrade logic to is_upgrade job var and rename\nscenarios to match.\n\nRename ""ACTION"" to ""SCENARIO"" (as it is a scenario).\n\nSeparate testing of dashboard (aka Horizon) and increase\nits timeout to 5 minutes (CentOS 7 slow as always).\n\nSeparate initialization of core OpenStack.\n\nUse gate setup script from ./tests/\n\nRemove useless tox setupenv.\n\nDo not deploy Heat when not really necessary.\n\nChange-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467\n(cherry picked from commit a2fc684164cb5169492d6e0c007ad006f814492c)\n'}]",0,696662,4beb760d8d72c8bed71a224813e64682dd4d688e,8,3,1,30491,,,0,"CI: Refactor a lot

Separate upgrade logic to is_upgrade job var and rename
scenarios to match.

Rename ""ACTION"" to ""SCENARIO"" (as it is a scenario).

Separate testing of dashboard (aka Horizon) and increase
its timeout to 5 minutes (CentOS 7 slow as always).

Separate initialization of core OpenStack.

Use gate setup script from ./tests/

Remove useless tox setupenv.

Do not deploy Heat when not really necessary.

Change-Id: I4fca319ccc3de7188f8b7b44c9c71321e3899467
(cherry picked from commit a2fc684164cb5169492d6e0c007ad006f814492c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/696662/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'tests/test-dashboard.sh', 'tests/test-core-openstack.sh', 'tools/setup_gate.sh', 'zuul.d/project.yaml', 'tools/dump_info.sh', 'tox.ini', 'zuul.d/jobs.yaml', 'tests/init-core-openstack.sh']",12,4beb760d8d72c8bed71a224813e64682dd4d688e,ci-refactor,"#!/bin/bash set -o xtrace set -o errexit export PYTHONUNBUFFERED=1 function init_runonce { . /etc/kolla/admin-openrc.sh . ~/openstackclient-venv/bin/activate echo ""Initialising OpenStack resources via init-runonce"" tools/init-runonce &> /tmp/logs/ansible/init-runonce } init_runonce ",,211,174
openstack%2Fkolla~stable%2Frocky~Ifc075a0142738deb65fa3c73460b57cad61a5d4b,openstack/kolla,stable/rocky,Ifc075a0142738deb65fa3c73460b57cad61a5d4b,debian: install more things from backports,MERGED,2019-12-03 09:53:53.000000000,2019-12-04 13:07:56.000000000,2019-12-04 13:07:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-03 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21351be4ac2e1bb0ef55819bc7c14082097475a5', 'message': 'base/debian: install udev/systemd from backports\n\nWe were installing udev/systemd from backports by selecting which\npackage to get. But with systemd 241-5~bpo9+1 update we need more.\n\nChange-Id: Ifc075a0142738deb65fa3c73460b57cad61a5d4b\n'}, {'number': 2, 'created': '2019-12-03 16:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d508a7c0052b3e19787d3d1aa271917a74d19721', 'message': 'debian: install more things from backports\n\nWe were installing udev/systemd from backports by selecting which\npackage to get. But with systemd 241-5~bpo9+1 update we need more.\n\nAnd then we need newer iptables due to dependencies.\n\nChange-Id: Ifc075a0142738deb65fa3c73460b57cad61a5d4b\n'}, {'number': 3, 'created': '2019-12-03 21:46:15.000000000', 'files': ['docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7e45cbc8b1242a268b622f7231f2d34674719ef', 'message': 'debian: install more things from backports\n\nWe were installing udev/systemd from backports by selecting which\npackage to get. But with systemd 241-5~bpo9+1 update we need more.\n\nAnd then we need newer iptables due to dependencies.\n\nChange-Id: Ifc075a0142738deb65fa3c73460b57cad61a5d4b\n'}]",0,697041,a7e45cbc8b1242a268b622f7231f2d34674719ef,15,4,3,24072,,,0,"debian: install more things from backports

We were installing udev/systemd from backports by selecting which
package to get. But with systemd 241-5~bpo9+1 update we need more.

And then we need newer iptables due to dependencies.

Change-Id: Ifc075a0142738deb65fa3c73460b57cad61a5d4b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/697041/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,21351be4ac2e1bb0ef55819bc7c14082097475a5,bp/o9, {% if base_distro == 'debian' %} -t stretch-backports {% endif %} \,,1,0
openstack%2Fkuryr-libnetwork~stable%2Ftrain~Ia5acbc29090ceda2844b1049059052af4898e8b5,openstack/kuryr-libnetwork,stable/train,Ia5acbc29090ceda2844b1049059052af4898e8b5,Update install guide for train release,MERGED,2019-11-30 18:22:05.000000000,2019-12-04 13:05:41.000000000,2019-12-04 13:04:29.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-30 18:22:05.000000000', 'files': ['doc/source/install/compute-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/88479488049738cadad95a716efdb03a00c5962c', 'message': 'Update install guide for train release\n\nChange-Id: Ia5acbc29090ceda2844b1049059052af4898e8b5\n'}]",0,696778,88479488049738cadad95a716efdb03a00c5962c,8,7,1,11536,,,0,"Update install guide for train release

Change-Id: Ia5acbc29090ceda2844b1049059052af4898e8b5
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/78/696778/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install-ubuntu.rst'],1,88479488049738cadad95a716efdb03a00c5962c,, # git clone -b stable/train https://git.openstack.org/openstack/kuryr-libnetwork.git, # git clone -b master https://git.openstack.org/openstack/kuryr-libnetwork.git,1,1
openstack%2Ftripleo-validations~stable%2Fstein~I5e3fd6286c8f65586416b75472678bacfa5a4cd6,openstack/tripleo-validations,stable/stein,I5e3fd6286c8f65586416b75472678bacfa5a4cd6,Sync 'validations/library/ini.py' with the validations framework,MERGED,2019-11-04 10:09:18.000000000,2019-12-04 13:04:23.000000000,2019-12-04 13:04:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-04 10:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d2e68c997b0b66e5809309058ebed8f73516d5e8', 'message': 'Sync \'validations/library/ini.py\' with the validations framework\n\nIbd1e54b2d2748b3bf8d2c1cabad3a9faf832e9b2 introduced a new ""default""\nparameter to the ""ini"" module allowing to return a success (with a\ndefault value) even if the key isn\'t found in the file.\n\nThis patch also synchronizes the ctlplane-ip-range validation in the\nvalidations directory.\n\nChange-Id: I5e3fd6286c8f65586416b75472678bacfa5a4cd6\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-12-03 13:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca99dd729a3926f0e6a3a622624e05467756a876', 'message': 'Sync \'validations/library/ini.py\' with the validations framework\n\nIbd1e54b2d2748b3bf8d2c1cabad3a9faf832e9b2 introduced a new ""default""\nparameter to the ""ini"" module allowing to return a success (with a\ndefault value) even if the key isn\'t found in the file.\n\nThis patch also synchronizes the ctlplane-ip-range validation in the\nvalidations directory.\n\nChange-Id: I5e3fd6286c8f65586416b75472678bacfa5a4cd6\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-12-03 14:01:24.000000000', 'files': ['validations/ctlplane-ip-range.yaml', 'validations/library/ini.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3a2305fcc252a0b0a9b21503a923467cf42dad1b', 'message': 'Sync \'validations/library/ini.py\' with the validations framework\n\nIbd1e54b2d2748b3bf8d2c1cabad3a9faf832e9b2 introduced a new ""default""\nparameter to the ""ini"" module allowing to return a success (with a\ndefault value) even if the key isn\'t found in the file.\n\nThis patch also synchronizes the ctlplane-ip-range validation in the\nvalidations directory.\n\nChange-Id: I5e3fd6286c8f65586416b75472678bacfa5a4cd6\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",2,692792,3a2305fcc252a0b0a9b21503a923467cf42dad1b,17,5,3,11491,,,0,"Sync 'validations/library/ini.py' with the validations framework

Ibd1e54b2d2748b3bf8d2c1cabad3a9faf832e9b2 introduced a new ""default""
parameter to the ""ini"" module allowing to return a success (with a
default value) even if the key isn't found in the file.

This patch also synchronizes the ctlplane-ip-range validation in the
validations directory.

Change-Id: I5e3fd6286c8f65586416b75472678bacfa5a4cd6
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/92/692792/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations/ctlplane-ip-range.yaml', 'validations/library/ini.py']",2,d2e68c997b0b66e5809309058ebed8f73516d5e8,update-ini,"def get_result(path, section, key, default=None): if default: msg = (""There is no key '{}' under section '{}' in file {}. Using"" "" default value '{}'"".format(key, section, path, default)) ret = ReturnValue.OK value = default else: value = None msg = ""There is no key '{}' under the section '{}' in file {}."".format( key, section, path) ret = ReturnValue.KEY_NOT_FOUND default: required: false description: - Default value if key isn't found default = module.params.get('default') ret, msg, value = get_result(ini_file_path, section, key, default)","def get_result(path, section, key): value = None msg = ""There is no key '{}' under the section '{}' in file {}."".format( key, section, path) ret = ReturnValue.KEY_NOT_FOUND ret, msg, value = get_result(ini_file_path, section, key)",21,8
openstack%2Fkolla-ansible~stable%2Frocky~I006dea21321146c7fc738d0b41c401b72d271a99,openstack/kolla-ansible,stable/rocky,I006dea21321146c7fc738d0b41c401b72d271a99,Fix Swift with kernel 4.19 and later,MERGED,2019-12-04 10:20:04.000000000,2019-12-04 12:57:27.000000000,2019-12-04 12:55:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-12-04 10:20:04.000000000', 'files': ['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bebb9bc72332b85a176e8529bbcf4fb24dc2d8fb', 'message': ""Fix Swift with kernel 4.19 and later\n\nWe mount Swift volumes with xfs.\nThe 'nobarrier' option we used was made noop [1]\nand deprecated [2] (with warning) in kernel 4.10.\nIn 4.19 it was removed [3] resulting in an error\nwhen using e.g. Debian Buster as host.\nThe noop patch was backported to CentOS 7 so\nit is safe to remove this option with no behavior\nchange and backport to where needed.\nUbuntu Bionic uses 4.15 which only warns.\nCentOS 8 uses 4.18 which only warns as well.\nDebian Buster uses 4.19 exactly which breaks.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81\n\nChange-Id: I006dea21321146c7fc738d0b41c401b72d271a99\nCloses-bug: #1800132\n(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)\n""}]",0,697257,bebb9bc72332b85a176e8529bbcf4fb24dc2d8fb,8,3,1,30491,,,0,"Fix Swift with kernel 4.19 and later

We mount Swift volumes with xfs.
The 'nobarrier' option we used was made noop [1]
and deprecated [2] (with warning) in kernel 4.10.
In 4.19 it was removed [3] resulting in an error
when using e.g. Debian Buster as host.
The noop patch was backported to CentOS 7 so
it is safe to remove this option with no behavior
change and backport to where needed.
Ubuntu Bionic uses 4.15 which only warns.
CentOS 8 uses 4.18 which only warns as well.
Debian Buster uses 4.19 exactly which breaks.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32
[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81

Change-Id: I006dea21321146c7fc738d0b41c401b72d271a99
Closes-bug: #1800132
(cherry picked from commit 21488710d68450eac4ace21bea4c5f929e0189d4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/697257/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml']",2,bebb9bc72332b85a176e8529bbcf4fb24dc2d8fb,bug/1800132-stable/train-stable/stein-stable/rocky," opts: ""noatime,nodiratime,logbufs=8"""," opts: ""noatime,nodiratime,nobarrier,logbufs=8""",8,1
openstack%2Fkuryr-tempest-plugin~master~I31a874c5f1d0d134e555a32b09a71e9466daea77,openstack/kuryr-tempest-plugin,master,I31a874c5f1d0d134e555a32b09a71e9466daea77,Reduce flakiness of pod creation timeout,MERGED,2019-11-27 10:22:12.000000000,2019-12-04 12:24:21.000000000,2019-12-04 12:22:46.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-11-27 10:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1285da8528f4fbc716728a5de51c2fe1b744f1fe', 'message': 'Reduce flakiness of pod creation timeout\n\nAs this test recreates the namespace and a pod on it,\nit could take a bit longer for the older KuryrNet CRD\nto be removed and recreated, plus the pool to be populated\ncausing the pod creation to timeout. This commit fixes the\nissue by ensuring the namespace is properly wired by Kuryr,\nto then try the Pod creation, reducing the timeout chances.\n\nChange-Id: I31a874c5f1d0d134e555a32b09a71e9466daea77\n'}, {'number': 2, 'created': '2019-11-27 10:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f5440329bed9a0ce40bf8df6d996da6b4bd4e2fd', 'message': 'Reduce flakiness of pod creation timeout\n\nAs this test recreates the namespace and a pod on it,\nit could take a bit longer for the older KuryrNet CRD\nto be removed and recreated, plus the pool to be populated\ncausing the pod creation to timeout. This commit reduces the\nchances of timeout by ensuring the namespace is properly wired\nby Kuryr, to then try the Pod creation.\n\nChange-Id: I31a874c5f1d0d134e555a32b09a71e9466daea77\n'}, {'number': 3, 'created': '2019-11-27 15:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/610d1a40a2d1f3ab0974f933e011a1da3c710c1e', 'message': 'Reduce flakiness of pod creation timeout\n\nAs this test recreates the namespace and a pod on it,\nit could take a bit longer for the older KuryrNet CRD\nto be removed and recreated, plus the pool to be populated\ncausing the pod creation to timeout. This commit reduce the\nflakiness by increasing the timeout.\n\nChange-Id: I31a874c5f1d0d134e555a32b09a71e9466daea77\n'}, {'number': 4, 'created': '2019-11-28 13:51:04.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f34269cd224c77621478baca06c94c50fe8bacd0', 'message': 'Reduce flakiness of pod creation timeout\n\nAs this test recreates the namespace and a pod on it,\nit could take a bit longer for the older KuryrNet CRD\nto be removed and recreated, plus the pool to be populated\ncausing the pod creation to timeout. This commit reduce the\nflakiness by increasing the timeout.\n\nChange-Id: I31a874c5f1d0d134e555a32b09a71e9466daea77\n'}]",5,696274,f34269cd224c77621478baca06c94c50fe8bacd0,34,5,4,27032,,,0,"Reduce flakiness of pod creation timeout

As this test recreates the namespace and a pod on it,
it could take a bit longer for the older KuryrNet CRD
to be removed and recreated, plus the pool to be populated
causing the pod creation to timeout. This commit reduce the
flakiness by increasing the timeout.

Change-Id: I31a874c5f1d0d134e555a32b09a71e9466daea77
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/74/696274/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,1285da8528f4fbc716728a5de51c2fe1b744f1fe,namespace-fixes, name=ns_name)," name=ns_name, wait_for_crd_annotation=False)",1,1
openstack%2Fkolla-ansible~master~Idf304b90706c58e4a7c4ce49c16da06264914238,openstack/kolla-ansible,master,Idf304b90706c58e4a7c4ce49c16da06264914238,DNM: check entropy available in CI,ABANDONED,2019-11-28 16:01:07.000000000,2019-12-04 12:18:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-28 16:01:07.000000000', 'files': ['tests/run.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff80b9db25491ef27802de0b0b132957bbfe6d46', 'message': 'DNM: check entropy available in CI\n\nChange-Id: Idf304b90706c58e4a7c4ce49c16da06264914238\n'}]",0,696607,ff80b9db25491ef27802de0b0b132957bbfe6d46,5,1,1,14826,,,0,"DNM: check entropy available in CI

Change-Id: Idf304b90706c58e4a7c4ce49c16da06264914238
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/696607/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'zuul.d/project.yaml']",2,ff80b9db25491ef27802de0b0b132957bbfe6d46,,, templates: - check-requirements - deploy-guide-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-ussuri-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-ubuntu-source-ceph - kolla-ansible-centos-source-ceph - kolla-ansible-ubuntu-source-cinder-lvm: files: - ^ansible/roles/(cinder|iscsi)/ - ^tests/test-core-openstack.sh - ^tests/test-dashboard.sh - kolla-ansible-centos-source-cinder-lvm: files: - ^ansible/roles/(cinder|iscsi)/ - ^tests/test-core-openstack.sh - ^tests/test-dashboard.sh - kolla-ansible-bifrost-centos-source: files: - ^ansible/roles/bifrost/ - ^tests/test-bifrost.sh - kolla-ansible-centos-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos-source-scenario-nfv: files: - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/ - ^tests/test-scenario-nfv.sh - ^tests/test-dashboard.sh - kolla-ansible-ubuntu-source-masakari: files: - ^ansible/roles/masakari/ - ^tests/test-masakari.sh - ^tests/test-dashboard.sh - kolla-ansible-centos-source-masakari: files: - ^ansible/roles/masakari/ - ^tests/test-masakari.sh - ^tests/test-dashboard.sh - kolla-ansible-centos-source-ironic - kolla-ansible-centos-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-source-upgrade-ceph - kolla-ansible-ubuntu-source-upgrade-ceph - kolla-ansible-centos-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos-source-cells - kolla-ansible-centos-source-mariadb: files: - ^ansible/roles/mariadb/ - ^tests/test-mariadb.sh - kolla-ansible-ubuntu-source-mariadb: files: - ^ansible/roles/mariadb/ - ^tests/test-mariadb.sh gate: queue: kolla jobs: - kolla-ansible-centos-source - kolla-ansible-ubuntu-source - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade periodic: jobs: - kolla-ansible-bifrost-centos-source - kolla-ansible-centos-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos-source-masakari - kolla-ansible-centos-source-scenario-nfv - kolla-ansible-ubuntu-source-cinder-lvm - kolla-ansible-centos-source-cinder-lvm - kolla-ansible-centos-source-ironic - kolla-ansible-centos-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-source-upgrade-ceph - kolla-ansible-ubuntu-source-upgrade-ceph - kolla-ansible-centos-source-mariadb - kolla-ansible-ubuntu-source-mariadb,4,87
openstack%2Fpuppet-openstacklib~master~Icba53f4e32237556608f4cb6dcd9da1a71705c19,openstack/puppet-openstacklib,master,Icba53f4e32237556608f4cb6dcd9da1a71705c19,Ensure no directory listing is active,MERGED,2019-12-02 10:29:16.000000000,2019-12-04 12:17:46.000000000,2019-12-04 11:03:28.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-12-02 10:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5a1442c14cdd80fb47987b97b5cf0d0f13d73760', 'message': ""Ensure no directory listing is active\n\nBy default, puppetlabs-apache module enables Indexes option, which can\nlead in data/structure leak.\n\nThe following patch disable that option on a global base, since we\nshouldn't need such a feature.\n\nCloses-Bug: #1854442\nChange-Id: Icba53f4e32237556608f4cb6dcd9da1a71705c19\n""}, {'number': 2, 'created': '2019-12-02 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f198c4e5f2c5106f839bf53c448928068f3e73ae', 'message': ""Ensure no directory listing is active\n\nBy default, puppetlabs-apache module enables Indexes option, which can\nlead in data/structure leak.\n\nThe following patch disable that option on a global base, since we\nshouldn't need such a feature.\n\nCloses-Bug: #1854442\nChange-Id: Icba53f4e32237556608f4cb6dcd9da1a71705c19\n""}, {'number': 3, 'created': '2019-12-02 16:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/1da2abeea2ace8efcacd42741402c5d860c5fb4e', 'message': ""Ensure no directory listing is active\n\nBy default, puppetlabs-apache module enables Indexes option, which can\nlead in data/structure leak.\n\nThe following patch disable that option on a global base, since we\nshouldn't need such a feature.\n\nCloses-Bug: #1854442\nChange-Id: Icba53f4e32237556608f4cb6dcd9da1a71705c19\n""}, {'number': 4, 'created': '2019-12-03 07:38:38.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/no-directory-listing-8e6270ed0e1eb1d0.yaml', 'spec/defines/openstacklib_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ad48860b75e8eb4c8ceec9835c3422859b210e22', 'message': ""Ensure no directory listing is active\n\nBy default, puppetlabs-apache module enables Indexes option, which can\nlead in data/structure leak.\n\nThe following patch disable that option on a global base, since we\nshouldn't need such a feature.\n\nCloses-Bug: #1854442\nChange-Id: Icba53f4e32237556608f4cb6dcd9da1a71705c19\n""}]",0,696858,ad48860b75e8eb4c8ceec9835c3422859b210e22,30,8,4,28223,,,0,"Ensure no directory listing is active

By default, puppetlabs-apache module enables Indexes option, which can
lead in data/structure leak.

The following patch disable that option on a global base, since we
shouldn't need such a feature.

Closes-Bug: #1854442
Change-Id: Icba53f4e32237556608f4cb6dcd9da1a71705c19
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/58/696858/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,5a1442c14cdd80fb47987b97b5cf0d0f13d73760,security/no-indexes," options => ['FollowSymLinks','MultiViews'],",,1,0
openstack%2Fgovernance~master~I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b,openstack/governance,master,I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b,Provide short description for cryptic team names,MERGED,2019-11-20 11:19:00.000000000,2019-12-04 12:13:48.000000000,2019-12-04 12:11:45.000000000,"[{'_account_id': 308}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8543}, {'_account_id': 11600}, {'_account_id': 13294}, {'_account_id': 14288}, {'_account_id': 14826}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23928}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-20 11:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/3a42b69efe4b140221679c614c321b5e5b6a7449', 'message': 'Provide short description for cryptic team names\n\nLooking at https://governance.openstack.org/tc/reference/projects/index.html\ncertain team names are not self-explaining. The ""service"" field\nis generally used to clarify in a short description what the team\nprovides. This patch adds short descriptions for the teams where the\nname is not self-explaining (including ""requirements"" which can be\nconfusing at first glance).\n\nChange-Id: I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b\n'}, {'number': 2, 'created': '2019-11-26 10:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b4a8b395bfd1721509bb9e6345d5f6a454e11022', 'message': 'Provide short description for cryptic team names\n\nLooking at https://governance.openstack.org/tc/reference/projects/index.html\ncertain team names are not self-explaining. The ""service"" field\nis generally used to clarify in a short description what the team\nprovides. This patch adds short descriptions for the teams where the\nname is not self-explaining (including ""requirements"" which can be\nconfusing at first glance).\n\nChange-Id: I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b\n'}, {'number': 3, 'created': '2019-11-26 12:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/43de0fbaf50f7478a17e1ba48466f4f1218589de', 'message': 'Provide short description for cryptic team names\n\nLooking at https://governance.openstack.org/tc/reference/projects/index.html\ncertain team names are not self-explaining. The ""service"" field\nis generally used to clarify in a short description what the team\nprovides. This patch adds short descriptions for the teams where the\nname is not self-explaining (including ""requirements"" which can be\nconfusing at first glance).\n\nChange-Id: I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b\n'}, {'number': 4, 'created': '2019-11-26 17:18:18.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7c01fc8ac490e3b0f7f4c8bcd53ce89c37e578ac', 'message': 'Provide short description for cryptic team names\n\nLooking at https://governance.openstack.org/tc/reference/projects/index.html\ncertain team names are not self-explaining. The ""service"" field\nis generally used to clarify in a short description what the team\nprovides. This patch adds short descriptions for the teams where the\nname is not self-explaining (including ""requirements"" which can be\nconfusing at first glance).\n\nChange-Id: I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b\n'}]",8,695174,7c01fc8ac490e3b0f7f4c8bcd53ce89c37e578ac,39,14,4,308,,,0,"Provide short description for cryptic team names

Looking at https://governance.openstack.org/tc/reference/projects/index.html
certain team names are not self-explaining. The ""service"" field
is generally used to clarify in a short description what the team
provides. This patch adds short descriptions for the teams where the
name is not self-explaining (including ""requirements"" which can be
confusing at first glance).

Change-Id: I24fce9a46cfed8ebf2dfcb4fd7cf5ac87bf2500b
",git fetch https://review.opendev.org/openstack/governance refs/changes/74/695174/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,3a42b69efe4b140221679c614c321b5e5b6a7449,project-update, service: Tooling for containerised deployment of OpenStack service: Bridge between OpenStack and container networking service: Lightweight OCI containers for OpenStack deployment service: RPM packages for OpenStack deployment service: Common dependencies service: Libraries for Windows support,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id9b9a15d40467507bdeace56be55b63a6298b560,openstack/tripleo-heat-templates,stable/stein,Id9b9a15d40467507bdeace56be55b63a6298b560,Fix neutron api TLS logging,MERGED,2019-11-29 07:45:55.000000000,2019-12-04 12:10:14.000000000,2019-12-04 12:10:14.000000000,"[{'_account_id': 11082}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-11-29 07:45:55.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0aecbc772384ae4623fe2013c1698825f268e16b', 'message': ""Fix neutron api TLS logging\n\nThis is a partial cherry pick (logging part) of\nIa1c22b8981fb735a052707516f73313c4e5ca93c\nCloses-Bug: #1852779\n\nNamely it is the second part of the commit only:\nB) The logging in the neutron_server_tls_proxy container is not persisted to the host\n\nBefore:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/\n[root@controller-0 ~]#\n\nAfter:\n[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/\ntotal 136\n-rw-r--r--. 1 root root   400 Nov 15 17:43 error_log\n-rw-r--r--. 1 root root 72784 Nov 15 17:53 neutron-api-proxy_access_ssl.log\n-rw-r--r--. 1 root root  2748 Nov 15 17:43 neutron-api-proxy_error_ssl.log\n[root@controller-0 ~]#\n\nWe backport only the logging bit because this needs to be fixed all the\nway to queens which did not have the ovn-tls work from Kamil.\n(I should have split this neutron api TLS fixes in two commits in the\nfirst place, but it's too late for that)\n\nChange-Id: Id9b9a15d40467507bdeace56be55b63a6298b560\n""}]",0,696652,0aecbc772384ae4623fe2013c1698825f268e16b,38,6,1,20172,,,0,"Fix neutron api TLS logging

This is a partial cherry pick (logging part) of
Ia1c22b8981fb735a052707516f73313c4e5ca93c
Closes-Bug: #1852779

Namely it is the second part of the commit only:
B) The logging in the neutron_server_tls_proxy container is not persisted to the host

Before:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/
[root@controller-0 ~]#

After:
[root@controller-0 ~]# ls -l /var/log/containers/httpd/neutron-api/
total 136
-rw-r--r--. 1 root root   400 Nov 15 17:43 error_log
-rw-r--r--. 1 root root 72784 Nov 15 17:53 neutron-api-proxy_access_ssl.log
-rw-r--r--. 1 root root  2748 Nov 15 17:43 neutron-api-proxy_error_ssl.log
[root@controller-0 ~]#

We backport only the logging bit because this needs to be fixed all the
way to queens which did not have the ovn-tls work from Kamil.
(I should have split this neutron api TLS fixes in two commits in the
first place, but it's too late for that)

Change-Id: Id9b9a15d40467507bdeace56be55b63a6298b560
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/696652/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,0aecbc772384ae4623fe2013c1698825f268e16b,stein," - {get_attr: [NeutronLogging, volumes]}",,1,0
openstack%2Fgovernance~master~Ib5a5c48131603effeed4e967f4ff6057b73bc712,openstack/governance,master,Ib5a5c48131603effeed4e967f4ff6057b73bc712,ci: check for proper retirement,ABANDONED,2019-07-06 17:36:03.000000000,2019-12-04 12:08:10.000000000,,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-06 17:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/727a6bd39009cc13861f4088a7d928068ab6ad2e', 'message': ""ci: check for proper retirement\n\nThis will check that a repository is properly retired by making\nsure that it only contains a README (and optionally a .gitreview\nfile).\n\nThis will make sure that we enforce the process we agreed to that\nwe won't retire a project until the code is officially gone.\n\nChange-Id: Ib5a5c48131603effeed4e967f4ff6057b73bc712\n""}, {'number': 2, 'created': '2019-07-06 17:36:51.000000000', 'files': ['tools/validate_repositories.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/33913d86c57e04a601ee92057b396ba954644eb3', 'message': ""ci: check for proper retirement\n\nThis will check that a repository is properly retired by making\nsure that it only contains a README (and optionally a .gitreview\nfile).\n\nThis will make sure that we enforce the process we agreed to that\nwe won't retire a project until the code is officially gone.\n\nChange-Id: Ib5a5c48131603effeed4e967f4ff6057b73bc712\n""}]",0,669549,33913d86c57e04a601ee92057b396ba954644eb3,14,5,2,1004,,,0,"ci: check for proper retirement

This will check that a repository is properly retired by making
sure that it only contains a README (and optionally a .gitreview
file).

This will make sure that we enforce the process we agreed to that
we won't retire a project until the code is officially gone.

Change-Id: Ib5a5c48131603effeed4e967f4ff6057b73bc712
",git fetch https://review.opendev.org/openstack/governance refs/changes/49/669549/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate_repositories.py'],1,727a6bd39009cc13861f4088a7d928068ab6ad2e,code-change,"API_BASE_URL = 'https://opendev.org/api/v1' ALLOWED_RETIRED_FILES = [ '.gitreview', 'README', 'README.md', 'README.rst', 'README.txt' ] for repo in deliverable_data['repos']: # Check if repo is properly retired url = '{}/repos/{}/git/trees/master'.format(API_BASE_URL, repo) data = requests.get(url).json() # Get list of files that shouldn't be there if project is retired. extra_files = [i['path'] for i in data['tree'] if i['path'] not in ALLOWED_RETIRED_FILES] # Repository still has extra files if extra_files: print('[{}] {} has extra files, please remove: {}'.format( team_name, repo, ', '.join(extra_files) )) errors += 1 # readme_text = requests.get(url).text # if ""This project is no longer maintained."" not in readme_text: # print('{} is missing retirement commit'.format(deliverable_name))", continue,29,1
openstack%2Fgovernance~master~I6187a3ca4ad0438890a8aa88f5228876afd76d43,openstack/governance,master,I6187a3ca4ad0438890a8aa88f5228876afd76d43,Document the chair's prerogative to continue debate,MERGED,2019-11-26 20:39:28.000000000,2019-12-04 12:06:51.000000000,2019-12-04 12:05:21.000000000,"[{'_account_id': 308}, {'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-26 20:39:28.000000000', 'files': ['reference/house-rules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/73d38fecdf036ff4220ec73c4823b436a8abad27', 'message': ""Document the chair's prerogative to continue debate\n\nAt the PTG we discussed how the chair should handle situations where\nthere are multiple incompatible patches that each have, on paper,\nsufficient votes to be merged. Discussion turned to broader principles\nof how we want to operate by consensus, without putting the chair in a\nposition where they never know if they are authorised to merge a patch\nor not. This change to the house rules captures the outcome of that\ndiscussion.\n\nChange-Id: I6187a3ca4ad0438890a8aa88f5228876afd76d43\n""}]",0,696178,73d38fecdf036ff4220ec73c4823b436a8abad27,17,9,1,4257,,,0,"Document the chair's prerogative to continue debate

At the PTG we discussed how the chair should handle situations where
there are multiple incompatible patches that each have, on paper,
sufficient votes to be merged. Discussion turned to broader principles
of how we want to operate by consensus, without putting the chair in a
position where they never know if they are authorised to merge a patch
or not. This change to the house rules captures the outcome of that
discussion.

Change-Id: I6187a3ca4ad0438890a8aa88f5228876afd76d43
",git fetch https://review.opendev.org/openstack/governance refs/changes/78/696178/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/house-rules.rst'],1,73d38fecdf036ff4220ec73c4823b436a8abad27,formal-vote,"The goal of the TC is always to operate by consensus where possible. The best decisions are always the ones where all TC members can commit to the outcome, even if they voted against it. These guidelines and the ones in the charter are designed to provide the chair with an objective standard for when they may consider consensus to have been achieved. However, if it is clear to the chair from other factors that consensus has not been achieved (for example because there are multiple incompatible proposals with sufficient votes to merge), the chair should use their discretion to keep debate open and seek rough consensus by other means. ",,10,0
openstack%2Fgovernance~master~I0a6842e27dc376134ffa3c393cd90fdb1158ca52,openstack/governance,master,I0a6842e27dc376134ffa3c393cd90fdb1158ca52,Add Tempest and Plugins req in Train tested Runtime,ABANDONED,2019-09-05 13:21:21.000000000,2019-12-04 12:05:35.000000000,,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11904}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 13:21:21.000000000', 'files': ['reference/runtimes/train.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/47e359f3bac4d235a287e1d83a4258d38b0ae868', 'message': ""Add Tempest and Plugins req in Train tested Runtime\n\nTempest and Temepst Plugins are branchless and their\nmaster code test the supported stable branches. This\nmakes them to keep testing the older Python version\nalso. For exmaple, they need to keep testing py3.5 also.\n\nLet's mention that explicitly to make it clear.\n\nChange-Id: I0a6842e27dc376134ffa3c393cd90fdb1158ca52\n""}]",1,680407,47e359f3bac4d235a287e1d83a4258d38b0ae868,20,10,1,8556,,,0,"Add Tempest and Plugins req in Train tested Runtime

Tempest and Temepst Plugins are branchless and their
master code test the supported stable branches. This
makes them to keep testing the older Python version
also. For exmaple, they need to keep testing py3.5 also.

Let's mention that explicitly to make it clear.

Change-Id: I0a6842e27dc376134ffa3c393cd90fdb1158ca52
",git fetch https://review.opendev.org/openstack/governance refs/changes/07/680407/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/runtimes/train.rst'],1,47e359f3bac4d235a287e1d83a4258d38b0ae868,formal-vote,".. note:: ++ Python 3.5: for Tempest and Tempest Plugins. Tempest and all Tempest plugins are branchless and responsible to keep testing the supported stable branches. They need to keep testing the few older python version also. For example, Python 3.5 was dropped from testing in Stein cycle but Tempest and Tempest Plugins master gate should test python 3.5 until Rocky release is marked as unsupported in Tempest and Plugins. ",,11,0
openstack%2Fgovernance~master~I62fc9b81aded6e1bc23fec9f3208d760fbf37cad,openstack/governance,master,I62fc9b81aded6e1bc23fec9f3208d760fbf37cad,Clarify the existing release naming process,ABANDONED,2019-08-21 14:45:24.000000000,2019-12-04 11:55:37.000000000,,"[{'_account_id': 1}, {'_account_id': 1004}, {'_account_id': 2903}, {'_account_id': 6316}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-08-21 14:45:24.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/d82ad9f9dc1b22fae6efbc73f2a2b69c156f83b4', 'message': 'Clarify the existing release naming process\n\nThis process was an attempt to document as fair a process as possible,\nbut it has repeatedly not been followed to the detriment of the\nproject overall.  In particular, multiple election officials have\nmanipulated the lists according to their own preferences in\ncontravention of the process described here.\n\nUpdate the text to make this more clear.\n\nChange-Id: I62fc9b81aded6e1bc23fec9f3208d760fbf37cad\n'}]",8,677749,d82ad9f9dc1b22fae6efbc73f2a2b69c156f83b4,23,12,1,1,,,0,"Clarify the existing release naming process

This process was an attempt to document as fair a process as possible,
but it has repeatedly not been followed to the detriment of the
project overall.  In particular, multiple election officials have
manipulated the lists according to their own preferences in
contravention of the process described here.

Update the text to make this more clear.

Change-Id: I62fc9b81aded6e1bc23fec9f3208d760fbf37cad
",git fetch https://review.opendev.org/openstack/governance refs/changes/49/677749/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,d82ad9f9dc1b22fae6efbc73f2a2b69c156f83b4,formal-vote,"particular release, the process does consider potential issues of trademark (at the end, see step 7). Note that the process is designed to accumulate a large number of names in a neutral fashion. Those involved in the process must not exclude names from the list except when required by the process (step 4 provides the only opportunity and reasons for the list to be reduced). cycle of the release to be named is announced. As soon as this happens, the TC should appoint the coordinator and define the geographic area. This should take the form of a patch which adds a row to the table below.","particular release, the process should consider potential issues of trademark. cycle of the release to be named is announced.",12,3
openstack%2Fgovernance~master~Ie8ff829e3e1cb8a5a39c4f8df8db037f3fc9b254,openstack/governance,master,Ie8ff829e3e1cb8a5a39c4f8df8db037f3fc9b254,Name releases after major cities,ABANDONED,2019-08-21 14:43:57.000000000,2019-12-04 11:54:27.000000000,,"[{'_account_id': 1}, {'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2903}, {'_account_id': 4257}, {'_account_id': 6316}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-08-21 14:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/89f4c965afe6c7a851edac8b28ff2b864351cfc4', 'message': 'Name releases after major cities\n\nThis process was an attempt to document as fair a process as possible,\nbut it has repeatedly not been followed to the detriment of the\nproject overall.  Moreover, due to our growing international\ncommunity, it is becoming more difficult to find appropriate names.\n\nChange the process to involve fewer choices so that the TC simply\nchooses from a pre-determined list of neutral choices.  It is less\ninteresting but there is less to go wrong.\n\nChange-Id: Ie8ff829e3e1cb8a5a39c4f8df8db037f3fc9b254\n'}, {'number': 2, 'created': '2019-10-10 14:57:26.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/aac05933ce0356c055a72f11a484ac9aff127e12', 'message': 'Name releases after major cities\n\nThis process was an attempt to document as fair a process as possible,\nbut it has repeatedly not been followed to the detriment of the\nproject overall.  Moreover, due to our growing international\ncommunity, it is becoming more difficult to find appropriate names.\n\nChange the process to involve fewer choices so that the TC simply\nchooses from a pre-determined list of neutral choices.  It is less\ninteresting but there is less to go wrong.\n\nNote: this process relies entirely on the TC -- the TC is the voting\nelectorate which chooses the name, and also decides when to start\nthe process.  This makes it simple and lightweight and not subject\nto nearly as many surprises.\n\nThis process is intended to apply for all new releases, including\nafter the Z rollover.\n\nChange-Id: Ie8ff829e3e1cb8a5a39c4f8df8db037f3fc9b254\n'}]",3,677745,aac05933ce0356c055a72f11a484ac9aff127e12,48,20,2,1,,,0,"Name releases after major cities

This process was an attempt to document as fair a process as possible,
but it has repeatedly not been followed to the detriment of the
project overall.  Moreover, due to our growing international
community, it is becoming more difficult to find appropriate names.

Change the process to involve fewer choices so that the TC simply
chooses from a pre-determined list of neutral choices.  It is less
interesting but there is less to go wrong.

Note: this process relies entirely on the TC -- the TC is the voting
electorate which chooses the name, and also decides when to start
the process.  This makes it simple and lightweight and not subject
to nearly as many surprises.

This process is intended to apply for all new releases, including
after the Z rollover.

Change-Id: Ie8ff829e3e1cb8a5a39c4f8df8db037f3fc9b254
",git fetch https://review.opendev.org/openstack/governance refs/changes/45/677745/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,89f4c965afe6c7a851edac8b28ff2b864351cfc4,formal-vote,"OpenStack releases shall be named after major cities. For each sequential letter of the ISO basic Latin alphabet, the TC will hold a condorcet election to choose of of the cities listed in https://en.wikipedia.org/wiki/List_of_largest_cities starting with that letter.","Each OpenStack development cycle has a code-name that is proposed and chosen by the community. This name is frequently used in preference to version numbers to refer to the release at the end of the cycle. The process of choosing the name should be an enjoyable activity for the community to mark the software development cycle, and the name itself should be fun to use. Because the name will become associated with OpenStack, and a particular release, the process should consider potential issues of trademark. Release Naming Process ---------------------- The Technical Committee will designate an official to be responsible for executing the release naming process, which consists of the following steps: #. The process to chose the name for a release begins once the location of the summit that takes place during the development cycle of the release to be named is announced. #. Anyone may propose a name that matches the `Release Name Criteria`_. Proposed names should be added to a page on the OpenStack wiki. #. The marketing community may identify any names of particular concern from a marketing standpoint and discuss such issues publicly on the Marketing mailing list. The marketing community may produce a list of problematic items (with citations to the mailing list discussion of the rationale) to the election official. This information will be communicated during the election, but the names will not be removed from the poll. #. After the close of nominations, the election official will finalize the list of proposed names and publicize it. In general, the official should strive to make objective determinations as to whether a name meets the `Release Name Criteria`_, but if subjective evaluation is required, should be generous in interpreting the rules. It is not necessary to reduce the list of proposed names to a small number. #. Once the list is finalized and publicized, a one-week period shall elapse before the start of the election so that any names removed from consideration because they did not meet the `Release Name Criteria`_ may be discussed. Names erroneously removed may be re-added during this period, and the Technical Committee may vote to add exceptional names (which do not meet the standard criteria). #. A Condorcet election is held to rank the names. The poll will be public, with the voting URL communicated through OpenStack mailing-lists (openstack-discuss and openstack-foundation). The poll will include the names along with any links to mailing list discussions provided by the marketing community. #. The Foundation will perform a trademark check on the winning name. If there is a trademark conflict, then the Foundation will proceed down the ranked list of Condorcet results until a name without a trademark conflict is found. This will be the selected name. Release Name Criteria --------------------- The following rules are designed to provide some consistency in the pattern used to select release names, provide a fun challenge in finding names that meet the criteria, and prevent unwieldy names from being chosen. #. Each release name must start with the letter of the ISO basic Latin alphabet following the initial letter of the previous release, starting with the initial release of ""Austin"". After ""Z"", the next name should start with ""A"" again. #. The name must be composed only of the 26 characters of the ISO basic Latin alphabet. Names which can be transliterated into this character set are also acceptable. #. The name must refer to the physical or human geography of the region encompassing the location of the OpenStack summit for the corresponding release. The exact boundaries of the geographic region under consideration must be declared before the opening of nominations, as part of the initiation of the selection process. #. The name must be a single word with a maximum of 10 characters. Words that describe the feature should not be included, so ""Foo City"" or ""Foo Peak"" would both be eligible as ""Foo"". Names which do not meet these criteria but otherwise sound really cool should be added to a separate section of the wiki page and the TC may make an exception for one or more of them to be considered in the Condorcet poll. The naming official is responsible for presenting the list of exceptional names for consideration to the TC before the poll opens. Polls ----- ======= ============= ================ ========== ========== ================== Release Coordinator Nominations Open Poll Open Poll Close Geographic Region ======= ============= ================ ========== ========== ================== M Monty Taylor 2015-06-01 2015-06-08 2015-06-15 Tokyo N Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Texas Hill Country O Monty Taylor 2015-11-08 2015-11-30 2015-12-07 Catalonia P Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New England Q Monty Taylor 2016-06-22 2016-07-06 2016-07-13 New South Wales R Monty Taylor 2017-03-22 2017-04-05 2017-04-12 British Columbia S Paul Belanger 2018-02-21 2018-03-14 2018-03-21 Berlin T Tony Breeds 2018-09-15 2018-10-15 2018-10-22 Colorado U Rico Lin 2019-07-01 2019-08-12 2019-08-19 China ======= ============= ================ ========== ========== ==================",5,111
openstack%2Fnetworking-ovn~master~I886cd93ebf36c3fbca14e4534bf36041660e97b8,openstack/networking-ovn,master,I886cd93ebf36c3fbca14e4534bf36041660e97b8,Remove alembic migrations entry points for networking-ovn,ABANDONED,2019-12-04 09:49:57.000000000,2019-12-04 11:54:26.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-04 09:49:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5425cabd48029d0bceff9df03ae5169bd7cd07ee', 'message': 'Remove alembic migrations entry points for networking-ovn\n\nDuring merging of networking-ovn code into neutron repo we added\nin neutron db migration script to create ovn tables if they not exists\nyet. It\'s in [1].\nThat broke CI for e.g. networking-ovn and tripleo, where neutron and\nnetworking-ovn from master branch are used. It happens because neutron\'s\ndb migration scripts are run first, so it creates ovn related tables\nand than networking-ovn migration script fails with error ""Table x\nalready exists"".\n\nSo lets not register alembic migration entry points for networking-ovn\nproject anymore as it is now added in Neutron directly.\n\n[1] https://review.opendev.org/#/c/695969/\n\nChange-Id: I886cd93ebf36c3fbca14e4534bf36041660e97b8\nCloses-Bug: #1855063\n'}]",2,697249,5425cabd48029d0bceff9df03ae5169bd7cd07ee,5,3,1,11975,,,0,"Remove alembic migrations entry points for networking-ovn

During merging of networking-ovn code into neutron repo we added
in neutron db migration script to create ovn tables if they not exists
yet. It's in [1].
That broke CI for e.g. networking-ovn and tripleo, where neutron and
networking-ovn from master branch are used. It happens because neutron's
db migration scripts are run first, so it creates ovn related tables
and than networking-ovn migration script fails with error ""Table x
already exists"".

So lets not register alembic migration entry points for networking-ovn
project anymore as it is now added in Neutron directly.

[1] https://review.opendev.org/#/c/695969/

Change-Id: I886cd93ebf36c3fbca14e4534bf36041660e97b8
Closes-Bug: #1855063
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/49/697249/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5425cabd48029d0bceff9df03ae5169bd7cd07ee,bug/1855063,,neutron.db.alembic_migrations = networking-ovn = networking_ovn.db.migration:alembic_migrations,0,2
openstack%2Fneutron~stable%2Ftrain~I06036ce5fe15d91aa440dc340a70dd27ae078c53,openstack/neutron,stable/train,I06036ce5fe15d91aa440dc340a70dd27ae078c53,[OVS FW] Clean port rules if port not found in ovsdb,MERGED,2019-12-03 08:13:26.000000000,2019-12-04 11:41:28.000000000,2019-12-04 11:39:22.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-12-03 08:13:26.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf59430df5f7ee3fc4e7a0eb409f534d9d6eeffb', 'message': '[OVS FW] Clean port rules if port not found in ovsdb\n\nDuring e.g. migration or shelve of VM it may happend that\nport update event will be send to the ovs agent and in the almost\nthe same time, port will be removed from br-int.\nIn such case during update_port_filter method openvswitch firewall\ndriver will not find port in br-int, and it will do nothing with it.\nThat will lead to leftover rules for this port in br-int.\n\nSo this patch adds calling remove_port_filter() method if port was\nnot found in br-int. Just to be sure that there is no any leftovers\nfrom the port in br-int anymore.\n\nChange-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53\nCloses-Bug: #1850557\n(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)\n'}]",0,697017,cf59430df5f7ee3fc4e7a0eb409f534d9d6eeffb,20,7,1,11975,,,0,"[OVS FW] Clean port rules if port not found in ovsdb

During e.g. migration or shelve of VM it may happend that
port update event will be send to the ovs agent and in the almost
the same time, port will be removed from br-int.
In such case during update_port_filter method openvswitch firewall
driver will not find port in br-int, and it will do nothing with it.
That will lead to leftover rules for this port in br-int.

So this patch adds calling remove_port_filter() method if port was
not found in br-int. Just to be sure that there is no any leftovers
from the port in br-int anymore.

Change-Id: I06036ce5fe15d91aa440dc340a70dd27ae078c53
Closes-Bug: #1850557
(cherry picked from commit b01e0c2aa98866df9c25e20a66c02fccccdc7885)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/697017/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,cf59430df5f7ee3fc4e7a0eb409f534d9d6eeffb,bug/1850557-stable/train," def test_update_port_filter_clean_when_port_not_found(self): """"""Check flows are cleaned if port is not found in the bridge."""""" port_dict = {'device': 'port-id', 'security_groups': [1]} self._prepare_security_group() self.firewall.prepare_port_filter(port_dict) self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.update_port_filter(port_dict) self.assertTrue(self.mock_bridge.br.delete_flows.called) ",,13,0
openstack%2Fneutron~master~Iec441d8095e74d897fc3164e57d2f35d9b9d581c,openstack/neutron,master,Iec441d8095e74d897fc3164e57d2f35d9b9d581c,"Move OVN ""fakes"" test helper",ABANDONED,2019-12-04 09:53:52.000000000,2019-12-04 11:36:05.000000000,,"[{'_account_id': 9732}, {'_account_id': 16688}]","[{'number': 1, 'created': '2019-12-04 09:53:52.000000000', 'files': ['neutron/tests/common/ovn_fakes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e775152696daf8b3d65c904d933acd60f8bbf0e', 'message': 'Move OVN ""fakes"" test helper\n\nThe fakes.py file in networking-ovn is a collection of helper functions\nand classes to help with testing OVN.\n\nPrevious paths in networking-ovn tree:\n./networking-ovn/networking_ovn/tests/unit/fakes.py ->\n./neutron/tests/common/ovn_fakes.py\n\nChange-Id: Iec441d8095e74d897fc3164e57d2f35d9b9d581c\nRelated-Blueprint: neutron-ovn-merge\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,697250,5e775152696daf8b3d65c904d933acd60f8bbf0e,5,2,1,6773,,,0,"Move OVN ""fakes"" test helper

The fakes.py file in networking-ovn is a collection of helper functions
and classes to help with testing OVN.

Previous paths in networking-ovn tree:
./networking-ovn/networking_ovn/tests/unit/fakes.py ->
./neutron/tests/common/ovn_fakes.py

Change-Id: Iec441d8095e74d897fc3164e57d2f35d9b9d581c
Related-Blueprint: neutron-ovn-merge
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/697250/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/ovn_fakes.py'],1,5e775152696daf8b3d65c904d933acd60f8bbf0e,bp/neutron-ovn-merge,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import collections import copy import mock from neutron_lib.api.definitions import l3 from oslo_utils import uuidutils from neutron.common.ovn import constants as ovn_const from neutron.common.ovn import utils class FakeOvsdbNbOvnIdl(object): def __init__(self, **kwargs): self.lswitch_table = FakeOvsdbTable.create_one_ovsdb_table() self.lsp_table = FakeOvsdbTable.create_one_ovsdb_table() self.lrouter_table = FakeOvsdbTable.create_one_ovsdb_table() self.lrouter_static_route_table = \ FakeOvsdbTable.create_one_ovsdb_table() self.lrp_table = FakeOvsdbTable.create_one_ovsdb_table() self.addrset_table = FakeOvsdbTable.create_one_ovsdb_table() self.acl_table = FakeOvsdbTable.create_one_ovsdb_table() self.dhcp_options_table = FakeOvsdbTable.create_one_ovsdb_table() self.nat_table = FakeOvsdbTable.create_one_ovsdb_table() self.port_group_table = FakeOvsdbTable.create_one_ovsdb_table() self._tables = {} self._tables['Logical_Switch'] = self.lswitch_table self._tables['Logical_Switch_Port'] = self.lsp_table self._tables['Logical_Router'] = self.lrouter_table self._tables['Logical_Router_Port'] = self.lrp_table self._tables['Logical_Router_Static_Route'] = \ self.lrouter_static_route_table self._tables['ACL'] = self.acl_table self._tables['Address_Set'] = self.addrset_table self._tables['DHCP_Options'] = self.dhcp_options_table self._tables['NAT'] = self.nat_table self._tables['Port_Group'] = self.port_group_table self.transaction = mock.MagicMock() self.ls_add = mock.Mock() self.set_lswitch_ext_ids = mock.Mock() self.ls_del = mock.Mock() self.create_lswitch_port = mock.Mock() self.set_lswitch_port = mock.Mock() self.delete_lswitch_port = mock.Mock() self.get_acls_for_lswitches = mock.Mock() self.create_lrouter = mock.Mock() self.lrp_del = mock.Mock() self.update_lrouter = mock.Mock() self.delete_lrouter = mock.Mock() self.add_lrouter_port = mock.Mock() self.update_lrouter_port = mock.Mock() self.delete_lrouter_port = mock.Mock() self.set_lrouter_port_in_lswitch_port = mock.Mock() self.add_acl = mock.Mock() self.delete_acl = mock.Mock() self.update_acls = mock.Mock() self.idl = mock.Mock() self.add_static_route = mock.Mock() self.delete_static_route = mock.Mock() self.create_address_set = mock.Mock() self.update_address_set_ext_ids = mock.Mock() self.delete_address_set = mock.Mock() self.update_address_set = mock.Mock() self.get_all_chassis_gateway_bindings = mock.Mock() self.get_gateway_chassis_binding = mock.Mock() self.get_unhosted_gateways = mock.Mock() self.add_dhcp_options = mock.Mock() self.delete_dhcp_options = mock.Mock() self.get_subnet_dhcp_options = mock.Mock() self.get_subnet_dhcp_options.return_value = { 'subnet': None, 'ports': []} self.get_subnets_dhcp_options = mock.Mock() self.get_subnets_dhcp_options.return_value = [] self.get_all_dhcp_options = mock.Mock() self.get_router_port_options = mock.MagicMock() self.get_router_port_options.return_value = {} self.add_nat_rule_in_lrouter = mock.Mock() self.delete_nat_rule_in_lrouter = mock.Mock() self.get_lrouter_nat_rules = mock.Mock() self.get_lrouter_nat_rules.return_value = [] self.set_nat_rule_in_lrouter = mock.Mock() self.check_for_row_by_value_and_retry = mock.Mock() self.get_parent_port = mock.Mock() self.get_parent_port.return_value = [] self.dns_add = mock.Mock() self.get_lswitch = mock.Mock() fake_ovs_row = FakeOvsdbRow.create_one_ovsdb_row() self.get_lswitch.return_value = fake_ovs_row self.get_lswitch_port = mock.Mock() self.get_lswitch_port.return_value = fake_ovs_row self.get_ls_and_dns_record = mock.Mock() self.get_ls_and_dns_record.return_value = (fake_ovs_row, None) self.ls_set_dns_records = mock.Mock() self.get_floatingip = mock.Mock() self.get_floatingip.return_value = None self.check_revision_number = mock.Mock() self.lookup = mock.MagicMock() # TODO(lucasagomes): The get_floatingip_by_ips() method is part # of a backwards compatibility layer for the Pike -> Queens release, # remove it in the Rocky release. self.get_floatingip_by_ips = mock.Mock() self.get_floatingip_by_ips.return_value = None self.is_col_present = mock.Mock() self.is_col_present.return_value = False self.get_lrouter = mock.Mock() self.get_lrouter.return_value = None self.delete_lrouter_ext_gw = mock.Mock() self.delete_lrouter_ext_gw.return_value = None self.is_port_groups_supported = mock.Mock() # TODO(lucasagomes): Flip this return value to True at some point, # port groups should be the default method used by networking-ovn self.is_port_groups_supported.return_value = False self.get_address_set = mock.Mock() self.get_address_set.return_value = None self.pg_acl_add = mock.Mock() self.pg_acl_del = mock.Mock() self.pg_del = mock.Mock() self.pg_add = mock.Mock() self.get_port_group = mock.Mock() self.pg_add_ports = mock.Mock() self.pg_del_ports = mock.Mock() self.lsp_get_up = mock.Mock() self.nb_global = mock.Mock() self.db_list_rows = mock.Mock() self.lsp_list = mock.MagicMock() self.db_find = mock.Mock() self.db_set = mock.Mock() self.db_clear = mock.Mock() self.db_remove = mock.Mock() self.set_lswitch_port_to_virtual_type = mock.Mock() self.unset_lswitch_port_to_virtual_type = mock.Mock() self.ls_get = mock.Mock() class FakeOvsdbSbOvnIdl(object): def __init__(self, **kwargs): self.chassis_exists = mock.Mock() self.chassis_exists.return_value = True self.get_chassis_hostname_and_physnets = mock.Mock() self.get_chassis_hostname_and_physnets.return_value = {} self.get_all_chassis = mock.Mock() self.get_chassis_data_for_ml2_bind_port = mock.Mock() self.get_chassis_data_for_ml2_bind_port.return_value = \ ('fake', '', ['fake-physnet']) self.get_logical_port_chassis_and_datapath = mock.Mock() self.get_logical_port_chassis_and_datapath.return_value = \ ('fake', 'fake-dp') self.get_chassis_and_physnets = mock.Mock() self.get_gateway_chassis_from_cms_options = mock.Mock() self.is_col_present = mock.Mock() self.is_col_present.return_value = False self.db_set = mock.Mock() class FakeOvsdbTransaction(object): def __init__(self, **kwargs): self.insert = mock.Mock() class FakePlugin(object): def __init__(self, **kwargs): self.get_ports = mock.Mock() self._get_port_security_group_bindings = mock.Mock() class FakeResource(dict): def __init__(self, manager=None, info=None, loaded=False, methods=None): """"""Set attributes and methods for a resource. :param manager: The resource manager :param Dictionary info: A dictionary with all attributes :param bool loaded: True if the resource is loaded in memory :param Dictionary methods: A dictionary with all methods """""" info = info or {} super(FakeResource, self).__init__(info) methods = methods or {} self.__name__ = type(self).__name__ self.manager = manager self._info = info self._add_details(info) self._add_methods(methods) self._loaded = loaded # Add a revision number by default setattr(self, 'revision_number', 1) @property def db_obj(self): return self def _add_details(self, info): for (k, v) in info.items(): setattr(self, k, v) def _add_methods(self, methods): """"""Fake methods with MagicMock objects. For each <@key, @value> pairs in methods, add an callable MagicMock object named @key as an attribute, and set the mock's return_value to @value. When users access the attribute with (), @value will be returned, which looks like a function call. """""" for (name, ret) in methods.items(): method = mock.MagicMock(return_value=ret) setattr(self, name, method) def __repr__(self): reprkeys = sorted(k for k in self.__dict__.keys() if k[0] != '_' and k != 'manager') info = "", "".join(""%s=%s"" % (k, getattr(self, k)) for k in reprkeys) return ""<%s %s>"" % (self.__class__.__name__, info) def keys(self): return self._info.keys() def info(self): return self._info def update(self, info): super(FakeResource, self).update(info) self._add_details(info) class FakeNetwork(object): """"""Fake one or more networks."""""" @staticmethod def create_one_network(attrs=None): """"""Create a fake network. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the network """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() network_attrs = { 'id': 'network-id-' + fake_uuid, 'name': 'network-name-' + fake_uuid, 'status': 'ACTIVE', 'tenant_id': 'project-id-' + fake_uuid, 'admin_state_up': True, 'shared': False, 'subnets': [], 'provider:network_type': 'geneve', 'provider:physical_network': None, 'provider:segmentation_id': 10, 'router:external': False, 'availability_zones': [], 'availability_zone_hints': [], 'is_default': False, } # Overwrite default attributes. network_attrs.update(attrs) return FakeResource(info=copy.deepcopy(network_attrs), loaded=True) class FakeNetworkContext(object): def __init__(self, network, segments): self.fake_network = network self.fake_segments = segments self._plugin_context = mock.MagicMock() @property def current(self): return self.fake_network @property def original(self): return None @property def network_segments(self): return self.fake_segments class FakeSubnetContext(object): def __init__(self, subnet, original_subnet=None, network=None): self.fake_subnet = subnet self.fake_original_subnet = original_subnet self.fake_network = FakeNetworkContext(network, None) @property def current(self): return self.fake_subnet @property def original(self): return self.fake_original_subnet @property def network(self): return self.fake_network class FakeOvsdbRow(FakeResource): """"""Fake one or more OVSDB rows."""""" @staticmethod def create_one_ovsdb_row(attrs=None, methods=None): """"""Create a fake OVSDB row. :param Dictionary attrs: A dictionary with all attributes :param Dictionary methods: A dictionary with all methods :return: A FakeResource object faking the OVSDB row """""" attrs = attrs or {} methods = methods or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() ovsdb_row_attrs = { 'uuid': fake_uuid, 'name': 'name-' + fake_uuid, 'external_ids': {}, } # Set default methods. ovsdb_row_methods = { 'addvalue': None, 'delete': None, 'delvalue': None, 'verify': None, 'setkey': None, } # Overwrite default attributes and methods. ovsdb_row_attrs.update(attrs) ovsdb_row_methods.update(methods) return FakeResource(info=copy.deepcopy(ovsdb_row_attrs), loaded=True, methods=copy.deepcopy(ovsdb_row_methods)) class FakeOvsdbTable(FakeResource): """"""Fake one or more OVSDB tables."""""" @staticmethod def create_one_ovsdb_table(attrs=None): """"""Create a fake OVSDB table. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the OVSDB table """""" attrs = attrs or {} # Set default attributes. ovsdb_table_attrs = { 'rows': {}, 'columns': {}, } # Overwrite default attributes. ovsdb_table_attrs.update(attrs) return FakeResource(info=copy.deepcopy(ovsdb_table_attrs), loaded=True) class FakePort(object): """"""Fake one or more ports."""""" @staticmethod def create_one_port(attrs=None): """"""Create a fake port. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the port """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() port_attrs = { 'admin_state_up': True, 'allowed_address_pairs': [{}], 'binding:host_id': 'binding-host-id-' + fake_uuid, 'binding:profile': {}, 'binding:vif_details': {}, 'binding:vif_type': 'ovs', 'binding:vnic_type': 'normal', 'device_id': 'device-id-' + fake_uuid, 'device_owner': 'compute:nova', 'dns_assignment': [{}], 'dns_name': 'dns-name-' + fake_uuid, 'extra_dhcp_opts': [{}], 'fixed_ips': [{'subnet_id': 'subnet-id-' + fake_uuid, 'ip_address': '10.10.10.20'}], 'id': 'port-id-' + fake_uuid, 'mac_address': 'fa:16:3e:a9:4e:72', 'name': 'port-name-' + fake_uuid, 'network_id': 'network-id-' + fake_uuid, 'port_security_enabled': True, 'security_groups': [], 'status': 'ACTIVE', 'tenant_id': 'project-id-' + fake_uuid, } # Overwrite default attributes. port_attrs.update(attrs) return FakeResource(info=copy.deepcopy(port_attrs), loaded=True) class FakePortContext(object): def __init__(self, port, host, segments_to_bind): self.fake_port = port self.fake_host = host self.fake_segments_to_bind = segments_to_bind self.set_binding = mock.Mock() @property def current(self): return self.fake_port @property def host(self): return self.fake_host @property def segments_to_bind(self): return self.fake_segments_to_bind class FakeSecurityGroup(object): """"""Fake one or more security groups."""""" @staticmethod def create_one_security_group(attrs=None): """"""Create a fake security group. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the security group """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() security_group_attrs = { 'id': 'security-group-id-' + fake_uuid, 'name': 'security-group-name-' + fake_uuid, 'description': 'security-group-description-' + fake_uuid, 'tenant_id': 'project-id-' + fake_uuid, 'security_group_rules': [], } # Overwrite default attributes. security_group_attrs.update(attrs) return FakeResource(info=copy.deepcopy(security_group_attrs), loaded=True) class FakeSecurityGroupRule(object): """"""Fake one or more security group rules."""""" @staticmethod def create_one_security_group_rule(attrs=None): """"""Create a fake security group rule. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the security group rule """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() security_group_rule_attrs = { 'direction': 'ingress', 'ethertype': 'IPv4', 'id': 'security-group-rule-id-' + fake_uuid, 'port_range_max': 22, 'port_range_min': 22, 'protocol': 'tcp', 'remote_group_id': None, 'remote_ip_prefix': '0.0.0.0/0', 'security_group_id': 'security-group-id-' + fake_uuid, 'tenant_id': 'project-id-' + fake_uuid, } # Overwrite default attributes. security_group_rule_attrs.update(attrs) return FakeResource(info=copy.deepcopy(security_group_rule_attrs), loaded=True) class FakeSegment(object): """"""Fake one or more segments."""""" @staticmethod def create_one_segment(attrs=None): """"""Create a fake segment. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the segment """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() segment_attrs = { 'id': 'segment-id-' + fake_uuid, 'network_type': 'geneve', 'physical_network': None, 'segmentation_id': 10, } # Overwrite default attributes. segment_attrs.update(attrs) return FakeResource(info=copy.deepcopy(segment_attrs), loaded=True) class FakeSubnet(object): """"""Fake one or more subnets."""""" @staticmethod def create_one_subnet(attrs=None): """"""Create a fake subnet. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the subnet """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() subnet_attrs = { 'id': 'subnet-id-' + fake_uuid, 'name': 'subnet-name-' + fake_uuid, 'network_id': 'network-id-' + fake_uuid, 'cidr': '10.10.10.0/24', 'tenant_id': 'project-id-' + fake_uuid, 'enable_dhcp': True, 'dns_nameservers': [], 'allocation_pools': [], 'host_routes': [], 'ip_version': 4, 'gateway_ip': '10.10.10.1', 'ipv6_address_mode': 'None', 'ipv6_ra_mode': 'None', 'subnetpool_id': None, } # Overwrite default attributes. subnet_attrs.update(attrs) return FakeResource(info=copy.deepcopy(subnet_attrs), loaded=True) class FakeFloatingIp(object): """"""Fake one or more floating ips."""""" @staticmethod def create_one_fip(attrs=None): """"""Create a fake floating ip. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the floating ip """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() fip_attrs = { 'id': 'fip-id-' + fake_uuid, 'tenant_id': '', 'fixed_ip_address': '10.0.0.10', 'floating_ip_address': '172.21.0.100', 'router_id': 'router-id', 'port_id': 'port_id', 'fixed_port_id': 'port_id', 'floating_port_id': 'fip-port-id', 'status': 'Active', 'floating_network_id': 'fip-net-id', 'dns': '', 'dns_domain': '', 'dns_name': '', 'project_id': '', } # Overwrite default attributes. fip_attrs.update(attrs) return FakeResource(info=copy.deepcopy(fip_attrs), loaded=True) class FakeOVNPort(object): """"""Fake one or more ports."""""" @staticmethod def create_one_port(attrs=None): """"""Create a fake ovn port. :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object faking the port """""" attrs = attrs or {} # Set default attributes. fake_uuid = uuidutils.generate_uuid() port_attrs = { 'addresses': [], 'dhcpv4_options': '', 'dhcpv6_options': [], 'enabled': True, 'external_ids': {}, 'name': fake_uuid, 'options': {}, 'parent_name': [], 'port_security': [], 'tag': [], 'tag_request': [], 'type': '', 'up': False, } # Overwrite default attributes. port_attrs.update(attrs) return type('Logical_Switch_Port', (object, ), port_attrs) @staticmethod def from_neutron_port(port): """"""Create a fake ovn port based on a neutron port."""""" external_ids = { ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(port['network_id']), ovn_const.OVN_SG_IDS_EXT_ID_KEY: ' '.join(port['security_groups']), ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: port.get('device_owner', '')} addresses = [port['mac_address'], ] addresses += [x['ip_address'] for x in port.get('fixed_ips', [])] port_security = ( addresses + [x['ip_address'] for x in port.get('allowed_address_pairs', [])]) return FakeOVNPort.create_one_port( {'external_ids': external_ids, 'addresses': addresses, 'port_security': port_security}) FakeStaticRoute = collections.namedtuple( 'Static_Routes', ['ip_prefix', 'nexthop', 'external_ids']) class FakeOVNRouter(object): @staticmethod def create_one_router(attrs=None): router_attrs = { 'enabled': False, 'external_ids': {}, 'load_balancer': [], 'name': '', 'nat': [], 'options': {}, 'ports': [], 'static_routes': [], } # Overwrite default attributes. router_attrs.update(attrs) return type('Logical_Router', (object, ), router_attrs) @staticmethod def from_neutron_router(router): def _get_subnet_id(gw_info): subnet_id = '' ext_ips = gw_info.get('external_fixed_ips', []) if ext_ips: subnet_id = ext_ips[0]['subnet_id'] return subnet_id external_ids = { ovn_const.OVN_GW_PORT_EXT_ID_KEY: router.get('gw_port_id') or '', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: router.get('name', 'no_router_name')} # Get the routes routes = [] for r in router.get('routes', []): routes.append(FakeStaticRoute(ip_prefix=r['destination'], nexthop=r['nexthop'], external_ids={})) gw_info = router.get(l3.EXTERNAL_GW_INFO) if gw_info: external_ids = { ovn_const.OVN_ROUTER_IS_EXT_GW: 'true', ovn_const.OVN_SUBNET_EXT_ID_KEY: _get_subnet_id(gw_info)} routes.append(FakeStaticRoute( ip_prefix='0.0.0.0/0', nexthop='', external_ids=external_ids)) return FakeOVNRouter.create_one_router( {'external_ids': external_ids, 'enabled': router.get('admin_state_up') or False, 'name': utils.ovn_name(router['id']), 'static_routes': routes}) ",,753,0
openstack%2Fnetworking-ovn~master~I3c25415ffced4c735a37934110e7f82f8ae26536,openstack/networking-ovn,master,I3c25415ffced4c735a37934110e7f82f8ae26536,OVNTrunkDriver update neutron port from OVNTrunkHandler,ABANDONED,2019-12-02 23:51:05.000000000,2019-12-04 11:26:21.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-02 23:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c2e9409661cafbb850133d5e860e95bbbf32dd05', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n(cherry picked from commit 706ee3dd5861c57e7e9dccdcfa10c00aae5581c7)\n'}, {'number': 2, 'created': '2019-12-03 18:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/db37336a49e265946600b4ade3393ee5a7333797', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n(cherry picked from commit 706ee3dd5861c57e7e9dccdcfa10c00aae5581c7)\n'}, {'number': 3, 'created': '2019-12-03 21:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fdb69a4fe0fb4e448fc5d8bc84cdc19ed3cbef7b', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n(cherry picked from commit 706ee3dd5861c57e7e9dccdcfa10c00aae5581c7)\n'}, {'number': 4, 'created': '2019-12-03 23:08:06.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/218098ac884dc4c124f6e78c6e1ddb271172969d', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n(cherry picked from commit 706ee3dd5861c57e7e9dccdcfa10c00aae5581c7)\n'}]",0,696986,218098ac884dc4c124f6e78c6e1ddb271172969d,10,4,4,11952,,,0,"OVNTrunkDriver update neutron port from OVNTrunkHandler

Skip redundant update to neutron db when subport comes up.
Also, set device_owner for subport to proper value.

Change-Id: I3c25415ffced4c735a37934110e7f82f8ae26536
(cherry picked from commit 706ee3dd5861c57e7e9dccdcfa10c00aae5581c7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/86/696986/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,c2e9409661cafbb850133d5e860e95bbbf32dd05,bug/1834637," port_obj.Port.update_object( context, {'device_owner': trunk_consts.TRUNK_SUBPORT_OWNER}, id=subport.port_id) port_obj.Port.update_object( context, {'device_owner': ''}, id=subport.port_id) {'profile': binding.profile},"," {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''},",11,7
openstack%2Fpython-ironicclient~master~Ib62ca3ee4626084e5e9b90e93e4fa97938023457,openstack/python-ironicclient,master,Ib62ca3ee4626084e5e9b90e93e4fa97938023457,Fix AttributeError in negotiate_version,MERGED,2019-08-12 16:03:00.000000000,2019-12-04 11:25:39.000000000,2019-12-02 16:28:44.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-08-12 16:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/323d4776d2596400158fa54cf7bb1ce94a869abe', 'message': ""Fix AttributeError in negotiate_version\n\nTODO: decide what to do here.\n\nSeen in kolla-ansible CI, if ironic inspector starts up before ironic\nAPI is properly up, we see the following error:\n\nThe PXE filter DnsmasqFilter, state=initialized encountered an\nexception: StrictVersion instance has no attribute 'version'; resetting\nthe filter: AttributeError: StrictVersion instance has no attribute\n'version'\n\nExample: http://paste.openstack.org/show/756342/\n\nGoogling suggests the usual cause of this error is when StrictVersion is\ninitialised with a version of None. This suggests to me that max_ver is\nNone.\n\nThis patch catches the case where we were unable to find a version in\nthe response headers.\n\nChange-Id: Ib62ca3ee4626084e5e9b90e93e4fa97938023457\nStory: 2006393\nTask: 36266\n""}, {'number': 2, 'created': '2019-09-10 15:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/62d3d63392d67ffba8d343413f0f59d1d566a8e5', 'message': ""Fix AttributeError in negotiate_version\n\nSeen in kolla-ansible CI, if ironic inspector starts up before ironic\nAPI is properly up, we see the following error:\n\nThe PXE filter DnsmasqFilter, state=initialized encountered an\nexception: StrictVersion instance has no attribute 'version'; resetting\nthe filter: AttributeError: StrictVersion instance has no attribute\n'version'\n\nExample: http://paste.openstack.org/show/756342/\n\nThe usual cause of this error is when StrictVersion is initialised with\na version of None. This suggests to me that max_ver is None.\n\nThis patch catches the case where we get a 4xx or 5xx return code when\nchecking the version, and raises an error.\n\nChange-Id: Ib62ca3ee4626084e5e9b90e93e4fa97938023457\nStory: 2006393\nTask: 36266\n""}, {'number': 3, 'created': '2019-11-22 17:43:49.000000000', 'files': ['releasenotes/notes/fix-negotiate-version-503-c3cb8d1d4901541a.yaml', 'ironicclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0e9bf337f1f6aa41f67df2966dacf9e8e897b7da', 'message': ""Fix AttributeError in negotiate_version\n\nSeen in kolla-ansible CI, if ironic inspector starts up before ironic\nAPI is properly up, we see the following error:\n\nThe PXE filter DnsmasqFilter, state=initialized encountered an\nexception: StrictVersion instance has no attribute 'version'; resetting\nthe filter: AttributeError: StrictVersion instance has no attribute\n'version'\n\nExample: http://paste.openstack.org/show/756342/\n\nThe usual cause of this error is when StrictVersion is initialised with\na version of None. This suggests to me that max_ver is None.\n\nThis leads to an exception being raised that circumvents the client's\nretry mechanisms.\n\nIn the particular case of kolla-ansible CI, Ironic API is behind a load\nbalancer, and all backends are down resulting in a 503. The lack of a\nretry caused ironic inspector to fail on startup.\n\nThis patch catches the case where we get a 4xx or 5xx return code when\nchecking the version, and raises an error that works with the client's\nretry mechanisms.\n\nChange-Id: Ib62ca3ee4626084e5e9b90e93e4fa97938023457\nStory: 2006393\nTask: 36266\n""}]",7,675940,0e9bf337f1f6aa41f67df2966dacf9e8e897b7da,29,7,3,14826,,,0,"Fix AttributeError in negotiate_version

Seen in kolla-ansible CI, if ironic inspector starts up before ironic
API is properly up, we see the following error:

The PXE filter DnsmasqFilter, state=initialized encountered an
exception: StrictVersion instance has no attribute 'version'; resetting
the filter: AttributeError: StrictVersion instance has no attribute
'version'

Example: http://paste.openstack.org/show/756342/

The usual cause of this error is when StrictVersion is initialised with
a version of None. This suggests to me that max_ver is None.

This leads to an exception being raised that circumvents the client's
retry mechanisms.

In the particular case of kolla-ansible CI, Ironic API is behind a load
balancer, and all backends are down resulting in a 503. The lack of a
retry caused ironic inspector to fail on startup.

This patch catches the case where we get a 4xx or 5xx return code when
checking the version, and raises an error that works with the client's
retry mechanisms.

Change-Id: Ib62ca3ee4626084e5e9b90e93e4fa97938023457
Story: 2006393
Task: 36266
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/40/675940/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/common/http.py'],1,323d4776d2596400158fa54cf7bb1ce94a869abe,story/2006393," # We could check the response code here. The below method seems to # be too simple... # If the query failed for some reason, max_ver will be None. if not max_ver: # Could raise an exception from this library at this point. pass",,6,0
openstack%2Fcharm-glance~stable%2F19.10~I5e644ed8dba809fd1ad5d628f32ea64d31799e52,openstack/charm-glance,stable/19.10,I5e644ed8dba809fd1ad5d628f32ea64d31799e52,Remove glance-registry in OpenStack Stein deployments,MERGED,2019-12-03 14:28:36.000000000,2019-12-04 11:22:34.000000000,2019-12-04 11:22:34.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-12-03 14:28:36.000000000', 'files': ['hooks/glance_utils.py', 'templates/stein/glance-api.conf', 'actions/security_checklist.py', 'hooks/glance_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/395feb5cf431f674db5b985156c277d4c80eebf9', 'message': 'Remove glance-registry in OpenStack Stein deployments\n\nThis patch removes glance-registry service when upgrading to\nOpenStack Stein and later releases.\n\nSecond part of:\nChange-Id: Ie6d618582cd5063738a965d36e7d766633e1a607\n\nChange-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n(cherry picked from commit 16abd4098576db84bbb92bd72127571527c02ae4)\n'}]",0,697097,395feb5cf431f674db5b985156c277d4c80eebf9,11,5,1,28014,,,0,"Remove glance-registry in OpenStack Stein deployments

This patch removes glance-registry service when upgrading to
OpenStack Stein and later releases.

Second part of:
Change-Id: Ie6d618582cd5063738a965d36e7d766633e1a607

Change-Id: I5e644ed8dba809fd1ad5d628f32ea64d31799e52
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
(cherry picked from commit 16abd4098576db84bbb92bd72127571527c02ae4)
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/97/697097/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/glance_utils.py', 'templates/stein/glance-api.conf', 'actions/security_checklist.py', 'hooks/glance_relations.py']",4,395feb5cf431f674db5b985156c277d4c80eebf9,deprecate-registry-stable/19.10," release = os_release('glance-common') cmp_release = CompareOpenStackReleases(release) # https://blueprints.launchpad.net/glance/+spec/deprecate-registry # Based on Glance registry deprecation and removal on Stein release, # its configuration is written only if OpenStack version is previous # than Stein. if cmp_release < 'stein': CONFIGS.write(GLANCE_REGISTRY_CONF) if cmp_release != ""essex"": if cmp_release == ""essex"":"," rel = os_release('glance-common') CONFIGS.write(GLANCE_REGISTRY_CONF) if rel != ""essex"": if rel == ""essex"":",136,18
openstack%2Fkuryr-tempest-plugin~master~I9b234386d861dfd35ed2062f7951dbe15538a034,openstack/kuryr-tempest-plugin,master,I9b234386d861dfd35ed2062f7951dbe15538a034,Increading a timeout to 120 seconds on CRD creation,MERGED,2019-11-20 11:51:54.000000000,2019-12-04 11:21:11.000000000,2019-12-04 11:20:00.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-11-20 11:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8471647e99e9b9e175c56545b7a549559a895bcf', 'message': 'Adding a sleep of 120 seconds after command of NP creation\n\nChange-Id: I9b234386d861dfd35ed2062f7951dbe15538a034\n'}, {'number': 2, 'created': '2019-11-20 15:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7567f92ac6df236a0a2734fc6a7433ff6935830b', 'message': 'Adding a sleep of 120 seconds after command of NP creation\n\nThis is needed because it takes time to update Network resources\n(for example LB or SG) after Network policy creation\n\nChange-Id: I9b234386d861dfd35ed2062f7951dbe15538a034\n'}, {'number': 3, 'created': '2019-11-25 11:07:54.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/08e857f7db1608ce6133f8c5c6262e3a9cb177c2', 'message': 'Increading a timeout to 120 seconds on CRD creation\n\nThis is needed because it takes time to update Network resources\n(for example LB or SG) after Network policy creation\n\nChange-Id: I9b234386d861dfd35ed2062f7951dbe15538a034\n'}]",8,695181,08e857f7db1608ce6133f8c5c6262e3a9cb177c2,58,5,3,21302,,,0,"Increading a timeout to 120 seconds on CRD creation

This is needed because it takes time to update Network resources
(for example LB or SG) after Network policy creation

Change-Id: I9b234386d861dfd35ed2062f7951dbe15538a034
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/81/695181/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_network_policy.py'],1,8471647e99e9b9e175c56545b7a549559a895bcf,add_timeout_to_ip_block, time.sleep(120),,1,0
openstack%2Fnetworking-ovn~stable%2Fqueens~I3c25415ffced4c735a37934110e7f82f8ae26536,openstack/networking-ovn,stable/queens,I3c25415ffced4c735a37934110e7f82f8ae26536,OVNTrunkDriver update neutron port from OVNTrunkHandler,ABANDONED,2019-11-28 13:17:16.000000000,2019-12-04 11:13:00.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-11-28 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8e8d533cf1180fdc8b1f9d08a8f799275d2a9ab8', 'message': 'DNM: OVNTrunkDriver update port host_id when binding\n\nSkip an additional neutron db update call when subport comes up.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 2, 'created': '2019-11-28 13:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd70facd193af845738b96c7d1b26fdd087cbe59', 'message': 'DNM: OVNTrunkDriver update port host_id when binding\n\nSkip an additional neutron db update call when subport comes up.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 3, 'created': '2019-12-02 20:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/79e1e86cdf824929d5cf74dc51a91823db871bcb', 'message': 'DNM: OVNTrunkDriver update port host_id when binding\n\nSkip an additional neutron db update call when subport comes up.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 4, 'created': '2019-12-02 20:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab76911c19c1bc894e0e0d417a62fd386f3079e1', 'message': 'DNM: OVNTrunkDriver update port host_id when binding\n\nSkip an additional neutron db update call when subport comes up.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 5, 'created': '2019-12-02 21:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3044482c6d167ad4a1296bab9f8d755901b8fed2', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 6, 'created': '2019-12-02 21:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ea61d5192f1250269d297498f214b1c02882229c', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 7, 'created': '2019-12-02 23:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/706ee3dd5861c57e7e9dccdcfa10c00aae5581c7', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}, {'number': 8, 'created': '2019-12-03 21:02:19.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44bacf8122bf0a33b47590668360342c5b607c8c', 'message': 'OVNTrunkDriver update neutron port from OVNTrunkHandler\n\nSkip redundant update to neutron db when subport comes up.\nAlso, set device_owner for subport to proper value.\n\nChange-Id: I3c25415ffced4c735a37934110e7f82f8ae26536\n'}]",9,696542,44bacf8122bf0a33b47590668360342c5b607c8c,20,4,8,11952,,,0,"OVNTrunkDriver update neutron port from OVNTrunkHandler

Skip redundant update to neutron db when subport comes up.
Also, set device_owner for subport to proper value.

Change-Id: I3c25415ffced4c735a37934110e7f82f8ae26536
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/42/696542/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/mech_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,8e8d533cf1180fdc8b1f9d08a8f799275d2a9ab8,bug/1834637," def _trunk_update(self, trunk): trunk.update(status=trunk_consts.ACTIVE_STATUS) try: pport = port_obj.Port.get_object(context, id=parent_port) host_id = pport.binding.host except n_exc.ObjectNotFound: LOG.info(""Parent port %s not found while trying to get "" ""host_id for sub_port %s"", parent_port, subport.port_id) return host=host_id) # FIXME(ff): this is broken syntax right now... must fix # port_obj.Port.update_object( # context, # { 'port': {'device_owner': 'trunk:subport'} }, # id=subport.port_id) LOG.debug(""Done setting parent %s for subport %s host_id %s"", parent_port, subport.port_id, host_id) self._trunk_update(trunk) self._trunk_update(trunk) self._trunk_update(trunk)"," host=db_port.binding.host) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS)",28,9
openstack%2Fhorizon~master~I35b40766a1e11b9973c44558545bc9d3491578a1,openstack/horizon,master,I35b40766a1e11b9973c44558545bc9d3491578a1,Change py27integration to integration.,MERGED,2019-12-03 09:47:34.000000000,2019-12-04 11:03:38.000000000,2019-12-04 11:02:12.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27386}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-12-03 09:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/059925b4778f08e286860e32abe0193b99839cc2', 'message': 'Change py27integration to integration, since py27integration no longer exist.\n\nChange-Id: I35b40766a1e11b9973c44558545bc9d3491578a1\n'}, {'number': 2, 'created': '2019-12-04 00:27:09.000000000', 'files': ['openstack_dashboard/test/integration_tests/README.rst', 'tools/gate/integration/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fba4a12889ccbd5c7afea9f5095c35395a210da6', 'message': 'Change py27integration to integration.\n\nChange py27integration to integration, since py27integration no longer\nexist.\n\nChange-Id: I35b40766a1e11b9973c44558545bc9d3491578a1\n'}]",1,697040,fba4a12889ccbd5c7afea9f5095c35395a210da6,12,4,2,27386,,,0,"Change py27integration to integration.

Change py27integration to integration, since py27integration no longer
exist.

Change-Id: I35b40766a1e11b9973c44558545bc9d3491578a1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/40/697040/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/README.rst'],1,059925b4778f08e286860e32abe0193b99839cc2,, $ tox -e integration, $ tox -e py27integration,1,1
openstack%2Fkolla~master~Id927e5f5229eefee1114a8ec406ee8e1b089e6f4,openstack/kolla,master,Id927e5f5229eefee1114a8ec406ee8e1b089e6f4,WIP: Set Apache to log to /var/log/kolla,ABANDONED,2019-12-03 13:28:53.000000000,2019-12-04 10:29:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 13:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/581c58323183ff4c881248dc8c2fb555c3046bd9', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}, {'number': 2, 'created': '2019-12-03 18:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b89d4fee65fc94c437f3cd7e6f778a9f5f87fbdc', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}, {'number': 3, 'created': '2019-12-03 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9cfa9f3bc318846e4835c33119353e7ecac7f2ad', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}, {'number': 4, 'created': '2019-12-04 06:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d483a901b558000ddb06fcd174c2fee69b8e5215', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}, {'number': 5, 'created': '2019-12-04 06:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8fe828926c1d5ed389df7ce3fc5ebd74289b9126', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}, {'number': 6, 'created': '2019-12-04 07:34:54.000000000', 'files': ['docker/panko/panko-api/extend_start.sh', 'docker/heat/heat-base/extend_start.sh', 'docker/monasca/monasca-log-api/extend_start.sh', 'docker/barbican/barbican-api/extend_start.sh', 'docker/vitrage/vitrage-api/extend_start.sh', 'docker/cinder/cinder-api/extend_start.sh', 'docker/monasca/monasca-api/extend_start.sh', 'docker/cyborg/cyborg-api/extend_start.sh', 'docker/cloudkitty/cloudkitty-api/extend_start.sh', 'docker/gnocchi/gnocchi-api/extend_start.sh', 'docker/base/Dockerfile.j2', 'docker/nova/nova-api/extend_start.sh', 'docker/masakari/masakari-api/extend_start.sh', 'docker/qinling/qinling-api/extend_start.sh', 'docker/zun/zun-api/extend_start.sh', 'docker/base/kolla_functions.sh', 'docker/octavia/octavia-api/extend_start.sh', 'docker/keystone/keystone/extend_start.sh', 'docker/placement/placement-api/extend_start.sh', 'docker/ironic/ironic-api/extend_start.sh', 'docker/aodh/aodh-api/extend_start.sh', 'docker/zaqar/zaqar-wsgi/extend_start.sh', 'docker/freezer/freezer-api/extend_start.sh', 'docker/mistral/mistral-api/extend_start.sh', 'docker/manila/manila-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/85b618b1f1c1419134bf9a3bbba04636a2bbc86b', 'message': 'WIP: Set Apache to log to /var/log/kolla\n\nChange-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4\n'}]",0,697087,85b618b1f1c1419134bf9a3bbba04636a2bbc86b,15,2,6,22629,,,0,"WIP: Set Apache to log to /var/log/kolla

Change-Id: Id927e5f5229eefee1114a8ec406ee8e1b089e6f4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/697087/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/keystone/keystone/extend_start.sh'],1,581c58323183ff4c881248dc8c2fb555c3046bd9,,#Update /etc/httpd/logs symlink to log to /var/log/kolla/keystone rm -f /etc/httpd/logs && ln -sf /var/log/kolla/keystone /etc/httpd/logs ,,3,0
openstack%2Fnetworking-midonet~master~I31168f0c8903fb8247a2935b4f40a7762ea0bbb4,openstack/networking-midonet,master,I31168f0c8903fb8247a2935b4f40a7762ea0bbb4,doc: Add policy reference,MERGED,2019-11-11 06:06:27.000000000,2019-12-04 10:24:35.000000000,2019-12-04 10:23:22.000000000,"[{'_account_id': 156}, {'_account_id': 841}, {'_account_id': 17130}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-11 06:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b7f52abed695faba058dd70de612409d316bc2ff', 'message': 'doc: Add policy reference\n\nCopy-and-modified from neutron-fwaas.\n\nPartially Implements: blueprint neutron-policy-in-code\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I31168f0c8903fb8247a2935b4f40a7762ea0bbb4\n'}, {'number': 2, 'created': '2019-11-13 02:41:37.000000000', 'files': ['doc/source/configuration/index.rst', '.gitignore', 'doc/source/configuration/policy-sample.rst', 'doc/source/conf.py', 'etc/oslo-policy-generator/policy.conf', 'doc/source/configuration/policy.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/1096e13d961665c6b7ba81c762f6d0208a2029fa', 'message': 'doc: Add policy reference\n\nCopy-and-modified from neutron-fwaas.\n\nPartially Implements: blueprint neutron-policy-in-code\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I31168f0c8903fb8247a2935b4f40a7762ea0bbb4\n'}]",0,693650,1096e13d961665c6b7ba81c762f6d0208a2029fa,13,5,2,6854,,,0,"doc: Add policy reference

Copy-and-modified from neutron-fwaas.

Partially Implements: blueprint neutron-policy-in-code

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I31168f0c8903fb8247a2935b4f40a7762ea0bbb4
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/50/693650/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', '.gitignore', 'doc/source/configuration/policy-sample.rst', 'doc/source/conf.py', 'etc/oslo-policy-generator/policy.conf', 'doc/source/configuration/policy.rst']",6,b7f52abed695faba058dd70de612409d316bc2ff,policy,"=========================== networking-midonet policies =========================== The following is an overview of all available policies in networking-midonet. For a sample configuration file, refer to :doc:`/configuration/policy-sample`. .. show-policy:: :config-file: etc/oslo-policy-generator/policy.conf ",,57,2
openstack%2Fnetworking-midonet~master~I3dfa09b436781758a0fb9fca54edd49c31b4711a,openstack/networking-midonet,master,I3dfa09b436781758a0fb9fca54edd49c31b4711a,policy-in-code,MERGED,2019-11-11 06:06:27.000000000,2019-12-04 10:22:59.000000000,2019-12-04 10:21:20.000000000,"[{'_account_id': 156}, {'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 17130}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-11-11 06:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2a408a691594ce3d72f08b69a1017331d5f7a641', 'message': 'policy-in-code\n\nCopy-and-modified from other projects including vmware-nsx.\n(Thus Co-Authored-By)\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nCo-Authored-By: Michal Kelner Mishali <mkelnermishal@vmware.com>\nCo-Authored-By: Adit Sarfaty <asarfaty@vmware.com>\nPartially Implements: blueprint neutron-policy-in-code\nChange-Id: I3dfa09b436781758a0fb9fca54edd49c31b4711a\n'}, {'number': 2, 'created': '2019-11-13 02:41:37.000000000', 'files': ['midonet/neutron/policies/gateway_device.py', 'midonet/neutron/policies/__init__.py', 'midonet/neutron/policies/bgp_speaker_router_insertion.py', 'setup.cfg', 'tox.ini', 'midonet/neutron/policies/base.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3bbcefa68e95f34e7d6c66dac134b9ccaf3d4db4', 'message': 'policy-in-code\n\nCopy-and-modified from other projects including vmware-nsx.\n(Thus Co-Authored-By)\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nCo-Authored-By: Michal Kelner Mishali <mkelnermishal@vmware.com>\nCo-Authored-By: Adit Sarfaty <asarfaty@vmware.com>\nPartially Implements: blueprint neutron-policy-in-code\nChange-Id: I3dfa09b436781758a0fb9fca54edd49c31b4711a\n'}]",3,693649,3bbcefa68e95f34e7d6c66dac134b9ccaf3d4db4,17,7,2,6854,,,0,"policy-in-code

Copy-and-modified from other projects including vmware-nsx.
(Thus Co-Authored-By)

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Co-Authored-By: Michal Kelner Mishali <mkelnermishal@vmware.com>
Co-Authored-By: Adit Sarfaty <asarfaty@vmware.com>
Partially Implements: blueprint neutron-policy-in-code
Change-Id: I3dfa09b436781758a0fb9fca54edd49c31b4711a
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/49/693649/1 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/policies/gateway_device.py', 'midonet/neutron/policies/__init__.py', 'midonet/neutron/policies/bgp_speaker_router_insertion.py', 'setup.cfg', 'midonet/neutron/policies/base.py']",5,2a408a691594ce3d72f08b69a1017331d5f7a641,policy,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # TODO(amotoki): Define these in neutron or neutron-lib RULE_ADMIN_OR_OWNER = 'rule:admin_or_owner' RULE_ADMIN_ONLY = 'rule:admin_only' ",,147,0
openstack%2Fkolla-ansible~master~I006dea21321146c7fc738d0b41c401b72d271a99,openstack/kolla-ansible,master,I006dea21321146c7fc738d0b41c401b72d271a99,Fix Swift with kernel 4.19 and later,MERGED,2019-11-29 19:40:45.000000000,2019-12-04 10:19:53.000000000,2019-12-04 10:16:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-29 19:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1786e35af8e1a60cc01a291762843d662d31495c', 'message': ""Fix Swift with kernel 4.19 and later\n\nWe mount Swift volumes with xfs.\nThe 'nobarrier' option we used was made noop [1]\nand deprecated [2] in kernel 4.19.\nIn 4.19 it was removed [3] resulting in an error\nwhen using e.g. Debian Buster as host.\nThe noop patch was backported to CentOS 7 so\nit is safe to remove this option with no behavior\nchange and backport to where needed.\nUbuntu Bionic uses 4.15 which only warns.\nCentOS 8 uses 4.18 which only warns as well.\nDebian Buster uses 4.19 exactly which breaks.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81\n\nChange-Id: I006dea21321146c7fc738d0b41c401b72d271a99\nCloses-bug: #1800132\n""}, {'number': 2, 'created': '2019-11-30 11:57:28.000000000', 'files': ['releasenotes/notes/fix-swift-mount-xfs-nobarrier-44a1601da46d12b9.yaml', 'ansible/roles/swift/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/21488710d68450eac4ace21bea4c5f929e0189d4', 'message': ""Fix Swift with kernel 4.19 and later\n\nWe mount Swift volumes with xfs.\nThe 'nobarrier' option we used was made noop [1]\nand deprecated [2] (with warning) in kernel 4.10.\nIn 4.19 it was removed [3] resulting in an error\nwhen using e.g. Debian Buster as host.\nThe noop patch was backported to CentOS 7 so\nit is safe to remove this option with no behavior\nchange and backport to where needed.\nUbuntu Bionic uses 4.15 which only warns.\nCentOS 8 uses 4.18 which only warns as well.\nDebian Buster uses 4.19 exactly which breaks.\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4\n[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32\n[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81\n\nChange-Id: I006dea21321146c7fc738d0b41c401b72d271a99\nCloses-bug: #1800132\n""}]",0,696757,21488710d68450eac4ace21bea4c5f929e0189d4,14,5,2,30491,,,0,"Fix Swift with kernel 4.19 and later

We mount Swift volumes with xfs.
The 'nobarrier' option we used was made noop [1]
and deprecated [2] (with warning) in kernel 4.10.
In 4.19 it was removed [3] resulting in an error
when using e.g. Debian Buster as host.
The noop patch was backported to CentOS 7 so
it is safe to remove this option with no behavior
change and backport to where needed.
Ubuntu Bionic uses 4.15 which only warns.
CentOS 8 uses 4.18 which only warns as well.
Debian Buster uses 4.19 exactly which breaks.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2291dab2c9d1880efd19469df2042e2277c8b7a4
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573d899cd80d8578c050061dc342f99f3a32
[3] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d502c20809a2a5f71ec16a930a61ed779b81

Change-Id: I006dea21321146c7fc738d0b41c401b72d271a99
Closes-bug: #1800132
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/696757/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/tasks/start.yml'],1,1786e35af8e1a60cc01a291762843d662d31495c,bug/1800132," opts: ""noatime,nodiratime,logbufs=8"""," opts: ""noatime,nodiratime,nobarrier,logbufs=8""",1,1
openstack%2Fhorizon~stable%2Fstein~Ia4d1367ccd309a074a0ea84a555d7de6c07971a6,openstack/horizon,stable/stein,Ia4d1367ccd309a074a0ea84a555d7de6c07971a6,Fix tenant floating_ip_allocation call in neutron rest api.,MERGED,2019-11-29 13:43:34.000000000,2019-12-04 10:17:32.000000000,2019-12-04 10:16:17.000000000,"[{'_account_id': 841}, {'_account_id': 3031}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-29 13:43:34.000000000', 'files': ['openstack_dashboard/api/rest/network.py', 'openstack_dashboard/test/unit/api/rest/test_network.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/489af71a6b976e5aabf7fcc8b1919f812dadf1c7', 'message': 'Fix tenant floating_ip_allocation call in neutron rest api.\n\nThe call to allocate a new floating IP was incorrecting calling\ntenant_floating_ip_allocate, this is used by neutron-lbaas-dashboard.\n\nChange-Id: Ia4d1367ccd309a074a0ea84a555d7de6c07971a6\nCloses-bug: #1831954\n(cherry picked from commit 92d832028df65cb95030b2a585764a62dc1c0b75)\n'}]",0,696702,489af71a6b976e5aabf7fcc8b1919f812dadf1c7,10,5,1,22595,,,0,"Fix tenant floating_ip_allocation call in neutron rest api.

The call to allocate a new floating IP was incorrecting calling
tenant_floating_ip_allocate, this is used by neutron-lbaas-dashboard.

Change-Id: Ia4d1367ccd309a074a0ea84a555d7de6c07971a6
Closes-bug: #1831954
(cherry picked from commit 92d832028df65cb95030b2a585764a62dc1c0b75)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/696702/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/rest/network.py', 'openstack_dashboard/test/unit/api/rest/test_network.py']",2,489af71a6b976e5aabf7fcc8b1919f812dadf1c7,bug/1831954-stable/stein, **{}), {}),2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I9ce27d5f68f32ef59e245960e23336ae5c5db905,openstack/kolla-ansible,stable/train,I9ce27d5f68f32ef59e245960e23336ae5c5db905,[Train] Fix Tacker config for the local Glance store,MERGED,2019-12-03 10:22:43.000000000,2019-12-04 10:17:31.000000000,2019-12-04 10:16:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-03 10:22:43.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'releasenotes/notes/tacker-train-3f3094b68fdf358e.yaml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/tacker/templates/tacker-server.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7458b006fe1dc0ccba9460c7090a50a6ac4d3d0', 'message': '[Train] Fix Tacker config for the local Glance store\n\nIt turned out the previous fix ([1]) was incomplete.\nAdditionally, it seems we have to limit Tacker server\nto one instance co-located with conductor.\n\n[1] https://review.opendev.org/684275\ncommit b96ade3cf01009d822f85744efee523127f2674c\n\nChange-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905\nCloses-bug: #1853715\nRelated-bug: #1845142\n(cherry picked from commit c5f9ea959092019aa44eb96224fd365b8025bba6)\n'}]",0,697048,c7458b006fe1dc0ccba9460c7090a50a6ac4d3d0,9,4,1,30491,,,0,"[Train] Fix Tacker config for the local Glance store

It turned out the previous fix ([1]) was incomplete.
Additionally, it seems we have to limit Tacker server
to one instance co-located with conductor.

[1] https://review.opendev.org/684275
commit b96ade3cf01009d822f85744efee523127f2674c

Change-Id: I9ce27d5f68f32ef59e245960e23336ae5c5db905
Closes-bug: #1853715
Related-bug: #1845142
(cherry picked from commit c5f9ea959092019aa44eb96224fd365b8025bba6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/697048/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'releasenotes/notes/tacker-train-3f3094b68fdf358e.yaml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/tacker/templates/tacker-server.json.j2']",7,c7458b006fe1dc0ccba9460c7090a50a6ac4d3d0,bug/1853715-stable/train," }, { ""path"": ""/var/lib/tacker/csar_files"", ""owner"": ""tacker:tacker""",,63,13
openstack%2Freleases~master~I0ad502079ec858969ae28a4148bdc2c1e9c7e927,openstack/releases,master,I0ad502079ec858969ae28a4148bdc2c1e9c7e927,Release os-traits 2.0.0,MERGED,2019-12-02 15:01:53.000000000,2019-12-04 10:15:19.000000000,2019-12-04 10:15:19.000000000,"[{'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-12-02 15:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7c0c28e6a76a4d23065532e4d52b328571038ed8', 'message': 'Release os-traits 1.2.0\n\n...to pick up COMPUTE_IMAGE_TYPE_PLOOP from [1].\n\n[1] https://review.opendev.org/#/c/696435/\n\nChange-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927\n'}, {'number': 2, 'created': '2019-12-02 20:35:11.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f8340ab5d1814d960b8c7e99029e23b4d1f63aa1', 'message': 'Release os-traits 2.0.0\n\n...to pick up COMPUTE_IMAGE_TYPE_PLOOP from [1].\n\nMake this a major, rather than feature, bump since this also includes\nthe patch where we dropped support for py2 [2].\n\n[1] https://review.opendev.org/#/c/696435/\n[2] https://review.opendev.org/#/c/690997/\n\nChange-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927\n'}]",1,696892,f8340ab5d1814d960b8c7e99029e23b4d1f63aa1,15,6,2,14070,,,0,"Release os-traits 2.0.0

...to pick up COMPUTE_IMAGE_TYPE_PLOOP from [1].

Make this a major, rather than feature, bump since this also includes
the patch where we dropped support for py2 [2].

[1] https://review.opendev.org/#/c/696435/
[2] https://review.opendev.org/#/c/690997/

Change-Id: I0ad502079ec858969ae28a4148bdc2c1e9c7e927
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/696892/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,7c0c28e6a76a4d23065532e4d52b328571038ed8,os-traits_1.2.0, - version: 1.2.0 projects: - repo: openstack/os-traits hash: c7468b0bad407c7fdb293a49e9c6c9ec16274a96,,4,0
openstack%2Freleases~master~I509a75508ccaac47a6dc3083875d85fc68bdc757,openstack/releases,master,I509a75508ccaac47a6dc3083875d85fc68bdc757,Propose rally-openstack 1.6.0,MERGED,2019-11-29 07:30:44.000000000,2019-12-04 10:15:18.000000000,2019-12-04 10:15:18.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-29 07:30:44.000000000', 'files': ['deliverables/_independent/rally-openstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/93de96d9c9e625b170ea567b45b05d6f8609dbe9', 'message': 'Propose rally-openstack 1.6.0\n\nChange-Id: I509a75508ccaac47a6dc3083875d85fc68bdc757\n'}]",0,696651,93de96d9c9e625b170ea567b45b05d6f8609dbe9,7,4,1,9545,,,0,"Propose rally-openstack 1.6.0

Change-Id: I509a75508ccaac47a6dc3083875d85fc68bdc757
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/696651/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/rally-openstack.yaml'],1,93de96d9c9e625b170ea567b45b05d6f8609dbe9,rally_openstack_1_6_0, - version: 1.6.0 projects: - repo: openstack/rally-openstack hash: da5385f10f812d8cd3d405dbdd0dd8524a0a7da6,,4,0
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ibc57c51ff19ebad093c887bee545ca6a7d51827f,openstack/tripleo-upgrade,stable/queens,Ibc57c51ff19ebad093c887bee545ca6a7d51827f,Sync up upgrades and updates workarounds mechanism.,MERGED,2019-11-13 19:12:47.000000000,2019-12-04 09:53:41.000000000,2019-12-04 09:53:41.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-13 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4dd424caaa36ce2e940497e378b8208530376af1', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 2, 'created': '2019-11-14 09:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8a277f993e178636a9a700c7a9199eede6bae9d4', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 3, 'created': '2019-11-14 13:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8d9ed534237d57c077c5466cf91b8d930c14d0a0', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 4, 'created': '2019-11-22 14:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/142fafa8b9cf77781cf1c6c52db23e55bb3b2ab7', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 5, 'created': '2019-11-22 16:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c789db3b93c93ca0af06b1ffcf307fb35a50a51', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 6, 'created': '2019-11-25 11:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/baf372d38b86f463e680c0825cd362052601a3f4', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit a04858af45c73e5a88edae0c112c706ed06533cf)\n(cherry picked from commit 22fc161e15c16c3cb27ea859df73ff37da9345f3)\n(cherry picked from commit ebf22198c20c41b9dcae266177ef33ce7ee2c40d)\n'}, {'number': 7, 'created': '2019-11-25 14:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/efcbd5430eee5c2875f0f31b0b89f987553a0f09', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)\n'}, {'number': 8, 'created': '2019-12-03 13:25:36.000000000', 'files': ['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'tasks/update/create-undercloud-update-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/16b698553bcd0ae17d5bd8d76c25e38bedd368a4', 'message': 'Sync up upgrades and updates workarounds mechanism.\n\nUp to now, the minor updates workarounds was not being used very much\nbeing a little bit left away in comparision with what it was implemented\nfor the upgrades one. This patch allows minor updates to benefit from\nthe same workarounds mechanism, at the same time that any improvement\nin the upgrades mechanism will be available for updates too.\n\nAlso, it was removed the references to the {{ working_dir }} variable\nin those shell tasks which have the argument changing directory to that\nvery same {{ working_dir }}, mostly to simplify the tasks and remove\nredundancy.\n\nChange-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f\n(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)\n'}]",0,694160,16b698553bcd0ae17d5bd8d76c25e38bedd368a4,20,3,8,11166,,,0,"Sync up upgrades and updates workarounds mechanism.

Up to now, the minor updates workarounds was not being used very much
being a little bit left away in comparision with what it was implemented
for the upgrades one. This patch allows minor updates to benefit from
the same workarounds mechanism, at the same time that any improvement
in the upgrades mechanism will be available for updates too.

Also, it was removed the references to the {{ working_dir }} variable
in those shell tasks which have the argument changing directory to that
very same {{ working_dir }}, mostly to simplify the tasks and remove
redundancy.

Change-Id: Ibc57c51ff19ebad093c887bee545ca6a7d51827f
(cherry picked from commit ef1545650338f9e70bd98e18a2517e63e23cd0a9)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/60/694160/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tests/workarounds-upgrade', 'tasks/update/create-overcloud-update-scripts.yaml', 'tests/workarounds-update', 'tasks/update/main.yml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'tasks/update/create-undercloud-update-scripts.yaml']",9,4dd424caaa36ce2e940497e378b8208530376af1,test,"- name: create update workaround scripts for undercloud template: src: workarounds.sh.j2 dest: ""{{ working_dir }}/{{ item }}.sh"" mode: 0775 loop: - 'pre_undercloud_update_workarounds' - 'post_undercloud_update_workarounds'","- name: create scripts with workarounds template: src: ""{{ update_workarounds_template }}"" dest: ""{{ working_dir }}/{{ item.script }}"" mode: 0755 loop: '{{ pre_undercloud_update_workarounds|default([]) + post_undercloud_update_workarounds|default([]) }}'",196,65
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d,openstack/tripleo-heat-templates,stable/train,I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d,Use yaml.SafeLoader instead of yaml.FullLoader,MERGED,2019-12-03 11:22:49.000000000,2019-12-04 09:53:39.000000000,2019-12-04 09:53:39.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-03 11:22:49.000000000', 'files': ['tools/yaml-nic-config-2-script.py', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0d21c4c7920333f29d83be2d8e6df0467e5f93', 'message': ""Use yaml.SafeLoader instead of yaml.FullLoader\n\nBecause we don't need to use yaml.FullLoader, use yaml.SafeLoder\nso that we can keep compability with PyYAML < 5.1 .\n\nChange-Id: I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d\n(cherry picked from commit ade6c3b37e5716a88db6b189a4e8809cd9206218)\n""}]",0,697061,5a0d21c4c7920333f29d83be2d8e6df0467e5f93,11,6,1,20172,,,0,"Use yaml.SafeLoader instead of yaml.FullLoader

Because we don't need to use yaml.FullLoader, use yaml.SafeLoder
so that we can keep compability with PyYAML < 5.1 .

Change-Id: I51e700f5ad3364c5c8a26aa79b44cd8da1ec469d
(cherry picked from commit ade6c3b37e5716a88db6b189a4e8809cd9206218)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/697061/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-nic-config-2-script.py', 'tools/yaml-validate.py']",2,5a0d21c4c7920333f29d83be2d8e6df0467e5f93,pyyaml-compat-stable/train," tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) roles_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) ceph_storage_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) cmpt_tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) newtmp = yaml.load(newfile.read(), Loader=yaml.SafeLoader) tpl = yaml.load(f.read(), Loader=yaml.SafeLoader) data_file = yaml.load(data_file.read(), Loader=yaml.SafeLoader) base_file = yaml.load(base_file.read(), Loader=yaml.SafeLoader)"," tpl = yaml.load(f.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) roles_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) compute_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) ceph_storage_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) control_role_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) cmpt_tpl = yaml.load(f.read(), Loader=yaml.FullLoader) newtmp = yaml.load(newfile.read(), Loader=yaml.FullLoader) tpl = yaml.load(f.read(), Loader=yaml.FullLoader) data_file = yaml.load(data_file.read(), Loader=yaml.FullLoader) base_file = yaml.load(base_file.read(), Loader=yaml.FullLoader)",15,15
openstack%2Fhorizon~master~I1da69eb4a65ab13f77d610b870bada994de876f2,openstack/horizon,master,I1da69eb4a65ab13f77d610b870bada994de876f2,Add image data for instance with volume,MERGED,2019-11-13 15:53:29.000000000,2019-12-04 09:41:57.000000000,2019-12-04 09:38:52.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-11-13 15:53:29.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5de6df19dc7989312e5916bfd840a4f5f917308d', 'message': 'Add image data for instance with volume\n\nIf an instance was created with a volume from an image, there is\nno image details in instance overview page.\nThis patch adds image info from volume image-metadata.\n\nChange-Id: I1da69eb4a65ab13f77d610b870bada994de876f2\nCloses-Bug: 1833267\n'}]",0,694102,5de6df19dc7989312e5916bfd840a4f5f917308d,13,4,1,6914,,,0,"Add image data for instance with volume

If an instance was created with a volume from an image, there is
no image details in instance overview page.
This patch adds image info from volume image-metadata.

Change-Id: I1da69eb4a65ab13f77d610b870bada994de876f2
Closes-Bug: 1833267
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/694102/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tabs.py'],1,5de6df19dc7989312e5916bfd840a4f5f917308d,bug/1833267," instance = self.tab_group.kwargs['instance'] if instance.volumes and not instance.image: try: volume = api.cinder.volume_get( self.request, volume_id=instance.volumes[0].volumeId) instance.image = { 'id': volume.volume_image_metadata['image_id'], 'name': volume.volume_image_metadata['image_name']} except Exception: exceptions.handle(self.request, _('Failed to get attached volume.')) return {""instance"": instance}"," return {""instance"": self.tab_group.kwargs['instance']}",12,1
openstack%2Fnova~master~I121febe845e9e3906e858edbe7a34551a5c30338,openstack/nova,master,I121febe845e9e3906e858edbe7a34551a5c30338,Refactor to extract Placement helper functions for functional tests.,ABANDONED,2019-11-19 06:05:49.000000000,2019-12-04 09:13:12.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-19 06:05:49.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2051544411264cc6bee73648d0704bd364473de', 'message': 'Refactor to extract Placement helper functions for functional tests.\n\nChange-Id: I121febe845e9e3906e858edbe7a34551a5c30338\n'}]",1,694906,e2051544411264cc6bee73648d0704bd364473de,14,9,1,21672,,,0,"Refactor to extract Placement helper functions for functional tests.

Change-Id: I121febe845e9e3906e858edbe7a34551a5c30338
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/694906/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,e2051544411264cc6bee73648d0704bd364473de,bp/nova-cyborg-interaction,"class PlacementHelperMixin(object): """"""Utility functions for invoking Placement API. The including class must define these like ProviderUsageBaseTestCase does: - self.admin_api - self.admin_api.microversion - self.placement_api # NOTE(Sundar): This returns an integer ID, not Placement RP UUID. class ProviderUsageBaseTestCase(test.TestCase, InstanceHelperMixin, PlacementHelperMixin): """"""Base test class for functional tests that check provider usage and consumer allocations in Placement during various operations. Subclasses must define a **compute_driver** attribute for the virt driver to use. This class sets up standard fixtures and controller services but does not start any compute services, that is left to the subclass. """""" microversion = 'latest' # These must match the capabilities in # nova.virt.libvirt.driver.LibvirtDriver.capabilities expected_libvirt_driver_capability_traits = set([ six.u(trait) for trait in [ os_traits.COMPUTE_DEVICE_TAGGING, os_traits.COMPUTE_NET_ATTACH_INTERFACE, os_traits.COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG, os_traits.COMPUTE_VOLUME_ATTACH_WITH_TAG, os_traits.COMPUTE_VOLUME_EXTEND, os_traits.COMPUTE_TRUSTED_CERTS, os_traits.COMPUTE_IMAGE_TYPE_AKI, os_traits.COMPUTE_IMAGE_TYPE_AMI, os_traits.COMPUTE_IMAGE_TYPE_ARI, os_traits.COMPUTE_IMAGE_TYPE_ISO, os_traits.COMPUTE_IMAGE_TYPE_QCOW2, os_traits.COMPUTE_IMAGE_TYPE_RAW, ] ]) # These must match the capabilities in # nova.virt.fake.FakeDriver.capabilities expected_fake_driver_capability_traits = set([ six.u(trait) for trait in [ os_traits.COMPUTE_IMAGE_TYPE_RAW, os_traits.COMPUTE_DEVICE_TAGGING, os_traits.COMPUTE_NET_ATTACH_INTERFACE, os_traits.COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG, os_traits.COMPUTE_VOLUME_ATTACH_WITH_TAG, os_traits.COMPUTE_VOLUME_EXTEND, os_traits.COMPUTE_VOLUME_MULTI_ATTACH, os_traits.COMPUTE_TRUSTED_CERTS, ] ]) def setUp(self): self.flags(compute_driver=self.compute_driver) super(ProviderUsageBaseTestCase, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.neutron = self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.AllServicesCurrent()) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) placement = self.useFixture(func_fixtures.PlacementFixture()) self.placement_api = placement.api self.api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = self.api_fixture.admin_api self.admin_api.microversion = self.microversion self.api = self.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.scheduler_service = self.start_service('scheduler') self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) self.computes = {} def _start_compute(self, host, cell_name=None): """"""Start a nova compute service on the given host :param host: the name of the host that will be associated to the compute service. :param cell_name: optional name of the cell in which to start the compute service (defaults to cell1) :return: the nova compute service object """""" compute = self.start_service('compute', host=host, cell=cell_name) self.computes[host] = compute return compute ","class ProviderUsageBaseTestCase(test.TestCase, InstanceHelperMixin): """"""Base test class for functional tests that check provider usage and consumer allocations in Placement during various operations. Subclasses must define a **compute_driver** attribute for the virt driver to use. This class sets up standard fixtures and controller services but does not start any compute services, that is left to the subclass. microversion = 'latest' # These must match the capabilities in # nova.virt.libvirt.driver.LibvirtDriver.capabilities expected_libvirt_driver_capability_traits = set([ six.u(trait) for trait in [ os_traits.COMPUTE_DEVICE_TAGGING, os_traits.COMPUTE_NET_ATTACH_INTERFACE, os_traits.COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG, os_traits.COMPUTE_VOLUME_ATTACH_WITH_TAG, os_traits.COMPUTE_VOLUME_EXTEND, os_traits.COMPUTE_TRUSTED_CERTS, os_traits.COMPUTE_IMAGE_TYPE_AKI, os_traits.COMPUTE_IMAGE_TYPE_AMI, os_traits.COMPUTE_IMAGE_TYPE_ARI, os_traits.COMPUTE_IMAGE_TYPE_ISO, os_traits.COMPUTE_IMAGE_TYPE_QCOW2, os_traits.COMPUTE_IMAGE_TYPE_RAW, ] ]) # These must match the capabilities in # nova.virt.fake.FakeDriver.capabilities expected_fake_driver_capability_traits = set([ six.u(trait) for trait in [ os_traits.COMPUTE_IMAGE_TYPE_RAW, os_traits.COMPUTE_DEVICE_TAGGING, os_traits.COMPUTE_NET_ATTACH_INTERFACE, os_traits.COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG, os_traits.COMPUTE_VOLUME_ATTACH_WITH_TAG, os_traits.COMPUTE_VOLUME_EXTEND, os_traits.COMPUTE_VOLUME_MULTI_ATTACH, os_traits.COMPUTE_TRUSTED_CERTS, ] ]) def setUp(self): self.flags(compute_driver=self.compute_driver) super(ProviderUsageBaseTestCase, self).setUp() self.policy = self.useFixture(policy_fixture.RealPolicyFixture()) self.neutron = self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.AllServicesCurrent()) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) placement = self.useFixture(func_fixtures.PlacementFixture()) self.placement_api = placement.api self.api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = self.api_fixture.admin_api self.admin_api.microversion = self.microversion self.api = self.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.scheduler_service = self.start_service('scheduler') self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) self.computes = {} def _start_compute(self, host, cell_name=None): """"""Start a nova compute service on the given host :param host: the name of the host that will be associated to the compute service. :param cell_name: optional name of the cell in which to start the compute service (defaults to cell1) :return: the nova compute service object """""" compute = self.start_service('compute', host=host, cell=cell_name) self.computes[host] = compute return compute ",99,88
openstack%2Fneutron-vpnaas~master~Icff24006dd607f857f8e5ca1332bb029ec70c9e3,openstack/neutron-vpnaas,master,Icff24006dd607f857f8e5ca1332bb029ec70c9e3,[WIP] new VPNaaS agent for VPNaaS OVN,ABANDONED,2016-08-05 06:57:55.000000000,2019-12-04 08:59:14.000000000,,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 11975}, {'_account_id': 17595}]","[{'number': 1, 'created': '2016-08-05 06:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6ba028dc14badf3edd22c7295dbc4cacd43d1e64', 'message': '[WIP] new VPNaaS agent for VPNaaS OVN\n\nThis is one of the patches for OVN VPNaaS functionality. This purpose\nof this patch is intent to strip l3 agent from VPN agent. Still work\nin progress.\n\nChange-Id: Icff24006dd607f857f8e5ca1332bb029ec70c9e3\nPartial-Bug: #1586253\n'}, {'number': 2, 'created': '2016-09-27 02:21:26.000000000', 'files': ['neutron_vpnaas/services/vpn/nol3_agent.py', 'setup.cfg', 'neutron_vpnaas/cmd/eventlet/nol3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/30d992fecc6cb90370f10cc0bb0a416141fd80a3', 'message': '[WIP] new VPNaaS agent for VPNaaS OVN\n\nThis is one of the patches for OVN VPNaaS functionality. This purpose\nof this patch is intent to strip l3 agent from VPN agent. Still work\nin progress.\n\nChange-Id: Icff24006dd607f857f8e5ca1332bb029ec70c9e3\nPartial-Bug: #1586253\n'}]",4,351520,30d992fecc6cb90370f10cc0bb0a416141fd80a3,10,4,2,17699,,,0,"[WIP] new VPNaaS agent for VPNaaS OVN

This is one of the patches for OVN VPNaaS functionality. This purpose
of this patch is intent to strip l3 agent from VPN agent. Still work
in progress.

Change-Id: Icff24006dd607f857f8e5ca1332bb029ec70c9e3
Partial-Bug: #1586253
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/20/351520/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/nol3_agent.py', 'setup.cfg', 'neutron_vpnaas/cmd/eventlet/nol3_agent.py']",3,6ba028dc14badf3edd22c7295dbc4cacd43d1e64,bug/1586253,"# Copyright 2015 Brocade Communications System, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from neutron_vpnaas.services.vpn import nol3_agent def main(): nol3_agent.main() ",,167,0
openstack%2Fneutron-vpnaas~master~Ibd1994f8e3454eb263ea6cf614e60f5c863220d3,openstack/neutron-vpnaas,master,Ibd1994f8e3454eb263ea6cf614e60f5c863220d3,[WIP] Add openswan functional test cases,ABANDONED,2016-07-14 22:20:52.000000000,2019-12-04 08:59:09.000000000,,"[{'_account_id': 3}, {'_account_id': 6659}, {'_account_id': 7787}, {'_account_id': 11975}, {'_account_id': 17224}, {'_account_id': 19251}]","[{'number': 1, 'created': '2016-07-14 22:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6547082a411a0bdd628036ba616c6c6ecd7a4557', 'message': 'Add functional test cases WIP\n\nAdded vpnass functional test cases in openswan driver\n\nChange-Id: Ibd1994f8e3454eb263ea6cf614e60f5c863220d3\nSigned-off-by: rharr <rharr@us.ibm.com>\n'}, {'number': 2, 'created': '2016-07-19 18:36:31.000000000', 'files': ['neutron_vpnaas/tests/functional/openswan/test_openswan_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b7b24363feeb3e051be134007bbb9f8850185c85', 'message': '[WIP] Add openswan functional test cases\n\nAdded vpnass functional test cases in openswan driver\n\nRelated-bug: #1598652\n\nChange-Id: Ibd1994f8e3454eb263ea6cf614e60f5c863220d3\nSigned-off-by: rharr <rharr@us.ibm.com>\n'}]",6,342451,b7b24363feeb3e051be134007bbb9f8850185c85,10,6,2,19251,,,0,"[WIP] Add openswan functional test cases

Added vpnass functional test cases in openswan driver

Related-bug: #1598652

Change-Id: Ibd1994f8e3454eb263ea6cf614e60f5c863220d3
Signed-off-by: rharr <rharr@us.ibm.com>
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/51/342451/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/functional/openswan/test_openswan_driver.py'],1,6547082a411a0bdd628036ba616c6c6ecd7a4557,bug/1598652," site1 = self.create_site(test_scenario.PUBLIC_NET[4], [self.private_nets[1]]) site2 = self.create_site(test_scenario.PUBLIC_NET[5], [self.private_nets[2]]) self.prepare_ipsec_site_connections(site1, site2) self.sync_to_create_ipsec_connections(site1, site2) self.check_ping(site1, site2) self.check_ping(site2, site1) self._wait_for_ipsec_startup(site1.router, self.driver, self.vpn_agent.conf) self._wait_for_ipsec_startup(site2.router, self.driver, self.vpn_agent.conf) site1 = self.create_site(test_scenario.PUBLIC_NET[4], [self.private_nets[1]]) site2 = self.create_site(test_scenario.PUBLIC_NET[5], [self.private_nets[2]]) self.check_ping(site1, site2, success=False) self.check_ping(site2, site1, success=False) self.prepare_ipsec_site_connections(site1, site2) self.sync_to_create_ipsec_connections(site1, site2) self.check_ping(site1, site2) self.check_ping(site2, site1) site1 = self.create_site(test_scenario.PUBLIC_NET[4], [self.private_nets[1]]) site2 = self.create_site(test_scenario.PUBLIC_NET[5], [self.private_nets[2]]) self.prepare_ipsec_site_connections(site1, site2) self.sync_to_create_ipsec_connections(site1, site2) self.check_ping(site1, site2) self.check_ping(site2, site1) # Disable resource on one of the sites and check that # ping no longer passes. self._update_ipsec_connection(site1, admin_state_up=False) self.sync_to_create_ipsec_connections(site1, site2) self.check_ping(site1, site2, 0, success=False) self.check_ping(site2, site1, 0, success=False) # Validate that ipsec process for the disabled site was terminated. self._wait_for_ipsec_startup(site1.router, self.driver, self.vpn_agent.conf, should_run=False)", pass pass pass,53,3
openstack%2Fneutron-vpnaas~master~I6ae08f2e23d2da3818a76a93f4f5a08d45831418,openstack/neutron-vpnaas,master,I6ae08f2e23d2da3818a76a93f4f5a08d45831418,[WIP] Add metering support for VPNaaS,ABANDONED,2016-08-16 03:44:11.000000000,2019-12-04 08:59:05.000000000,,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 11975}]","[{'number': 1, 'created': '2016-08-16 03:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5994fd357bacb21a523e5fe6a3483000db4dfc71', 'message': '[WIP] Add metering support for VPNaaS\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/ and\nhttps://review.openstack.org/#/c/346051/, the metering function is\nneeded in VPN agent. This patch offers a metering lib which can be\nused in both OVN VPNaaS and L3 neutron VPNaaS.\n\nChange-Id: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\nRelated-Bug: #1586253, #1591993\n'}, {'number': 2, 'created': '2016-09-13 13:33:49.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/meter_manager.py', 'neutron_vpnaas/services/vpn/device_drivers/template/strongswan/ovn_ipsec.conf.template'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/fdf0313afcd2237427a6dd9609208af3b80b1991', 'message': '[WIP] Add metering support for VPNaaS\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/ and\nhttps://review.openstack.org/#/c/346051/, the metering function is\nneeded in VPN agent. This patch offers a metering lib which can be\nused in both OVN VPNaaS and L3 neutron VPNaaS.\n\nChange-Id: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\nRelated-Bug: #1586253, #1591993\n'}]",0,355707,fdf0313afcd2237427a6dd9609208af3b80b1991,8,3,2,22482,,,0,"[WIP] Add metering support for VPNaaS

As mentioned in specs https://review.openstack.org/#/c/334401/ and
https://review.openstack.org/#/c/346051/, the metering function is
needed in VPN agent. This patch offers a metering lib which can be
used in both OVN VPNaaS and L3 neutron VPNaaS.

Change-Id: I6ae08f2e23d2da3818a76a93f4f5a08d45831418
Related-Bug: #1586253, #1591993
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/07/355707/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/device_drivers/meter_manager.py', 'neutron_vpnaas/services/vpn/device_drivers/template/strongswan/ovn_ipsec.conf.template']",2,5994fd357bacb21a523e5fe6a3483000db4dfc71,bug/1586253,"# Configuration for {{vpnservice.name}} config setup conn %default ikelifetime=60m keylife=20m rekeymargin=3m keyingtries=1 authby=psk mobike=no {% for ipsec_site_connection in vpnservice.ipsec_site_connections%} conn {{ipsec_site_connection.id}} keyexchange={{ipsec_site_connection.ikepolicy.ike_version}} left={{ipsec_site_connection.external_ip}} leftsubnet={{ipsec_site_connection['local_cidrs']|join(',')}} leftid={{ipsec_site_connection.local_id}} #leftfirewall=yes right={{ipsec_site_connection.peer_address}} rightsubnet={{ipsec_site_connection['peer_cidrs']|join(',')}} rightid={{ipsec_site_connection.peer_id}} auto=route dpdaction={{ipsec_site_connection.dpd_action}} dpddelay={{ipsec_site_connection.dpd_interval}}s dpdtimeout={{ipsec_site_connection.dpd_timeout}}s ike={{ipsec_site_connection.ikepolicy.encryption_algorithm}}-{{ipsec_site_connection.ikepolicy.auth_algorithm}}-{{ipsec_site_connection.ikepolicy.pfs}} ikelifetime={{ipsec_site_connection.ikepolicy.lifetime_value}}s {%- if ipsec_site_connection.ipsecpolicy.transform_protocol == ""ah"" %} ah={{ipsec_site_connection.ipsecpolicy.auth_algorithm}}-{{ipsec_site_connection.ipsecpolicy.pfs}} {%- else %} esp={{ipsec_site_connection.ipsecpolicy.encryption_algorithm}}-{{ipsec_site_connection.ipsecpolicy.auth_algorithm}}-{{ipsec_site_connection.ipsecpolicy.pfs}} {%- endif %} lifetime={{ipsec_site_connection.ipsecpolicy.lifetime_value}}s type={{ipsec_site_connection.ipsecpolicy.encapsulation_mode}} {% endfor %} ",,353,0
openstack%2Fneutron-vpnaas~master~Id287b7e3583949adce8dcd46802d4d0dd165c44f,openstack/neutron-vpnaas,master,Id287b7e3583949adce8dcd46802d4d0dd165c44f,[WIP] service and device drivers for OVN VPNaaS,ABANDONED,2016-08-05 06:40:43.000000000,2019-12-04 08:59:01.000000000,,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 11975}, {'_account_id': 17699}, {'_account_id': 19251}]","[{'number': 1, 'created': '2016-08-05 06:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d7df68f6e43833bd1ae88f699d7e950863dbc144', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 2, 'created': '2016-08-16 06:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/801cf637d185bd22eca52f05d66073e331831409', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis patch depends on following changes:\nI4b90288c9c04d0c45ddf4e69f80825a236721781\nI6ae08f2e23d2da3818a76a93f4f5a08d45831418\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 3, 'created': '2016-08-31 01:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/38bc67c41a699f47f99681de00c8e8c36bdac01a', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis patch depends on following changes:\nI4b90288c9c04d0c45ddf4e69f80825a236721781\nI6ae08f2e23d2da3818a76a93f4f5a08d45831418\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 4, 'created': '2016-09-08 07:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2cc8311cff54018923d676402cdc66baccae3131', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis patch depends on following changes:\nI4b90288c9c04d0c45ddf4e69f80825a236721781\nI6ae08f2e23d2da3818a76a93f4f5a08d45831418\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 5, 'created': '2016-09-12 05:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bba6bf3806dd942a18113311cb71bcb52f4e2bd5', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nDepends-On: I4b90288c9c04d0c45ddf4e69f80825a236721781\nDepends-On: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 6, 'created': '2016-09-13 18:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8dd54328237e2312d7bb0605333f9ea980f5bd50', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nDepends-On: I4b90288c9c04d0c45ddf4e69f80825a236721781\nDepends-On: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 7, 'created': '2016-09-14 02:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/2bdad96f80883ac0ae7028d98dfbe3e228cff7a0', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nDepends-On: I4b90288c9c04d0c45ddf4e69f80825a236721781\nDepends-On: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\nDepends-On: I78c23fda86474ee4e7c508b5be8ecabb18c8b35d\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}, {'number': 8, 'created': '2016-09-28 02:02:22.000000000', 'files': ['neutron_vpnaas/services/vpn/service_drivers/ovn_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/ovn_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6695d45115695c212f82cdf833cf61dfec831480', 'message': '[WIP] service and device drivers for OVN VPNaaS\n\nThis is one of the patches to support VPNaaS OVN functionaility. It\nprovides the driver code for service and device side. Change your\nservice_provider and vpn_device_driver to refer to these 2.\n\nDepends-On: I4b90288c9c04d0c45ddf4e69f80825a236721781\nDepends-On: I6ae08f2e23d2da3818a76a93f4f5a08d45831418\nDepends-On: I78c23fda86474ee4e7c508b5be8ecabb18c8b35d\n\nChange-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f\nPartial-Bug: #1586253\n'}]",1,351511,6695d45115695c212f82cdf833cf61dfec831480,25,5,8,17699,,,0,"[WIP] service and device drivers for OVN VPNaaS

This is one of the patches to support VPNaaS OVN functionaility. It
provides the driver code for service and device side. Change your
service_provider and vpn_device_driver to refer to these 2.

Depends-On: I4b90288c9c04d0c45ddf4e69f80825a236721781
Depends-On: I6ae08f2e23d2da3818a76a93f4f5a08d45831418
Depends-On: I78c23fda86474ee4e7c508b5be8ecabb18c8b35d

Change-Id: Id287b7e3583949adce8dcd46802d4d0dd165c44f
Partial-Bug: #1586253
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/11/351511/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/device_drivers/ovn_ipsec.py', 'neutron_vpnaas/services/vpn/service_drivers/ovn_ipsec.py']",2,d7df68f6e43833bd1ae88f699d7e950863dbc144,bug/1586253,"# Copyright 2016, Yi Jing Zhu, IBM. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import netaddr from neutron.common import rpc as n_rpc from neutron.common import utils as nutils from neutron import context as nctx from neutron import manager from neutron.plugins.common import constants as service_constants from neutron_vpnaas.extensions.vpn_ext_gw import RouterIsNotVPNExternal from neutron_vpnaas.extensions.vpn_ext_gw import VPN_GW from neutron_vpnaas.services.vpn.common import topics from neutron_vpnaas.services.vpn.service_drivers import base_ipsec from neutron_vpnaas.services.vpn.service_drivers import ipsec_validator from oslo_config import cfg from oslo_log import log as logging from oslo_utils import uuidutils from networking_ovn.common import constants as ovn_const from networking_ovn.common import utils from networking_ovn.ovsdb import impl_idl_ovn LOG = logging.getLogger(__name__) IPSEC = 'ipsec' BASE_IPSEC_VERSION = '1.0' TRANSIT_NETWORK4VPN = 'transit-network4vpn' TRANSIT_SUBNET4VPN = 'transit-subnet4vpn' VPN_TRANSIT_LIP = '169.254.0.1' VPN_TRANSIT_RIP = '169.254.0.2' OvnPortInfo = collections.namedtuple('OvnPortInfo', ['type', 'options', 'addresses', 'port_security', 'parent_name', 'tag']) class IPsecHelper(object): def __init__(self): self._nb_ovn = None @property def _ovn(self): if self._nb_ovn is None: self._nb_ovn = impl_idl_ovn.OvsdbNbOvnIdl(self) return self._nb_ovn def _get_vpn_internal_port(self, router_id, port_name, host): lswitch_name = self.get_transit_network(router_id) external_ids = { ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port_name} switches = self._ovn.get_all_logical_switches_with_ports() for switch in switches: if switch['name'] == lswitch_name: for switch_port in switch['ports']: ovn_port = self._ovn.get_logical_switch_port(switch_port) if ovn_port['external_ids'] == external_ids: addresses = ovn_port['addresses'][0].split(' ') ovn_port['mac_address'] = addresses[0] ovn_port['fixed_ips'] = [addresses[1]] return ovn_port return None def _get_vpn_external_port(self, host, router_id): filters = {'device_id': [router_id], 'device_owner': ['network:vpn_router_gateway']} plugin = manager.NeutronManager.get_plugin() context = nctx.get_admin_context() port_list = plugin.get_ports(context, filters=filters) if port_list: return port_list[0] return None def _make_vpn_port(self, port, host, router_id): parent_name = None tag = None port_type = None options = {} mac_address = port['port']['mac_address'] ip_address = port['port']['fixed_ips'][0] addresses = mac_address + ' ' + ip_address port_security = [] ovn_port_info = OvnPortInfo(port_type, options, [addresses], port_security, parent_name, tag) external_ids = {ovn_const.OVN_PORT_NAME_EXT_ID_KEY: port['port']['name']} lswitch_name = self.get_transit_network(router_id) ovn_port = self._get_vpn_internal_port(router_id, port['port']['name'], host) if ovn_port: return ovn_port['name'] with self._ovn.transaction(check_error=True) as txn: # The lport_name *must* be neutron port['id']. It must match the # iface-id set in the Interfaces table of the Open_vSwitch # database which nova sets to be the port ID. ovn_port = txn.add(self._ovn.create_lswitch_port( lport_name=uuidutils.generate_uuid(), lswitch_name=lswitch_name, addresses=ovn_port_info.addresses, external_ids=external_ids, parent_name=ovn_port_info.parent_name, tag=ovn_port_info.tag, enabled=True, options=ovn_port_info.options, type=ovn_port_info.type, port_security=ovn_port_info.port_security)) return ovn_port.lport def make_vpn_internal_port(self, port, host, router_id): port['port']['fixed_ips'] = [VPN_TRANSIT_RIP] port['port']['mac_address'] = nutils.get_random_mac( cfg.CONF.base_mac.split(':')) return self._make_vpn_port(port, host, router_id) def get_vpn_namespace_port_name(self, router_id, host): return 'vns' + router_id def get_vpn_router_port_name(self, router_id): return 'vr' + router_id def del_vpn_internal_port(self, host, router_id): #port will be deleted when transit net deleted pass def get_transit_network(self, router_id): switches = self._ovn.get_all_logical_switches_ids() ext_ids = {ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: TRANSIT_NETWORK4VPN + '-' + router_id} for key in switches.keys(): if switches[key] == ext_ids: return key return None def get_subnet_by_id(self, subnet_id): plugin = manager.NeutronManager.get_plugin() context = nctx.get_admin_context() filters = {'id': [subnet_id]} subnets = plugin.get_subnets(context, filters=filters) if subnets: return subnets[0] return None def make_transit_network(self, router_id): network = self.get_transit_network(router_id) if network: return network ext_ids = {ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: TRANSIT_NETWORK4VPN + '-' + router_id} lswitch_name = utils.ovn_name(uuidutils.generate_uuid()) with self._ovn.transaction(check_error=True) as txn: network = txn.add(self._ovn.create_lswitch( lswitch_name=lswitch_name, external_ids=ext_ids)) return network.name def del_transit_network(self, router_id): network = self.get_transit_network(router_id) if network: self._ovn.delete_lswitch(lswitch_name=network).execute( check_error=True) def add_router_transit_port(self, router_id): mac = nutils.get_random_mac(cfg.CONF.base_mac.split(':')) port_name = self.get_vpn_router_port_name(router_id) port = { 'name': port_name, 'fixed_ips': [VPN_TRANSIT_LIP], 'mac_address': mac } ovn_port = self._get_vpn_internal_port(router_id, port_name, None) if ovn_port: return lport = self._make_vpn_port({'port': port}, None, router_id=router_id) lrouter = utils.ovn_name(router_id) networks = [""%s/%s"" % (VPN_TRANSIT_LIP, 28)] lrouter_port_name = utils.ovn_lrouter_port_name(lport) with self._ovn.transaction(check_error=True) as txn: txn.add(self._ovn.add_lrouter_port(name=lrouter_port_name, lrouter=lrouter, mac=mac, networks=networks)) txn.add(self._ovn.set_lrouter_port_in_lswitch_port( lport, lrouter_port_name)) def del_router_transit_port(self, router_id): port_name = self.get_vpn_router_port_name(router_id) ovn_port = self._get_vpn_internal_port(router_id, port_name, None) if not ovn_port: return lrouter = utils.ovn_name(router_id) lrouter_port_name = utils.ovn_lrouter_port_name(ovn_port['name']) self._ovn.delete_lrouter_port(lrouter_port_name, lrouter).execute( check_error=True) def _get_peer_cidrs(self, vpnservice): cidrs = [] for ipsec_site_connection in vpnservice.ipsec_site_connections: for peer_cidr in ipsec_site_connection.peer_cidrs: cidrs.append(peer_cidr.cidr) return cidrs def set_static_route(self, vpnservice): cidrs = self._get_peer_cidrs(vpnservice) router_id = vpnservice['router_id'] port_name = self.get_vpn_namespace_port_name(router_id, None) port = self._get_vpn_internal_port(router_id, port_name, None) if not port: return nexthop = port['fixed_ips'][0] router_name = utils.ovn_name(router_id) with self._ovn.transaction(check_error=True) as txn: for cidr in cidrs: txn.add(self._ovn.add_static_route(router_name, ip_prefix=cidr, nexthop=nexthop)) def del_static_route(self, cidrs, vpnservice): router_id = vpnservice['router_id'] port_name = self.get_vpn_namespace_port_name(router_id, None) port = self._get_vpn_internal_port(router_id, port_name, None) if not port: return nexthop = port['fixed_ips'][0] router_name = utils.ovn_name(router_id) with self._ovn.transaction(check_error=True) as txn: for cidr in cidrs: txn.add(self._ovn.delete_static_route(router_name, ip_prefix=cidr, nexthop=nexthop)) class IPsecVpnOvnDriverCallBack(base_ipsec.IPsecVpnDriverCallBack): def __init__(self, driver): super(IPsecVpnOvnDriverCallBack, self).__init__(driver) self.admin_ctx = nctx.get_admin_context() self._OVNHelper = None @property def _IPsecHelper(self): if self._OVNHelper is None: self._OVNHelper = IPsecHelper() return self._OVNHelper def get_provider_network4vpn(self, context, router_id): l3plugin = manager.NeutronManager.get_service_plugins().get( service_constants.L3_ROUTER_NAT) router = l3plugin.get_router(context, router_id) network_id = router['vpn_external_gateway_info']['network_id'] plugin = manager.NeutronManager.get_plugin() net = plugin.get_network(context, network_id) return net def get_transit_network4vpn(self, context, router_id=None): return self._IPsecHelper.get_transit_network(router_id) def get_subnet_info(self, context, subnet_id=None): return self._IPsecHelper.get_subnet_by_id(subnet_id) def find_vpn_port(self, context, ptype=None, router_id=None, host=None): if ptype == 'internal': port_name = self._IPsecHelper.get_vpn_namespace_port_name( router_id, host) return self._IPsecHelper._get_vpn_internal_port(router_id, port_name, host) elif ptype == 'external': return self._IPsecHelper._get_vpn_external_port(host, router_id) return None class BaseOvnIPsecVPNDriver(base_ipsec.BaseIPsecVPNDriver): def __init__(self, service_plugin): self._OVNHelper = None super(BaseOvnIPsecVPNDriver, self).__init__( service_plugin, ipsec_validator.IpsecVpnValidator(service_plugin)) @property def _IPsecHelper(self): if self._OVNHelper is None: self._OVNHelper = IPsecHelper() return self._OVNHelper def _get_gateway_ips(self, router): """"""Obtain the IPv4 and/or IPv6 GW IP for the router. If there are multiples, (arbitrarily) use the first one. """""" if router[VPN_GW] is None or router[VPN_GW].port is None: raise RouterIsNotVPNExternal(router_id=router['id']) v4_ip = v6_ip = None for fixed_ip in router[VPN_GW].port['fixed_ips']: addr = fixed_ip['ip_address'] vers = netaddr.IPAddress(addr).version if vers == 4: if v4_ip is None: v4_ip = addr elif v6_ip is None: v6_ip = addr return v4_ip, v6_ip def _setup(self, context, vpnservice_id): vpnservice = self.service_plugin._get_vpnservice( context, vpnservice_id) self._IPsecHelper.make_transit_network(vpnservice['router_id']) self._IPsecHelper.add_router_transit_port(vpnservice['router_id']) # prepare transit port for namespaces port_dict = dict(name=self._IPsecHelper.get_vpn_namespace_port_name( vpnservice['router_id'], None)) self._IPsecHelper.make_vpn_internal_port({'port': port_dict}, None, vpnservice['router_id']) def _cleanup(self, context, vpnservice): router_id = vpnservice['router_id'] self._IPsecHelper.del_vpn_internal_port(None, router_id) self._IPsecHelper.del_router_transit_port(router_id) self._IPsecHelper.del_transit_network(router_id) def _set_requirements(self, context, ipsec_site_connection): vpnservice = self.service_plugin._get_vpnservice( context, ipsec_site_connection['vpnservice_id']) self._IPsecHelper.set_static_route(vpnservice) def _del_requirements(self, context, ipsec_site_connection): vpnservice = self.service_plugin._get_vpnservice( context, ipsec_site_connection['vpnservice_id']) peer_cidrs = ipsec_site_connection['peer_cidrs'] self._IPsecHelper.del_static_route(peer_cidrs, vpnservice) def create_vpnservice(self, context, vpnservice_dict): super(BaseOvnIPsecVPNDriver, self).create_vpnservice(context, vpnservice_dict) self._setup(context, vpnservice_dict['id']) vpnservice = self.service_plugin._get_vpnservice( context, vpnservice_dict['id']) self.agent_rpc.prepare_namespace(context, vpnservice['router_id']) def delete_vpnservice(self, context, vpnservice): router_id = vpnservice['router_id'] super(BaseOvnIPsecVPNDriver, self).delete_vpnservice(context, vpnservice) services = self.service_plugin.get_vpnservices(context) router_ids = [s['router_id'] for s in services] if router_id not in router_ids: self.agent_rpc.cleanup_namespace(context, vpnservice['router_id']) self._cleanup(context, vpnservice) def create_ipsec_site_connection(self, context, ipsec_site_connection): self._set_requirements(context, ipsec_site_connection) super(BaseOvnIPsecVPNDriver, self).create_ipsec_site_connection( context, ipsec_site_connection) def delete_ipsec_site_connection(self, context, ipsec_site_connection): self._del_requirements(context, ipsec_site_connection) super(BaseOvnIPsecVPNDriver, self).delete_ipsec_site_connection( context, ipsec_site_connection) def update_ipsec_site_connection( self, context, old_ipsec_site_connection, ipsec_site_connection): self._del_requirements(context, old_ipsec_site_connection) self._set_requirements(context, ipsec_site_connection) super(BaseOvnIPsecVPNDriver, self).update_ipsec_site_connection( context, old_ipsec_site_connection, ipsec_site_connection) class IPsecOvnVpnAgentApi(base_ipsec.IPsecVpnAgentApi): def prepare_namespace(self, context, router_id, **kwargs): kwargs['router'] = {'id': router_id} self._agent_notification(context, 'prepare_namespace', router_id, **kwargs) def cleanup_namespace(self, context, router_id, **kwargs): kwargs['router'] = {'id': router_id} self._agent_notification(context, 'cleanup_namespace', router_id, **kwargs) class IPsecOvnVPNDriver(BaseOvnIPsecVPNDriver): """"""VPN Service Driver class for IPsec."""""" def __init__(self, service_plugin): super(IPsecOvnVPNDriver, self).__init__(service_plugin) def create_rpc_conn(self): self.endpoints = [IPsecVpnOvnDriverCallBack(self)] self.conn = n_rpc.create_connection() self.conn.create_consumer( topics.IPSEC_DRIVER_TOPIC, self.endpoints, fanout=False) self.conn.consume_in_threads() self.agent_rpc = IPsecOvnVpnAgentApi( topics.IPSEC_AGENT_TOPIC, BASE_IPSEC_VERSION, self) ",,752,0
openstack%2Fneutron-fwaas~master~Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d,openstack/neutron-fwaas,master,Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d,[WIP] FWaaS V2 Versioned object,ABANDONED,2016-07-15 00:06:15.000000000,2019-12-04 08:58:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6995}, {'_account_id': 7787}, {'_account_id': 8788}, {'_account_id': 10850}, {'_account_id': 11241}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 17711}]","[{'number': 1, 'created': '2016-07-15 00:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5bf48d890abcbebdcdcf63ad46097df3138d4d41', 'message': '[WIP] FWaaS V2 Versioned object\n\nThis is a WIP to implement versioned object into FWaaS V2. This also has code\nchanges for notification driver for FWaaS. This patch also needs changes in\nNeutron for RPC, similar to how it was done for QoS.\n\nChange-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d\n'}, {'number': 2, 'created': '2016-07-15 02:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/02c1bdc9f7b1527c2e0198785d89df43f35c9844', 'message': '[WIP] FWaaS V2 Versioned object\n\nThis is a WIP to implement versioned object into FWaaS V2. This also has code\nchanges for notification driver for FWaaS. This patch also needs changes in\nNeutron for RPC, similar to how it was done for QoS.\n\nChange-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d\n'}, {'number': 3, 'created': '2016-08-11 23:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0cae2247f9eca1bb3698ab6b01dc6168e722339a', 'message': '[WIP] FWaaS V2 Versioned object\n\nThis is a WIP to implement versioned object into FWaaS V2. This also has code\nchanges for notification driver for FWaaS. This patch also needs changes in\nNeutron for RPC, similar to how it was done for QoS.\n\nChange-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d\n'}, {'number': 4, 'created': '2016-08-17 18:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2f52fcd5450c07b372cdeae0322ed83cc9c19b83', 'message': '[WIP] FWaaS V2 Versioned object\n\nThis is a WIP to implement versioned object into FWaaS V2. This also has code\nchanges for notification driver for FWaaS. This patch also needs changes in\nNeutron for RPC, similar to how it was done for QoS.\n\nCo-Authored-By: Margaret Frances <margaret_frances@cable.comcast.com>\n\nChange-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d\n'}, {'number': 5, 'created': '2016-08-18 17:36:18.000000000', 'files': ['neutron_fwaas/objects/firewall_group.py', 'neutron_fwaas/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/79323d903d0984605c260bc69e2d5f0ae27bf291', 'message': '[WIP] FWaaS V2 Versioned object\n\nThis is a WIP to implement versioned object into FWaaS V2. This also has code\nchanges for notification driver for FWaaS. This patch also needs changes in\nNeutron for RPC, similar to how it was done for QoS.\n\nCo-Authored-By: Margaret Frances <margaret_frances@cable.comcast.com>\n\nChange-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d\n'}]",83,342476,79323d903d0984605c260bc69e2d5f0ae27bf291,20,10,5,11241,,,0,"[WIP] FWaaS V2 Versioned object

This is a WIP to implement versioned object into FWaaS V2. This also has code
changes for notification driver for FWaaS. This patch also needs changes in
Neutron for RPC, similar to how it was done for QoS.

Co-Authored-By: Margaret Frances <margaret_frances@cable.comcast.com>

Change-Id: Ibc146f97e8cd1f86f68dc4ca55ffc998ff449e6d
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/76/342476/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/notification_drivers/fwaas_base.py', 'neutron_fwaas/objects/firewall_group.py', 'neutron_fwaas/services/firewall/notification_drivers/manager.py', 'neutron_fwaas/services/firewall/notification_drivers/__init__.py', 'neutron_fwaas/objects/address_group.py', 'neutron_fwaas/objects/__init__.py', 'neutron_fwaas/services/firewall/notification_drivers/message_queue.py']",7,5bf48d890abcbebdcdcf63ad46097df3138d4d41,fwaas_v2_vers_obj,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from neutron._i18n import _LW from neutron.api.rpc.callbacks import events from neutron.api.rpc.callbacks.producer import registry from neutron.api.rpc.callbacks import resources from neutron.api.rpc.handlers import resources_rpc from neutron_fwaas.objects import address_group as address_group_object from neutron_fwaas.objects import firewall_group as firewall_group_object from neutron_fwaas.services.fwaas.notification_drivers import fwaas_base LOG = logging.getLogger(__name__) def _get_fwaas_address_group_cb(resource, id, **kwargs): ''' TODO including the arguments to this callback ''' pass def _get_fwaas_group_cb(resource, id, **kwargs): ''' TODO including the arguments to this callback ''' pass class RpcFwaasServiceNotificationDriver( fwaas_base.FwaasServiceNotificationDriverBase): """"""RPC message queue service notification driver for FWaaS."""""" def __init__(self): self.notification_api = resources_rpc.ResourcesPushRpcApi() # TODO resources is defined in neutron #registry.provide(_get_fwaas_cb, resources.FWAAS_POLICY) registry.provide(_get_fwaas_group_cb, resources.FWAAS_GROUP) registry.provide(_get_fwaas_address_cb, resources.FWAAS_ADDR_GROUP) #registry.provide(_get_fwaas_cb, resources.FWAAS_RULES) def get_description(self): return ""Message queue updates"" def create_fw_policy(self, context, fw_policy): # TBD self.notification_api.push(context, fw_policy, events.CREATED) pass def create_fw_group(self, context, fw_group): # TBD self.notification_api.push(context, fw_group, events.CREATED) pass def create_address_group(self, context, address_group): # TBD self.notification_api.push(context, address_group, events.CREATED) pass def create_rules(self, context, rules): # TBD self.notification_api.push(context, rules, events.CREATED) pass def update_fw_policy(self, context, fw_policy): # TBD self.notification_api.push(context, fw_policy, events.UPDATED) def update_fw_group(self, context, fw_group): # TBD self.notification_api.push(context, fw_group, events.UPDATED) def update_address_group(self, context, address_group): # TBD self.notification_api.push(context, address_group, events.UPDATED) def update_rules(self, context, rules): # TBD self.notification_api.push(context, rules, events.UPDATED) def delete_fw_policy(self, context, fw_policy): # TBD self.notification_api.push(context, fw_policy, events.DELETED) def delete_fw_group(self, context, fw_group): # TBD self.notification_api.push(context, fw_group, events.DELETED) def delete_address_group(self, context, address_group): # TBD self.notification_api.push(context, address_group, events.DELETED) def delete_rules(self, context, rules): # TBD self.notification_api.push(context, rules, events.DELETED) ",,504,0
openstack%2Fneutron-vpnaas~master~I025ed0031dc2bf8894f1fa50c7a164e96c239b6a,openstack/neutron-vpnaas,master,I025ed0031dc2bf8894f1fa50c7a164e96c239b6a,solve ipsec process residue,ABANDONED,2017-09-01 08:26:09.000000000,2019-12-04 08:58:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 15905}, {'_account_id': 23822}, {'_account_id': 23958}]","[{'number': 1, 'created': '2017-09-01 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7b32932c8bbb43f14b2dfe23c782d265e31aafad', 'message': 'solve ipsec process residue\n\nChange-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a\n'}, {'number': 2, 'created': '2017-09-01 08:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c543c4c4fec11cff3c8db6500ec3b80b034c7855', 'message': 'solve ipsec process residue\n\n  When I delete the ipsec connection, if the ipsec connection is not correct,\nthe ipsec configuration file will still be deleted.\nThe specific phenomenon can be viewed on this link:\nhttps://bugs.launchpad.net/neutron/+bug/1714434\n\n  This will cause the ipsec process to be deleted, and no ipsec configuration file can no longer operate on ipsec.\nI think it should keep the ipsec process consistent with the configuration file, and if the ipsec process still exists,\nthe configuration file should also exist\n\nChange-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a\n'}, {'number': 3, 'created': '2017-09-01 08:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/55caa49cc5d3ce03dd7928e0b44543af2bbc5518', 'message': 'solve ipsec process residue\n\n  When I delete the ipsec connection, if the ipsec connection is not correct,\nthe ipsec configuration file will still be deleted.\nThe specific phenomenon can be viewed on this link:\nhttps://bugs.launchpad.net/neutron/+bug/1714434\n\n  This will cause the ipsec process to be deleted, and no ipsec configuration\nfile can no longer operate on ipsec.I think it should keep the ipsec process\nconsistent with the configuration file, and if the ipsec process still exists,\nthe configuration file should also exist\n\nCloses-Bug: #1714434\nChange-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a\n'}, {'number': 4, 'created': '2017-09-01 09:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b093ce19e5fdfe586d7b4e16a9dfa4a8859d7308', 'message': 'solve ipsec process residue\n\n  When I delete the ipsec connection, if the ipsec connection is not correct,\nthe ipsec configuration file will still be deleted.\n  This will cause the ipsec process to be deleted, and no ipsec configuration\nfile can no longer operate on ipsec.I think it should keep the ipsec process\nconsistent with the configuration file, and if the ipsec process still exists,\nthe configuration file should also exist\n\nCloses-Bug: #1714434\nChange-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a\n'}, {'number': 5, 'created': '2017-09-01 09:22:26.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/80761ff628d7d767d1f7e29772c7efff648d7bd3', 'message': 'solve ipsec process residue\n\nWhen I delete the ipsec connection, if the ipsec connection is not correct,\nthe ipsec configuration file will still be deleted.\nThis will cause the ipsec process to be deleted, and no ipsec configuration\nfile can no longer operate on ipsec.I think it should keep the ipsec process\nconsistent with the configuration file, and if the ipsec process still exists,\nthe configuration file should also exist\n\nCloses-Bug: #1714434\nChange-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a\n'}]",5,499929,80761ff628d7d767d1f7e29772c7efff648d7bd3,21,7,5,23958,,,0,"solve ipsec process residue

When I delete the ipsec connection, if the ipsec connection is not correct,
the ipsec configuration file will still be deleted.
This will cause the ipsec process to be deleted, and no ipsec configuration
file can no longer operate on ipsec.I think it should keep the ipsec process
consistent with the configuration file, and if the ipsec process still exists,
the configuration file should also exist

Closes-Bug: #1714434
Change-Id: I025ed0031dc2bf8894f1fa50c7a164e96c239b6a
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/29/499929/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'],1,7b32932c8bbb43f14b2dfe23c782d265e31aafad,, self.remove_config(), self.remove_config(),1,1
openstack%2Fneutron-vpnaas~master~I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab,openstack/neutron-vpnaas,master,I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab,set ike_phase1_mode None when using ike version V2,ABANDONED,2017-10-24 01:54:00.000000000,2019-12-04 08:58:39.000000000,,"[{'_account_id': 11975}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 23822}]","[{'number': 1, 'created': '2017-10-24 01:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/86efcc85a7431a5cd1d3039e324d1e62a0b2f20c', 'message': 'set ike_phase1_mode None to use ike version V2\n\nIke version v2 create ipsec sa in only one phase.\nIf ike policy uses ike V2,it will be unnecessary\nto use ike_phase1_mode.\n\nChange-Id: I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab\nDepends-on: I32948aca2a571fad4e224ab6294c6f46931485a2\nRelated-Bug: 1701413\nCloses-Bug: 1726422\n'}, {'number': 2, 'created': '2017-10-24 01:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/af762040a38ccc04755eb29948f27cfaeb2f4f4c', 'message': 'set ike_phase1_mode None when using ike version V2\n\nIke version v2 create ipsec sa in only one phase.\nIf ike policy uses ike V2,it will be unnecessary\nto use ike_phase1_mode.\n\nChange-Id: I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab\nDepends-on: I32948aca2a571fad4e224ab6294c6f46931485a2\nRelated-Bug: 1701413\nCloses-Bug: 1726422\n'}, {'number': 3, 'created': '2017-11-03 08:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/83c44e08ff5149c58f6a7c3e26353facf4f06dca', 'message': 'set ike_phase1_mode None when using ike version V2\n\nIke version v2 create ipsec sa in only one phase.\nIf ike policy uses ike V2,it will be unnecessary\nto use ike_phase1_mode.\n\nChange-Id: I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab\nRelated-Change: I32948aca2a571fad4e224ab6294c6f46931485a2\nRelated-Bug: 1701413\nCloses-Bug: 1726422\n'}, {'number': 4, 'created': '2017-11-11 01:46:33.000000000', 'files': ['neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/queens/expand/a12f6d09562b_modify_ikepolicy_phase1_negotiation_mode.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6ff0b9492433c3d7191b1415bbac5e3197f6aaa7', 'message': 'set ike_phase1_mode None when using ike version V2\n\nIke version v2 create ipsec sa in only one phase.\nIf ike policy uses ike V2,it will be unnecessary\nto use ike_phase1_mode.\n\nChange-Id: I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab\nRelated-Change: I32948aca2a571fad4e224ab6294c6f46931485a2\nRelated-Bug: 1701413\nCloses-Bug: 1726422\n'}]",2,514497,6ff0b9492433c3d7191b1415bbac5e3197f6aaa7,25,4,4,23822,,,0,"set ike_phase1_mode None when using ike version V2

Ike version v2 create ipsec sa in only one phase.
If ike policy uses ike V2,it will be unnecessary
to use ike_phase1_mode.

Change-Id: I23d7cf6f9f0f84f4cb682f4f9422b09d0e972aab
Related-Change: I32948aca2a571fad4e224ab6294c6f46931485a2
Related-Bug: 1701413
Closes-Bug: 1726422
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/97/514497/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/db/vpn/vpn_validator.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/pike/expand/a12f6d09562b_modify_ikepolicy_phase1_negotiation_mode.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/common/constants.py']",5,86efcc85a7431a5cd1d3039e324d1e62a0b2f20c,bug/1701413,IKEVERSIONV1 = 'v1' IKEVERSIONV2 = 'v2',,64,4
openstack%2Fnetworking-midonet~master~Ic82407d953fcfeefbfceabb1494347903b2bad0e,openstack/networking-midonet,master,Ic82407d953fcfeefbfceabb1494347903b2bad0e,gate_hook: Enable tests in neutron-dynamic-routing tempest plugin,ABANDONED,2017-05-24 06:35:23.000000000,2019-12-04 08:58:27.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-24 06:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/78fba2c8b1cbfe7dd8865a1490e6335424e22126', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 2, 'created': '2017-05-25 03:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/072a31ed242387ba16872dba3a2da6e72eb32d1a', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 3, 'created': '2017-05-25 05:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/716832317df4b19951beefc0fedd1449130ed4d5', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 4, 'created': '2017-06-23 07:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2d70c27ec086f6d1c5342a48d403585ffa1565fb', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 5, 'created': '2017-07-31 02:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/390fee38de7ba7b2b1e0378f96c172d2d98cb3c1', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 6, 'created': '2017-07-31 10:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2fac4acf14ca191513e0dfc3e5d97863c6979664', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 7, 'created': '2017-08-01 03:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/fe3a754e416327f3d75ff5c451ebd0a048407cd5', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nDepends-On: Ifb38acb3c80ead929e6e24112d31dedc757118fb\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 8, 'created': '2017-11-15 10:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e5fd6b478bc61a8706b8f6c2663ae7dabf77e0bf', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 9, 'created': '2017-11-15 12:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b0e3b6a9f44add47409455e3d546778d283f71a9', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}, {'number': 10, 'created': '2017-11-16 05:21:58.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/31b0cc2aa3e3e1dda43dcfccea93ad19ee67b1f4', 'message': 'gate_hook: Enable tests in neutron-dynamic-routing tempest plugin\n\nLargely copy-and-paste from neutron-dynamic-routing.\n\nCloses-Bug: #1684486\nChange-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e\n'}]",0,467497,31b0cc2aa3e3e1dda43dcfccea93ad19ee67b1f4,39,5,10,6854,,,0,"gate_hook: Enable tests in neutron-dynamic-routing tempest plugin

Largely copy-and-paste from neutron-dynamic-routing.

Closes-Bug: #1684486
Change-Id: Ic82407d953fcfeefbfceabb1494347903b2bad0e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/97/467497/8 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,78fba2c8b1cbfe7dd8865a1490e6335424e22126,bug/1684486,"r=""$r^(tempest\.(api|scenario)|neutron_fwaas|neutron_lbaas\.tests\.tempest\.v2\.api|neutron_vpnaas|neutron_taas|neutron_dynamic_routing|neutron|midonet)\..*$""","r=""$r^(tempest\.(api|scenario)|neutron_fwaas|neutron_lbaas\.tests\.tempest\.v2\.api|neutron_vpnaas|neutron_taas|neutron|midonet)\..*$""",1,1
openstack%2Fnetworking-ovn~master~Iebb50d7a490ef442df49baffcb8594556b9f4fcf,openstack/networking-ovn,master,Iebb50d7a490ef442df49baffcb8594556b9f4fcf,Use ovsdbapp for creating/deleting logical switch ports,ABANDONED,2017-10-31 19:12:47.000000000,2019-12-04 08:58:16.000000000,,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-10-31 19:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9922cff101d5f121c6787eefc535bc9f7863194d', 'message': 'Use ovsdbapp for creating/deleting logical switch ports\n\nChange-Id: Iebb50d7a490ef442df49baffcb8594556b9f4fcf\n'}, {'number': 2, 'created': '2017-11-14 16:02:20.000000000', 'files': ['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'requirements.txt', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9490e5784371b268102649cbf03f78b9defa1357', 'message': 'Use ovsdbapp for creating/deleting logical switch ports\n\nChange-Id: Iebb50d7a490ef442df49baffcb8594556b9f4fcf\n'}]",17,516769,9490e5784371b268102649cbf03f78b9defa1357,16,5,2,5756,,,0,"Use ovsdbapp for creating/deleting logical switch ports

Change-Id: Iebb50d7a490ef442df49baffcb8594556b9f4fcf
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/69/516769/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'requirements.txt', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py']",12,9922cff101d5f121c6787eefc535bc9f7863194d,convert_nb_api_to_ovsdbapp, self.lsp_add = mock.Mock() self.lsp_del = mock.Mock(), self.create_lswitch_port = mock.Mock() self.delete_lswitch_port = mock.Mock(),62,252
openstack%2Fnetworking-midonet~stable%2Fpike~If1cd47255d8d3a22b407caabdbc981e472e606c6,openstack/networking-midonet,stable/pike,If1cd47255d8d3a22b407caabdbc981e472e606c6,DO NOT MERGE: enable tempest.api.compute,ABANDONED,2017-11-24 03:55:46.000000000,2019-12-04 08:58:11.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-24 03:55:46.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a9099429a6d34f17754f82bf6bfe8e141aa6adaf', 'message': 'DO NOT MERGE: enable tempest.api.compute\n\nI got a report some of them are failing.\n\nChange-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6\n(cherry picked from commit f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9)\nConflicts:\n    devstack/ci/gate_hook.sh\n'}]",0,522701,a9099429a6d34f17754f82bf6bfe8e141aa6adaf,8,3,1,6854,,,0,"DO NOT MERGE: enable tempest.api.compute

I got a report some of them are failing.

Change-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6
(cherry picked from commit f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9)
Conflicts:
    devstack/ci/gate_hook.sh
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/01/522701/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,a9099429a6d34f17754f82bf6bfe8e141aa6adaf,compute-tests-pike,,"r=""$r|(?:tempest\.api\.compute\..*)""",0,1
openstack%2Fnetworking-bagpipe~master~I523d7cd19efbb4d156a66bf799d5ff2a4698f1d2,openstack/networking-bagpipe,master,I523d7cd19efbb4d156a66bf799d5ff2a4698f1d2,redirecting the broken links,ABANDONED,2017-10-23 02:15:59.000000000,2019-12-04 08:58:06.000000000,,"[{'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-23 02:15:59.000000000', 'files': ['doc/source/conf.py', 'doc/source/_extras/.htaccess'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/be2ae63f674432b0a4eca798b4fbb2e134826e40', 'message': 'redirecting the broken links\n\nSome links are broken because of the doc migration.It is not acceptable to\nmanually test all links and fix them one by one. we can fix them all by\nadding Apache redirect rules.\n\nChange-Id: I523d7cd19efbb4d156a66bf799d5ff2a4698f1d2\n'}]",0,514102,be2ae63f674432b0a4eca798b4fbb2e134826e40,7,4,1,19779,,,0,"redirecting the broken links

Some links are broken because of the doc migration.It is not acceptable to
manually test all links and fix them one by one. we can fix them all by
adding Apache redirect rules.

Change-Id: I523d7cd19efbb4d156a66bf799d5ff2a4698f1d2
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/02/514102/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/source/_extras/.htaccess']",2,be2ae63f674432b0a4eca798b4fbb2e134826e40,add-redirects,redirectmatch 301 ^/networking-bagpipe/([^/]+)/contributing.html$ /networking-bagpipe/$1/contributor/index.html redirectmatch 301 ^/networking-bagpipe/([^/]+)/installation.html$ /networking-bagpipe/$1/install/index.html redirectmatch 301 ^/networking-bagpipe/([^/]+)/applications.html$ /networking-bagpipe/$1/user/applications.html redirectmatch 301 ^/networking-bagpipe/([^/]+)/bagpipe-bgp.html$ /networking-bagpipe/$1/user/bagpipe-bgp.html redirectmatch 301 ^/networking-bagpipe/([^/]+)/design.html$ /networking-bagpipe/$1/user/design.html ,,10,0
openstack%2Fneutron-fwaas~master~Ic624e02f9ccd443df88515b360a94c06ca29768f,openstack/neutron-fwaas,master,Ic624e02f9ccd443df88515b360a94c06ca29768f,WIP:support audit notification in fw resources,ABANDONED,2017-04-01 03:20:10.000000000,2019-12-04 08:57:51.000000000,,"[{'_account_id': 748}, {'_account_id': 11975}, {'_account_id': 15309}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-04-01 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c7ef1927418cc87fb8aa1c09a839ba054a831855', 'message': 'WIP:support audit notification in fw resources\n\nChange-Id: Ic624e02f9ccd443df88515b360a94c06ca29768f\nCloses-Bug: #1628627\n'}, {'number': 2, 'created': '2017-09-13 08:19:06.000000000', 'files': ['neutron_fwaas/services/firewall/notifier/audit_trail_notification.py', 'neutron_fwaas/services/firewall/notifier/__init__.py', 'neutron_fwaas/services/firewall/notifier/events.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/72ec8245f33420a26d0ee08a2ec4c898b6c08d73', 'message': 'WIP:support audit notification in fw resources\n\nChange-Id: Ic624e02f9ccd443df88515b360a94c06ca29768f\nDepends-On: If9a44e5c415e93edaf05a5303db516a62f8b334f\nCloses-Bug: #1628627\n'}]",0,452372,72ec8245f33420a26d0ee08a2ec4c898b6c08d73,11,5,2,15309,,,0,"WIP:support audit notification in fw resources

Change-Id: Ic624e02f9ccd443df88515b360a94c06ca29768f
Depends-On: If9a44e5c415e93edaf05a5303db516a62f8b334f
Closes-Bug: #1628627
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/72/452372/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/notifier/audit_trail_notification.py', 'neutron_fwaas/services/firewall/notifier/__init__.py', 'neutron_fwaas/services/firewall/notifier/events.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py']",4,c7ef1927418cc87fb8aa1c09a839ba054a831855,bug/1628627,"from neutron_fwaas.services.firewall.notifier import audit_trail_notification as aud @aud.notifier('firewall_rule', 'update')",,294,1
openstack%2Fneutron-vpnaas~master~Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db,openstack/neutron-vpnaas,master,Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db,Address bitrot in Rally plugins.,ABANDONED,2016-09-16 12:53:04.000000000,2019-12-04 08:57:18.000000000,,"[{'_account_id': 6659}, {'_account_id': 6854}, {'_account_id': 7787}, {'_account_id': 11682}, {'_account_id': 11975}, {'_account_id': 12395}, {'_account_id': 15905}]","[{'number': 1, 'created': '2016-09-16 12:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7bc6d5717aedf416d264327f66f7e3ad39368eb5', 'message': 'Correct import log statement in rally base class.\n\nRally now uses the token ""logging"" instead of ""log""\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}, {'number': 2, 'created': '2016-09-16 13:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6ae04874f198e801c17da578fcd1c00e89a48e28', 'message': 'Correct import log statement in rally classes.\n\nRally now uses the token ""logging"" instead of ""log""\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}, {'number': 3, 'created': '2016-09-16 13:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/18628f84c8d028ef6244ffa50fea0d20d2869c77', 'message': 'Address bitrot in Rally plugins.\n\n- Rally now uses the token ""logging"" instead of ""log""\n- No reason to import types as types\n- @types.set has been replaced with @types.convert\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}, {'number': 4, 'created': '2016-09-16 14:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d1074f1c09c515338a075e6b19d9ff1af3d4ba04', 'message': 'Address bitrot in Rally plugins.\n\n- Rally now uses the token ""logging"" instead of ""log""\n- No reason to import types as types\n- @types.set has been replaced with @types.convert and uses\n  a different patch signature (taken from [1])\n\n[1] https://review.openstack.org/#/c/353838\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}, {'number': 5, 'created': '2016-09-16 16:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/840da2f7aab5aecfd41a73f33c9644f7f748b0d9', 'message': 'Address bitrot in Rally plugins.\n\n- Rally now uses the token ""logging"" instead of ""log""\n- No reason to import types as types\n- @types.set has been replaced with @types.convert and uses\n  a different patch signature (taken from [1])\n- rename rally-configs/rally_config_dvr.yaml up to neutron-vpnaas.yaml\n  to be used as the default job\n- remove the rest of the rally-configs directory as it is not used\n\n[1] https://review.openstack.org/#/c/353838\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}, {'number': 6, 'created': '2016-09-16 16:57:53.000000000', 'files': ['rally-jobs/neutron-vpnaas.yaml', 'rally-jobs/plugins/test_vpn_tenant_scenario.py', 'rally-jobs/plugins/test_vpn_connectivity.py', 'rally-jobs/plugins/vpn_base.py', 'rally-jobs/plugins/vpn_utils.py', 'rally-jobs/plugins/test_vpn_status.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9f07f282e589fe3e6ef0eb33fedc5f28ed784246', 'message': 'Address bitrot in Rally plugins.\n\n- Rally now uses the token ""logging"" instead of ""log""\n- No reason to import types as types\n- @types.set has been replaced with @types.convert and uses\n  a different patch signature (taken from [1])\n- copy rally-configs/rally_config_dvr.yaml up to neutron-vpnaas.yaml\n  to be used as the default job\n\nNote: this still doesn\'t pass the rally job because it needs a\ntask argument file that fills in the missing pieces of the yaml file\n\n[1] https://review.openstack.org/#/c/353838\n\nChange-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db\n'}]",2,371507,9f07f282e589fe3e6ef0eb33fedc5f28ed784246,38,7,6,11682,,,0,"Address bitrot in Rally plugins.

- Rally now uses the token ""logging"" instead of ""log""
- No reason to import types as types
- @types.set has been replaced with @types.convert and uses
  a different patch signature (taken from [1])
- copy rally-configs/rally_config_dvr.yaml up to neutron-vpnaas.yaml
  to be used as the default job

Note: this still doesn't pass the rally job because it needs a
task argument file that fills in the missing pieces of the yaml file

[1] https://review.openstack.org/#/c/353838

Change-Id: Id9b8dfa123dc7cc7d639383c7dcc749dfc3420db
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/07/371507/2 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/plugins/vpn_base.py'],1,7bc6d5717aedf416d264327f66f7e3ad39368eb5,fix-rally,from rally.common import logging,from rally.common import log as logging,1,1
openstack%2Fneutron-vpnaas~master~I4b90288c9c04d0c45ddf4e69f80825a236721781,openstack/neutron-vpnaas,master,I4b90288c9c04d0c45ddf4e69f80825a236721781,[WIP] Add external gateway port for VPN service,ABANDONED,2016-07-13 09:36:05.000000000,2019-12-04 08:57:13.000000000,,"[{'_account_id': 748}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 11975}, {'_account_id': 17224}, {'_account_id': 17699}, {'_account_id': 19251}, {'_account_id': 21556}]","[{'number': 1, 'created': '2016-07-13 09:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1ca57b42c99eae9241a9cadc3063fd1e1aac64e2', 'message': ""Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can't share the\nexisted router's external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router's extended\nattribute. So this patch also extend the router DB. With the extended router\nDB, customer could use the router API to create/update the VPN gateway port.\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\n""}, {'number': 2, 'created': '2016-07-13 09:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8ac342673ba20f51bf747652af3ee51959dc8ead', 'message': ""Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can't share the\nexisted router's external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router's extended\nattribute. So this patch also extend the router DB. With the extended router\nDB, customer could use the router API to create/update the VPN gateway port.\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n""}, {'number': 3, 'created': '2016-07-13 11:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/014da022a3825e01b426ebec8a616c3235bd43ea', 'message': 'Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can\'t share the\nexisted router\'s external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router\'s\nextended attribute. So this patch also extend the router DB. With the extended\nrouter DB, customer could use the router API to create/update the VPN gateway\nport.\n\nThe request body to configure vpn external gateway is as below\nURI /v2.0/routers\n{\n    ""router"": {\n        ""name"": ""another_router"",\n        ""admin_state_up"": true,\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t},\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t}\n    }\n}\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 4, 'created': '2016-07-13 12:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/6b23249cff2f40b57b8a48eed46fbb81fb97a945', 'message': 'Add external gateway port for VPN service\n\n[WIP]As mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can\'t share the\nexisted router\'s external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router\'s\nextended attribute. So this patch also extend the router DB. With the extended\nrouter DB, customer could use the router API to create/update the VPN gateway\nport.\n\nThe request body to configure vpn external gateway is as below\nURI /v2.0/routers\n{\n    ""router"": {\n        ""name"": ""another_router"",\n        ""admin_state_up"": true,\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t},\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t}\n    }\n}\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 5, 'created': '2016-07-13 12:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ca76ab8ce9341d95ea399439f71f73213924760c', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can\'t share the\nexisted router\'s external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router\'s\nextended attribute. So this patch also extend the router DB. With the extended\nrouter DB, customer could use the router API to create/update the VPN gateway\nport.\n\nThe request body to configure vpn external gateway is as below\nURI /v2.0/routers\n{\n    ""router"": {\n        ""name"": ""another_router"",\n        ""admin_state_up"": true,\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t},\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t}\n    }\n}\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 6, 'created': '2016-07-28 09:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/829a6f94283efdcdea4473bf7a787c130fa80d4a', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can\'t share the\nexisted router\'s external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router\'s\nextended attribute. So this patch also extend the router DB. With the extended\nrouter DB, customer could use the router API to create/update the VPN gateway\nport.\n\nThe request body to configure vpn external gateway is as below\nURI /v2.0/routers\n{\n    ""router"": {\n        ""name"": ""another_router"",\n        ""admin_state_up"": true,\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t},\n      \t\t""vpn_external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t}\n    }\n}\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 7, 'created': '2016-08-09 09:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7a54e38963c55f5d7c0a4bae56f7f501b19443db', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for VPN+OVN,\nthe VPNaaS needs a new vpn external gateway port since it can\'t share the\nexisted router\'s external gateway used for SNAT in OVN networking. This patch\nadds new vpn external gateway port table on vpn database to store the gateway\ninformation for VPN. The new VPN external gateway will be the router\'s\nextended attribute. So this patch also extend the router DB. With the extended\nrouter DB, customer could use the router API to create/update the VPN gateway\nport.\n\nThe request body to configure vpn external gateway is as below\nURI /v2.0/routers\n{\n    ""router"": {\n        ""name"": ""another_router"",\n        ""admin_state_up"": true,\n      \t\t""external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t},\n      \t\t""vpn_external_gateway_info"": {\n            \t""network_id"": ""433402f6-6b75-43f6-8fc7-17d323d64474""\n      \t}\n    }\n}\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 8, 'created': '2016-08-09 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/4fca599d17cd6dc7d9968718ec87ac7e564b854e', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 9, 'created': '2016-08-31 01:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f6a7ba301474f2bb3bfcd4af1179ecdbecb21fd1', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 10, 'created': '2016-09-08 08:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7c4f5aec1fd4165fff0b054c9728b025bc3a26fa', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 11, 'created': '2016-09-08 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/dc3ef32ef9df0f3019854ea6a14f77d5377e994f', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 12, 'created': '2016-09-08 10:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/195bfaa13d218c3382b2ebd2ee073fccea6a9c5a', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 13, 'created': '2016-09-12 07:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/1d1b55a2fadbd797b03651581e525a4d5d65a8dd', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 14, 'created': '2016-09-12 07:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a5b3bdf10a5bdfb1f123a2a868fda924d9c5608f', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 15, 'created': '2016-09-12 08:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b2c767d760c099d0d216173996878a471992db4d', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 16, 'created': '2016-09-12 12:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/40fa59be98b869de03b269d4c3bb66303a4db706', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 17, 'created': '2016-09-18 15:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/302c3422c315fe42225db2e95bd9004774c2d264', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 18, 'created': '2016-09-18 15:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5bd7654b72f72c58cf3a8b8f701b1347b3df961e', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}, {'number': 19, 'created': '2016-09-19 02:11:57.000000000', 'files': ['neutron_vpnaas/extensions/vpn_ext_gw.py', 'neutron_vpnaas/db/models/head.py', 'neutron_vpnaas/db/vpn/vpn_ext_gw_db.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/ocata/expand/22e0145ac80b_add_vpn_gateway_port.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5a171810ac9a7aff6f39da537271bda00b128e65', 'message': '[WIP] Add external gateway port for VPN service\n\nAs mentioned in specs https://review.openstack.org/#/c/334401/, for\nVPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP\naddress. This patch adds a new APIs to configure the public IP address.\nThe URL of the API is: /v2.0/vpn/gateways\nRequest body:\n    {""gateway"":\n        {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""\n        }\n    }\n\nResponse body:\n    {\n        ""gateway"": {\n            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",\n            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",\n            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",\n            ""router_name"": ""router1"",\n            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",\n            ""external_fixed_ips"": [\n                {\n                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",\n                    ""ip_address"": ""172.24.4.8""\n                },\n                {\n                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",\n                    ""ip_address"": ""2001:db8::1""\n                }\n            ]\n        }\n    }\n\nChange-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781\nRelated-Bug: 1586253\n'}]",0,341393,5a171810ac9a7aff6f39da537271bda00b128e65,47,8,19,17224,,,0,"[WIP] Add external gateway port for VPN service

As mentioned in specs https://review.openstack.org/#/c/334401/, for
VPN+OVN,VPNaaS needs a new public IP address as IPsec local gateway IP
address. This patch adds a new APIs to configure the public IP address.
The URL of the API is: /v2.0/vpn/gateways
Request body:
    {""gateway"":
        {
            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",
            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a""
        }
    }

Response body:
    {
        ""gateway"": {
            ""router_id"": ""999c39b2-178f-4340-a69c-a1068dbae016"",
            ""network_id"": ""afab184a-43a3-4d77-bb27-e779874c123a"",
            ""tenant_id"": ""1eaaa81700b348029c9cbf9f3835bc58"",
            ""router_name"": ""router1"",
            ""id"": ""841aa615-a11d-4457-85f4-8429ace79cdc"",
            ""external_fixed_ips"": [
                {
                    ""subnet_id"": ""17a597fb-a308-4b6c-b328-d4e5f4c1547f"",
                    ""ip_address"": ""172.24.4.8""
                },
                {
                    ""subnet_id"": ""36da89c5-72a4-4054-87c3-b4dbf5cb9384"",
                    ""ip_address"": ""2001:db8::1""
                }
            ]
        }
    }

Change-Id: I4b90288c9c04d0c45ddf4e69f80825a236721781
Related-Bug: 1586253
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/93/341393/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/extensions/vpn_ext_gw.py', 'neutron_vpnaas/db/vpn/vpn_ext_gw_db.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_vpnaas/db/migration/alembic_migrations/versions/newton/expand/b0cf3ddc8fbc_add_vpn_gateway_port.py']",4,1ca57b42c99eae9241a9cadc3063fd1e1aac64e2,bug/1586253,"# Copyright 2016 <MingShuang Xian/IBM> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""add vpn gateway port Revision ID: b0cf3ddc8fbc Revises: 52783a36bd67 Create Date: 2016-07-11 14:28:46.052425 """""" # revision identifiers, used by Alembic. revision = 'b0cf3ddc8fbc' down_revision = '52783a36bd67' from alembic import op import sqlalchemy as sa def upgrade(): op.create_table( 'vpn_ext_gws', sa.Column('router_id', sa.String(length=36), nullable=False), sa.Column('port_id', sa.String(length=36), nullable=False), sa.PrimaryKeyConstraint('router_id', 'port_id'), sa.ForeignKeyConstraint( ['router_id'], ['routers.id'], ondelete='CASCADE' ), sa.ForeignKeyConstraint( ['port_id'], ['ports.id'], ondelete='CASCADE' ), ) ",,394,1
openstack%2Fnetworking-midonet~master~I36826cae1ea6111beb01d760e08259bb1cca9fd9,openstack/networking-midonet,master,I36826cae1ea6111beb01d760e08259bb1cca9fd9,test_fip64: repeat it more,ABANDONED,2018-01-16 12:57:31.000000000,2019-12-04 08:57:08.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-16 12:57:31.000000000', 'files': ['midonet/neutron/tests/tempest/tests/scenario/test_fip64_2.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/685fe732c5fb4895087aff77a33290a3d0d09221', 'message': 'test_fip64: repeat it more\n\nChange-Id: I36826cae1ea6111beb01d760e08259bb1cca9fd9\n'}]",0,534296,685fe732c5fb4895087aff77a33290a3d0d09221,5,3,1,6854,,,0,"test_fip64: repeat it more

Change-Id: I36826cae1ea6111beb01d760e08259bb1cca9fd9
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/96/534296/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/tests/tempest/tests/scenario/test_fip64_2.py'],1,685fe732c5fb4895087aff77a33290a3d0d09221,fip64-2,"# Copyright (c) 2016 Midokura SARL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr from tempest.common import utils from tempest.common import waiters from tempest.lib.common.utils import data_utils from tempest.lib import decorators from neutron.tests.tempest import config from neutron.tests.tempest.scenario import base from neutron.tests.tempest.scenario import constants CONF = config.CONF class Fip64(base.BaseTempestTestCase): credentials = ['primary', 'admin'] _fip_ip_version = 6 @classmethod @utils.requires_ext(extension=""fip64"", service=""network"") def resource_setup(cls): super(Fip64, cls).resource_setup() cls.network = cls.create_network() cls.subnet = cls.create_subnet(cls.network) router = cls.create_router_by_client() cls.create_router_interface(router['id'], cls.subnet['id']) cls.keypair = cls.create_keypair() cls.secgroup = cls.os_primary.network_client.create_security_group( name=data_utils.rand_name('secgroup-'))['security_group'] cls.security_groups.append(cls.secgroup) cls.create_loginable_secgroup_rule(secgroup_id=cls.secgroup['id']) def _find_ipv6_subnet(self, network_id): subnets = self.os_admin.network_client.list_subnets( network_id=network_id)['subnets'] for subnet in subnets: if subnet['ip_version'] == self._fip_ip_version: return subnet['id'] msg = ""No suitable subnets on public network"" raise self.skipException(msg) def _create_and_associate_floatingip64(self, port_id): network_id = CONF.network.public_network_id subnet_id = self._find_ipv6_subnet(network_id) fip = self.os_primary.network_client.create_floatingip( floating_network_id=network_id, subnet_id=subnet_id, port_id=port_id)['floatingip'] self.floating_ips.append(fip) self.assertEqual( self._fip_ip_version, netaddr.IPAddress(fip['floating_ip_address']).version) return fip def _create_server_with_fip64(self): port = self.create_port(self.network, security_groups=[ self.secgroup['id']]) fip = self._create_and_associate_floatingip64(port['id']) server = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], networks=[{'port': port['id']}])['server'] waiters.wait_for_server_status(self.os_primary.servers_client, server['id'], constants.SERVER_STATUS_ACTIVE) return {'port': port, 'fip': fip, 'server': server} @decorators.idempotent_id('63f7da91-c7dd-449b-b50b-1c56853ce0ef') def test_fip64(self): server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # repeat server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) @decorators.idempotent_id('63f7da91-c7dd-449b-b50b-1c56853ce0ff') def test_fip64_x(self): server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # repeat server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) ",,111,0
openstack%2Fnetworking-bagpipe~master~Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd,openstack/networking-bagpipe,master,Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd,"devstack gate hook for fullstack job, use devstack-gate-vm.sh",ABANDONED,2017-09-01 15:41:51.000000000,2019-12-04 08:57:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 15471}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-01 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6ee4da2d6f3d204a0d08d37af85062dcf76c06ff', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 2, 'created': '2017-09-04 11:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c2ee9d05a7a445a23cf970ab85a822fa8843c0c2', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 3, 'created': '2017-09-04 12:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d4d779d2cfe4a63568ad046c3790b6c317351dc0', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 4, 'created': '2017-09-04 12:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5b735e7cf29ec64ac43de55c08445babb5aca482', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 5, 'created': '2017-09-04 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e039a5a0e93eeb3308cab3a113b6a508583d2770', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 6, 'created': '2017-09-04 14:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/57939e54cc8b2a36a33c19eb496e72bfd113effe', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 7, 'created': '2017-09-04 15:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/611d3c8496b0411bfc7497205c8f6147b22f6cbf', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 8, 'created': '2017-09-04 15:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d67f9b9001eed562469c4eff192be031ec6122c5', 'message': 'fix devstack gate hook for fullstack job\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 9, 'created': '2017-09-12 21:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b7cc5a1d6c50e9ed502ca94c9b066e1150aca318', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 10, 'created': '2017-09-13 22:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/ea27fc5e3aebf3a2903bc6c066de452579bad0db', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 11, 'created': '2017-11-13 10:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/03f03a224cce1672c1e59e30266b0a60f424e520', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 12, 'created': '2017-11-14 05:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/18fbbfe42d8a61487bd0374e295fc93368a4e28d', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 13, 'created': '2017-11-14 10:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0b31e88fb7975c865169fd600b4f8abeedc270af', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 14, 'created': '2017-11-14 12:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5ec1ace909f122f2fa3d55e2d49adfd261426528', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 15, 'created': '2017-11-14 13:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/43f016952453a2724e3886bf6d1045ef91c0ecc5', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 16, 'created': '2017-11-14 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1aedb199fe8f9b64c02fce88808e0844a71e2ca1', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 17, 'created': '2018-02-09 14:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/872580ad0397dfd003a480b3a2d22752042f0962', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 18, 'created': '2018-02-15 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e997b51085aa16e3b741e1d27df325ffd7d35ffb', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: Ie06df1094e4c6f8eadc06cfa2090462b822ebe17\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 19, 'created': '2018-02-15 13:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/52004e6dc8976155a858d1d1b1d39aeaaa1751f9', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 20, 'created': '2018-02-20 16:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/815913ffaad2f9f0988e403fe7b6fad416dce308', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 21, 'created': '2018-02-20 19:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/619c3b31c8d8c39112350c482304ed8e7cd5ffaf', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 22, 'created': '2018-02-21 09:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/69f4acc74c21b6a625f2b86e7802d182642e255b', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 23, 'created': '2018-02-21 11:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/426472b227ef21494cf89f613a8093fd83690a5d', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 24, 'created': '2018-02-21 11:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/2ec7062fbb07d36a52933f3eb20cc7d5dcbd77b7', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 25, 'created': '2018-02-21 11:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/3eba62a52a2394bc8d561a6cb195fe6ca161e65d', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 26, 'created': '2018-02-21 12:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a6f76552e40fa940fbac0c159b24b8c9def6389f', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 27, 'created': '2018-02-21 13:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f0c194a27fc79a7948d8118895ad5a3f1f8b9f2a', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 28, 'created': '2018-02-21 13:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/490ae7e136da7de2029d4617e0d9c54ca84c11bd', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 29, 'created': '2018-02-21 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/03ac5f9f2d95327c54301dedd6664d79e42e51cd', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 30, 'created': '2018-02-21 14:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6098a42f565bc996802ca35e970182fc5f28d3f2', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 31, 'created': '2018-02-21 16:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c6a675553a934ad9cddc287682ff993bad28dd9c', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 32, 'created': '2018-02-22 09:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f6c93f6f553fee908ce0323bf23ad6ef6ebbfb2b', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 33, 'created': '2018-02-22 11:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d832c7cc9d00dcfcf4b79ece277ea9ed949e4a8e', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 34, 'created': '2018-02-22 16:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d4e881c4d1675b7e3e9dfd013b725e08982230e9', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 35, 'created': '2018-02-22 20:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/14d4633cc3e92908f462b273a9ae5e7fb6f0f19e', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 36, 'created': '2018-02-23 15:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c11fec0f45cd35f13eb9f54b38899f734d6f87b7', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 37, 'created': '2018-02-26 08:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/05e8fd2b61b719327b1ece7761ebc949a262c82a', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}, {'number': 38, 'created': '2018-02-26 13:09:23.000000000', 'files': ['devstack/gate-hooks/no_bgp_peers', 'networking_bagpipe/tests/fullstack/rootwrap-testing.filters', 'devstack/devstack-gate-rc', 'networking_bagpipe/tests/fullstack/base.py', 'tools/deploy_rootwrap.sh', 'devstack/settings.bagpipe_bgp', 'devstack/gate_hook.sh', 'tools/tox_install.sh', 'networking_bagpipe/tests/fullstack/resources/common/environment.py', 'devstack/gate-hooks/bagpipe_l2', 'tox.ini', 'networking_bagpipe/tests/fullstack/test_bagpipe_ml2_connectivity.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/5af3123d185d5e88c1b8f205e388b12dd1106c74', 'message': 'devstack gate hook for fullstack job, use devstack-gate-vm.sh\n\nWe need to call devstack-vm-gate.sh from the gate hook,\nor we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is\nset to a value that avoids conflicst in all cloud provider.\n\nThis change does what is needed so that we can use\ndevstack-vm-gate.sh .\n\nDepends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97\nDepends-On: I09ce573ffa93b61d389547b733c0904774420352\nChange-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd\nCloses-Bug: 1693689\nRelated-Bug: 1714289\n'}]",1,500109,5af3123d185d5e88c1b8f205e388b12dd1106c74,76,6,38,12021,,,0,"devstack gate hook for fullstack job, use devstack-gate-vm.sh

We need to call devstack-vm-gate.sh from the gate hook,
or we lack the tweak that makes sure that IPV4_ADDRS_SAFE_TO_USE is
set to a value that avoids conflicst in all cloud provider.

This change does what is needed so that we can use
devstack-vm-gate.sh .

Depends-On: I092ac244d67e31a2ca60c4bb83a88d477ef07b97
Depends-On: I09ce573ffa93b61d389547b733c0904774420352
Change-Id: Ib2a4f1f258d39dcba370fe37799c56ad0e5ca8fd
Closes-Bug: 1693689
Related-Bug: 1714289
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/09/500109/15 && git format-patch -1 --stdout FETCH_HEAD,['devstack/gate_hook.sh'],1,6ee4da2d6f3d204a0d08d37af85062dcf76c06ff,bug/1693689, export DEVSTACK_LOCALCONF=$(cat $LOCAL_CONF)$BASE/new/devstack-gate/devstack-vm-gate.sh , # deploy devstack as per local.conf cd $DEVSTACK_PATH && sudo -H -u $GATE_STACK_USER ./stack.sh $GATE_DEST/devstack-gate/devstack-vm-gate.sh,3,3
openstack%2Fneutron-vpnaas~master~Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513,openstack/neutron-vpnaas,master,Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513,Enable MySQL Cluster Support for neutron-vpnaas,ABANDONED,2017-10-19 14:03:36.000000000,2019-12-04 08:56:42.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23479}]","[{'number': 1, 'created': '2017-10-19 14:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c5325dfe97164da4151bc51d4b746db18dcf74bb', 'message': 'Enable MySQL Cluster Support for neutron-vpnaas\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2017-11-03 18:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/56e9296ed98d33511909ebc905721cc6bb1daddc', 'message': 'Enable MySQL Cluster Support for neutron-vpnaas\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513\nImplements: blueprint mysql-cluster-support\n'}, {'number': 3, 'created': '2018-03-30 11:50:49.000000000', 'files': ['neutron_vpnaas/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/75db2d637d3132a6c06f516b5fc6f70396595e2b', 'message': 'Enable MySQL Cluster Support for neutron-vpnaas\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513\nImplements: blueprint mysql-cluster-support\n'}]",0,513394,75db2d637d3132a6c06f516b5fc6f70396595e2b,10,4,3,23479,,,0,"Enable MySQL Cluster Support for neutron-vpnaas

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: Id2f2b9af45a9f62351e83c9e62ca1f7bc6331513
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/94/513394/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/db/migration/alembic_migrations/env.py'],1,c5325dfe97164da4151bc51d4b746db18dcf74bb,bug/1564110," if neutron_config.database.mysql_enable_ndb: mysql_engine = 'NDBCLUSTER' else: mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine( sql_connection=neutron_config.database.connection, mysql_enable_ndb=neutron_config.database.mysql_enable_ndb) with engine.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, version_table=alembic_migrations.VPNAAS_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()"," mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine(neutron_config.database.connection) connection = engine.connect() context.configure( connection=connection, target_metadata=target_metadata, version_table=alembic_migrations.VPNAAS_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()",19,14
openstack%2Fnetworking-bagpipe~master~I4373bde3d3926cd6e742efefc83779fa75cbea55,openstack/networking-bagpipe,master,I4373bde3d3926cd6e742efefc83779fa75cbea55,Enable MySQL Cluster Support for bagpipe,ABANDONED,2017-10-17 15:11:00.000000000,2019-12-04 08:56:38.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23479}]","[{'number': 1, 'created': '2017-10-17 15:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b0c15fe0c132bc8cad00bcb31555f22938c60aeb', 'message': 'Enable MySQL Cluster Support for bagpipe\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4373bde3d3926cd6e742efefc83779fa75cbea55\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2017-10-23 17:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/ebc2719b5d751232d54a2bd2a5afbad641242630', 'message': 'Enable MySQL Cluster Support for bagpipe\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4373bde3d3926cd6e742efefc83779fa75cbea55\nImplements: blueprint mysql-cluster-support\n'}, {'number': 3, 'created': '2017-11-03 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6a1296252f285c3fc21db0b5b18ef1399b07f493', 'message': 'Enable MySQL Cluster Support for bagpipe\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4373bde3d3926cd6e742efefc83779fa75cbea55\nImplements: blueprint mysql-cluster-support\n'}, {'number': 4, 'created': '2018-04-02 00:40:08.000000000', 'files': ['networking_bagpipe/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b5bcab1a2b7a436b95b9e985168ce88830fb4ba7', 'message': 'Enable MySQL Cluster Support for bagpipe\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I4373bde3d3926cd6e742efefc83779fa75cbea55\nImplements: blueprint mysql-cluster-support\n'}]",0,512660,b5bcab1a2b7a436b95b9e985168ce88830fb4ba7,11,3,4,23479,,,0,"Enable MySQL Cluster Support for bagpipe

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I4373bde3d3926cd6e742efefc83779fa75cbea55
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/60/512660/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/db/migration/alembic_migrations/env.py'],1,b0c15fe0c132bc8cad00bcb31555f22938c60aeb,bug/1564110," if neutron_config.database.mysql_enable_ndb: mysql_engine = 'NDBCLUSTER' else: mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine( sql_connection=neutron_config.database.connection, mysql_enable_ndb=neutron_config.database.mysql_enable_ndb ) with engine.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, version_table=BAGPIPEL2_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()"," mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine(neutron_config.database.connection) connection = engine.connect() context.configure( connection=connection, target_metadata=target_metadata, version_table=BAGPIPEL2_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()",20,14
openstack%2Fnetworking-bgpvpn~master~Ie158ebfdd46206f4613669108dded3746bd810c2,openstack/networking-bgpvpn,master,Ie158ebfdd46206f4613669108dded3746bd810c2,Enable MySQL Cluster Support for neutron-bgpvpn plugin,ABANDONED,2017-10-05 18:12:19.000000000,2019-12-04 08:56:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 11816}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 19283}, {'_account_id': 22348}, {'_account_id': 23479}]","[{'number': 1, 'created': '2017-10-05 18:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/487e0637acf6cc425e5d772ab9999cad0dc38d5a', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2017-10-05 20:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7b65b7e32dd83698b7dab3f1819bc5ea2bd8f774', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 3, 'created': '2017-10-10 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ab90138493c73e57de37ef807f962678b39195ef', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 4, 'created': '2017-10-10 18:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/de389522a5d3aacfb3deb7b47156c6141d236c9f', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 5, 'created': '2017-10-23 17:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/43ed304b480c01de9669e900ff116dda14a2c3a7', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 6, 'created': '2017-11-02 14:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e35396e1a6bef3a9ef3ce8e5c3ca00cd531084ff', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 7, 'created': '2017-11-02 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/cfe4d47394a92189b7e83d007165b5fb6e31a195', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 8, 'created': '2017-11-02 15:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/93f6e607b7bfd182dbda16aa62ee6937ba1948a0', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 9, 'created': '2018-02-27 16:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ac9114c7d9bebe3af2af34e07a134d80787f8947', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}, {'number': 10, 'created': '2018-04-02 00:57:05.000000000', 'files': ['networking_bgpvpn/neutron/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/edffdce6370afe44a578df982d5b7868d3f14170', 'message': 'Enable MySQL Cluster Support for neutron-bgpvpn plugin\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ie158ebfdd46206f4613669108dded3746bd810c2\nImplements: blueprint mysql-cluster-support\n'}]",0,509861,edffdce6370afe44a578df982d5b7868d3f14170,22,8,10,23479,,,0,"Enable MySQL Cluster Support for neutron-bgpvpn plugin

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: Ie158ebfdd46206f4613669108dded3746bd810c2
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/61/509861/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/db/migration/alembic_migrations/env.py'],1,487e0637acf6cc425e5d772ab9999cad0dc38d5a,bug/1564110," if neutron_config.database.mysql_enable_ndb: mysql_engine = 'NDBCLUSTER' else: mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine(neutron_config.database.connection, neutron_config.database.mysql_enable_ndb) with engine.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, version_table=BGPVPN_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()"," mysql_engine = neutron_config.command.mysql_engine engine = session.create_engine(neutron_config.database.connection) connection = engine.connect() context.configure( connection=connection, target_metadata=target_metadata, version_table=BGPVPN_VERSION_TABLE ) try: with context.begin_transaction(): context.run_migrations() finally: connection.close() engine.dispose()",18,14
openstack%2Fnetworking-midonet~master~I69b7b1b716ef701666ef503c8fffc325ac23e221,openstack/networking-midonet,master,I69b7b1b716ef701666ef503c8fffc325ac23e221,Enable MySQL Cluster Support for midonet,ABANDONED,2017-10-17 15:00:10.000000000,2019-12-04 08:56:29.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-17 15:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c2379a31ef68151d03c3708c7774f484ed6d24e4', 'message': 'Enable MySQL Cluster Support for midonet\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I69b7b1b716ef701666ef503c8fffc325ac23e221\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2017-11-03 15:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b9f78ed4824d545d7e473bfdc26f9a800fdc0ff0', 'message': 'Enable MySQL Cluster Support for midonet\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I69b7b1b716ef701666ef503c8fffc325ac23e221\nImplements: blueprint mysql-cluster-support\n'}, {'number': 3, 'created': '2017-11-06 11:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f9b73a2017e34d06501dd2c891d35127cae1c815', 'message': 'Enable MySQL Cluster Support for midonet\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I69b7b1b716ef701666ef503c8fffc325ac23e221\nImplements: blueprint mysql-cluster-support\n'}, {'number': 4, 'created': '2018-04-04 13:32:26.000000000', 'files': ['midonet/neutron/db/migration/alembic_migration/env.py', 'midonet/neutron/db/migration/cli.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d5a1a49a6b360270912d57735bd5b8a2b0503e29', 'message': 'Enable MySQL Cluster Support for midonet\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I69b7b1b716ef701666ef503c8fffc325ac23e221\nImplements: blueprint mysql-cluster-support\n'}]",0,512656,d5a1a49a6b360270912d57735bd5b8a2b0503e29,11,3,4,23479,,,0,"Enable MySQL Cluster Support for midonet

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I69b7b1b716ef701666ef503c8fffc325ac23e221
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/56/512656/4 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/db/migration/alembic_migration/env.py', 'midonet/neutron/db/migration/cli.py']",2,c2379a31ef68151d03c3708c7774f484ed6d24e4,bug/1564110," engine = create_engine(sql_connection=connection, mysql_enable_ndb=config.neutron_config.database.mysql_enable_ndb)", engine = create_engine(connection),23,16
openstack%2Fnetworking-bgpvpn~stable%2Focata~I0148b577244b57ea54a58ca3ea00d10249a62d1e,openstack/networking-bgpvpn,stable/ocata,I0148b577244b57ea54a58ca3ea00d10249a62d1e,functional tests: ignore all ODL tables,ABANDONED,2017-10-18 04:53:56.000000000,2019-12-04 08:56:25.000000000,,"[{'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-18 04:53:56.000000000', 'files': ['networking_bgpvpn/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5ff0595a584c82795d54df3a24ac2c297341bdf3', 'message': 'functional tests: ignore all ODL tables\n\nBecause some ODL DB consistency checks fail [1], and our purpose is\nnot to run ODL these checks in this project.\n\nhttp://logs.openstack.org/13/494213/7/check/legacy-networking-bgpvpn-dsvm-functional/70b8416/job-output.txt.gz#_2017-10-06_18_23_58_755159\n\nChange-Id: I0148b577244b57ea54a58ca3ea00d10249a62d1e\n'}]",0,512928,5ff0595a584c82795d54df3a24ac2c297341bdf3,6,4,1,12021,,,0,"functional tests: ignore all ODL tables

Because some ODL DB consistency checks fail [1], and our purpose is
not to run ODL these checks in this project.

http://logs.openstack.org/13/494213/7/check/legacy-networking-bgpvpn-dsvm-functional/70b8416/job-output.txt.gz#_2017-10-06_18_23_58_755159

Change-Id: I0148b577244b57ea54a58ca3ea00d10249a62d1e
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/28/512928/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/tests/functional/db/test_migrations.py'],1,5ff0595a584c82795d54df3a24ac2c297341bdf3,functional_test_fix_odl-stable/ocata,"ODL_TABLE_PREFIXES = { 'odl_', 'opendaylight'EXTERNAL_TABLES = set(external.TABLES) | BAGPIPE_TABLES name in EXTERNAL_TABLES or any([name.startswith(prefix) for prefix in ODL_TABLE_PREFIXES])):","ODL_TABLES = { 'odl_alembic_version', 'opendaylightjournal', 'opendaylight_maintenance', EXTERNAL_TABLES = set(external.TABLES) | BAGPIPE_TABLES | ODL_TABLES name in EXTERNAL_TABLES):",7,7
openstack%2Fpython-neutronclient~master~Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2,openstack/python-neutronclient,master,Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2,WIP: Client side for VPN qos,ABANDONED,2018-04-20 03:40:31.000000000,2019-12-04 08:56:20.000000000,,"[{'_account_id': 11975}, {'_account_id': 15309}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2018-04-20 03:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a8cc4fbf841bace819aa31785f1b975df9506505', 'message': 'WIP: Client side for VPN qos\n\nHold this patch in WIP status until the server side is merged.\n\nChange-Id: Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2\n'}, {'number': 2, 'created': '2018-04-20 07:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c278e2dacc24b10e7d76396091a72005359d0013', 'message': 'WIP: Client side for VPN qos\n\nHold this patch in WIP status until the server side is merged.\n\nChange-Id: Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2\n'}, {'number': 3, 'created': '2018-04-21 06:33:18.000000000', 'files': ['neutronclient/tests/unit/osc/v2/vpnaas/fakes.py', 'neutronclient/tests/unit/osc/v2/vpnaas/test_vpnservice.py', 'neutronclient/osc/v2/vpnaas/vpnservice.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/beae11691c8b4495278d7d4988b8fa8a67e62a64', 'message': 'WIP: Client side for VPN qos\n\nHold this patch in WIP status until the server side is merged.\n\nChange-Id: Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2\n'}]",6,562922,beae11691c8b4495278d7d4988b8fa8a67e62a64,14,5,3,15309,,,0,"WIP: Client side for VPN qos

Hold this patch in WIP status until the server side is merged.

Change-Id: Id3ebc1a866bb575f6cf79a836e99b64dd26df1f2
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/22/562922/3 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/neutron/v2_0/vpn/vpnservice.py'],1,a8cc4fbf841bace819aa31785f1b975df9506505,vpn-qos," 'id', 'name', 'router_id', 'status', 'qos_policy_id' parser.add_argument( '--qos-policy-id', help='ID of Neutron QoS Policy.') ['tenant_id', 'qos_policy_id']) parser.add_argument( '--qos-policy-id', help='ID of Neutron QoS Policy.') ['admin_state_up', 'qos_policy_id'])"," 'id', 'name', 'router_id', 'status' ['tenant_id']) ['admin_state_up'])",9,3
openstack%2Fneutron-fwaas~master~I54bb3ca19fc717dd4bf0e20e8ade0834d4e7c4df,openstack/neutron-fwaas,master,I54bb3ca19fc717dd4bf0e20e8ade0834d4e7c4df,DO NOT MERGE: check gate status,ABANDONED,2018-06-27 07:06:27.000000000,2019-12-04 08:56:16.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-27 07:06:27.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b24f43266ea525119722a7992db1ef76197b0b55', 'message': 'DO NOT MERGE: check gate status\n\nChange-Id: I54bb3ca19fc717dd4bf0e20e8ade0834d4e7c4df\n'}]",0,578296,b24f43266ea525119722a7992db1ef76197b0b55,3,2,1,15471,,,0,"DO NOT MERGE: check gate status

Change-Id: I54bb3ca19fc717dd4bf0e20e8ade0834d4e7c4df
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/96/578296/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,b24f43266ea525119722a7992db1ef76197b0b55,check_gate,Test,,1,1
openstack%2Fneutron-dynamic-routing~master~Icdb69bba50ae7720efb9ddb5ff25fbf281af6908,openstack/neutron-dynamic-routing,master,Icdb69bba50ae7720efb9ddb5ff25fbf281af6908,Fix lower-constraints.txt,ABANDONED,2018-07-11 06:51:22.000000000,2019-12-04 08:56:12.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28427}]","[{'number': 1, 'created': '2018-07-11 06:51:22.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/038bab4e511943089be496252ec836a312daf741', 'message': 'Fix lower-constraints.txt\n\nDuring the change https://review.openstack.org/#/c/573216/\nneutron-vpnaas lower-constraints.txt looks out-of-date.\nThis commit fixes lower-constraints.txt.\n\nChange-Id: Icdb69bba50ae7720efb9ddb5ff25fbf281af6908\n'}]",0,581593,038bab4e511943089be496252ec836a312daf741,5,3,1,28427,,,0,"Fix lower-constraints.txt

During the change https://review.openstack.org/#/c/573216/
neutron-vpnaas lower-constraints.txt looks out-of-date.
This commit fixes lower-constraints.txt.

Change-Id: Icdb69bba50ae7720efb9ddb5ff25fbf281af6908
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/93/581593/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,038bab4e511943089be496252ec836a312daf741,fix_lower_constraints,oslo.concurrency==3.26.0Sphinx==1.6.2,oslo.concurrency==3.25.0Sphinx==1.6.5,2,2
openstack%2Fneutron-dynamic-routing~master~I2ba66cc5108ef2b1523a01d64ac5de5a1ee528c3,openstack/neutron-dynamic-routing,master,I2ba66cc5108ef2b1523a01d64ac5de5a1ee528c3,Enable MySQL Cluster Support for neutron dynamic-routing,ABANDONED,2018-04-09 16:18:29.000000000,2019-12-04 08:56:07.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-09 16:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f59f2dfd1ab1a9760571f3a0f6a14c1135d81d51', 'message': 'Enable MySQL Cluster Support for neutron dynamic-routing\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I2ba66cc5108ef2b1523a01d64ac5de5a1ee528c3\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2018-07-12 15:24:04.000000000', 'files': ['neutron_dynamic_routing/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/666de53013d468ad34e50afed18ec304346c7ed0', 'message': 'Enable MySQL Cluster Support for neutron dynamic-routing\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: I2ba66cc5108ef2b1523a01d64ac5de5a1ee528c3\nImplements: blueprint mysql-cluster-support\n'}]",0,559782,666de53013d468ad34e50afed18ec304346c7ed0,5,2,2,23479,,,0,"Enable MySQL Cluster Support for neutron dynamic-routing

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: I2ba66cc5108ef2b1523a01d64ac5de5a1ee528c3
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/82/559782/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/db/migration/alembic_migrations/env.py'],1,f59f2dfd1ab1a9760571f3a0f6a14c1135d81d51,bug/1564110," engine = session.create_engine( sql_connection=neutron_config.database.connection, mysql_enable_ndb=neutron_config.database.mysql_enable_ndb)", engine = session.create_engine(neutron_config.database.connection),3,1
openstack%2Fneutron-fwaas~stable%2Fpike~I4b767c4622be0202ae3fca557dbedc57b1a717c5,openstack/neutron-fwaas,stable/pike,I4b767c4622be0202ae3fca557dbedc57b1a717c5,Shrink Tempest scenario manager copy,ABANDONED,2017-09-23 18:26:38.000000000,2019-12-04 08:56:03.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8556}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 17776}, {'_account_id': 21020}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-09-23 18:26:38.000000000', 'files': ['neutron_fwaas/tests/tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/291acc30fcbed5e3fd02f596101c1c96e7b7be55', 'message': 'Shrink Tempest scenario manager copy\n\nscenario manager in tempest plugin was copied from\nTempest to avoid any plugin break.\n\nThis copied version of scenario manager is using lot of\nTempest interfaces. Many of them are not stable and might\nchange which can break plugin.\n\nFor example - https://review.openstack.org/#/c/503875/3\n\nThis commit shrinks the scenario manager copy to keep\nonly required methods.\n\nChange-Id: I4b767c4622be0202ae3fca557dbedc57b1a717c5\n'}]",0,506879,291acc30fcbed5e3fd02f596101c1c96e7b7be55,13,11,1,8556,,,0,"Shrink Tempest scenario manager copy

scenario manager in tempest plugin was copied from
Tempest to avoid any plugin break.

This copied version of scenario manager is using lot of
Tempest interfaces. Many of them are not stable and might
change which can break plugin.

For example - https://review.openstack.org/#/c/503875/3

This commit shrinks the scenario manager copy to keep
only required methods.

Change-Id: I4b767c4622be0202ae3fca557dbedc57b1a717c5
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/79/506879/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/tempest_plugin/tests/scenario/manager.py'],1,291acc30fcbed5e3fd02f596101c1c96e7b7be55,shrink-scenario-manager-stable/pike,,"from oslo_serialization import jsonutilsfrom tempest.common import image as common_imagefrom tempest import exceptions cls.flavors_client = cls.os_primary.flavors_client cls.compute_floating_ips_client = ( cls.os_primary.compute_floating_ips_client) if CONF.service_available.glance: # Check if glance v1 is available to determine which client to use. if CONF.image_feature_enabled.api_v1: cls.image_client = cls.os_primary.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.os_primary.image_client_v2 else: raise lib_exc.InvalidConfiguration( 'Either api_v1 or api_v2 must be True in ' '[image-feature-enabled].') # Compute image client cls.compute_images_client = cls.os_primary.compute_images_client # Nova security groups client cls.compute_security_groups_client = ( cls.os_primary.compute_security_groups_client) cls.compute_security_group_rules_client = ( cls.os_primary.compute_security_group_rules_client) cls.interface_client = cls.os_primary.interfaces_client if CONF.volume_feature_enabled.api_v2: cls.volumes_client = cls.os_primary.volumes_v2_client cls.snapshots_client = cls.os_primary.snapshots_v2_client else: cls.volumes_client = cls.os_primary.volumes_client cls.snapshots_client = cls.os_primary.snapshots_client def create_volume(self, size=None, name=None, snapshot_id=None, imageRef=None, volume_type=None): if size is None: size = CONF.volume.volume_size if imageRef: image = self.compute_images_client.show_image(imageRef)['image'] min_disk = image.get('minDisk') size = max(size, min_disk) if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-volume"") kwargs = {'display_name': name, 'snapshot_id': snapshot_id, 'imageRef': imageRef, 'volume_type': volume_type, 'size': size} volume = self.volumes_client.create_volume(**kwargs)['volume'] self.addCleanup(self.volumes_client.wait_for_resource_deletion, volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.volumes_client.delete_volume, volume['id']) # NOTE(e0ne): Cinder API v2 uses name instead of display_name if 'display_name' in volume: self.assertEqual(name, volume['display_name']) else: self.assertEqual(name, volume['name']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume = self.volumes_client.show_volume(volume['id'])['volume'] return volume def create_volume_type(self, client=None, name=None, backend_name=None): if not client: client = self.admin_volume_types_client if not name: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') randomized_name = data_utils.rand_name('scenario-type-' + name) LOG.debug(""Creating a volume type: %s on backend %s"", randomized_name, backend_name) extra_specs = {} if backend_name: extra_specs = {""volume_backend_name"": backend_name} body = client.create_volume_type(name=randomized_name, extra_specs=extra_specs) volume_type = body['volume_type'] self.assertIn('id', volume_type) self.addCleanup(client.delete_volume_type, volume_type['id']) return volume_type def _create_loginable_secgroup_rule(self, secgroup_id=None): _client = self.compute_security_groups_client _client_rules = self.compute_security_group_rules_client if secgroup_id is None: sgs = _client.list_security_groups()['security_groups'] for sg in sgs: if sg['name'] == 'default': secgroup_id = sg['id'] # These rules are intended to permit inbound ssh and icmp # traffic from all sources, so no group_id is provided. # Setting a group_id would only permit traffic from ports # belonging to the same security group. rulesets = [ { # ssh 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'cidr': '0.0.0.0/0', }, { # ping 'ip_protocol': 'icmp', 'from_port': -1, 'to_port': -1, 'cidr': '0.0.0.0/0', } ] rules = list() for ruleset in rulesets: sg_rule = _client_rules.create_security_group_rule( parent_group_id=secgroup_id, **ruleset)['security_group_rule'] rules.append(sg_rule) return rules def _create_security_group(self): # Create security group sg_name = data_utils.rand_name(self.__class__.__name__) sg_desc = sg_name + "" description"" secgroup = self.compute_security_groups_client.create_security_group( name=sg_name, description=sg_desc)['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.compute_security_groups_client.delete_security_group, secgroup['id']) # Add rules to the security group self._create_loginable_secgroup_rule(secgroup['id']) return secgroup def _image_create(self, name, fmt, path, disk_format=None, properties=None): if properties is None: properties = {} name = data_utils.rand_name('%s-' % name) params = { 'name': name, 'container_format': fmt, 'disk_format': disk_format or fmt, } if CONF.image_feature_enabled.api_v1: params['is_public'] = 'False' params['properties'] = properties params = {'headers': common_image.image_meta_to_headers(**params)} else: params['visibility'] = 'private' # Additional properties are flattened out in the v2 API. params.update(properties) body = self.image_client.create_image(**params) image = body['image'] if 'image' in body else body self.addCleanup(self.image_client.delete_image, image['id']) self.assertEqual(""queued"", image['status']) with open(path, 'rb') as image_file: if CONF.image_feature_enabled.api_v1: self.image_client.update_image(image['id'], data=image_file) else: self.image_client.store_image_file(image['id'], image_file) return image['id'] def glance_image_create(self): img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.img_file aki_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.aki_img_file ari_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ari_img_file ami_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ami_img_file img_container_format = CONF.scenario.img_container_format img_disk_format = CONF.scenario.img_disk_format img_properties = CONF.scenario.img_properties LOG.debug(""paths: img: %s, container_format: %s, disk_format: %s, "" ""properties: %s, ami: %s, ari: %s, aki: %s"", img_path, img_container_format, img_disk_format, img_properties, ami_img_path, ari_img_path, aki_img_path) try: image = self._image_create('scenario-img', img_container_format, img_path, disk_format=img_disk_format, properties=img_properties) except IOError: LOG.debug(""A qcow2 image was not found. Try to get a uec image."") kernel = self._image_create('scenario-aki', 'aki', aki_img_path) ramdisk = self._image_create('scenario-ari', 'ari', ari_img_path) properties = {'kernel_id': kernel, 'ramdisk_id': ramdisk} image = self._image_create('scenario-ami', 'ami', path=ami_img_path, properties=properties) LOG.debug(""image:%s"", image) return image def create_server_snapshot(self, server, name=None): # Glance client _image_client = self.image_client # Compute client _images_client = self.compute_images_client if name is None: name = data_utils.rand_name(self.__class__.__name__ + 'snapshot') LOG.debug(""Creating a snapshot image for server: %s"", server['name']) image = _images_client.create_image(server['id'], name=name) image_id = image.response['location'].split('images/')[1] waiters.wait_for_image_status(_image_client, image_id, 'active') self.addCleanup(_image_client.wait_for_resource_deletion, image_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, _image_client.delete_image, image_id) if CONF.image_feature_enabled.api_v1: # In glance v1 the additional properties are stored in the headers. resp = _image_client.check_image(image_id) snapshot_image = common_image.get_image_meta_from_headers(resp) image_props = snapshot_image.get('properties', {}) else: # In glance v2 the additional properties are flattened. snapshot_image = _image_client.show_image(image_id) image_props = snapshot_image bdm = image_props.get('block_device_mapping') if bdm: bdm = jsonutils.loads(bdm) if bdm and 'snapshot_id' in bdm[0]: snapshot_id = bdm[0]['snapshot_id'] self.addCleanup( self.snapshots_client.wait_for_resource_deletion, snapshot_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.snapshots_client.delete_snapshot, snapshot_id) waiters.wait_for_volume_resource_status(self.snapshots_client, snapshot_id, 'available') image_name = snapshot_image['name'] self.assertEqual(name, image_name) LOG.debug(""Created snapshot image %s for server %s"", image_name, server['name']) return snapshot_image def nova_volume_attach(self, server, volume_to_attach): volume = self.servers_client.attach_volume( server['id'], volumeId=volume_to_attach['id'], device='/dev/%s' % CONF.compute.volume_device_name)['volumeAttachment'] self.assertEqual(volume_to_attach['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'in-use') # Return the updated volume after the attachment return self.volumes_client.show_volume(volume['id'])['volume'] def nova_volume_detach(self, server, volume): self.servers_client.detach_volume(server['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') volume = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('available', volume['status']) def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): if image is None: image = CONF.compute.image_ref rebuild_kwargs = rebuild_kwargs or {} LOG.debug(""Rebuilding server (id: %s, image: %s, preserve eph: %s)"", server_id, image, preserve_ephemeral) self.servers_client.rebuild_server( server_id=server_id, image_ref=image, preserve_ephemeral=preserve_ephemeral, **rebuild_kwargs) if wait: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') def create_floating_ip(self, thing, pool_name=None): """"""Create a floating IP and associates to a server on Nova"""""" if not pool_name: pool_name = CONF.network.floating_network_name floating_ip = (self.compute_floating_ips_client. create_floating_ip(pool=pool_name)['floating_ip']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.compute_floating_ips_client.delete_floating_ip, floating_ip['id']) self.compute_floating_ips_client.associate_floating_ip_to_server( floating_ip['ip'], thing['id']) return floating_ip def create_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.make_fs(dev_name) ssh_client.mount(dev_name, mount_path) cmd_timestamp = 'sudo sh -c ""date > %s/timestamp; sync""' % mount_path ssh_client.exec_command(cmd_timestamp) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.mount(dev_name, mount_path) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_server_ip(self, server): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. """""" if CONF.validation.connect_method == 'floating': # The tests calling this method don't have a floating IP # and can't make use of the validation resources. So the # method is creating the floating IP there. return self.create_floating_ip(server)['ip'] elif CONF.validation.connect_method == 'fixed': # Determine the network name to look for based on config or creds # provider network resources. if CONF.validation.network_for_ssh: addresses = server['addresses'][ CONF.validation.network_for_ssh] else: creds_provider = self._get_credentials_provider() net_creds = creds_provider.get_primary_creds() network = getattr(net_creds, 'network', None) addresses = (server['addresses'][network['name']] if network else []) for address in addresses: if (address['version'] == CONF.validation.ip_version_for_ssh and address['OS-EXT-IPS:type'] == 'fixed'): return address['addr'] raise exceptions.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_admin.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_admin.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_admin.volume_types_client cls.admin_encryption_types_client =\ cls.os_admin.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data)",0,483
openstack%2Fneutron-fwaas~master~I816aab6a50c63f58dc88cfeaef7d3d5934c3d915,openstack/neutron-fwaas,master,I816aab6a50c63f58dc88cfeaef7d3d5934c3d915,[DNR] very first draft of l7 filtering extension,ABANDONED,2018-08-15 01:46:04.000000000,2019-12-04 08:55:59.000000000,,"[{'_account_id': 11975}, {'_account_id': 15471}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-15 01:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9963a993fda982761045cb584d54916a0d74ba72', 'message': '[DNR] very first draft of l7 filtering extension\n\nChange-Id: I816aab6a50c63f58dc88cfeaef7d3d5934c3d915\n'}, {'number': 2, 'created': '2018-08-15 01:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ee470fa580d00d44ec822d98beb8bfb336cccd05', 'message': '[DNR] very first draft of l7 filtering extension\n\nChange-Id: I816aab6a50c63f58dc88cfeaef7d3d5934c3d915\n'}, {'number': 3, 'created': '2018-08-15 15:37:01.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/extensions/l7.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/cdcf73fcd6fffcda1d3daad5d3c966414db23496', 'message': '[DNR] very first draft of l7 filtering extension\n\nChange-Id: I816aab6a50c63f58dc88cfeaef7d3d5934c3d915\n'}]",0,591881,cdcf73fcd6fffcda1d3daad5d3c966414db23496,7,3,3,15471,,,0,"[DNR] very first draft of l7 filtering extension

Change-Id: I816aab6a50c63f58dc88cfeaef7d3d5934c3d915
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/81/591881/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/l7.py'],1,9963a993fda982761045cb584d54916a0d74ba72,l7-filtering,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import extensions from neutron_lib.api.definitions import constants as api_const API_PREFIX = '/fwaas' FIREWALL_L7_ALIAS = ""firewall-l7"" SUPPORTED_PROTOCOLS = ['HTTP'] L7_ATTR_TYPES = ['URL', 'HEADER', 'COOKIE', 'BODY'] COMPARE_TYPES = ['CONTAIN', 'STARS_WITH', 'ENDS_WITH', 'REGEX', 'EQUAL_TO'] L7_ACTIONS = ['ALLOW', 'DROP'] SUB_RESOURCE_ATTRIBUTE_MAP = { 'l7_attributes': { 'parent': { 'collection_name': api_const.FIREWALL_RULES, 'member_name': api_const.FIREWALL_RULES}, 'parameters': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': api_const.NAME_FIELD_SIZE}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'default': '' }, 'type': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True, 'validate': {'type:values': L7_ATTR_TYPES} }, 'compare_type': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:values': COMPARE_TYPES}, }, 'value': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:string': None} }, 'action': { 'allow_post': True, 'allow_put': True, 'is_filter': True, 'is_sort_key': True, 'is_visible': True, 'validate': {'type:values': L7_ACTIONS}} } } } EXTENDED_ATTRIBUTES_2_0 = { api_const.FIREWALL_RULES: { 'l7_protocol': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True, 'validate': {'type:values': SUPPORTED_PROTOCOLS} }, 'l7_attributes': { 'allow_post': True, 'allow_put': False, 'is_filter': True, 'is_visible': True } } } class Firewall_l7(extensions.ExtensionDescriptor): """"""Extension class supporting L7 filtering."""""" @classmethod def get_name(cls): return ""Firewall L7 extension"" @classmethod def get_alias(cls): return 'firewall-l7' @classmethod def get_description(cls): return ""The firewall L7 filtering extension"" @classmethod def get_updated(cls): return ""2017-07-20T00:00:00-00:00"" def get_required_extensions(self): return [""firewall-v2""] def get_extended_resources(self, version): if version == ""2.0"": return EXTENDED_ATTRIBUTES_2_0 else: return {} ",,104,0
openstack%2Fnetworking-sfc~master~Ia5de8b6d0ad4c55fff9692b59b30baf3e2b83d4a,openstack/networking-sfc,master,Ia5de8b6d0ad4c55fff9692b59b30baf3e2b83d4a,Enable MySQL Cluster Support for neutron networking_sfc,ABANDONED,2018-04-09 16:54:05.000000000,2019-12-04 08:55:54.000000000,,"[{'_account_id': 11313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-09 16:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/707d09c0d7cbcb15eaa6f667509d61d877b0be38', 'message': 'Enable MySQL Cluster Support for neutron networking_sfc\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ia5de8b6d0ad4c55fff9692b59b30baf3e2b83d4a\nImplements: blueprint mysql-cluster-support\n'}, {'number': 2, 'created': '2018-08-23 13:57:40.000000000', 'files': ['networking_sfc/db/migration/alembic_migrations/env.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e09234d65e6a0fd9b6ad2345a3b85196f568476b', 'message': 'Enable MySQL Cluster Support for neutron networking_sfc\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110.This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend.\n\nDepends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Ia5de8b6d0ad4c55fff9692b59b30baf3e2b83d4a\nImplements: blueprint mysql-cluster-support\n'}]",0,559792,e09234d65e6a0fd9b6ad2345a3b85196f568476b,5,4,2,23479,,,0,"Enable MySQL Cluster Support for neutron networking_sfc

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110.This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend.

Depends-On: I597d6ab50fe117e725f1d8de9b359ac9fbb79eb3
Depends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf
Change-Id: Ia5de8b6d0ad4c55fff9692b59b30baf3e2b83d4a
Implements: blueprint mysql-cluster-support
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/92/559792/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/db/migration/alembic_migrations/env.py'],1,707d09c0d7cbcb15eaa6f667509d61d877b0be38,bug/1564110," if neutron_config.database.mysql_enable_ndb: mysql_engine = 'NDBCLUSTER' else: mysql_engine = neutron_config.command.mysql_engine with DBConnection(neutron_config.database.connection, neutron_config.database.mysql_enable_ndb, connection) as conn:"," mysql_engine = neutron_config.command.mysql_engine with DBConnection(neutron_config.database.connection, connection) as conn:",7,2
openstack%2Fnetworking-bgpvpn~master~I2038a374d97dadb5d53677e65616903b6b62a707,openstack/networking-bgpvpn,master,I2038a374d97dadb5d53677e65616903b6b62a707,use API_PREFIX from BGPVPN API definition,ABANDONED,2018-05-16 12:39:45.000000000,2019-12-04 08:55:50.000000000,,"[{'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-16 12:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3221a596ca8d2fd74c4658f4cd007964737ecdf4', 'message': 'use API_PREFIX from BGPVPN API definition\n\nIt is better to use this cleanly defined\nAPI_PREFIX rather than a hardcoded string or\n""/"" + api_def.ALIAS.\n\nChange-Id: I2038a374d97dadb5d53677e65616903b6b62a707\n'}, {'number': 2, 'created': '2018-06-04 07:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5597120fbb0afc156decc9e711f22c5c7cd88f26', 'message': 'use API_PREFIX from BGPVPN API definition\n\nIt is better to use this cleanly defined\nAPI_PREFIX rather than a hardcoded string or\n""/"" + api_def.ALIAS.\n\nChange-Id: I2038a374d97dadb5d53677e65616903b6b62a707\n'}, {'number': 3, 'created': '2018-07-04 20:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/423a3b700db42887bfc1c7f29c47ce0e4326c6d8', 'message': 'use API_PREFIX from BGPVPN API definition\n\nIt is better to use this cleanly defined\nAPI_PREFIX rather than a hardcoded string or\n""/"" + api_def.ALIAS.\n\nChange-Id: I2038a374d97dadb5d53677e65616903b6b62a707\n'}, {'number': 4, 'created': '2018-07-04 20:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1760596aca2a6daa0dc288ceb9c626ad22a51e9f', 'message': 'use API_PREFIX from BGPVPN API definition\n\nIt is better to use this cleanly defined\nAPI_PREFIX rather than a hardcoded string or\n""/"" + api_def.ALIAS.\n\nChange-Id: I2038a374d97dadb5d53677e65616903b6b62a707\n'}, {'number': 5, 'created': '2018-08-07 07:39:20.000000000', 'files': ['networking_bgpvpn/tests/unit/extensions/test_bgpvpn.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_routes_control.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'networking_bgpvpn/neutron/extensions/bgpvpn_routes_control.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3c6ce7ed31f63f54f751c13cf037793300941638', 'message': 'use API_PREFIX from BGPVPN API definition\n\nIt is better to use this cleanly defined\nAPI_PREFIX rather than a hardcoded string or\n""/"" + api_def.ALIAS.\n\nChange-Id: I2038a374d97dadb5d53677e65616903b6b62a707\n'}]",0,568830,3c6ce7ed31f63f54f751c13cf037793300941638,12,3,5,12021,,,0,"use API_PREFIX from BGPVPN API definition

It is better to use this cleanly defined
API_PREFIX rather than a hardcoded string or
""/"" + api_def.ALIAS.

Change-Id: I2038a374d97dadb5d53677e65616903b6b62a707
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/30/568830/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn/tests/unit/extensions/test_bgpvpn.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_routes_control.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'networking_bgpvpn/neutron/extensions/bgpvpn_routes_control.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py']",5,3221a596ca8d2fd74c4658f4cd007964737ecdf4,bgpvpn_api_prefix," path_prefix=bgpvpn_api_def.API_PREFIX, path_prefix = bgpvpn_api_def.API_PREFIX"," path_prefix=bgpvpn_api_def.ALIAS, path_prefix = ""/"" + bgpvpn_api_def.ALIAS",21,16
openstack%2Fnetworking-sfc~master~I4958fb7b47050a76618183ab4f938622d95c8a0c,openstack/networking-sfc,master,I4958fb7b47050a76618183ab4f938622d95c8a0c,Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib,ABANDONED,2018-03-16 15:10:46.000000000,2019-12-04 08:55:45.000000000,,"[{'_account_id': 8871}, {'_account_id': 11313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 15:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e12a6de485fd311cc5a6731bcee7e98be835147e', 'message': 'Use flow classifier API definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n'}, {'number': 2, 'created': '2018-03-20 17:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/82ca3b8f7e84934a36271b3ecd22055fcda9c7a7', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 3, 'created': '2018-03-21 08:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/fee35c24e836cacf7926c71c36f504787adacdca', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 4, 'created': '2018-03-21 11:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1f8b918f4a234d0e4c3f434ff15df55112f2b197', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 5, 'created': '2018-03-22 21:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5b053093c53d64ca4cc1cf8e245334b6d7c4fdde', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 6, 'created': '2018-03-24 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e5369e08223489f901f699b7466a726558cd3186', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 7, 'created': '2018-03-27 16:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8d14c4c36484f281a5c56c98d4a7ffd38a1c106b', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 8, 'created': '2018-03-27 19:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/300172196ced56bb4f1c766f9ff1daa96815fa0f', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 9, 'created': '2018-03-29 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5bd79d22c17ff25fee3a275f62d50a6f88e9f6ac', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 10, 'created': '2018-03-29 11:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/69f0db3496168cdbb6b0d9f1f43f495c14c4a3a6', 'message': ""DNM/WIP: Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 11, 'created': '2018-03-29 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/673ed1937643abaf8e18d3c7f7dbeb6f53d0cc95', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 12, 'created': '2018-04-03 13:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9bc138fbdff244d5b1c7daeeab453e474b323ea5', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 13, 'created': '2018-04-03 13:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/2a84416d8060d8795790dfbc243dae818ca55347', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 14, 'created': '2018-04-09 12:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/54fcd34f33b087caed168d942e485f7b8cfe3517', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 15, 'created': '2018-04-09 15:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/16dfa779dcf52ad27d2fbec8ec8fa09469ed5fa4', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 16, 'created': '2018-04-09 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6663abd4f0ae7e5e5302520abbebd3cb36219315', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 17, 'created': '2018-04-10 13:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d67298af529f0bd07a3fc8b5455fb9e834a3d197', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\n*************************************************************\n* This change is ready for reviews but is stacked on top of *\n* I2ff5123e50e29804b8bf454be4b3a08a1f37dd92 to draw the     *\n* neutron-lib Depends-On. It will need to be rebased, with  *\n* this message removed, once a neutron-lib release is made  *\n* that includes Id5aea04553b78dd17fca85de88cf076b42d24140   *\n*************************************************************\n\nDepends-On: Id5aea04553b78dd17fca85de88cf076b42d24140\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 18, 'created': '2018-06-04 07:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8ba4b411237ff9a3bc146b07c52c15f9abf67cd0', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 19, 'created': '2018-08-01 20:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d2819dc5edcec563eb4f68dbf8eba360b2fc97ba', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}, {'number': 20, 'created': '2018-09-07 11:13:58.000000000', 'files': ['networking_sfc/services/sfc/plugin.py', 'networking_sfc/tests/unit/db/test_flowclassifier_db.py', 'networking_sfc/extensions/sfc.py', 'networking_sfc/tests/unit/services/flowclassifier/drivers/ovs/test_driver.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py', 'networking_sfc/extensions/servicegraph.py', 'networking_sfc/tests/unit/extensions/test_tap.py', 'networking_sfc/services/flowclassifier/plugin.py', 'networking_sfc/extensions/flowclassifier.py', 'networking_sfc/tests/unit/extensions/test_servicegraph.py', 'networking_sfc/db/sfc_db.py', 'networking_sfc/tests/unit/extensions/test_sfc.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/tests/base.py', 'networking_sfc/tests/unit/db/test_sfc_db.py', 'networking_sfc/tests/unit/extensions/test_flowclassifier.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ffb3322528073f6fbc6fd3c1bc749c084aa768e9', 'message': ""Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib\n\nUse the API definition from neutron-lib for 'flow_classifier'\nand 'sfc' API extensions.\n\nChange-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c\n""}]",0,553819,ffb3322528073f6fbc6fd3c1bc749c084aa768e9,57,6,20,12021,,,0,"Use 'flow_classifier' and 'sfc' API ext definition from neutron_lib

Use the API definition from neutron-lib for 'flow_classifier'
and 'sfc' API extensions.

Change-Id: I4958fb7b47050a76618183ab4f938622d95c8a0c
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/19/553819/17 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/extensions/flowclassifier.py'],1,e12a6de485fd311cc5a6731bcee7e98be835147e,sfc_fc_api_ext_from_neutron_lib,"from neutron_lib.api.definitions import flowclassifier as fc_api neutron_exc.InvalidInputclass Flowclassifier(extensions.APIExtensionDescriptor): api_definition = fc_api {}, fc_api.RESOURCE_ATTRIBUTE_MAP) fc_api.RESOURCE_ATTRIBUTE_MAP, fc_api.ALIAS, @classmethod def get_plugin_interface(cls): return FlowClassifierPluginBase return fc_api.LABEL return fc_api.LABEL","from neutron_lib.api import attributes as attr from neutron_lib.api import convertersfrom neutron_lib import constants as const from neutron_lib.db import constants as db_constfrom networking_sfc._i18n import _FLOW_CLASSIFIER_EXT = ""flow_classifier"" FLOW_CLASSIFIER_PREFIX = ""/sfc"" fc_supported_protocols = [const.PROTO_NAME_TCP, const.PROTO_NAME_UDP, const.PROTO_NAME_ICMP] fc_supported_ethertypes = ['IPv4', 'IPv6'] SUPPORTED_L7_PARAMETERS = {} _l7_param_attrs = attr.AttributeInfo(SUPPORTED_L7_PARAMETERS)class FlowClassifierInvalidPortValue(neutron_exc.InvalidInput): message = _(""Flow Classifier has invalid port value %(port)s."") class FlowClassifierInvalidProtocol(neutron_exc.InvalidInput): message = _(""Flow Classifier does not support protocol %(protocol)s. "" ""Supported protocol values are %(values)s."") class FlowClassifierInvalidEthertype(neutron_exc.InvalidInput): message = _(""Flow Classifier does not support ethertype %(ethertype)s. "" ""Supported ethertype values are %(values)s."") neutron_exc.InvalidInputclass FlowClassifierInvalidL7Parameter(neutron_exc.InvalidInput): message = _( ""Invalid Flow Classifier parameters: %%(error_message)s. "" ""Supported flow classifier parameters are %(supported_parameters)s."" ) % {'supported_parameters': SUPPORTED_L7_PARAMETERS} def normalize_protocol(value): if value is None: return None if isinstance(value, six.string_types): if value.lower() in fc_supported_protocols: return value.lower() raise FlowClassifierInvalidProtocol( protocol=value, values=fc_supported_protocols) def normalize_ethertype(value): if value is None: return 'IPv4' if isinstance(value, six.string_types): for ether_type in fc_supported_ethertypes: if value.lower() == ether_type.lower(): return ether_type raise FlowClassifierInvalidEthertype( ethertype=value, values=fc_supported_ethertypes) def normalize_string(value): if value is None: return '' return value def normalize_port_value(port): if port is None: return None try: val = int(port) except (ValueError, TypeError): raise FlowClassifierInvalidPortValue(port=port) if 0 <= val <= 65535: return val else: raise FlowClassifierInvalidPortValue(port=port) def normalize_l7parameters(parameters): parameters = converters.convert_none_to_empty_dict(parameters) for key in parameters: if key not in SUPPORTED_L7_PARAMETERS: raise FlowClassifierInvalidL7Parameter( error_message='Unknown key %s.' % key) try: _l7_param_attrs.fill_post_defaults(parameters) attr.populate_project_info(SUPPORTED_L7_PARAMETERS) _l7_param_attrs.convert_values(parameters) except ValueError as error: raise FlowClassifierInvalidL7Parameter(error_message=str(error)) return parameters # Attribute Map RESOURCE_ATTRIBUTE_MAP = { 'flow_classifiers': { 'id': { 'allow_post': False, 'allow_put': False, 'is_visible': True, 'validate': {'type:uuid': None}, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': db_const.NAME_FIELD_SIZE}, 'convert_to': normalize_string}, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': db_const.DESCRIPTION_FIELD_SIZE}, 'convert_to': normalize_string}, 'tenant_id': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True}, 'ethertype': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_ethertype}, 'protocol': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_protocol}, 'source_port_range_min': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_port_value}, 'source_port_range_max': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_port_value}, 'destination_port_range_min': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_port_value}, 'destination_port_range_max': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'convert_to': normalize_port_value}, 'source_ip_prefix': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': {'type:subnet_or_none': None}}, 'destination_ip_prefix': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': {'type:subnet_or_none': None}}, 'logical_source_port': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': {'type:uuid_or_none': None}}, 'logical_destination_port': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': {'type:uuid_or_none': None}}, 'l7_parameters': { 'allow_post': True, 'allow_put': False, 'is_visible': True, 'default': None, 'validate': {'type:dict': None}, 'convert_to': normalize_l7parameters}, }, } class Flowclassifier(extensions.ExtensionDescriptor): @classmethod def get_name(cls): return ""Flow Classifier"" @classmethod def get_alias(cls): return FLOW_CLASSIFIER_EXT @classmethod def get_description(cls): return ""Flow Classifier Extension."" @classmethod def get_plugin_interface(cls): return FlowClassifierPluginBase @classmethod def get_updated(cls): return ""2015-10-05T10:00:00-00:00"" def update_attributes_map(self, attributes): super(Flowclassifier, self).update_attributes_map( attributes, extension_attrs_map=RESOURCE_ATTRIBUTE_MAP) {}, RESOURCE_ATTRIBUTE_MAP) RESOURCE_ATTRIBUTE_MAP, FLOW_CLASSIFIER_EXT, def get_extended_resources(self, version): if version == ""2.0"": return RESOURCE_ATTRIBUTE_MAP return {} return FLOW_CLASSIFIER_EXT return FLOW_CLASSIFIER_EXT",12,195
openstack%2Fneutron-fwaas~master~I63cfddbb1fdadb41451088d640a4d2363dc420b0,openstack/neutron-fwaas,master,I63cfddbb1fdadb41451088d640a4d2363dc420b0,[WIP] OVS with remote FWG,ABANDONED,2018-04-27 21:11:18.000000000,2019-12-04 08:55:40.000000000,,"[{'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 28582}]","[{'number': 1, 'created': '2018-04-27 21:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8cd4edb9607c4a1a911daf3269b5a148806df393', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 2, 'created': '2018-04-27 21:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6a4ceea37a3afd72cd9c82a4fcd26f1039bba28a', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 3, 'created': '2018-05-02 22:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/639e054a822fd7e0c9aaf0d565aa6922524be297', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 4, 'created': '2018-05-02 23:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bb6b10d10fdf246b8218bf3ef4a83df182805c08', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 5, 'created': '2018-05-25 20:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/74aeac341182e70e90831e1f37041fa4683d5392', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 6, 'created': '2018-05-29 17:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/95a9d9fbeec610ab8191cce7e9ec33fd286b5aaa', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 7, 'created': '2018-06-05 21:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8f98c721129c7378e6b55c39bdd78cab624ffdf5', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 8, 'created': '2018-06-29 20:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e2cd632d4c077f96f41263e4a1f8cdb03d8b6d18', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 9, 'created': '2018-07-03 16:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fd126b34821e8617cb2439a0a5a88bdb1bef10c4', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 10, 'created': '2018-07-03 19:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/af289d5c7d5f6f49356d4be69a4d93b509400930', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}, {'number': 11, 'created': '2018-09-13 21:12:22.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/01d4518e9cc8a27bb6615539d272869006d44d7e', 'message': '[WIP] OVS with remote FWG\n\nChange-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0\n'}]",6,564888,01d4518e9cc8a27bb6615539d272869006d44d7e,25,5,11,10850,,,0,"[WIP] OVS with remote FWG

Change-Id: I63cfddbb1fdadb41451088d640a4d2363dc420b0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/88/564888/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/drivers/linux/l2/openvswitch_firewall/firewall.py'],1,8cd4edb9607c4a1a911daf3269b5a148806df393,remote_fwg_driver,"import collections self.remote_ingress_rules = [] self.remote_egress_rules = []class ConjIdMap(object): """"""Handle conjunction ID allocations and deallocations."""""" def __new__(cls): if not hasattr(cls, '_instance'): cls._instance = super(ConjIdMap, cls).__new__(cls) return cls._instance def __init__(self): self.id_map = collections.defaultdict(self._conj_id_factory) self.id_free = collections.deque() self.max_id = 0 def _conj_id_factory(self): # If there is any freed ID, use one. if self.id_free: return self.id_free.popleft() # Allocate new one. It must be divisible by 8. (See the next function.) self.max_id += 8 return self.max_id def get_conj_id(self, sg_id, remote_sg_id, direction, ethertype): """"""Return a conjunction ID specified by the arguments. Allocate one if necessary. The returned ID is divisible by 8, as there are 4 priority levels (see rules.flow_priority_offset) and 2 conjunction IDs are needed per priority. """""" if direction not in [lib_const.EGRESS_DIRECTION, lib_const.INGRESS_DIRECTION]: raise ValueError(""Invalid direction '%s'"" % direction) if ethertype not in [lib_const.IPv4, lib_const.IPv6]: raise ValueError(""Invalid ethertype '%s'"" % ethertype) return self.id_map[(sg_id, remote_sg_id, direction, ethertype)] def delete_sg(self, sg_id): """"""Free all conj_ids associated with the sg_id and return a list of (remote_sg_id, conj_id), which are no longer in use. """""" result = [] for k in list(self.id_map.keys()): if sg_id in k[0:2]: conj_id = self.id_map.pop(k) result.append((k[1], conj_id)) self.id_free.append(conj_id) return result class ConjIPFlowManager(object): """"""Manage conj_id allocation and remote securitygroups derived conjunction flows. Flows managed by this class is of form: nw_[src|dst]=10.2.3.4,reg_net=0xf00 actions=conjunction(123,1/2) These flows are managed per network and are usually per remote_group_id, but flows from different remote_group need to be merged on shared networks, where the complexity arises and this manager is needed. """""" def __init__(self, driver): self.conj_id_map = ConjIdMap() self.driver = driver # The following two are dict of dicts and are indexed like: # self.x[vlan_tag][(direction, ethertype)] self.conj_ids = collections.defaultdict(dict) self.flow_state = collections.defaultdict( lambda: collections.defaultdict(dict)) def _build_addr_conj_id_map(self, ethertype, sg_conj_id_map): """"""Build a map of addr -> list of conj_ids."""""" addr_to_conj = collections.defaultdict(list) for remote_id, conj_id_set in sg_conj_id_map.items(): remote_group = self.driver.sg_port_map.get_sg(remote_id) if not remote_group: LOG.debug('No member for SG %s', remote_id) continue for addr in remote_group.get_ethertype_filtered_addresses( ethertype): addr_to_conj[addr].extend(conj_id_set) return addr_to_conj def _update_flows_for_vlan_subr(self, direction, ethertype, vlan_tag, flow_state, addr_to_conj): """"""Do the actual flow updates for given direction and ethertype."""""" current_ips = set(flow_state.keys()) self.driver.delete_flows_for_ip_addresses( current_ips - set(addr_to_conj.keys()), direction, ethertype, vlan_tag) for addr, conj_ids in addr_to_conj.items(): conj_ids.sort() if flow_state.get(addr) == conj_ids: continue for flow in rules.create_flows_for_ip_address( addr, direction, ethertype, vlan_tag, conj_ids): self.driver._add_flow(**flow) def update_flows_for_vlan(self, vlan_tag): """"""Install action=conjunction(conj_id, 1/2) flows, which depend on IP addresses of remote_group_id. """""" for (direction, ethertype), sg_conj_id_map in ( self.conj_ids[vlan_tag].items()): # TODO(toshii): optimize when remote_groups have # no address overlaps. addr_to_conj = self._build_addr_conj_id_map( ethertype, sg_conj_id_map) self._update_flows_for_vlan_subr(direction, ethertype, vlan_tag, self.flow_state[vlan_tag][ (direction, ethertype)], addr_to_conj) self.flow_state[vlan_tag][(direction, ethertype)] = addr_to_conj def add(self, vlan_tag, sg_id, remote_sg_id, direction, ethertype, priority_offset): """"""Get conj_id specified by the arguments and notify the manager that (remote_sg_id, direction, ethertype, conj_id) flows need to be populated on the vlan_tag network. A caller must call update_flows_for_vlan to have the change in effect. """""" conj_id = self.conj_id_map.get_conj_id( sg_id, remote_sg_id, direction, ethertype) + priority_offset * 2 if (direction, ethertype) not in self.conj_ids[vlan_tag]: self.conj_ids[vlan_tag][(direction, ethertype)] = ( collections.defaultdict(set)) self.conj_ids[vlan_tag][(direction, ethertype)][remote_sg_id].add( conj_id) return conj_id def sg_removed(self, sg_id): """"""Handle SG removal events. Free all conj_ids associated with the sg_id and clean up obsolete entries from the self.conj_ids map. Unlike the add method, it also updates flows. """""" id_list = self.conj_id_map.delete_sg(sg_id) unused_dict = collections.defaultdict(set) for remote_sg_id, conj_id in id_list: unused_dict[remote_sg_id].add(conj_id) for vlan_tag, vlan_conj_id_map in self.conj_ids.items(): update = False for sg_conj_id_map in vlan_conj_id_map.values(): for remote_sg_id, unused in unused_dict.items(): if (remote_sg_id in sg_conj_id_map and sg_conj_id_map[remote_sg_id] & unused): sg_conj_id_map[remote_sg_id] -= unused if not sg_conj_id_map[remote_sg_id]: del sg_conj_id_map[remote_sg_id] update = True if update: self.update_flows_for_vlan(vlan_tag) ",,165,0
openstack%2Fnetworking-midonet~master~I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6,openstack/networking-midonet,master,I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6,Make centos-7 job multinode,ABANDONED,2018-07-17 07:43:12.000000000,2019-12-04 08:55:36.000000000,,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-17 07:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e572860fc0bcd8f0e4256a2bf5f5fb9c7a290f01', 'message': 'Make centos-7 job multinode\n\nPartial-Bug: #1739336\nChange-Id: I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6\n'}, {'number': 2, 'created': '2018-07-17 08:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7c0ac09291fa18b696c82370004eaca886385084', 'message': 'Make centos-7 job multinode\n\nPartial-Bug: #1739336\nChange-Id: I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6\n'}, {'number': 3, 'created': '2018-07-20 01:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e542df9187e85a2e3c484d5bf6dd279f3019aea8', 'message': 'Make centos-7 job multinode\n\nPartial-Bug: #1739336\nChange-Id: I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6\n'}, {'number': 4, 'created': '2018-07-27 04:51:35.000000000', 'files': ['.zuul.yaml', 'playbooks/tempest-multinode-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2-centos-7/post.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2de059a1a55644824c36b8b8e4f83a9429e1d76b', 'message': 'Make centos-7 job multinode\n\nPartial-Bug: #1739336\nChange-Id: I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6\n'}]",1,583130,2de059a1a55644824c36b8b8e4f83a9429e1d76b,19,4,4,6854,,,0,"Make centos-7 job multinode

Partial-Bug: #1739336
Change-Id: I3cbc96ee6565ab3daa45aecd5c822f1d98a885a6
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/30/583130/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/tempest-multinode-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2-centos-7/post.yaml']",3,e572860fc0bcd8f0e4256a2bf5f5fb9c7a290f01,bug/1739336,,,7,6
openstack%2Fneutron~stable%2Fpike~I80522d12087495861e832cf1c7a3fe9a7830d386,openstack/neutron,stable/pike,I80522d12087495861e832cf1c7a3fe9a7830d386,DVR: FloatingIP create throws an error if no l3 agent,ABANDONED,2018-06-20 23:43:07.000000000,2019-12-04 08:55:31.000000000,,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-20 23:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33965f87cc08ce4959e81f20509cac7ed59f2a33', 'message': 'DVR: FloatingIP create throws an error if no l3 agent\n\nFloatingIP create throws an error if the L3 agent is not running\non the given host for DVR Routers.\nThis happens when we try to create a DVR Router in the Legacy\nRouter deployed cloud.\nFloatingIP create checks for the agent type based on the host,\nand when agents are not available on the given host, it raises\nan exception.\nThis patch will fixes by handling the exception raised, when the\nagent is not available.\n\nChange-Id: I80522d12087495861e832cf1c7a3fe9a7830d386\nCloses-Bug: #1776566\n(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)\n'}, {'number': 2, 'created': '2018-08-07 18:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4a413d5cde353d63542d9ce91c53772f870c066', 'message': 'DVR: FloatingIP create throws an error if no l3 agent\n\nFloatingIP create throws an error if the L3 agent is not running\non the given host for DVR Routers.\nThis happens when we try to create a DVR Router in the Legacy\nRouter deployed cloud.\nFloatingIP create checks for the agent type based on the host,\nand when agents are not available on the given host, it raises\nan exception.\nThis patch will fixes by handling the exception raised, when the\nagent is not available.\n\nChange-Id: I80522d12087495861e832cf1c7a3fe9a7830d386\nCloses-Bug: #1776566\n(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)\n'}, {'number': 3, 'created': '2018-08-23 19:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16d61a17bba6d9692540a68f2aea9652d58118cb', 'message': 'DVR: FloatingIP create throws an error if no l3 agent\n\nFloatingIP create throws an error if the L3 agent is not running\non the given host for DVR Routers.\nThis happens when we try to create a DVR Router in the Legacy\nRouter deployed cloud.\nFloatingIP create checks for the agent type based on the host,\nand when agents are not available on the given host, it raises\nan exception.\nThis patch will fixes by handling the exception raised, when the\nagent is not available.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n\nChange-Id: I80522d12087495861e832cf1c7a3fe9a7830d386\nCloses-Bug: #1776566\n(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)\n'}, {'number': 4, 'created': '2018-09-07 01:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe4884d345943f6377a186c5c9e9cb3b36f15dcf', 'message': 'DVR: FloatingIP create throws an error if no l3 agent\n\nFloatingIP create throws an error if the L3 agent is not running\non the given host for DVR Routers.\nThis happens when we try to create a DVR Router in the Legacy\nRouter deployed cloud.\nFloatingIP create checks for the agent type based on the host,\nand when agents are not available on the given host, it raises\nan exception.\nThis patch will fixes by handling the exception raised, when the\nagent is not available.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n\nChange-Id: I80522d12087495861e832cf1c7a3fe9a7830d386\nCloses-Bug: #1776566\n(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)\n'}, {'number': 5, 'created': '2018-10-25 22:33:34.000000000', 'files': ['neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa0edf9ee6ba080a80d206ea944b9730e29b9adb', 'message': 'DVR: FloatingIP create throws an error if no l3 agent\n\nFloatingIP create throws an error if the L3 agent is not running\non the given host for DVR Routers.\nThis happens when we try to create a DVR Router in the Legacy\nRouter deployed cloud.\nFloatingIP create checks for the agent type based on the host,\nand when agents are not available on the given host, it raises\nan exception.\nThis patch will fixes by handling the exception raised, when the\nagent is not available.\n\nConflicts:\n    neutron/db/l3_dvr_db.py\n\nChange-Id: I80522d12087495861e832cf1c7a3fe9a7830d386\nCloses-Bug: #1776566\n(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)\n'}]",2,577012,fa0edf9ee6ba080a80d206ea944b9730e29b9adb,31,8,5,7016,,,0,"DVR: FloatingIP create throws an error if no l3 agent

FloatingIP create throws an error if the L3 agent is not running
on the given host for DVR Routers.
This happens when we try to create a DVR Router in the Legacy
Router deployed cloud.
FloatingIP create checks for the agent type based on the host,
and when agents are not available on the given host, it raises
an exception.
This patch will fixes by handling the exception raised, when the
agent is not available.

Conflicts:
    neutron/db/l3_dvr_db.py

Change-Id: I80522d12087495861e832cf1c7a3fe9a7830d386
Closes-Bug: #1776566
(cherry picked from commit 5ceca4d9d1041345ccfeab675c8e8216050f7135)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/577012/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,33965f87cc08ce4959e81f20509cac7ed59f2a33,bug/1776566,"from neutron_lib.exceptions import agent as agent_exc def test_create_floating_ip_with_no_dvr_agents(self): self._test_create_floating_ip_agent_notification( test_agent_mode=None) if test_agent_mode is not None: helpers.register_l3_agent(host='host1', agent_mode=test_agent_mode) if test_agent_mode is None: self.assertRaises( agent_exc.AgentNotFoundByTypeHost, self.l3_plugin.create_fip_agent_gw_port_if_not_exists, self.context, ext_net_id, 'host1') return def test_delete_floating_ip_with_no_agents(self): self._test_delete_floating_ip_agent_notification( test_agent_mode=None) if test_agent_mode is None: with mock.patch.object( self.l3_plugin, 'get_dvr_agent_on_host') as a_mock,\ mock.patch.object(self.l3_plugin, '_l3_rpc_notifier') as l3_notif: a_mock.return_value = None self.l3_plugin.delete_floatingip( self.context, floating_ip['id']) self.assertFalse( l3_notif.routers_updated_on_host.called) return self.l3_plugin, '_l3_rpc_notifier') as l3_notif: if test_agent_mode == ( constants.L3_AGENT_MODE_DVR):"," helpers.register_l3_agent(host='host1', agent_mode=test_agent_mode) self.l3_plugin, '_l3_rpc_notifier') as l3_notif: else:",48,6
openstack%2Fneutron~stable%2Fpike~If828068d8d08ff09dff6c63d53320bc397d32448,openstack/neutron,stable/pike,If828068d8d08ff09dff6c63d53320bc397d32448,Add initialization in StringMatchingFilterObj class,ABANDONED,2018-08-24 13:30:32.000000000,2019-12-04 08:55:19.000000000,,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-24 13:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6a18befdc781842a92c70fa06c20151476ff1d2', 'message': 'Add initialization in StringMatchingFilterObj class\n\nIn order to support LIKE statement filter in OVO objects,\nStringMatchingFilterObj class is introduced. However, this class\ndoes not provide initial attributes of ""starts"", ""contains"" and\n""ends"".\n\nIn real usage, if these attributes are not initialized, we will\nhit failures in method apply_filters() in db/_model_query.py.\n\nThis patch adds the initialization back.\n\nSecondly, a typo of ""obj_utils.StringMatchingContains"" is revised\nin this patch too.\n\nChange-Id: If828068d8d08ff09dff6c63d53320bc397d32448\nCloses-Bug: #1724446\n(cherry picked from commit 28e8265651da2aad1d253f3a47c0e71525dd5e1b)\n'}, {'number': 2, 'created': '2018-09-06 12:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7330e3767c21aa649804b20e7789652b93168d5', 'message': 'Add initialization in StringMatchingFilterObj class\n\nIn order to support LIKE statement filter in OVO objects,\nStringMatchingFilterObj class is introduced. However, this class\ndoes not provide initial attributes of ""starts"", ""contains"" and\n""ends"".\n\nIn real usage, if these attributes are not initialized, we will\nhit failures in method apply_filters() in db/_model_query.py.\n\nThis patch adds the initialization back.\n\nSecondly, a typo of ""obj_utils.StringMatchingContains"" is revised\nin this patch too.\n\nChange-Id: If828068d8d08ff09dff6c63d53320bc397d32448\nCloses-Bug: #1724446\n(cherry picked from commit 28e8265651da2aad1d253f3a47c0e71525dd5e1b)\n'}, {'number': 3, 'created': '2018-09-18 14:08:49.000000000', 'files': ['neutron/tests/unit/objects/db/test_api.py', 'doc/source/contributor/internals/objects_usage.rst', 'neutron/objects/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fbdac6e6a6425efbbe0021cc86ec28052dba041', 'message': 'Add initialization in StringMatchingFilterObj class\n\nIn order to support LIKE statement filter in OVO objects,\nStringMatchingFilterObj class is introduced. However, this class\ndoes not provide initial attributes of ""starts"", ""contains"" and\n""ends"".\n\nIn real usage, if these attributes are not initialized, we will\nhit failures in method apply_filters() in db/_model_query.py.\n\nThis patch adds the initialization back.\n\nSecondly, a typo of ""obj_utils.StringMatchingContains"" is revised\nin this patch too.\n\nChange-Id: If828068d8d08ff09dff6c63d53320bc397d32448\nCloses-Bug: #1724446\n(cherry picked from commit 28e8265651da2aad1d253f3a47c0e71525dd5e1b)\n'}]",2,596307,5fbdac6e6a6425efbbe0021cc86ec28052dba041,18,7,3,13995,,,0,"Add initialization in StringMatchingFilterObj class

In order to support LIKE statement filter in OVO objects,
StringMatchingFilterObj class is introduced. However, this class
does not provide initial attributes of ""starts"", ""contains"" and
""ends"".

In real usage, if these attributes are not initialized, we will
hit failures in method apply_filters() in db/_model_query.py.

This patch adds the initialization back.

Secondly, a typo of ""obj_utils.StringMatchingContains"" is revised
in this patch too.

Change-Id: If828068d8d08ff09dff6c63d53320bc397d32448
Closes-Bug: #1724446
(cherry picked from commit 28e8265651da2aad1d253f3a47c0e71525dd5e1b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/596307/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/db/test_api.py', 'doc/source/contributor/internals/objects_usage.rst', 'neutron/objects/utils.py']",3,c6a18befdc781842a92c70fa06c20151476ff1d2,bug/1724446," return bool(getattr(self, ""contains"", False)) return bool(getattr(self, ""starts"", False)) return bool(getattr(self, ""ends"", False))"," return bool(getattr(self, ""contains"")) return bool(getattr(self, ""starts"")) return bool(getattr(self, ""ends""))",53,5
openstack%2Fos-ken~master~I7b095b5a7450d431b57aaf3c5b379d94d4209dda,openstack/os-ken,master,I7b095b5a7450d431b57aaf3c5b379d94d4209dda,Optimizing the safety of the http link site in ofctl_rest.rst.,ABANDONED,2018-11-13 18:14:21.000000000,2019-12-04 08:55:06.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 18:14:21.000000000', 'files': ['doc/source/parameters.rst'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/74f22f7965792142851001faa38689b583a348e5', 'message': 'Optimizing the safety of the http link site in ofctl_rest.rst.\n\nChange-Id: I7b095b5a7450d431b57aaf3c5b379d94d4209dda\n'}]",2,617766,74f22f7965792142851001faa38689b583a348e5,4,3,1,29423,,,0,"Optimizing the safety of the http link site in ofctl_rest.rst.

Change-Id: I7b095b5a7450d431b57aaf3c5b379d94d4209dda
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/66/617766/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/parameters.rst'],1,74f22f7965792142851001faa38689b583a348e5,,`OpenStack-dev ML <https://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev>`_,`OpenStack-dev ML <http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-dev>`_,1,1
openstack%2Fnetworking-ovn~master~Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c,openstack/networking-ovn,master,Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c,Enable the use of advanced images in tempest tests,ABANDONED,2018-08-09 14:35:34.000000000,2019-12-04 08:55:01.000000000,,"[{'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-09 14:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e7d1f2c82ee1da1d51190cc284a777e9c12c5979', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2018-08-09 16:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b3b661ebf8ee1af560097d230619d58bc9ace550', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nDepends-On: I173879eab09f4e25b9f87c71e8cbcb241a9b65ae\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2018-08-09 22:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b42842c12e3cee42bdbcf1a925ccaf99d5f43b8e', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nDepends-On: I173879eab09f4e25b9f87c71e8cbcb241a9b65ae\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2018-08-10 04:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/307fbb3e3219dcab5d6683c8ca5cd540e77ef4f4', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nDepends-On: I173879eab09f4e25b9f87c71e8cbcb241a9b65ae\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 5, 'created': '2018-08-10 08:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/764ef7449e8158d2f4f486ad6dc48218a50f49b8', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nDepends-On: I173879eab09f4e25b9f87c71e8cbcb241a9b65ae\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 6, 'created': '2018-08-10 09:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7164d881b31ecbc7684aab787286240dad981ae0', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 7, 'created': '2018-08-10 12:26:43.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-master/run.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release/run.yaml', 'networking_ovn/tests/contrib/hooks/ubuntu_image'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d20726612c35461fb8f4aa32d3a0b3e9f8dd9b5f', 'message': ""Enable the use of advanced images in tempest tests\n\nThis patch enables the use of Ubuntu guest as advanced image for\nthose tests requiring it. In particular, we're interested in running\nthe trunk scenario tests with it.\n\nDepends-On: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4\nChange-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",1,590350,d20726612c35461fb8f4aa32d3a0b3e9f8dd9b5f,17,4,7,23804,,,0,"Enable the use of advanced images in tempest tests

This patch enables the use of Ubuntu guest as advanced image for
those tests requiring it. In particular, we're interested in running
the trunk scenario tests with it.

Depends-On: I0450fe2ab08bc103b1848bf9018468c1a8dc94e4
Change-Id: Ia2c5b85beaa021d6bad0dbdef30a09c63ec4343c
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/590350/7 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/contrib/gate_hook.sh', 'networking_ovn/tests/contrib/hooks/ubuntu_image']",2,e7d1f2c82ee1da1d51190cc284a777e9c12c5979,,"DOWNLOAD_DEFAULT_IMAGES=False IMAGE_URLS=""http://cloud-images.ubuntu.com/releases/16.04/release-20180424/ubuntu-16.04-server-cloudimg-amd64-disk1.img,"" DEFAULT_INSTANCE_TYPE=ds512M DEFAULT_INSTANCE_USER=ubuntu BUILD_TIMEOUT=784 [[test-config|$TEMPEST_CONFIG]] [neutron_plugin_options] image_is_advanced=True ",,38,0
openstack%2Fneutron~stable%2Fpike~Id1ac60795bbc793ba0777e6a096177d6c1725ad6,openstack/neutron,stable/pike,Id1ac60795bbc793ba0777e6a096177d6c1725ad6,Support vlan transparent network for ml2 ovs driver,ABANDONED,2018-12-10 03:04:38.000000000,2019-12-04 08:54:56.000000000,,"[{'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27295}, {'_account_id': 29093}]","[{'number': 1, 'created': '2018-12-10 03:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a3ff2f931768a911a84fe1efa6078056ee5e098', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode. In vxlan mode, we also modify the unicast\ntable and learnt table, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 2, 'created': '2018-12-10 05:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6da1f54921e1c42df96d53d9d3e28291560ceeec', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 3, 'created': '2018-12-10 09:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9baf9a3b0ce4c3baa258577579a854484549d26e', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 4, 'created': '2018-12-11 03:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28e45cfe62b689dcab3d72acb9c3e62265835238', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 5, 'created': '2018-12-11 03:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6132b1d02a12909cf646d1450ab11c5b2382e27e', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 6, 'created': '2018-12-11 05:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2769136f6b489238db425eb43312358e20167ed5', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 7, 'created': '2018-12-11 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c8177894b895fd37ba5adf0396d0493479e3489', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}, {'number': 8, 'created': '2018-12-12 09:50:52.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_tun.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/agent/rpc.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/plugins/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_tun.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_tun.py', 'neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2425be4591f6eaac4a8692674ca1e520567f3965', 'message': ""Support vlan transparent network for ml2 ovs driver\n\nNow, ovs was supports QinQ, this patch can support vlan\ntransparent for openvswitch Ml2 driver, when tenant create\nnetwork which has 'vlan transprent' property.\n\nThis patch uses the already existing property 'vlan_transparent'\nof network to indicates that corresponding ovs port needs to be\nconfigure to QinQ mode.\n\nIn vxlan mode, we also modify the unicast table and learnt\ntable, to avoid all vlan tags be stripped.\n\nCloses-bug: #1604222\n\nChange-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6\n""}]",4,623980,2425be4591f6eaac4a8692674ca1e520567f3965,26,8,8,27295,,,0,"Support vlan transparent network for ml2 ovs driver

Now, ovs was supports QinQ, this patch can support vlan
transparent for openvswitch Ml2 driver, when tenant create
network which has 'vlan transprent' property.

This patch uses the already existing property 'vlan_transparent'
of network to indicates that corresponding ovs port needs to be
configure to QinQ mode.

In vxlan mode, we also modify the unicast table and learnt
table, to avoid all vlan tags be stripped.

Closes-bug: #1604222

Change-Id: Id1ac60795bbc793ba0777e6a096177d6c1725ad6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/623980/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/agent/common/ovs_lib.py', 'neutron/plugins/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/agent/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py']",11,2a3ff2f931768a911a84fe1efa6078056ee5e098,bug/1604222," # Values for dot1q tunnel QINQ_TUNNEL_MODE = ""dot1q-tunnel"" # support vlan transparent network type NETWORK_TYPE = [""vxlan"", ""vlan""]",,102,15
openstack%2Fnetworking-ovn~master~If6cac4bdff7d7fa06beb7f68f6015d174320790f,openstack/networking-ovn,master,If6cac4bdff7d7fa06beb7f68f6015d174320790f,DNM: Skydive + OVN test,ABANDONED,2018-12-13 17:15:55.000000000,2019-12-04 08:54:41.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-12-13 17:15:55.000000000', 'files': ['networking_ovn/common/config.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1aa3c00603cbe3a62e6951bc5fc31d20dff92a45', 'message': 'DNM: Skydive + OVN test\n\nDepends-On: I6cd5021076d3dab56dc16b252ccf99d8bcee1f88\nChange-Id: If6cac4bdff7d7fa06beb7f68f6015d174320790f\n'}]",0,625062,1aa3c00603cbe3a62e6951bc5fc31d20dff92a45,7,3,1,23804,,,0,"DNM: Skydive + OVN test

Depends-On: I6cd5021076d3dab56dc16b252ccf99d8bcee1f88
Change-Id: If6cac4bdff7d7fa06beb7f68f6015d174320790f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/625062/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/config.py'],1,1aa3c00603cbe3a62e6951bc5fc31d20dff92a45,," default=True,"," default=False,",1,1
openstack%2Fneutron-fwaas~master~I4f44145c5d4015303ffc90b78b6ffe0660e2fa21,openstack/neutron-fwaas,master,I4f44145c5d4015303ffc90b78b6ffe0660e2fa21,Remove unused import,ABANDONED,2018-06-08 11:58:29.000000000,2019-12-04 08:54:36.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 22348}, {'_account_id': 27346}]","[{'number': 1, 'created': '2018-06-08 11:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/eecce21d056acbbaa61530f92db814978342363a', 'message': 'Remove unused import\n\nRemove unused import in head.py\n\nChange-Id: I4f44145c5d4015303ffc90b78b6ffe0660e2fa21\n'}, {'number': 2, 'created': '2018-07-26 04:09:55.000000000', 'files': ['neutron_fwaas/db/models/head.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e067d3cb3e983138b73e13ea12283ec168d27eee', 'message': 'Remove unused import\n\nRemove unused import in head.py\n\nChange-Id: I4f44145c5d4015303ffc90b78b6ffe0660e2fa21\n'}]",0,573675,e067d3cb3e983138b73e13ea12283ec168d27eee,16,5,2,27346,,,0,"Remove unused import

Remove unused import in head.py

Change-Id: I4f44145c5d4015303ffc90b78b6ffe0660e2fa21
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/75/573675/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/models/head.py'],1,eecce21d056acbbaa61530f92db814978342363a,,,from neutron_fwaas.db.firewall import firewall_db # noqa from neutron_fwaas.db.firewall import firewall_router_insertion_db # noqa from neutron_fwaas.db.firewall.v2 import firewall_db_v2 # noqa ,0,4
openstack%2Fnetworking-bgpvpn~master~I233fda50d2898228a4c76d45680503e8c37b3d8b,openstack/networking-bgpvpn,master,I233fda50d2898228a4c76d45680503e8c37b3d8b,[dashboard] Add a BGPVPNs tab in network details panel,ABANDONED,2018-03-13 08:48:52.000000000,2019-12-04 08:54:32.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21800}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 08:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/40a850dde605520244224e63e0daf9dcf90b322b', 'message': 'Add bgpvpns in detail network panel\n\nThis patch add a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 2, 'created': '2018-03-13 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/953068284f078a9a531c1e1b507ad7fc67c2f3c2', 'message': 'Add bgpvpns in detail network panel\n\nThis patch add a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 3, 'created': '2018-03-15 09:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7659f48854c3e7f440c0b3ba61ba71cf451aab41', 'message': 'Add bgpvpns in detail network panel\n\nThis patch add a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 4, 'created': '2018-03-15 14:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a909e3e2561fd9f3afb76d744817fc8a3533f736', 'message': 'Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 5, 'created': '2018-03-15 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/353c0fe34cecb08976619e3cc8d066472151d8c1', 'message': 'Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 6, 'created': '2018-03-19 13:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/acfb5ee103ae3a7219da4d74095a4d87086545b9', 'message': '[dashboard]Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 7, 'created': '2018-03-19 16:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/10e7590e47451e038f8f32f1bc17c22d3e30652c', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 8, 'created': '2018-04-05 10:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5e5c011c52b697fdb1ff8513207b4e331214578e', 'message': '[dashboard]Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 9, 'created': '2018-04-05 12:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8948baac4c721b034d20041bd8d6b30050274a9e', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 10, 'created': '2018-04-05 16:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/71c7bc01e2456a75bd8648c0196d1803048c7ff4', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 11, 'created': '2018-04-06 15:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ad68e299b4585260f28dc43a7adf37eafb92e4c3', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 12, 'created': '2018-04-30 20:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1884dc520464b100e051fabb709ccf365f95c300', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 13, 'created': '2018-08-24 12:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/dc229ef050631ebde5b3acc062dc27b11e4aa5d3', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}, {'number': 14, 'created': '2018-09-23 19:32:29.000000000', 'files': ['bgpvpn_dashboard/dashboards/project/bgpvpn/tabs.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/forms.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/urls.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/_create_bgpvpn_association.html', 'bgpvpn_dashboard/enabled/_1495_project_bgpvpn_panel.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/views.py', 'bgpvpn_dashboard/enabled/_2360_admin_bgpvpn_panel.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/forms.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/tabs.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/tables.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/templates/bgpvpn/create_bgpvpn_association.html', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/tables.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/views.py', 'bgpvpn_dashboard/dashboards/project/bgpvpn/urls.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d19702dd8f260102a4ae587c8322ef6ee508a2cd', 'message': '[dashboard] Add a BGPVPNs tab in network details panel\n\nThis patch adds a BGPVPN tab in the detail networks panels\n\nChange-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b\n'}]",33,552444,d19702dd8f260102a4ae587c8322ef6ee508a2cd,60,5,14,21800,,,0,"[dashboard] Add a BGPVPNs tab in network details panel

This patch adds a BGPVPN tab in the detail networks panels

Change-Id: I233fda50d2898228a4c76d45680503e8c37b3d8b
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/44/552444/7 && git format-patch -1 --stdout FETCH_HEAD,"['bgpvpn_dashboard/dashboards/project/bgpvpn/tabs.py', 'bgpvpn_dashboard/enabled/_1495_project_bgpvpn_panel.py', 'bgpvpn_dashboard/enabled/_2360_admin_bgpvpn_panel.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/tables.py', 'bgpvpn_dashboard/dashboards/admin/bgpvpn/tabs.py']",5,40a850dde605520244224e63e0daf9dcf90b322b,add_bgpvpn_network_panel,"# Copyright 2017 Orange # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from django.utils.translation import ugettext_lazy as _ from horizon import exceptions from horizon.utils import memoized from openstack_dashboard import api from bgpvpn_dashboard.api import bgpvpn as bgpvpn_api from bgpvpn_dashboard.dashboards.admin.bgpvpn import tables as bgpvpn_tables from bgpvpn_dashboard.dashboards.project.bgpvpn import tabs as bgpvpn_tabs class BgpvpnsTab(bgpvpn_tabs.BgpvpnsTab): table_classes = (bgpvpn_tables.BgpvpnTable,) def _get_tenant_name(self, id): try: return api.keystone.tenant_get(self.request, id).name except Exception: msg = _(""Unable to retrieve information about the "" ""tenant %s"") % id exceptions.handle(self.request, msg) @memoized.memoized_method def get_bgpvpns_data(self): try: network_id = self.tab_group.kwargs['network_id'] bgpvpns = bgpvpn_api.bgpvpns_list(self.request, networks=network_id) for bgpvpn in bgpvpns: bgpvpn.networks = [api.neutron.network_get( self.request, id, expand_subnet=False) for id in bgpvpn.networks] bgpvpn.routers = [api.neutron.router_get(self.request, id) for id in bgpvpn.routers] bgpvpn.tenant_name = self._get_tenant_name(bgpvpn.tenant_id) except Exception: bgpvpns = [] msg = _('Bgpvpn list can not be retrieved.') exceptions.handle(self.request, msg) return bgpvpns ",,117,0
openstack%2Fneutron-vpnaas~master~Id8b408a53b90ac5f4dd445deac885acc61038d2f,openstack/neutron-vpnaas,master,Id8b408a53b90ac5f4dd445deac885acc61038d2f,WIP: Support vpn service Qos,ABANDONED,2018-04-05 03:38:19.000000000,2019-12-04 08:54:28.000000000,,"[{'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15309}, {'_account_id': 15471}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 27488}]","[{'number': 1, 'created': '2018-04-05 03:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/74e8f493b212e6429fda6d5761820f29a28bca55', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}, {'number': 2, 'created': '2018-04-20 02:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/cf1855ddc6eb8574105ad38a1b75263eeef1e99f', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}, {'number': 3, 'created': '2018-04-20 11:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/369d16605579576f757c72988f5519375e8e675e', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}, {'number': 4, 'created': '2018-06-15 03:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5aa460385815772b1b911dec0f7d6702f019378e', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}, {'number': 5, 'created': '2018-10-01 03:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/00740929f9a84e298f8f33248cfcb2c749db1904', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}, {'number': 6, 'created': '2018-10-01 08:19:56.000000000', 'files': ['neutron_vpnaas/services/vpn/common/tc_htb_wrapper.py', 'neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/services/vpn/service_drivers/base_ipsec.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/rocky/expand/79653245zbcc_support_qos_vpnservices.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_vpnaas/services/vpn/common/constants.py', 'etc/neutron/rootwrap.d/vpnaas.filters', 'neutron_vpnaas/db/vpn/vpn_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bd3ae17b7db6999cffc4288785b546da7c785266', 'message': 'WIP: Support vpn service Qos\n\nJust a brief for the vpn qos.\n\nChange-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f\n'}]",3,558986,bd3ae17b7db6999cffc4288785b546da7c785266,21,9,6,15309,,,0,"WIP: Support vpn service Qos

Just a brief for the vpn qos.

Change-Id: Id8b408a53b90ac5f4dd445deac885acc61038d2f
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/86/558986/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/common/tc_htb_wrapper.py', 'neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/db/vpn/vpn_models.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/rocky/expand/79653245zbcc_support_qos_vpnservices.py', 'neutron_vpnaas/services/vpn/service_drivers/base_ipsec.py', 'neutron_vpnaas/extensions/vpnaas.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron_vpnaas/services/vpn/common/constants.py', 'neutron_vpnaas/db/vpn/vpn_db.py']",10,74e8f493b212e6429fda6d5761820f29a28bca55,qos-vpn," if vpnservice.qos_info: res['qos_policy_id'] = vpnservice.qos_info[0].qos_policy_id def _process_qos_create_vpn(self, context, vpns, vpnservice_db): qos_plugin = directory.get_plugin(p_constants.QOS) if not qos_plugin: raise vpnaas.QosNotEnableForVPN() self._check_supported_vpn_qos( context, qos_plugin, vpns['qos_policy_id']) assoc_qos_db = vpn_models.QosVPNServerPolicyBinding( vpn_service_id=vpnservice_db.id, qos_policy_id='qos_policy_id') context.session.add(assoc_qos_db) if vpns['qos_policy_id']: self._process_qos_create_vpn(context, vpns, vpnservice_db) def _check_supported_vpn_qos(self, context, plugin, qos_policy_id): try: qos_policy_details = plugin.get_policy(context, qos_policy_id) except Exception: raise vpnaas.QosPolicyForVPNNotFound(qos_policy_id=qos_policy_id) for rule in qos_policy_details['policy']['rules']: if rule['type'] not in v_constants.VPN_SUPPORTED_QOS_RULE_TYPES: raise vpnaas.NotSuportedQosPolicyRule( type=rule['type'], qos_policy_id=qos_policy_id, supported_types=v_constants.VPN_SUPPORTED_QOS_RULE_TYPES ) # TODO this check could be removed if there are any # requirements towards ingress vpn traffic if rule['direction'] != 'egress': raise vpnaas.NotSupportedQosBwRuleDirection( direction=rule['direction'], qos_policy_id=qos_policy_id) def _process_qos_update_vpn(self, context, vpns, vpns_db): qos_plugin = directory.get_plugin(p_constants.QOS) if not qos_plugin: raise vpnaas.QosNotEnableForVPN() if vpns_db.qos_info[0].qos_policy_id != vpns[ 'qos_policy_id']: self._check_supported_vpn_qos( context, qos_plugin, vpns['qos_policy_id']) assoc_qos_db = self._get_resource( context, vpn_models.QosVPNServerPolicyBinding, vpns_db.id) assoc_qos_db.update( {'vpn_service_id': vpns_db.id, 'qos_policy_id': vpns['qos_policy_id']}) if vpns['qos_policy_id']: self._process_qos_update_vpn(context, vpns, vpns_db)",,854,3
openstack%2Fnetworking-odl~master~I053bb3b1732de49bb881f8726cd7b991bd63399f,openstack/networking-odl,master,I053bb3b1732de49bb881f8726cd7b991bd63399f,Introduce decorators for the SBI revision system,ABANDONED,2018-05-28 10:32:12.000000000,2019-12-04 08:54:23.000000000,,"[{'_account_id': 6773}, {'_account_id': 7921}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-28 10:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/008e10244fb4adef38be10e70188a99b26165eb8', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 2, 'created': '2018-05-28 10:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cd8784b155e6038a1bc15c9a0b655f7b32c6dbf4', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 3, 'created': '2018-05-28 11:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b4a7f6bddd75b20fa1a4e8f1732fdf7b1dd9ef13', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 4, 'created': '2018-05-28 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/01f0579b5e25869f3cf8f3adf31c653aa90a7a4f', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 5, 'created': '2018-05-28 13:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e93384275405a28a3840ed8d9a598454f9ca782e', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 6, 'created': '2018-05-28 15:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e38e6e53355ccc14cd38d6e71ebea8c86bc7f2f7', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 7, 'created': '2018-05-30 12:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8d939dcdd30a46ee976f42dbf891dca881891fb3', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 8, 'created': '2018-06-11 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5bd2b772a893b1e5e4a8ae56eb69e4ee62297f42', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 9, 'created': '2018-06-18 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/49c0c1029b5e560ada85fd88de764deb87adbb40', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 10, 'created': '2018-06-20 11:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/650b863bef6672443cacc8aa8fb7d80452f310c1', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 11, 'created': '2018-06-20 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3da83dc814b61e8a557e3c92f0a66b4d69f91b70', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 12, 'created': '2018-07-08 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a2b6eac114dbb0bf35e6776519016d59b4077137', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 13, 'created': '2018-07-10 08:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2d806291377fbe9c7823499d5530a7ccfe1270b5', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 14, 'created': '2018-07-16 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5eae75f00b765ffc70e16899058e2ceedfce389a', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 15, 'created': '2018-07-16 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/761b1453e51b4de077753025eef4fec55e4c413f', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 16, 'created': '2018-07-16 13:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/80d785af4def12562ed4f1a9dee3487506f18a24', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 17, 'created': '2018-07-19 14:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6141c185cfb0e5fb89b4fe196d25bbc21b4a2452', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 18, 'created': '2018-07-23 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6e96ec0d51b7893e710dd4196d6ee38fa2f05a67', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 19, 'created': '2018-07-25 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/972dad3d24ad0c147a5d83d521655a9fc0bb2390', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 20, 'created': '2018-07-26 07:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b7705a08e51b6de1b8578660a4b1f7d58c2fff8b', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 21, 'created': '2018-07-26 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fff642706f2fdbbf185059d404394bada0f29ba3', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 22, 'created': '2018-07-26 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ae039a309e7c4219229492453c5964824a4a8d72', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 23, 'created': '2018-08-14 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5ba4ffa58d6f949623fd4ce669e3629d2c286465', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 24, 'created': '2018-08-20 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0e1393253701f1cf74db48f73eba08bd8740b6b4', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 25, 'created': '2018-11-05 12:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/be447206a5859fde54a926cdc363e434131bd2fb', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 26, 'created': '2018-11-07 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/38d54a576b0fd54a3a5da21be736d49c9fdb99fe', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}, {'number': 27, 'created': '2019-01-08 11:55:36.000000000', 'files': ['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py', 'networking_odl/db/sbi/exceptions.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f8af6b65774b18b57d5f1117b9d763225fb52abe', 'message': 'Introduce decorators for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f\nImplements: blueprint sbi-database-consistency\n'}]",11,570767,f8af6b65774b18b57d5f1117b9d763225fb52abe,53,6,27,26507,,,0,"Introduce decorators for the SBI revision system

This patch implements the decorators around the API for the SBI revision
system, as defined by the neutron spec [1].

[1]:
https://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency

Change-Id: I053bb3b1732de49bb881f8726cd7b991bd63399f
Implements: blueprint sbi-database-consistency
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/67/570767/26 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py', 'networking_odl/db/sbi/exceptions.py']",3,008e10244fb4adef38be10e70188a99b26165eb8,bp/sbi-database-consistency, class ResourceTypeNotDefined(n_exc.NeutronException): message = _('The resource type was not defined for this call') class ModeNotDefined(n_exc.NeutronException): message = _('The mode of operation was not defined for this call'),,438,90
openstack%2Fnetworking-odl~master~Ie2175ba68362eef65f9e87f9899f305415bc2f65,openstack/networking-odl,master,Ie2175ba68362eef65f9e87f9899f305415bc2f65,Introduce contexts for the SBI revision system,ABANDONED,2018-05-28 11:37:41.000000000,2019-12-04 08:54:19.000000000,,"[{'_account_id': 6773}, {'_account_id': 7921}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-28 11:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a1665c15c0a3f881ea8dca65b1da9e3f5146bafa', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 2, 'created': '2018-05-28 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b192dafc005d1ee173f946905d2d2cc64b98bb71', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 3, 'created': '2018-05-28 13:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c8dfe9d9435a4888f1d95c41bb3a0b700356521a', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 4, 'created': '2018-05-28 15:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6754290b3ae55f8d0eea5e8526b46fb5475fd3eb', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 5, 'created': '2018-05-30 12:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dae64afd77f4d64b795bf0a26005de8f060a0df5', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 6, 'created': '2018-06-11 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2e2a5453eabe9648baee3481ba3bc4895e3e93fe', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 7, 'created': '2018-06-18 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a21d7a38774a134b8a6df187d70b5a430ba5a7aa', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 8, 'created': '2018-06-20 11:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0e9a55c821f79b3753c9a0c79bcc807a8bf40a23', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 9, 'created': '2018-06-20 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/889bfc5bb9072b8c48b19070a30f609a1a5c3462', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 10, 'created': '2018-07-08 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/afb2f755a008f4dfa31c8efd5ce80f45293e5638', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 11, 'created': '2018-07-10 08:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/29b103895d582d93f81cb07054f3fa3ab6d49c78', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 12, 'created': '2018-07-16 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d310038d89efaf2ac2874814519a48cb4c04be36', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 13, 'created': '2018-07-16 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/84fe71ae5960a6730b38a17b8c0c95329bf0b3df', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 14, 'created': '2018-07-16 13:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/77b12a29a8db647fe4052ca05a8ffb31874811b6', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 15, 'created': '2018-07-19 14:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b2eaeab55263432d13dc290e51ace1fb5f58ab2f', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 16, 'created': '2018-07-23 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f749b6c18c1008a0ae635e9f399eacf4a38c02c4', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 17, 'created': '2018-07-25 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/db341240ab95819680536d53e5cd6612667d5ba5', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 18, 'created': '2018-07-26 07:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4eeace589d73165a965a20c7d2301a9e100b312f', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 19, 'created': '2018-07-26 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e97218cdd5a5094ec872318424f79db628157bb9', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 20, 'created': '2018-07-26 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/34a8b38f7c47d0fddd71ceb9f5d3c0ae0d563752', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 21, 'created': '2018-08-14 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/83776808730a90061543e118c3e63d6b59b943b2', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 22, 'created': '2018-08-20 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/25814ec50f631806e7e6033779b3525ef590fd9c', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 23, 'created': '2018-11-05 12:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/05ed13226ba3ffb82de59f15b8aa88ac98ef2185', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 24, 'created': '2018-11-07 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/34ee7279ef52b32a3f369c11ed06222de109d5e5', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}, {'number': 25, 'created': '2019-01-08 11:55:36.000000000', 'files': ['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9549324165ddc5e87bd4031787a4113f0073e0dd', 'message': 'Introduce contexts for the SBI revision system\n\nThis patch implements the decorators around the API for the SBI revision\nsystem, as defined by the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65\nImplements: blueprint sbi-database-consistency\n'}]",0,570773,9549324165ddc5e87bd4031787a4113f0073e0dd,53,6,25,26507,,,0,"Introduce contexts for the SBI revision system

This patch implements the decorators around the API for the SBI revision
system, as defined by the neutron spec [1].

[1]:
https://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency

Change-Id: Ie2175ba68362eef65f9e87f9899f305415bc2f65
Implements: blueprint sbi-database-consistency
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/73/570773/13 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/db/sbi/revision.py', 'networking_odl/tests/unit/db/sbi/test_revision.py']",2,a1665c15c0a3f881ea8dca65b1da9e3f5146bafa,bp/sbi-database-consistency," class TestRevisionAPIContextManager(TestRevisionBase): def assert_context(self, operation, revision_failure, revision_succeed): action = operation(self.resource_type) # We add the revision_number as it will come in the actual context self.resource['revision_number'] = revision_succeed self.db_context.current = self.resource class TestException(Exception): pass def succeed_function(context): with action.using(context): pass def fail_function(context): with action.using(context): raise TestException self.assertRaises(TestException, fail_function, self.db_context) self.assert_revision(self.resource['id'], self.resource_type, revision_failure) succeed_function(self.db_context) self.assert_revision(self.resource['id'], self.resource_type, revision_succeed) def test_context_create_resource(self): self.assert_context(sbi_rev.create_resource, None, -1) def test_context_delete_resource(self): self.context_manager._create_resource(*self.std_kwargs.values()) self.assert_context(sbi_rev.delete_resource, -1, None) def test_context_sync_resource(self): self.context_manager._create_resource(*self.std_kwargs.values()) self.assert_context(sbi_rev.sync_resource, -1, 2) def test_context_call_without_resource_type_raises_exception(self): def tester(context): with sbi_rev.create_resource.using(context): pass self.assertRaises(sbi_rev_exc.ResourceTypeNotDefined, tester, self.db_context) def test_context_call_without_mode_raises_exception(self): def tester(context): # not a correct use but it's for testing sake with sbi_rev._context_manager.using(context): pass self.assertRaises(sbi_rev_exc.ResourceTypeNotDefined, tester, self.db_context) def test_context_uses_default_resolver_when_res_type_undef(self): # we make sure it's empty self.context_manager._resource_resolvers = {} # We add the revision_number as it will come in the actual context self.resource['revision_number'] = 1 self.db_context.current = self.resource create_context = sbi_rev.create_resource(self.resource_type) patcher = mock.patch.object( create_context, '_default_res_resolver', side_effect=create_context._default_res_resolver ) def tester(context): with create_context.using(context): pass mock_res = patcher.start() self.addCleanup(patcher.stop) tester(self.db_context) mock_res.assert_called_once() def _create_fn_with_context__create_resource(self): def tester(context): with sbi_rev.create_resource(self.resource_type).using(context): pass return tester def test_context_uses_proper_resolver_when_res_type_def(self): resolver_mock = mock.MagicMock() self.std_kwargs.pop('context') self.std_kwargs['revision_number'] = 1 resolver_mock.return_value = self.std_kwargs sbi_rev.config_resource_resolver(self.resource_type, resolver_mock) tester = self._create_fn_with_context__create_resource() tester(self.db_context) resolver_mock.assert_called_once() @mock.patch.object(sbi_rev._RevisionContextManager, '_default_res_resolver', side_effect=Exception, autospec=True) def test_context_raises_exception_when_res_cannot_be_resolved(self, _): tester = self._create_fn_with_context__create_resource() self.assertRaises(sbi_rev_exc.ResourceTypeNotDefined, tester, self.db_context)",,113,0
openstack%2Fnetworking-odl~master~I31e236d75c19dcfdc0e82f2ed1468df53306f896,openstack/networking-odl,master,I31e236d75c19dcfdc0e82f2ed1468df53306f896,Add maintenance utility functions for the SBI revision system,ABANDONED,2018-05-30 12:29:30.000000000,2019-12-04 08:54:14.000000000,,"[{'_account_id': 6773}, {'_account_id': 7921}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-05-30 12:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cd7b0fc210db45e82e71253b2dcfe800a4adb22d', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 2, 'created': '2018-06-11 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8ea7957cc751c55769af191ddc8b5a4a3aa3c423', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 3, 'created': '2018-06-18 07:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e2a7eb9028f83996cb77fa930fe055fda5787d3a', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 4, 'created': '2018-06-20 11:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2d12fe4192da4c79e5929affd1257f4a5fa36362', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 5, 'created': '2018-06-20 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5be2cee6c2dbb05f6070ee737be2de22ce50cde0', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 6, 'created': '2018-07-08 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8fa550298ceae1e61f5e76a8eb2ed5b8708e8aec', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 7, 'created': '2018-07-10 08:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/652245cc10b15066131159901a8193dfd5aba704', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 8, 'created': '2018-07-16 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1009454873ab2a9f621af36f7f01e33a246836e5', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 9, 'created': '2018-07-16 10:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e7f210a7df1835175c916b0e194c3e9d53d94b69', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 10, 'created': '2018-07-16 13:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/53ebe96216b3cbd189016d721397e43d1740485a', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 11, 'created': '2018-07-19 14:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a44e436dee6ca84a1b7ff8e8987979f6336c3546', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 12, 'created': '2018-07-23 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7c8149f0d18c8e350def49df3a5b41c6e9f31cb1', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 13, 'created': '2018-07-25 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3a729abe91bb2c3bc67567a0583de8dec2bfb724', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 14, 'created': '2018-07-26 07:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9b65f88c8a8ca8e5cadd5317c4069087539a01d0', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 15, 'created': '2018-07-26 07:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4417ee38d7b89185d71f90a06653e63174489ac8', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 16, 'created': '2018-07-26 07:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/31d856bbdf82579eec41945760e593d0cf323682', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 17, 'created': '2018-08-14 08:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/51e9bb5fb5014fcbbfc02a343bde81c493f9bfa1', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 18, 'created': '2018-08-20 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e5191b4631475b209f2b9536ba1882e3cd909725', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 19, 'created': '2018-11-05 12:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a2d580693528834723087243353da5f874b14c12', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 20, 'created': '2018-11-07 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/415807489e4b5cff332ab4b1d197e32ef81e888f', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}, {'number': 21, 'created': '2019-01-08 11:55:36.000000000', 'files': ['networking_odl/db/sbi/maintenance.py', 'networking_odl/tests/unit/db/sbi/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/94c5e34ff783d166e1fdf20d5f88c1a14ce455ae', 'message': 'Add maintenance utility functions for the SBI revision system\n\nThis patch implements the utility functions for the SBI revision system\nas they are defined in the neutron spec [1].\n\n[1]:\nhttps://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency\n\nChange-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896\n'}]",0,571192,94c5e34ff783d166e1fdf20d5f88c1a14ce455ae,46,5,21,26507,,,0,"Add maintenance utility functions for the SBI revision system

This patch implements the utility functions for the SBI revision system
as they are defined in the neutron spec [1].

[1]:
https://blueprints.launchpad.net/neutron/+spec/sbi-database-consistency

Change-Id: I31e236d75c19dcfdc0e82f2ed1468df53306f896
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/571192/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/db/sbi/maintenance.py', 'networking_odl/tests/unit/db/sbi/test_maintenance.py']",2,cd7b0fc210db45e82e71253b2dcfe800a4adb22d,bp/sbi-database-consistency,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib import datetime from networking_odl.db.sbi import maintenance as sbi_maint from networking_odl.tests.unit.db.sbi import test_revision class TestRevisionMaintenance(test_revision.TestRevisionBase): def test_get_inconsistent_resources(self): # Set the intial revision to -1 to force it to be incosistent self.context_manager._create_resource(*self.std_kwargs.values()) res = sbi_maint.get_inconsistent_resources(self.db_context) self.assertEqual(1, len(res)) self.assertEqual(self.std_kwargs['resource_uuid'], res[0].resource_uuid) def test_get_inconsistent_resources_consistent(self): # Set the initial revision to 0 which is the initial revision_number # for recently created resources self.std_kwargs['revision_number'] = 0 self.context_manager._create_resource(*self.std_kwargs.values()) res = sbi_maint.get_inconsistent_resources(self.db_context) self.assertEqual([], res) def test_get_deleted_resources(self): self.context_manager._create_resource(*self.std_kwargs.values()) res = sbi_maint.get_deleted_resources(self.db_context) self.assertEqual(0, len(res)) self._delete(self.resource_type, self.resource['id']) res = sbi_maint.get_deleted_resources(self.db_context) self.assertEqual(1, len(res)) self.assertEqual(self.resource['id'], res[0].resource_uuid) self.assertIsNone(res[0].standard_attr_id) @contextlib.contextmanager def _prepare_resources_for_ordering_test(self): with self.network() as network: with self.subnet(network=network) as subnet: with self.port(subnet=subnet) as port: resources = ( ('networks', network['network']), ('subnets', subnet['subnet']), ('ports', port['port']), ) for type_, resource in resources: self.context_manager._create_resource( self.db_context, resource_uuid=resource['id'], resource_type=type_ ) yield resources def _assert_results_ordering(self, results): prev = -1 prev_date = datetime.datetime(datetime.MINYEAR, 1, 1) for result in results: if result.standard_attr_id is not None: self.assertGreater(result.standard_attr_id, prev) self.assertGreaterEqual(result.updated_at, prev_date) prev = result.standard_attr_id prev_date = result.updated_at def test_get_inconsistent_resources_order(self): with self._prepare_resources_for_ordering_test(): results = sbi_maint.get_inconsistent_resources(self.db_context) self._assert_results_ordering(results) def _bulk_delete_resources(self, resources): for type_, resource in resources: self._delete(type_, resource['id']) def test_get_deleted_resources_order(self): with self._prepare_resources_for_ordering_test() as resources: results = sbi_maint.get_deleted_resources(self.db_context) self.assertEqual(0, len(results)) self._bulk_delete_resources(resources[::-1]) results = sbi_maint.get_deleted_resources(self.db_context) self.assertEqual(len(resources), len(results)) self._assert_results_ordering(results[::-1]) ",,156,0
openstack%2Fnetworking-ovn~stable%2Fpike~I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f,openstack/networking-ovn,stable/pike,I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f,Remove tripleo newton and ocata jobs (pike branch),ABANDONED,2018-11-23 17:52:53.000000000,2019-12-04 08:54:10.000000000,,"[{'_account_id': 2888}, {'_account_id': 8175}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-11-23 17:52:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/93e5266f9ef0b0c132a77ca468c530d20308393c', 'message': 'Remove tripleo newton and ocata jobs (pike branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f\n'}]",0,619779,93e5266f9ef0b0c132a77ca468c530d20308393c,9,5,1,8175,,,0,"Remove tripleo newton and ocata jobs (pike branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/79/619779/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,93e5266f9ef0b0c132a77ca468c530d20308393c,cleanup-old-branches, # tripleo-ci-centos-7-scenario007-multinode-oooq-container will run # in Pike and beyond., # tripleo-ci-centos-7-scenario007-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario007-multinode-oooq - tripleo-ci-centos-7-scenario007-multinode-oooq,2,5
openstack%2Fnetworking-ovn~stable%2Fqueens~I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f,openstack/networking-ovn,stable/queens,I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f,Remove tripleo newton and ocata jobs (queens branch),ABANDONED,2018-11-23 17:48:35.000000000,2019-12-04 08:54:06.000000000,,"[{'_account_id': 2888}, {'_account_id': 8175}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-11-23 17:48:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1125a51f15b92b4b26826232c046276a8dfb5e09', 'message': 'Remove tripleo newton and ocata jobs (queens branch)\n\nNon-containerized multinode scenario jobs are no longer supported\nand should be removed from zuul config.\n\nChange-Id: I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f\n'}]",0,619778,1125a51f15b92b4b26826232c046276a8dfb5e09,9,5,1,8175,,,0,"Remove tripleo newton and ocata jobs (queens branch)

Non-containerized multinode scenario jobs are no longer supported
and should be removed from zuul config.

Change-Id: I73acc1b48ac9e409aacd00dbe1e4b987ef93d83f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/78/619778/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1125a51f15b92b4b26826232c046276a8dfb5e09,cleanup-old-branches, # tripleo-ci-centos-7-scenario007-multinode-oooq-container will run # in Pike and beyond., # tripleo-ci-centos-7-scenario007-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. - tripleo-ci-centos-7-scenario007-multinode-oooq - tripleo-ci-centos-7-scenario007-multinode-oooq,2,5
openstack%2Fnetworking-ovn~master~I7ce4394fdf60bdaea277f75db0acc79b34f2e52d,openstack/networking-ovn,master,I7ce4394fdf60bdaea277f75db0acc79b34f2e52d,DNM: os-vif patch test,ABANDONED,2019-01-18 11:54:14.000000000,2019-12-04 08:54:02.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-18 11:54:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/638ef3327e1322436225b98c84e8a64db5b5ef42', 'message': 'DNM: os-vif patch test\n\nThis patch is to test https://review.openstack.org/#/c/631782/\nfrom networking-ovn side.\n\nRelated-Bug: #1728600\nDepends-On: I8906f37c39b27f2f2bb3f51e1b3fc5c4b779ecc0\n\nChange-Id: I7ce4394fdf60bdaea277f75db0acc79b34f2e52d\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,631783,638ef3327e1322436225b98c84e8a64db5b5ef42,3,2,1,23804,,,0,"DNM: os-vif patch test

This patch is to test https://review.openstack.org/#/c/631782/
from networking-ovn side.

Related-Bug: #1728600
Depends-On: I8906f37c39b27f2f2bb3f51e1b3fc5c4b779ecc0

Change-Id: I7ce4394fdf60bdaea277f75db0acc79b34f2e52d
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/83/631783/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,638ef3327e1322436225b98c84e8a64db5b5ef42,bug/1728600,," templates: - openstack-python-jobs-neutron - publish-openstack-docs-pti - release-notes-jobs-python3 - check-requirements - openstack-python35-jobs-neutron - openstack-python36-jobs-neutron - openstack-lower-constraints-jobs-neutron - networking-ovn-rally-task - networking-ovn-dsvm-functional - networking-ovn-dsvm-functional-py35: branches: ^(?!stable/newton).*$ # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario007-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario007-multinode-oooq-container - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false - openstack-tox-cover: required-projects: - openstack/neutron voting: false",0,27
openstack%2Fneutron-fwaas~master~If827e5fd951b55d550bb9fcade2647ebcb76b553,openstack/neutron-fwaas,master,If827e5fd951b55d550bb9fcade2647ebcb76b553,Make OVS the default option for L2 FWaaS V2,ABANDONED,2018-09-27 21:30:31.000000000,2019-12-04 08:53:57.000000000,,"[{'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 21:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/61344c4b8370413a3d62e318b401645500700efd', 'message': 'Make ovs the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident\nthat ovs works and want to enable it by default.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 2, 'created': '2018-10-10 22:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ed19321e59a7ef68ff1edadb35d3ce0d84a588ec', 'message': 'Make ovs the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident\nthat ovs works and want to enable it by default.\n\nAs a result one of the tests needed to be changed and\na firewall applied to the vm port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 3, 'created': '2018-10-16 08:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fa09e716bddc2e9f0793483cee18acf49b871c30', 'message': 'Make OVS the default for FWaaS V2 L2 extension\n\nCurrently our default is ""noop"" but with Stein we feel confident\nthat OVS works and want to enable it by default.\n\nAs a result one of the tests needed to be changed and a firewall group\napplied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 4, 'created': '2018-10-26 17:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/cf32abb5d96e04e5d3ffe75c241dfe0089fcacba', 'message': 'Make ovs the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident\nthat ovs works and want to enable it by default.\n\nAs a result one of the tests needed to be changed and\na firewall applied to the vm port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 5, 'created': '2018-11-08 07:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/02677728a95a6f64778610ccc1a30f8cadc5cc19', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default.\n\nAs a result one of the tests needed to be changed and a firewall group\napplied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 6, 'created': '2018-11-08 09:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e98158b78bf4e1eab1e4eb1c9ef188afc70a8646', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default.\n\nAs a result one of the tests needed to be changed and a firewall group\napplied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 7, 'created': '2019-01-11 18:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fb08fef47714c7fedba87633e221637ac9240e1b', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default.\n\nAs a result one of the tests needed to be changed and a firewall group\napplied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 8, 'created': '2019-01-28 02:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fc511c378c5d755c35213c4500907b7627b23cf2', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default.\n\nAs a result one of the tests needed to be changed and a firewall group\napplied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 9, 'created': '2019-02-21 13:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/130aa16ad7ec84b24b512667a94367ad9a949b4a', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default. As a result one of the tests\nneeded to be changed and a firewall group applied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 10, 'created': '2019-02-26 00:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b5fe473e56c7c966fc5a519b82240ca09f22d7e5', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default. As a result one of the tests\nneeded to be changed and a firewall group applied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 11, 'created': '2019-02-26 02:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ca8e3c4b0a6ee5bb0af9be129301940f599a340b', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default. As a result one of the tests\nneeded to be changed and a firewall group applied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}, {'number': 12, 'created': '2019-02-26 04:25:41.000000000', 'files': ['neutron_fwaas/tests/tempest_plugin/tests/scenario/test_fwaas_v2.py', 'neutron_fwaas/tests/tempest_plugin/tests/fwaas_v2_client.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fb36c03aa9ae466e040be64eb0366c2509e970b7', 'message': 'Make OVS the default option for L2 FWaaS V2\n\nCurrenlty our default is noop but with Stein we feel confident that OVS\nworks and want to enable it by default. As a result one of the tests\nneeded to be changed and a firewall group applied to the VM port.\n\nChange-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553\n'}]",0,605866,fb36c03aa9ae466e040be64eb0366c2509e970b7,39,5,12,10850,,,0,"Make OVS the default option for L2 FWaaS V2

Currenlty our default is noop but with Stein we feel confident that OVS
works and want to enable it by default. As a result one of the tests
needed to be changed and a firewall group applied to the VM port.

Change-Id: If827e5fd951b55d550bb9fcade2647ebcb76b553
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/66/605866/7 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,61344c4b8370413a3d62e318b401645500700efd,ovs-default,FW_L2_DRIVER=${FW_L2_DRIVER:-ovs},FW_L2_DRIVER=${FW_L2_DRIVER:-noop},1,1
openstack%2Fneutron-vpnaas~master~I06c72ccf08fce662d4058204fd64b748f89112c0,openstack/neutron-vpnaas,master,I06c72ccf08fce662d4058204fd64b748f89112c0,Add neutron-tempest-plugin for tempest plugin tests,ABANDONED,2019-02-19 08:04:47.000000000,2019-12-04 08:53:52.000000000,,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 08:04:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f335abd6028478ae7f5cb719456fb683808beb7d', 'message': 'Add neutron-tempest-plugin for tempest plugin tests\n\nThis commit adds neutron-tempest-plugin for the tempest plugin tests\ndependency.\n\nChange-Id: I06c72ccf08fce662d4058204fd64b748f89112c0\n'}]",0,637719,f335abd6028478ae7f5cb719456fb683808beb7d,4,3,1,5689,,,0,"Add neutron-tempest-plugin for tempest plugin tests

This commit adds neutron-tempest-plugin for the tempest plugin tests
dependency.

Change-Id: I06c72ccf08fce662d4058204fd64b748f89112c0
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/19/637719/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f335abd6028478ae7f5cb719456fb683808beb7d,tempest-sanity-gate,neutron-tempest-plugin>=0.2.0 # Apache-2.0,,1,0
openstack%2Fnetworking-bagpipe~master~Iaae804c89c3069e98f383371c8a332ff8ec8cb8c,openstack/networking-bagpipe,master,Iaae804c89c3069e98f383371c8a332ff8ec8cb8c,port legacy jobs to zuul v3,ABANDONED,2019-02-21 14:54:48.000000000,2019-12-04 08:53:48.000000000,,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-21 14:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/9c35993c641a41d3e6fc307a7c3fc4d448add50b', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 2, 'created': '2019-02-22 11:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/fc7f099e2f14bed71cacbe0d9141ccb529caefb0', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 3, 'created': '2019-02-22 14:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6fcbb200e2729a7072dd0f424251197150e50b02', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 4, 'created': '2019-02-22 16:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/17b9561543dfa01d48a00238b000efe327dd1ed2', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 5, 'created': '2019-02-28 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1b8b054ebebbb902adff550df7456804522b9df5', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 6, 'created': '2019-02-28 15:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b1dc8a8278375520ad8da37ed8a762063328499c', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 7, 'created': '2019-03-01 13:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/98a4bda9d8bcebeaf758999b1b1a58d2674790c0', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 8, 'created': '2019-03-01 15:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/9fc49826df1c68ed42eb40bb675fa2e7eb9ba8c1', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}, {'number': 9, 'created': '2019-03-01 18:20:09.000000000', 'files': ['requirements.txt', 'devstack/devstack-gate-rc', '.zuul.yaml', 'playbooks/tempest-dsvm-networking-bagpipe/post.yaml', 'playbooks/tempest-dsvm-networking-bagpipe/run.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/200aa5d7733a91faf615efdfc947b6b8e55b8998', 'message': 'port legacy jobs to zuul v3\n\nThis patch adds the legacy functional jobs to the project by porting\ntheir legacy playbooks to in-repo playbooks and updating the zuul\nconfig.\n\nChange-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c\nRelated-Bug: 1816644\n'}]",1,638429,200aa5d7733a91faf615efdfc947b6b8e55b8998,26,5,9,5367,,,0,"port legacy jobs to zuul v3

This patch adds the legacy functional jobs to the project by porting
their legacy playbooks to in-repo playbooks and updating the zuul
config.

Change-Id: Iaae804c89c3069e98f383371c8a332ff8ec8cb8c
Related-Bug: 1816644
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/29/638429/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/tempest-dsvm-networking-bagpipe/post.yaml', 'playbooks/tempest-dsvm-networking-bagpipe/run.yaml']",3,9c35993c641a41d3e6fc307a7c3fc4d448add50b,bug/1816644,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-networking-bagpipe from old job gate-tempest-dsvm-networking-bagpipe tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin networking-bagpipe git://git.openstack.org/openstack/networking-bagpipe EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export BRANCH_OVERRIDE=default export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=0 export PROJECTS=""openstack/tricircle openstack/neutron openstack/networking-sfc $PROJECTS"" if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function gate_hook { bash -xe /opt/stack/new/networking-bagpipe/devstack/gate_hook.sh } export -f gate_hook export DEVSTACK_GATE_SETTINGS=/opt/stack/new/networking-bagpipe/devstack/devstack-gate-rc cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,161,2
openstack%2Fpython-neutronclient~master~I0f3d478fcce6b9ada1c85a13115042ac4634b59b,openstack/python-neutronclient,master,I0f3d478fcce6b9ada1c85a13115042ac4634b59b,Add 'snat' as a new resource type for logging in OSC plugin,ABANDONED,2018-09-17 06:57:54.000000000,2019-12-04 08:53:43.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6995}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 15471}, {'_account_id': 22348}, {'_account_id': 28174}]","[{'number': 1, 'created': '2018-09-17 06:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d81b74a991394b893bbbd3a49b36a5a244e91aed', 'message': ""[WIP] Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 2, 'created': '2018-09-17 07:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/78d64c934abf4b3d50e801016bb9e28dd4cd27b6', 'message': ""[WIP] Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 3, 'created': '2018-09-17 08:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/8d859bb40e5c44efe2a5b6e113ceea13758ace8b', 'message': ""[WIP] Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 4, 'created': '2018-09-19 06:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a8dc6afbfaf2a1f89661ca146827779ea0e667fa', 'message': ""[WIP] Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 5, 'created': '2018-11-12 02:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c237ebe1bb0ad65c3db628d9509fdccd848c76b8', 'message': ""Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 6, 'created': '2018-11-15 02:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/692757c4481b2c771575b20eddf72c5bf7bdc2b3', 'message': ""Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 7, 'created': '2018-11-15 04:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/039f41e321cc280ba96b9ba1e8616b6997d5d0cb', 'message': ""Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\nPartial-Bug: #1752290\n""}, {'number': 8, 'created': '2019-03-08 02:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/e6e9ba7c26b9c77cb229d0edd230f6cac3589bb0', 'message': ""Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\nPartial-Bug: #1752290\nDepends-On: https://review.openstack.org/#/c/612612/\n""}, {'number': 9, 'created': '2019-03-08 02:08:22.000000000', 'files': ['neutronclient/osc/v2/logging/network_log.py', 'neutronclient/tests/unit/osc/v2/logging/test_network_log.py', 'neutronclient/osc/v2/logging/constants.py', 'releasenotes/notes/support-snat-resource-type-7500e04ca63a8a49.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d885d0e43fe83668b28e60dd6fcf1cb79e58452b', 'message': ""Add 'snat' as a new resource type for logging in OSC plugin\n\nCurrently, OSC plugin for logging only supports 'security_group'\nand 'firewall_group' as a resource type for logging. This patch\naims to add 'snat' as a new supported resource type to OSC.\n\nChange-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b\nCo-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>\nCo-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>\nPartial-Bug: #1752290\nDepends-On: https://review.openstack.org/#/c/612612/\n""}]",15,603028,d885d0e43fe83668b28e60dd6fcf1cb79e58452b,26,8,9,28174,,,0,"Add 'snat' as a new resource type for logging in OSC plugin

Currently, OSC plugin for logging only supports 'security_group'
and 'firewall_group' as a resource type for logging. This patch
aims to add 'snat' as a new supported resource type to OSC.

Change-Id: I0f3d478fcce6b9ada1c85a13115042ac4634b59b
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>
Co-Authored-By: Yushiro FURUKAWA <y.furukawa_2@jp.fujitsu.com>
Partial-Bug: #1752290
Depends-On: https://review.openstack.org/#/c/612612/
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/28/603028/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/osc/v2/logging/network_log.py', 'neutronclient/tests/unit/osc/v2/logging/test_network_log.py']",2,d81b74a991394b893bbbd3a49b36a5a244e91aed,bug/1752290,"RES_TYPE_SNAT = 'snat' ""type"": RES_TYPE_FWG, ""type"": RES_TYPE_SNAT}] def test_create_with_valid_resource(self): resource_id = 'valid_resource_id' res_types = [RES_TYPE_SG, RES_TYPE_FWG, RES_TYPE_SNAT] for res_type in res_types: # Test with valid resource ID with mock.patch.object(self.neutronclient, 'find_resource', return_value={'id': resource_id}): arglist = [name, '--resource-type', res_type, '--resource', resource_id ] verifylist = [ ('name', name), ('resource_type', res_type), ('resource', resource_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) headers, data = self.cmd.take_action(parsed_args) expect = { 'name': self.res['name'], 'resource_type': res_type, 'resource_id': resource_id, } if res_type == RES_TYPE_FWG: self.neutronclient.find_resource.assert_called_with( res_type, resource_id, cmd_resource='fwaas_firewall_group') else: self.neutronclient.find_resource.assert_called_with( res_type, resource_id, cmd_resource=None) self.mocked.assert_called_once_with({'log': expect}) self.assertEqual(self.ordered_headers, headers) self.assertEqual(self.ordered_data, data) def test_create_with_invalid_resource(self): resource_id = 'invalid_resource_id' res_types = [RES_TYPE_SG, RES_TYPE_FWG, RES_TYPE_SNAT] # Test with invalid resource ID for res_type in res_types: with mock.patch.object(self.neutronclient, 'find_resource', side_effect=exceptions.NotFound(code=0)): arglist = [name, '--resource-type', res_type, '--resource', resource_id ] verifylist = [ ('name', name), ('resource_type', res_type), ('resource', resource_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises(exceptions.NotFound, self.cmd.take_action, parsed_args) if res_type == RES_TYPE_FWG: self.neutronclient.find_resource.assert_called_with( res_type, resource_id, cmd_resource='fwaas_firewall_group') else: self.neutronclient.find_resource.assert_called_with( res_type, resource_id, cmd_resource=None) self.mocked.assert_not_called()"," ""type"": RES_TYPE_FWG}] def test_create_with_valid_fwg_resource(self): resource_id = 'valid_fwg_id' resource_type = RES_TYPE_FWG # Test with valid FWG ID with mock.patch.object(self.neutronclient, 'find_resource', return_value={'id': resource_id}): arglist = [name, '--resource-type', resource_type, '--resource', resource_id ] verifylist = [ ('name', name), ('resource_type', resource_type), ('resource', resource_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) headers, data = self.cmd.take_action(parsed_args) expect = { 'name': self.res['name'], 'resource_type': RES_TYPE_FWG, 'resource_id': 'valid_fwg_id', } self.neutronclient.find_resource.assert_called_with( resource_type, resource_id, cmd_resource='fwaas_firewall_group') self.mocked.assert_called_once_with({'log': expect}) self.assertEqual(self.ordered_headers, headers) self.assertEqual(self.ordered_data, data) def test_create_with_invalid_fwg_resource(self): resource_id = 'invalid_fwg_id' resource_type = RES_TYPE_FWG # Test with invalid FWG ID with mock.patch.object(self.neutronclient, 'find_resource', side_effect=exceptions.NotFound(code=0)): arglist = [name, '--resource-type', resource_type, '--resource', resource_id ] verifylist = [ ('name', name), ('resource_type', resource_type), ('resource', resource_id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises(exceptions.NotFound, self.cmd.take_action, parsed_args) self.neutronclient.find_resource.assert_called_with( resource_type, resource_id, cmd_resource='fwaas_firewall_group') self.mocked.assert_not_called()",73,55
openstack%2Fneutron~stable%2Fpike~I08aadc2a06c9394806681e3afef739eddc3f7712,openstack/neutron,stable/pike,I08aadc2a06c9394806681e3afef739eddc3f7712,"Revert ""deepcopy binding and binding levels avoid expiration""",ABANDONED,2018-06-21 13:19:03.000000000,2019-12-04 08:53:39.000000000,,"[{'_account_id': 6593}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-06-21 13:19:03.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7cd722a9261cb4a1ff9acf692df7faeb8edd3b7', 'message': 'Revert ""deepcopy binding and binding levels avoid expiration""\n\nThis reverts commit fc563eaabec392281be90bd2472bed4f6506cb40.\n\nChange-Id: I08aadc2a06c9394806681e3afef739eddc3f7712\nCloses-Bug: 1705012\n'}]",0,577156,a7cd722a9261cb4a1ff9acf692df7faeb8edd3b7,7,5,1,22595,,,0,"Revert ""deepcopy binding and binding levels avoid expiration""

This reverts commit fc563eaabec392281be90bd2472bed4f6506cb40.

Change-Id: I08aadc2a06c9394806681e3afef739eddc3f7712
Closes-Bug: 1705012
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/577156/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/plugins/ml2/plugin.py']",4,a7cd722a9261cb4a1ff9acf692df7faeb8edd3b7,bug/1705012, if binding['status'] != status: binding['status'] = status binding.update(binding),import copy # merging here brings binding changes into the session so they can be # committed since the binding attached to the context is detached from # the session plugin_context.session.merge(binding) # refresh context with a snapshot of updated state cur_context._binding = copy.deepcopy(cur_binding) # merge into session to reflect changes plugin_context.session.merge(binding) if binding.status != status: binding.status = status,8,25
openstack%2Fneutron~master~Ic9a270634c8568676f7cb8322676a79605334516,openstack/neutron,master,Ic9a270634c8568676f7cb8322676a79605334516,agent: use psutil to avoid shell out to a find a child process,ABANDONED,2018-10-18 18:20:22.000000000,2019-12-04 08:53:28.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 6593}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-10-18 18:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cb3fb2581f430b95a0ff14a22640a8b32739f1a', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 2, 'created': '2018-10-18 20:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/420400017f940dfcfff8bba67a5894eeda87fde9', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 3, 'created': '2018-10-19 16:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40c50c78f5af15ffbca314eea7dca415049c9009', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 4, 'created': '2018-10-22 08:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eee117e33eafa8843f9ab25ed4956c5ec09f738e', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 5, 'created': '2018-10-22 21:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc01b716633abc59c54220e96934f1bd536aa81e', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 6, 'created': '2018-10-24 20:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a3819398122db1bec608be1083cd475ae139a90', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 7, 'created': '2019-01-08 00:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f814227607c676e1aafc890d25db128f359f29a', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}, {'number': 8, 'created': '2019-03-25 07:52:36.000000000', 'files': ['neutron/agent/linux/utils.py', 'neutron/tests/unit/agent/linux/test_utils.py', 'neutron/tests/unit/cmd/test_netns_cleanup.py', 'neutron/cmd/netns_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f6c1fd44434c229e6adca39cff2e556eac05f47', 'message': 'agent: use psutil to avoid shell out to a find a child process\n\nThis method is being called regularly (once a second) and\ngoes through a fork/close_fds/exec loop just to call /bin/ps\nin order to find the list of child pids. We can have that easier\navoiding all the subprocess overhead by using psutil.\n\nin a cProfile micro-benchmark, it seems using psutil is\nalso about 30% faster. As there were only two usages\nof the function and it had a fairly awkward interface, expecting\npids as string and returned a list of strings, removing the\nfunction and replacing it with direct psutil counterparts\nimproved code readability as well.\n\nChange-Id: Ic9a270634c8568676f7cb8322676a79605334516\n'}]",11,611690,9f6c1fd44434c229e6adca39cff2e556eac05f47,62,14,8,6593,,,0,"agent: use psutil to avoid shell out to a find a child process

This method is being called regularly (once a second) and
goes through a fork/close_fds/exec loop just to call /bin/ps
in order to find the list of child pids. We can have that easier
avoiding all the subprocess overhead by using psutil.

in a cProfile micro-benchmark, it seems using psutil is
also about 30% faster. As there were only two usages
of the function and it had a fairly awkward interface, expecting
pids as string and returned a list of strings, removing the
function and replacing it with direct psutil counterparts
improved code readability as well.

Change-Id: Ic9a270634c8568676f7cb8322676a79605334516
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/611690/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/utils.py'],1,0cb3fb2581f430b95a0ff14a22640a8b32739f1a,psutil_optimisations,"import psutil pid = psutil.Process(pid).get_children()[0].pid except (psutil.NoSuchProcess, IndexError):", pid = str(pid) pid = find_child_pids(pid)[0] except IndexError:,3,3
openstack%2Fneutron~master~Ida0e50de9e423f686373df4eb14a45bbe252a706,openstack/neutron,master,Ida0e50de9e423f686373df4eb14a45bbe252a706,WIP Add fullstack memory leak test for L2 agents,ABANDONED,2019-04-10 20:39:54.000000000,2019-12-04 08:53:23.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-10 20:39:54.000000000', 'files': ['neutron/tests/fullstack/resources/process.py', 'neutron/tests/fullstack/base.py', 'neutron/tests/fullstack/test_ports_rebind.py', 'neutron/agent/common/async_process.py', 'neutron/tests/fullstack/resources/machine.py', 'neutron/tests/fullstack/test_memory_consumption.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/11310c5afca40c5c1e8ed3d5c219100ca4bc964d', 'message': ""WIP Add fullstack memory leak test for L2 agents\n\nThis patch is PoC of some fullstack test which can check if we don't\nhave memory leaks in neutron-{ovs,linuxbridge}-agents.\n\nIt isn't ready yet. Please just tell me what You think about such\npossible solution. Does it makes any sense for You?\n\nChange-Id: Ida0e50de9e423f686373df4eb14a45bbe252a706\n""}]",0,651644,11310c5afca40c5c1e8ed3d5c219100ca4bc964d,4,4,1,11975,,,0,"WIP Add fullstack memory leak test for L2 agents

This patch is PoC of some fullstack test which can check if we don't
have memory leaks in neutron-{ovs,linuxbridge}-agents.

It isn't ready yet. Please just tell me what You think about such
possible solution. Does it makes any sense for You?

Change-Id: Ida0e50de9e423f686373df4eb14a45bbe252a706
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/651644/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/process.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/common/async_process.py', 'neutron/tests/fullstack/test_ports_rebind.py', 'neutron/tests/fullstack/resources/machine.py', 'neutron/tests/fullstack/test_memory_consumption.py']",6,11310c5afca40c5c1e8ed3d5c219100ca4bc964d,fullstack_memory_leaks_tests,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from neutron_lib import constants from oslo_utils import uuidutils from neutron.common import utils as common_utils from neutron.tests.fullstack import base from neutron.tests.fullstack.resources import environment from neutron.tests.fullstack.resources import machine from neutron.tests.unit import testlib_api load_tests = testlib_api.module_load_tests class BaseMemoryUsageTest(base.BaseFullStackTestCase): def setUp(self): host_descriptions = [ environment.HostDescription( l2_agent_type=self.l2_agent_type)] env = environment.Environment( environment.EnvironmentDescription(), host_descriptions) super(BaseMemoryUsageTest, self).setUp(env) self.tenant_id = uuidutils.generate_uuid() self.network = self.safe_client.create_network(self.tenant_id) self.subnet = self.safe_client.create_subnet( self.tenant_id, self.network['id'], '20.0.0.0/24') def _get_agent_memory_usage(self): usage = float( self.environment.hosts[0].l2_agent.process.get_memory_usage()) return round(usage, 3) def _ensure_ports_bound(self, vms): for vm in vms: self._ensure_port_bound(vm.neutron_port['id']) def _delete_ports(self, vms): for vm in vms: self.safe_client.client.delete_port(vm.neutron_port['id']) class TestMemoryUsageL2Agent(BaseMemoryUsageTest): iterations = 5 vms_per_iteration = 5 scenarios = [ (constants.AGENT_TYPE_OVS, {'l2_agent_type': constants.AGENT_TYPE_OVS}), (constants.AGENT_TYPE_LINUXBRIDGE, {'l2_agent_type': constants.AGENT_TYPE_LINUXBRIDGE}) ] def test_agents_lifecycle_memory_usage(self): current_usage = self._get_agent_memory_usage() previous_delta = current_usage previous_usage = current_usage for _ in range(self.iterations): vms = machine.FakeFullstackMachinesList( self.useFixture( machine.FakeFullstackMachine( self.environment.hosts[0], self.network['id'], self.tenant_id, self.safe_client)) for _ in range(self.vms_per_iteration)) vms.block_until_all_boot() self._ensure_ports_bound(vms) vms.destroy_all() self._delete_ports(vms) # lets wait a while that all will be removed from agent time.sleep(10) current_usage = self._get_agent_memory_usage() current_delta = round(current_usage - previous_usage, 2) self.assertLessEqual(current_delta, previous_delta) previous_usage = current_usage previous_delta = current_delta ",,136,11
openstack%2Fnetworking-sfc~master~If42157006464d0a1eef7ea994f57b8c93a2dd62d,openstack/networking-sfc,master,If42157006464d0a1eef7ea994f57b8c93a2dd62d,Updating required neutron version,ABANDONED,2018-07-09 04:36:31.000000000,2019-12-04 08:53:19.000000000,,"[{'_account_id': 11975}, {'_account_id': 14320}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30156}]","[{'number': 1, 'created': '2018-07-09 04:36:31.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/72fee1eb17c622c5bb4d43fadfa560e9356299bd', 'message': ""Updating required neutron version\n\nbuild-openstack-sphinx-docs gate was raising an error and -1 on the\ngate, due to neutron out of date version (12.0.0). This patch will bring\nneutron from 13.0.0.0b1 to the newest version.\n\nError logs:\n   ubuntu-xenial |     'router': constants.L3,\n   ubuntu-xenial | AttributeError: 'module' object has no attribute 'L3'\n\nPlease see more error logs in the following link\nhttp://logs.openstack.org/04/557904/8/check/build-openstack-sphinx-docs/7a6b1da/job-output.txt.gz#_2018-07-03_04_00_47_083795\n\nChange-Id: If42157006464d0a1eef7ea994f57b8c93a2dd62d\n""}]",0,580906,72fee1eb17c622c5bb4d43fadfa560e9356299bd,6,5,1,28427,,,0,"Updating required neutron version

build-openstack-sphinx-docs gate was raising an error and -1 on the
gate, due to neutron out of date version (12.0.0). This patch will bring
neutron from 13.0.0.0b1 to the newest version.

Error logs:
   ubuntu-xenial |     'router': constants.L3,
   ubuntu-xenial | AttributeError: 'module' object has no attribute 'L3'

Please see more error logs in the following link
http://logs.openstack.org/04/557904/8/check/build-openstack-sphinx-docs/7a6b1da/job-output.txt.gz#_2018-07-03_04_00_47_083795

Change-Id: If42157006464d0a1eef7ea994f57b8c93a2dd62d
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/06/580906/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,72fee1eb17c622c5bb4d43fadfa560e9356299bd,update_required_neutron,neutron>=13.0.0.0b1 # Apache-2.0,neutron>=12.0.0 # Apache-2.0,1,1
openstack%2Fnetworking-ovn~master~I6fd224d9ba1a5f18ebb22094a07ad7a474a673ac,openstack/networking-ovn,master,I6fd224d9ba1a5f18ebb22094a07ad7a474a673ac,use SqlFixture from neutron-lib,ABANDONED,2019-04-10 19:19:59.000000000,2019-12-04 08:53:15.000000000,,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-10 19:19:59.000000000', 'files': ['networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9a1b008475a18186247716c93eb70359a2f83e3c', 'message': ""use SqlFixture from neutron-lib\n\nUse neutron-lib's StaticSqlFixture rather than creating a new fixture\nextending neutron's StaticSqlFixture as the later should not be needed.\n\nChange-Id: I6fd224d9ba1a5f18ebb22094a07ad7a474a673ac\n""}]",0,651629,9a1b008475a18186247716c93eb70359a2f83e3c,4,4,1,5367,,,0,"use SqlFixture from neutron-lib

Use neutron-lib's StaticSqlFixture rather than creating a new fixture
extending neutron's StaticSqlFixture as the later should not be needed.

Change-Id: I6fd224d9ba1a5f18ebb22094a07ad7a474a673ac
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/29/651629/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/base.py'],1,9a1b008475a18186247716c93eb70359a2f83e3c,use-lib-sqlfixture,from neutron_lib import fixture as lib_fixtures fixture = lib_fixtures.SqlFixture(),"from neutron.tests.unit import testlib_apifrom oslo_concurrency import lockutilsfrom oslo_db import exception as os_db_exc from oslo_db.sqlalchemy import provisionclass OVNSqlFixture(testlib_api.StaticSqlFixture): @classmethod @lockutils.synchronized(SQL_FIXTURE_LOCK) def _init_resources(cls): cls.schema_resource = provision.SchemaResource( provision.DatabaseResource(""sqlite""), cls._generate_schema, teardown=False) dependency_resources = {} for name, resource in cls.schema_resource.resources: dependency_resources[name] = resource.getResource() cls.schema_resource.make(dependency_resources) cls.engine = dependency_resources['database'].engine def _delete_from_schema(self, engine): try: super(OVNSqlFixture, self)._delete_from_schema(engine) except os_db_exc.DBNonExistentTable: pass fixture = OVNSqlFixture()",2,26
openstack%2Fneutron~master~I1cbbb201f494502a5fe3167eb66a1dbb389f6427,openstack/neutron,master,I1cbbb201f494502a5fe3167eb66a1dbb389f6427,[WIP]Use reader and writer for routers and agents,ABANDONED,2016-11-10 11:23:32.000000000,2019-12-04 08:53:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9596}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 11816}, {'_account_id': 11975}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 22348}, {'_account_id': 28581}]","[{'number': 1, 'created': '2016-11-10 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c0758badf60185adc35bfcdc654599d411d873f', 'message': '[WIP] Use new enginefacade for agent db\n\nUse reader and writer for db operations with agents.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 2, 'created': '2016-11-14 13:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/906a785b73f603e7e0b7f6e3ddbf2f96ead70e26', 'message': '[WIP] Use new enginefacade for agent db\n\nUse reader and writer for db operations with agents.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 3, 'created': '2016-11-15 12:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16db4e1dbcf6365e426dd20597cf4b0f5c7d5333', 'message': '[WIP] Use new enginefacade for agent db\n\nUse reader and writer for db operations with agents.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 4, 'created': '2016-12-01 13:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cee30078fefb8accefa0dde91ad0f5634bfd798', 'message': 'Use new enginefacade for agent db\n\nUse reader and writer for db operations with agents.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 5, 'created': '2016-12-06 16:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dac6d57674c99298b966bdbfdfe533f76c552e24', 'message': 'Use new enginefacade for agent db\n\nUse reader and writer for db operations with agents.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 6, 'created': '2016-12-07 16:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c725c371a52cb55f5b155435b903b863745889e1', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 7, 'created': '2016-12-12 14:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b8f6c1ecea4f9b30dc83ed4d54cf50b60393205', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 8, 'created': '2016-12-14 11:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc1038520a3f61fdd4b6a2188b6af60ac8285220', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 9, 'created': '2016-12-15 10:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7854981aff3168e691b5b3c32b75f116f5d840fa', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 10, 'created': '2017-01-10 12:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33f3fd638bee960aed69c9e090a468def017ae80', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 11, 'created': '2017-01-12 13:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70f780ec917f4075c4843dd2293a35d9938069e0', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 12, 'created': '2017-01-13 13:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58187e2e86f9acc48aef12146009c29a3076c5cf', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 13, 'created': '2017-01-19 10:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6658a6d9cbf3240d33b80b9871c0c390222a53eb', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 14, 'created': '2017-01-19 12:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/164425cefbf54d80c7af430a2f2fa50c1351e6c9', 'message': '[WIP]Use reader and writer for agents/schedulers.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 15, 'created': '2017-01-24 10:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fc84b1cad9c5525c8b339fa56ffbe8824e6d0b7', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 16, 'created': '2017-02-16 15:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a41bb5cf096bdd3ca6ee28a7b43af204a7eeaaa7', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 17, 'created': '2017-02-17 14:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af5233900fb99f4fdc124b9398b91d51d2f1e694', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 18, 'created': '2017-02-20 15:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/862713e69991ccb5d903446b6808fa22f91167d4', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 19, 'created': '2017-02-21 16:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/905d07e490c73967eb0600853a7b069bdb5b16cb', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 20, 'created': '2017-02-22 18:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76191814bb6abe9aefa172e5dfd93c2eb8a89366', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 21, 'created': '2017-02-28 23:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ef81b1935dae68116eadc758accffcc1cd96aae', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 22, 'created': '2017-03-01 01:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed8ed7c87f1e86d92c65920ff1e619f88f6e7c47', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 23, 'created': '2017-03-02 22:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52b4677be27811d219fda3eb2c1f62fb7f453e7f', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 24, 'created': '2017-03-02 22:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8daa15c8edc9d28df90f20a076d25de0a6579a9', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 25, 'created': '2017-03-06 10:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de27b360a06f70aa1ef86e4eb70e232837d9c4ab', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 26, 'created': '2017-03-09 03:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d091ef53e4def32fc743d6cbac6ac1cb97972b2', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 27, 'created': '2017-03-09 12:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d579b977e3b24302345b5ba224ae628706e685ca', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 28, 'created': '2017-03-10 11:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5f5773cdab9a4ee4b0071c4e70c79d294f40459', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 29, 'created': '2017-03-14 13:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98771036078f112726f29ca5c5c4b4d201798ff6', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 30, 'created': '2017-03-16 12:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a47de74e2cc233dc2b567a19329719b8358d640', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 31, 'created': '2017-03-17 07:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0937598e27ed1ae042e8facbd93f06df989bd90', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 32, 'created': '2017-04-07 13:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82795568b884ce0ef7f19ded363f98ce46eb5157', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 33, 'created': '2017-04-10 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1be44b285257c271ea8c11dea37e453e6cbed009', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 34, 'created': '2017-04-17 12:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4709dd4c134b6b8c21f73003faf20050712d1c0e', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 35, 'created': '2017-04-19 12:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45308b4fa4908728f87b561dbee1323ddb9ff2f5', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 36, 'created': '2017-04-19 13:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44071dd39cffb7870e46fcda62bbaaacf3068fdf', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 37, 'created': '2017-04-20 10:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/310c8752912c6364fce5af74629b659241bcea63', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 38, 'created': '2017-04-25 12:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d5f829919de252317cb767a0295f988733d0edd', 'message': '[WIP]Use reader and writer for routers\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 39, 'created': '2017-06-20 12:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbc761641c19e5a6aa57dd653100effd1d41371e', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 40, 'created': '2017-07-05 10:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9787513b3a9749d7fad2552695fb248593ee4116', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 41, 'created': '2017-07-05 12:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/154683b405266cce3bb4bc835119b5571a744e0f', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 42, 'created': '2017-10-06 07:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80127da8c247a332588dcd9249c34a54780f9c1d', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}, {'number': 43, 'created': '2017-10-17 13:50:35.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/tests/unit/db/test_agents_db.py', 'neutron/db/l3_hascheduler_db.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/scheduler/dhcp_agent_scheduler.py', 'neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/extensions/test_router_availability_zone.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/plugins/ml2/drivers/l2pop/db.py', 'neutron/db/agents_db.py', 'neutron/db/extraroute_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/_utils.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60a9784b3d1b10b6132212b7f5c367f013414b74', 'message': '[WIP]Use reader and writer for routers and agents\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427\n'}]",0,396121,60a9784b3d1b10b6132212b7f5c367f013414b74,352,20,43,7249,,,0,"[WIP]Use reader and writer for routers and agents

Partially-Implements blueprint: enginefacade-switch

Change-Id: I1cbbb201f494502a5fe3167eb66a1dbb389f6427
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/396121/35 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/db/agentschedulers_db.py']",2,3c0758badf60185adc35bfcdc654599d411d873f,bp/enginefacade-switch,"from neutron.db import api as db_api with db_api.context_manager.writer.using(context): with db_api.context_manager.writer.using(context): # Get and delete bindings within one session try: model = ndab_model.NetworkDhcpAgentBinding query = context.session.query(model) binding = query.filter(model.network_id == network_id, model.dhcp_agent_id == id).one() except exc.NoResultFound: raise dhcpagentscheduler.NetworkNotHostedByDhcpAgent( network_id=network_id, agent_id=id) "," with context.session.begin(subtransactions=True): try: query = context.session.query(ndab_model.NetworkDhcpAgentBinding) binding = query.filter( ndab_model.NetworkDhcpAgentBinding.network_id == network_id, ndab_model.NetworkDhcpAgentBinding.dhcp_agent_id == id).one() except exc.NoResultFound: raise dhcpagentscheduler.NetworkNotHostedByDhcpAgent( network_id=network_id, agent_id=id) with context.session.begin():",17,14
openstack%2Fnetworking-midonet~master~I928c01fc901bb81d8f8dec73b44bdc75d4779f95,openstack/networking-midonet,master,I928c01fc901bb81d8f8dec73b44bdc75d4779f95,DNM: test gate,ABANDONED,2019-04-18 12:33:20.000000000,2019-12-04 08:53:04.000000000,,"[{'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 12:33:20.000000000', 'files': ['midonet/neutron/tests/unit/test_datastate.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6153e22d54406836a5a971f55edd54cc39aefb0d', 'message': 'DNM: test gate\n\nDO NOT MERGE\n\nThis patch contains a no-op change just to trigger the gate for\ntesting purposes to better help understand why the periodic job\nwith neutron-lib is failing like [1].\n\n[1] http://logs.openstack.org/periodic/git.openstack.org/openstack/\nnetworking-midonet/master/openstack-tox-py35-with-neutron-lib-master/\nd9cd20f/job-output.txt.gz#_2019-04-17_06_33_59_755239\n\nChange-Id: I928c01fc901bb81d8f8dec73b44bdc75d4779f95\n'}]",1,653728,6153e22d54406836a5a971f55edd54cc39aefb0d,5,4,1,5367,,,0,"DNM: test gate

DO NOT MERGE

This patch contains a no-op change just to trigger the gate for
testing purposes to better help understand why the periodic job
with neutron-lib is failing like [1].

[1] http://logs.openstack.org/periodic/git.openstack.org/openstack/
networking-midonet/master/openstack-tox-py35-with-neutron-lib-master/
d9cd20f/job-output.txt.gz#_2019-04-17_06_33_59_755239

Change-Id: I928c01fc901bb81d8f8dec73b44bdc75d4779f95
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/28/653728/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/tests/unit/test_datastate.py'],1,6153e22d54406836a5a971f55edd54cc39aefb0d,gate-test,# dummy change,,1,0
openstack%2Fneutron~master~I06f1c6503db29d94fb0e5e816b3bedc8669583b7,openstack/neutron,master,I06f1c6503db29d94fb0e5e816b3bedc8669583b7,WIP: ovsfw: use install_instruction,ABANDONED,2017-04-27 05:08:02.000000000,2019-12-04 08:52:38.000000000,,"[{'_account_id': 3}, {'_account_id': 9200}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14571}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2017-04-27 05:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0447f41a08acadf32bea282f54adce76345b30e0', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 2, 'created': '2017-05-31 02:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe692f5f42943ce330772b3ea83b9b6b4736c347', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 3, 'created': '2017-06-12 02:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90fbded2ed0cad5610cb086e95ea4ef0e9cc86e0', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 4, 'created': '2017-09-07 08:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2a529078e3b8d4c36e26445b7764cf5abb32caa', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 5, 'created': '2017-10-27 08:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38baa11c389c1d2294828585e7a4b0018cd37ca9', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 6, 'created': '2017-11-07 09:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4115362f423fbb75f56b7422bbc3330cfefb4602', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 7, 'created': '2017-11-08 02:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7bc5f91e3b45e301588e078758a296335ec637cd', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 8, 'created': '2017-12-20 09:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a71d5bb837a141187828cf3163da8c904c174797', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 9, 'created': '2018-01-16 01:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77870c9d155709c588b5bae6383ad412a1377057', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 10, 'created': '2018-02-01 05:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5b905c473e71cc511ff2efd4d0960d014a60c8a', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 11, 'created': '2018-02-02 08:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75185bcdc28e6697effa06718308186d3d8b9443', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 12, 'created': '2018-02-19 04:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cae2f27bad37e72ca20b223e210fdf8871831a6', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 13, 'created': '2018-03-19 09:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5153809e70ac73e47593177143eb8caa100f66c8', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}, {'number': 14, 'created': '2018-09-03 08:39:09.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/constants.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e83bb205cc6a3d2b8d9274ad9c8be9c0073285', 'message': 'WIP: ovsfw: use install_instruction\n\nChange-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7\nCloses-bug: #1672340\n'}]",5,460395,02e83bb205cc6a3d2b8d9274ad9c8be9c0073285,102,14,14,9200,,,0,"WIP: ovsfw: use install_instruction

Change-Id: I06f1c6503db29d94fb0e5e816b3bedc8669583b7
Closes-bug: #1672340
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/460395/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/constants.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py']",3,0447f41a08acadf32bea282f54adce76345b30e0,bug/1672340," 'eth_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype], flow_template['vlan_vid'] = port.vlan_tag | 0x1000 # XXX flow_template['eth_dst'] = port.mac flow_template['actions'] = ""pop_vlan,output:{:d}"".format(port.ofport) flow_template['eth_src'] = port.mac 'eth_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype], 'eth_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype],"," 'dl_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype], flow_template['dl_dst'] = port.mac flow_template['actions'] = ""strip_vlan,output:{:d}"".format(port.ofport) flow_template['dl_src'] = port.mac 'dl_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype], 'dl_type': ovsfw_consts.ethertype_to_dl_type_map[ethertype],",92,62
openstack%2Fnetworking-ovn~master~If16192fc54b09805c0f30234a3e4e5f4aaf85e80,openstack/networking-ovn,master,If16192fc54b09805c0f30234a3e4e5f4aaf85e80,Enable qos service plugin in tempest jobs,ABANDONED,2019-05-10 09:08:00.000000000,2019-12-04 08:52:28.000000000,,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-10 09:08:00.000000000', 'files': ['devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cbb17bcfb1094fd30c27d41cdc940996c5550c37', 'message': 'Enable qos service plugin in tempest jobs\n\nAlso add qos extension to the list of neutron extensions in tempest\nconfig file to be able to run qos related tests.\n\nChange-Id: If16192fc54b09805c0f30234a3e4e5f4aaf85e80\n'}]",2,658314,cbb17bcfb1094fd30c27d41cdc940996c5550c37,6,4,1,11975,,,0,"Enable qos service plugin in tempest jobs

Also add qos extension to the list of neutron extensions in tempest
config file to be able to run qos related tests.

Change-Id: If16192fc54b09805c0f30234a3e4e5f4aaf85e80
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/14/658314/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/networking-ovn', 'zuul.d/networking-ovn-jobs.yaml']",2,cbb17bcfb1094fd30c27d41cdc940996c5550c37,enable-qos-tests, neutron: https://opendev.org/openstack/neutron neutron-qos: true,,5,0
openstack%2Fneutron~master~I2f4cda75a986f3367f8d5596d63f3b2ea0f433ea,openstack/neutron,master,I2f4cda75a986f3367f8d5596d63f3b2ea0f433ea,dvr: preserve orginal routing for existing connections on FIP association,ABANDONED,2019-05-01 16:15:58.000000000,2019-12-04 08:52:19.000000000,,"[{'_account_id': 4187}, {'_account_id': 10022}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-01 16:15:58.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2325098706b7b4e3af7251a0acfc4fa77903977b', 'message': 'dvr: preserve orginal routing for existing connections on FIP association\n\nin DVR routers, after floating ip association to a guest, the routing of\nconnections is drastically changed, and existing connections starve and\ndie.\nThis change adds a mechanism to preserve the original routing for those\nexisting connection only, right before adding the floating IP\n- mark the existing connections\n- copy the mark to packets\n- add exception to policy routing, to use the same old route for the old\nconnections\n\nChange-Id: I2f4cda75a986f3367f8d5596d63f3b2ea0f433ea\nCloses-Bug: #1818824\n'}]",0,656665,2325098706b7b4e3af7251a0acfc4fa77903977b,8,7,1,10022,,,0,"dvr: preserve orginal routing for existing connections on FIP association

in DVR routers, after floating ip association to a guest, the routing of
connections is drastically changed, and existing connections starve and
die.
This change adds a mechanism to preserve the original routing for those
existing connection only, right before adding the floating IP
- mark the existing connections
- copy the mark to packets
- add exception to policy routing, to use the same old route for the old
connections

Change-Id: I2f4cda75a986f3367f8d5596d63f3b2ea0f433ea
Closes-Bug: #1818824
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/656665/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_local_router.py']",3,2325098706b7b4e3af7251a0acfc4fa77903977b,owner:self AND status:merged,"CONN_MARK_START = 1 << 16 CONN_MARK_END = 1024 << 16 self._conn_mark_idx = CONN_MARK_START # TODO(gcerami): use a real allocator def _generate_mark(self): mark = self._used_conn_mark self._used_conn_mark += 1 return mark # Preserve already established connections to be routed to non FIP # namespace # Generate u32 mark old_conn_mark = self._generate_mark() # Mark existing connections ip_lib.update_conntrack_entries_mark(fixed_ip, old_conn_mark) # Add rule to replicate the conn mark to fw mark # - this will need to be inserted properly, add could be not enough # - marks are already used for address scopes , we probably need a # separate mark range and masks in place self.iptables_manager.ipv4['mangle'].add_rule('PREROUTING', '-m connmark --mark %s -j CONNMARK --restore-mark --nf-mask 0x0000ffff --ct-mask 0x0000ffff') self.iptables_manager.apply() # Add rule to directing established connection via old route snat_idx = self._get_snat_idx(fixed_ip) # Problem, rule priority for FIPS starts just after the system max # index, so we either not specify a priority or we have to movethe # START and END on FIP priority allocator priority = None # must match before the FIP rule # Does self.ns_name refer to the initial non FIP namespace ? ip_lib.add_ip_rule(namespace=self.ns_name, ip=fixed_ip, table=snat_idx, priority=priority, fwmark=old_conn_mark) ",,72,6
openstack%2Fneutron-tempest-plugin~master~Iccec2d9d3bfd4c4a32a285af4516920dff727f1f,openstack/neutron-tempest-plugin,master,Iccec2d9d3bfd4c4a32a285af4516920dff727f1f,Wait for IP to be pingable,ABANDONED,2019-05-14 09:53:53.000000000,2019-12-04 08:52:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-14 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/08c88df1b69d361b76396069b949f941ebda788b', 'message': 'Wait for floating IP to be active\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 2, 'created': '2019-05-14 10:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/75939630fac7bc69458d848e196896c9dc35380e', 'message': 'Wait for floating IP to be active\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 3, 'created': '2019-05-14 11:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dc6928431cc7549931bd67caec99e9cbd081cd27', 'message': 'Wait for floating IP to be active\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 4, 'created': '2019-05-14 14:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c155463dd9bda24f96d164c51a2717f20f72b49b', 'message': 'Wait for floating IP to be active\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 5, 'created': '2019-05-15 01:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/296e289b9078b0a0609149c0d3a5388ca90a49d6', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 6, 'created': '2019-05-15 04:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0963ed3e4baf897a8d463c39ce15944cdb317155', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 7, 'created': '2019-05-15 09:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ede64df4804d337369f933239ca3bc44ef5e2aa9', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 8, 'created': '2019-05-15 13:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c5c2cc142a6e467455db42d96834f727ba40dae', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 9, 'created': '2019-05-16 15:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bdcdc495a8939bd887cc492c2c7be9ee98b68abe', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 10, 'created': '2019-05-16 23:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/199f5da06a6125f74aa58008d86ae5f9f1f78792', 'message': 'Wait for IP to be pingable\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 11, 'created': '2019-05-17 07:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7611584ed78359a330541389ed9aca100167258c', 'message': 'Wait for IP to be pingable\n\nDepends-On: https://review.opendev.org/#/c/653378/\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 12, 'created': '2019-05-21 01:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fab7a9096dfc630f8942ccf07dd0a5abdf44f6d7', 'message': 'Wait for IP to be pingable\n\nDepends-On: https://review.opendev.org/#/c/653378/\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 13, 'created': '2019-05-21 09:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5b0636da124bb8dff91e2b2bd1992057e593e717', 'message': 'Wait for IP to be pingable\n\nDepends-On: https://review.opendev.org/#/c/653378/\nDepends-On: https://review.opendev.org/#/c/660318/\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}, {'number': 14, 'created': '2019-05-21 16:50:50.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/scenario/test_migration.py', 'neutron_tempest_plugin/api/admin/test_external_network_extension.py', 'neutron_tempest_plugin/api/admin/test_quotas_negative.py', 'neutron_tempest_plugin/api/admin/test_floating_ips_admin_actions.py', 'neutron_tempest_plugin/api/test_router_interface_fip.py', 'neutron_tempest_plugin/api/test_floating_ips.py', 'neutron_tempest_plugin/api/test_timestamp.py', 'neutron_tempest_plugin/api/test_revisions.py', 'neutron_tempest_plugin/api/test_floating_ips_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f7f867bec48b7295d7e4dda03943102f343d936c', 'message': 'Wait for IP to be pingable\n\nDepends-On: https://review.opendev.org/#/c/653378/\nDepends-On: https://review.opendev.org/#/c/660318/\n\nChange-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f\nPartial-Bug: #1821912\n'}]",15,659009,f7f867bec48b7295d7e4dda03943102f343d936c,39,8,14,9531,,,0,"Wait for IP to be pingable

Depends-On: https://review.opendev.org/#/c/653378/
Depends-On: https://review.opendev.org/#/c/660318/

Change-Id: Iccec2d9d3bfd4c4a32a285af4516920dff727f1f
Partial-Bug: #1821912
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/09/659009/14 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,08c88df1b69d361b76396069b949f941ebda788b,bug/1821912,"from neutron_tempest_plugin.common import utils self.wait_for_fip_active(self.fip) def _check_fip_status(self, fip_id, except_status) fip = self.client.get_floatingip(fip_id)['floatingip'] return fip['status'] == except_status def wait_for_fip_active(self, fip, status='ACTIVE'): """"""Waits for a floating IP to reach active status. """""" client = client or self.os_primary.servers_client utils.wait_until_true(lambda: self._check_fip_status( fip['id'], status), timeout=120, sleep=1) :param server: mapping having schema {'id': <server_id>} :param client: servers client (self.os_primary.servers_client as :param server: mapping having schema {'id': <server_id>} :param client: servers client (self.os_primary.servers_client as", :param server: mapping having schema {'id': <server_id>} :param clien: servers client (self.os_primary.servers_client as :param server: mapping having schema {'id': <server_id>} :param clien: servers client (self.os_primary.servers_client as,19,4
openstack%2Fneutron~stable%2Focata~Ida1c9f3a38171ea82adc2f11cb17945d6e2434be,openstack/neutron,stable/ocata,Ida1c9f3a38171ea82adc2f11cb17945d6e2434be,Ensure dvr ha router gateway port binding host,ABANDONED,2019-05-16 19:34:05.000000000,2019-12-04 08:52:00.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 19:34:05.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdc0f7342b3a081c0cd86f3f9cb40f892ba0d008', 'message': 'Ensure dvr ha router gateway port binding host\n\nThere are some extreme conditions which will result the unbound\nrouter gateway port. Then all the centralized floating IPs will\nnot be reachable since the gateway port was set to 4095 tag.\n\nThis patch adds the HA status to the router related port\nprocessing code path. If it is HA router, the gateway port\nwill go to the right HA router processing code branch.\n\nCloses-Bug: #1827754\nChange-Id: Ida1c9f3a38171ea82adc2f11cb17945d6e2434be\n(cherry picked from commit 3d99147e732ab4cdad0b8243e5fabb6a8954aa72)\n'}]",0,659651,bdc0f7342b3a081c0cd86f3f9cb40f892ba0d008,4,4,1,7016,,,0,"Ensure dvr ha router gateway port binding host

There are some extreme conditions which will result the unbound
router gateway port. Then all the centralized floating IPs will
not be reachable since the gateway port was set to 4095 tag.

This patch adds the HA status to the router related port
processing code path. If it is HA router, the gateway port
will go to the right HA router processing code branch.

Closes-Bug: #1827754
Change-Id: Ida1c9f3a38171ea82adc2f11cb17945d6e2434be
(cherry picked from commit 3d99147e732ab4cdad0b8243e5fabb6a8954aa72)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/659651/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/api/rpc/handlers/l3_rpc.py']",3,bdc0f7342b3a081c0cd86f3f9cb40f892ba0d008,bug/1827754-stable/rocky-stable/queens-stable/pike-stable/ocata," router['id'], ha_router_port=router.get('ha')) LOG.debug(""Updating router %(router)s port %(port)s "" ""binding host %(host)s"", {""router"": router_id, ""port"": port['id'], ""host"": host}) LOG.debug(""Updating router %(router)s port %(port)s "" ""binding host %(host)s"", {""router"": router_id, ""port"": port['id'], ""host"": host})", router['id']),35,1
openstack%2Fneutron-specs~master~I7df941f5f79ccd7f1a24875b5a15a0f757ab57fb,openstack/neutron-specs,master,I7df941f5f79ccd7f1a24875b5a15a0f757ab57fb,WIP: Introduce versioning to neutron REST API,ABANDONED,2019-05-03 14:57:53.000000000,2019-12-04 08:51:46.000000000,,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-03 14:57:53.000000000', 'files': ['specs/train/neutron-api-versioning.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4fa5b3a522cb378a2f0d0cdaf0721a7f89166dee', 'message': 'WIP: Introduce versioning to neutron REST API\n\nChange-Id: I7df941f5f79ccd7f1a24875b5a15a0f757ab57fb\n'}]",50,656955,4fa5b3a522cb378a2f0d0cdaf0721a7f89166dee,9,8,1,841,,,0,"WIP: Introduce versioning to neutron REST API

Change-Id: I7df941f5f79ccd7f1a24875b5a15a0f757ab57fb
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/55/656955/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/neutron-api-versioning.rst'],1,4fa5b3a522cb378a2f0d0cdaf0721a7f89166dee,api-versioning,"====================== Versioning Neutron API ====================== API versioning again again again... This spec proposes to introduce a versioning to the neutron API. .. note:: A corresponding RFE has not been proposed yet. Promblem Description ==================== The only current way to make some featuree discoverable through API is ""extension"". However, there is no convenient way to make small changes in existing extensions. There is no way to make decremental changes efficiently. As a result, we have shim exntensions or some family of exntensions (e.g., ``tag``, ``tag-ext``, ``tagging``) or continue to use an incorrect attribute name (e.g., ``max_burst_kbps`` in QoS extension. it should be ``max_burst_kbits``). Some versioning mechanism is preferred. Proposed Change =============== Approach in the API side ~~~~~~~~~~~~~~~~~~~~~~~~ The neutron API is a collection of API extensions in general. It will introduce versioning into individual extensions. All extensions without explicit version is assumed as 1.0 and define Neutron APi version as a collection of extension versions. The neutron API version will be calculated automatically or manually bumped. Handling of experimental features is an open issue. They aree experimental and tend to be changed frequently (even with backward incompatible changes). They should not affect Neutron API version. Some feature is experimental and the interface may be changed. Some experimental mode would be nice. version '<1.0' in such extension might work? Out-of-tree extensions are considered as ""experimental"" and they do not affect the neutron API version. Extensions and API versions --------------------------- Neutron API version defines a whole set of APIs (regardless of some extension is enabled or not). ""extension list"" will be a kind of capability list. It shows what features are enabled to API consumers. The extension framework will be kept as-is. API layer implementation ------------------------ We need to maintain attribute maps per version and generate attribute maps corersponding to a requested version (if we introduce the microversion mechanism). API definitions --------------- A big question is who should keep the neutron API version (as a whole)? API (minor) version will bumped both when API schema is changed and when API behavior is changed. We currently have the API definitions in neutron-lib repository, but it does not define the API behavior. Individual stadium projects implements individual API extensions. This raises a question where we should maintain the API version as a whole. The API layer resolves neutron API version number into corresponding extension version numbers. Validation of API request and validation of responses from plugins will be done based on attribute maps of the requested API version. Plugin interface ---------------- Each plugin should declare supported extension versions. It would be an enhancement of ``supported_extension_aliases``. If no version is declared, it will be considered as 1.0 (default) Plugins should process and return based passed version number method interfaces would be like nova: https://docs.openstack.org/nova/latest/contributor/microversions.html#in-code. Requested version numbers are passed as part of ""Context"" object. It is needed so that a plugin behaves differently based on API versionn (e.g., exception code change) If a plugin does not support a requested version, the API layer will return NotImplementedError to API callers. Discussions =========== Do we use microversion? ~~~~~~~~~~~~~~~~~~~~~~~ Ideally microversion would be better, but I think we can start it from ""simple versioning"" like keystone does. Introducing the microversion mechanism would increase the maintenance cost because we need to continue to provide old behaviors. It means we have a number of branch logics. The current v2 neutron API has no mechanism for a kind of ""versioning"" The extension list just shows which features are available at the moment. Most developers assume it. ""Simple versioning"" would be a good start. Does it mean neutron API v3? ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Yes, I think it means neutron API v3. Regardless of that we introduce microversion or not (i.e., just versioning), it means the usage of neutron API will be changed. In neutorn API v2, API consumers checks neutron extension list to know which features are available. In the new scheme, API consumers checks the API version available. If we continue to use v2 API, we would have an extension which means API versioning is introduced, but it means API consumers need to check two things: API version and a list of extensions. It looks better to introduce a new API major instead as other projects do. ",,127,0
openstack%2Fneutron-vpnaas~master~I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b,openstack/neutron-vpnaas,master,I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b,Add support for oslo.privsep for NS_WRAPPER execution,ABANDONED,2018-10-17 08:59:07.000000000,2019-12-04 08:51:37.000000000,,"[{'_account_id': 8871}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-17 08:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8b17469e8b7f27e6c6c1460fba7f4b74bdace883', 'message': 'Add support for oslo.privsep for NS_WRAPPER execution\n\nThis patch adds support for using oslo.privsep when using NS_WRAPPER\nin order to speed up the processes and not content resources with\nthe neutron-rootwrap-daemon as the status checks can take a considerable\namount of time.\n\nChange-Id: I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b\n'}, {'number': 2, 'created': '2018-10-17 11:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/0d1475cf330cec998896eb5b8a161c64896bff63', 'message': 'Add support for oslo.privsep for NS_WRAPPER execution\n\nThis patch adds support for using oslo.privsep when using NS_WRAPPER\nin order to speed up the processes and not content resources with\nthe neutron-rootwrap-daemon as the status checks can take a considerable\namount of time.\n\nChange-Id: I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b\n'}, {'number': 3, 'created': '2018-10-17 11:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/03d1e20b7bad9c2bc12e67517c2be1b2548d2c13', 'message': 'Add support for oslo.privsep for NS_WRAPPER execution\n\nThis patch adds support for using oslo.privsep when using NS_WRAPPER\nin order to speed up the processes and not content resources with\nthe neutron-rootwrap-daemon as the status checks can take a considerable\namount of time.\n\nChange-Id: I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b\n'}, {'number': 4, 'created': '2018-10-17 18:26:09.000000000', 'files': ['neutron_vpnaas/privileged/swan.py', 'neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py', 'neutron_vpnaas/privileged/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/024c2a0b7a624856501286cd113be92dd340b7eb', 'message': 'Add support for oslo.privsep for NS_WRAPPER execution\n\nThis patch adds support for using oslo.privsep when using NS_WRAPPER\nin order to speed up the processes and not content resources with\nthe neutron-rootwrap-daemon as the status checks can take a considerable\namount of time.\n\nChange-Id: I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b\n'}]",2,611264,024c2a0b7a624856501286cd113be92dd340b7eb,13,4,4,1004,,,0,"Add support for oslo.privsep for NS_WRAPPER execution

This patch adds support for using oslo.privsep when using NS_WRAPPER
in order to speed up the processes and not content resources with
the neutron-rootwrap-daemon as the status checks can take a considerable
amount of time.

Change-Id: I1ac9e59d949695ffdfdb5c4488cf5b4ffbc2107b
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/64/611264/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/privileged/swan.py', 'neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py', 'neutron_vpnaas/privileged/__init__.py', 'neutron_vpnaas/services/vpn/device_drivers/libreswan_ipsec.py']",4,8b17469e8b7f27e6c6c1460fba7f4b74bdace883,,"import neutron_vpnaas.privileged.swan def _ipsec_execute(self, cmd, extra_ok_codes=[0]): cmd = '%s,%s' % (self.binary, ','.join(cmd)) return swan.run_with_ns_wrapper(self.namespace, mount_paths, cmd, extra_ok_codes)","NS_WRAPPER = 'neutron-vpn-netns-wrapper' def _ipsec_execute(self, cmd, check_exit_code=True, extra_ok_codes=None): ip_wrapper = ip_lib.IPWrapper(namespace=self.namespace) mount_paths_str = ','.join( ""%s:%s"" % (source, target) for source, target in mount_paths.items()) return ip_wrapper.netns.execute( [NS_WRAPPER, '--mount_paths=%s' % mount_paths_str, '--cmd=%s,%s' % (self.binary, ','.join(cmd))], check_exit_code=check_exit_code, extra_ok_codes=extra_ok_codes)",68,24
openstack%2Fneutron~stable%2Focata~Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7,openstack/neutron,stable/ocata,Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7,Fix dvr ha router gateway goes wrong host,ABANDONED,2019-03-01 17:23:10.000000000,2019-12-04 08:51:32.000000000,,"[{'_account_id': 6593}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-01 17:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a08a76774631efcbd2683e497e6be8a9a884990c', 'message': ""Fix dvr ha router gateway goes wrong host\n\nDuring L3 agent restart, the dvr ha router gateway port\nbinding host may change because the multiple ha router\nscheduled hosts.\n\nAfter this patch, we return the 'master' ha binding host\ndirectly during the gateway port create. And do not let\nthe original 'master' (current is backup) host override\nthe gateway port binding host.\n\nCloses-Bug: #1793529\nChange-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7\n""}, {'number': 2, 'created': '2019-05-17 18:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3fec89a7627141a9ed9be3b1d0fdef4bc73fbad', 'message': ""Fix dvr ha router gateway goes wrong host\n\nDuring L3 agent restart, the dvr ha router gateway port\nbinding host may change because the multiple ha router\nscheduled hosts.\n\nAfter this patch, we return the 'master' ha binding host\ndirectly during the gateway port create. And do not let\nthe original 'master' (current is backup) host override\nthe gateway port binding host.\n\nCloses-Bug: #1793529\nChange-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7\n""}, {'number': 3, 'created': '2019-05-28 23:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de3b6713363ba1b6b351dc76e95ae8a673ce45cb', 'message': ""Fix dvr ha router gateway goes wrong host\n\nDuring L3 agent restart, the dvr ha router gateway port\nbinding host may change because the multiple ha router\nscheduled hosts.\n\nAfter this patch, we return the 'master' ha binding host\ndirectly during the gateway port create. And do not let\nthe original 'master' (current is backup) host override\nthe gateway port binding host.\n\nCloses-Bug: #1793529\nChange-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7\n""}, {'number': 4, 'created': '2019-05-29 18:43:28.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a38af35a2a2f5c5367e6e9fa29e821c23a498041', 'message': ""Fix dvr ha router gateway goes wrong host\n\nDuring L3 agent restart, the dvr ha router gateway port\nbinding host may change because the multiple ha router\nscheduled hosts.\n\nAfter this patch, we return the 'master' ha binding host\ndirectly during the gateway port create. And do not let\nthe original 'master' (current is backup) host override\nthe gateway port binding host.\n\nCloses-Bug: #1793529\nChange-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7\n""}]",0,640451,a38af35a2a2f5c5367e6e9fa29e821c23a498041,25,8,4,6593,,,0,"Fix dvr ha router gateway goes wrong host

During L3 agent restart, the dvr ha router gateway port
binding host may change because the multiple ha router
scheduled hosts.

After this patch, we return the 'master' ha binding host
directly during the gateway port create. And do not let
the original 'master' (current is backup) host override
the gateway port binding host.

Closes-Bug: #1793529
Change-Id: Icb2112c7f0bd42c4f4b1cf32d6b83b6d97f85ef7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/640451/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",4,a08a76774631efcbd2683e497e6be8a9a884990c,bug/1793529," def test__get_sync_routers_with_state_change_and_check_gw_port_host(self): ext_net = self._create_network(self.core_plugin, self.admin_ctx, external=True) network_id = self._create_network(self.core_plugin, self.admin_ctx) subnet = self._create_subnet(self.core_plugin, self.admin_ctx, network_id) interface_info = {'subnet_id': subnet['id']} router = self._create_router() self.plugin._update_router_gw_info(self.admin_ctx, router['id'], {'network_id': ext_net}) self.plugin.add_router_interface(self.admin_ctx, router['id'], interface_info) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_ACTIVE}, self.agent1['host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent2['host']) routers = self.plugin._get_sync_routers(self.admin_ctx, router_ids=[router['id']]) self.assertEqual(self.agent1['host'], routers[0]['gw_port_host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_STANDBY}, self.agent1['host']) self.plugin.update_routers_states( self.admin_ctx, {router['id']: n_const.HA_ROUTER_STATE_ACTIVE}, self.agent2['host']) routers = self.plugin._get_sync_routers(self.admin_ctx, router_ids=[router['id']]) self.assertEqual(self.agent2['host'], routers[0]['gw_port_host']) ",,124,22
openstack%2Fnetworking-bgpvpn~master~Iee66d2f9c239b7df7fbdefb149e6d140b9a47ff6,openstack/networking-bgpvpn,master,Iee66d2f9c239b7df7fbdefb149e6d140b9a47ff6,Add Route Distinguishers parameter in tempest scenario tests,ABANDONED,2018-06-29 09:33:02.000000000,2019-12-04 08:51:20.000000000,,"[{'_account_id': 10068}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 16353}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 26445}]","[{'number': 1, 'created': '2018-06-29 09:33:02.000000000', 'files': ['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/d17dcbee91f34d7e96f41d4e1b7dbc3f3dcae992', 'message': 'Add Route Distinguishers parameter in tempest scenario tests\n\nThe scenario test cases under networking_bgpvpn_tempest don\'t supply\nroute_distinguishers parameter when creating a BGP VPN and as a result\nthere is no reach (ping) from a VM in one associated network to\na VM in another associated network.\nA method to generate route_distinguishers is introduced and the\nparameteris provided in all test cases. In ""Test port association\nroutes of type \'bgpvpn\'"" case, different RD parameters are used in each\nL3 VPN created.\n\nCloses-Bug: #1778480\n\nChange-Id: Iee66d2f9c239b7df7fbdefb149e6d140b9a47ff6\nSigned-off-by: nikoskarandreas <nick@intracom-telecom.com>\n'}]",0,579107,d17dcbee91f34d7e96f41d4e1b7dbc3f3dcae992,5,7,1,28561,,,0,"Add Route Distinguishers parameter in tempest scenario tests

The scenario test cases under networking_bgpvpn_tempest don't supply
route_distinguishers parameter when creating a BGP VPN and as a result
there is no reach (ping) from a VM in one associated network to
a VM in another associated network.
A method to generate route_distinguishers is introduced and the
parameteris provided in all test cases. In ""Test port association
routes of type 'bgpvpn'"" case, different RD parameters are used in each
L3 VPN created.

Closes-Bug: #1778480

Change-Id: Iee66d2f9c239b7df7fbdefb149e6d140b9a47ff6
Signed-off-by: nikoskarandreas <nick@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/07/579107/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn_tempest/tests/scenario/test_bgpvpn_basic.py'],1,d17dcbee91f34d7e96f41d4e1b7dbc3f3dcae992,bug/1778480," @classmethod @lockutils.synchronized('bgpvpn') def new_rd(cls): cls._rd_index += 1 return ""11:%d"" % cls._rd_index self.RD1 = self.new_rd() self.RD2 = self.new_rd() self.RD3 = self.new_rd() self.RD4 = self.new_rd() self.RD5 = self.new_rd() rts=[self.RT1], rds=[self.RD1]) rts=[self.RT2], rds=[self.RD2]) export_rts=[RT_from_A], rds=[self.RD1]) export_rts=[RT_from_C], rds=[self.RD3]) import_rts=[RT_from_C, RT_from_A], rds=[self.RD2]) export_rts=[RT_to_A], rds=[self.RD4]) export_rts=[RT_to_C], rds=[self.RD5]) import_rts=None, export_rts=None, rds=None): if rds is None: rds = [self.RD1] import_targets=import_rts, route_distinguishers=rds)"," rts=[self.RT1]) rts=[self.RT2]) export_rts=[RT_from_A]) export_rts=[RT_from_C]) import_rts=[RT_from_C, RT_from_A]) export_rts=[RT_to_A]) export_rts=[RT_to_C]) import_rts=None, export_rts=None): import_targets=import_rts)",27,9
openstack%2Fneutron-fwaas~master~I05ea09217e4ce019cba5f357f35e17cc8d2e59d9,openstack/neutron-fwaas,master,I05ea09217e4ce019cba5f357f35e17cc8d2e59d9,Adds remote firewall group to plugin,ABANDONED,2017-11-17 22:58:16.000000000,2019-12-04 08:51:10.000000000,,"[{'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 15471}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-17 22:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fcfec85c274e60ee431ced7b724b37c81e010db6', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 2, 'created': '2017-11-20 23:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c30cf71d4831941d6b6a75b23c50c9e9cc3536a8', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 3, 'created': '2017-11-30 22:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b8357960181db77ea18d526419c83b298cb14440', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 4, 'created': '2017-12-04 16:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8693fc928dd325cf5ff321a4017a2c6a9c0f0331', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 5, 'created': '2017-12-20 22:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6de18c67c0c367ec1e89ac855b15364af852aab8', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 6, 'created': '2017-12-21 13:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e89a48532dd419211ad6fc595c614d31ccdae3f8', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 7, 'created': '2018-01-12 19:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/db61592d24a79f12347b55986024eb0bd0f59b9d', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 8, 'created': '2018-01-15 21:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d7665c6410c798e64ac603afceb9332ae8a1833a', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 9, 'created': '2018-01-15 21:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1f1d3652f160ea87e3f55916eccc828487ae307e', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 10, 'created': '2018-01-31 18:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2942e6ee52b6c04e4d2e0f2b79c16a91652b0aed', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 11, 'created': '2018-02-12 22:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4824b15f2d5b5481ca05a1674617b609085e2b50', 'message': '[WIP] Adds remote firewall group\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 12, 'created': '2018-04-13 20:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/58c32dcfc7e2cb70818db6815897f83767b0a8ff', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 13, 'created': '2018-04-18 19:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d6928225886af775dcc4a7aa9eac4c6a4119924e', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 14, 'created': '2018-04-27 21:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e503417ea75f1d48fc0a98f983fea2c9d1f44694', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 15, 'created': '2018-04-30 15:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dc6b3494771a6a9dae0738b5909fb2437baa1300', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 16, 'created': '2018-04-30 20:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d592efed38f77cfd9b893644e6ebdf94fae1a7b6', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 17, 'created': '2018-05-01 22:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a70daf97376915577de7ac1b5b52e7681d023810', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 18, 'created': '2018-05-02 19:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4b54a5a908cc6d8d7ce3d4754c6146e242fdbe8a', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 19, 'created': '2018-05-02 20:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9576244b51afd40fd2add789efa964766790723c', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 20, 'created': '2018-05-02 23:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b79f2c4edca71279356f2d4a565a417bcffb01a5', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 21, 'created': '2018-05-11 21:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7445959e07ae965d7c1bfeead2e2d960747a6451', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 22, 'created': '2018-05-14 18:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3990ae1da2cb2a5d96fd26354e6cc9bf9196caca', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 23, 'created': '2018-05-15 18:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3a57c4c0821a5a66536a23f415d8c5e937a71367', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 24, 'created': '2018-05-16 18:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/672cc7be6280544696f961b079bec59f0f521ab2', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 25, 'created': '2018-05-16 20:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/53132e1125b2294ffec6de9d2b5a4ed6d2d1e91b', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 26, 'created': '2018-05-16 22:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ec9522f739bd716a9c5b724e932b9533efe9ea2a', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 27, 'created': '2018-05-17 04:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4b2038f4e260f030146034b00d1c1292d60fa2f8', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 28, 'created': '2018-05-17 17:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b559da7d8a13eab98ac100f0138d8d8605ffa8d5', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 29, 'created': '2018-05-18 14:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bc566ee28353f001b825b737deabc3ed83956e9a', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 30, 'created': '2018-05-18 18:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fb8a1c498b50847773984b9a4969dc783cc0511d', 'message': '[WIP] Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 31, 'created': '2018-05-23 18:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/817f179ad33dcfd9f65797f0786d0eed7fbc8717', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nIt requires the latest neutron-lib so that\ndb-migrate will handle the rocky folder\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 32, 'created': '2018-05-25 20:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dd71c8e79c495d6357a5ae9d688dc88db068071c', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 33, 'created': '2018-05-25 22:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0991a19af1e4ec5666cbbb5d49918e7c657ae318', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nIt requires the latest neutron-lib so that\ndb-migrate will handle the rocky folder\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 34, 'created': '2018-09-11 16:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/213daf66474075626d1b4a75000ed7e278a1fc7e', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nIt requires the latest neutron-lib so that\ndb-migrate will handle the rocky folder\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 35, 'created': '2018-09-11 17:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/002c84c84757433760dc6caa6b072411573c11a9', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nIt requires the latest neutron-lib so that\ndb-migrate will handle the rocky folder\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 36, 'created': '2018-09-11 23:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b2ff1b0fd916d79fcd837be237e37768878f9313', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 37, 'created': '2018-09-11 23:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/72822a019a97e809526b5a42b633715d97642018', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 38, 'created': '2018-09-12 03:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6bfc627cee973e2bc9677c6f4db9332aebb682e8', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 39, 'created': '2018-09-12 15:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e276d8d71edc825444fdb14394829eec7e699c1a', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 40, 'created': '2018-09-12 15:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/37fd626b945892561ec174c521cd88f282b0c034', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 41, 'created': '2018-09-13 18:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/cee42ed53074dafcecb4d579b50bc8b9333a7804', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 42, 'created': '2018-12-04 17:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7da7e920d108e9676dfe92e46e503a0258f0d440', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}, {'number': 43, 'created': '2018-12-07 18:52:10.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'requirements.txt', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', '.zuul.yaml', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/stein/expand/0612b73e2bf2_.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c298348e0a712f52ac07acf2bf687f8b47db8b89', 'message': 'Adds remote firewall group to plugin\n\nThis add the remote fwg to the plugin. Follow\nup patches will add it to agent/driver.\n\nChange-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9\nDepends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed\n'}]",11,521207,c298348e0a712f52ac07acf2bf687f8b47db8b89,100,6,43,10850,,,0,"Adds remote firewall group to plugin

This add the remote fwg to the plugin. Follow
up patches will add it to agent/driver.

Change-Id: I05ea09217e4ce019cba5f357f35e17cc8d2e59d9
Depends-On:   I4086278fe90ec68631ae1dbba4b17f8cf06005ed
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/07/521207/22 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'requirements.txt', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/38d44ebd849a_add_remote_fwg.py']",4,fcfec85c274e60ee431ced7b724b37c81e010db6,plugin,"# Copyright 2017 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""add remote fwg Revision ID: 38d44ebd849a Revises: c8c222d42aa9 Create Date: 2017-11-17 11:36:17.547459 """""" # revision identifiers, used by Alembic. revision = '38d44ebd849a' down_revision = 'c8c222d42aa9' from alembic import op import sqlalchemy as sa def upgrade(): op.add_column( 'firewall_rules_v2', sa.Column(u'source_firewall_group_id', sa.String(length=36), sa.ForeignKey('firewall_groups_v2.id'))) op.add_column( 'destination_firewall_group_id', sa.Column(u'source_firewall_group_id', sa.String(length=36), sa.ForeignKey('firewall_groups_v2.id'))) ",,104,6
openstack%2Fneutron-specs~master~Ic00cff898b7d6533f8017c824b293ea449c3dcdf,openstack/neutron-specs,master,Ic00cff898b7d6533f8017c824b293ea449c3dcdf,Add spec for SBI database consistency,ABANDONED,2018-05-01 08:12:23.000000000,2019-12-04 08:51:06.000000000,,"[{'_account_id': 333}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6697}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 7921}, {'_account_id': 8655}, {'_account_id': 8976}, {'_account_id': 9531}, {'_account_id': 10237}, {'_account_id': 10910}, {'_account_id': 11975}, {'_account_id': 13912}, {'_account_id': 13995}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 22380}, {'_account_id': 24791}, {'_account_id': 25587}, {'_account_id': 26507}, {'_account_id': 30560}]","[{'number': 1, 'created': '2018-05-01 08:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e8820c7e49a5d3c2104ad98bb5287ed0998b8902', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 2, 'created': '2018-05-02 12:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0d8256d41cfdb003764ca037345160c77303803c', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 3, 'created': '2018-05-02 13:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/20f78d9a2f3f059d08cbff7012338dd887a1f9bf', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 4, 'created': '2018-05-07 08:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc8ab11bb536e3bac1f56ce6705abb808c3ee7cc', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 5, 'created': '2018-05-14 12:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aa9a35e94f0af58e3e11f225bd960fe7338b4527', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 6, 'created': '2018-05-21 14:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/01ed5a3c1c3c6c712e7253fbf57680f414fccd57', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 7, 'created': '2018-05-28 14:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/083c72a8311ed26d781615b41fc60261cf28890c', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 8, 'created': '2018-05-30 12:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fabde3b3425e52300d06c77a699a4b5feed3f11f', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 9, 'created': '2018-06-05 08:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/639e53624831f6dcc61e1f59ef9277db7f146ac8', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 10, 'created': '2018-06-20 11:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5c0323c31f91a8088ba8791bf4a70b15b7ab5318', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 11, 'created': '2018-07-09 12:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/46ba2072eb128f4b0abd2198def6cf117a6dad0a', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}, {'number': 12, 'created': '2018-10-09 14:15:30.000000000', 'files': ['specs/stein/sbi-database-consistency.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2e9d8de17073b240f90fd33de4881acab74a886b', 'message': 'Add spec for SBI database consistency\n\nIn a common Neutron deployment model there could have multiple Neutron\nAPI workers processing requests. For each request, the neutron worker\nwill update the Neutron database and then invoke the SBI to translate\n\nThis spec provides a solution that will give neutron an interface that\ndrivers that interact with SBIs can use to ensure that resources are\nconsistently pushed to the SBI.\n\nChange-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf\n'}]",160,565463,2e9d8de17073b240f90fd33de4881acab74a886b,72,24,12,26507,,,0,"Add spec for SBI database consistency

In a common Neutron deployment model there could have multiple Neutron
API workers processing requests. For each request, the neutron worker
will update the Neutron database and then invoke the SBI to translate

This spec provides a solution that will give neutron an interface that
drivers that interact with SBIs can use to ensure that resources are
consistently pushed to the SBI.

Change-Id: Ic00cff898b7d6533f8017c824b293ea449c3dcdf
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/63/565463/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/sbi-database-consistency.rst'],1,e8820c7e49a5d3c2104ad98bb5287ed0998b8902,bp/sbi-database-consistency,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Neutron/Southbound Interface consistency ======================================== This document presents the problem and proposes a solution for the data consistency issue between the Neutron and Southbound Interface (SBI). For the purposes of this proposal, we will define SBI as the interface, from the Neutron's standpoint, that is called in order to configure the network controller (e.g.: in OpenDaylight is ODL NeutronNorthbound, in Open Virtual Network (OVN) is the Cloud Management System (CMS), etc). The solution has been implemented and successfully validated in OVN. Problem description =================== In a common Neutron deployment model there could have multiple Neutron API workers processing requests. For each request, the neutron worker will update the Neutron database and then invoke the SBI to translate the information to its specific data model. There are at least two situations that could lead to some inconsistency between them, for example: .. _problem_1: Problem 1: Neutron API workers race condition --------------------------------------------- .. code-block:: python In Neutron: with neutron_db_transaction: update_neutron_db() driver.update_port_precommit() driver.update_port_postcommit() In the driver: def update_port_postcommit: port = neutron_db.get_port() update_port_in_southbound_controller(port) Imagine the case where a port is being updated twice and each request is being handled by a different API worker. The method responsible for updating the resource in the SBI (``update_port_postcommit``) is not atomic and invoked outside of the Neutron database transaction. This could lead to a problem where the order in which the updates are committed to the Neutron database are different than the order that they are committed to the SBI, resulting in an inconsistency. This problem has been reported for OVN at `bug #1605089 <https://bugs.launchpad.net/networking-ovn/+bug/1605089>`_. .. _problem_2: Problem 2: SBI failures ----------------------- Another situation is when the changes are already committed in Neutron but an exception is raised upon trying to update the SBI (e.g. lost connectivity to the Southbound controller). This problems affected OVN -before adopting the solution this change proposes- and ODL -before adopting `Journaling`_. Other drivers might be affected by this issue. Obviously, it would be possible to try to immediately rollback the changes in the Neutron database and raise an exception but, the rollback itself, is an operation that could also fail. In addition, rollbacks are not very straight forward when it comes to updates or deletes. In a case where a VM is being teared down and the SBI fails to delete a port, re-creating that port in Neutron doesn't necessary fix the problem. The decommission of a VM involves many other things, in fact, things could even be made worse by leaving some dirty data around. This is a problem that would be better dealt with by other methods. Proposed change =============== Introduction ------------ In order to fix the problems presented at the `Problem description`_ section this document proposes a solution based on the Neutron's ``revision_number`` attribute. In summary, for every resource in Neutron there's an attribute called ``revision_number`` which gets incremented on each update made on that resource. For example:: $ openstack port create --network nettest porttest ... | revision_number | 2 | ... $ openstack port set porttest --mac-address 11:22:33:44:55:66 $ mysql -e ""use neutron; select standard_attr_id from ports where id=\""91c08021-ded3-4c5a-8d57-5b5c389f8e39\"";"" +------------------+ | standard_attr_id | +------------------+ | 1427 | +------------------+ $ mysql -e ""use neutron; SELECT revision_number FROM standardattributes WHERE id=1427;"" +-----------------+ | revision_number | +-----------------+ | 3 | +-----------------+ This document proposes a solution that will use the `revision_number` attribute for three things: #. Perform a compare-and-swap operation based on the resource version #. Guarantee the order of the updates (`Problem 1 <problem_1_>`_) #. Detect when resources in Neutron and the SBI are out-of-sync Implementation details ---------------------- To achieve this, a new table schema would be created to allow each SBI to track and manage resources: ================ ======== ================================================= Column name Type Description ================ ======== ================================================= standard_attr_id Integer The reference ID from the standardattributes table in Neutron for that resource. ONDELETE SET NULL. resource_uuid String Primary key. The UUID of the resource resource_type String The type of the resource (e.g, Port, Router, ...) resource_mgmt String The name of the SBI driver that manages the resource. revision_number Integer The version of the object present in the SBI. created_at DateTime The time that the entry was created. For troubleshooting purposes updated_at DateTime The time that the entry was updated. For troubleshooting purposes ================ ======== ================================================= This table will be provide the support for the interface described hereafter. Interface ````````` Each public method of the main interface will have two ways of accessing it, as a decorator and as a context manager. .. TODO(mpeterson): Check if the decorator version could be actually be implemented, as I think not all *commit(...) work in the same way. I don't know if in all you get the resource in context.current. As an example, an usage with decorators would look like this: .. code-block:: python @sync_resource def create_port_postcommit(self, context): # operations to create the port Whereas with the context manager it would look like this: .. code-block:: python def create_port_postcommit(self, context): port = context.current with sync_resource.using(context, port): # operations to create the port new_resource '''''''''''' Creates a new entry in the table with a placeholder value. This is meant to be done before the SBI is called, in order to indicate that a create action needs to be executed. In most cases this will be called from create_*_precommit() methods. The proposed placeholder value is -1. Expected result: - On Success: The entry for the resource is created with revision_number = -1. - On Exception: The entry is not created. sync_resource ''''''''''''' The method provides a way to handle in which cases the SBI needs to be called and to bump the revision number once there has been success on syncing with the SBI backend. In most cases this will be called in the \*_postcommit() methods. Cases where the SBI is not called: - When the revision_number for the resource is lower than the one from the table. In this case there is no need to call the SBI, as it has already synced to a newer version of the resource. - When the standard_attr_id is NULL, in which case the resource has been deleted in Neutron and therefore an update will be not needed in the SBI. Expected result: - On Success: it updates the revision_number for the resource to the current resource revision number. - On Exception: The entry for the resource is left untouched. .. note:: There's no lock linking both database updates in the postcommit() methods. So, it's true that the method bumping the revision_number column in the new table in Neutron DB could still race but, that should be fine because the SBI should implement checks that allows to react to race conditions, e.g.: recording the revision_number internally. If so, the mechanism that will detect and fix the out-of-sync resources should detect this inconsistency as well and, based on the revision_number in SBI controller, decide whether to sync the resource or only bump the revision_number in the cache table (in case the resource is already at the right version). delete_resource ''''''''''''''' Allows the deletion, from the aformentioned table, of a resource that has been deleted on SBI. Expected result: - On Success: it deletes the corresponding entry for the resource. - On Exception: The entry for the resource remains, but since the table is defined with a ONDELETE SET NULL, the entry will have its ``standard_attr_id`` on NULL. .. note:: There's no lock linking both database updates in the postcommit() methods. However, as explained before, there is no need to have one. Implementation examples ``````````````````````` For the different actions: Create, update and delete; this interface can be used as: 1. Create: '''''''''' In the create_*_precommit() method, an entry is created in the table within the same Neutron transaction. The revision_number column for the new entry will have a placeholder value until the resource is successfully created by calling the SBI. In case creation fails to create the resource by calling the SBI (but succeeds in Neutron), the entry remains logged in the new table and this problem can be detected by fetching all resources where the revision_number column value is equal to the placeholder value. The pseudo-code will look something like this: .. code-block:: python @new_resource def create_port_precommit(self, context): pass def create_port_postcommit(self, context): port = context.current with sync_resource.using(context, port): sbi.create_port(port) 2. Update: '''''''''' For update, it is simpler, the revision number for that resource is updated **after** the SBI has been successfully updated in the update_*_postcommit() method. That way, if an update fails to be applied to the controller, the inconsistencies can be detected by a JOIN between the new table and the ``standardattributes`` table where the revision_number columns do not match. The pseudo-code will look something like this: .. code-block:: python def update_port_postcommit(self, context): port = context.current with sync_resource.using(context, port): sbi.update_port(port) 3. Delete: '''''''''' The ``standard_attr_id`` column in the new table is a foreign key constraint with a ``ONDELETE=SET NULL`` set. That means that, upon Neutron deleting a resource the ``standard_attr_id`` column in the new table will be set to *NULL*. If deleting a resource succeeds in Neutron but fails in the SDN controller, the inconsistency can be detected by looking at all resources that has a ``standard_attr_id`` equals to NULL. The pseudo-code will look something like this: .. code-block:: python def delete_port_postcommit(self, context, port): with delete_resource.using(context, port): sbi.delete_port(port) With the above optimization it's possible to create a periodic task that can run frequently to detect and fix the inconsistencies caused by random backend failures. Prerequisites ````````````` These changes have the following prerequisites to be take into consideration from the SBI side: #1 - Store the revision_number referent to a change in the SBI controller ''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''' To be able to compare the version of the resource in Neutron against the version in the ODL driver there is a need to know which version the SBI controller is present at. In order to achieve this, each SBI that adopts this solution needs to track it internally e.g.: with a special column called ``external_ids`` which external systems can use to store information about its own resources that corresponds to the entries in the driver. Therefore, every time a resource is created or updated in the SBI, the Neutron ``revision_number`` referent to that change will be stored in the ``external_ids`` column of that resource. That will allow the SBI to look at both databases and detect whether the version in the SBI controller is up-to-date with Neutron or not. #2 - Ensure correctness when updating the SDN controller '''''''''''''''''''''''''''''''''''''''''''''''''''''''' As stated in `Problem 1 <problem_1_>`_, simultaneous updates to a single resource will race and the order in which these updates are applied is not guaranteed to be correct . That means that, if two or more updates arrive it would not be possible to prevent an older version of that update to be applied after a newer one. This document proposes having a special ``SBI command`` that runs as part of the same transaction that is updating a resource in SBI controller to prevent changes with a lower ``revision_number`` to be applied in case the resource in the controller is at a higher ``revision_number`` already. This needs to basically do two things: 1. Add a verify operation to the ``external_ids`` column so that if another client modifies that column mid-operation the transaction will be restarted. 2. Compare the ``revision_number`` from the update against what is presently stored in SBI controller. If the version in SBI controller is already higher than the version in the update, abort the transaction. So basically this new command is responsible for guarding the resource by not allowing old changes to be applied on top of new ones. Here's a scenario where two concurrent updates comes in the wrong order and how the solution above will deal with it: Neutron worker 1 (NW-1): Updates a port with address A (revision_number: 2) Neutron worker 2 (NW-2): Updates a port with address B (revision_number: 3) TXN 1: NW-2 transaction is committed first and the SBI resource now has RN 3 TXN 2: NW-1 transaction detects the change in the ``external_ids`` column and is restarted. TXN 2: NW-1 the command now sees that the SBI resource is at RN 3, which is higher than the update version (RN 2) and aborts the transaction. There's a bit more for the above to work to ensure this works: 1. Consolidate changes to a resource in a single transaction. 2. When doing partial updates, use the SBI controller as the source of comparison to create the deltas. Being able to do a partial update in a resource is important for performance reasons; it's a way to minimize the number of changes that will be performed in the database. Some of the update() methods could create deltas using the *current* and *original* parameters that are passed to it. The *current* parameter is, as the name says, the current version of the object present in the Neutron DB. The *original* parameter is the previous version (current - 1) of that object. The problem of creating the deltas by comparing these two objects is because only the data in the Neutron DB is used for it. So in summary, to guarantee the correctness of the updates this document proposes to: #. Have a ``SBI command`` is responsible for comparing revision numbers and aborting the transaction, when needed. #. Make sure that changes to a resource is in a single transaction. #. When doing partial updates, create the deltas based in the current version in the Neutron DB vs the one present in the SBI controller. #3 - Detect and fix out-of-sync resources ''''''''''''''''''''''''''''''''''''''''' When things are working as expected the above changes should ensure that Neutron DB and the SBI controller are in sync but, what happens when things go bad ? As per `Problem 2 <problem_2_>`_, things like temporarily losing connectivity with the SBI could cause changes to fail to be committed and the databases getting out-of-sync. It is then mandatory to detect those resources that were affected by these failures and fix them. This document proposes having utility functions that can be run periodically to ""maintain"" the system healthy. To this regard, this document proposes to also include utility functions that can be used by such maintenance periodic task. Utility functions ````````````````` get_inconsistent_resources '''''''''''''''''''''''''' Get a list of inconsistent resources which the revision number from the table aformentioned differs from the standardattributes table. get_deleted_resources ''''''''''''''''''''' Get a list of resources that have been deleted from neutron but not in the SBI controller. Once a resource is deleted in Neutron the ``standard_attr_id`` foreign key in the revision_numbers table will be set to NULL. Upon successfully deleting the resource throughh the SBI the entry in the revision_number table should also be deleted but if something fails the entry will be kept and returned in this list so the maintenance thread can later fix it. References ========== * OVN has an implementation of this proposal at: https://github.com/openstack/networking-ovn/blob/master/networking_ovn/db/revision.py and https://github.com/openstack/networking-ovn/blob/master/networking_ovn/db/maintenance.py Alternatives ============ Journaling ---------- An alternative solution to this problem is *journaling*. The basic idea is to create another table in the Neutron database and log every operation (create, update and delete) instead of passing it directly to the SDN controller. A separated thread (or multiple instances of it) is then responsible for reading this table and applying the operations to the SDN backend. This approach has been used and validated by drivers such as `networking-odl <https://docs.openstack.org/networking-odl/latest/contributor/drivers_architecture.html#v2-design>`_. Some things to keep in mind about this approach: * The code can get quite complex as this approach is not only about applying the changes to the SDN backend asynchronously. The dependencies between each resource as well as their operations also needs to be computed. For example, before attempting to create a router port the router that this port belongs to needs to be created. Or, before attempting to delete a network all the dependent resources on it (subnets, ports, etc...) needs to be processed first. * The number of journal threads running can cause problems. In my tests I had three controllers, each one with 24 CPU cores (Intel Xeon E5-2620 with hyperthreading enabled) and 64GB RAM. Running 1 journal thread per Neutron API worker has caused ``ovsdb-server`` to misbehave when under heavy pressure [1]_. Running multiple journal threads seem to be causing other types of problems `in other drivers as well <https://bugs.launchpad.net/networking-odl/+bug/1683797>`_. * When under heavy pressure [1]_, I noticed that the journal threads could come to a halt (or really slowed down) while the API workers were handling a lot of requests. This resulted in some operations taking more than a minute to be processed. This behaviour can be seem `in this screenshot <http://i.imgur.com/GDG8Mic.png>`_. .. TODO find a better place to host that image * Given that the 1 journal thread per Neutron API worker approach is problematic, determining the right number of journal threads is also difficult. In my tests, I've noticed that 3 journal threads per controller worked better but that number was pure based on ``trial & error``. In production this number should probably be calculated based in the environment, perhaps something like `TripleO <http://tripleo.org>`_ (or any upper layer) would be in a better position to make that decision. * At least temporarily, the data in the Neutron database is duplicated between the normal tables and the journal one. * Some operations like creating a new resource via Neutron's API will return `HTTP 201 <https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#2xx_Success>`_, which indicates that the resource has been created and is ready to be used, but as these resources are created asynchronously one could argue that the HTTP codes are now misleading. As a note, the resource will be created at the Neutron database by the time the HTTP request returns but it may not be present in the SDN backend yet. Given all considerations, this approach is still valid and the fact that it's already been used by other ML2 drivers makes it more open for collaboration and code sharing. .. _`Transaction class`: https://github.com/openvswitch/ovs/blob/3728b3b0316b44d1f9181be115b63ea85ff5883c/python/ovs/db/idl.py#L1014-L1055 .. _`ovn_db_sync.py`: https://github.com/openstack/networking-ovn/blob/a9af75cd3ce6cd6685b6435b325c97cacc83ce0e/networking_ovn/ovn_db_sync.py .. rubric:: Footnotes .. [1] Lucas Gomes ran the tests using `Browbeat <https://github.com/openstack/browbeat>`_ which is basically orchestrate `Openstack Rally <https://github.com/openstack/rally>`_ and monitor the machine's usage of resources. Contributors ============ * Lucas Alvares Gomes contributed the original spec that was implemented for networking-ovn. * Michel Peterson adapted and generalized the original spec for implementation in neutron. ",,552,0
openstack%2Fneutron~master~Ib4fbd70a80dd37b250c5b2ec549fbb649e11e9d5,openstack/neutron,master,Ib4fbd70a80dd37b250c5b2ec549fbb649e11e9d5,Add region name to fetch PTR records with designate,ABANDONED,2019-06-13 21:31:42.000000000,2019-12-04 08:51:01.000000000,,"[{'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-13 21:31:42.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py', 'neutron/conf/services/extdns_designate_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0922dcbfd8d6dda31bf62581719a1589016ec0cc', 'message': 'Add region name to fetch PTR records with designate\n\nThis change adds a new `region_name` field to the designate driver for\nneutron to fetch PTR records.\n\nChange-Id: Ib4fbd70a80dd37b250c5b2ec549fbb649e11e9d5\n'}]",0,665243,0922dcbfd8d6dda31bf62581719a1589016ec0cc,5,4,1,12271,,,0,"Add region name to fetch PTR records with designate

This change adds a new `region_name` field to the designate driver for
neutron to fetch PTR records.

Change-Id: Ib4fbd70a80dd37b250c5b2ec549fbb649e11e9d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/665243/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/services/extdns_designate_driver.py', 'neutron/services/externaldns/drivers/designate/driver.py']",2,0922dcbfd8d6dda31bf62581719a1589016ec0cc,bug/1832769," admin_client = d_client.Client(session=_SESSION, auth=admin_auth, region_name=CONF.designate.region_name)"," admin_client = d_client.Client(session=_SESSION, auth=admin_auth)",4,1
openstack%2Fneutron~master~I353ce8b3ee4a2fe263f402c6969b6b29c69d1195,openstack/neutron,master,I353ce8b3ee4a2fe263f402c6969b6b29c69d1195,[WIP] Simplify some flow tables about openvswitch firewall driver,ABANDONED,2019-06-17 11:44:46.000000000,2019-12-04 08:50:57.000000000,,"[{'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-17 11:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/170ca409151950ad2ddad0891e56324edb9c9ea1', 'message': '[WIP] Simplify some flow tables about openvswitch firewall driver\n\nCurrently, the ovs flow tables will become enormous if we use\nopenvswitch firewall driver. The patch try to simplify flow tables.\n\nChange-Id: I353ce8b3ee4a2fe263f402c6969b6b29c69d1195\nRelated-Bug: #1831706\n'}, {'number': 2, 'created': '2019-06-18 11:56:09.000000000', 'files': ['doc/source/contributor/internals/openvswitch_firewall.rst', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a85f59df66ae49ee5d26680f8019823131311de', 'message': '[WIP] Simplify some flow tables about openvswitch firewall driver\n\nCurrently, the ovs flow tables will become enormous if we use\nopenvswitch firewall driver. The patch try to simplify flow tables.\n\nChange-Id: I353ce8b3ee4a2fe263f402c6969b6b29c69d1195\nRelated-Bug: #1831706\n'}]",0,665647,9a85f59df66ae49ee5d26680f8019823131311de,10,6,2,28329,,,0,"[WIP] Simplify some flow tables about openvswitch firewall driver

Currently, the ovs flow tables will become enormous if we use
openvswitch firewall driver. The patch try to simplify flow tables.

Change-Id: I353ce8b3ee4a2fe263f402c6969b6b29c69d1195
Related-Bug: #1831706
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/665647/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,170ca409151950ad2ddad0891e56324edb9c9ea1,bug/1831706," self._initialize_ingress() self._initialize_egress() self._initialize_common_tracked_egress() self._initialize_common_tracked_ingress() self._initialize_allowed_pairs_egress(port) def _initialize_egress_ipv6_icmp(self): def _initialize_allowed_pairs_egress(self, port): # Fill in accept_or_ingress table by checking that traffic is ingress # and if not, accept it for mac_addr in port.all_allowed_macs: self._add_flow( table=ovs_consts.ACCEPT_OR_INGRESS_TABLE, priority=100, dl_dst=mac_addr, reg_net=port.vlan_tag, actions='set_field:{:d}->reg{:d},resubmit(,{:d})'.format( port.ofport, ovsfw_consts.REG_PORT, ovs_consts.BASE_INGRESS_TABLE), ) def _initialize_egress(self): """"""Identify egress traffic and send it to egress base"""""" self._initialize_egress_ipv6_icmp() def _initialize_common_tracked_egress(self): def _initialize_tracked_egress(self, port): def _initialize_ingress_ipv6_icmp(self): def _initialize_ingress(self): self._initialize_ingress_ipv6_icmp() def _initialize_common_tracked_ingress(self): def _initialize_tracked_ingress(self, port):"," self._initialize_egress(port) self._initialize_ingress(port) def _initialize_egress_ipv6_icmp(self, port): in_port=port.ofport, reg_port=port.ofport, self._add_flow( table=ovs_consts.ACCEPT_OR_INGRESS_TABLE, priority=80, reg_port=ovs_port.ofport, actions='resubmit(,%d)' % ( ovs_consts.ACCEPTED_EGRESS_TRAFFIC_NORMAL_TABLE) ) def _initialize_egress(self, port): """"""Identify egress traffic and send it to egress base"""""" self._initialize_egress_ipv6_icmp(port) reg_port=port.ofport, in_port=port.ofport, in_port=port.ofport, reg_port=port.ofport, in_port=port.ofport, reg_port=port.ofport, in_port=port.ofport, reg_port=port.ofport, # Fill in accept_or_ingress table by checking that traffic is ingress # and if not, accept it for mac_addr in port.all_allowed_macs: self._add_flow( table=ovs_consts.ACCEPT_OR_INGRESS_TABLE, priority=100, dl_dst=mac_addr, reg_net=port.vlan_tag, actions='set_field:{:d}->reg{:d},resubmit(,{:d})'.format( port.ofport, ovsfw_consts.REG_PORT, ovs_consts.BASE_INGRESS_TABLE), ) reg_port=port.ofport, reg_port=port.ofport, def _initialize_tracked_egress(self, port): reg_port=port.ofport, def _initialize_ingress_ipv6_icmp(self, port): reg_port=port.ofport, def _initialize_ingress(self, port): reg_port=port.ofport, self._initialize_ingress_ipv6_icmp(port) reg_port=port.ofport, reg_port=port.ofport, reg_port=port.ofport, def _initialize_tracked_ingress(self, port): reg_port=port.ofport,",32,51
openstack%2Fneutron~master~Ia812b16994649cfdaa942e09a833b9f59201258c,openstack/neutron,master,Ia812b16994649cfdaa942e09a833b9f59201258c,[DNM/DNR] speed benchmark for RBAC,ABANDONED,2019-06-17 21:01:01.000000000,2019-12-04 08:50:48.000000000,,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-17 21:01:01.000000000', 'files': ['neutron/objects/rbac_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8d5966b882c0ed3b7f5038414a5a3b35b7cda9e', 'message': '[DNM/DNR] speed benchmark for RBAC\n\nI want to see how the gate compares with my machine for speed testing\nRBAC queries.\n\nChange-Id: Ia812b16994649cfdaa942e09a833b9f59201258c\n'}]",0,665762,a8d5966b882c0ed3b7f5038414a5a3b35b7cda9e,8,8,1,13995,,,0,"[DNM/DNR] speed benchmark for RBAC

I want to see how the gate compares with my machine for speed testing
RBAC queries.

Change-Id: Ia812b16994649cfdaa942e09a833b9f59201258c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/665762/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/rbac_db.py'],1,a8d5966b882c0ed3b7f5038414a5a3b35b7cda9e,rbac_speed_testing,"import time start = time.time() query_end = time.time() get_objects_end = time.time() query_time = query_end - start accessibility_check_time = get_objects_end - query_end print(""NATE: query took {:f} seconds; accessibility check took {:f} seconds."".format(query_time, accessibility_check_time))",,7,0
openstack%2Fneutron-fwaas~master~I90ac403fdfb15bcfcb1f8c53f9bd2ef98cb2e065,openstack/neutron-fwaas,master,I90ac403fdfb15bcfcb1f8c53f9bd2ef98cb2e065,DNM: Testing,ABANDONED,2019-06-20 07:59:34.000000000,2019-12-04 08:50:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 07:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e980c50911acb5b14db2ea8f4df4ff2a251e3816', 'message': 'DNM: Testing\n\nDepends-On: https://review.opendev.org/#/c/666508/\nChange-Id: I90ac403fdfb15bcfcb1f8c53f9bd2ef98cb2e065\n'}, {'number': 2, 'created': '2019-06-20 10:59:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7f2a7bc75e78a757b8822b59e79c789d0b3b0cdd', 'message': 'DNM: Testing\n\nDepends-On: https://review.opendev.org/#/c/666512/\nChange-Id: I90ac403fdfb15bcfcb1f8c53f9bd2ef98cb2e065\n'}]",0,666513,7f2a7bc75e78a757b8822b59e79c789d0b3b0cdd,13,3,2,8556,,,0,"DNM: Testing

Depends-On: https://review.opendev.org/#/c/666512/
Change-Id: I90ac403fdfb15bcfcb1f8c53f9bd2ef98cb2e065
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/13/666513/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e980c50911acb5b14db2ea8f4df4ff2a251e3816,testing," ADDITIONAL_NETWORK_API_EXTENSIONS: ""fwaas_v2"""," NETWORK_API_EXTENSIONS: ""agent,binding,dhcp_agent_scheduler,external-net,ext-gw-mode,extra_dhcp_opts,quotas,router,security-group,subnet_allocation,network-ip-availability,auto-allocated-topology,timestamp_core,tag,service-type,rbac-policies,standard-attr-description,pagination,sorting,project-id,fwaas_v2""",1,1
openstack%2Fneutron~master~I549cdbf3d9a7b43327887c5b6416206b3571c26e,openstack/neutron,master,I549cdbf3d9a7b43327887c5b6416206b3571c26e,[DNM] Try pulling MySQL query logs in Zuul reports,ABANDONED,2019-06-25 19:04:15.000000000,2019-12-04 08:50:40.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-25 19:04:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f143ae830b4a45552d7b7c88fe9abec99d1582', 'message': '[DNM] Try pulling MySQL query logs in Zuul reports\n\nIn order to better debug slow database interactions, enable the pulling\nof the MySQL query log results into the job results file.  This is not\nintended to merge, just be a diagnostic tool.\n\nChange-Id: I549cdbf3d9a7b43327887c5b6416206b3571c26e\n'}]",0,667444,88f143ae830b4a45552d7b7c88fe9abec99d1582,4,3,1,13995,,,0,"[DNM] Try pulling MySQL query logs in Zuul reports

In order to better debug slow database interactions, enable the pulling
of the MySQL query log results into the job results file.  This is not
intended to merge, just be a diagnostic tool.

Change-Id: I549cdbf3d9a7b43327887c5b6416206b3571c26e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/667444/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,88f143ae830b4a45552d7b7c88fe9abec99d1582,full_job_save_state, DATABASE_QUERY_LOGGING: true /var/log/mysql/mysql-slow.log: logs,,2,0
openstack%2Fneutron~master~Ibc7d4a0c26248e4db8f124c905e1b90b1fa652f2,openstack/neutron,master,Ibc7d4a0c26248e4db8f124c905e1b90b1fa652f2,WIP Allow to set haproxy log facility,ABANDONED,2019-04-18 13:55:54.000000000,2019-12-04 08:50:35.000000000,,"[{'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-18 13:55:54.000000000', 'files': ['neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fd0c318d48f608a62ab6f3d247cf96fff8a2ce6', 'message': 'WIP Allow to set haproxy log facility\n\nAllowing to set the syslog facility will enable log filtering directly\nat syslog level. This will in turn allows to get a proper, clean file\nfor all the HAProxy accesses done.\n\nIt defaults to ""local0"" for backward compatibility\n\nChange-Id: Ibc7d4a0c26248e4db8f124c905e1b90b1fa652f2\n'}]",0,653741,2fd0c318d48f608a62ab6f3d247cf96fff8a2ce6,9,5,1,28223,,,0,"WIP Allow to set haproxy log facility

Allowing to set the syslog facility will enable log filtering directly
at syslog level. This will in turn allows to get a proper, clean file
for all the HAProxy accesses done.

It defaults to ""local0"" for backward compatibility

Change-Id: Ibc7d4a0c26248e4db8f124c905e1b90b1fa652f2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/653741/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/driver.py'],1,2fd0c318d48f608a62ab6f3d247cf96fff8a2ce6,logging/haproxy-facility," log /dev/log %(log_facility)s %(log_level)s user, group, state_path, pid_file, log_facility='local0'): self.log_facility = log_facility 'log_facility': self.log_facility, network_id=None, router_id=None, log_facility='local0'): pid_file, log_facility) router_id=None, log_facility='local0'): router_id=router_id, log_facility=log_facility) log_facility = kwargs['log_facility'] router_id=router.router_id, log_facility=log_facility) log_facility = kwargs['log_facility'] router_id=router.router_id, log_facility=log_facility)"," log /dev/log local0 %(log_level)s user, group, state_path, pid_file): network_id=None, router_id=None): pid_file) router_id=None): router_id=router_id) router_id=router.router_id) router_id=router.router_id)",16,8
openstack%2Fneutron~stable%2Focata~If0d42919412dac75deb4d7f484c42cea630fbc59,openstack/neutron,stable/ocata,If0d42919412dac75deb4d7f484c42cea630fbc59,Make OVS controller inactivity_probe configurable,ABANDONED,2019-06-04 15:02:53.000000000,2019-12-04 08:50:31.000000000,,"[{'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16963}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-04 15:02:53.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/273782177ec3da974cfcc95c657fb73e88a01492', 'message': 'Make OVS controller inactivity_probe configurable\n\nThis parameter applies to the OVSDB Controller table when the\nnative openflow driver is used. There are reports that increasing\nit can reduce errors on busy systems. This patch also sets the\ndefault value to 10s which is more than the OVS default of 5s.\nSee the ovs-vswitchd.conf.db man page for full description.\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n    neutron/agent/common/ovs_lib.py\n\nChange-Id: If0d42919412dac75deb4d7f484c42cea630fbc59\nPartial-Bug: #1817022\n(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)\n(cherry picked from commit 6e661ecd2de3994de25af0337f7e2ae781c2cca9)\n(cherry picked from commit eaad77758daeefb69bd60d48b8ca1e2814604f8a)\n(cherry picked from commit 7891c7cd05ad5cff12b1f386cd116db408708371)\n(cherry picked from commit 8dfa283ec387a69c018a5f562cbc51d15f72db49)\n'}]",0,663059,273782177ec3da974cfcc95c657fb73e88a01492,9,5,1,2733,,,0,"Make OVS controller inactivity_probe configurable

This parameter applies to the OVSDB Controller table when the
native openflow driver is used. There are reports that increasing
it can reduce errors on busy systems. This patch also sets the
default value to 10s which is more than the OVS default of 5s.
See the ovs-vswitchd.conf.db man page for full description.

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py
    neutron/agent/common/ovs_lib.py

Change-Id: If0d42919412dac75deb4d7f484c42cea630fbc59
Partial-Bug: #1817022
(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)
(cherry picked from commit 6e661ecd2de3994de25af0337f7e2ae781c2cca9)
(cherry picked from commit eaad77758daeefb69bd60d48b8ca1e2814604f8a)
(cherry picked from commit 7891c7cd05ad5cff12b1f386cd116db408708371)
(cherry picked from commit 8dfa283ec387a69c018a5f562cbc51d15f72db49)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/663059/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,273782177ec3da974cfcc95c657fb73e88a01492,bug/1817022-stable/ocata," cfg.IntOpt('of_inactivity_probe', default=10, help=_(""The inactivity_probe interval in seconds for the local "" ""switch connection to the controller. "" ""A value of 0 disables inactivity probes. "" ""Used only for 'native' driver."")),",,33,3
openstack%2Fneutron~master~I8dd0709a9c23b21374d5bf987f4ec03d381f435f,openstack/neutron,master,I8dd0709a9c23b21374d5bf987f4ec03d381f435f,Neutron doesn't check that the gateway_ip,ABANDONED,2019-07-04 03:26:28.000000000,2019-12-04 08:50:26.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27295}]","[{'number': 1, 'created': '2019-07-04 03:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c91d794c3498973a3d5b3bed571d4a3310a49eb5', 'message': ""check the validity of gateway_ip as a subnet had been created\n\nneutron doesn't check the validity of gateway_ip as a subnet had\nbeen created. Then we attach interface into a router for this\nsubnet, the neutron-server will report a error.\nSo, we should check gateway_ip when create a subnet.\n\nChange-Id: I8dd0709a9c23b21374d5bf987f4ec03d381f435f\nCloses-bug: 1835344\n""}, {'number': 2, 'created': '2019-07-04 08:18:23.000000000', 'files': ['neutron/ipam/utils.py', 'neutron/tests/unit/ipam/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/770a747ee4667db0d3c2d797d4b76d759ee2208e', 'message': ""Neutron doesn't check that the gateway_ip\n\nneutron doesn't check the validity of gateway_ip as a subnet had\nbeen created. When we attach interface into a router for this\nsubnet, the neutron-server will report error.\nSo, we should check gateway_ip when creating a subnet.\n\nChange-Id: I8dd0709a9c23b21374d5bf987f4ec03d381f435f\nCloses-bug: 1835344\n""}]",13,669030,770a747ee4667db0d3c2d797d4b76d759ee2208e,12,7,2,27295,,,0,"Neutron doesn't check that the gateway_ip

neutron doesn't check the validity of gateway_ip as a subnet had
been created. When we attach interface into a router for this
subnet, the neutron-server will report error.
So, we should check gateway_ip when creating a subnet.

Change-Id: I8dd0709a9c23b21374d5bf987f4ec03d381f435f
Closes-bug: 1835344
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/669030/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/ipam/utils.py', 'neutron/tests/unit/ipam/test_utils.py']",2,c91d794c3498973a3d5b3bed571d4a3310a49eb5,bug/1835344," def test_check_gateway_invalid_in_subnet(self): cidr = '192.168.0.0/24' gateway = '192.168.1.1' expected = True self.assertEqual(expected, utils.check_gateway_invalid_in_subnet(cidr, gateway)) def test_check_gateway_valid_in_subnet(self): cidr = '192.168.0.0/24' gateway = '192.168.0.1' expected = False self.assertEqual(expected, utils.check_gateway_invalid_in_subnet(cidr, gateway))",,17,1
openstack%2Fneutron~master~I125eafeeeb85d7e1cf9025036c597c8043d7674c,openstack/neutron,master,I125eafeeeb85d7e1cf9025036c597c8043d7674c,Add a random initial_delay when agent starts,ABANDONED,2019-06-26 06:49:14.000000000,2019-12-04 08:49:44.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-26 06:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9afecc7710f9a835d34ace7ed0ee8aba7ee732be', 'message': 'Add a random initial_delay when agent starts\n\nWhen managing bigger infrastructure, we may restart the neutron agents\nfrom one place and all together.\nAs a result, the agents are reporting to neutron server at the same\ntime, which can lead to some load on server side.\nBy adding a random delay before reporting the first time, it will allow\nthe neutron server to swallow that load more easily.\n\nChange-Id: I125eafeeeb85d7e1cf9025036c597c8043d7674c\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\n'}, {'number': 2, 'created': '2019-07-12 14:42:56.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ebdeb12d7682cfcec95e2c21399423de3201e80', 'message': 'Add a random initial_delay when agent starts\n\nWhen managing bigger infrastructure, we may restart the neutron agents\nfrom one place and all together.\nAs a result, the agents are reporting to neutron server at the same\ntime, which can lead to some load on server side.\nBy adding a random delay before reporting the first time, it will allow\nthe neutron server to swallow that load more easily.\n\nChange-Id: I125eafeeeb85d7e1cf9025036c597c8043d7674c\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\n'}]",2,667523,3ebdeb12d7682cfcec95e2c21399423de3201e80,8,4,2,11583,,,0,"Add a random initial_delay when agent starts

When managing bigger infrastructure, we may restart the neutron agents
from one place and all together.
As a result, the agents are reporting to neutron server at the same
time, which can lead to some load on server side.
By adding a random delay before reporting the first time, it will allow
the neutron server to swallow that load more easily.

Change-Id: I125eafeeeb85d7e1cf9025036c597c8043d7674c
Signed-off-by: Arnaud Morin <arnaud.morin@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/667523/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,9afecc7710f9a835d34ace7ed0ee8aba7ee732be,dev/arnaud.morin/add_random_initial_delay,"import random # add random initial delay to allow agents to check in smoothly initial_delay = random.randint(0, interval) heartbeat.start(interval=report_interval, initial_delay=initial_delay)", heartbeat.start(interval=report_interval),5,1
openstack%2Fnetworking-sfc~master~Ic791946f7a060569ed6c2948bae585f05b93782e,openstack/networking-sfc,master,Ic791946f7a060569ed6c2948bae585f05b93782e,Neutron Driver Capability Discovery,ABANDONED,2016-05-17 17:22:07.000000000,2019-12-04 08:49:39.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 5441}, {'_account_id': 7776}, {'_account_id': 8788}, {'_account_id': 9375}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 14605}, {'_account_id': 15309}, {'_account_id': 16707}, {'_account_id': 21284}, {'_account_id': 30156}]","[{'number': 1, 'created': '2016-05-17 17:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/22fa3035e68168acade8ccddb37ed4bbad3f5705', 'message': 'Neutron Driver Capability Discovery\n\nChange-Id: Ic791946f7a060569ed6c2948bae585f05b93782e\nCo-Authored-By: Cathy Hong Zhang <cathy.h.zhang@huawei.com>\nCo-Authored-By: Pavel Gluschak <trustytwelve@gmail.com>\n'}, {'number': 2, 'created': '2016-05-26 21:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/40b2581eb65317d4b8333daf24772c8c10602545', 'message': 'Neutron Driver Capability Discovery\n\nChange-Id: Ic791946f7a060569ed6c2948bae585f05b93782e\nCo-Authored-By: Cathy Hong Zhang <cathy.h.zhang@huawei.com>\nCo-Authored-By: Pavel Gluschak <trustytwelve@gmail.com>\n'}, {'number': 3, 'created': '2016-05-27 20:20:49.000000000', 'files': ['doc/source/driver-capability-discovery.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c3a9a1dfc333941252ecdf0fdb28f3c7850581bb', 'message': 'Neutron Driver Capability Discovery\n\nChange-Id: Ic791946f7a060569ed6c2948bae585f05b93782e\nCo-Authored-By: Cathy Hong Zhang <cathy.h.zhang@huawei.com>\nCo-Authored-By: Pavel Gluschak <trustytwelve@gmail.com>\n'}]",132,317635,c3a9a1dfc333941252ecdf0fdb28f3c7850581bb,47,16,3,11313,,,0,"Neutron Driver Capability Discovery

Change-Id: Ic791946f7a060569ed6c2948bae585f05b93782e
Co-Authored-By: Cathy Hong Zhang <cathy.h.zhang@huawei.com>
Co-Authored-By: Pavel Gluschak <trustytwelve@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/35/317635/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/driver-capability-discovery.rst'],1,22fa3035e68168acade8ccddb37ed4bbad3f5705,networking-sfc,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Neutron Driver Capability Discovery =================================== https://blueprints.launchpad.net/networking-sfc/+spec/neutron-driver-capability-query This describes a framework to allow a Service Function Chaining [1]_ application to query the capabilities of a back-end driver. Problem Description =================== Networking SFC has several back-end drivers e.g., OVS, ONOS, ODL, which may have different capabilities. There is a need to allow an application to discover the capabilities provided by each back-end driver. The networking-sfc API may be extended to allow the driver capability query. This may also be applicable elsewhere in Neutron and a common capability discovery framework for all APIs is desirable. Proposed Change =============== Add extensions to the networking-sfc API to provide the ability for an application to query the capabilities of a back-end driver. This framework also allows the back-end drivers to advertize any of their differentiating capabilities. Capabilities are arranged into capability sets that are related to a specific driver or sub-system. This is a simple API but adds value in allowing applications to learn dynamically the kinds of capability supported by a specific driver. Data Model Impact ----------------- The API will be presented as capability sets, each of which is a list of individual capabilities related to a specific back-end driver. Each capability is an attribute-value pair. The attribute is the capability name and the value is a boolean value indicating whether the capability is supported. The value may also be used to indicate capability-specific information on the usage of the capability. Data Model Impact ----------------- Data model:: +------------+ +------------+ | Capability |--------| Capability | | Set |* | | +------------+ +------------+ New objects: Capability Set * id - Capability Set id. * tenant_id - Tenant id. * name - Readable name. * description - Description. * driver name - Name of back-end driver. * capabilities - List of capability UUIDs. Capability * id - Capability id. * tenant_id - Tenant id. * name - Readable name. * description - Description. * capabilities - List of capability attribute-value pairs. REST API Impact --------------- A new API resource will be introduced. Base URL for the Capability API is /v1.0/sfc/capabilities. Capability Set resource operations: +-----------+-----------------------------+----------------------------------+ |Operation |URL |Description | +===========+=============================+==================================+ |GET |/v1.0/sfc/capability_sets |Get all Capability Sets | +-----------+-----------------------------+----------------------------------+ |GET |/v1.0/sfc/capability_sets/ |Show information for a Capability | | | {capab_set_id] | Set | +-----------+-----------------------------+----------------------------------+ Capability Set resource attributes: +----------------+----------+--------+---------+----+------------------------+ |Attribute |Type |Access |Default |CRUD|Description | |Name | | |Value | | | +================+==========+========+=========+====+========================+ |id |uuid |RO, all |generated|R |identity | +----------------+----------+--------+---------+----+------------------------+ |tenant_id |uuid |RO, all |from auth|R |Tenant Id | | | | |token | | | +----------------+----------+--------+---------+----+------------------------+ |name |string |RO, all |'' |R |human-readable | | | | | | |name | +----------------+----------+--------+---------+----+------------------------+ |description |string |RO, all |'' |R |human-readable | +----------------+----------+--------+---------+----+------------------------+ |driver_name |string |RO, all |'' |R |Back-end driver name | +----------------+----------+--------+---------+----+------------------------+ |capabilities |list(uuid)|RO, all |[] |R |List of capability UUIDs| +----------------+----------+--------+---------+----+------------------------+ Capability resource operations: +-----------+-----------------------------+----------------------------------+ |Operation |URL |Description | +===========+=============================+==================================+ |GET |/v1.0/sfc/capabilities |Get all Capabilities | +-----------+-----------------------------+----------------------------------+ |GET |/v1.0/sfc/capabilities/ |Show information for a Capability | | |[capab_id] | | +-----------+-----------------------------+----------------------------------+ Capability resource attributes: +----------------+----------+--------+---------+----+------------------------+ |Attribute |Type |Access |Default |CRUD|Description | |Name | | |Value | | | +================+==========+========+=========+====+========================+ |id |uuid |RO, all |generated|R |identity | +----------------+----------+--------+---------+----+------------------------+ |tenant_id |uuid |RO, all |from auth|R |Tenant Id | | | | |token | | | +----------------+----------+--------+---------+----+------------------------+ |name |string |RO, all |'' |R |human-readable | | | | | | |name | +----------------+----------+--------+---------+----+------------------------+ |description |string |RO, all |'' |R |human-readable | +----------------+----------+--------+---------+----+------------------------+ |filter |string |RO, all |'' |R |human-readable | +----------------+----------+--------+---------+----+------------------------+ |capabilities |dict |RO, all |[] |R |List of capability | | | | | | | attribute-value pairs | +----------------+----------+--------+---------+----+------------------------+ The following considerations are to be applied: * The filter field may be used to search for a subset of capabilities. Examples ~~~~~~~~ Get information list of all capabilities: Capability List CLI command:: neutron sfc-capability-list Capability API Request .. code:: GET /v1.0/sfc/capabilities Accept: application/json Capability API Response .. code-block:: javascript { ""capabilities"": [{ ""id"": ""cbd19d32-4085-4d02-8038-c93bf521c691"", ""tenant_id"": ""4ff383dd-cd33-4376-8371-41422c23f469"", ""name"": ""ovs-driver-capability"", ""capabilities"": [ ""encap"": ""nsh"", ""encap"": ""mpls"", ] }, { ""id"": ""323934bb-13f4-454f-b61d-b87442129c3b"", ""tenant_id"": ""4ff383dd-cd33-4376-8371-41422c23f469"", ""name"": ""onos-driver-capability"", ""capabilities"": [ ""encap"": ""nsh"" ] }] } Show information of a given capability: Capability Show CLI command:: neutron port-chain-capability-show cbd19d32-4085-4d02-8038-c93bf521c691 Capability Show API Request .. code:: GET /v1.0/sfc/capabilities/cbd19d32-4085-4d02-8038-c93bf521c691 Accept: application/json Capability Show API Response .. code-block:: javascript { ""capabilities"": [{ ""id"": ""cbd19d32-4085-4d02-8038-c93bf521c691"", ""tenant_id"": ""4ff383dd-cd33-4376-8371-41422c23f469"", ""name"": ""ovs-driver-capability"", ""capabilities"": [ ""encap"": ""nsh"", ""encap"": ""mpls"", ] } Backward compatibility ~~~~~~~~~~~~~~~~~~~~~~ There is no need to change the existing CLI commands. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- End users are able to use new CLIs about capability resources. Performance Impact ------------------ None. IPv6 Impact ----------- None. Other Deployer Impact --------------------- None. Developer Impact ---------------- Developers of drivers can use this API to advertize the capability supported by a specific driver. Community Impact ---------------- None. Alternatives ------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Authors of the Specification and Primary contributors: * Louis Fourie (louis.fourie@huawei.com) * Cathy Zhang (cathy.h.zhang@huawei.com) * Pavel Gluschak (trustytwelve@gmail.com) Work Items ---------- * Add the DB model, REST API changes, UTs to the Neutron server. * Add the CLI functions to Openstack Client. * Add API tests. * Add driver capability reporting. Dependencies ============ N/A Testing ======= Tempest Tests ------------- N/A Functional Tests ---------------- API Tests --------- Capability API test Documentation Impact ==================== User Documentation ------------------ * Capability query usage description will be added. * Add API documentation. Developer Documentation ----------------------- * The new API will be documented. * Add developer reference documentation. References ========== .. [1] API for Service Chaining http://docs.openstack.org/developer/networking-sfc/api.html ",,326,0
openstack%2Fneutron~master~I49d3853cb7a1886e5e376d7c1fe7f4c734c9ed9e,openstack/neutron,master,I49d3853cb7a1886e5e376d7c1fe7f4c734c9ed9e,tempest.lib.exceptions.SSHTimeout sandbox debug,ABANDONED,2019-07-15 23:08:53.000000000,2019-12-04 08:49:35.000000000,,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-07-15 23:08:53.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/extensions/admin_state_down_before_update.py', 'releasenotes/notes/bug-1811166-314d4b89de1cc0f1.yaml', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/db/l3_dvr_db.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/extensions/_admin_state_down_before_update_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aed3f1da5093d14841d61b48e2c48e462eaae05d', 'message': ""tempest.lib.exceptions.SSHTimeout sandbox debug\n\nI'm creating this patch as my first one to join in the fight against\nthe random tempest scenario test failures related to SSHTimeouts that\nI've been seeing at least since February.\nIt seems to me that some patches are more likely to get hit than others\nand consequently I'm making this commit an exact copy of\nhttps://review.opendev.org/#/c/625134/23, which seems to be on the\nmore-likely side of the equation.\n\nChange-Id: I49d3853cb7a1886e5e376d7c1fe7f4c734c9ed9e\nRelated-Bug: #1821912\n""}]",0,670925,aed3f1da5093d14841d61b48e2c48e462eaae05d,8,6,1,30156,,,0,"tempest.lib.exceptions.SSHTimeout sandbox debug

I'm creating this patch as my first one to join in the fight against
the random tempest scenario test failures related to SSHTimeouts that
I've been seeing at least since February.
It seems to me that some patches are more likely to get hit than others
and consequently I'm making this commit an exact copy of
https://review.opendev.org/#/c/625134/23, which seems to be on the
more-likely side of the equation.

Change-Id: I49d3853cb7a1886e5e376d7c1fe7f4c734c9ed9e
Related-Bug: #1821912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/670925/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/admin_state_down_before_update.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'releasenotes/notes/bug-1811166-314d4b89de1cc0f1.yaml', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/db/l3_dvr_db.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/extensions/_admin_state_down_before_update_lib.py']",7,aed3f1da5093d14841d61b48e2c48e462eaae05d,bug/1821912,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" TODO(mattw4): This module should be deleted once neutron-lib containing https://review.openstack.org/#/c/634509/ change is released. """""" from neutron_lib.api.definitions import l3 as l3_apidef ALIAS = 'router-admin-state-down-before-update' IS_SHIM_EXTENSION = True IS_STANDARD_ATTR_EXTENSION = False NAME = ""Enforce Router's Admin State Down Before Update Extension"" DESCRIPTION = ('Ensure that the admin state of a router is down ' '(admin_state_up=False) before updating the distributed ' 'attribute') UPDATED_TIMESTAMP = '2019-04-08 13:30:00' RESOURCE_ATTRIBUTE_MAP = {} SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} REQUIRED_EXTENSIONS = [l3_apidef.ALIAS] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,221,11
openstack%2Fneutron~stable%2Focata~Ia3c6429a82a9c349eb9577bf255d34f16c6d602e,openstack/neutron,stable/ocata,Ia3c6429a82a9c349eb9577bf255d34f16c6d602e,Make dvr router port creation retriable,ABANDONED,2019-07-16 19:26:56.000000000,2019-12-04 08:49:30.000000000,,"[{'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 19:26:56.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d4069e81550020b953662090a86ac8c46303c34', 'message': 'Make dvr router port creation retriable\n\nOn concurrent router interface creation DB retries are usual.\nIn case of DVR there are 2 sources for retries: csnat and dvr\nrouter ports creation.\nThis patch wraps dvr port creation with retry to avoid duplicate router\nsubnet violation when retrying the main add_router_interface().\nSee bug for details.\n\nChange-Id: Ia3c6429a82a9c349eb9577bf255d34f16c6d602e\nCloses-Bug: #1783728\n(cherry picked from commit 314a06359e4eaa7a858f2ba88c98b0a849376aba)\n'}]",0,671139,7d4069e81550020b953662090a86ac8c46303c34,3,3,1,6876,,,0,"Make dvr router port creation retriable

On concurrent router interface creation DB retries are usual.
In case of DVR there are 2 sources for retries: csnat and dvr
router ports creation.
This patch wraps dvr port creation with retry to avoid duplicate router
subnet violation when retrying the main add_router_interface().
See bug for details.

Change-Id: Ia3c6429a82a9c349eb9577bf255d34f16c6d602e
Closes-Bug: #1783728
(cherry picked from commit 314a06359e4eaa7a858f2ba88c98b0a849376aba)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/671139/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,7d4069e81550020b953662090a86ac8c46303c34,bug/1783728," self._add_router_port( context, port['id'], router.id, device_owner) @db_api.retry_if_session_inactive() def _add_router_port(self, context, port_id, router_id, device_owner): l3_obj.RouterPort( context, port_id=port_id, router_id=router_id, port_type=device_owner ).create() # Update owner after actual process again in order to # make sure the records in routerports table and ports # table are consistent. self._core_plugin.update_port( context, port_id, {'port': {'device_id': router_id, 'device_owner': device_owner}}) "," with context.session.begin(subtransactions=True): router_port = l3_models.RouterPort( port_id=port['id'], router_id=router.id, port_type=device_owner ) context.session.add(router_port) # Update owner after actual process again in order to # make sure the records in routerports table and ports # table are consistent. self._core_plugin.update_port( context, port['id'], {'port': { 'device_id': router.id, 'device_owner': device_owner}})",17,14
openstack%2Fnetworking-ovn~master~I73a41016faf44481d6bfa14a6954257280514172,openstack/networking-ovn,master,I73a41016faf44481d6bfa14a6954257280514172,fix a parameter error in func add_sg_rule_acl_for_port_group(),ABANDONED,2018-11-15 00:57:37.000000000,2019-12-04 08:49:19.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-11-15 00:57:37.000000000', 'files': ['networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae0f29d04025ce0e092e8757fdd0d238713432b6', 'message': 'fix a parameter error in func add_sg_rule_acl_for_port_group()\n\nChange-Id: I73a41016faf44481d6bfa14a6954257280514172\n'}]",7,618068,ae0f29d04025ce0e092e8757fdd0d238713432b6,13,6,1,21550,,,0,"fix a parameter error in func add_sg_rule_acl_for_port_group()

Change-Id: I73a41016faf44481d6bfa14a6954257280514172
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/68/618068/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/acl.py'],1,ae0f29d04025ce0e092e8757fdd0d238713432b6,," ""external_ids"": {ovn_const.OVN_SG_RULE_EXT_ID_KEY: r['id']}}", ovn_const.OVN_SG_RULE_EXT_ID_KEY: r['id']},1,1
openstack%2Fneutron~master~Ia553933b183829e2d682ec2e8c2a76b34931a67c,openstack/neutron,master,Ia553933b183829e2d682ec2e8c2a76b34931a67c,Avoid auto-allocated gateway_ip when creating subnet with subnetpool,ABANDONED,2019-07-04 08:41:42.000000000,2019-12-04 08:49:14.000000000,,"[{'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27295}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-04 08:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b29fb511df5680419e583c60fcbf6257510814e7', 'message': ""Create a subnet with subnetpool could specify gateway_ip\n\nCreating a subnet with subnetpool whether specify the gateway ip or\nnot(--no-gateway), the neutron always specify the first_ip as gateway.\n\nIt will cause:\n1) we cannot specify the gateway ip;\n2) we don't need gateway(--no-gateway), but neutron still create a\nsubnet will gateway.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 2, 'created': '2019-07-05 02:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7c6c2e49f92b24d81cc5f42aa50b05ed7bcab4d', 'message': ""Create a subnet with subnetpool could specify gateway_ip\n\nCreating a subnet with subnetpool whether specify the gateway ip or\nnot(--no-gateway), the neutron always specify the first_ip as gateway.\n\nIt will cause:\n1) we cannot specify the gateway ip for subnet;\n2) we don't need gateway(--no-gateway), but neutron still creates a\nsubnet with gateway.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 3, 'created': '2019-07-05 05:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/244469c0271c9fbe9359f110aa6071c7e8eae2bb', 'message': ""Create a subnet with subnetpool could specify gateway_ip\n\nCreating a subnet with subnetpool whether specify the gateway ip or\nnot(--no-gateway), the neutron always specify the first_ip as gateway.\n\nIt will cause:\n1) we cannot specify the gateway ip for subnet;\n2) we don't need gateway(--no-gateway), but neutron still creates a\nsubnet with gateway.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 4, 'created': '2019-07-08 01:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20c9d1d117815b84ef17cce5631f5a096b96a1c5', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefor, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 5, 'created': '2019-07-09 01:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52c34365c3d399051ea159ecb1c3ec2abbe14d8f', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 6, 'created': '2019-07-15 09:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db90bd88a957ec3b6f525463059e323757215acd', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 7, 'created': '2019-07-16 03:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c34c8f292b3584ae9cc79bc6239eb75d75b7501', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 8, 'created': '2019-07-17 08:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc6da26222f21268e0d281956f80bc4cd017b493', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 9, 'created': '2019-07-17 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b97da42c76669a50e04794b4ec32483ac29cfce', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 10, 'created': '2019-07-18 09:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84d268e858a6be6b92fa77a69a0d3b93249e2d6f', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}, {'number': 11, 'created': '2019-07-19 08:03:49.000000000', 'files': ['neutron/ipam/requests.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/ipam/subnet_alloc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/794e9a9d3e30215ff40e17754bc55e50b5cb38f9', 'message': ""Avoid auto-allocated gateway_ip when creating subnet with subnetpool\n\nCreating a subnet with subnetpool, neutron will auto-allocate a gateway\nip to it. Therefore, we couldn't specify or remove gateway ip when\ncreating a subnet.\n\nChange-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c\nCloses-bug: 1716721\n""}]",41,669107,794e9a9d3e30215ff40e17754bc55e50b5cb38f9,75,11,11,27295,,,0,"Avoid auto-allocated gateway_ip when creating subnet with subnetpool

Creating a subnet with subnetpool, neutron will auto-allocate a gateway
ip to it. Therefore, we couldn't specify or remove gateway ip when
creating a subnet.

Change-Id: Ia553933b183829e2d682ec2e8c2a76b34931a67c
Closes-bug: 1716721
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/669107/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/ipam/requests.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/ipam/subnet_alloc.py']",3,b29fb511df5680419e583c60fcbf6257510814e7,bug/1716721, if not gateway_ip and not request.gateway_has_specified:, if not gateway_ip:,38,4
openstack%2Fneutron~master~Ic81147220d08c6113ba62cf89915656ce93d0cdd,openstack/neutron,master,Ic81147220d08c6113ba62cf89915656ce93d0cdd,WIP Add trace info to ovo rpc push api,ABANDONED,2019-07-10 08:14:36.000000000,2019-12-04 08:48:59.000000000,,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-10 08:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8d9e49ea49d444f11830f126520aa1cd2623779', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 2, 'created': '2019-07-11 08:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7ca6126498be5003bd7333c5df15cdd1cf67817', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 3, 'created': '2019-07-11 11:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a2a998749ece55cd9517c6b26762774a0bb8603', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 4, 'created': '2019-07-19 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffb45d12e6332b97926339f4e075fb25fb38666b', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 5, 'created': '2019-07-22 14:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2d89651a75e0a36f88f59f4c1242daaf03b8d33', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 6, 'created': '2019-07-23 15:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed351228d1eba9c068f7f46bbede7449e95b0804', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}, {'number': 7, 'created': '2019-07-24 13:52:30.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55b45692ff1e643d1f277d10fc7e198eb72e46a', 'message': 'WIP Add trace info to ovo rpc push api\n\nDespite previous efforts L2 agents today are not properly integrated\nwith osprofiler - for example ovs agent does not report trace points\nat all. The architecture of osprofiler requires the propagation of trace\ninfo on the side of the usual control channels. For L2 agents that means\nRPC messages and change events in the softswitches (for example via\novsdb-client --monitor), most importantly detection of the vif plug\ndone by nova/os-vif.\n\nEnabling tracing by the vif plug was never done. In the original\nintegration of osprofiler some code was added to trigger tracing by RPC\nmessages. However I suspect that became defunct when the legacy RPC\nnotifications were replaced by OVO RPC push notifications.\n\nThis change propagates trace info into threads started by\nfuturist.ThreadPoolExecutor and by that trace info is added to RPC push\nmessages on the wire.\n\nTODO I mostly do my manual testing by triggering a remote call to\nport_delete(). That can be easily reproduced by starting a VM and\ndeleting its port while the VM is still running. The tracing mostly\nworks but once in every few traces the trace does not include trace\npoints from neutron-ovs-agent/port_delete() because the profiler is\ninitialized with the wrong base_id. I still need to debug why that\nhappens.\n\nChange-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd\nPartial-Bug: #1833674\nRelated-Change: https://review.opendev.org/273951\nRelated-Change: https://review.opendev.org/388939\nRelated-Chahge: https://review.opendev.org/555608\n'}]",0,670009,d55b45692ff1e643d1f277d10fc7e198eb72e46a,26,5,7,15554,,,0,"WIP Add trace info to ovo rpc push api

Despite previous efforts L2 agents today are not properly integrated
with osprofiler - for example ovs agent does not report trace points
at all. The architecture of osprofiler requires the propagation of trace
info on the side of the usual control channels. For L2 agents that means
RPC messages and change events in the softswitches (for example via
ovsdb-client --monitor), most importantly detection of the vif plug
done by nova/os-vif.

Enabling tracing by the vif plug was never done. In the original
integration of osprofiler some code was added to trigger tracing by RPC
messages. However I suspect that became defunct when the legacy RPC
notifications were replaced by OVO RPC push notifications.

This change propagates trace info into threads started by
futurist.ThreadPoolExecutor and by that trace info is added to RPC push
messages on the wire.

TODO I mostly do my manual testing by triggering a remote call to
port_delete(). That can be easily reproduced by starting a VM and
deleting its port while the VM is still running. The tracing mostly
works but once in every few traces the trace does not include trace
points from neutron-ovs-agent/port_delete() because the profiler is
initialized with the wrong base_id. I still need to debug why that
happens.

Change-Id: Ic81147220d08c6113ba62cf89915656ce93d0cdd
Partial-Bug: #1833674
Related-Change: https://review.opendev.org/273951
Related-Change: https://review.opendev.org/388939
Related-Chahge: https://review.opendev.org/555608
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/670009/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,e8d9e49ea49d444f11830f126520aa1cd2623779,osprofiler,"from osprofiler import profiler def _collect_profiler_info(self): p = profiler.get() if p: self._profiler_info = { ""hmac_key"": p.hmac_key, ""base_id"": p.get_base_id(), ""parent_id"": p.get_id(), } else: self._profiler_info = None self._collect_profiler_info() if self._profiler_info: profiler.init(**self._profiler_info)",,17,0
openstack%2Fnetworking-ovn~master~I399832b865d117aa5b1594dd47516d986fa8441f,openstack/networking-ovn,master,I399832b865d117aa5b1594dd47516d986fa8441f,Bump OVS req to 2.11 and cleanup extra checks,ABANDONED,2019-07-16 07:25:33.000000000,2019-12-04 08:48:55.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-07-16 07:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8d6768221f84ae9953c97a8d2b117a3ff0959302', 'message': 'Cleanup extra checks for OVS < 2.9 schema\n\nThis patch is cleaning up some checks made for backwards\ncompat with the OVN schema for versions < 2.9.\n\nAs a follow-up, the OVS requirement will be bumped to\n2.9 in global-requirements as well.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2019-07-16 07:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a9bcdaa9a6b3c181b6da79b88678213d0701527d', 'message': 'Cleanup extra checks for OVS < 2.9 schema\n\nThis patch is cleaning up some checks made for backwards\ncompat with the OVN schema for versions < 2.9.\n\nAs a follow-up, the OVS requirement will be bumped to\n2.9 in global-requirements as well.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2019-07-16 07:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c4db8f676eb46656c5892334a56a23859da3a813', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2019-07-16 12:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e47af0f5eedcd9b4f8ca44be558dae28bbd8fd64', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 5, 'created': '2019-07-18 06:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d3967f66e87864e8e0f22607957c7a47a73b94ea', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 6, 'created': '2019-07-22 11:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/eabe1a823338766f6ecc03d55be54aaf262d9d98', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 7, 'created': '2019-07-22 11:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/922660802610d4c9a6408e3269401afc68f52543', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 8, 'created': '2019-07-23 07:38:51.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ovsdb/test_commands.py', 'requirements.txt', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/commands.py', 'lower-constraints.txt', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1a1d6992d5e9f39394e4835c524b017bb41c1b1a', 'message': ""Bump OVS req to 2.11 and cleanup extra checks\n\nThis patch is cleaning up some checks made for backwards\ncompat with old OVN schemas, in particular with < 2.8.2.\n\nFor some reason, upper-requirements reflects 2.11 but our\nrepo didn't honor that change so this patch is fixing the\nrequirements file in our own repo.\n\nTODO: At some point we'll need to remove the backwards compat\nand migration path from Address Sets to Port Groups for\nthe Neutron Security Groups implementation.\n\nChange-Id: I399832b865d117aa5b1594dd47516d986fa8441f\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",4,670966,1a1d6992d5e9f39394e4835c524b017bb41c1b1a,21,6,8,23804,,,0,"Bump OVS req to 2.11 and cleanup extra checks

This patch is cleaning up some checks made for backwards
compat with old OVN schemas, in particular with < 2.8.2.

For some reason, upper-requirements reflects 2.11 but our
repo didn't honor that change so this patch is fixing the
requirements file in our own repo.

TODO: At some point we'll need to remove the backwards compat
and migration path from Address Sets to Port Groups for
the Neutron Security Groups implementation.

Change-Id: I399832b865d117aa5b1594dd47516d986fa8441f
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/66/670966/8 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/ovsdb/commands.py']",4,8d6768221f84ae9953c97a8d2b117a3ff0959302,,," # TODO(lucasagomes): After OVS 2.8.2 is released all tables should # have the external_ids column. We can remove this conditional # here by then. if not self.api.is_col_present(ovn_table, 'external_ids'): return # TODO(lucasagomes): Remove this check after OVS 2.8.2 is tagged # (prior to that, the external_ids column didn't exist in this # table). if not self.api.is_col_present('Logical_Router_Static_Route', 'external_ids'): return ",17,58
openstack%2Fnetworking-ovn~master~I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9,openstack/networking-ovn,master,I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9,use standard_attr db from neutron-lib,ABANDONED,2019-05-22 18:45:25.000000000,2019-12-04 08:48:46.000000000,,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 18:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/464d51d425a2d636cfc5025cf6599c7852a26050', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nAlso see: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 2, 'created': '2019-05-22 19:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/83d52f566b48a0f44c1220bd127f2e09eb5044ac', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 3, 'created': '2019-05-30 12:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a010725e6e461e4e5ecf70b1f2ffd3ad8976a042', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 4, 'created': '2019-06-11 16:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1588d7b697288fa5152cb08dfed822310ad62068', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 5, 'created': '2019-06-25 17:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5e41db11545db11f638c4cd81bb5edf7b4b3be1c', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 6, 'created': '2019-07-09 14:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a8973d43b32f1af01d234169168ffef65018d624', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/660797/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 7, 'created': '2019-07-11 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/945d7260089ea039e54418498a6c50ec0afdb2d2', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/670308/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 8, 'created': '2019-07-26 19:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/24eccbb88a9e5be2ae65c56fd3315b6819deb8f2', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nDepends-On: https://review.opendev.org/#/c/670308/\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 9, 'created': '2019-07-26 19:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4ce2d6f8753fbf21e59728987b537e4f89d803b2', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 10, 'created': '2019-07-29 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d22b7c2583e606013ae46eecdb39721a628c8fe8', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 11, 'created': '2019-07-29 18:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fdb99d1f5919f30e5d9d367ef50d22f89205ec10', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}, {'number': 12, 'created': '2019-07-31 12:06:26.000000000', 'files': ['networking_ovn/db/maintenance.py', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'networking_ovn/db/revision.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4e6f3be37b203c0e837dacd8c1cc2e6c65d9fd1a', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by switching all imports to use neutron-lib's standard_attr.\n\nChange-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9\n""}]",0,660798,4e6f3be37b203c0e837dacd8c1cc2e6c65d9fd1a,29,5,12,5367,,,0,"use standard_attr db from neutron-lib

This patch consumes the neutron_lib.db.standard_attr module from
neutron-lib by switching all imports to use neutron-lib's standard_attr.

Change-Id: I4f5cbf3646fb7b9009946f82c0d49bd37da04ac9
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/98/660798/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_ovn/db/maintenance.py', 'lower-constraints.txt', 'networking_ovn/db/revision.py']",4,464d51d425a2d636cfc5025cf6599c7852a26050,bp/neutronlib-decouple-db,from neutron_lib.db import standard_attr,from neutron.db import standard_attr,4,4
openstack%2Fnetworking-ovn~master~I46d14f02893cf562ec98da776cb9ad73b510be25,openstack/networking-ovn,master,I46d14f02893cf562ec98da776cb9ad73b510be25,use callback payloads for SECURITY_GROUP,ABANDONED,2019-08-01 19:23:30.000000000,2019-12-04 08:48:41.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-01 19:23:30.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9d6627511dfe96cb8cf4876e49eb40db579dd6ba', 'message': 'use callback payloads for SECURITY_GROUP\n\nThis patch switches over to callback payloads for SECURITY_GROUP\nevents.\n\nDepends-On: https://review.opendev.org/#/c/674044/\nChange-Id: I46d14f02893cf562ec98da776cb9ad73b510be25\n'}]",0,674115,9d6627511dfe96cb8cf4876e49eb40db579dd6ba,3,2,1,5367,,,0,"use callback payloads for SECURITY_GROUP

This patch switches over to callback payloads for SECURITY_GROUP
events.

Depends-On: https://review.opendev.org/#/c/674044/
Change-Id: I46d14f02893cf562ec98da776cb9ad73b510be25
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/15/674115/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,9d6627511dfe96cb8cf4876e49eb40db579dd6ba,use-callback-payloads," payload=None): payload.resource_id, ovn_const.TYPE_SECURITY_GROUPS, payload.context.session) payload=None): self._ovn_client.create_security_group(payload.latest_state) payload=None): self._ovn_client.delete_security_group(payload.resource_id) payload=None): db_rev.bump_revision(payload.latest_state, ovn_const.TYPE_SECURITY_GROUPS)"," security_group, context, **kwargs): security_group['id'], ovn_const.TYPE_SECURITY_GROUPS, context.session) security_group, **kwargs): self._ovn_client.create_security_group(security_group) security_group_id, **kwargs): self._ovn_client.delete_security_group(security_group_id) security_group, **kwargs): db_rev.bump_revision(security_group, ovn_const.TYPE_SECURITY_GROUPS)",15,11
openstack%2Fneutron-vpnaas~master~I4fd65a1089d62f4778b9b82f0252159acae7a411,openstack/neutron-vpnaas,master,I4fd65a1089d62f4778b9b82f0252159acae7a411,[WIP] Enable libreswan functional gate,ABANDONED,2019-05-14 11:28:54.000000000,2019-12-04 08:48:26.000000000,,"[{'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 30388}]","[{'number': 1, 'created': '2019-05-14 11:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/185e07dfe9e0b110ed00b8868a7bb61fd02cf6e9', 'message': '[WIP] Enable libreswan functional gate\n\nChange-Id: I4fd65a1089d62f4778b9b82f0252159acae7a411\n'}, {'number': 2, 'created': '2019-07-15 05:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/20de5b2425c85b3b2a6b318b55a0bbd5731a7217', 'message': '[WIP] Enable libreswan functional gate\n\nChange-Id: I4fd65a1089d62f4778b9b82f0252159acae7a411\n'}, {'number': 3, 'created': '2019-08-13 07:18:38.000000000', 'files': ['playbooks/legacy/neutron-vpnaas-dsvm-functional/run.yaml', 'playbooks/legacy/neutron-vpnaas-dsvm-functional/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c92ec95cebd973a87085433fd154d0bf9a082469', 'message': '[WIP] Enable libreswan functional gate\n\nChange-Id: I4fd65a1089d62f4778b9b82f0252159acae7a411\n'}]",0,659043,c92ec95cebd973a87085433fd154d0bf9a082469,13,5,3,12860,,,0,"[WIP] Enable libreswan functional gate

Change-Id: I4fd65a1089d62f4778b9b82f0252159acae7a411
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/43/659043/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-vpnaas-dsvm-functional/run.yaml', 'playbooks/legacy/neutron-vpnaas-dsvm-functional/post.yaml', '.zuul.yaml']",3,185e07dfe9e0b110ed00b8868a7bb61fd02cf6e9,enable_libreswan_functional_gate, - neutron-vpnaas-dsvm-functional - neutron-vpnaas-dsvm-functional name: neutron-vpnaas-dsvm-functional parent: legacy-dsvm-base nodeset: devstack-single-node-centos-7 vars: devstack_localrc: IPSEC_PACKAGE: libreswan run: playbooks/legacy/neutron-vpnaas-dsvm-functional/run.yaml post-run: playbooks/legacy/neutron-vpnaas-dsvm-functional/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/neutron - openstack/neutron-vpnaas irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^neutron_vpnaas/tests/unit/.*$ - ^releasenotes/.*$ - job:,,157,0
openstack%2Fneutron~stable%2Focata~I9f679e109290c3f6955dd63227d802355ee71d2d,openstack/neutron,stable/ocata,I9f679e109290c3f6955dd63227d802355ee71d2d,Add SR-IOV ML2 driver support for VLAN trunking.,ABANDONED,2019-08-20 02:06:32.000000000,2019-12-04 08:48:17.000000000,,"[{'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27589}]","[{'number': 1, 'created': '2019-08-20 02:06:32.000000000', 'files': ['neutron/services/trunk/drivers/__init__.py', 'neutron/services/trunk/drivers/mech_sriov/constants.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/test_driver.py', 'neutron/services/trunk/drivers/mech_sriov/agent/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/test_driver.py', 'neutron/services/trunk/drivers/mech_sriov/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/agent/driver.py', 'neutron/services/trunk/drivers/mech_sriov/agent/trunk_plumber.py', 'neutron/services/trunk/drivers/base.py', 'neutron/services/trunk/drivers/mech_sriov/agent/exceptions.py', 'neutron/services/trunk/drivers/mech_sriov/utils.py', 'neutron/services/trunk/rpc/agent.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/test_trunk_plumber.py', 'neutron/services/trunk/drivers/mech_sriov/driver.py', 'bin/i40e_sysfs_command', 'setup.cfg', 'etc/neutron/rootwrap.d/sriovnicswitch-plugin.filters', 'neutron/services/trunk/drivers/mech_sriov/agent/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9b4c5f18063dc1db86acb09d30c94d02d1bedd2', 'message': 'Add SR-IOV ML2 driver support for VLAN trunking.\n\nAdd VLAN trunking support for SR-IOV VFs based on Intel i40e NIC\ndriver.\n\nThe current SRIOV driver for trunking is based on Intel i40e NIC\ndriver with following requirements:-\n\nhardware: Intel Ethernet Network Adapter XXV710 (25GbE)\nDriver: Intel i40e v2.7.12 onwards\n\nCloses-Bug: 1794771\n\nChange-Id: I9f679e109290c3f6955dd63227d802355ee71d2d\nCo-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>\n'}]",0,677327,c9b4c5f18063dc1db86acb09d30c94d02d1bedd2,6,6,1,30329,,,0,"Add SR-IOV ML2 driver support for VLAN trunking.

Add VLAN trunking support for SR-IOV VFs based on Intel i40e NIC
driver.

The current SRIOV driver for trunking is based on Intel i40e NIC
driver with following requirements:-

hardware: Intel Ethernet Network Adapter XXV710 (25GbE)
Driver: Intel i40e v2.7.12 onwards

Closes-Bug: 1794771

Change-Id: I9f679e109290c3f6955dd63227d802355ee71d2d
Co-Authored-By: Manjeet Singh Bhatia <manjeet.s.bhatia@intel.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/677327/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/__init__.py', 'neutron/services/trunk/drivers/mech_sriov/constants.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/test_driver.py', 'neutron/services/trunk/drivers/mech_sriov/agent/__init__.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/test_driver.py', 'neutron/services/trunk/drivers/mech_sriov/__init__.py', 'neutron/services/trunk/drivers/linuxbridge/agent/driver.py', 'neutron/services/trunk/drivers/mech_sriov/agent/trunk_plumber.py', 'neutron/services/trunk/drivers/base.py', 'neutron/services/trunk/drivers/mech_sriov/agent/exceptions.py', 'neutron/services/trunk/drivers/mech_sriov/utils.py', 'neutron/services/trunk/rpc/agent.py', 'neutron/tests/unit/services/trunk/drivers/mech_sriov/agent/test_trunk_plumber.py', 'neutron/services/trunk/drivers/mech_sriov/driver.py', 'bin/i40e_sysfs_command', 'setup.cfg', 'etc/neutron/rootwrap.d/sriovnicswitch-plugin.filters', 'neutron/services/trunk/drivers/mech_sriov/agent/driver.py']",20,c9b4c5f18063dc1db86acb09d30c94d02d1bedd2,ocata/Sriov-Trunk,"# (c) Copyright 2019 AT&T Corporation # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.callbacks import events as local_events from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources as local_resources from neutron_lib.services.trunk import constants as t_const from oslo_log import log as logging from neutron._i18n import _ from neutron.api.rpc.callbacks import events from neutron.services.trunk.drivers import base as trunk_driver from neutron.services.trunk.drivers.mech_sriov.agent import exceptions \ as trunk_exc from neutron.services.trunk.drivers.mech_sriov.agent import trunk_plumber from neutron.services.trunk.drivers.mech_sriov import utils as sriov_utils from neutron.services.trunk.rpc import agent as trunk_rpc LOG = logging.getLogger(__name__) def init_handler(resource, event, trigger, payload=None): """"""Handler for agent init event."""""" # Set up agent-side RPC for receiving trunk events; SriovTrunkDriver() @registry.has_registry_receivers class SriovTrunkDriver(trunk_rpc.TrunkSkeleton): """"""Driver responsible for handling trunk/subport/port events. Receives data model events from the server and VIF events from the agent and uses these to drive a Plumber instance to trigger backend SRIOV commands for trunks. """""" def __init__(self, plumber=None, sriov_nic_utils=None, trunk_api=None): super(SriovTrunkDriver, self).__init__() self.sriov_utils = sriov_nic_utils or sriov_utils.SriovNicUtils() self._plumber = plumber or trunk_plumber.Plumber(self.sriov_utils) self._tapi = trunk_api or trunk_driver.TrunkAPI(trunk_rpc.TrunkStub()) def handle_trunks(self, context, resource_type, trunks, event_type): """"""Trunk data model change from the server."""""" for trunk in trunks: if event_type in (events.UPDATED, events.CREATED): self._tapi.put_trunk(trunk.port_id, trunk) self.wire_trunk(context, trunk) elif event_type == events.DELETED: self.unwire_trunk(context, trunk) self._tapi.put_trunk(trunk.port_id, None) def handle_subports(self, context, resource_type, subports, event_type): """"""Subport data model change from the server."""""" affected_trunks = set() for s in subports: affected_trunks.add(s['trunk_id']) if event_type == events.DELETED: self._tapi.delete_trunk_subport(s['trunk_id'], s) else: self._tapi.put_trunk_subport(s['trunk_id'], s) for trunk_id in affected_trunks: trunk = self._tapi.get_trunk_by_id(context, trunk_id) if not trunk: continue self.wire_trunk(context, trunk) @registry.receives(local_resources.PORT_DEVICE, [local_events.AFTER_DELETE]) def agent_port_delete(self, resource, event, trigger, payload=None): """"""Agent informed us a VIF was removed."""""" # NOTE(deepaktiwari): We don't update the trunk status to DOWN as we # don't want to race with another agent that the trunk may have been # moved to. port_id = payload.latest_state['port_id'] trunk = self._tapi.get_trunk(payload.context, port_id) if trunk: self.unwire_trunk(payload.context, trunk) self._tapi.put_trunk(port_id, None) return self._tapi.put_trunk(port_id, None) @registry.receives(local_resources.PORT_DEVICE, [local_events.AFTER_UPDATE]) def agent_port_change(self, resource, event, trigger, payload=None): """"""The agent hath informed us thusly of a port update or create."""""" port_id = payload.latest_state['port_id'] trunk = self._tapi.get_trunk(payload.context, port_id) if trunk: # a wild trunk has appeared! make its children self.wire_trunk(payload.context, trunk) return # clear any VLANs in case this was a trunk that changed status while # agent was offline. tp_params = self.get_sriov_port_params(payload.context, port_id) if not tp_params: # something broke LOG.exception(""Failure fetching trunk port parameters for "" ""trunk port-id: %(tp_id)s."", {'tp_id': trunk.port_id}) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) return try: self._plumber.apply_vlan_filter(tp_params, None) self._tapi.put_trunk(port_id, None) except Exception: # something broke LOG.exception(""Failure applying vlan filter for %s"", trunk.port_id) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) def wire_trunk(self, context, trunk): """"""Wire up subports while keeping the server trunk status apprised."""""" if not self.trunk_on_host(context, trunk): LOG.debug(""Trunk %s not present on this host"", trunk.port_id) return self._tapi.bind_subports_to_host(context, trunk) vlans_ranges_str = """" for s in trunk.subports: sp_params = self.get_sriov_port_params(context, s.port_id) if not sp_params or not sp_params['src_vlan']: # something broke LOG.exception(""Failure fetching subport parameters for "" ""trunk port-id: %(tp_id)s and subport port-id: "" ""%(spp_id)s."", {'tp_id': trunk.port_id, 'spp_id': s.port_id}) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) return if s.segmentation_id != sp_params['src_vlan']: self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) raise trunk_exc.SriovTrunkInvalidSegmentationIdError( sp_vlan=s.segmentation_id, sp_nw_vlan=sp_params['src_vlan']) vlans_ranges_str = \ vlans_ranges_str + "","" + str(sp_params['src_vlan']) tp_params = self.get_sriov_port_params(context, trunk.port_id) if not tp_params: # something broke LOG.exception(""Failure fetching trunk port parameters for "" ""trunk port-id: %(tp_id)s."", {'tp_id': trunk.port_id}) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) return try: self._plumber.apply_vlan_filter(tp_params, vlans_ranges_str) self._tapi.set_trunk_status( context, trunk, t_const.TRUNK_ACTIVE_STATUS) except Exception: # something broke LOG.exception(""Failure setting up subports for %s"", trunk.port_id) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) def unwire_trunk(self, context, trunk): """"""Unwire subports while keeping the server trunk status apprised."""""" tp_params = self.get_sriov_port_params(context, trunk.port_id) if not tp_params: # something broke LOG.exception(""Failure fetching trunk port parameters for "" ""trunk port-id: %(tp_id)s."", {'tp_id': trunk.port_id}) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) return try: self._plumber.apply_vlan_filter(tp_params, None) for s in trunk.subports: self._tapi.delete_trunk_subport(trunk.id, s) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DOWN_STATUS) except Exception: # something broke LOG.exception(""Failure unwiring subports for %s"", trunk.port_id) self._tapi.set_trunk_status(context, trunk, t_const.TRUNK_DEGRADED_STATUS) def get_sriov_port_params(self, context, port_id): """"""Fetch Sriov parameters for a given port_id."""""" port = self._tapi.fetch_port(context, port_id) if port: return self.sriov_utils.get_sriov_port_params(port) def trunk_on_host(self, context, trunk): """"""Returns true if trunk port VF is present on the host."""""" # ToDo visit later host = """" tp = self._tapi.fetch_port(context, trunk.port_id) if tp and tp['binding:host_id'] == host: return True return False ",,1063,96
openstack%2Fnetworking-ovn~master~I253f3fbd14e20c95ec37e0b885496601c1194fde,openstack/networking-ovn,master,I253f3fbd14e20c95ec37e0b885496601c1194fde,DNM Testing ovsdbapp indexes,ABANDONED,2019-08-23 01:45:33.000000000,2019-12-04 08:47:32.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-23 01:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d08ce152fa7f4d906a4e6d3ebd944d52d3e9f7e2', 'message': 'DNM Testing ovsdbapp indexes\n\nDepends-On: https://review.opendev.org/#/c/678076/\nChange-Id: I253f3fbd14e20c95ec37e0b885496601c1194fde\n'}, {'number': 2, 'created': '2019-08-23 03:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0aa92ad38ed4d6ffbf72c3042b75fafe85e8f002', 'message': 'DNM Testing ovsdbapp indexes\n\nDepends-On: https://review.opendev.org/#/c/678076/\nChange-Id: I253f3fbd14e20c95ec37e0b885496601c1194fde\n'}, {'number': 3, 'created': '2019-08-23 12:15:01.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/22d53838ba8c3fada893bdc50b99abcc4273c3d6', 'message': 'DNM Testing ovsdbapp indexes\n\nDepends-On: https://review.opendev.org/#/c/678076/\nChange-Id: I253f3fbd14e20c95ec37e0b885496601c1194fde\n'}]",0,678119,22d53838ba8c3fada893bdc50b99abcc4273c3d6,10,4,3,5756,,,0,"DNM Testing ovsdbapp indexes

Depends-On: https://review.opendev.org/#/c/678076/
Change-Id: I253f3fbd14e20c95ec37e0b885496601c1194fde
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/19/678119/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,d08ce152fa7f4d906a4e6d3ebd944d52d3e9f7e2,, self.setup_indices(self),,1,0
openstack%2Fneutron-lib~master~I402a132f1bfd25a64b68bc706bbd7a6551eabd69,openstack/neutron-lib,master,I402a132f1bfd25a64b68bc706bbd7a6551eabd69,New api-ref securitygroup,ABANDONED,2019-08-15 07:56:51.000000000,2019-12-04 08:47:26.000000000,,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-15 07:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fbc2fa18750ac1318d4bb2ccc6900f91703e02ea', 'message': 'New api-ref securitygroup\n\nChange-Id: I402a132f1bfd25a64b68bc706bbd7a6551eabd69\n'}, {'number': 2, 'created': '2019-08-20 09:53:55.000000000', 'files': ['neutron_lib/api/validators/__init__.py', 'neutron_lib/api/definitions/securitygroup.py', 'neutron_lib/exceptions/securitygroup.py', 'neutron_lib/api/converters.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ae0df22e68720bc7630f7e7844860d103acd0dee', 'message': 'New api-ref securitygroup\n\nChange-Id: I402a132f1bfd25a64b68bc706bbd7a6551eabd69\n'}]",6,676619,ae0df22e68720bc7630f7e7844860d103acd0dee,7,4,2,30380,,,0,"New api-ref securitygroup

Change-Id: I402a132f1bfd25a64b68bc706bbd7a6551eabd69
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/19/676619/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/validators/__init__.py', 'neutron_lib/api/definitions/securitygroup.py', 'neutron_lib/api/converters.py', 'neutron_lib/exceptions/securitygroup.py']",4,fbc2fa18750ac1318d4bb2ccc6900f91703e02ea,,"# Copyright (c) 2012 OpenStack Foundation. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib import exceptions from neutron_lib._i18n import _ # Security group Exceptions class SecurityGroupInvalidPortRange(exceptions.InvalidInput): message = _(""For TCP/UDP protocols, port_range_min must be "" ""<= port_range_max"") class SecurityGroupInvalidProtocolForPort(exceptions.InvalidInput): message = _(""Ports cannot be specified for protocol %(protocol)s. "" ""Ports are only supported for %(valid_port_protocols)s."") class SecurityGroupInvalidPortValue(exceptions.InvalidInput): message = _(""Invalid value for port %(port)s"") class SecurityGroupInvalidIcmpValue(exceptions.InvalidInput): message = _(""Invalid value for ICMP %(field)s (%(attr)s) "" ""%(value)s. It must be 0 to 255."") class SecurityGroupEthertypeConflictWithProtocol(exceptions.InvalidInput): message = _(""Invalid ethertype %(ethertype)s for protocol "" ""%(protocol)s."") class SecurityGroupMissingIcmpType(exceptions.InvalidInput): message = _(""ICMP code (port-range-max) %(value)s is provided"" "" but ICMP type (port-range-min) is missing."") class SecurityGroupInUse(exceptions.InUse): message = _(""Security Group %(id)s %(reason)s."") def __init__(self, **kwargs): if 'reason' not in kwargs: kwargs['reason'] = _(""in use"") super(SecurityGroupInUse, self).__init__(**kwargs) class SecurityGroupCannotRemoveDefault(exceptions.InUse): message = _(""Insufficient rights for removing default security group."") class SecurityGroupCannotUpdateDefault(exceptions.InUse): message = _(""Updating default security group not allowed."") class SecurityGroupDefaultAlreadyExists(exceptions.InUse): message = _(""Default security group already exists."") class SecurityGroupRuleInvalidProtocol(exceptions.InvalidInput): message = _(""Security group rule protocol %(protocol)s not supported. "" ""Only protocol values %(values)s and integer representations "" ""[0 to 255] are supported."") class SecurityGroupRulesNotSingleTenant(exceptions.InvalidInput): message = _(""Multiple tenant_ids in bulk security group rule create"" "" not allowed"") class SecurityGroupRemoteGroupAndRemoteIpPrefix(exceptions.InvalidInput): message = _(""Only remote_ip_prefix or remote_group_id may "" ""be provided."") class SecurityGroupProtocolRequiredWithPorts(exceptions.InvalidInput): message = _(""Must also specify protocol if port range is given."") class SecurityGroupNotSingleGroupRules(exceptions.InvalidInput): message = _(""Only allowed to update rules for "" ""one security profile at a time"") class SecurityGroupNotFound(exceptions.NotFound): message = _(""Security group %(id)s does not exist"") class SecurityGroupRuleNotFound(exceptions.NotFound): message = _(""Security group rule %(id)s does not exist"") class DuplicateSecurityGroupRuleInPost(exceptions.InUse): message = _(""Duplicate Security Group Rule in POST."") class SecurityGroupRuleExists(exceptions.InUse): message = _(""Security group rule already exists. Rule id is %(rule_id)s."") class SecurityGroupRuleInUse(exceptions.InUse): message = _(""Security Group Rule %(id)s %(reason)s."") def __init__(self, **kwargs): if 'reason' not in kwargs: kwargs['reason'] = _(""in use"") super(SecurityGroupRuleInUse, self).__init__(**kwargs) class SecurityGroupRuleParameterConflict(exceptions.InvalidInput): message = _(""Conflicting value ethertype %(ethertype)s for CIDR %(cidr)s"") class SecurityGroupConflict(exceptions.Conflict): message = _(""Error %(reason)s while attempting the operation."") class SecurityGroupRuleInvalidEtherType(exceptions.InvalidInput): message = _(""Security group rule for ethertype '%(ethertype)s' not "" ""supported. Allowed values are %(values)s."") ",,324,1
openstack%2Fneutron~master~I3a081f2a349d77bbd30f07ea23d047a6487ef5d2,openstack/neutron,master,I3a081f2a349d77bbd30f07ea23d047a6487ef5d2,remove trailing comma,ABANDONED,2019-08-03 13:41:55.000000000,2019-12-04 08:47:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-08-03 13:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd45fe5e048dd8b867e4df5d58cd3becec87d649', 'message': 'remove trailing comma\n\nwhen router is aimed to be disabled, extra-dhcp-options is given a\nblank value, but it looks like there is a trailing comma at the end\nof opt:router which causes dnsmasq adding its own ip address.\n\nChange-Id: I3a081f2a349d77bbd30f07ea23d047a6487ef5d2\n'}, {'number': 2, 'created': '2019-08-04 04:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bacacc962fff82f579ca3f8409fb920da64a663', 'message': 'remove trailing comma\n\nwhen router is aimed to be disabled, extra-dhcp-options is given a\nblank value, but it looks like there is a trailing comma at the end\nof opt:router which causes dnsmasq adding its own ip address.\n\nChange-Id: I3a081f2a349d77bbd30f07ea23d047a6487ef5d2\n'}, {'number': 3, 'created': '2019-08-26 11:12:52.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81f7eeeb0546d233a78cd0cda87fadd811ed8c44', 'message': 'remove trailing comma\n\nwhen router is aimed to be disabled, extra-dhcp-options is given a\nblank value, but it looks like there is a trailing comma at the end\nof opt:router which causes dnsmasq adding its own ip address.\n\nChange-Id: I3a081f2a349d77bbd30f07ea23d047a6487ef5d2\n'}]",4,674456,81f7eeeb0546d233a78cd0cda87fadd811ed8c44,34,9,3,29071,,,0,"remove trailing comma

when router is aimed to be disabled, extra-dhcp-options is given a
blank value, but it looks like there is a trailing comma at the end
of opt:router which causes dnsmasq adding its own ip address.

Change-Id: I3a081f2a349d77bbd30f07ea23d047a6487ef5d2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/674456/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,bd45fe5e048dd8b867e4df5d58cd3becec87d649,remove_trailing_comma," if opt.opt_name == 'router' and not opt.opt_value: options.append( self._format_option(opt_ip_version, port.id, opt.opt_name)) else: options.append( self._format_option( opt_ip_version, port.id, opt.opt_name, opt.opt_value))"," options.append( self._format_option(opt_ip_version, port.id, opt.opt_name, opt.opt_value))",9,3
openstack%2Fnetworking-ovn~master~I4d2def8c789a5f7e504deb5e97fc1391164c3279,openstack/networking-ovn,master,I4d2def8c789a5f7e504deb5e97fc1391164c3279,use payloads for TRUNK and SUBPORTS callbacks,ABANDONED,2019-02-06 16:15:43.000000000,2019-12-04 08:47:12.000000000,,"[{'_account_id': 5367}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 16:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cb275f81e5ce48f7c20f44801cabb271dc826d37', 'message': 'use payloads for TRUNK AFTER_DELETE callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK AFTER_DELETES events. Any shims introduced herein will be\nremoved once the other events are moved over to neutron-lib style\npayloads.\n\nDepends-On: https://review.openstack.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 2, 'created': '2019-05-08 13:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f29187ba15ad130f5010dd66c729398584ba0ef7', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. Any shims introduced herein will be\nremoved once the other events are moved over to neutron-lib style\npayloads.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 3, 'created': '2019-06-03 14:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/901acef4d3840acc31fd5250ce30e13f882469be', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. Any shims introduced herein will be\nremoved once the other events are moved over to neutron-lib style\npayloads.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 4, 'created': '2019-06-28 20:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/467ccd53b785a068c076502e1b7543562349aea6', 'message': 'use payloads for TRUNK callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK events. Any shims introduced herein will be\nremoved once the other events are moved over to neutron-lib style\npayloads.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 5, 'created': '2019-07-04 15:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f6e24e9c6159170bbaed8e3402d30ff64030ee66', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 6, 'created': '2019-07-15 21:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39f58fb2050f4b8f55a6cab728bfaa98f761001c', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}, {'number': 7, 'created': '2019-08-26 19:47:07.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44484113cf571fc46878d06f535e555085394dac', 'message': 'use payloads for TRUNK and SUBPORTS callbacks\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor TRUNK and SUBPORTS events.\n\nDepends-On: https://review.opendev.org/#/c/635060/\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nChange-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279\n'}]",2,635205,44484113cf571fc46878d06f535e555085394dac,23,6,7,5367,,,0,"use payloads for TRUNK and SUBPORTS callbacks

This patch switches the code over to the payload style of callbacks [1]
for TRUNK and SUBPORTS events.

Depends-On: https://review.opendev.org/#/c/635060/

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Change-Id: I4d2def8c789a5f7e504deb5e97fc1391164c3279
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/635205/7 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,cb275f81e5ce48f7c20f44801cabb271dc826d37,use-callback-payloads," def trunk_delete_event(self, resource, event, trunk_plugin, payload=None): if event == events.AFTER_DELETE: self.trunk_deleted(payload.states[0]) if trunk_event == events.AFTER_DELETE: registry.subscribe(self._handler.trunk_delete_event, trunk_consts.TRUNK, trunk_event) else: registry.subscribe(self._handler.trunk_event, trunk_consts.TRUNK, trunk_event)"," elif event == events.AFTER_DELETE: self.trunk_deleted(payload.original_trunk) registry.subscribe(self._handler.trunk_event, trunk_consts.TRUNK, trunk_event)",17,7
openstack%2Fnetworking-ovn~master~I3fc3860082198b4e9f2a347b8f12631c474c18c0,openstack/networking-ovn,master,I3fc3860082198b4e9f2a347b8f12631c474c18c0,use payloads for SEGMENT events,ABANDONED,2019-07-19 20:51:52.000000000,2019-12-04 08:47:04.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 20:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d488ec824a555dc2c7d057afe6ae72879319bb94', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events.\n\nDepends-On: https://review.opendev.org/#/c/671853/\nChange-Id: I3fc3860082198b4e9f2a347b8f12631c474c18c0\n'}, {'number': 2, 'created': '2019-07-24 11:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a9e55fa0d3c18019a0a9fbe39fd94f919563cd3', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events.\n\nDepends-On: https://review.opendev.org/#/c/671853/\nChange-Id: I3fc3860082198b4e9f2a347b8f12631c474c18c0\n'}, {'number': 3, 'created': '2019-08-27 19:39:35.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/421d78abbe1810a5716d4db6d871a0a377139f12', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events.\n\nDepends-On: https://review.opendev.org/#/c/671853/\nChange-Id: I3fc3860082198b4e9f2a347b8f12631c474c18c0\n'}]",0,671861,421d78abbe1810a5716d4db6d871a0a377139f12,7,2,3,5367,,,0,"use payloads for SEGMENT events

This patch switches over to payload style of callbacks for the remaining
SEGMENT based callback events.

Depends-On: https://review.opendev.org/#/c/671853/
Change-Id: I3fc3860082198b4e9f2a347b8f12631c474c18c0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/671861/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,d488ec824a555dc2c7d057afe6ae72879319bb94,use-callback-payloads," payload=None): segment = payload.latest_state segment_service_db.map_segment_to_hosts( payload.context, segment.id, hosts)"," context, segment): segment_service_db.map_segment_to_hosts(context, segment.id, hosts)",4,2
openstack%2Fneutron~master~Ib50ec4d472ce500fc5cab2789ac77070733ce101,openstack/neutron,master,Ib50ec4d472ce500fc5cab2789ac77070733ce101,use standard_attr db from neutron-lib,ABANDONED,2019-05-22 18:27:37.000000000,2019-12-04 08:46:46.000000000,,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-22 18:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b49b4804a562c220798ca1ad1dff4eef016bfdb', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}, {'number': 2, 'created': '2019-06-25 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71d59d3c19ab82429f9a393d7ca0fb0b0b70f76e', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}, {'number': 3, 'created': '2019-07-08 21:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/997b236977e8a6b32a358f1aa6cacae069d79706', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}, {'number': 4, 'created': '2019-07-09 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a24234cd935419ce16d937e7b75707c92d89bdb', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}, {'number': 5, 'created': '2019-07-26 20:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a001f36116d113b73e040628eaa1fa9e3fb7267', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}, {'number': 6, 'created': '2019-08-28 14:35:31.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/db/models/loggingapi.py', 'neutron/db/models/segment.py', 'neutron/services/trunk/models.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/db/models/network_segment_range.py', 'neutron/objects/base.py', 'neutron/db/models/tag.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/db/standard_attr.py', 'neutron/db/models/l3.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/models/securitygroup.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/objects/stdattrs.py', 'neutron/db/models_v2.py', 'neutron/objects/tag.py', 'neutron/extensions/tagging.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/023e9256c816cfe864fb1ffa378b4fc89d66acbc', 'message': ""use standard_attr db from neutron-lib\n\nThis patch consumes the neutron_lib.db.standard_attr module from\nneutron-lib by removing the module and unit tests from neutron and\nswitching all imports to use neutron-lib's standard_attr.\n\nNeutronLibImpact\n\nChange-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101\n""}]",0,660797,023e9256c816cfe864fb1ffa378b4fc89d66acbc,35,10,6,5367,,,0,"use standard_attr db from neutron-lib

This patch consumes the neutron_lib.db.standard_attr module from
neutron-lib by removing the module and unit tests from neutron and
switching all imports to use neutron-lib's standard_attr.

NeutronLibImpact

Change-Id: Ib50ec4d472ce500fc5cab2789ac77070733ce101
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/660797/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/db/models/loggingapi.py', 'neutron/db/models/segment.py', 'neutron/services/trunk/models.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/db/models/network_segment_range.py', 'neutron/objects/base.py', 'neutron/db/models/tag.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/db/standard_attr.py', 'neutron/db/models/l3.py', 'neutron/tests/unit/objects/extensions/test_standardattributes.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/models/securitygroup.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/objects/stdattrs.py', 'neutron/db/models_v2.py', 'neutron/objects/tag.py', 'neutron/extensions/tagging.py', 'neutron/tests/unit/db/test_standard_attr.py']",23,2b49b4804a562c220798ca1ad1dff4eef016bfdb,bp/neutronlib-decouple-db,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import gc from neutron_lib import context from sqlalchemy.ext import declarative import testtools from neutron.db import standard_attr from neutron.tests import base from neutron.tests.unit import testlib_api class StandardAttrTestCase(base.BaseTestCase): def setUp(self): super(StandardAttrTestCase, self).setUp() self.addCleanup(gc.collect) def _make_decl_base(self): # construct a new base so we don't interfere with the main # base used in the sql test fixtures return declarative.declarative_base( cls=standard_attr.model_base.NeutronBaseV2) def test_standard_attr_resource_model_map(self): rs_map = standard_attr.get_standard_attr_resource_model_map() base = self._make_decl_base() class MyModel(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): api_collections = ['my_resource', 'my_resource2'] api_sub_resources = ['my_subresource'] rs_map = standard_attr.get_standard_attr_resource_model_map() self.assertEqual(MyModel, rs_map['my_resource']) self.assertEqual(MyModel, rs_map['my_resource2']) self.assertEqual(MyModel, rs_map['my_subresource']) sub_rs_map = standard_attr.get_standard_attr_resource_model_map( include_resources=False, include_sub_resources=True) self.assertNotIn('my_resource', sub_rs_map) self.assertNotIn('my_resource2', sub_rs_map) self.assertEqual(MyModel, sub_rs_map['my_subresource']) nosub_rs_map = standard_attr.get_standard_attr_resource_model_map( include_resources=True, include_sub_resources=False) self.assertEqual(MyModel, nosub_rs_map['my_resource']) self.assertEqual(MyModel, nosub_rs_map['my_resource2']) self.assertNotIn('my_subresource', nosub_rs_map) class Dup(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): api_collections = ['my_resource'] with testtools.ExpectedException(RuntimeError): standard_attr.get_standard_attr_resource_model_map() def test_standard_attr_resource_parent_map(self): base = self._make_decl_base() class TagSupportModel(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): collection_resource_map = {'collection_name': 'member_name'} tag_support = True class TagUnsupportModel(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): collection_resource_map = {'collection_name2': 'member_name2'} tag_support = False class TagUnsupportModel2(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): collection_resource_map = {'collection_name3': 'member_name3'} parent_map = standard_attr.get_tag_resource_parent_map() self.assertEqual('member_name', parent_map['collection_name']) self.assertNotIn('collection_name2', parent_map) self.assertNotIn('collection_name3', parent_map) class DupTagSupportModel(standard_attr.HasStandardAttributes, standard_attr.model_base.HasId, base): collection_resource_map = {'collection_name': 'member_name'} tag_support = True with testtools.ExpectedException(RuntimeError): standard_attr.get_tag_resource_parent_map() class StandardAttrAPIImapctTestCase(testlib_api.SqlTestCase): """"""Test case to determine if a resource has had new fields exposed."""""" def test_api_collections_are_expected(self): # NOTE to reviewers. If this test is being modified, it means the # resources being extended by standard attr extensions have changed. # Ensure that the patch has made this discoverable to API users. # This means a new extension for a new resource or a new extension # indicating that an existing resource now has standard attributes. # Ensure devref list of resources is updated at # doc/source/devref/api_extensions.rst expected = ['subnets', 'trunks', 'routers', 'segments', 'security_group_rules', 'networks', 'policies', 'subnetpools', 'ports', 'security_groups', 'floatingips', 'logs', 'network_segment_ranges'] self.assertEqual( set(expected), set(standard_attr.get_standard_attr_resource_model_map().keys()) ) def test_api_tag_support_is_expected(self): # NOTE: If this test is being modified, it means the resources for tag # support are extended. It changes tag support API. The API change # should be exposed in release note for API users. And also it should # be list as other tag support resources in doc/source/devref/tag.rst expected = ['subnets', 'trunks', 'routers', 'networks', 'policies', 'subnetpools', 'ports', 'security_groups', 'floatingips', 'network_segment_ranges'] self.assertEqual( set(expected), set(standard_attr.get_tag_resource_parent_map().keys()) ) class StandardAttrRevisesBulkDeleteTestCase(testlib_api.SqlTestCase): def test_bulk_delete_protection(self): # security group rules increment security groups so they must not be # allowed to be deleted in bulk mm = standard_attr.get_standard_attr_resource_model_map() sg_rule_model = mm['security_group_rules'] with testtools.ExpectedException(RuntimeError): ctx = context.get_admin_context() ctx.session.query(sg_rule_model).delete() ",21,436
openstack%2Fneutron~stable%2Fpike~I3dca290861d631dcb25036392f0df17d048c2d4a,openstack/neutron,stable/pike,I3dca290861d631dcb25036392f0df17d048c2d4a,DNM: Test out how badly not embedding trunk details is,ABANDONED,2019-08-29 20:52:36.000000000,2019-12-04 08:46:39.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-29 20:52:36.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/687fcb9bfb3061c8c7c650d063b93c35ae649e43', 'message': 'DNM: Test out how badly not embedding trunk details is\n\nWhen you have a large number of trunk ports, then listing ports\nis getting extremely slow (as for every trunk port a sub get_ports\nfor all the subports is being performed, hitting the database again).\nIt is easily possible to get queries then into the minute ranges,\nwhich causes an issue with everything else tripping over.\n\nTest out how far we get with not resolving the trunk port details\non listing (only on get_ports)\n\nChange-Id: I3dca290861d631dcb25036392f0df17d048c2d4a\n'}]",0,679344,687fcb9bfb3061c8c7c650d063b93c35ae649e43,4,3,1,6593,,,0,"DNM: Test out how badly not embedding trunk details is

When you have a large number of trunk ports, then listing ports
is getting extremely slow (as for every trunk port a sub get_ports
for all the subports is being performed, hitting the database again).
It is easily possible to get queries then into the minute ranges,
which causes an issue with everything else tripping over.

Test out how far we get with not resolving the trunk port details
on listing (only on get_ports)

Change-Id: I3dca290861d631dcb25036392f0df17d048c2d4a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/679344/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,687fcb9bfb3061c8c7c650d063b93c35ae649e43,," items = [self._make_port_dict( c, fields, process_extensions=False) for c in query]"," items = [self._make_port_dict(c, fields) for c in query]",2,1
openstack%2Fnetworking-odl~master~Id1f4dc7e2248450821344d77de9ed9f2675ad836,openstack/networking-odl,master,Id1f4dc7e2248450821344d77de9ed9f2675ad836,Hostconfig task is stuck in Processing state,ABANDONED,2019-01-25 12:03:07.000000000,2019-12-04 08:46:07.000000000,,"[{'_account_id': 333}, {'_account_id': 7249}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 11975}, {'_account_id': 16771}, {'_account_id': 17120}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25416}, {'_account_id': 25550}, {'_account_id': 26507}]","[{'number': 1, 'created': '2019-01-25 12:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d40e6ef3d9b7138993c6bb5807fe3c84a96b12d9', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever. As a result subsequent processes will\nnot be able to fetch the hostconfig information anymore.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval is crossed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 2, 'created': '2019-01-25 12:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fb9d96b03b2a52d1fcc7cccc47c7c6e2f8203f44', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 3, 'created': '2019-01-25 17:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f7bf64380e8cba5613cacd306d2a70f131edb9aa', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 4, 'created': '2019-01-26 02:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0b6d57de24b8af6c9acf707a314ffcc921f8f793', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 5, 'created': '2019-01-30 12:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fc849aa94d5e2e46a80bb07de165515c8522379c', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 6, 'created': '2019-01-30 12:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f0ea3939ba6b34d0769fb4433c0a587d668dcdb5', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 7, 'created': '2019-01-31 05:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7abdb2cd63557d9809930d58a36f6a6f92f81c85', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 8, 'created': '2019-01-31 09:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d9e1eeba76246cee930df26c2455ceb4d631cbc3', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 9, 'created': '2019-01-31 13:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2f4325d23345226945bc1d6bd8bb3b4006b5c218', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 10, 'created': '2019-01-31 17:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0c508fcb616821ec53b453308b5a22176cc2c4e8', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 11, 'created': '2019-01-31 19:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/50c9d946f90992c6cf8001e2e4ec0946e28ffb71', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 12, 'created': '2019-02-05 18:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4b759fb6f3b7d1e8da2963c4a4fc90073b684143', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 13, 'created': '2019-02-06 02:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/eb559937c38228ca50433c10d728f747140452d1', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 14, 'created': '2019-02-06 08:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0c3737938cc30b61092bfd2af1cfffa129106db1', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 15, 'created': '2019-02-06 11:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fbf3ba4de6a327954fa3390c5c3050267f013f22', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 16, 'created': '2019-02-06 15:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0ebd98b7199296a3216b8ea227e787f1313f33d6', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 17, 'created': '2019-02-06 18:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/42bb1023e8ff7398adf0748e93e6795055ee2630', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 18, 'created': '2019-02-07 03:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9cb7acb5709ec22f24800c3dde5bae04baf1ffc0', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 19, 'created': '2019-02-22 10:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6b3ae438b0a458c727bc81053989e786e791a21c', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 20, 'created': '2019-02-22 10:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2dee65585c770f1da46e67ea8f249593213f45d9', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 21, 'created': '2019-02-25 06:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5146f889a88d192d5cbbfd903ebb2c8136c5e421', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 22, 'created': '2019-03-19 07:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/865de5481c610da830ad94a7d21029f53b40caa0', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}, {'number': 23, 'created': '2019-09-10 05:17:16.000000000', 'files': ['networking_odl/tests/unit/journal/test_periodic_task.py', 'networking_odl/ml2/pseudo_agentdb_binding.py', 'networking_odl/db/db.py', 'networking_odl/tests/unit/db/test_db.py', 'networking_odl/journal/periodic_task.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/124718f965ce8988928397982bfc504c7fceeee2', 'message': 'Hostconfig task is stuck in Processing state\n\nWhen one of the processes failed during the hostconfig\nperiodic task execution the task will stay in this\nstate forever and as a result subsequent processes will\nnot be able to fetch the hostconfig information anymore,\nassuming the previous process is still processing the\ntask.\n\nThe fix is to  reset the hostconfig task back to pending\nonce a threshold time interval has elapsed for its\nexecution.\n\nCloses-Bug: 1813047\n\nChange-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836\nSigned-off-by: Achuth <achuth.m@altencalsoftlabs.com>\n'}]",39,633190,124718f965ce8988928397982bfc504c7fceeee2,66,12,23,25550,,,0,"Hostconfig task is stuck in Processing state

When one of the processes failed during the hostconfig
periodic task execution the task will stay in this
state forever and as a result subsequent processes will
not be able to fetch the hostconfig information anymore,
assuming the previous process is still processing the
task.

The fix is to  reset the hostconfig task back to pending
once a threshold time interval has elapsed for its
execution.

Closes-Bug: 1813047

Change-Id: Id1f4dc7e2248450821344d77de9ed9f2675ad836
Signed-off-by: Achuth <achuth.m@altencalsoftlabs.com>
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/90/633190/23 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/journal/periodic_task.py'],1,d40e6ef3d9b7138993c6bb5807fe3c84a96b12d9,bug/1813047," def task_already_executed_recently(self, context, interval=None): if interval is None: interval = self.interval context, self.task, interval) # Force hostconfig task back to pending if it has not been updated for # a specified interval ( set now to 3 times restconf interval) # Handles bug #181307 if (task == 'hostconfig' and not self.task_already_executed_recently(context, 3*self.interval)): self.force_unlock(context) def force_unlock(self, context): session = context.session with db_api.autonested_transaction(session): db.unlock_periodic_task(session, self.task) "," def task_already_executed_recently(self, context): context, self.task, self.interval)",18,2
openstack%2Fnetworking-odl~master~Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a,openstack/networking-odl,master,Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a,Use new project templates the Zuul project definition,ABANDONED,2018-08-30 14:41:02.000000000,2019-12-04 08:45:52.000000000,,"[{'_account_id': 8313}, {'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-08-30 14:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/475ce9359722b249833213fbafc8cef97d2bee5b', 'message': 'Use new project templates the Zuul project definition\n\nThere are new project templates that were introduced with the dependent\npatches. This allow the simplification of the project definition even\nfurther.\n\nThis patch uses those project templates and removes the now unneeded\nanchor required_projects_neutron.\n\nChange-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a\nDepends-On: https://review.openstack.org/598103\nDepends-On: https://review.openstack.org/598104\n'}, {'number': 2, 'created': '2018-08-30 14:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d57949086fd572ce35c240590da405f34716f166', 'message': 'Use new project templates the Zuul project definition\n\nThere are new project templates that were introduced with the dependent\npatches. This allow the simplification of the project definition even\nfurther.\n\nThis patch uses those project templates and removes the now unneeded\nanchor required_projects_neutron.\n\nChange-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a\nDepends-On: https://review.openstack.org/598103\nDepends-On: https://review.openstack.org/598104\n'}, {'number': 3, 'created': '2018-10-03 09:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5e8cc59cce305b1bc49c76bfc605d764b1c6ec36', 'message': 'Use new project templates the Zuul project definition\n\nThere are new project templates that were introduced with the dependent\npatches. This allow the simplification of the project definition even\nfurther.\n\nThis patch uses those project templates and removes the now unneeded\nanchor required_projects_neutron.\n\nChange-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a\nDepends-On: https://review.openstack.org/598103\nDepends-On: https://review.openstack.org/598104\n'}, {'number': 4, 'created': '2018-10-16 13:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/492534437767649b5ee9b1609ce45bd754bdcc2c', 'message': 'Use new project templates the Zuul project definition\n\nThere are new project templates that were introduced with the dependent\npatches. This allow the simplification of the project definition even\nfurther.\n\nThis patch uses those project templates and removes the now unneeded\nanchor required_projects_neutron.\n\nChange-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a\nDepends-On: https://review.openstack.org/598103\nDepends-On: https://review.openstack.org/598104\n'}, {'number': 5, 'created': '2019-01-11 19:53:01.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/37461303633cf240d1c2b748346963a011bbec75', 'message': 'Use new project templates the Zuul project definition\n\nThere are new project templates that were introduced with the dependent\npatches. This allow the simplification of the project definition even\nfurther.\n\nThis patch uses those project templates and removes the now unneeded\nanchor required_projects_neutron.\n\nChange-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a\nDepends-On: https://review.openstack.org/598103\nDepends-On: https://review.openstack.org/598104\n'}]",1,598188,37461303633cf240d1c2b748346963a011bbec75,21,7,5,26507,,,0,"Use new project templates the Zuul project definition

There are new project templates that were introduced with the dependent
patches. This allow the simplification of the project definition even
further.

This patch uses those project templates and removes the now unneeded
anchor required_projects_neutron.

Change-Id: Ic6efe859fca0dc832f1c2c3d1211be658ecdb78a
Depends-On: https://review.openstack.org/598103
Depends-On: https://review.openstack.org/598104
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/88/598188/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,475ce9359722b249833213fbafc8cef97d2bee5b,chg/use_new_project_templates, - openstack-cover-jobs-neutron - openstack-lower-constraints-neutron - openstack-tox-cover: *required_projects - openstack-tox-lower-constraints: *required_projects - openstack-tox-cover: *required_projects - openstack-tox-lower-constraints: *required_projects, - openstack-tox-cover: &required_projects_neutron required-projects: - openstack/ceilometer - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-lower-constraints: *required_projects_neutron - openstack-tox-cover: *required_projects_neutron - openstack-tox-lower-constraints: *required_projects_neutron,6,12
openstack%2Fnetworking-odl~master~I418ac0ac02f7b97c4390748c997d7cac44cab0d2,openstack/networking-odl,master,I418ac0ac02f7b97c4390748c997d7cac44cab0d2,Cleanup Zuul project definition,ABANDONED,2018-08-30 08:30:14.000000000,2019-12-04 08:45:48.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-08-30 08:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4ff64d1d75360c07644ab559761a12248dfe4daf', 'message': 'Cleanup Zuul project definition\n\nThere is a lot of repetition of blocks that could benefit from YAML\nanchors and references. Also, there is job specific directives that\nmake more sense to be present in the Zuul jobs definitions instead\nof here.\n\nThis patch makes use of YAML anchors and references and moves the\njob directives to the ""right"" place.\n\nChange-Id: I418ac0ac02f7b97c4390748c997d7cac44cab0d2\n'}, {'number': 2, 'created': '2018-10-03 09:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3b2cc1a5a19487aa9d64f5664cb92aa2ef9afb92', 'message': 'Cleanup Zuul project definition\n\nThere is a lot of repetition of blocks that could benefit from YAML\nanchors and references. Also, there is job specific directives that\nmake more sense to be present in the Zuul jobs definitions instead\nof here.\n\nThis patch makes use of YAML anchors and references and moves the\njob directives to the ""right"" place.\n\nChange-Id: I418ac0ac02f7b97c4390748c997d7cac44cab0d2\n'}, {'number': 3, 'created': '2018-10-16 13:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/33c86bf3c177cdb95bd4498f48b9000a765f0f24', 'message': 'Cleanup Zuul project definition\n\nThere is a lot of repetition of blocks that could benefit from YAML\nanchors and references. Also, there is job specific directives that\nmake more sense to be present in the Zuul jobs definitions instead\nof here.\n\nThis patch makes use of YAML anchors and references and moves the\njob directives to the ""right"" place.\n\nChange-Id: I418ac0ac02f7b97c4390748c997d7cac44cab0d2\n'}, {'number': 4, 'created': '2019-01-11 19:52:51.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a453e6ac8c5129afab0561a76045f6cf22788f82', 'message': 'Cleanup Zuul project definition\n\nThere is a lot of repetition of blocks that could benefit from YAML\nanchors and references. Also, there is job specific directives that\nmake more sense to be present in the Zuul jobs definitions instead\nof here.\n\nThis patch makes use of YAML anchors and references and moves the\njob directives to the ""right"" place.\n\nChange-Id: I418ac0ac02f7b97c4390748c997d7cac44cab0d2\n'}]",3,598086,a453e6ac8c5129afab0561a76045f6cf22788f82,19,7,4,26507,,,0,"Cleanup Zuul project definition

There is a lot of repetition of blocks that could benefit from YAML
anchors and references. Also, there is job specific directives that
make more sense to be present in the Zuul jobs definitions instead
of here.

This patch makes use of YAML anchors and references and moves the
job directives to the ""right"" place.

Change-Id: I418ac0ac02f7b97c4390748c997d7cac44cab0d2
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/86/598086/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,4ff64d1d75360c07644ab559761a12248dfe4daf,python3-first, voting: false branches: ^(?!(driverfixes|stable/(mitaka|newton))).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$,,49,156
openstack%2Fnetworking-odl~master~Id47764ae9aa228c430e3f3a1c61601b59306054f,openstack/networking-odl,master,Id47764ae9aa228c430e3f3a1c61601b59306054f,Move the REST client URL builder methods to itself,ABANDONED,2018-08-28 12:56:33.000000000,2019-12-04 08:45:43.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-08-28 12:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/81137b03859c4d26bb6aa2b65a94387868328ac7', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}, {'number': 2, 'created': '2018-08-29 10:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3660b8719dfffdf8920f84772f6c650ab9befafb', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}, {'number': 3, 'created': '2018-08-29 13:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/211fdef80f6968366964e94bd9126cdbb3aca371', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}, {'number': 4, 'created': '2018-11-05 12:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4aaefe6d620bf81512457f022e77db40c8cfa638', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}, {'number': 5, 'created': '2019-01-08 11:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/94de9e0da110d8ca354a80b63c37b16b719c63d5', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}, {'number': 6, 'created': '2019-09-10 07:17:34.000000000', 'files': ['networking_odl/common/client.py', 'networking_odl/tests/unit/common/test_client.py', 'networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/journal/journal.py', 'networking_odl/tests/unit/lbaas/test_lbaasv2_odl_v2.py', 'networking_odl/lbaas/lbaasv2_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fa7aeb90c8a0ca737f90eaa15107351a7ea2a9f3', 'message': 'Move the REST client URL builder methods to itself\n\nCurrently the methods are separate from the client disaggregating\nfunctionality in different components. This increases difficulty to\nmaintain the code and is less universal.\n\nThis patch moves the code into the client and adds missing tests.\n\nChange-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f\n'}]",0,597118,fa7aeb90c8a0ca737f90eaa15107351a7ea2a9f3,15,3,6,26507,,,0,"Move the REST client URL builder methods to itself

Currently the methods are separate from the client disaggregating
functionality in different components. This increases difficulty to
maintain the code and is less universal.

This patch moves the code into the client and adds missing tests.

Change-Id: Id47764ae9aa228c430e3f3a1c61601b59306054f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/18/597118/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/common/client.py', 'networking_odl/tests/unit/common/test_client.py', 'networking_odl/tests/unit/journal/test_journal.py', 'networking_odl/journal/journal.py', 'networking_odl/tests/unit/lbaas/test_lbaasv2_odl_v2.py', 'networking_odl/lbaas/lbaasv2_driver_v2.py']",6,81137b03859c4d26bb6aa2b65a94387868328ac7,chg/cleanup_client,"from networking_odl.common import client client.OpenDaylightRestClient.set_urlpath_builder( odl_const.ODL_MEMBER, self.lbaas_member_url_builder ) def lbaas_member_url_builder(object_type, row):"," journal.register_url_builder(odl_const.ODL_MEMBER, self.lbaas_member_url_builder) def lbaas_member_url_builder(row):",114,33
openstack%2Fnetworking-sfc~master~I7aa4c1c8506c064185cdd0f486abbf52e091591a,openstack/networking-sfc,master,I7aa4c1c8506c064185cdd0f486abbf52e091591a,CLI/API Driver & Agent Support for Non-Transparent,ABANDONED,2017-10-13 03:34:52.000000000,2019-12-04 08:45:39.000000000,,"[{'_account_id': 3}, {'_account_id': 11313}, {'_account_id': 11907}, {'_account_id': 11975}, {'_account_id': 14037}, {'_account_id': 18955}, {'_account_id': 21798}, {'_account_id': 28743}, {'_account_id': 30156}]","[{'number': 1, 'created': '2017-10-13 03:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e8a0a065225039f22dab0b5ecd332fc2d72ecedb', 'message': ""CLI/API Driver & Agent Support for Non-Transparent\n\n   * Add 'exclusive' attribute in port_pair_group_parameters, which\n     can be set to True to identify non-transparent service function.\n     Default value of attribute is False.\n   * Create CLI, API support for Non-Transparent Service Functions\n   * Create Driver and Agent suuport for NonTransparent\n   * Implement unit test cases for Non-Transparent\n\nImplements: Non-Transparent\nDependent-Id: Ie95f296bd777e8c636bcf9c149c33e7f6ac9fe53\n\nChange-Id: I7aa4c1c8506c064185cdd0f486abbf52e091591a\nCo-Authored-By: Louis Fourie <louis.fourie@huawei.com>\nCo-Authored-By: Cathy Zhang <Cathy.H.Zhang@huawei.com>\n""}, {'number': 2, 'created': '2017-10-13 08:20:15.000000000', 'files': ['networking_sfc/extensions/sfc.py', 'networking_sfc/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'networking_sfc/services/sfc/drivers/ovs/driver.py', 'networking_sfc/cli/port_pair_group.py', 'networking_sfc/db/sfc_db.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/cli/test_port_pair_group.py', 'networking_sfc/tests/unit/extensions/test_sfc.py', 'networking_sfc/services/sfc/drivers/ovs/db.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/tests/unit/db/test_sfc_db.py', 'networking_sfc/db/migration/alembic_migrations/versions/queens/expand/f52308aedf21_add_ppg_exclusive_column_on_sfc_path_.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7f87eeaf16c313cc51808177674c9e273a371d58', 'message': ""CLI/API Driver & Agent Support for Non-Transparent\n\n   * Add 'exclusive' attribute in port_pair_group_parameters, which\n     can be set to True to identify non-transparent service function.\n     Default value of attribute is False.\n   * Create CLI, API support for Non-Transparent Service Functions\n   * Create Driver and Agent suuport for NonTransparent\n   * Implement unit test cases for Non-Transparent\n\nImplements: Non-Transparent\nDependent-Id: Ie95f296bd777e8c636bcf9c149c33e7f6ac9fe53\n\nChange-Id: I7aa4c1c8506c064185cdd0f486abbf52e091591a\nCo-Authored-By: Louis Fourie <louis.fourie@huawei.com>\nCo-Authored-By: Cathy Zhang <Cathy.H.Zhang@huawei.com>\n""}]",20,511693,7f87eeaf16c313cc51808177674c9e273a371d58,14,9,2,23142,,,0,"CLI/API Driver & Agent Support for Non-Transparent

   * Add 'exclusive' attribute in port_pair_group_parameters, which
     can be set to True to identify non-transparent service function.
     Default value of attribute is False.
   * Create CLI, API support for Non-Transparent Service Functions
   * Create Driver and Agent suuport for NonTransparent
   * Implement unit test cases for Non-Transparent

Implements: Non-Transparent
Dependent-Id: Ie95f296bd777e8c636bcf9c149c33e7f6ac9fe53

Change-Id: I7aa4c1c8506c064185cdd0f486abbf52e091591a
Co-Authored-By: Louis Fourie <louis.fourie@huawei.com>
Co-Authored-By: Cathy Zhang <Cathy.H.Zhang@huawei.com>
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/93/511693/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/extensions/sfc.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py', 'networking_sfc/db/migration/alembic_migrations/versions/queens/expand/36fc2ae15c67_add_ppg_exclusive_column_on_sfc_path_.py', 'networking_sfc/cli/port_pair_group.py', 'networking_sfc/db/sfc_db.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/cli/test_port_pair_group.py', 'networking_sfc/tests/unit/extensions/test_sfc.py', 'networking_sfc/services/sfc/drivers/ovs/db.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/tests/unit/db/test_sfc_db.py']",12,e8a0a065225039f22dab0b5ecd332fc2d72ecedb,sfc_non-transparent_exclusive," 'exclusive': False, def test_create_port_chain_with_port_pair_group_exclusive_conflict(self): with self.port_pair_group( port_pair_group={ 'port_pair_group_parameters': { 'exclusive': True} } ) as pg1, self.port_pair_group( port_pair_group={} ) as pg2: with self.port_chain( port_chain={ 'port_pair_groups': [ pg1['port_pair_group']['id'], pg2['port_pair_group']['id'] ] } ): self._create_port_chain( self.fmt, { 'port_pair_groups': [pg1['port_pair_group']['id']] }, expected_res_status=400 ) 'exclusive': True, 'exclusive': False,",,475,17
openstack%2Fneutron~master~I9b05f31f12893e9d0cc987814a1489da49808161,openstack/neutron,master,I9b05f31f12893e9d0cc987814a1489da49808161,update the way to calculate the total number of IPs,ABANDONED,2019-08-06 03:44:06.000000000,2019-12-04 08:45:34.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26622}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-08-06 03:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d24be6e04ecee3e255b779128e0658f1132e673', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}, {'number': 2, 'created': '2019-08-15 23:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc7d5ebc13163c17042540f56f57dca3d55c12ca', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}, {'number': 3, 'created': '2019-08-16 03:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1653835296e5dcaa7c45791a9ca72a10fc328008', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}, {'number': 4, 'created': '2019-08-20 09:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ca2abd14ef510676511cf832b55dc91c3254579', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}, {'number': 5, 'created': '2019-09-05 01:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5f4529ebe4ddd0a8f3b11a8b08f34a47cfc3101', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}, {'number': 6, 'created': '2019-09-17 02:21:07.000000000', 'files': ['neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/db/network_ip_availability_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32c20e0f3a056aaa342379793f64ccbb878b365b', 'message': 'update the way to calculate the total number of IPs\n\nThe current method of calculating the total number of IPs is the total number\nof ip in the address pool. But some ips, such as gateway ip, are not within\nthe address pool. some IP address in deleted address pools. In this case,\nthe number of IPS used may be larger than the total number of ips.\n\nNew method of calculation. the total number of IPs is the union of the\naddress pool and used IPs.\n\nPartial-bug: #1838487\n\nChange-Id: I9b05f31f12893e9d0cc987814a1489da49808161\n'}]",5,674723,32c20e0f3a056aaa342379793f64ccbb878b365b,46,10,6,30380,,,0,"update the way to calculate the total number of IPs

The current method of calculating the total number of IPs is the total number
of ip in the address pool. But some ips, such as gateway ip, are not within
the address pool. some IP address in deleted address pools. In this case,
the number of IPS used may be larger than the total number of ips.

New method of calculation. the total number of IPs is the union of the
address pool and used IPs.

Partial-bug: #1838487

Change-Id: I9b05f31f12893e9d0cc987814a1489da49808161
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/674723/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/network_ip_availability_db.py'],1,8d24be6e04ecee3e255b779128e0658f1132e673,bug/1838487," ipallocation_columns = [ mod.IPAllocation.network_id, mod.IPAllocation.subnet_id, mod.IPAllocation.ip_address ] result_dict = cls._generate_network_total_ips_dict(context, filters) subnet_used_dict = cls._generate_subnet_used_set_list(context, filters) for network_id, network in result_dict.items(): network.update({ 'subnet_ip_availability': [], 'used_ips': 0, 'total_ips': 0 }) subnet_pools = network.pop(""subnet_pools"", {}) for subnet_id, subnet in subnet_pools.items(): ip_set = subnet.pop(""ip_set"") if subnet_id in subnet_used_dict: subnet[""used_ips""] = subnet_used_dict[subnet_id].size ip_set.update(subnet_used_dict[subnet_id]) else: subnet[""used_ips""] = 0 subnet[""total_ips""] = ip_set.size network['used_ips'] += subnet[""used_ips""] network['total_ips'] += subnet[""total_ips""] network[""subnet_ip_availability""].append(subnet) def _build_used_ip_address_query(cls, context, filters): query = context.session.query() query = query.add_columns(*cls.ipallocation_columns) return cls._adjust_query_for_filters(query, filters) @classmethod @db_api.CONTEXT_READER query = query.add_columns(mod.Network.name.label(NETWORK_NAME), mod.Network.tenant_id, mod.Subnet.name.label(SUBNET_NAME) ) def _generate_subnet_used_set_list(cls, context, filters): ip_address_query = cls._build_used_ip_address_query(context, filters) subnet_used_dict = {} for row in ip_address_query: if row.subnet_id not in subnet_used_dict: subnet_used_dict[row.subnet_id] = netaddr.IPSet() subnet_used_dict[row.subnet_id].add( netaddr.IPAddress(row.ip_address)) return subnet_used_dict @classmethod def _generate_network_total_ips_dict(cls, context, filters): total_ips_query = cls._build_total_ips_query(context, filters) result_dict = dict() for db_row in total_ips_query: if db_row.network_id in result_dict: network = result_dict[db_row.network_id] else: network = {NETWORK_ID: db_row.network_id, NETWORK_NAME: db_row.network_name, 'tenant_id': db_row.tenant_id, 'project_id': db_row.tenant_id, ""subnet_pools"": {}} result_dict[db_row.network_id] = network # no subnet in the network if not db_row.subnet_id: continue subnet_pools = network[""subnet_pools""] if db_row.subnet_id not in subnet_pools: subnet = { SUBNET_ID: db_row.subnet_id, 'ip_version': db_row.ip_version, 'cidr': db_row.cidr, SUBNET_NAME: db_row.subnet_name, 'ip_set': netaddr.IPSet() } subnet_pools[db_row.subnet_id] = subnet else: subnet = subnet_pools[db_row.subnet_id] # if no ip address pool in subnet, db_row.last_ip is None if db_row.last_ip: pool_range = netaddr.IPRange( netaddr.IPAddress(db_row.first_ip), netaddr.IPAddress(db_row.last_ip)) subnet[""ip_set""].add(pool_range) return result_dict @classmethod"," subnet_total_ips_dict = cls._generate_subnet_total_ips_dict(context, filters) record_and_count_query = cls._build_network_used_ip_query(context, filters) result_dict = {} for row in record_and_count_query: cls._add_result(row, result_dict, subnet_total_ips_dict.get(row.subnet_id, 0))",89,8
openstack%2Fnetworking-ovn~master~Ie7047eadedabbeb1e021b0fa0918eafec62cbc31,openstack/networking-ovn,master,Ie7047eadedabbeb1e021b0fa0918eafec62cbc31,DNM Check all extensions used in ML2/OVS-DVR scenarios,ABANDONED,2019-07-11 12:09:59.000000000,2019-12-04 08:45:30.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 12:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c13b820c9c4da3caed8b2c87acfdaccdba11af9', 'message': 'DNM Check all extensions used in ML2/OVS-DVR scenarios\n\nList of extensions to be enabled in tempest.conf is taken from\nneutron-tempest-plugin jobs which are run on neutron with ML2/OVS.\n\nIt done to run all same tests as are run in ML2/OVS jobs and check\nwhat will be failing with OVN.\n\nChange-Id: Ie7047eadedabbeb1e021b0fa0918eafec62cbc31\n'}, {'number': 2, 'created': '2019-08-11 08:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7f57d57cd9d598523a6aa1e8d10a17de3d01e836', 'message': 'DNM Check all extensions used in ML2/OVS-DVR scenarios\n\nList of extensions to be enabled in tempest.conf is taken from\nneutron-tempest-plugin jobs which are run on neutron with ML2/OVS.\n\nIt done to run all same tests as are run in ML2/OVS jobs and check\nwhat will be failing with OVN.\n\nChange-Id: Ie7047eadedabbeb1e021b0fa0918eafec62cbc31\n'}, {'number': 3, 'created': '2019-09-06 01:30:43.000000000', 'files': ['networking_ovn/common/extensions.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4f44eff67e30ccac503dfd28a23ff4140d8602cc', 'message': 'DNM Check all extensions used in ML2/OVS-DVR scenarios\n\nList of extensions to be enabled in tempest.conf is taken from\nneutron-tempest-plugin jobs which are run on neutron with ML2/OVS.\n\nIt done to run all same tests as are run in ML2/OVS jobs and check\nwhat will be failing with OVN.\n\nChange-Id: Ie7047eadedabbeb1e021b0fa0918eafec62cbc31\n'}]",0,670291,4f44eff67e30ccac503dfd28a23ff4140d8602cc,9,4,3,11975,,,0,"DNM Check all extensions used in ML2/OVS-DVR scenarios

List of extensions to be enabled in tempest.conf is taken from
neutron-tempest-plugin jobs which are run on neutron with ML2/OVS.

It done to run all same tests as are run in ML2/OVS jobs and check
what will be failing with OVN.

Change-Id: Ie7047eadedabbeb1e021b0fa0918eafec62cbc31
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/91/670291/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/extensions.py'],1,2c13b820c9c4da3caed8b2c87acfdaccdba11af9,ml2-ovs-and-ovn-compare," 'dns-domain-ports', 'dns-integration', 'empty-string-filtering', 'expose-port-forwarding-in-fip', 'ext-gw-mode', 'extraroute', 'filter-validation', 'fip-port-details', 'flavors', 'floating-ip-port-forwarding', 'floatingip-pools', 'ip-substring-filtering', 'l3-flavors', 'l3-ha', 'l3_agent_scheduler', 'logging', 'metering', 'net-mtu-writable', 'network-segment-range', 'pagination', 'port-resource-request', 'port-mac-address-regenerate', 'port-security-groups-filtering', 'project-id', 'qos', 'qos-bw-minimum-ingress', 'qos-fip', 'rbac-security-groups', 'router', 'router_availability_zone', 'segment', 'service-type', 'sorting', 'standard-attr-revisions', 'standard-attr-segment', 'trunk-details',",,36,0
openstack%2Fnetworking-ovn~master~Ia71cefd7397a616354924be40eb6fd44ba05f840,openstack/networking-ovn,master,Ia71cefd7397a616354924be40eb6fd44ba05f840,[train][goal] Define new ipv6-only job for gate,ABANDONED,2019-07-30 12:08:09.000000000,2019-12-04 08:45:15.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 12:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6e1c809b27d603ec1d7eaa02cb907634093eba6f', 'message': ""[train][goal] Define new ipv6-only job for gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Ia71cefd7397a616354924be40eb6fd44ba05f840\n""}, {'number': 2, 'created': '2019-07-30 12:26:36.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8fa23be0ee0b854f32b085cfe8c96796c1595191', 'message': ""[train][goal] Define new ipv6-only job for gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' (adding\nin Depends-On patch) which will deploy services on IPv6.\n\nThis commit adds the new job 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only'\nrun on gate which is derived from 'devstack-tempest-ipv6'.\n\nVerification structure will be:\n- 'devstack-IPv6' deploy the service on IPv6\n- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address\n- 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only' will run the tests.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: Ia71cefd7397a616354924be40eb6fd44ba05f840\n""}]",2,673488,8fa23be0ee0b854f32b085cfe8c96796c1595191,14,5,2,8556,,,0,"[train][goal] Define new ipv6-only job for gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' (adding
in Depends-On patch) which will deploy services on IPv6.

This commit adds the new job 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only'
run on gate which is derived from 'devstack-tempest-ipv6'.

Verification structure will be:
- 'devstack-IPv6' deploy the service on IPv6
- 'devstack-tempest-ipv6' run will verify the IPv6-only setting and listen address
- 'networking-ovn-tempest-dsvm-ovs-release-ipv6-only' will run the tests.

Story: #2005477
Task: #35908

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: Ia71cefd7397a616354924be40eb6fd44ba05f840
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/673488/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml']",2,6e1c809b27d603ec1d7eaa02cb907634093eba6f,ipv6-only-deployment-and-testing, required-projects: &base_required_projects irrelevant-files: &base_irrelevant_files vars: &base_vars name: networking-ovn-tempest-dsvm-ovs-ipv6-only-base parent: devstack-tempest-ipv6 description: | networking-ovn devstack tempest tests base job with IPv6-only deployment timeout: 10800 irrelevant-files: *base_irrelevant_files required-projects: *base_required_projects vars: *base_vars - job: name: networking-ovn-tempest-dsvm-ovs-release-ipv6-only parent: networking-ovn-tempest-dsvm-ovs-ipv6-only-base description: | networking-ovn devstack tempest tests job with OVN latest release and IPv6-only deployment vars: devstack_localrc: OVN_BRANCH: branch-2.11 - job:, required-projects: irrelevant-files: vars:,24,3
openstack%2Fneutron~stable%2Ftrain~Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d,openstack/neutron,stable/train,Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d,Convert Pyroute2 byte results to strings,MERGED,2019-11-28 11:48:51.000000000,2019-12-04 08:45:10.000000000,2019-12-04 08:43:06.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-28 11:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f127509acce37e28951d5fa59fc0d6fd3cb33d82', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n(cherry picked from commit 592b44629905d68b39ec92604b882627f4844908)\n'}, {'number': 2, 'created': '2019-11-28 11:49:50.000000000', 'files': ['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f5eeba32a70ecb963776aebbc2ff0949d1154f1', 'message': 'Convert Pyroute2 byte results to strings\n\nPyroute2 can return information structures with values as bytes\ninstead of strings. In order to unify the output, those byte\nparameters will be converted to string. This is needed in case of\nhaving dictionaries with keys as bytes instead of strings.\n\nChange-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d\nCloses-Bug: #1846360\n(cherry picked from commit 592b44629905d68b39ec92604b882627f4844908)\n'}]",1,696523,4f5eeba32a70ecb963776aebbc2ff0949d1154f1,27,7,2,16688,,,0,"Convert Pyroute2 byte results to strings

Pyroute2 can return information structures with values as bytes
instead of strings. In order to unify the output, those byte
parameters will be converted to string. This is needed in case of
having dictionaries with keys as bytes instead of strings.

Change-Id: Ic665b2c5e28d06e21190f06d9f3f8e8f8c3c792d
Closes-Bug: #1846360
(cherry picked from commit 592b44629905d68b39ec92604b882627f4844908)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/696523/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",2,f127509acce37e28951d5fa59fc0d6fd3cb33d82,bug/1846360-stable/train," def _ensure_string(value): # NOTE(ralonsoh): once PY2 is deprecated, the str() conversion will be # no needed and six.binary_type --> bytes. return (str(value.decode('utf-8')) if isinstance(value, six.binary_type) else value) elif isinstance(value, netlink.nla_base) and six.PY3: return make_serializable(value.dump()) elif isinstance(value, dict): return {_ensure_string(key): make_serializable(data) for key, data in value.items()} return _ensure_string(value) rules = make_serializable(ip.get_rules( family=_IP_VERSION_FAMILY_MAP[ip_version], match=match, **kwargs))"," elif isinstance(value, dict): return {key: make_serializable(data) for key, data in value.items()} return value rules = ip.get_rules(family=_IP_VERSION_FAMILY_MAP[ip_version], match=match, **kwargs)",32,5
openstack%2Fneutron~master~Ic4d3c0c9c991c254902f1ad07f67815a2f40b9fa,openstack/neutron,master,Ic4d3c0c9c991c254902f1ad07f67815a2f40b9fa,[DNR][DNM] CI Test,ABANDONED,2019-09-17 19:17:19.000000000,2019-12-04 08:45:09.000000000,,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 19:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02a0715741f76f77d52a44fea5f1b568dea54fee', 'message': '[DNR][DNM] CI Test\n\nThis is intended to flush out differences between single port\nprovisioning and bulk port provisioning.\n\nChange-Id: Ic4d3c0c9c991c254902f1ad07f67815a2f40b9fa\n'}, {'number': 2, 'created': '2019-09-18 20:24:04.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e794aa64166922d67411d706dc04aa3466a0937', 'message': '[DNR][DNM] CI Test\n\nThis is intended to flush out differences between single port\nprovisioning and bulk port provisioning.\n\nChange-Id: Ic4d3c0c9c991c254902f1ad07f67815a2f40b9fa\n'}]",0,682721,9e794aa64166922d67411d706dc04aa3466a0937,10,5,2,13995,,,0,"[DNR][DNM] CI Test

This is intended to flush out differences between single port
provisioning and bulk port provisioning.

Change-Id: Ic4d3c0c9c991c254902f1ad07f67815a2f40b9fa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/682721/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,02a0715741f76f77d52a44fea5f1b568dea54fee,bulk_port," pdata = port.get('port') if pdata: device_owner = pdata.get('device_owner') if device_owner and device_owner not in const.ROUTER_INTERFACE_OWNERS: ports = {'ports': [port]} return self.create_port_bulk(context, ports).pop() else: self._before_create_port(context, port) result, mech_context = self._create_port_db(context, port) return self._after_create_port(context, result, mech_context)"," self._before_create_port(context, port) result, mech_context = self._create_port_db(context, port) return self._after_create_port(context, result, mech_context)",10,3
openstack%2Fneutron~master~I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27,openstack/neutron,master,I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27,Check DefaultPrefixLength in Subnetpools,ABANDONED,2017-03-21 09:57:01.000000000,2019-12-04 08:45:00.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4187}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}, {'_account_id': 21784}, {'_account_id': 22220}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 26916}]","[{'number': 1, 'created': '2017-03-21 09:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50d63808e5e36a771963c8e584338cc0d3cb2a1b', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApplya check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 2, 'created': '2017-03-22 07:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8090c33883177fda209f2225f5db0e426aa5ede', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApplya check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nDepends-On: Ic053b8b10de32ca798b61c3af92ece0a6959835d\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 3, 'created': '2017-04-10 10:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a826d97a7de908036287554e219d9aa2ab25676', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApplya check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 4, 'created': '2017-04-10 10:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dee339dc4ade186c0af9012ade4592d87325c1b6', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApplya check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 5, 'created': '2017-04-13 07:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c368edf1888b4be8593053ce8042d531c8a5ec7', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApply a check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 6, 'created': '2017-07-04 10:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ea9a556fd84c74980b3fa7f3c08cb88fdb4b299', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApply a check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 7, 'created': '2017-08-12 05:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/834044fbabded20d53a3ad6fc190a88cb2553773', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApply a check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 8, 'created': '2017-08-23 03:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c5860ab6c418c77e8aeb4a1fe87bd8f5a1c3f91', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApply a check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}, {'number': 9, 'created': '2019-09-17 20:01:42.000000000', 'files': ['neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/extensions/test_timestamp.py', 'neutron/ipam/exceptions.py', 'neutron/tests/unit/extensions/test_address_scope.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cee41cc8b9d8efa001437aa42ab074b6f2d1e3c', 'message': 'Check DefaultPrefixLength in Subnetpools\n\nApply a check in the default prefixlength in subnetpools\nso that the prefixlength of the subnetpool can be checked with\nnetwork prefix length.\nIn case of inconsistency, do not allow creation of subnets from the\nsubnetpool.\n\nChange-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27\nCloses-Bug: #1644433\nCo-Authored-By: wujun <wujun@awcloud.com>\n'}]",10,447983,0cee41cc8b9d8efa001437aa42ab074b6f2d1e3c,84,22,9,17776,,,0,"Check DefaultPrefixLength in Subnetpools

Apply a check in the default prefixlength in subnetpools
so that the prefixlength of the subnetpool can be checked with
network prefix length.
In case of inconsistency, do not allow creation of subnets from the
subnetpool.

Change-Id: I42e516e6e8cf06ac31e0f0459e438b5b0b88dd27
Closes-Bug: #1644433
Co-Authored-By: wujun <wujun@awcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/447983/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/tests/unit/extensions/test_timestamp.py', 'neutron/common/exceptions.py', 'neutron/tests/unit/extensions/test_address_scope.py']",8,50d63808e5e36a771963c8e584338cc0d3cb2a1b,bug/1644433-patch8," min_prefixlen='24', min_prefixlen='24', [overlap_subnet.cidr], min_prefixlen='24', min_prefixlen='24') min_prefixlen='24') min_prefixlen='24', address_scope_id=address_scope_id) min_prefixlen='24', address_scope_id=address_scope_id) min_prefixlen='24', address_scope_id=foo_as_id) min_prefixlen='24',"," min_prefixlen='21', min_prefixlen='21', [overlap_subnet.cidr], min_prefixlen='21', min_prefixlen='21') min_prefixlen='21') min_prefixlen='21', address_scope_id=address_scope_id) min_prefixlen='21', address_scope_id=address_scope_id) min_prefixlen='21', address_scope_id=foo_as_id) min_prefixlen='21',",81,64
openstack%2Fneutron-fwaas~master~Ie25a8e7d1fe77189143d689e87e02d52a3847030,openstack/neutron-fwaas,master,Ie25a8e7d1fe77189143d689e87e02d52a3847030,Update the constraints url,ABANDONED,2019-09-20 09:48:22.000000000,2019-12-04 08:44:36.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-20 09:48:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fd54c90d1efb2931ca7329f6f17631e179fa0c3d', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ie25a8e7d1fe77189143d689e87e02d52a3847030\n'}]",0,683345,fd54c90d1efb2931ca7329f6f17631e179fa0c3d,9,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ie25a8e7d1fe77189143d689e87e02d52a3847030
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/45/683345/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd54c90d1efb2931ca7329f6f17631e179fa0c3d,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fneutron~master~I2ea4a240595f69ccd6f2c329387eb28d40c2997a,openstack/neutron,master,I2ea4a240595f69ccd6f2c329387eb28d40c2997a,"Refactor network ip availability api, add 'available_ips' filed",ABANDONED,2019-09-12 10:36:27.000000000,2019-12-04 08:44:27.000000000,,"[{'_account_id': 841}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28329}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-09-12 10:36:27.000000000', 'files': ['neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/db/network_ip_availability_db.py', 'neutron/extensions/network_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7ecb32972f448972529360fa2525ef4088d3216', 'message': ""Refactor network ip availability api, add 'available_ips' filed\n\nThe 'available_ips' is represented the number of assignable ip address in\na network.\n\nCurrently, the network ip availability api only provide 'total_ips' and\n'used_ips'. In some case, we can't accurately figure out the rest of ip\naddress only according to the two value. For example, the subnet has no\n'ip_allocation_pools' or the 'ip_allocation_pools' was updated after\nallocated some ips.\n\nCloses-Bug: #1843211\nChange-Id: I2ea4a240595f69ccd6f2c329387eb28d40c2997a\n""}]",0,681705,b7ecb32972f448972529360fa2525ef4088d3216,14,10,1,28329,,,0,"Refactor network ip availability api, add 'available_ips' filed

The 'available_ips' is represented the number of assignable ip address in
a network.

Currently, the network ip availability api only provide 'total_ips' and
'used_ips'. In some case, we can't accurately figure out the rest of ip
address only according to the two value. For example, the subnet has no
'ip_allocation_pools' or the 'ip_allocation_pools' was updated after
allocated some ips.

Closes-Bug: #1843211
Change-Id: I2ea4a240595f69ccd6f2c329387eb28d40c2997a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/681705/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_network_ip_availability.py', 'neutron/db/network_ip_availability_db.py', 'neutron/extensions/network_ip_availability.py']",3,b7ecb32972f448972529360fa2525ef4088d3216,bug/1843211," cls._populate_available_ips_field(resource_attributes) @classmethod def _populate_available_ips_field(cls, params): params['available_ips'] = { 'allow_post': False, 'allow_put': False, 'is_visible': True}",,146,141
openstack%2Fneutron-fwaas~stable%2Fpike~I05f0f652f3e43d5c1ce5ae7933991cf92a418920,openstack/neutron-fwaas,stable/pike,I05f0f652f3e43d5c1ce5ae7933991cf92a418920,Fix associating firewall group with DVR/L3HA port,ABANDONED,2018-10-26 21:21:05.000000000,2019-12-04 08:43:54.000000000,,"[{'_account_id': 1131}, {'_account_id': 6995}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 21:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/45161d89881cbdcd84a9bead9edf107badee2cec', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 2, 'created': '2018-10-26 21:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8352ccb141cd77652b470c4e08625a2a6da42bb0', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 3, 'created': '2018-10-29 17:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b602d3e25f6e039b591ce9948310b60edd10d657', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 4, 'created': '2019-09-25 19:39:53.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9a0e1245e9d8a457ac81aa7a0565cf62edd784e1', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}]",0,613691,9a0e1245e9d8a457ac81aa7a0565cf62edd784e1,9,6,4,7016,,,0,"Fix associating firewall group with DVR/L3HA port

This commit enables to specify DVR/L3HA port for firewall group. We can
select a port with following device_owner in creating/updating firewall
group.

    * DVR:  'network:router_interface_distributed'
    * L3HA: 'network:ha_router_replicated_interface'

Co-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>
Change-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920
Closes-Bug: #1762454
(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/91/613691/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py']",3,45161d89881cbdcd84a9bead9edf107badee2cec,bug/1762454," device_owner = port_db.get('device_owner', '') if (device_owner not in [nl_constants.ROUTER_INTERFACE_OWNERS] and not device_owner.startswith( nl_constants.DEVICE_OWNER_COMPUTE_PREFIX)): raise f_exc.FirewallGroupPortInvalid(port_id=port_id) if (device_owner.startswith( nl_constants.DEVICE_OWNER_COMPUTE_PREFIX) and not self._is_supported_by_fw_l2_driver(context, port_id)): raise exceptions.FirewallGroupPortNotSupported(port_id=port_id) def _is_supported_by_fw_l2_driver(self, context, port_id): """"""Whether this port is supported by firewall l2 driver"""""" # Re-fetch to get up-to-date data from db port = self._core_plugin.get_port(context, id=port_id) # Skip port binding is unbound or failed if port[pb_def.VIF_TYPE] in [pb_def.VIF_TYPE_UNBOUND, pb_def.VIF_TYPE_BINDING_FAILED]: return False if not port['port_security_enabled']: return True if port[pb_def.VIF_TYPE] == pb_def.VIF_TYPE_OVS: # TODO(annp): remove these lines after we fully support for hybrid # port if not port[pb_def.VIF_DETAILS][pb_def.OVS_HYBRID_PLUG]: return True LOG.warning(""Doesn't support hybrid port at the moment"") else: LOG.warning(""Doesn't support vif type %s"", port[pb_def.VIF_TYPE]) return False "," if port_db['device_owner'] != ""network:router_interface"": raise f_exc.FirewallGroupPortInvalid(port_id=port_id)",84,5
openstack%2Fneutron-fwaas~stable%2Fqueens~I05f0f652f3e43d5c1ce5ae7933991cf92a418920,openstack/neutron-fwaas,stable/queens,I05f0f652f3e43d5c1ce5ae7933991cf92a418920,Fix associating firewall group with DVR/L3HA port,ABANDONED,2018-10-26 19:11:37.000000000,2019-12-04 08:43:34.000000000,,"[{'_account_id': 1131}, {'_account_id': 6995}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-26 19:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/43ae4887408c5fb18c4453988d36f4da814a0afe', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 2, 'created': '2018-10-26 19:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/46ff977a7093b9f9545b99c7b6d35acc69aa04b8', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 3, 'created': '2018-10-26 19:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/39308619fc66fc150ce2655a820204a8471d0443', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 4, 'created': '2018-10-29 17:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b601881ca89356e22570354462d344cf6a386497', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}, {'number': 5, 'created': '2019-09-25 19:39:40.000000000', 'files': ['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/61c8a45b197b07aaff6f8b3358eb6f5ab615736a', 'message': ""Fix associating firewall group with DVR/L3HA port\n\nThis commit enables to specify DVR/L3HA port for firewall group. We can\nselect a port with following device_owner in creating/updating firewall\ngroup.\n\n    * DVR:  'network:router_interface_distributed'\n    * L3HA: 'network:ha_router_replicated_interface'\n\nCo-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>\nChange-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920\nCloses-Bug: #1762454\n(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)\n""}]",0,613669,61c8a45b197b07aaff6f8b3358eb6f5ab615736a,13,6,5,7016,,,0,"Fix associating firewall group with DVR/L3HA port

This commit enables to specify DVR/L3HA port for firewall group. We can
select a port with following device_owner in creating/updating firewall
group.

    * DVR:  'network:router_interface_distributed'
    * L3HA: 'network:ha_router_replicated_interface'

Co-Authored-By: Nguyen Phuong An <annp@vn.fujitsu.com>
Change-Id: I05f0f652f3e43d5c1ce5ae7933991cf92a418920
Closes-Bug: #1762454
(cherry picked from commit f8e4a193e7930c2e9ef169c6e3be53a3e2a39dbe)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/69/613669/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py']",2,43ae4887408c5fb18c4453988d36f4da814a0afe,bug/1762454," def _test_fwg_with_port(self, device_owner): with self.port(device_owner=device_owner) as port: with self.firewall_rule() as fwr: fwr_id = fwr['firewall_rule']['id'] with self.firewall_policy(firewall_rules=[fwr_id]) as fwp: fwp_id = fwp['firewall_policy']['id'] self.firewall_group( self.fmt, ""firewall_group"", self.DESCRIPTION, ports=[port['port']['id']], ingress_firewall_policy_id=fwp_id, ) def test_create_fwg_with_l3_ports(self): for device_owner_for_l3 in nl_constants.ROUTER_INTERFACE_OWNERS: self._test_fwg_with_port(device_owner_for_l3) def test_create_fwg_with_l2_port(self): device_owner_for_l2 = nl_constants.DEVICE_OWNER_COMPUTE_PREFIX + 'nova' self._test_fwg_with_port(device_owner_for_l2) ",,40,3
openstack%2Fnetworking-midonet~master~I812031838a6fc84bbb9896b280f9806313659ad5,openstack/networking-midonet,master,I812031838a6fc84bbb9896b280f9806313659ad5,Update the constraints url,ABANDONED,2019-09-26 02:12:34.000000000,2019-12-04 08:43:11.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 02:12:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0a0a32613e099be55a9628c1233c900d69122d95', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I812031838a6fc84bbb9896b280f9806313659ad5\n'}]",0,684870,0a0a32613e099be55a9628c1233c900d69122d95,3,2,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I812031838a6fc84bbb9896b280f9806313659ad5
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/70/684870/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a0a32613e099be55a9628c1233c900d69122d95,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fnetworking-ovn~master~If4732623314defcadbcb2838ac32973a24dbe450,openstack/networking-ovn,master,If4732623314defcadbcb2838ac32973a24dbe450,Fix failure of getting IP without sg,ABANDONED,2019-09-26 09:09:15.000000000,2019-12-04 08:43:01.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:09:15.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f8f6bfa486b7f3738e21cec9dac39e6738efede8', 'message': ""Fix failure of getting IP without sg\n\nVM can not get ip addresss if without any security group.\n\nThis issue has been discussed fistly by this link [0] and\nfixed by related patch.\n\nBut, related patch was dropped afterwards. We can get detailed info from [1].\nActually, the problem is still here.\n\nThis patch is adding acl rule in 'ls_in_acl' table of logical flow\nto allow DHCP and ICMPV6 traffic.\n\n[0] https://bugs.launchpad.net/networking-ovn/+bug/1536028\n[1] https://bugs.launchpad.net/networking-ovn/+bug/1790900\n\nChange-Id: If4732623314defcadbcb2838ac32973a24dbe450\nRelated-Bug: #1845457\n""}]",0,684976,f8f6bfa486b7f3738e21cec9dac39e6738efede8,3,2,1,29874,,,0,"Fix failure of getting IP without sg

VM can not get ip addresss if without any security group.

This issue has been discussed fistly by this link [0] and
fixed by related patch.

But, related patch was dropped afterwards. We can get detailed info from [1].
Actually, the problem is still here.

This patch is adding acl rule in 'ls_in_acl' table of logical flow
to allow DHCP and ICMPV6 traffic.

[0] https://bugs.launchpad.net/networking-ovn/+bug/1536028
[1] https://bugs.launchpad.net/networking-ovn/+bug/1790900

Change-Id: If4732623314defcadbcb2838ac32973a24dbe450
Related-Bug: #1845457
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/684976/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/acl.py']",2,f8f6bfa486b7f3738e21cec9dac39e6738efede8,bug/1845457,"def add_acls_for_subnet_port_group(ovn, pg_name, subnet, ovn_dhcp=True): # Allow both DHCP requests and responses to pass for other DHCP services. # Allow IPv4 and IPv6. acl_list = [] if subnet['ipv6_address_mode'] is None: if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip4 && ip4.src == %s && ' 'udp && udp.src == 67 && udp.dst == 68' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip4 && ' 'ip4.dst == {255.255.255.255, %s} && ' 'udp && udp.src == 68 && udp.dst == 67' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) elif subnet['ipv6_address_mode'] == 'dhcpv6-stateful': if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip6 && ip6.src == %s && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip6 && ' 'ip6.dst == {ff02::/16, %s} && ' 'udp && udp.src == 546 && udp.dst == 547' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) elif subnet['ipv6_address_mode'] in ['slaac', 'dhcpv6-stateless']: if not ovn_dhcp: acl = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip6 && ip6.src == %s && ' 'icmp6' ) % (pg_name, subnet['cidr'])} acl_list.append(acl) acl1 = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == @%s && ip6 &&' 'icmp6.type == {131, 133, 134, 135, 143}' ) % pg_name} acl2 = {""port_group"": pg_name, ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == @%s && ip6 &&' 'icmp6.type == {131, 133, 134, 135, 143}' ) % pg_name} acl_list.append(acl1) acl_list.append(acl2) else: pass return acl_list ",,161,0
openstack%2Fnetworking-midonet~master~I6b2f536f94282a0c9f6551feecac9fcfd46d3655,openstack/networking-midonet,master,I6b2f536f94282a0c9f6551feecac9fcfd46d3655,[train][goal] Define new networking-midonet-tempest-aio-ml2-full-ipv6-only job,ABANDONED,2019-09-17 18:05:33.000000000,2019-12-04 08:42:10.000000000,,"[{'_account_id': 6854}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 18:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/e85d93fb0a99be7b4e534582af60e83cf7cb759a', 'message': ""[train][goal] Define new networking-midonet-tempest-aio-ml2-full-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nnetworking-midonet has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'networking-midonet-tempest-aio-ml2-full-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6b2f536f94282a0c9f6551feecac9fcfd46d3655\n""}, {'number': 2, 'created': '2019-09-18 16:09:35.000000000', 'files': ['.zuul.yaml', 'playbooks/tempest-aio-ml2-full-legacy/run-ipv6.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/be022adfa2c39a2866819b793e3f57f0ec88edcd', 'message': ""[train][goal] Define new networking-midonet-tempest-aio-ml2-full-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nnetworking-midonet has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'networking-midonet-tempest-aio-ml2-full-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6b2f536f94282a0c9f6551feecac9fcfd46d3655\n""}]",0,682707,be022adfa2c39a2866819b793e3f57f0ec88edcd,10,5,2,8556,,,0,"[train][goal] Define new networking-midonet-tempest-aio-ml2-full-ipv6-only job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
we need to define the integration job which deploy services
on IPv6 and perform testing to make sure service listen and communicate
over IPv6 properly.

networking-midonet has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and
'devstack-tempest-ipv6' cannot be used and we have to copy the whole
run.yaml to set the IPv6 setting and run the IPv6 verification
script via post_test_hook.

This commit adds the new job 'networking-midonet-tempest-aio-ml2-full-ipv6-only'
run on gate and set the required IPv6 setting'.

Story: #2005477
Task: #35908

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I6b2f536f94282a0c9f6551feecac9fcfd46d3655
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/07/682707/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/tempest-aio-ml2-full-legacy/run-ipv6.yaml']",2,e85d93fb0a99be7b4e534582af60e83cf7cb759a,ipv6-only-deployment-and-testing,"- hosts: all name: IPv6 version of tempest-dsvm-networking-midonet-aio-ml2-full-legacy from old job gate-tempest-dsvm-networking-midonet-aio-ml2-full-legacy-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=aio # Because we are testing a non standard project, add # our project repository. This makes zuul do the right # reference magic for testing changes. export PROJECTS=""openstack/networking-midonet $PROJECTS"" export PROJECTS=""openstack/neutron-dynamic-routing $PROJECTS"" export PROJECTS=""openstack/neutron-tempest-plugin $PROJECTS"" export PROJECTS=""openstack/networking-l2gw $PROJECTS"" export PROJECTS=""x/tap-as-a-service $PROJECTS"" export PROJECTS=""x/tap-as-a-service-tempest-plugin $PROJECTS"" export DEVSTACK_GATE_USE_PYTHON3=True export DEVSTACK_LOCAL_CONFIG+=$'\n'""SERVICE_IP_VERSION=6"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""SERVICE_HOST=''"" function gate_hook { bash -xe $BASE/new/networking-midonet/devstack/ci/gate_hook.sh ml2-full-legacy } export -f gate_hook export DEVSTACK_GATE_SETTINGS=/opt/stack/new/networking-midonet/devstack/devstackgaterc function post_test_hook { cd $BASE/new/tempest/tools ./verify-ipv6-only-deployments.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,83,0
openstack%2Fneutron~stable%2Fpike~I5018c42fac6ced2ca4fd3cdafd559da5eddd098c,openstack/neutron,stable/pike,I5018c42fac6ced2ca4fd3cdafd559da5eddd098c,"Revert ""Use objects instead of SQLA deep copies in PortContext""",ABANDONED,2018-06-21 13:10:18.000000000,2019-12-04 08:42:01.000000000,,"[{'_account_id': 6876}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-06-21 13:10:18.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/plugins/ml2/db.py', 'neutron/tests/unit/plugins/ml2/test_driver_context.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/91d3c296c476f25b2d9377a02411e39ad34aee58', 'message': 'Revert ""Use objects instead of SQLA deep copies in PortContext""\n\nThis reverts commit 0f536d5a25d410362e5a7b1390bc627cc3dc5071.\n\nChange-Id: I5018c42fac6ced2ca4fd3cdafd559da5eddd098c\nCloses-Bug: 1705012\n'}]",0,577153,91d3c296c476f25b2d9377a02411e39ad34aee58,7,5,1,22595,,,0,"Revert ""Use objects instead of SQLA deep copies in PortContext""

This reverts commit 0f536d5a25d410362e5a7b1390bc627cc3dc5071.

Change-Id: I5018c42fac6ced2ca4fd3cdafd559da5eddd098c
Closes-Bug: 1705012
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/577153/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/test_driver_context.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/plugins/ml2/plugin.py']",7,91d3c296c476f25b2d9377a02411e39ad34aee58,bug/1705012,import copy # merging here brings binding changes into the session so they can be # committed since the binding attached to the context is detached from # the session plugin_context.session.merge(binding) cur_context._binding = copy.deepcopy(cur_binding) plugin_context.session.merge(binding), binding.persist_state_to_session(plugin_context.session) cur_context._binding = driver_context.InstanceSnapshot( cur_binding) binding.persist_state_to_session(plugin_context.session),34,60
openstack%2Fneutron-dynamic-routing~master~I6435b44e73a3a22e2bf4461d2dec18001cba6321,openstack/neutron-dynamic-routing,master,I6435b44e73a3a22e2bf4461d2dec18001cba6321,[train][goal] Define new neutron-dynamic-routing-dsvm-tempest-api-ipv6-only job,ABANDONED,2019-09-17 17:07:44.000000000,2019-12-04 08:41:34.000000000,,"[{'_account_id': 4187}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 17:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1c20923715ba3772808613b5a61e067faa422451', 'message': ""[train][goal] Define new neutron-dynamic-routing-dsvm-tempest-api-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nneutron-dynamic-routing has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'neutron-dynamic-routing-dsvm-tempest-api-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6435b44e73a3a22e2bf4461d2dec18001cba6321\n""}, {'number': 2, 'created': '2019-09-18 16:10:11.000000000', 'files': ['.zuul.yaml', 'playbooks/neutron-dynamic-routing-dsvm-tempest-api/run-ipv6.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e60924b5ddaa443761533abcfd6fa80eca332c9f', 'message': ""[train][goal] Define new neutron-dynamic-routing-dsvm-tempest-api-ipv6-only job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nneutron-dynamic-routing has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and\n'devstack-tempest-ipv6' cannot be used and we have to copy the whole\nrun.yaml to set the IPv6 setting and run the IPv6 verification\nscript via post_test_hook.\n\nThis commit adds the new job 'neutron-dynamic-routing-dsvm-tempest-api-ipv6-only'\nrun on gate and set the required IPv6 setting'.\n\nStory: #2005477\nTask: #35908\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I6435b44e73a3a22e2bf4461d2dec18001cba6321\n""}]",0,682700,e60924b5ddaa443761533abcfd6fa80eca332c9f,11,4,2,8556,,,0,"[train][goal] Define new neutron-dynamic-routing-dsvm-tempest-api-ipv6-only job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
we need to define the integration job which deploy services
on IPv6 and perform testing to make sure service listen and communicate
over IPv6 properly.

neutron-dynamic-routing has legacy zuul jobs only so base zuulv3 IPv6 job 'devstack-ipv6' and
'devstack-tempest-ipv6' cannot be used and we have to copy the whole
run.yaml to set the IPv6 setting and run the IPv6 verification
script via post_test_hook.

This commit adds the new job 'neutron-dynamic-routing-dsvm-tempest-api-ipv6-only'
run on gate and set the required IPv6 setting'.

Story: #2005477
Task: #35908

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I6435b44e73a3a22e2bf4461d2dec18001cba6321
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/00/682700/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/neutron-dynamic-routing-dsvm-tempest-api/run-ipv6.yaml']",2,1c20923715ba3772808613b5a61e067faa422451,ipv6-only-deployment-and-testing,"- hosts: all name: IPv6 version of neutron-dynamic-routing-dsvm-tempest-api job tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin neutron-dynamic-routing https://opendev.org/openstack/neutron-dynamic-routing enable_plugin neutron-tempest-plugin https://opendev.org/openstack/neutron-tempest-plugin SERVICE_IP_VERSION=6 SERVICE_HOST="""" # IPv6 and certificates known issue with python2 # https://bugs.launchpad.net/devstack/+bug/1794929 USE_PYTHON3=true EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export DEVSTACK_GATE_USE_PYTHON3=True export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 if [ ""ZUUL_BRANCH"" == ""stable/newton"" ]; then export DEVSTACK_GATE_TEMPEST_REGEX=""^neutron_dynamic_routing\."" else export DEVSTACK_GATE_TEMPEST_REGEX=""^neutron_dynamic_routing.tests.tempest.api\."" fi export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=1 export DEVSTACK_GATE_NEUTRON=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export PROJECTS=""openstack/neutron-dynamic-routing $PROJECTS"" export PROJECTS=""openstack/neutron-tempest-plugin $PROJECTS"" if [ ""ZUUL_BRANCH"" != ""stable/newton"" ]; then function gate_hook { bash -xe $BASE/new/neutron-dynamic-routing/neutron_dynamic_routing/tests/contrib/gate_hook.sh dsvm-api } export -f gate_hook fi function post_test_hook { cd $BASE/new/tempest/tools ./verify-ipv6-only-deployments.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,91,0
openstack%2Fneutron~stable%2Fstein~I46010fb095b7ccba3a1f28b8b9e79e69c866ca2b,openstack/neutron,stable/stein,I46010fb095b7ccba3a1f28b8b9e79e69c866ca2b,[Do-not-merge]: Bring in TaaS components to requirements,ABANDONED,2019-10-03 19:57:32.000000000,2019-12-04 08:41:13.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-03 19:57:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/900874e8b6371bc89584de73069b56eec0939426', 'message': '[Do-not-merge]: Bring in TaaS components to requirements\n\nBring in TaaS components to dependency\n\nChange-Id: I46010fb095b7ccba3a1f28b8b9e79e69c866ca2b\n'}]",0,686479,900874e8b6371bc89584de73069b56eec0939426,4,3,1,27589,,,0,"[Do-not-merge]: Bring in TaaS components to requirements

Bring in TaaS components to dependency

Change-Id: I46010fb095b7ccba3a1f28b8b9e79e69c866ca2b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/686479/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,900874e8b6371bc89584de73069b56eec0939426,taas-loci,tap-as-a-service,,1,0
