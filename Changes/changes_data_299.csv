id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~I0df65ce248c010b5cf6e54515cfa10206436fa6c,openstack/openstack-helm-infra,master,I0df65ce248c010b5cf6e54515cfa10206436fa6c,Remove duplicate key,MERGED,2020-03-13 20:46:27.000000000,2020-03-17 15:20:52.000000000,2020-03-17 15:19:07.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29397}]","[{'number': 1, 'created': '2020-03-13 20:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0a870250641439743f2b3b17f449a4da5d0984a', 'message': 'Remove duplicate key\n\nThere is a duplicate network_policy: key (one for ingress and one for\negress). This patch set fixes the netpol override yaml so it is correct.\n\nChange-Id: I0df65ce248c010b5cf6e54515cfa10206436fa6c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-14 04:26:33.000000000', 'files': ['rabbitmq/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d849acf93501726b1a8068d821a9cb59edeb2a7', 'message': 'Remove duplicate key\n\nThere is a duplicate network_policy: key (one for ingress and one for\negress). This patch set fixes the netpol override yaml so it is correct.\n\nChange-Id: I0df65ce248c010b5cf6e54515cfa10206436fa6c\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,713064,6d849acf93501726b1a8068d821a9cb59edeb2a7,11,4,2,20466,,,0,"Remove duplicate key

There is a duplicate network_policy: key (one for ingress and one for
egress). This patch set fixes the netpol override yaml so it is correct.

Change-Id: I0df65ce248c010b5cf6e54515cfa10206436fa6c
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/713064/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values_overrides/netpol.yaml'],1,d0a870250641439743f2b3b17f449a4da5d0984a,rm-dup-keys, manifests: monitoring: prometheus: network_policy_exporter: true network_policy: true, manifests: monitoring: prometheus: network_policy_exporter: true network_policy: true network_policy: rabbitmq:,6,8
openstack%2Fpython-novaclient~master~I3a8a2f8b5ced5519082f0b7609702d4f62be88ac,openstack/python-novaclient,master,I3a8a2f8b5ced5519082f0b7609702d4f62be88ac,Microversion 2.82 - nova cyborg interaction,MERGED,2020-03-12 14:50:09.000000000,2020-03-17 15:08:28.000000000,2020-03-17 15:04:20.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-03-12 14:50:09.000000000', 'files': ['novaclient/__init__.py', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0ab746b4d12f469484c30cd11095a79135bac63b', 'message': 'Microversion 2.82 - nova cyborg interaction\n\nThis patch adds support for microversion 2.82\n""Define Cyborg ARQ binding notification event"" (*).\n\n*: I7a626544d8221dc0eeb5672986ca897ce4718be8\n\nNo changes are required in the novaclient side,\nso just increment the microversion.\n\nChange-Id: I3a8a2f8b5ced5519082f0b7609702d4f62be88ac\nImplements: blueprint nova-cyborg-interaction\n'}]",1,712700,0ab746b4d12f469484c30cd11095a79135bac63b,10,6,1,7634,,,0,"Microversion 2.82 - nova cyborg interaction

This patch adds support for microversion 2.82
""Define Cyborg ARQ binding notification event"" (*).

*: I7a626544d8221dc0eeb5672986ca897ce4718be8

No changes are required in the novaclient side,
so just increment the microversion.

Change-Id: I3a8a2f8b5ced5519082f0b7609702d4f62be88ac
Implements: blueprint nova-cyborg-interaction
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/00/712700/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/__init__.py', 'novaclient/tests/unit/v2/test_shell.py']",2,0ab746b4d12f469484c30cd11095a79135bac63b,bp/nova-cyborg-interaction," 82, # doesn't require any changes in novaclient.",,2,1
openstack%2Fopenstack-helm-infra~master~I65e1871ceba6920a6775563a2c1099b71a5fc559,openstack/openstack-helm-infra,master,I65e1871ceba6920a6775563a2c1099b71a5fc559,Helm-ToolKit Dynamic Endpoint Auth Secrets,ABANDONED,2020-02-06 06:11:00.000000000,2020-03-17 15:04:50.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 06:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44a025759eca93f714813b5e11bc2084c0b8b184', 'message': ""[WIP] HTK Dynamic Endpoint Auth Secrets\n\nI'd like a mechanism to dynamically provide endpoint auth\ncredentials to applications. Fluentd for instance, can be\nconfigured to forward logs to multiple destinations. If\nthese require authentication it would be convenient if their\ncredentials could be stored in secret automagically.\n\nCurrently deployment-fluentd.yaml hardcodes elasticsearch\nsecret references, while kafka can added by a toggle, and\nboth applications have separate secret documents. This isn't\nall that flexible - if another log destination is desired\nthen more documents must be created, and the deployment yaml\nupdated.\n\nThis change introduces two helm toolkit snippets:\n- One to create a single secret document based on .Values.endpoints\n- One to produce corresponding environment variables for pods.\n\nThis change hasn't been tested yet and is likely broken. :)\n\nFeedback is welcome!\n\nChange-Id: I65e1871ceba6920a6775563a2c1099b71a5fc559\n""}, {'number': 2, 'created': '2020-02-06 06:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce73858c28857dc53001db166a7fd950f2517468', 'message': ""[WIP] HTK Dynamic Endpoint Auth Secrets\n\nI'd like a mechanism to dynamically provide endpoint auth\ncredentials to applications. Fluentd for instance, can be\nconfigured to forward logs to multiple destinations. If\nthese require authentication it would be convenient if their\ncredentials could be stored in secret automagically.\n\nCurrently deployment-fluentd.yaml hardcodes elasticsearch\nsecret references, while kafka can added by a toggle, and\nboth applications have separate secret documents. This isn't\nall that flexible - if another log destination is desired\nthen more documents must be created, and the deployment yaml\nupdated.\n\nThis change introduces two helm toolkit snippets:\n- One to create a single secret document based on .Values.endpoints\n- One to produce corresponding environment variables for pods.\n\nThis change hasn't been tested yet and is likely broken. :)\n\nFeedback is welcome!\n\nChange-Id: I65e1871ceba6920a6775563a2c1099b71a5fc559\n""}, {'number': 3, 'created': '2020-02-10 19:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/817ef747763a2e2f3b6fbe8eecdc4c67a1c781b3', 'message': ""[WIP] HTK Dynamic Endpoint Auth Secrets\n\nI'd like a mechanism to dynamically provide endpoint auth\ncredentials to applications. Fluentd for instance, can be\nconfigured to forward logs to multiple destinations. If\nthese require authentication it would be convenient if their\ncredentials could be stored in secret automagically.\n\nCurrently deployment-fluentd.yaml hardcodes elasticsearch\nsecret references, while kafka can added by a toggle, and\nboth applications have separate secret documents. This isn't\nall that flexible - if another log destination is desired\nthen more documents must be created, and the deployment yaml\nupdated.\n\nThis change introduces two helm toolkit snippets:\n- One to create a single secret document based on .Values.endpoints\n- One to produce corresponding environment variables for pods.\n\nThis change hasn't been tested yet and is likely broken. :)\n\nFeedback is welcome!\n\nChange-Id: I65e1871ceba6920a6775563a2c1099b71a5fc559\n""}, {'number': 4, 'created': '2020-02-10 19:53:06.000000000', 'files': ['fluentd/templates/secret-kafka-creds.yaml', 'helm-toolkit/templates/endpoints/_endpoint_auth_secrets.tpl', 'fluentd/values.yaml', 'fluentd/templates/secret-elasticsearch-creds.yaml', 'fluentd/templates/secret-auth-credentials.yaml', 'fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2519b5b307ca7500aba62edb45c5dee613441b1d', 'message': ""Helm-ToolKit Dynamic Endpoint Auth Secrets\n\nI'd like a mechanism to dynamically provide endpoint auth\ncredentials to applications. Fluentd for instance, can be\nconfigured to forward logs to multiple destinations. If\nthese require authentication it would be convenient if their\ncredentials could be stored in secret automagically.\n\nCurrently deployment-fluentd.yaml hardcodes elasticsearch\nsecret references, while kafka can added by a toggle, and\nboth applications have separate secret documents. This isn't\nall that flexible - if another log destination is desired\nthen more documents must be created, and the deployment yaml\nupdated.\n\nThis change introduces two helm toolkit snippets:\n- One to create a single secret document based on .Values.endpoints\n- One to produce corresponding environment variables for pods.\n\nChange-Id: I65e1871ceba6920a6775563a2c1099b71a5fc559\n""}]",0,706181,2519b5b307ca7500aba62edb45c5dee613441b1d,8,2,4,30777,,,0,"Helm-ToolKit Dynamic Endpoint Auth Secrets

I'd like a mechanism to dynamically provide endpoint auth
credentials to applications. Fluentd for instance, can be
configured to forward logs to multiple destinations. If
these require authentication it would be convenient if their
credentials could be stored in secret automagically.

Currently deployment-fluentd.yaml hardcodes elasticsearch
secret references, while kafka can added by a toggle, and
both applications have separate secret documents. This isn't
all that flexible - if another log destination is desired
then more documents must be created, and the deployment yaml
updated.

This change introduces two helm toolkit snippets:
- One to create a single secret document based on .Values.endpoints
- One to produce corresponding environment variables for pods.

Change-Id: I65e1871ceba6920a6775563a2c1099b71a5fc559
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/706181/4 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_endpoint_auth_secrets.tpl', 'fluentd/templates/secret-kafka-creds.yaml', 'fluentd/values.yaml', 'fluentd/templates/secret-elasticsearch-creds.yaml', 'fluentd/templates/secret-auth-credentials.yaml', 'fluentd/templates/deployment-fluentd.yaml']",6,44a025759eca93f714813b5e11bc2084c0b8b184,htk-endpoint-auth,"{{- if .Values.manifests.secret_auth_credentials }} {{ include ""helm-toolit.snippets.endpoint_auth_env_variables"" | indent 12}}"," - name: ELASTICSEARCH_USERNAME valueFrom: secretKeyRef: name: {{ printf ""%s-%s"" $envAll.Release.Name ""elasticsearch-user"" | quote }} key: ELASTICSEARCH_USERNAME - name: ELASTICSEARCH_PASSWORD valueFrom: secretKeyRef: name: {{ printf ""%s-%s"" $envAll.Release.Name ""elasticsearch-user"" | quote }} key: ELASTICSEARCH_PASSWORD {{- if .Values.manifests.secret_kafka }} - name: KAFKA_USERNAME valueFrom: secretKeyRef: name: {{ printf ""%s-%s"" $envAll.Release.Name ""kafka-user"" | quote }} key: KAFKA_USERNAME - name: KAFKA_PASSWORD valueFrom: secretKeyRef: name: {{ printf ""%s-%s"" $envAll.Release.Name ""kafka-user"" | quote }} key: KAFKA_PASSWORD",54,79
openstack%2Frally-openstack~master~Ia225e3735db9de029a1992c5db60f38e8f8124a0,openstack/rally-openstack,master,Ia225e3735db9de029a1992c5db60f38e8f8124a0,changed MarkupSafe version in upper-constraints to 1.1.1,MERGED,2020-03-17 12:10:05.000000000,2020-03-17 15:02:31.000000000,2020-03-17 15:02:31.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 12:10:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5680035143cb0fc5635aa4cbc42498c5258c75b7', 'message': 'changed MarkupSafe version in upper-constraints to 1.1.1\n\nsetuptools removed Feature which was a long-deprecated class,\nand it broke markupsafe 1.0\n\nChange-Id: Ia225e3735db9de029a1992c5db60f38e8f8124a0\n'}]",0,713419,5680035143cb0fc5635aa4cbc42498c5258c75b7,6,2,1,30755,,,0,"changed MarkupSafe version in upper-constraints to 1.1.1

setuptools removed Feature which was a long-deprecated class,
and it broke markupsafe 1.0

Change-Id: Ia225e3735db9de029a1992c5db60f38e8f8124a0
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/19/713419/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5680035143cb0fc5635aa4cbc42498c5258c75b7,constraints/markupsafe,MarkupSafe===1.1.1,MarkupSafe===1.0,1,1
openstack%2Fnova~master~Ifcba63b654fcdce279e93f3b726aff09a48807ed,openstack/nova,master,Ifcba63b654fcdce279e93f3b726aff09a48807ed,Clarify fitting hugepages log message,MERGED,2020-01-16 20:39:58.000000000,2020-03-17 15:00:03.000000000,2020-03-17 14:56:21.000000000,"[{'_account_id': 782}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27478}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-16 20:39:58.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/662226a6a99f5f754537b08739144daebc37145b', 'message': 'Clarify fitting hugepages log message\n\nCurrently, when fitting an instance with hugepages to a host, if the\nhost NUMA cell does not have enough free pages of the requested size,\nthe message that is logged is about not supporting the page size at\nall. This is not correct. This patch changes the error message to\nmention the possibility that there are not enough free pages of the\nrequested size on the host.\n\nChange-Id: Ifcba63b654fcdce279e93f3b726aff09a48807ed\n'}]",5,702981,662226a6a99f5f754537b08739144daebc37145b,33,12,1,8864,,,0,"Clarify fitting hugepages log message

Currently, when fitting an instance with hugepages to a host, if the
host NUMA cell does not have enough free pages of the requested size,
the message that is logged is about not supporting the page size at
all. This is not correct. This patch changes the error message to
mention the possibility that there are not enough free pages of the
requested size on the host.

Change-Id: Ifcba63b654fcdce279e93f3b726aff09a48807ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/702981/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,662226a6a99f5f754537b08739144daebc37145b,hugepages-log-message," LOG.debug('Host does not support requested memory pagesize, ' 'or not enough free pages of the requested size. '", LOG.debug('Host does not support requested memory pagesize. ',2,1
openstack%2Ftripleo-ansible~master~I664b6b539c2d931eed0b1d453070754b641e9ef9,openstack/tripleo-ansible,master,I664b6b539c2d931eed0b1d453070754b641e9ef9,DNM testing role on c7,ABANDONED,2020-03-17 14:48:07.000000000,2020-03-17 14:57:56.000000000,,[],"[{'number': 1, 'created': '2020-03-17 14:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a18ef9699b2a120ab93d83c4cc44803397e58b63', 'message': 'DNM testing role on c7\n\nChange-Id: I664b6b539c2d931eed0b1d453070754b641e9ef9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-17 14:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f225925d4364a56d7acd8051548f828db0d30d5', 'message': 'DNM testing role on c7\n\nChange-Id: I664b6b539c2d931eed0b1d453070754b641e9ef9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-03-17 14:55:54.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/roles/tripleo_container_manage/file', 'tripleo_ansible/roles/tripleo_container_rm/file', 'tripleo_ansible/roles/tripleo_container_stop/file'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/840818c0769b9bb72c573b5121347e8f8f494b69', 'message': 'DNM testing role on c7\n\nChange-Id: I664b6b539c2d931eed0b1d453070754b641e9ef9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713463,840818c0769b9bb72c573b5121347e8f8f494b69,4,0,3,7353,,,0,"DNM testing role on c7

Change-Id: I664b6b539c2d931eed0b1d453070754b641e9ef9
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/713463/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/file', 'tripleo_ansible/roles/tripleo_container_rm/file', 'tripleo_ansible/roles/tripleo_container_stop/file']",3,a18ef9699b2a120ab93d83c4cc44803397e58b63,,,,0,0
openstack%2Fbifrost~master~I9703570695ccf1fc3e767c95629c51b5e7e8de83,openstack/bifrost,master,I9703570695ccf1fc3e767c95629c51b5e7e8de83,Fix Ubuntu keystone deployment,MERGED,2020-03-10 15:39:00.000000000,2020-03-17 14:53:39.000000000,2020-03-17 14:51:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/582fbb1fb9e68c05a86204f64af41a4a61f6192f', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be python3-setuptools.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 2, 'created': '2020-03-10 16:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/46ff7178f72e69221a34cfe8d3f45527713b97c3', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 3, 'created': '2020-03-10 17:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0992bc2ac0a7e1aa0be2684ca922ac8b576c0e8d', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 4, 'created': '2020-03-11 10:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5c69f8abb854dd27360a2a5046941f36ff738599', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 5, 'created': '2020-03-11 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5d9607ba53c49cdfe05974d4507b54c4e03d7770', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 6, 'created': '2020-03-11 13:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d191af6d39ff458c15a5b8640bfa23072fffa365', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 7, 'created': '2020-03-11 14:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dd3bc85c7917c7541b2b5c80e41cd098c5d340be', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 8, 'created': '2020-03-11 20:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4971f232dcfefd72daf53520f82d926d98be9887', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 9, 'created': '2020-03-12 09:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/41c57b14d07dffa98b7984ee1dc68da3c54a9a59', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 10, 'created': '2020-03-12 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/52b4222f4ad70f5e2c1d5a49288b0eb819c3d58f', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 11, 'created': '2020-03-12 11:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7ce468f4ddfb6c7e1c1041a838857d1cd41b2c3d', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}, {'number': 12, 'created': '2020-03-12 12:21:36.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_18.04.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone.conf.j2', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d5429d70129092d2832fc6a6709259808b10d0f1', 'message': 'Fix Ubuntu keystone deployment\n\nNo package python3-setuputils available. Should probably be\npython3-setuptools.\n\nVersion checking for fernet was failing - version now sent to stdout,\nnot stderr. UUID tokens are long gone - always use fernet.\n\nChange-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83\n'}]",1,712112,d5429d70129092d2832fc6a6709259808b10d0f1,41,4,12,14826,,,0,"Fix Ubuntu keystone deployment

No package python3-setuputils available. Should probably be
python3-setuptools.

Version checking for fernet was failing - version now sent to stdout,
not stderr. UUID tokens are long gone - always use fernet.

Change-Id: I9703570695ccf1fc3e767c95629c51b5e7e8de83
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/12/712112/12 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_18.04.yml'],1,582fbb1fb9e68c05a86204f64af41a4a61f6192f,, - python3-setuptools, - python3-setuputils,1,1
openstack%2Ftripleo-heat-templates~master~Ieeb32c244a0cad3f453de7815b3da8c266831c7e,openstack/tripleo-heat-templates,master,Ieeb32c244a0cad3f453de7815b3da8c266831c7e,"[DNM] Revert ""placement: Remove Nova to Placement extraction step""",ABANDONED,2020-03-17 14:27:41.000000000,2020-03-17 14:47:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 14:27:41.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ebe3c65a548278f3667a1723279ba5ea74a11af', 'message': '[DNM] Revert ""placement: Remove Nova to Placement extraction step""\n\nThis reverts commit d1e84cc4b3693bcf8b8670fce33a07e73d74cfea.\n\nThis is only for test purposes. Please ignore it.\n\nChange-Id: Ieeb32c244a0cad3f453de7815b3da8c266831c7e\n'}]",0,713455,2ebe3c65a548278f3667a1723279ba5ea74a11af,4,7,1,6816,,,0,"[DNM] Revert ""placement: Remove Nova to Placement extraction step""

This reverts commit d1e84cc4b3693bcf8b8670fce33a07e73d74cfea.

This is only for test purposes. Please ignore it.

Change-Id: Ieeb32c244a0cad3f453de7815b3da8c266831c7e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/713455/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,2ebe3c65a548278f3667a1723279ba5ea74a11af,ffwd-upgrade2," placement_api_db_extract_data_from_nova_api: start_order: 0 image: &placement_api_image {get_param: ContainerPlacementImage} net: host detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [PlacementLogging, volumes]} - - /var/lib/config-data/placement/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/placement/etc/placement/:/etc/placement/:ro environment: PLACEMENT_USER: placement NOVA_API_USER: nova_api PLACEMENT_DB_HOST: {get_param: [EndpointMap, MysqlInternal, host_nobrackets]} PLACEMENT_PASS: {get_param: PlacementPassword} NOVA_API_DB_HOST: {get_param: [EndpointMap, MysqlInternal, host_nobrackets]} NOVA_API_PASS: {get_param: NovaPassword} # NOTE(lyarwood): We can swallow return codes of 0, 3, 4, 5 as they # suggest this is a fresh deployment with no data to extract # (or that placemant is being deployed without nova). The # current list of return codes provided by the migrate script is: # 0: Success # 1: Usage error # 2: Configuration missing or incomplete # 3: Migration already completed # 4: No data to migrate from nova (new deployment) # 5: Unable to connect to one or both databases # 6: Unable to execute placement's CLI commands command: ""/usr/bin/bootstrap_host_exec placement su placement -s /bin/bash -c 'cd /tmp && /usr/share/placement/mysql-migrate-db.sh --migrate -; ret=$?; if [ $ret -ne 0 ] && [ $ret -ne 3 ] && [ $ret -ne 4 ] && [ $ret -ne 5 ]; then exit $ret; else exit 0; fi'"" image: *placement_api_image", image: &placement_api_image {get_param: ContainerPlacementImage},33,1
openstack%2Fcharm-keystone~master~I78569b8c51626177164084e4d1f5e18d40f4c3d8,openstack/charm-keystone,master,I78569b8c51626177164084e4d1f5e18d40f4c3d8,Add focal-ussuri and bionic-ussuri bundle,MERGED,2020-03-06 13:26:49.000000000,2020-03-17 14:35:42.000000000,2020-03-17 14:35:42.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 13:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/b1bfaba245a8fe80d36476b00d476557c67864a3', 'message': 'Add focal-ussuri bundle\n\nThis patch adds a focal-ussuri bundle to the tests for the charm.\nNote that this requires a modified zaza (to use the force_deploy\noption).\n\nThe patchset includes a charm-helpers sync to bring in Py3.8 compatible\ncharm-helpers.\n\nIt also requires Py3.8 compatible versions of hacluster and glance\ncharms.  See:\n\n - https://review.opendev.org/#/c/711616/ - charm-glance\n - https://review.opendev.org/#/c/711617/ - charm-hacluster\n\nChange-Id: I78569b8c51626177164084e4d1f5e18d40f4c3d8\n'}, {'number': 2, 'created': '2020-03-11 14:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/47d805ed9a345d1585e0ac105c160430bd08dd33', 'message': 'Add focal-ussuri bundle\n\nThis patch adds a focal-ussuri bundle to the tests for the charm.\nNote that this requires a modified zaza (to use the force_deploy\noption).\n\nThe patchset includes a charm-helpers sync to bring in Py3.8 compatible\ncharm-helpers.\n\nIt also requires Py3.8 compatible versions of hacluster and glance\ncharms.  See:\n\n - https://review.opendev.org/#/c/711616/ - charm-glance\n - https://review.opendev.org/#/c/711617/ - charm-hacluster\n\nChange-Id: I78569b8c51626177164084e4d1f5e18d40f4c3d8\n'}, {'number': 3, 'created': '2020-03-12 12:37:54.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/bionic-ussuri.yaml', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5244517d56f93ac3241ed124bda277e055555c0b', 'message': 'Add focal-ussuri and bionic-ussuri bundle\n\nThis patch adds a focal-ussuri and bionic-ussuri bundles to the tests\nfor the charm.  Note that this requires a modified zaza (to use the\nforce_deploy option).\n\nThe patchset includes a charm-helpers sync to bring in Py3.8 compatible\ncharm-helpers for focal support.\n\nIt also requires Py3.8 compatible versions of hacluster and glance\ncharms.  See:\n\n - https://review.opendev.org/#/c/711616/ - charm-glance\n - https://review.opendev.org/#/c/711617/ - charm-hacluster\n\nChange-Id: I78569b8c51626177164084e4d1f5e18d40f4c3d8\n'}]",0,711619,5244517d56f93ac3241ed124bda277e055555c0b,24,5,3,20870,,,0,"Add focal-ussuri and bionic-ussuri bundle

This patch adds a focal-ussuri and bionic-ussuri bundles to the tests
for the charm.  Note that this requires a modified zaza (to use the
force_deploy option).

The patchset includes a charm-helpers sync to bring in Py3.8 compatible
charm-helpers for focal support.

It also requires Py3.8 compatible versions of hacluster and glance
charms.  See:

 - https://review.opendev.org/#/c/711616/ - charm-glance
 - https://review.opendev.org/#/c/711617/ - charm-hacluster

Change-Id: I78569b8c51626177164084e4d1f5e18d40f4c3d8
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/19/711619/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py', 'metadata.yaml']",10,b1bfaba245a8fe80d36476b00d476557c67864a3,enable-focal, - focal,,218,24
openstack%2Ftripleo-heat-templates~master~Ic0e8217fe0bf650e042bcaaa1e1d8f730635be70,openstack/tripleo-heat-templates,master,Ic0e8217fe0bf650e042bcaaa1e1d8f730635be70,placement: Remove Nova to Placement extraction step,MERGED,2020-01-22 14:45:30.000000000,2020-03-17 14:27:41.000000000,2020-02-20 01:59:11.000000000,"[{'_account_id': 3153}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-22 14:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f518dadaf23bfaacfc545f3710a2ffba5726000', 'message': 'placement: Remove Nova to Placement extraction step\n\nThis step was introduced in the initial extraction of Placement from\nNova during the Stein cycle but only used with the extraction of the\nservice in TripleO during Train. We can now drop this in Ussuri.\n\nChange-Id: Ic0e8217fe0bf650e042bcaaa1e1d8f730635be70\n'}, {'number': 2, 'created': '2020-01-23 09:39:55.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1e84cc4b3693bcf8b8670fce33a07e73d74cfea', 'message': 'placement: Remove Nova to Placement extraction step\n\nThis step was introduced in the initial extraction of Placement from\nNova during the Stein cycle but only used with the extraction of the\nservice in TripleO during Train. We can now drop this in Ussuri.\n\nChange-Id: Ic0e8217fe0bf650e042bcaaa1e1d8f730635be70\n'}]",1,703804,d1e84cc4b3693bcf8b8670fce33a07e73d74cfea,23,6,2,10135,,,0,"placement: Remove Nova to Placement extraction step

This step was introduced in the initial extraction of Placement from
Nova during the Stein cycle but only used with the extraction of the
service in TripleO during Train. We can now drop this in Ussuri.

Change-Id: Ic0e8217fe0bf650e042bcaaa1e1d8f730635be70
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/703804/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,6f518dadaf23bfaacfc545f3710a2ffba5726000,,," placement_api_db_extract_data_from_nova_api: start_order: 0 image: &placement_api_image {get_param: ContainerPlacementImage} net: host detach: false user: root volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [PlacementLogging, volumes]} - - /var/lib/config-data/placement/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/placement/etc/placement/:/etc/placement/:ro environment: PLACEMENT_USER: placement NOVA_API_USER: nova_api PLACEMENT_DB_HOST: {get_param: [EndpointMap, MysqlInternal, host_nobrackets]} PLACEMENT_PASS: {get_param: PlacementPassword} NOVA_API_DB_HOST: {get_param: [EndpointMap, MysqlInternal, host_nobrackets]} NOVA_API_PASS: {get_param: NovaPassword} # NOTE(lyarwood): We can swallow return codes of 0, 3, 4, 5 as they # suggest this is a fresh deployment with no data to extract # (or that placemant is being deployed without nova). The # current list of return codes provided by the migrate script is: # 0: Success # 1: Usage error # 2: Configuration missing or incomplete # 3: Migration already completed # 4: No data to migrate from nova (new deployment) # 5: Unable to connect to one or both databases # 6: Unable to execute placement's CLI commands command: ""/usr/bin/bootstrap_host_exec placement su placement -s /bin/bash -c 'cd /tmp && /usr/share/placement/mysql-migrate-db.sh --migrate -; ret=$?; if [ $ret -ne 0 ] && [ $ret -ne 3 ] && [ $ret -ne 4 ] && [ $ret -ne 5 ]; then exit $ret; else exit 0; fi'""",0,32
openstack%2Fovn-octavia-provider~master~If15f817617facade10005878c8dfc7f467ce75a9,openstack/ovn-octavia-provider,master,If15f817617facade10005878c8dfc7f467ce75a9,Do not try to refresh vips on OVN LB that will be deleted,MERGED,2020-03-04 15:07:56.000000000,2020-03-17 14:19:51.000000000,2020-03-17 14:16:46.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-04 15:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4c6b6877b36c78672a5e0ced64343c20223f43b6', 'message': 'Do not try to refresh vips on OVN LB that will be deleted\n\nWhen there are multiple listeners with different protocols\nconfigured on OVN LB, and one of listeners needs to be deleted,\nthere is no need to refresh vips on given OVN LB.\nIf there are no listners withing same protocol left the given OVN\nLB could be deleted and there is no need to refresh vips then.\n\nChange-Id: If15f817617facade10005878c8dfc7f467ce75a9\nCloses-Bug: 1866087\n'}, {'number': 2, 'created': '2020-03-05 13:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2922d2a58abeabd5f90603594db02fb469d7f513', 'message': 'Do not try to refresh vips on OVN LB that will be deleted\n\nWhen there are multiple listeners with different protocols\nconfigured on OVN LB, and one of listeners needs to be deleted,\nthere is no need to refresh vips on given OVN LB.\nIf there are no listners withing same protocol left the given OVN\nLB could be deleted and there is no need to refresh vips then.\n\nChange-Id: If15f817617facade10005878c8dfc7f467ce75a9\nCloses-Bug: 1866087\n'}, {'number': 3, 'created': '2020-03-05 14:41:52.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/af2b26afe68645e33e2fb7e14e8afe6c7bc2063c', 'message': 'Do not try to refresh vips on OVN LB that will be deleted\n\nWhen there are multiple listeners with different protocols\nconfigured on OVN LB, and one of listeners needs to be deleted,\nthere is no need to refresh vips on given OVN LB.\nIf there are no listners withing same protocol left the given OVN\nLB could be deleted and there is no need to refresh vips then.\n\nChange-Id: If15f817617facade10005878c8dfc7f467ce75a9\nCloses-Bug: 1866087\n'}]",4,711244,af2b26afe68645e33e2fb7e14e8afe6c7bc2063c,17,4,3,24791,,,0,"Do not try to refresh vips on OVN LB that will be deleted

When there are multiple listeners with different protocols
configured on OVN LB, and one of listeners needs to be deleted,
there is no need to refresh vips on given OVN LB.
If there are no listners withing same protocol left the given OVN
LB could be deleted and there is no need to refresh vips then.

Change-Id: If15f817617facade10005878c8dfc7f467ce75a9
Closes-Bug: 1866087
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/44/711244/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/driver.py'],1,4c6b6877b36c78672a5e0ced64343c20223f43b6,bug/1866087,"from ovsdbapp.schema.ovn_northbound import commands as ovsdb_commands commands.extend(self._clean_lb_if_empty( ovn_lb, listener['loadbalancer_id'], external_ids)) # Do not refresh vips if OVN LB for given protocol # has pending delete operation. if not (ovsdb_commands.LbDelCommand in [type(cmd) for cmd in commands]): commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids))"," commands.extend( self._clean_lb_if_empty( ovn_lb, listener['loadbalancer_id'], external_ids)) commands.extend( self._refresh_lb_vips(ovn_lb.uuid, external_ids))",9,5
openstack%2Frally~master~Id0f95dd4db85aeffc48ee125767c05271c2340d9,openstack/rally,master,Id0f95dd4db85aeffc48ee125767c05271c2340d9,Include min python version at setup.cfg,MERGED,2020-03-17 13:36:18.000000000,2020-03-17 14:08:58.000000000,2020-03-17 14:08:58.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 13:36:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally/commit/eb3506fbf15d48173b790b1aa9c264f1e667dd8c', 'message': 'Include min python version at setup.cfg\n\nChange-Id: Id0f95dd4db85aeffc48ee125767c05271c2340d9\n'}]",0,713444,eb3506fbf15d48173b790b1aa9c264f1e667dd8c,6,2,1,9545,,,0,"Include min python version at setup.cfg

Change-Id: Id0f95dd4db85aeffc48ee125767c05271c2340d9
",git fetch https://review.opendev.org/openstack/rally refs/changes/44/713444/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,eb3506fbf15d48173b790b1aa9c264f1e667dd8c,min_python,python-requires = >=3.6 Programming Language :: Python :: 3 :: Only,,2,0
openstack%2Fcharm-ceph-radosgw~master~I614a7bd9c294b783a289d8b38eca9520114e9c95,openstack/charm-ceph-radosgw,master,I614a7bd9c294b783a289d8b38eca9520114e9c95,Add S3 endpoint to service catalog,MERGED,2020-03-16 12:37:34.000000000,2020-03-17 13:58:48.000000000,2020-03-17 13:58:48.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 12:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/097297a318128615f6a4b3f4d68535eed3d0d3af', 'message': 'Add S3 endpoint to service catalog\n\nAlso add functional test of the S3 API.\n\nChange-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/191\n'}, {'number': 2, 'created': '2020-03-16 12:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2452ea0e24f0588e7a819a517ae14fda430154fc', 'message': 'Add S3 endpoint to service catalog\n\nAlso add functional test of the S3 API.\n\nChange-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\n'}, {'number': 3, 'created': '2020-03-16 15:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/97569db477b42d053192de531c2bb81899d68b8e', 'message': 'Add S3 endpoint to service catalog\n\nAlso add functional test of the S3 API.\n\nChange-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\n'}, {'number': 4, 'created': '2020-03-16 16:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2ddd9c4db049798a1a315cc592d8fe390e28813e', 'message': 'Add S3 endpoint to service catalog\n\nAlso add functional test of the S3 API.\n\nChange-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\n'}, {'number': 5, 'created': '2020-03-16 21:36:22.000000000', 'files': ['hooks/hooks.py', 'tests/tests.yaml', 'unit_tests/test_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/0667a64be650abb253ac871024a34901fa68befd', 'message': 'Add S3 endpoint to service catalog\n\nAlso add functional test of the S3 API.\n\nChange-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\n'}]",0,713216,0667a64be650abb253ac871024a34901fa68befd,26,4,5,13686,,,0,"Add S3 endpoint to service catalog

Also add functional test of the S3 API.

Change-Id: I614a7bd9c294b783a289d8b38eca9520114e9c95
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/16/713216/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'tests/tests.yaml', 'unit_tests/test_hooks.py']",3,097297a318128615f6a4b3f4d68535eed3d0d3af,use-bootstrap," self.relation_set.assert_has_calls([ call(swift_service='swift', swift_region='region1', swift_public_url='http://myserv:80/swift/v1', swift_internal_url='http://myserv:80/swift/v1', swift_admin_url='http://myserv:80/swift', requested_roles=expected, relation_id='rid'), call(s3_service='s3', s3_region='region1', s3_public_url='http://myserv:80/', s3_internal_url='http://myserv:80/', s3_admin_url='http://myserv:80/', relation_id='rid') ]) self.relation_set.assert_has_calls([ call(swift_service='swift', swift_region='region1', swift_public_url=( 'http://myserv:80/swift/v1/AUTH_$(project_id)s'), swift_internal_url=( 'http://myserv:80/swift/v1/AUTH_$(project_id)s'), swift_admin_url='http://myserv:80/swift', requested_roles=expected, relation_id='rid'), call(s3_service='s3', s3_region='region1', s3_public_url='http://myserv:80/', s3_internal_url='http://myserv:80/', s3_admin_url='http://myserv:80/', relation_id='rid') ]) self.relation_set.assert_has_calls([ call(swift_service='swift', swift_region='RegionOne', swift_public_url='http://files.example.com:80/swift/v1', swift_internal_url='http://myserv:80/swift/v1', swift_admin_url='http://myserv:80/swift', requested_roles='Member,Admin', relation_id='rid'), call(s3_service='s3', s3_region='RegionOne', s3_public_url='http://files.example.com:80/', s3_internal_url='http://myserv:80/', s3_admin_url='http://myserv:80/', relation_id='rid') ])"," self.relation_set.assert_called_with( service='swift', region='region1', public_url='http://myserv:80/swift/v1', internal_url='http://myserv:80/swift/v1', requested_roles=expected, relation_id='rid', admin_url='http://myserv:80/swift') self.relation_set.assert_called_with( service='swift', region='region1', public_url='http://myserv:80/swift/v1/AUTH_$(project_id)s', internal_url='http://myserv:80/swift/v1/AUTH_$(project_id)s', requested_roles=expected, relation_id='rid', admin_url='http://myserv:80/swift') self.relation_set.assert_called_with( service='swift', region='RegionOne', public_url='http://files.example.com:80/swift/v1', internal_url='http://myserv:80/swift/v1', requested_roles='Member,Admin', relation_id='rid', admin_url='http://myserv:80/swift')",62,28
openstack%2Fcharm-ceph-radosgw~master~Idab6a5740a541b922f9dbd65165d0328d747e78e,openstack/charm-ceph-radosgw,master,Idab6a5740a541b922f9dbd65165d0328d747e78e,Remove use of admin_token for Keystone V2.0 deployments,MERGED,2020-03-12 10:19:59.000000000,2020-03-17 13:58:47.000000000,2020-03-17 13:58:47.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 10:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/99c0b2ab4e635ed18b74abcfc0b8dd7e7d0305bf', 'message': 'Remove use of admin_token for Keystone V2.0 deployments\n\nAt present the charm configures the Ceph RADOS GW with the\nadmin_token as credentials when connecting to a deployment with\nKeystone V2.0 API.\n\nWe want to move away from that and as such we need to update the\ncharm to configure username, password and project name instead.\n\nChange-Id: Idab6a5740a541b922f9dbd65165d0328d747e78e\n'}, {'number': 2, 'created': '2020-03-12 10:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/650fa27b5fa9bdf00d488846158f3c3bc4803f72', 'message': 'Remove use of admin_token for Keystone V2.0 deployments\n\nAt present the charm configures the Ceph RADOS GW with the\nadmin_token as credentials when connecting to a deployment with\nKeystone V2.0 API.\n\nWe want to move away from that and as such we need to update the\ncharm to configure username, password and project name instead.\n\nChange-Id: Idab6a5740a541b922f9dbd65165d0328d747e78e\n'}, {'number': 3, 'created': '2020-03-16 16:31:10.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d53e445a9265f522576d6b87312ddf5de0eba4b9', 'message': 'Remove use of admin_token for Keystone V2.0 deployments\n\nAt present the charm configures the Ceph RADOS GW with the\nadmin_token as credentials when connecting to a deployment with\nKeystone V2.0 API.\n\nWe want to move away from that and as such we need to update the\ncharm to configure username, password and project name instead.\n\nChange-Id: Idab6a5740a541b922f9dbd65165d0328d747e78e\n'}]",0,712639,d53e445a9265f522576d6b87312ddf5de0eba4b9,22,4,3,13686,,,0,"Remove use of admin_token for Keystone V2.0 deployments

At present the charm configures the Ceph RADOS GW with the
admin_token as credentials when connecting to a deployment with
Keystone V2.0 API.

We want to move away from that and as such we need to update the
charm to configure username, password and project name instead.

Change-Id: Idab6a5740a541b922f9dbd65165d0328d747e78e
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/39/712639/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/bionic-rocky-multisite.yaml.j2', 'tests/bundles/overlays/bionic-stein.yaml.j2', 'tests/bundles/overlays/bionic-queens-multisite.yaml.j2', 'tests/bundles/overlays/bionic-stein-namespaced.yaml.j2', 'templates/ceph.conf', 'tests/bundles/overlays/dev.j2', 'tests/bundles/overlays/xenial-ocata.yaml.j2', 'tests/bundles/overlays/xenial-mitaka-namespaced.yaml.j2', 'tests/bundles/overlays/bionic-rocky-namespaced.yaml.j2', 'tests/bundles/overlays/xenial-pike.yaml.j2', 'tests/bundles/overlays/bionic-queens-namespaced.yaml.j2', 'tests/bundles/overlays/bionic-train.yaml.j2', 'tests/tests.yaml', 'unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'tests/bundles/overlays/bionic-rocky.yaml.j2', 'tests/bundles/overlays/trusty-mitaka.yaml.j2', 'tests/bundles/overlays/bionic-queens.yaml.j2', 'tests/bundles/overlays/bionic-train-namespaced.yaml.j2', 'tests/bundles/overlays/xenial-mitaka.yaml.j2', 'tests/bundles/overlays/xenial-queens.yaml.j2']",21,99c0b2ab4e635ed18b74abcfc0b8dd7e7d0305bf,use-bootstrap,dev.j2,,29,53
openstack%2Frpm-packaging~master~I4bb86ba9abb3077c75be8e4042708567c4390f5d,openstack/rpm-packaging,master,I4bb86ba9abb3077c75be8e4042708567c4390f5d,horizon: Fix shebang on manage.py,MERGED,2020-02-18 12:15:18.000000000,2020-03-17 13:54:31.000000000,2020-02-20 08:40:43.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-18 12:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b9332b01becc31701816055bb4da33d642ba8398', 'message': 'horizon: Fix shebang on manage.py\n\nThe shebang points to /usr/bin/env python, which causes an error\nwhen built on CentOS 8.\n\nChange-Id: I4bb86ba9abb3077c75be8e4042708567c4390f5d\n'}, {'number': 2, 'created': '2020-02-18 12:30:57.000000000', 'files': ['openstack/horizon/horizon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0f596ff69c84ea93d4a1547fcd71158b66471237', 'message': 'horizon: Fix shebang on manage.py\n\nThe shebang points to /usr/bin/env python, which causes an error\nwhen built on CentOS 8.\n\nChange-Id: I4bb86ba9abb3077c75be8e4042708567c4390f5d\n'}]",0,708370,0f596ff69c84ea93d4a1547fcd71158b66471237,16,6,2,13294,,,0,"horizon: Fix shebang on manage.py

The shebang points to /usr/bin/env python, which causes an error
when built on CentOS 8.

Change-Id: I4bb86ba9abb3077c75be8e4042708567c4390f5d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/70/708370/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/horizon.spec.j2'],1,b9332b01becc31701816055bb4da33d642ba8398,remove-python2,# Fix manage.py shebang sed -i 's#/usr/bin/env python#/usr/bin/python3#' manage.py ,,3,0
openstack%2Fironic~master~I43c22027116da1e057972dbe853403c16e965fc9,openstack/ironic,master,I43c22027116da1e057972dbe853403c16e965fc9,Add separate policies for updating node instance_info and extra,MERGED,2020-02-13 20:02:14.000000000,2020-03-17 13:52:47.000000000,2020-03-17 12:59:06.000000000,"[{'_account_id': 7386}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-13 20:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e5c9fc2d193aa890ba654697c5264c81a15a66b', 'message': 'Add separate policies for updating node instance_info and extra\n\nIn order to provision a node using standalone Ironic, a user must\nbe able to update a few additional node attributes. However, we\nwould not want a lessee user to be able to update every node\nattribute. This change allows an Ironic administrator to provide\npolicy-based access to updating instance_info and extra.\n\nChange-Id: I43c22027116da1e057972dbe853403c16e965fc9\nStory: #2006506\nTask: #38748\n'}, {'number': 2, 'created': '2020-02-13 23:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e46c7ad2f7eae75cff47c7b316fc712f082ce98d', 'message': 'Add separate policies for updating node instance_info and extra\n\nIn order to provision a node using standalone Ironic, a user must\nbe able to update a few additional node attributes. However, we\nwould not want a lessee user to be able to update every node\nattribute. This change allows an Ironic administrator to provide\npolicy-based access to updating instance_info and extra.\n\nChange-Id: I43c22027116da1e057972dbe853403c16e965fc9\nStory: #2006506\nTask: #38748\n'}, {'number': 3, 'created': '2020-03-09 16:27:20.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'releasenotes/notes/node-update-instance-info-extra-policies-862b2a70b941cf39.yaml', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/16a2473b82565c5c2258f3a3b2674fca28bb8070', 'message': 'Add separate policies for updating node instance_info and extra\n\nIn order to provision a node using standalone Ironic, a user must\nbe able to update a few additional node attributes. However, we\nwould not want a lessee user to be able to update every node\nattribute. This change allows an Ironic administrator to provide\npolicy-based access to updating instance_info and extra.\n\nChange-Id: I43c22027116da1e057972dbe853403c16e965fc9\nStory: #2006506\nTask: #38748\n'}]",6,707719,16a2473b82565c5c2258f3a3b2674fca28bb8070,18,6,3,7386,,,0,"Add separate policies for updating node instance_info and extra

In order to provision a node using standalone Ironic, a user must
be able to update a few additional node attributes. However, we
would not want a lessee user to be able to update every node
attribute. This change allows an Ironic administrator to provide
policy-based access to updating instance_info and extra.

Change-Id: I43c22027116da1e057972dbe853403c16e965fc9
Story: #2006506
Task: #38748
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/707719/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'releasenotes/notes/node-update-instance-info-extra-policies-862b2a70b941cf39.yaml', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",7,7e5c9fc2d193aa890ba654697c5264c81a15a66b,bp/node-added-update-policy," # deal with attribute-specific policy rules policy_checks = [] generic_update = False for p in patch: if p['path'].startswith('/instance_info'): policy_checks.append('baremetal:node:update_instance_info') elif p['path'].startswith('/extra'): policy_checks.append('baremetal:node:update_extra') else: generic_update = True # always do at least one check if generic_update or policy_checks == []: policy_checks.append('baremetal:node:update') rpc_node = api_utils.check_multiple_node_policies_and_retrieve( policy_checks, node_ident, with_suffix=True)"," rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:update', node_ident, with_suffix=True)",283,2
openstack%2Fkolla-ansible~master~I5247c10079ab91cce130cd5ba403f25ccaf7c1fb,openstack/kolla-ansible,master,I5247c10079ab91cce130cd5ba403f25ccaf7c1fb,CI: Change ceph-ansible docker tag to latest-nautilus,MERGED,2020-03-17 10:20:39.000000000,2020-03-17 13:44:13.000000000,2020-03-17 13:42:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-17 10:20:39.000000000', 'files': ['tests/templates/ceph-ansible.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81ebae8fd18aacfde547e7e4ea2cec1f46405917', 'message': 'CI: Change ceph-ansible docker tag to latest-nautilus\n\nceph-ansible by default uses ""latest"" tag for ceph Docker Hub images,\nbut recently latest tag has been upgraded to be Octopus release,\nnot Nautilus.\n\nChange-Id: I5247c10079ab91cce130cd5ba403f25ccaf7c1fb\n'}]",0,713396,81ebae8fd18aacfde547e7e4ea2cec1f46405917,10,4,1,22629,,,0,"CI: Change ceph-ansible docker tag to latest-nautilus

ceph-ansible by default uses ""latest"" tag for ceph Docker Hub images,
but recently latest tag has been upgraded to be Octopus release,
not Nautilus.

Change-Id: I5247c10079ab91cce130cd5ba403f25ccaf7c1fb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/713396/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ceph-ansible.j2'],1,81ebae8fd18aacfde547e7e4ea2cec1f46405917,,"ceph_docker_image_tag: ""latest-nautilus""",,1,0
openstack%2Fcharm-ceph-radosgw~master~I91a2133b6d7dc7e59d62dd80779cdc6e77206a20,openstack/charm-ceph-radosgw,master,I91a2133b6d7dc7e59d62dd80779cdc6e77206a20,"Unpin flake8, fix lint",MERGED,2020-03-12 10:19:59.000000000,2020-03-17 13:42:59.000000000,2020-03-17 13:42:59.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-12 10:19:59.000000000', 'files': ['hooks/utils.py', 'lib/charms_ceph/utils.py', 'test-requirements.txt', 'hooks/ceph_radosgw_context.py', 'lib/charms_ceph/broker.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/969e6e0caefed6444178f35e2e0806aaf0e748d2', 'message': 'Unpin flake8, fix lint\n\nWe need to unpin flake8 to allow linting on Python 3.8 systems.\n\nSync charms.ceph.\n\nDepends-On: Idf2fea27b19cec47ffed9891b518ac7b5b75e405\nChange-Id: I91a2133b6d7dc7e59d62dd80779cdc6e77206a20\n'}]",0,712638,969e6e0caefed6444178f35e2e0806aaf0e748d2,9,5,1,13686,,,0,"Unpin flake8, fix lint

We need to unpin flake8 to allow linting on Python 3.8 systems.

Sync charms.ceph.

Depends-On: Idf2fea27b19cec47ffed9891b518ac7b5b75e405
Change-Id: I91a2133b6d7dc7e59d62dd80779cdc6e77206a20
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/38/712638/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/utils.py', 'lib/charms_ceph/utils.py', 'test-requirements.txt', 'hooks/ceph_radosgw_context.py', 'lib/charms_ceph/broker.py', 'tox.ini']",6,969e6e0caefed6444178f35e2e0806aaf0e748d2,use-bootstrap,"ignore = E402,E226,W504","ignore = E402,E226",25,19
openstack%2Fopenstacksdk~master~I38ebdc43800f8b5063af75f0e49ef687fb212b9f,openstack/openstacksdk,master,I38ebdc43800f8b5063af75f0e49ef687fb212b9f,Add description field to portforwarding NAT rules,MERGED,2020-01-30 15:02:27.000000000,2020-03-17 13:41:37.000000000,2020-03-17 13:38:29.000000000,"[{'_account_id': 2}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2020-01-30 15:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6fa2f7b170f9fa081e2c3ab2aafb7acd5f690945', 'message': 'Add description field to portforwarding NAT rules\n\nAdd the `description` field to Floating IP Port Forwardings\n\nDepends-On: https://review.opendev.org/#/c/670930/\nChange-Id: I38ebdc43800f8b5063af75f0e49ef687fb212b9f\nImplements: blueprint portforwarding-description\nCloses-Bug: #1850818\n'}, {'number': 2, 'created': '2020-03-04 09:55:03.000000000', 'files': ['openstack/tests/unit/network/v2/test_port_forwarding.py', 'openstack/network/v2/port_forwarding.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/14973754ceaac78d318a4aacf67bc43e8e1e00a7', 'message': 'Add description field to portforwarding NAT rules\n\nAdd the `description` field to Floating IP Port Forwardings\n\nDepends-On: https://review.opendev.org/#/c/670930/\nChange-Id: I38ebdc43800f8b5063af75f0e49ef687fb212b9f\nImplements: blueprint portforwarding-description\nCloses-Bug: #1850818\n'}]",0,705038,14973754ceaac78d318a4aacf67bc43e8e1e00a7,22,5,2,30695,,,0,"Add description field to portforwarding NAT rules

Add the `description` field to Floating IP Port Forwardings

Depends-On: https://review.opendev.org/#/c/670930/
Change-Id: I38ebdc43800f8b5063af75f0e49ef687fb212b9f
Implements: blueprint portforwarding-description
Closes-Bug: #1850818
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/38/705038/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port_forwarding.py', 'openstack/network/v2/port_forwarding.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py']",3,6fa2f7b170f9fa081e2c3ab2aafb7acd5f690945,bug/1850818," DESCRIPTION = 'description' protocol=self.PROTOCOL, description=self.DESCRIPTION) self.assertEqual(self.DESCRIPTION, sot.description) self.assertEqual(self.DESCRIPTION, sot.description)", protocol=self.PROTOCOL),9,1
openstack%2Fcharm-nova-cloud-controller~master~Ided7811b4e859159f9fc0b514b1a63b9b2a9deba,openstack/charm-nova-cloud-controller,master,Ided7811b4e859159f9fc0b514b1a63b9b2a9deba,tests: Remove admin_token from ks relation introspection,MERGED,2020-03-16 11:10:52.000000000,2020-03-17 13:38:32.000000000,2020-03-17 13:38:32.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 11:10:52.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ad3f230e6454f8d453836f1713d3f1dfe3715de0', 'message': 'tests: Remove admin_token from ks relation introspection\n\nChange-Id: Ided7811b4e859159f9fc0b514b1a63b9b2a9deba\n'}]",0,713191,ad3f230e6454f8d453836f1713d3f1dfe3715de0,10,4,1,13686,,,0,"tests: Remove admin_token from ks relation introspection

Change-Id: Ided7811b4e859159f9fc0b514b1a63b9b2a9deba
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/91/713191/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,ad3f230e6454f8d453836f1713d3f1dfe3715de0,use-bootstrap,," 'admin_token': 'ubuntutesting',",0,1
openstack%2Fproject-config~master~I65d7c99ffa3dae4e989a872b68a526c010952842,openstack/project-config,master,I65d7c99ffa3dae4e989a872b68a526c010952842,vexxhost: add oslo required projects for devstack,MERGED,2020-03-17 12:55:54.000000000,2020-03-17 13:36:50.000000000,2020-03-17 13:36:50.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-17 12:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/41e861bbae54198b0695b956c130523af3353b3b', 'message': 'vexxhost: add oslo required projects for devstack\n\nTempest jobs were added but they also required projects from\nOslo.\n\nChange-Id: I65d7c99ffa3dae4e989a872b68a526c010952842\n'}, {'number': 2, 'created': '2020-03-17 13:17:10.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/840a61fa91792f7df7a87e78c89f91dec1add42b', 'message': 'vexxhost: add oslo required projects for devstack\n\nTempest jobs were added but they also required projects from\nOslo.\n\nChange-Id: I65d7c99ffa3dae4e989a872b68a526c010952842\n'}]",1,713431,840a61fa91792f7df7a87e78c89f91dec1add42b,11,4,2,1004,,,0,"vexxhost: add oslo required projects for devstack

Tempest jobs were added but they also required projects from
Oslo.

Change-Id: I65d7c99ffa3dae4e989a872b68a526c010952842
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/713431/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,41e861bbae54198b0695b956c130523af3353b3b,devstack-in-zuulv3, - openstack/oslo.cache - openstack/oslo.concurrency - openstack/oslo.config - openstack/oslo.context - openstack/oslo.db - openstack/oslo.i18n - openstack/oslo.log - openstack/oslo.messaging - openstack/oslo.middleware - openstack/oslo.policy - openstack/oslo.privsep - openstack/oslo.reports - openstack/oslo.rootwrap - openstack/oslo.serialization - openstack/oslo.service - openstack/oslo.utils - openstack/oslo.versionedobjects - openstack/oslo.vmware,,18,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff,openstack/tripleo-heat-templates,stable/train,Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff,Add CephBasePoolVars and CephKeyVars structures,MERGED,2020-03-10 17:19:47.000000000,2020-03-17 13:34:38.000000000,2020-03-17 13:34:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-10 17:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0882f4467bca09be7aed21d0658f3206d963466', 'message': ""Add CephBasePoolVars and CephKeyVars structures\n\nThis patch introduces CephBasePoolVars and CephKeyVars\nstructures which are used to handle the pool and keys\nrelated ceph variables.\nThis change also sets the tripleo-ansible facts needed\nto move the logic of building 'openstack_pools' and\n'openstack_keys' arrays in tripleo-ansible.\nThe resulting structures will be merged/combined then\nwith the main 'ceph_ansible_group_vars_all' (all.yaml)\nprovided by ceph-base.\n\nCloses-Bug: #1864477\nDepends-On: https://review.opendev.org/#/c/709083\nChange-Id: Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff\n(cherry picked from commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844)\n""}, {'number': 2, 'created': '2020-03-10 17:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff703fa8bc32c8401dd160567ad523177faac269', 'message': ""Add CephBasePoolVars and CephKeyVars structures\n\nThis patch introduces CephBasePoolVars and CephKeyVars\nstructures which are used to handle the pool and keys\nrelated ceph variables.\nThis change also sets the tripleo-ansible facts needed\nto move the logic of building 'openstack_pools' and\n'openstack_keys' arrays in tripleo-ansible.\nThe resulting structures will be merged/combined then\nwith the main 'ceph_ansible_group_vars_all' (all.yaml)\nprovided by ceph-base.\n\nCloses-Bug: #1864477\nDepends-On: https://review.opendev.org/#/c/712123/\nChange-Id: Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff\n(cherry picked from commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844)\n""}, {'number': 3, 'created': '2020-03-14 20:42:11.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a7b054f54fd3f0657bc3cda908c994c18fe89e2', 'message': ""Add CephBasePoolVars and CephKeyVars structures\n\nThis patch introduces CephBasePoolVars and CephKeyVars\nstructures which are used to handle the pool and keys\nrelated ceph variables.\nThis change also sets the tripleo-ansible facts needed\nto move the logic of building 'openstack_pools' and\n'openstack_keys' arrays in tripleo-ansible.\nThe resulting structures will be merged/combined then\nwith the main 'ceph_ansible_group_vars_all' (all.yaml)\nprovided by ceph-base.\n\nCloses-Bug: #1864477\nDepends-On: https://review.opendev.org/#/c/713106\nChange-Id: Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff\n(cherry picked from commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844)\n""}]",0,712131,9a7b054f54fd3f0657bc3cda908c994c18fe89e2,31,8,3,25402,,,0,"Add CephBasePoolVars and CephKeyVars structures

This patch introduces CephBasePoolVars and CephKeyVars
structures which are used to handle the pool and keys
related ceph variables.
This change also sets the tripleo-ansible facts needed
to move the logic of building 'openstack_pools' and
'openstack_keys' arrays in tripleo-ansible.
The resulting structures will be merged/combined then
with the main 'ceph_ansible_group_vars_all' (all.yaml)
provided by ceph-base.

Closes-Bug: #1864477
Depends-On: https://review.opendev.org/#/c/713106
Change-Id: Ic241d8fe9e09075fadd1f96b329e8a5c9eb0a9ff
(cherry picked from commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/712131/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",2,b0882f4467bca09be7aed21d0658f3206d963466,lp1864477," CinderRbdExtraPools: altrbd,pool2,pool3 CephPools: - name: altrbd pg_num: 8 rule_name: replicated_rule",,119,112
openstack%2Fcinder-specs~master~I1beeb3b77cdd05e99b425d1d68e2c68319e53fe1,openstack/cinder-specs,master,I1beeb3b77cdd05e99b425d1d68e2c68319e53fe1,Flatten volume from glance rbd image,ABANDONED,2018-11-08 09:51:59.000000000,2020-03-17 13:31:33.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 10420}, {'_account_id': 11904}, {'_account_id': 15961}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-11-08 09:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/f8b97af91ea8db8854bd6c55b04091b8d82d33de', 'message': ""Flatten volume from glance rbd image\n\nSuppose glance and cinder uses ceph rbd driver as storage backend,\ncinder and glance are in the same ceph storage cluster.\n\nIf cinder creates a volume from an image, it could create a clone volume\nfrom that image, and the relationship is 'glance image-->rbd snap of\nglance image-->clone image(=volume from image)' like below.\n\nrbd image 'volume-ac1cc55d-ba36-42c6-b533-4b5e71ffd1e2':\n    size 20480 MB in 5120 objects\n    order 22 (4096 kB objects)\n    block_name_prefix: rbd_data.e0a167539c874\n    format: 2\n    features: layering, exclusive-lock, deep-flatten\n    flags:\n    parent: glance-images/8954bdf3-8ad7-4fff-be79-a3dd62a341d0@snap\n    overlap: 2252 MB\n\nIf we want to remove the dependencies between glance image and\ncinder volume, we should flatten the clone image.\n\nSo it’s necessary to add a config option named\nrbd_flatten_volume_from_image to decide whether to flatten\nrbd clone image or not.\nAnd it is also necessary to call _flatten in clone_image method.\ncinder/volume/drivers/rbd.py\n\nChange-Id: I1beeb3b77cdd05e99b425d1d68e2c68319e53fe1\nImplements: blueprint flatten-volume-from-image\n""}, {'number': 2, 'created': '2018-11-08 14:07:33.000000000', 'files': ['specs/stein/flatten-volume-from-image.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/65db1fbed37aacc09e5ae2eb94a6cb6e21e1434a', 'message': ""Flatten volume from glance rbd image\n\nSuppose glance and cinder uses ceph rbd driver as storage backend,\ncinder and glance are in the same ceph storage cluster.\n\nIf cinder creates a volume from an image, it could create a clone volume\nfrom that image, and the relationship is 'glance image-->rbd snap of\nglance image-->clone image(=volume from image)' like below.\n\nrbd image 'volume-ac1cc55d-ba36-42c6-b533-4b5e71ffd1e2':\n    size 20480 MB in 5120 objects\n    order 22 (4096 kB objects)\n    block_name_prefix: rbd_data.e0a167539c874\n    format: 2\n    features: layering, exclusive-lock, deep-flatten\n    flags:\n    parent: glance-images/8954bdf3-8ad7-4fff-be79-a3dd62a341d0@snap\n    overlap: 2252 MB\n\nIf we want to remove the dependencies between glance image and\ncinder volume, we should flatten the clone image.\n\nSo it’s necessary to add a config option named\nrbd_flatten_volume_from_image to decide whether to flatten\nrbd clone image or not.\nAnd it is also necessary to call _flatten in clone_image method.\ncinder/volume/drivers/rbd.py\n\nChange-Id: I1beeb3b77cdd05e99b425d1d68e2c68319e53fe1\nImplements: blueprint flatten-volume-from-image\n""}]",10,616482,65db1fbed37aacc09e5ae2eb94a6cb6e21e1434a,15,9,2,7488,,,0,"Flatten volume from glance rbd image

Suppose glance and cinder uses ceph rbd driver as storage backend,
cinder and glance are in the same ceph storage cluster.

If cinder creates a volume from an image, it could create a clone volume
from that image, and the relationship is 'glance image-->rbd snap of
glance image-->clone image(=volume from image)' like below.

rbd image 'volume-ac1cc55d-ba36-42c6-b533-4b5e71ffd1e2':
    size 20480 MB in 5120 objects
    order 22 (4096 kB objects)
    block_name_prefix: rbd_data.e0a167539c874
    format: 2
    features: layering, exclusive-lock, deep-flatten
    flags:
    parent: glance-images/8954bdf3-8ad7-4fff-be79-a3dd62a341d0@snap
    overlap: 2252 MB

If we want to remove the dependencies between glance image and
cinder volume, we should flatten the clone image.

So it’s necessary to add a config option named
rbd_flatten_volume_from_image to decide whether to flatten
rbd clone image or not.
And it is also necessary to call _flatten in clone_image method.
cinder/volume/drivers/rbd.py

Change-Id: I1beeb3b77cdd05e99b425d1d68e2c68319e53fe1
Implements: blueprint flatten-volume-from-image
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/82/616482/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/flatten-volume-from-image.rst'],1,f8b97af91ea8db8854bd6c55b04091b8d82d33de,bp/flatten-volume-from-image,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================================== Flatten volume from glance rbd image for cinder rbd backend =========================================================================== https://blueprints.launchpad.net/cinder/+spec/flatten-volume-from-image Problem description =================== Suppose glance and cinder uses ceph rbd driver as storage backend, cinder and glance are in the same ceph storage cluster. If cinder creates a volume from an image, it could create a clone volume from that image, and the relationship is 'glance image-->rbd snap of glance image-->clone image(=volume from image)' like below. # rbd info volume-ac1cc55d-ba36-42c6-b533-4b5e71ffd1e2 -p cinder-volumes rbd image 'volume-ac1cc55d-ba36-42c6-b533-4b5e71ffd1e2': size 20480 MB in 5120 objects order 22 (4096 kB objects) block_name_prefix: rbd_data.e0a167539c874 format: 2 features: layering, exclusive-lock, deep-flatten flags: parent: glance-images/8954bdf3-8ad7-4fff-be79-a3dd62a341d0@snap overlap: 2252 MB Use Cases ========= The primary use case is for removing dependencies between glance images and cinder volume when create volume from image. Proposed change =============== If we want to remove the dependencies between glance image and cinder volume, we should flatten the clone image. So it’s necessary to add a config option named rbd_flatten_volume_from_image to decide whether to flatten rbd clone image or not. And it is also necessary to call _flatten in clone_image method. cinder/volume/drivers/rbd.py Alternatives ------------ We could just leave it using the glance-api option 'show_image_direct_url = true' and qcow2 disk_format image. With above option and image, cinder download glance image and rbd import to cinder-volume pool instead create cloned volume. Data model impact ----------------- None REST API impact --------------- None Cinder-client impact -------------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ While it is doing the ceph storage copy the glance image from glance pool to cinder volume pool. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: raymon-ha(raymon.ha@kakaocorp.com) Work Items ---------- * Add method call to _flatten and tests in Cinder. Dependencies ============ None Testing ======= * Unit tests in Cinder. * Tempest tests in Cinder. Documentation Impact ==================== * Add admin docs to explain what happens when using this feature. * Some configuration options for nova.conf should be added as below: 1. rbd_flatten_volume_from_image = true References ========== [1] Flatten Volume from Snapshot: https://review.openstack.org/#/c/32490/",,144,0
openstack%2Fbifrost~master~Ifd67adaa98e920f42c80d239349ae61d7d610f66,openstack/bifrost,master,Ifd67adaa98e920f42c80d239349ae61d7d610f66,Ensure DIB is installed from source,MERGED,2020-03-10 16:20:35.000000000,2020-03-17 13:31:23.000000000,2020-03-17 11:24:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-10 16:20:35.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d878f65eea7493acb45e475a00ccd1d7ef1de50a', 'message': 'Ensure DIB is installed from source\n\nBifrost clones the DIB repo and installs it. However, after running\ninstall.yaml pip freeze shows diskimage-builder 2.33 is installed.\n\nThis is caused by the recent addition of IPA builder, which has its own\ndependency on diskimage-builder.\n\nThis change fixes the issue by swapping the order of installation of IPA\nbuilder and DIB, to ensure DIB is installed last.\n\nChange-Id: Ifd67adaa98e920f42c80d239349ae61d7d610f66\nStory: 2007401\nTask: 38999\n'}]",0,712120,d878f65eea7493acb45e475a00ccd1d7ef1de50a,20,5,1,14826,,,0,"Ensure DIB is installed from source

Bifrost clones the DIB repo and installs it. However, after running
install.yaml pip freeze shows diskimage-builder 2.33 is installed.

This is caused by the recent addition of IPA builder, which has its own
dependency on diskimage-builder.

This change fixes the issue by swapping the order of installation of IPA
builder and DIB, to ensure DIB is installed last.

Change-Id: Ifd67adaa98e920f42c80d239349ae61d7d610f66
Story: 2007401
Task: 38999
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/20/712120/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/install.yml'],1,d878f65eea7493acb45e475a00ccd1d7ef1de50a,,"# NOTE(mgoddard): IPA-builder has a dependency on diskimage-builder. Install # DIB last to ensure it is installed from source rather than PyPI. - name: ""Diskimage-builder - Install"" include: pip_install.yml package=diskimage-builder sourcedir={{ dib_git_folder }} source_install=true when: skip_install is not defined and install_dib | bool == true ","- name: ""Diskimage-builder - Install"" include: pip_install.yml package=diskimage-builder sourcedir={{ dib_git_folder }} source_install=true when: skip_install is not defined and install_dib | bool == true ",9,7
openstack%2Ftripleo-common~master~Ib13719b9e923a472127d509c57adfffd505d61f7,openstack/tripleo-common,master,Ib13719b9e923a472127d509c57adfffd505d61f7,cleanup fluentd overrides,ABANDONED,2019-08-23 11:46:26.000000000,2020-03-17 13:30:46.000000000,,"[{'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-08-23 11:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/226c0c7923267267f2b019e7a5fec1a0c6ed4c30', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 2, 'created': '2019-08-27 13:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2862587ae3abc79e1b7aa30e0c1640ad6752cbc6', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 3, 'created': '2019-08-27 19:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/299fdbca61dce8a405dc33fd3043ced3b3c770e2', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 4, 'created': '2019-08-28 10:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5fdc15519df7c9db68f9fb801b1b0dff3e10f369', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 5, 'created': '2019-09-03 10:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06363a9e88f4000423b0a290435e3fa562943b1e', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 6, 'created': '2019-09-09 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4b7f7398b4d629b1164fb7a4c50b13aaf525196a', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}, {'number': 7, 'created': '2019-10-01 17:13:41.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c125596ce554148a8d79f606d8efdf9c3b62755a', 'message': 'cleanup fluentd overrides\n\nAs a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054\n* fluentd and hostname are already in the packages list in kolla\n* Also remove the dev packages for installing gem packages from tarball\n* move the fluentd_plugin_install block override up\n  to make it easier to track what is going on\n\nChange-Id: Ib13719b9e923a472127d509c57adfffd505d61f7\n'}]",0,678206,c125596ce554148a8d79f606d8efdf9c3b62755a,39,9,7,16282,,,0,"cleanup fluentd overrides

As a followup for patch I3a5a5ed0defe8ce0259e5c09eaec11814fd51054
* fluentd and hostname are already in the packages list in kolla
* Also remove the dev packages for installing gem packages from tarball
* move the fluentd_plugin_install block override up
  to make it easier to track what is going on

Change-Id: Ib13719b9e923a472127d509c57adfffd505d61f7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/678206/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,226c0c7923267267f2b019e7a5fec1a0c6ed4c30,fluentd-overrides-cleanup,"{% set fluentd_packages_remove = [ 'gcc-c++', 'make', 'ruby-devel', 'td-agent' ] %}# make sure no gems are installed {% block fluentd_plugins_install %}{% endblock %}","{% set fluentd_packages_remove = ['td-agent'] %} {% set fluentd_packages_append = ['fluentd', 'hostname'] %}# make sure no gems are installed {% block fluentd_plugins_install %}{% endblock %}",9,4
openstack%2Ftempest~master~I4095cfeff213317bb20caec74c1887c968a52624,openstack/tempest,master,I4095cfeff213317bb20caec74c1887c968a52624,modify status code according to the latest API documentation,MERGED,2019-11-27 03:14:56.000000000,2020-03-17 13:15:28.000000000,2020-03-17 13:13:24.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30409}]","[{'number': 1, 'created': '2019-11-27 03:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8efb6c78039e1b1c7378db30f0e37336a1eb2872', 'message': 'modify status code according to the latest API documentation\n\nmodify delete all tag definitions interface status code according\nto the latest API document\n\nChange-Id: I4095cfeff213317bb20caec74c1887c968a52624\n'}, {'number': 2, 'created': '2020-02-27 06:28:51.000000000', 'files': ['tempest/tests/lib/services/image/v2/test_namespace_tags_client.py', 'tempest/lib/services/image/v2/namespace_tags_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7eb1d2dc9992ae1efe8e1303d4fa0058d1a0538f', 'message': 'modify status code according to the latest API documentation\n\nmodify delete all tag definitions interface status code according\nto the latest API document\n\nChange-Id: I4095cfeff213317bb20caec74c1887c968a52624\n'}]",2,696226,7eb1d2dc9992ae1efe8e1303d4fa0058d1a0538f,21,5,2,30409,,,0,"modify status code according to the latest API documentation

modify delete all tag definitions interface status code according
to the latest API document

Change-Id: I4095cfeff213317bb20caec74c1887c968a52624
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/696226/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/image/v2/test_namespace_tags_client.py', 'tempest/lib/services/image/v2/namespace_tags_client.py']",2,8efb6c78039e1b1c7378db30f0e37336a1eb2872,master2," self.expected_success(204, resp.status)"," self.expected_success([200, 204], resp.status)",2,2
openstack%2Fkuryr-kubernetes~master~Ia2811d743f6c4791321b05977118d0b4276787b5,openstack/kuryr-kubernetes,master,Ia2811d743f6c4791321b05977118d0b4276787b5,Namespace event handling through KuryrNet CRD,MERGED,2020-02-10 07:54:54.000000000,2020-03-17 13:10:57.000000000,2020-03-17 13:06:14.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-10 07:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e9b6d36fcee1ee6eb318ba2a3f6c2e9d7246529', 'message': 'WIP: Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 2, 'created': '2020-02-10 08:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/693a7bfb9fd5978acfa61a67fab3c2bebbc5d969', 'message': 'WIP: Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 3, 'created': '2020-02-11 17:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ccae139d20ea7f66b5cfb403bcdeca1130c49daf', 'message': 'WIP: Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 4, 'created': '2020-02-11 17:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7053cc117364851a17a6f7b7940861d643161833', 'message': 'WIP: Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 5, 'created': '2020-02-13 11:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d4cdf9f3afa35d7a21a09df18347e46d588d99d2', 'message': 'WIP: Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 6, 'created': '2020-02-14 12:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0ad67d8e6c83376914fb19ac98fc72ccc9f26228', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 7, 'created': '2020-02-14 12:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8203db79cc31ccf308efee075e392edd4f8c8d3b', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 8, 'created': '2020-02-14 14:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a3fce4a02323482f0d8a133ebea8b3154d66260f', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 9, 'created': '2020-02-20 17:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5bd0ecb3508e8d253ae1d5bf6e52d92f11d98513', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 10, 'created': '2020-02-21 11:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46d55fdbdc7c6b23110b511ac3ad10b186ffcc9b', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 11, 'created': '2020-02-21 12:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/344f355abb33d19d481a2e4e5d4577bfc62c9552', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 12, 'created': '2020-02-21 15:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3400fbea21565ad936b0faa4ffb97d3b52002dcb', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO: Add/Modify Unit Tests\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 13, 'created': '2020-02-25 15:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/22193e1407446971ed2635a893369304c2254011', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO:\n- Add unit tests for kuryrnet handler\n- Fix unit tests for namespace_subnet driver\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 14, 'created': '2020-02-25 17:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/192c2b8efec15bd82481ae86fa5b48bdd2b18f24', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nTODO:\n- Add unit tests for kuryrnet handler\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 15, 'created': '2020-02-26 15:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8c776de9ae5f3a91748eaf5782e6c55726f8009b', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 16, 'created': '2020-02-26 15:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/59e4c3663307e68f4d18025f857a7827a0ddf7f4', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 17, 'created': '2020-02-28 11:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28b59044652436c732c8f0f62a7f60ddb0e48f4c', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 18, 'created': '2020-03-02 07:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ab6660c7aa1fe3ae4d88d7a9ded75e456f0a77f8', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 19, 'created': '2020-03-02 11:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/51e9b4351943857963c94f630c4ef6df53c61fa3', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 20, 'created': '2020-03-02 15:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8af78ffa773ab97b7471648dee757442798bc310', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 21, 'created': '2020-03-03 12:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b65596daf87bdae92396ed9a7fe73417d5d4ce67', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 22, 'created': '2020-03-03 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06fc99522dbe32e032f4d1fb9686135abc801ad7', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 23, 'created': '2020-03-04 16:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3f11fc4549b233a2080dc832d39c0abd4b663c12', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 24, 'created': '2020-03-04 21:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4ee5de4781a63839d440b1e238759136813ebdd1', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 25, 'created': '2020-03-04 21:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/87a5a7d6f35fbc56a05b557c341cd2ff628c753c', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 26, 'created': '2020-03-05 18:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/57039dd8881336e11734185b641b0b4a55cf1e9f', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 27, 'created': '2020-03-06 08:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/79047d7242733af322980a221eac821378a29717', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 28, 'created': '2020-03-06 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/443377f821702ae762d526bc37b3cbdd14f4ceb4', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 29, 'created': '2020-03-09 08:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1e4ff4556200ab3da99e9952b58e6180638a7af8', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 30, 'created': '2020-03-09 10:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04c40b3be1ebf80005b603af5a3693e6c5a82ea7', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: 711874\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 31, 'created': '2020-03-09 10:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/984b72fe0190f936a83e54a73f6caf9df783f9c5', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 32, 'created': '2020-03-09 16:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ef242f105e9b3ea659f67050f1717e4eeaf5450', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 33, 'created': '2020-03-10 11:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1493fdc5e1bff49de067e55d829a5dc2a2632d39', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 34, 'created': '2020-03-11 09:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7310796f380329ce87b502636a377cd05d8b93c7', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 35, 'created': '2020-03-11 12:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f1fd730bc9624a604760cdbe34d7ea70baf80282', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 36, 'created': '2020-03-13 10:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a8f3862fad5ddfd268ce5396e686436808a60bdf', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 37, 'created': '2020-03-13 10:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3903ae664678dd07f6b942a33d3aa7ae9981caab', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}, {'number': 38, 'created': '2020-03-13 11:30:27.000000000', 'files': ['kubernetes_crds/kuryr_crds/kuryrnet.yaml', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork_population.py', 'kuryr_kubernetes/controller/drivers/base.py', 'doc/source/installation/ports-pool.rst', 'kuryr_kubernetes/handlers/k8s_base.py', 'doc/source/installation/network_namespace.rst', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork_population.py', 'kuryr_kubernetes/controller/handlers/policy.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'doc/source/installation/manual.rst', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'devstack/lib/kuryr_kubernetes', 'tools/gate/copy_k8s_logs.sh', 'kubernetes_crds/kuryr_crds/kuryrnetwork.yaml', 'devstack/plugin.sh', 'kubernetes_crds/kuryr_crds/kuryrloadbalancer.yaml', '.zuul.d/octavia.yaml', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/k8s_client.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnet.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/exceptions.py', 'setup.cfg', 'doc/source/installation/network_policy.rst', 'kubernetes_crds/kuryr_crds/kuryrnetpolicy.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/780c4dfa0934751afb2ea5770f10aacb2b6ee687', 'message': 'Namespace event handling through KuryrNet CRD\n\nThis patch moves the namespace handling to be more aligned\nwith the k8s style.\n\nDepends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250\n\nChange-Id: Ia2811d743f6c4791321b05977118d0b4276787b5\n'}]",137,706744,780c4dfa0934751afb2ea5770f10aacb2b6ee687,155,6,38,23567,,,0,"Namespace event handling through KuryrNet CRD

This patch moves the namespace handling to be more aligned
with the k8s style.

Depends-on: If0aaf748d13027b3d660aa0f74c4f6653e911250

Change-Id: Ia2811d743f6c4791321b05977118d0b4276787b5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/706744/33 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes_crds/kuryrnet.yaml', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/controller/handlers/kuryrnet.py', 'setup.cfg', 'doc/source/installation/network_namespace.rst', 'kuryr_kubernetes/controller/handlers/namespace.py', 'kuryr_kubernetes/controller/handlers/kuryrnet_population.py']",7,0e9b6d36fcee1ee6eb318ba2a3f6c2e9d7246529,namespace-crds,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_log import log as logging from kuryr_kubernetes import constants from kuryr_kubernetes.controller.drivers import base as drivers from kuryr_kubernetes.controller.drivers import utils as driver_utils from kuryr_kubernetes import exceptions from kuryr_kubernetes.handlers import k8s_base from kuryr_kubernetes import utils LOG = logging.getLogger(__name__) class KuryrNetPopulationHandler(k8s_base.ResourceEventHandler): """"""Controller side of KuryrNet process for Kubernetes pods. `KuryrNetHandler` runs on the Kuryr-Kubernetes controller and is responsible for populating pools for newly created namespaces. """""" OBJECT_KIND = constants.K8S_OBJ_KURYRNET OBJECT_WATCH_PATH = constants.K8S_API_CRD_KURYRNETS def __init__(self): super(KuryrNetPopulationHandler, self).__init__() self._drv_subnets = drivers.PodSubnetsDriver.get_instance() self._drv_vif_pool = drivers.VIFPoolDriver.get_instance( specific_driver='multi_pool') self._drv_vif_pool.set_vif_driver() def on_added(self, kuryrnet_crd): subnet_id = kuryrnet_crd['status'].get('subnetId') if not subnet_id: return if kuryrnet_crd['spec'].get('populated'): LOG.debug(""Subnet %s already populated"", subnet_id) return namespace = kuryrnet_crd['spec'].get('nsName') project_id = kuryrnet_crd['spec'].get('projectId') # NOTE(ltomasbo): using namespace name instead of object as it is not # required subnets = self._drv_subnets.get_namespace_subnet(namespace, subnet_id) sgs = [] nodes = utils.get_nodes_ips() # NOTE(ltomasbo): Patching the kuryrnet_crd here instead of after # populate_pool method to ensure initial repopulation is not happening # twice upon unexpected problems, such as neutron failing to # transition the ports to ACTIVE or being too slow replying. # In such case, even though the repopulation actions got triggered, # the pools will not get the ports loaded (as they are not ACTIVE) # and new population actions may be triggered if the controller was # restarted before performing the populated=true patching. driver_utils.patch_kuryrnet_crd(kuryrnet_crd, populated=True) # TODO(ltomasbo): Skip the master node where pods are not usually # allocated. for node_ip in nodes: LOG.debug(""Populating subnet pool %s at node %s"", subnet_id, node_ip) try: self._drv_vif_pool.populate_pool(node_ip, project_id, subnets, sgs) except exceptions.ResourceNotReady: # Ensure the repopulation is retriggered if the system was not # yet ready to perform the repopulation actions driver_utils.patch_kuryrnet_crd(kuryrnet_crd, populated=False) raise ",,401,430
openstack%2Ftripleo-ansible~master~I372aa52928a5aa000b619e6cde72bdbd5b086330,openstack/tripleo-ansible,master,I372aa52928a5aa000b619e6cde72bdbd5b086330,Baremetal Configure Playbook,MERGED,2019-10-28 13:12:12.000000000,2020-03-17 13:08:22.000000000,2020-03-17 13:08:22.000000000,"[{'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-28 13:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/32c719e78abfa798a30dd400ef31964317e11cbd', 'message': 'WIP configure node\n\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 2, 'created': '2019-10-29 13:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b95c502ec8a791d5b0ea7fa8b438ae03779a62f4', 'message': 'overcloud node configure playbook\n\nFirst pass. WIP.\n\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 3, 'created': '2019-10-29 13:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1cd6c3f9151a540141e55d93d949f7006ceb908', 'message': 'overcloud node configure playbook\n\nFirst pass. WIP.\n\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 4, 'created': '2019-10-29 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c8bd68f3cda393eee8582e9ea2cb1302b4ef7f5', 'message': 'overcloud node configure playbook\n\nFirst pass. WIP.\n\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 5, 'created': '2019-10-29 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/426253b9431d850535f3f8ee4b87adbe3c2bafd0', 'message': 'overcloud node configure playbook\n\nFirst pass. WIP.\n\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 6, 'created': '2019-10-29 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5cf1139c353acecc8cedd03f8c09505b661b1ee3', 'message': 'overcloud node configure playbook\n\nFirst pass. WIP.\n\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 7, 'created': '2019-10-30 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a718cf733718be67a2480882913f6251d5aebd15', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 8, 'created': '2019-11-14 14:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f233567a681844ab261470f6f27ca461b3c93d2d', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 9, 'created': '2019-11-21 20:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50b23e5fe45854ce8ce27031a1d359a2787b8871', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\n'}, {'number': 10, 'created': '2019-11-21 20:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73edb64f8f2c2364092adbf0c3967764206868a1', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-11-22 02:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/459d060b6f59b33f43fe3e8b74e1d57e9fee38d0', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-11-22 23:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5994c7be3fa6d372565ab0065e5b82b013ce3dce', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2019-11-25 14:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/016489f790b53fe173baf49890e40c08c3a0a760', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2019-11-25 14:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f4249864f2c0168ce8b7d6a93085c8fe7ff93fe2', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2020-01-21 17:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/344cfc966d5977b31090ae240d29ec22a6f14ca8', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2020-02-14 09:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0641cc68c4d1d515698ce051172a7d8ff68dc5f', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2020-02-26 02:43:54.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-configure.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_configure.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3658e8f5cc1f7b573f66a7bfc1570e539586d40e', 'message': 'Baremetal Configure Playbook\n\nThis playbook replaces the Mistral functionality used by the `openstack\nbaremetal node configure` CLI command.\n\nA module to support using methods from tripleo-common has been created.\n\nRelated-Bug: #1835230\nDepends-On: https://review.opendev.org/#/c/691717/\nChange-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",23,691667,3658e8f5cc1f7b573f66a7bfc1570e539586d40e,57,6,17,9712,,,0,"Baremetal Configure Playbook

This playbook replaces the Mistral functionality used by the `openstack
baremetal node configure` CLI command.

A module to support using methods from tripleo-common has been created.

Related-Bug: #1835230
Depends-On: https://review.opendev.org/#/c/691717/
Change-Id: I372aa52928a5aa000b619e6cde72bdbd5b086330
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/691667/9 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/baremetal-configure.yaml'],1,32c719e78abfa798a30dd400ef31964317e11cbd,mistral_to_ansible,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - connection: local hosts: localhost pre_tasks: - name: Check for required inputs fail: msg: > Either `node_uuids` or `all_manageable` are required inputs. when: - node_uuids is undefined - all_manageable is undefined vars: kernel_name: bm-deploy-kernel ramdisk_name: bm-deploy-ramdisk instance_boot_option: null root_device: null root_device_minimum_size: 4 overwrite_root_device_hints: False tasks: # Get Node UUIDs, if ""all_manageable"" is True - name: Get node UUIDS shell: > openstack baremetal node list --provision-state=manageable -c UUID -f json | jq '[.[].UUID]' register: command_output when: all_manageable == True - set_fact: node_uuids: ""{{ command_output.stdout }}"" when: all_manageable == True # Configure Nodes ",,50,0
openstack%2Fmonasca-api~master~If3d72d7680bff46e7c82d3015f47caee64a4333f,openstack/monasca-api,master,If3d72d7680bff46e7c82d3015f47caee64a4333f,Add auto-scaling with Heat test job,NEW,2020-03-17 12:11:03.000000000,2020-03-17 13:08:17.000000000,,"[{'_account_id': 12404}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 12:11:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c363656ec5b0766d6b044930194bd1eedf9da996', 'message': 'Add auto-scaling with Heat test job\n\nChange-Id: If3d72d7680bff46e7c82d3015f47caee64a4333f\nStory: 2005752\nTask: 39085\n'}]",0,713420,c363656ec5b0766d6b044930194bd1eedf9da996,3,3,1,16222,,,0,"Add auto-scaling with Heat test job

Change-Id: If3d72d7680bff46e7c82d3015f47caee64a4333f
Story: 2005752
Task: 39085
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/20/713420/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c363656ec5b0766d6b044930194bd1eedf9da996,autoscaling-with-monasca, - auto-scaling-heat-monasca - auto-scaling-heat-monasca,,2,0
openstack%2Ftripleo-heat-templates~master~I82c4de4a63817707a2b0ed0ced827be37c0d0463,openstack/tripleo-heat-templates,master,I82c4de4a63817707a2b0ed0ced827be37c0d0463,Use jinja raw tag instead of quoted concatenation,MERGED,2020-03-11 16:56:11.000000000,2020-03-17 13:02:42.000000000,2020-03-16 21:28:49.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-11 16:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81b30a19d166bc6c9732d15f8221d070b6b7c4b3', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n'}, {'number': 2, 'created': '2020-03-12 10:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abf5b03e25b79faee6a9da23f63bdfd13f8fe5b6', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n'}, {'number': 3, 'created': '2020-03-12 13:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bc42c164a171164fe7b2227c1817a8513053d1e', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n'}, {'number': 4, 'created': '2020-03-13 11:18:23.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42059a1031e77479ab3a8f4729da610d2fec3d5d', 'message': 'Use jinja raw tag instead of quoted concatenation\n\nMany of the lines are difficult to grasp due to the crazy\nquotation and concatenation implemented to get the desired\nresult from generating playbooks via a jinja template.\n\nWe can make it easier to read and easier to understand by\nusing the jinja raw tag instead. This eases the maintenace\nburden on us all and helps us sleep better at night.\n\nChange-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463\n'}]",0,712504,42059a1031e77479ab3a8f4729da610d2fec3d5d,27,9,4,6816,,,0,"Use jinja raw tag instead of quoted concatenation

Many of the lines are difficult to grasp due to the crazy
quotation and concatenation implemented to get the desired
result from generating playbooks via a jinja template.

We can make it easier to read and easier to understand by
using the jinja raw tag instead. This eases the maintenace
burden on us all and helps us sleep better at night.

Change-Id: I82c4de4a63817707a2b0ed0ced827be37c0d0463
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/712504/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,81b30a19d166bc6c9732d15f8221d070b6b7c4b3,scale-2020," gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} with_items: ""{{ hostvars[inventory_hostname]['pre_deployments_' ~ tripleo_role_name]|default([]) }}"" path: {{ lookup('first_found', NetworkConfig_paths, errors='ignore') }} - {{ tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' }} - {{ tripleo_role_name ~ '/NetworkConfig' }} src: {{ NetworkConfig_stat.stat.path }} async: {{ async_timeout | default(300) }} poll: {{ async_poll | default(3) }} environment: bridge_name: {{ neutron_physical_bridge_name }} interface_name: {{ neutron_public_interface_name }} content: {{ NetworkConfig_result.rc }} validate_controllers_icmp: {{ validate_controllers_icmp }} validate_gateways_icmp: {{ validate_gateways_icmp }} validate_fqdn: {{ validate_fqdn }} validate_ntp: {{ validate_ntp }} ping_test_ips: {{ ping_test_ips | to_json }} tripleo_role_name: {{ tripleo_role_name }} artifact_urls: {{ deploy_artifact_urls }}{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} copy: content: ""{{ dict(step=step | int) | to_json }}""{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}""{% raw %} with_items: ""{{ hostvars[inventory_hostname]['post_deployments_' ~ tripleo_role_name]|default([]) }}""{% endraw %} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" serial: ""{% raw %}{{ update_serial | default({% endraw %}{{ role.update_serial | default(1) }}{% raw %})}}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"""," gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} with_items: ""{{ '{{' }} hostvars[inventory_hostname]['pre_deployments_' ~ tripleo_role_name]|default([]) {{ '}}' }}"" path: {{ '""{{' }} lookup('first_found', NetworkConfig_paths, errors='ignore') {{ '}}""' }} - {{ '""{{' }} tripleo_role_name ~ '/' ~ inventory_hostname ~ '/NetworkConfig' {{ '}}""' }} - {{ '""{{' }} tripleo_role_name ~ '/NetworkConfig' {{ '}}""' }} src: {{ '""{{' }} NetworkConfig_stat.stat.path {{ '}}""' }} async: {{ '""{{' }} async_timeout | default(300) {{ '}}""' }} poll: {{ '""{{' }} async_poll | default(3) {{ '}}""' }} environment: bridge_name: {{ '""{{' }} neutron_physical_bridge_name {{ '}}""' }} interface_name: {{ '""{{' }} neutron_public_interface_name {{ '}}""' }} content: {{ '""{{' }} NetworkConfig_result.rc {{ '}}""' }} validate_controllers_icmp: {{ '""{{' }} validate_controllers_icmp {{ '}}""' }} validate_gateways_icmp: {{ '""{{' }} validate_gateways_icmp {{ '}}""' }} validate_fqdn: {{ '""{{' }} validate_fqdn {{ '}}""' }} validate_ntp: {{ '""{{' }} validate_ntp {{ '}}""' }} ping_test_ips: {{ '""{{' }} ping_test_ips | to_json {{ '}}""' }} tripleo_role_name: {{ '""{{' }} tripleo_role_name {{ '}}""' }} artifact_urls: {{ '""{{' }} deploy_artifact_urls {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} copy: content: ""{{ '{{' }} dict(step=step|int) | to_json {{ '}}' }}"" gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} with_items: ""{{ '{{' }} hostvars[inventory_hostname]['post_deployments_' ~ tripleo_role_name]|default([]) {{ '}}' }}"" gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} serial: {{ '""{{' }} update_serial | default({{role.update_serial | default(1)}}) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }}",45,39
openstack%2Fironic-inspector~master~I10cf510630f50d68e463476b922f40932418f4b3,openstack/ironic-inspector,master,I10cf510630f50d68e463476b922f40932418f4b3,Add words for mutiarch configuration,MERGED,2020-03-17 09:24:45.000000000,2020-03-17 13:02:22.000000000,2020-03-17 12:59:13.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-17 09:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/53390c1f3775491e85b197cf4cbdd46ac0c3c921', 'message': 'Add text for mutiarch configuration\n\nAdds some words on the PXE configuration for multi-arch environments.\n\nChange-Id: I10cf510630f50d68e463476b922f40932418f4b3\n'}, {'number': 2, 'created': '2020-03-17 10:30:06.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e6ece052ece749b9df387ba85aa7c2474f479024', 'message': 'Add words for mutiarch configuration\n\nAdds some words on the PXE configuration for multi-arch environments.\n\nChange-Id: I10cf510630f50d68e463476b922f40932418f4b3\n'}]",7,713385,e6ece052ece749b9df387ba85aa7c2474f479024,13,4,2,24828,,,0,"Add words for mutiarch configuration

Adds some words on the PXE configuration for multi-arch environments.

Change-Id: I10cf510630f50d68e463476b922f40932418f4b3
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/85/713385/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,53390c1f3775491e85b197cf4cbdd46ac0c3c921,multiarch,"Configuring PXE for Muti-arch ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If the environment consists bare metals with different architectures, normally there would require a set of ramdisk for each architecture. The grub built-in variable `grub_cpu`_ could be used to indicate the correct config file for each of them. .. _grub_cpu: https://www.gnu.org/software/grub/manual/grub/html_node/grub_005fcpu.html For example, setup ``$TFTPROOT/EFI/BOOT/grub.cfg`` as follows:: set default=master set timeout=5 set hidden_timeout_quiet=false menuentry ""master"" { configfile /tftpboot/grub-${grub_cpu}.cfg } Prepare specific grub config for each existing architectures, e.g. ``grub-arm64.cfg`` for ARM64 and ``grub-i386.cfg`` for x86. Update dnsmasq configuration to contain options for supported architectures. ",,25,0
openstack%2Fironic~master~I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b,openstack/ironic,master,I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b,Drop rootwrap.d/ironic-lib.filters file,MERGED,2019-09-24 10:14:18.000000000,2020-03-17 13:02:17.000000000,2020-03-17 12:59:00.000000000,"[{'_account_id': 6618}, {'_account_id': 7102}, {'_account_id': 9963}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 20312}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-24 10:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0687a3093c081f94491886b6d3e6d39cad548135', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 2, 'created': '2019-09-24 10:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9dd5d46579423b76c35a7d621ddc3123c62509e2', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 3, 'created': '2019-09-24 13:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca61651acb8a6a148fd2a144bfecff8eb88e1f58', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 4, 'created': '2019-09-25 15:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76e0492a2d6835f61a71d69e9ce1c36c00dac402', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nDepends-On: https://review.opendev.org/684771\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 5, 'created': '2020-01-21 08:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64c0a355b493b6463c86e1203490724b97f5464a', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nDepends-On: https://review.opendev.org/684771\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 6, 'created': '2020-03-16 22:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2597a7feb34eb96725117f76f86eb0f7f96fea98', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nDepends-On: https://review.opendev.org/684771\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}, {'number': 7, 'created': '2020-03-16 22:05:47.000000000', 'files': ['releasenotes/notes/drop-ironic-lib-rootwrap-filters-f9224173289c1e30.yaml', 'devstack/lib/ironic', 'etc/ironic/rootwrap.d/ironic-lib.filters'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfb41571b23d04c9e8fc74caf3d9f94911b8e414', 'message': 'Drop rootwrap.d/ironic-lib.filters file\n\nThe file is included in the ironic-lib module and there is no\ndifference (beside some comments) in the files.\n\nFor packagers, this solves the problem that ironic-lib and ironic are\ncurrently not installable together given that both packages contain\nthe same file.\n\nStory: 2006604\nTask: 36772\nDepends-On: https://review.opendev.org/684771\nChange-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b\n'}]",1,684270,bfb41571b23d04c9e8fc74caf3d9f94911b8e414,59,10,7,7102,,,0,"Drop rootwrap.d/ironic-lib.filters file

The file is included in the ironic-lib module and there is no
difference (beside some comments) in the files.

For packagers, this solves the problem that ironic-lib and ironic are
currently not installable together given that both packages contain
the same file.

Story: 2006604
Task: 36772
Depends-On: https://review.opendev.org/684771
Change-Id: I2d800d4c2616ccd9d9f12a2fe59e259def15dc6b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/684270/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ironic/rootwrap.d/ironic-lib.filters'],1,0687a3093c081f94491886b6d3e6d39cad548135,684270-takover,,"# An ironic-lib.filters to be used with rootwrap command. # The following commands should be used in filters for disk manipulation. # This file should be owned by (and only-writable by) the root user. # NOTE: this file is a copy of ironic-lib.filters from the ironic-lib # repository that should ultimately be remove. At this point, we still # need it to avoid gate breakage and preserve compatibily with existing # installation. [Filters] # ironic_lib/disk_utils.py blkid: CommandFilter, blkid, root blockdev: CommandFilter, blockdev, root hexdump: CommandFilter, hexdump, root lsblk: CommandFilter, lsblk, root qemu-img: CommandFilter, qemu-img, root wipefs: CommandFilter, wipefs, root sgdisk: CommandFilter, sgdisk, root partprobe: CommandFilter, partprobe, root # ironic_lib/utils.py mkswap: CommandFilter, mkswap, root mkfs: CommandFilter, mkfs, root dd: CommandFilter, dd, root # ironic_lib/disk_partitioner.py fuser: CommandFilter, fuser, root parted: CommandFilter, parted, root ",0,28
openstack%2Ftripleo-heat-templates~master~I2260d785ee32ddf8e48ff817d7f4d9897825e5a0,openstack/tripleo-heat-templates,master,I2260d785ee32ddf8e48ff817d7f4d9897825e5a0,DNM: Try debug logging for virtlogd,ABANDONED,2019-12-07 12:26:19.000000000,2020-03-17 12:54:53.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-07 12:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cb62095531a8b2643ab2e73bbbd9a09f6934ae5', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 2, 'created': '2019-12-09 05:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7de5f58761cdeb73fd8a66c2215aea6bdf82ca94', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 3, 'created': '2019-12-10 12:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b44bd81c9e241421f286bc48982224e5ed3b8786', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 4, 'created': '2020-01-20 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bbae985b577fe1cb682da14e1dd4fd660b0453b', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 5, 'created': '2020-01-26 06:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e2868701ba19185abf1b1b650f59e6efd5959b3', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 6, 'created': '2020-02-24 22:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/898287ccaa4224169eb0ee2d08ed64aca9beaefc', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 7, 'created': '2020-02-25 06:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44dc480985cc310419a55973a0b3279c1d41c7bc', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}, {'number': 8, 'created': '2020-02-25 11:31:02.000000000', 'files': ['deployment/logging/files/nova-libvirt.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/283e1acecb84c8922081f94518d067151ddaa96b', 'message': 'DNM: Try debug logging for virtlogd\n\nChange-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0\n'}]",0,697833,283e1acecb84c8922081f94518d067151ddaa96b,27,3,8,9816,,,0,"DNM: Try debug logging for virtlogd

Change-Id: I2260d785ee32ddf8e48ff817d7f4d9897825e5a0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/697833/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/files/nova-libvirt.yaml'],1,1cb62095531a8b2643ab2e73bbbd9a09f6934ae5,virtlogd, default: 1, default: 3,1,1
openstack%2Fzaqar~master~Ia454e198a111e0497eca91b7e67882c31eb91731,openstack/zaqar,master,Ia454e198a111e0497eca91b7e67882c31eb91731,[DNM] Check new zaqar-tempest-plugin tests,ABANDONED,2020-02-17 06:06:13.000000000,2020-03-17 12:26:47.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 06:06:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ed3109dfe3cff1cccccf52232c7c0ac2fd1207ff', 'message': '[DNM] Check new zaqar-tempest-plugin tests\n\nCentOS7 poi jobs are failing[1] after new test[2]\nadded in zaqar-tempest-plugin, check if those are\ndetected in zaqar patches.\n\n[1] https://bugs.launchpad.net/puppet-openstack-integration/+bug/1863560\n[2] https://review.opendev.org/#/c/707323/\n\nChange-Id: Ia454e198a111e0497eca91b7e67882c31eb91731\n'}]",0,708060,ed3109dfe3cff1cccccf52232c7c0ac2fd1207ff,7,2,1,13861,,,0,"[DNM] Check new zaqar-tempest-plugin tests

CentOS7 poi jobs are failing[1] after new test[2]
added in zaqar-tempest-plugin, check if those are
detected in zaqar patches.

[1] https://bugs.launchpad.net/puppet-openstack-integration/+bug/1863560
[2] https://review.opendev.org/#/c/707323/

Change-Id: Ia454e198a111e0497eca91b7e67882c31eb91731
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/60/708060/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ed3109dfe3cff1cccccf52232c7c0ac2fd1207ff,bp/query-queues-with-count,# DNM,,1,0
openstack%2Frpm-packaging~stable%2Ftrain~I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29,openstack/rpm-packaging,stable/train,I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29,metalsmith: convert to python3,MERGED,2020-03-17 12:02:08.000000000,2020-03-17 12:14:33.000000000,2020-03-17 12:14:33.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 12:02:08.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4a455baad7c53d4a7e7f37450ee460ad0e7ed71f', 'message': 'metalsmith: convert to python3\n\nChange-Id: I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29\n(cherry picked from commit b947cf3f54c7b89c7d851aca2ff347e3465bfb9b)\n'}]",0,713416,4a455baad7c53d4a7e7f37450ee460ad0e7ed71f,8,3,1,13294,,,0,"metalsmith: convert to python3

Change-Id: I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29
(cherry picked from commit b947cf3f54c7b89c7d851aca2ff347e3465bfb9b)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/713416/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/metalsmith/metalsmith.spec.j2'],1,4a455baad7c53d4a7e7f37450ee460ad0e7ed71f,remove-python2-stable/train,BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('openstacksdk') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n python3-metalsmith Summary: Bare metal provisioner using Ironic Requires: {{ py3('PrettyTable') }} Requires: {{ py3('openstacksdk') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} %description -n python3-metalsmith Simple Python library and CLI tool to provision bare metal machines using OpenStack Ironic. Requires: {{ py3('metalsmith') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-metalsmith%{_bindir}/metalsmith %{python3_sitelib}/metalsmith %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('openstacksdk', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('openstacksdk') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %ifpython2 Requires: {{ py2pkg('enum34') }} %endif %python_subpackagesRequires: {{ py2pkg('metalsmith') }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/metalsmith %post %{python_install_alternative metalsmith} %postun %python_uninstall_alternative metalsmith %python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/metalsmith %{python_sitelib}/metalsmith %{python_sitelib}/*.egg-info",28,42
openstack%2Frpm-packaging~stable%2Ftrain~I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224,openstack/rpm-packaging,stable/train,I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224,"os-faults: Switch to python3, fix tests run",MERGED,2020-03-17 11:57:39.000000000,2020-03-17 12:14:32.000000000,2020-03-17 12:14:32.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 11:57:39.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3ec5260877fd03a9ca3444e2f67cd15a5f725d31', 'message': 'os-faults: Switch to python3, fix tests run\n\nWe are including two patches here, and not updating to 0.2.5.\n\nChange-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224\n(cherry picked from commit a0e5058dccf30045abf673ed4d5279cb50647b7a)\n(cherry picked from commit d007b1eb9df3ee1a06498d9722371854c29fe954)\n'}]",0,713413,3ec5260877fd03a9ca3444e2f67cd15a5f725d31,8,4,1,13294,,,0,"os-faults: Switch to python3, fix tests run

We are including two patches here, and not updating to 0.2.5.

Change-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224
(cherry picked from commit a0e5058dccf30045abf673ed4d5279cb50647b7a)
(cherry picked from commit d007b1eb9df3ee1a06498d9722371854c29fe954)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/713413/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,3ec5260877fd03a9ca3444e2f67cd15a5f725d31,remove-python2-stable/train,"BuildRequires: {{ py3('ansible', ('>=', '2.2')) }}BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('appdirs') }} BuildRequires: {{ py3('click') }} BuildRequires: {{ py3('ddt') }} BuildRequires: {{ py3('iso8601') }} BuildRequires: {{ py3('jsonschema') }} BuildRequires: {{ py3('libvirt-python') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pyghmi') }} BuildRequires: {{ py3('pytest') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} Requires: {{ py3('ansible', ('>=', '2.2')) }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('appdirs') }} Requires: {{ py3('click') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('jsonschema') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('pyghmi') }} Requires: {{ py3('six') }}Recommends: {{ py3('libvirt-python') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('reno') }} BuildRequires: {{ py3('sphinx_rtd_theme') }}BuildRequires: {{ py3('sphinxcontrib-programoutput') }}%{py3_build} PBR_VERSION={{ upstream_version }} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m pytest -vvvv --durations=10 ""os_faults/tests/unit""%{python3_sitelib}/os_faults*","BuildRequires: {{ py2pkg('ansible', ('>=', '2.2')) }}BuildRequires: {{ py2pkg('PyYAML') }} BuildRequires: {{ py2pkg('appdirs') }} # rdo only has click version 6.3-1.el7 #BuildRequires: {{ py2pkg('click', ('>=', '6.7')) }} BuildRequires: {{ py2pkg('click') }} BuildRequires: {{ py2pkg('ddt') }} BuildRequires: {{ py2pkg('iso8601') }} BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('libvirt-python') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('pyghmi') }} BuildRequires: {{ py2pkg('pytest') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} Requires: {{ py2pkg('ansible', ('>=', '2.2')) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('appdirs') }} # rdo only has click version 6.3-1.el7 #Requires: {{ py2pkg('click', ('>=', '6.7')) }} Requires: {{ py2pkg('click') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pyghmi') }} Requires: {{ py2pkg('six') }}Recommends: {{ py2pkg('libvirt-python') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('reno') }} BuildRequires: {{ py2pkg('sphinx_rtd_theme') }}BuildRequires: {{ py2pkg('sphinxcontrib-programoutput') }}%{py2_build} %{__python2} setup.py build_sphinx --builder=html%{py2_install}#%{__python2} setup.py test # the below instead of the above is to avoid pulling in requirements for coveragepy.test -vvvv --durations=10 ""os_faults/tests/unit""%{python2_sitelib}/os_faults*",47,53
openstack%2Frpm-packaging~stable%2Ftrain~I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e,openstack/rpm-packaging,stable/train,I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e,"os-xenapi: use stestr instead of os-testr, disable doc build",MERGED,2020-03-17 09:49:29.000000000,2020-03-17 12:09:23.000000000,2020-03-17 12:09:22.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 09:49:29.000000000', 'files': ['openstack/os-xenapi/os-xenapi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d66379c28ef25ae55a124e39071094f3a1232856', 'message': ""os-xenapi: use stestr instead of os-testr, disable doc build\n\nAll OpenStack projects have migrated from os-testr to stestr, and\nos-xenapi is a notable exception. We can use stestr anyway to run\nunit tests, removing the need for os-testr as a build requirement.\n\nAlso, os-xenapi still requires oslosphinx to build its\ndocumentation. Let's disable doc builds, since this package is not\nin Ussuri for the SUSE CI.\n\nChange-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e\n(cherry picked from commit 5ae343cd0421798bc1575208c6c7bb9bdf89ec8f)\n""}]",0,713389,d66379c28ef25ae55a124e39071094f3a1232856,10,5,1,13294,,,0,"os-xenapi: use stestr instead of os-testr, disable doc build

All OpenStack projects have migrated from os-testr to stestr, and
os-xenapi is a notable exception. We can use stestr anyway to run
unit tests, removing the need for os-testr as a build requirement.

Also, os-xenapi still requires oslosphinx to build its
documentation. Let's disable doc builds, since this package is not
in Ussuri for the SUSE CI.

Change-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e
(cherry picked from commit 5ae343cd0421798bc1575208c6c7bb9bdf89ec8f)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/713389/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-xenapi/os-xenapi.spec.j2'],1,d66379c28ef25ae55a124e39071094f3a1232856,,%define with_doc 0BuildRequires: {{ py3('stestr') }}%if 0%{?with_doc}%endif%if 0%{?with_doc}%endifpython3 -m stestr.cli run --test-path ./os_xenapi/tests --black-regex 'os_xenapi.tests.plugins.*'%if 0%{?with_doc}%endif,BuildRequires: {{ py3('os-testr') }}ostestr --blacklist_file exclusion_py3.txt --concurrency 1,9,2
openstack%2Frpm-packaging~master~Ief4c2ae635feb7f2d464231b13601fc87d94a0f5,openstack/rpm-packaging,master,Ief4c2ae635feb7f2d464231b13601fc87d94a0f5,sahara: add patch to fix documentation build,MERGED,2020-03-17 10:10:40.000000000,2020-03-17 12:09:22.000000000,2020-03-17 12:09:22.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 10:10:40.000000000', 'files': ['openstack/sahara/sahara.spec.j2', 'openstack/sahara/0001-Fix-syntax-error-in-image-widths.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0294246fe28d0ff9d62de6cd316e5b021fef8ecf', 'message': 'sahara: add patch to fix documentation build\n\nTaken from https://review.opendev.org/#/c/710658/\n\nChange-Id: Ief4c2ae635feb7f2d464231b13601fc87d94a0f5\n'}]",0,713394,0294246fe28d0ff9d62de6cd316e5b021fef8ecf,9,5,1,6593,,,0,"sahara: add patch to fix documentation build

Taken from https://review.opendev.org/#/c/710658/

Change-Id: Ief4c2ae635feb7f2d464231b13601fc87d94a0f5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/713394/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/sahara/sahara.spec.j2', 'openstack/sahara/0001-Fix-syntax-error-in-image-widths.patch']",2,0294246fe28d0ff9d62de6cd316e5b021fef8ecf,,"From 0825bddef65c11928ae6d37a2a7702e2d9435143 Mon Sep 17 00:00:00 2001 From: Dirk Mueller <dirk@dmllr.de> Date: Sun, 1 Mar 2020 20:54:43 +0100 Subject: [PATCH] Fix syntax error in image widths I get when building sahara this error: File ""/usr/lib/python3.6/site-packages/sphinx/writers/html5.py"", line 548, in visit_image atts['width'] = int(atts['width']) * scale ValueError: invalid literal for int() with base 10: '800px' As it turns out, the default is pixels anyway, so we don't need to add a type suffix. For scale to work, we need to specify both width and height for images, otherwise sphinx reports an error. Change-Id: If0f8383e37a8b1185a8a08b24c79b313fdcb498c --- doc/source/intro/architecture.rst | 5 +++-- doc/source/intro/overview.rst | 5 +++-- 2 files changed, 6 insertions(+), 4 deletions(-) diff --git a/doc/source/intro/architecture.rst b/doc/source/intro/architecture.rst index 608bede3..6ebd2c44 100644 --- a/doc/source/intro/architecture.rst +++ b/doc/source/intro/architecture.rst @@ -2,8 +2,9 @@ Architecture ============ .. image:: ../images/sahara-architecture.svg - :width: 800 px - :scale: 100 % + :width: 960 + :height: 635 + :scale: 83 % :align: left diff --git a/doc/source/intro/overview.rst b/doc/source/intro/overview.rst index 1560b417..6f121541 100644 --- a/doc/source/intro/overview.rst +++ b/doc/source/intro/overview.rst @@ -75,8 +75,9 @@ The sahara product communicates with the following OpenStack services: like passwords and private keys in a secure storage. .. image:: ../images/openstack-interop.png - :width: 800 px - :scale: 99 % + :width: 960 + :height: 720 + :scale: 83 % :align: left General Workflow -- 2.25.1 ",,58,0
openstack%2Frpm-packaging~stable%2Ftrain~I766543232a4c09c57b8f3184eaa202c2af8fb614,openstack/rpm-packaging,stable/train,I766543232a4c09c57b8f3184eaa202c2af8fb614,oslo.privsep: Add patch to fix tests with python 3.8,MERGED,2020-03-17 09:43:30.000000000,2020-03-17 12:09:21.000000000,2020-03-17 12:09:21.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 09:43:30.000000000', 'files': ['openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.privsep/0001-Disable-logger-validation-during-unit-testing.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bc7644a389602a32f7db1d25c0bda2cf87aa7f07', 'message': 'oslo.privsep: Add patch to fix tests with python 3.8\n\nChange-Id: I766543232a4c09c57b8f3184eaa202c2af8fb614\n'}]",0,713387,bc7644a389602a32f7db1d25c0bda2cf87aa7f07,9,5,1,7102,,,0,"oslo.privsep: Add patch to fix tests with python 3.8

Change-Id: I766543232a4c09c57b8f3184eaa202c2af8fb614
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/713387/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.privsep/0001-Disable-logger-validation-during-unit-testing.patch']",2,bc7644a389602a32f7db1d25c0bda2cf87aa7f07,,"From 52747777df8e239d1096a42479e9eb82bd62437e Mon Sep 17 00:00:00 2001 From: Dirk Mueller <dirk@dmllr.de> Date: Mon, 16 Mar 2020 23:08:51 +0100 Subject: [PATCH] Disable logger validation during unit testing The unit tests set format to ""dummy"", which gets rejected by Python 3.8 by default due to newly added validation here: https://github.com/python/cpython/commit/18fb1fb943b7dbd7f8a76017ee2a67ef13effb85 We can skip this and restore old behavior by disabling validation. Change-Id: I22ba9c4437787c3f338f17a0b006132b0dd09df5 --- oslo_privsep/tests/test_daemon.py | 3 +++ 1 file changed, 3 insertions(+) diff --git a/oslo_privsep/tests/test_daemon.py b/oslo_privsep/tests/test_daemon.py index f6e4d23..c2b3efd 100644 --- a/oslo_privsep/tests/test_daemon.py +++ b/oslo_privsep/tests/test_daemon.py @@ -18,6 +18,7 @@ import functools import logging as pylogging import mock import platform +import sys import time from oslo_log import formatters @@ -59,6 +60,8 @@ def logme(level, msg, exc_info=False): class LogRecorder(pylogging.Formatter): def __init__(self, logs, *args, **kwargs): + if sys.version_info >= (3, 8): + kwargs['validate'] = False super(LogRecorder, self).__init__(*args, **kwargs) self.logs = logs -- 2.25.1 ",,43,0
openstack%2Frpm-packaging~master~I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29,openstack/rpm-packaging,master,I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29,metalsmith: convert to python3,MERGED,2020-01-14 11:19:36.000000000,2020-03-17 12:02:08.000000000,2020-01-14 19:46:08.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-14 11:19:36.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b947cf3f54c7b89c7d851aca2ff347e3465bfb9b', 'message': 'metalsmith: convert to python3\n\nChange-Id: I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29\n'}]",0,702396,b947cf3f54c7b89c7d851aca2ff347e3465bfb9b,10,4,1,13294,,,0,"metalsmith: convert to python3

Change-Id: I0e0dfe8fc048ac0c979d5f2fc33f7ad62ca0ae29
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/96/702396/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/metalsmith/metalsmith.spec.j2'],1,b947cf3f54c7b89c7d851aca2ff347e3465bfb9b,,BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('openstacksdk') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n python3-metalsmith Summary: Bare metal provisioner using Ironic Requires: {{ py3('PrettyTable') }} Requires: {{ py3('openstacksdk') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} %description -n python3-metalsmith Simple Python library and CLI tool to provision bare metal machines using OpenStack Ironic. Requires: {{ py3('metalsmith') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-metalsmith%{_bindir}/metalsmith %{python3_sitelib}/metalsmith %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('openstacksdk', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('openstacksdk') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %ifpython2 Requires: {{ py2pkg('enum34') }} %endif %python_subpackagesRequires: {{ py2pkg('metalsmith') }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/metalsmith %post %{python_install_alternative metalsmith} %postun %python_uninstall_alternative metalsmith %python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/metalsmith %{python_sitelib}/metalsmith %{python_sitelib}/*.egg-info",28,42
openstack%2Fauto-scaling-sig~master~I8cdf68af722ee46de0c001b37f11e525f5364fe3,openstack/auto-scaling-sig,master,I8cdf68af722ee46de0c001b37f11e525f5364fe3,Add test job for autoscaling with heat and monasca,MERGED,2020-02-22 05:34:36.000000000,2020-03-17 11:57:48.000000000,2020-03-17 11:54:34.000000000,"[{'_account_id': 10311}, {'_account_id': 12404}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2020-02-22 05:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/54f7cdb9ecf23b4ff4e2169e8938a6f35d77fbfe', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 2, 'created': '2020-02-22 05:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/d78fdb7ceb00da88d2114892f446a2d13ea2dc0c', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 3, 'created': '2020-02-22 06:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/efc6419cff351231a05507dff1c676c95b77f03c', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 4, 'created': '2020-02-22 06:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/760344c299720957b8fb17e23be5e22166fa3e7e', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 5, 'created': '2020-02-22 07:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/b9e04a374569c2f2358b1fc2cc93e9269af69db8', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 6, 'created': '2020-02-22 07:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/1d858c3801ebd62d1618dd41aa0a4e3493108e6f', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 7, 'created': '2020-02-22 15:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/ff2b26dc956f68ea9c4a981e130e95060b95b087', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 8, 'created': '2020-02-22 20:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/b72c762440ea564d880739bda68d20067d5d6125', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 9, 'created': '2020-02-22 20:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/fd71fa88413704c5fff2a172bedea69841ea49f9', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 10, 'created': '2020-02-23 02:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/11137512251524319fa3f5012e1ac72a54a041d5', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 11, 'created': '2020-02-23 05:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/13ac5205334444f90816761fe498299720d5b29e', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 12, 'created': '2020-02-23 08:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/9795e0703b7593d34b7666ca9f1879c14d8af0fd', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 13, 'created': '2020-02-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/b23edc8730a92391cb5b689e04d7d83299aa0b77', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 14, 'created': '2020-02-24 01:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/405553230e15c722fbea00d9e9de4b5ecdab71b6', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nDepends-On: https://review.opendev.org/#/c/700876\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 15, 'created': '2020-02-25 10:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/897379132f945315e199f376e04bcc75b4e29f65', 'message': '[WIP] Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/709321/\nDepends-On: https://review.opendev.org/#/c/700876\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 16, 'created': '2020-02-25 17:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/abff1b49e2ce335ecefcb089f135eec0b215ae95', 'message': 'Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/700876\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 17, 'created': '2020-02-25 17:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/43998144f6035326d1229d47417044ead93a14fe', 'message': 'Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/700876\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 18, 'created': '2020-03-04 13:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/82b66609c8fc3a722cd1272d9c46a4a3cff5ca60', 'message': 'Add test job for autoscaling with heat and monasca\n\nDepends-On: https://review.opendev.org/#/c/700876\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}, {'number': 19, 'created': '2020-03-04 14:05:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/auto-scaling-sig/commit/e7235a800bcea2acbd05b20993cff895f9ecef40', 'message': 'Add test job for autoscaling with heat and monasca\n\nStory: 2005752\nTask: 38852\n\nChange-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3\n'}]",1,709278,e7235a800bcea2acbd05b20993cff895f9ecef40,49,5,19,12404,,,0,"Add test job for autoscaling with heat and monasca

Story: 2005752
Task: 38852

Change-Id: I8cdf68af722ee46de0c001b37f11e525f5364fe3
",git fetch https://review.opendev.org/openstack/auto-scaling-sig refs/changes/78/709278/17 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/devstack/heat-functional/run.yaml', 'playbooks/devstack/heat-functional/post.yaml']",3,54f7cdb9ecf23b4ff4e2169e8938a6f35d77fbfe,autoscaling-with-monasca,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,261,0
openstack%2Fkolla-ansible~master~I9a331fd4f894cd997f1ec6b3936be2fafc5bc538,openstack/kolla-ansible,master,I9a331fd4f894cd997f1ec6b3936be2fafc5bc538,Add kolla-ansible-ubuntu-source-arm64 experimental job,ABANDONED,2018-04-18 03:40:05.000000000,2020-03-17 11:33:06.000000000,,"[{'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 27790}, {'_account_id': 28003}]","[{'number': 1, 'created': '2018-04-18 03:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ea784e2bb668253cec455791ed630f7ed67e9d8', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 2, 'created': '2018-04-18 05:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9e94c52ba23149d4063f99630d52328b3f1c792', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 3, 'created': '2018-04-18 06:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b80308e07c2a450096bf28b2a5f808c7ffd7846f', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 4, 'created': '2018-04-19 03:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7db7f7a3d904d82875966af34f037d956a76b8c6', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 5, 'created': '2018-04-19 06:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d3b95f960e4b364ea1a58d6291a338c0ef7f6bf', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 6, 'created': '2018-04-19 09:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bc7bfb85eed7660660cc686e824029784de83ca', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 7, 'created': '2018-04-20 06:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a1f8229c6da2b7eb704d768841a3a7d15b3db3b', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 8, 'created': '2018-04-24 06:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc302bb7aa219ce8678e534e8307eaa24d1bde64', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 9, 'created': '2018-04-25 07:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cf0b966dea07c31c4bea8ff13fa3f9ea1770245', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 10, 'created': '2018-04-26 07:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8aa62406feb6408d45fcd7cbfb1a2a0e1203c9c', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 11, 'created': '2018-05-18 06:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/737389762caf79ac1ebf1b103bdc126bcbf5c3b1', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 12, 'created': '2018-05-18 06:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e99109b88a16f957be6009880b49621367a8940', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 13, 'created': '2018-05-18 07:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e267329691d24a7a6ef1473fcdae35e86dbe0424', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 14, 'created': '2018-07-18 06:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f29d05b9aae286dc472266fc2ff27c276d43c23', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 15, 'created': '2018-07-18 07:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75e596340bc1cceb2110db9b8d588a84bfb16f81', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}, {'number': 16, 'created': '2018-08-06 03:08:52.000000000', 'files': ['.zuul.yaml', 'tests/pre.yml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98b57d9c9c540813e04df77325ee252b3b3a3806', 'message': 'Add kolla-ansible-ubuntu-source-arm64 experimental job\n\n**just comment off the other jobs to spped up the testing\nof new jobs for arm64. When it is ready, I will revert the code**\n\nChange-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538\n'}]",4,562105,98b57d9c9c540813e04df77325ee252b3b3a3806,44,6,16,27790,,,0,"Add kolla-ansible-ubuntu-source-arm64 experimental job

**just comment off the other jobs to spped up the testing
of new jobs for arm64. When it is ready, I will revert the code**

Change-Id: I9a331fd4f894cd997f1ec6b3936be2fafc5bc538
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/562105/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9ea784e2bb668253cec455791ed630f7ed67e9d8,leg701, experimental: jobs: - kolla-ansible-ubuntu-source-arm64 name: kolla-ansible-xenial-arm64 nodes: - name: primary label: ubuntu-xenial-arm64 - nodeset: name: kolla-ansible-ubuntu-source-arm64 parent: kolla-ansible-base nodeset: kolla-ansible-xenial-arm64 voting: false vars: base_distro: ubuntu install_type: source - job:,,20,0
openstack%2Fkolla-ansible~stable%2Ftrain~I92ad0be70ed05925612f0c709907ab62280326b8,openstack/kolla-ansible,stable/train,I92ad0be70ed05925612f0c709907ab62280326b8,CI: Don't fail on expected critical log messages,MERGED,2020-03-16 14:29:57.000000000,2020-03-17 11:31:56.000000000,2020-03-17 11:29:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-16 14:29:57.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec5f1b2a9272cc550957b1ddb2e05d573a231383', 'message': ""CI: Don't fail on expected critical log messages\n\nThere is a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nRelated-bug: #1847727\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n(cherry picked from commit 2f7640d3965118a522b5fb18e66d5455ae132b87)\n""}]",0,713245,ec5f1b2a9272cc550957b1ddb2e05d573a231383,12,3,1,30491,,,0,"CI: Don't fail on expected critical log messages

There is a number of critical log messages that we see in CI from time
to time. While these should be fixed, let's not fail jobs unnecessarily.

This change introduces one expected critical message in
placement-api.log:

    Failed to fetch token data from identity server

Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Related-bug: #1847727
Change-Id: I92ad0be70ed05925612f0c709907ab62280326b8
(cherry picked from commit 2f7640d3965118a522b5fb18e66d5455ae132b87)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/713245/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,ec5f1b2a9272cc550957b1ddb2e05d573a231383,,"function filter_out_expected_critical { # $1: file # Filter out expected critical log messages that we do not want to fail the # job. case $1 in */placement-api.log) # Sometimes we see this during upgrade when keystone is down. grep -v ""Failed to fetch token data from identity server"" ;; *) # We have to provide some pass-through consumer to avoid: # grep: write error: Broken pipe # from check_file_for_level cat ;; esac } if check_file_for_level $f $level | filter_out_expected_critical $f >/dev/null; then any_critical=1 fi", any_critical=1,22,1
openstack%2Fkuryr-tempest-plugin~master~If0aaf748d13027b3d660aa0f74c4f6653e911250,openstack/kuryr-tempest-plugin,master,If0aaf748d13027b3d660aa0f74c4f6653e911250,Adapt namespace test to the kuryrnetwork CRD object,MERGED,2020-03-09 08:36:47.000000000,2020-03-17 11:12:11.000000000,2020-03-17 11:10:25.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-09 08:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/20262b13475e75580d20369087b700fb6ee87b18', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 2, 'created': '2020-03-10 10:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/656b2c59a21b148736645ec01d04bbd54807d8eb', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 3, 'created': '2020-03-10 11:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/af0e4959bc22ed13a03470cd65ad9e4f537d6da9', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 4, 'created': '2020-03-13 10:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e7bd0d6e110b4667ab4990b5cf561ff53083add9', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 5, 'created': '2020-03-13 12:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f7e5b4b7583530cd5272f09882bf515a391dc754', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 6, 'created': '2020-03-13 13:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7f698c08526fda436d70b103f32e744390808fb2', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 7, 'created': '2020-03-13 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/92f1409bb3d68e8ecf172d20db4026f100ff0636', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 8, 'created': '2020-03-16 08:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2bbb3d005f9723d023ea1c9e037a7d7576e0e67d', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 9, 'created': '2020-03-16 08:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a216c66d69c4ee127e08ce800e9721e478415fba', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}, {'number': 10, 'created': '2020-03-16 10:29:45.000000000', 'files': ['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fe61431318d89efe10e4177c098a76c9ef4731cb', 'message': 'Adapt namespace test to the kuryrnetwork CRD object\n\nChange-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250\n'}]",14,711874,fe61431318d89efe10e4177c098a76c9ef4731cb,57,6,10,23567,,,0,"Adapt namespace test to the kuryrnetwork CRD object

Change-Id: If0aaf748d13027b3d660aa0f74c4f6653e911250
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/74/711874/9 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,20262b13475e75580d20369087b700fb6ee87b18,ns-crd,"KURYR_NETWORK_CRD_PLURAL = 'kuryrnetworks' def get_kuryr_network_crds(cls, name, namespace): return cls.k8s_client.CustomObjectsApi().get_cluster_custom_object( group=KURYR_CRD_GROUP, version=KURYR_CRD_VERSION, namespace=namespace, plural=KURYR_NETWORK_CRD_PLURAL, name=name) @classmethod",,31,5
openstack%2Fnova~master~Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb,openstack/nova,master,Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb,Deprecate the vmwareapi driver,MERGED,2020-03-10 14:50:38.000000000,2020-03-17 10:55:52.000000000,2020-03-12 16:27:59.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5263}, {'_account_id': 5997}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20322}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25648}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27738}, {'_account_id': 29963}, {'_account_id': 31702}, {'_account_id': 31706}]","[{'number': 1, 'created': '2020-03-10 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0d2c09fc16d1dfe2f5c3758839ceccdd091656a', 'message': 'Deprecate the vmwareapi driver\n\nAs of now, questions on the mailing list are going unanswered, and the\nNova team does not have a clear representative owner for the driver\nto which bugs and other reports can be directed. There does not appear\nto be a CI system running tests for the driver anymore, and the latest\nindication from the community points to it being potentially broken with\ndevstack.\n\nThis patch starts the deprecation timer for the driver and/or serves\nas a flare to gauge interest (or lack thereof) in continuing to maintain\nthe driver.\n\nChange-Id: Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb\n'}, {'number': 2, 'created': '2020-03-10 15:09:39.000000000', 'files': ['nova/virt/vmwareapi/driver.py', 'releasenotes/notes/deprecate-vmware-ussuri-39e0215eca80ffd7.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d98d72828505d250698fcab7cd310820b3a52f7a', 'message': 'Deprecate the vmwareapi driver\n\nAs of now, questions on the mailing list are going unanswered, and the\nNova team does not have a clear representative owner for the driver\nto which bugs and other reports can be directed. There does not appear\nto be a CI system running tests for the driver anymore, and the latest\nindication from the community[1] points to it being potentially broken with\ndevstack.\n\nThis patch starts the deprecation timer for the driver and/or serves\nas a flare to gauge interest (or lack thereof) in continuing to maintain\nthe driver.\n\n1: http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013066.html\n\nChange-Id: Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb\n'}]",14,712101,d98d72828505d250698fcab7cd310820b3a52f7a,46,21,2,4393,,,0,"Deprecate the vmwareapi driver

As of now, questions on the mailing list are going unanswered, and the
Nova team does not have a clear representative owner for the driver
to which bugs and other reports can be directed. There does not appear
to be a CI system running tests for the driver anymore, and the latest
indication from the community[1] points to it being potentially broken with
devstack.

This patch starts the deprecation timer for the driver and/or serves
as a flare to gauge interest (or lack thereof) in continuing to maintain
the driver.

1: http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013066.html

Change-Id: Ie39e9605dc8cebff3795a29ea91dc08ee64a21eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/712101/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/driver.py'],1,b0d2c09fc16d1dfe2f5c3758839ceccdd091656a,deprecate-vmware, LOG.warning('The vmwareapi driver is deprecated and may be removed in' 'a future release. The driver is not tested by the ' 'OpenStack project nor does it have clear maintainer(s) ' 'and thus its quality can not be ensured. If you are ' 'using the driver in production please let us know in ' 'freenode IRC and/or the openstack-discuss mailing list.') ,,7,0
openstack%2Ftripleo-upgrade~master~I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,openstack/tripleo-upgrade,master,I50270b65f0053ce8aa47cb469e93a38a30bcf4d3,Pin API microversions depending on upgrade type,MERGED,2020-03-16 18:05:38.000000000,2020-03-17 10:32:50.000000000,2020-03-17 10:32:50.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-16 18:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3', 'message': 'Pin API microversions depending on upgrade type\n\nWhen we do a FFU upgrade, we need to pin to use a\ndifferent set of API microversions than if we do\na standard major upgrade.\n\nThis implements a different pin depending on the\naction.\n\nChange-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3\n'}, {'number': 2, 'created': '2020-03-16 20:50:16.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ce98947eb7d22262675335912f0f5cc179821e9b', 'message': 'Pin API microversions depending on upgrade type\n\nWhen we do a FFU upgrade, we need to pin to use a\ndifferent set of API microversions than if we do\na standard major upgrade.\n\nThis implements a different pin depending on the\naction.\n\nChange-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3\n'}]",0,713307,ce98947eb7d22262675335912f0f5cc179821e9b,8,3,2,6816,,,0,"Pin API microversions depending on upgrade type

When we do a FFU upgrade, we need to pin to use a
different set of API microversions than if we do
a standard major upgrade.

This implements a different pin depending on the
action.

Change-Id: I50270b65f0053ce8aa47cb469e93a38a30bcf4d3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/07/713307/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,2af1a865918c8288ed1ab1f2ab9ce8c25990a7a3,ffwd-upgrade2,{% if ffu_overcloud_upgrade | bool %} # Pin the API's to Queens max versions export OS_COMPUTE_API_VERSION=2.60 export OS_SHARE_API_VERSION=2.42 export OS_VOLUME_API_VERSION=3.50 {% elif overcloud_upgrade | bool %} # Pin the API's to Train max versions export OS_COMPUTE_API_VERSION=2.79 export OS_SHARE_API_VERSION=2.51 export OS_VOLUME_API_VERSION=3.59 {% endif %}, export OS_COMPUTE_API_VERSION=2.72,11,2
openstack%2Ftripleo-common~master~I25b6670f62e8702bba875fb0c4aa36b39a4c40b3,openstack/tripleo-common,master,I25b6670f62e8702bba875fb0c4aa36b39a4c40b3,Move swift tempurl creation functionality to utils,MERGED,2020-03-13 10:19:24.000000000,2020-03-17 10:32:43.000000000,2020-03-17 10:30:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-13 10:19:24.000000000', 'files': ['tripleo_common/tests/utils/test_swift.py', 'tripleo_common/tests/actions/test_swifthelper.py', 'tripleo_common/actions/swifthelper.py', 'tripleo_common/utils/swift.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/163addcaa820bce2bde7bd6eeb3022cec998bdfa', 'message': 'Move swift tempurl creation functionality to utils\n\nChange-Id: I25b6670f62e8702bba875fb0c4aa36b39a4c40b3\n'}]",0,712896,163addcaa820bce2bde7bd6eeb3022cec998bdfa,15,6,1,8833,,,0,"Move swift tempurl creation functionality to utils

Change-Id: I25b6670f62e8702bba875fb0c4aa36b39a4c40b3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/712896/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_swift.py', 'tripleo_common/tests/actions/test_swifthelper.py', 'tripleo_common/actions/swifthelper.py', 'tripleo_common/utils/swift.py']",4,163addcaa820bce2bde7bd6eeb3022cec998bdfa,mistral_to_ansible,"import uuidfrom six.moves import urllib from swiftclient import exceptions as swiftexceptionsfrom swiftclient.utils import generate_temp_url def get_temp_url(swift, container, object_name, method='GET', valid='86400'): try: cont_stat = swift.head_container(container) except swiftexceptions.ClientException: cont_stat = {} key = cont_stat.get('x-container-meta-temp-url-key') if not key: key = str(uuid.uuid4()) cont_stat = swift.put_container( container, {'X-Container-Meta-Temp-Url-Key': key}) parsed = urllib.parse.urlparse(swift.url) path = ""%s/%s/%s"" % (parsed.path, container, object_name) temp_path = generate_temp_url(path, valid, key, method) return ""%s://%s%s"" % (parsed.scheme, parsed.netloc, temp_path)",,58,59
openstack%2Fvalidations-libs~master~I97219a6b3ca2cff88b8871458466825e79736f77,openstack/validations-libs,master,I97219a6b3ca2cff88b8871458466825e79736f77,Remove mock as a test requirement and add PyYAML as requirement.,MERGED,2020-03-16 15:35:02.000000000,2020-03-17 10:29:10.000000000,2020-03-17 10:29:10.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-16 15:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1655ab51ff9c04ce1c2abcbae26c0edc8834dc4a', 'message': 'Remove mock as a test requirement\n\nNow that we have moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I97219a6b3ca2cff88b8871458466825e79736f77\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-03-16 16:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/91631dce39c96cdfe3f868412e05ff72b30bb12b', 'message': 'Remove mock as a test requirement\n\nNow that we have moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I97219a6b3ca2cff88b8871458466825e79736f77\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-03-17 05:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f3e8fbe2f7adcaf19a3d1fd50b8613873f709337', 'message': 'Remove mock as a test requirement and add PyYAML as requirement.\n\nNow that we have moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I97219a6b3ca2cff88b8871458466825e79736f77\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-03-17 09:11:16.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f2051ee2799126e261b43db8c1b76527771f586a', 'message': 'Remove mock as a test requirement and add PyYAML as requirement.\n\nNow that we have moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I97219a6b3ca2cff88b8871458466825e79736f77\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,713273,f2051ee2799126e261b43db8c1b76527771f586a,17,4,4,11491,,,0,"Remove mock as a test requirement and add PyYAML as requirement.

Now that we have moved to py36 and later runtimes, we no longer
need to use the third party mock library and can only use the standard
library unittest.mock instead.

Change-Id: I97219a6b3ca2cff88b8871458466825e79736f77
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/73/713273/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,1655ab51ff9c04ce1c2abcbae26c0edc8834dc4a,,,mock==2.0.0,0,2
openstack%2Ftripleo-heat-templates~master~Iee243943cc63ad5d004745df578e7330d94aedab,openstack/tripleo-heat-templates,master,Iee243943cc63ad5d004745df578e7330d94aedab,Migrate scenario001 to haproxy/pacemaker,ABANDONED,2019-08-23 13:24:50.000000000,2020-03-17 10:20:51.000000000,,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-23 13:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25241973ed7fb136d56b1c013e09eee2c2070c02', 'message': 'Migrate scenario001 to haproxy/pacemaker\n\nBecause why not?\n\nChange-Id: Iee243943cc63ad5d004745df578e7330d94aedab\n'}, {'number': 2, 'created': '2019-09-30 21:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b63c9d6942da060cb3aaa9025ed0e96bbb3d3bd2', 'message': 'Migrate scenario001 to haproxy/pacemaker\n\nBecause why not?\n\nChange-Id: Iee243943cc63ad5d004745df578e7330d94aedab\n'}, {'number': 3, 'created': '2019-09-30 21:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a75937850d2ba98fb3d05c847af9a7b6115df102', 'message': 'Migrate scenario001 to haproxy/pacemaker\n\nWe want to test haproxy frontend for services like CephDashboard\nwhich are only deployed in scenario001\n\nDepends-On: Id13ff8bf1d896a039dc29e0db7d36d48c3186bff\nChange-Id: Iee243943cc63ad5d004745df578e7330d94aedab\n'}, {'number': 4, 'created': '2019-10-11 09:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8b0d7fff649a3dd60cb418d7471f737cb17ca60', 'message': 'Migrate scenario001 to haproxy/pacemaker\n\nWe want to test haproxy frontend for services like CephDashboard\nwhich are only deployed in scenario001\n\nChange-Id: Iee243943cc63ad5d004745df578e7330d94aedab\n'}, {'number': 5, 'created': '2019-10-11 09:42:55.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/361add0dc17964ec24571037d08c1b96eca5d4eb', 'message': 'Migrate scenario001 to haproxy/pacemaker\n\nWe want to test haproxy frontend for services like CephDashboard\nwhich are only deployed in scenario001\n\nChange-Id: Iee243943cc63ad5d004745df578e7330d94aedab\n'}]",4,678224,361add0dc17964ec24571037d08c1b96eca5d4eb,31,7,5,6796,,,0,"Migrate scenario001 to haproxy/pacemaker

We want to test haproxy frontend for services like CephDashboard
which are only deployed in scenario001

Change-Id: Iee243943cc63ad5d004745df578e7330d94aedab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/678224/3 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,25241973ed7fb136d56b1c013e09eee2c2070c02,, OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::CinderBackup: ../../deployment/cinder/cinder-backup-pacemaker-puppet.yaml OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-pacemaker-puppet.yaml # These are added to deploy with HAproxy and Pacemaker OS::TripleO::Services::Keepalived: OS::Heat::None OS::TripleO::Services::HAproxy: ../../deployment/haproxy/haproxy-pacemaker-puppet.yaml OS::TripleO::Services::Pacemaker: ../../deployment/pacemaker/pacemaker-baremetal-puppet.yaml OS::TripleO::Services::PacemakerRemote: ../../deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml OS::TripleO::Services::Clustercheck: ../../deployment/pacemaker/clustercheck-container-puppet.yaml OS::TripleO::Services::MySQL: ../../deployment/database/mysql-pacemaker-puppet.yaml , OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml OS::TripleO::Services::CinderBackup: ../../deployment/cinder/cinder-backup-container-puppet.yaml OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-container-puppet.yaml,12,4
openstack%2Fdevstack~master~Iff271eabcf1a39d6bf6c1fcd55ff2749cab2373f,openstack/devstack,master,Iff271eabcf1a39d6bf6c1fcd55ff2749cab2373f,Use py3 version of Tempest Multinode job,MERGED,2020-03-15 23:24:39.000000000,2020-03-17 10:17:29.000000000,2020-03-17 10:14:42.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-15 23:24:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d22a8bcb1fdcc8d6ddbd59c8ae0223a3eb33c2ed', 'message': 'Use py3 version of Tempest Multinode job\n\ntempest-multinode-full is py2 job and not needed to\nrun on ussuri onwards. Chaning this to its py3\nversion tempest-multinode-full-py3\n\nChange-Id: Iff271eabcf1a39d6bf6c1fcd55ff2749cab2373f\n'}]",0,713149,d22a8bcb1fdcc8d6ddbd59c8ae0223a3eb33c2ed,10,3,1,8556,,,0,"Use py3 version of Tempest Multinode job

tempest-multinode-full is py2 job and not needed to
run on ussuri onwards. Chaning this to its py3
version tempest-multinode-full-py3

Change-Id: Iff271eabcf1a39d6bf6c1fcd55ff2749cab2373f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/713149/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d22a8bcb1fdcc8d6ddbd59c8ae0223a3eb33c2ed,, - tempest-multinode-full-py3:, - tempest-multinode-full:,1,1
openstack%2Fcharm-deployment-guide~master~Iedfe3895a0984c063ba1ebe2769f7f57bf8da82d,openstack/charm-deployment-guide,master,Iedfe3895a0984c063ba1ebe2769f7f57bf8da82d,Fix relation endpoint in manila-ganesha bundle,MERGED,2020-03-16 17:08:31.000000000,2020-03-17 10:13:51.000000000,2020-03-17 10:12:31.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 17:08:31.000000000', 'files': ['deploy-guide/source/app-manila-ganesha.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/546c232d47d0eca264f366a5e8cda4c0945a9ea4', 'message': 'Fix relation endpoint in manila-ganesha bundle\n\nCloses-Bug: #1867149\n\nChange-Id: Iedfe3895a0984c063ba1ebe2769f7f57bf8da82d\n'}]",0,713292,546c232d47d0eca264f366a5e8cda4c0945a9ea4,7,2,1,30561,,,0,"Fix relation endpoint in manila-ganesha bundle

Closes-Bug: #1867149

Change-Id: Iedfe3895a0984c063ba1ebe2769f7f57bf8da82d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/92/713292/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-manila-ganesha.rst'],1,546c232d47d0eca264f366a5e8cda4c0945a9ea4,bug/1867149, - keystone:identity-credentials, - keystone:identity-service,1,1
openstack%2Fvalidations-libs~master~I57ca3d18397c7fbdb084b06224d7cab3d4592d30,openstack/validations-libs,master,I57ca3d18397c7fbdb084b06224d7cab3d4592d30,Add validations show functions,MERGED,2020-03-16 09:47:05.000000000,2020-03-17 10:12:47.000000000,2020-03-17 10:12:47.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 09:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4e3c79c69b9fc38049a6a75e6ad8f36febf2af8f', 'message': 'Add validations show functions\n\nThis review add functionnalities to parse and show\nvalidations output as dict with the required format\n\nChange-Id: I57ca3d18397c7fbdb084b06224d7cab3d4592d30\n'}, {'number': 2, 'created': '2020-03-16 12:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/90ab3c77a63bfd5983ef826056a6d4744e4a5e23', 'message': 'Add validations show functions\n\nThis review add functionnalities to parse and show\nvalidations output as dict with the required format\n\nChange-Id: I57ca3d18397c7fbdb084b06224d7cab3d4592d30\n'}, {'number': 3, 'created': '2020-03-17 04:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f3d21b8e2bc1078c90bd2d511e1997ef6c341c2a', 'message': 'Add validations show functions\n\nThis review add functionnalities to parse and show\nvalidations output as dict with the required format\n\nChange-Id: I57ca3d18397c7fbdb084b06224d7cab3d4592d30\n'}, {'number': 4, 'created': '2020-03-17 09:54:34.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/tests/test_validations_show.py', 'validations_libs/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d2c91c80809b449c1247c8c281339df13a41563d', 'message': 'Add validations show functions\n\nThis review add functionnalities to parse and show\nvalidations output as dict with the required format\n\nChange-Id: I57ca3d18397c7fbdb084b06224d7cab3d4592d30\n'}]",2,713181,d2c91c80809b449c1247c8c281339df13a41563d,14,2,4,16515,,,0,"Add validations show functions

This review add functionnalities to parse and show
validations output as dict with the required format

Change-Id: I57ca3d18397c7fbdb084b06224d7cab3d4592d30
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/81/713181/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/show.py', 'validations_libs/utils.py']",2,4e3c79c69b9fc38049a6a75e6ad8f36febf2af8f,validations/show/output,"import time def parse_all_validations_logs_on_disk(uuid_run=None, validation_id=None): results = [] path = constants.VALIDATIONS_LOG_BASEDIR logfile = ""{}/*.json"".format(path) if validation_id: logfile = ""{}/*_{}_*.json"".format(path, validation_id) if uuid_run: logfile = ""{}/*_{}_*.json"".format(path, uuid_run) logfiles_path = glob.glob(logfile) for logfile_path in logfiles_path: with open(logfile_path, 'r') as log: contents = json.load(log) results.append(contents) return results def get_validations_details(validation): results = parse_all_validations_on_disk(constants.ANSIBLE_VALIDATION_DIR) for r in results: if r['id'] == validation: return r return [] def get_validations_data(validation): data = {} col_keys = ['ID', 'Name', 'Description', 'Groups'] if isinstance(validation, dict): for key in validation.keys(): if key in map(str.lower, col_keys): for k in col_keys: if key == k.lower(): output_key = k data[output_key] = validation.get(key) else: # Get all other values: data[key] = validation.get(key) return data def get_validations_stats(log): # Get validation stats if isinstance(log, list): total_number = len(log) failed_number = 0 passed_number = 0 last_execution = None dates = [] for l in log: if l.get('validation_output'): failed_number += 1 else: passed_number += 1 date_time = \ l['plays'][0]['play']['duration'].get('start').split('T') date_start = date_time[0] time_start = date_time[1].split('Z')[0] newdate = \ time.strptime(date_start + time_start, '%Y-%m-%d%H:%M:%S.%f') dates.append(newdate) if dates: last_execution = time.strftime('%Y-%m-%d %H:%M:%S', max(dates)) return {""Last execution date"": last_execution, ""Number of execution"": ""Total: {}, Passed: {}, "" ""Failed: {}"".format(total_number, passed_number, failed_number)}","def parse_all_validations_logs_on_disk(uuid_run=None, validation_id=None): results = [] path = constants.VALIDATIONS_LOG_BASEDIR logfile = ""{}/*.json"".format(path) if validation_id: logfile = ""{}/*_{}_*.json"".format(path, validation_id) if uuid_run: logfile = ""{}/*_{}_*.json"".format(path, uuid_run) logfiles_path = glob.glob(logfile) for logfile_path in logfiles_path: with open(logfile_path, 'r') as log: contents = json.load(log) results.append(contents) return results ",114,21
openstack%2Frpm-packaging~master~Ib8233254bfbbc90394921a5b83c84b6df25de6da,openstack/rpm-packaging,master,Ib8233254bfbbc90394921a5b83c84b6df25de6da,update osprofiler to 3.0.0,MERGED,2020-03-13 07:20:29.000000000,2020-03-17 10:01:43.000000000,2020-03-17 10:01:43.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 07:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/88ac14e37ccc8f556d42b6928f25de77fae16ae7', 'message': 'update osprofiler to 3.0.0\n\nChange-Id: Ib8233254bfbbc90394921a5b83c84b6df25de6da\n'}, {'number': 2, 'created': '2020-03-16 21:09:07.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5bed51e70660005339e7ee08166a8d16bc0d7349', 'message': 'update osprofiler to 3.0.0\n\nChange-Id: Ib8233254bfbbc90394921a5b83c84b6df25de6da\n'}]",0,712845,5bed51e70660005339e7ee08166a8d16bc0d7349,14,5,2,28654,,,0,"update osprofiler to 3.0.0

Change-Id: Ib8233254bfbbc90394921a5b83c84b6df25de6da
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/45/712845/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osprofiler/osprofiler.spec.j2'],1,88ac14e37ccc8f556d42b6928f25de77fae16ae7,osprofiler,{% set upstream_version = upstream_version('3.0.0') %},{% set upstream_version = upstream_version('2.9.0') %},1,1
openstack%2Frpm-packaging~stable%2Ftrain~Ifb5c249788c2384bf70d25e7c3c947fbc347a984,openstack/rpm-packaging,stable/train,Ifb5c249788c2384bf70d25e7c3c947fbc347a984,heat-agents: fix shebangs,MERGED,2020-03-16 17:38:44.000000000,2020-03-17 10:01:42.000000000,2020-03-17 10:01:42.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 17:38:44.000000000', 'files': ['openstack/heat-agents/heat-agents.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/86cac5a1da9a3d2df5fb4c84beffc4a201830eee', 'message': 'heat-agents: fix shebangs\n\nWe need to make sure the python shebangs using ""/usr/bin/env python""\nare changed to ""/usr/bin/python3"", otherwise the build process will\nfail on CentOS 8.\n\nChange-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984\n(cherry picked from commit 8672c8b8795cd2b26216447f982ac5a9662d8812)\n'}]",0,713298,86cac5a1da9a3d2df5fb4c84beffc4a201830eee,9,5,1,13294,,,0,"heat-agents: fix shebangs

We need to make sure the python shebangs using ""/usr/bin/env python""
are changed to ""/usr/bin/python3"", otherwise the build process will
fail on CentOS 8.

Change-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984
(cherry picked from commit 8672c8b8795cd2b26216447f982ac5a9662d8812)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/98/713298/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-agents/heat-agents.spec.j2'],1,86cac5a1da9a3d2df5fb4c84beffc4a201830eee,remove-python2-stable/train,"# Replace ""env python"" shebag to the correct python executable # if we don't do that brp-mangle-shebangs will choke on CentOS 8 for python_script in $(grep ""%{_bindir}/env python"" . -rl) do sed -i ""s#%{_bindir}/env python.*#%{_bindir}/python3#g"" $python_script done ",,7,0
openstack%2Ftripleo-upgrade~master~I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f,openstack/tripleo-upgrade,master,I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f,Add python2-requests back into skip removal.,MERGED,2020-03-16 11:54:44.000000000,2020-03-17 09:49:44.000000000,2020-03-16 21:32:23.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 11:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2390f5133f7e1d9f09263c79f529b146daebe410', 'message': ""Add python2-requests back into skip removal.\n\nWhen upgrading the Undercloud's operating system we need to\navoid the removal of python2-requests as that's a dependency\nfor leapp.\n\nChange-Id: I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f\n""}, {'number': 2, 'created': '2020-03-16 11:55:33.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/775238edcc23dff5b3dd0b782aec73717bd58885', 'message': ""Add python2-requests back into skip removal.\n\nWhen upgrading the Undercloud's operating system we need to\navoid the removal of python2-requests as that's a dependency\nfor leapp.\n\nChange-Id: I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f\n""}]",0,713203,775238edcc23dff5b3dd0b782aec73717bd58885,13,4,2,26343,,,0,"Add python2-requests back into skip removal.

When upgrading the Undercloud's operating system we need to
avoid the removal of python2-requests as that's a dependency
for leapp.

Change-Id: I6a0308bd504418fb8a92e8dbfd19786f9b92ff0f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/03/713203/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,2390f5133f7e1d9f09263c79f529b146daebe410,ffwd-upgrade2, -python2-requests,,1,0
openstack%2Ftripleo-upgrade~master~I4601e9d32ea3cd29a8f80189984e0259d3f29cf4,openstack/tripleo-upgrade,master,I4601e9d32ea3cd29a8f80189984e0259d3f29cf4,Add needed parameters in containers-prepare-parameters for FFWD2.,MERGED,2020-03-12 18:07:22.000000000,2020-03-17 09:49:31.000000000,2020-03-16 21:32:30.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 18:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8a7930f7cdb339a9ceac94e086075d264f163a3b', 'message': 'Add needed parameters in containers-prepare-parameters for FFWD2.\n\nWe need to include few parameters in the containers-prepare-parameters.yaml\nfile to be able to perform the upgrade from Queens to Train, one set is the\nceph3_namespace parameters and the other one the Stein namespace ones. So\nfar they are being hardcoded in the parameters default, so it is possible\nto override them if needed.\n\nChange-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4\n'}, {'number': 2, 'created': '2020-03-12 20:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a13e7e22eb539e0deb6cd3adb047a91e5c6e4d47', 'message': 'Add needed parameters in containers-prepare-parameters for FFWD2.\n\nWe need to include few parameters in the containers-prepare-parameters.yaml\nfile to be able to perform the upgrade from Queens to Train, one set is the\nceph3_namespace parameters and the other one the Stein namespace ones. So\nfar they are being hardcoded in the parameters default, so it is possible\nto override them if needed.\n\nChange-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4\n'}, {'number': 3, 'created': '2020-03-13 15:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b8b67710696fc3662c4c6f33e7a4f5c7d9d19187', 'message': 'Add needed parameters in containers-prepare-parameters for FFWD2.\n\nWe need to include few parameters in the containers-prepare-parameters.yaml\nfile to be able to perform the upgrade from Queens to Train, one set is the\nceph3_namespace parameters and the other one the Stein namespace ones. So\nfar they are being hardcoded in the parameters default, so it is possible\nto override them if needed.\n\nChange-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4\n'}, {'number': 4, 'created': '2020-03-13 16:28:57.000000000', 'files': ['tasks/common/configure_uc_containers.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fb48a1fe68e1542e4191615e79abd057a8864495', 'message': 'Add needed parameters in containers-prepare-parameters for FFWD2.\n\nWe need to include few parameters in the containers-prepare-parameters.yaml\nfile to be able to perform the upgrade from Queens to Train, one set is the\nceph3_namespace parameters and the other one the Stein namespace ones. So\nfar they are being hardcoded in the parameters default, so it is possible\nto override them if needed.\n\nChange-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4\n'}]",0,712754,fb48a1fe68e1542e4191615e79abd057a8864495,13,4,4,26343,,,0,"Add needed parameters in containers-prepare-parameters for FFWD2.

We need to include few parameters in the containers-prepare-parameters.yaml
file to be able to perform the upgrade from Queens to Train, one set is the
ceph3_namespace parameters and the other one the Stein namespace ones. So
far they are being hardcoded in the parameters default, so it is possible
to override them if needed.

Change-Id: I4601e9d32ea3cd29a8f80189984e0259d3f29cf4
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/54/712754/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/configure_uc_containers.yml', 'defaults/main.yml']",2,8a7930f7cdb339a9ceac94e086075d264f163a3b,ffwd-upgrade2," # ceph registry parameters ceph3_registry_params: ceph3_namespace: ""registry.access.redhat.com/rhceph"" ceph3_image: ""rhceph-3-rhel7"" ceph3_tag: ""3-40"" # stein registry parameters stein_registry_params: namespace_stein: ""registry-proxy.engineering.redhat.com/rh-osbs"" tag_stein: ""20200115.1""",,29,0
openstack%2Frpm-packaging~master~I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e,openstack/rpm-packaging,master,I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e,"os-xenapi: use stestr instead of os-testr, disable doc build",MERGED,2020-02-13 15:43:08.000000000,2020-03-17 09:49:29.000000000,2020-02-14 09:05:22.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 15:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/da76512852d56fc984afece6d25d771aee966111', 'message': 'os-xenapi: use stestr instead of os-testr\n\nAll OpenStack projects have migrated from os-testr to stestr, and\nos-xenapi is a notable exception. We can use stestr anyway to run\nunit tests, removing the need for os-testr as a build requirement.\n\nChange-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e\n'}, {'number': 2, 'created': '2020-02-13 17:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bdb1cb79fb73c2267ced1ff87e282d736fe8d4f4', 'message': ""os-xenapi: use stestr instead of os-testr, disable doc build\n\nAll OpenStack projects have migrated from os-testr to stestr, and\nos-xenapi is a notable exception. We can use stestr anyway to run\nunit tests, removing the need for os-testr as a build requirement.\n\nAlso, os-xenapi still requires oslosphinx to build its\ndocumentation. Let's disable doc builds, since this package is not\nin Ussuri for the SUSE CI.\n\nChange-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e\n""}, {'number': 3, 'created': '2020-02-14 06:26:09.000000000', 'files': ['openstack/os-xenapi/os-xenapi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5ae343cd0421798bc1575208c6c7bb9bdf89ec8f', 'message': ""os-xenapi: use stestr instead of os-testr, disable doc build\n\nAll OpenStack projects have migrated from os-testr to stestr, and\nos-xenapi is a notable exception. We can use stestr anyway to run\nunit tests, removing the need for os-testr as a build requirement.\n\nAlso, os-xenapi still requires oslosphinx to build its\ndocumentation. Let's disable doc builds, since this package is not\nin Ussuri for the SUSE CI.\n\nChange-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e\n""}]",0,707672,5ae343cd0421798bc1575208c6c7bb9bdf89ec8f,20,6,3,13294,,,0,"os-xenapi: use stestr instead of os-testr, disable doc build

All OpenStack projects have migrated from os-testr to stestr, and
os-xenapi is a notable exception. We can use stestr anyway to run
unit tests, removing the need for os-testr as a build requirement.

Also, os-xenapi still requires oslosphinx to build its
documentation. Let's disable doc builds, since this package is not
in Ussuri for the SUSE CI.

Change-Id: I1e947af2da0c1f81b4c9ab186cb8afa04d427e4e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/707672/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-xenapi/os-xenapi.spec.j2'],1,da76512852d56fc984afece6d25d771aee966111,,BuildRequires: {{ py3('stestr') }}python3 -m stestr.cli run --test-path ./os_xenapi/tests --black-regex 'os_xenapi.tests.plugins.*',BuildRequires: {{ py3('os-testr') }}ostestr --blacklist_file exclusion_py3.txt --concurrency 1,2,2
openstack%2Frpm-packaging~master~I766543232a4c09c57b8f3184eaa202c2af8fb614,openstack/rpm-packaging,master,I766543232a4c09c57b8f3184eaa202c2af8fb614,oslo.privsep: Add patch to fix tests with python 3.8,MERGED,2020-03-16 22:13:58.000000000,2020-03-17 09:49:18.000000000,2020-03-17 09:49:18.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 22:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0d5eb9fba8fa64c9f9bc1daaad450529c0264cf1', 'message': 'oslo.privsep: Add patch to fix tests with python 3.8\n\nChange-Id: I766543232a4c09c57b8f3184eaa202c2af8fb614\n'}, {'number': 2, 'created': '2020-03-17 07:40:53.000000000', 'files': ['openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.privsep/0001-Disable-logger-validation-during-unit-testing.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4d0771a29018694d16ef3efd6b2417bee6fa476e', 'message': 'oslo.privsep: Add patch to fix tests with python 3.8\n\nChange-Id: I766543232a4c09c57b8f3184eaa202c2af8fb614\n'}]",0,713338,4d0771a29018694d16ef3efd6b2417bee6fa476e,16,5,2,6593,,,0,"oslo.privsep: Add patch to fix tests with python 3.8

Change-Id: I766543232a4c09c57b8f3184eaa202c2af8fb614
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/38/713338/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.privsep/0001-Disable-logger-validation-during-unit-testing.patch']",2,0d5eb9fba8fa64c9f9bc1daaad450529c0264cf1,,"From 73704c58634ce0437a093a6f4beb353fbcce2c96 Mon Sep 17 00:00:00 2001 From: Dirk Mueller <dirk@dmllr.de> Date: Mon, 16 Mar 2020 23:08:51 +0100 Subject: [PATCH] Disable logger validation during unit testing The unit tests set format to ""dummy"", which gets rejected by Python 3.8 by default due to newly added validation here: https://github.com/python/cpython/commit/18fb1fb943b7dbd7f8a76017ee2a67ef13effb85 We can skip this and restore old behavior by disabling validation. Change-Id: I22ba9c4437787c3f338f17a0b006132b0dd09df5 --- oslo_privsep/tests/test_daemon.py | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) diff --git a/oslo_privsep/tests/test_daemon.py b/oslo_privsep/tests/test_daemon.py index f6e4d23..ffb4dda 100644 --- a/oslo_privsep/tests/test_daemon.py +++ b/oslo_privsep/tests/test_daemon.py @@ -59,7 +59,7 @@ def logme(level, msg, exc_info=False): class LogRecorder(pylogging.Formatter): def __init__(self, logs, *args, **kwargs): - super(LogRecorder, self).__init__(*args, **kwargs) + super(LogRecorder, self).__init__(*args, **kwargs, validate=False) self.logs = logs def format(self, record): -- 2.25.1 ",,35,0
openstack%2Frpm-packaging~master~I11c136c06cf4d49a307fdde5d921efbc076fcada,openstack/rpm-packaging,master,I11c136c06cf4d49a307fdde5d921efbc076fcada,renderspec: Update to 2.0.0,MERGED,2020-03-17 09:05:54.000000000,2020-03-17 09:49:07.000000000,2020-03-17 09:49:07.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 09:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5a6a18d7040ed3d7ec561e58fb48ca9ee18593af', 'message': 'renderspec: Update to 2.0.0\n\nChange-Id: I11c136c06cf4d49a307fdde5d921efbc076fcada\n'}, {'number': 2, 'created': '2020-03-17 09:08:18.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bfead30ab029cb68b9946f6eba091e53ce21638a', 'message': 'renderspec: Update to 2.0.0\n\nDepends-On: https://review.opendev.org/#/c/713370/\nChange-Id: I11c136c06cf4d49a307fdde5d921efbc076fcada\n'}]",0,713383,bfead30ab029cb68b9946f6eba091e53ce21638a,15,5,2,7102,,,0,"renderspec: Update to 2.0.0

Depends-On: https://review.opendev.org/#/c/713370/
Change-Id: I11c136c06cf4d49a307fdde5d921efbc076fcada
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/713383/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,5a6a18d7040ed3d7ec561e58fb48ca9ee18593af,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.12.0') %},1,1
openstack%2Frpm-packaging~stable%2Ftrain~Ic12d35b60cffcca6d31073bddd28d519f15a07b9,openstack/rpm-packaging,stable/train,Ic12d35b60cffcca6d31073bddd28d519f15a07b9,pyghmi: Fix requires for python 3.x package,MERGED,2020-03-17 05:16:58.000000000,2020-03-17 09:49:06.000000000,2020-03-17 09:49:06.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-17 05:16:58.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/24392de4e882a6c3b175f19c66c962b1a790a439', 'message': 'pyghmi: Fix requires for python 3.x package\n\nWe need to add the requires not to the main package (which\nis not being built) but to the python 3.x subpackage\n\nChange-Id: Ic12d35b60cffcca6d31073bddd28d519f15a07b9\n'}]",0,713371,24392de4e882a6c3b175f19c66c962b1a790a439,9,5,1,7102,,,0,"pyghmi: Fix requires for python 3.x package

We need to add the requires not to the main package (which
is not being built) but to the python 3.x subpackage

Change-Id: Ic12d35b60cffcca6d31073bddd28d519f15a07b9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/71/713371/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,24392de4e882a6c3b175f19c66c962b1a790a439,,Requires: {{ py3('python-dateutil') }} Requires: {{ py3('six') }},,2,0
openstack%2Fnova~master~Ida7fda578fc83909f204dc22d640f2c71df8245d,openstack/nova,master,Ida7fda578fc83909f204dc22d640f2c71df8245d,address specific resources cleanup issue,ABANDONED,2019-12-16 03:13:54.000000000,2020-03-17 09:15:39.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27957}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-16 03:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/224e9854e677123b7beb16ad44d14dd0288a3920', 'message': ""address specific resources cleanup issue\n\nSince we introduced objects.Instance.resources to store specific\nresources and objects.MigrationContext.new/old_resources for\nmigration, which may need cleanup correctly based on instance obj\nwhen destroy/cleanup invoked, we add parameter 'host' to driver\ninterface to tell if this cleanup/destroy is on source host or target\nhost. This will be useful when live migration rollback.\n\nBesides, we set instance.host when apply/revert migration context,\nalways keeping them consistent, then we won't cleanup wrong resources.\nConsider that an instance is deleted during migrating, the instance.host\nis set to destination host but instance.resources is old_resoures on\nsource host. Then when destroy this deleted instance in periodic task\n_cleanup_running_deleted_instances(), it will cleanup wrong resources,\nsuch as vpmems, since these resources are claimed on source host.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\n""}, {'number': 2, 'created': '2019-12-16 06:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d687c52a6897fcb62f0e2aebc2b33635de3f97', 'message': ""address specific resources cleanup issue\n\nSince we introduced objects.Instance.resources to store specific\nresources and objects.MigrationContext.new/old_resources for\nmigration, which may need cleanup correctly based on instance obj\nwhen destroy/cleanup invoked, we add parameter 'host' to driver\ninterface to tell if this cleanup/destroy is on source host or target\nhost. This will be useful when live migration rollback.\n\nBesides, we set instance.host when apply/revert migration context,\nalways keeping them consistent, then we won't cleanup wrong resources.\nConsider that an instance is deleted during migrating, the instance.host\nis set to destination host but instance.resources is old_resoures on\nsource host. Then when destroy this deleted instance in periodic task\n_cleanup_running_deleted_instances(), it will cleanup wrong resources,\nsuch as vpmems, since these resources are claimed on source host.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 3, 'created': '2019-12-16 08:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53646ce898ceee379ee9a9601d3f263e24974911', 'message': ""address specific resources cleanup issue\n\nSince we introduced objects.Instance.resources to store specific\nresources and objects.MigrationContext.new/old_resources for\nmigration, which may need cleanup correctly based on instance obj\nwhen destroy/cleanup invoked, we add parameter 'host' to driver\ninterface to tell if this cleanup/destroy is on source host or target\nhost. This will be useful when live migration rollback.\n\nBesides, we set instance.host when apply/revert migration context,\nalways keeping them consistent, then we won't cleanup wrong resources.\nConsider that an instance is deleted during migrating, the instance.host\nis set to destination host but instance.resources is old_resoures on\nsource host. Then when destroy this deleted instance in periodic task\n_cleanup_running_deleted_instances(), it will cleanup wrong resources,\nsuch as vpmems, since these resources are claimed on source host.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 4, 'created': '2019-12-25 09:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b4fc25132c353aa0927151b412acdb83d9a6d3e', 'message': ""address specific resources cleanup issue\n\nSince we introduced objects.Instance.resources to store specific\nresources and objects.MigrationContext.new/old_resources for\nmigration, which may need cleanup correctly based on instance obj\nwhen destroy/cleanup invoked, we add parameter 'host' to driver\ninterface to tell if this cleanup/destroy is on source host or target\nhost, and we introduce another driver interface cleanup_specific_resources\nused to be called seperately. This will be useful to support live migration\nwith vpmem.\n\nBesides, we set instance.host when apply/revert migration context,\nalways keeping them consistent, then we won't cleanup wrong resources.\nConsider that an instance is deleted during migrating, the instance.host\nis set to destination host but instance.resources is old_resoures on\nsource host. Then when destroy this deleted instance in periodic task\n_cleanup_running_deleted_instances(), it will cleanup wrong resources,\nsuch as vpmems, since these resources are claimed on source host.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 5, 'created': '2020-02-18 12:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/270dc48e0b42d131920a9a97eec71017ac815bf4', 'message': ""address specific resources cleanup issue\n\nWe introduced objects.Instance.resources to store specific resources, for an\ninstance in migrating, we have objects.MigrationContext.new/old_resources.\nUntil now we only treat vpmem as specific resources.\n\nTo address the cleanup issue, we add parameter 'host' to destroy and cleanup\ninterface to tell if this cleanup/destroy is on source host or target,\nif 'host' is not set, we do cleanup based on objects.Instance.resources\nby default. Also we will introduce another driver interface\ncleanup_specific_resources used to be called seperately. This will be useful\nto support live migration with vpmem.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 6, 'created': '2020-02-19 01:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b8cb4ed48be51ac7d30134eb313cdabe681b5f', 'message': ""address specific resources cleanup issue\n\nWe introduced objects.Instance.resources to store specific resources, for an\ninstance in migrating, we have objects.MigrationContext.new/old_resources.\nUntil now we only treat vpmem as specific resources.\n\nTo address the cleanup issue, we add parameter 'host' to destroy and cleanup\ninterface to tell if this cleanup/destroy is on source host or target,\nif 'host' is not set, we do cleanup based on objects.Instance.resources\nby default. Also we will introduce another driver interface\ncleanup_specific_resources used to be called seperately. This will be useful\nto support live migration with vpmem.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 7, 'created': '2020-03-02 10:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2652404cb691ebf23f2b1010fc55d3273a5fea9b', 'message': ""address specific resources cleanup issue\n\nWe introduced objects.Instance.resources to store specific resources, for an\ninstance in migrating, we have objects.MigrationContext.new/old_resources.\nUntil now we only treat vpmem as specific resources.\n\nTo address the cleanup issue, we add parameter 'host' to destroy and cleanup\ninterface to tell if this cleanup/destroy is on source host or target,\nif 'host' is not set, we do cleanup based on objects.Instance.resources\nby default. Also we will introduce another driver interface\ncleanup_specific_resources used to be called seperately. This will be useful\nto support live migration with vpmem.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n""}, {'number': 8, 'created': '2020-03-09 10:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cda2dd6c621dc1b3ade5b1523ceb44f0dc134a9b', 'message': 'address specific resources cleanup issue\n\nIf an instance is in migrating, we store the new_resources and\nold_resources in instance.migration_context.\n\nTo address the resource cleanup like vpmem during migration, we\nmodify the mutated_migration_context to temporarily apply/revert\nthe migration context, then we can use the temporary instance.resources\nto do cleanup.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n'}, {'number': 9, 'created': '2020-03-16 11:04:00.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab99d4dc08a40757cdb57d7d994ff9b1d876b56e', 'message': 'address specific resources cleanup issue\n\nIf an instance is in migrating, we store the new_resources and\nold_resources in instance.migration_context.\n\nTo address the resource cleanup like vpmem during migration, we\nmodify the mutated_migration_context to temporarily apply/revert\nthe migration context, then we can use the temporary instance.resources\nto do cleanup.\n\nChange-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d\nImplements: blueprint support-live-migration-with-virtual-persistent-memory\n'}]",2,699148,ab99d4dc08a40757cdb57d7d994ff9b1d876b56e,80,14,9,23598,,,0,"address specific resources cleanup issue

If an instance is in migrating, we store the new_resources and
old_resources in instance.migration_context.

To address the resource cleanup like vpmem during migration, we
modify the mutated_migration_context to temporarily apply/revert
the migration context, then we can use the temporary instance.resources
to do cleanup.

Change-Id: Ida7fda578fc83909f204dc22d640f2c71df8245d
Implements: blueprint support-live-migration-with-virtual-persistent-memory
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/699148/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",4,224e9854e677123b7beb16ad44d14dd0288a3920,support-live-migration-with-virtual-persistent-memory," instance.host = migration.source_compute instance.node = migration.source_node self.rt.drop_move_claim(context, instance, migration.dest_node) instance.host = migration.dest_compute instance.node = migration.dest_node"," self.rt.drop_move_claim(context, instance, instance.node) instance.host = migration.dest_compute instance.node = migration.dest_node",29,8
openstack%2Fcyborg~master~Idddad0e514e78174d14cb84341d8bba9855f6dd8,openstack/cyborg,master,Idddad0e514e78174d14cb84341d8bba9855f6dd8,Bugfix: Set the appropriate status code for ServiceUnavailable,MERGED,2020-03-11 08:44:23.000000000,2020-03-17 09:14:31.000000000,2020-03-17 09:12:36.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-03-11 08:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ad7e02ba3051a3bf8878b0c4e594e927bcb5d8fa', 'message': 'Bugfix: Set the appropriate status code for ServiceUnavailable\n\nNow this class inherit from Invalid, However，the code of invalid\nexception is BAD_REQUEST(400), the status code of ServiceUnavailable\nshould be 503.\n\nChange-Id: Idddad0e514e78174d14cb84341d8bba9855f6dd8\nStory: 2007393\nTask: 39026\n'}, {'number': 2, 'created': '2020-03-12 02:32:29.000000000', 'files': ['cyborg/common/exception.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b0492aad8ec4bad0d9326b7f639740ba47bbec50', 'message': 'Bugfix: Set the appropriate status code for ServiceUnavailable\n\nNow this class inherit from Invalid, However,the code of invalid\nexception is BAD_REQUEST(400), the status code of ServiceUnavailable\nshould be 503.\n\nChange-Id: Idddad0e514e78174d14cb84341d8bba9855f6dd8\nStory: 2007393\nTask: 39026\n'}]",8,712283,b0492aad8ec4bad0d9326b7f639740ba47bbec50,21,9,2,28748,,,0,"Bugfix: Set the appropriate status code for ServiceUnavailable

Now this class inherit from Invalid, However,the code of invalid
exception is BAD_REQUEST(400), the status code of ServiceUnavailable
should be 503.

Change-Id: Idddad0e514e78174d14cb84341d8bba9855f6dd8
Story: 2007393
Task: 39026
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/83/712283/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/common/exception.py'],1,ad7e02ba3051a3bf8878b0c4e594e927bcb5d8fa,bug_fix,class ServiceUnavailable(CyborgException): code = http_client.SERVICE_UNAVAILABLE,class ServiceUnavailable(Invalid):,2,1
openstack%2Freleases~master~I86965738655e1a37739a1838b08f05b8cbe5dc8b,openstack/releases,master,I86965738655e1a37739a1838b08f05b8cbe5dc8b,renderspec: Do 2.0.0 release,MERGED,2020-03-17 05:14:14.000000000,2020-03-17 09:13:50.000000000,2020-03-17 09:13:50.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 05:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9211ff9c4b66e94c3cf4934f3c05db28a4ab7ef7', 'message': 'renderspec: Do 2.0.0 release\n\nmajor version bump because python2 is no longer supported.\n\nChange-Id: I86965738655e1a37739a1838b08f05b8cbe5dc8b\n'}, {'number': 2, 'created': '2020-03-17 08:42:29.000000000', 'files': ['deliverables/_independent/renderspec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e9ea38c7f22751368e1640523d3f2fac3b876bc', 'message': 'renderspec: Do 2.0.0 release\n\n- major version bump because python2 is no longer supported.\n- fixes for python3\n\nChange-Id: I86965738655e1a37739a1838b08f05b8cbe5dc8b\n'}]",2,713370,7e9ea38c7f22751368e1640523d3f2fac3b876bc,12,5,2,7102,,,0,"renderspec: Do 2.0.0 release

- major version bump because python2 is no longer supported.
- fixes for python3

Change-Id: I86965738655e1a37739a1838b08f05b8cbe5dc8b
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/713370/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/renderspec.yaml'],1,9211ff9c4b66e94c3cf4934f3c05db28a4ab7ef7,, - projects: - hash: 1022a8cca5057d491e37f0ee1e592952ab7b398a repo: openstack/renderspec version: 2.0.0,,4,0
openstack%2Fnova~master~Ie4de6791efb89786c833014e562786211cda67d3,openstack/nova,master,Ie4de6791efb89786c833014e562786211cda67d3,Add SYSTEM_READER role to servers actions API,ABANDONED,2020-02-06 05:16:14.000000000,2020-03-17 09:09:46.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 05:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f8bd30d5ef4455220d94a326cf1552a544d75c2', 'message': ""Add SYSTEM_READER role to server actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 2, 'created': '2020-02-06 07:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6696e904e8f82781961a342115f2922c2a6b928a', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 3, 'created': '2020-02-06 15:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3b62d691b36ef2445b19f833084a6adff420b4d', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 4, 'created': '2020-02-07 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdecc75baf675c3a57d0882b72a3344f4b538887', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 5, 'created': '2020-02-10 08:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2255d0d777079bb0776db569b0e169f48d415de', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 6, 'created': '2020-03-05 12:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/364cbeca9b86f2ca318e882d5aa702d014c9c2ee', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nTODO(brinzhang): I will add\n'os_compute_api:os-instance-actions:show_details' policy test case in\nthe changes api patch https://review.opendev.org/#/c/694430.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 7, 'created': '2020-03-06 03:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9b1344e1311ede923ea114523f3facab6861466', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nTODO(brinzhang): I will add\n'os_compute_api:os-instance-actions:show_details' policy test case in\nthe changes api patch https://review.opendev.org/#/c/694430.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 8, 'created': '2020-03-06 12:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/692345b89b1665c31fecc2e8e48e54c1b354f4c5', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nTODO(brinzhang): I will add\n'os_compute_api:os-instance-actions:show_details' policy test case in\nthe changes api patch https://review.opendev.org/#/c/694430.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}, {'number': 9, 'created': '2020-03-13 08:11:54.000000000', 'files': ['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/policies/instance_actions.py', 'nova/tests/unit/cmd/test_policy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2226243e231a70d737efdc3c1aed8e19734f21f', 'message': ""Add SYSTEM_READER role to servers actions API\n\nAdd a SYSTEM_READER ('rule: system_reader_api') role to the Show\nServer Action Details API. With this default policy, events fault\ndetails can be displayed.\n\nNOTE(brinzhang): I will add\n'os_compute_api:os-instance-actions:show_details' policy test case in\nthe changes api patch https://review.opendev.org/#/c/694430.\n\nPart of blueprint action-event-fault-details\nChange-Id: Ie4de6791efb89786c833014e562786211cda67d3\n""}]",1,706179,e2226243e231a70d737efdc3c1aed8e19734f21f,58,10,9,26458,,,0,"Add SYSTEM_READER role to servers actions API

Add a SYSTEM_READER ('rule: system_reader_api') role to the Show
Server Action Details API. With this default policy, events fault
details can be displayed.

NOTE(brinzhang): I will add
'os_compute_api:os-instance-actions:show_details' policy test case in
the changes api patch https://review.opendev.org/#/c/694430.

Part of blueprint action-event-fault-details
Change-Id: Ie4de6791efb89786c833014e562786211cda67d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/706179/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/test_policy.py', 'nova/policies/instance_actions.py']",3,4f8bd30d5ef4455220d94a326cf1552a544d75c2,bp/action-event-fault-details," name=POLICY_ROOT % 'show_details', check_str=base.SYSTEM_READER, description=""""""Add ""details"" key in action events for a server. This check is performed only after the check os_compute_api:os-instance-actions passes. Beginning with Microversion 2.82, System Scoped Reader is the default role to get the event fault details. """""", operations=[ { 'method': 'GET', 'path': '/servers/{server_id}/os-instance-actions/{request_id}' } ], scope_types=['system']), policy.DocumentedRuleDefault(",,33,0
openstack%2Fcyborg~master~Ia9e7a21f36b7154809d5bcf7812bb7fa73eff6df,openstack/cyborg,master,Ia9e7a21f36b7154809d5bcf7812bb7fa73eff6df,Bugfix: expose placement service unavailable before diff cyborg db,MERGED,2020-03-09 12:37:47.000000000,2020-03-17 08:58:03.000000000,2020-03-17 08:56:47.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-03-09 12:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e49f3c81296d76645a8b79e149aadb043b375712', 'message': 'Bugfix: expose placement service unavailable before diff cyborg db\n\nWe know that cyborg will periodically synchronize data\nwith placement, but there is a prerequisite for data\nsynchronization. That is, when Cyborg periodically scans\nand finds that the database has changed, it will update\nthe placement.\n\nThere will be an implicit bug, that is, when the placement\nservice is abnormal (for example: the installation service\nis abnormal, the node where the placement service is down),\ncyborg will still update its database. When the placement\nservice is normal, the cyborg database has been updated.\nAlthough the device inspection will be performed in the next\ncycle, because it has been reported to the cyborg database before,\nthere will be no diff at this time, and the placement side will\nnot be updated. Therefore, this situation will cause the data\nstored in the placement side to be dirty data.\n\nThe solution is to expose the exception of the placement service,\nrather than a simple error prompt. Stop the data diff by throwing\nan unreachable service exception. In the next cycle, maybe the\nplacement service is back to normal, and at this point diff can\nproceed smoothly.\nThe reason why this is done is because the entry for resource\nscheduling is in placement. When the placement data is incorrect,\nthe data on cyborg side will lose its meaning.\n\nStory: 2007393\nTask: 38989\n\nChange-Id: Ia9e7a21f36b7154809d5bcf7812bb7fa73eff6df\n'}, {'number': 2, 'created': '2020-03-11 08:22:51.000000000', 'files': ['cyborg/conductor/manager.py', 'cyborg/common/exception.py', 'cyborg/common/placement_client.py', 'cyborg/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6633fa32e887a17770913ceadeb42152ee6eb5ec', 'message': 'Bugfix: expose placement service unavailable before diff cyborg db\n\nWe know that cyborg will periodically synchronize data\nwith placement, but there is a prerequisite for data\nsynchronization. That is, when Cyborg periodically scans\nand finds that the database has changed, it will update\nthe placement.\n\nThere will be an implicit bug, that is, when the placement\nservice is abnormal (for example: the installation service\nis abnormal, the node where the placement service is down),\ncyborg will still update its database. When the placement\nservice is normal, the cyborg database has been updated.\nAlthough the device inspection will be performed in the next\ncycle, because it has been reported to the cyborg database before,\nthere will be no diff at this time, and the placement side will\nnot be updated. Therefore, this situation will cause the data\nstored in the placement side to be dirty data.\n\nThe solution is to expose the exception of the placement service,\nrather than a simple error prompt. Stop the data diff by throwing\nan unreachable service exception. In the next cycle, maybe the\nplacement service is back to normal, and at this point diff can\nproceed smoothly.\nThe reason why this is done is because the entry for resource\nscheduling is in placement. When the placement data is incorrect,\nthe data on cyborg side will lose its meaning.\n\nStory: 2007393\nTask: 38989\n\nChange-Id: Ia9e7a21f36b7154809d5bcf7812bb7fa73eff6df\n'}]",20,711912,6633fa32e887a17770913ceadeb42152ee6eb5ec,29,10,2,28748,,,0,"Bugfix: expose placement service unavailable before diff cyborg db

We know that cyborg will periodically synchronize data
with placement, but there is a prerequisite for data
synchronization. That is, when Cyborg periodically scans
and finds that the database has changed, it will update
the placement.

There will be an implicit bug, that is, when the placement
service is abnormal (for example: the installation service
is abnormal, the node where the placement service is down),
cyborg will still update its database. When the placement
service is normal, the cyborg database has been updated.
Although the device inspection will be performed in the next
cycle, because it has been reported to the cyborg database before,
there will be no diff at this time, and the placement side will
not be updated. Therefore, this situation will cause the data
stored in the placement side to be dirty data.

The solution is to expose the exception of the placement service,
rather than a simple error prompt. Stop the data diff by throwing
an unreachable service exception. In the next cycle, maybe the
placement service is back to normal, and at this point diff can
proceed smoothly.
The reason why this is done is because the entry for resource
scheduling is in placement. When the placement data is incorrect,
the data on cyborg side will lose its meaning.

Story: 2007393
Task: 38989

Change-Id: Ia9e7a21f36b7154809d5bcf7812bb7fa73eff6df
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/12/711912/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/conductor/manager.py', 'cyborg/common/placement_client.py', 'cyborg/tests/unit/conductor/test_manager.py']",3,e49f3c81296d76645a8b79e149aadb043b375712,bugfix_report," self.placement_mock.ensure_resource_classes.return_value = None def test_get_root_provider_unavailable(self): self.placement_mock.get.side_effect = exception.ServiceUnavailable( ""Placement Service is unavailable at this time."") self.assertRaises(exception.ServiceUnavailable, self.cm._get_root_provider, mock.sentinel.context, 'foo')"," # Test this exception path, since it doesn't actually change the flow. # Use a random exception, because it doesn't matter. self.placement_mock.ensure_resource_classes.side_effect = ValueError( 'fail') ",87,76
openstack%2Fzun~master~I09c76d91227a53cd7c6f6fc52a8d8db843d05566,openstack/zun,master,I09c76d91227a53cd7c6f6fc52a8d8db843d05566,Fix container create image not found error,NEW,2018-05-04 09:39:57.000000000,2020-03-17 08:54:59.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23829}, {'_account_id': 25695}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-05-04 09:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/31045d4c28d26a03e9300dae2029f5cfef75d9a5', 'message': 'Fix container create image not found error\n\nIf excute container create the image default use zun\nimage uuid, but the uuid not in docker images.\n\nUse image uuid get image repo the repo in docker images\nexist.\n\n Closes-Bug: #1769021\n\nChange-Id: I09c76d91227a53cd7c6f6fc52a8d8db843d05566\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 2, 'created': '2018-05-04 09:48:31.000000000', 'files': ['zun/common/utils.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4704a143b1b54f1d810777bad3723a62d9979d2e', 'message': 'Fix container create image not found error\n\nIf excute container create the image default use zun\nimage uuid, but the uuid not in docker images.\n\nUse image uuid get image repo the repo in docker images\nexist.\n\n Closes-Bug: #1769021\n\nChange-Id: I09c76d91227a53cd7c6f6fc52a8d8db843d05566\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",1,566260,4704a143b1b54f1d810777bad3723a62d9979d2e,6,5,2,23517,,,0,"Fix container create image not found error

If excute container create the image default use zun
image uuid, but the uuid not in docker images.

Use image uuid get image repo the repo in docker images
exist.

 Closes-Bug: #1769021

Change-Id: I09c76d91227a53cd7c6f6fc52a8d8db843d05566
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/zun refs/changes/60/566260/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/compute/manager.py']",2,31045d4c28d26a03e9300dae2029f5cfef75d9a5,bug/1769021," repo, tag = utils.parse_image_name(context, container.image, image_driver_name) repo, tag = utils.parse_image_name(context, sandbox_image, repo, tag = utils.parse_image_name(context, image, image_driver_name)"," repo, tag = utils.parse_image_name(container.image, image_driver_name) repo, tag = utils.parse_image_name(sandbox_image, repo, tag = utils.parse_image_name(image, image_driver_name)",7,4
openstack%2Fmagnum~stable%2Ftrain~Ib7d3068ee53c08fea32a69c997b6de6477a17f0a,openstack/magnum,stable/train,Ib7d3068ee53c08fea32a69c997b6de6477a17f0a,calico: Add node/status in ClusterRole,MERGED,2020-03-16 20:39:23.000000000,2020-03-17 08:45:03.000000000,2020-03-17 08:43:19.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 20:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ddfa8b086b6590a254ba5ea39258ef01dbb009a7', 'message': 'calico: Add node/status in ClusterRole\n\nThe upstream docs [0] were missing a parameters\nfor the calico-node ClusterRole.\n\nWithout it we get:\n2020-02-21 11:41:35.762 [ERROR][8]\n...\nUser ""system:serviceaccount:kube-system:calico-node""\ncannot patch resource ""nodes/status"" in API group """"\nat the cluster scope\n\n[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n\nNeeds to be backported to train.\n\nstory: 2005318\ntask: 39041\n\nChange-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2020-03-17 04:02:58.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/258ab71c28617ce8b43d6840956103defe774e48', 'message': 'calico: Add node/status in ClusterRole\n\nThe upstream docs [0] were missing a parameters\nfor the calico-node ClusterRole.\n\nWithout it we get:\n2020-02-21 11:41:35.762 [ERROR][8]\n...\nUser ""system:serviceaccount:kube-system:calico-node""\ncannot patch resource ""nodes/status"" in API group """"\nat the cluster scope\n\n[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n\nNeeds to be backported to train.\n\nstory: 2005318\ntask: 39041\n\nChange-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",0,713326,258ab71c28617ce8b43d6840956103defe774e48,10,3,2,6484,,,0,"calico: Add node/status in ClusterRole

The upstream docs [0] were missing a parameters
for the calico-node ClusterRole.

Without it we get:
2020-02-21 11:41:35.762 [ERROR][8]
...
User ""system:serviceaccount:kube-system:calico-node""
cannot patch resource ""nodes/status"" in API group """"
at the cluster scope

[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml

Needs to be backported to train.

story: 2005318
task: 39041

Change-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/26/713326/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'],1,ddfa8b086b6590a254ba5ea39258ef01dbb009a7,calico-stable/train," - nodes/status verbs: - patch - apiGroups: [""""] resources:",,5,0
openstack%2Fglance~master~Icf622bce0d1393c37a7f7a176050750374d2cefe,openstack/glance,master,Icf622bce0d1393c37a7f7a176050750374d2cefe,"Revert ""Revert ""Remove all example configs for deprecated registry""""",ABANDONED,2020-02-14 10:16:53.000000000,2020-03-17 08:40:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-14 10:16:53.000000000', 'files': ['etc/glance-registry-paste.ini', 'doc/source/admin/controllingservers.rst', 'doc/source/cli/glanceregistry.rst', 'doc/source/cli/glancemanage.rst', 'doc/source/configuration/glance_registry.rst', 'doc/source/conf.py', 'etc/glance-registry.conf', 'setup.cfg', 'doc/source/configuration/sample-configuration.rst', 'etc/oslo-config-generator/glance-registry.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/2ac31fd98ff20cc5f6aa4a50da2b5808efda7e96', 'message': 'Revert ""Revert ""Remove all example configs for deprecated registry""""\n\nThis should now fail on devstack-based jobs, allowing them to be fixed\nbefore this patch gets merged again.\n\nThis reverts commit 0035ab253819246491f11ffeecdab99e78d75629.\n\nChange-Id: Icf622bce0d1393c37a7f7a176050750374d2cefe\n'}]",0,707811,2ac31fd98ff20cc5f6aa4a50da2b5808efda7e96,3,1,1,13252,,,0,"Revert ""Revert ""Remove all example configs for deprecated registry""""

This should now fail on devstack-based jobs, allowing them to be fixed
before this patch gets merged again.

This reverts commit 0035ab253819246491f11ffeecdab99e78d75629.

Change-Id: Icf622bce0d1393c37a7f7a176050750374d2cefe
",git fetch https://review.opendev.org/openstack/glance refs/changes/11/707811/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/glance-registry-paste.ini', 'doc/source/admin/controllingservers.rst', 'doc/source/cli/glancemanage.rst', 'doc/source/cli/glanceregistry.rst', 'doc/source/configuration/glance_registry.rst', 'doc/source/conf.py', 'etc/glance-registry.conf', 'setup.cfg', 'doc/source/configuration/sample-configuration.rst', 'etc/oslo-config-generator/glance-registry.conf']",10,2ac31fd98ff20cc5f6aa4a50da2b5808efda7e96,test-zuul,,[DEFAULT] wrap_width = 80 output_file = etc/glance-registry.conf.sample namespace = glance.registry namespace = oslo.messaging namespace = oslo.db namespace = oslo.db.concurrency namespace = oslo.policy namespace = keystonemiddleware.auth_token namespace = oslo.log ,15,2039
openstack%2Frenderspec~master~I9f64c22311102c7a67d49b211be91d62b3170a47,openstack/renderspec,master,I9f64c22311102c7a67d49b211be91d62b3170a47,Fix urllib.urlopen for python3,MERGED,2020-03-17 05:22:08.000000000,2020-03-17 08:28:38.000000000,2020-03-17 08:27:27.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 05:22:08.000000000', 'files': ['renderspec/utils.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/50bea70bb529f2e2b93bd1961630cbff8a07e5dc', 'message': 'Fix urllib.urlopen for python3\n\nCurrent code is broken on python3. We need to use urllib.request to\nuse urlopen().\n\nChange-Id: I9f64c22311102c7a67d49b211be91d62b3170a47\n'}]",0,713372,50bea70bb529f2e2b93bd1961630cbff8a07e5dc,8,3,1,7102,,,0,"Fix urllib.urlopen for python3

Current code is broken on python3. We need to use urllib.request to
use urlopen().

Change-Id: I9f64c22311102c7a67d49b211be91d62b3170a47
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/72/713372/1 && git format-patch -1 --stdout FETCH_HEAD,['renderspec/utils.py'],1,50bea70bb529f2e2b93bd1961630cbff8a07e5dc,,import urllib.request with closing(urllib.request.urlopen(url)) as response: # nosec,import urllib with closing(urllib.urlopen(url)) as response: # nosec,2,2
openstack%2Fmagnum~master~I174e80c6982317f52150a4b255f3d1c592d9caaf,openstack/magnum,master,I174e80c6982317f52150a4b255f3d1c592d9caaf,"[hca] Restore deploy_{stdout,stderr,status_code}",MERGED,2020-02-28 16:41:27.000000000,2020-03-17 08:15:40.000000000,2020-03-16 09:17:58.000000000,"[{'_account_id': 6484}, {'_account_id': 12404}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-28 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/85e0a4f2be7d2517f0122a2c566a692f002697ab', 'message': '[hca] Return deploy_stdout and simplify script\n\nRemoving deploy_stdout also removes it from the ouptut of:\n\n    openstack software deployment output show <output_id> --long --all\n\nThis PS also simplifies the code and correctly returns the return code\nwhere it was previously returning None.\n\nChange-Id: I174e80c6982317f52150a4b255f3d1c592d9caaf\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 2, 'created': '2020-03-08 22:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2014d825f710d9e4dbe8502a4a2576d31a047b4d', 'message': '[hca] Return deploy_stdout and simplify script\n\nRemoving deploy_stdout in I174e80c6982317f52150a4b255f3d1c592d9caaf also\nremoves it from the ouptut of:\n\n    openstack software deployment output show <output_id> --long --all\n\nThis PS restores deploy_stdout and also simplifies the logic and\ncorrectly returns the return code instead of None.\n\nStory: 2007264\nTask: 38983\n\nChange-Id: I174e80c6982317f52150a4b255f3d1c592d9caaf\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 3, 'created': '2020-03-08 22:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/899c7d049db32e9c4567d091bce02c2d10fa1cbc', 'message': '[hca] Return deploy_stdout and simplify script\n\nRemoving deploy_stdout in I5504c00efce89105d403722d583bb75f7bdea714 also\nremoves it from the ouptut of:\n\n    openstack software deployment output show <output_id> --long --all\n\nThis PS restores deploy_stdout and also simplifies the logic and\ncorrectly returns the return code instead of None.\n\nStory: 2007264\nTask: 38983\n\nChange-Id: I174e80c6982317f52150a4b255f3d1c592d9caaf\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 4, 'created': '2020-03-10 12:12:44.000000000', 'files': ['dockerfiles/heat-container-agent/scripts/hooks/script'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b94cd141b22ea8e9a2510968499d0683ce42382', 'message': '[hca] Restore deploy_{stdout,stderr,status_code}\n\nIn I5504c00efce89105d403722d583bb75f7bdea714, we removed\ndeploy_stderr from the output and instead piped everything into\ndeploy_stdout. Turns out that this is not backward compatible and\nremoves it from the ouptut of:\n\n    openstack software deployment output show <output_id> --long --all\n\nThis PS uses threading to write stdout and stderr live to a file and\ncorrectly return deploy_status_code instead of None.\n\nStory: 2007264\nTask: 38983\n\nChange-Id: I174e80c6982317f52150a4b255f3d1c592d9caaf\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",4,710487,3b94cd141b22ea8e9a2510968499d0683ce42382,30,5,4,28022,,,0,"[hca] Restore deploy_{stdout,stderr,status_code}

In I5504c00efce89105d403722d583bb75f7bdea714, we removed
deploy_stderr from the output and instead piped everything into
deploy_stdout. Turns out that this is not backward compatible and
removes it from the ouptut of:

    openstack software deployment output show <output_id> --long --all

This PS uses threading to write stdout and stderr live to a file and
correctly return deploy_status_code instead of None.

Story: 2007264
Task: 38983

Change-Id: I174e80c6982317f52150a4b255f3d1c592d9caaf
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/87/710487/4 && git format-patch -1 --stdout FETCH_HEAD,['dockerfiles/heat-container-agent/scripts/hooks/script'],1,85e0a4f2be7d2517f0122a2c566a692f002697ab,hca-live-logging," deploy_stdout = '' with open(lp, 'w') as f: for stdout in subproc.stdout: line = stdout.decode('utf-8', 'replace') deploy_stdout += line f.write(line) f.flush() deploy_status_code = subproc.wait() if deploy_status_code: log.error(""Error running %s. [%s]\n"" % (fn, deploy_status_code)) 'deploy_stdout': deploy_stdout, 'deploy_status_code': deploy_status_code,","import select with open(lp, 'w') as f: while subproc.poll() is None: read, _, _ = select.select([subproc.stdout], [], []) for stream in read: if stream: line = stream.readline().decode('utf-8', 'replace') f.write(line) f.flush() if subproc.returncode: log.error(""Error running %s. [%s]\n"" % (fn, subproc.returncode)) 'deploy_status_code': subproc.returncode,",12,11
openstack%2Fironic~master~Idd0b2b27956867c66e714cd1a00de5514c67e7ae,openstack/ironic,master,Idd0b2b27956867c66e714cd1a00de5514c67e7ae,Send our token back to the agent,MERGED,2019-12-05 22:38:58.000000000,2020-03-17 08:12:36.000000000,2020-03-17 08:10:25.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-12-05 22:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0af6b5068d37027be894167cbc746d6b372ccca3', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 2, 'created': '2019-12-06 21:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae3a504921ee3e3bc198f4eaf9ca9d6d167964ac', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 3, 'created': '2019-12-10 17:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/438da9bc22afd0042dc0fe20c6d1708bc1229df0', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 4, 'created': '2019-12-11 17:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74d9994e4a33dd6a4627230c8c0dce59a46369ed', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 5, 'created': '2019-12-11 17:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/90419b41e97ac590d02ae3809b8329c6615b5a74', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 6, 'created': '2019-12-11 18:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fcbc6ff93a888eb41acc7ae185300235d1f31662', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 7, 'created': '2019-12-13 00:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6c73f1d443e8d71c6546c07b4f0ed4fc84c7292', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 8, 'created': '2019-12-13 15:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/071c4d6a8145504f3b10739a006c1919c017a0c4', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 9, 'created': '2019-12-16 22:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d78fd1a37146ff19ebdc6959632d62796bf6e04', 'message': 'WIP: Send our token back to the agent\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 10, 'created': '2019-12-16 23:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11413ca0e886a4f8ac49553fa041557789e08550', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 11, 'created': '2019-12-18 23:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bbe3682b9585cdbe03f19141c5c0dc98922abc7', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 12, 'created': '2019-12-19 21:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49f7af0ce564ac151ade655c63445599bb9362fc', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 13, 'created': '2020-01-20 22:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e911be96a8824f65935367a6b38575c278c25953', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 14, 'created': '2020-01-27 22:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/99f6bb5a6b9de92a876381e3fa2c8a821a63c670', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 15, 'created': '2020-02-06 23:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3b06a5a08dd277133579ff2e26b96aede1a43fc', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 16, 'created': '2020-02-07 19:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11ec17433424c4eff8e969b979ff72376847778f', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 17, 'created': '2020-02-10 21:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69a6f190d5312cf002d03841071de0db0880a188', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 18, 'created': '2020-02-11 00:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d8e3585a6803de81cfa29432f9326c1a90aa746', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 19, 'created': '2020-02-11 22:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b180fbdc2c0a5fde4910f4cc67b278375ab83b5', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 20, 'created': '2020-02-12 14:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a1ed4631e451de3e20a558307a336110cfbb8e5', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 21, 'created': '2020-02-14 18:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/028e71a6cd5affa06def9878c6601964be9f1a3c', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 22, 'created': '2020-02-20 23:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e949244af38f942b0c3757ef35ada9aa5695fb2b', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 23, 'created': '2020-02-20 23:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/395c4942fe025930906259e56a1eab5fe2d12c20', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 24, 'created': '2020-03-07 17:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d8ff8b3a2c19ab417f3d2cc68ac10597e253e16', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}, {'number': 25, 'created': '2020-03-09 23:59:21.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d2d04c84297eff25cd9e51839b639f4a871acf4', 'message': 'Send our token back to the agent\n\nSend our token back to the agent so it can authenitcate\nthat we are actually the ironic deployment it knows about.\n\nStory: 2007025\nTask: 37820\n\nChange-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae\n'}]",3,697585,3d2d04c84297eff25cd9e51839b639f4a871acf4,119,11,25,11655,,,0,"Send our token back to the agent

Send our token back to the agent so it can authenitcate
that we are actually the ironic deployment it knows about.

Story: 2007025
Task: 37820

Change-Id: Idd0b2b27956867c66e714cd1a00de5514c67e7ae
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/697585/25 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/agent_client.py'],1,0af6b5068d37027be894167cbc746d6b372ccca3,story/2007025, agent_token = node.driver_internal_info.get('agent_secret_token') if agent_token: request_params['agent_token'],,3,0
openstack%2Fpython-tackerclient~master~I1d77929d26af29e5d060eefdac85a5da2dd145d6,openstack/python-tackerclient,master,I1d77929d26af29e5d060eefdac85a5da2dd145d6,Replace assertItemsEqual with assertCountEqual,MERGED,2020-03-13 13:33:10.000000000,2020-03-17 08:08:07.000000000,2020-03-17 08:06:48.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2020-03-13 13:33:10.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnf_package.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a3fcbb09664a653a974d463209d4a91fa5195de6', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I1d77929d26af29e5d060eefdac85a5da2dd145d6\n""}]",0,712946,a3fcbb09664a653a974d463209d4a91fa5195de6,8,3,1,16312,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I1d77929d26af29e5d060eefdac85a5da2dd145d6
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/46/712946/1 && git format-patch -1 --stdout FETCH_HEAD,['tackerclient/tests/unit/osc/v1/test_vnf_package.py'],1,a3fcbb09664a653a974d463209d4a91fa5195de6,unittest," self.assertCountEqual(_get_columns_vnf_package(action='create'), self.assertCountEqual(vnf_package_fakes.get_vnf_package_data(json), self.assertCountEqual(_get_columns_vnf_package(), actual_columns) self.assertCountEqual(expected_data, list(data)) self.assertCountEqual(_get_columns_vnf_package( self.assertCountEqual("," self.assertItemsEqual(_get_columns_vnf_package(action='create'), self.assertItemsEqual(vnf_package_fakes.get_vnf_package_data(json), self.assertItemsEqual(_get_columns_vnf_package(), actual_columns) self.assertItemsEqual(expected_data, list(data)) self.assertItemsEqual(_get_columns_vnf_package( self.assertItemsEqual(",6,6
openstack%2Fproject-config~master~I764fade3ad2d8067772526da4ee0be2e8cd6180e,openstack/project-config,master,I764fade3ad2d8067772526da4ee0be2e8cd6180e,Remove secret import from vexxhost,MERGED,2020-03-17 03:36:34.000000000,2020-03-17 08:06:19.000000000,2020-03-17 08:06:19.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 03:36:34.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e30bbe9557a561344191f537bce8baae96c4e6e', 'message': ""Remove secret import from vexxhost\n\nI don't think we want to share secrets across tenants.  I don't think\nthere are any, but if we had them, I mean :)\n\nChange-Id: I764fade3ad2d8067772526da4ee0be2e8cd6180e\n""}]",0,713368,2e30bbe9557a561344191f537bce8baae96c4e6e,7,3,1,7118,,,0,"Remove secret import from vexxhost

I don't think we want to share secrets across tenants.  I don't think
there are any, but if we had them, I mean :)

Change-Id: I764fade3ad2d8067772526da4ee0be2e8cd6180e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/713368/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,2e30bbe9557a561344191f537bce8baae96c4e6e,devstack-in-zuulv3," - include: [job, nodeset]"," - include: [job, secret, nodeset]",1,1
openstack%2Fbifrost~master~Ia76961a091688372c6df363d5e1dcb29ff0f39bf,openstack/bifrost,master,Ia76961a091688372c6df363d5e1dcb29ff0f39bf,Switch to stestr,MERGED,2020-03-11 11:42:47.000000000,2020-03-17 08:04:34.000000000,2020-03-17 08:03:12.000000000,"[{'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-11 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7600c79f21e6ec0de973227a85ce4036c79e2e64', 'message': ""Switch to stestr\n\nUse stestr for tests.\n\nAlso clean tox.ini and add check for flake8 H106:\nDon't put vim configuration in source files.\n\nChange-Id: Ia76961a091688372c6df363d5e1dcb29ff0f39bf\n""}, {'number': 2, 'created': '2020-03-11 16:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b5657cef4f1fbd1ff326564a054eeb207d6eb3df', 'message': ""Switch to stestr\n\nUse stestr for tests.\n\nAlso clean tox.ini and add check for flake8 H106:\nDon't put vim configuration in source files.\n\nChange-Id: Ia76961a091688372c6df363d5e1dcb29ff0f39bf\n""}, {'number': 3, 'created': '2020-03-11 16:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1f72c232d85b37881bd2976940431a2289691025', 'message': ""Switch to stestr\n\nUse stestr for tests.\n\nAlso clean tox.ini and add check for flake8 H106:\nDon't put vim configuration in source files.\n\nChange-Id: Ia76961a091688372c6df363d5e1dcb29ff0f39bf\n""}, {'number': 4, 'created': '2020-03-17 06:49:07.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/db3d46a7d34cfd707def96e0b81f1d24f6111bda', 'message': ""Switch to stestr\n\nUse stestr for tests.\n\nAlso clean tox.ini and add check for flake8 H106:\nDon't put vim configuration in source files.\n\nChange-Id: Ia76961a091688372c6df363d5e1dcb29ff0f39bf\n""}]",4,712344,db3d46a7d34cfd707def96e0b81f1d24f6111bda,21,4,4,23851,,,0,"Switch to stestr

Use stestr for tests.

Also clean tox.ini and add check for flake8 H106:
Don't put vim configuration in source files.

Change-Id: Ia76961a091688372c6df363d5e1dcb29ff0f39bf
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/44/712344/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf']",4,7600c79f21e6ec0de973227a85ce4036c79e2e64,pep8-change,[DEFAULT] test_path=./bifrost/tests top_dir=.,,24,15
openstack%2Frpm-packaging~master~I947d4bf593424bd83892142425ffd1f38b4614cd,openstack/rpm-packaging,master,I947d4bf593424bd83892142425ffd1f38b4614cd,update neutron-lib to 2.2.0,MERGED,2020-03-13 07:47:01.000000000,2020-03-17 08:03:26.000000000,2020-03-17 08:03:26.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 07:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2939fb1d4072213b9b3f50ad5a93f6c6b7da1920', 'message': 'update neutron-lib to 2.2.0\n\nDepends-on:I749a92ee79119208a3e96ed9769391003ac105f2\nChange-Id: I947d4bf593424bd83892142425ffd1f38b4614cd\n'}, {'number': 2, 'created': '2020-03-17 07:49:48.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa65cc8cd1b09600f7b2561ef8c4d3fa2761d68b', 'message': 'update neutron-lib to 2.2.0\n\nDepends-on:I749a92ee79119208a3e96ed9769391003ac105f2\nChange-Id: I947d4bf593424bd83892142425ffd1f38b4614cd\n'}]",0,712850,fa65cc8cd1b09600f7b2561ef8c4d3fa2761d68b,12,5,2,26570,,,0,"update neutron-lib to 2.2.0

Depends-on:I749a92ee79119208a3e96ed9769391003ac105f2
Change-Id: I947d4bf593424bd83892142425ffd1f38b4614cd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/50/712850/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,2939fb1d4072213b9b3f50ad5a93f6c6b7da1920,,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.1.0') %},1,1
openstack%2Fkolla-ansible~master~Ia73b5665cece523bb822f6a223335f6fae94fb6a,openstack/kolla-ansible,master,Ia73b5665cece523bb822f6a223335f6fae94fb6a,Fix native openvswitch firewall driver in neutron-openvswitch-agent,MERGED,2020-03-15 10:29:03.000000000,2020-03-17 08:00:50.000000000,2020-03-16 23:19:07.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-03-15 10:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56cac4470afc2bac819434eaa8e141d867d5c016', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n'}, {'number': 2, 'created': '2020-03-15 14:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9479946b0729a71ff7cf54541365b7d8bbbdce3e', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n'}, {'number': 3, 'created': '2020-03-16 19:36:40.000000000', 'files': ['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf918fbc294be35f662d6b2851f3cdc00bc2b1bb', 'message': 'Fix native openvswitch firewall driver in neutron-openvswitch-agent\n\novs-ofctl is still being run by neutron-openvswitch-agent.\nPotential removal is scheduled for Victoria.\nUntil then, we have to mount /run/openvswitch in there.\n\nChange-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a\nCloses-bug: #1867506\n'}]",0,713129,cf918fbc294be35f662d6b2851f3cdc00bc2b1bb,22,9,3,30491,,,0,"Fix native openvswitch firewall driver in neutron-openvswitch-agent

ovs-ofctl is still being run by neutron-openvswitch-agent.
Potential removal is scheduled for Victoria.
Until then, we have to mount /run/openvswitch in there.

Change-Id: Ia73b5665cece523bb822f6a223335f6fae94fb6a
Closes-bug: #1867506
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/713129/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1867506-3613746b8647cd73.yaml', 'ansible/roles/neutron/defaults/main.yml']",2,56cac4470afc2bac819434eaa8e141d867d5c016,bug/1867506," - ""/run/openvswitch:/run/openvswitch:shared""",,7,0
openstack%2Frpm-packaging~stable%2Ftrain~I5ef19a206145dda0c7110e4ec8848f89a43e7a52,openstack/rpm-packaging,stable/train,I5ef19a206145dda0c7110e4ec8848f89a43e7a52,"openstacksdk: Temporarily skip unit tests, fix doc req",MERGED,2020-03-16 16:46:51.000000000,2020-03-17 07:58:23.000000000,2020-03-17 07:58:23.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 16:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2c09804e06edacfc12887aa45fd0deae66d33817', 'message': ""openstacksdk: Temporarily skip unit tests\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit tests for now until this is improved upstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n(cherry picked from commit 6d6263b0aab07ddc19fc48329c8dc4f27eabe9c4)\n""}, {'number': 2, 'created': '2020-03-16 17:04:18.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7dd6667db1bfeefe389a3e0f9421f0263cfae303', 'message': ""openstacksdk: Temporarily skip unit tests, fix doc req\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit tests for now until this is improved upstream.\n\nAlso, fix -doc requirement to use the python3 package, instead of\npython-openstacksdk.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n(cherry picked from commit 6d6263b0aab07ddc19fc48329c8dc4f27eabe9c4)\n""}]",0,713288,7dd6667db1bfeefe389a3e0f9421f0263cfae303,13,5,2,13294,,,0,"openstacksdk: Temporarily skip unit tests, fix doc req

The openstacksdk unit tests tend to require an obscene amount of
RAM, so a system with 8 GB of RAM might struggle to run them and
use a lot of swap. This is causing many build errors due to timeouts.

Let's skip unit tests for now until this is improved upstream.

Also, fix -doc requirement to use the python3 package, instead of
python-openstacksdk.

Change-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52
(cherry picked from commit 6d6263b0aab07ddc19fc48329c8dc4f27eabe9c4)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/713288/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,2c09804e06edacfc12887aa45fd0deae66d33817,remove-python2-stable/train,# FIXME(jpena): unit tests require way too much memory # and cause timeouts due to swapping. Disabling for now %define with_tests 0%if 0%{?with_tests}%endif,,5,1
openstack%2Fnova~master~Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,openstack/nova,master,Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8,Fix intermittently failing regression case,MERGED,2020-03-16 14:09:25.000000000,2020-03-17 07:52:36.000000000,2020-03-16 17:23:29.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 15941}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-16 14:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59ab7a3b8b5f7041e80fb743cb666b687472785d', 'message': 'Fix intermittently failing regression case\n\nThe test_unshelve_offloaded_fails_due_to_neutron could fail due to race\ncondition. The test case only waits for the first instance.save() call\nat [1] but the allocation delete happens after it. This causes that the\ntest case can still see the allocation of the offloaded server in\nplacement.\n\nThe fix makes sure that the test waits for the second instance.save() by\nchecking for the host of the instance.\n\n[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288\n\nRelated-Bug #1862633\n\nChange-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8\n'}, {'number': 2, 'created': '2020-03-16 14:32:09.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1dfb72e0487c12553a50899d6aed292dea4dcd7f', 'message': 'Fix intermittently failing regression case\n\nThe test_unshelve_offloaded_fails_due_to_neutron could fail due to race\ncondition. The test case only waits for the first instance.save() call\nat [1] but the allocation delete happens after it. This causes that the\ntest case can still see the allocation of the offloaded server in\nplacement.\n\nThe fix makes sure that the test waits for the second instance.save() by\nchecking for the host of the instance.\n\n[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288\n\nRelated-Bug #1862633\n\nChange-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8\n'}]",0,713243,1dfb72e0487c12553a50899d6aed292dea4dcd7f,16,10,2,9708,,,0,"Fix intermittently failing regression case

The test_unshelve_offloaded_fails_due_to_neutron could fail due to race
condition. The test case only waits for the first instance.save() call
at [1] but the allocation delete happens after it. This causes that the
test case can still see the allocation of the offloaded server in
placement.

The fix makes sure that the test waits for the second instance.save() by
checking for the host of the instance.

[1] https://github.com/openstack/nova/blob/stable/rocky/nova/compute/manager.py#L5274-L5288

Related-Bug #1862633

Change-Id: Ic1c3d35749fbdc7f5b6f6ec1e16b8fcf37c10de8
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/713243/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,59ab7a3b8b5f7041e80fb743cb666b687472785d,bug/1862633," server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-SRV-ATTR:host': None,}) 'OS-EXT-STS:task_state': None, 'OS-EXT-SRV-ATTR:host': None,})"," server, {'status': 'SHELVED_OFFLOADED'}) 'OS-EXT-STS:task_state': None})",4,2
openstack%2Fgovernance~master~I54b5a420519386f74b525946c6b54d228df86520,openstack/governance,master,I54b5a420519386f74b525946c6b54d228df86520,Add repo: devstack-plugin-open-cas,MERGED,2020-03-09 11:07:48.000000000,2020-03-17 07:32:33.000000000,2020-03-17 07:30:50.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 17068}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-09 11:07:48.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/2058c717e23ef4c261ec187db9d2dcbad44f9da1', 'message': 'Add repo: devstack-plugin-open-cas\n\nCaching software open-cas is needed in volume local cache feature. Repo\ndevstack-plugin-open-cas is to configure open-cas for devstack.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nDepends-On: https://review.opendev.org/#/c/711878/\nChange-Id: I54b5a420519386f74b525946c6b54d228df86520\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",0,711902,2058c717e23ef4c261ec187db9d2dcbad44f9da1,13,8,1,28948,,,0,"Add repo: devstack-plugin-open-cas

Caching software open-cas is needed in volume local cache feature. Repo
devstack-plugin-open-cas is to configure open-cas for devstack.

open-cas: https://open-cas.github.io/
Nova Spec: https://review.opendev.org/#/c/689070/
Cinder Spec: https://review.opendev.org/#/c/684556/

Depends-On: https://review.opendev.org/#/c/711878/
Change-Id: I54b5a420519386f74b525946c6b54d228df86520
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/711902/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,2058c717e23ef4c261ec187db9d2dcbad44f9da1,project-update, devstack-plugin-open-cas: release-management: none repos: - openstack/devstack-plugin-open-cas,,4,0
openstack%2Ftempest~master~Ic6428124ee94c67824c6d9a7174befe6bb47a436,openstack/tempest,master,Ic6428124ee94c67824c6d9a7174befe6bb47a436,Remove unnecessary addCleanup for image resource,ABANDONED,2020-01-14 12:20:36.000000000,2020-03-17 07:19:23.000000000,,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 19262}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-01-14 12:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8899a371adb64b8cc26ebac34787410272e7cfa1', 'message': 'Remove unnecessary addCleanup for image resource\n\nThe image is already added to addClassResourceCleanup.\n\nChange-Id: Ic6428124ee94c67824c6d9a7174befe6bb47a436\n'}, {'number': 2, 'created': '2020-01-14 13:11:58.000000000', 'files': ['tempest/api/image/v2/test_images_tags.py', 'tempest/api/image/v2/test_images_tags_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0fb27fe03dd68621a294e1d18e088ecf67678cd9', 'message': 'Remove unnecessary addCleanup for image resource\n\nThe image is already added to addClassResourceCleanup.\n\nChange-Id: Ic6428124ee94c67824c6d9a7174befe6bb47a436\n'}]",1,702403,0fb27fe03dd68621a294e1d18e088ecf67678cd9,18,9,2,19262,,,0,"Remove unnecessary addCleanup for image resource

The image is already added to addClassResourceCleanup.

Change-Id: Ic6428124ee94c67824c6d9a7174befe6bb47a436
",git fetch https://review.opendev.org/openstack/tempest refs/changes/03/702403/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_tags_negative.py'],1,8899a371adb64b8cc26ebac34787410272e7cfa1,,," self.addCleanup(self.client.delete_image, image['id'])",0,1
openstack%2Fneutron~master~I66ee8dd07457f08f6c9c72b9d8ba964f9d7695dc,openstack/neutron,master,I66ee8dd07457f08f6c9c72b9d8ba964f9d7695dc,[OVN] Do not check the device_owner of the port twice,ABANDONED,2020-03-17 01:50:38.000000000,2020-03-17 06:44:26.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-17 01:50:38.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d218c0e1059f7a2ddd3fbe5f200179fdad548c', 'message': ""[OVN] Do not check the device_owner of the port twice\n\nWhen obtaining the options of a port, whether the port is a\ndhcp port needs to be detected. The 'device_owner' of a port\nhas been verified in 'is_neutron_dhcp_agent_port', so the duplicate\ndetection can be removed.\n\nChange-Id: I66ee8dd07457f08f6c9c72b9d8ba964f9d7695dc\n""}]",0,713365,35d218c0e1059f7a2ddd3fbe5f200179fdad548c,6,4,1,29157,,,0,"[OVN] Do not check the device_owner of the port twice

When obtaining the options of a port, whether the port is a
dhcp port needs to be detected. The 'device_owner' of a port
has been verified in 'is_neutron_dhcp_agent_port', so the duplicate
detection can be removed.

Change-Id: I66ee8dd07457f08f6c9c72b9d8ba964f9d7695dc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/713365/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,35d218c0e1059f7a2ddd3fbe5f200179fdad548c,, if not utils.is_neutron_dhcp_agent_port(port):, if (port['device_owner'] == const.DEVICE_OWNER_DHCP and not utils.is_neutron_dhcp_agent_port(port)):,1,2
openstack%2Fironic~master~Ic84bc14ff0bce609009455c644a1601f990a7b45,openstack/ironic,master,Ic84bc14ff0bce609009455c644a1601f990a7b45,Expand user-image doc,MERGED,2020-03-09 08:42:11.000000000,2020-03-17 06:02:02.000000000,2020-03-16 13:37:23.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-09 08:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e29a6bfd815cede2433a2d12f7cef9bf9cffa13', 'message': 'Expand user-image doc\n\nAdds some text on the general instruction on how to build\nuser-image by virtual machine software.\n\nSee also: https://review.opendev.org/#/c/710966/\n\nChange-Id: Ic84bc14ff0bce609009455c644a1601f990a7b45\n'}, {'number': 2, 'created': '2020-03-16 01:41:17.000000000', 'files': ['doc/source/install/creating-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc17246d2bddcace579d0c33cab9cf8027985cd8', 'message': 'Expand user-image doc\n\nAdds some text on the general instruction on how to build\nuser-image by virtual machine software.\n\nSee also: https://review.opendev.org/#/c/710966/\n\nChange-Id: Ic84bc14ff0bce609009455c644a1601f990a7b45\n'}]",14,711876,cc17246d2bddcace579d0c33cab9cf8027985cd8,14,6,2,24828,,,0,"Expand user-image doc

Adds some text on the general instruction on how to build
user-image by virtual machine software.

See also: https://review.opendev.org/#/c/710966/

Change-Id: Ic84bc14ff0bce609009455c644a1601f990a7b45
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/711876/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/creating-images.rst'],1,0e29a6bfd815cede2433a2d12f7cef9bf9cffa13,user-image,"disk-image-builder ------------------ Virtual machine --------------- Virtual machine software can also be used to build user images. There are many software available, qemu-kvm is fairly good enough for the linux platform, it even supports building images for other architectures different to the host machine by software emulation. VirtualBox is another good choice for non-linux host. The procedure varies depending on the software used, but the steps for building an image is similar, user creates a virtual machine, install the chosen system just like what is done for a real hardware. The system can be highly customized like disk partitioning, software shipped, etc. The disk file can be used as user image after the system is setup and powered off. The path of disk file varies depending on the software used, usually it's stored in a path of local filesystem where user selected when creating the virtual machine. For qemu-kvm or GUI frontend building upon it, it's typically stored at ``/var/lib/libvirt/images``.",,23,0
openstack%2Frpm-packaging~master~Ic12d35b60cffcca6d31073bddd28d519f15a07b9,openstack/rpm-packaging,master,Ic12d35b60cffcca6d31073bddd28d519f15a07b9,pyghmi: Fix requires for python 3.x package,MERGED,2020-03-16 22:44:56.000000000,2020-03-17 05:22:36.000000000,2020-03-17 05:22:36.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 22:44:56.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2ae212156eba97bbf7f6c9f06548875367d2c110', 'message': 'pyghmi: Fix requires for python 3.x package\n\nWe need to add the requires not to the main package (which\nis not being built) but to the python 3.x subpackage\n\nChange-Id: Ic12d35b60cffcca6d31073bddd28d519f15a07b9\n'}]",0,713343,2ae212156eba97bbf7f6c9f06548875367d2c110,9,4,1,6593,,,0,"pyghmi: Fix requires for python 3.x package

We need to add the requires not to the main package (which
is not being built) but to the python 3.x subpackage

Change-Id: Ic12d35b60cffcca6d31073bddd28d519f15a07b9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/713343/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,2ae212156eba97bbf7f6c9f06548875367d2c110,,Requires: {{ py3('python-dateutil') }} Requires: {{ py3('six') }},Requires: {{ py3('cryptography') }} Requires: {{ py3('python-dateutil') }} Requires: {{ py3('six') }},2,3
openstack%2Fproject-config~master~I7cba84f844c906e773c3e9a96425c3c5ad108d7d,openstack/project-config,master,I7cba84f844c906e773c3e9a96425c3c5ad108d7d,vexxhost: load openstack/tempest jobs,MERGED,2020-03-16 22:19:42.000000000,2020-03-17 03:43:14.000000000,2020-03-17 03:43:14.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 22:19:42.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f75aed783b6d1ea4b2bc3566b61b5d3de690527', 'message': 'vexxhost: load openstack/tempest jobs\n\nIt seems that openstack/tempest has a bunch of tempest-full-py3\njobs which need to be loaded to use the devstack jobs successfully.\n\nChange-Id: I7cba84f844c906e773c3e9a96425c3c5ad108d7d\n'}]",1,713339,0f75aed783b6d1ea4b2bc3566b61b5d3de690527,8,3,1,1004,,,0,"vexxhost: load openstack/tempest jobs

It seems that openstack/tempest has a bunch of tempest-full-py3
jobs which need to be loaded to use the devstack jobs successfully.

Change-Id: I7cba84f844c906e773c3e9a96425c3c5ad108d7d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/713339/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,0f75aed783b6d1ea4b2bc3566b61b5d3de690527,devstack-in-zuulv3, - openstack/tempest, - openstack/tempest,1,1
openstack%2Fdevstack-plugin-ceph~master~Id243b92e800e2d6e8b2228fadbd1c72b194bbfb9,openstack/devstack-plugin-ceph,master,Id243b92e800e2d6e8b2228fadbd1c72b194bbfb9,zuul: Switch devstack-plugin-ceph-tempest-py3 to voting,MERGED,2020-03-12 15:35:20.000000000,2020-03-17 02:50:59.000000000,2020-03-17 02:50:59.000000000,"[{'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 15:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c996be74b953aee61f1ab0a5f112c07757ecf73a', 'message': 'zuul: Switch devstack-plugin-ceph-tempest-py3 to voting\n\nWhile the job itself is not currently voting within openstack/nova the\nuse of the plugin essentially is within the nova-live-migration job.\n\nAs such we should really enable voting of this job within this project\nwith the eventual goal of also enabling it within openstack/nova and\nother projects using it.\n\nChange-Id: Id243b92e800e2d6e8b2228fadbd1c72b194bbfb9\n'}, {'number': 2, 'created': '2020-03-13 14:08:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a7876566b4aea02fdf9f41189f1991249d25bbaa', 'message': 'zuul: Switch devstack-plugin-ceph-tempest-py3 to voting\n\nWhile the job itself is not currently voting within openstack/nova the\nuse of the plugin essentially is within the nova-live-migration job.\n\nAs such we should really enable voting of this job within this project\nwith the eventual goal of also enabling it within openstack/nova and\nother projects using it.\n\nChange-Id: Id243b92e800e2d6e8b2228fadbd1c72b194bbfb9\n'}]",1,712715,a7876566b4aea02fdf9f41189f1991249d25bbaa,11,3,2,10135,,,0,"zuul: Switch devstack-plugin-ceph-tempest-py3 to voting

While the job itself is not currently voting within openstack/nova the
use of the plugin essentially is within the nova-live-migration job.

As such we should really enable voting of this job within this project
with the eventual goal of also enabling it within openstack/nova and
other projects using it.

Change-Id: Id243b92e800e2d6e8b2228fadbd1c72b194bbfb9
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/15/712715/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c996be74b953aee61f1ab0a5f112c07757ecf73a,remove_devstack-plugin-ceph-tempest, voting: true, voting: false,1,1
openstack%2Fdevstack-plugin-ceph~master~I6c512b29a0346db1f92de34b1dbfb56958fa2cad,openstack/devstack-plugin-ceph,master,I6c512b29a0346db1f92de34b1dbfb56958fa2cad,Stop running devstack-plugin-ceph-tempest on master,MERGED,2020-02-19 03:04:11.000000000,2020-03-17 02:49:55.000000000,2020-03-17 02:49:55.000000000,"[{'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 03:04:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/dd2db52ac845a7fb7c63eaab3dd525abe1ff4528', 'message': 'Stop running devstack-plugin-ceph-tempest on master\n\ndevstack-plugin-ceph-tempest is py2 job and not supposed\nto run on master gate. devstack-plugin-ceph master gate already\nrun its py3 version devstack-plugin-ceph-tempest-py3.\n\nWe need to keep the devstack-plugin-ceph-tempest definition\nfor stable branches gate.\n\nChange-Id: I6c512b29a0346db1f92de34b1dbfb56958fa2cad\n'}]",0,708556,dd2db52ac845a7fb7c63eaab3dd525abe1ff4528,9,6,1,8556,,,0,"Stop running devstack-plugin-ceph-tempest on master

devstack-plugin-ceph-tempest is py2 job and not supposed
to run on master gate. devstack-plugin-ceph master gate already
run its py3 version devstack-plugin-ceph-tempest-py3.

We need to keep the devstack-plugin-ceph-tempest definition
for stable branches gate.

Change-Id: I6c512b29a0346db1f92de34b1dbfb56958fa2cad
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/56/708556/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd2db52ac845a7fb7c63eaab3dd525abe1ff4528,drop-py27-support, Integration tests that runs with the ceph devstack plugin and py27. Integration tests that runs with the ceph devstack plugin and py27. branches: - stable/stein - stable/train, Integration tests that runs with the ceph devstack plugin. Integration tests that runs with the ceph devstack plugin. branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ - devstack-plugin-ceph-tempest: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$,5,8
openstack%2Fpython-openstackclient~master~I08ffa0d98bd39d467aa415771675f59bd77768ff,openstack/python-openstackclient,master,I08ffa0d98bd39d467aa415771675f59bd77768ff,Add storage policy option to create container command,MERGED,2020-02-17 23:51:24.000000000,2020-03-17 02:28:21.000000000,2020-03-13 22:53:48.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-02-17 23:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/08257aa5c9732cc77001b8e87b3954baaa80c82a', 'message': 'Add storage policy option to create container command\n\n + Add CLI option to specify swift storage policy\n + Add CLI flag to specify container uses public read ACLS\n + Show storage policy in container show data\n\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: I08ffa0d98bd39d467aa415771675f59bd77768ff\n'}, {'number': 2, 'created': '2020-02-18 04:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e76082077668311feed774aaa25b43fce4e5309', 'message': 'Add storage policy option to create container command\n\n + Add CLI option to specify swift storage policy\n + Add CLI flag to specify container uses public read ACLS\n + Show storage policy in container show data\n\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: I08ffa0d98bd39d467aa415771675f59bd77768ff\n'}, {'number': 3, 'created': '2020-02-18 21:08:48.000000000', 'files': ['openstackclient/object/v1/container.py', 'openstackclient/tests/unit/api/test_object_store_v1.py', 'openstackclient/api/object_store_v1.py', 'openstackclient/tests/unit/object/v1/test_container_all.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d6022f96dfd608b83a4ff41483336f024aeacb16', 'message': 'Add storage policy option to create container command\n\n + Add CLI option to specify swift storage policy\n + Add CLI flag to specify container uses public read ACLS\n + Show storage policy in container show data\n\nChange-Id: I08ffa0d98bd39d467aa415771675f59bd77768ff\n'}]",1,708277,d6022f96dfd608b83a4ff41483336f024aeacb16,16,8,3,30447,,,0,"Add storage policy option to create container command

 + Add CLI option to specify swift storage policy
 + Add CLI flag to specify container uses public read ACLS
 + Show storage policy in container show data

Change-Id: I08ffa0d98bd39d467aa415771675f59bd77768ff
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/77/708277/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/object/v1/container.py', 'openstackclient/api/object_store_v1.py']",2,08257aa5c9732cc77001b8e87b3954baaa80c82a,new/swift-storage-policy-support,"GLOBAL_READ_ACL = "".r:*"" LIST_CONTENTS_ACL = "".rlistings"" PUBLIC_CONTAINER_ACLS = [GLOBAL_READ_ACL, LIST_CONTENTS_ACL] public=False, storage_policy=None :param bool public: Boolean value indicating if the container should be publicly readable. Defaults to False. :param string storage_policy: Name of the a specific storage policy to use. If not specified swift will use its default storage policy. headers = {} if public: headers['x-container-read'] = "","".join(PUBLIC_CONTAINER_ACLS) if storage_policy is not None: headers['x-storage-policy'] = storage_policy response = self.create( urllib.parse.quote(container), method='PUT', headers=headers) 'bytes_used': response.headers.get('x-container-bytes-used'), 'storage_policy': response.headers.get('x-storage-policy'),"," response = self.create(urllib.parse.quote(container), method='PUT') 'bytes_used': response.headers.get('x-container-bytes-used')",37,2
openstack%2Fcinder~master~I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,openstack/cinder,master,I8ce3c403904ea1c6990f88d52c1c1a068aaed75a,Don't quote {posargs} in tox.ini,MERGED,2018-10-08 19:44:14.000000000,2020-03-17 02:18:19.000000000,2018-10-09 19:12:30.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23561}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-10-08 19:44:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ca71f5b5b7f6c78a1f522623df47634842d255e', 'message': ""Don't quote {posargs} in tox.ini\n\nQuotes around {posargs} cause the entire string to be combined into one\narg that gets passed to stestr. This prevents passing multiple args\n(e.g. '--concurrency=16 some-regex')\n\nChange-Id: I8ce3c403904ea1c6990f88d52c1c1a068aaed75a\n""}]",0,608758,8ca71f5b5b7f6c78a1f522623df47634842d255e,35,28,1,23561,,,0,"Don't quote {posargs} in tox.ini

Quotes around {posargs} cause the entire string to be combined into one
arg that gets passed to stestr. This prevents passing multiple args
(e.g. '--concurrency=16 some-regex')

Change-Id: I8ce3c403904ea1c6990f88d52c1c1a068aaed75a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/608758/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8ca71f5b5b7f6c78a1f522623df47634842d255e,tox-dont-quote-posargs, stestr run {posargs}, stestr run '{posargs}',1,1
openstack%2Ftripleo-common~master~I007473967b57cda40bb1c9d7a2546a71a0c02db5,openstack/tripleo-common,master,I007473967b57cda40bb1c9d7a2546a71a0c02db5,Move UploadTemplatesAction functionality to utils,MERGED,2020-03-12 02:15:48.000000000,2020-03-17 02:11:23.000000000,2020-03-17 02:08:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 02:15:48.000000000', 'files': ['tripleo_common/tests/utils/test_template.py', 'tripleo_common/actions/templates.py', 'tripleo_common/utils/template.py', 'tripleo_common/tests/actions/test_templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a8dc3e7d7a27d791e30b7796a0c613b41264b8cb', 'message': 'Move UploadTemplatesAction functionality to utils\n\nChange-Id: I007473967b57cda40bb1c9d7a2546a71a0c02db5\n'}]",0,712599,a8dc3e7d7a27d791e30b7796a0c613b41264b8cb,9,4,1,8833,,,0,"Move UploadTemplatesAction functionality to utils

Change-Id: I007473967b57cda40bb1c9d7a2546a71a0c02db5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/712599/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_template.py', 'tripleo_common/actions/templates.py', 'tripleo_common/utils/template.py', 'tripleo_common/tests/actions/test_templates.py']",4,a8dc3e7d7a27d791e30b7796a0c613b41264b8cb,mistral_to_ansible,,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from tripleo_common.actions import templates from tripleo_common import constants from tripleo_common.tests import base JINJA_SNIPPET = r"""""" # Jinja loop for Role in role_data.yaml {% for role in roles %} # Resources generated for {{role.name}} Role {{role.name}}ServiceChain: type: OS::TripleO::Services properties: Services: get_param: {{role.name}}Services ServiceNetMap: {get_attr: [ServiceNetMap, service_net_map]} EndpointMap: {get_attr: [EndpointMap, endpoint_map]} DefaultPasswords: {get_attr: [DefaultPasswords, passwords]} {% endfor %}"""""" ROLE_DATA_YAML = r"""""" - name: CustomRole """""" NETWORK_DATA_YAML = r"""""" - name: InternalApi """""" EXPECTED_JINJA_RESULT = r"""""" # Jinja loop for Role in role_data.yaml # Resources generated for CustomRole Role CustomRoleServiceChain: type: OS::TripleO::Services properties: Services: get_param: CustomRoleServices ServiceNetMap: {get_attr: [ServiceNetMap, service_net_map]} EndpointMap: {get_attr: [EndpointMap, endpoint_map]} DefaultPasswords: {get_attr: [DefaultPasswords, passwords]} """""" JINJA_SNIPPET_CONFIG = r"""""" outputs: OS::stack_id: description: The software config which runs puppet on the {{role}} role value: {get_resource: {{role}}PuppetConfigImpl}"""""" J2_EXCLUDES = r"""""" name: - puppet/controller-role.yaml """""" J2_EXCLUDES_EMPTY_LIST = r"""""" name: """""" J2_EXCLUDES_EMPTY_FILE = r"""""" """""" ROLE_DATA_ENABLE_NETWORKS = r"""""" - name: RoleWithNetworks networks: - InternalApi """""" JINJA_SNIPPET_ROLE_NETWORKS = r"""""" {%- for network in networks %} {%- if network.name in role.networks%} {{network.name}}Port: type: {{role.name}}::{{network.name}}::Port {%- endif %} {% endfor %} """""" EXPECTED_JINJA_RESULT_ROLE_NETWORKS = r"""""" InternalApiPort: type: RoleWithNetworks::InternalApi::Port """""" class UploadTemplatesActionTest(base.TestCase): @mock.patch('tempfile.NamedTemporaryFile') @mock.patch('tripleo_common.actions.base.TripleOAction.get_object_client') @mock.patch('tripleo_common.utils.tarball.' 'tarball_extract_to_swift_container') @mock.patch('tripleo_common.utils.tarball.create_tarball') def test_run(self, mock_create_tar, mock_extract_tar, mock_get_swift, tempfile): mock_ctx = mock.MagicMock() tempfile.return_value.__enter__.return_value.name = ""test"" action = templates.UploadTemplatesAction(container='tar-container') action.run(mock_ctx) mock_create_tar.assert_called_once_with( constants.DEFAULT_TEMPLATES_PATH, 'test') mock_extract_tar.assert_called_once_with( mock_get_swift.return_value, 'test', 'tar-container') ",36,125
openstack%2Ftripleo-common~master~Iff77082d6712f5d464ada2f56c08ff8e6404b4d7,openstack/tripleo-common,master,Iff77082d6712f5d464ada2f56c08ff8e6404b4d7,Remove unused password and fernet rotation actions and workflows,MERGED,2020-03-08 05:31:04.000000000,2020-03-17 02:09:58.000000000,2020-03-17 02:08:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-08 05:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ed055f64b8fa7e99b9cf914e02e40182188743b0', 'message': 'Remove password and fernet rotation actons and workflows\n\nAs those are now converted to ansible playbooks we can\nsafely remove them.\n\nDepends-On: https://review.opendev.org/711436\nDepends-On: https://review.opendev.org/711837\nChange-Id: Iff77082d6712f5d464ada2f56c08ff8e6404b4d7\n'}, {'number': 2, 'created': '2020-03-09 07:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/444a3fbb30eb25e5183ba9a75fd5d780fc00071e', 'message': 'Remove unused password and fernet rotation actions and workflows\n\nAs those are now converted to ansible playbooks we can\nsafely remove them.\n\nDepends-On: https://review.opendev.org/711436\nDepends-On: https://review.opendev.org/711837\nChange-Id: Iff77082d6712f5d464ada2f56c08ff8e6404b4d7\n'}, {'number': 3, 'created': '2020-03-10 05:20:32.000000000', 'files': ['workbooks/plan_management.yaml', 'workbooks/fernet-key-rotate.yaml', 'tripleo_common/actions/parameters.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b623b2f2540f4ee36d8b20734feb6e08d50da7bf', 'message': 'Remove unused password and fernet rotation actions and workflows\n\nAs those are now converted to ansible playbooks we can\nsafely remove them.\n\nDepends-On: https://review.opendev.org/711436\nDepends-On: https://review.opendev.org/711837\nChange-Id: Iff77082d6712f5d464ada2f56c08ff8e6404b4d7\n'}]",0,711838,b623b2f2540f4ee36d8b20734feb6e08d50da7bf,20,6,3,8833,,,0,"Remove unused password and fernet rotation actions and workflows

As those are now converted to ansible playbooks we can
safely remove them.

Depends-On: https://review.opendev.org/711436
Depends-On: https://review.opendev.org/711837
Change-Id: Iff77082d6712f5d464ada2f56c08ff8e6404b4d7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/711838/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'workbooks/fernet-key-rotate.yaml', 'tripleo_common/actions/parameters.py', 'setup.cfg']",4,ed055f64b8fa7e99b9cf914e02e40182188743b0,mistral_to_ansible,, tripleo.parameters.generate_passwords = tripleo_common.actions.parameters:GeneratePasswordsAction tripleo.parameters.rotate_fernet_keys = tripleo_common.actions.parameters:RotateFernetKeysAction,0,196
openstack%2Ftripleo-common~master~I79c1a77342dfde6ac8e6fa230956829a847596c4,openstack/tripleo-common,master,I79c1a77342dfde6ac8e6fa230956829a847596c4,Move PrepareContainerImageEnv functionality to utils,MERGED,2020-03-12 02:15:48.000000000,2020-03-17 02:08:24.000000000,2020-03-17 02:08:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-12 02:15:48.000000000', 'files': ['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/actions/container_images.py', 'tripleo_common/tests/actions/test_container_images.py', 'tripleo_common/utils/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b32a278353a0a77c4433785d8ae8bf355906c92', 'message': 'Move PrepareContainerImageEnv functionality to utils\n\nChange-Id: I79c1a77342dfde6ac8e6fa230956829a847596c4\n'}]",0,712598,6b32a278353a0a77c4433785d8ae8bf355906c92,9,5,1,8833,,,0,"Move PrepareContainerImageEnv functionality to utils

Change-Id: I79c1a77342dfde6ac8e6fa230956829a847596c4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/712598/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/actions/container_images.py', 'tripleo_common/tests/actions/test_container_images.py', 'tripleo_common/utils/plan.py']",4,6b32a278353a0a77c4433785d8ae8bf355906c92,mistral_to_ansible," swift, container=constants.DEFAULT_CONTAINER_NAME, with_roledata=True): try: if with_roledata: plan_env = get_env(swift, container) env_paths, temp_env_paths = build_env_paths( swift, container, plan_env) env_files, env = process_environments_and_files( swift, env_paths) role_data = get_role_data(swift) image_params = kolla_builder.container_images_prepare_multi( env, role_data, dry_run=True) if image_params: params.update(image_params) LOG.exception(""Error occurred while updating plan files."") if with_roledata: for f in temp_env_paths: os.remove(f)"," swift, container=constants.DEFAULT_CONTAINER_NAME): try: plan_env = get_env(swift, container) except swiftexceptions.ClientException as err: err_msg = (""Error retrieving environment for plan %s: %s"" % ( container, err)) LOG.exception(err_msg) raise RuntimeError(err_msg) try: env_paths, temp_env_paths = build_env_paths( swift, container, plan_env) env_files, env = process_environments_and_files( swift, env_paths) role_data = get_role_data(swift) image_params = kolla_builder.container_images_prepare_multi( env, role_data, dry_run=True) if image_params: params.update(image_params) LOG.exception(""Error occurred while processing plan files."") for f in temp_env_paths: os.remove(f)",129,166
openstack%2Ftripleo-common~master~Ia584ff06e8fb22ee0372851af5ff731490f4babc,openstack/tripleo-common,master,Ia584ff06e8fb22ee0372851af5ff731490f4babc,Remove get_passwords workflow and related action,MERGED,2020-03-09 03:34:15.000000000,2020-03-17 02:08:22.000000000,2020-03-17 02:08:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-09 03:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1a122a77cd4960a154697196d84d347c3f38d333', 'message': 'Remove get_passwords workflow and related action\n\nThis was possibly written for tripleo-ui. Users can easily get the\ncurrent passwords from plan-environment.yaml\n\nChange-Id: Ia584ff06e8fb22ee0372851af5ff731490f4babc\n'}, {'number': 2, 'created': '2020-03-09 07:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbe47e4fd6a1024b7b08da5c44e3e82522b3030c', 'message': 'Remove get_passwords workflow and related action\n\nThis was possibly written for tripleo-ui. Users can easily get the\ncurrent passwords from plan-environment.yaml\n\nChange-Id: Ia584ff06e8fb22ee0372851af5ff731490f4babc\n'}, {'number': 3, 'created': '2020-03-10 05:20:32.000000000', 'files': ['workbooks/plan_management.yaml', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/762d14f61a3b419c708369d9d1eb8b2ccd49c3c6', 'message': 'Remove get_passwords workflow and related action\n\nThis was possibly written for tripleo-ui. Users can easily get the\ncurrent passwords from plan-environment.yaml\n\nChange-Id: Ia584ff06e8fb22ee0372851af5ff731490f4babc\n'}]",0,711867,762d14f61a3b419c708369d9d1eb8b2ccd49c3c6,15,5,3,8833,,,0,"Remove get_passwords workflow and related action

This was possibly written for tripleo-ui. Users can easily get the
current passwords from plan-environment.yaml

Change-Id: Ia584ff06e8fb22ee0372851af5ff731490f4babc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/67/711867/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py', 'setup.cfg']",4,1a122a77cd4960a154697196d84d347c3f38d333,mistral_to_ansible,, tripleo.parameters.get_passwords = tripleo_common.actions.parameters:GetPasswordsAction,0,306
openstack%2Fcharm-nova-cloud-controller~stable%2F20.02~I7537723e40a5a25672fbbdc2d5c3144724f6240a,openstack/charm-nova-cloud-controller,stable/20.02,I7537723e40a5a25672fbbdc2d5c3144724f6240a,Watch & react to placement and neutron ep changes.,ABANDONED,2020-03-17 01:02:14.000000000,2020-03-17 01:38:53.000000000,,"[{'_account_id': 12549}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-17 01:02:14.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/391e2a6a3d5f3cb1e07731e69bef32f963976b94', 'message': 'Watch & react to placement and neutron ep changes.\n\nRequest to be informed of changes to placement and neutron changes.\nIf a placement change occurs restart nova-scheduler as it will\ncache the old endpoint url and tell nova-compute to restart its\nservices as they will have done the same.\n\nChange-Id: I7537723e40a5a25672fbbdc2d5c3144724f6240a\nCloses-Bug: #1862974\n(cherry picked from commit 335b67c66a835e983349ecd4579619c333a77b48)\n'}]",0,713356,391e2a6a3d5f3cb1e07731e69bef32f963976b94,3,3,1,8108,,,0,"Watch & react to placement and neutron ep changes.

Request to be informed of changes to placement and neutron changes.
If a placement change occurs restart nova-scheduler as it will
cache the old endpoint url and tell nova-compute to restart its
services as they will have done the same.

Change-Id: I7537723e40a5a25672fbbdc2d5c3144724f6240a
Closes-Bug: #1862974
(cherry picked from commit 335b67c66a835e983349ecd4579619c333a77b48)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/56/713356/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py', 'hooks/nova_cc_hooks.py']",6,391e2a6a3d5f3cb1e07731e69bef32f963976b94,bug/1862974-stable/20.02," settings = ncc_utils.determine_endpoints( public_url, internal_url, admin_url) settings['subscribe_ep_change'] = 'neutron placement' hookenv.relation_set(relation_id=rid, relation_settings=settings) if ch_utils.endpoint_changed('placement'): hookenv.log(""Placement endpoint has changed, restarting services"", ""INFO"") ch_host.service_restart('nova-scheduler') hookenv.log((""Placement endpoint has changed, requesting nova-compute "" ""restart""), ""INFO"") for rid in hookenv.relation_ids('cloud-compute'): compute_joined(rid=rid, remote_restart=True) ch_utils.save_endpoint_changed_triggers(['placement'])"," hookenv.relation_set(relation_id=rid, **ncc_utils.determine_endpoints(public_url, internal_url, admin_url))",138,19
openstack%2Fcharm-nova-cloud-controller~master~I7537723e40a5a25672fbbdc2d5c3144724f6240a,openstack/charm-nova-cloud-controller,master,I7537723e40a5a25672fbbdc2d5c3144724f6240a,Watch & react to placement and neutron ep changes.,MERGED,2020-02-17 11:06:06.000000000,2020-03-17 01:02:14.000000000,2020-02-19 10:07:54.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 11:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b479ba069b357ca4653fb458dc576c755f229f6b', 'message': 'Watch & react to placement and neutron ep changes.\n\nRequest to be informed of changes to placement and neutron changes.\nIf a placement change occurs restart nova-scheduler as it will\ncache the old endpoint url and tell nova-compute to restart its\nservices as they will have done the same.\n\nChange-Id: I7537723e40a5a25672fbbdc2d5c3144724f6240a\nCloses-Bug: #1862974\n'}, {'number': 2, 'created': '2020-02-18 12:16:55.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/335b67c66a835e983349ecd4579619c333a77b48', 'message': 'Watch & react to placement and neutron ep changes.\n\nRequest to be informed of changes to placement and neutron changes.\nIf a placement change occurs restart nova-scheduler as it will\ncache the old endpoint url and tell nova-compute to restart its\nservices as they will have done the same.\n\nChange-Id: I7537723e40a5a25672fbbdc2d5c3144724f6240a\nCloses-Bug: #1862974\n'}]",0,708094,335b67c66a835e983349ecd4579619c333a77b48,14,4,2,12549,,,0,"Watch & react to placement and neutron ep changes.

Request to be informed of changes to placement and neutron changes.
If a placement change occurs restart nova-scheduler as it will
cache the old endpoint url and tell nova-compute to restart its
services as they will have done the same.

Change-Id: I7537723e40a5a25672fbbdc2d5c3144724f6240a
Closes-Bug: #1862974
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/94/708094/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'hooks/nova_cc_hooks.py']",2,b479ba069b357ca4653fb458dc576c755f229f6b,bug/1862974," settings = ncc_utils.determine_endpoints( public_url, internal_url, admin_url) settings['subscribe_ep_change'] = 'neutron placement' hookenv.relation_set(relation_id=rid, relation_settings=settings) if ch_utils.endpoint_changed('placement'): hookenv.log(""Placement endpoint has changed, restarting services"", ""INFO"") ch_host.service_restart('nova-scheduler') hookenv.log((""Placement endpoint has changed, requesting nova-compute "" ""restart""), ""INFO"") for rid in hookenv.relation_ids('cloud-compute'): compute_joined(rid=rid, remote_restart=True) ch_utils.save_endpoint_changed_triggers(['placement'])"," hookenv.relation_set(relation_id=rid, **ncc_utils.determine_endpoints(public_url, internal_url, admin_url))",103,4
openstack%2Fnova~master~Ibc4e6d99a481872b9e091243a5ad3748d3ec2713,openstack/nova,master,Ibc4e6d99a481872b9e091243a5ad3748d3ec2713,[WIP] Create 'mixed' instance from PCPU and VCPU resources,ABANDONED,2020-02-03 13:01:47.000000000,2020-03-17 00:59:33.000000000,,"[{'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-02-03 13:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c53abf07c12e748bd3331f476a445eaedecb4fb9', 'message': ""Create 'mixed' instance from PCPU and VCPU resources\n\nCreating the 'mixed' instance if both 'PCPU' and 'VCPU' resources\nhave been provided in flavor extra specs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ibc4e6d99a481872b9e091243a5ad3748d3ec2713\n""}, {'number': 2, 'created': '2020-02-03 13:05:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/objects/fields.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fbf9ffcbb8f6cbea5045312b0370b7e4e52e154', 'message': ""[WIP] Create 'mixed' instance from PCPU and VCPU resources\n\nCreating the 'mixed' instance if both 'PCPU' and 'VCPU' resources\nhave been provided in flavor extra specs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ibc4e6d99a481872b9e091243a5ad3748d3ec2713\n""}]",0,705437,9fbf9ffcbb8f6cbea5045312b0370b7e4e52e154,11,7,2,30209,,,0,"[WIP] Create 'mixed' instance from PCPU and VCPU resources

Creating the 'mixed' instance if both 'PCPU' and 'VCPU' resources
have been provided in flavor extra specs.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Ibc4e6d99a481872b9e091243a5ad3748d3ec2713
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/705437/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/objects/fields.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,c53abf07c12e748bd3331f476a445eaedecb4fb9,bp/use-pcpu-and-vcpu-in-one-instance," def test_get_guest_config_numa_host_instance_shared_emulthreads__mixed(self): self.flags(cpu_shared_set='0-3', cpu_dedicated_set='4-8', group='compute') instance_topology = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.SHARE), cells=[ objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=1024, cpu_policy=fields.CPUAllocationPolicy.MIXED, cpu_pinning={1: 8}), objects.InstanceNUMACell( id=1, cpuset=set([2, 3]), memory=1024, cpu_policy=fields.CPUAllocationPolicy.MIXED, cpu_pinning={3: 7})]) instance_ref = objects.Instance(**self.test_instance) instance_ref.numa_topology = instance_topology image_meta = objects.ImageMeta.from_dict(self.test_image_meta) caps = vconfig.LibvirtConfigCaps() caps.host = vconfig.LibvirtConfigCapsHost() caps.host.cpu = vconfig.LibvirtConfigCPU() caps.host.cpu.arch = ""x86_64"" caps.host.topology = fakelibvirt.NUMATopology() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) with test.nested( mock.patch.object( objects.InstanceNUMATopology, ""get_by_instance_uuid"", return_value=instance_topology), mock.patch.object(host.Host, 'has_min_version', return_value=True), mock.patch.object(host.Host, ""get_capabilities"", return_value=caps), mock.patch.object(host.Host, 'get_online_cpus', return_value=set(range(10))), ): cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(set([0, 1, 2, 3]), cfg.cputune.emulatorpin.cpuset) self.assertEqual(set([8]), cfg.cputune.vcpupin[1].cpuset) self.assertEqual(set([7]), cfg.cputune.vcpupin[3].cpuset) def test_get_guest_config_numa_host_instance_isolated_emulthreads__mixed(self): self.flags(cpu_shared_set='0-3', cpu_dedicated_set='4-8', group='compute') instance_topology = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[ objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), memory=1024, cpu_policy=fields.CPUAllocationPolicy.MIXED, cpu_pinning={1: 8}, cpuset_reserved=set([6])), objects.InstanceNUMACell( id=1, cpuset=set([2, 3]), memory=1024, cpu_policy=fields.CPUAllocationPolicy.MIXED, cpu_pinning={3: 7})]) instance_ref = objects.Instance(**self.test_instance) instance_ref.numa_topology = instance_topology image_meta = objects.ImageMeta.from_dict(self.test_image_meta) caps = vconfig.LibvirtConfigCaps() caps.host = vconfig.LibvirtConfigCapsHost() caps.host.cpu = vconfig.LibvirtConfigCPU() caps.host.cpu.arch = ""x86_64"" caps.host.topology = fakelibvirt.NUMATopology() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) with test.nested( mock.patch.object( objects.InstanceNUMATopology, ""get_by_instance_uuid"", return_value=instance_topology), mock.patch.object(host.Host, 'has_min_version', return_value=True), mock.patch.object(host.Host, ""get_capabilities"", return_value=caps), mock.patch.object(host.Host, 'get_online_cpus', return_value=set(range(10))), ): cfg = drvr._get_guest_config(instance_ref, [], image_meta, disk_info) self.assertEqual(set([6]), cfg.cputune.emulatorpin.cpuset) self.assertEqual(set([8]), cfg.cputune.vcpupin[1].cpuset) self.assertEqual(set([7]), cfg.cputune.vcpupin[3].cpuset) ",,502,25
openstack%2Ftripleo-ansible~master~I05e834b4c88250e86746ce5fe8f85b0ea9d4d011,openstack/tripleo-ansible,master,I05e834b4c88250e86746ce5fe8f85b0ea9d4d011,"Revert ""Revert ""Modify the introspection playbook to simplify client interactions""""",MERGED,2020-03-05 20:57:08.000000000,2020-03-17 00:45:38.000000000,2020-03-16 23:17:52.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-05 20:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd8e8c9f9fc2c7c12aa00f6c1b3f0c6c7f40e3f2', 'message': 'Revert ""Revert ""Modify the introspection playbook to simplify client interactions""""\n\nThis reverts commit c27075ba70cf316d07dfcc4c391652b50e2abf30.\n\nChange-Id: I05e834b4c88250e86746ce5fe8f85b0ea9d4d011\nDepends-On: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 2, 'created': '2020-03-11 13:43:39.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aae5bdee93eea7320008457d6fa5dd3ab1c46153', 'message': 'Revert ""Revert ""Modify the introspection playbook to simplify client interactions""""\n\nThis reverts commit c27075ba70cf316d07dfcc4c391652b50e2abf30. This is being reverted because\nwe\'re now ready to clean this playbook up.\n\nChange-Id: I05e834b4c88250e86746ce5fe8f85b0ea9d4d011\nDepends-On: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711553,aae5bdee93eea7320008457d6fa5dd3ab1c46153,20,9,2,7353,,,0,"Revert ""Revert ""Modify the introspection playbook to simplify client interactions""""

This reverts commit c27075ba70cf316d07dfcc4c391652b50e2abf30. This is being reverted because
we're now ready to clean this playbook up.

Change-Id: I05e834b4c88250e86746ce5fe8f85b0ea9d4d011
Depends-On: I48bedfe9a705f5ff8e0eed1f852b77938d53c763
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/711553/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'],1,dd8e8c9f9fc2c7c12aa00f6c1b3f0c6c7f40e3f2,mistral_to_ansible," Input missing `{{ item }}` when: - hostvars[inventory_hostname][item] is undefined loop: - node_uuids tasks: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}"" # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool "," Either `node_uuids` or `all_manageable` are required inputs but currently are not set. Check you inputs and try again. when: >- (node_uuids is undefined and all_manageable is undefined) or (node_uuids is undefined and not all_manageable|bool) tasks: # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool # TODO(sshnaidm): change to module when https://review.opendev.org/#/c/694751/ merges - name: Run all manageable block when: - all_manageable is defined - all_manageable|bool block: # Get Node UUIDs, if ""all_manageable"" is True - name: Get node UUIDS os_baremetal_node_info: auth_type: password cloud: undercloud filters: provision_state: manageable register: manageable_nodes - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ manageable_nodes.baremetal_nodes | default([]) | map(attribute='id') | list }}"" - name: Process only passed node UUIDs when: - all_manageable is not defined or not all_manageable|bool block: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}""",15,40
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3b669665548668423d4ce7e34262c12903fba522,openstack/tripleo-heat-templates,stable/queens,I3b669665548668423d4ce7e34262c12903fba522,[TRAIN and before] Introduce ContainerCpusetCpus,MERGED,2020-03-14 23:00:11.000000000,2020-03-17 00:38:00.000000000,2020-03-17 00:36:31.000000000,"[{'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 23:00:11.000000000', 'files': ['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fec0dfb47d1fa6dfa25139992ff7291c7b9cc682', 'message': ""[TRAIN and before] Introduce ContainerCpusetCpus\n\nAdd a role specific parameter, ContainerCpusetCpus, default to 'all', which\nallows to limit the specific CPUs or cores a container can use.\nTo disable it and rely on container engine default, set it to ''.\n\nChange-Id: I3b669665548668423d4ce7e34262c12903fba522\nRelated-Bug: #1867357\n(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)\n""}]",0,713121,fec0dfb47d1fa6dfa25139992ff7291c7b9cc682,9,4,1,3153,,,0,"[TRAIN and before] Introduce ContainerCpusetCpus

Add a role specific parameter, ContainerCpusetCpus, default to 'all', which
allows to limit the specific CPUs or cores a container can use.
To disable it and rely on container engine default, set it to ''.

Change-Id: I3b669665548668423d4ce7e34262c12903fba522
Related-Bug: #1867357
(cherry picked from commit 85850d8af240722facdf59eea79f2523057d1e8a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/713121/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'docker/services/nova-libvirt.yaml']",2,fec0dfb47d1fa6dfa25139992ff7291c7b9cc682,nfv/queens," ContainerCpusetCpus: description: Limit the specific CPUs or cores a container can use. type: string default: 'all' tags: - role_specific container_cpuset_cpus: ContainerCpusetCpus ContainerCpusetCpus: {get_param: ContainerCpusetCpus} cpuset_cpus: {get_attr: [RoleParametersValue, value, container_cpuset_cpus]}", cpuset_cpus: all,15,1
openstack%2Ftripleo-common~master~I011cb62850bb4f298f78a1cfede4e60044523be6,openstack/tripleo-common,master,I011cb62850bb4f298f78a1cfede4e60044523be6,Change how we test for call,MERGED,2020-03-16 17:56:11.000000000,2020-03-17 00:37:54.000000000,2020-03-17 00:36:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 17:56:11.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/23ec01dc3f9d16e1fe73c1bc96cb0983574098a6', 'message': ""Change how we test for call\n\nIt appears that there are json comparison issues for some versions <= py35\nso we need to check that the expected manifest matches in a different\nway to ensure compatibility between py27 and newer. Since we've dropped\nthese versions of python in Ussuri, this only applies to older version.\n\nChange-Id: I011cb62850bb4f298f78a1cfede4e60044523be6\nCloses-Bug: #1867648\n""}]",0,713303,23ec01dc3f9d16e1fe73c1bc96cb0983574098a6,9,4,1,14985,,,0,"Change how we test for call

It appears that there are json comparison issues for some versions <= py35
so we need to check that the expected manifest matches in a different
way to ensure compatibility between py27 and newer. Since we've dropped
these versions of python in Ussuri, this only applies to older version.

Change-Id: I011cb62850bb4f298f78a1cfede4e60044523be6
Closes-Bug: #1867648
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/713303/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/tests/image/test_image_uploader.py'],1,23ec01dc3f9d16e1fe73c1bc96cb0983574098a6,," expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( export_mock.call_args[0][1] ) self.assertEqual(expected_manifest, call_manifest) expected_manifest = { } data=mock.ANY, # We're seeing ordering issues with the py27 checking this field # so switch to checking it this way call_manifest = json.loads( target_put.call_args[1]['data'].decode('utf-8') ) self.assertEqual(expected_manifest, call_manifest)"," expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'), expected_manifest_str = json.dumps({ }, indent=3) expected_manifest_str, expected_manifest_str = json.dumps({ }, indent=3) data=expected_manifest_str.encode('utf-8'),",27,9
openstack%2Fpaunch~stable%2Fqueens~I615c798bdbcc0115f0ca9642969193ceada9b9cd,openstack/paunch,stable/queens,I615c798bdbcc0115f0ca9642969193ceada9b9cd,Don't set cpuset_cpus if empty,MERGED,2020-03-14 22:57:27.000000000,2020-03-17 00:36:32.000000000,2020-03-17 00:36:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 22:57:27.000000000', 'files': ['paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/811db58e98e46003ef3ebbb85fb23de4f1bdac25', 'message': ""Don't set cpuset_cpus if empty\n\nIf cpuset_cpus is set to '', we don't want to configure it, just skip\nit.\n\nCloses-Bug: #1867357\nChange-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd\n(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)\n(cherry picked from commit 37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc)\n(cherry picked from commit 22315435e4948f223725fe9867ce52ecdad7450c)\n""}]",0,713120,811db58e98e46003ef3ebbb85fb23de4f1bdac25,7,3,1,3153,,,0,"Don't set cpuset_cpus if empty

If cpuset_cpus is set to '', we don't want to configure it, just skip
it.

Closes-Bug: #1867357
Change-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd
(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)
(cherry picked from commit 37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc)
(cherry picked from commit 22315435e4948f223725fe9867ce52ecdad7450c)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/20/713120/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/compose1.py'],1,811db58e98e46003ef3ebbb85fb23de4f1bdac25,nfv/queens, if 'cpuset_cpus' in cconfig and cconfig['cpuset_cpus'] != '':, if 'cpuset_cpus' in cconfig:,1,1
openstack%2Ftripleo-quickstart-extras~master~Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3,openstack/tripleo-quickstart-extras,master,Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3,Make reproducer script centos-8 friendly,MERGED,2020-02-10 21:12:32.000000000,2020-03-17 00:23:24.000000000,2020-03-17 00:23:24.000000000,"[{'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-10 21:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/116aac81226a0fdf32eb9ebe81de34c9a4e32a68', 'message': ""Make reproducer script centos-8 friendly\n\nThe install-deps.sh handles centos-8 just fine as long as the\nUSER_PYTHON_OVERRIDE isn't set.\n\nAlso, don't assume that docker is installed so put the docker group\nsetup in a conditional block.\n\nChange-Id: Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3\n""}, {'number': 2, 'created': '2020-02-10 21:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/12a97746690a5c4456c7c04669fd894743ecd422', 'message': ""Make reproducer script centos-8 friendly\n\nThe install-deps.sh handles centos-8 just fine as long as the\nUSER_PYTHON_OVERRIDE isn't set.\n\nAlso, don't assume that docker is installed so put the docker group\nsetup in a conditional block.\n\nChange-Id: Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3\n""}, {'number': 3, 'created': '2020-03-12 22:32:46.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a05c3185d747327a4faefa98f6437b9fdf90185f', 'message': ""Make reproducer script centos-8 friendly\n\nThe install-deps.sh handles centos-8 just fine as long as the\nUSER_PYTHON_OVERRIDE isn't set.\n\nAlso, don't assume that docker is installed so put the docker group\nsetup in a conditional block.\n\nChange-Id: Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3\n""}]",0,706977,a05c3185d747327a4faefa98f6437b9fdf90185f,23,7,3,4571,,,0,"Make reproducer script centos-8 friendly

The install-deps.sh handles centos-8 just fine as long as the
USER_PYTHON_OVERRIDE isn't set.

Also, don't assume that docker is installed so put the docker group
setup in a conditional block.

Change-Id: Ib0aae3d17bee259d72ed964c289bf0b9f4406ce3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/706977/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,116aac81226a0fdf32eb9ebe81de34c9a4e32a68,reproducer-centos-8,"if [ -x ""/usr/bin/docker"" ] ; then # Fail as early as possible if the docker # group is not setup appropriately. # This has to be done AFTER package intalls. # Set up docker groups if ! groups | grep -Eq ""docker|dockerroot""; then echo ""$USER is not in the docker|dockerroot group."" if grep -q docker: /etc/group; then DG=docker elif grep -q dockerroot: /etc/group; then DG=dockerroot elif ! grep -q docker /etc/group; then sudo groupadd docker DG=docker fi sudo usermod -aG $DG $USER echo -e ""\e[31m WARNING: The script has exited the current shell in order to setup \ the user groups via usermod correctly. Please re-execute the script. \e[0m"" exec sg $DG newgrp `id -gn` # This can only be checked after rpms are installed. # Check the Docker config if [[ -f /etc/docker/daemon.json ]]; then if cat /etc/docker/daemon.json | grep '""group"": ""docker""'; then echo ""docker group is already added to /etc/docker/daemon.json"" elif cat /etc/docker/daemon.json | grep '""group"": ""dockerroot""'; then echo ""dockerroot group is already added to /etc/docker/daemon.json"" elif (( $(cat /etc/docker/daemon.json | wc -m) > 3 )); then echo -e ""\e[31m /etc/docker/daemon.json is populated. \ Exit this script and either clear the file or add the docker group. \e[0m"" | xargs exit 1 else echo ""The docker|dockerroot group will be added to /etc/docker/daemon.json."" fi fi # Ensure the docker process has been restarted sudo systemctl restart docker fi","# Install rpms and other requirements # Currently, only python2 is supported export USER_PYTHON_OVERRIDE=python2 export USER_OVERRIDE_SUDO_CHECK=1 # Fail as early as possible if the docker # group is not setup appropriately. # This has to be done AFTER package intalls. # Set up docker groups if ! groups | grep -Eq ""docker|dockerroot""; then echo ""$USER is not in the docker|dockerroot group."" if grep -q docker: /etc/group; then DG=docker elif grep -q dockerroot: /etc/group; then DG=dockerroot elif ! grep -q docker /etc/group; then sudo groupadd docker DG=docker sudo usermod -aG $DG $USER echo -e ""\e[31m WARNING: The script has exited the current shell in order to setup \ the user groups via usermod correctly. Please re-execute the script. \e[0m"" exec sg $DG newgrp `id -gn` fi # This can only be checked after rpms are installed. # Check the Docker config if [[ -f /etc/docker/daemon.json ]]; then if cat /etc/docker/daemon.json | grep '""group"": ""docker""'; then echo ""docker group is already added to /etc/docker/daemon.json"" elif cat /etc/docker/daemon.json | grep '""group"": ""dockerroot""'; then echo ""dockerroot group is already added to /etc/docker/daemon.json"" elif (( $(cat /etc/docker/daemon.json | wc -m) > 3 )); then echo -e ""\e[31m /etc/docker/daemon.json is populated. \ Exit this script and either clear the file or add the docker group. \e[0m"" | xargs exit 1 else echo ""The docker|dockerroot group will be added to /etc/docker/daemon.json."" fi fi # Ensure the docker process has been restarted sudo systemctl restart docker",37,40
openstack%2Fpython-magnumclient~stable%2Ftrain~Id90ef1235aebe8d69a48a9b6a41d14474e12f4f4,openstack/python-magnumclient,stable/train,Id90ef1235aebe8d69a48a9b6a41d14474e12f4f4,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 17:40:51.000000000,2020-03-17 00:17:16.000000000,2020-03-17 00:15:52.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:40:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/97353d30f7a29642b02d2e1bccf24b1cba5341df', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id90ef1235aebe8d69a48a9b6a41d14474e12f4f4\n'}]",0,683611,97353d30f7a29642b02d2e1bccf24b1cba5341df,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id90ef1235aebe8d69a48a9b6a41d14474e12f4f4
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/11/683611/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97353d30f7a29642b02d2e1bccf24b1cba5341df,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fbifrost~master~I738d7c2e50914a773920e5381305e8c5131ccd5f,openstack/bifrost,master,I738d7c2e50914a773920e5381305e8c5131ccd5f,Fix for PEP517 issue with Python 3.6.8,MERGED,2020-03-12 14:10:55.000000000,2020-03-16 23:55:22.000000000,2020-03-16 23:54:00.000000000,"[{'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-12 14:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c5c3476b3014eea3a012af110037a91856534c22', 'message': '[DNM] test ci\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}, {'number': 2, 'created': '2020-03-12 16:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9de0adcb4d04e10d7ba458b4f2c5e971f9a4bcb9', 'message': 'Fix for PEP517 issue with Python 3.6.8\n\nWhen creating a virtualenv with Python 3.6.8 using the\n--system-site-packages option and pip>=19.0.0 a bug affects\nthe virtualenv breaking pep build isolation.\nThis patch downgrade pip to version 19.0.0 as a\nworkaround.\n\nSee [1] for more info.\n\n[1] https://github.com/pypa/pip/issues/6264\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}, {'number': 3, 'created': '2020-03-12 16:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f2643a868c7875520cc08882d46cb8d3fd846a42', 'message': 'Fix for PEP517 issue with Python 3.6.8\n\nWhen creating a virtualenv with Python 3.6.8 using the\n--system-site-packages option and pip>=19.0.0 a bug affects\nthe virtualenv breaking pep build isolation.\nThis patch downgrade pip to version 19.0.0 as a\nworkaround.\n\nSee [1] for more info.\n\n[1] https://github.com/pypa/pip/issues/6264\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}, {'number': 4, 'created': '2020-03-13 07:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6563988f2b0715a876e748799d91ac1ea5ca4bc3', 'message': 'Fix for PEP517 issue with Python 3.6.8\n\nWhen creating a virtualenv with Python 3.6.8 using the\n--system-site-packages option and pip>=19.0.0 a bug affects\nthe virtualenv breaking pep build isolation.\nThis patch downgrade pip to version 19.0.0 as a\nworkaround.\n\nAlso converts pip3 command to pip.\n\nSee [1] for more info.\n\n[1] https://github.com/pypa/pip/issues/6264\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}, {'number': 5, 'created': '2020-03-13 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0cedcd7bf81ea272913691f6bcc9c286b87c8b94', 'message': 'Fix for PEP517 issue with Python 3.6.8\n\nWhen creating a virtualenv with Python 3.6.8 using the\n--system-site-packages option and pip>=19.0.0 a bug affects\nthe virtualenv breaking pep build isolation.\nThis patch downgrade pip to version 19.0.0 as a\nworkaround.\n\nAlso converts pip3 command to pip.\n\nSee [1] for more info.\n\n[1] https://github.com/pypa/pip/issues/6264\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}, {'number': 6, 'created': '2020-03-13 13:25:03.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/19b9f685b54405a3024caad2ce28fdc3d5170932', 'message': 'Fix for PEP517 issue with Python 3.6.8\n\nWhen creating a virtualenv with Python 3.6.8 using the\n--system-site-packages option and pip>=19.0.0 a bug affects\nthe virtualenv breaking pep build isolation.\nThis patch downgrade pip to version 19.0.0 as a\nworkaround.\n\nAlso converts pip3 command to pip.\n\nSee [1] for more info.\n\n[1] https://github.com/pypa/pip/issues/6264\n\nChange-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f\n'}]",6,712692,19b9f685b54405a3024caad2ce28fdc3d5170932,26,5,6,23851,,,0,"Fix for PEP517 issue with Python 3.6.8

When creating a virtualenv with Python 3.6.8 using the
--system-site-packages option and pip>=19.0.0 a bug affects
the virtualenv breaking pep build isolation.
This patch downgrade pip to version 19.0.0 as a
workaround.

Also converts pip3 command to pip.

See [1] for more info.

[1] https://github.com/pypa/pip/issues/6264

Change-Id: I738d7c2e50914a773920e5381305e8c5131ccd5f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/92/712692/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml']",3,c5c3476b3014eea3a012af110037a91856534c22,fix-pep517,# test,,21,3
openstack%2Fcinder~stable%2Fstein~I3dc6a55ee5ed496a37885a139fba11d1134e971f,openstack/cinder,stable/stein,I3dc6a55ee5ed496a37885a139fba11d1134e971f,NEC driver: fix an undefined variable,MERGED,2020-02-19 05:41:14.000000000,2020-03-16 23:44:55.000000000,2020-03-16 14:37:29.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2020-02-19 05:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5df80c5b77aad22ad7e5a1886d5bf7ef1ccb4fc2', 'message': 'NEC driver: fix an undefined variable\n\nCurrently, NEC driver references an undefined variable in message\nformatting.\nThat causes volume creation failure when 4 or more volumes are created\nfrom same image in parallel.\n\nThis patch removes the reference.\n\nChange-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f\nCloses-Bug: #1850913\n(cherry picked from commit 16dbad18ccb98e1e89dc9d1d2369fdb893d855b0)\n(cherry picked from commit 41cf3b749797425d5ddd6cb93109299e14224b3a)\n'}, {'number': 2, 'created': '2020-02-25 09:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a14d6f864c5c96e9a09945a628f1bb1734d5c0f', 'message': 'NEC driver: fix an undefined variable\n\nCurrently, NEC driver references an undefined variable in message\nformatting.\nThat causes volume creation failure when 4 or more volumes are created\nfrom same image in parallel.\n\nThis patch removes the reference.\n\nChange-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f\nCloses-Bug: #1850913\n(cherry picked from commit 16dbad18ccb98e1e89dc9d1d2369fdb893d855b0)\n(cherry picked from commit 41cf3b749797425d5ddd6cb93109299e14224b3a)\n'}, {'number': 3, 'created': '2020-03-10 06:40:28.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16f9c5535faddba127214a57b5626f1b9795a673', 'message': 'NEC driver: fix an undefined variable\n\nCurrently, NEC driver references an undefined variable in message\nformatting.\nThat causes volume creation failure when 4 or more volumes are created\nfrom same image in parallel.\n\nThis patch removes the reference.\n\nConflicts:\n        cinder/tests/unit/volume/drivers/nec/test_volume.py\n        Note: It is refactored in Train.\n\nChange-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f\nCloses-Bug: #1850913\n(cherry picked from commit 16dbad18ccb98e1e89dc9d1d2369fdb893d855b0)\n(cherry picked from commit 41cf3b749797425d5ddd6cb93109299e14224b3a)\n'}]",4,708562,16f9c5535faddba127214a57b5626f1b9795a673,62,23,3,28403,,,0,"NEC driver: fix an undefined variable

Currently, NEC driver references an undefined variable in message
formatting.
That causes volume creation failure when 4 or more volumes are created
from same image in parallel.

This patch removes the reference.

Conflicts:
        cinder/tests/unit/volume/drivers/nec/test_volume.py
        Note: It is refactored in Train.

Change-Id: I3dc6a55ee5ed496a37885a139fba11d1134e971f
Closes-Bug: #1850913
(cherry picked from commit 16dbad18ccb98e1e89dc9d1d2369fdb893d855b0)
(cherry picked from commit 41cf3b749797425d5ddd6cb93109299e14224b3a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/708562/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,5df80c5b77aad22ad7e5a1886d5bf7ef1ccb4fc2,bug/1850913, 'ldname=%s') % source_name)," '%(msg)s. ldname=%(ldname)s') % {'msg': msg, 'ldname': source_name})",8,2
openstack%2Ftripleo-heat-templates~master~Ib2d1a9132270661331ea139a299a8f8478f56eeb,openstack/tripleo-heat-templates,master,Ib2d1a9132270661331ea139a299a8f8478f56eeb,Parse healthchecks.log instead fetching systemd data,MERGED,2020-01-23 23:00:45.000000000,2020-03-16 23:44:05.000000000,2020-03-16 21:32:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 6924}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30921}]","[{'number': 1, 'created': '2020-01-23 23:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86dd8f84958b20cc4bf449986f24419f1314a4ea', 'message': ""Parse healthchecks.log instead fetching systemd data\n\nThis patch removes access to systemd for collectd container and instead\nleverages the healthchecks.log created by host's rsyslog to check\nfor unhealthy containers. It also removes relabeling /var/run, though\nwe still need the access for purposes of collectd plugins.\n\nChange-Id: Ib2d1a9132270661331ea139a299a8f8478f56eeb\n""}, {'number': 2, 'created': '2020-01-24 13:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b303e5258b3cb169a045d830072554c086e250e', 'message': ""Parse healthchecks.log instead fetching systemd data\n\nThis patch removes access to systemd for collectd container and instead\nleverages the healthchecks.log created by host's rsyslog to check\nfor unhealthy containers. It also removes relabeling /var/run, though\nwe still need the access for purposes of collectd plugins.\n\nChange-Id: Ib2d1a9132270661331ea139a299a8f8478f56eeb\n""}, {'number': 3, 'created': '2020-02-03 06:33:09.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dd4ed097d82c12b78955efba4e3fd138eafc272', 'message': ""Parse healthchecks.log instead fetching systemd data\n\nThis patch removes access to systemd for collectd container and instead\nleverages the healthchecks.log created by host's rsyslog to check\nfor unhealthy containers. It also removes relabeling /var/run, though\nwe still need the access for purposes of collectd plugins.\n\nChange-Id: Ib2d1a9132270661331ea139a299a8f8478f56eeb\n""}]",2,704080,7dd4ed097d82c12b78955efba4e3fd138eafc272,20,9,3,5241,,,0,"Parse healthchecks.log instead fetching systemd data

This patch removes access to systemd for collectd container and instead
leverages the healthchecks.log created by host's rsyslog to check
for unhealthy containers. It also removes relabeling /var/run, though
we still need the access for purposes of collectd plugins.

Change-Id: Ib2d1a9132270661331ea139a299a8f8478f56eeb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/704080/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,86dd8f84958b20cc4bf449986f24419f1314a4ea,no-systemd-hc," output="""" while read line ; do i=$(echo $line | awk '//{gsub(/:/, """", $0); print $5}') log=$(echo $line | awk '{split($0,a,/:\s+Error:\s+/); print a[2]}') log=${log:0:-1} output+="" ; ${i}: ${log}"" done < <(egrep ""^[a-zA-Z]{3}\s+[0-9]{2}\s+[0-9\:]{8}\s+.*\s+.*:\s+[Ee]rror\:"" /var/log/collectd/healthchecks.log) cat /dev/null > /var/log/collectd/healthchecks.log - /var/run/:/var/run:rw"," output='' for i in $(systemctl list-timers --no-pager --no-legend ""tripleo*healthcheck.timer"" | awk '{print $14}'); do i=${i%.timer} if result=$(systemctl show $i --property=ActiveState | awk '{split($0,a,/=/); print a[2]}'); then if [ ""$result"" == 'failed' ]; then timestamp=$(systemctl show $i --property=InactiveEnterTimestamp | awk '{print $2, $3}' ) log=$(journalctl -u $i -t podman --since ""${timestamp}"" --no-pager --output=cat --directory /var/log/journal) if [ ! -z ""$output"" ]; then output=""$i: $log ; $output"" else output=""$i: $log"" fi fi fi done - /var/run/:/var/run:rw,z - /var/log/journal:/var/log/journal:ro - /usr/lib/systemd/system:/usr/lib/systemd/system:ro",9,18
openstack%2Fswift~stable%2Fstein~I73b5af9645f3f7349144384609bf18a79620e92f,openstack/swift,stable/stein,I73b5af9645f3f7349144384609bf18a79620e92f,Ensure domain stored in memcached gets utf8 decoded on py2,MERGED,2020-03-03 05:20:19.000000000,2020-03-16 23:38:45.000000000,2020-03-16 23:37:10.000000000,"[{'_account_id': 12050}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 05:20:19.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/24bb15c2914c23b02c801eb29e3da452b81ebf3d', 'message': 'Ensure domain stored in memcached gets utf8 decoded on py2\n\nChange-Id: I73b5af9645f3f7349144384609bf18a79620e92f\nCloses-Bug: #1862115\n(cherry picked from commit 61bf5ee1c428410b70bfab0a6eae361df948d03e)\n'}]",0,710905,24bb15c2914c23b02c801eb29e3da452b81ebf3d,11,3,1,15343,,,0,"Ensure domain stored in memcached gets utf8 decoded on py2

Change-Id: I73b5af9645f3f7349144384609bf18a79620e92f
Closes-Bug: #1862115
(cherry picked from commit 61bf5ee1c428410b70bfab0a6eae361df948d03e)
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/710905/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/cname_lookup.py']",2,24bb15c2914c23b02c801eb29e3da452b81ebf3d,bug/1862115,"import sixfrom swift.common.swob import Request, HTTPBadRequest, \ str_to_wsgi, wsgi_to_str requested_host = env['HTTP_HOST'] else: requested_host = env['SERVER_NAME'] given_domain = wsgi_to_str(requested_host) if six.PY2 and found_domain: found_domain = found_domain.encode('utf-8') env['HTTP_HOST'] = ':'.join([ str_to_wsgi(found_domain), port]) else: env['HTTP_HOST'] = str_to_wsgi(found_domain)","from six.moves import rangefrom swift.common.swob import Request, HTTPBadRequest requested_host = given_domain = env['HTTP_HOST'] else: requested_host = given_domain = env['SERVER_NAME'] env['HTTP_HOST'] = ':'.join([found_domain, port]) else: env['HTTP_HOST'] = found_domain",20,6
openstack%2Frequirements~stable%2Ftrain~I2416071c1579f354a65b502aec84578f565377b5,openstack/requirements,stable/train,I2416071c1579f354a65b502aec84578f565377b5,update constraint for openstacksdk to new release 0.36.2,MERGED,2020-03-16 16:43:07.000000000,2020-03-16 23:37:09.000000000,2020-03-16 23:37:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 16:43:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3410c3d2afa4e607012b4c09d191575ceebb4438', 'message': 'update constraint for openstacksdk to new release 0.36.2\n\nChange-Id: I2416071c1579f354a65b502aec84578f565377b5\nmeta:version: 0.36.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Id1abe76ac4963be40f2247be376b1eea0ee2bc07\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713287,3410c3d2afa4e607012b4c09d191575ceebb4438,6,2,1,11131,,,0,"update constraint for openstacksdk to new release 0.36.2

Change-Id: I2416071c1579f354a65b502aec84578f565377b5
meta:version: 0.36.2
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Id1abe76ac4963be40f2247be376b1eea0ee2bc07
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/713287/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3410c3d2afa4e607012b4c09d191575ceebb4438,new-release,openstacksdk===0.36.2,openstacksdk===0.36.1,1,1
openstack%2Fbifrost~master~Ifad924aef9b3036c381c2a1f28fce819092cded0,openstack/bifrost,master,Ifad924aef9b3036c381c2a1f28fce819092cded0,Begin change over to use python3,ABANDONED,2018-08-02 16:03:54.000000000,2020-03-16 23:31:25.000000000,,"[{'_account_id': 5805}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19578}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-02 16:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8cab3940fa7c5c51c225c3fe9e863e8e5be2f43c', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 2, 'created': '2018-08-02 17:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/775185fb7693e439764570622ea1c86d3aa13116', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 3, 'created': '2018-08-02 19:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/11def24cf15fade422ae5f13c047d64eef23874e', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 4, 'created': '2018-08-02 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a1539b42261315ab310a9cef3290ef3f483f8efd', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 5, 'created': '2018-08-02 19:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0a6e7ce1bc8b3e3bedf781176ba142b6df4a37c1', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 6, 'created': '2018-08-02 20:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cd6439293995952a79762bc7387249daa7833a3b', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 7, 'created': '2018-08-02 21:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/623ff8fb453e7fd426c3582ba7582004410f9c00', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 8, 'created': '2018-08-02 21:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5ee5485498152e9b156cb84cc2e281f78e658fb9', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 9, 'created': '2018-08-03 12:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c204ffaf33eafe6464461c9567ca3951263a285a', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 10, 'created': '2018-08-03 13:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fa030aea7d4545f59453924e7081f7fd0a2f8f40', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 11, 'created': '2018-08-06 21:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d32cf585b1340cde22ce9583fbc4c0db6a9be8d4', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 12, 'created': '2018-08-08 19:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ff1d41a9c49677507a4865f83cdca40827f6b409', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 13, 'created': '2018-08-21 19:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/91bf58be68f5151447deb02c80d60fd72fc8f165', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 14, 'created': '2018-09-03 14:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3416dc5f72c1d3aa8ae96b188077ccb62cb4d5d5', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 15, 'created': '2018-09-03 14:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b6f385ae44e4436c3def2517621f8521b09261eb', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 16, 'created': '2018-09-03 18:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/561a56348587922842f7a942c03938fb050aad15', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 17, 'created': '2018-09-04 08:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f46e82ca373153137d957d3d4128f16101e3daef', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 18, 'created': '2018-09-04 09:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d836d9429a1696eeaa24bac111a70f35cab1b0b', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 19, 'created': '2018-09-04 13:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/09e20754e604458a339b235cf4d404e4ae85e6b4', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 20, 'created': '2018-09-04 13:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e98fd2d07fe8ebc1ca8177c64c2654ba1b789bc3', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 21, 'created': '2018-10-15 07:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fbc89ad6147662af5765f419974bfaab1e910fe1', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 22, 'created': '2018-10-15 12:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/565c6731c4840a6a5602d5da8e82b5dd738a6f33', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 23, 'created': '2018-10-15 12:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9ee5845ee3a98aa0566079d85c595a66c995c14b', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 24, 'created': '2018-10-15 14:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0a9343208387a458f81d6f0a0e4b7c5cb67ecfc5', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 25, 'created': '2018-10-15 21:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a9903a3ed1f8f9881f6d9d96601201ee2ff7cb0a', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 26, 'created': '2018-10-16 05:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/34d9f0305eccc66caa7996a339ca89a49602b5a8', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 27, 'created': '2018-10-16 07:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5ec52217750a98a3c93b3b81417c1ab16dd69973', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 28, 'created': '2018-10-16 07:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/76f86dfc47eae909856f8d3a51a4125ba060cc30', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 29, 'created': '2018-10-16 07:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c4ea0cfe133b17d57668964d98aeb5618428a9db', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 30, 'created': '2018-10-16 08:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5dd59bb72537d1009de1a1ab75c1f54d84bdb242', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 31, 'created': '2018-10-16 09:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cf979019f7ea01968f9bf455bfa24307c4c023b1', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 32, 'created': '2018-10-16 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a87a2490d04893b364382bf7ee6c6cd20cf728c3', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 33, 'created': '2018-10-16 10:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/69365b99e455134dd41f11e32e97decc33dbfc4d', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 34, 'created': '2018-10-16 14:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/feab7e6aeb8c0e87885948ac4e3147f58eb6469b', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 35, 'created': '2018-10-17 06:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/746bfa7195bbc90f21f4b2b6439e90ac7836f392', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 36, 'created': '2018-10-17 09:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ce9a0edd6cd9474576deac382af38115583794d8', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 37, 'created': '2018-10-17 10:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2c9e9bb54093622ea10998092bae745a4dd41b37', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 38, 'created': '2018-10-17 15:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b769fc5e657c5d207d2c07ef8059aa8519ad112f', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 39, 'created': '2018-10-18 11:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/811fca21bada7c0b94254fa86fc799f7b63cc761', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 40, 'created': '2018-10-18 13:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8e55039e247f52bab5bd058b91ad4d45e5d0164a', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}, {'number': 41, 'created': '2018-10-18 14:11:10.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'scripts/collect-test-info.sh', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Suse_family.yml', 'scripts/test-bifrost.sh', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_27.yml', 'bindep.txt', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'zuul.d/legacy-bifrost-jobs.yaml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'scripts/env-setup.sh', 'playbooks/roles/bifrost-ironic-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-keystone-install/templates/keystone-admin.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'releasenotes/notes/deprecate-ucs-support-c98d8719521268a2.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_25.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_jessie.yml', 'playbooks/roles/bifrost-keystone-install/tasks/pip_install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_26.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2da35779f7831c5dfc9e5386dbd983c419b65f79', 'message': 'Begin change over to use python3\n\nChange-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0\n'}]",27,588325,2da35779f7831c5dfc9e5386dbd983c419b65f79,94,5,41,11655,,,0,"Begin change over to use python3

Change-Id: Ifad924aef9b3036c381c2a1f28fce819092cded0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/25/588325/41 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'scripts/install-deps.sh', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'scripts/env-setup.sh', 'scripts/test-bifrost.sh']",8,8cab3940fa7c5c51c225c3fe9e863e8e5be2f43c,588325,"USE_PYTHON3=${USE_PYTHON3:-true} ANSIBLE_PYTHON_INTERP=${VENV}/bin/python3 ANSIBLE_PYTHON_INTERP=$(which python3) -e ansible_python_interpreter=""${ANSIBLE_PYTHON_INTERP}"" \", ANSIBLE_PYTHON_INTERP=${VENV}/bin/python ANSIBLE_PYTHON_INTERP=$(which python),47,43
openstack%2Fcinder~master~I8cc31c2f2e61a13b98f4d7310f4333c48c263e44,openstack/cinder,master,I8cc31c2f2e61a13b98f4d7310f4333c48c263e44,Tests: Remove Python 2 compat file_spec code,MERGED,2020-03-10 15:30:37.000000000,2020-03-16 23:30:31.000000000,2020-03-16 13:31:19.000000000,"[{'_account_id': 1736}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-03-10 15:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbf3fbdf5393320ee7adf5c3564766819791107d', 'message': 'Tests: Remove Python 2 compat file_spec code\n\nWe no longer need to support Python 2 unit tests.\n\nChange-Id: I8cc31c2f2e61a13b98f4d7310f4333c48c263e44\n'}, {'number': 2, 'created': '2020-03-12 14:02:57.000000000', 'files': ['cinder/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/104813a3ebf235f56536311c719000e9b104b70a', 'message': 'Tests: Remove Python 2 compat file_spec code\n\nWe no longer need to support Python 2 unit tests.\n\nChange-Id: I8cc31c2f2e61a13b98f4d7310f4333c48c263e44\n'}]",0,712108,104813a3ebf235f56536311c719000e9b104b70a,48,28,2,4523,,,0,"Tests: Remove Python 2 compat file_spec code

We no longer need to support Python 2 unit tests.

Change-Id: I8cc31c2f2e61a13b98f4d7310f4333c48c263e44
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/712108/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/utils.py'],1,bbf3fbdf5393320ee7adf5c3564766819791107d,," """"""Return a 'file' spec. import _io file_spec = list(set(dir(_io.TextIOWrapper)).union( set(dir(_io.BytesIO))))"," """"""Return a Python 2 and 3 compatible version of a 'file' spec. if sys.version_info[0] == 3: import _io file_spec = list(set(dir(_io.TextIOWrapper)).union( set(dir(_io.BytesIO)))) else: # NOTE(jsbryant): Pep8 on py3 based systems will fail because # 'file' has been removed. Using noqa here to avoid the failure. file_spec = file # noqa ",4,10
openstack%2Fmanila~master~If37ed5bdbf6a1ef3107e66073eca9917704edee2,openstack/manila,master,If37ed5bdbf6a1ef3107e66073eca9917704edee2,Cleanup docs building,MERGED,2020-02-23 13:15:08.000000000,2020-03-16 23:12:11.000000000,2020-03-16 23:10:18.000000000,"[{'_account_id': 6413}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-23 13:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3ea1d6907cb72caef476271864a96540072bfb76', 'message': ""Cleanup docs building\n\n* Remove doc/source/install/conf.py, it's not used\n* Update openstackdocstheme version and remove settings that are now the\n  default.\n* Use docs dependencies for api-ref building.\n\nChange-Id: If37ed5bdbf6a1ef3107e66073eca9917704edee2\n""}, {'number': 2, 'created': '2020-02-23 13:16:16.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', 'doc/source/install/conf.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0aafb1c46f8890f3f1f819c50dd1a9bfc88460ba', 'message': ""Cleanup docs building\n\n* Remove doc/source/install/conf.py, it's not used\n* Update openstackdocstheme version and remove settings that are now the\n  default.\n* Use docs dependencies for api-ref building.\n\nChange-Id: If37ed5bdbf6a1ef3107e66073eca9917704edee2\n""}]",0,709347,0aafb1c46f8890f3f1f819c50dd1a9bfc88460ba,14,6,2,6547,,,0,"Cleanup docs building

* Remove doc/source/install/conf.py, it's not used
* Update openstackdocstheme version and remove settings that are now the
  default.
* Use docs dependencies for api-ref building.

Change-Id: If37ed5bdbf6a1ef3107e66073eca9917704edee2
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/709347/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', 'doc/source/install/conf.py']",5,3ea1d6907cb72caef476271864a96540072bfb76,doc-cleanup,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. import os import openstackdocstheme # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. # TODO(ajaeger): enable PDF building, for example add 'rst2pdf.pdfbuilder' # extensions = # Add any paths that contain templates here, relative to this directory. # templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'Installation Guide for Shared File Systems Service' bug_tag = u'install-guide' copyright = u'2016, OpenStack contributors' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '0.1' # The full version, including alpha/beta/rc tags. release = '0.1' # A few variables have to be set for the log-a-bug feature. # gitsha: The SHA checksum of the bug description. Automatically # extracted from git log. # bug_tag: Tag for categorizing the bug. Must be set manually. # These variables are passed to the logabug code via html_context. git_cmd = ""/usr/bin/git log | head -n1 | cut -f2 -d' '"" gitsha = os.popen(git_cmd).read().strip('\n') pwd = os.getcwd() html_context = { ""pwd"": pwd, ""gitsha"": gitsha, ""bug_tag"": bug_tag, ""bug_project"": ""manila"", } # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [""common/*.rst""] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. html_theme_path = [openstackdocstheme.get_html_theme_path()] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". # html_static_path = [] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # So that we can enable ""log-a-bug"" links from each output HTML page, this # variable must be set to a format that includes year, month, day, hours and # minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. html_use_index = False # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. html_show_sourcelink = False # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'install-guide' # If true, publish source files html_copy_source = False # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'InstallGuide.tex', u'Install Guide', u'OpenStack contributors', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'installguide', u'Install Guide', [u'OpenStack contributors'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'InstallGuide', u'Install Guide', u'OpenStack contributors', 'InstallGuide', 'This guide shows OpenStack end users how to install ' 'an OpenStack cloud.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] # -- Options for PDF output -------------------------------------------------- pdf_documents = [ ('index', u'InstallGuide', u'Install Guide', u'OpenStack contributors') ] ",3,326
openstack%2Frpm-packaging~master~Ic699d38c83b99a2660315dc8cd396f5d1492e822,openstack/rpm-packaging,master,Ic699d38c83b99a2660315dc8cd396f5d1492e822,update virtualbmc to 2.0.0,MERGED,2020-03-13 07:20:57.000000000,2020-03-16 22:40:49.000000000,2020-03-16 22:40:49.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 07:20:57.000000000', 'files': ['openstack/virtualbmc/virtualbmc.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7cc68869ae558df19b19ca849e30e6d4db31113c', 'message': 'update virtualbmc to 2.0.0\n\nDepends-on:I7ba1516a62fd33763035a451d91ee506b228fff8\nChange-Id: Ic699d38c83b99a2660315dc8cd396f5d1492e822\n'}]",0,712846,7cc68869ae558df19b19ca849e30e6d4db31113c,13,5,1,26570,,,0,"update virtualbmc to 2.0.0

Depends-on:I7ba1516a62fd33763035a451d91ee506b228fff8
Change-Id: Ic699d38c83b99a2660315dc8cd396f5d1492e822
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/712846/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/virtualbmc/virtualbmc.spec.j2'],1,7cc68869ae558df19b19ca849e30e6d4db31113c,,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.6.0') %},1,1
openstack%2Fnova~stable%2Ftrain~Ibdbde4ed460a99b0cbe0d6b76e0e5b3c0650f9d9,openstack/nova,stable/train,Ibdbde4ed460a99b0cbe0d6b76e0e5b3c0650f9d9,Unplug VIFs as part of cleanup of networks,MERGED,2020-03-04 15:27:48.000000000,2020-03-16 22:34:01.000000000,2020-03-16 22:31:25.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 15:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c63b35c9b72a11cf90d377825c61d31434063894', 'message': 'Unplug VIFs as part of cleanup of networks\n\nIf an instance fails to build, which is possible for a variety of\nreasons, we may end up in a situation where we have remnants of a\nplugged VIF (typically files) left on the host. This is because we\ncleanup from the neutron perspective but don\'t attempt to unplug the\nVIF, a call which may have many side-effects depending on the VIF\ndriver. Resolve this by always attempting to unplug VIFs as part of the\nnetwork cleanup.\n\nA now invalid note is also removed and a unit test corrected.\n\nConflicts:\n\tnova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nIfa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final\nreferences to nova-network"") which we don\'t want to backport here.\n\nCloses-Bug: #1831771\nRelated-Bug: #1830081\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nChange-Id: Ibdbde4ed460a99b0cbe0d6b76e0e5b3c0650f9d9\n'}, {'number': 2, 'created': '2020-03-05 11:22:36.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/functional/test_compute_mgr.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e935325a88bf7a0206ec07bc67383e8be846f15', 'message': 'Unplug VIFs as part of cleanup of networks\n\nIf an instance fails to build, which is possible for a variety of\nreasons, we may end up in a situation where we have remnants of a\nplugged VIF (typically files) left on the host. This is because we\ncleanup from the neutron perspective but don\'t attempt to unplug the\nVIF, a call which may have many side-effects depending on the VIF\ndriver. Resolve this by always attempting to unplug VIFs as part of the\nnetwork cleanup.\n\nA now invalid note is also removed and a unit test corrected.\n\nConflicts:\n\tnova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): Conflicts are due to the absence of change\nIfa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final\nreferences to nova-network"") which we don\'t want to backport here. In\naddition, we need to modify a mock to reflect the absence of change\nI329f0fd589a4b2e0426485f09f6782f94275cc07 (""nova-net: Remove layer of\nindirection in \'nova.network\'"").\n\nCloses-Bug: #1831771\nRelated-Bug: #1830081\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nChange-Id: Ibdbde4ed460a99b0cbe0d6b76e0e5b3c0650f9d9\n(cherry picked from commit b3e14931d6aac6ee5776ce1e6974c75a5a6b1823)\n'}]",1,711251,3e935325a88bf7a0206ec07bc67383e8be846f15,16,7,2,15334,,,0,"Unplug VIFs as part of cleanup of networks

If an instance fails to build, which is possible for a variety of
reasons, we may end up in a situation where we have remnants of a
plugged VIF (typically files) left on the host. This is because we
cleanup from the neutron perspective but don't attempt to unplug the
VIF, a call which may have many side-effects depending on the VIF
driver. Resolve this by always attempting to unplug VIFs as part of the
network cleanup.

A now invalid note is also removed and a unit test corrected.

Conflicts:
	nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): Conflicts are due to the absence of change
Ifa9c5c468400261a5e1f66b72c575845173a4f8f (""nova-net: Remove final
references to nova-network"") which we don't want to backport here. In
addition, we need to modify a mock to reflect the absence of change
I329f0fd589a4b2e0426485f09f6782f94275cc07 (""nova-net: Remove layer of
indirection in 'nova.network'"").

Closes-Bug: #1831771
Related-Bug: #1830081
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Change-Id: Ibdbde4ed460a99b0cbe0d6b76e0e5b3c0650f9d9
(cherry picked from commit b3e14931d6aac6ee5776ce1e6974c75a5a6b1823)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/711251/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/functional/test_compute_mgr.py']",5,c63b35c9b72a11cf90d377825c61d31434063894,bug/1831771,"from __future__ import absolute_import import fixturesfrom nova.network import model as network_modelfrom nova.tests import fixtures as nova_fixtures self.useFixture(nova_fixtures.SpawnIsSynchronousFixture()) self.useFixture(fixtures.MockPatch( 'nova.network.neutron.API.get_instance_nw_info', return_value=network_model.NetworkInfo(), ))",from nova.tests import fixtures self.useFixture(fixtures.SpawnIsSynchronousFixture()),119,27
openstack%2Fcharm-cinder-backup-swift-proxy~master~Icdb3183fe1c5da9bd34f8f5c31410dc91ebc8e4f,openstack/charm-cinder-backup-swift-proxy,master,Icdb3183fe1c5da9bd34f8f5c31410dc91ebc8e4f,Update charm build requirements,MERGED,2020-03-03 08:54:09.000000000,2020-03-16 21:59:42.000000000,2020-03-16 21:59:42.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:54:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/ea67c25cd337622c6bf8ec0b40d853a37ce50f0d', 'message': 'Update charm build requirements\n\nChange-Id: Icdb3183fe1c5da9bd34f8f5c31410dc91ebc8e4f\n'}]",0,710932,ea67c25cd337622c6bf8ec0b40d853a37ce50f0d,13,5,1,13686,,,0,"Update charm build requirements

Change-Id: Icdb3183fe1c5da9bd34f8f5c31410dc91ebc8e4f
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/32/710932/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ea67c25cd337622c6bf8ec0b40d853a37ce50f0d,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # Build requirements# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0 simplejson,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. pbr>=1.8.0,<1.9.0 simplejson>=2.2.0 netifaces>=0.10.4 netaddr>=0.7.12,!=0.7.16 Jinja2>=2.6 # BSD License (3 clause) six>=1.9.0 dnspython>=1.12.0 psutil>=1.1.1,<2.0.0 ## Build requirements",9,12
openstack%2Ftripleo-heat-templates~master~I3b42fdd5d7858c9e52cbc381c9badefb7933b5b9,openstack/tripleo-heat-templates,master,I3b42fdd5d7858c9e52cbc381c9badefb7933b5b9,Remove superfluous comment from deploy-steps-tasks,MERGED,2020-03-11 11:45:56.000000000,2020-03-16 21:48:18.000000000,2020-03-16 21:48:18.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f01d6639164114d23b130900162c68ac33f5c8dc', 'message': 'Remove superfluous comment from deploy-steps-tasks\n\nUnfortunately I forgot to remove the comment about the indent\nin I530bab1ec1842b856c5228e071f7bcaaee9080da when re-preparing\nthe patch after a merge conflict.\n\nChange-Id: I3b42fdd5d7858c9e52cbc381c9badefb7933b5b9\n'}, {'number': 2, 'created': '2020-03-11 11:49:09.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbad55a59f941311b61d124ecf287bf726bd09cb', 'message': 'Remove superfluous comment from deploy-steps-tasks\n\nUnfortunately we forgot to remove the comment about the indent\nin I530bab1ec1842b856c5228e071f7bcaaee9080da when re-preparing\nthe patch after a merge conflict.\n\nChange-Id: I3b42fdd5d7858c9e52cbc381c9badefb7933b5b9\n'}]",0,712345,cbad55a59f941311b61d124ecf287bf726bd09cb,25,5,2,6816,,,0,"Remove superfluous comment from deploy-steps-tasks

Unfortunately we forgot to remove the comment about the indent
in I530bab1ec1842b856c5228e071f7bcaaee9080da when re-preparing
the patch after a merge conflict.

Change-Id: I3b42fdd5d7858c9e52cbc381c9badefb7933b5b9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/712345/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,f01d6639164114d23b130900162c68ac33f5c8dc,scale-2020,,# Note the indentation here is required as it's joined # to create a playbook in deploy-steps.j2 ,0,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I205425f31412c856e754539f67b039215a3b2189,openstack/tripleo-upgrade,stable/train,I205425f31412c856e754539f67b039215a3b2189,Ensure that ceph-ansible is installed in the undercloud.,MERGED,2020-03-10 17:12:59.000000000,2020-03-16 21:48:17.000000000,2020-03-16 21:48:17.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-10 17:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/63576282a030075019500c32c16b9b8ae844e83c', 'message': ""Ensure that ceph-ansible is installed in the undercloud.\n\nThis change impacts mostly to the upgrade from OSP14 to OSP15\nin which we clean up all the openstack packages, however it's\nalso a nice check for the Undercloud upgrade. When making sure\nwe have the latest content on tht,tc,tripleoclient, etc... we\nalso ensure that ceph-ansible is installed if ceph is being\ndeployed.\n\nChange-Id: I205425f31412c856e754539f67b039215a3b2189\n(cherry picked from commit 37dd3a4e333a7a20cd33f5ed2495f7b7397a3abe)\n""}, {'number': 2, 'created': '2020-03-16 11:09:24.000000000', 'files': ['tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6dbbf0e5a7fbc2f4d35427fd4507e72343c79ae0', 'message': ""Ensure that ceph-ansible is installed in the undercloud.\n\nThis change impacts mostly to the upgrade from OSP14 to OSP15\nin which we clean up all the openstack packages, however it's\nalso a nice check for the Undercloud upgrade. When making sure\nwe have the latest content on tht,tc,tripleoclient, etc... we\nalso ensure that ceph-ansible is installed if ceph is being\ndeployed.\n\nChange-Id: I205425f31412c856e754539f67b039215a3b2189\n(cherry picked from commit 37dd3a4e333a7a20cd33f5ed2495f7b7397a3abe)\n""}]",0,712129,6dbbf0e5a7fbc2f4d35427fd4507e72343c79ae0,9,6,2,6816,,,0,"Ensure that ceph-ansible is installed in the undercloud.

This change impacts mostly to the upgrade from OSP14 to OSP15
in which we clean up all the openstack packages, however it's
also a nice check for the Undercloud upgrade. When making sure
we have the latest content on tht,tc,tripleoclient, etc... we
also ensure that ceph-ansible is installed if ceph is being
deployed.

Change-Id: I205425f31412c856e754539f67b039215a3b2189
(cherry picked from commit 37dd3a4e333a7a20cd33f5ed2495f7b7397a3abe)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/29/712129/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/overcloud_upgrade_prepare.yml'],1,63576282a030075019500c32c16b9b8ae844e83c,,- name: Make sure ceph-ansible is installed if ceph is deployed package: name: ceph-ansible state: latest when: ceph_osd_enabled|bool ,,6,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iffbf99b12fe173a935e9bd357725fbdaf341357f,openstack/tripleo-heat-templates,stable/train,Iffbf99b12fe173a935e9bd357725fbdaf341357f,WIP: Move Stein upgrade tasks to ffwd tasks.,ABANDONED,2020-02-05 20:46:41.000000000,2020-03-16 21:38:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-05 20:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbe4101f3b3d7c8d810dcae63a9591044ab4306f', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 2, 'created': '2020-02-07 15:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4931ff48e8c4bcf453ef6e56491a7d35ad165013', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 3, 'created': '2020-02-10 09:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73dc5e3da8aebf4f36e80bf63e0f25bd1ff911f7', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 4, 'created': '2020-02-13 11:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df08f75bbb00fca4eeee1bd92ba737888db0d98e', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 5, 'created': '2020-02-24 10:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abee68d41dab965ed1f27e82da69db0fd783debb', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 6, 'created': '2020-02-24 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bf4af643f370fdf017eadaf9253d5ab43fd627f', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 7, 'created': '2020-03-05 11:50:37.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c1d25ddac8ca5e2d1af5edacecf94911b328852', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\n(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}]",0,706107,3c1d25ddac8ca5e2d1af5edacecf94911b328852,23,2,7,26343,,,0,"WIP: Move Stein upgrade tasks to ffwd tasks.

(cherry-picked from commit 09b5b7d26baf2ae40489c27d78fcb2303d54d145)
Change-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/706107/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,bbe4101f3b3d7c8d810dcae63a9591044ab4306f,ffwd-upgrade2," - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false ignore_errors: true register: rabbitmq_pcs_result rabbitmq_pcs_res: ""{{rabbitmq_pcs_result.rc == 0}}"" - name: Retag the pacemaker image if containerized when: - step|int == 3 block: *rabbitmq_fetch_retag_container_tasks fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'rocky' - is_bootstrap_node|bool block: - name: Check rabbitmq cluster resource status shell: pcs resource config rabbitmq-bundle failed_when: false register: rabbitmq_pcs_result - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_pcs_result.rc == 0 }}"""," - name: Check rabbitmq cluster resource status shell: pcs resource config rabbitmq-bundle failed_when: false register: rabbitmq_pcs_res_result rabbitmq_pcs_res: ""{{rabbitmq_pcs_res_result.rc == 0}}"" - name: Retag the pacemaker image if containerized when: - step|int == 3 block: *rabbitmq_fetch_retag_container_tasks fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'rocky' - is_bootstrap_node|bool block: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false ignore_errors: true register: rabbitmq_res_result - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_res_result.rc == 0 }}""",419,373
openstack%2Ftripleo-heat-templates~master~Iffbf99b12fe173a935e9bd357725fbdaf341357f,openstack/tripleo-heat-templates,master,Iffbf99b12fe173a935e9bd357725fbdaf341357f,WIP: Move Stein upgrade tasks to ffwd tasks.,ABANDONED,2020-02-04 16:57:23.000000000,2020-03-16 21:38:28.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-04 16:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09b5b7d26baf2ae40489c27d78fcb2303d54d145', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}, {'number': 2, 'created': '2020-02-07 15:04:48.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/445a10097d35fad42ca31a145fc8e8b352cf6339', 'message': 'WIP: Move Stein upgrade tasks to ffwd tasks.\n\nChange-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f\n'}]",0,705766,445a10097d35fad42ca31a145fc8e8b352cf6339,11,4,2,26343,,,0,"WIP: Move Stein upgrade tasks to ffwd tasks.

Change-Id: Iffbf99b12fe173a935e9bd357725fbdaf341357f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/705766/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,09b5b7d26baf2ae40489c27d78fcb2303d54d145,ffwd-upgrade2," - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false ignore_errors: true register: rabbitmq_pcs_result rabbitmq_pcs_res: ""{{rabbitmq_pcs_result.rc == 0}}"" - name: Retag the pacemaker image if containerized when: - step|int == 3 block: *rabbitmq_fetch_retag_container_tasks fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'rocky' - is_bootstrap_node|bool block: - name: Check rabbitmq cluster resource status shell: pcs resource config rabbitmq-bundle failed_when: false register: rabbitmq_pcs_result - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_pcs_result.rc == 0 }}"""," - name: Check rabbitmq cluster resource status shell: pcs resource config rabbitmq-bundle failed_when: false register: rabbitmq_pcs_res_result rabbitmq_pcs_res: ""{{rabbitmq_pcs_res_result.rc == 0}}"" - name: Retag the pacemaker image if containerized when: - step|int == 3 block: *rabbitmq_fetch_retag_container_tasks fast_forward_upgrade_tasks: - when: - step|int == 0 - release == 'rocky' - is_bootstrap_node|bool block: - name: Check cluster resource status of rabbitmq pacemaker_resource: resource: {get_attr: [RabbitmqBase, role_data, service_name]} state: show check_mode: false ignore_errors: true register: rabbitmq_res_result - name: Set fact rabbitmq_res set_fact: rabbitmq_res: ""{{ rabbitmq_res_result.rc == 0 }}""",419,371
openstack%2Fmagnum~master~Ib7d3068ee53c08fea32a69c997b6de6477a17f0a,openstack/magnum,master,Ib7d3068ee53c08fea32a69c997b6de6477a17f0a,calico: Add node/status in ClusterRole,MERGED,2020-03-12 09:37:15.000000000,2020-03-16 21:35:43.000000000,2020-03-16 21:34:16.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-12 09:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/04e3d9ce3d58fb21e3c353eb27c0a5f8879bde4b', 'message': 'calido: Add node/status in ClusterRole\n\nThe upstream docs [0] were missing a parameters\nfor the calico-node ClusterRole.\n\nWithout it we get:\n2020-02-21 11:41:35.762 [ERROR][8]\n...\nUser ""system:serviceaccount:kube-system:calico-node""\ncannot patch resource ""nodes/status"" in API group """"\nat the cluster scope\n\n[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n\nNeeds to be backported to train.\n\nstory: 2005318\ntask: 39041\n\nChange-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2020-03-12 10:05:54.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3667164367f6c3eb87b9b99a845a2645208a91d9', 'message': 'calico: Add node/status in ClusterRole\n\nThe upstream docs [0] were missing a parameters\nfor the calico-node ClusterRole.\n\nWithout it we get:\n2020-02-21 11:41:35.762 [ERROR][8]\n...\nUser ""system:serviceaccount:kube-system:calico-node""\ncannot patch resource ""nodes/status"" in API group """"\nat the cluster scope\n\n[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n\nNeeds to be backported to train.\n\nstory: 2005318\ntask: 39041\n\nChange-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",0,712629,3667164367f6c3eb87b9b99a845a2645208a91d9,12,4,2,20498,,,0,"calico: Add node/status in ClusterRole

The upstream docs [0] were missing a parameters
for the calico-node ClusterRole.

Without it we get:
2020-02-21 11:41:35.762 [ERROR][8]
...
User ""system:serviceaccount:kube-system:calico-node""
cannot patch resource ""nodes/status"" in API group """"
at the cluster scope

[0] https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml

Needs to be backported to train.

story: 2005318
task: 39041

Change-Id: Ib7d3068ee53c08fea32a69c997b6de6477a17f0a
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/29/712629/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh'],1,04e3d9ce3d58fb21e3c353eb27c0a5f8879bde4b,calico," - nodes/status verbs: - patch - apiGroups: [""""] resources:",,5,0
openstack%2Ftripleo-common~stable%2Ftrain~Idf0dccf4cd7d040e803b2ed2b49b3c39919c5a60,openstack/tripleo-common,stable/train,Idf0dccf4cd7d040e803b2ed2b49b3c39919c5a60,Fix upload-swift-artifacts handling of json data,MERGED,2020-03-12 12:50:51.000000000,2020-03-16 21:33:54.000000000,2020-03-16 21:32:21.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-12 12:50:51.000000000', 'files': ['scripts/upload-swift-artifacts'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81d9792c3dd4917eb9e520ea2d47e4c3fbd54617', 'message': 'Fix upload-swift-artifacts handling of json data\n\nThe upload-swift-artifacts script needs to handle json encoding of\nthe Temp-Url-Key property, and [1] was a step in the right direction.\nHowever, it contained two errors that this patch corrects:\n\n1. The property name is ""Temp-Url-Key"" (camel-case). Even if you specify\n   ""Temp-URL-Key"" something will change ""URL"" to ""Url"". This patch uses\n   the correct form when detecting whether the property exists.\n\n2. The logic for detecting whether the Temp-Url-Key property exists was\n   inverted. The property doesn\'t exist when the jq output is ""null"".\n\n[1] Ife347f754ca9129580c092bb271bacdc032ae14b\n\nCloses-Bug: #1867135\nChange-Id: Idf0dccf4cd7d040e803b2ed2b49b3c39919c5a60\n(cherry picked from commit 29367cb96d9c7477cc5c0a8d90e0d3e2c57b8cba)\n'}]",0,712672,81d9792c3dd4917eb9e520ea2d47e4c3fbd54617,25,6,1,21129,,,0,"Fix upload-swift-artifacts handling of json data

The upload-swift-artifacts script needs to handle json encoding of
the Temp-Url-Key property, and [1] was a step in the right direction.
However, it contained two errors that this patch corrects:

1. The property name is ""Temp-Url-Key"" (camel-case). Even if you specify
   ""Temp-URL-Key"" something will change ""URL"" to ""Url"". This patch uses
   the correct form when detecting whether the property exists.

2. The logic for detecting whether the Temp-Url-Key property exists was
   inverted. The property doesn't exist when the jq output is ""null"".

[1] Ife347f754ca9129580c092bb271bacdc032ae14b

Closes-Bug: #1867135
Change-Id: Idf0dccf4cd7d040e803b2ed2b49b3c39919c5a60
(cherry picked from commit 29367cb96d9c7477cc5c0a8d90e0d3e2c57b8cba)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/712672/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upload-swift-artifacts'],1,81d9792c3dd4917eb9e520ea2d47e4c3fbd54617,bug/1867135,"SWIFT_TEMP_URL_KEY=$(openstack container show $CONTAINER_NAME -f json 2>/dev/null | jq -r '.properties.""Temp-Url-Key""' || true) if [ ""$SWIFT_TEMP_URL_KEY"" == ""null"" ]; then echo ""Creating new Swift Temp-Url-Key for container: $CONTAINER_NAME"" openstack container set --property ""Temp-Url-Key=$SWIFT_TEMP_URL_KEY"" ""${CONTAINER_NAME}""","SWIFT_TEMP_URL_KEY=$(openstack container show $CONTAINER_NAME -f json 2>/dev/null | jq -r '.properties.""Temp-URL-Key""' || true) if [ ""$SWIFT_TEMP_URL_KEY"" != ""null"" ]; then echo ""Creating new Swift Temp-URL-Key for container: $CONTAINER_NAME"" openstack container set --property ""Temp-URL-Key=$SWIFT_TEMP_URL_KEY"" ""${CONTAINER_NAME}""",4,4
openstack%2Fos-net-config~stable%2Fqueens~I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726,openstack/os-net-config,stable/queens,I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726,We need to use the MAC instead of PCI Address for Mellanox cards,MERGED,2020-03-16 11:43:47.000000000,2020-03-16 21:32:26.000000000,2020-03-16 21:32:26.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-03-16 11:43:47.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cad5a734efbd5e7531112c427ebb6550db0cf290', 'message': 'We need to use the MAC instead of PCI Address for Mellanox cards\n\nSince Mellanox cards are already bound, they are not added\nto the dpdk mapping file. The set devargs command is never run.\n\nThis patch ensures that get_dpdk_devargs returns the devargs,\neven on newer Mellanox interfaces.\n\nChange-Id: I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726\nCloses-Bug: 1862298\n(cherry picked from commit 11d9a23600e43de0071f05e716ec6f7e1ee80670)\n(cherry picked from commit 74d32121f6b807ef646f6dc58ad8693233503f1e)\n(cherry picked from commit de626b2609f531727c336513faf2fa27ea377e5b)\n(cherry picked from commit 271d9ab0c69787979a09da8bc8c042096a8fc6dc)\n'}]",1,713198,cad5a734efbd5e7531112c427ebb6550db0cf290,9,7,1,27419,,,0,"We need to use the MAC instead of PCI Address for Mellanox cards

Since Mellanox cards are already bound, they are not added
to the dpdk mapping file. The set devargs command is never run.

This patch ensures that get_dpdk_devargs returns the devargs,
even on newer Mellanox interfaces.

Change-Id: I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726
Closes-Bug: 1862298
(cherry picked from commit 11d9a23600e43de0071f05e716ec6f7e1ee80670)
(cherry picked from commit 74d32121f6b807ef646f6dc58ad8693233503f1e)
(cherry picked from commit de626b2609f531727c336513faf2fa27ea377e5b)
(cherry picked from commit 271d9ab0c69787979a09da8bc8c042096a8fc6dc)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/98/713198/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,cad5a734efbd5e7531112c427ebb6550db0cf290,," def test_get_dpdk_devargs_mlnx(self): def test_execute(name, dummy1, dummy2=None, dummy3=None): if 'ethtool' in name: out = _PCI_OUTPUT return out, None def test_get_stored_pci_address(ifname, noop): return ""0000:00:07.0"" self.stub_out('oslo_concurrency.processutils.execute', test_execute) self.stub_out('os_net_config.utils.get_stored_pci_address', test_get_stored_pci_address) tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_CLASS_NET', tmpdir) nic = 'p4p1' nic_path = os.path.join(tmpdir, nic) os.makedirs(nic_path) os.makedirs(os.path.join(nic_path, 'device')) # Testing standard Mellanox Connect-X cards with open(os.path.join(nic_path, 'operstate'), 'w') as f: f.write('up') with open(os.path.join(nic_path, 'address'), 'w') as f: f.write('00:0f:21:69:39:14') with open(os.path.join(nic_path, 'device', 'vendor'), 'w') as f: f.write('0x15b3') self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:19.0') # now testing the Mellanox CX3 with open(os.path.join(nic_path, 'device', 'device'), 'w') as f: f.write('0x1007') self.assertEqual(utils.get_dpdk_devargs(nic, False), 'class=eth,mac=00:0f:21:69:39:14') with open(os.path.join(nic_path, 'device', 'vendor'), 'w') as f: f.write('0x15b4') self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:07.0') shutil.rmtree(tmpdir) ",,55,7
openstack%2Ftripleo-heat-templates~master~Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,openstack/tripleo-heat-templates,master,Ifb1923bff9a344985b3e4de04ade4abd4916d2d6,Add STF environment,MERGED,2019-11-15 20:27:49.000000000,2020-03-16 21:32:24.000000000,2020-03-16 21:32:24.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 13177}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}, {'_account_id': 30893}, {'_account_id': 31510}]","[{'number': 1, 'created': '2019-11-15 20:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d29eb076103f08205fb501e2468d9c447889158f', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 2, 'created': '2019-11-15 20:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/166671c8fa9585845433ca161cc8906a832c4017', 'message': '[WIP] Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 3, 'created': '2019-12-10 15:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d22e62e29baffb8a445cf804daa19bc7fe5373ed', 'message': '[WIP] Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 4, 'created': '2019-12-10 18:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f52308373ae95594bf4f5701e0fada4b9c41c3e', 'message': '[WIP] Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 5, 'created': '2019-12-18 14:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7f17e235aaf65efe1a207f20386d3f1095ff53b', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 6, 'created': '2020-01-15 16:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dacb0133d773c9478de2f51783a3d5b86d1ae37e', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 7, 'created': '2020-01-15 17:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9469e8bb0bcf37ccb1f12efe2e1e0809de5ced9', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 8, 'created': '2020-01-15 21:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a70fe81bd35031c43f6633c15035b268753509f0', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 9, 'created': '2020-01-15 23:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc5738ff781a181f713b668b9846bbea381e4051', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 10, 'created': '2020-01-16 14:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81ea7f3c4c86c4853d0415bc74b98a95a38a4233', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n'}, {'number': 11, 'created': '2020-01-16 19:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70532ad2d9e302b65286e8ec27633b7006d2e094', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\n'}, {'number': 12, 'created': '2020-01-21 22:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51409779743428dfbf48c904736c3c33d0223137', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\n'}, {'number': 13, 'created': '2020-01-22 00:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c75e34d4cea3dfb0b4d1ea339976e0fbed6b7cb8', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 14, 'created': '2020-01-27 18:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8ab09cdbc5c80648aeb28d1d64ec9d2267c45f1', 'message': 'Add SAF environment\n\nAdd yaml to enable the SAF client side. The only manual configuration\nnecessary should be pointing the host to the SAF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 15, 'created': '2020-02-07 20:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a024c1c3b3a01840ba2961a25d49c244b4a85e27', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 16, 'created': '2020-02-18 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ecbf9cffd66757b67c72ef03099ea6369f6de48', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 17, 'created': '2020-02-18 14:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b5b794199e033cd666d3710a08fe66a96a3e377', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 18, 'created': '2020-02-19 17:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/515ca96c10cbc4586d6a7b3bf24c91f3eeeb5b93', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 19, 'created': '2020-02-19 17:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a81b988e8cf5d7e8cf3e7ca1569eea32ed898e30', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 20, 'created': '2020-02-19 19:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ba8468915b04ff2d7deba42d1965fb65615014a', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 21, 'created': '2020-02-19 20:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7fc3f433afed32bac110a336acdac2bafdf6bab5', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 22, 'created': '2020-02-19 20:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8c2098fdf9169851ef541281918a4aca408fdb9', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 23, 'created': '2020-02-25 17:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80a1d2393fb36dd6cfb43a2c984ad44223ebdb8a', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 24, 'created': '2020-02-25 17:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/201e0708d22f6cbec19db04da67e2881effd40bc', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 25, 'created': '2020-02-25 20:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2be557af7566e88206a545cfafe43828d9f5deaf', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 26, 'created': '2020-02-26 15:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2d2898a0f6d55394754619814ceefbc2dc63fce', 'message': '[WIP] Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 27, 'created': '2020-03-02 15:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6779d613960f4d2ee731cf8fcd9ba459a262bcea', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 28, 'created': '2020-03-02 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48af0bb4fa88cf0fdfda38298d796a88d1d0a08b', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 29, 'created': '2020-03-02 19:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e1d9ede456c290462590a16df85f40603eb9470', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/redhat-service-assurance/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 30, 'created': '2020-03-03 15:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7458432d8ab8ab375be8f34e2110aeca01fee27', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 31, 'created': '2020-03-03 15:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc1b24f5b3e2bc1d00dfc271ed2f6fcd21abb264', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 32, 'created': '2020-03-03 18:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed1f05dbeea0a8ce2f5e137bc1f9bd08bf51b090', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 33, 'created': '2020-03-04 04:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79837824fb23f530a86078b74ee4db75f0974d92', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 34, 'created': '2020-03-04 04:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ec6b6912a7de65a9c042d44970edf0563d34eb9', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 35, 'created': '2020-03-05 19:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cf9e79a01f9ad872616448747d14705191b26c3', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nDepends-On: https://review.opendev.org/#/c/710035\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 36, 'created': '2020-03-09 19:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d8c2b029c8059549ba597a1f1cedf077dab45f0', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 37, 'created': '2020-03-09 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a034565d48b03a50af3e25ca1c9714a84e5b211a', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 38, 'created': '2020-03-09 23:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3331d013adab3317493b2e5305ab58709c729ecf', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 39, 'created': '2020-03-11 11:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/893089fadb9af2b2cd37562306a1b0ddc4e26403', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 40, 'created': '2020-03-11 12:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/638082b7ee22c5b2296b464be5ec6ee934adcd5d', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 41, 'created': '2020-03-11 15:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cf5478342a8fd22bbe61cc68d531c5224caeb86', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 42, 'created': '2020-03-11 16:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82ce5fd80d229465a46730a6f66b9eaba4c218e6', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 43, 'created': '2020-03-12 02:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1e531b678503496481befb7008d12960abb491e', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 44, 'created': '2020-03-13 02:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c55a4ab7f72057d02b1201bc8f362a16833f249', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 45, 'created': '2020-03-13 11:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a080d8e48f0f409397621f88f8176a067b9dc756', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 46, 'created': '2020-03-13 13:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9d2fba77592544d599115c77026c9f8b158ab56', 'message': 'Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nRelated: https://review.opendev.org/#/c/710376/\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 47, 'created': '2020-03-13 17:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d5b24eacb3f6e64279cf6d106e46ad4229b31df', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n""}, {'number': 48, 'created': '2020-03-13 17:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfee7767236ef9cf78c036421b209216e7f302e5', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n""}, {'number': 49, 'created': '2020-03-13 19:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3ce736e123b7adc3bfcbf5ab9d6937382a4c25c', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n""}, {'number': 50, 'created': '2020-03-13 19:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86edcbc35836d2c87ab89e20bb613b303f6a9589', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n""}, {'number': 51, 'created': '2020-03-14 21:25:54.000000000', 'files': ['environments/enable-stf.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3790c804a70081227f03f704bc160947a0b21fdb', 'message': ""Add STF environment\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nRelated: https://review.opendev.org/#/c/710376/\n\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\nSigned-off-by: pleimer <pfbleimer@gmail.com>\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6\n""}]",89,694623,3790c804a70081227f03f704bc160947a0b21fdb,233,13,51,30357,,,0,"Add STF environment

Add yaml to enable the STF client side. The only manual configuration
necessary should be pointing the host to the STF server.

Remove tcpconns from the collectd default plugin list, as
there are no users of it, and it should not be in the default
plugin list when STF is enabled.

More discussion about settings at
https://github.com/infrawatch/telemetry-framework/pull/100

Note about the plugins:

- virt plugin is already automatically loaded on each role where
  nova-compute is deployed. The hieradata is always set in
  eployment/metrics/collectd-container-puppet but it's fine because the
  plugin isn't always enabled. No need to add extra complexity with
  parameters.
- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are
  automatically loaded if STF is enabled.

Related: https://review.opendev.org/#/c/710376/

Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
Signed-off-by: pleimer <pfbleimer@gmail.com>
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: Ifb1923bff9a344985b3e4de04ade4abd4916d2d6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/694623/48 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-saf.yaml'],1,d29eb076103f08205fb501e2468d9c447889158f,enable-saf,"# This heat environment can be used to enable SAF client side resource_registry: OS::TripleO::Services::Collectd: ../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../deployment/metrics/qdr-container-puppet.yaml # We may want these when smartgateway is able to process ceilometer events # OS::TripleO::Services::CeilometerAgentCentral: ../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml # OS::TripleO::Services::CeilometerAgentNotification: ../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml # OS::TripleO::Services::ComputeCeilometerAgent: ../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml parameter_defaults: # CeilometerQdrPublish: true CollectdConnectionType: ampq1 CollectdAmqpInterval: 1 CollectdDefaultPollingInterval: 1 CollectdExtraPlugins: - cpu - df - hugepages - ovs_events - ovs_stats - load - uptime ExtraConfig: collectd::plugin::cpu::valuespercentage: true collectd::plugin::cpu::reportbycpu: true collectd::plugin::cpu::reportbystate: true collectd::plugin::cpu::reportnumcpu: false collectd::plugin::df::ignoreselected: true collectd::plugin::load::reportrelative: true collectd::plugin::interface::ignoreselected: true collectd::plugin::virt::connection: ""qemu:///system"" collectd::plugin::virt::hostname_format: ""hostname uuid"" collectd::plugin::virt::extra_stats: ""cpu_util disk disk_err domain_state pcpu fs_info job_stats_background perf vcpupin"" MetricsQdrAddresses: - prefix: 'collectd' distribution: multicast MetricsQdrSSLProfiles: - name: sslProfile # Edit the host parameter below to point to the SAF server # MetricsQdrConnectors: # - host: saf.server.ip # port: 443 # role: edge # verifyHostname: false # sslProfile: sslProfile ",,46,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I1def295469875e648ad1c9d1e0de00b241acc3fd,openstack/tripleo-heat-templates,stable/stein,I1def295469875e648ad1c9d1e0de00b241acc3fd,Swap tasks to avoid non-existing variable error.,MERGED,2020-03-16 08:50:44.000000000,2020-03-16 21:28:55.000000000,2020-03-16 21:28:55.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-16 08:50:44.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/541170e5143c74e3cb4d2e05ebe3e6c6386c2956', 'message': 'Swap tasks to avoid non-existing variable error.\n\nThe upgrade workflow to Stein has a guard task that\nchecks that the --limit option is being used when\nrunning the overcloud upgrade run command, as the\nupgrade needs to be performed node by node due to\nthe operating system upgrade. However, if the --limit\noption is not passed, the upgrade tasks fails in the\ntask right before the guard, as that task already\nreferences the undefined variable. So, it is needed\nto invert the order so we fail at will in the guard\ntask.\n\nCloses-Bug: #1861663\n(cherry picked from commit bca35e611bbc8f103e4893282c9b2c49aa4e1e48)\n\nChange-Id: I1def295469875e648ad1c9d1e0de00b241acc3fd\n'}]",0,713175,541170e5143c74e3cb4d2e05ebe3e6c6386c2956,8,7,1,31245,,,0,"Swap tasks to avoid non-existing variable error.

The upgrade workflow to Stein has a guard task that
checks that the --limit option is being used when
running the overcloud upgrade run command, as the
upgrade needs to be performed node by node due to
the operating system upgrade. However, if the --limit
option is not passed, the upgrade tasks fails in the
task right before the guard, as that task already
references the undefined variable. So, it is needed
to invert the order so we fail at will in the guard
task.

Closes-Bug: #1861663
(cherry picked from commit bca35e611bbc8f103e4893282c9b2c49aa4e1e48)

Change-Id: I1def295469875e648ad1c9d1e0de00b241acc3fd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/713175/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml']",4,541170e5143c74e3cb4d2e05ebe3e6c6386c2956,stein," - debug: msg: ""Prepare cinder_volume upgrade for {{ cinder_volume_short_node_names_upgraded }}"""," - debug: msg: ""Prepare cinder_volume upgrade for {{ cinder_volume_short_node_names_upgraded }}""",8,10
openstack%2Ftripleo-heat-templates~stable%2Frocky~I2b2f067d51cd5e430c078acd62912859be195589,openstack/tripleo-heat-templates,stable/rocky,I2b2f067d51cd5e430c078acd62912859be195589,Fix scenario glance backend for scenario010,MERGED,2019-11-01 16:18:40.000000000,2020-03-16 21:28:53.000000000,2020-03-16 21:28:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 16:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04d64cef6d98ffeeba22848dc628b9417dfcffc0', 'message': 'Configure amphora for upload and run tempest\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 2, 'created': '2019-11-08 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a03bf01ccba4910666f30d0d10a185477ae528e5', 'message': 'Configure amphora for upload and run tempest\n\nNote: has rocky-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 3, 'created': '2019-11-12 14:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d085f32dacaa664ca92b9ef1a7d32fad2d3e291', 'message': 'Configure amphora for upload and run tempest\n\nNote: has rocky-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: https://review.opendev.org/692858\nDepends-On: https://review.opendev.org/692857\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 4, 'created': '2019-11-28 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99a5b284b04bfc667d8016bb177f5ad7604c5a70', 'message': 'Configure amphora for upload and run tempest\n\nNote: has rocky-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 5, 'created': '2019-11-29 15:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4f61b3dc95ec3b722f17e587ff444c77d03d70b', 'message': 'Configure amphora for upload and run tempest\n\nNote: has rocky-specific modifications\n\nDepends-On: I7f0bc4bfa3500f0ff582a151fdc7de44caa060db\nDepends-On: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\nDepends-On: I8be48a7bd07e0a00972b4bef268c4bd2badc6711\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 6, 'created': '2020-01-14 13:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/867f8be68f60add8b93c4bd3fde65bb90b663719', 'message': 'Configure amphora for upload and run tempest\n\nNote: has rocky-specific modifications\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}, {'number': 7, 'created': '2020-02-18 15:42:12.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/626fefb1ceff6e29c40bc4b9e5707d7b4290b422', 'message': 'Fix scenario glance backend for scenario010\n\nWe rely on glance having the file backend configured for this scenario\n10 (octavia).\n\n(containers rocky specific changes)\n\nDepends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe\nChange-Id: I2b2f067d51cd5e430c078acd62912859be195589\n(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)\n'}]",4,692578,626fefb1ceff6e29c40bc4b9e5707d7b4290b422,55,8,7,6681,,,0,"Fix scenario glance backend for scenario010

We rely on glance having the file backend configured for this scenario
10 (octavia).

(containers rocky specific changes)

Depends-On: I61c2e69f34280304c9dbab7af5e597956e5a7efe
Change-Id: I2b2f067d51cd5e430c078acd62912859be195589
(cherry picked from commit 6359f1e37ba31242614efaf3ec0a03cecc5253b9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/692578/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml']",2,04d64cef6d98ffeeba22848dc628b9417dfcffc0,octavia-ci, StandaloneExtraConfig: octavia::controller::connection_retry_interval: 10 OctaviaAmphoraImageFilename: /home/zuul/amphora.qcow2 OctaviaCaKeyPassphrase: 'upstreamci' OctaviaManageNovaFlavor: true OctaviaGenerateCerts: true,,8,0
openstack%2Ftripleo-quickstart-extras~master~I61c2e69f34280304c9dbab7af5e597956e5a7efe,openstack/tripleo-quickstart-extras,master,I61c2e69f34280304c9dbab7af5e597956e5a7efe,Allow full path to be specified for amphora destination,MERGED,2019-11-04 17:26:14.000000000,2020-03-16 21:28:51.000000000,2020-03-16 21:28:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 17:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f638d14d30084cd2dae0a3104b1b38a8ff789cd', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: https://review.opendev.org/692857\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 2, 'created': '2019-11-07 13:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80052c49132b79d5d31fd09ea1bb2621dc5bc3fd', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: https://review.opendev.org/692857\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 3, 'created': '2019-11-07 17:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a2ec3f05cae0fc8ae6f14ab013e681e0f18fd2f', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: https://review.opendev.org/692857\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 4, 'created': '2019-11-12 15:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a867eedbf4e9f1a6f1f0ca21fc7e88bb400c1a46', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: https://review.opendev.org/692857\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 5, 'created': '2019-11-28 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ecd6a4e18690ef011921921236d19b8f3fad66c', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 6, 'created': '2019-12-04 14:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aace4de83c3111dbc7cc5da0c93c3ae462bbb767', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 7, 'created': '2019-12-04 21:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/329c7b55c17f4e432e2a0811218815d0e7eb4505', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 8, 'created': '2019-12-13 14:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6a8b5e1b4e857cc1843ccde37496976830c0ef9', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 9, 'created': '2019-12-13 14:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b94876f517503d33cd07c5ca00d10474182bc589', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 10, 'created': '2019-12-13 18:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c682c3c032777ca8cd16d90e24c76cfc0cf8cc85', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 11, 'created': '2019-12-17 16:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/567adf4ac7a255e70b9c583686fc47941fd89098', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 12, 'created': '2019-12-17 19:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c4b9020ed04cba47f692c1709fd0fd5e302aef8', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 13, 'created': '2020-01-10 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be2ab6c74f8bcfb7be2240d9d67c426291565a6e', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 14, 'created': '2020-01-10 18:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6213781091ffa28803e1eb3cf568916aa5b02392', 'message': 'WIP: Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 15, 'created': '2020-02-17 16:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/597134a2132180f5fe307720e2399b290ebcb032', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nDepends-On: I9f1166a7126049e2d358aa7a17f48da868d346f8\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 16, 'created': '2020-02-17 16:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1de3000280f92d6408e66965fb43a982a782a12', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 17, 'created': '2020-02-17 16:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/37e82f6104a06b47f4cf3010cfe076f2d53cdaca', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 18, 'created': '2020-02-18 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c94ac2cb28cc2dca1451cfdd9504d8ed428b221d', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 19, 'created': '2020-02-19 14:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26c3e3a7a5a33c0965a858a9823dac57fae9989e', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 20, 'created': '2020-02-19 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3a694b7f5049a9ed1c82cfbeed99dad5b2ac0dee', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 21, 'created': '2020-02-24 19:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0082010b3d6caaedfef955a56e9609cf9d9e819', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 22, 'created': '2020-02-26 14:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6629c9f584f79312c7dbcfc5feb0f8b2b3de4bf2', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 23, 'created': '2020-02-26 19:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/72b526a565fbc418a60a9999063eb0a4d0adbcc8', 'message': 'DNM:Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 24, 'created': '2020-02-27 13:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d21dffe7e561171f0d2e37591bfba0e77f8e4d7c', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 25, 'created': '2020-03-02 14:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26d48e5fc7cf04cbef3f720b50dea69e9bf66381', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 26, 'created': '2020-03-03 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2c1763edacd2d57f4d30b97d77d4a20bf5d3e3cc', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}, {'number': 27, 'created': '2020-03-06 14:24:04.000000000', 'files': ['roles/octavia-amphora-download/README.md', 'roles/octavia-amphora-download/defaults/main.yml', 'roles/extras-common/defaults/main.yml', 'roles/octavia-amphora-download/tasks/main.yml', 'roles/octavia-amphora-download/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/543343d4506874432bd7679f43062961294489b9', 'message': 'Allow full path to be specified for amphora destination\n\nDifferent versions of TripleO have different restrictions for the\namphora location. Parameterizing it allows quickstart and the\ntemplates to put it in suitable locations.\n\nChange-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe\n'}]",11,692858,543343d4506874432bd7679f43062961294489b9,96,7,27,6681,,,0,"Allow full path to be specified for amphora destination

Different versions of TripleO have different restrictions for the
amphora location. Parameterizing it allows quickstart and the
templates to put it in suitable locations.

Change-Id: I61c2e69f34280304c9dbab7af5e597956e5a7efe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/58/692858/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/octavia-amphora-download/README.md', 'roles/octavia-amphora-download/defaults/main.yml', 'roles/octavia-amphora-download/tasks/main.yml']",3,7f638d14d30084cd2dae0a3104b1b38a8ff789cd,octavia-ci," dest: ""{{ octavia_amphora_path }}"""," dest: ""{{ target_dir }}/amphora.qcow2""",3,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4b658b7739d7620db54ec01bcaeea37b2fc6a34d,openstack/tripleo-upgrade,stable/train,I4b658b7739d7620db54ec01bcaeea37b2fc6a34d,Remove Congress service from roles_data.,MERGED,2020-03-16 11:10:20.000000000,2020-03-16 21:19:06.000000000,2020-03-16 21:19:06.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 11:10:20.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c5b887fcbb19df85852aa0dc2c7096c2c7346318', 'message': 'Remove Congress service from roles_data.\n\nCongress templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the Congress service.\n\n[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\n\nChange-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d\n(cherry picked from commit ca470f0e96336b40346289717d8b9969a74fe204)\n'}]",0,713190,c5b887fcbb19df85852aa0dc2c7096c2c7346318,9,6,1,26343,,,0,"Remove Congress service from roles_data.

Congress templates where removed completely in Stein [0].
Therefore, there is no need to keep the service inside
any customized roles_data.

This patch parses the customized roles_data passed during
the upgrade prepare step and removes the Congress service.

[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa

Change-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d
(cherry picked from commit ca470f0e96336b40346289717d8b9969a74fe204)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/713190/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,c5b887fcbb19df85852aa0dc2c7096c2c7346318,,"- name: drop Congress service replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::Congress$)' replace: '' ",,6,0
openstack%2Frpm-packaging~master~Ib46d3664e2f419a4e24b4d7c846053f9e8cd955e,openstack/rpm-packaging,master,Ib46d3664e2f419a4e24b4d7c846053f9e8cd955e,update oslo.messaging to 12.0.0,MERGED,2020-03-13 07:29:28.000000000,2020-03-16 21:18:35.000000000,2020-03-16 21:18:35.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 07:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa036da0b2d0bf78098f4181724131276dadd708', 'message': 'update oslo.messaging to 12.0.0\n\nDepends-on: I8ec6b4009f9e84242a893432b2f1270e7515d5f1\nChange-Id: Ib46d3664e2f419a4e24b4d7c846053f9e8cd955e\n'}, {'number': 2, 'created': '2020-03-16 21:08:17.000000000', 'files': ['openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/37ded4397e40c9e9a5ad88577b07c463909f4fa4', 'message': 'update oslo.messaging to 12.0.0\n\nDepends-on: I8ec6b4009f9e84242a893432b2f1270e7515d5f1\nChange-Id: Ib46d3664e2f419a4e24b4d7c846053f9e8cd955e\n'}]",0,712847,37ded4397e40c9e9a5ad88577b07c463909f4fa4,13,5,2,26570,,,0,"update oslo.messaging to 12.0.0

Depends-on: I8ec6b4009f9e84242a893432b2f1270e7515d5f1
Change-Id: Ib46d3664e2f419a4e24b4d7c846053f9e8cd955e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/712847/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.messaging/oslo.messaging.spec.j2'],1,fa036da0b2d0bf78098f4181724131276dadd708,,{% set upstream_version = upstream_version('12.0.0') %},{% set upstream_version = upstream_version('11.0.0') %},1,1
openstack%2Frpm-packaging~master~Ib531f1bd2703113d7bea0014fcecfebf9a8e07fa,openstack/rpm-packaging,master,Ib531f1bd2703113d7bea0014fcecfebf9a8e07fa,mistral-lib: Update to 1.4.0,MERGED,2020-03-14 12:20:23.000000000,2020-03-16 21:17:49.000000000,2020-03-16 21:17:49.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 12:20:23.000000000', 'files': ['openstack/mistral-lib/mistral-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2ade4fa56f61d1bad968ed15e9fb1c7746f3cba4', 'message': 'mistral-lib: Update to 1.4.0\n\nChange-Id: Ib531f1bd2703113d7bea0014fcecfebf9a8e07fa\n'}]",0,713086,2ade4fa56f61d1bad968ed15e9fb1c7746f3cba4,9,5,1,6593,,,0,"mistral-lib: Update to 1.4.0

Change-Id: Ib531f1bd2703113d7bea0014fcecfebf9a8e07fa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/86/713086/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/mistral-lib/mistral-lib.spec.j2'],1,2ade4fa56f61d1bad968ed15e9fb1c7746f3cba4,,{% set upstream_version = upstream_version('1.4.0') %},{% set upstream_version = upstream_version('1.3.0') %},1,1
openstack%2Frpm-packaging~master~I6db49949ede75029da551439f635dbf6f5a817cb,openstack/rpm-packaging,master,I6db49949ede75029da551439f635dbf6f5a817cb,update oslo.utils to 4.1.0,MERGED,2020-03-13 08:10:32.000000000,2020-03-16 21:16:58.000000000,2020-03-16 21:16:58.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 08:10:32.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/037cc004a7989ef61ad826fe5fae7d7b4f829942', 'message': 'update oslo.utils to 4.1.0\n\nChange-Id: I6db49949ede75029da551439f635dbf6f5a817cb\n'}]",0,712851,037cc004a7989ef61ad826fe5fae7d7b4f829942,9,5,1,28654,,,0,"update oslo.utils to 4.1.0

Change-Id: I6db49949ede75029da551439f635dbf6f5a817cb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/712851/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,037cc004a7989ef61ad826fe5fae7d7b4f829942,oslo.utils,{% set upstream_version = upstream_version('4.1.0') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Fpython-openstackclient~master~I9a8bfc27c127e92b6856cb6a3e45b32c818db16c,openstack/python-openstackclient,master,I9a8bfc27c127e92b6856cb6a3e45b32c818db16c,Build utility image for using osc,MERGED,2020-03-04 15:16:58.000000000,2020-03-16 21:12:24.000000000,2020-03-16 21:09:01.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 15:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/14975bbc61cf6aabe68d4102f04f66534798c95f', 'message': ""Build utility image for using osc\n\npython-openstackclient currently has a non-zero number of dependencies,\nso for admins who would like to run it on laptops or similar it can\nget tricky. In opendev, for instance, admins have it installed into\na venv on a jump host, but it's really wonky to keep up with.\n\nUse the opendev/python-builder opendev/python-base pair to make a\nminimal image that contains an install of python-openstackclient\nand publish it to the osclient org on dockerhub. There is an overall\npolicy against having binary artifacts such as this appear to be\nofficial deliverables of the OpenStack project, which this is not.\nIt's also only publishing images based on master, so no warranties\nshould be implied. But if this makes life easier for a user somewhere,\ncool.\n\nChange-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c\n""}, {'number': 2, 'created': '2020-03-04 16:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d4e8bee6c094e83bee254fcb0fe199ca80a1c3d7', 'message': ""Build utility image for using osc\n\npython-openstackclient currently has a non-zero number of dependencies,\nso for admins who would like to run it on laptops or similar it can\nget tricky. In opendev, for instance, admins have it installed into\na venv on a jump host, but it's really wonky to keep up with.\n\nUse the opendev/python-builder opendev/python-base pair to make a\nminimal image that contains an install of python-openstackclient\nand publish it to the osclient org on dockerhub. There is an overall\npolicy against having binary artifacts such as this appear to be\nofficial deliverables of the OpenStack project, which this is not.\nIt's also only publishing images based on master, so no warranties\nshould be implied. But if this makes life easier for a user somewhere,\ncool.\n\nChange-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c\n""}, {'number': 3, 'created': '2020-03-04 21:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a403c67038c47b30164718c5b74f65682bad7480', 'message': ""Build utility image for using osc\n\npython-openstackclient currently has a non-zero number of dependencies,\nso for admins who would like to run it on laptops or similar it can\nget tricky. In opendev, for instance, admins have it installed into\na venv on a jump host, but it's really wonky to keep up with.\n\nUse the opendev/python-builder opendev/python-base pair to make a\nminimal image that contains an install of python-openstackclient\nand publish it to the osclient org on dockerhub. There is an overall\npolicy against having binary artifacts such as this appear to be\nofficial deliverables of the OpenStack project, which this is not.\nIt's also only publishing images based on master, so no warranties\nshould be implied. But if this makes life easier for a user somewhere,\ncool.\n\nChange-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c\n""}, {'number': 4, 'created': '2020-03-05 16:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/022e3481321e32d7b73b8f69e15ea5135af4fca7', 'message': ""Build utility image for using osc\n\npython-openstackclient currently has a non-zero number of dependencies,\nso for admins who would like to run it on laptops or similar it can\nget tricky. In opendev, for instance, admins have it installed into\na venv on a jump host, but it's really wonky to keep up with.\n\nUse the opendev/python-builder opendev/python-base pair to make a\nminimal image that contains an install of python-openstackclient\nand publish it to the osclient org on dockerhub. There is an overall\npolicy against having binary artifacts such as this appear to be\nofficial deliverables of the OpenStack project, which this is not.\nIt's also only publishing images based on master, so no warranties\nshould be implied. But if this makes life easier for a user somewhere,\ncool.\n\nChange-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c\n""}, {'number': 5, 'created': '2020-03-14 22:16:00.000000000', 'files': ['Dockerfile', '.zuul.yaml', 'examples/openstack.sh'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8c47b67e8337c05a6e14d717452a4438aa17167f', 'message': ""Build utility image for using osc\n\npython-openstackclient currently has a non-zero number of dependencies,\nso for admins who would like to run it on laptops or similar it can\nget tricky. In opendev, for instance, admins have it installed into\na venv on a jump host, but it's really wonky to keep up with.\n\nUse the opendev/python-builder opendev/python-base pair to make a\nminimal image that contains an install of python-openstackclient\nand publish it to the osclient org on dockerhub. There is an overall\npolicy against having binary artifacts such as this appear to be\nofficial deliverables of the OpenStack project, which this is not.\nIt's also only publishing images based on master, so no warranties\nshould be implied. But if this makes life easier for a user somewhere,\ncool.\n\nChange-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c\n""}]",2,711246,8c47b67e8337c05a6e14d717452a4438aa17167f,30,5,5,2,,,0,"Build utility image for using osc

python-openstackclient currently has a non-zero number of dependencies,
so for admins who would like to run it on laptops or similar it can
get tricky. In opendev, for instance, admins have it installed into
a venv on a jump host, but it's really wonky to keep up with.

Use the opendev/python-builder opendev/python-base pair to make a
minimal image that contains an install of python-openstackclient
and publish it to the osclient org on dockerhub. There is an overall
policy against having binary artifacts such as this appear to be
official deliverables of the OpenStack project, which this is not.
It's also only publishing images based on master, so no warranties
should be implied. But if this makes life easier for a user somewhere,
cool.

Change-Id: I9a8bfc27c127e92b6856cb6a3e45b32c818db16c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/46/711246/3 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', '.zuul.yaml', 'examples/openstack.sh']",3,14975bbc61cf6aabe68d4102f04f66534798c95f,,"#!/bin/bash # Copyright (c) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This is an example script that can be installed somewhere, such as # /usr/local/bin/openstack, that will allow using python-openstackclient # via the container image instead of via a direct installation. It # bind-mounts in clouds.yaml files, so it should behave like a directly # installed osc. if type podman 2>/dev/null ; then RUNTIME=podman else RUNTIME=docker fi exec $RUNTIME run -it --rm \ -v/etc/openstack:/etc/openstack \ -v$HOME/.config/openstack:/root/.config/openstack \ osclient/openstackclient \ openstack $@ ",,110,0
openstack%2Ftripleo-ci~master~I53e1dba2a82a4ee947fe073937d6bfc988743f93,openstack/tripleo-ci,master,I53e1dba2a82a4ee947fe073937d6bfc988743f93,Added tripleo-ci-centos-8-scenario007-multinode-oooq-container,MERGED,2020-03-11 09:26:21.000000000,2020-03-16 21:06:21.000000000,2020-03-16 21:06:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 09:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e27ed568f78395c7bbc2c79445dd6e5bdf24f516', 'message': 'Added tripleo-ci-centos-8-scenario007-multinode-oooq-container\n\nIt will run only on master branch.\n\nChange-Id: I53e1dba2a82a4ee947fe073937d6bfc988743f93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-11 09:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23cbd55e21598fdfb3e8878629becb0d8efa8f25', 'message': 'Added tripleo-ci-centos-8-scenario007-multinode-oooq-container\n\nIt will run only on master branch.\n\nChange-Id: I53e1dba2a82a4ee947fe073937d6bfc988743f93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-03-12 09:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3d91e0e8abc6b20e0f8962ae0b1f17b0e38558c2', 'message': 'Added tripleo-ci-centos-8-scenario007-multinode-oooq-container\n\nIt will run only on master branch.\n\nChange-Id: I53e1dba2a82a4ee947fe073937d6bfc988743f93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-03-12 14:10:14.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ac2fd0abddcc43464287bcd57d7589fefd00f47', 'message': 'Added tripleo-ci-centos-8-scenario007-multinode-oooq-container\n\nIt will run only on master branch.\n\nChange-Id: I53e1dba2a82a4ee947fe073937d6bfc988743f93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",10,712294,4ac2fd0abddcc43464287bcd57d7589fefd00f47,24,7,4,12393,,,0,"Added tripleo-ci-centos-8-scenario007-multinode-oooq-container

It will run only on master branch.

Change-Id: I53e1dba2a82a4ee947fe073937d6bfc988743f93
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/712294/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml']",2,e27ed568f78395c7bbc2c79445dd6e5bdf24f516,centos-8-jobs, - tripleo-ci-centos-8-scenario007-multinode-oooq-container: irrelevant-files: *multinode_ignored branches: ^(?stable/(rocky|stein|train)).*$ vars: nodes: 1ctlr featureset: '030' - job: name: tripleo-ci-centos-8-scenario007-multinode-oooq-container parent: tripleo-ci-base-multinode-centos-8 voting: false branches: ^(?!stable/(rocky|stein|train)).*$, branches: ^(?!stable/(newton|ocata|pike)).*$,15,1
openstack%2Fproject-config~master~I67d0c61be9cd05c90a5be937fa4bf77678f89ce5,openstack/project-config,master,I67d0c61be9cd05c90a5be937fa4bf77678f89ce5,Verbosely apply Zuul ssh key in nodepool config,MERGED,2020-03-16 16:57:42.000000000,2020-03-16 21:04:34.000000000,2020-03-16 21:04:34.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 16:57:42.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/051840757d5e43792c356fe17db459e3a36be427', 'message': ""Verbosely apply Zuul ssh key in nodepool config\n\nWe had been relying on the ssh pubkey configured in the nodepool user's\nhomedir. This being an implicit config caused containerized nodepool\nbuilders to break as they didn't have this config. Switch to explicit\nconfig to avoid this in the future. This is unfortunately quite verbose,\nbut that will improve with future changes to nodepool.\n\nChange-Id: I67d0c61be9cd05c90a5be937fa4bf77678f89ce5\nStory: #2007407\nTask: #39072\n""}]",0,713289,051840757d5e43792c356fe17db459e3a36be427,7,3,1,4146,,,0,"Verbosely apply Zuul ssh key in nodepool config

We had been relying on the ssh pubkey configured in the nodepool user's
homedir. This being an implicit config caused containerized nodepool
builders to break as they didn't have this config. Switch to explicit
config to avoid this in the future. This is unfortunately quite verbose,
but that will improve with future changes to nodepool.

Change-Id: I67d0c61be9cd05c90a5be937fa4bf77678f89ce5
Story: #2007407
Task: #39072
",git fetch https://review.opendev.org/openstack/project-config refs/changes/89/713289/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.openstack.org.yaml']",2,051840757d5e43792c356fe17db459e3a36be427,diskimages-globals, ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org ZUUL_USER_SSH_PUBLIC_KEY: | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDh5u0DWNi0d3uqI82izAxVTUTrGl36L3szEqV9WrilGmxaTtp9X7HrktJ5J+rvxQqz39llTf1v7iYA4CNKto/48RBAB0mKEEI4x4iw+fu/BLU7nu7ewSfXLUxHahxaTgIk2KcbegknD5NzMjalyfNfgTPDGv8BjwHeeNdZmJMBvPFGu6fO48M4yK1tiQn0kAkaH4oII/M4pyF8vy9tPTODAD7RvnMvQAb08LZZvE/IPzJAHNXFRb1v+DBa38fOvdyaz/nibrsxiOWZxQVLgjYciUeDy1xvXADaWlqvxmLy+90LHbJFbGxK4AN0mWfwBiUMVyxZjkun39pjTNl2k09OhOq+R52UqnehMc4eBdZCddnCUq4/efbFCJkqe5wY+SE8fYybJjauUL64zyrwf6yfWkXvPVHWa9Y+NCmvH8PCBUcsQnwO7l/Yb4N+8+u6zkODyuc9wLAY+DpnptE3plXtvUs5negC4fvJSnOHpWXuoi9yzp7IlPf6fSjMMDQo0JjCYJwazdzqrIH2VSCcfHAqWF0ECR8IgwZV1bp0xFe0UN0Gjsgkozqf8rvs1AYyTSeD19Wg9j+crTke8E1sfoI/qFzHwzBQFKJ+2l0cs7pZWJBARlhbt1j1IouS2aH+74xwsavRhBz4IsFTPqWiP6JTrgk5cgKRnTqInzNfdaLeUw== zuul-worker@openstack.org,,28,0
openstack%2Ftripleo-heat-templates~master~I2af6587fbfa659eb46b712d63b998e039189d31f,openstack/tripleo-heat-templates,master,I2af6587fbfa659eb46b712d63b998e039189d31f,Fixed libvirt volume path for nova-migration-target-container,MERGED,2020-03-13 12:53:41.000000000,2020-03-16 21:02:36.000000000,2020-03-16 21:02:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-13 12:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d438da855d7f2d61318c8a48ea7eab0d643769c', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-13 13:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/750e03e8ec10f5707640da5c4d5663a8caa74ffe', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-03-16 06:34:42.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e423bcf389c1cf25d9180b77f63647e32aa9fc12', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nCo-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Cédric Jeanneret <cjeanner@redhat.com>\n'}]",1,712940,e423bcf389c1cf25d9180b77f63647e32aa9fc12,14,7,3,12393,,,0,"Fixed libvirt volume path for nova-migration-target-container

Depends-On: https://review.opendev.org/#/c/711599/

Co-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>
Change-Id: I2af6587fbfa659eb46b712d63b998e039189d31f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Signed-off-by: Cédric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/712940/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,8d438da855d7f2d61318c8a48ea7eab0d643769c,fix_libvirt," - /var/run/libvirt:/var/run/libvirt:shared,z", - /run/libvirt:/run/libvirt,1,1
openstack%2Fzun~master~I016fd6f59a1a8b631e76f9567d5ef2e38da2bdd7,openstack/zun,master,I016fd6f59a1a8b631e76f9567d5ef2e38da2bdd7,Configure default container runtime in devstack,MERGED,2020-03-15 23:01:06.000000000,2020-03-16 20:57:08.000000000,2020-03-16 20:55:39.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 23:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7da73e44175ccfac9bbf24096f8b98f82e5d6fbc', 'message': 'Devstack config about enabling kata container\n\nChange-Id: I016fd6f59a1a8b631e76f9567d5ef2e38da2bdd7\n'}, {'number': 2, 'created': '2020-03-15 23:12:05.000000000', 'files': ['devstack/local.conf.subnode.sample', 'devstack/lib/zun', 'devstack/local.conf.sample', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/zun/commit/436a0e60910001f53be3d586bc64756ae25f07ea', 'message': 'Configure default container runtime in devstack\n\n* If Kata Container is enabled, configure default runtime as\n  ""kata-runtime"" in Zun config file.\n* Update sample devstack config to document enabling kata\n\nChange-Id: I016fd6f59a1a8b631e76f9567d5ef2e38da2bdd7\n'}]",0,713147,436a0e60910001f53be3d586bc64756ae25f07ea,8,2,2,11536,,,0,"Configure default container runtime in devstack

* If Kata Container is enabled, configure default runtime as
  ""kata-runtime"" in Zun config file.
* Update sample devstack config to document enabling kata

Change-Id: I016fd6f59a1a8b631e76f9567d5ef2e38da2bdd7
",git fetch https://review.opendev.org/openstack/zun refs/changes/47/713147/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.subnode.sample', 'devstack/local.conf.sample']",2,7da73e44175ccfac9bbf24096f8b98f82e5d6fbc,,# Optional: uncomment to enable Kata Container # ENABLE_KATA_CONTAINERS=True ,,6,0
openstack%2Fnova~stable%2Ftrain~Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b,openstack/nova,stable/train,Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b,Functional test for UnexpectedDeletingTaskStateError,MERGED,2020-03-04 12:05:53.000000000,2020-03-16 20:39:23.000000000,2020-03-16 20:36:44.000000000,"[{'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0089f883f9ebf8e147df368bc5ec8210c087611f', 'message': ""Functional test for UnexpectedDeletingTaskStateError\n\nAdds a regression-style test for two cleanup bugs when\n'UnexpectedDeletingTaskStateError' is raised during build.\n\nChange-Id: Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b\nRelated-Bug: #1848666\nRelated-Bug: #1831771\n(cherry picked from commit 10434bd229973b37647741e58aff3ac90b3a0a6c)\n""}, {'number': 2, 'created': '2020-03-04 15:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ce7e26ad67551dba60fa1c252709ce5d13389e8', 'message': ""Functional test for UnexpectedDeletingTaskStateError\n\nAdds a regression-style test for two cleanup bugs when\n'UnexpectedDeletingTaskStateError' is raised during build.\n\nModified:\n\tnova/tests/functional/regressions/test_bug_1831771.py\n\tnova/tests/functional/integrated_helpers.py\n\nNOTE(stephenfin): The '_build_server' function has to be replaced by\n'_build_minimal_create_server_request' since we don't have change\nI91fa2f73185fef48e9aae9b7f61389c374e06676 here. In addition, we need to\nmake '_wait_until_deleted' handle responses that don't include the\n'status' field, such as the response received when creating a server,\nwhich was done in change I0c56841d098d3e9d72db65be3143f3c893f0b6ba on\nmaster.\n\nChange-Id: Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b\nRelated-Bug: #1848666\nRelated-Bug: #1831771\n(cherry picked from commit 10434bd229973b37647741e58aff3ac90b3a0a6c)\n""}, {'number': 3, 'created': '2020-03-05 11:22:36.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1831771.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24600430a2e4c67a4584d1ee466d3376aae96f25', 'message': ""Functional test for UnexpectedDeletingTaskStateError\n\nAdds a regression-style test for two cleanup bugs when\n'UnexpectedDeletingTaskStateError' is raised during build.\n\nModified:\n\tnova/tests/functional/regressions/test_bug_1831771.py\n\tnova/tests/functional/integrated_helpers.py\n\nNOTE(stephenfin): The '_build_server' function has to be replaced by\n'_build_minimal_create_server_request' since we don't have change\nI91fa2f73185fef48e9aae9b7f61389c374e06676 here. Similarly, we need to\nmake '_wait_until_deleted' handle responses that don't include the\n'status' field, such as the response received when creating a server,\nwhich was done in change I0c56841d098d3e9d72db65be3143f3c893f0b6ba on\nmaster. Finally, change I36da36cc5b099174eece0dfba29485fc20b2867b has\nbeen squashed into this change to avoid the races we saw with this test\non master.\n\nChange-Id: Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b\nRelated-Bug: #1848666\nRelated-Bug: #1831771\n(cherry picked from commit 10434bd229973b37647741e58aff3ac90b3a0a6c)\n""}]",3,711210,24600430a2e4c67a4584d1ee466d3376aae96f25,21,7,3,15334,,,0,"Functional test for UnexpectedDeletingTaskStateError

Adds a regression-style test for two cleanup bugs when
'UnexpectedDeletingTaskStateError' is raised during build.

Modified:
	nova/tests/functional/regressions/test_bug_1831771.py
	nova/tests/functional/integrated_helpers.py

NOTE(stephenfin): The '_build_server' function has to be replaced by
'_build_minimal_create_server_request' since we don't have change
I91fa2f73185fef48e9aae9b7f61389c374e06676 here. Similarly, we need to
make '_wait_until_deleted' handle responses that don't include the
'status' field, such as the response received when creating a server,
which was done in change I0c56841d098d3e9d72db65be3143f3c893f0b6ba on
master. Finally, change I36da36cc5b099174eece0dfba29485fc20b2867b has
been squashed into this change to avoid the races we saw with this test
on master.

Change-Id: Ief1dfbb6cc9d67b73dfab4c7b63358e76e12866b
Related-Bug: #1848666
Related-Bug: #1831771
(cherry picked from commit 10434bd229973b37647741e58aff3ac90b3a0a6c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/711210/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1831771.py'],1,0089f883f9ebf8e147df368bc5ec8210c087611f,bug/1831771,"# Copyright 2019, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import mock from nova.compute import task_states from nova.compute import vm_states from nova import objects from nova import test from nova.tests.functional import integrated_helpers class TestDelete(integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.MediumFakeDriver' def test_delete_during_create(self): compute = self._start_compute('compute1') def delete_race(instance): self.api.delete_server(instance.uuid) self._wait_for_server_parameter( self.api, {'id': instance.uuid}, {'OS-EXT-STS:task_state': task_states.DELETING}, ) orig_save = objects.Instance.save # an in-memory record of the current instance task state as persisted # to the db. db_task_states = collections.defaultdict(str) active_after_deleting_error = [False] # A wrapper round instance.save() which allows us to inject a race # under specific conditions before calling the original instance.save() def wrap_save(instance, *wrap_args, **wrap_kwargs): # We're looking to inject the race before: # instance.save(expected_task_state=task_states.SPAWNING) # towards the end of _build_and_run_instance. # # At this point the driver has finished creating the instance, but # we're still on the compute host and still holding the compute # host instance lock. # # This is just a convenient interception point. In order to race # the delete could have happened at any point prior to this since # the previous instance.save() expected_task_state = wrap_kwargs.get('expected_task_state') if ( instance.vm_state == vm_states.ACTIVE and instance.task_state is None and expected_task_state == task_states.SPAWNING ): delete_race(instance) orig_save(instance, *wrap_args, **wrap_kwargs) if ( db_task_states[instance.uuid] == task_states.DELETING and instance.vm_state == vm_states.ACTIVE and instance.task_state is None ): # the instance was in the DELETING task state in the db, and we # overwrote that to set it to ACTIVE with no task state. # Bug 1848666. active_after_deleting_error[0] = True db_task_states[instance.uuid] = instance.task_state with test.nested( mock.patch('nova.objects.Instance.save', wrap_save), mock.patch.object(compute.driver, 'spawn'), mock.patch.object(compute.driver, 'unplug_vifs'), ) as (_, mock_spawn, mock_unplug_vifs): # the compute manager doesn't set the ERROR state in cleanup since # it might race with delete, therefore we'll be left in BUILDING server_req = self._build_server(networks='none') created_server = self.api.post_server({'server': server_req}) self._wait_until_deleted(created_server) # assert that we spawned the instance, and unplugged vifs on # cleanup mock_spawn.assert_called() # FIXME(mdbooth): We should have called unplug_vifs in cleanup, but # we didn't due to bug 1831771 mock_unplug_vifs.assert_not_called() # FIXME(mdbooth): Bug 1848666 self.assertTrue(active_after_deleting_error[0]) ",,101,0
openstack%2Fopenstack-helm~master~I1b35290b62d2cebae4bd8be62126a53f230ac6c0,openstack/openstack-helm,master,I1b35290b62d2cebae4bd8be62126a53f230ac6c0,Enable Cinder backends to use iSCSI for data traffic,MERGED,2020-01-27 21:14:21.000000000,2020-03-16 20:36:58.000000000,2020-03-16 20:35:11.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-01-27 21:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd55271372edcfc7f62514865c27dd6e9b439ce9', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 2, 'created': '2020-02-02 03:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83170a67aaa16854b01ef9b6cf8b91615c50fcff', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 3, 'created': '2020-02-03 15:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fea7a1dfec2d785a359853b73174d5efcbfa231', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 4, 'created': '2020-02-03 21:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87dd39c4dd3ad45ae81285a55307ef7a9ffb948b', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 5, 'created': '2020-02-03 22:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/910fb02774dba71db7d90fc9da8b822014a9f0fa', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 6, 'created': '2020-02-03 23:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7bff5a8f1b0d95ea826aa656d29b388fcf1cb16', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 7, 'created': '2020-02-04 19:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/107f8cbff36e7c25fb1e1a4499827a90e30c5f49', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 8, 'created': '2020-02-05 20:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/531e6dcd06534e28f6dfc6c1d8336600587686af', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 9, 'created': '2020-02-05 20:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/170dee452f767bde649d74a1cd2dc8bf7d8c2628', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 10, 'created': '2020-02-05 21:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5249ea6912f1eded5dda0f1c78b130be0242ada2', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 11, 'created': '2020-02-05 23:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46e733e71f27d081e37c8b47c9c8b11fa038dbba', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 12, 'created': '2020-02-06 16:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8633a8e360656633cd74b31362d690c6591e4beb', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 13, 'created': '2020-02-07 20:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a2ff070178104167a19bc65904e4296ea1e7805', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 14, 'created': '2020-02-07 20:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb4ad535cf9743d78b1ad465f74b041973cd5af2', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 15, 'created': '2020-02-07 20:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe2c600a8fd05a564f92bc10eaa104638ae422f8', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 16, 'created': '2020-02-13 21:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67927faeb1f137b14b2d1fd0381eac49acd848e9', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 17, 'created': '2020-02-13 22:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/947f48305b0d446b0caee967015aa26eea2de5a8', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 18, 'created': '2020-02-17 21:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19d094e4b87fa59c66906ba13a2d40b48c84e8f2', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 19, 'created': '2020-02-20 17:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9613d156f2432d678d17e0d5ec913b074924b587', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 20, 'created': '2020-02-20 23:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86b0f2556072471365d4e29f014868e150e80ff9', 'message': 'This is a Test Patchset\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 21, 'created': '2020-02-20 23:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f30dd57d66aadfbb38b9037d1fc05192ac45acc6', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support for Nova\nCompute datapath is added.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 22, 'created': '2020-02-20 23:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/309b6c860d960918ed6d5fd129f3471ca4b39aaa', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 23, 'created': '2020-02-21 15:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6e90f7a00ec910e0003450a55adba4ae2131619', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 24, 'created': '2020-02-26 20:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af98b60eb3798df75c0b3fe09c93713ca335383f', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 25, 'created': '2020-03-09 22:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ea77216c7411c5a4f9e7b280e58defc382a68ec', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 26, 'created': '2020-03-10 15:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3860bd25cbe759a91f36fa5bc2a8b7b3d4c10f7', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 27, 'created': '2020-03-10 18:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/023d836b0b736417a7d1e932b595b02bc8a23c77', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 28, 'created': '2020-03-13 13:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5846e136011c57ccf5b4b21f2da7af6266b440d', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}, {'number': 29, 'created': '2020-03-16 14:23:23.000000000', 'files': ['cinder/templates/bin/_iscsiadm.tpl', 'cinder/templates/deployment-volume.yaml', 'cinder/templates/configmap-bin.yaml', 'nova/templates/bin/_iscsiadm.tpl', 'cinder/values.yaml', 'nova/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a7b7ba08615d09d2313e34db20a13489a6a90b1', 'message': 'Enable Cinder backends to use iSCSI for data traffic\n\nIn this patchset, the iSCSI protocol support is added\nto enable Cinder to use iSCSI based storage backends.\n\nBootable volumes are not supported, only VM attached\nvolumes are supported for this initial patchset.\n\nChange-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0\n'}]",0,704429,8a7b7ba08615d09d2313e34db20a13489a6a90b1,64,7,29,18236,,,0,"Enable Cinder backends to use iSCSI for data traffic

In this patchset, the iSCSI protocol support is added
to enable Cinder to use iSCSI based storage backends.

Bootable volumes are not supported, only VM attached
volumes are supported for this initial patchset.

Change-Id: I1b35290b62d2cebae4bd8be62126a53f230ac6c0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/704429/26 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/values.yaml']",2,cd55271372edcfc7f62514865c27dd6e9b439ce9,, useHostNetwork: volume: false,,5,1
openstack%2Ftripleo-ansible~master~I8bc3207129b60fca6e3205106bb967e414ce4984,openstack/tripleo-ansible,master,I8bc3207129b60fca6e3205106bb967e414ce4984,Remove mistral cli from the backup playbook,MERGED,2020-03-13 21:32:02.000000000,2020-03-16 20:07:39.000000000,2020-03-16 20:07:39.000000000,"[{'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 21:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0336f5d18abde21a1959454ef163edc010a7de5', 'message': 'Remove mistral cli from the backup playbook\n\nThe undercloud backup playbook was using mistral to pull the mysql root\npassword from the available environment. While this works, its not needed\nbecause the authoratative source is already in the deployment users home\nfolder. This change removes the use of the mistral cli calls, it will now\nread the generated password file from the deployers home folder. The\nplaybook will read from the `tripleo-undercloud-passwords.yaml` file\nfirst, if there are any issues with that file it will fallback to\n`undercloud-passwords.conf`.\n\nThis removes our usage of mistral and speeds up the total playbook\nruntime.\n\nChange-Id: I8bc3207129b60fca6e3205106bb967e414ce4984\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-13 21:36:10.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9ce6766e9382445e347d4e3cef5ed20aba6987f', 'message': 'Remove mistral cli from the backup playbook\n\nThe undercloud backup playbook was using mistral to pull the mysql root\npassword from the available environment. While this works, its not needed\nbecause the authoratative source is already in the deployment users home\nfolder. This change removes the use of the mistral cli calls, it will now\nread the generated password file from the deployers home folder. The\nplaybook will read from the `tripleo-undercloud-passwords.yaml` file\nfirst, if there are any issues with that file it will fallback to\n`undercloud-passwords.conf`.\n\nThis removes our usage of mistral and speeds up the total playbook\nruntime.\n\nStory: 2007414\nTask: 39060\n\nChange-Id: I8bc3207129b60fca6e3205106bb967e414ce4984\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,713065,a9ce6766e9382445e347d4e3cef5ed20aba6987f,14,5,2,7353,,,0,"Remove mistral cli from the backup playbook

The undercloud backup playbook was using mistral to pull the mysql root
password from the available environment. While this works, its not needed
because the authoratative source is already in the deployment users home
folder. This change removes the use of the mistral cli calls, it will now
read the generated password file from the deployers home folder. The
playbook will read from the `tripleo-undercloud-passwords.yaml` file
first, if there are any issues with that file it will fallback to
`undercloud-passwords.conf`.

This removes our usage of mistral and speeds up the total playbook
runtime.

Story: 2007414
Task: 39060

Change-Id: I8bc3207129b60fca6e3205106bb967e414ce4984
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/713065/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-backup.yaml'],1,e0336f5d18abde21a1959454ef163edc010a7de5,mistral_to_ansible," - name: Set local connection user facts set_fact: ansible_home: ""{{ lookup('env', 'HOME') }}"" ansible_user: ""{{ lookup('env', 'USER') }}"" run_once: true when: - (tripleo_target_host is defined) | ternary('ssh', 'local') == 'local' - name: Mysql root password block block: - name: Read tripleo password file slurp: src: ""{{ ansible_home }}/tripleo-undercloud-passwords.yaml"" register: tripleo_undercloud_passwords no_log: true - name: Set mysql root password set_fact: MysqlRootPassword: ""{{ (tripleo_undercloud_passwords['content'] | b64decode | from_yaml)['parameter_defaults']['MysqlRootPassword'] }}"" rescue: - name: Set mysql root password (fallback) set_fact: MysqlRootPassword: ""{{ lookup('ini', 'undercloud_mysql_root_password section=auth file=' ~ ansible_home ~ '/undercloud-passwords.conf') }}"" podman exec -i mysql mysqldump \ -u root \ -p{{ MysqlRootPassword }} \ --opt \ --all-databases | gzip > {{ db_path }} no_log: true"," # The Undercloud database password for the root # user is stored in a Mistral environment, we # need the password in order to run the database dump - name: get_database_credentials shell: |- set -o pipefail mistral environment-get tripleo.undercloud-config -f json | jq -r "".Variables"" | jq -r "".undercloud_db_password"" register: undercloud_db_password podman exec -i mysql mysqldump -u root -p{{ undercloud_db_password.stdout }} --opt --all-databases | gzip > {{ db_path }}",29,9
openstack%2Fproject-config~master~Ic6810c66e553bc798d7eb2347e3852204c2bbf8e,openstack/project-config,master,Ic6810c66e553bc798d7eb2347e3852204c2bbf8e,vexxhost: add repos needed for required-projects for devstack,MERGED,2020-03-16 19:18:06.000000000,2020-03-16 19:44:59.000000000,2020-03-16 19:44:59.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 19:18:06.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc4356b1068e1e19e89157a3e2d07657ee679b8d', 'message': ""vexxhost: add repos needed for required-projects for devstack\n\nWe added DevStack but now all the jobs don't work because all\nthe required projects are missing.  This includes all of the projects\nthat I _believe_ should be included to make DevStack jobs work.\n\nChange-Id: Ic6810c66e553bc798d7eb2347e3852204c2bbf8e\n""}]",0,713317,bc4356b1068e1e19e89157a3e2d07657ee679b8d,8,3,1,1004,,,0,"vexxhost: add repos needed for required-projects for devstack

We added DevStack but now all the jobs don't work because all
the required projects are missing.  This includes all of the projects
that I _believe_ should be included to make DevStack jobs work.

Change-Id: Ic6810c66e553bc798d7eb2347e3852204c2bbf8e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/713317/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,bc4356b1068e1e19e89157a3e2d07657ee679b8d,devstack-in-zuulv3, # Include some projects without config for use in # required-projects - include: [] projects: - openstack/cinder - openstack/glance - openstack/keystone - openstack/neutron - openstack/nova - openstack/placement - openstack/requirements - openstack/swift - openstack/tempest,,13,0
openstack%2Fpaunch~stable%2Fstein~I615c798bdbcc0115f0ca9642969193ceada9b9cd,openstack/paunch,stable/stein,I615c798bdbcc0115f0ca9642969193ceada9b9cd,Don't set cpuset_cpus if empty,MERGED,2020-03-14 22:55:34.000000000,2020-03-16 19:18:09.000000000,2020-03-16 19:16:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 22:55:34.000000000', 'files': ['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/22315435e4948f223725fe9867ce52ecdad7450c', 'message': ""Don't set cpuset_cpus if empty\n\nIf cpuset_cpus is set to '', we don't want to configure it, just skip\nit.\n\nCloses-Bug: #1867357\nChange-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd\n(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)\n(cherry picked from commit 37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc)\n""}]",0,713119,22315435e4948f223725fe9867ce52ecdad7450c,8,3,1,3153,,,0,"Don't set cpuset_cpus if empty

If cpuset_cpus is set to '', we don't want to configure it, just skip
it.

Closes-Bug: #1867357
Change-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd
(cherry picked from commit 7bb9471423a350f0b1a60f67cf3eb41abaaba329)
(cherry picked from commit 37ac1e99a68e9f47c099effa0b6c0bc95d5cfecc)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/19/713119/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py']",3,22315435e4948f223725fe9867ce52ecdad7450c,nfv/stein," 'cpuset_cpus': '',",,3,2
openstack%2Fopenstack-helm-infra~master~I331a5dadcaed5f5041a6bc9101b4f92291007423,openstack/openstack-helm-infra,master,I331a5dadcaed5f5041a6bc9101b4f92291007423,Memcached: Add ingress network policy overrides,MERGED,2019-09-30 16:29:15.000000000,2020-03-16 19:09:03.000000000,2020-03-16 19:07:21.000000000,"[{'_account_id': 14029}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 29397}]","[{'number': 1, 'created': '2019-09-30 16:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4313cc612a1f18edb6f9f876ab8cd24a6c1cca2e', 'message': 'Memcached: Add ingress network policy overrides\n\nThis patch set adds in default memcached ingress overrides.\n\nChange-Id: I331a5dadcaed5f5041a6bc9101b4f92291007423\n'}, {'number': 2, 'created': '2020-02-26 15:54:36.000000000', 'files': ['memcached/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b636736b541f71a3c6f9077fc99c034ddfaf4004', 'message': 'Memcached: Add ingress network policy overrides\n\nThis patch set adds in default memcached ingress overrides.\n\nChange-Id: I331a5dadcaed5f5041a6bc9101b4f92291007423\n'}]",1,685755,b636736b541f71a3c6f9077fc99c034ddfaf4004,29,8,2,24780,,,0,"Memcached: Add ingress network policy overrides

This patch set adds in default memcached ingress overrides.

Change-Id: I331a5dadcaed5f5041a6bc9101b4f92291007423
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/685755/2 && git format-patch -1 --stdout FETCH_HEAD,['memcached/values_overrides/netpol.yaml'],1,4313cc612a1f18edb6f9f876ab8cd24a6c1cca2e,netpol,network_policy: memcached: ingress: - from: - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: keystone - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: congress - podSelector: matchLabels: application: barbican - podSelector: matchLabels: application: ceilometer - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ironic - podSelector: matchLabels: application: magnum - podSelector: matchLabels: application: mistral - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: senlin - podSelector: matchLabels: application: placement - podSelector: matchLabels: application: prometheus_memcached_exporter - podSelector: matchLabels: application: aodh - podSelector: matchLabels: application: panko - podSelector: matchLabels: application: rally - podSelector: matchLabels: application: memcached - podSelector: matchLabels: application: gnocchi ports: - port: 11211 protocol: TCP - port: 9150 protocol: TCP,,75,0
openstack%2Fironic~master~Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d,openstack/ironic,master,Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d,Rename `create_isolinux_image_for_uefi` function as misleading,MERGED,2020-02-20 12:58:34.000000000,2020-03-16 19:05:22.000000000,2020-03-16 19:00:41.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-02-20 12:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0048a95d6b5aa757d6e6f6620d74295a1e0f9be8', 'message': ""Rename `create_isolinux_image_for_uefi` function as misleading\n\nThe new name is `create_esp_image_for_uefi` which reflects\nwhat's actually going on under the hood.\n\nChange-Id: Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d\n""}, {'number': 2, 'created': '2020-02-21 10:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d17c423f258fb59a6ef8a31f9501d10c69c70d29', 'message': ""Rename `create_isolinux_image_for_uefi` function as misleading\n\nThe new name is `create_esp_image_for_uefi` which reflects\nwhat's actually going on under the hood.\n\nChange-Id: Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d\n""}, {'number': 3, 'created': '2020-02-21 13:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a9d0fd484b1ff0128bbc5d9a071cd3371e60e57', 'message': ""Rename `create_isolinux_image_for_uefi` function as misleading\n\nThe new name is `create_esp_image_for_uefi` which reflects\nwhat's actually going on under the hood.\n\nChange-Id: Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d\n""}, {'number': 4, 'created': '2020-02-21 17:39:36.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'releasenotes/notes/rename-iso-builder-func-46694ed6ded84f4a.yaml', 'ironic/common/images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9be7380e116b2df8c6af2ae8bcd8d24ee0683cd5', 'message': ""Rename `create_isolinux_image_for_uefi` function as misleading\n\nThe new name is `create_esp_image_for_uefi` which reflects\nwhat's actually going on under the hood.\n\nChange-Id: Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d\n""}]",3,708864,9be7380e116b2df8c6af2ae8bcd8d24ee0683cd5,24,6,4,26340,,,0,"Rename `create_isolinux_image_for_uefi` function as misleading

The new name is `create_esp_image_for_uefi` which reflects
what's actually going on under the hood.

Change-Id: Ia9ac85fb2a450c9b5d009f10d82ab12c8ccd9a9d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/708864/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py']",2,0048a95d6b5aa757d6e6f6620d74295a1e0f9be8,02-fix-misleading-name,"def create_esp_image_for_uefi(output_file, kernel, ramdisk, deploy_iso=None, esp_image=None, kernel_params=None): """"""Creates an ESP image on the specified file. Copies the provided kernel, ramdisk and EFI system partition image (ESP) to create_esp_image_for_uefi(output_filename, kernel_path, ramdisk_path, deploy_iso=deploy_iso_path, esp_image=esp_image_path, kernel_params=params)","def create_isolinux_image_for_uefi(output_file, kernel, ramdisk, deploy_iso=None, esp_image=None, kernel_params=None): """"""Creates an isolinux image on the specified file. Copies the provided kernel, ramdisk and EFI system partition image to create_isolinux_image_for_uefi(output_filename, kernel_path, ramdisk_path, deploy_iso=deploy_iso_path, esp_image=esp_image_path, kernel_params=params)",23,23
openstack%2Fironic-inspector~master~If2be23d4e59f4c4821005b037a6002428b2e7eb4,openstack/ironic-inspector,master,If2be23d4e59f4c4821005b037a6002428b2e7eb4,Explicitly set ramdisk type,MERGED,2020-03-13 11:23:35.000000000,2020-03-16 19:04:47.000000000,2020-03-16 19:00:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-13 11:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/cafe20dfd241374377f8bb9ab832e13e7861af9c', 'message': ""Explicitely set ramdisk type\n\nThe ironic-inspector-base job is based on ironic-base job which\nwill default to dib.\nTo prevent breaking the ironic-inspector CI we set the ramdisk\ntype to tinyipa for now and we'll convert the jobs here later.\n\nChange-Id: If2be23d4e59f4c4821005b037a6002428b2e7eb4\n""}, {'number': 2, 'created': '2020-03-13 11:24:08.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/351347ad144d5eb4d2d68a305e36e7d7d3fba14c', 'message': ""Explicitly set ramdisk type\n\nThe ironic-inspector-base job is based on ironic-base job which\nwill default to dib.\nTo prevent breaking the ironic-inspector CI we set the ramdisk\ntype to tinyipa for now and we'll convert the jobs here later.\n\nChange-Id: If2be23d4e59f4c4821005b037a6002428b2e7eb4\n""}]",0,712911,351347ad144d5eb4d2d68a305e36e7d7d3fba14c,18,5,2,23851,,,0,"Explicitly set ramdisk type

The ironic-inspector-base job is based on ironic-base job which
will default to dib.
To prevent breaking the ironic-inspector CI we set the ramdisk
type to tinyipa for now and we'll convert the jobs here later.

Change-Id: If2be23d4e59f4c4821005b037a6002428b2e7eb4
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/11/712911/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,cafe20dfd241374377f8bb9ab832e13e7861af9c,set-ramdisk-type, IRONIC_RAMDISK_TYPE: tinyipa,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9952a4df122c00c0163b7e79dab8a821e3feff06,openstack/tripleo-ansible,stable/train,I9952a4df122c00c0163b7e79dab8a821e3feff06,Add a new set of tasks to build the openstack pool and key list,MERGED,2020-03-14 17:41:59.000000000,2020-03-16 19:04:42.000000000,2020-03-16 19:04:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-14 17:41:59.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0210ba8596d29d9015b6ae77cf1651bade095e58', 'message': ""Add a new set of tasks to build the openstack pool and key list\n\nUsing this approach we can build the list of the openstack\npools and keys according to the tht variables generated and\nthe list of the enabled services provided by config-download.\nThis patch also contains 02ea16 that fixes the way we compute\nthe enabled_services list on the overcloud and the condition\nto check if a service is present in the list.\n\nCloses-Bug: #1864477\nCloses-Bug: #1867004\nChange-Id: I80ac1fc325a2d13be1a1e454eee0389510c090b2\n(cherry picked from commit 144f5aa690eb2c6ea6071dc2732c721e6bde4c77)\n\nGet the list of enabled_services on the overcloud\n\nThis patch fixes the way we compute the enabled_services\nlist on the overcloud.\nWe don't need to use hiera anymore since the overcloud\nservices are already provided by config-download.\nThis patch also fixes the condition to check if a service\nis present in the list.\n\nChange-Id: I9952a4df122c00c0163b7e79dab8a821e3feff06\n(cherry picked from commit 02ea16fbf2f631869e9366e757d80c71eb33befd)\n""}]",0,713106,0210ba8596d29d9015b6ae77cf1651bade095e58,9,6,1,25402,,,0,"Add a new set of tasks to build the openstack pool and key list

Using this approach we can build the list of the openstack
pools and keys according to the tht variables generated and
the list of the enabled services provided by config-download.
This patch also contains 02ea16 that fixes the way we compute
the enabled_services list on the overcloud and the condition
to check if a service is present in the list.

Closes-Bug: #1864477
Closes-Bug: #1867004
Change-Id: I80ac1fc325a2d13be1a1e454eee0389510c090b2
(cherry picked from commit 144f5aa690eb2c6ea6071dc2732c721e6bde4c77)

Get the list of enabled_services on the overcloud

This patch fixes the way we compute the enabled_services
list on the overcloud.
We don't need to use hiera anymore since the overcloud
services are already provided by config-download.
This patch also fixes the condition to check if a service
is present in the list.

Change-Id: I9952a4df122c00c0163b7e79dab8a821e3feff06
(cherry picked from commit 02ea16fbf2f631869e9366e757d80c71eb33befd)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/713106/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml']",4,0210ba8596d29d9015b6ae77cf1651bade095e58,lp1864477,"- name: get the list of enabled services on the overcloud set_fact: tripleo_enabled_services: ""{{ enabled_services | default([]) }}"" - name: build the openstack pool list import_tasks: build_pools.yml vars: tripleo_pool_images: ""{{ ceph_pools.glance_pool.enabled }}"" tripleo_pool_vms: ""{{ ceph_pools.nova_pool.enabled }}"" tripleo_pool_volumes: ""{{ ceph_pools.cinder_pool.enabled }}"" tripleo_pool_backup: ""{{ ceph_pools.cinder_backup_pool.enabled }}"" tripleo_pool_metrics: ""{{ ceph_pools.gnocchi_pool.enabled }}"" - name: build openstack keys include_tasks: build_keys.yml content: ""{{ ceph_ansible_group_vars_all | combine(openstack_pools|default({'openstack_pools': []})) | combine(openstack_keys|default({'openstack_keys': []})) | combine(keys|default({'keys': []})) | combine(cephfs_data|default({})) | combine(cephfs_metadata|default({})) | to_nice_yaml }}"""," content: ""{{ ceph_ansible_group_vars_all|to_nice_yaml }}""",221,68
openstack%2Fcharm-placement~stable%2F20.02~Idd99fac8b5c48755b2ef2797deaa688cd2544281,openstack/charm-placement,stable/20.02,Idd99fac8b5c48755b2ef2797deaa688cd2544281,Avoid multiple calls to create_ip_cert_links,MERGED,2020-03-16 17:05:00.000000000,2020-03-16 19:03:42.000000000,2020-03-16 19:03:42.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 17:05:00.000000000', 'files': ['rebuild', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/72a060167fbf782bb0842c65bbed8948f165ca53', 'message': 'Avoid multiple calls to create_ip_cert_links\n\n(This is a rebuild of the charm to pull in the fix that is in stable\ncharms.openstack.)\n\nPrior to this change, the call to create_ip_cert_links was inside the\nfor loop of tls objects. This caused LP Bug#1866741 where a sym link\nwith the same certificate name would get overwritten with a new cert.\nThis meant the last certificate of [internal, admin, public] would be\nwritten to all three.\n\nThis change calls create_ip_cert_links and state sets only once. It also\nadds a warning log entry if we accidentally overwrite sym linked files in\nthe future.\n\nChange-Id: Idd99fac8b5c48755b2ef2797deaa688cd2544281\nPartial-Bug: #1866741\n'}]",0,713291,72a060167fbf782bb0842c65bbed8948f165ca53,9,4,1,20870,,,0,"Avoid multiple calls to create_ip_cert_links

(This is a rebuild of the charm to pull in the fix that is in stable
charms.openstack.)

Prior to this change, the call to create_ip_cert_links was inside the
for loop of tls objects. This caused LP Bug#1866741 where a sym link
with the same certificate name would get overwritten with a new cert.
This meant the last certificate of [internal, admin, public] would be
written to all three.

This change calls create_ip_cert_links and state sets only once. It also
adds a warning log entry if we accidentally overwrite sym linked files in
the future.

Change-Id: Idd99fac8b5c48755b2ef2797deaa688cd2544281
Partial-Bug: #1866741
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/91/713291/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt']",2,72a060167fbf782bb0842c65bbed8948f165ca53,bug/1866741,git+https://github.com/openstack/charms.openstack.git@stable/20.02#egg=charms.openstack,git+https://github.com/openstack/charms.openstack.git#egg=charms.openstack,2,2
openstack%2Fkolla~stable%2Fstein~I5d1bcb0f7d7902b4e122c12697483433bcf52ca2,openstack/kolla,stable/stein,I5d1bcb0f7d7902b4e122c12697483433bcf52ca2,Adds python3-systemd for ansible deploy interface,MERGED,2020-03-11 13:28:42.000000000,2020-03-16 18:28:50.000000000,2020-03-16 18:26:17.000000000,"[{'_account_id': 290}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-11 13:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/91ac0481c354af31234177cdff6109ca79de9991', 'message': 'Adds python3-systemd for ansible deploy interface\n\nWhen doing a source install, ironic doesn\'t have python3-systemd as a\ndependency and the current ironic-conductor container doesn\'t install\nthe required dependencies which causes the ansible deploy interface to\nfail with the error, ""Systemd bindings do not exist"".  This adds the\nneeded dependencies when doing a source build.  This installs the needed\nfiles for both rpm and deb builds on python 2.x and 3.x.\n\nChange-Id: I5d1bcb0f7d7902b4e122c12697483433bcf52ca2\nCloses-Bug: #1861427\n(cherry picked from commit 4a67e58f7971641c55247f02985e13ef391ca7ab)\n'}, {'number': 2, 'created': '2020-03-11 14:18:48.000000000', 'files': ['releasenotes/notes/add-python3-systemd-for-ironic-source-9a6883496e101da9.yaml', 'docker/ironic/ironic-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a9f759d1dc23445c192c9f300275317fc372a8d5', 'message': 'Adds python3-systemd for ansible deploy interface\n\nWhen doing a source install, ironic doesn\'t have python3-systemd as a\ndependency and the current ironic-conductor container doesn\'t install\nthe required dependencies which causes the ansible deploy interface to\nfail with the error, ""Systemd bindings do not exist"".  This adds the\nneeded dependencies when doing a source build.  This installs the needed\nfiles for both rpm and deb builds on python 2.x and 3.x.\n\nChange-Id: I5d1bcb0f7d7902b4e122c12697483433bcf52ca2\nCloses-Bug: #1861427\n(cherry picked from commit 4a67e58f7971641c55247f02985e13ef391ca7ab)\n'}]",1,712421,a9f759d1dc23445c192c9f300275317fc372a8d5,10,4,2,14826,,,0,"Adds python3-systemd for ansible deploy interface

When doing a source install, ironic doesn't have python3-systemd as a
dependency and the current ironic-conductor container doesn't install
the required dependencies which causes the ansible deploy interface to
fail with the error, ""Systemd bindings do not exist"".  This adds the
needed dependencies when doing a source build.  This installs the needed
files for both rpm and deb builds on python 2.x and 3.x.

Change-Id: I5d1bcb0f7d7902b4e122c12697483433bcf52ca2
Closes-Bug: #1861427
(cherry picked from commit 4a67e58f7971641c55247f02985e13ef391ca7ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/712421/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-python3-systemd-for-ironic-source-9a6883496e101da9.yaml', 'docker/ironic/ironic-conductor/Dockerfile.j2']",2,91ac0481c354af31234177cdff6109ca79de9991,bug/1861427," 'python3-systemd', 'systemd-python', 'python3-systemd',",,9,0
openstack%2Fcharm-swift-proxy~master~Ia3306441222f7c078d460c659701a57a5944c928,openstack/charm-swift-proxy,master,Ia3306441222f7c078d460c659701a57a5944c928,s3token: Fix Keystone API configuration,MERGED,2020-03-13 18:49:55.000000000,2020-03-16 18:27:13.000000000,2020-03-16 18:27:12.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 18:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1dc50ace0ff5e05651ed81097037e0f8c0c2c18f', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}, {'number': 2, 'created': '2020-03-13 19:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/091e85530c2ef1a8fedafe9ff315fb9b1108ead4', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}, {'number': 3, 'created': '2020-03-13 20:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/c51520a6e30742df39eb966fd4ecc4bfdda8af35', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}, {'number': 4, 'created': '2020-03-16 09:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/0a70f871ae0986826584f8307d91b22772b400c6', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nRemove invalid configuration items in the s3token section.\n\nRemove configuration templates for OpenStack versions prior to\nMitaka.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}, {'number': 5, 'created': '2020-03-16 10:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/3fddc0b242ce1062bdbd35e1df67187cbc3826a8', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nRemove invalid configuration items in the s3token section.\n\nRemove configuration templates for OpenStack versions prior to\nMitaka.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}, {'number': 6, 'created': '2020-03-16 11:39:00.000000000', 'files': ['templates/mitaka/proxy-server.conf', 'templates/essex/proxy-server.conf', 'templates/icehouse/proxy-server.conf', 'unit_tests/test_templates.py', 'templates/kilo/proxy-server.conf', 'templates/rocky/proxy-server.conf', 'templates/grizzly/proxy-server.conf', 'lib/swift_context.py', 'unit_tests/test_swift_context.py', 'tests/tests.yaml', 'templates/train/proxy-server.conf', 'templates/mitaka/dispersion.conf', 'templates/havana/proxy-server.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/ed9051a9f3192f5e139062b0731de37850bacd9a', 'message': 's3token: Fix Keystone API configuration\n\nUpstream removed the api_version configuration option and started\nto expect the version to be encoded in the Keystone URL at Rocky.\n\nAdd S3 API functional test.\n\nRemove invalid configuration items in the s3token section.\n\nRemove configuration templates for OpenStack versions prior to\nMitaka.\n\nChange-Id: Ia3306441222f7c078d460c659701a57a5944c928\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194\nCloses-Bug: #1867373\n'}]",0,713048,ed9051a9f3192f5e139062b0731de37850bacd9a,31,4,6,13686,,,0,"s3token: Fix Keystone API configuration

Upstream removed the api_version configuration option and started
to expect the version to be encoded in the Keystone URL at Rocky.

Add S3 API functional test.

Remove invalid configuration items in the s3token section.

Remove configuration templates for OpenStack versions prior to
Mitaka.

Change-Id: Ia3306441222f7c078d460c659701a57a5944c928
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/194
Closes-Bug: #1867373
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/48/713048/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'templates/rocky/proxy-server.conf']",2,1dc50ace0ff5e05651ed81097037e0f8c0c2c18f,use-bootstrap,auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }}/v3auth_url = {{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }}/v3auth_uri = {{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }}/v3,auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }}auth_url = {{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }} auth_version = 3auth_uri = {{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }} auth_version = 3,4,5
openstack%2Fcharm-cinder-ceph~master~Ia301ffed4cfe1fef41a9f25a9cdc068479c542e7,openstack/charm-cinder-ceph,master,Ia301ffed4cfe1fef41a9f25a9cdc068479c542e7,tests: Remove admin_token from ks relation introspection,MERGED,2020-03-16 11:11:17.000000000,2020-03-16 18:27:11.000000000,2020-03-16 18:27:11.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 11:11:17.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/03bf9e43d5cbbf726cd1a13ba2dca16ff1a8d4df', 'message': 'tests: Remove admin_token from ks relation introspection\n\nChange-Id: Ia301ffed4cfe1fef41a9f25a9cdc068479c542e7\n'}]",0,713192,03bf9e43d5cbbf726cd1a13ba2dca16ff1a8d4df,11,4,1,13686,,,0,"tests: Remove admin_token from ks relation introspection

Change-Id: Ia301ffed4cfe1fef41a9f25a9cdc068479c542e7
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/92/713192/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,03bf9e43d5cbbf726cd1a13ba2dca16ff1a8d4df,use-bootstrap,," 'admin_token': 'ubuntutesting',",0,1
openstack%2Fopenstack-helm-infra~master~Iea0a5055238d75f401caf9ddb0ddd9985a091aab,openstack/openstack-helm-infra,master,Iea0a5055238d75f401caf9ddb0ddd9985a091aab,Enable Apparmor to Kibana,MERGED,2020-02-26 03:23:59.000000000,2020-03-16 18:13:03.000000000,2020-03-16 18:09:09.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-26 03:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8edf009cbebb5a752471556c5808ef745e1235b0', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 2, 'created': '2020-02-27 04:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d74dc60a762575c1c3bd2c029288b9ba6829f40c', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 3, 'created': '2020-02-28 03:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e38df1255660a4c149769b21b16be0c81dbc6a0a', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 4, 'created': '2020-02-28 21:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87de717ece7ae851b6023c751c9fd32017d5ba02', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 5, 'created': '2020-02-28 21:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d63434f83aec51c50a75c631b2b1449b98c88a57', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 6, 'created': '2020-02-28 23:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1cd546ef1dadde2a6f460a7480b4e6695875a3aa', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 7, 'created': '2020-03-01 20:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83ebdfa9444f1c606fcae6cf97bf474743d1af17', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 8, 'created': '2020-03-02 15:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/630e79e8a92ad370d600ae7b0d6c5ba0388fed6c', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 9, 'created': '2020-03-02 21:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a899e96c344d21c820a7096ba8412433bcf3f684', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 10, 'created': '2020-03-03 20:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81e78d65577de37ed65dbfa3f8074eab0ec20518', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 11, 'created': '2020-03-03 20:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/feecd3490eee20c1b3a8359c8ddbc46f82ba11cc', 'message': '[WIP] Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 12, 'created': '2020-03-03 23:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f09e8d465690a1391c05090e659bddf2c12cfda9', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 13, 'created': '2020-03-04 16:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/230d1ee186499568e2199c9638b48d02e0cab5da', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 14, 'created': '2020-03-04 23:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b649919da6accb74eea155701ab59f50c9352fe', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 15, 'created': '2020-03-05 14:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/729d923fdc10b5faeda1abe3aa07633b2aa58001', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 16, 'created': '2020-03-05 21:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb8c1c97dd1969c3b3e1b9a57129e9904ce3bddb', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 17, 'created': '2020-03-06 03:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/905069fcbee96163bc7567f6cc680b51236b2e9e', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 18, 'created': '2020-03-06 05:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cb947d54006e4fbd0af83609cef904e73840114', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 19, 'created': '2020-03-06 16:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c9c5f9f4cabf9598234c15dbaf9b16b9bdb1ade', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 20, 'created': '2020-03-06 16:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0134ba8898527e856b191464c3ff39a470c60601', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 21, 'created': '2020-03-06 17:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef11ad8584086c8df020f4b474c63a91d2b9de01', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 22, 'created': '2020-03-09 19:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/11dacd95ed2e87b619d83bb501be2da41d4cecda', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 23, 'created': '2020-03-10 22:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cc61747a63936661d5acd3df8cc8c8bf311c55c', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 24, 'created': '2020-03-11 16:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ace1b70b8088f95609e4953f6eef4b614c9190b9', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 25, 'created': '2020-03-13 01:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24985cde4b3bc300608c872595712aaba799e89d', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 26, 'created': '2020-03-13 13:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7d7897ffe99dd8910d2086c332193e655aacbab', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 27, 'created': '2020-03-13 15:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e078bbf6f6b5fead4518d65ada430e23fdf8c0e', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 28, 'created': '2020-03-13 15:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d164cb80efc6de1ebc9f63c3f841d82388e0960', 'message': 'Enable Apparmor to Kibana\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 29, 'created': '2020-03-13 17:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/312ecb24c06d006489e0bacc3e4abd55bb74c88a', 'message': 'Enable Apparmor to Kibana\n\nAlso added new zuul gates jobs for Logging, as initial apparmor is timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 30, 'created': '2020-03-13 18:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/281be51b19c76721b63b972be49dd41550ae3280', 'message': 'Enable Apparmor to Kibana\n\nAlso added new zuul gates jobs for Logging, as initial apparmor is timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 31, 'created': '2020-03-13 18:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/045f9bfb7be02c6cb2fc73bf5730e24432bd5179', 'message': 'Enable Apparmor to Kibana\n\nAlso added new zuul gates jobs for Logging, as initial apparmor is timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 32, 'created': '2020-03-13 18:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d115cbcbf05ca907c31d4e6b133e29a0990df54', 'message': 'Enable Apparmor to Kibana\n\nAlso added new apparmor zuul gates jobs for Logging, as initial \napparmor is  getting timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 33, 'created': '2020-03-13 19:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e6a98f05eb61b16854fe68815ccc6fd40ae8884', 'message': 'Enable Apparmor to Kibana\n\nAlso added new apparmor zuul gates jobs for Logging, as initial \napparmor is  getting timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 34, 'created': '2020-03-13 20:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68b32b01dc0c3444ae4d2b1ce3508fb0e09d8410', 'message': 'Enable Apparmor to Kibana\n\nAlso added new apparmor zuul gates jobs for Logging, as initial \napparmor is  getting timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}, {'number': 35, 'created': '2020-03-14 04:37:32.000000000', 'files': ['kibana/templates/deployment.yaml', 'tools/deployment/apparmor/090-elasticsearch.sh', 'kibana/values_overrides/apparmor.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d59b6e5944aaa0f6e8c894ca5568a65e27e8987d', 'message': 'Enable Apparmor to Kibana\n\nAlso added new apparmor zuul gates jobs for Logging, as initial \napparmor is  getting timeout.\n\nChange-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab\n'}]",2,709944,d59b6e5944aaa0f6e8c894ca5568a65e27e8987d,114,5,35,29131,,,0,"Enable Apparmor to Kibana

Also added new apparmor zuul gates jobs for Logging, as initial 
apparmor is  getting timeout.

Change-Id: Iea0a5055238d75f401caf9ddb0ddd9985a091aab
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/709944/34 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/deployment.yaml', 'kibana/values_overrides/apparmor.yaml', 'zuul.d/project.yaml', 'tools/deployment/apparmor/135-kibana.sh', 'zuul.d/jobs.yaml']",5,8edf009cbebb5a752471556c5808ef745e1235b0,Apparmor_Kibana, - ./tools/deployment/apparmor/135-kibana.sh,,11,25
openstack%2Fproject-config~master~I2817f92feb61be4518cc73b21d1daf52da6c22fd,openstack/project-config,master,I2817f92feb61be4518cc73b21d1daf52da6c22fd,opendev: move vexxhost to seperate tenant,MERGED,2020-03-15 01:04:47.000000000,2020-03-16 18:08:50.000000000,2020-03-16 18:08:50.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-15 01:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2368a89b1e573e5cf45e76c05c966e0ca1f09e96', 'message': ""opendev: add openstack/devstack\n\nvexxhost/openstack-operator would like to deploy devstack during\nit's jobs so we'd like to make use of the `devstack` job there.\n\nChange-Id: I2817f92feb61be4518cc73b21d1daf52da6c22fd\n""}, {'number': 2, 'created': '2020-03-15 01:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a4ca768bc714c2422e4c465f57f61f818e97a74c', 'message': ""opendev: add openstack/devstack\n\nvexxhost/openstack-operator would like to deploy devstack during\nit's jobs so we'd like to make use of the `devstack` job there.\n\nChange-Id: I2817f92feb61be4518cc73b21d1daf52da6c22fd\n""}, {'number': 3, 'created': '2020-03-15 01:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6c3cd120c611cf17030c9c3ec472928def82cdb3', 'message': ""opendev: move vexxhost to seperate tenant\n\nWe're starting to use this more often and we may start to carry\nthings that are not necessary inside opendev such as devstack\njobs or other external projects.\n\nvexxhost/openstack-operator would like to deploy devstack during\nit's jobs so we'd like to make use of the `devstack` job there.\n\nChange-Id: I2817f92feb61be4518cc73b21d1daf52da6c22fd\n""}, {'number': 4, 'created': '2020-03-15 01:11:40.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fda2cb61ccbb5426572e62acde8658b202bb9e62', 'message': ""opendev: move vexxhost to seperate tenant\n\nWe're starting to use this more often and we may start to carry\nthings that are not necessary inside opendev such as devstack\njobs or other external projects.\n\nvexxhost/openstack-operator would like to deploy devstack during\nit's jobs so we'd like to make use of the `devstack` job there.\n\nChange-Id: I2817f92feb61be4518cc73b21d1daf52da6c22fd\n""}]",6,713123,fda2cb61ccbb5426572e62acde8658b202bb9e62,14,6,4,1004,,,0,"opendev: move vexxhost to seperate tenant

We're starting to use this more often and we may start to carry
things that are not necessary inside opendev such as devstack
jobs or other external projects.

vexxhost/openstack-operator would like to deploy devstack during
it's jobs so we'd like to make use of the `devstack` job there.

Change-Id: I2817f92feb61be4518cc73b21d1daf52da6c22fd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/713123/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,2368a89b1e573e5cf45e76c05c966e0ca1f09e96,, - openstack/devstack,,1,0
openstack%2Frequirements~master~I8449d43bb62c0239ebc610b9f5279e4b4f9dcbbe,openstack/requirements,master,I8449d43bb62c0239ebc610b9f5279e4b4f9dcbbe,Updated from generate-constraints,ABANDONED,2020-03-16 06:17:20.000000000,2020-03-16 17:59:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-16 06:17:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1f25938ce4e7ae7b10c5630982f324fd7f0f5bb', 'message': 'Updated from generate-constraints\n\nChange-Id: I8449d43bb62c0239ebc610b9f5279e4b4f9dcbbe\n'}]",0,713166,e1f25938ce4e7ae7b10c5630982f324fd7f0f5bb,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I8449d43bb62c0239ebc610b9f5279e4b4f9dcbbe
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/713166/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e1f25938ce4e7ae7b10c5630982f324fd7f0f5bb,openstack/requirements/constraints,mock===3.0.5;python_version=='2.7' mock===4.0.2;python_version=='3.6' mock===4.0.2;python_version=='3.7'docutils===0.16ujson===2.0.2msgpack===1.0.0alembic===1.4.1,mock===3.0.5docutils===0.15.2ujson===2.0.1msgpack===0.6.2alembic===1.3.3,7,5
openstack%2Frpm-packaging~master~Ifb5c249788c2384bf70d25e7c3c947fbc347a984,openstack/rpm-packaging,master,Ifb5c249788c2384bf70d25e7c3c947fbc347a984,heat-agents: fix shebangs,MERGED,2020-02-20 14:04:33.000000000,2020-03-16 17:38:44.000000000,2020-02-21 14:00:29.000000000,"[{'_account_id': 6593}, {'_account_id': 6679}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-20 14:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/941734878ab8e7e8859560876123e81b95e88711', 'message': 'heat-agents: fix shebangs\n\nWe need to make sure the python shebangs using ""/usr/bin/env python""\nare changed to ""/usr/bin/python3"", otherwise the build process will\nfail on CentOS 8.\n\nChange-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984\n'}, {'number': 2, 'created': '2020-02-20 14:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7affdd47ab8f897f22f9a2bc071846d43614e3ac', 'message': 'heat-agents: fix shebangs\n\nWe need to make sure the python shebangs using ""/usr/bin/env python""\nare changed to ""/usr/bin/python3"", otherwise the build process will\nfail on CentOS 8.\n\nChange-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984\n'}, {'number': 3, 'created': '2020-02-20 14:18:51.000000000', 'files': ['openstack/heat-agents/heat-agents.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8672c8b8795cd2b26216447f982ac5a9662d8812', 'message': 'heat-agents: fix shebangs\n\nWe need to make sure the python shebangs using ""/usr/bin/env python""\nare changed to ""/usr/bin/python3"", otherwise the build process will\nfail on CentOS 8.\n\nChange-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984\n'}]",0,708888,8672c8b8795cd2b26216447f982ac5a9662d8812,14,7,3,13294,,,0,"heat-agents: fix shebangs

We need to make sure the python shebangs using ""/usr/bin/env python""
are changed to ""/usr/bin/python3"", otherwise the build process will
fail on CentOS 8.

Change-Id: Ifb5c249788c2384bf70d25e7c3c947fbc347a984
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/708888/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-agents/heat-agents.spec.j2'],1,941734878ab8e7e8859560876123e81b95e88711,remove-python2,"# Replace ""env python"" shebag to the correct python executable # if we don't do that brp-mangle-shebangs will choke on CentOS 8 for python_script in $(grep ""/usr/bin/env python"" . -rl) do sed -i ""s#/usr/bin/env python.*#/usr/bin/python3#g"" $python_script done ",,7,0
openstack%2Fkolla-ansible~stable%2Ftrain~I51286d2def7a762d569740c1abc5b924b682ad9d,openstack/kolla-ansible,stable/train,I51286d2def7a762d569740c1abc5b924b682ad9d,Use proper es schema in fluentd when use internal tls,MERGED,2020-03-16 10:56:46.000000000,2020-03-16 17:18:52.000000000,2020-03-16 17:16:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-16 10:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d31c4facaed9674d98144e242e49bbe898f403d', 'message': 'Use proper es schema in fluentd when use internal tls\n\nFix elasticsearch schema in fluentd when kolla_enable_tls_internal is\ntrue.\n\nChange-Id: I51286d2def7a762d569740c1abc5b924b682ad9d\nCloses-Bug: #1867481\n'}, {'number': 2, 'created': '2020-03-16 12:25:16.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/fix-elasticsearch-schema-in-fluentd-32401e37e42c1b4c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c7af208a69f1046237fe8decf1f9fc2fa3e6ae7', 'message': 'Use proper es schema in fluentd when use internal tls\n\nFix elasticsearch schema in fluentd when kolla_enable_tls_internal is\ntrue.\n\nChange-Id: I51286d2def7a762d569740c1abc5b924b682ad9d\nCloses-Bug: #1867481\n(cherry picked from commit 6aceaee4ad2d755d4e5a7c584d490c7e82257d7c)\n'}]",0,713188,6c7af208a69f1046237fe8decf1f9fc2fa3e6ae7,12,3,2,7488,,,0,"Use proper es schema in fluentd when use internal tls

Fix elasticsearch schema in fluentd when kolla_enable_tls_internal is
true.

Change-Id: I51286d2def7a762d569740c1abc5b924b682ad9d
Closes-Bug: #1867481
(cherry picked from commit 6aceaee4ad2d755d4e5a7c584d490c7e82257d7c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/713188/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/fix-elasticsearch-schema-in-fluentd-32401e37e42c1b4c.yaml']",2,9d31c4facaed9674d98144e242e49bbe898f403d,,--- fixes: - | Fix elasticsearch schema in fluentd when ``kolla_enable_tls_internal`` is true. ,,6,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Id8021585068de0807f5abd34e320beb7ae6b3c22,openstack/networking-ovn,stable/train,Id8021585068de0807f5abd34e320beb7ae6b3c22,[OVN] DevStack: Split the OVN_BRANCH and OVS_BRANCH variables,MERGED,2020-03-02 15:46:10.000000000,2020-03-16 17:17:56.000000000,2020-03-16 17:12:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-03-02 15:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f89e492486cdfa67124f8d4a7a033223c6831455', 'message': '[OVN] DevStack: Split the OVN_BRANCH and OVS_BRANCH variables\n\nWe will soon have different version for OVN and OVS, this patch is\nsplitting the OVN_BRANCH and OVS_BRANCH variables in the DevStack\nmodule.\n\n(cherry-picked from neutron Icf32d168d177268afeb02c95084543d97f4f07e6)\n\nChange-Id: Id8021585068de0807f5abd34e320beb7ae6b3c22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-03-05 09:21:00.000000000', 'files': ['devstack/devstackgaterc', 'devstack/lib/ovn', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8dd1cac58b0cd2cf9d85d98fb6d8c35c6348ffc4', 'message': '[OVN] DevStack: Split the OVN_BRANCH and OVS_BRANCH variables\n\nWe will soon have different version for OVN and OVS, this patch is\nsplitting the OVN_BRANCH and OVS_BRANCH variables in the DevStack\nmodule.\n\n(cherry-picked from neutron Icf32d168d177268afeb02c95084543d97f4f07e6)\n\nChange-Id: Id8021585068de0807f5abd34e320beb7ae6b3c22\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,710806,8dd1cac58b0cd2cf9d85d98fb6d8c35c6348ffc4,18,7,2,6773,,,0,"[OVN] DevStack: Split the OVN_BRANCH and OVS_BRANCH variables

We will soon have different version for OVN and OVS, this patch is
splitting the OVN_BRANCH and OVS_BRANCH variables in the DevStack
module.

(cherry-picked from neutron Icf32d168d177268afeb02c95084543d97f4f07e6)

Change-Id: Id8021585068de0807f5abd34e320beb7ae6b3c22
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/710806/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'devstack/lib/ovn', 'zuul.d/networking-ovn-jobs.yaml']",3,f89e492486cdfa67124f8d4a7a033223c6831455,, OVS_BRANCH: branch-2.12 OVS_BRANCH: branch-2.12,,4,1
openstack%2Fcharm-barbican~stable%2F20.02~I6bf879693f1a2a4d8df27cb47a7d1c446af4596e,openstack/charm-barbican,stable/20.02,I6bf879693f1a2a4d8df27cb47a7d1c446af4596e,Restoring support for tls endpoint configuration,MERGED,2020-03-12 15:24:33.000000000,2020-03-16 17:11:53.000000000,2020-03-16 17:11:53.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-03-12 15:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/1361017dbcc26c6226ccd6979ea153f426f156cf', 'message': 'Restoring support for tls endpoint configuration\n\nCloses-bug: #1864805\nChange-Id: I6bf879693f1a2a4d8df27cb47a7d1c446af4596e\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}, {'number': 2, 'created': '2020-03-13 09:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/7f580f27f4937c8d7322fed910b54acbfbfb21ba', 'message': 'Restoring support for tls endpoint configuration\n\nCloses-bug: #1864805\nChange-Id: I6bf879693f1a2a4d8df27cb47a7d1c446af4596e\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n(cherry picked from commit ef5a997c8cc706b7e1c61734306532b11b3e4f98)\n'}, {'number': 3, 'created': '2020-03-16 15:30:46.000000000', 'files': ['src/reactive/barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c6226740a1208df79c12ba3157883e7ac38eb75a', 'message': 'Restoring support for tls endpoint configuration\n\nCloses-bug: #1864805\nChange-Id: I6bf879693f1a2a4d8df27cb47a7d1c446af4596e\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n(cherry picked from commit ef5a997c8cc706b7e1c61734306532b11b3e4f98)\n'}]",0,712710,c6226740a1208df79c12ba3157883e7ac38eb75a,17,4,3,25817,,,0,"Restoring support for tls endpoint configuration

Closes-bug: #1864805
Change-Id: I6bf879693f1a2a4d8df27cb47a7d1c446af4596e
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
(cherry picked from commit ef5a997c8cc706b7e1c61734306532b11b3e4f98)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/10/712710/2 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/barbican_handlers.py'],1,1361017dbcc26c6226ccd6979ea153f426f156cf,bug/1864805, barbican_charm.configure_ssl(),,1,0
openstack%2Fcharm-manila-generic~master~I1e4c7ac48f04796b4d471bca1aff11a5dc4964d7,openstack/charm-manila-generic,master,I1e4c7ac48f04796b4d471bca1aff11a5dc4964d7,Update charm build requirements,MERGED,2020-03-03 08:56:07.000000000,2020-03-16 17:10:42.000000000,2020-03-16 17:10:42.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/5e0252b9602215607ef5ed41ada987e56ea16ebe', 'message': 'Update charm build requirements\n\nChange-Id: I1e4c7ac48f04796b4d471bca1aff11a5dc4964d7\n'}, {'number': 2, 'created': '2020-03-12 23:09:33.000000000', 'files': ['src/lib/charm/openstack/manila_generic.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/545f92c9ae5cb02485fb92f0ca81c0150a1a74bd', 'message': 'Update charm build requirements\n\nChange-Id: I1e4c7ac48f04796b4d471bca1aff11a5dc4964d7\n'}]",0,710941,545f92c9ae5cb02485fb92f0ca81c0150a1a74bd,15,5,2,13686,,,0,"Update charm build requirements

Change-Id: I1e4c7ac48f04796b4d471bca1aff11a5dc4964d7
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/41/710941/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5e0252b9602215607ef5ed41ada987e56ea16ebe,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharm-cinder-purestorage~master~Id01cbb69009ddfd62004175c512531c98fac303b,openstack/charm-cinder-purestorage,master,Id01cbb69009ddfd62004175c512531c98fac303b,Update charm build requirements,MERGED,2020-03-03 08:54:25.000000000,2020-03-16 17:09:57.000000000,2020-03-16 17:09:56.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/f049e4200dd794dfdfbb11016e46a640260270f5', 'message': 'Update charm build requirements\n\nChange-Id: Id01cbb69009ddfd62004175c512531c98fac303b\n'}, {'number': 2, 'created': '2020-03-13 23:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/56e2f43ec9d28885b9a3fe9b34978114f8d12572', 'message': 'Update charm build requirements\n\nChange-Id: Id01cbb69009ddfd62004175c512531c98fac303b\n'}, {'number': 3, 'created': '2020-03-13 23:24:39.000000000', 'files': ['requirements.txt', 'src/lib/charm/openstack/cinder_purestorage.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/69fbbdc83d07ebabf7cf6e2c7a7b2d9e131d6b03', 'message': 'Update charm build requirements\n\nChange-Id: Id01cbb69009ddfd62004175c512531c98fac303b\n'}]",0,710933,69fbbdc83d07ebabf7cf6e2c7a7b2d9e131d6b03,18,5,3,13686,,,0,"Update charm build requirements

Change-Id: Id01cbb69009ddfd62004175c512531c98fac303b
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/33/710933/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f049e4200dd794dfdfbb11016e46a640260270f5,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharms.ceph~master~Idf2fea27b19cec47ffed9891b518ac7b5b75e405,openstack/charms.ceph,master,Idf2fea27b19cec47ffed9891b518ac7b5b75e405,"Unpin flake8, fix lint",MERGED,2020-03-12 10:13:25.000000000,2020-03-16 17:08:06.000000000,2020-03-16 17:08:06.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-12 10:13:25.000000000', 'files': ['charms_ceph/broker.py', 'charms_ceph/utils.py', 'test-requirements.txt', 'unit_tests/test_osd_upgrade_roll.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/fead2944a86bc78060e30868d04c4ec97f96405f', 'message': 'Unpin flake8, fix lint\n\nWe need to unpin flake8 to allow linting on Python 3.8 systems.\n\nChange-Id: Idf2fea27b19cec47ffed9891b518ac7b5b75e405\n'}]",0,712636,fead2944a86bc78060e30868d04c4ec97f96405f,7,3,1,13686,,,0,"Unpin flake8, fix lint

We need to unpin flake8 to allow linting on Python 3.8 systems.

Change-Id: Idf2fea27b19cec47ffed9891b518ac7b5b75e405
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/36/712636/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/broker.py', 'charms_ceph/utils.py', 'test-requirements.txt', 'unit_tests/test_osd_upgrade_roll.py', 'tox.ini']",5,fead2944a86bc78060e30868d04c4ec97f96405f,use-bootstrap,"envlist = pep8,py27,py3[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ignore = E402,E226,W504","envlist = pep8,py27,py37ignore = E402,E226",35,18
openstack%2Fcharm-aodh~master~I1794c7b87b8f4ee24cb381400e124f0bbe28475d,openstack/charm-aodh,master,I1794c7b87b8f4ee24cb381400e124f0bbe28475d,Update charm build requirements,MERGED,2020-03-03 08:52:45.000000000,2020-03-16 17:07:12.000000000,2020-03-16 17:07:12.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-03 08:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/ba3f3e809600c919b493a47b6465e44965f29a94', 'message': 'Update charm build requirements\n\nChange-Id: I1794c7b87b8f4ee24cb381400e124f0bbe28475d\n'}, {'number': 2, 'created': '2020-03-12 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/518261e0fa5760d90911b339e1e15c68880ffb61', 'message': 'Update charm build requirements\n\nChange-Id: I1794c7b87b8f4ee24cb381400e124f0bbe28475d\n'}, {'number': 3, 'created': '2020-03-12 15:45:57.000000000', 'files': ['src/tests/bundles/eoan-train.yaml', 'src/tests/bundles/xenial-mitaka.yaml', 'requirements.txt', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/xenial-pike.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/4b1c2b0920401679e1bb20944f49a4a91e040f34', 'message': 'Update charm build requirements\n\nChange-Id: I1794c7b87b8f4ee24cb381400e124f0bbe28475d\n'}]",0,710926,4b1c2b0920401679e1bb20944f49a4a91e040f34,20,7,3,13686,,,0,"Update charm build requirements

Change-Id: I1794c7b87b8f4ee24cb381400e124f0bbe28475d
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/26/710926/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ba3f3e809600c919b493a47b6465e44965f29a94,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I32eeab72bdf6538cea749ebe55a6ae65c0f31442,openstack/tripleo-ansible,stable/train,I32eeab72bdf6538cea749ebe55a6ae65c0f31442,tripleo-container-manage: fix check mode,MERGED,2020-03-13 20:17:56.000000000,2020-03-16 16:54:20.000000000,2020-03-16 16:54:20.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 20:17:56.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53a366eda9ccc29c4c6e1cef77cacd8793b42747', 'message': 'tripleo-container-manage: fix check mode\n\nIf no commands are run, provide an empty default.\n\nChange-Id: I32eeab72bdf6538cea749ebe55a6ae65c0f31442\n(cherry picked from commit c7a81f95a254a57d6cfac4be263afc315f1e3fcf)\n'}]",0,713062,53a366eda9ccc29c4c6e1cef77cacd8793b42747,7,3,1,3153,,,0,"tripleo-container-manage: fix check mode

If no commands are run, provide an empty default.

Change-Id: I32eeab72bdf6538cea749ebe55a6ae65c0f31442
(cherry picked from commit c7a81f95a254a57d6cfac4be263afc315f1e3fcf)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/713062/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,53a366eda9ccc29c4c6e1cef77cacd8793b42747,2," all_containers_commands: ""{{ containers_commands|default([], true) + (all_containers_commands | default([]) | list) }}"""," all_containers_commands: ""{{ containers_commands + (all_containers_commands | default([]) | list) }}""",2,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I6997af78f6fddac7811de67162a6b673c9897f57,openstack/tripleo-ansible,stable/train,I6997af78f6fddac7811de67162a6b673c9897f57,"Revert ""tripleo-container-image: add |list to containers_commands""",MERGED,2020-03-13 20:17:56.000000000,2020-03-16 16:54:19.000000000,2020-03-16 16:54:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 20:17:56.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5aac0aecb50eb039c76234a0f65423603c013407', 'message': 'Revert ""tripleo-container-image: add |list to containers_commands""\n\nIt doesn\'t work as expected, we need to do default([]).\n\nThis reverts commit b2287480a300cf0e115e8e941934cdb9adb797f7.\n\nChange-Id: I6997af78f6fddac7811de67162a6b673c9897f57\n(cherry picked from commit 556fbb8b3adb18454b4aa81c0ab682c100e73308)\n'}]",0,713061,5aac0aecb50eb039c76234a0f65423603c013407,7,3,1,3153,,,0,"Revert ""tripleo-container-image: add |list to containers_commands""

It doesn't work as expected, we need to do default([]).

This reverts commit b2287480a300cf0e115e8e941934cdb9adb797f7.

Change-Id: I6997af78f6fddac7811de67162a6b673c9897f57
(cherry picked from commit 556fbb8b3adb18454b4aa81c0ab682c100e73308)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/713061/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",2,5aac0aecb50eb039c76234a0f65423603c013407,2," all_containers_commands: ""{{ containers_commands + (all_containers_commands | default([]) | list) }}"""," all_containers_commands: ""{{ containers_commands|list + (all_containers_commands | default([]) | list) }}""",2,2
openstack%2Frpm-packaging~master~I5ef19a206145dda0c7110e4ec8848f89a43e7a52,openstack/rpm-packaging,master,I5ef19a206145dda0c7110e4ec8848f89a43e7a52,openstacksdk: Temporarily skip unit tests,MERGED,2020-02-13 11:48:12.000000000,2020-03-16 16:46:51.000000000,2020-02-14 12:45:53.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 11:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4cfb581c2231c0b1781b8c1ff0f3e1998751b1cd', 'message': ""openstacksdk: Temporarily ignore the result of unit tests\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's ignore the unit test results for now until this is improved\nupstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n""}, {'number': 2, 'created': '2020-02-13 15:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30dbdaa7e80ffb043b23d56f12263681e1f4b5cf', 'message': ""openstacksdk: Temporarily skip unit tests\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit test for now until this is improved upstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n""}, {'number': 3, 'created': '2020-02-13 17:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/efbd707c0ef8d4d66bee9a1163ee5d5ef8df452a', 'message': ""openstacksdk: Temporarily skip unit tests for RDO\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit tests on RDO for now until this is improved upstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n""}, {'number': 4, 'created': '2020-02-14 08:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ee5338350ac035bfae81007228ccb9fc7b702db9', 'message': ""openstacksdk: Temporarily skip unit tests\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit tests for now until this is improved upstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n""}, {'number': 5, 'created': '2020-02-14 08:51:54.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6d6263b0aab07ddc19fc48329c8dc4f27eabe9c4', 'message': ""openstacksdk: Temporarily skip unit tests\n\nThe openstacksdk unit tests tend to require an obscene amount of\nRAM, so a system with 8 GB of RAM might struggle to run them and\nuse a lot of swap. This is causing many build errors due to timeouts.\n\nLet's skip unit tests for now until this is improved upstream.\n\nChange-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52\n""}]",4,707625,6d6263b0aab07ddc19fc48329c8dc4f27eabe9c4,29,8,5,13294,,,0,"openstacksdk: Temporarily skip unit tests

The openstacksdk unit tests tend to require an obscene amount of
RAM, so a system with 8 GB of RAM might struggle to run them and
use a lot of swap. This is causing many build errors due to timeouts.

Let's skip unit tests for now until this is improved upstream.

Change-Id: I5ef19a206145dda0c7110e4ec8848f89a43e7a52
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/707625/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,4cfb581c2231c0b1781b8c1ff0f3e1998751b1cd,,# FIXME(jpena): unit tests require way too much memory # and cause timeouts due to swapping python3 -m stestr.cli run || true,python3 -m stestr.cli run,3,1
openstack%2Fgovernance~master~Ica97a09b4709c27772c499f1d835fef21e050809,openstack/governance,master,Ica97a09b4709c27772c499f1d835fef21e050809,Appoint Gibizer Balazs as Nova PTL,MERGED,2020-03-09 16:26:50.000000000,2020-03-16 16:46:44.000000000,2020-03-16 16:43:39.000000000,"[{'_account_id': 308}, {'_account_id': 782}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10343}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-09 16:26:50.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/8d376d71881009ea89b84dfb0bc958e731d99234', 'message': 'Appoint Gibizer Balazs as Nova PTL\n\nGibi confirmed to serve as Nova PTL in the following email:\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-March/013106.html\n\nChange-Id: Ica97a09b4709c27772c499f1d835fef21e050809\n'}]",0,711950,8d376d71881009ea89b84dfb0bc958e731d99234,28,20,1,9708,,,0,"Appoint Gibizer Balazs as Nova PTL

Gibi confirmed to serve as Nova PTL in the following email:

http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013106.html

Change-Id: Ica97a09b4709c27772c499f1d835fef21e050809
",git fetch https://review.opendev.org/openstack/governance refs/changes/50/711950/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,8d376d71881009ea89b84dfb0bc958e731d99234,formal-vote, name: Balazs Gibizer irc: gibi email: balazs.gibizer@est.tech, name: Eric Fried irc: efried email: openstack@fried.cc,3,3
openstack%2Ftripleo-upgrade~stable%2Fqueens~Id1a4b37feffe2d5153ba2707988324a13116e373,openstack/tripleo-upgrade,stable/queens,Id1a4b37feffe2d5153ba2707988324a13116e373,Hack the OvercloudControlFlavor issue,ABANDONED,2019-12-11 14:05:08.000000000,2020-03-16 16:39:40.000000000,,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-12-11 14:05:08.000000000', 'files': ['tasks/fast-forward-upgrade/convert_roles_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/de40c7d8f08fc02eb5c98fe4acd5c3fd8e90bf0c', 'message': 'Hack the OvercloudControlFlavor issue\n\nWe cannot ensure state other way than making sure that\nif the old param was used it gets migrated to the new\none and than we ensure that if the new param is present\nwe copy it to old one.\n\nChange-Id: Id1a4b37feffe2d5153ba2707988324a13116e373\n'}]",5,698479,de40c7d8f08fc02eb5c98fe4acd5c3fd8e90bf0c,7,4,1,11166,,,0,"Hack the OvercloudControlFlavor issue

We cannot ensure state other way than making sure that
if the old param was used it gets migrated to the new
one and than we ensure that if the new param is present
we copy it to old one.

Change-Id: Id1a4b37feffe2d5153ba2707988324a13116e373
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/698479/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/convert_roles_data.yaml'],1,de40c7d8f08fc02eb5c98fe4acd5c3fd8e90bf0c,, # We cannot ensure state other way than making sure that # if the old param was used it gets migrated to the new # one and than we ensure that if the new param is present # we copy it to old one. - name: Hack the OvercloudControlFlavor issue shell: | sed -i -e 's/OvercloudControlFlavor:/OvercloudControllerFlavor:/' \ $(grep Flavor -l `grep yaml {{ overcloud_deploy_script }} | awk '{print $2}'`) sed -i -e 's/\(.*\)OvercloudControllerFlavor:\(.*\)/\1OvercloudControllerFlavor:\2\n\1OvercloudControlFlavor:\2/' \ $(grep Flavor -l `grep yaml {{ overcloud_deploy_script }} | awk '{print $2}'`) ,,11,0
openstack%2Fpuppet-glance~master~I194ed966bb20005eb21d5a0279eb6a8aa6d1b2d2,openstack/puppet-glance,master,I194ed966bb20005eb21d5a0279eb6a8aa6d1b2d2,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:44:19.000000000,2020-03-16 16:18:49.000000000,2020-03-16 16:18:49.000000000,"[{'_account_id': 3153}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:44:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1e628f88405d56f3be1d1b8e337f1a82f57be8f1', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: I194ed966bb20005eb21d5a0279eb6a8aa6d1b2d2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712854,1e628f88405d56f3be1d1b8e337f1a82f57be8f1,10,4,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: I194ed966bb20005eb21d5a0279eb6a8aa6d1b2d2
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/54/712854/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e628f88405d56f3be1d1b8e337f1a82f57be8f1,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Freleases~master~Id1abe76ac4963be40f2247be376b1eea0ee2bc07,openstack/releases,master,Id1abe76ac4963be40f2247be376b1eea0ee2bc07,Release 0.36.2 of openstacksdk for train,MERGED,2020-03-16 15:21:09.000000000,2020-03-16 16:10:20.000000000,2020-03-16 16:10:20.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 15:21:09.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c51dbe5a2e55f88b6262ecc8d2abcbd79f5cc46e', 'message': 'Release 0.36.2 of openstacksdk for train\n\nChange-Id: Id1abe76ac4963be40f2247be376b1eea0ee2bc07\n'}]",0,713267,c51dbe5a2e55f88b6262ecc8d2abcbd79f5cc46e,7,2,1,2,,,0,"Release 0.36.2 of openstacksdk for train

Change-Id: Id1abe76ac4963be40f2247be376b1eea0ee2bc07
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/713267/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,c51dbe5a2e55f88b6262ecc8d2abcbd79f5cc46e,, - version: 0.36.2 projects: - repo: openstack/openstacksdk hash: 211bdc68d190492d541fc227ac2ac55f5e48092a,,4,0
openstack%2Fmagnum~stable%2Ftrain~I47b2f62fe3c8d4ad8c6b240ab1c255c3277e20f2,openstack/magnum,stable/train,I47b2f62fe3c8d4ad8c6b240ab1c255c3277e20f2,"Revert ""heat-agent: Check if scripts exists""",ABANDONED,2020-03-16 15:28:34.000000000,2020-03-16 16:07:59.000000000,,[{'_account_id': 20498}],"[{'number': 1, 'created': '2020-03-16 15:28:34.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'dockerfiles/kubernetes-kubelet/launch.sh', 'playbooks/container-builder-vars.yaml', 'dockerfiles/heat-container-agent/scripts/configure_container_agent.sh', 'dockerfiles/heat-container-agent/scripts/write-os-apply-config-templates.sh', 'dockerfiles/kubernetes-apiserver/launch.sh', 'dockerfiles/kubernetes-controller-manager/launch.sh', 'dockerfiles/kubernetes-kubelet/config.json.template'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b5594c1a0972fd7645ed37220a681966bdcb8dc9', 'message': 'Revert ""heat-agent: Check if scripts exists""\n\nThis reverts commit efc654d14a97cc54abb464ee4715aa7ea6a736ab.\n\nReverting this commit everytime a new commit is merged to the\nstable/train branch, heat container agent is rebuilt with stable/train\ncode under ussuri-dev tag which is unhelpful.\n\nChange-Id: I47b2f62fe3c8d4ad8c6b240ab1c255c3277e20f2\n'}]",1,713269,b5594c1a0972fd7645ed37220a681966bdcb8dc9,13,1,1,28022,,,0,"Revert ""heat-agent: Check if scripts exists""

This reverts commit efc654d14a97cc54abb464ee4715aa7ea6a736ab.

Reverting this commit everytime a new commit is merged to the
stable/train branch, heat container agent is rebuilt with stable/train
code under ussuri-dev tag which is unhelpful.

Change-Id: I47b2f62fe3c8d4ad8c6b240ab1c255c3277e20f2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/713269/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'dockerfiles/kubernetes-kubelet/launch.sh', 'playbooks/container-builder-vars.yaml', 'dockerfiles/heat-container-agent/scripts/configure_container_agent.sh', 'dockerfiles/heat-container-agent/scripts/write-os-apply-config-templates.sh', 'dockerfiles/kubernetes-apiserver/launch.sh', 'dockerfiles/kubernetes-controller-manager/launch.sh', 'dockerfiles/kubernetes-kubelet/config.json.template']",9,b5594c1a0972fd7645ed37220a681966bdcb8dc9,revert-ussuri-dev," ""mode=755"" ""mode=755"""," ""rshared"", ""mode=777"" ""mode=777""",21,47
openstack%2Fopenstack-ansible-os_designate~master~I152220d4c440202de1a61b1aee891bdb659e5577,openstack/openstack-ansible-os_designate,master,I152220d4c440202de1a61b1aee891bdb659e5577,Refactor memcached_servers,MERGED,2020-03-13 19:37:32.000000000,2020-03-16 16:05:11.000000000,2020-03-16 16:02:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-13 19:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/cc66346a559b89accbead4a56db615c628f2574b', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: I152220d4c440202de1a61b1aee891bdb659e5577\n'}, {'number': 2, 'created': '2020-03-13 22:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/d7076ee9aed074cebeb8846fb820bbb0ec095f3c', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I152220d4c440202de1a61b1aee891bdb659e5577\n'}, {'number': 3, 'created': '2020-03-14 12:03:05.000000000', 'files': ['defaults/main.yml', 'templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/7f9c47c209773c4f27fd1b84f15d8a71aafcb2c0', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I152220d4c440202de1a61b1aee891bdb659e5577\n'}]",0,713053,7f9c47c209773c4f27fd1b84f15d8a71aafcb2c0,12,3,3,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I152220d4c440202de1a61b1aee891bdb659e5577
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/53/713053/2 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/designate.conf.j2']",2,cc66346a559b89accbead4a56db615c628f2574b,memcached-refactor,memcached_servers = {{ designate_memcached_servers }},memcached_servers = {{ memcached_servers }},4,1
openstack%2Fdiskimage-builder~master~I7895d4c5019511eb2169915cd8092e707e8ee732,openstack/diskimage-builder,master,I7895d4c5019511eb2169915cd8092e707e8ee732,bindep: remove lsb-release,MERGED,2020-03-15 23:39:24.000000000,2020-03-16 16:02:06.000000000,2020-03-16 15:59:01.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-15 23:39:24.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64d2ea26e7fb46cfb735ea00b394eb7de1e36dfc', 'message': ""bindep: remove lsb-release\n\nThis came in with edc06a20e57bdf0a9a03949b54395008d73520dc although\nit's not totally clear why.\n\nWe found that we were sourcing devstack scripts during build in infra,\nand inadvertently relying on this package being around on the host.\nThis was incorrect but can this type of problem is hidden if the\npackage is installed unnecessarily.\n\nI do not think this actually required now; remove from bindep to\nminimise chance for such false or hidden dependencies.\n\nChange-Id: I7895d4c5019511eb2169915cd8092e707e8ee732\nStory: #2007407\nTask: #39068\n""}]",0,713150,64d2ea26e7fb46cfb735ea00b394eb7de1e36dfc,11,5,1,7118,,,0,"bindep: remove lsb-release

This came in with edc06a20e57bdf0a9a03949b54395008d73520dc although
it's not totally clear why.

We found that we were sourcing devstack scripts during build in infra,
and inadvertently relying on this package being around on the host.
This was incorrect but can this type of problem is hidden if the
package is installed unnecessarily.

I do not think this actually required now; remove from bindep to
minimise chance for such false or hidden dependencies.

Change-Id: I7895d4c5019511eb2169915cd8092e707e8ee732
Story: #2007407
Task: #39068
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/50/713150/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,64d2ea26e7fb46cfb735ea00b394eb7de1e36dfc,remove-lsb-release,,lsb-release [platform:dpkg],0,1
openstack%2Fpuppet-keystone~master~Idf259de1c9599568ed39774f3b0e6e060310873f,openstack/puppet-keystone,master,Idf259de1c9599568ed39774f3b0e6e060310873f,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:47:51.000000000,2020-03-16 15:40:49.000000000,2020-03-16 15:40:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:47:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ad4c243e11f9fc678bf3cb238cba754febc8e29d', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: Idf259de1c9599568ed39774f3b0e6e060310873f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712858,ad4c243e11f9fc678bf3cb238cba754febc8e29d,9,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: Idf259de1c9599568ed39774f3b0e6e060310873f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/58/712858/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ad4c243e11f9fc678bf3cb238cba754febc8e29d,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Ftripleo-heat-templates~master~I8b278ca83b2afb07575dbae2496ec265c3a06473,openstack/tripleo-heat-templates,master,I8b278ca83b2afb07575dbae2496ec265c3a06473,Use exists filter instead of stat where possible,MERGED,2020-03-11 15:39:55.000000000,2020-03-16 15:33:32.000000000,2020-03-16 15:02:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-11 15:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f750bc07bd6577b6b19cac99303af07759bf072', 'message': ""Use exists filter instead of stat where possible\n\nWhen checking for the existance of a file on the host where\nAnsible is being executed, using the stat module with localhost\ndelegation is rather heavy-handed. We can instead just make use\nof the 'exists' test.\n\nThis should improve execution time just a little bit and reduces\nthe number of tasks for us to maintain. We also remove the\nrepetition of the task file path by using a variable.\n\nChange-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473\n""}, {'number': 2, 'created': '2020-03-12 10:05:22.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9666a7e6456b882e206436af085db0f6e97d3dab', 'message': ""Use exists filter instead of stat where possible\n\nWhen checking for the existance of a file on the host where\nAnsible is being executed, using the stat module with localhost\ndelegation is rather heavy-handed. We can instead just make use\nof the 'exists' test.\n\nThis should improve execution time just a little bit and reduces\nthe number of tasks for us to maintain. We also remove the\nrepetition of the task file path by using a variable.\n\nChange-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473\n""}]",4,712483,9666a7e6456b882e206436af085db0f6e97d3dab,24,12,2,6816,,,0,"Use exists filter instead of stat where possible

When checking for the existance of a file on the host where
Ansible is being executed, using the stat module with localhost
delegation is rather heavy-handed. We can instead just make use
of the 'exists' test.

This should improve execution time just a little bit and reduces
the number of tasks for us to maintain. We also remove the
repetition of the task file path by using a variable.

Change-Id: I8b278ca83b2afb07575dbae2496ec265c3a06473
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/712483/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml']",2,2f750bc07bd6577b6b19cac99303af07759bf072,scale-2020,"- include_tasks: ""{% raw %}{{ _task_file_path }}{% endraw %}"" vars: _task_file_path: ""{{role.name}}/deploy_steps_tasks_step0.yaml"" - ""{% raw %}{{ playbook_dir }}/{{ _task_file_path }} is exists{% endraw %}""","- name: Check for {{role.name}}/deploy_steps_tasks_step0.yaml delegate_to: localhost run_once: true become: false stat: path: ""{{ '{{' }} playbook_dir ~ '/' ~ '{{role.name}}' ~ '/' ~ 'deploy_steps_tasks_step0.yaml' {{ '}}' }}"" register: tasks_stat - include_tasks: {{role.name}}/deploy_steps_tasks_step0.yaml - tasks_stat.stat.exists",8,18
openstack%2Ftripleo-quickstart~master~Ia6c9483dde4c4e03b89cdfece80125ec4b62e085,openstack/tripleo-quickstart,master,Ia6c9483dde4c4e03b89cdfece80125ec4b62e085,quickstart: remove zuul-cloner usage,ABANDONED,2019-11-21 23:27:59.000000000,2020-03-16 15:32:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-21 23:27:59.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/981faf178e5820ef79a31e8ffdeb27661d696d6e', 'message': 'quickstart: remove zuul-cloner usage\n\nThis change remove the zuul-cloner call and setup quickstart-extras\nwith the prepared workspace directly.\n\nChange-Id: Ia6c9483dde4c4e03b89cdfece80125ec4b62e085\n'}]",0,695605,981faf178e5820ef79a31e8ffdeb27661d696d6e,5,3,1,9311,,,0,"quickstart: remove zuul-cloner usage

This change remove the zuul-cloner call and setup quickstart-extras
with the prepared workspace directly.

Change-Id: Ia6c9483dde4c4e03b89cdfece80125ec4b62e085
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/05/695605/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,981faf178e5820ef79a31e8ffdeb27661d696d6e,, popd pushd ~/src/opendev.org/openstack/tripleo-quickstart-extras if [ $OPT_CLEAN == 1 ]; then $(python_cmd) -m pip install --no-cache-dir --force-reinstall . else $(python_cmd) -m pip install --force-reinstall .,"ZUUL_CLONER=/usr/zuul-env/bin/zuul-cloner if [ -x ""$ZUUL_CLONER"" ] && [ ! -z ""$ZUUL_BRANCH"" ]; then mkdir -p .tmp EXTRAS_DIR=$(/bin/mktemp -d -p $(pwd)/.tmp) pushd $EXTRAS_DIR $ZUUL_CLONER --cache-dir \ /opt/git \ https://opendev.org \ openstack/tripleo-quickstart-extras cd openstack/tripleo-quickstart-extras if [ $OPT_CLEAN == 1 ]; then $(python_cmd) -m pip install --no-cache-dir --force-reinstall . else $(python_cmd) -m pip install --force-reinstall . fi exit popd",6,18
openstack%2Fironic~stable%2Fstein~I8047d805b0a3da4051a6d618ed9ac40875b8636a,openstack/ironic,stable/stein,I8047d805b0a3da4051a6d618ed9ac40875b8636a,tell reno to ignore the kilo branch,MERGED,2020-02-10 10:36:58.000000000,2020-03-16 15:23:50.000000000,2020-03-16 15:20:03.000000000,"[{'_account_id': 2472}, {'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-10 10:36:58.000000000', 'files': ['reno.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0232a94dc586cbb2be7afaa43b7ad0cc3ceb0e3', 'message': ""tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it\ncan find, including any that look like they're closed and have an -eol\ntag. The old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno\nwasn't adopted while it was open. The releasenotes/source/index.rst\nlinks to separate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw\nan exception when it gets confused about the old tag.\n\nStory: #2007274\nTask: #38710\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 0f4b9e38a2924a693e17d815b16f19223f16632a)\n""}]",0,706785,a0232a94dc586cbb2be7afaa43b7ad0cc3ceb0e3,41,10,1,14826,,,0,"tell reno to ignore the kilo branch

When reno 3.x runs under setuptools, it scans all of the branches it
can find, including any that look like they're closed and have an -eol
tag. The old kilo branch in this repository has a jumbled history that
somehow makes it look like it should include tags that it doesn't. We
know that there are no release notes in that branch, because reno
wasn't adopted while it was open. The releasenotes/source/index.rst
links to separate release notes in the wiki.

This patch tells reno to ignore that branch so that it doesn't throw
an exception when it gets confused about the old tag.

Story: #2007274
Task: #38710

Change-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
(cherry picked from commit 0f4b9e38a2924a693e17d815b16f19223f16632a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/706785/1 && git format-patch -1 --stdout FETCH_HEAD,['reno.yaml'],1,a0232a94dc586cbb2be7afaa43b7ad0cc3ceb0e3,ignore-kilo-in-release-notes-stable/stein,"--- # Ignore the kilo-eol tag because that branch does not work with reno # and contains no release notes. closed_branch_tag_re: ""(.+)(?<!kilo)-eol"" ",,4,0
openstack%2Fopenstack-helm-infra~master~Ia2f42f3220f887d3f3f44a08a188591fc8c7597a,openstack/openstack-helm-infra,master,Ia2f42f3220f887d3f3f44a08a188591fc8c7597a,Added yaml code for Nginx dashboard,ABANDONED,2019-07-16 20:55:31.000000000,2020-03-16 14:59:04.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28849}, {'_account_id': 30010}, {'_account_id': 30582}, {'_account_id': 30692}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-07-16 20:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53683038dd9ba16efe7ee0fe7734701f8ff3a5b6', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx.\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 2, 'created': '2019-07-16 21:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1afc82d6ffe1e788d5e49265fc2535662862d5ec', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx.\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 3, 'created': '2019-07-16 21:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/175320c8ca45809d9943e6220e0490ee8c2c1d06', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 4, 'created': '2019-08-14 16:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/610ce21133af37da4c8000306a7ad9b0aa84f512', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 5, 'created': '2019-08-14 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40dac216b4dfda332d7805f4941913a9f55693c0', 'message': 'Grafana: Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 6, 'created': '2019-08-20 20:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f397438d6d211c66eb583b062e0932bc29074692', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 7, 'created': '2019-09-11 17:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18162b954d27f06659268371d8e07080735b92b1', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}, {'number': 8, 'created': '2019-11-14 16:22:52.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3890db09981f0c8c82ad09298da7f5a13aa7a4b', 'message': 'Added yaml code for Nginx dashboard\n\nThis code will add the dahboard for nginx ingress controller overview.\nThe dashboard will display the metrics for nginx\n\nChange-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a\n'}]",1,671153,a3890db09981f0c8c82ad09298da7f5a13aa7a4b,31,11,8,30582,,,0,"Added yaml code for Nginx dashboard

This code will add the dahboard for nginx ingress controller overview.
The dashboard will display the metrics for nginx

Change-Id: Ia2f42f3220f887d3f3f44a08a188591fc8c7597a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/671153/7 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,53683038dd9ba16efe7ee0fe7734701f8ff3a5b6,nginx-dashboard," nginx_ingress_controller: __inputs: - name: DS_PROMETHEUS label: Prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 5.2.1 - type: datasource id: prometheus name: Prometheus version: 5.0.0 - type: panel id: singlestat name: Singlestat version: 5.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard - datasource: ""${DS_PROMETHEUS}"" enable: true expr: sum(changes(nginx_ingress_controller_config_last_reload_successful_timestamp_seconds{instance!=""unknown"",controller_class=~""$controller_class"",namespace=~""$namespace""}[30s])) by (controller_class) hide: false iconColor: rgba(255, 96, 96, 1) limit: 100 name: Config Reloads showIn: 0 step: 30s tagKeys: controller_class tags: [] titleFormat: Config Reloaded type: tags editable: true gnetId: graphTooltip: 0 iteration: 1534359654832 links: [] panels: - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""${DS_PROMETHEUS}"" format: ops gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 6 x: 0 y: 0 id: 20 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: round(sum(irate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",namespace=~""$namespace""}[2m])), 0.001) format: time_series intervalFactor: 1 refId: A step: 4 thresholds: '' title: Controller Request Volume transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 6 x: 6 y: 0 id: 82 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: sum(avg_over_time(nginx_ingress_controller_nginx_process_connections{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}[2m])) format: time_series instant: false intervalFactor: 1 refId: A step: 4 thresholds: '' title: Controller Connections transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""${DS_PROMETHEUS}"" format: percentunit gauge: maxValue: 100 minValue: 80 show: false thresholdLabels: false thresholdMarkers: false gridPos: h: 3 w: 6 x: 12 y: 0 id: 21 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: sum(rate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",namespace=~""$namespace"",status!~""[4-5].*""}[2m])) / sum(rate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",namespace=~""$namespace""}[2m])) format: time_series intervalFactor: 1 refId: A step: 4 thresholds: 95, 99, 99.5 title: Controller Success Rate (non-4|5xx responses) transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""${DS_PROMETHEUS}"" decimals: 0 format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 3 x: 18 y: 0 id: 81 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: avg(nginx_ingress_controller_success{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}) format: time_series instant: true intervalFactor: 1 refId: A step: 4 thresholds: '' title: Config Reloads transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) datasource: ""${DS_PROMETHEUS}"" decimals: 0 format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 3 x: 21 y: 0 id: 83 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: count(nginx_ingress_controller_config_last_reload_successful{controller_pod=~""$controller"",controller_namespace=~""$namespace""} == 0) format: time_series instant: true intervalFactor: 1 refId: A step: 4 thresholds: '' title: Last Config Failed transparent: false type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" decimals: 2 editable: true error: false fill: 1 grid: {} gridPos: h: 7 w: 12 x: 0 y: 3 height: 200px id: 86 isNew: true legend: alignAsTable: true avg: true current: false hideEmpty: false hideZero: true max: false min: false rightSide: true show: true sideWidth: 300 sort: current sortDesc: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot repeat: repeatDirection: h seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: round(sum(irate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (ingress), 0.001) format: time_series hide: false instant: false interval: '' intervalFactor: 1 legendFormat: ""{{ ingress }}"" metric: network refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Ingress Request Volume tooltip: msResolution: false shared: true sort: 2 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: Bps label: logBase: 1 max: min: show: true - format: Bps label: logBase: 1 max: min: show: false yaxis: align: false alignLevel: - aliasColors: max - istio-proxy: ""#890f02"" max - master: ""#bf1b00"" max - prometheus: ""#bf1b00"" bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" decimals: 2 editable: false error: false fill: 0 grid: {} gridPos: h: 7 w: 12 x: 12 y: 3 id: 87 isNew: true legend: alignAsTable: true avg: true current: false hideEmpty: true hideZero: false max: false min: false rightSide: true show: true sideWidth: 300 sort: avg sortDesc: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: sum(rate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",namespace=~""$namespace"",ingress=~""$ingress"",status!~""[4-5].*""}[2m])) by (ingress) / sum(rate(nginx_ingress_controller_requests{controller_pod=~""$controller"",controller_class=~""$controller_class"",namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (ingress) format: time_series instant: false interval: 10s intervalFactor: 1 legendFormat: ""{{ ingress }}"" metric: container_memory_usage:sort_desc refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Ingress Success Rate (non-4|5xx responses) tooltip: msResolution: false shared: true sort: 1 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: percentunit label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false yaxis: align: false alignLevel: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" decimals: 2 editable: true error: false fill: 1 grid: {} gridPos: h: 6 w: 8 x: 0 y: 10 height: 200px id: 32 isNew: true legend: alignAsTable: false avg: true current: true max: false min: false rightSide: false show: false sideWidth: 200 sort: current sortDesc: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: sum (irate (nginx_ingress_controller_request_size_sum{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}[2m])) format: time_series instant: false interval: 10s intervalFactor: 1 legendFormat: Received metric: network refId: A step: 10 - expr: '- sum (irate (nginx_ingress_controller_response_size_sum{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}[2m]))' format: time_series hide: false interval: 10s intervalFactor: 1 legendFormat: Sent metric: network refId: B step: 10 thresholds: [] timeFrom: timeShift: title: Network I/O pressure tooltip: msResolution: false shared: true sort: 0 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: Bps label: logBase: 1 max: min: show: true - format: Bps label: logBase: 1 max: min: show: false yaxis: align: false alignLevel: - aliasColors: max - istio-proxy: ""#890f02"" max - master: ""#bf1b00"" max - prometheus: ""#bf1b00"" bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" decimals: 2 editable: false error: false fill: 0 grid: {} gridPos: h: 6 w: 8 x: 8 y: 10 id: 77 isNew: true legend: alignAsTable: true avg: true current: true max: false min: false rightSide: false show: false sideWidth: 200 sort: current sortDesc: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: 'avg(nginx_ingress_controller_nginx_process_resident_memory_bytes{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}) ' format: time_series instant: false interval: 10s intervalFactor: 1 legendFormat: nginx metric: container_memory_usage:sort_desc refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Average Memory Usage tooltip: msResolution: false shared: true sort: 2 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false yaxis: align: false alignLevel: - aliasColors: max - istio-proxy: ""#890f02"" max - master: ""#bf1b00"" bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" decimals: 3 editable: false error: false fill: 0 grid: {} gridPos: h: 6 w: 8 x: 16 y: 10 height: '' id: 79 isNew: true legend: alignAsTable: true avg: true current: true max: false min: false rightSide: false show: false sort: sortDesc: total: false values: true lines: true linewidth: 2 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: 'sum (rate (nginx_ingress_controller_nginx_process_cpu_seconds_total{controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace""}[2m])) ' format: time_series interval: 10s intervalFactor: 1 legendFormat: nginx metric: container_cpu refId: A step: 10 thresholds: - colorMode: critical fill: true line: true op: gt timeFrom: timeShift: title: Average CPU Usage tooltip: msResolution: true shared: true sort: 2 value_type: cumulative transparent: false type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: cores logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true yaxis: align: false alignLevel: - columns: [] datasource: ""${DS_PROMETHEUS}"" fontSize: 100% gridPos: h: 8 w: 24 x: 0 y: 16 hideTimeOverride: false id: 75 links: [] pageSize: 7 repeat: repeatDirection: h scroll: true showHeader: true sort: col: 1 desc: true styles: - alias: Ingress colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 pattern: ingress preserveFormat: false sanitize: false thresholds: [] type: string unit: short - alias: Requests colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 pattern: 'Value #A' thresholds: - '' type: number unit: ops - alias: Errors colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 pattern: 'Value #B' thresholds: [] type: number unit: ops - alias: P50 Latency colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 0 link: false pattern: 'Value #C' thresholds: [] type: number unit: dtdurations - alias: P90 Latency colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 0 pattern: 'Value #D' thresholds: [] type: number unit: dtdurations - alias: P99 Latency colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 0 pattern: 'Value #E' thresholds: [] type: number unit: dtdurations - alias: IN colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 pattern: 'Value #F' thresholds: - '' type: number unit: Bps - alias: '' colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 pattern: Time thresholds: [] type: hidden unit: short - alias: OUT colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 2 mappingType: 1 pattern: 'Value #G' thresholds: [] type: number unit: Bps targets: - expr: histogram_quantile(0.50, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="""",controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (le, ingress)) format: table hide: false instant: true intervalFactor: 1 legendFormat: ""{{ ingress }}"" refId: C - expr: histogram_quantile(0.90, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="""",controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (le, ingress)) format: table hide: false instant: true intervalFactor: 1 legendFormat: ""{{ ingress }}"" refId: D - expr: histogram_quantile(0.99, sum(rate(nginx_ingress_controller_request_duration_seconds_bucket{ingress!="""",controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (le, ingress)) format: table hide: false instant: true intervalFactor: 1 legendFormat: ""{{ destination_service }}"" refId: E - expr: sum(irate(nginx_ingress_controller_request_size_sum{ingress!="""",controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (ingress) format: table hide: false instant: true interval: '' intervalFactor: 1 legendFormat: ""{{ ingress }}"" refId: F - expr: sum(irate(nginx_ingress_controller_response_size_sum{ingress!="""",controller_pod=~""$controller"",controller_class=~""$controller_class"",controller_namespace=~""$namespace"",ingress=~""$ingress""}[2m])) by (ingress) format: table instant: true intervalFactor: 1 legendFormat: ""{{ ingress }}"" refId: G timeFrom: title: Ingress Percentile Response Times and Transfer Rates transform: table transparent: false type: table - columns: - text: Current value: current datasource: ""${DS_PROMETHEUS}"" fontSize: 100% gridPos: h: 8 w: 24 x: 0 y: 24 height: '1024' id: 85 links: [] pageSize: 7 scroll: true showHeader: true sort: col: 1 desc: false styles: - alias: Time dateFormat: YYYY-MM-DD HH:mm:ss pattern: Time type: date - alias: TTL colorMode: cell colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) dateFormat: YYYY-MM-DD HH:mm:ss decimals: 0 pattern: Current thresholds: - '0' - '691200' type: number unit: s - alias: '' colorMode: colors: - rgba(245, 54, 54, 0.9) - rgba(237, 129, 40, 0.89) - rgba(50, 172, 45, 0.97) decimals: 2 pattern: ""/.*/"" thresholds: [] type: number unit: short targets: - expr: avg(nginx_ingress_controller_ssl_expire_time_seconds{kubernetes_pod_name=~""$controller"",namespace=~""$namespace"",ingress=~""$ingress""}) by (host) - time() format: time_series intervalFactor: 1 legendFormat: ""{{ host }}"" metric: gke_letsencrypt_cert_expiration refId: A step: 1 title: Ingress Certificate Expiry transform: timeseries_aggregations type: table refresh: 5s schemaVersion: 16 style: dark tags: - nginx templating: list: - allValue: "".*"" current: text: All value: ""$__all"" datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: true label: Namespace multi: false name: namespace options: [] query: label_values(nginx_ingress_controller_config_hash, controller_namespace) refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: "".*"" current: text: All value: ""$__all"" datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: true label: Controller Class multi: false name: controller_class options: [] query: 'label_values(nginx_ingress_controller_config_hash{namespace=~""$namespace""}, controller_class) ' refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: "".*"" current: text: All value: ""$__all"" datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: true label: Controller multi: false name: controller options: [] query: 'label_values(nginx_ingress_controller_config_hash{namespace=~""$namespace"",controller_class=~""$controller_class""}, controller_pod) ' refresh: 1 regex: '' sort: 0 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: "".*"" current: tags: [] text: All value: ""$__all"" datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: true label: Ingress multi: false name: ingress options: [] query: 'label_values(nginx_ingress_controller_requests{namespace=~""$namespace"",controller_class=~""$controller_class"",controller=~""$controller""}, ingress) ' refresh: 1 regex: '' sort: 2 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false time: from: now-1h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 2m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: browser title: NGINX Ingress controller uid: nginx version: 1",,1184,0
openstack%2Fopenstack-helm-infra~master~I8b815f331e87647c24ea0a6d9681584a1943d141,openstack/openstack-helm-infra,master,I8b815f331e87647c24ea0a6d9681584a1943d141,Added code for NTP metrics in grafana,ABANDONED,2019-07-12 19:24:22.000000000,2020-03-16 14:58:52.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28849}, {'_account_id': 30010}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-07-12 19:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59f9195dc83d30176c71b595ecd26f20668d4642', 'message': 'Added code for NTP metrics in grafana\n\nThis code must create NTP metrics related panels in the existing Nodes\ndashboard.\nPanels for NTP Jitter, clock_synchronization, sanity check, ntp offset, leap\nmetrics.\n\nChange-Id: I8b815f331e87647c24ea0a6d9681584a1943d141\n'}, {'number': 2, 'created': '2019-07-12 19:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44bd1b830c2680989643ab772d6c56fad0cf7cc4', 'message': 'Added code for NTP metrics in grafana\n\nThis code must create NTP metrics related panels in the existing Nodes\ndashboard.\nPanels for NTP Jitter, clock_synchronization, sanity check, ntp offset, leap\nmetrics.\n\nChange-Id: I8b815f331e87647c24ea0a6d9681584a1943d141\n'}, {'number': 3, 'created': '2019-07-12 19:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ffc5d5394abf7a7b8b4e89c1add1c0003bc8955', 'message': 'Added code for NTP metrics in grafana\n\nThis code must create NTP metrics related panels in the existing Nodes\ndashboard.\nPanels for NTP Jitter, clock_synchronization, sanity check, ntp offset,\nleap metrics.\n\nChange-Id: I8b815f331e87647c24ea0a6d9681584a1943d141\n'}, {'number': 4, 'created': '2019-11-14 16:16:55.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7b81bf83b4e7eab2c301b00eaa62743f7f32680', 'message': 'Added code for NTP metrics in grafana\n\nThis code must create NTP metrics related panels in the existing Nodes\ndashboard.\nPanels for NTP Jitter, clock_synchronization, sanity check, ntp offset,\nleap metrics.\n\nChange-Id: I8b815f331e87647c24ea0a6d9681584a1943d141\n'}]",0,670625,f7b81bf83b4e7eab2c301b00eaa62743f7f32680,13,10,4,30582,,,0,"Added code for NTP metrics in grafana

This code must create NTP metrics related panels in the existing Nodes
dashboard.
Panels for NTP Jitter, clock_synchronization, sanity check, ntp offset,
leap metrics.

Change-Id: I8b815f331e87647c24ea0a6d9681584a1943d141
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/25/670625/4 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,59f9195dc83d30176c71b595ecd26f20668d4642,ntp-dashboard," panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 26 panels: [] title: Node NTP type: row - cacheTimeout: colorBackground: false colorValue: true colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 5 x: 0 y: 1 id: 21 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: sum(node_timex_pps_jitter_count{instance=""$server""}) format: time_series intervalFactor: 1 refId: A thresholds: '' title: Jitter Count type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: avg - cacheTimeout: colorBackground: false colorValue: true colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: prometheus format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 5 x: 5 y: 1 id: 22 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - expr: node_timex_sync_status{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: '1,1' title: Clock_Synchronization type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' - op: ""="" text: Not Synchronized value: '0' - op: ""="" text: OK value: '1' valueName: avg - cacheTimeout: colorBackground: false colorValue: true colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: prometheus format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 3 w: 6 x: 10 y: 1 id: 23 interval: links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: ""/ms"" postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: true lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - expr: node_ntp_sanity{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: '1,1' title: Sanity Check type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 2 gridPos: h: 9 w: 12 x: 0 y: 4 id: 12 legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: node_ntp_root_delay_seconds{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: [] timeFrom: timeShift: title: Node_ntp_root_delay_seconds tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 2 gridPos: h: 9 w: 12 x: 12 y: 4 id: 17 legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: node_ntp_leap{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: [] timeFrom: timeShift: title: Node_ntp_leap tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 2 gridPos: h: 9 w: 12 x: 0 y: 13 id: 19 legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 2 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: node_timex_pps_jitter_seconds{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: [] timeFrom: timeShift: title: node_timex_pps_jitter_seconds tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus fill: 1 gridPos: h: 9 w: 12 x: 12 y: 13 id: 24 legend: alignAsTable: true avg: true current: true max: true min: true show: true total: false values: true lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - expr: node_ntp_offset_seconds{instance=""$server""} format: time_series intervalFactor: 1 refId: A thresholds: [] timeFrom: timeShift: title: node_ntp_offset_seconds tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: s label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 22 id: 16 panels: [] title: Node USage type: row - alerting: {} aliasColors: {} bars: false dashLength: 10 dashes: false datasource: prometheus editable: true error: false fill: 1 grid: {} gridPos: h: 7 w: 12 x: 0 y: 23 version: 3", version: 2,487,1
openstack%2Fopenstack-helm-infra~master~I4465229d13cb3a5018baa9524f33befc7b7eccb2,openstack/openstack-helm-infra,master,I4465229d13cb3a5018baa9524f33befc7b7eccb2,Added yaml code for a Openstack Overall Dashboard,ABANDONED,2019-07-02 19:08:41.000000000,2020-03-16 14:58:42.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-07-02 19:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8e3a50a6b421e99cd73f5f74b10937fc9042660', 'message': 'Added yaml code for a Openstack Overall Dashboard which will give an overall view about all the Openstack components and their status\n\nChange-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2\n'}, {'number': 2, 'created': '2019-07-02 19:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c79ec3a7112d22da64eb4d6f01cd2c1632fc6050', 'message': 'Added yaml code for a Openstack Overall Dashboard which will give an overall view about all the Openstack components and their status\n\nChange-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2\n'}, {'number': 3, 'created': '2019-07-08 14:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21462020adf8b7fb84ddf195e3f2414cee2fba80', 'message': 'Added yaml code for a Openstack Overall Dashboard\n\nThis dashboard will give an overall view about all\nthe Openstack components and their status\n\nChange-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2\n'}, {'number': 4, 'created': '2019-07-10 17:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fccb56cccd90dfb279b8978b705970638198fd03', 'message': 'Added yaml code for a Openstack Overall Dashboard\n\nThis dashboard will give an overall view about all\nthe Openstack components and their status\nUpdated the code with generic namespace templating\n\nChange-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2\n'}, {'number': 5, 'created': '2019-07-18 18:19:31.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d4e6281150efc65cd4bc77226cac0445f1272f7', 'message': 'Added yaml code for a Openstack Overall Dashboard\n\nThis dashboard will give an overall view about all\nthe Openstack components and their status\nUpdated the code with generic namespace templating\n\nChange-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2\n'}]",5,668741,0d4e6281150efc65cd4bc77226cac0445f1272f7,17,7,5,30582,,,0,"Added yaml code for a Openstack Overall Dashboard

This dashboard will give an overall view about all
the Openstack components and their status
Updated the code with generic namespace templating

Change-Id: I4465229d13cb3a5018baa9524f33befc7b7eccb2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/668741/5 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,e8e3a50a6b421e99cd73f5f74b10937fc9042660,openstack-overall," Openstack_Metrics_Overall: __inputs: - name: DS_PROMETHEUS label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus - name: VAR_REGION type: constant label: Region value: mtn52b description: '' __requires: - type: grafana id: grafana name: Grafana version: 5.0.0 - type: panel id: graph name: Graph version: 5.0.0 - type: datasource id: prometheus name: Prometheus version: 5.0.0 - type: panel id: singlestat name: Singlestat version: 5.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard editable: true gnetId: graphTooltip: 0 id: iteration: 1562013105500 links: [] panels: - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 0 y: 0 id: 12 interval: ""> 60s"" links: - dashUri: db/openstack_services_nova dashboard: Openstack_Services_Nova name: Drilldown dashboard params: var-Service=nova title: Openstack_Services_Nova type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_nova_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Nova_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 3 y: 0 id: 13 interval: ""> 60s"" links: - dashUri: db/openstack_services_neutron dashboard: Openstack_Services_Neutron name: Drilldown dashboard params: var-Service=neutron title: Openstack_Services_Neutron type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_neutron_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Neutron_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 6 y: 0 id: 14 interval: ""> 60s"" links: - dashUri: db/openstack_services_cinder dashboard: Openstack_Services_Cinder name: Drilldown dashboard params: var-Service=cinder title: Openstack_Services_Cinder type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_cinder_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Cinder_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 9 y: 0 id: 10 interval: ""> 60s"" links: - dashUri: db/openstack_services_glance dashboard: Openstack_Services_Glance name: Drilldown dashboard params: var-Service=glance title: Openstack_Services_Glance type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_glance_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Glance_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#cca300"" - ""#299c46"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 12 y: 0 id: 15 interval: ""> 60s"" links: - dashUri: db/openstack_services_heat dashboard: Openstack_Services_Heat name: Drilldown dashboard params: '' title: Openstack_Services_Heat type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: sum(openstack_check_heat_api{job=""openstack-metrics"", region=""$region""})+sum(openstack_check_heat_cfn_api{job=""openstack-metrics"", region=""$region""}) fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '2,2' title: Heat_API_Check (Heat and Heat_CFN) type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '2' - op: ""="" text: API CRITICAL value: '1' - op: ""="" text: unknown value: '3' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 15 y: 0 id: 16 interval: ""> 60s"" links: - dashUri: db/openstack_services_keystone dashboard: Openstack_Services_Keystone includeVars: true params: '' targetBlank: false title: Openstack_Services_Keystone type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_keystone_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Keystone_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#d44a3a"" - ""#299c46"" - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 18 y: 0 id: 17 interval: ""> 60s"" links: - dashUri: db/openstack_services_swift dashboard: Openstack_Services_Swift includeVars: false title: Openstack_Services_Swift type: dashboard mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_swift_api{job=""openstack-metrics"", region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,2' title: Swift_API_Check type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: API CRITICAL value: '0' - op: ""="" text: API OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 0 y: 5 id: 2 interval: ""> 60s"" links: - dashUri: db/openstack_services_nova dashboard: Openstack_Services_Nova includeVars: false name: Drilldown dashboard params: '' title: Openstack_Services_Nova type: dashboard mappingType: 2 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: '0' text: Services OK to: '0' - from: '1' text: Services CRITICAL to: '100' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: sum(openstack_services_nova_compute_down_total)+sum(openstack_services_nova_compute_disabled_total)+sum(openstack_services_nova_conductor_down_total)+sum(openstack_services_nova_conductor_disabled_total)+sum(openstack_services_nova_consoleauth_down_total)+sum(openstack_services_nova_consoleauth_disabled_total)+sum(openstack_services_nova_scheduler_down_total)+sum(openstack_services_nova_scheduler_disabled_total) fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' instant: false interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,1' title: Nova type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: HEALTHY value: '0' - op: ""="" text: UNHEALTHY value: '1' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 3 y: 5 id: 3 interval: ""> 60s"" links: - dashUri: db/openstack_services_neutron dashboard: Openstack_Services_Neutron includeVars: false name: Drilldown dashboard params: '' title: Openstack_Services_Neutron type: dashboard mappingType: 2 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: '0' text: Services OK to: '0' - from: '1' text: Services CRITICAL to: '100' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: sum(openstack_services_neutron_l3_agent_down_total)+sum(openstack_services_neutron_l3_agent_disabled_total)+sum(openstack_services_neutron_dhcp_agent_down_total)+sum(openstack_services_neutron_dhcp_agent_disabled_total)+sum(openstack_services_neutron_metadata_agent_down_total)+sum(openstack_services_neutron_metadata_agent_disabled_total)+sum(openstack_services_neutron_openvswitch_agent_down_total)+sum(openstack_services_neutron_openvswitch_agent_disabled_total)+sum(openstack_services_neutron_sriov_nic_agent_down_total)+sum(openstack_services_neutron_sriov_nic_agent_disabled_total) fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,1' title: Neutron type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: HEALTHY value: '0' - op: ""="" text: UNHEALTHY value: '1' valueName: current - cacheTimeout: colorBackground: true colorValue: false colors: - ""#299c46"" - rgba(237, 129, 40, 0.89) - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 5 w: 3 x: 6 y: 5 id: 11 interval: ""> 60s"" links: - dashUri: db/openstack_services_cinder dashboard: Openstack_Services_Cinder includeVars: false name: Drilldown dashboard params: '' title: Openstack_Services_Cinder type: dashboard mappingType: 2 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: '0' text: Services OK to: '0' - from: '1' text: Services CRITICAL to: '100' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: sum(openstack_services_cinder_volume_down_total)+sum(openstack_services_cinder_volume_disabled_total)+sum(openstack_services_cinder_backup_down_total)+sum(openstack_services_cinder_backup_disabled_total)+sum(openstack_services_cinder_scheduler_down_total)+sum(openstack_services_cinder_scheduler_disabled_total) fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '1,1' title: Cinder type: singlestat valueFontSize: 50% valueMaps: - op: ""="" text: no data value: 'null' - op: ""="" text: CRIT value: '0' - op: ""="" text: OK value: '1' - op: ""="" text: UNKW value: '2' valueName: current - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 10 id: 5 panels: [] title: Resource Utilization type: row - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 0 y: 11 id: 7 legend: alignAsTable: true avg: false current: true max: true min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_total_used_ram_MB format: time_series interval: '' intervalFactor: 1 legendFormat: '' refId: A - expr: openstack_total_free_ram_MB format: time_series intervalFactor: 1 refId: B thresholds: [] timeFrom: timeShift: title: os_vm_ram_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: decmbytes label: Memory Usage logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 8 y: 11 id: 8 legend: alignAsTable: true avg: false current: true max: true min: true show: true total: true values: true lines: true linewidth: 3 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_total_used_vcpus format: time_series interval: '' intervalFactor: 1 legendFormat: '' refId: A - expr: openstack_total_free_vcpus format: time_series intervalFactor: 1 refId: B thresholds: [] timeFrom: timeShift: title: os_vm_vcpu_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: percent label: VCPU Usage logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 16 y: 11 id: 9 legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: "" openstack_total_used_disk_GB"" format: time_series interval: '' intervalFactor: 1 legendFormat: '' refId: A - expr: openstack_total_free_disk_GB format: time_series intervalFactor: 1 refId: B thresholds: [] timeFrom: timeShift: title: os_vm_disk_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: GBs label: disk Usage logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false schemaVersion: 16 style: dark tags: [] templating: list: - current: value: ""${VAR_REGION}"" text: ""${VAR_REGION}"" hide: 0 label: Region name: region options: - value: ""${VAR_REGION}"" text: ""${VAR_REGION}"" query: ""${VAR_REGION}"" type: constant time: from: now-6h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: '' title: Openstack_Metrics_Overall uid: ZM3ZmQ7Wk version: 50 ",,1279,0
openstack%2Fopenstack-helm-infra~master~I00b2413ada7bed5d660247e2686510341f77866f,openstack/openstack-helm-infra,master,I00b2413ada7bed5d660247e2686510341f77866f,"Grafana: Code for Openstack Heat,Keystone & Swift dashboards",ABANDONED,2019-07-01 21:28:01.000000000,2020-03-16 14:58:34.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28849}, {'_account_id': 30010}, {'_account_id': 30582}, {'_account_id': 30692}]","[{'number': 1, 'created': '2019-07-01 21:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/730cf2a9f2caedf8bda0e77243f00aee56e42fc1', 'message': 'Updated the file with Heat,Keystone and Swift Dashboards yaml code\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 2, 'created': '2019-07-01 21:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16d18e322f4e612bc299da6ee07cfe02185f9d01', 'message': 'Updated the file with Heat,Keystone and Swift Dashboards yaml code\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 3, 'created': '2019-07-02 17:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e3d7712d26a3b5e300ca5ad68b0f0f34bda8168', 'message': 'Added yaml code for creating the Openstack Heat, Keystone and Swift Dashboards in the grafana. The dashboard will display the API and Metrices for the above components.Updated the file with Heat,Keystone and Swift Dashboards yaml code\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 4, 'created': '2019-07-08 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7322b5098e8e02b191e17ab548733c14c1d01826', 'message': 'Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 5, 'created': '2019-07-10 15:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b3223caac35d3026f5a364c4aa6533db014b112', 'message': 'Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 6, 'created': '2019-07-12 14:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4fc99d606b62056eebd00cd4acc98bf93d8d492e', 'message': 'Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 7, 'created': '2019-07-12 14:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0d1c846a600bd959dc6c1ca2fb19081d5c991ec', 'message': 'Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 8, 'created': '2019-07-18 18:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fb72fe30690e750d8998beb6f9383fa176c597f', 'message': 'Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 9, 'created': '2019-09-17 15:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/661a76ae279314d4cde16cbe66f47eeba734b8f9', 'message': 'Grafana: Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 10, 'created': '2019-09-17 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0463b1f7e83b5c3cfc67014276ad4af44e7779f', 'message': 'Grafana: Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n'}, {'number': 11, 'created': '2019-11-01 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3dc4154bde404e476a0e4a5acf871a44c67ee1f', 'message': ""Grafana: Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\nUpdated the gridPos varialbe y: to 'y': such that yaml2Json function does not break\nthe code.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n""}, {'number': 12, 'created': '2019-11-01 13:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56612d7a3000027b585f147459d3b468c47a2e18', 'message': ""Grafana: Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\nUpdated the gridPos varialbe y: to 'y': such that yaml2Json function does not break\nthe code.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n""}, {'number': 13, 'created': '2019-11-11 19:46:22.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acf617809524b50d1f7bbb5b921a780cdb7343a8', 'message': ""Grafana: Code for Openstack Heat,Keystone & Swift dashboards\n\nAdded yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nUpdated the code with generic namespace templating.\nUpdated the ngnix expression to latest.\nUpdated the gridPos varialbe y: to 'y': such that yaml2Json function does not break\nthe code.\n\nChange-Id: I00b2413ada7bed5d660247e2686510341f77866f\n""}]",19,668562,acf617809524b50d1f7bbb5b921a780cdb7343a8,56,13,13,30582,,,0,"Grafana: Code for Openstack Heat,Keystone & Swift dashboards

Added yaml code for Openstack Heat, Keystone and Swift Dashboards in the grafana.
The dashboard will display the API and Metrices for the above components.
Updated the code with generic namespace templating.
Updated the ngnix expression to latest.
Updated the gridPos varialbe y: to 'y': such that yaml2Json function does not break
the code.

Change-Id: I00b2413ada7bed5d660247e2686510341f77866f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/668562/3 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,730cf2a9f2caedf8bda0e77243f00aee56e42fc1,openstack_heat_keystone_swift," Openstack_Services_Heat: __inputs: - name: DS_PROMETHEUS label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 5.0.0 - type: panel id: graph name: Graph version: 5.0.0 - type: datasource id: prometheus name: Prometheus version: 5.0.0 - type: panel id: singlestat name: Singlestat version: 5.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard editable: true gnetId: graphTooltip: 0 id: links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 42 panels: [] title: Heat API type: row - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(225, 177, 40, 0.59) - rgba(200, 54, 35, 0.88) - ""#299c46"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 1 id: 40 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_heat_api{job=""openstack-metrics""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '0,1' title: Heat_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: '0' - op: ""="" text: OK value: '1' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 1 id: 43 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - column: value condition: '' expr: sum(nginx_responses_total{server_zone=~""heat.*"", status_code=""5xx""}) fill: '' format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - '0' type: fill groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: '' title: HTTP 5xx errors type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: '0' value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 y: 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_heat_api format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: timeShift: title: API Availability tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: '' logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: min: show: false - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 8 id: 46 panels: [] title: Heat CFN API type: row - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(225, 177, 40, 0.59) - rgba(200, 54, 35, 0.88) - ""#299c46"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 9 id: 48 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_heat_cfn_api{job=""openstack-metrics""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '0,1' title: Heat_CFN_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: '0' - op: ""="" text: OK value: '1' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 9 id: 47 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - column: value condition: '' expr: sum(nginx_responses_total{server_zone=~""heat_cfn.*"", status_code=""5xx""}) fill: '' format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - '0' type: fill groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: '' title: HTTP 5xx errors type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: '0' value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 y: 9 id: 49 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_heat_cfn_api format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: timeShift: title: API Availability tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: '' logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: min: show: false refresh: 5m schemaVersion: 16 style: dark tags: [] templating: list: [] time: from: now-30m to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: '' title: Openstack_Services_Heat uid: B3ohnxVWz version: 3 Openstack_Services_Keystone: __inputs: - name: DS_PROMETHEUS label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 5.0.0 - type: panel id: graph name: Graph version: 5.0.0 - type: datasource id: prometheus name: Prometheus version: 5.0.0 - type: panel id: singlestat name: Singlestat version: 5.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard editable: true gnetId: graphTooltip: 0 id: iteration: 1562015605055 links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 42 panels: [] title: Keystone API type: row - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(225, 177, 40, 0.59) - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 1 id: 40 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_keystone_api{region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' instant: false interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '0,1' title: Keystone_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: '0' - op: ""="" text: OK value: '1' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 1 id: 43 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - column: value condition: '' expr: sum(nginx_responses_total{server_zone=~""keystone.*"", status_code=""5xx""}) fill: '' format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - '0' type: fill groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: '' title: HTTP 5xx errors type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: '0' value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 y: 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_keystone_api{region=""$region""} format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: timeShift: title: API Availability tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: '' logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: min: show: false refresh: false schemaVersion: 16 style: dark tags: [] templating: list: - allValue: current: tags: [] text: mtn52b value: mtn52b hide: 0 includeAll: false label: Region multi: false name: region options: - selected: true text: mtn52b value: mtn52b - selected: false text: RegionOne value: RegionOne query: mtn52b,RegionOne type: custom time: from: '2019-06-28T18:20:32.709Z' to: '2019-06-28T19:20:32.709Z' timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: '' title: Openstack_Services_Keystone uid: Dzpo4b4Wk version: 9 Openstack_Services_Swift: __inputs: - name: DS_PROMETHEUS label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 5.0.0 - type: panel id: graph name: Graph version: 5.0.0 - type: datasource id: prometheus name: Prometheus version: 5.0.0 - type: panel id: singlestat name: Singlestat version: 5.0.0 annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: rgba(0, 211, 255, 1) name: Annotations & Alerts type: dashboard editable: true gnetId: graphTooltip: 0 id: iteration: 1561752285075 links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 42 panels: [] title: Swift API type: row - cacheTimeout: colorBackground: true colorValue: false colors: - rgba(225, 177, 40, 0.59) - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 1 id: 40 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: false tableColumn: '' targets: - column: value condition: '' expr: openstack_check_swift_api{region=""$region""} fill: '' format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 'null' type: fill groupByTags: [] groupby_field: '' instant: false interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: '0,1' title: Swift_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: '0' - op: ""="" text: OK value: '1' valueName: current - cacheTimeout: colorBackground: false colorValue: false colors: - rgba(200, 54, 35, 0.88) - rgba(118, 245, 40, 0.73) - rgba(225, 177, 40, 0.59) datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 1 id: 43 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: value to text value: 1 - name: range to text value: 2 maxDataPoints: 100 nullPointMode: connected nullText: postfix: '' postfixFontSize: 50% prefix: '' prefixFontSize: 50% rangeMaps: - from: 'null' text: N/A to: 'null' sparkline: fillColor: rgba(31, 118, 189, 0.18) full: false lineColor: rgb(31, 120, 193) show: true tableColumn: '' targets: - column: value condition: '' expr: sum(nginx_responses_total{server_zone=~""swift.*"", status_code=""5xx""}) fill: '' format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - '0' type: fill groupby_field: '' interval: '' intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: '' title: HTTP 5xx errors type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: '0' value: 'null' valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 y: 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_swift_api{region=""$region""} format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: timeShift: title: API Availability tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: '' logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: min: show: false refresh: false schemaVersion: 16 style: dark tags: [] templating: list: - allValue: current: tags: [] text: mtn52b value: mtn52b hide: 0 includeAll: false label: Region multi: false name: region options: - selected: true text: mtn52b value: mtn52b - selected: false text: RegionOne value: RegionOne query: mtn52b,RegionOne type: custom time: from: '2019-06-28T18:20:32.709Z' to: '2019-06-28T19:20:32.709Z' timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: '' title: Openstack_Services_Swift uid: BGHaxxVZk version: 2",,1311,0
openstack%2Fopenstack-helm-infra~master~Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8,openstack/openstack-helm-infra,master,Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8,Added yaml code for Openstack Glance Dashboard,ABANDONED,2019-06-26 15:15:37.000000000,2020-03-16 14:58:23.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28849}, {'_account_id': 30010}, {'_account_id': 30120}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-06-26 15:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe1ffd9fb8a22b549b32c3db6eb7089316834b44', 'message': 'Updated the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 2, 'created': '2019-06-28 22:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e110fe58f507b5e09cce41514373667cf480c9c', 'message': 'Updated the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 3, 'created': '2019-06-28 22:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee42819651529b40b3399bfcfa8ac0fc0c8334de', 'message': 'formatted the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 4, 'created': '2019-07-01 16:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8575064f7658208c306d03f6c398defe99cfc5ce', 'message': 'formatted the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 5, 'created': '2019-07-01 18:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25a14bb9180f3cba39be0a504d2ba68e48dc2571', 'message': 'formatted the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 6, 'created': '2019-07-02 17:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0274da100b73e7c18750a8d24dbb1352e9465a65', 'message': 'Added yaml code for creating the Openstack Glance Dashboard in the grafana. The dashboard will display the API and Metrices for the above components.\nUpdated the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 7, 'created': '2019-07-09 14:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a5a805dc108994338fe413c2f62b6174ca921ee', 'message': 'Added yaml code for Openstack Glance Dashboard\n\nThe dashboard will display the API and Metrices for the Glance components.\nUpdated the /grafana/values.yaml with Glance dashboard code\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 8, 'created': '2019-07-09 22:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9ac21d8220fcee659cfa4f7225096e5564182e9', 'message': 'Added yaml code for Openstack Glance Dashboard\n\nThe dashboard will display the API and Metrices for the Glance components.\nUpdated the /grafana/values.yaml with Glance dashboard code\nUpdated the dashboard with generic namespace template.\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 9, 'created': '2019-07-12 14:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c887a9e0601484a02b3c9d60a33311c85c6c7c56', 'message': 'Added yaml code for Openstack Glance Dashboard\n\nThe dashboard will display the API and Metrices for the Glance components.\nUpdated the /grafana/values.yaml with Glance dashboard code\nUpdated the dashboard with generic namespace template.\nUpdated the nginx expression to latest\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}, {'number': 10, 'created': '2019-07-18 17:29:32.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/560f2faf89c12c37e2219969c6d06b0c45397c46', 'message': 'Added yaml code for Openstack Glance Dashboard\n\nThe dashboard will display the API and Metrices for the Glance components.\nUpdated the /grafana/values.yaml with Glance dashboard code\nUpdated the dashboard with generic namespace template.\nUpdated the nginx expression to latest\n\nChange-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8\n'}]",10,667646,560f2faf89c12c37e2219969c6d06b0c45397c46,42,10,10,30582,,,0,"Added yaml code for Openstack Glance Dashboard

The dashboard will display the API and Metrices for the Glance components.
Updated the /grafana/values.yaml with Glance dashboard code
Updated the dashboard with generic namespace template.
Updated the nginx expression to latest

Change-Id: Iacd92ec3fc1913e45eabfc17d00167ec0fae21a8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/46/667646/6 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,fe1ffd9fb8a22b549b32c3db6eb7089316834b44,openstack_glance_grafanadashboard," Openstack_Services_Glance: ~ __inputs: - description: """" label: prometheus name: DS_PROMETHEUS pluginId: prometheus pluginName: Prometheus type: datasource __requires: - id: grafana name: Grafana type: grafana version: ""5.0.0"" - id: graph name: Graph type: panel version: ""5.0.0"" - id: prometheus name: Prometheus type: datasource version: ""5.0.0"" - id: singlestat name: Singlestat type: panel version: ""5.0.0"" annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: ~ graphTooltip: 0 id: ~ links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 ? ""y"" : 0 id: 42 panels: [] title: ""Glance API"" type: row - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""rgba(225, 177, 40, 0.59)"" - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 ? ""y"" : 1 id: 40 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_glance_api{job=\""openstack-metrics\""}"" fill: """" format: time_series function: last groupBy: - params: - $interval type: time - params: - ""null"" type: fill groupByTags: [] groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""0,1"" title: Glance_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: ""0"" - op: ""="" text: OK value: ""1"" valueName: current - cacheTimeout: ~ colorBackground: false colorValue: false colors: - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 ? ""y"" : 1 id: 43 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: true tableColumn: """" targets: - column: value condition: """" expr: ""sum(nginx_responses_total{server_zone=~\""glance.*\"", status_code=\""5xx\""})"" fill: """" format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - ""0"" type: fill groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: """" title: ""HTTP 5xx errors"" type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: ""0"" value: ""null"" valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 ? ""y"" : 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_glance_api format: time_series function: last groupBy: - params: - $interval type: time - params: - ""0"" type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: ~ timeShift: ~ title: ""API Availability"" tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: ~ mode: time name: ~ show: true values: [] yaxes: - format: none label: """" logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: ~ min: ~ show: false refresh: 5m schemaVersion: 16 style: dark tags: [] templating: list: [] time: from: now-30m to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Openstack_Services_Glance uid: tIO7pN4Zk version: 4 ",,371,0
openstack%2Fopenstack-helm-infra~master~I85a3f6c44da3d541ae7d225618a490d90a00f4b0,openstack/openstack-helm-infra,master,I85a3f6c44da3d541ae7d225618a490d90a00f4b0,Code for Openstack Cinder dashboard in the grafana,ABANDONED,2019-06-25 19:43:31.000000000,2020-03-16 14:58:14.000000000,,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28849}, {'_account_id': 30010}, {'_account_id': 30120}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-06-25 19:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bfa08f644f58b5ec005531bb709021a48a4ccbc', 'message': 'Updated the /grafana/values.yaml file with Cinder Dashboard code\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 2, 'created': '2019-07-01 19:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d702f4e6b572abe5eeaf21f04eecb9824786a3dd', 'message': 'Updated the /grafana/values.yaml file with Cinder Dashboard code\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 3, 'created': '2019-07-02 17:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fce37353b00208f6d7f94a278bea9476cfda65e5', 'message': 'Added yaml code for creating the Openstack Cinder dashboard in the grafana. The dashboard will display the API and Metrices for the above components.\nUpdated the /grafana/values.yaml file with Cinder Dashboard code\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 4, 'created': '2019-07-03 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5110705bf64e709792814d5cdbf5739752681f3a', 'message': 'Openstack Cinder dashboard in the grafana.\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 5, 'created': '2019-07-03 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a611632786949ce014f3e008adf7580a02fda98b', 'message': 'Openstack Cinder dashboard in the grafana\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 6, 'created': '2019-07-08 18:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/71063a3cea37e6332d6ae110b9ddddcfa84db418', 'message': 'Openstack Cinder dashboard in the grafana\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 7, 'created': '2019-07-08 19:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02e4b2225cd592f465195ec877f3fd7ac809a2ab', 'message': 'Code for Openstack Cinder dashboard in the grafana\n\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 8, 'created': '2019-07-09 21:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eaa3f5943fdd68dc9963c27b6c7737fbdf68a995', 'message': 'Code for Openstack Cinder dashboard in the grafana\n\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\nUpdated the dashboard code with the generice namespace template.\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 9, 'created': '2019-07-09 21:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9fcb6c6d7d42d62cb227801a2e2e432279e9b8b3', 'message': 'Code for Openstack Cinder dashboard in the grafana\n\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\nUpdated the dashboard code with the generice namespace template.\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 10, 'created': '2019-07-12 14:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a3e59c1ad004bfc76bd99e19e98ba4c8fc74b45a', 'message': 'Code for Openstack Cinder dashboard in the grafana\n\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\nUpdated the dashboard code with the generice namespace template.\nUpdated the nginx expression to the latest\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}, {'number': 11, 'created': '2019-07-18 17:57:06.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec858cdc4efef9c0bd805c5c9dee92f3f78697ec', 'message': 'Code for Openstack Cinder dashboard in the grafana\n\nThe dashboard will display the API and Metrices for the above components.\nAdded yaml code to the /grafana/values.yaml file for Cinder Dashboard\nUpdated the dashboard code with the generice namespace template.\nUpdated the nginx expression to the latest\n\nChange-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0\n'}]",7,667450,ec858cdc4efef9c0bd805c5c9dee92f3f78697ec,44,12,11,30582,,,0,"Code for Openstack Cinder dashboard in the grafana

The dashboard will display the API and Metrices for the above components.
Added yaml code to the /grafana/values.yaml file for Cinder Dashboard
Updated the dashboard code with the generice namespace template.
Updated the nginx expression to the latest

Change-Id: I85a3f6c44da3d541ae7d225618a490d90a00f4b0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/667450/3 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,6bfa08f644f58b5ec005531bb709021a48a4ccbc,openstack_cinderglance," Openstack_Services_Cinder: ~ __inputs: - description: """" label: prometheus name: DS_PROMETHEUS pluginId: prometheus pluginName: Prometheus type: datasource __requires: - id: grafana name: Grafana type: grafana version: ""5.0.0"" - id: graph name: Graph type: panel version: ""5.0.0"" - id: prometheus name: Prometheus type: datasource version: ""5.0.0"" - id: singlestat name: Singlestat type: panel version: ""5.0.0"" annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: ~ graphTooltip: 0 id: ~ links: [] panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 ? ""y"" : 0 id: 42 panels: [] title: ""Cinder API"" type: row - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""rgba(225, 177, 40, 0.59)"" - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 ? ""y"" : 1 id: 40 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_cinder_api{job=\""openstack-metrics\""}"" fill: """" format: time_series function: last groupBy: - params: - $interval type: time - params: - ""null"" type: fill groupByTags: [] groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""0,1"" title: Cinder_API_Service type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: CRITICAL value: ""0"" - op: ""="" text: OK value: ""1"" valueName: current - cacheTimeout: ~ colorBackground: false colorValue: false colors: - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 ? ""y"" : 1 id: 43 interval: ""> 60s"" links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: true tableColumn: """" targets: - column: value condition: """" expr: ""sum(nginx_responses_total{server_zone=~\""cinder.*\"", status_code=\""5xx\""})"" fill: """" format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - ""0"" type: fill groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: [] thresholds: """" title: ""HTTP 5xx errors"" type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: ""0"" value: ""null"" valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: {} gridPos: h: 7 w: 13 x: 8 ? ""y"" : 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_cinder_api format: time_series function: last groupBy: - params: - $interval type: time - params: - ""0"" type: fill groupByTags: [] intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: [] step: 120 tags: [] thresholds: [] timeFrom: ~ timeShift: ~ title: ""API Availability"" tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: ~ mode: time name: ~ show: true values: [] yaxes: - format: none label: """" logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: ~ min: ~ show: false - collapsed: false gridPos: h: 1 w: 24 x: 0 ? ""y"" : 8 id: 7 panels: [] repeat: Region title: Cinder type: row - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 0 ? ""y"" : 9 id: 9 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 minSpan: 15 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" repeat: type repeatDirection: v sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_volume_down_total format: time_series hide: false intervalFactor: 4 legendFormat: """" refId: A thresholds: ""1,1"" title: Cinder-volume-down type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 2 ? ""y"" : 9 id: 23 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_volume_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: Cinder-volume-disabled type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 4 ? ""y"" : 9 id: 20 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_backup_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: Cinder-backup-down type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 6 ? ""y"" : 9 id: 22 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_backup_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: Cinder-backup-disabled type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 8 ? ""y"" : 9 id: 11 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_scheduler_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: Cinder-scheduler-down type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - cacheTimeout: ~ colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 10 ? ""y"" : 9 id: 21 interval: ~ links: [] mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: ~ postfix: """" postfixFontSize: 50% prefix: """" prefixFontSize: 50% rangeMaps: - from: ""null"" text: N/A to: ""null"" sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_cinder_scheduler_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: Cinder-scheduler-disabled type: singlestat valueFontSize: 80% valueMaps: - op: ""="" text: N/A value: ""null"" valueName: current - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 24 x: 0 ? ""y"" : 16 hideTimeOverride: false id: 15 legend: alignAsTable: true avg: false current: true max: false min: false rightSide: false show: true sort: current sortDesc: true total: false values: true lines: true linewidth: 3 links: [] nullPointMode: ""null"" percentage: false pointradius: 1 points: false renderer: flot repeat: ~ repeatDirection: h seriesOverrides: [] spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_services_cinder_cinder_volume format: time_series intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_services_cinder_cinder_scheduler format: time_series intervalFactor: 1 refId: B - expr: openstack_services_cinder_cinder_backup format: time_series intervalFactor: 1 refId: C thresholds: [] timeFrom: ~ timeShift: ~ title: Openstack_service_cinder tooltip: shared: true sort: 1 value_type: individual type: graph xaxis: buckets: ~ mode: time name: ~ show: true values: [] yaxes: - decimals: ~ format: short label: ~ logBase: 1 max: ""1"" min: ""0"" show: true - format: short label: ~ logBase: 1 max: ~ min: ~ show: false refresh: 5m schemaVersion: 16 style: dark tags: [] templating: list: [] time: from: now-30m to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Openstack_Services_Cinder uid: Fk2otH4Zk version: 5 ",,880,0
openstack%2Fopenstack-helm-infra~master~I602abab95392459cfac8d8e90798b69925db11dd,openstack/openstack-helm-infra,master,I602abab95392459cfac8d8e90798b69925db11dd,Added yaml code for Openstack Neutron & Nova,ABANDONED,2019-06-20 19:36:01.000000000,2020-03-16 14:58:02.000000000,,"[{'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28849}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-06-20 19:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b078f52a7973dd568e369ef4d106c14b27862833', 'message': 'Updated /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 2, 'created': '2019-06-24 17:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3a9e35fdd9cc450e836355575a9c43adf9ee3c5', 'message': 'Formatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 3, 'created': '2019-06-24 19:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa7d84eedebdb89a18369f2f6d6c9aada459f5e1', 'message': 'Reformatted the /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 4, 'created': '2019-06-24 20:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5325099936c15abb987fb7c04dd69fc31edf487c', 'message': 'Reformatted the /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 5, 'created': '2019-06-28 21:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/534999d8308cc7e20efa2f1f810794d8334329fc', 'message': 'Added the Nova and Neutron yaml code to /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 6, 'created': '2019-07-01 20:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c14367639045e852987e3e5a28593b1ed7827d6a', 'message': 'Added the Nova and Neutron yaml code to /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 7, 'created': '2019-07-02 15:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3428b6b7e3449a1934c557322f50458dbfe3478f', 'message': 'Indented the Nova and Neutron yaml code to /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 8, 'created': '2019-07-02 15:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32b166711ac242bf2d2a72f7a9b54bc00919f6c4', 'message': 'Indented the Nova and Neutron yaml code to /grafana/values.yaml file\nFormatted the /grafana/values.yaml file with new Openstack Dashboard code\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 9, 'created': '2019-07-02 17:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/670aab59edeb348ec77f09abbcb668c6a26d0f79', 'message': 'Added yaml code for creating the Openstack Neutron and Nova Dashboards respectively in the grafana.\nThe dahboard will display the API and Metrices for the above components.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 10, 'created': '2019-07-08 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c42a5fd40f0e6870b177bbfabe9ff357224f710', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 11, 'created': '2019-07-10 15:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ceee76b03e619292f23ee7d8a65453813aba7350', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\nUpdated the code by adding the generic namespace templating.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 12, 'created': '2019-07-10 15:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a778f03428953ac74e25563db34df47883973dfe', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\nUpdated the code by adding the generic namespace templating.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 13, 'created': '2019-07-12 14:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39b69436547665ec472df9cba323b0c86d58460a', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\nUpdated the code by adding the generic namespace templating.\nUpdated the ngnix expression to the latest one.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 14, 'created': '2019-07-12 14:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6c8abb7e61621d616e322d1914e4f87a9da860b', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\nUpdated the code by adding the generic namespace templating.\nUpdated the ngnix expression to the latest one.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}, {'number': 15, 'created': '2019-07-18 19:11:27.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73fcfcd33dd186de7e28d94156c5f86d3f64a42b', 'message': 'Added yaml code for Openstack Neutron & Nova\n\nThe yaml code for Neutron and Nova Dashboards respectively in the grafana\nThe dahboard will display the API and Metrices for the above components.\nUpdated the code by adding the generic namespace templating.\nUpdated the ngnix expression to the latest one.\n\nChange-Id: I602abab95392459cfac8d8e90798b69925db11dd\n'}]",4,666665,73fcfcd33dd186de7e28d94156c5f86d3f64a42b,51,10,15,30582,,,0,"Added yaml code for Openstack Neutron & Nova

The yaml code for Neutron and Nova Dashboards respectively in the grafana
The dahboard will display the API and Metrices for the above components.
Updated the code by adding the generic namespace templating.
Updated the ngnix expression to the latest one.

Change-Id: I602abab95392459cfac8d8e90798b69925db11dd
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/666665/8 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,b078f52a7973dd568e369ef4d106c14b27862833,openstack_grafana_dashboard," Openstack_Metrics_Overall: __inputs: - name: DS_PROMETHEUS label: prometheus description: """" type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: ""5.0.0"" - type: panel id: graph name: Graph version: ""5.0.0"" - type: datasource id: prometheus name: Prometheus version: ""5.0.0"" - type: panel id: singlestat name: Singlestat version: ""5.0.0"" annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: null iteration: 1560951955181 links: panels: - cacheTimeout: null colorBackground: true colorValue: false colors: - ""rgba(208, 53, 34, 0.82)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 0 y: 0 id: 2 interval: ""> 60s"" links: - dashUri: ""db/openstack_services_nova"" dashboard: Openstack_Services_Nova includeVars: false name: ""Drilldown dashboard"" params: """" title: Openstack_Services_Nova type: dashboard mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_nova_api{job=\""openstack-metrics\"", region=\""$region\""}"" fill: """" format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - null type: fill groupByTags: groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""1,2"" title: Nova type: singlestat valueFontSize: ""50%"" valueMaps: - op: ""="" text: ""no data"" value: null - op: ""="" text: CRIT value: 0 - op: ""="" text: OK value: 1 - op: ""="" text: UNKW value: 2 valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""rgba(208, 53, 34, 0.82)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 2 y: 0 id: 3 interval: ""> 60s"" links: - dashUri: ""db/openstack_services_neutron"" dashboard: Openstack_Services_Neutron includeVars: false name: ""Drilldown dashboard"" params: """" title: Openstack_Services_Neutron type: dashboard mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_neutron_api{job=\""openstack-metrics\"", region=\""$region\""}"" fill: """" format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - null type: fill groupByTags: groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""1,2"" title: Neutron type: singlestat valueFontSize: ""50%"" valueMaps: - op: ""="" text: ""no data"" value: null - op: ""="" text: CRIT value: 0 - op: ""="" text: OK value: 1 - op: ""="" text: UNKW value: 2 valueName: current - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 7 id: 5 panels: title: ""Resource Utilization"" type: row - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 0 y: 8 id: 7 legend: alignAsTable: true avg: false current: true max: true min: false show: true total: false values: true lines: true linewidth: 3 links: nullPointMode: null percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_total_used_ram_MB format: time_series interval: """" intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_total_free_ram_MB format: time_series intervalFactor: 1 refId: B thresholds: timeFrom: null timeShift: null title: os_vm_ram_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: decmbytes label: ""Memory Usage"" logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: false - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 8 y: 8 id: 8 legend: alignAsTable: true avg: false current: true max: true min: true show: true total: true values: true lines: true linewidth: 3 links: nullPointMode: null percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_total_used_vcpus format: time_series interval: """" intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_total_free_vcpus format: time_series intervalFactor: 1 refId: B thresholds: timeFrom: null timeShift: null title: os_vm_vcpu_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: iops label: ""VCPU Usage"" logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: false - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 8 x: 16 y: 8 id: 9 legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: nullPointMode: null percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - expr: "" openstack_total_used_disk_GB"" format: time_series interval: """" intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_total_free_disk_GB format: time_series intervalFactor: 1 refId: B thresholds: timeFrom: null timeShift: null title: os_vm_disk_usage tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: GBs label: ""disk Usage"" logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: false schemaVersion: 16 style: dark tags: templating: list: - allValue: null current: text: mtn52b value: mtn52b hide: 0 includeAll: false label: Region multi: false name: region options: - selected: true text: mtn52b value: mtn52b query: mtn52b type: custom time: from: ""now-6h"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Openstack_Metrics_Overall uid: ZM3ZmQ7Wk version: 8 Openstack_Services_Neutron: __inputs: - name: DS_PROMETHEUS label: prometheus description: """" type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: ""5.0.0"" - type: panel id: graph name: Graph version: ""5.0.0"" - type: datasource id: prometheus name: Prometheus version: ""5.0.0"" - type: panel id: singlestat name: Singlestat version: ""5.0.0"" annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: null links: panels: - collapsed: true gridPos: h: 1 w: 24 x: 0 y: 0 id: 42 panels: title: ""Neutron API"" type: row - cacheTimeout: null colorBackground: true colorValue: false colors: - ""rgba(225, 177, 40, 0.59)"" - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 1 id: 40 interval: ""> 60s"" links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_neutron_api{job=\""openstack-metrics\""}"" fill: """" format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - null type: fill groupByTags: groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""0,1"" title: Neutron_API_Service type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: CRITICAL value: 0 - op: ""="" text: OK value: 1 valueName: current - cacheTimeout: null colorBackground: false colorValue: false colors: - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 1 id: 43 interval: ""> 60s"" links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: true tableColumn: """" targets: - column: value condition: """" expr: ""sum(nginx_responses_total{server_zone=~\""neutron.*\"", status_code=\""5xx\""})"" fill: """" format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - 0 type: fill groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: thresholds: """" title: ""HTTP 5xx errors"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: 0 value: null valueName: current - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: gridPos: h: 7 w: 13 x: 8 y: 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_neutron_api format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 0 type: fill groupByTags: intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: step: 120 tags: thresholds: timeFrom: null timeShift: null title: ""API Availability"" tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: none label: """" logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: null min: null show: false - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 8 id: 13 panels: repeat: agent title: Neutron type: row - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 0 y: 9 id: 28 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_l3_agent_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_I3_agent_down type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 2 y: 9 id: 26 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_l3_agent_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_I3_agent_disabled type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 4 y: 9 id: 29 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_dhcp_agent_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_dhcp_agent_down type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 6 y: 9 id: 27 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_dhcp_agent_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_dhcp_agent_disabled type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 8 y: 9 id: 30 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_metadata_agent_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_metadata_agent_down type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 10 y: 9 id: 31 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_metadata_agent_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_metadata_agent_disabled type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 12 y: 9 id: 33 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_openvswitch_agent_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_openvswitch_agent_down type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 14 y: 9 id: 32 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_openvswitch_agent_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_openvswitch_agent_disabled type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 16 y: 9 id: 45 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_sriov_nic_agent_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_sriov_nic_agent_down type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 18 y: 9 id: 46 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_neutron_sriov_nic_agent_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: neutron_sriov_nic_agent_disabled type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 24 x: 0 y: 16 hideTimeOverride: false id: 15 legend: alignAsTable: true avg: false current: true max: false min: false rightSide: false show: true sort: current sortDesc: true total: false values: true lines: true linewidth: 3 links: nullPointMode: null percentage: false pointradius: 1 points: false renderer: flot repeat: null repeatDirection: h seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_services_neutron_neutron_l3_agent format: time_series intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_services_neutron_neutron_metadata_agent format: time_series intervalFactor: 1 refId: B - expr: openstack_services_neutron_neutron_dhcp_agent format: time_series intervalFactor: 1 refId: C - expr: openstack_services_neutron_neutron_openvswitch_agent format: time_series intervalFactor: 1 refId: D - expr: openstack_services_neutron_neutron_sriov_nic_agent format: time_series intervalFactor: 1 refId: E thresholds: timeFrom: null timeShift: null title: Neutron_Agents tooltip: shared: true sort: 1 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - decimals: null format: short label: null logBase: 1 max: 1 min: 0 show: true - format: short label: null logBase: 1 max: null min: null show: false refresh: 5m schemaVersion: 16 style: dark tags: templating: list: time: from: ""now-30m"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Openstack_Services_Neutron uid: fVJks_7Wk version: 5 Openstack_service_nova: __inputs: - name: DS_PROMETHEUS label: prometheus description: """" type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: ""5.0.0"" - type: panel id: graph name: Graph version: ""5.0.0"" - type: datasource id: prometheus name: Prometheus version: ""5.0.0"" - type: panel id: singlestat name: Singlestat version: ""5.0.0"" annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: null links: panels: - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 0 id: 42 panels: title: ""Nova API"" type: row - cacheTimeout: null colorBackground: true colorValue: false colors: - ""rgba(225, 177, 40, 0.59)"" - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 0 y: 1 id: 40 interval: ""> 60s"" links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - column: value condition: """" expr: ""openstack_check_nova_api{job=\""openstack-metrics\""}"" fill: """" format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - null type: fill groupByTags: groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 thresholds: ""0,1"" title: Nova_API_Service type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: CRITICAL value: 0 - op: ""="" text: OK value: 1 valueName: current - cacheTimeout: null colorBackground: false colorValue: false colors: - ""rgba(200, 54, 35, 0.88)"" - ""rgba(118, 245, 40, 0.73)"" - ""rgba(225, 177, 40, 0.59)"" datasource: ""${DS_PROMETHEUS}"" editable: true error: false format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 4 x: 4 y: 1 id: 43 interval: ""> 60s"" links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: true tableColumn: """" targets: - column: value condition: """" expr: ""sum(nginx_responses_total{server_zone=~\""nova.*\"", status_code=\""5xx\""})"" fill: """" format: time_series function: count groupBy: - interval: auto params: - auto type: time - params: - 0 type: fill groupby_field: """" interval: """" intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series step: 120 tags: thresholds: """" title: ""HTTP 5xx errors"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: 0 value: null valueName: current - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" editable: true error: false fill: 0 grid: gridPos: h: 7 w: 13 x: 8 y: 1 id: 44 interval: ""> 60s"" legend: alignAsTable: true avg: false current: true max: false min: false show: true total: false values: true lines: true linewidth: 3 links: nullPointMode: connected percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - alias: healthy column: value expr: openstack_check_nova_api format: time_series function: last groupBy: - params: - ""$interval"" type: time - params: - 0 type: fill groupByTags: intervalFactor: 2 policy: default rawQuery: false refId: A resultFormat: time_series select: step: 120 tags: thresholds: timeFrom: null timeShift: null title: ""API Availability"" tooltip: msResolution: false shared: false sort: 0 value_type: cumulative type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - format: none label: """" logBase: 1 max: 1 min: 0 show: true - format: short logBase: 1 max: null min: null show: false - collapsed: false gridPos: h: 1 w: 24 x: 0 y: 8 id: 7 panels: repeat: Region title: Nova type: row - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 0 y: 9 id: 9 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 minSpan: 15 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null repeat: type repeatDirection: v sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_compute_down_total format: time_series hide: false intervalFactor: 4 legendFormat: """" refId: A thresholds: ""1,1"" title: ""Nova-compute-down"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 2 y: 9 id: 11 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_compute_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-compute-disabled"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 4 y: 9 id: 20 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_conductor_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-conductor-disabled"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 6 y: 9 id: 23 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_conductor_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-conductor-down"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 8 y: 9 id: 21 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_consoleauth_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-consoleauth-down"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 10 y: 9 id: 22 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_consoleauth_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-consoleauth_disabled"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 12 y: 9 id: 19 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_scheduler_down_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-scheduler-down"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - cacheTimeout: null colorBackground: true colorValue: false colors: - ""#299c46"" - ""rgba(237, 129, 40, 0.89)"" - ""#d44a3a"" datasource: ""${DS_PROMETHEUS}"" format: none gauge: maxValue: 100 minValue: 0 show: false thresholdLabels: false thresholdMarkers: true gridPos: h: 7 w: 2 x: 14 y: 9 id: 24 interval: null links: mappingType: 1 mappingTypes: - name: ""value to text"" value: 1 - name: ""range to text"" value: 2 maxDataPoints: 100 nullPointMode: connected nullText: null postfix: """" postfixFontSize: ""50%"" prefix: """" prefixFontSize: ""50%"" rangeMaps: - from: null text: ""N/A"" to: null sparkline: fillColor: ""rgba(31, 118, 189, 0.18)"" full: false lineColor: ""rgb(31, 120, 193)"" show: false tableColumn: """" targets: - expr: openstack_services_nova_scheduler_disabled_total format: time_series intervalFactor: 1 refId: A thresholds: ""1,1"" title: ""Nova-scheduler-disabled"" type: singlestat valueFontSize: ""80%"" valueMaps: - op: ""="" text: ""N/A"" value: null valueName: current - aliasColors: bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 0 gridPos: h: 9 w: 24 x: 0 y: 16 hideTimeOverride: false id: 15 legend: alignAsTable: true avg: false current: true max: false min: false rightSide: false show: true sort: current sortDesc: true total: false values: true lines: true linewidth: 3 links: nullPointMode: null percentage: false pointradius: 1 points: false renderer: flot repeat: null repeatDirection: h seriesOverrides: spaceLength: 10 stack: false steppedLine: true targets: - expr: openstack_services_nova_nova_consoleauth format: time_series intervalFactor: 1 legendFormat: """" refId: A - expr: openstack_services_nova_nova_compute format: time_series intervalFactor: 1 refId: B - expr: openstack_services_nova_nova_conductor format: time_series intervalFactor: 1 refId: C - expr: openstack_services_nova_nova_scheduler format: time_series intervalFactor: 1 refId: D thresholds: timeFrom: null timeShift: null title: Openstack_service_nova tooltip: shared: true sort: 1 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - decimals: null format: short label: null logBase: 1 max: 1 min: 0 show: true - format: short label: null logBase: 1 max: null min: null show: false refresh: 5m schemaVersion: 16 style: dark tags: templating: list: time: from: ""now-30m"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: Openstack_Services_Nova uid: PCguGP7Zz version: 64",,2841,0
openstack%2Fopenstack-ansible-os_manila~master~I34070aad44cfcbb59773196b0f74c10225bc9124,openstack/openstack-ansible-os_manila,master,I34070aad44cfcbb59773196b0f74c10225bc9124,Fix python path when deploy host is not localhost,MERGED,2020-02-25 10:17:43.000000000,2020-03-16 14:54:46.000000000,2020-03-16 14:52:39.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-02-25 10:17:43.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/6170d71caab31ef883a0878b5fd6830c01a00847', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\nmanila_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nChange-Id: I34070aad44cfcbb59773196b0f74c10225bc9124\n""}]",0,709684,6170d71caab31ef883a0878b5fd6830c01a00847,8,3,1,23182,,,0,"Fix python path when deploy host is not localhost

When we don't use localhost as deploy host, we need to use
manila_service_setup_host_python_interpreter variable.

This variable give the correct python path (in a venv for example when
we use a utility container as a setup host)

Change-Id: I34070aad44cfcbb59773196b0f74c10225bc9124
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/84/709684/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,6170d71caab31ef883a0878b5fd6830c01a00847,,"manila_service_setup_host_python_interpreter: ""{{ openstack_service_setup_host_python_interpreter | default((manila_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable'])) }}""",,2,1
openstack%2Fnova~master~Ice3d79f0803efad60236e55b55bebd681056564c,openstack/nova,master,Ice3d79f0803efad60236e55b55bebd681056564c,Cleanup test for system reader and reader_or_owner rules,MERGED,2020-03-11 17:22:18.000000000,2020-03-16 14:44:29.000000000,2020-03-16 14:40:44.000000000,"[{'_account_id': 782}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-11 17:22:18.000000000', 'files': ['nova/tests/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/24b6fb1591045949e4d43ca2bffd5c872e8c6cde', 'message': ""Cleanup test for system reader and reader_or_owner rules\n\nWhile introducing PROJECT_READER_OR_SYSTEM_READER in policy\n- https://review.opendev.org/#/c/706672\nI added those rules in system_reader list in test_policy.\n\nLet's maintain them in separate list for easy read. There\nare going to be more policies in this list.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ice3d79f0803efad60236e55b55bebd681056564c\n""}]",0,712515,24b6fb1591045949e4d43ca2bffd5c872e8c6cde,12,7,1,8556,,,0,"Cleanup test for system reader and reader_or_owner rules

While introducing PROJECT_READER_OR_SYSTEM_READER in policy
- https://review.opendev.org/#/c/706672
I added those rules in system_reader list in test_policy.

Let's maintain them in separate list for easy read. There
are going to be more policies in this list.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ice3d79f0803efad60236e55b55bebd681056564c
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/712515/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_policy.py'],1,24b6fb1591045949e4d43ca2bffd5c872e8c6cde,bp/policy-defaults-refresh,) self.system_reader_or_owner_rules = ( self.system_reader_or_owner_rules +,,4,0
openstack%2Fkolla-ansible~master~Ibe561517d44a1108e8223442a71fab36b69c2258,openstack/kolla-ansible,master,Ibe561517d44a1108e8223442a71fab36b69c2258,CI: Ignore neutron-server CRITICAL about WSREP,MERGED,2020-03-15 13:59:35.000000000,2020-03-16 14:36:09.000000000,2020-03-16 13:22:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-15 13:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc8c927a4d55d6b2ea8f38f896d8fcb2f7822e08', 'message': 'CI: Ignore neutron-server CRITICAL about WSREP\n\nChange-Id: Ibe561517d44a1108e8223442a71fab36b69c2258\nRelated-bug: #1863579\n'}, {'number': 2, 'created': '2020-03-16 10:00:59.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16ade28d5f8df4da6b5ea5a508dbfb0aabe476c4', 'message': ""CI: Ignore neutron-server CRITICAL about WSREP\n\nWe are getting this randomly on neutron-server shutdown\nfor upgrade.\nAs it does not affect real operations (and if it did,\nwe would definitely see it now), let's ignore it.\n\nChange-Id: Ibe561517d44a1108e8223442a71fab36b69c2258\nRelated-bug: #1863579\n""}]",0,713133,16ade28d5f8df4da6b5ea5a508dbfb0aabe476c4,17,5,2,30491,,,0,"CI: Ignore neutron-server CRITICAL about WSREP

We are getting this randomly on neutron-server shutdown
for upgrade.
As it does not affect real operations (and if it did,
we would definitely see it now), let's ignore it.

Change-Id: Ibe561517d44a1108e8223442a71fab36b69c2258
Related-bug: #1863579
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/713133/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,dc8c927a4d55d6b2ea8f38f896d8fcb2f7822e08,ci-ignore-neutron-server-critical-wsrep-on-shutdown," */neutron-server.log) # Sometimes we see this during shutdown (upgrade). # See: https://bugs.launchpad.net/neutron/+bug/1863579 grep -v ""WSREP has not yet prepared node for application use"" ;;",,5,0
openstack%2Fpython-openstackclient~master~I410173d5fdcd8c592d98eed2f48b98e06299e8b3,openstack/python-openstackclient,master,I410173d5fdcd8c592d98eed2f48b98e06299e8b3,Stop configuring install_command in tox and stop use pip.,MERGED,2019-11-15 09:07:36.000000000,2020-03-16 14:35:32.000000000,2020-03-16 14:33:32.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-15 09:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/be2b69b927f776cc592a5563658623db8aa6cbfe', 'message': ""Stop configuring install_command in tox.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 2, 'created': '2019-11-15 09:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/27e1cd39ae78a625b032a2c3228dca616b6fa1f7', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 3, 'created': '2019-11-18 09:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2b25d84cbde4a1ccf22fc4eeb23d0ae15bfd273b', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 4, 'created': '2020-01-08 09:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e7a24a590dc741cb9c83af546e894d291d097254', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 5, 'created': '2020-01-09 12:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/96fe0a89f46f1ae5a5e4b0c7788616351b8b0d2c', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 6, 'created': '2020-01-21 14:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/19cd5e60375f5a5030b441373641ea1f6117c45b', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 7, 'created': '2020-01-27 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/172244f5b5ce48eeb663b21455d8029457c597bf', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 8, 'created': '2020-02-05 12:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c702e31c669b89d8e55c9fa97b50932473a57276', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 9, 'created': '2020-02-11 11:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d010a61b068daf9acc1205798040a910ab6aaa85', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 10, 'created': '2020-02-11 11:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/00faeb608b70639180deb93e39247e0c59b4d8b9', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}, {'number': 11, 'created': '2020-03-16 07:00:56.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bf2beb9e868175adb775ec253ef4a929ac557975', 'message': ""Stop configuring install_command in tox and stop use pip.\n\nCurrently, we are overriding 'install_command' to use 'pip'. This is\nconsidered poor behavior and 'python -m pip' should be used instead:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value. Use the\nright way when it's necessary.\n\nChange-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3\n""}]",5,694484,bf2beb9e868175adb775ec253ef4a929ac557975,40,6,11,31245,,,0,"Stop configuring install_command in tox and stop use pip.

Currently, we are overriding 'install_command' to use 'pip'. This is
considered poor behavior and 'python -m pip' should be used instead:

https://snarky.ca/why-you-should-use-python-m-pip/

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value. Use the
right way when it's necessary.

Change-Id: I410173d5fdcd8c592d98eed2f48b98e06299e8b3
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/694484/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,be2b69b927f776cc592a5563658623db8aa6cbfe,stop_configuring_install_command,"setenv = OS_STDOUT_CAPTURE=1 python -m pip install -q -U -e ""git+file://{toxinidir}/../cliff#egg=cliff"" python -m pip install -q -U -e ""git+file://{toxinidir}/../keystoneauth#egg=keystoneauth"" python -m pip install -q -U -e ""git+file://{toxinidir}/../osc-lib#egg=osc_lib"" python -m pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config"" pythom -m pip install -q -e ""git+file://{toxinidir}/../openstacksdk#egg=openstacksdk"" python -m pip freeze python -m pip install -q -U -e ""git+file://{toxinidir}/../cliff#egg=cliff"" python -m pip install -q -U -e ""git+file://{toxinidir}/../keystoneauth#egg=keystoneauth"" python -m pip install -q -U -e ""git+file://{toxinidir}/../osc-lib#egg=osc_lib"" python -m pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config"" python -m pip install -q -U -e ""git+file://{toxinidir}/../openstacksdk#egg=openstacksdk"" python -m pip freeze","install_command = pip install {opts} {packages} setenv = VIRTUAL_ENV={envdir} OS_STDOUT_CAPTURE=1 pip install -q -U -e ""git+file://{toxinidir}/../cliff#egg=cliff"" pip install -q -U -e ""git+file://{toxinidir}/../keystoneauth#egg=keystoneauth"" pip install -q -U -e ""git+file://{toxinidir}/../osc-lib#egg=osc_lib"" pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config"" pip install -q -e ""git+file://{toxinidir}/../openstacksdk#egg=openstacksdk"" pip freeze pip install -q -U -e ""git+file://{toxinidir}/../cliff#egg=cliff"" pip install -q -U -e ""git+file://{toxinidir}/../keystoneauth#egg=keystoneauth"" pip install -q -U -e ""git+file://{toxinidir}/../osc-lib#egg=osc_lib"" pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config"" pip install -q -U -e ""git+file://{toxinidir}/../openstacksdk#egg=openstacksdk"" pip freeze",13,15
openstack%2Fcharms.openstack~stable%2F20.02~I4b36d7fd5e74ab3a894eb4a2451b5876fd777552,openstack/charms.openstack,stable/20.02,I4b36d7fd5e74ab3a894eb4a2451b5876fd777552,Avoid multiple calls to create_ip_cert_links,MERGED,2020-03-16 12:02:26.000000000,2020-03-16 14:32:05.000000000,2020-03-16 14:32:05.000000000,"[{'_account_id': 13686}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 12:02:26.000000000', 'files': ['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8702d27254c6e73ffd383bada69ddcafd0c7f970', 'message': 'Avoid multiple calls to create_ip_cert_links\n\nPrior to this change, the call to create_ip_cert_links was inside the\nfor loop of tls objects. This caused LP Bug#1866741 where a sym link\nwith the same certificate name would get overwritten with a new cert.\nThis meant the last certificate of [internal, admin, public] would be\nwritten to all three.\n\nThis change calls create_ip_cert_links and state sets only once. It also\nadds a warning log entry if we accidentally overwrite sym linked files in\nthe future.\n\nChange-Id: I4b36d7fd5e74ab3a894eb4a2451b5876fd777552\nPartial-Bug: #1866741\n(cherry picked from commit 72cfde8308684905363e80e4ca5db57f18573927)\n'}]",0,713205,8702d27254c6e73ffd383bada69ddcafd0c7f970,6,3,1,20870,,,0,"Avoid multiple calls to create_ip_cert_links

Prior to this change, the call to create_ip_cert_links was inside the
for loop of tls objects. This caused LP Bug#1866741 where a sym link
with the same certificate name would get overwritten with a new cert.
This meant the last certificate of [internal, admin, public] would be
written to all three.

This change calls create_ip_cert_links and state sets only once. It also
adds a warning log entry if we accidentally overwrite sym linked files in
the future.

Change-Id: I4b36d7fd5e74ab3a894eb4a2451b5876fd777552
Partial-Bug: #1866741
(cherry picked from commit 72cfde8308684905363e80e4ca5db57f18573927)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/05/713205/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py']",2,8702d27254c6e73ffd383bada69ddcafd0c7f970,bug/1866741-stable/20.02," self.patch_object(chm.cert_utils, 'create_ip_cert_links') self.create_ip_cert_links.assert_called_once_with( '/etc/apache2/ssl/charmname') self.create_ip_cert_links.reset_mock() self.create_ip_cert_links.assert_called_once_with( '/etc/apache2/ssl/charmname') self.patch_object(chm.cert_utils, 'create_ip_cert_links') self.create_ip_cert_links.assert_not_called()",,25,7
openstack%2Fopenstack-ansible-os_magnum~master~Ib7f99714502ba94604b8f0bb997c77a768af6d1d,openstack/openstack-ansible-os_magnum,master,Ib7f99714502ba94604b8f0bb997c77a768af6d1d,Add ability to create COE template,MERGED,2020-02-17 11:15:41.000000000,2020-03-16 14:30:52.000000000,2020-03-16 14:26:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-02-17 11:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/ea4a5434dd8aebb5be1fe1cb7967f60350c04092', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/708096\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}, {'number': 2, 'created': '2020-02-19 17:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/79e4fd4d4726f47dc313960de1e653711dce0340', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/708096\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}, {'number': 3, 'created': '2020-02-19 17:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a8bc11ef80d5b06d1bd6a4889322b166f1d6dd38', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/708096\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}, {'number': 4, 'created': '2020-02-26 14:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/e3e1dd6e1ca784073bf8adb8ffe49b06be9c012f', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/708096\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}, {'number': 5, 'created': '2020-02-27 13:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/8f46f161947bcb05c37d6d5cb05e2cd484fe24d7', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/710245\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}, {'number': 6, 'created': '2020-02-28 08:23:55.000000000', 'files': ['tasks/main.yml', 'tasks/magnum_resources.yml', 'releasenotes/notes/magnum_resources-84e50dbaebac7d1c.yaml', 'tasks/magnum_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/51fe8d4897634a6f481560571e1e2bf58f9aa58f', 'message': 'Add ability to create COE template\n\nCreation of cluster templates is pretty routine operation wich\nmight be easily automated with ansible.\n\nDepends-On: https://review.opendev.org/710245\nChange-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d\n'}]",0,708097,51fe8d4897634a6f481560571e1e2bf58f9aa58f,38,5,6,28619,,,0,"Add ability to create COE template

Creation of cluster templates is pretty routine operation wich
might be easily automated with ansible.

Depends-On: https://review.opendev.org/710245
Change-Id: Ib7f99714502ba94604b8f0bb997c77a768af6d1d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/97/708097/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,ea4a5434dd8aebb5be1fe1cb7967f60350c04092,osa/cluster_templates, # Define cluster templates to create. It should be list of # dictionaries with keys that are supported by os_coe_cluster_template # module (https://docs.ansible.com/ansible/latest/modules/os_coe_cluster_template_module.html) #magnum_cluster_templates: # - name: k8s # cloud: default # coe: kubernetes # docker_volume_size: 50 # external_network_id: public # network_driver: flannel magnum_cluster_templates: [],,18,0
openstack%2Fkolla-ansible~master~I92ad0be70ed05925612f0c709907ab62280326b8,openstack/kolla-ansible,master,I92ad0be70ed05925612f0c709907ab62280326b8,CI: Don't fail on expected critical log messages,MERGED,2019-12-05 14:23:12.000000000,2020-03-16 14:29:57.000000000,2019-12-09 22:33:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-12-05 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73f75f68cb50a1ac354857242d51150c4626b5a1', 'message': ""CI: Don't fail on exepected critical log messages\n\nThere are a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n""}, {'number': 2, 'created': '2019-12-05 16:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da46158b2e35672857dde90228457b68f198355b', 'message': ""CI: Don't fail on exepected critical log messages\n\nThere are a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n""}, {'number': 3, 'created': '2019-12-06 15:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73812d3af722ded91c2e4efed30835e524cc1a41', 'message': ""CI: Don't fail on expected critical log messages\n\nThere are a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nDepends-on: https://review.opendev.org/697658\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n""}, {'number': 4, 'created': '2019-12-07 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0841675ac4c98f293eab717db9c913aedc7c240', 'message': ""CI: Don't fail on expected critical log messages\n\nThere is a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n""}, {'number': 5, 'created': '2019-12-08 08:36:37.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f7640d3965118a522b5fb18e66d5455ae132b87', 'message': ""CI: Don't fail on expected critical log messages\n\nThere is a number of critical log messages that we see in CI from time\nto time. While these should be fixed, let's not fail jobs unnecessarily.\n\nThis change introduces one expected critical message in\nplacement-api.log:\n\n    Failed to fetch token data from identity server\n\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nRelated-bug: #1847727\nChange-Id: I92ad0be70ed05925612f0c709907ab62280326b8\n""}]",3,697478,2f7640d3965118a522b5fb18e66d5455ae132b87,32,5,5,14826,,,0,"CI: Don't fail on expected critical log messages

There is a number of critical log messages that we see in CI from time
to time. While these should be fixed, let's not fail jobs unnecessarily.

This change introduces one expected critical message in
placement-api.log:

    Failed to fetch token data from identity server

Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Related-bug: #1847727
Change-Id: I92ad0be70ed05925612f0c709907ab62280326b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/697478/5 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,73f75f68cb50a1ac354857242d51150c4626b5a1,," sudo egrep "" $2 "" $1 | egrep -v ""(logging_exception_prefix|rate_limit_except_level)"" | filter_for_level $1 $2 } function filter_expected_critical { # $1: file # Filter out expected critical log messages that we do not want to fail the # job. case $1 in *placement-api.log) # Sometimes see this during upgrade when keystone is down. if grep -v ""Failed to fetch token data from identity server""; then return 1 fi ;; *) return 1 ;; esac if ! check_file_for_level $f $level | filter_expected_critical >/dev/null; then any_critical=1 fi"," sudo egrep "" $2 "" $1 | egrep -v ""(logging_exception_prefix|rate_limit_except_level)"" any_critical=1",21,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib00e8aa9f7d06517290543a8aaf8a2527969bd3c,openstack/tripleo-heat-templates,stable/train,Ib00e8aa9f7d06517290543a8aaf8a2527969bd3c,Use a common playbook import for common plays,MERGED,2020-03-10 14:59:58.000000000,2020-03-16 14:25:28.000000000,2020-03-16 14:25:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-10 14:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b818d7f2e00ddf64f22ca6d3ceaef4633323cd26', 'message': 'Use a common playbook import for common plays\n\nIt would appear that we use many of the same plays in several\nof the playbooks. In this patch we extract these into a common\nplaybook file so that we only need to repeat a single import\nin each of the playbooks. This way we reduce the maintenance\nburden because we only need to maintain it in one file.\n\nChange-Id: Ib00e8aa9f7d06517290543a8aaf8a2527969bd3c\n(cherry picked from commit 8e1171d01a9acfa63ecb8fdd7c30d4be3c034b01)\n'}, {'number': 2, 'created': '2020-03-12 12:03:51.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/445387589f2ebad1d85456bc03f82996ca87ffcf', 'message': 'Use a common playbook import for common plays\n\nIt would appear that we use many of the same plays in several\nof the playbooks. In this patch we extract these into a common\nplaybook file so that we only need to repeat a single import\nin each of the playbooks. This way we reduce the maintenance\nburden because we only need to maintain it in one file.\n\nChange-Id: Ib00e8aa9f7d06517290543a8aaf8a2527969bd3c\n(cherry picked from commit 8e1171d01a9acfa63ecb8fdd7c30d4be3c034b01)\n'}]",0,712102,445387589f2ebad1d85456bc03f82996ca87ffcf,34,9,2,6816,,,0,"Use a common playbook import for common plays

It would appear that we use many of the same plays in several
of the playbooks. In this patch we extract these into a common
playbook file so that we only need to repeat a single import
in each of the playbooks. This way we reduce the maintenance
burden because we only need to maintain it in one file.

Change-Id: Ib00e8aa9f7d06517290543a8aaf8a2527969bd3c
(cherry picked from commit 8e1171d01a9acfa63ecb8fdd7c30d4be3c034b01)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/712102/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2']",2,b818d7f2e00ddf64f22ca6d3ceaef4633323cd26,scale-2020-stable/train," common_deploy_steps_playbooks: {get_file: deploy-steps-playbooks-common.yaml} - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST:{{role.name}}"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" - import_playbook: common_deploy_steps_playbooks.yaml vars: deploy_source_host: ""DEPLOY_SOURCE_HOST"" deploy_target_host: ""DEPLOY_TARGET_HOST"" ignore_unreachable: true "," - hosts: DEPLOY_SOURCE_HOST name: Gather facts from undercloud gather_facts: yes any_errors_fatal: yes become: false tags: - facts - hosts: DEPLOY_TARGET_HOST name: Gather facts from overcloud gather_facts: yes any_errors_fatal: yes tags: - facts - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} any_errors_fatal: yes tasks: - include_vars: global_vars.yaml no_log: true tags: - always - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} any_errors_fatal: yes tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool tripleo_all_nodes_data: tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} any_errors_fatal: yes tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: DEPLOY_SOURCE_HOST name: Gather facts from undercloud gather_facts: yes become: false - hosts: DEPLOY_TARGET_HOST name: Gather facts from overcloud gather_facts: yes - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: DEPLOY_SOURCE_HOST name: Gather facts from undercloud gather_facts: yes become: false tags: - always - facts # facts from overcloud may be needed for external installer inventory - hosts: DEPLOY_TARGET_HOST name: Gather facts from overcloud gather_facts: yes tags: - always - facts - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true tags: - always - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool tripleo_all_nodes_data: tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: {{role.name}} name: Gather facts from undercloud gather_facts: yes become: false - hosts: {{role.name}} name: Gather facts from overcloud gather_facts: yes - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool tripleo_all_nodes_data: tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: DEPLOY_SOURCE_HOST:DEPLOY_TARGET_HOST name: Gather facts from undercloud gather_facts: no become: false tags: always tasks: - name: Force facts refresh before upgrade. setup: - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true - name: make sure /var/lib/config-data exists file: path: /var/lib/config-data state: directory setype: svirt_sandbox_file_t selevel: s0 - name: ensure we get the right selinux context command: chcon -R -t svirt_sandbox_file_t /var/lib/config-data args: warn: no tags: - always - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: DEPLOY_SOURCE_HOST name: Gather facts from undercloud gather_facts: yes become: false tags: - always - facts # facts from overcloud may be needed for external installer inventory - hosts: DEPLOY_TARGET_HOST name: Gather facts from overcloud gather_facts: yes tags: - always - facts - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true tags: - always - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts - hosts: DEPLOY_SOURCE_HOST:DEPLOY_TARGET_HOST name: Gather facts from overcloud gather_facts: no ignore_unreachable: True tags: - always - facts tasks: - name: Force facts refresh before scale. setup: - hosts: all name: Load global variables gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - include_vars: global_vars.yaml no_log: true tags: - always - hosts: DEPLOY_TARGET_HOST name: Render all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Render all_nodes data as group_vars for overcloud delegate_to: localhost become: false run_once: true when: not ansible_check_mode|bool block: - name: Get current user command: whoami register: whoami - name: render all_nodes data as group_vars for overcloud template: src: ""{{ '{{' }} lookup('first_found', lookup('config', 'DEFAULT_ROLES_PATH') | map('regex_replace', '$', '/tripleo-hieradata') | list) ~ '/templates/all_nodes.j2' {{ '}}'}}"" dest: ""{{ '{{' }} playbook_dir {{ '}}' }}/group_vars/overcloud.json"" owner: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" group: ""{{ '{{' }} whoami.stdout {{ '}}' }}"" tags: - facts - hosts: DEPLOY_TARGET_HOST name: Set all_nodes data as group_vars for overcloud gather_facts: {{ '""{{' }} gather_facts | default(false) {{ '}}""' }} tasks: - name: Set all_nodes data as group_vars for overcloud include_vars: ""{{ '{{ ' }} playbook_dir {{ ' }}' }}/group_vars/overcloud.json"" no_log: true when: not ansible_check_mode|bool tags: - facts",97,333
openstack%2Ftripleo-ci~master~I8852395b0be2e6409e330db0e50c844d0705d3f2,openstack/tripleo-ci,master,I8852395b0be2e6409e330db0e50c844d0705d3f2,Add c8 scenario 12 job,MERGED,2020-03-06 09:56:07.000000000,2020-03-16 14:06:29.000000000,2020-03-16 14:06:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 09:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d96e897d4bed37a6eb95651d6943e347c95c15db', 'message': 'Move standalone scenario 12 to centos-8\n\nSince c7 based standalone scenario 12 is running on master only\nand ussuri is moving to c8 based jobs. So it just rename the\nsame to centos-8\n\nChange-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-06 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/adcda3d3ee402a5be9a8654bcfe8df7344789ae6', 'message': '[WIP] Add c8 scenario 12 job\n\nChange-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-03-09 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/80289f80820ce17ef18d324533701dd8a87fde51', 'message': '[WIP] Add c8 scenario 12 job\n\nChange-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-03-11 06:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f7d9481857a9756e74af148c4a08243d9233480', 'message': '[WIP] Add c8 scenario 12 job\n\nChange-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-03-13 08:25:33.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e1c70023a9eca7d5bc174443cc532ecba2b5af0d', 'message': 'Add c8 scenario 12 job\n\n* It is a non-voting job\n* The issue is tracked here:\n  https://bugs.launchpad.net/tripleo/+bug/1867323\n\nChange-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,711599,e1c70023a9eca7d5bc174443cc532ecba2b5af0d,19,5,5,12393,,,0,"Add c8 scenario 12 job

* It is a non-voting job
* The issue is tracked here:
  https://bugs.launchpad.net/tripleo/+bug/1867323

Change-Id: I8852395b0be2e6409e330db0e50c844d0705d3f2
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/99/711599/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,d96e897d4bed37a6eb95651d6943e347c95c15db,c8s12, - tripleo-ci-centos-8-scenario012-standalone: name: tripleo-ci-centos-8-scenario012-standalone parent: tripleo-ci-base-standalone-centos-8, - tripleo-ci-centos-7-scenario012-standalone: name: tripleo-ci-centos-7-scenario012-standalone parent: tripleo-ci-base-standalone nodeset: single-centos-7-node,3,4
openstack%2Ftripleo-ansible~stable%2Ftrain~I9b9a0796aac6354629124f7490a1e7911c0b82c0,openstack/tripleo-ansible,stable/train,I9b9a0796aac6354629124f7490a1e7911c0b82c0,Remove useless doc in tripleo-container-manag,MERGED,2020-03-14 22:53:42.000000000,2020-03-16 14:05:32.000000000,2020-03-16 14:00:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 22:53:42.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f57b16c9a125fe5d5962b3dfcd69acbc3b187266', 'message': ""Remove useless doc in tripleo-container-manag\n\nThe block isn't working well and we need a file to for the dict data,\nwhich we have in the previous block. Let's just remove it.\n\nChange-Id: I9b9a0796aac6354629124f7490a1e7911c0b82c0\n(cherry picked from commit 77ce31dc09cb2eed0720c72bf8d4341446f98e78)\n""}]",0,713117,f57b16c9a125fe5d5962b3dfcd69acbc3b187266,7,2,1,3153,,,0,"Remove useless doc in tripleo-container-manag

The block isn't working well and we need a file to for the dict data,
which we have in the previous block. Let's just remove it.

Change-Id: I9b9a0796aac6354629124f7490a1e7911c0b82c0
(cherry picked from commit 77ce31dc09cb2eed0720c72bf8d4341446f98e78)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/713117/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-container-manage.rst'],1,f57b16c9a125fe5d5962b3dfcd69acbc3b187266,doc/train2,,"The same can be achieved with this command: .. code-block:: bash ansible -m include_role -a role=tripleo-container-manage \ -e tripleo_container_manage_systemd_order=True \ -e tripleo_container_manage_config_patterns='haproxy.json' \ -e tripleo_container_manage_config='/var/lib/tripleo-config/container-startup-config/step_1' \ -e tripleo_container_manage_config_id='tripleo_step1' \ -e tripleo_container_manage_config_overrides=""{'haproxy': {'image': 'docker.io/tripleomaster/centos-binary-haproxy:hotfix'}}"" \ --become --one-line localhost ",0,12
openstack%2Ftripleo-ansible~master~I18dfce4ef4d8c3bd3b73b2447fc6807047186f61,openstack/tripleo-ansible,master,I18dfce4ef4d8c3bd3b73b2447fc6807047186f61,Finalize centos-8 migration,MERGED,2020-03-13 10:51:52.000000000,2020-03-16 14:04:50.000000000,2020-03-16 14:00:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 10:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7484722036454737eb23a88c1fd85dcf89c23614', 'message': 'Finalize centos-8 migration\n\n- assure all jobs are using centos-8\n- fixed broken role-addition caused by partial centos-8 migration\n- assure that touching molecule.yaml file tests role-addition, so\n  we avoid future regressions\n\nChange-Id: I18dfce4ef4d8c3bd3b73b2447fc6807047186f61\n'}, {'number': 2, 'created': '2020-03-13 10:58:26.000000000', 'files': ['zuul.d/molecule.yaml', 'doc/source/contributing.rst', 'role-addition.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/326f902710e7f6a41c01b2bdedd7ac512196e5fa', 'message': 'Finalize centos-8 migration\n\n- assure all jobs are using centos-8\n- fixed broken role-addition caused by partial centos-8 migration\n- assure that touching molecule.yaml file tests role-addition, so\n  we avoid future regressions\n\nChange-Id: I18dfce4ef4d8c3bd3b73b2447fc6807047186f61\n'}]",0,712907,326f902710e7f6a41c01b2bdedd7ac512196e5fa,10,7,2,24162,,,0,"Finalize centos-8 migration

- assure all jobs are using centos-8
- fixed broken role-addition caused by partial centos-8 migration
- assure that touching molecule.yaml file tests role-addition, so
  we avoid future regressions

Change-Id: I18dfce4ef4d8c3bd3b73b2447fc6807047186f61
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/712907/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'doc/source/contributing.rst', 'role-addition.yml', 'zuul.d/base.yaml']",4,7484722036454737eb23a88c1fd85dcf89c23614,c8-ready,, - job: description: Old base tripleo-ansible job [DEPRECATED] name: tripleo-ansible-centos-7-base nodeset: centos-7 parent: tripleo-ansible-centos-8-base,83,42
openstack%2Fneutron-tempest-plugin~master~I0964464e709baf9958548384933bd000fdee979b,openstack/neutron-tempest-plugin,master,I0964464e709baf9958548384933bd000fdee979b,QoS - Change the way we measure bw limits,MERGED,2020-03-03 16:10:45.000000000,2020-03-16 13:31:18.000000000,2020-03-16 13:31:18.000000000,"[{'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-03 16:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a7453866e85a1ad108dcb2a7867ea9482382b958', 'message': 'Add expected_bw to QoS scenario tests debug\n\nWe suspect that QoS burst limiting for ml/ovn works\ndifferently than for ml2/ovs.\nLets add expected_bw information to debug logs.\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n'}, {'number': 2, 'created': '2020-03-03 16:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/29fc336afa3c4cbbbc315361dfa474b9eec5bb24', 'message': 'Add expected_bw to QoS scenario tests debug log\n\nWe suspect that QoS burst limiting for ml/ovn works\ndifferently than for ml2/ovs.\nLets add expected_bw information to debug logs.\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n'}, {'number': 3, 'created': '2020-03-04 13:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c2c8bdee4872f7ba287f3962ca982ee18f7f88c3', 'message': ""QoS - Increase size of tested file lineary with limit\n\nSometimes it is visible that first kilobytes of the\ntest file are downloaded a little bit faster than the\nactual bw limit claims, especially while testing OVN\nas a backend.\nWhen it happens the avg bytes per second value that is\nmeasured in the test could be higher than required limit.\n\nIt is pretty easy to show the case while testing QoS with iperf3:\n\nAccepted connection from 172.24.5.1, port 59690\n[  5] local 10.1.0.35 port 5201 connected to 172.24.5.1 port 59692\n[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd\n[  5]   0.00-1.00   sec  1.32 MBytes  11.0 Mbits/sec  139   2.62 KBytes\n[  5]   1.00-2.00   sec   628 KBytes  5.15 Mbits/sec   96   10.5 KBytes\n[  5]   2.00-3.00   sec   502 KBytes  4.12 Mbits/sec   84   7.85 KBytes\n[  5]   3.00-4.00   sec   649 KBytes  5.32 Mbits/sec   83   10.5 KBytes\n[  5]   4.00-5.00   sec   643 KBytes  5.26 Mbits/sec   84   3.93 KBytes\n[  5]   5.00-6.00   sec   529 KBytes  4.33 Mbits/sec   73   5.23 KBytes\n[  5]   6.00-7.00   sec   628 KBytes  5.15 Mbits/sec   92   20.9 KBytes\n[  5]   7.00-8.00   sec   534 KBytes  4.37 Mbits/sec   82   18.3 KBytes\n[  5]   8.00-9.00   sec   667 KBytes  5.47 Mbits/sec  110   7.85 KBytes\n[  5]   9.00-10.00  sec   635 KBytes  5.20 Mbits/sec   90   11.8 KBytes\n[  5]  10.00-10.02  sec  0.00 Bytes  0.00 bits/sec    0   11.8 KBytes\n- - - - - - - - - - - - - - - - - - - - - - - - -\n[ ID] Interval           Transfer     Bandwidth       Retr\n[  5]   0.00-10.02  sec  6.61 MBytes  5.53 Mbits/sec  933             sender\n[  5]   0.00-10.02  sec  6.41 MBytes  5.36 Mbits/sec                  receiver\n-----------------------------------------------------------\n\nWe can find out that during first second of the test the bw limit\nis exceeded, but after that the traffic is shaped.\n\nIn our case when we run the tempest QoS test the avg bytes per second\nmeasured value that we compair with bw limit is impacted.\n\nTo prevent tests to fail this patch increases the size of tested\nfile lineary with the tested bw_limit. It will help, because the\ntested file shouldn't be downloaded within first second.\n\nCloses-Bug: 1866039\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n""}, {'number': 4, 'created': '2020-03-04 13:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/60acdd24f6c36062e683d038ee44eab60f8e0e68', 'message': ""QoS - Increase size of tested file lineary with limit\n\nSometimes it is visible that first kilobytes of the\ntest file are downloaded a little bit faster than the\nactual bw limit claims, especially while testing OVN\nas a backend.\nWhen it happens the avg bytes per second value that is\nmeasured in the test could be higher than required limit.\n\nIt is pretty easy to show the case while testing QoS with iperf3:\n\nAccepted connection from 172.24.5.1, port 59690\n[  5] local 10.1.0.35 port 5201 connected to 172.24.5.1 port 59692\n[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd\n[  5]   0.00-1.00   sec  1.32 MBytes  11.0 Mbits/sec  139   2.62 KBytes\n[  5]   1.00-2.00   sec   628 KBytes  5.15 Mbits/sec   96   10.5 KBytes\n[  5]   2.00-3.00   sec   502 KBytes  4.12 Mbits/sec   84   7.85 KBytes\n[  5]   3.00-4.00   sec   649 KBytes  5.32 Mbits/sec   83   10.5 KBytes\n[  5]   4.00-5.00   sec   643 KBytes  5.26 Mbits/sec   84   3.93 KBytes\n[  5]   5.00-6.00   sec   529 KBytes  4.33 Mbits/sec   73   5.23 KBytes\n[  5]   6.00-7.00   sec   628 KBytes  5.15 Mbits/sec   92   20.9 KBytes\n[  5]   7.00-8.00   sec   534 KBytes  4.37 Mbits/sec   82   18.3 KBytes\n[  5]   8.00-9.00   sec   667 KBytes  5.47 Mbits/sec  110   7.85 KBytes\n[  5]   9.00-10.00  sec   635 KBytes  5.20 Mbits/sec   90   11.8 KBytes\n[  5]  10.00-10.02  sec  0.00 Bytes  0.00 bits/sec    0   11.8 KBytes\n- - - - - - - - - - - - - - - - - - - - - - - - -\n[ ID] Interval           Transfer     Bandwidth       Retr\n[  5]   0.00-10.02  sec  6.61 MBytes  5.53 Mbits/sec  933             sender\n[  5]   0.00-10.02  sec  6.41 MBytes  5.36 Mbits/sec                  receiver\n-----------------------------------------------------------\n\nWe can find out that during first second of the test the bw limit\nis exceeded, but after that the traffic is shaped.\n\nIn our case when we run the tempest QoS test the avg bytes per second\nmeasured value that we compair with bw limit is impacted.\n\nTo prevent tests to fail this patch increases the size of tested\nfile lineary with the tested bw_limit. It will help, because the\ntested file shouldn't be downloaded within first second.\n\nCloses-Bug: 1866039\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n""}, {'number': 5, 'created': '2020-03-04 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/06c19b30f33e24f30418d032c9c870bc9ce0c715', 'message': ""QoS - Increase size of tested file proportionally with limit\n\nSometimes it is visible that first kilobytes of the\ntest file are downloaded a little bit faster than the\nactual bw limit claims, especially while testing OVN\nas a backend.\nWhen it happens the avg bytes per second value that is\nmeasured in the test could be higher than required limit.\n\nIt is pretty easy to show the case while testing QoS with iperf3:\n\nAccepted connection from 172.24.5.1, port 59690\n[  5] local 10.1.0.35 port 5201 connected to 172.24.5.1 port 59692\n[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd\n[  5]   0.00-1.00   sec  1.32 MBytes  11.0 Mbits/sec  139   2.62 KBytes\n[  5]   1.00-2.00   sec   628 KBytes  5.15 Mbits/sec   96   10.5 KBytes\n[  5]   2.00-3.00   sec   502 KBytes  4.12 Mbits/sec   84   7.85 KBytes\n[  5]   3.00-4.00   sec   649 KBytes  5.32 Mbits/sec   83   10.5 KBytes\n[  5]   4.00-5.00   sec   643 KBytes  5.26 Mbits/sec   84   3.93 KBytes\n[  5]   5.00-6.00   sec   529 KBytes  4.33 Mbits/sec   73   5.23 KBytes\n[  5]   6.00-7.00   sec   628 KBytes  5.15 Mbits/sec   92   20.9 KBytes\n[  5]   7.00-8.00   sec   534 KBytes  4.37 Mbits/sec   82   18.3 KBytes\n[  5]   8.00-9.00   sec   667 KBytes  5.47 Mbits/sec  110   7.85 KBytes\n[  5]   9.00-10.00  sec   635 KBytes  5.20 Mbits/sec   90   11.8 KBytes\n[  5]  10.00-10.02  sec  0.00 Bytes  0.00 bits/sec    0   11.8 KBytes\n- - - - - - - - - - - - - - - - - - - - - - - - -\n[ ID] Interval           Transfer     Bandwidth       Retr\n[  5]   0.00-10.02  sec  6.61 MBytes  5.53 Mbits/sec  933             sender\n[  5]   0.00-10.02  sec  6.41 MBytes  5.36 Mbits/sec                  receiver\n-----------------------------------------------------------\n\nWe can find out that during first second of the test the bw limit\nis exceeded, but after that the traffic is shaped.\n\nIn our case when we run the tempest QoS test the avg bytes per second\nmeasured value that we compair with bw limit is impacted.\n\nTo prevent tests to fail this patch increases the size of tested\nfile proportionally with the tested bw_limit. It will help, because the\ntested file shouldn't be downloaded within first second.\n\nCloses-Bug: 1866039\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n""}, {'number': 6, 'created': '2020-03-11 14:59:16.000000000', 'files': ['neutron_tempest_plugin/scenario/test_qos.py', 'neutron_tempest_plugin/scenario/test_floatingip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/41b8019c7b4b3921a077a032463b9d8c74957b4b', 'message': 'QoS - Change the way we measure bw limits\n\nThis patch introduces new way of fetching the data.\nInstead creating the file, it reads /dev/zero.\n/dev/zero is always very fast, so we also break the\nprevious hard disk limitations.\n\nThe test time is limited to 5 seconds. After that we\ncalculate avg bytes per second value and compare it\nto expected one.\n\nSometimes it is visible that first kilobytes of the\ntest file are downloaded a little bit faster than the\nactual bw limit claims, especially while testing OVN\nas a backend.\nWhen it happens the avg bytes per second value that is\nmeasured in the test could be higher than required limit.\n\nIt is pretty easy to show the case while testing QoS with iperf3:\n\nAccepted connection from 172.24.5.1, port 59690\n[  5] local 10.1.0.35 port 5201 connected to 172.24.5.1 port 59692\n[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd\n[  5]   0.00-1.00   sec  1.32 MBytes  11.0 Mbits/sec  139   2.62 KBytes\n[  5]   1.00-2.00   sec   628 KBytes  5.15 Mbits/sec   96   10.5 KBytes\n[  5]   2.00-3.00   sec   502 KBytes  4.12 Mbits/sec   84   7.85 KBytes\n[  5]   3.00-4.00   sec   649 KBytes  5.32 Mbits/sec   83   10.5 KBytes\n[  5]   4.00-5.00   sec   643 KBytes  5.26 Mbits/sec   84   3.93 KBytes\n[  5]   5.00-6.00   sec   529 KBytes  4.33 Mbits/sec   73   5.23 KBytes\n[  5]   6.00-7.00   sec   628 KBytes  5.15 Mbits/sec   92   20.9 KBytes\n[  5]   7.00-8.00   sec   534 KBytes  4.37 Mbits/sec   82   18.3 KBytes\n[  5]   8.00-9.00   sec   667 KBytes  5.47 Mbits/sec  110   7.85 KBytes\n[  5]   9.00-10.00  sec   635 KBytes  5.20 Mbits/sec   90   11.8 KBytes\n[  5]  10.00-10.02  sec  0.00 Bytes  0.00 bits/sec    0   11.8 KBytes\n- - - - - - - - - - - - - - - - - - - - - - - - -\n[ ID] Interval           Transfer     Bandwidth       Retr\n[  5]   0.00-10.02  sec  6.61 MBytes  5.53 Mbits/sec  933             sender\n[  5]   0.00-10.02  sec  6.41 MBytes  5.36 Mbits/sec                  receiver\n-----------------------------------------------------------\n\nWe can find out that during first second of the test the bw limit\nis exceeded, but after that the traffic is shaped.\n\nIn our case when we run the tempest QoS test the avg bytes per second\nmeasured value that we compare with bw limit is impacted.\n\nCloses-Bug: 1866039\n\nChange-Id: I0964464e709baf9958548384933bd000fdee979b\n'}]",9,711048,41b8019c7b4b3921a077a032463b9d8c74957b4b,27,6,6,24791,,,0,"QoS - Change the way we measure bw limits

This patch introduces new way of fetching the data.
Instead creating the file, it reads /dev/zero.
/dev/zero is always very fast, so we also break the
previous hard disk limitations.

The test time is limited to 5 seconds. After that we
calculate avg bytes per second value and compare it
to expected one.

Sometimes it is visible that first kilobytes of the
test file are downloaded a little bit faster than the
actual bw limit claims, especially while testing OVN
as a backend.
When it happens the avg bytes per second value that is
measured in the test could be higher than required limit.

It is pretty easy to show the case while testing QoS with iperf3:

Accepted connection from 172.24.5.1, port 59690
[  5] local 10.1.0.35 port 5201 connected to 172.24.5.1 port 59692
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
[  5]   0.00-1.00   sec  1.32 MBytes  11.0 Mbits/sec  139   2.62 KBytes
[  5]   1.00-2.00   sec   628 KBytes  5.15 Mbits/sec   96   10.5 KBytes
[  5]   2.00-3.00   sec   502 KBytes  4.12 Mbits/sec   84   7.85 KBytes
[  5]   3.00-4.00   sec   649 KBytes  5.32 Mbits/sec   83   10.5 KBytes
[  5]   4.00-5.00   sec   643 KBytes  5.26 Mbits/sec   84   3.93 KBytes
[  5]   5.00-6.00   sec   529 KBytes  4.33 Mbits/sec   73   5.23 KBytes
[  5]   6.00-7.00   sec   628 KBytes  5.15 Mbits/sec   92   20.9 KBytes
[  5]   7.00-8.00   sec   534 KBytes  4.37 Mbits/sec   82   18.3 KBytes
[  5]   8.00-9.00   sec   667 KBytes  5.47 Mbits/sec  110   7.85 KBytes
[  5]   9.00-10.00  sec   635 KBytes  5.20 Mbits/sec   90   11.8 KBytes
[  5]  10.00-10.02  sec  0.00 Bytes  0.00 bits/sec    0   11.8 KBytes
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Retr
[  5]   0.00-10.02  sec  6.61 MBytes  5.53 Mbits/sec  933             sender
[  5]   0.00-10.02  sec  6.41 MBytes  5.36 Mbits/sec                  receiver
-----------------------------------------------------------

We can find out that during first second of the test the bw limit
is exceeded, but after that the traffic is shaped.

In our case when we run the tempest QoS test the avg bytes per second
measured value that we compare with bw limit is impacted.

Closes-Bug: 1866039

Change-Id: I0964464e709baf9958548384933bd000fdee979b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/48/711048/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_qos.py'],1,a7453866e85a1ad108dcb2a7867ea9482382b958,bug/1866039," ""bytes_per_second = %(bytes_per_second)d, "" ""expected_bw = %(expected_bw)d"", 'bytes_per_second': bytes_per_second, 'expected_bw': expected_bw})"," ""bytes_per_second = %(bytes_per_second)d"", 'bytes_per_second': bytes_per_second})",4,2
openstack%2Ftripleo-validations~master~I100001fd0615cb55cbdbabbf0c6aa41b1729569c,openstack/tripleo-validations,master,I100001fd0615cb55cbdbabbf0c6aa41b1729569c,Use unittest.mock instead of third party mock,MERGED,2020-03-13 16:30:06.000000000,2020-03-16 13:24:25.000000000,2020-03-16 13:24:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 16:30:06.000000000', 'files': ['lower-constraints.txt', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/adedd2f03bece2f4c54793a63b94edec7341d2b0', 'message': 'Use unittest.mock instead of third party mock\n\nNow that OpenStack has moved to py36 and later runtimes, we no longer\nneed to use the third party mock library and can use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I100001fd0615cb55cbdbabbf0c6aa41b1729569c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713018,adedd2f03bece2f4c54793a63b94edec7341d2b0,7,3,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that OpenStack has moved to py36 and later runtimes, we no longer
need to use the third party mock library and can use the standard
library unittest.mock instead.

Change-Id: I100001fd0615cb55cbdbabbf0c6aa41b1729569c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/713018/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py', 'molecule-requirements.txt']",3,adedd2f03bece2f4c54793a63b94edec7341d2b0,unittest.mock,,mock,1,4
openstack%2Ftripleo-common~master~Ibcb3e17e51d7ee9562c28145d17932e398aff6e3,openstack/tripleo-common,master,Ibcb3e17e51d7ee9562c28145d17932e398aff6e3,Remove tripleo.skydive_ansible.v1 workbook,MERGED,2020-03-04 03:00:08.000000000,2020-03-16 13:15:22.000000000,2020-03-06 17:57:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 03:00:08.000000000', 'files': ['workbooks/skydive-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0fb6168a08e649714f9543019b6c06086ed6f38e', 'message': ""Remove tripleo.skydive_ansible.v1 workbook\n\nIt's long been moved to ansible tasks with change\nI9b9104ab3e8631addbca4d008d9a1d868e1c20fb.\n\nChange-Id: Ibcb3e17e51d7ee9562c28145d17932e398aff6e3\n""}]",0,711153,0fb6168a08e649714f9543019b6c06086ed6f38e,11,5,1,8833,,,0,"Remove tripleo.skydive_ansible.v1 workbook

It's long been moved to ansible tasks with change
I9b9104ab3e8631addbca4d008d9a1d868e1c20fb.

Change-Id: Ibcb3e17e51d7ee9562c28145d17932e398aff6e3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/711153/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/skydive-ansible.yaml'],1,0fb6168a08e649714f9543019b6c06086ed6f38e,mistral_to_ansible,,"--- version: '2.0' name: tripleo.skydive_ansible.v1 description: TripleO manages Skydive with skydive-ansible workflows: skydive_install: # allows for additional extra_vars via workflow input input: - ansible_playbook_verbosity: 0 - ansible_extra_env_variables: ANSIBLE_ROLES_PATH: /usr/share/skydive-ansible/roles/ ANSIBLE_RETRY_FILES_ENABLED: 'False' ANSIBLE_LOG_PATH: /var/log/mistral/skydive-install-workflow.log ANSIBLE_HOST_KEY_CHECKING: 'False' - skydive_ansible_extra_vars: {} - skydive_ansible_playbook: /usr/share/skydive-ansible/playbook.yml.sample tags: - tripleo-common-managed tasks: set_blacklisted_ips: publish: blacklisted_ips: <% env().get('blacklisted_ip_addresses', []) %> on-success: set_ip_lists set_ip_lists: publish: agent_ips: <% let(root => $) -> env().get('service_ips', {}).get('skydive_agent_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> analyzer_ips: <% let(root => $) -> env().get('service_ips', {}).get('skydive_analyzer_ctlplane_node_ips', []).where(not ($ in $root.blacklisted_ips)) %> on-success: enable_ssh_admin enable_ssh_admin: workflow: tripleo.access.v1.enable_ssh_admin input: ssh_servers: <% ($.agent_ips + $.analyzer_ips).toSet() %> on-success: get_private_key get_private_key: action: tripleo.validations.get_privkey publish: private_key: <% task().result %> on-success: set_fork_count set_fork_count: publish: # unique list of all IPs: make each list a set, take unions and count fork_count: <% min($.agent_ips.toSet().union($.analyzer_ips.toSet()).count(), 100) %> # don't use >100 forks on-success: set_role_vars set_role_vars: publish: # NOTE(sbaubeau): collect role settings from all tht roles agent_vars: <% env().get('role_merged_configs', {}).values().select($.get('skydive_agent_ansible_vars', {})).aggregate($1 + $2) %> analyzer_vars: <% env().get('role_merged_configs', {}).values().select($.get('skydive_analyzer_ansible_vars', {})).aggregate($1 + $2) %> on-success: build_extra_vars build_extra_vars: publish: # NOTE(sbaubeau): merge vars from all ansible roles extra_vars: <% $.agent_vars + $.analyzer_vars + $.skydive_ansible_extra_vars %> on-success: skydive_install skydive_install: action: tripleo.ansible-playbook input: inventory: agents: hosts: <% $.agent_ips.toDict($, {}) %> analyzers: hosts: <% $.analyzer_ips.toDict($, {}) %> playbook: <% $.skydive_ansible_playbook %> remote_user: tripleo-admin become: true become_user: root verbosity: <% $.ansible_playbook_verbosity %> forks: <% $.fork_count %> ssh_private_key: <% $.private_key %> extra_env_variables: <% $.ansible_extra_env_variables %> extra_vars: <% $.extra_vars %> execution_id: <% execution().id %> publish: output: <% task().result %> ",0,74
openstack%2Fkolla~master~I4e5face2d8591db7f54738fe54702e63bc28eea8,openstack/kolla,master,I4e5face2d8591db7f54738fe54702e63bc28eea8,"Do not rebuild existing images, but allow the children to be built",ABANDONED,2020-01-28 10:49:24.000000000,2020-03-16 13:00:01.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-01-28 10:49:24.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f739dfa3ad2c7302b7fd9bc3e1d91f262845c47', 'message': 'Do not rebuild existing images, but allow the children to be built\n\nWhen using --skip-existing, only parent images are currently checked.\n\nE.g. if openvswitch is to be built it is checked if base exists. If base\nexists it will be skipped. If openvswitch-base already exists it will be\nbuilt anyway.\n\nWith this change, existing images are really not rebuilt. Builds by children\nof the skipped images are still triggered.\n\nChange-Id: I4e5face2d8591db7f54738fe54702e63bc28eea8\n'}]",1,704531,9f739dfa3ad2c7302b7fd9bc3e1d91f262845c47,15,4,1,167,,,0,"Do not rebuild existing images, but allow the children to be built

When using --skip-existing, only parent images are currently checked.

E.g. if openvswitch is to be built it is checked if base exists. If base
exists it will be skipped. If openvswitch-base already exists it will be
built anyway.

With this change, existing images are really not rebuilt. Builds by children
of the skipped images are still triggered.

Change-Id: I4e5face2d8591db7f54738fe54702e63bc28eea8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/704531/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,9f739dfa3ad2c7302b7fd9bc3e1d91f262845c47,do-not-build-existing-images," if self.conf.skip_existing and image.in_docker_cache(): image.status = STATUS_BUILT self.logger.info('Skipping %s, it already exists' % image.name) return ",,5,0
openstack%2Fcharm-watcher-dashboard~master~I0a44436c4d292aaaa7ce37a3792c205056b37f17,openstack/charm-watcher-dashboard,master,I0a44436c4d292aaaa7ce37a3792c205056b37f17,Basic functional test for Bionic Ussuri and Docs changes,MERGED,2020-02-05 11:26:05.000000000,2020-03-16 12:58:56.000000000,2020-03-16 12:58:56.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2020-02-05 11:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/707df009671ef6d6f63f9f8f8c69dd0c43768386', 'message': 'Change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher-dashboard.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2020-02-06 09:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/37d30b0d762436ef7cbf45bdbd500a8b6bd5d106', 'message': 'Change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher-dashboard.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2020-02-10 09:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/42b4be1989d928f851bae7ddf60139354b98aac0', 'message': 'Add config and change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher-dashboard. It also adds the\nappropriate repo configuration and conforms to the new removed\npackages mechanism.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2020-02-10 09:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/8a2da3ea954fd27839b2c45361661fc9815a0378', 'message': 'Basic functional test for bionic ussuri\n\nThis patch adds a bare minimum bundle.yaml for deploying\nwatcher-dashboard charm and running a noop basic test.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 5, 'created': '2020-03-12 18:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/74b513f4452c3a148cdaab37f24bf0b5a019a66e', 'message': 'Basic functional test for bionic ussuri\n\nThis patch adds a bare minimum bundle.yaml for deploying\nwatcher-dashboard charm and running a noop basic test.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 6, 'created': '2020-03-12 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/07f74ba94a87e1635dee1e950a3476d70756791b', 'message': 'Basic functional test for bionic ussuri\n\nThis patch adds a bare minimum bundle.yaml for deploying\nwatcher-dashboard charm and running a noop basic test.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 7, 'created': '2020-03-16 12:00:57.000000000', 'files': ['src/README.md', '.gitreview', 'src/reactive/watcher_dashboard_handlers.py', '.zuul.yaml', 'src/metadata.yaml', 'unit_tests/test_lib_charm_openstack_watcher_dashboard.py', 'src/tests/tests.yaml', 'src/HACKING.md', 'unit_tests/test_watcher_dashboard_handlers.py', 'src/layer.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/328a9202cf019bab61a970b02ec04604edb72ac3', 'message': 'Basic functional test for Bionic Ussuri and Docs changes\n\nThis patch adds a bare minimum bundle.yaml for deploying\nwatcher-dashboard charm and running a noop basic test. In addition, it\nchanges the initial information to point to upstream after the official\nrelease of charm-watcher-dashboard. It also adds the appropriate repo\nconfiguration and conforms to the new removed packages mechanism.\n\nChange-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,705931,328a9202cf019bab61a970b02ec04604edb72ac3,34,7,7,28014,,,0,"Basic functional test for Bionic Ussuri and Docs changes

This patch adds a bare minimum bundle.yaml for deploying
watcher-dashboard charm and running a noop basic test. In addition, it
changes the initial information to point to upstream after the official
release of charm-watcher-dashboard. It also adds the appropriate repo
configuration and conforms to the new removed packages mechanism.

Change-Id: I0a44436c4d292aaaa7ce37a3792c205056b37f17
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-watcher-dashboard refs/changes/31/705931/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/metadata.yaml', 'src/HACKING.md', 'src/layer.yaml']",4,707df009671ef6d6f63f9f8f8c69dd0c43768386,,repo: https://github.com/openstack/charm-watcher-dashboard,repo: https://github.com/grnet/charm-watcher-dashboard,19,9
openstack%2Fmagnum~master~Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,openstack/magnum,master,Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f,Upgrade pause image to version 3.1,MERGED,2020-02-11 06:59:15.000000000,2020-03-16 12:42:47.000000000,2020-02-11 09:30:11.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-11 06:59:15.000000000', 'files': ['doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0b5d029179a26f7f166a889e86d5d587eca43c5e', 'message': 'Upgrade pause image to version 3.1\n\nk8s.gcr.io/pause image repository support mutilarch on version 3.1.\nPulling other non-amd64 arch image, no need to go to other arch specific\nrepository ,like pause-arm64. It is easy to support mutilarch, like\namd64, arm64, ppc64le, if use version 3.1.\nSee 3.1 manifest:\nhttps://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info\n\nChange-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f\nTask: 37841\nStory: 2007026\n'}]",0,707069,0b5d029179a26f7f166a889e86d5d587eca43c5e,9,4,1,22997,,,0,"Upgrade pause image to version 3.1

k8s.gcr.io/pause image repository support mutilarch on version 3.1.
Pulling other non-amd64 arch image, no need to go to other arch specific
repository ,like pause-arm64. It is easy to support mutilarch, like
amd64, arm64, ppc64le, if use version 3.1.
See 3.1 manifest:
https://console.cloud.google.com/gcr/images/google-containers/GLOBAL/pause@sha256:f78411e19d84a252e53bff71a4407a5686c46983a2c2eeed83929b888179acea/details?tab=info

Change-Id: Id4a5dfc3bc3c9ce909c7b0a3709506a250b2851f
Task: 37841
Story: 2007026
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/707069/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",3,0b5d029179a26f7f166a889e86d5d587eca43c5e,story/2007026/task/37841,"KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.1""","KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.0""",3,3
openstack%2Frpm-packaging~stable%2Ftrain~I69e41047789de7df3b1f5c2ca1e1d19486d33305,openstack/rpm-packaging,stable/train,I69e41047789de7df3b1f5c2ca1e1d19486d33305,pbr: convert to python3,MERGED,2020-03-16 12:14:12.000000000,2020-03-16 12:39:04.000000000,2020-03-16 12:39:04.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 12:14:12.000000000', 'files': ['openstack/pbr/pbr.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b16a25e82c7cf652c717d09ca3422a0fdd491af', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\n(cherry picked from commit 982c32737cde387d8c15910382964c76527d3718)\n'}]",0,713206,7b16a25e82c7cf652c717d09ca3422a0fdd491af,8,4,1,13294,,,0,"pbr: convert to python3

Change-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305
(cherry picked from commit 982c32737cde387d8c15910382964c76527d3718)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/06/713206/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pbr/pbr.spec.j2'],1,7b16a25e82c7cf652c717d09ca3422a0fdd491af,remove-python2-stable/train,"BuildRequires: {{ py3('setuptools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Python Build Reasonableness Requires: {{ py3('setuptools') }} %if 0%{?rdo} Obsoletes: python-pbr < %{version}-%{release} Obsoletes: python2-pbr < %{version}-%{release} %endif %description -n {{ py2name(py_versions='py3') }} PBR is a library that injects some useful and sensible default behaviors into your setuptools run. It started off life as the chunks of code that were copied between all of the OpenStack projects. Around the time that OpenStack hit 18 different projects each with at least 3 active branches, it seems like a good time to make that code into a proper re-usable library. %py3_build%py3_install %files -n {{ py2name(py_versions='py3') }} %{_bindir}/pbr%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*-py?.?.egg-info","BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('setuptools') }}%ifpython2 %if 0%{?rdo} Provides: python2-pbr = %{version}-%{release} Obsoletes: python2-pbr < %{version}-%{release} %endif %endif %python_subpackages%python_build%python_install %python_clone -a %{buildroot}%{_bindir}/pbr %post %python_install_alternative pbr %postun %python_uninstall_alternative pbr %files %{python_files} %python_alternative %{_bindir}/pbr%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*-py?.?.egg-info",22,22
openstack%2Frenderspec~master~If2bc9ee174fb65b81de012cb911fc8c2bd260d27,openstack/renderspec,master,If2bc9ee174fb65b81de012cb911fc8c2bd260d27,Remove usage of platform.linux_distribution,MERGED,2020-03-14 15:40:38.000000000,2020-03-16 12:30:05.000000000,2020-03-16 12:28:13.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 15:40:38.000000000', 'files': ['renderspec/__init__.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/1022a8cca5057d491e37f0ee1e592952ab7b398a', 'message': ""Remove usage of platform.linux_distribution\n\nThis function was deprecated and is removed in Python 3.8.\n\nWe can't remove all of the code as the unit tests are relying\non being able to mock this function.\n\nChange-Id: If2bc9ee174fb65b81de012cb911fc8c2bd260d27\n""}]",0,713097,1022a8cca5057d491e37f0ee1e592952ab7b398a,8,2,1,6593,,,0,"Remove usage of platform.linux_distribution

This function was deprecated and is removed in Python 3.8.

We can't remove all of the code as the unit tests are relying
on being able to mock this function.

Change-Id: If2bc9ee174fb65b81de012cb911fc8c2bd260d27
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/97/713097/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/__init__.py', 'doc/source/usage.rst']",2,1022a8cca5057d491e37f0ee1e592952ab7b398a,, {% set source = url_pypi() %} Source0: {{ source }} Source0: https://files.pythonhosted.org/packages/source/o/%{sname}/%{sname}-1.2.3rc1.tar.gz, Source0: https://pypi.io/packages/source/o/%{sname}/%{sname}-{{ upstream_version }}.tar.gz Source0: https://pypi.io/packages/source/o/%{sname}/%{sname}-1.2.3rc1.tar.gz,8,3
openstack%2Frpm-packaging~stable%2Ftrain~I18f9dd894417ade8ac50755b7cb2958352cade0f,openstack/rpm-packaging,stable/train,I18f9dd894417ade8ac50755b7cb2958352cade0f,renderspec: Fix -doc dependency on the base package,MERGED,2020-03-16 11:29:14.000000000,2020-03-16 12:28:47.000000000,2020-03-16 12:28:47.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 11:29:14.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/149c30b68f8ca81caab8b374063a1d4333bec43c', 'message': 'renderspec: Fix -doc dependency on the base package\n\nIt needs to depend on python3-renderspec, not python-renderspec.\n\nChange-Id: I18f9dd894417ade8ac50755b7cb2958352cade0f\n(cherry picked from commit 1fd3fda7c66b120219b42db4b5d181e25898d348)\n'}]",0,713194,149c30b68f8ca81caab8b374063a1d4333bec43c,10,5,1,13294,,,0,"renderspec: Fix -doc dependency on the base package

It needs to depend on python3-renderspec, not python-renderspec.

Change-Id: I18f9dd894417ade8ac50755b7cb2958352cade0f
(cherry picked from commit 1fd3fda7c66b120219b42db4b5d181e25898d348)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/713194/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,149c30b68f8ca81caab8b374063a1d4333bec43c,remove-python2-stable/train,Requires: {{ py2name(py_versions='py3') }} = %{version},Requires: %{name} = %{version},1,1
openstack%2Frpm-packaging~stable%2Ftrain~I8aeff9e6ea1f56917687dc8544774b8cb3585b3c,openstack/rpm-packaging,stable/train,I8aeff9e6ea1f56917687dc8544774b8cb3585b3c,python-vitrageclient: do not run unit tests on RDO,MERGED,2020-03-16 11:46:02.000000000,2020-03-16 12:27:45.000000000,2020-03-16 12:27:45.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 11:46:02.000000000', 'files': ['openstack/python-vitrageclient/python-vitrageclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dad649eaba1204e2b31f691bad21c532a8746ed6', 'message': ""python-vitrageclient: do not run unit tests on RDO\n\nOne of the unit tests [1] is failing in RDO. Let's skip unit tests\nfor now, until we can find a better fix.\n\n[1] - tests.cli.test_topology_show.TopologyShowTest.test_dot_emitter\n\nChange-Id: I8aeff9e6ea1f56917687dc8544774b8cb3585b3c\n(cherry picked from commit 034ad02b29884ad26598a50c1a4ebab70ca15021)\n""}]",0,713200,dad649eaba1204e2b31f691bad21c532a8746ed6,8,4,1,13294,,,0,"python-vitrageclient: do not run unit tests on RDO

One of the unit tests [1] is failing in RDO. Let's skip unit tests
for now, until we can find a better fix.

[1] - tests.cli.test_topology_show.TopologyShowTest.test_dot_emitter

Change-Id: I8aeff9e6ea1f56917687dc8544774b8cb3585b3c
(cherry picked from commit 034ad02b29884ad26598a50c1a4ebab70ca15021)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/713200/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-vitrageclient/python-vitrageclient.spec.j2'],1,dad649eaba1204e2b31f691bad21c532a8746ed6,remove-python2-stable/train,%if 0%{?suse_version} %define with_tests 1 %else # tests.cli.test_topology_show.TopologyShowTest.test_dot_emitter unit test fail because of # elements order in a list. Until we find proper fix let's ignore results. %define with_tests 0 %endif%if 0%{?with_tests}%endif,,9,2
openstack%2Frpm-packaging~stable%2Ftrain~If96046d6295667358027c9f25d3d354991e6453c,openstack/rpm-packaging,stable/train,If96046d6295667358027c9f25d3d354991e6453c,Remove explicit python-devel requirement from oslo packages,MERGED,2020-03-16 11:40:39.000000000,2020-03-16 12:27:44.000000000,2020-03-16 12:27:44.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 11:40:39.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/95aff041a5b5844b4a952fd89b3e4a9cccf52da8', 'message': 'Remove explicit python-devel requirement from oslo packages\n\nWe had two oslo packages with an explicit requirement on python-devel,\nremoving them.\n\nChange-Id: If96046d6295667358027c9f25d3d354991e6453c\n(cherry picked from commit 1e66c5aeca13c28158f179e9c909ea39fb2e86f6)\n'}]",0,713197,95aff041a5b5844b4a952fd89b3e4a9cccf52da8,8,4,1,13294,,,0,"Remove explicit python-devel requirement from oslo packages

We had two oslo packages with an explicit requirement on python-devel,
removing them.

Change-Id: If96046d6295667358027c9f25d3d354991e6453c
(cherry picked from commit 1e66c5aeca13c28158f179e9c909ea39fb2e86f6)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/713197/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2']",2,95aff041a5b5844b4a952fd89b3e4a9cccf52da8,remove-python2-stable/train,,BuildRequires: python-devel,0,2
openstack%2Fopenstack-ansible~master~I2b7fb155cde2e749cbf442b71d386a4c07fbbb52,openstack/openstack-ansible,master,I2b7fb155cde2e749cbf442b71d386a4c07fbbb52,ci: move opensuse jobs to experimental,ABANDONED,2020-02-24 12:43:36.000000000,2020-03-16 12:26:42.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 12:43:36.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f33348d6f7c7bda08fa0019924161366f6309d9', 'message': ""ci: move opensuse jobs to experimental\n\nWe don't have a maintainer and the jobs are taking up resources\nwith no one really looking over them.  This also drops the periodic jobs\nwhich no one is paying attention to.\n\nChange-Id: I2b7fb155cde2e749cbf442b71d386a4c07fbbb52\n""}]",0,709457,8f33348d6f7c7bda08fa0019924161366f6309d9,7,3,1,1004,,,0,"ci: move opensuse jobs to experimental

We don't have a maintainer and the jobs are taking up resources
with no one really looking over them.  This also drops the periodic jobs
which no one is paying attention to.

Change-Id: I2b7fb155cde2e749cbf442b71d386a4c07fbbb52
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/709457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,8f33348d6f7c7bda08fa0019924161366f6309d9,osa/make-gates-great-again, experimental: experimental:, periodic: jobs: - openstack-ansible-deploy-aio_lxc-ubuntu-bionic - openstack-ansible-upgrade-aio_lxc-ubuntu-bionic - openstack-ansible-deploy-aio_metal-opensuse-15 - openstack-ansible-deploy-aio_metal-opensuse-15 periodic: - openstack-ansible-deploy-aio_distro_metal-opensuse-15: voting: false periodic: periodic: jobs: - openstack-ansible-deploy-aio_ceph-ubuntu-bionic - openstack-ansible-upgrade-aio_ceph-ubuntu-bionic,2,14
openstack%2Frpm-packaging~stable%2Ftrain~Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29,openstack/rpm-packaging,stable/train,Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29,python-vitrageclient: convert to python3,MERGED,2020-03-16 11:43:56.000000000,2020-03-16 12:25:14.000000000,2020-03-16 12:25:14.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 11:43:56.000000000', 'files': ['openstack/python-vitrageclient/python-vitrageclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e23f71ca16a0744fc3c48de1c29afe873a3d8f0e', 'message': 'python-vitrageclient: convert to python3\n\nChange-Id: Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29\n(cherry picked from commit a802cc6ee341767d0bd9993b8b560a454b13c484)\n'}]",0,713199,e23f71ca16a0744fc3c48de1c29afe873a3d8f0e,9,4,1,13294,,,0,"python-vitrageclient: convert to python3

Change-Id: Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29
(cherry picked from commit a802cc6ee341767d0bd9993b8b560a454b13c484)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/713199/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-vitrageclient/python-vitrageclient.spec.j2'],1,e23f71ca16a0744fc3c48de1c29afe873a3d8f0e,remove-python2-stable/train,BuildRequires: {{ py3('cliff') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('networkx') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pydot') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-vitrageclient Summary: Python API and CLI for OpenStack Vitrage Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('cliff') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('networkx') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('pydot') }} %description -n python3-vitrageclient Client library for Vitrage built on the Vitrage API. It provides a Python API (the vitrageclient module) and a command-line tool (vitrage). This package contains the Python 3.x module. %{py3_build}%{py3_install}export PYTHON=python3 python3 setup.py testr %files -n python3-vitrageclient%{python3_sitelib}/vitrageclient %{python3_sitelib}/*.egg-info %{_sysconfdir}/bash_completion.d/vitrage.bash_completion %{_bindir}/vitrage,"# NOTE: RDO does not have the required version of networkx for python2 %if ! 0%{?suse_version} %define skip_python2 1 %endifBuildRequires: {{ py2pkg('cliff', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pydot', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testrepository', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('networkx') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pydot') }}%if 0%{?suse_version} BuildRequires: {{ py2pkg('networkx', py_versions=['py2', 'py3']) }} Requires(post): update-alternatives Requires(postun): update-alternatives %else BuildRequires: {{ py2pkg('networkx', py_versions=['py3']) }} # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install}%python_clone -a %{buildroot}%{_sysconfdir}/bash_completion.d/vitrage.bash_completion %python_clone -a %{buildroot}%{_bindir}/vitrage %post %python_install_alternative vitrage %postun %python_uninstall_alternative vitrage %{python_expand rm -rf .testrepositoryexport PYTHON=$python $python setup.py testr } %files %{python_files}%{python_sitelib}/vitrageclient %{python_sitelib}/*.egg-info %python_alternative %{_sysconfdir}/bash_completion.d/vitrage.bash_completion %python_alternative %{_bindir}/vitrage",40,55
openstack%2Fmagnum~master~I405e331eb1f9f987d3fbc301a09ab25bcb96926d,openstack/magnum,master,I405e331eb1f9f987d3fbc301a09ab25bcb96926d,atomic-podman: Set log imit to 50m,MERGED,2020-03-10 18:35:47.000000000,2020-03-16 12:23:34.000000000,2020-03-16 10:02:30.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-10 18:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c43d5f780661620632270dfe05ded53281aca653', 'message': 'atomic-podman: Set log imit to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39003\nChange-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-03-11 14:18:12.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2d2bd5d71035d8b62012f4e9e74f2668a4bf0692', 'message': 'atomic-podman: Set log imit to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39003\nChange-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,712153,2d2bd5d71035d8b62012f4e9e74f2668a4bf0692,12,4,2,20498,,,0,"atomic-podman: Set log imit to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39003
Change-Id: I405e331eb1f9f987d3fbc301a09ab25bcb96926d
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/53/712153/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'],1,c43d5f780661620632270dfe05ded53281aca653,logging, cat > /etc/containers/libpod.conf <<EOF # Maximum size of log files (in bytes) # -1 is unlimited # 50m max_log_size = 52428800 EOF,,6,0
openstack%2Fmagnum~master~I155b7146b7175d95b219897b84f4580091e5975e,openstack/magnum,master,I155b7146b7175d95b219897b84f4580091e5975e,fcos-podman: Set max size for logging to 50m,MERGED,2020-03-10 17:09:21.000000000,2020-03-16 12:23:03.000000000,2020-03-16 10:02:26.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-10 17:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7e1bac8da0b1a7a453562fe20f10fef7ee824cdc', 'message': 'fcos-podman: Set max size for logging to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39001\n\nChange-Id: I155b7146b7175d95b219897b84f4580091e5975e\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-03-10 18:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/70779f43b896a6ead6f7a08dcac9b2f19b4af7bd', 'message': 'fcos-podman: Set max size for logging to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39001\n\nChange-Id: I155b7146b7175d95b219897b84f4580091e5975e\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2020-03-11 14:18:12.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9d543960d2827ede5be4f851b1cb62c986981f32', 'message': 'fcos-podman: Set max size for logging to 50m\n\nBy default podman containers can write unlimited bytes\nof log and evenrually fill up the disk nodes.\n\nSet the max size per containers to 50MB.\n\nstory: 2007402\ntask: 39001\n\nChange-Id: I155b7146b7175d95b219897b84f4580091e5975e\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",3,712127,9d543960d2827ede5be4f851b1cb62c986981f32,18,4,3,20498,,,0,"fcos-podman: Set max size for logging to 50m

By default podman containers can write unlimited bytes
of log and evenrually fill up the disk nodes.

Set the max size per containers to 50MB.

story: 2007402
task: 39001

Change-Id: I155b7146b7175d95b219897b84f4580091e5975e
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/712127/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",2,7e1bac8da0b1a7a453562fe20f10fef7ee824cdc,logging,variant: fcos version: 1.0.0 storage: files: - path: /etc/containers/libpod.conf overwrite: true contents: inline: | # Maximum size of log files (in bytes) # -1 is unlimited # 50m max_log_size = 52428800 ,,22,0
openstack%2Fmagnum~stable%2Ftrain~I5cb78aa625c926e101424c04573002d05ac82a59,openstack/magnum,stable/train,I5cb78aa625c926e101424c04573002d05ac82a59,Add fcct config for coreos user_data,MERGED,2020-03-16 09:28:42.000000000,2020-03-16 12:21:03.000000000,2020-03-16 12:19:29.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-16 09:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/22af1968e87c5ccb290f52a43ebc04ee661a5b4f', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2020-03-16 10:12:49.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/17c6034e694b3707c6d40d679cfff7ddd45ba371', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n\n(cherry picked from commit 78435e4ff82470a37044ce45908692d78d140b63)\n'}]",0,713180,17c6034e694b3707c6d40d679cfff7ddd45ba371,13,3,2,28022,,,0,"Add fcct config for coreos user_data

Until now we had only the output of the Fedora
CoreOS Configuration Transpiler. Add a yaml
that can transpile it to an ignition file.

The current ignition file was generate with
version v0.4.0:
podman run --rm -v ./fcct-config.yaml:/config.fcc:z \
quay.io/coreos/fcct:v0.4.0 \
--pretty --strict --input /config.fcc > ./user_data.json

story: 2005201
task: 39027

Change-Id: I5cb78aa625c926e101424c04573002d05ac82a59
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>

(cherry picked from commit 78435e4ff82470a37044ce45908692d78d140b63)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/80/713180/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",4,22af1968e87c5ccb290f52a43ebc04ee661a5b4f,logging-stable/train,"# Fedora CoreOS Configuration # # To generate user_data.json you need to use [0]. # For detailed instructions, please refer to the upstream documentation [1]. # # You can use podman or docker to generate the ignition formatted json: # podman run --rm \ # -v ./fcct-config.yaml:/config.fcc:z \ # quay.io/coreos/fcct:release \ # --pretty --strict --input /config.fcc > ./user_data.json # # [0] https://github.com/coreos/fcct # [1] https://github.com/coreos/fedora-coreos-docs/blob/master/modules/ROOT/pages/producing-ign.adoc variant: fcos version: 1.0.0 passwd: users: - name: core ssh_authorized_keys: - ""__SSH_KEY_VALUE__"" storage: directories: - path: /var/lib/cloud/data # 493 (decimal) == 755 (octal) mode: 493 user: name: root group: name: root - path: /var/lib/heat-cfntools # 493 (decimal) == 755 (octal) mode: 493 user: name: root group: name: root files: - path: /etc/hostname # 420 (decimal) == 644 (octal) mode: 420 group: name: root user: name: root contents: inline: | __HOSTNAME__ - path: /etc/pki/ca-trust/source/anchors/openstack-ca.pem # 420 (decimal) == 644 (octal) mode: 420 user: name: root group: name: root contents: inline: | __OPENSTACK_CA__ - path: /root/configure-agent-env.sh # 448 (decimal) == 700 (octal) mode: 448 user: name: root group: name: root contents: inline: | #!/bin/bash set -x set -e set +u until [ -f /etc/pki/ca-trust/source/anchors/openstack-ca.pem ] do echo ""waiting for /etc/pki/ca-trust/source/anchors/openstack-ca.pem"" sleep 3s done /usr/bin/update-ca-trust HTTP_PROXY=""__HTTP_PROXY__"" HTTPS_PROXY=""__HTTPS_PROXY__"" NO_PROXY=""__NO_PROXY__"" if [ -n ""${HTTP_PROXY}"" ]; then export HTTP_PROXY echo ""http_proxy=${HTTP_PROXY}"" >> /etc/environment fi if [ -n ""${HTTPS_PROXY}"" ]; then export HTTPS_PROXY echo ""https_proxy=${HTTPS_PROXY}"" >> /etc/environment fi if [ -n ""${NO_PROXY}"" ]; then export NO_PROXY echo ""no_proxy=${NO_PROXY}"" >> /etc/environment fi # Create a keypair for the heat-container-agent to # access the node over ssh. It is useful to operate # in host mount namespace and apply configuration. id mkdir -p /srv/magnum/.ssh chmod 0700 /srv/magnum/.ssh #touch /srv/magnum/.ssh/heat_agent_rsa ssh-keygen -q -t rsa -N '' -f /tmp/heat_agent_rsa mv /tmp/heat_agent_rsa /srv/magnum/.ssh/heat_agent_rsa mv /tmp/heat_agent_rsa.pub /srv/magnum/.ssh/heat_agent_rsa.pub chmod 0400 /srv/magnum/.ssh/heat_agent_rsa chmod 0400 /srv/magnum/.ssh/heat_agent_rsa.pub # Add the public to the host authorized_keys file. mkdir -p /root/.ssh chmod 0700 /root/.ssh cat /srv/magnum/.ssh/heat_agent_rsa.pub > /root/.ssh/authorized_keys # Add localost to know_hosts ssh-keyscan 127.0.0.1 > /srv/magnum/.ssh/known_hosts # ssh configguration file, to be specified with ssh -F cat > /srv/magnum/.ssh/config <<EOF Host localhost HostName 127.0.0.1 User root IdentityFile /srv/magnum/.ssh/heat_agent_rsa UserKnownHostsFile /srv/magnum/.ssh/known_hosts EOF sed -i '/^PermitRootLogin/ s/ .*/ without-password/' /etc/ssh/sshd_config # Security enhancement: Disable password authentication sed -i '/^PasswordAuthentication yes/ s/ yes/ no/' /etc/ssh/sshd_config systemctl restart sshd systemd: units: - name: configure-agent-env.service enabled: true contents: | [Unit] Description=Configure heat agent environment After=sshd.service [Service] User=root Group=root Type=simple ExecStart=/bin/bash /root/configure-agent-env.sh Restart=on-failure [Install] WantedBy=multi-user.target - name: heat-container-agent.service enabled: true contents: | [Unit] Description=Run heat-container-agent After=network-online.target configure-agent-env.service Wants=network-online.target [Service] EnvironmentFile=-/etc/environment ExecStartPre=mkdir -p /var/lib/heat-container-agent ExecStartPre=mkdir -p /var/run/heat-config ExecStartPre=mkdir -p /var/run/os-collect-config ExecStartPre=mkdir -p /opt/stack/os-config-refresh ExecStartPre=-mv /var/lib/os-collect-config/local-data /var/lib/cloud/data/cfn-init-data ExecStartPre=mkdir -p /srv/magnum ExecStartPre=-/bin/podman kill heat-container-agent ExecStartPre=-/bin/podman rm heat-container-agent ExecStartPre=-/bin/podman pull __CONTAINER_INFRA_PREFIX__heat-container-agent:__HEAT_CONTAINER_AGENT_TAG__ ExecStart=/bin/podman run \ --name heat-container-agent \ --privileged \ --net=host \ --volume /srv/magnum:/srv/magnum \ --volume /opt/stack/os-config-refresh:/opt/stack/os-config-refresh \ --volume /run/systemd:/run/systemd \ --volume /etc/:/etc/ \ --volume /var/lib:/var/lib \ --volume /var/run:/var/run \ --volume /var/log:/var/log \ --volume /tmp:/tmp \ --volume /dev:/dev \ --env REQUESTS_CA_BUNDLE=/etc/pki/tls/certs/ca-bundle.crt \ __CONTAINER_INFRA_PREFIX__heat-container-agent:__HEAT_CONTAINER_AGENT_TAG__ \ /usr/bin/start-heat-container-agent TimeoutStartSec=10min ExecStop=/bin/podman stop heat-container-agent [Install] WantedBy=multi-user.target ",,284,71
openstack%2Fneutron~master~I00b8cd364c869eabb6b1cfe1f7ed4eb8e5f22a87,openstack/neutron,master,I00b8cd364c869eabb6b1cfe1f7ed4eb8e5f22a87,Fix bulk port tag test_type_args_passed_to_extension(),MERGED,2020-03-06 14:24:08.000000000,2020-03-16 12:15:21.000000000,2020-03-16 12:13:01.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-06 14:24:08.000000000', 'files': ['neutron/tests/unit/plugins/ml2/extensions/test_tag_ports_during_bulk_creation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db26ded539a823e64a40171c586ea4acb8fef727', 'message': 'Fix bulk port tag test_type_args_passed_to_extension()\n\nIt was checking the call arguments incorrectly, which was\ncaught by unittest.mock but not by mock library.\n\nTrivialfix\n\nChange-Id: I00b8cd364c869eabb6b1cfe1f7ed4eb8e5f22a87\n'}]",0,711628,db26ded539a823e64a40171c586ea4acb8fef727,11,7,1,1131,,,0,"Fix bulk port tag test_type_args_passed_to_extension()

It was checking the call arguments incorrectly, which was
caught by unittest.mock but not by mock library.

Trivialfix

Change-Id: I00b8cd364c869eabb6b1cfe1f7ed4eb8e5f22a87
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/711628/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/extensions/test_tag_ports_during_bulk_creation.py'],1,db26ded539a823e64a40171c586ea4acb8fef727,fix-test_type_args_passed_to_extension," self.assertIsInstance(patched_method.call_args[0][1], self.assertIsInstance(patched_method.call_args[0][2],"," self.assertIsInstance(patched_method.call_args.args[1], self.assertIsInstance(patched_method.call_args.args[2],",2,2
openstack%2Frpm-packaging~master~I69e41047789de7df3b1f5c2ca1e1d19486d33305,openstack/rpm-packaging,master,I69e41047789de7df3b1f5c2ca1e1d19486d33305,pbr: convert to python3,MERGED,2020-02-11 11:34:52.000000000,2020-03-16 12:14:12.000000000,2020-02-20 08:33:50.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-11 11:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c7542fbb5a302a528301ac84a0170cea04e34376', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\n'}, {'number': 2, 'created': '2020-02-11 11:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bb7de9ee85de28e13119bb3dc6c87bfb4e7e33d1', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\n'}, {'number': 3, 'created': '2020-02-12 00:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/926adc6f32cd45532ffbbdd80a07ee154a9da77d', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\n'}, {'number': 4, 'created': '2020-02-19 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d7345d805d72b02bf0956adb15a9b41c3d09a170', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\nDepends-On: https://review.rdoproject.org/r/25044\n'}, {'number': 5, 'created': '2020-02-19 14:13:05.000000000', 'files': ['openstack/pbr/pbr.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/982c32737cde387d8c15910382964c76527d3718', 'message': 'pbr: convert to python3\n\nChange-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305\n'}]",0,707114,982c32737cde387d8c15910382964c76527d3718,41,7,5,13294,,,0,"pbr: convert to python3

Change-Id: I69e41047789de7df3b1f5c2ca1e1d19486d33305
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/707114/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pbr/pbr.spec.j2'],1,c7542fbb5a302a528301ac84a0170cea04e34376,remove-python2,"BuildRequires: {{ py3('setuptools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Python Build Reasonableness Requires: {{ py3('setuptools') }} %if 0%{?rdo} Obsoletes: python-pbr < %{version}-%{release} Obsoletes: python2-pbr < %{version}-%{release} %endif %description -n {{ py2name(py_versions='py3') }} PBR is a library that injects some useful and sensible default behaviors into your setuptools run. It started off life as the chunks of code that were copied between all of the OpenStack projects. Around the time that OpenStack hit 18 different projects each with at least 3 active branches, it seems like a good time to make that code into a proper re-usable library. %py3_build%py3_install %files -n {{ py2name(py_versions='py3') }} %{_bindir}/pbr%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*-py?.?.egg-info","BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('setuptools') }}%ifpython2 %if 0%{?rdo} Provides: python2-pbr = %{version}-%{release} Obsoletes: python2-pbr < %{version}-%{release} %endif %endif %python_subpackages%python_build%python_install %python_clone -a %{buildroot}%{_bindir}/pbr %post %python_install_alternative pbr %postun %python_uninstall_alternative pbr %files %{python_files} %python_alternative %{_bindir}/pbr%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*-py?.?.egg-info",23,22
openstack%2Frpm-packaging~master~I7de19da898f6962c40729bc908d2bc70f0267cfc,openstack/rpm-packaging,master,I7de19da898f6962c40729bc908d2bc70f0267cfc,oslo.policy: downgrade to 2.4.1,MERGED,2020-03-16 09:26:14.000000000,2020-03-16 12:13:05.000000000,2020-03-16 12:13:05.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-16 09:26:14.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b49f28f33dab0ae8a1b17268fd14edfc70c63a03', 'message': 'oslo.policy: downgrade to 2.4.1\n\nThe version 3.0.0 causes all sphinx-build jobs to fail with errors\nsimilar to this:\n\n    oslo_config.cfg.ArgsAlreadyParsedError: arguments already parsed: cannot register CLI option\n\nThats why the 3.0.0 release is currently blacklisted in global u-c\n\nChange-Id: I7de19da898f6962c40729bc908d2bc70f0267cfc\n'}]",0,713179,b49f28f33dab0ae8a1b17268fd14edfc70c63a03,8,4,1,6593,,,0,"oslo.policy: downgrade to 2.4.1

The version 3.0.0 causes all sphinx-build jobs to fail with errors
similar to this:

    oslo_config.cfg.ArgsAlreadyParsedError: arguments already parsed: cannot register CLI option

Thats why the 3.0.0 release is currently blacklisted in global u-c

Change-Id: I7de19da898f6962c40729bc908d2bc70f0267cfc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/713179/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,b49f28f33dab0ae8a1b17268fd14edfc70c63a03,,{% set upstream_version = upstream_version('2.4.1') %},{% set upstream_version = upstream_version('3.0.0') %},1,1
openstack%2Fneutron-tempest-plugin~master~I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8,openstack/neutron-tempest-plugin,master,I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8,Added description to test_sg_rules_quota_increased.,MERGED,2020-03-15 10:59:20.000000000,2020-03-16 12:13:00.000000000,2020-03-16 12:13:00.000000000,"[{'_account_id': 4727}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21302}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-03-15 10:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f1f1406090376314771aedb25a340bb27844b94b', 'message': 'Added descriptio to test_sg_rules_quota_increased.\n\nChange-Id: I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8\n'}, {'number': 2, 'created': '2020-03-15 11:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e16a151858ccc066e5aba04a5af959cfa00f8f1d', 'message': 'Added descriptio to test_sg_rules_quota_increased.\n\nChange-Id: I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8\n'}, {'number': 3, 'created': '2020-03-15 11:02:56.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/383be49198bfd372c61e6b7803e783f78e8dc0c9', 'message': 'Added description to test_sg_rules_quota_increased.\n\nChange-Id: I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8\n'}]",0,713131,383be49198bfd372c61e6b7803e783f78e8dc0c9,21,8,3,19118,,,0,"Added description to test_sg_rules_quota_increased.

Change-Id: I53d95093ab2c33371cf788ca1bceaa2bb40b8ec8
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/713131/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,f1f1406090376314771aedb25a340bb27844b94b,add_test_description," """"""Test security group rules quota increased. This test checks if it is possible to increase the SG rules Quota value and creates security group rules according to new quota value. """"""",,5,0
openstack%2Freleases~master~If615cad30ae4a3eb8e057b3e78db1672042d3b18,openstack/releases,master,If615cad30ae4a3eb8e057b3e78db1672042d3b18,Release OpenStack-Ansible Stein,MERGED,2020-03-14 12:50:55.000000000,2020-03-16 12:05:40.000000000,2020-03-16 12:05:40.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 12:50:55.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/054b0f59ba8dcf70f7bfdf0f7461ad425818886e', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: If615cad30ae4a3eb8e057b3e78db1672042d3b18\n'}]",0,713092,054b0f59ba8dcf70f7bfdf0f7461ad425818886e,8,3,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: If615cad30ae4a3eb8e057b3e78db1672042d3b18
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/713092/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,054b0f59ba8dcf70f7bfdf0f7461ad425818886e,release_osa, - version: 19.0.11 projects: - repo: openstack/openstack-ansible hash: b22016a76db48a9c37cef298b83b2f1ecd4152f8,,4,0
openstack%2Freleases~master~Ie352bf5c20cfdeacf5cba6d901489c70e482800e,openstack/releases,master,Ie352bf5c20cfdeacf5cba6d901489c70e482800e,Release OpenStack-Ansible Train,MERGED,2020-03-14 12:49:25.000000000,2020-03-16 12:04:07.000000000,2020-03-16 12:04:07.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 12:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6be7f6c710a8ef404eff9a5692922e77e4a2015d', 'message': 'Release Release OpenStack-Ansible Train\n\nChange-Id: Ie352bf5c20cfdeacf5cba6d901489c70e482800e\n'}, {'number': 2, 'created': '2020-03-14 12:51:44.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/407b3fa7ab9f064ba58908add0e6c27873af7322', 'message': 'Release OpenStack-Ansible Train\n\nChange-Id: Ie352bf5c20cfdeacf5cba6d901489c70e482800e\n'}]",0,713091,407b3fa7ab9f064ba58908add0e6c27873af7322,9,3,2,28619,,,0,"Release OpenStack-Ansible Train

Change-Id: Ie352bf5c20cfdeacf5cba6d901489c70e482800e
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/713091/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,6be7f6c710a8ef404eff9a5692922e77e4a2015d,release_osa, - projects: - hash: a091543188da9553e93310c5fe43c138aa517173 repo: openstack/openstack-ansible version: 20.0.2,,4,0
openstack%2Fcharms.openstack~master~I4b36d7fd5e74ab3a894eb4a2451b5876fd777552,openstack/charms.openstack,master,I4b36d7fd5e74ab3a894eb4a2451b5876fd777552,Avoid multiple calls to create_ip_cert_links,MERGED,2020-03-10 20:41:47.000000000,2020-03-16 12:02:26.000000000,2020-03-11 07:52:01.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 20:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/5bfbd8662b5ac91712f1fd27e28ec952cbbb2586', 'message': 'Avoid multiple calls to create_ip_cert_links\n\nPrior to this change, the call to create_ip_cert_links was inside the\nfor loop of tls objects. This caused LP Bug#1866741 where a sym link\nwith the same certificate name would get overwritten with a new cert.\nThis meant the last certificate of [internal, admin, public] would be\nwritten to all three.\n\nThis change calls create_ip_cert_links and state sets only once. It also\nadds a warning log entry if we accidentally overwrite sym linked files in\nthe future.\n\nChange-Id: I4b36d7fd5e74ab3a894eb4a2451b5876fd777552\nPartial-Bug: #1866741\n'}, {'number': 2, 'created': '2020-03-10 20:57:00.000000000', 'files': ['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/72cfde8308684905363e80e4ca5db57f18573927', 'message': 'Avoid multiple calls to create_ip_cert_links\n\nPrior to this change, the call to create_ip_cert_links was inside the\nfor loop of tls objects. This caused LP Bug#1866741 where a sym link\nwith the same certificate name would get overwritten with a new cert.\nThis meant the last certificate of [internal, admin, public] would be\nwritten to all three.\n\nThis change calls create_ip_cert_links and state sets only once. It also\nadds a warning log entry if we accidentally overwrite sym linked files in\nthe future.\n\nChange-Id: I4b36d7fd5e74ab3a894eb4a2451b5876fd777552\nPartial-Bug: #1866741\n'}]",0,712176,72cfde8308684905363e80e4ca5db57f18573927,10,3,2,20805,,,0,"Avoid multiple calls to create_ip_cert_links

Prior to this change, the call to create_ip_cert_links was inside the
for loop of tls objects. This caused LP Bug#1866741 where a sym link
with the same certificate name would get overwritten with a new cert.
This meant the last certificate of [internal, admin, public] would be
written to all three.

This change calls create_ip_cert_links and state sets only once. It also
adds a warning log entry if we accidentally overwrite sym linked files in
the future.

Change-Id: I4b36d7fd5e74ab3a894eb4a2451b5876fd777552
Partial-Bug: #1866741
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/76/712176/2 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py']",2,5bfbd8662b5ac91712f1fd27e28ec952cbbb2586,bug/1866741," self.patch_object(chm.cert_utils, 'create_ip_cert_links') self.create_ip_cert_links.assert_called_once_with('/etc/apache2/ssl/charmname') self.create_ip_cert_links.reset_mock() self.create_ip_cert_links.assert_called_once_with('/etc/apache2/ssl/charmname') self.patch_object(chm.cert_utils, 'create_ip_cert_links') self.create_ip_cert_links.assert_not_called()",,23,7
openstack%2Fcharm-watcher-dashboard~master~Ib41538878899f87546607ff9d4349bd42327d95c,openstack/charm-watcher-dashboard,master,Ib41538878899f87546607ff9d4349bd42327d95c,Add config and change Docs and URLs,ABANDONED,2020-01-24 12:43:55.000000000,2020-03-16 12:01:35.000000000,,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-01-24 12:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/76622a94a31c88ef48ce5eb82a0a49f6fd6b56f8', 'message': 'Add repo config\n\nChange-Id: Ib41538878899f87546607ff9d4349bd42327d95c\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 2, 'created': '2020-01-24 12:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/9d6be17e9e178ff121c0e57b7e159634a794c764', 'message': 'Add repo config\n\nChange-Id: Ib41538878899f87546607ff9d4349bd42327d95c\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 3, 'created': '2020-02-10 09:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/a716480f706ae072d2491cbd3cdda603315fc0eb', 'message': 'Add config and change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher-dashboard. It also adds the\nappropriate repo configuration and conforms to the new removed\npackages mechanism.\n\nChange-Id: Ib41538878899f87546607ff9d4349bd42327d95c\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}, {'number': 4, 'created': '2020-03-12 19:58:23.000000000', 'files': ['src/README.md', '.gitreview', 'src/reactive/watcher_dashboard_handlers.py', '.zuul.yaml', 'src/metadata.yaml', 'unit_tests/test_lib_charm_openstack_watcher_dashboard.py', 'src/HACKING.md', 'unit_tests/test_watcher_dashboard_handlers.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/b0055751cd21b7c85bd0214d1e7d64bb5fe2377d', 'message': 'Add config and change Docs and URLs\n\nThis patch changes the initial information to point to upstream after\nthe official release of charm-watcher-dashboard. It also adds the\nappropriate repo configuration and conforms to the new removed\npackages mechanism.\n\nChange-Id: Ib41538878899f87546607ff9d4349bd42327d95c\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",1,704149,b0055751cd21b7c85bd0214d1e7d64bb5fe2377d,27,8,4,28014,,,0,"Add config and change Docs and URLs

This patch changes the initial information to point to upstream after
the official release of charm-watcher-dashboard. It also adds the
appropriate repo configuration and conforms to the new removed
packages mechanism.

Change-Id: Ib41538878899f87546607ff9d4349bd42327d95c
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-watcher-dashboard refs/changes/49/704149/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', '.zuul.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",4,76622a94a31c88ef48ce5eb82a0a49f6fd6b56f8,,"series: bionic relations: - - mysql:shared-db - keystone:shared-db - - mysql:shared-db - openstack-dashboard:shared-db - - mysql:shared-db - watcher:shared-db - - keystone:identity-service - watcher:identity-service - - keystone:identity-service - openstack-dashboard:identity-service - - openstack-dashboard:dashboard-plugin - watcher-dashboard:dashboard - - rabbitmq-server:amqp - watcher:amqp applications: keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:bionic-ussuri mysql: constraints: mem=3072M charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 openstack-dashboard: series: bionic charm: cs:~openstack-charmers-next/openstack-dashboard num_units: 1 options: openstack-origin: cloud:bionic-ussuri rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 watcher: series: bionic charm: ../../../watcher num_units: 1 options: openstack-origin: cloud:bionic-ussuri datasources: gnocchi planner: weight planner-config: > { ""weights"": ""change_node_power_state:9,change_nova_service_state:50,migrate:30,nop:70,resize:20,sleep:40,turn_host_to_acpi_s3_state:10,volume_migrate:60"", ""parallelization"": ""change_node_power_state:2,change_nova_service_state:1,migrate:2,nop:1,resize:2,sleep:1,turn_host_to_acpi_s3_state:2,volume_migrate:2"" } watcher-dashboard: series: bionic charm: ../../../watcher-dashboard ",,69,0
openstack%2Fkolla-ansible~master~I51286d2def7a762d569740c1abc5b924b682ad9d,openstack/kolla-ansible,master,I51286d2def7a762d569740c1abc5b924b682ad9d,Use proper es schema in fluentd when use internal tls,MERGED,2020-03-15 00:47:15.000000000,2020-03-16 11:57:46.000000000,2020-03-16 11:55:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-15 00:47:15.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/fix-elasticsearch-schema-in-fluentd-32401e37e42c1b4c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6aceaee4ad2d755d4e5a7c584d490c7e82257d7c', 'message': 'Use proper es schema in fluentd when use internal tls\n\nFix elasticsearch schema in fluentd when kolla_enable_tls_internal is\ntrue.\n\nChange-Id: I51286d2def7a762d569740c1abc5b924b682ad9d\nCloses-Bug: #1867481\n'}]",0,713122,6aceaee4ad2d755d4e5a7c584d490c7e82257d7c,10,3,1,7488,,,0,"Use proper es schema in fluentd when use internal tls

Fix elasticsearch schema in fluentd when kolla_enable_tls_internal is
true.

Change-Id: I51286d2def7a762d569740c1abc5b924b682ad9d
Closes-Bug: #1867481
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/713122/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/fix-elasticsearch-schema-in-fluentd-32401e37e42c1b4c.yaml']",2,6aceaee4ad2d755d4e5a7c584d490c7e82257d7c,,--- fixes: - | Fix elasticsearch schema in fluentd when ``kolla_enable_tls_internal`` is true. ,,6,1
openstack%2Fkolla~master~Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688,openstack/kolla,master,Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688,do not use unversioned Python binary,MERGED,2020-02-27 11:10:13.000000000,2020-03-16 11:53:45.000000000,2020-03-16 11:50:55.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-27 11:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e9ae9b07f7530004e368e534a4f5d89463de0758', 'message': ""do not use unversioned Python binary\n\nWe said 'bye' to Python 2 already. So let us use Python 3 for all\nscripts.\n\nUnversioned Python binary should be avoided as it may be Python2 or\nPython3 (depends on distribution).\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688\n""}, {'number': 2, 'created': '2020-03-10 15:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc1d9bc0c51055f0d9ce2d5c866de100eac28342', 'message': ""do not use unversioned Python binary\n\nWe said 'bye' to Python 2 already. So let us use Python 3 for all\nscripts.\n\nUnversioned Python binary should be avoided as it may be Python2 or\nPython3 (depends on distribution).\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688\n""}, {'number': 3, 'created': '2020-03-16 08:25:51.000000000', 'files': ['tools/validate-all-file.py', 'tools/version-check.py', 'tools/validate-yaml.py', 'kolla/cmd/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bef55c5c82a057c35be03799013b959bc8f85464', 'message': ""do not use unversioned Python binary\n\nWe said 'bye' to Python 2 already. So let us use Python 3 for all\nscripts.\n\nUnversioned Python binary should be avoided as it may be Python2 or\nPython3 (depends on distribution).\n\nImplements: blueprint drop-py2-support\n\nChange-Id: Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688\n""}]",0,710231,bef55c5c82a057c35be03799013b959bc8f85464,24,5,3,24072,,,0,"do not use unversioned Python binary

We said 'bye' to Python 2 already. So let us use Python 3 for all
scripts.

Unversioned Python binary should be avoided as it may be Python2 or
Python3 (depends on distribution).

Implements: blueprint drop-py2-support

Change-Id: Ifd7912a3debf3ee4ddd8f3e1a4c5870848d4d688
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/710231/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/validate-all-file.py', 'tools/version-check.py', 'tools/validate-yaml.py', 'kolla/cmd/build.py']",4,e9ae9b07f7530004e368e534a4f5d89463de0758,,#!/usr/bin/env python3,#!/usr/bin/env python,4,4
openstack%2Fvalidations-libs~master~Iad8da0cc6e5f653427b496ecffac0b16c24a0af5,openstack/validations-libs,master,Iad8da0cc6e5f653427b496ecffac0b16c24a0af5,Change ansible artifacts dir to /var/log,MERGED,2020-03-13 09:29:52.000000000,2020-03-16 11:46:49.000000000,2020-03-16 11:46:48.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 09:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/aed13daf8e52e8a11f13fe4811944aff57374545', 'message': 'Change ansible artifacts dir to /var/log\n\nMove artifatcs to /var/log/validations/artifacts\n\nChange-Id: Iad8da0cc6e5f653427b496ecffac0b16c24a0af5\n'}, {'number': 2, 'created': '2020-03-16 10:10:56.000000000', 'files': ['validations_libs/constants.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/32dcde3ca9bbd99f6c75c9dcc9a8cf48494e95fc', 'message': 'Change ansible artifacts dir to /var/log\n\nMove artifatcs to /var/log/validations/artifacts\n\nChange-Id: Iad8da0cc6e5f653427b496ecffac0b16c24a0af5\n'}]",1,712881,32dcde3ca9bbd99f6c75c9dcc9a8cf48494e95fc,9,2,2,16515,,,0,"Change ansible artifacts dir to /var/log

Move artifatcs to /var/log/validations/artifacts

Change-Id: Iad8da0cc6e5f653427b496ecffac0b16c24a0af5
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/81/712881/2 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/constants.py'],1,aed13daf8e52e8a11f13fe4811944aff57374545,artifact/path,VALIDATION_RUN_LOG_PATH = '/var/log/validations/' VALIDATIONS_LOG_BASEDIR = '/var/log/validations/' VALIDATION_ANSIBLE_ARTIFACT_PATH = '/var/log/validations/artifacts/',VALIDATION_RUN_LOG_PATH = '/var/lib/validations/logs' VALIDATIONS_LOG_BASEDIR = '/var/logs/validations/' VALIDATION_ANSIBLE_ARTIFACT_PATH = '/var/lib/validations/artifacts/',3,3
openstack%2Frpm-packaging~master~Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29,openstack/rpm-packaging,master,Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29,python-vitrageclient: convert to python3,MERGED,2020-01-09 11:41:58.000000000,2020-03-16 11:43:56.000000000,2020-01-09 13:08:02.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-09 11:41:58.000000000', 'files': ['openstack/python-vitrageclient/python-vitrageclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a802cc6ee341767d0bd9993b8b560a454b13c484', 'message': 'python-vitrageclient: convert to python3\n\nChange-Id: Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29\n'}]",0,701715,a802cc6ee341767d0bd9993b8b560a454b13c484,10,4,1,13294,,,0,"python-vitrageclient: convert to python3

Change-Id: Ie7e9e6d891ddb4299359ebd4d7361a08551cdb29
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/701715/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-vitrageclient/python-vitrageclient.spec.j2'],1,a802cc6ee341767d0bd9993b8b560a454b13c484,,BuildRequires: {{ py3('cliff') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('networkx') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pydot') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-vitrageclient Summary: Python API and CLI for OpenStack Vitrage Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('cliff') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('networkx') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('pydot') }} %description -n python3-vitrageclient Client library for Vitrage built on the Vitrage API. It provides a Python API (the vitrageclient module) and a command-line tool (vitrage). This package contains the Python 3.x module. %{py3_build}%{py3_install}export PYTHON=python3 python3 setup.py testr %files -n python3-vitrageclient%{python3_sitelib}/vitrageclient %{python3_sitelib}/*.egg-info %{_sysconfdir}/bash_completion.d/vitrage.bash_completion %{_bindir}/vitrage,"# NOTE: RDO does not have the required version of networkx for python2 %if ! 0%{?suse_version} %define skip_python2 1 %endifBuildRequires: {{ py2pkg('cliff', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pydot', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testrepository', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('networkx') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pydot') }}%if 0%{?suse_version} BuildRequires: {{ py2pkg('networkx', py_versions=['py2', 'py3']) }} Requires(post): update-alternatives Requires(postun): update-alternatives %else BuildRequires: {{ py2pkg('networkx', py_versions=['py3']) }} # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install}%python_clone -a %{buildroot}%{_sysconfdir}/bash_completion.d/vitrage.bash_completion %python_clone -a %{buildroot}%{_bindir}/vitrage %post %python_install_alternative vitrage %postun %python_uninstall_alternative vitrage %{python_expand rm -rf .testrepositoryexport PYTHON=$python $python setup.py testr } %files %{python_files}%{python_sitelib}/vitrageclient %{python_sitelib}/*.egg-info %python_alternative %{_sysconfdir}/bash_completion.d/vitrage.bash_completion %python_alternative %{_bindir}/vitrage",40,55
openstack%2Frpm-packaging~master~If96046d6295667358027c9f25d3d354991e6453c,openstack/rpm-packaging,master,If96046d6295667358027c9f25d3d354991e6453c,Remove explicit python-devel requirement from oslo packages,MERGED,2020-02-12 12:19:34.000000000,2020-03-16 11:40:39.000000000,2020-02-12 12:38:09.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-12 12:19:34.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1e66c5aeca13c28158f179e9c909ea39fb2e86f6', 'message': 'Remove explicit python-devel requirement from oslo packages\n\nWe had two oslo packages with an explicit requirement on python-devel,\nremoving them.\n\nChange-Id: If96046d6295667358027c9f25d3d354991e6453c\n'}]",0,707372,1e66c5aeca13c28158f179e9c909ea39fb2e86f6,8,3,1,13294,,,0,"Remove explicit python-devel requirement from oslo packages

We had two oslo packages with an explicit requirement on python-devel,
removing them.

Change-Id: If96046d6295667358027c9f25d3d354991e6453c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/707372/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2']",2,1e66c5aeca13c28158f179e9c909ea39fb2e86f6,remove-python2,,BuildRequires: python-devel,0,2
openstack%2Fkuryr-tempest-plugin~master~I1e212871e564ba3e10fa39c1bd7a2c5946954bb9,openstack/kuryr-tempest-plugin,master,I1e212871e564ba3e10fa39c1bd7a2c5946954bb9,Limit time for pod creation,MERGED,2020-03-09 10:53:10.000000000,2020-03-16 11:40:01.000000000,2020-03-16 11:38:26.000000000,"[{'_account_id': 10068}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 27086}, {'_account_id': 31631}]","[{'number': 1, 'created': '2020-03-09 10:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f93e4811eb60f4ec483c1a79e83a8acf2b5bab4e', 'message': 'Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(60 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 2, 'created': '2020-03-09 10:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9e1ccefdcfd1eb0b9de5855ec5cbb4201dea5a48', 'message': '[WIP] Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(60 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 3, 'created': '2020-03-09 15:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0ce588645dce13ccfe0f4d9ac85cbdf4e7175119', 'message': '[WIP] Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(120 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 4, 'created': '2020-03-10 07:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/74d9b70eeddd9cf7497bcec164d5b08cde603d91', 'message': '[WIP] Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(120 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 5, 'created': '2020-03-10 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ec560d391c48898cb41e857104bd42758885a263', 'message': '[WIP] Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(120 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 6, 'created': '2020-03-11 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/235197869a42f5d07035cb733700fa4bb11387ff', 'message': 'Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(120 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}, {'number': 7, 'created': '2020-03-12 14:56:03.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/consts.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fcdb5166371fc8e89e5567d1f5d275afb2ffd968', 'message': 'Limit time for pod creation\n\nBusy-waiting for POD creation for a number of seconds\n(240 by default). If expired throws a TimeoutException.\n\nReuse static method wait_for_pod_status.\n\nChange-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9\n'}]",7,711901,fcdb5166371fc8e89e5567d1f5d275afb2ffd968,44,9,7,31631,,,0,"Limit time for pod creation

Busy-waiting for POD creation for a number of seconds
(240 by default). If expired throws a TimeoutException.

Reuse static method wait_for_pod_status.

Change-Id: I1e212871e564ba3e10fa39c1bd7a2c5946954bb9
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/01/711901/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,f93e4811eb60f4ec483c1a79e83a8acf2b5bab4e,," timeout=60, affinity=None): if wait_for_status: cls.wait_for_pod_status( name, namespace=namespace, pod_status='Running', retries=timeout)"," affinity=None): status = """" while status != ""Running"" and wait_for_status: # TODO(dmellado) add timeout config to tempest plugin time.sleep(1) status = cls.get_pod_status(name, namespace)",7,6
openstack%2Fkolla~master~I704d231ead35cf94a712a5bccdd7a427c46077c7,openstack/kolla,master,I704d231ead35cf94a712a5bccdd7a427c46077c7,neutron-base: drop python3-networking-ovn,MERGED,2020-03-12 18:31:58.000000000,2020-03-16 11:39:21.000000000,2020-03-16 11:37:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-12 18:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fca59b557bab62b89e12be0ffadea459baf10fc', 'message': 'neutron-base: drop python3-networking-ovn on Ubuntu\n\nUssuri UCA repo does not contain python3-networking-ovn package anymore. It\nwas present in Train but looks like not anymore.\n\nChange-Id: I704d231ead35cf94a712a5bccdd7a427c46077c7\n'}, {'number': 2, 'created': '2020-03-12 18:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/57fe23ce3c933ca73fbc93d4dcef747b6a53d7a7', 'message': 'neutron-base: drop python3-networking-ovn\n\nThis code is now part of neutron.\n\nChange-Id: I704d231ead35cf94a712a5bccdd7a427c46077c7\n'}, {'number': 3, 'created': '2020-03-13 07:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a6c529886b7e3e8aadbfc27898957e952dcf07e5', 'message': 'neutron-base: drop python3-networking-ovn\n\nThis code is now part of neutron, as part of ML2/OVS convergence\nwith OVN work [1].\n\n[1]: https://blueprints.launchpad.net/neutron/+spec/neutron-ovn-merge\n\nChange-Id: I704d231ead35cf94a712a5bccdd7a427c46077c7\n'}, {'number': 4, 'created': '2020-03-13 11:31:52.000000000', 'files': ['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-metadata-agent-ovn/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f0baa6e2ced941c19d3e6a8b7c86e8cbad9a206', 'message': 'neutron-base: drop python3-networking-ovn\n\nThis code is now part of neutron, as part of ML2/OVS convergence\nwith OVN work [1].\n\n[1]: https://blueprints.launchpad.net/neutron/+spec/neutron-ovn-merge\n\nChange-Id: I704d231ead35cf94a712a5bccdd7a427c46077c7\n'}]",0,712762,7f0baa6e2ced941c19d3e6a8b7c86e8cbad9a206,30,6,4,24072,,,0,"neutron-base: drop python3-networking-ovn

This code is now part of neutron, as part of ML2/OVS convergence
with OVN work [1].

[1]: https://blueprints.launchpad.net/neutron/+spec/neutron-ovn-merge

Change-Id: I704d231ead35cf94a712a5bccdd7a427c46077c7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/712762/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-base/Dockerfile.j2'],1,6fca59b557bab62b89e12be0ffadea459baf10fc,, {% if base_distro == 'debian' %} {% set neutron_base_packages = neutron_base_packages + [ 'python3-networking-ovn' %} {% endif %}," 'python3-networking-ovn',",5,1
openstack%2Ftripleo-common~master~I8820293bd1c7f83c00e7abba88181895ef987765,openstack/tripleo-common,master,I8820293bd1c7f83c00e7abba88181895ef987765,[Q->T] Introduce Queens to Train Upgrade,MERGED,2020-03-05 14:33:58.000000000,2020-03-16 11:30:25.000000000,2020-03-13 17:47:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-05 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9fbcb061b09e5542e305267174166bad91e1e543', 'message': ""[Q->T] Introduce Queens to Train Upgrade\n\nIn order to do Q->T upgrade we need Stein container images available.\nWe check for namespace_stein and if it's defined we provide them.\n\nChange-Id: I8820293bd1c7f83c00e7abba88181895ef987765\n""}, {'number': 2, 'created': '2020-03-10 10:41:01.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fff8dfa5ec143a0de63923f1b374c2cfaba4dda1', 'message': ""[Q->T] Introduce Queens to Train Upgrade\n\nIn order to do Q->T upgrade we need Stein container images available.\nWe check for namespace_stein and if it's defined we provide them.\n\nChange-Id: I8820293bd1c7f83c00e7abba88181895ef987765\n""}]",2,711468,fff8dfa5ec143a0de63923f1b374c2cfaba4dda1,18,8,2,11166,,,0,"[Q->T] Introduce Queens to Train Upgrade

In order to do Q->T upgrade we need Stein container images available.
We check for namespace_stein and if it's defined we provide them.

Change-Id: I8820293bd1c7f83c00e7abba88181895ef987765
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/711468/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,9fbcb061b09e5542e305267174166bad91e1e543,ffwd-upgrade2," {% if namespace_stein is defined %} - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}cinder-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerCinderApiImageStein services: - OS::TripleO::Services::CinderApi - OS::TripleO::Services::UndercloudCinderApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}glance-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerGlanceApiImageStein services: - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GlanceApiEdge - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}heat-engine{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerHeatEngineImageStein services: - OS::TripleO::Services::HeatEngine - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}ironic-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerIronicApiImageStein services: - OS::TripleO::Services::IronicApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}ironic-inspector{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerIronicInspectorImageStein services: - OS::TripleO::Services::IronicInspector - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}keystone{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerKeystoneImageStein services: - OS::TripleO::Services::Keystone - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}mistral-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerMistralApiImageStein services: - OS::TripleO::Services::MistralApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}neutron-server{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNeutronApiImageStein services: - OS::TripleO::Services::NeutronApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}nova-api{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNovaApiImageStein services: - OS::TripleO::Services::NovaApi - imagename: ""{{namespace_stein}}/{{name_prefix_stein}}nova-conductor{{name_suffix_stein}}:{{tag_stein}}"" image_source: kolla params: - ContainerNovaConductorImageStein services: - OS::TripleO::Services::NovaConductor {% endif %}",,76,0
openstack%2Frpm-packaging~master~I18f9dd894417ade8ac50755b7cb2958352cade0f,openstack/rpm-packaging,master,I18f9dd894417ade8ac50755b7cb2958352cade0f,renderspec: Fix -doc dependency on the base package,MERGED,2020-02-13 16:00:25.000000000,2020-03-16 11:29:14.000000000,2020-02-18 10:46:32.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 16:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0788137ac6717d4ce1bcdd4cbd369f32e49a9c20', 'message': 'renderspec: remove -doc dependency on the base package\n\nIt does not make sense to keep that dependency.\n\nChange-Id: I18f9dd894417ade8ac50755b7cb2958352cade0f\n'}, {'number': 2, 'created': '2020-02-17 10:34:14.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1fd3fda7c66b120219b42db4b5d181e25898d348', 'message': 'renderspec: Fix -doc dependency on the base package\n\nIt needs to depend on python3-renderspec, not python-renderspec.\n\nChange-Id: I18f9dd894417ade8ac50755b7cb2958352cade0f\n'}]",0,707677,1fd3fda7c66b120219b42db4b5d181e25898d348,15,6,2,13294,,,0,"renderspec: Fix -doc dependency on the base package

It needs to depend on python3-renderspec, not python-renderspec.

Change-Id: I18f9dd894417ade8ac50755b7cb2958352cade0f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/707677/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,0788137ac6717d4ce1bcdd4cbd369f32e49a9c20,,,Requires: %{name} = %{version},0,1
openstack%2Fkolla~master~I9c600570dd2166e865878e7c2584a8377a795a43,openstack/kolla,master,I9c600570dd2166e865878e7c2584a8377a795a43,Add collectd-pcie-errors package for PCIe Errors,MERGED,2020-02-26 13:06:12.000000000,2020-03-16 11:23:08.000000000,2020-03-16 11:19:47.000000000,"[{'_account_id': 4264}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 31539}]","[{'number': 1, 'created': '2020-02-26 13:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dbcbee7da9cb6f524de06ad50cbea11eb1390b4d', 'message': 'Add collectd-pcie-errors package for PCIe Errors (C7 only)\n\nThe pcie_errors plugin collects PCI Express errors from Device Status in\nCapability structure and from Advanced Error Reporting Extended Capability\nwhere available.\n\nC7 only - C8 packaging still pending.\n\nChange-Id: I9c600570dd2166e865878e7c2584a8377a795a43\n'}, {'number': 2, 'created': '2020-02-27 08:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/867001e55499be2dbcf7620ba83f69448b1f51c0', 'message': 'Add collectd-pcie-errors package for PCIe Errors (C7 only)\n\nThe pcie_errors plugin collects PCI Express errors from Device Status in\nCapability structure and from Advanced Error Reporting Extended Capability\nwhere available.\n\nC7 only - C8 packaging still pending.\n\nChange-Id: I9c600570dd2166e865878e7c2584a8377a795a43\n'}, {'number': 3, 'created': '2020-03-09 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0611bf169ef533d6f08059b8a3c1458217d9cde9', 'message': 'Add collectd-pcie-errors package for PCIe Errors\n\nThe pcie_errors plugin collects PCI Express errors from Device Status in\nCapability structure and from Advanced Error Reporting Extended Capability\nwhere available.\n\nChange-Id: I9c600570dd2166e865878e7c2584a8377a795a43\n'}, {'number': 4, 'created': '2020-03-09 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ee54bb2b8f9e7d14834af28d4eed9818de5f899c', 'message': 'Add collectd-pcie-errors package for PCIe Errors\n\nThe pcie_errors plugin collects PCI Express errors from Device Status in\nCapability structure and from Advanced Error Reporting Extended Capability\nwhere available.\n\nChange-Id: I9c600570dd2166e865878e7c2584a8377a795a43\n'}, {'number': 5, 'created': '2020-03-10 11:08:19.000000000', 'files': ['docker/collectd/Dockerfile.j2', 'releasenotes/notes/collectd-pcie-errors-fffb5871ce17f589.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/489a44ca58f373c8f905b7624d03b37e30b832dc', 'message': 'Add collectd-pcie-errors package for PCIe Errors\n\nThe pcie_errors plugin collects PCI Express errors from Device Status in\nCapability structure and from Advanced Error Reporting Extended Capability\nwhere available.\n\nChange-Id: I9c600570dd2166e865878e7c2584a8377a795a43\n'}]",3,710029,489a44ca58f373c8f905b7624d03b37e30b832dc,40,8,5,31539,,,0,"Add collectd-pcie-errors package for PCIe Errors

The pcie_errors plugin collects PCI Express errors from Device Status in
Capability structure and from Advanced Error Reporting Extended Capability
where available.

Change-Id: I9c600570dd2166e865878e7c2584a8377a795a43
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/710029/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,dbcbee7da9cb6f524de06ad50cbea11eb1390b4d,collectd-pcie-errors," 'collectd-pcie-errors', 'collectd-hugepages'"," 'collectd-hugepages',",2,1
openstack%2Fneutron-lib~master~If71241a412ecfe3471a472802e18c986bd05d5b1,openstack/neutron-lib,master,If71241a412ecfe3471a472802e18c986bd05d5b1,"Use ""unittest.mock"" library and drop ""mock"" installation",MERGED,2020-03-12 17:20:48.000000000,2020-03-16 11:22:49.000000000,2020-03-16 11:19:41.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 17:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67f9b809e93a910e87f329b61583e9be34393d97', 'message': 'Use ""unittest.mock"" library and drop ""mock"" installation\n\nAs commented in [1], ""unittest.mock"" has been supported in the Python\ninternal unit testing framework since version 3.3.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n\nChange-Id: If71241a412ecfe3471a472802e18c986bd05d5b1\n'}, {'number': 2, 'created': '2020-03-12 17:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1d1c2e11abf17abd58bec4f55f0f9576c3b5bf2', 'message': 'Use ""unittest.mock"" library and drop ""mock"" installation\n\nAs commented in [1], ""unittest.mock"" has been supported in the Python\ninternal unit testing framework since version 3.3.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n\nChange-Id: If71241a412ecfe3471a472802e18c986bd05d5b1\n'}, {'number': 3, 'created': '2020-03-13 12:10:38.000000000', 'files': ['neutron_lib/tests/_base.py', 'neutron_lib/tests/unit/api/validators/test_allowedaddresspairs.py', 'neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/tests/unit/placement/test_client.py', 'neutron_lib/tests/unit/policy/test__engine.py', 'neutron_lib/tests/unit/callbacks/test_registry.py', 'neutron_lib/tests/unit/db/test_model_query.py', 'neutron_lib/tests/unit/callbacks/test_events.py', 'neutron_lib/tests/unit/objects/test_utils.py', 'neutron_lib/fixture.py', 'neutron_lib/tests/unit/utils/test_runtime.py', 'neutron_lib/tests/unit/utils/test_host.py', 'neutron_lib/tests/unit/utils/test_net.py', 'neutron_lib/tests/unit/plugins/test_utils.py', 'neutron_lib/tests/unit/api/test_conversions.py', 'neutron_lib/tests/unit/test_context.py', 'neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/tests/unit/services/qos/test_base.py', 'neutron_lib/tests/unit/test_rpc.py', 'neutron_lib/tests/unit/api/validators/test_dns.py', 'lower-constraints.txt', 'neutron_lib/tests/unit/callbacks/test_manager.py', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/tests/unit/test_fixture.py', 'neutron_lib/tests/unit/api/validators/test_availability_zone.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1da279b3ade831d38a84ff23a014bc671423ce3f', 'message': 'Use ""unittest.mock"" library and drop ""mock"" installation\n\nAs commented in [1], ""unittest.mock"" has been supported in the Python\ninternal unit testing framework since version 3.3.\n\n[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n\nChange-Id: If71241a412ecfe3471a472802e18c986bd05d5b1\n'}]",2,712742,1da279b3ade831d38a84ff23a014bc671423ce3f,14,5,3,16688,,,0,"Use ""unittest.mock"" library and drop ""mock"" installation

As commented in [1], ""unittest.mock"" has been supported in the Python
internal unit testing framework since version 3.3.

[1]http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html

Change-Id: If71241a412ecfe3471a472802e18c986bd05d5b1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/42/712742/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/_base.py', 'neutron_lib/tests/unit/api/validators/test_allowedaddresspairs.py', 'neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/tests/unit/placement/test_client.py', 'neutron_lib/tests/unit/policy/test__engine.py', 'neutron_lib/tests/unit/callbacks/test_registry.py', 'neutron_lib/tests/unit/db/test_model_query.py', 'neutron_lib/tests/unit/callbacks/test_events.py', 'neutron_lib/tests/unit/objects/test_utils.py', 'neutron_lib/fixture.py', 'neutron_lib/tests/unit/utils/test_runtime.py', 'neutron_lib/tests/unit/utils/test_host.py', 'neutron_lib/tests/unit/utils/test_net.py', 'neutron_lib/tests/unit/plugins/test_utils.py', 'neutron_lib/tests/unit/api/test_conversions.py', 'neutron_lib/tests/unit/test_context.py', 'neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/tests/unit/services/qos/test_base.py', 'neutron_lib/tests/unit/test_rpc.py', 'neutron_lib/tests/unit/api/validators/test_dns.py', 'neutron_lib/tests/unit/callbacks/test_manager.py', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/tests/unit/db/test_api.py', 'neutron_lib/tests/unit/test_fixture.py', 'neutron_lib/tests/unit/api/validators/test_availability_zone.py']",25,67f9b809e93a910e87f329b61583e9be34393d97,use_unittest.mock,from unittest import mock,import mock,30,28
openstack%2Fnova~master~Iaf8b34b06e08d015e4e7a42a2b4836073c885ebc,openstack/nova,master,Iaf8b34b06e08d015e4e7a42a2b4836073c885ebc,Add tests for the UnifiedLimits quota driver,ABANDONED,2020-03-10 17:45:24.000000000,2020-03-16 11:19:00.000000000,,"[{'_account_id': 782}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-10 17:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/562a9956ab3c97f642f1a012f0e46204824ead2f', 'message': 'Add tests for the UnifiedLimits quota driver\n\nblueprint unified-limits-nova\n\nChange-Id: Iaf8b34b06e08d015e4e7a42a2b4836073c885ebc\n'}, {'number': 2, 'created': '2020-03-12 12:37:34.000000000', 'files': ['nova/tests/unit/test_quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c45716451ae4212887d29cf6b15656ad521f245a', 'message': 'Add tests for the UnifiedLimits quota driver\n\nblueprint unified-limits-nova\n\nChange-Id: Iaf8b34b06e08d015e4e7a42a2b4836073c885ebc\n'}]",0,712138,c45716451ae4212887d29cf6b15656ad521f245a,16,9,2,782,,,0,"Add tests for the UnifiedLimits quota driver

blueprint unified-limits-nova

Change-Id: Iaf8b34b06e08d015e4e7a42a2b4836073c885ebc
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/712138/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_quota.py'],1,562a9956ab3c97f642f1a012f0e46204824ead2f,bp/unified-limits-nova,"class UnifiedLimitsDriverTestCase(NoopQuotaDriverTestCase): def setUp(self): super(UnifiedLimitsDriverTestCase, self).setUp() self.driver = quota.UnifiedLimitsDriver() ",,6,0
openstack%2Fcharm-nova-compute~master~I0ea30d52e82d1d53ade87add387536b92a245ecb,openstack/charm-nova-compute,master,I0ea30d52e82d1d53ade87add387536b92a245ecb,Sync c-h for py38 support and add focal to metadata,MERGED,2020-03-14 15:46:26.000000000,2020-03-16 11:18:28.000000000,2020-03-16 11:18:27.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 15:46:26.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/de548e0333869634ebb0bd81d0729c6e988503ef', 'message': ""Sync c-h for py38 support and add focal to metadata\n\nNote that this is NOT the focal testing enablement for the charm.  This\nis a sync of charm-helpers and a add of 'focal' to the metadata to\nenable testing, and landing, of other charms' focal functional testing\nenablement.  focal testing will be added soon.\n\nChange-Id: I0ea30d52e82d1d53ade87add387536b92a245ecb\n""}]",0,713099,de548e0333869634ebb0bd81d0729c6e988503ef,9,4,1,20870,,,0,"Sync c-h for py38 support and add focal to metadata

Note that this is NOT the focal testing enablement for the charm.  This
is a sync of charm-helpers and a add of 'focal' to the metadata to
enable testing, and landing, of other charms' focal functional testing
enablement.  focal testing will be added soon.

Change-Id: I0ea30d52e82d1d53ade87add387536b92a245ecb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/99/713099/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py']",6,de548e0333869634ebb0bd81d0729c6e988503ef,py38-ch-focal, 'focal',,145,29
openstack%2Ftripleo-heat-templates~master~I2dd4ac020652193849e622b5d67bc365113d9d3f,openstack/tripleo-heat-templates,master,I2dd4ac020652193849e622b5d67bc365113d9d3f,Update packages removed for FFWD2 and clean http dir.,ABANDONED,2020-02-28 14:46:09.000000000,2020-03-16 11:18:23.000000000,,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 14:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f95fc4baa691a2f74c30d658bd2ffa5577e04f2', 'message': 'Update packages removed for FFWD2 and clean http dir.\n\nTo upgrade the Operating System in OSP13 from RHEL7 to\nRHEL8 it is needed to remove some more packages than\nwhat we required in the upgrade from Rocky to Stein.\n\nAlso, removing the httpd service and wiping out its\ndirectory to allow the recreation during deploy steps.\n\nChange-Id: I2dd4ac020652193849e622b5d67bc365113d9d3f\n'}, {'number': 2, 'created': '2020-02-28 15:07:00.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7ef1ae25e4842c36e5e6795a861f16288e9f28f', 'message': 'Update packages removed for FFWD2 and clean http dir.\n\nTo upgrade the Operating System in OSP13 from RHEL7 to\nRHEL8 it is needed to remove some more packages than\nwhat we required in the upgrade from Rocky to Stein.\n\nAlso, removing the httpd service and wiping out its\ndirectory to allow the recreation during deploy steps.\n\nChange-Id: I2dd4ac020652193849e622b5d67bc365113d9d3f\n'}]",3,710457,a7ef1ae25e4842c36e5e6795a861f16288e9f28f,11,5,2,26343,,,0,"Update packages removed for FFWD2 and clean http dir.

To upgrade the Operating System in OSP13 from RHEL7 to
RHEL8 it is needed to remove some more packages than
what we required in the upgrade from Rocky to Stein.

Also, removing the httpd service and wiping out its
directory to allow the recreation during deploy steps.

Change-Id: I2dd4ac020652193849e622b5d67bc365113d9d3f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/710457/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,4f95fc4baa691a2f74c30d658bd2ffa5577e04f2,ffwd-upgrade2, yum -y remove *el7ost* qemu-kvm-common-rhev qemu-img-rhev httpd python-jsonpointer haproxy* pacemaker* galera* mysql* rabbit* redis* -- \ - name: Clean up httpd folder file: path: /etc/httpd state: absent, yum -y remove *el7ost* -- \,5,1
openstack%2Fcharm-nova-cloud-controller~master~I21df8e0dfa585133c5ef6a55cdbbc2071c267424,openstack/charm-nova-cloud-controller,master,I21df8e0dfa585133c5ef6a55cdbbc2071c267424,Adding support for cross_az_attach config option.,MERGED,2020-03-01 10:22:01.000000000,2020-03-16 11:16:53.000000000,2020-03-16 11:16:53.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 28899}]","[{'number': 1, 'created': '2020-03-01 10:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6b09e1d59e1868273c57f36843c027b6fffbbf3d', 'message': 'Adding support for cross_az_attach config option.\n\nAllow attach between instance and volume in different\navailability zones. If False, volumes attached to an\ninstance must be in the same availability zone\nin Cinder as the instance availability zone in Nova.\n\nChange-Id: I21df8e0dfa585133c5ef6a55cdbbc2071c267424\nCloses-Bug: #1856776\n'}, {'number': 2, 'created': '2020-03-01 10:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4ac0036925ec7080b3bb7d0cb488bbbf14b3957e', 'message': 'Adding support for cross_az_attach config option.\n\nAllow attach between instance and volume in different\navailability zones. If False, volumes attached to an\ninstance must be in the same availability zone\nin Cinder as the instance availability zone in Nova.\n\nChange-Id: I21df8e0dfa585133c5ef6a55cdbbc2071c267424\nCloses-Bug: #1856776\n'}, {'number': 3, 'created': '2020-03-09 11:41:24.000000000', 'files': ['templates/parts/section-cinder', 'config.yaml', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ab6398463a7fdc0b8ef27c01cbfd2091b1dafca2', 'message': 'Adding support for cross_az_attach config option.\n\nAllow attach between instance and volume in different\navailability zones. If False, volumes attached to an\ninstance must be in the same availability zone\nin Cinder as the instance availability zone in Nova.\n\nChange-Id: I21df8e0dfa585133c5ef6a55cdbbc2071c267424\nCloses-Bug: #1856776\n'}]",4,710634,ab6398463a7fdc0b8ef27c01cbfd2091b1dafca2,17,4,3,28899,,,0,"Adding support for cross_az_attach config option.

Allow attach between instance and volume in different
availability zones. If False, volumes attached to an
instance must be in the same availability zone
in Cinder as the instance availability zone in Nova.

Change-Id: I21df8e0dfa585133c5ef6a55cdbbc2071c267424
Closes-Bug: #1856776
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/34/710634/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/parts/section-cinder', 'config.yaml', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py', 'unit_tests/test_nova_cc_contexts.py']",5,6b09e1d59e1868273c57f36843c027b6fffbbf3d,lp1856776," def test_CinderContext(self): self.test_config.update({'cross-az-attach': False,}) ctxt = context.CinderConfigContext()() self.assertEqual({'cross_az_attach': False}, ctxt) self.test_config.update({'cross-az-attach': True,}) ctxt = context.CinderConfigContext()() self.assertEqual({'cross_az_attach': True}, ctxt) ",,36,0
openstack%2Fcharm-rabbitmq-server~master~I33d25ac98303a745615445707e230fe1cb7f4f70,openstack/charm-rabbitmq-server,master,I33d25ac98303a745615445707e230fe1cb7f4f70,Sync c-h for py38 support and add focal to metadata,MERGED,2020-03-14 15:49:18.000000000,2020-03-16 11:12:02.000000000,2020-03-16 11:12:02.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 15:49:18.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/add492769f3f7ce2acdaa05bdb51ddcd817282a2', 'message': ""Sync c-h for py38 support and add focal to metadata\n\nNote that this is NOT the focal testing enablement for the charm.  This\nis a sync of charm-helpers and a add of 'focal' to the metadata to\nenable testing, and landing, of other charms' focal functional testing\nenablement.  focal testing will be added soon.\n\nChange-Id: I33d25ac98303a745615445707e230fe1cb7f4f70\n""}]",0,713100,add492769f3f7ce2acdaa05bdb51ddcd817282a2,9,4,1,20870,,,0,"Sync c-h for py38 support and add focal to metadata

Note that this is NOT the focal testing enablement for the charm.  This
is a sync of charm-helpers and a add of 'focal' to the metadata to
enable testing, and landing, of other charms' focal functional testing
enablement.  focal testing will be added soon.

Change-Id: I33d25ac98303a745615445707e230fe1cb7f4f70
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/00/713100/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py']",6,add492769f3f7ce2acdaa05bdb51ddcd817282a2,py38-ch-focal, 'focal',,154,23
openstack%2Fcharm-neutron-gateway~master~I6f647cb9eb0735f42648507dace82dc3a211c8c4,openstack/charm-neutron-gateway,master,I6f647cb9eb0735f42648507dace82dc3a211c8c4,Sync c-h for py38 support and add focal to metadata,MERGED,2020-03-14 15:44:40.000000000,2020-03-16 11:11:32.000000000,2020-03-16 11:11:32.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 15:44:40.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/18ce34fb2110bdb6e2d1efbb2554279d9f65adce', 'message': ""Sync c-h for py38 support and add focal to metadata\n\nNote that this is NOT the focal testing enablement for the charm.  This\nis a sync of charm-helpers and a add of 'focal' to the metadata to\nenable testing, and landing, of other charms' focal functional testing\nenablement.  focal testing will be added soon.\n\nChange-Id: I6f647cb9eb0735f42648507dace82dc3a211c8c4\n""}]",0,713098,18ce34fb2110bdb6e2d1efbb2554279d9f65adce,9,4,1,20870,,,0,"Sync c-h for py38 support and add focal to metadata

Note that this is NOT the focal testing enablement for the charm.  This
is a sync of charm-helpers and a add of 'focal' to the metadata to
enable testing, and landing, of other charms' focal functional testing
enablement.  focal testing will be added soon.

Change-Id: I6f647cb9eb0735f42648507dace82dc3a211c8c4
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/98/713098/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'hooks/charmhelpers/contrib/network/ufw.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py']",7,18ce34fb2110bdb6e2d1efbb2554279d9f65adce,py38-ch-focal, 'focal',,158,30
openstack%2Ftripleo-upgrade~master~I4b658b7739d7620db54ec01bcaeea37b2fc6a34d,openstack/tripleo-upgrade,master,I4b658b7739d7620db54ec01bcaeea37b2fc6a34d,Remove Congress service from roles_data.,MERGED,2020-02-27 12:19:22.000000000,2020-03-16 11:10:20.000000000,2020-03-10 22:51:49.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-27 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fcf9175031b6de10cb134302d8e52559b2b0531', 'message': 'Remove Congress service from roles_data.\n\nCongress templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the Congress service.\n\n[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\n\nChange-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d\n'}, {'number': 2, 'created': '2020-02-28 11:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c7ae28922958f7db06aeabcc335b3cbc2671296', 'message': 'Remove Congress service from roles_data.\n\nCongress templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the Congress service.\n\n[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\n\nChange-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d\n'}, {'number': 3, 'created': '2020-03-05 12:20:38.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca470f0e96336b40346289717d8b9969a74fe204', 'message': 'Remove Congress service from roles_data.\n\nCongress templates where removed completely in Stein [0].\nTherefore, there is no need to keep the service inside\nany customized roles_data.\n\nThis patch parses the customized roles_data passed during\nthe upgrade prepare step and removes the Congress service.\n\n[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa\n\nChange-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d\n'}]",0,710242,ca470f0e96336b40346289717d8b9969a74fe204,17,8,3,26343,,,0,"Remove Congress service from roles_data.

Congress templates where removed completely in Stein [0].
Therefore, there is no need to keep the service inside
any customized roles_data.

This patch parses the customized roles_data passed during
the upgrade prepare step and removes the Congress service.

[0] - Idca6b12f1c0ca3bc15bedf6469d4063a4dac31fa

Change-Id: I4b658b7739d7620db54ec01bcaeea37b2fc6a34d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/42/710242/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,9fcf9175031b6de10cb134302d8e52559b2b0531,,"- name: drop Congress service replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::Congress$)' replace: '' ",,6,0
openstack%2Fnova~stable%2Fstein~I7be32e4fc2e69f805535e0a437931516f491e5cb,openstack/nova,stable/stein,I7be32e4fc2e69f805535e0a437931516f491e5cb,Reproduce bug 1862633,MERGED,2020-03-06 14:13:11.000000000,2020-03-16 10:56:13.000000000,2020-03-09 22:29:53.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-06 14:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a85359cfca4671acc0f45d0f23e30100e9d85866', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChanges in test_bug_1862633.py is due to\nI84c58de90dad6d86271767363aef90ddac0f1730 and \nI8c96b337f32148f8f5899c9b87af331b1fa41424 are missing from train.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)\n'}, {'number': 2, 'created': '2020-03-06 14:43:48.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f960d1751d752d559ea18604bfd1fcaf1a3283cd', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)\n'}]",1,711626,f960d1751d752d559ea18604bfd1fcaf1a3283cd,17,5,2,9708,,,0,"Reproduce bug 1862633

If port update fails during unshelve of an offloaded server then
placement allocation on the target host is leaked.

Change-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb
Related-Bug: #1862633
(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)
(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/711626/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,a85359cfca4671acc0f45d0f23e30100e9d85866,bug/1862633,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutronclient.common import exceptions as neutron_exception from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image class UnshelveNeutronErrorTest( test.TestCase, integrated_helpers.InstanceHelperMixin): def setUp(self): super(UnshelveNeutronErrorTest, self).setUp() # Start standard fixtures. placement = func_fixtures.PlacementFixture() self.useFixture(placement) self.placement_api = placement.api self.neutron = nova_fixtures.NeutronFixture(self) self.useFixture(self.neutron) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start nova services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.api.microversion = 'latest' fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute', host='host1') self.start_service('compute', host='host2') def test_unshelve_offloaded_fails_due_to_neutron(self): server_req = self._build_minimal_create_server_request( self.api, name='unshelve-error-vm', image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[{'port': self.neutron.port_1['id']}], az='nova:host1') created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.api, created_server, 'ACTIVE') # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # disable the original host of the instance to force a port update # during unshelve source_service_id = self.api.get_services( host='host1', binary='nova-compute')[0]['id'] self.api.put_service(source_service_id, {""status"": ""disabled""}) # Simulate that port update fails during unshelve due to neutron is # unavailable with mock.patch( 'nova.tests.fixtures.NeutronFixture.' 'update_port') as mock_update_port: mock_update_port.side_effect = neutron_exception.ConnectionFailed( reason='test') req = {'unshelve': None} self.api.post_server_action(server['id'], req) fake_notifier.wait_for_versioned_notifications( 'instance.unshelve.start') self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-STS:task_state': None}) # As the instance went back to offloaded state we expect no allocation # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(1, len(allocations)) ",,98,0
openstack%2Fnova~stable%2Frocky~I9d6cd6259659a35383c0c9c21db72a9434ba86b1,openstack/nova,stable/rocky,I9d6cd6259659a35383c0c9c21db72a9434ba86b1,Enhance service restart in functional env,MERGED,2020-03-13 17:16:38.000000000,2020-03-16 10:45:16.000000000,2020-03-14 18:34:59.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-13 17:16:38.000000000', 'files': ['nova/test.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/53a893f7c97e35de3e9ac26101827cdb43ed35cc', 'message': ""Enhance service restart in functional env\n\nBugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting\na compute service in the functional env is unrealistic causing faults\nto slip through. During that bug fix only the minimal change was done\nin the functional env regarding compute service restart to reproduce\nthe reported fault. However the restart of the compute service could\nbe made even more realistic.\n\nThis patch simulates a compute service restart in the functional env\nby stopping the original compute service and starting a totally new\ncompute service for the same host and node. This way we can make sure\nthat we get a brand new ComputeManager in the new service and no\nstate can leak between the old and the new service.\n\nThis change revealed another shortcoming of the functional env.\nIn the real world the nova-compute service could be restarted without\nloosing any running servers on the compute host. But with the naive\nimplementation of this change the compute service is re-created. This\nmeans that a new ComputeManager is instantiated that loads a new\nFakeDriver instance as well. That new FakeDriver instance then reports\nan empty hypervisor. This behavior is not totally unrealistic as it\nsimulates such a compute host restart that cleans the hypervisor state\nas well (e.g. compute host redeployment). However this type of restart\nshows another bug in the code path that destroys and deallocates\nevacuated instance from the source host. Therefore this patch\nimplements the compute service restart in a way that simulates only a\nservice restart and not a full compute restart. A subsequent patch will\nadd a test that uses the clean hypervisor case to reproduces the\nrevealed bug.\n\nRelated-Bug: #1724172\n\nOn stable/stein:\n\nCloses-Bug: #1859766\n\nConflicts:\n    doc/notification_samples/libvirt-connect-error.json\n    nova/test.py\n    nova/tests/functional/libvirt/test_reshape.py\n    nova/tests/functional/test_servers.py\n\nNOTE(elod.illes): files conflicts details:\n* libvirt-connect-error.json:\n  File added only in Stein with libvirt.error notification\n  transformation patch I7d2287ce06d77c0afdef0ea8bdfb70f6c52d3c50\n* test.py:\n  Patches Iecf4dcf8e648c9191bf8846428683ec81812c026 (Remove patching\n  the mock lib) and Ibb8c12fb2799bb5ceb9e3d72a2b86dbb4f14451e (Use a\n  static resource tracker in compute manager) were not backported to\n  Rocky\n* test_reshape.py:\n  File added only in Stein in the frame of 'Handling Reshaped Provider\n  Trees' feature, with patch Ide797ebf7790d69042ae275ebec6ced3fa4787b6\n* test_servers.py:\n  Patch I7cbd5d9fb875ebf72995362e0b6693492ce32051 (Reject forced move\n  with nested source allocation) is not present in Rocky as it is part\n  of 'Nested Resource Providers - Allocation Candidates' implemented in\n  Stein\n\nChange-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1\n(cherry picked from commit 2794748d9c58623045023f34c7793c58ce41447c)\n(cherry picked from commit b874c409c11b5d83508d2f0276a9a648f72192a4)\n""}]",0,713033,53a893f7c97e35de3e9ac26101827cdb43ed35cc,13,8,1,17685,,,0,"Enhance service restart in functional env

Bugfix Icaf1bae8cb040b939f916a19ce026031ddb84af7 showed that restarting
a compute service in the functional env is unrealistic causing faults
to slip through. During that bug fix only the minimal change was done
in the functional env regarding compute service restart to reproduce
the reported fault. However the restart of the compute service could
be made even more realistic.

This patch simulates a compute service restart in the functional env
by stopping the original compute service and starting a totally new
compute service for the same host and node. This way we can make sure
that we get a brand new ComputeManager in the new service and no
state can leak between the old and the new service.

This change revealed another shortcoming of the functional env.
In the real world the nova-compute service could be restarted without
loosing any running servers on the compute host. But with the naive
implementation of this change the compute service is re-created. This
means that a new ComputeManager is instantiated that loads a new
FakeDriver instance as well. That new FakeDriver instance then reports
an empty hypervisor. This behavior is not totally unrealistic as it
simulates such a compute host restart that cleans the hypervisor state
as well (e.g. compute host redeployment). However this type of restart
shows another bug in the code path that destroys and deallocates
evacuated instance from the source host. Therefore this patch
implements the compute service restart in a way that simulates only a
service restart and not a full compute restart. A subsequent patch will
add a test that uses the clean hypervisor case to reproduces the
revealed bug.

Related-Bug: #1724172

On stable/stein:

Closes-Bug: #1859766

Conflicts:
    doc/notification_samples/libvirt-connect-error.json
    nova/test.py
    nova/tests/functional/libvirt/test_reshape.py
    nova/tests/functional/test_servers.py

NOTE(elod.illes): files conflicts details:
* libvirt-connect-error.json:
  File added only in Stein with libvirt.error notification
  transformation patch I7d2287ce06d77c0afdef0ea8bdfb70f6c52d3c50
* test.py:
  Patches Iecf4dcf8e648c9191bf8846428683ec81812c026 (Remove patching
  the mock lib) and Ibb8c12fb2799bb5ceb9e3d72a2b86dbb4f14451e (Use a
  static resource tracker in compute manager) were not backported to
  Rocky
* test_reshape.py:
  File added only in Stein in the frame of 'Handling Reshaped Provider
  Trees' feature, with patch Ide797ebf7790d69042ae275ebec6ced3fa4787b6
* test_servers.py:
  Patch I7cbd5d9fb875ebf72995362e0b6693492ce32051 (Reject forced move
  with nested source allocation) is not present in Rocky as it is part
  of 'Nested Resource Providers - Allocation Candidates' implemented in
  Stein

Change-Id: I9d6cd6259659a35383c0c9c21db72a9434ba86b1
(cherry picked from commit 2794748d9c58623045023f34c7793c58ce41447c)
(cherry picked from commit b874c409c11b5d83508d2f0276a9a648f72192a4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/713033/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/functional/regressions/test_bug_1794996.py', 'nova/tests/functional/test_servers.py']",3,53a893f7c97e35de3e9ac26101827cdb43ed35cc,bug/1859766, self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1) self.compute1 = self.restart_compute_service(self.compute1), self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1) self.restart_compute_service(self.compute1),50,17
openstack%2Fnova~stable%2Frocky~I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,openstack/nova,stable/rocky,I2cf2fcbaebc706f897ce5dfbff47d32117064f9c,Remove global state from the FakeDriver,MERGED,2020-03-12 17:49:51.000000000,2020-03-16 10:45:06.000000000,2020-03-13 17:29:08.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-12 17:49:51.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/regressions/test_bug_1718455.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/functional/regressions/test_bug_1797580.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1702454.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1815153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/930bf0ae1be07744183c40c6a20d0518a352947f', 'message': ""Remove global state from the FakeDriver\n\nThe virt driver FakeDriver used in both the functional and in the unit\ntest used a global state to configure the host and node names the driver\nreports. This was hard to use when more then one compute service is started.\nAlso global state is dangerous.\n\nIt turned out that only a set of unit tests are using multiple nodes per\ncompute the rest of the tests can simply use host=<hostname>,\nnodes=[<hostname>] setup.\n\nSo this removes the global state.\n\nConflicts:\n    nova/tests/functional/compute/test_live_migration.py\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1671648.py\n    nova/tests/functional/regressions/test_bug_1702454.py\n    nova/tests/functional/regressions/test_bug_1718455.py\n    nova/tests/functional/regressions/test_bug_1718512.py\n    nova/tests/functional/regressions/test_bug_1719730.py\n    nova/tests/functional/regressions/test_bug_1735407.py\n    nova/tests/functional/regressions/test_bug_1741307.py\n    nova/tests/functional/regressions/test_bug_1746483.py\n    nova/tests/functional/regressions/test_bug_1764883.py\n    nova/tests/functional/regressions/test_bug_1781710.py\n    nova/tests/functional/regressions/test_bug_1784353.py\n    nova/tests/functional/regressions/test_bug_1797580.py\n    nova/tests/functional/test_aggregates.py\n    nova/tests/functional/test_server_group.py\n    nova/tests/functional/test_servers.py\n    nova/tests/unit/compute/test_compute_mgr.py\n\nNote(elod.illes): cause of conflicts of the files:\n* test_live_migration.py:\n    Patch Icb0bdaf454935b3713c35339394d260b33520de5 had to be\n    refactored during backport to Rocky as uuidsentinel moved to oslo\n    in Stein.\n* integrated_helpers.py:\n    Patches I4c12502c86c7ac27369d119e0f97768cf41695b5 and\n    I7f5f08691ca3f73073c66c29dddb996fb2c2b266 were only added in Stein.\n* test_bug_1671648.py, test_bug_1702454.py, test_bug_1718455.py,\n  test_bug_1718512.py, test_bug_1719730.py, test_bug_1735407.py,\n  test_bug_1741307.py, test_bug_1746483.py, test_bug_1764883.py,\n  test_bug_1781710.py, test_bug_1784353.py, test_bug_1797580.py,\n  test_servers.py:\n    Duplicate cleanup removal patch\n    Iaae6fc4a66145576f4a4fc1cea452ef6acbadb15 is not backported to\n    Rocky.\n* test_aggregates.py:\n    Patches Ic55b88e7ad21ab5b7ad063eac743ff9406aae559 and\n    Ic55b88e7ad21ab5b7ad063eac743ff9406aae559 were not backported to\n    Rocky.\n* test_server_group.py:\n    Iaae6fc4a66145576f4a4fc1cea452ef6acbadb15 (Duplicate cleanup\n    removal) and Ie07b419732e0832a9b9d16565f6c9d00ba85d654 (Add\n    functional test for live migrate with anti-affinity group) patches\n    were only added in Stein and were not backported to Rocky.\n* test_compute_mgr.py:\n    Patch I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc (Raise\n    InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize)\n    isn't backported to Rocky.\n\nRelated-Bug: #1859766\n\nChange-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c\n(cherry picked from commit b5666fb49239dbed6777481be63276db35ed8118)\n(cherry picked from commit 23d3b8fbc9d793b4faba472ec6a0f7b95be1e70f)\n""}]",1,712751,930bf0ae1be07744183c40c6a20d0518a352947f,12,7,1,17685,,,0,"Remove global state from the FakeDriver

The virt driver FakeDriver used in both the functional and in the unit
test used a global state to configure the host and node names the driver
reports. This was hard to use when more then one compute service is started.
Also global state is dangerous.

It turned out that only a set of unit tests are using multiple nodes per
compute the rest of the tests can simply use host=<hostname>,
nodes=[<hostname>] setup.

So this removes the global state.

Conflicts:
    nova/tests/functional/compute/test_live_migration.py
    nova/tests/functional/integrated_helpers.py
    nova/tests/functional/regressions/test_bug_1671648.py
    nova/tests/functional/regressions/test_bug_1702454.py
    nova/tests/functional/regressions/test_bug_1718455.py
    nova/tests/functional/regressions/test_bug_1718512.py
    nova/tests/functional/regressions/test_bug_1719730.py
    nova/tests/functional/regressions/test_bug_1735407.py
    nova/tests/functional/regressions/test_bug_1741307.py
    nova/tests/functional/regressions/test_bug_1746483.py
    nova/tests/functional/regressions/test_bug_1764883.py
    nova/tests/functional/regressions/test_bug_1781710.py
    nova/tests/functional/regressions/test_bug_1784353.py
    nova/tests/functional/regressions/test_bug_1797580.py
    nova/tests/functional/test_aggregates.py
    nova/tests/functional/test_server_group.py
    nova/tests/functional/test_servers.py
    nova/tests/unit/compute/test_compute_mgr.py

Note(elod.illes): cause of conflicts of the files:
* test_live_migration.py:
    Patch Icb0bdaf454935b3713c35339394d260b33520de5 had to be
    refactored during backport to Rocky as uuidsentinel moved to oslo
    in Stein.
* integrated_helpers.py:
    Patches I4c12502c86c7ac27369d119e0f97768cf41695b5 and
    I7f5f08691ca3f73073c66c29dddb996fb2c2b266 were only added in Stein.
* test_bug_1671648.py, test_bug_1702454.py, test_bug_1718455.py,
  test_bug_1718512.py, test_bug_1719730.py, test_bug_1735407.py,
  test_bug_1741307.py, test_bug_1746483.py, test_bug_1764883.py,
  test_bug_1781710.py, test_bug_1784353.py, test_bug_1797580.py,
  test_servers.py:
    Duplicate cleanup removal patch
    Iaae6fc4a66145576f4a4fc1cea452ef6acbadb15 is not backported to
    Rocky.
* test_aggregates.py:
    Patches Ic55b88e7ad21ab5b7ad063eac743ff9406aae559 and
    Ic55b88e7ad21ab5b7ad063eac743ff9406aae559 were not backported to
    Rocky.
* test_server_group.py:
    Iaae6fc4a66145576f4a4fc1cea452ef6acbadb15 (Duplicate cleanup
    removal) and Ie07b419732e0832a9b9d16565f6c9d00ba85d654 (Add
    functional test for live migrate with anti-affinity group) patches
    were only added in Stein and were not backported to Rocky.
* test_compute_mgr.py:
    Patch I17543ecb572934ecc7d0bbc7a4ad2f537fa499bc (Raise
    InstanceFaultRollback for UnableToMigrateToSelf from _prep_resize)
    isn't backported to Rocky.

Related-Bug: #1859766

Change-Id: I2cf2fcbaebc706f897ce5dfbff47d32117064f9c
(cherry picked from commit b5666fb49239dbed6777481be63276db35ed8118)
(cherry picked from commit 23d3b8fbc9d793b4faba472ec6a0f7b95be1e70f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/712751/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/functional/test_availability_zones.py', 'nova/tests/functional/regressions/test_bug_1718455.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/functional/regressions/test_bug_1797580.py', 'nova/test.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/functional/regressions/test_bug_1718512.py', 'nova/tests/functional/regressions/test_bug_1839560.py', 'nova/tests/functional/regressions/test_bug_1669054.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/functional/regressions/test_bug_1702454.py', 'nova/tests/functional/regressions/test_bug_1735407.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/virt/fake.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/functional/regressions/test_bug_1671648.py', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/regressions/test_bug_1741307.py', 'nova/tests/functional/regressions/test_bug_1764556.py', 'nova/tests/functional/regressions/test_bug_1781710.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1815153.py']",31,930bf0ae1be07744183c40c6a20d0518a352947f,bug/1859766," for host in ('host1', 'host2', 'host3'):","from nova.virt import fake self.addCleanup(fake.restore_nodes) for host in ('host1', 'host2', 'host3'): fake.set_nodes([host])",34,176
openstack%2Fkolla~stable%2Ftrain~I5f55c892b1ae9eba9b6af8a45ef7dfad515c7b05,openstack/kolla,stable/train,I5f55c892b1ae9eba9b6af8a45ef7dfad515c7b05,Add cinderlib RPM to cinder-volume,MERGED,2020-03-04 11:21:01.000000000,2020-03-16 10:39:32.000000000,2020-03-16 10:31:46.000000000,"[{'_account_id': 9535}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-03-04 11:21:01.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc11d8d39a756cb66ae353c16f7fa6c4eb405e82', 'message': 'Add cinderlib RPM to cinder-volume\n\nFinding the root cause of attach/detach operation on volumes can be very\ncomplicated.\n\nThis patch adds the cinderlib RPM to the cinder-volume container, which\ncan, in many scenarios, really help debug these issues on live nodes\n(controller and compute) without affecting our running services.\n\nChange-Id: I5f55c892b1ae9eba9b6af8a45ef7dfad515c7b05\n(cherry picked from commit a1b74b76977f8300938c6a6a9adf67af6cd50086)\n'}]",0,711206,fc11d8d39a756cb66ae353c16f7fa6c4eb405e82,12,4,1,9535,,,0,"Add cinderlib RPM to cinder-volume

Finding the root cause of attach/detach operation on volumes can be very
complicated.

This patch adds the cinderlib RPM to the cinder-volume container, which
can, in many scenarios, really help debug these issues on live nodes
(controller and compute) without affecting our running services.

Change-Id: I5f55c892b1ae9eba9b6af8a45ef7dfad515c7b05
(cherry picked from commit a1b74b76977f8300938c6a6a9adf67af6cd50086)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/711206/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,fc11d8d39a756cb66ae353c16f7fa6c4eb405e82,train/add-cinderlib," 'python3-cinderlib', 'python2-cinderlib',",,2,0
openstack%2Fkolla~stable%2Ftrain~I5d1bcb0f7d7902b4e122c12697483433bcf52ca2,openstack/kolla,stable/train,I5d1bcb0f7d7902b4e122c12697483433bcf52ca2,Adds python3-systemd for ansible deploy interface,MERGED,2020-03-11 13:26:12.000000000,2020-03-16 10:37:58.000000000,2020-03-16 10:31:44.000000000,"[{'_account_id': 290}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-03-11 13:26:12.000000000', 'files': ['releasenotes/notes/add-python3-systemd-for-ironic-source-9a6883496e101da9.yaml', 'docker/ironic/ironic-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2a18a53423cde85e26c1611ae2b2a915b99bc3a', 'message': 'Adds python3-systemd for ansible deploy interface\n\nWhen doing a source install, ironic doesn\'t have python3-systemd as a\ndependency and the current ironic-conductor container doesn\'t install\nthe required dependencies which causes the ansible deploy interface to\nfail with the error, ""Systemd bindings do not exist"".  This adds the\nneeded dependencies when doing a source build.  This installs the needed\nfiles for both rpm and deb builds on python 2.x and 3.x.\n\nChange-Id: I5d1bcb0f7d7902b4e122c12697483433bcf52ca2\nCloses-Bug: #1861427\n(cherry picked from commit 4a67e58f7971641c55247f02985e13ef391ca7ab)\n'}]",0,712419,b2a18a53423cde85e26c1611ae2b2a915b99bc3a,10,5,1,14826,,,0,"Adds python3-systemd for ansible deploy interface

When doing a source install, ironic doesn't have python3-systemd as a
dependency and the current ironic-conductor container doesn't install
the required dependencies which causes the ansible deploy interface to
fail with the error, ""Systemd bindings do not exist"".  This adds the
needed dependencies when doing a source build.  This installs the needed
files for both rpm and deb builds on python 2.x and 3.x.

Change-Id: I5d1bcb0f7d7902b4e122c12697483433bcf52ca2
Closes-Bug: #1861427
(cherry picked from commit 4a67e58f7971641c55247f02985e13ef391ca7ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/712419/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-python3-systemd-for-ironic-source-9a6883496e101da9.yaml', 'docker/ironic/ironic-conductor/Dockerfile.j2']",2,b2a18a53423cde85e26c1611ae2b2a915b99bc3a,add_systemd_source-stable/train," 'python3-systemd', 'systemd-python', 'python3-systemd',",,9,0
openstack%2Fkolla~master~I456402849022100bde1fffdfbf6292b35690f0f2,openstack/kolla,master,I456402849022100bde1fffdfbf6292b35690f0f2,"kibana, nova-libvirt: handle it properly for non-x86",MERGED,2020-03-13 15:47:39.000000000,2020-03-16 10:33:57.000000000,2020-03-16 10:31:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-13 15:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/032dab67217e0633a5d5225921f2fd49530e7864', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nChange-Id: I456402849022100bde1fffdfbf6292b35690f0f2\n""}, {'number': 2, 'created': '2020-03-13 16:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80f4f061c65f3255822ec80114e443ab10053ed2', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nChange-Id: I456402849022100bde1fffdfbf6292b35690f0f2\n""}, {'number': 3, 'created': '2020-03-13 16:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65b2e121119968d0d8c576b41d387de6ba285d30', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nCloses: #1867365\n\nChange-Id: I456402849022100bde1fffdfbf6292b35690f0f2\n""}, {'number': 4, 'created': '2020-03-13 16:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1d5e76d7040babc3ab94bec1e00fdde6647850a3', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nCloses-bug: #1867365\n\nChange-Id: I456402849022100bde1fffdfbf6292b35690f0f2\n""}, {'number': 5, 'created': '2020-03-13 18:28:42.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/kibana/Dockerfile.j2', 'docker/base/apt_preferences.debian', 'releasenotes/notes/bug-1867365-115d717288e7c7d0.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/245992d37c0d051ed50bd843e4ba4ba852373afe', 'message': ""kibana, nova-libvirt: handle it properly for non-x86\n\nUpstream kibana package contains NodeJS x86-64 binaries so can not be\nused directly on non-x86 architectures. I took upstream packages,\nremoved NodeJS binary from it and added 'nodejs' dependency.\n\nPackage is present in my Linaro OBS repository where I keep other\npackages needed for aarch64 kolla run. Via APT pinning I mark them as\nnot wanted so they are not used on any architecture with two exceptions:\n\n1. libvirt - we need fixed version to be able to use ThunderX servers\n2. kibana - to be able to run it at all\n\nFor x86-64 upstream kibana package is used.\n\nCloses-bug: #1867365\n\nChange-Id: I456402849022100bde1fffdfbf6292b35690f0f2\n""}]",4,712987,245992d37c0d051ed50bd843e4ba4ba852373afe,25,5,5,24072,,,0,"kibana, nova-libvirt: handle it properly for non-x86

Upstream kibana package contains NodeJS x86-64 binaries so can not be
used directly on non-x86 architectures. I took upstream packages,
removed NodeJS binary from it and added 'nodejs' dependency.

Package is present in my Linaro OBS repository where I keep other
packages needed for aarch64 kolla run. Via APT pinning I mark them as
not wanted so they are not used on any architecture with two exceptions:

1. libvirt - we need fixed version to be able to use ThunderX servers
2. kibana - to be able to run it at all

For x86-64 upstream kibana package is used.

Closes-bug: #1867365

Change-Id: I456402849022100bde1fffdfbf6292b35690f0f2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/712987/5 && git format-patch -1 --stdout FETCH_HEAD,"['docker/kibana/Dockerfile.j2', 'docker/nova/nova-libvirt/Dockerfile.j2', 'docker/base/apt_preferences.debian', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",5,032dab67217e0633a5d5225921f2fd49530e7864,bug/1867365,"debian-aarch64: elasticsearch: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./"" grafana: ""deb https://packages.grafana.com/oss/deb stable main"" influxdb: ""deb https://repos.influxdata.com/debian buster stable"" kibana: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./"" libvirt: ""deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/debian-buster ./"" ",,32,10
openstack%2Ftripleo-ci~master~I6baf929bc373f8217a037f90791facb61d4cc5ff,openstack/tripleo-ci,master,I6baf929bc373f8217a037f90791facb61d4cc5ff,Enable tempest using validate-tempest on sc10,ABANDONED,2020-03-16 10:25:53.000000000,2020-03-16 10:32:13.000000000,,[],"[{'number': 1, 'created': '2020-03-16 10:25:53.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e3f0d94e9098dab271003db1d2db2650b7592bdf', 'message': 'Enable tempest using validate-tempest on sc10\n\nIt also syncs the definition from periodic job\nto upstream check job [1.]\n\n[1.] https://review.rdoproject.org/r/#/c/25915\n\nChange-Id: I6baf929bc373f8217a037f90791facb61d4cc5ff\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,713184,e3f0d94e9098dab271003db1d2db2650b7592bdf,2,0,1,12393,,,0,"Enable tempest using validate-tempest on sc10

It also syncs the definition from periodic job
to upstream check job [1.]

[1.] https://review.rdoproject.org/r/#/c/25915

Change-Id: I6baf929bc373f8217a037f90791facb61d4cc5ff
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/84/713184/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,e3f0d94e9098dab271003db1d2db2650b7592bdf,fix_tempest, run_tempest: true use_os_tempest: false,,2,0
openstack%2Fkolla~master~I308dcd92666993f6726c8984270f2796283aca9a,openstack/kolla,master,I308dcd92666993f6726c8984270f2796283aca9a,CI: CentOS 8: Enable ceph-ansible jobs,MERGED,2020-03-12 15:50:08.000000000,2020-03-16 10:31:47.000000000,2020-03-16 10:31:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-12 15:50:08.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f6ee3422786292520d61317e8eaf9e93c134d587', 'message': 'CI: CentOS 8: Enable ceph-ansible jobs\n\nChange-Id: I308dcd92666993f6726c8984270f2796283aca9a\nPartially-Implements: blueprint centos-rhel-8\n'}]",0,712719,f6ee3422786292520d61317e8eaf9e93c134d587,8,3,1,14826,,,0,"CI: CentOS 8: Enable ceph-ansible jobs

Change-Id: I308dcd92666993f6726c8984270f2796283aca9a
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/712719/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,f6ee3422786292520d61317e8eaf9e93c134d587,bp/centos-rhel-8, - kolla-ansible-centos8-source-ceph-ansible: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-centos8-source-upgrade-ceph-ansible: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.*,,4,0
openstack%2Ftripleo-common~stable%2Ftrain~Ife347f754ca9129580c092bb271bacdc032ae14b,openstack/tripleo-common,stable/train,Ife347f754ca9129580c092bb271bacdc032ae14b,Improve upload-swift-artifacts handling of json data,MERGED,2020-03-02 15:04:56.000000000,2020-03-16 10:10:22.000000000,2020-03-16 10:08:23.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-02 15:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/151f672f0dcc1ba3654710d85b06756882f981ba', 'message': 'Improve upload-swift-artifacts handling of json data\n\nThe ""openstack container show"" output changed, and the value of the\nproperties field is json (meaning that specifying ""-f value"" doesn\'t\neliminate the json formatting). This patch replaces sed to parse the\noutput with a jq expression that knows how to handle json.\n\nMisc notes:\n- Using ""jq -r"" tells jq not to quote the value of the Temp-URL-Key\n- In the jq expression, ""Temp-URL-Key"" must be quoted or else the jq\n  parser stumbles on the \'-\' dashes\n\nChange-Id: Ife347f754ca9129580c092bb271bacdc032ae14b\n(cherry picked from commit c97180ce00e91673990311276c8dcb59af379a1f)\n'}, {'number': 2, 'created': '2020-03-12 12:50:51.000000000', 'files': ['scripts/upload-swift-artifacts'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2e9011fd2133a84b249313f98cb0d752ef25c40', 'message': 'Improve upload-swift-artifacts handling of json data\n\nThe ""openstack container show"" output changed, and the value of the\nproperties field is json (meaning that specifying ""-f value"" doesn\'t\neliminate the json formatting). This patch replaces sed to parse the\noutput with a jq expression that knows how to handle json.\n\nMisc notes:\n- Using ""jq -r"" tells jq not to quote the value of the Temp-URL-Key\n- In the jq expression, ""Temp-URL-Key"" must be quoted or else the jq\n  parser stumbles on the \'-\' dashes\n\nChange-Id: Ife347f754ca9129580c092bb271bacdc032ae14b\n(cherry picked from commit c97180ce00e91673990311276c8dcb59af379a1f)\n'}]",0,710793,d2e9011fd2133a84b249313f98cb0d752ef25c40,26,7,2,21129,,,0,"Improve upload-swift-artifacts handling of json data

The ""openstack container show"" output changed, and the value of the
properties field is json (meaning that specifying ""-f value"" doesn't
eliminate the json formatting). This patch replaces sed to parse the
output with a jq expression that knows how to handle json.

Misc notes:
- Using ""jq -r"" tells jq not to quote the value of the Temp-URL-Key
- In the jq expression, ""Temp-URL-Key"" must be quoted or else the jq
  parser stumbles on the '-' dashes

Change-Id: Ife347f754ca9129580c092bb271bacdc032ae14b
(cherry picked from commit c97180ce00e91673990311276c8dcb59af379a1f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/710793/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upload-swift-artifacts'],1,151f672f0dcc1ba3654710d85b06756882f981ba,bug/1867135,"# jq will output ""null"" if it doesn'tSWIFT_TEMP_URL_KEY=$(openstack container show $CONTAINER_NAME -f json 2>/dev/null | jq -r '.properties.""Temp-URL-Key""' || true) if [ ""$SWIFT_TEMP_URL_KEY"" != ""null"" ]; then","KEY_SET=$(openstack container show $CONTAINER_NAME -c properties -f value 2>/dev/null | tr ',' '\n' | grep Temp-Url-Key || true) if [ -z $KEY_SET ]; thenelse SWIFT_TEMP_URL_KEY=$(echo -n $KEY_SET | sed -rn ""s/[[:space:]]*Temp-Url-Key='([[:alnum:]]+)'.*/\1/p"")",3,4
openstack%2Fmagnum~master~Ie3106b40b4d1c6866761c507122047e88e513651,openstack/magnum,master,Ie3106b40b4d1c6866761c507122047e88e513651,k8s-fedora: Set max-size to 10m for containers,MERGED,2020-03-11 15:18:16.000000000,2020-03-16 10:09:06.000000000,2020-03-16 10:05:45.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-11 15:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/659c06ebdeb8b7e19349b0dc7730dd0bd78acfa2', 'message': 'k8s-fedora: Set max-size tp 10m for containers\n\nSet the max-size for container/pod logs to 10m\nand max of 5 rotated files. The values relay\nthe default of kubernetes when it is using\na remote container runtime [0] (container-log-max-files\nand container-log-max-size) This defaults cover the\ncase of containerd.\n\n[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/\n\nstory: 2007402\ntask: 39031\n\nChange-Id: Ie3106b40b4d1c6866761c507122047e88e513651\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2020-03-11 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5d69b86044d6dc919a108a59637ccd7098280615', 'message': 'k8s-fedora: Set max-size to 10m for containers\n\nSet the max-size for container/pod logs to 10m\nand max of 5 rotated files. The values relay\nthe default of kubernetes when it is using\na remote container runtime [0] (container-log-max-files\nand container-log-max-size) This defaults cover the\ncase of containerd.\n\n[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/\n\nstory: 2007402\ntask: 39031\n\nChange-Id: Ie3106b40b4d1c6866761c507122047e88e513651\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 3, 'created': '2020-03-12 15:18:57.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/af74b326d01f6e64eec1bebb28f227a6917ef35b', 'message': 'k8s-fedora: Set max-size to 10m for containers\n\nSet the max-size for container/pod logs to 10m\nand max of 5 rotated files. The values relay\nthe default of kubernetes when it is using\na remote container runtime [0] (container-log-max-files\nand container-log-max-size) This defaults cover the\ncase of containerd.\n\n[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/\n\nstory: 2007402\ntask: 39031\n\nChange-Id: Ie3106b40b4d1c6866761c507122047e88e513651\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",12,712475,af74b326d01f6e64eec1bebb28f227a6917ef35b,29,4,3,20498,,,0,"k8s-fedora: Set max-size to 10m for containers

Set the max-size for container/pod logs to 10m
and max of 5 rotated files. The values relay
the default of kubernetes when it is using
a remote container runtime [0] (container-log-max-files
and container-log-max-size) This defaults cover the
case of containerd.

[0] https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/

story: 2007402
task: 39031

Change-Id: Ie3106b40b4d1c6866761c507122047e88e513651
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/75/712475/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,659c06ebdeb8b7e19349b0dc7730dd0bd78acfa2,logging,"# json-file is required for conformance. 50 megabytes per container, max 3 files rotated. sed -i -E 's/^OPTIONS=(""|'""'""')/OPTIONS=\1--log-driver=json-file --log-opt max-size=10m --log-opt max-file=5 /' /etc/sysconfig/docker",,4,0
openstack%2Fmagnum~master~I5cb78aa625c926e101424c04573002d05ac82a59,openstack/magnum,master,I5cb78aa625c926e101424c04573002d05ac82a59,Add fcct config for coreos user_data,MERGED,2020-03-10 18:57:27.000000000,2020-03-16 10:04:30.000000000,2020-03-16 10:02:22.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-10 18:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/25acbd81ba3cfb7b9cf095dae2e2e72e5c6ce51d', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedore\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-03-10 19:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/342ceedc653285e7bc87e7245a3b98704ca0ffd7', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedore\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2020-03-10 19:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8bb77382e996d1d6362233584de709febcf4485c', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedore\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2020-03-11 10:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c130983b54ca0482655a54d248425748a7d67fe7', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 5, 'created': '2020-03-11 10:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b02d1c48f567446d0cbdb13f70accca966d2136f', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 6, 'created': '2020-03-11 10:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/66a4b4acb8499cb793f4e674b1510ca2d9123f77', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 7, 'created': '2020-03-11 11:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ab9b0f9aca5dfb52b5d4f2726b4b2616a115bcff', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 8, 'created': '2020-03-11 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f3e170e270733390fe02851b6daa41434fa9cce4', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 9, 'created': '2020-03-11 12:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5fc3e0c74d7f98d4d2b880dbf7332dd87e447ba4', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 10, 'created': '2020-03-11 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/741fcaf21a199f95b7950bc5b840ef8a1682bf18', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 11, 'created': '2020-03-11 12:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a8ab482a5af039fa8c7b2b8fe74b9407064050f4', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 12, 'created': '2020-03-11 13:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/956456714f82de96f4256ee84649ccaad4f034d0', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 13, 'created': '2020-03-11 14:18:12.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/78435e4ff82470a37044ce45908692d78d140b63', 'message': 'Add fcct config for coreos user_data\n\nUntil now we had only the output of the Fedora\nCoreOS Configuration Transpiler. Add a yaml\nthat can transpile it to an ignition file.\n\nThe current ignition file was generate with\nversion v0.4.0:\npodman run --rm -v ./fcct-config.yaml:/config.fcc:z \\\nquay.io/coreos/fcct:v0.4.0 \\\n--pretty --strict --input /config.fcc > ./user_data.json\n\nstory: 2005201\ntask: 39027\n\nChange-Id: I5cb78aa625c926e101424c04573002d05ac82a59\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",20,712154,78435e4ff82470a37044ce45908692d78d140b63,48,4,13,20498,,,0,"Add fcct config for coreos user_data

Until now we had only the output of the Fedora
CoreOS Configuration Transpiler. Add a yaml
that can transpile it to an ignition file.

The current ignition file was generate with
version v0.4.0:
podman run --rm -v ./fcct-config.yaml:/config.fcc:z \
quay.io/coreos/fcct:v0.4.0 \
--pretty --strict --input /config.fcc > ./user_data.json

story: 2005201
task: 39027

Change-Id: I5cb78aa625c926e101424c04573002d05ac82a59
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/54/712154/12 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",4,25acbd81ba3cfb7b9cf095dae2e2e72e5c6ce51d,logging,"variant: fcos version: 1.0.0 passwd: users: - name: core ssh_authorized_keys: - ""__SSH_KEY_VALUE__"" storage: directories: - path: /var/lib/cloud/data group: name: root user: name: root mode: 644 - path: /var/lib/heat-cfntools group: name: root user: name: root mode: 644 files: - path: /etc/hostname mode: 420 group: name: root user: name: root contents: inline: | __HOSTNAME__ - path: /etc/pki/ca-trust/source/anchors/openstack-ca.pem group: name: root user: name: root contents: inline: | __OPENSTACK_CA__ - path: /root/configure-agent-env.sh group: name: root user: name: root mode: 700 contents: inline: | #!/bin/bash set -x set -e set +u until [ -f /etc/pki/ca-trust/source/anchors/openstack-ca.pem ] do echo ""waiting for /etc/pki/ca-trust/source/anchors/openstack-ca.pem"" sleep 3s done /usr/bin/update-ca-trust HTTP_PROXY=""__HTTP_PROXY__"" HTTPS_PROXY=""__HTTPS_PROXY__"" NO_PROXY=""__NO_PROXY__"" CONTAINER_INFRA_PREFIX=""__CONTAINER_INFRA_PREFIX__"" HEAT_CONTAINER_AGENT_TAG=""__HEAT_CONTAINER_AGENT_TAG__"" if [ -n ""${HTTP_PROXY}"" ]; then export HTTP_PROXY echo ""http_proxy=${HTTP_PROXY}"" >> /etc/environment fi if [ -n ""${HTTPS_PROXY}"" ]; then export HTTPS_PROXY echo ""https_proxy=${HTTPS_PROXY}"" >> /etc/environment fi if [ -n ""${NO_PROXY}"" ]; then export NO_PROXY echo ""no_proxy=${NO_PROXY}"" >> /etc/environment fi # Create a keypair for the heat-container-agent to # access the node over ssh. It is useful to operate # in host mount namespace and apply configuration. id mkdir -p /srv/magnum/.ssh chmod 0700 /srv/magnum/.ssh #touch /srv/magnum/.ssh/heat_agent_rsa ssh-keygen -q -t rsa -N '' -f /tmp/heat_agent_rsa mv /tmp/heat_agent_rsa /srv/magnum/.ssh/heat_agent_rsa mv /tmp/heat_agent_rsa.pub /srv/magnum/.ssh/heat_agent_rsa.pub chmod 0400 /srv/magnum/.ssh/heat_agent_rsa chmod 0400 /srv/magnum/.ssh/heat_agent_rsa.pub # Add the public to the host authorized_keys file. mkdir -p /root/.ssh chmod 0700 /root/.ssh cat /srv/magnum/.ssh/heat_agent_rsa.pub > /root/.ssh/authorized_keys # Add localost to know_hosts ssh-keyscan 127.0.0.1 > /srv/magnum/.ssh/known_hosts # ssh configguration file, to be specified with ssh -F cat > /srv/magnum/.ssh/config <<EOF Host localhost HostName 127.0.0.1 User root IdentityFile /srv/magnum/.ssh/heat_agent_rsa UserKnownHostsFile /srv/magnum/.ssh/known_hosts EOF sed -i '/^PermitRootLogin/ s/ .*/ without-password/' /etc/ssh/sshd_config # Security enhancement: Disable password authentication sed -i '/^PasswordAuthentication yes/ s/ yes/ no/' /etc/ssh/sshd_config systemctl restart sshd systemd: units: - name: configure-agent-env.service enabled: true contents: | [Unit] Description=Configure heat agent environment After=sshd.service [Service] User=root Group=root Type=simple ExecStart=/bin/bash /root/configure-agent-env.sh Restart=on-failure [Install] WantedBy=multi-user.target - name: heat-container-agent.service enabled: true contents: | [Unit] Description=Run heat-container-agent After=network-online.target configure-agent-env.service Wants=network-online.target [Service] EnvironmentFile=-/etc/environment ExecStartPre=mkdir -p /var/lib/heat-container-agent ExecStartPre=mkdir -p /var/run/heat-config ExecStartPre=mkdir -p /var/run/os-collect-config ExecStartPre=mkdir -p /opt/stack/os-config-refresh ExecStartPre=-mv /var/lib/os-collect-config/local-data /var/lib/cloud/data/cfn-init-data ExecStartPre=mkdir -p /srv/magnum ExecStartPre=-/bin/podman kill heat-container-agent ExecStartPre=-/bin/podman rm heat-container-agent ExecStartPre=-/bin/podman pull $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG ExecStart=/bin/podman run \ --name heat-container-agent \ --privileged \ --net=host \ --volume /srv/magnum:/srv/magnum \ --volume /opt/stack/os-config-refresh:/opt/stack/os-config-refresh \ --volume /run/systemd:/run/systemd \ --volume /etc/:/etc/ \ --volume /var/lib:/var/lib \ --volume /var/run:/var/run \ --volume /var/log:/var/log \ --volume /tmp:/tmp \ --volume /dev:/dev \ --env REQUESTS_CA_BUNDLE=/etc/pki/tls/certs/ca-bundle.crt \ $CONTAINER_INFRA_PREFIXheat-container-agent:$HEAT_CONTAINER_AGENT_TAG \ /usr/bin/start-heat-container-agent TimeoutStartSec=10min ExecStop=/bin/podman stop heat-container-agent [Install] WantedBy=multi-user.target ",,267,71
openstack%2Fpython-cinderclient~master~I2fd3a6a7b9add65a9a21388df44efb6747065a74,openstack/python-cinderclient,master,I2fd3a6a7b9add65a9a21388df44efb6747065a74,Add filters support for volume transfer,MERGED,2020-01-16 18:21:12.000000000,2020-03-16 10:02:31.000000000,2020-02-19 17:05:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-01-16 18:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6d91b48c63726800012ec8345d1a0ce764a04e35', 'message': ""Fix: Show transfer with name\n\nCurrently when we show a volume transfer by name, it errors out as\nNotFound.\nThe reason is [1] introduced pagination support for volume transfers\nwhich includes a filter[2] in transfers which didn't exist before[3][4].\nThe filter functionality is right since it catched the issue that\nargument passed from the client 'name'[5] exists as 'display_name'\nin the transfers table[6].\nOne way to fix this is to alter 'name' filter to 'display_name' in\nthe filter function which doesn't seem right.\nThis patch fixes the issue from source by altering the same in\nvolume transfer list request.\n\n[1] https://github.com/openstack/cinder/commit/311c5153bc7a9c13a670e102dee54a91b1adbb43\n[2] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5417\n[3] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5445-L5447\n[4] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/api.py#L5423\n[5] https://github.com/openstack/python-cinderclient/blob/stable/queens/cinderclient/base.py#L407-L408\n[6] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/models.py#L829\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n""}, {'number': 2, 'created': '2020-01-17 17:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bf26e98adee3ed9ffee7cd207d4ee6a314635deb', 'message': ""Fix: Show transfer with name\n\nCurrently when we show a volume transfer by name, it errors out as\nNotFound.\nThe reason is [1] introduced pagination support for volume transfers\nwhich includes a filter[2] in transfers which didn't exist before[3][4].\nThe filter functionality is right since it catched the issue that\nargument passed from the client 'name'[5] exists as 'display_name'\nin the transfers table[6].\nOne way to fix this is to alter 'name' filter to 'display_name' in\nthe filter function which doesn't seem right.\nThis patch fixes the issue from source by altering the same in\nvolume transfer list request.\n\n[1] https://github.com/openstack/cinder/commit/311c5153bc7a9c13a670e102dee54a91b1adbb43\n[2] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5417\n[3] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5445-L5447\n[4] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/api.py#L5423\n[5] https://github.com/openstack/python-cinderclient/blob/stable/queens/cinderclient/base.py#L407-L408\n[6] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/models.py#L829\n\nCloses-Bug: #1860100\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n""}, {'number': 3, 'created': '2020-01-21 17:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2631c5e1e5812fe8e68d679d86624c72e87f933e', 'message': ""Add Functional Tests: Show transfer with name\n\nCurrently when we show a volume transfer by name, it errors out as\nNotFound.\nThe reason is [1] introduced pagination support for volume transfers\nwhich includes a filter[2] in transfers which didn't exist before[3][4].\nA patch is up in cinder to fix this[5] and this patch adds\ntests to confirm it's functionality is correct and avoid regression.\n\n[1] https://github.com/openstack/cinder/commit/311c5153bc7a9c13a670e102dee54a91b1adbb43\n[2] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5417\n[3] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5445-L5447\n[4] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/api.py#L5423\n[5] https://review.opendev.org/#/c/703658\n\nRelated-Bug: #1860100\n\nDepends-On: I6a4d12d5dd55080e9aa73027ed82d3bf13855e28\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n""}, {'number': 4, 'created': '2020-01-21 17:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/4a838181e2c0e73a2e3631f82997a08323fbcca2', 'message': ""Add Functional Tests: Show transfer with name\n\nCurrently when we show a volume transfer by name, it errors out as\nNotFound.\nThe reason is [1] introduced pagination support for volume transfers\nwhich includes a filter[2] in transfers which didn't exist before[3][4].\nA patch is up in cinder to fix this[5] and this patch adds\ntests to confirm it's functionality is correct and avoid regression.\n\n[1] https://github.com/openstack/cinder/commit/311c5153bc7a9c13a670e102dee54a91b1adbb43\n[2] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5417\n[3] https://github.com/openstack/cinder/blob/master/cinder/db/sqlalchemy/api.py#L5445-L5447\n[4] https://github.com/openstack/cinder/blob/stable/queens/cinder/db/sqlalchemy/api.py#L5423\n[5] https://review.opendev.org/#/c/703658\n\nRelated-Bug: #1860100\n\nDepends-On: https://review.opendev.org/#/c/703658/\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n""}, {'number': 5, 'created': '2020-01-29 09:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ba351da275b6340f314aca32c9d93f60b1066f9f', 'message': 'Add filters support for volume transfer\n\nCurrently ``id`` and ``volume_id`` filters are working\ncorrectly for transfer-list command.\nsupport for filtering by ``name`` is handled in patch\nprovided in Depends-On.\nSince filtering by all parameters is supported by API,\nwe can happily add the filters option on the client for\nvolume transfers.\n\nAlso adds functional test for transfers.\n\nRelated-Bug: #1860100\n\nDepends-On: https://review.opendev.org/#/c/703658/\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n'}, {'number': 6, 'created': '2020-02-12 17:54:57.000000000', 'files': ['cinderclient/tests/functional/test_cli.py', 'cinderclient/v3/shell.py', 'releasenotes/notes/support-filters-transfer-a1e7b728c7895a45.yaml', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8d0d0521c62aafc5cb364dd8033635fd8f88f826', 'message': 'Add filters support for volume transfer\n\nCurrently ``id`` and ``volume_id`` filters are working\ncorrectly for transfer-list command.\nsupport for filtering by ``name`` is handled in patch\nprovided in Depends-On.\nSince filtering by all parameters is supported by API,\nwe can happily add the filters option on the client for\nvolume transfers.\n\nAlso adds functional test for transfers.\n\nRelated-Bug: #1860100\n\nDepends-On: https://review.opendev.org/#/c/703658/\n\nChange-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74\n'}]",16,702951,8d0d0521c62aafc5cb364dd8033635fd8f88f826,39,5,6,27615,,,0,"Add filters support for volume transfer

Currently ``id`` and ``volume_id`` filters are working
correctly for transfer-list command.
support for filtering by ``name`` is handled in patch
provided in Depends-On.
Since filtering by all parameters is supported by API,
we can happily add the filters option on the client for
volume transfers.

Also adds functional test for transfers.

Related-Bug: #1860100

Depends-On: https://review.opendev.org/#/c/703658/

Change-Id: I2fd3a6a7b9add65a9a21388df44efb6747065a74
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/51/702951/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/v3/volume_transfers.py'],1,6d91b48c63726800012ec8345d1a0ce764a04e35,702951, if search_opts and search_opts.get('name'): search_opts['display_name'] = search_opts['name'] del search_opts['name'] ,,4,0
openstack%2Fpython-tripleoclient~master~If0184d3db5e49f6c3d302674ce7587ba27050a91,openstack/python-tripleoclient,master,If0184d3db5e49f6c3d302674ce7587ba27050a91,Remove mistral when running the provide workflows,MERGED,2020-02-27 16:18:22.000000000,2020-03-16 09:44:02.000000000,2020-03-16 09:42:03.000000000,"[{'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-27 16:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ab4f70612a1e1482370fd3b3eca7548cc2456e5', 'message': 'WIP - Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-27 16:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/249e2c13e06526187a1229564e34b37c83710670', 'message': 'WIP - Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-27 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0189d0a7a951e7d4014f0aab080fb6db2d21eee8', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-28 01:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68d9fcffd5de99f4fe4ab33b32d6dddbb9a42757', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-28 17:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f430cd4bbc980e09096a643ebf89f8102a91d37', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52c40f8943cfb354f6e6a880c1ebd603353799ed', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-03-06 23:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc80c4bae0949abb87949166b0849784e6d54fb6', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-03-11 14:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ad744338cde39d9221293a7d2ebef91090f24598', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-03-13 11:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af90473b123d5bcfaea7d2b1b1934560330cdcd6', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-03-16 03:11:07.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/026e98012ae2c401c37f64036df9df7b5ca3196b', 'message': 'Remove mistral when running the provide workflows\n\nThis change removes all of mistral from the provide workflows\nby calling the new provide playbook.\n\nStory: 2007212\nTask: 38443\nTask: 38446\n\nDepends-On: Ic1cf39a29826b3828967e23a056884d867431062\nChange-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,710308,026e98012ae2c401c37f64036df9df7b5ca3196b,47,9,10,7353,,,0,"Remove mistral when running the provide workflows

This change removes all of mistral from the provide workflows
by calling the new provide playbook.

Story: 2007212
Task: 38443
Task: 38446

Depends-On: Ic1cf39a29826b3828967e23a056884d867431062
Change-Id: If0184d3db5e49f6c3d302674ce7587ba27050a91
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/710308/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py']",3,9ab4f70612a1e1482370fd3b3eca7548cc2456e5,mistral_to_ansible," @mock.patch( 'tripleo_common.actions.baremetal.CellV2DiscoverHostsAction.run', autospec=True ) def test_provide_success(self):"," def test_provide_success(self): self.websocket.wait_for_messages.return_value = self.message_success self.workflow.executions.create.assert_called_once_with( 'tripleo.baremetal.v1.provide', workflow_input={ 'node_uuids': [], }) def test_provide_error(self): self.websocket.wait_for_messages.return_value = self.message_failed self.assertRaises( exceptions.NodeProvideError, baremetal.provide, self.app.client_manager, node_uuids=[] ) self.workflow.executions.create.assert_called_once_with( 'tripleo.baremetal.v1.provide', workflow_input={ 'node_uuids': [], }) def test_provide_error_with_format_message(self): self.websocket.wait_for_messages.return_value = iter([{ ""execution_id"": ""IDID"", ""status"": ""FAIL"", ""message"": ['Error1', 'Error2'] }]) self.assertRaises( exceptions.NodeProvideError, baremetal.provide, self.app.client_manager, node_uuids=[] ) ",48,90
openstack%2Fkuryr-tempest-plugin~master~Ifa1871b29490f19f981f647f51fdb53f59c16800,openstack/kuryr-tempest-plugin,master,Ifa1871b29490f19f981f647f51fdb53f59c16800,Add testing coverage for TCP and UDP listeners on the same port,NEW,2020-01-14 12:04:20.000000000,2020-03-16 09:40:20.000000000,,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-01-14 12:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/443e686d42748a000ee5b9975c9040a6802e570d', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}, {'number': 2, 'created': '2020-01-14 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/399d211f1f9790545220b3bd5fb4d049d8c8fc09', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nDepends-on: If7d32023e467d1a63812057e1d151901ce462c7f\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}, {'number': 3, 'created': '2020-01-14 16:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6a0e516ed752a825e437549e01908ed0b3a3d645', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nDepends-on: If7d32023e467d1a63812057e1d151901ce462c7f\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}, {'number': 4, 'created': '2020-01-15 08:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/42fe64b22c5e93003a3b938f7724a073d273f9d4', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nDepends-on: If7d32023e467d1a63812057e1d151901ce462c7f\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}, {'number': 5, 'created': '2020-01-15 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6598e753ae527fed503cc3d3031f607261e7aee9', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nDepends-on: If7d32023e467d1a63812057e1d151901ce462c7f\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}, {'number': 6, 'created': '2020-03-05 08:16:59.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/199b7662b2767d4c8b3f093cc5617d0708dd7c4e', 'message': 'Add testing coverage for TCP and UDP listeners on the same port\n\nDepends-on: If7d32023e467d1a63812057e1d151901ce462c7f\n\nChange-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800\n'}]",2,702400,199b7662b2767d4c8b3f093cc5617d0708dd7c4e,26,6,6,23567,,,0,"Add testing coverage for TCP and UDP listeners on the same port

Depends-on: If7d32023e467d1a63812057e1d151901ce462c7f

Change-Id: Ifa1871b29490f19f981f647f51fdb53f59c16800
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/00/702400/5 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,443e686d42748a000ee5b9975c9040a6802e570d,," def create_service_with_double_listeners( cls, pod_label, service_name=None, api_version=""v1"", kind=None, port=80, target_ports=[8080, 8080], spec_type='ClusterIP', namespace=""default""): if not service_name: service_name = data_utils.rand_name(prefix='kuryr-service') service = cls.k8s_client.V1Service() service.api_version = api_version service.kind = kind service.metadata = cls.k8s_client.V1ObjectMeta(name=service_name) spec = cls.k8s_client.V1ServiceSpec() spec.ports = [ cls.k8s_client.V1ServicePort(protocol=""TCP"", port=port, target_port=target_ports[0]), cls.k8s_client.V1ServicePort(protocol=""UDP"", port=port, target_port=target_ports[1])] spec.selector = pod_label spec.type = spec_type service.spec = spec service_obj = cls.k8s_client.CoreV1Api().create_namespaced_service( namespace=namespace, body=service) return service_name, service_obj @classmethod def create_setup_for_service_test_with_double_listeners( cls, pod_num=2, spec_type=""ClusterIP"", port=80, target_ports=[8080, 8080], label=None, namespace=""default"", get_ip=True, service_name=None, cleanup=True): label = label or data_utils.rand_name('kuryr-app') for i in range(pod_num): pod_name, pod = cls.create_pod( labels={""app"": label}, namespace=namespace) cls.addClassResourceCleanup(cls.delete_pod, pod_name, namespace=namespace) cls.pod_num = pod_num service_name, service_obj = cls.create_service_with_double_listeners( pod_label=pod.metadata.labels, spec_type=spec_type, port=port, target_ports=target_ports, namespace=namespace, service_name=service_name) if get_ip: cls.service_ip = cls.get_service_ip( service_name, spec_type=spec_type, namespace=namespace) # This is already waiting for endpoint annotations to be made by # Kuryr cls.verify_lbaas_endpoints_configured(service_name, pod_num, namespace) cls.service_name = service_name if cleanup: cls.addClassResourceCleanup(cls.delete_service, service_name, namespace=namespace) @classmethod",,64,6
openstack%2Ftripleo-validations~master~Ic9aa047124cf4fcc51959315798bdabc94a42740,openstack/tripleo-validations,master,Ic9aa047124cf4fcc51959315798bdabc94a42740,Add a lookup plugin to get mistral workflow results,ABANDONED,2018-06-13 14:03:34.000000000,2020-03-16 09:39:06.000000000,,"[{'_account_id': 6816}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-06-13 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cbc638e494f8cabeef7b4062973ec4469a28c3cc', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 2, 'created': '2018-07-09 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/296e877b6e029124f20b87ba13385747d3e7b806', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 3, 'created': '2018-09-25 13:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/86034ec3edc03501f2062faf4992d03abcb44a17', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 4, 'created': '2018-10-08 08:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/08dcd1cf601e73b9a633b2e9945d6a4eccb03407', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 5, 'created': '2018-10-11 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8fcc3a036c84603bbcfa5e4e35e4d62824e9446d', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 6, 'created': '2018-10-15 08:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/218f3cca715b82aee4a6a3e2dd36d68e2483655b', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a workflow\nvia Mistral and wait for the result in a synchronous fashion. It does it in\nthree steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full execution\n   from Mistral\n4. If no message arrives via the websocket connection within 20 seconds start\n   polling the workflow API for the execution result\n\nWhen the result is retrieved it is handed back from the plugin as the only\nelement of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 7, 'created': '2018-10-15 08:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6d853905fe447c1db8ee97dc02195fb85d37bb9f', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a\nworkflow via Mistral and wait for the result in a synchronous fashion.\nIt does it in three steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full\n   execution from Mistral\n4. If no message arrives via the websocket connection within 20 seconds\n   start polling the workflow API for the execution result\n\nWhen the result is retrieved it is handed back from the plugin as the\nonly element of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 8, 'created': '2018-10-15 08:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b407d34b37712d734a5fe052d111839953a6f9e1', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a\nworkflow via Mistral and wait for the result in a synchronous fashion.\nIt does it in three steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full\n   execution from Mistral\n4. If no message arrives via the websocket connection within 20 seconds\n   start polling the workflow API for the execution result\n\nWhen the result is retrieved it is handed back from the plugin as the\nonly element of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 9, 'created': '2018-11-30 11:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/913bd03d131f6a92430f900d4b0961784e7ec1a8', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a\nworkflow via Mistral and wait for the result in a synchronous fashion.\nIt does it in three steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full\n   execution from Mistral\n4. If no message arrives via the websocket connection within 20 seconds\n   start polling the workflow API for the execution result\n\nWhen the result is retrieved it is handed back from the plugin as the\nonly element of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}, {'number': 10, 'created': '2019-09-11 09:58:23.000000000', 'files': ['lookup_plugins/mistral_workflow.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c93381963379f2d97876dceb32a4bdb66be69ab2', 'message': 'Add a lookup plugin to get mistral workflow results\n\nThis patch adds a lookup plugin for validation playbooks to start a\nworkflow via Mistral and wait for the result in a synchronous fashion.\nIt does it in three steps:\n\n1. Establish a websocket connection to wait for Zaqar messages\n2. Create a workflow execution for a given workflow via Mistral\n3. When the workflow sends a SUCCESS or FAILED result, fetch the full\n   execution from Mistral\n4. If no message arrives via the websocket connection within 20 seconds\n   start polling the workflow API for the execution result\n\nWhen the result is retrieved it is handed back from the plugin as the\nonly element of a list.\n\nChange-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740\n'}]",1,575121,c93381963379f2d97876dceb32a4bdb66be69ab2,31,6,10,17888,,,0,"Add a lookup plugin to get mistral workflow results

This patch adds a lookup plugin for validation playbooks to start a
workflow via Mistral and wait for the result in a synchronous fashion.
It does it in three steps:

1. Establish a websocket connection to wait for Zaqar messages
2. Create a workflow execution for a given workflow via Mistral
3. When the workflow sends a SUCCESS or FAILED result, fetch the full
   execution from Mistral
4. If no message arrives via the websocket connection within 20 seconds
   start polling the workflow API for the execution result

When the result is retrieved it is handed back from the plugin as the
only element of a list.

Change-Id: Ic9aa047124cf4fcc51959315798bdabc94a42740
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/21/575121/10 && git format-patch -1 --stdout FETCH_HEAD,['validations/lookup_plugins/mistral_workflow.py'],1,cbc638e494f8cabeef7b4062973ec4469a28c3cc,mistral-workflow-lookup,"#!/usr/bin/env python # Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import time import json import thread import uuid import websocket from ansible.plugins.lookup import LookupBase from mistralclient.api import client as mistral_client from tripleo_validations.utils import get_auth_session DOCUMENTATION = """""" lookup: mistral_workflow description: Start a workflow execution and wait for the result long_description: - Start a workflow execution using the Mistral API and fetch the whole result from Mistral after a success of fail has been sent by Zaqar. options: _workflow_name: description: workflow name _input: description: input dict author: Florian Fuchs <flfuchs@redhat.com> """""" EXAMPLES = """""" - name: Get parameters set_fact: result: ""{{ lookup('mistral_workflow', 'tripleo.derive_params.v1.derive_parameters', {'plan': plan}) }}"" """""" RETURN = """""" _raw: description: A Python list with the result from the API call as only item. """""" class WsHandler(object): def __init__(self, session, mclient, workflow_name, workflow_input, queue_name='tripleo'): self.session = session self.mclient = mclient self.workflow_name = workflow_name self.workflow_input = workflow_input self.queue_name = queue_name self.client_id = str(uuid.uuid4()) self.project_id = session.get_project_id() self.execution_id = None def send(self, ws, project_id, client_id, action, body=None, extra_headers=None): headers = { 'Client-ID': self.client_id, 'X-Project-ID': self.project_id } if extra_headers is not None: headers.update(extra_headers) msg = { 'action': action, 'headers': headers } if body: msg['body'] = body result = ws.send(json.dumps(msg)) try: data = json.loads(result) except TypeError: data = result return data def on_message(self, ws, message): msg_data = None try: msg_data = json.loads(message) payload = msg_data.get('body').get('payload') status = payload.get('status') execution = payload.get('execution') except TypeError: pass if msg_data and self.execution_id and self.execution_id == \ execution['id'] and status in ['SUCCESS', 'FAILED']: ws.close() # Give Mistral a little time to finish the workflow and # update the execution record. time.sleep(2) def on_open(self, ws): def run(*args): # Authenticate and subscribe self.send(ws, self.project_id, self.client_id, 'authenticate', extra_headers={'X-Auth-Token': self.session.get_token()}) self.send(ws, self.project_id, self.client_id, 'queue_create', {'queue_name': self.queue_name}) self.send(ws, self.project_id, self.client_id, 'subscription_create', {'queue_name': self.queue_name, 'ttl': 10000}) execution = self.mclient.executions.create( workflow_identifier=self.workflow_name, workflow_input=self.workflow_input) self.execution_id = execution.id thread.start_new_thread(run, ()) class LookupModule(LookupBase): def run(self, terms, variables=None, **kwargs): """"""Returns the current plan's stack resources. :return: A list of dicts """""" workflow_name = terms[0] workflow_input = terms[1] session = get_auth_session(variables['auth_url'], variables['username'], variables['project_name'], auth_token=variables['os_auth_token'], cacert=variables['cacert']) mclient = mistral_client.client( auth_token=session.get_token(), mistral_url=session.get_endpoint(service_type='workflowv2')) ws_handler = WsHandler(session, mclient, workflow_name, workflow_input) ws = websocket.WebSocketApp( session.get_endpoint(service_type='messaging-websocket'), on_message=ws_handler.on_message) ws.on_open = ws_handler.on_open ws.run_forever() result = mclient.executions.get(ws_handler.execution_id) try: return [json.loads(result)] except TypeError: return [result] ",,153,0
openstack%2Ftripleo-validations~master~I6b150b08b511e318370594a4154ed2d8a2094bc7,openstack/tripleo-validations,master,I6b150b08b511e318370594a4154ed2d8a2094bc7,Port the network env validation to use parameters,ABANDONED,2018-02-23 17:08:43.000000000,2020-03-16 09:38:42.000000000,,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-02-23 17:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/31a7cc57485634ffcfadce2f33159043cd9d3714', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings instead of\nlooking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate and\n  output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values in\n  the environment files, these changes were not recognized by the validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 2, 'created': '2018-02-23 17:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/63688bfb689f10b3673e816f11c9fdafad4899e9', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 3, 'created': '2018-04-19 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d37bee070fdc3c4a79c62553f65c2bd70c310477', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 4, 'created': '2018-04-19 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/efb7280b6679454b2693f79b517b77639cbbcdc3', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 5, 'created': '2018-04-20 08:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d5ec5c47fabeaa00ba1962753c1aff9b05f4adf6', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 6, 'created': '2018-09-25 13:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b42238452718d3bc1ab694cf0e74b658a8262c37', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 7, 'created': '2018-10-08 08:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c49022ca96ff07d4f36d7172745590d62a74083e', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 8, 'created': '2018-10-11 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6c5f33dcea2b90a652a14fdcc7860ba59082c056', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 9, 'created': '2018-10-15 08:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dbfc90dc2f9b13c55c588739b18c461b7ef99c09', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 10, 'created': '2018-10-15 08:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1545827b1451414a8fa7be1391bbff609e44accf', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}, {'number': 11, 'created': '2019-09-11 09:58:23.000000000', 'files': ['roles/network-environment/defaults/main.yml', 'playbooks/network-environment.yaml', 'tripleo_validations/tests/library/test_network_environment.py', 'library/switch_vlans.py', 'library/network_environment.py', 'roles/network-environment/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/be7274068e236b848d5b3104d8f257fcd8660091', 'message': ""Port the network env validation to use parameters\n\nThis patch changes the network environment validation use the result of a\nMistral tripleo.parameters.get call to validate the network settings\ninstead of looking at the environment files directly.\n\nLooking at the environment files had two major drawbacks:\n\n- If the environment wasn't active the validation would still validate\n  and output errors, even if those weren't relevant.\n- If changes are made to the plan environment that override the values\n  in the environment files, these changes were not recognized by the\n  validation.\n\nThis change removes these two drawbacks by only looking at the parameters\nresulting from the Mistral/Heat call.\n\nChange-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7\n""}]",0,547518,be7274068e236b848d5b3104d8f257fcd8660091,29,4,11,17888,,,0,"Port the network env validation to use parameters

This patch changes the network environment validation use the result of a
Mistral tripleo.parameters.get call to validate the network settings
instead of looking at the environment files directly.

Looking at the environment files had two major drawbacks:

- If the environment wasn't active the validation would still validate
  and output errors, even if those weren't relevant.
- If changes are made to the plan environment that override the values
  in the environment files, these changes were not recognized by the
  validation.

This change removes these two drawbacks by only looking at the parameters
resulting from the Mistral/Heat call.

Change-Id: I6b150b08b511e318370594a4154ed2d8a2094bc7
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/18/547518/8 && git format-patch -1 --stdout FETCH_HEAD,"['validations/library/network_environment.py', 'tripleo_validations/tests/library/test_network_environment.py', 'validations/library/switch_vlans.py', 'validations/network-environment.yaml']",4,31a7cc57485634ffcfadce2f33159043cd9d3714,mistral-workflow-lookup," tasks: - name: Get parameters from Mistral set_fact: parameters: ""{{ lookup('mistral_action', 'tripleo.parameters.get', wantlist=True) }}"" environment: ""{{ parameters.0.result.heat_resource_tree.Environment }}"" plan_name: ""{{ hostvars['localhost'].plan }}"""," network_environment_path: environments/network-environment.yaml plan_env_path: plan-environment.yaml ip_pools_path: environments/ips-from-pool-all.yaml tasks: netenv_path: ""{{ network_environment_path }}"" plan_env_path: ""{{ plan_env_path }}"" ip_pools_path: ""{{ ip_pools_path }}""",193,165
openstack%2Frpm-packaging~stable%2Ftrain~Ib1b155646db34b0be5c9bc3d785bc4eef8449360,openstack/rpm-packaging,stable/train,Ib1b155646db34b0be5c9bc3d785bc4eef8449360,update constraint for oslo.utils to new release 3.41.4,MERGED,2020-02-26 02:08:20.000000000,2020-03-16 09:29:48.000000000,2020-03-16 09:29:47.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 02:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9d5a17fb5451107c0cad75310d12d4c4abfc8536', 'message': 'update constraint for oslo.utils to new release 3.41.4\n\nDepends-on:I39e3371ce613d2a5a1480b789d099d7772d66463\nChange-Id: Ib1b155646db34b0be5c9bc3d785bc4eef8449360\n'}, {'number': 2, 'created': '2020-03-01 20:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a0b4858eb956791b73d37499b2c66be30d42d73e', 'message': 'update constraint for oslo.utils to new release 3.41.4\n\nDepends-on:I39e3371ce613d2a5a1480b789d099d7772d66463\nChange-Id: Ib1b155646db34b0be5c9bc3d785bc4eef8449360\n'}, {'number': 3, 'created': '2020-03-10 17:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c8e744494906732fe91b351b9472550dca7eb5c7', 'message': 'update constraint for oslo.utils to new release 3.41.4\n\nDepends-on:I39e3371ce613d2a5a1480b789d099d7772d66463\nChange-Id: Ib1b155646db34b0be5c9bc3d785bc4eef8449360\n'}, {'number': 4, 'created': '2020-03-16 08:52:36.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0fb2ed5cf45108b6a23fb1e8b302b94a76a60239', 'message': 'update constraint for oslo.utils to new release 3.41.4\n\nDepends-on:I39e3371ce613d2a5a1480b789d099d7772d66463\nChange-Id: Ib1b155646db34b0be5c9bc3d785bc4eef8449360\n'}]",0,709931,0fb2ed5cf45108b6a23fb1e8b302b94a76a60239,22,6,4,26571,,,0,"update constraint for oslo.utils to new release 3.41.4

Depends-on:I39e3371ce613d2a5a1480b789d099d7772d66463
Change-Id: Ib1b155646db34b0be5c9bc3d785bc4eef8449360
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/709931/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,9d5a17fb5451107c0cad75310d12d4c4abfc8536,oslo.utils,{% set upstream_version = upstream_version('3.41.4') %},{% set upstream_version = upstream_version('3.41.1') %},1,1
openstack%2Frpm-packaging~master~I77a2a98def78f5fed4b53968f573a4343e2eca54,openstack/rpm-packaging,master,I77a2a98def78f5fed4b53968f573a4343e2eca54,update constraint for oslo.utils to new release 4.1.0,MERGED,2020-03-11 01:57:26.000000000,2020-03-16 09:05:22.000000000,2020-03-16 09:05:22.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 01:57:26.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/964fe4daf2958b437f67892fffb403f42f39038d', 'message': 'update constraint for oslo.utils to new release 4.1.0\n\nDepends-on:I5a1a53671b0f617fe2e0b1abe0914a1193f2f8dd\nChange-Id: I77a2a98def78f5fed4b53968f573a4343e2eca54\n'}]",0,712217,964fe4daf2958b437f67892fffb403f42f39038d,10,5,1,26571,,,0,"update constraint for oslo.utils to new release 4.1.0

Depends-on:I5a1a53671b0f617fe2e0b1abe0914a1193f2f8dd
Change-Id: I77a2a98def78f5fed4b53968f573a4343e2eca54
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/712217/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,964fe4daf2958b437f67892fffb403f42f39038d,oslo.utils,{% set upstream_version = upstream_version('4.1.0') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Frpm-packaging~master~I3553d5fdfecedb2e8674550cf392552d3f50db1f,openstack/rpm-packaging,master,I3553d5fdfecedb2e8674550cf392552d3f50db1f,update constraint for oslo.db to new release 8.0.0,MERGED,2020-03-11 01:45:09.000000000,2020-03-16 09:05:22.000000000,2020-03-16 09:05:22.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 01:45:09.000000000', 'files': ['openstack/oslo.db/oslo.db.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e1fe1081f62a6c4290056c2356fed7fb74bb36c8', 'message': 'update constraint for oslo.db to new release 8.0.0\n\nDepends-on:I407f5071bd1f651b9f60a6427287dca48150ab61\nChange-Id: I3553d5fdfecedb2e8674550cf392552d3f50db1f\n'}]",0,712214,e1fe1081f62a6c4290056c2356fed7fb74bb36c8,9,5,1,26571,,,0,"update constraint for oslo.db to new release 8.0.0

Depends-on:I407f5071bd1f651b9f60a6427287dca48150ab61
Change-Id: I3553d5fdfecedb2e8674550cf392552d3f50db1f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/712214/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.db/oslo.db.spec.j2'],1,e1fe1081f62a6c4290056c2356fed7fb74bb36c8,oslo.db,{% set upstream_version = upstream_version('8.0.0') %},{% set upstream_version = upstream_version('7.0.0') %},1,1
openstack%2Frpm-packaging~master~I2157fdf59de2108058accc60c048390a5f26f427,openstack/rpm-packaging,master,I2157fdf59de2108058accc60c048390a5f26f427,update constraint for openstacksdk to 0.43.0,MERGED,2020-03-11 07:13:21.000000000,2020-03-16 09:04:34.000000000,2020-03-16 09:04:34.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 07:13:21.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/197690507ed60cdd674f6a69a63fa28218d47bc0', 'message': 'update constraint for openstacksdk to 0.43.0\n\nChange-Id: I2157fdf59de2108058accc60c048390a5f26f427\n'}]",0,712243,197690507ed60cdd674f6a69a63fa28218d47bc0,10,5,1,27462,,,0,"update constraint for openstacksdk to 0.43.0

Change-Id: I2157fdf59de2108058accc60c048390a5f26f427
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/712243/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,197690507ed60cdd674f6a69a63fa28218d47bc0,update-openstacksdk,{% set upstream_version = upstream_version('0.43.0') %},{% set upstream_version = upstream_version('0.40.0') %},1,1
openstack%2Frpm-packaging-tools~master~I431523d0cd23c227e535c471bb0c74a3586fa696,openstack/rpm-packaging-tools,master,I431523d0cd23c227e535c471bb0c74a3586fa696,Centralize basepython as py3 in tox,MERGED,2020-02-15 23:20:54.000000000,2020-03-16 09:03:33.000000000,2020-03-16 09:03:33.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-02-15 23:20:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/5711f63d1ba3745b59ea5683ef61ec72ea1ffc5c', 'message': ""Centralize basepython as py3 in tox\n\nOpenStack ussuri release will be python 3 only\nso let's define the basepython in common env now.\n\nChange-Id: I431523d0cd23c227e535c471bb0c74a3586fa696\n""}]",0,707960,5711f63d1ba3745b59ea5683ef61ec72ea1ffc5c,9,4,1,8556,,,0,"Centralize basepython as py3 in tox

OpenStack ussuri release will be python 3 only
so let's define the basepython in common env now.

Change-Id: I431523d0cd23c227e535c471bb0c74a3586fa696
",git fetch https://review.opendev.org/openstack/rpm-packaging-tools refs/changes/60/707960/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5711f63d1ba3745b59ea5683ef61ec72ea1ffc5c,drop-py27-support,minversion = 3.1ignore_basepython_conflict = Truebasepython = python3,minversion = 2.0basepython = python3basepython = python3basepython = python3,3,4
openstack%2Fideas~master~I5e0c63583318e64af9ec91f908eb8eac745ac907,openstack/ideas,master,I5e0c63583318e64af9ec91f908eb8eac745ac907,Add Project Teapot idea,MERGED,2020-02-27 02:24:06.000000000,2020-03-16 08:59:41.000000000,2020-03-09 19:14:38.000000000,"[{'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4146}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 6928}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8482}, {'_account_id': 8833}, {'_account_id': 9003}, {'_account_id': 9237}, {'_account_id': 9914}, {'_account_id': 10343}, {'_account_id': 10849}, {'_account_id': 11536}, {'_account_id': 11628}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 12398}, {'_account_id': 12404}, {'_account_id': 15343}, {'_account_id': 17068}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 02:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/363f5f0062efdbb55398abfe42bcd5f9eab7fadb', 'message': 'Add Project Teapot idea\n\nProject Teapot is a design proposal for a bare-metal cloud to run\nKubernetes on, and which itself also runs on Kubernetes.\n\nChange-Id: I5e0c63583318e64af9ec91f908eb8eac745ac907\n'}, {'number': 2, 'created': '2020-02-28 22:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/1f9515b9037633b4abb8acf4dc29ed4befb7b745', 'message': 'Add Project Teapot idea\n\nProject Teapot is a design proposal for a bare-metal cloud to run\nKubernetes on, and which itself also runs on Kubernetes.\n\nChange-Id: I5e0c63583318e64af9ec91f908eb8eac745ac907\n'}, {'number': 3, 'created': '2020-03-04 05:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ideas/commit/7a8b6e3f48203c3fa2308db16239c521e22f3b8f', 'message': 'Add Project Teapot idea\n\nProject Teapot is a design proposal for a bare-metal cloud to run\nKubernetes on, and which itself also runs on Kubernetes.\n\nChange-Id: I5e0c63583318e64af9ec91f908eb8eac745ac907\n'}, {'number': 4, 'created': '2020-03-04 17:12:51.000000000', 'files': ['doc/source/ideas/teapot/key-management.rst', 'doc/source/index.rst', 'doc/source/ideas/teapot/openstack-integration.rst', 'doc/source/ideas/teapot/storage.rst', 'doc/source/ideas/teapot/index.rst', 'doc/source/ideas/teapot/dns.rst', 'doc/source/ideas/teapot/idm.rst', 'doc/source/ideas/teapot/compute.rst', 'doc/source/ideas/teapot/load-balancing.rst', 'doc/source/ideas/teapot/installation.rst', 'doc/source/ideas/teapot/networking.rst'], 'web_link': 'https://opendev.org/openstack/ideas/commit/e77cfc3208b5c65f8031a0cadbe65f116419a193', 'message': 'Add Project Teapot idea\n\nProject Teapot is a design proposal for a bare-metal cloud to run\nKubernetes on, and which itself also runs on Kubernetes.\n\nChange-Id: I5e0c63583318e64af9ec91f908eb8eac745ac907\n'}]",220,710173,e77cfc3208b5c65f8031a0cadbe65f116419a193,65,26,4,4257,,,0,"Add Project Teapot idea

Project Teapot is a design proposal for a bare-metal cloud to run
Kubernetes on, and which itself also runs on Kubernetes.

Change-Id: I5e0c63583318e64af9ec91f908eb8eac745ac907
",git fetch https://review.opendev.org/openstack/ideas refs/changes/73/710173/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/ideas/teapot/openstack-integration.rst', 'doc/source/ideas/teapot/storage.rst', 'doc/source/ideas/teapot/index.rst', 'doc/source/ideas/teapot/dns.rst', 'doc/source/ideas/teapot/idm.rst', 'doc/source/ideas/teapot/compute.rst', 'doc/source/ideas/teapot/load-balancing.rst', 'doc/source/ideas/teapot/installation.rst', 'doc/source/ideas/teapot/networking.rst']",10,363f5f0062efdbb55398abfe42bcd5f9eab7fadb,teapot,"Teapot Networking ================= In Project Teapot, tenant clusters are deployed exclusively on bare-metal servers, which are under the complete control of the tenant. Therefore the network itself must be the guarantor of multi-tenancy, with only untrusted components running on tenant machines. (Trusted components can still run within the management cluster.) .. _teapot-networking-multi-tenancy: Multi-tenant Network Model -------------------------- Support for VLANs and VxLAN is ubiquitous in modern data center network hardware, so this will be the basis for Teapot's networking. Each tenant will be assigned one or more V(x)LANs. (Separate failure domains will likely also have separate broadcast domains.) As machines are assigned to the tenant, the Teapot controller will connect each to a private virtual network also assigned to the tenant. Small deployments can just use VLANs. Larger deployments may need VxLAN, and in this case VTEP-capable edge switches and a VTEP-capable router will be required. This design frees the tenant clusters from being forced to use a particular :abbr:`CNI (Container Network Interface)` plugin. Tenants are free to select a networking overlay (e.g. Flannel, Cilium, OVN, &c.) or other CNI plugin (e.g. Calico, Romana) of their choice within the tenant cluster, provided that it does not need to be trusted by the network. (This would preclude solutions that rely on advertising BGP/OSPF routes, although it's conceivable that one day these advertisements could be filtered through a trusted component in the management cluster and rebroadcast to the unencapsulated network -- this would also be useful for :ref:`load balancing <teapot-load-balancing-metallb-l3-tenant>` of Services.) If the tenant's CNI plugin does create an overlay network, that technically means that packets will be double-encapsulated, which is a Bad Thing when it occurs in VM-based clusters, for several reasons: * There is a performance overhead to encapsulating the packets on the hypervisor, and it also limits the ability to apply some performance optimisations (such as using SR-IOV to provide direct access to the NICs from the VMs by virtualising the PCIe bus). * The extra overhead in each packet can cause fragmentation, and reduces the bandwidth available at the edge. * Broadcast, multicast and unknown unicast traffic is flooded to all possible endpoints in the overlay network; doing this at multiple layers can increase network load. However, these problems are significantly mitigated in the Teapot model: * The performance cost of performing the second encapsulation is eliminated by offloading it to the network hardware. * Encapsulation headers are carried only within the core of the network, where bandwidth is less scarce and frame sizes can be adjusted to prevent fragmentation. * CNI plugins don't generally make significant use of broadcast or multicast. .. _teapot-networking-provisioning: Provisioning Network -------------------- Generally bare-metal machines will need at least one interface connected to a provisioning network in order to boot using :abbr:`PXE (Pre-boot execution environment)`. Typically the provisioning network is required to be an untagged VLAN. PXE can be avoided by provisioning using virtual media (where the BMC attaches a virtual disk containing the boot image to the host's USB), but hardware support for doing this from Ironic is uneven (though rapidly improving). In addition, the Ironic agent typically communicates over this network for purposes such as introspection of hosts or cleaning of disks. For the purpose of PXE booting, hosts could be left permanently connected to the provisioning network provided they are isolated from each other (e.g. using private VLANs). This would have the downside that the main network interface of the tenant worker would have to appear on a tagged VLAN. However, the Ironic agent's access to the Ironic APIs is unauthenticated, and therefore not safe to be carried over networks that have hosts allocated to tenants connected to them. This could occur over a separate network, but in any event hosts' membership of this network will have to be changed dynamically in concert with the baremetal provisioner. The :abbr:`BMC (Baseboard management controller)`\ s will be connected to a separate network that is reachable only from the management cluster. .. _teapot-networking-storage: Storage Network --------------- When (optionally) used in combination with multi-tenant storage, machines will need to also be connected to a separate storage network. The networking requirements for this network are much simpler, as it does not need to be dynamically managed. Each edge port should be isolated from all of the others (using e.g. Private VLANs), regardless of whether they are part of the same tenant. QoS rules should ensure that no individual machine can effectively deny access to others. Configuring the switches for the storage network can be considered out of scope for Project Teapot, at least initially, as the configuration need not be dynamic, but might be in scope for the :doc:`installer <installation>`. .. _teapot-networking-external: External connections -------------------- Workloads running in a tenant cluster can request to be exposed for incoming external connections in a number of different ways. The Teapot cloud is responsible for ensuring that each of these is possible. The ``NodePort`` service type simply requires that the IP addresses of the cluster members be routable from external networks. For IPv4 support in particular, Teapot will need to be able to allocate floating IP addresses and route traffic for them to the appropriate networks. Users can specify an externalAddress to make use of these floating IPs, although there's no built-in way to discover what IPs are available. Teapot should also have a way of exporting the reverse DNS records for floating IPs. The ``LoadBalancer`` Service type uses an external :doc:`load balancer <load-balancing>` as a front end. Traffic from the load balancer is directed to a ``NodePort`` service within the tenant cluster. Most managed Kubernetes services provide an Ingress controller that can set up load balancing (including TLS termination) in the underlying cloud for HTTP(S) traffic, including automatically configuring floating IPs. If Teapot provided :ref:`such an Ingress controller <teapot-load-balancing-ingress-controller>`, it might be a viable option to not support floating IPs (or even IPv4 at all) for the ``NodePort`` service type, so that the implementation of floating IPs could be confined to the Ingress controller. Implementation Options ---------------------- .. _teapot-networking-ansible: Ansible Networking ~~~~~~~~~~~~~~~~~~ A good long-term implementation strategy might be to use ansible-networking to directly configure the top-of-rack switches. This would be driven by a Kubernetes controller running in the management cluster operating on a set of CRDs. The ansible-networking project supports a wide variety of hardware already. A minimal proof of concept for this controller `exists <https://github.com/bcrochet/physical-switch-operator>`_. In addition to configuring the edge switches, a solution for floating IPs and other ways of exposing services is also needed. Future requirements likely include configuring limited cross-tenant network connectivity, and access to hardware load balancers and other data center hardware. .. _teapot-networking-neutron: OpenStack Neutron ~~~~~~~~~~~~~~~~~ A good short-term option might be to use a cut-down Neutron installation as an implementation detail to manage the network. Using only the baremetal port types in Neutron circumvents a lot of the complexity. Most of the Neutron agents would not be required, so message queue--based RPC could be eliminated or replaced with json-rpc (as it has been in Ironic for Metal³). Since only a trusted service would be controlling network changes, Keystone authentication would not be required either. To ensure that Neutron itself could eventually be switched out, it would be strictly confined behind a Kubernetes-native API, in much the same way as Ironic is behind Metal³. The existing direct integration between Ironic and Neutron would not be used, and nor could we rely on Neutron to provide an integration point for e.g. :ref:`Octavia <teapot-load-balancing-octavia>` to provide an abstraction over hardware load balancers. The abstraction point would be the k8s CRDs -- different controllers could be chosen to manage CRs (and those might in turn make use of additional non-public CRDs), but we would not attempt to build controllers with multiple plugin points that could lead to ballooning complexity. ",,1192,1
openstack%2Frpm-packaging~stable%2Ftrain~I39e107b278ac6fa08875e96debc6d70b5d14d6aa,openstack/rpm-packaging,stable/train,I39e107b278ac6fa08875e96debc6d70b5d14d6aa,os-refresh-config: update to 10.4.0,MERGED,2020-03-11 13:43:02.000000000,2020-03-16 08:59:00.000000000,2020-03-16 08:59:00.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 13:43:02.000000000', 'files': ['openstack/os-refresh-config/os-refresh-config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/163c082999e6403c5dd5401cd3040c56d84386a9', 'message': 'os-refresh-config: update to 10.4.0\n\nChange-Id: I39e107b278ac6fa08875e96debc6d70b5d14d6aa\n'}]",0,712435,163c082999e6403c5dd5401cd3040c56d84386a9,11,6,1,6593,,,0,"os-refresh-config: update to 10.4.0

Change-Id: I39e107b278ac6fa08875e96debc6d70b5d14d6aa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/35/712435/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-refresh-config/os-refresh-config.spec.j2'],1,163c082999e6403c5dd5401cd3040c56d84386a9,,{% set upstream_version = upstream_version('10.4.0') %},{% set upstream_version = upstream_version('10.3.0') %},1,1
openstack%2Frpm-packaging~master~I638f0034f2576d137c0cbb07eb6e39bb9ef4f77d,openstack/rpm-packaging,master,I638f0034f2576d137c0cbb07eb6e39bb9ef4f77d,update futurist to 2.1.0,MERGED,2020-03-13 06:40:01.000000000,2020-03-16 08:57:20.000000000,2020-03-16 08:57:20.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 06:40:01.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7df8c1c265e952a3e0dfb135d28735a9751b8cc7', 'message': 'update futurist to 2.1.0\n\nDepends-on:Icbfe56d6d436883b7b22665c731757cea3f56244\nChange-Id: I638f0034f2576d137c0cbb07eb6e39bb9ef4f77d\n'}]",0,712840,7df8c1c265e952a3e0dfb135d28735a9751b8cc7,9,5,1,26570,,,0,"update futurist to 2.1.0

Depends-on:Icbfe56d6d436883b7b22665c731757cea3f56244
Change-Id: I638f0034f2576d137c0cbb07eb6e39bb9ef4f77d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/40/712840/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,7df8c1c265e952a3e0dfb135d28735a9751b8cc7,,{% set upstream_version = upstream_version('2.1.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Fkuryr-libnetwork~master~I525215e95ebe4b155a17e0e187e9aca27a8217bb,openstack/kuryr-libnetwork,master,I525215e95ebe4b155a17e0e187e9aca27a8217bb,Uncap jsonschema,MERGED,2020-03-13 18:59:00.000000000,2020-03-16 08:56:07.000000000,2020-03-16 08:54:11.000000000,"[{'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 18:59:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/21e4e3455a1b6f96cf04e4e17ff4b1268e6c3101', 'message': 'Uncap jsonschema\n\nGlobal requirements has uncapped jsonschema, so we need to do so here\ntoo.\n\nChange-Id: I525215e95ebe4b155a17e0e187e9aca27a8217bb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713051,21e4e3455a1b6f96cf04e4e17ff4b1268e6c3101,8,8,1,11904,,,0,"Uncap jsonschema

Global requirements has uncapped jsonschema, so we need to do so here
too.

Change-Id: I525215e95ebe4b155a17e0e187e9aca27a8217bb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/51/713051/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,21e4e3455a1b6f96cf04e4e17ff4b1268e6c3101,jsonschema,jsonschema>=2.6.0 # MIT,"jsonschema<3.0.0,>=2.6.0 # MIT",1,1
openstack%2Fcharm-masakari~master~I5a29794cd0e732fd5c2caf042f0860b4e122bc90,openstack/charm-masakari,master,I5a29794cd0e732fd5c2caf042f0860b4e122bc90,Fix some charm references in the test bundles,MERGED,2020-03-12 15:56:45.000000000,2020-03-16 08:50:51.000000000,2020-03-16 08:50:51.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 15:56:45.000000000', 'files': ['src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-rocky-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/03e0ca2057d31ea68298f62dcdaa858285817d6b', 'message': 'Fix some charm references in the test bundles\n\nChange-Id: I5a29794cd0e732fd5c2caf042f0860b4e122bc90\n'}]",0,712722,03e0ca2057d31ea68298f62dcdaa858285817d6b,14,5,1,12549,,,0,"Fix some charm references in the test bundles

Change-Id: I5a29794cd0e732fd5c2caf042f0860b4e122bc90
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/22/712722/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-rocky-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml']",3,03e0ca2057d31ea68298f62dcdaa858285817d6b,fix-bundles, charm: ../../../masakari charm: cs:~openstack-charmers-next/ceph-mon charm: cs:~openstack-charmers-next/ceph-osd charm: cs:~openstack-charmers-next/cinder-ceph, charm: masakari charm: ceph-mon charm: ceph-osd charm: cinder-ceph,12,12
openstack%2Fpython-tripleoclient~master~I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d,openstack/python-tripleoclient,master,I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d,Remove the mistral from the clean_.*_nodes workflow,MERGED,2020-02-25 15:21:46.000000000,2020-03-16 08:19:51.000000000,2020-03-16 08:16:47.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-25 15:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71843873ac67cb5b75f8c03443975c292000032c', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-25 20:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42509a1ed9e476b8d7af1ac46e8041f6bdf8f07a', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-26 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7213e6fe33274b73c1d54b459df06dc3ef8872a0', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f64f600f8aa1c9a3087b4d91dcd8f6a746d6eeae', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-28 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6133a216554580198f89a375894082248d0d10d8', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a84493277f18199692af3625cb5261346c3f4e3e', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-03-06 14:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d06aba344de55636a1de75d59fb78a69e2506e26', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-03-06 23:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3aa66a6372f751982e83ed1225b1e660f8470c41', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-03-09 13:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e3bb1a10e49805e9e49a1c44a8d5462ffcd315be', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-03-11 13:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1e46e0cf315f8d28f735e97803239c2d6b8913a', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2020-03-13 11:08:19.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7e677b0c359b2691c513b6cbd380bb9659342131', 'message': 'Remove the mistral from the clean_.*_nodes workflow\n\nThis change removes all of mistral from the clean_nodes and clean_manageable_nodes\nworkflows by calling the new cleaning playbook.\n\nStory: 2007212\nTask: 38451\nTask: 38452\n\nDepends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e\nChange-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",6,709755,7e677b0c359b2691c513b6cbd380bb9659342131,55,8,11,7353,,,0,"Remove the mistral from the clean_.*_nodes workflow

This change removes all of mistral from the clean_nodes and clean_manageable_nodes
workflows by calling the new cleaning playbook.

Story: 2007212
Task: 38451
Task: 38452

Depends-On: I0e3f50ff2bdc16b6a148977b39a12023d5b30b3e
Change-Id: I0b1981a82b1ae5d2b52a74250b623218a0cb6c0d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/709755/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py']",4,71843873ac67cb5b75f8c03443975c292000032c,mistral_to_ansible,"import mock self.mock_playbook = mock.patch( 'tripleoclient.utils.run_ansible_playbook', autospec=True ) self.mock_playbook.start() self.addCleanup(self.mock_playbook.stop)",,46,105
openstack%2Fos-net-config~stable%2Frocky~I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726,openstack/os-net-config,stable/rocky,I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726,We need to use the MAC instead of PCI Address for Mellanox cards,MERGED,2020-03-13 16:10:20.000000000,2020-03-16 08:18:21.000000000,2020-03-16 08:18:21.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:10:20.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/271d9ab0c69787979a09da8bc8c042096a8fc6dc', 'message': 'We need to use the MAC instead of PCI Address for Mellanox cards\n\nSince Mellanox cards are already bound, they are not added\nto the dpdk mapping file. The set devargs command is never run.\n\nThis patch ensures that get_dpdk_devargs returns the devargs,\neven on newer Mellanox interfaces.\n\nChange-Id: I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726\nCloses-Bug: 1862298\n(cherry picked from commit 11d9a23600e43de0071f05e716ec6f7e1ee80670)\n(cherry picked from commit 74d32121f6b807ef646f6dc58ad8693233503f1e)\n(cherry picked from commit de626b2609f531727c336513faf2fa27ea377e5b)\n'}]",0,713007,271d9ab0c69787979a09da8bc8c042096a8fc6dc,7,6,1,27419,,,0,"We need to use the MAC instead of PCI Address for Mellanox cards

Since Mellanox cards are already bound, they are not added
to the dpdk mapping file. The set devargs command is never run.

This patch ensures that get_dpdk_devargs returns the devargs,
even on newer Mellanox interfaces.

Change-Id: I6f4c3716c7ee74d7bd2c48e598e5c6de4332d726
Closes-Bug: 1862298
(cherry picked from commit 11d9a23600e43de0071f05e716ec6f7e1ee80670)
(cherry picked from commit 74d32121f6b807ef646f6dc58ad8693233503f1e)
(cherry picked from commit de626b2609f531727c336513faf2fa27ea377e5b)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/07/713007/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,271d9ab0c69787979a09da8bc8c042096a8fc6dc,," def test_get_dpdk_devargs_mlnx(self): def test_execute(name, dummy1, dummy2=None, dummy3=None): if 'ethtool' in name: out = _PCI_OUTPUT return out, None def test_get_stored_pci_address(ifname, noop): return ""0000:00:07.0"" self.stub_out('oslo_concurrency.processutils.execute', test_execute) self.stub_out('os_net_config.utils.get_stored_pci_address', test_get_stored_pci_address) tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_CLASS_NET', tmpdir) nic = 'p4p1' nic_path = os.path.join(tmpdir, nic) os.makedirs(nic_path) os.makedirs(os.path.join(nic_path, 'device')) # Testing standard Mellanox Connect-X cards with open(os.path.join(nic_path, 'operstate'), 'w') as f: f.write('up') with open(os.path.join(nic_path, 'address'), 'w') as f: f.write('00:0f:21:69:39:14') with open(os.path.join(nic_path, 'device', 'vendor'), 'w') as f: f.write('0x15b3') self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:19.0') # now testing the Mellanox CX3 with open(os.path.join(nic_path, 'device', 'device'), 'w') as f: f.write('0x1007') self.assertEqual(utils.get_dpdk_devargs(nic, False), 'class=eth,mac=00:0f:21:69:39:14') with open(os.path.join(nic_path, 'device', 'vendor'), 'w') as f: f.write('0x15b4') self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:07.0') shutil.rmtree(tmpdir) ",,55,7
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie28dabaf07ed36adb3e8f07ca8c141f93a9d79cc,openstack/python-tripleoclient,stable/train,Ie28dabaf07ed36adb3e8f07ca8c141f93a9d79cc,Refactor image upload command,MERGED,2020-03-02 05:26:05.000000000,2020-03-16 08:18:17.000000000,2020-03-16 08:16:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8125}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 05:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b93a0caca20c3602139090a508e39f10cc695136', 'message': ""Refactor image upload command\n\nIn preparation for supporting deploys on a glance-less undercloud,\nthis change refactors the upload command to move all glance\ninteracting logic into a glance adapter class. This will allow the\nadapter abstraction to be used for an 'upload' adapter which only\ncopies files on the local disk.\n\nThis change also does the following:\n- moves repeated update-or-upload logic to an adapter method, reducing\n  the complexity of take_action\n- cleans up the mock usage to consistently use the\n  patch decorator - the current approach may be causing unit test\n  failures in some environments\n- removes the GlanceV1 implementation, since the V1 API was removed in\n  Newton(!) this support is just a maintenance burden\n\nChange-Id: Ie28dabaf07ed36adb3e8f07ca8c141f93a9d79cc\nBlueprint: nova-less-deploy\n(cherry picked from commit c88da0a63233abd839e87b52adfd546df0a74c06)\n""}, {'number': 2, 'created': '2020-03-04 20:56:16.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'test-requirements.txt', 'tripleoclient/utils.py', 'lower-constraints.txt', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f39c1823e7d28292fc83657f921b2d6579c98a2e', 'message': ""Refactor image upload command\n\nIn preparation for supporting deploys on a glance-less undercloud,\nthis change refactors the upload command to move all glance\ninteracting logic into a glance adapter class. This will allow the\nadapter abstraction to be used for an 'upload' adapter which only\ncopies files on the local disk.\n\nThis change also does the following:\n- moves repeated update-or-upload logic to an adapter method, reducing\n  the complexity of take_action\n- cleans up the mock usage to consistently use the\n  patch decorator - the current approach may be causing unit test\n  failures in some environments\n- removes the GlanceV1 implementation, since the V1 API was removed in\n  Newton(!) this support is just a maintenance burden\n\nChange-Id: Ie28dabaf07ed36adb3e8f07ca8c141f93a9d79cc\nBlueprint: nova-less-deploy\nDepends-On: https://review.opendev.org/711271\n(cherry picked from commit c88da0a63233abd839e87b52adfd546df0a74c06)\n""}]",0,710698,f39c1823e7d28292fc83657f921b2d6579c98a2e,36,6,2,8125,,,0,"Refactor image upload command

In preparation for supporting deploys on a glance-less undercloud,
this change refactors the upload command to move all glance
interacting logic into a glance adapter class. This will allow the
adapter abstraction to be used for an 'upload' adapter which only
copies files on the local disk.

This change also does the following:
- moves repeated update-or-upload logic to an adapter method, reducing
  the complexity of take_action
- cleans up the mock usage to consistently use the
  patch decorator - the current approach may be causing unit test
  failures in some environments
- removes the GlanceV1 implementation, since the V1 API was removed in
  Newton(!) this support is just a maintenance burden

Change-Id: Ie28dabaf07ed36adb3e8f07ca8c141f93a9d79cc
Blueprint: nova-less-deploy
Depends-On: https://review.opendev.org/711271
(cherry picked from commit c88da0a63233abd839e87b52adfd546df0a74c06)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/98/710698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'test-requirements.txt', 'tripleoclient/utils.py', 'lower-constraints.txt', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",5,b93a0caca20c3602139090a508e39f10cc695136,support-file-based-deploys,"from tripleoclient.tests import baseclass TestBaseClientAdapter(base.TestCommand): def setUp(self): super(TestBaseClientAdapter, self).setUp() self.adapter = overcloud_image.BaseClientAdapter('/foo') @mock.patch('os.path.isfile', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._copy_file', autospec=True) def test_file_try_update_need_update(self, mock_copy_file, mock_files_changed, mock_isfile): mock_isfile.return_value = True mock_files_changed.return_value = True self.adapter.file_create_or_update('discimg', 'discimgprod') mock_copy_file.assert_not_called() @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._copy_file', autospec=True) def test_file_try_update_do_update(self, mock_copy_file, mock_files_changed): mock_files_changed.return_value = True self.update_existing = True self.adapter.file_create_or_update('discimg', 'discimgprod') mock_copy_file.assert_called_once_with( self.adapter, 'discimg', 'discimgprod') class TestGlanceClientAdapter(TestPluginV1): def setUp(self): super(TestGlanceClientAdapter, self).setUp() self.app.client_manager.image = mock.Mock() self.app.client_manager.image.version = 2.0 self._arch = tripleo_common.arch.kernel_arch() self.app.client_manager.image.images.create.return_value = ( mock.Mock(id=10, name='imgname', properties={'kernel_id': 10, 'ramdisk_id': 10, 'hw_architecture': self._arch}, created_at='2015-07-31T14:37:22.000000')) self.updated = [] self.adapter = overcloud_image.GlanceClientAdapter( client=self.app.client_manager.image, image_path='/foo', updated=self.updated ) @mock.patch('osc_lib.utils.find_resource') def test_get_image_exists(self, mock_find_resource): image_mock = mock.Mock(name='imagename') mock_find_resource.return_value = image_mock self.assertEqual(self.adapter._get_image('imagename'), image_mock) @mock.patch('osc_lib.utils.find_resource') def test_get_image_none(self, mock_find_resource): mock_find_resource.side_effect = exceptions.CommandError('') self.assertIsNone(self.adapter._get_image('noimagename')) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_no_exist(self, mock_get_image): mock_get_image.return_value = None self.assertFalse(self.adapter._image_try_update( 'name', 'fn')) self.assertEqual([], self.updated) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_need_update(self, mock_get_image, mock_image_changed): image_mock = mock.Mock(name='imagename') mock_get_image.return_value = image_mock mock_image_changed.return_value = True self.assertEqual( self.adapter._image_try_update('name', 'fn'), image_mock ) self.assertEqual([], self.updated) self.app.client_manager.image.images.update.assert_not_called() @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_image_try_update_do_update(self, mock_get_image, mock_image_changed): image_mock = mock.Mock(name='imagename', created_at='2015-07-31T14:37:22.000000') update_mock = mock.Mock(return_value=image_mock) self.app.client_manager.image.images.update = update_mock mock_get_image.return_value = image_mock mock_image_changed.return_value = True self.adapter.update_existing = True self.assertEqual( self.adapter._image_try_update('name', 'fn'), None ) self.assertEqual([image_mock.id], self.updated) update_mock.assert_called_once() class TestUploadOvercloudImage(TestPluginV1): mock_cfe = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.check_file_exists', autospec=True) mock_cfe.start() self.addCleanup(mock_cfe.stop) mock_cfe.return_value = True mock_rifp = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.read_image_file_pointer', autospec=True) mock_rifp.start() self.addCleanup(mock_rifp.stop) mock_rifp.return_value = self._file_handle @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_images_v2(self, mock_get_image, mock_subprocess_call, mock_get_image.return_value = None @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) def test_overcloud_create_images_image_path(self, mock_image_try_update, mock_get_image, mock_subprocess_call, mock_get_image.return_value = None mock_image_try_update.return_value = None self.cmd.adapter._image_try_update.assert_has_calls([ mock.call(self.cmd.adapter, 'overcloud-full-vmlinuz', '/foo/overcloud-full.vmlinuz'), mock.call(self.cmd.adapter, 'overcloud-full-initrd', '/foo/overcloud-full.initrd'), mock.call(self.cmd.adapter, 'overcloud-full', '/foo/overcloud-full.qcow2'), @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_create_noupdate_images(self, mock_files_changed, mock_image_changed, mock_get_image, mock_subprocess_call, mock_files_changed.return_value = True mock_get_image.return_value = existing_image mock_image_changed.return_value = True @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_create_update_images(self, mock_files_changed, mock_image_changed, mock_get_image, mock_subprocess_call): mock_files_changed.return_value = True mock_get_image.return_value = existing_image mock_image_changed.return_value = True mock_cfe = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.check_file_exists', autospec=True) mock_cfe.start() self.addCleanup(mock_cfe.stop) mock_cfe.return_value = True mock_rifp = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.read_image_file_pointer', autospec=True) mock_rifp.start() self.addCleanup(mock_rifp.stop) mock_rifp.return_value = self._file_handle @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_images(self, mock_get_image, mock_subprocess_call, mock_get_image.return_value = None @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_images_with_arch(self, mock_get_image, mock_subprocess_call, ['--whole-disk', '--arch', 'ppc64le'], mock_get_image.return_value = None mock.call(name='ppc64le-overcloud-full', mock.call(mock.ANY, hw_architecture='ppc64le'), @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_noupdate_images(self, mock_get_image, mock_files_changed, mock_image_changed, mock_subprocess_call, mock_files_changed.return_value = True mock_get_image.return_value = existing_image mock_image_changed.return_value = True @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_update_images(self, mock_get_image, mock_files_changed, mock_image_changed, mock_subprocess_call): mock_files_changed.return_value = True mock_get_image.return_value = existing_image mock_image_changed.return_value = True # GlanceClientAdapter._upload_image() calls mock_cfe = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.check_file_exists', autospec=True) mock_cfe.start() self.addCleanup(mock_cfe.stop) mock_cfe.return_value = True mock_rifp = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.read_image_file_pointer', autospec=True) mock_rifp.start() self.addCleanup(mock_rifp.stop) mock_rifp.return_value = self._file_handle @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) def test_overcloud_create_images_with_arch(self, mock_get_image, mock_subprocess_call, mock_get_image.return_value = None @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._get_image', autospec=True) mock_get_image, mock_get_image.return_value = None mock_cfe = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.check_file_exists', autospec=True) mock_cfe.start() self.addCleanup(mock_cfe.stop) mock_cfe.return_value = True mock_rifp = mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter.read_image_file_pointer', autospec=True) mock_rifp.start() self.addCleanup(mock_rifp.stop) mock_rifp.return_value = self._file_handle @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_upload_just_ipa_wholedisk(self, mock_files_changed, mock_image_changed, mock_image_try_update, mock_isfile_call, mock_subprocess_call): mock_image_changed.return_value = True mock_image_try_update.return_value = None mock_files_changed.return_value = True self.assertItemsEqual( self.cmd.adapter.check_file_exists.call_args_list, [mock.call(self.cmd.adapter, './ironic-python-agent.initramfs'), mock.call(self.cmd.adapter, './ironic-python-agent.kernel')]) self.assertFalse(mock_image_try_update.called) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_upload_just_os_wholedisk(self, mock_files_changed, mock_image_changed, mock_image_try_update, mock_isfile_call, mock_subprocess_call): mock_image_changed.return_value = True mock_image_try_update.return_value = None mock_files_changed.return_value = True self.cmd.adapter.check_file_exists.assert_called_once_with( self.cmd.adapter, './overcloud-full.qcow2') mock_image_try_update.assert_called_once_with( self.cmd.adapter, 'overcloud-full', './overcloud-full.qcow2' ) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_upload_just_ipa(self, mock_files_changed, mock_image_changed, mock_image_try_update, mock_isfile_call, mock_subprocess_call): mock_image_changed.return_value = True mock_image_try_update.return_value = None mock_files_changed.return_value = True self.assertItemsEqual( self.cmd.adapter.check_file_exists.call_args_list, [mock.call(self.cmd.adapter, './ironic-python-agent.initramfs'), mock.call(self.cmd.adapter, './ironic-python-agent.kernel')] ) self.assertFalse(mock_image_try_update.called) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True) def test_overcloud_upload_just_os(self, mock_files_changed, mock_image_changed, mock_image_try_update, mock_isfile_call, mock_subprocess_call): mock_image_changed.return_value = True mock_image_try_update.return_value = None mock_files_changed.return_value = True self.assertItemsEqual( self.cmd.adapter.check_file_exists.call_args_list, [mock.call(self.cmd.adapter, './overcloud-full.qcow2')]) mock_image_try_update.assert_has_calls([ mock.call(self.cmd.adapter, 'overcloud-full-vmlinuz', './overcloud-full.vmlinuz'), mock.call(self.cmd.adapter, 'overcloud-full-initrd', './overcloud-full.initrd'), mock.call(self.cmd.adapter, 'overcloud-full', './overcloud-full.qcow2'), ])","class TestUploadOvercloudImage(TestPluginV1): self.cmd._read_image_file_pointer = mock.Mock( return_value=self._file_handle) self.cmd._check_file_exists = mock.Mock(return_value=True) @mock.patch('osc_lib.utils.find_resource') def test_get_image_exists(self, mock_find_resource): image_mock = mock.Mock(name='imagename') mock_find_resource.return_value = image_mock self.assertEqual(self.cmd._get_image('imagename'), image_mock) @mock.patch('osc_lib.utils.find_resource') def test_get_image_none(self, mock_find_resource): mock_find_resource.side_effect = exceptions.CommandError('') self.assertIsNone(self.cmd._get_image('noimagename')) def test_image_try_update_no_exist(self): self.cmd._get_image = mock.Mock(return_value=None) parsed_args = mock.Mock(update_existing=False) self.assertFalse(self.cmd._image_try_update('name', 'fn', parsed_args)) def test_image_try_update_need_update(self): image_mock = mock.Mock(name='imagename') self.cmd._get_image = mock.Mock(return_value=image_mock) self.cmd._image_changed = mock.Mock(return_value=True) parsed_args = mock.Mock(update_existing=False) self.assertEqual(self.cmd._image_try_update('name', 'fn', parsed_args), image_mock) self.assertEqual( 0, self.app.client_manager.image.images.update.call_count ) def test_image_try_update_do_update(self): image_mock = mock.Mock(name='imagename', created_at='2015-07-31T14:37:22.000000') update_mock = mock.Mock(return_value=image_mock) self.app.client_manager.image.images.update = update_mock self.cmd._get_image = mock.Mock(return_value=image_mock) self.cmd._image_changed = mock.Mock(return_value=True) parsed_args = mock.Mock(update_existing=True) self.assertEqual(self.cmd._image_try_update('name', 'fn', parsed_args), None) self.assertEqual( 1, update_mock.call_count ) @mock.patch('os.path.isfile', autospec=True) def test_file_try_update_need_update(self, mock_isfile): mock_isfile.return_value = True self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._copy_file = mock.Mock() self.cmd._file_create_or_update('discimg', 'discimgprod', False) self.assertEqual( 0, self.cmd._copy_file.call_count ) def test_file_try_update_do_update(self): self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._copy_file = mock.Mock() self.cmd._file_create_or_update('discimg', 'discimgprod', True) self.assertEqual( 1, self.cmd._copy_file.call_count ) def test_overcloud_create_images_v2(self, mock_subprocess_call, self.cmd._get_image = mock.Mock(return_value=None) @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_overcloud_create_images_v1(self, mock_subprocess_call, mock_isfile): parsed_args = self.check_parser(self.cmd, [], []) mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) self.app.client_manager.image.version = 1.0 self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 3, self.app.client_manager.image.images.create.call_count ) self.app.client_manager.image.images.create.assert_has_calls([ mock.call(properties={'hw_architecture': self._arch}, data=self._file_handle, name='overcloud-full-vmlinuz', disk_format='aki', is_public=True), mock.call(properties={'hw_architecture': self._arch}, data=self._file_handle, name='overcloud-full-initrd', disk_format='ari', is_public=True), mock.call(properties={'kernel_id': 10, 'ramdisk_id': 10, 'hw_architecture': self._arch}, name='overcloud-full', data=self._file_handle, container_format='bare', disk_format='qcow2', is_public=True), ]) @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_overcloud_create_images_with_arch_v1(self, mock_subprocess_call, mock_isfile): parsed_args = self.check_parser(self.cmd, ['--arch', 'x86_64'], []) mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) self.app.client_manager.image.version = 1.0 self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 3, self.app.client_manager.image.images.create.call_count ) self.app.client_manager.image.images.create.assert_has_calls([ mock.call(properties={'hw_architecture': 'x86_64'}, data=self._file_handle, name='x86_64-overcloud-full-vmlinuz', disk_format='aki', is_public=True), mock.call(properties={'hw_architecture': 'x86_64'}, data=self._file_handle, name='x86_64-overcloud-full-initrd', disk_format='ari', is_public=True), mock.call(properties={'hw_architecture': 'x86_64', 'kernel_id': 10, 'ramdisk_id': 10}, name='x86_64-overcloud-full', data=self._file_handle, container_format='bare', disk_format='qcow2', is_public=True), ]) self.assertEqual(mock_subprocess_call.call_count, 2) mock_subprocess_call.assert_has_calls([ mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/var/lib/ironic/httpboot/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/var/lib/ironic/httpboot/agent.ramdisk""', shell=True) ]) def test_overcloud_create_images_image_path(self, mock_subprocess_call, self.cmd._image_try_update = mock.Mock() self.cmd._image_try_update.assert_has_calls([ mock.call('overcloud-full-vmlinuz', '/foo/overcloud-full.vmlinuz', mock.ANY), mock.call('overcloud-full-initrd', '/foo/overcloud-full.initrd', mock.ANY), mock.call('overcloud-full', '/foo/overcloud-full.qcow2', mock.ANY), def test_overcloud_create_noupdate_images(self, mock_subprocess_call, self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._get_image = mock.Mock(return_value=existing_image) self.cmd._image_changed = mock.Mock(return_value=True) def test_overcloud_create_update_images(self, mock_subprocess_call): self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._get_image = mock.Mock(return_value=existing_image) self.cmd._image_changed = mock.Mock(return_value=True) self.cmd._read_image_file_pointer = mock.Mock( return_value=self._file_handle) self.cmd._check_file_exists = mock.Mock(return_value=True) def test_overcloud_create_images(self, mock_subprocess_call, self.cmd._get_image = mock.Mock(return_value=None) def test_overcloud_create_images_with_arch(self, mock_subprocess_call, ['--whole-disk', '--arch', 'x86_64'], self.cmd._get_image = mock.Mock(return_value=None) mock.call(name='x86_64-overcloud-full', mock.call(mock.ANY, hw_architecture='x86_64'), def test_overcloud_create_noupdate_images(self, mock_subprocess_call, self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._get_image = mock.Mock(return_value=existing_image) def test_overcloud_create_update_images(self, mock_subprocess_call): self.cmd._files_changed = mock.Mock(return_value=True) self.cmd._get_image = mock.Mock(return_value=existing_image) self.cmd._image_changed = mock.Mock(return_value=True) # GlanceV2ClientAdapter.upload_image() calls self.cmd._read_image_file_pointer = mock.Mock( return_value=self._file_handle) self.cmd._check_file_exists = mock.Mock(return_value=True) def test_overcloud_create_images_with_arch(self, mock_subprocess_call, self.cmd._get_image = mock.Mock(return_value=None) mock.patch self.cmd._get_image = mock.Mock(return_value=None) mock.patch self.cmd._check_file_exists = mock.Mock() self.cmd._read_image_file_pointer = mock.Mock( return_value=self._file_handle) def test_overcloud_upload_just_ipa_wholedisk( self, mock_isfile_call, mock_subprocess_call): self.cmd._image_changed = mock.Mock(return_value=True) self.cmd._image_try_update = mock.Mock(return_value=None) self.cmd._files_changed = mock.Mock(return_value=True) self.assertItemsEqual(self.cmd._check_file_exists.call_args_list, [mock.call('./ironic-python-agent.initramfs'), mock.call('./ironic-python-agent.kernel')]) self.assertFalse(self.cmd._image_try_update.called) def test_overcloud_upload_just_os_wholedisk( self, mock_isfile_call, mock_subprocess_call): self.cmd._image_changed = mock.Mock(return_value=True) self.cmd._image_try_update = mock.Mock(return_value=None) self.cmd._files_changed = mock.Mock(return_value=True) self.assertItemsEqual(self.cmd._check_file_exists.call_args_list, [mock.call('./overcloud-full.qcow2')]) files = [] for item in self.cmd._image_try_update.call_args_list: files.append(item[0][1]) self.assertEqual(files, ['./overcloud-full.qcow2']) def test_overcloud_upload_just_ipa( self, mock_isfile_call, mock_subprocess_call): self.cmd._image_changed = mock.Mock(return_value=True) self.cmd._image_try_update = mock.Mock(return_value=None) self.cmd._files_changed = mock.Mock(return_value=True) self.assertItemsEqual(self.cmd._check_file_exists.call_args_list, [mock.call('./ironic-python-agent.initramfs'), mock.call('./ironic-python-agent.kernel')]) self.assertFalse(self.cmd._image_try_update.called) def test_overcloud_upload_just_os( self, mock_isfile_call, mock_subprocess_call): self.cmd._image_changed = mock.Mock(return_value=True) self.cmd._image_try_update = mock.Mock(return_value=None) self.cmd._files_changed = mock.Mock(return_value=True) self.assertItemsEqual(self.cmd._check_file_exists.call_args_list, [mock.call('./overcloud-full.qcow2')]) files = [] for item in self.cmd._image_try_update.call_args_list: files.append(item[0][1]) self.assertEqual(files, ['./overcloud-full.vmlinuz', './overcloud-full.initrd', './overcloud-full.qcow2'])",565,449
openstack%2Fpython-tripleoclient~master~I48bedfe9a705f5ff8e0eed1f852b77938d53c763,openstack/python-tripleoclient,master,I48bedfe9a705f5ff8e0eed1f852b77938d53c763,Remove mistral from the introspection workflows,MERGED,2020-02-12 10:02:13.000000000,2020-03-16 08:18:16.000000000,2020-03-16 08:16:41.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-12 10:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7fd6a448463ac903eae80d44f013aa57a35b218f', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 2, 'created': '2020-02-12 10:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1bac2b5c761ca18990bd53af9ade7617c207c4b3', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 3, 'created': '2020-02-12 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab2f1fd49a07a94659a95b1cc04745075d489459', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 4, 'created': '2020-02-24 19:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30ebfdeaade1770ac787702ebbc77b29dc80d795', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 5, 'created': '2020-02-27 17:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a821f774b184d7f14ce2966dbd681de386f73f63', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\n'}, {'number': 6, 'created': '2020-02-27 19:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e191bb5ebd05830283d0c742d322c411e8e7112', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-27 19:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd68deb9a06d70d75157df0f4ba3034077de18e1', 'message': 'Use the introspection playbook with node import\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-02-28 00:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/422b037976c5656f924e4e985b3880eeba767cc8', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-02-28 17:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eaf5ff2c9b737ff009351da7f865c3c10143ad8c', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f4a93cc11732377705ff79815be2081e26f9f22', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2020-03-06 23:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7acf042af21e4f9ac62e838cf2f9477414474e28', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2020-03-09 13:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03bfd93b6c7d8b292bbfa691ea23b84f944d95f1', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2020-03-11 13:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee762ea694e3d50de19aa74ad200381ca6d01c31', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2020-03-13 11:08:19.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb639bc65c4bb36930a2e6d242750e397fa7433f', 'message': 'Remove mistral from the introspection workflows\n\nThis change removes all of mistral from the introspection workflows\nby calling the new introspection playbook.\n\nStory: 2007212\nTask: 38444\nTask: 38445\n\nDepends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nChange-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,707348,bb639bc65c4bb36930a2e6d242750e397fa7433f,64,8,14,9712,,,0,"Remove mistral from the introspection workflows

This change removes all of mistral from the introspection workflows
by calling the new introspection playbook.

Story: 2007212
Task: 38444
Task: 38445

Depends-On: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98
Change-Id: I48bedfe9a705f5ff8e0eed1f852b77938d53c763
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/707348/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,7fd6a448463ac903eae80d44f013aa57a35b218f,mistral_to_ansible," extra_vars = { ""node_uuids"": nodes_uuids, ""run_validations"": parsed_args.run_validations, ""concurrency"": parsed_args.concurrency, } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-baremetal-introspect.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, extra_vars=extra_vars )"," baremetal.introspect(self.app.client_manager, node_uuids=nodes_uuids, run_validations=parsed_args.run_validations, concurrency=parsed_args.concurrency )",38,20
openstack%2Fhacking~master~I6677bdda81253c94076a542a48b937224575cff4,openstack/hacking,master,I6677bdda81253c94076a542a48b937224575cff4,Remove pypy jobs,MERGED,2020-02-27 23:48:28.000000000,2020-03-16 07:38:42.000000000,2020-03-16 07:35:04.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-02-27 23:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/37ebb071026ade98deac53929a668657f483c997', 'message': 'DNM: testing nova fix\n\nDepends-On: https://review.opendev.org/#/c/710344/\nChange-Id: I6677bdda81253c94076a542a48b937224575cff4\n'}, {'number': 2, 'created': '2020-02-28 00:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/da52bc92b5006e5ba47a56b7bd9ed31e559c667c', 'message': ""Remove pypy jobs\n\npypy jobs are non-voting and do not work. let's drop it\ntill someone fix the tool.\n\nWe so not run pypy jobs in other projects.\n\nDepends-On: https://review.opendev.org/#/c/710344/\nChange-Id: I6677bdda81253c94076a542a48b937224575cff4\n""}, {'number': 3, 'created': '2020-02-28 03:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/b50abd89a80068f93c1440817289cc2300c09e24', 'message': ""Remove pypy jobs\n\npypy jobs are non-voting and do not work. let's drop it\ntill someone fix the tool.\n\nWe so not run pypy jobs in other projects.\n\nChange-Id: I6677bdda81253c94076a542a48b937224575cff4\n""}, {'number': 4, 'created': '2020-03-15 18:18:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/hacking/commit/aa8d0245c8c03df9cf522e6f7c82f3d1a4e40955', 'message': ""Remove pypy jobs\n\npypy jobs are non-voting and do not work. let's drop it\ntill someone fix the tool.\n\nWe so not run pypy jobs in other projects.\n\nChange-Id: I6677bdda81253c94076a542a48b937224575cff4\n""}]",0,710349,aa8d0245c8c03df9cf522e6f7c82f3d1a4e40955,17,4,4,8556,,,0,"Remove pypy jobs

pypy jobs are non-voting and do not work. let's drop it
till someone fix the tool.

We so not run pypy jobs in other projects.

Change-Id: I6677bdda81253c94076a542a48b937224575cff4
",git fetch https://review.opendev.org/openstack/hacking refs/changes/49/710349/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,37ebb071026ade98deac53929a668657f483c997,, Run the integration job against nova with proposed hacking change., Run the integration job against nova with proposed hacking change.,1,1
openstack%2Ftripleo-docs~master~Ib9410e6f6415d3f91a477414930a236f1dc284c8,openstack/tripleo-docs,master,Ib9410e6f6415d3f91a477414930a236f1dc284c8,"Predictable IPs, no resource_registry override",MERGED,2020-03-05 19:37:26.000000000,2020-03-16 07:38:16.000000000,2020-03-16 07:36:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-05 19:37:26.000000000', 'files': ['deploy-guide/source/provisioning/node_placement.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/144e4d8e7577fab5ea34a6273b4f74be40f2114b', 'message': 'Predictable IPs, no resource_registry override\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky. The resource\nregistry overrides are removed the depends-on.\n\nChange-Id: Ib9410e6f6415d3f91a477414930a236f1dc284c8\nRelated-Bug: #1866215\nDepends-On: https://review.opendev.org/711537\n'}]",0,711539,144e4d8e7577fab5ea34a6273b4f74be40f2114b,12,4,1,24245,,,0,"Predictable IPs, no resource_registry override

Support for predictable IP addressing added to the
default port templates in Rocky. The resource
registry overrides are removed the depends-on.

Change-Id: Ib9410e6f6415d3f91a477414930a236f1dc284c8
Related-Bug: #1866215
Depends-On: https://review.opendev.org/711537
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/39/711539/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/provisioning/node_placement.rst'],1,144e4d8e7577fab5ea34a6273b4f74be40f2114b,bug/1866215,"The parameter_defaults section in ``ips-from-pool-all.yaml``, is where the IP addresses are assigned. Each node type has an associated parameter - ControllerIPs for Controller nodes, ComputeIPs for Compute nodes, etc. Each parameter is a map of network names to a list of addresses. Each network type must have at least as many addresses as there will be nodes on that network. The addresses will be assigned in order, so the first node of each type will get the first address in each of the lists, the second node will get the second","In ``ips-from-pool-all.yaml`` there are two major sections. The first is a number of resource_registry overrides that tell TripleO you want to use a specific IP for a given port on a node type. By default, this environment sets all the default networks on all node types to use a pre-assigned IP. To allow a particular network or node type to use default IP assignment instead, simply remove the resource_registry entries related to that node type/network from the environment file. The second section is parameter_defaults, where the actual IP addresses are assigned. Each node type has an associated parameter - ControllerIPs for Controller nodes, ComputeIPs for Compute nodes, etc. Each parameter is a map of network names to a list of addresses. Each network type must have at least as many addresses as there will be nodes on that network. The addresses will be assigned in order, so the first node of each type will get the first address in each of the lists, the second node will get the second",7,15
openstack%2Fhacking~master~Iaebcf267de9ef826b8cc387d1fa1f2eccff2c050,openstack/hacking,master,Iaebcf267de9ef826b8cc387d1fa1f2eccff2c050,Disable old-style-class check by default,MERGED,2020-02-20 21:24:26.000000000,2020-03-16 07:37:28.000000000,2020-03-16 07:35:03.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 21:24:26.000000000', 'files': ['hacking/checks/python23.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/aef9ad9dacdac458ed8b5c55ce919a429b1bad71', 'message': ""Disable old-style-class check by default\n\nIn Python3, all objects inherit 'object' and there is no need to\ninherit 'object' in class declarations as we do in python2.\npylint 2.0 added a new check useless-object-inheritance and\nif this check is enabled in pylint, we need to disable the\nold-style-class check in hacking. We are now in py3 era,\nso it sounds good to disable it by default.\n\nChange-Id: Iaebcf267de9ef826b8cc387d1fa1f2eccff2c050\n""}]",0,708969,aef9ad9dacdac458ed8b5c55ce919a429b1bad71,9,4,1,841,,,0,"Disable old-style-class check by default

In Python3, all objects inherit 'object' and there is no need to
inherit 'object' in class declarations as we do in python2.
pylint 2.0 added a new check useless-object-inheritance and
if this check is enabled in pylint, we need to disable the
old-style-class check in hacking. We are now in py3 era,
so it sounds good to disable it by default.

Change-Id: Iaebcf267de9ef826b8cc387d1fa1f2eccff2c050
",git fetch https://review.opendev.org/openstack/hacking refs/changes/69/708969/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/checks/python23.py'],1,aef9ad9dacdac458ed8b5c55ce919a429b1bad71,old-style-class,@core.off_by_default,,1,0
openstack%2Ftacker-specs~master~If58850cce92c5dbd2f473ee59a4f74416b26183b,openstack/tacker-specs,master,If58850cce92c5dbd2f473ee59a4f74416b26183b,postpone VNF parameter update spec,MERGED,2020-02-27 01:00:30.000000000,2020-03-16 07:21:55.000000000,2020-03-16 07:20:04.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2020-02-27 01:00:30.000000000', 'files': ['specs/ussuri/vnf_parameter_update.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9d4133ad1b7efbc07ebe4e4cd6eecabad1ca0ad1', 'message': 'postpone VNF parameter update spec\n\nVNF parameter update spec was merged at Train cycle but was not\nimplemented. This patch postpone the spec to Ussuri.\n\nChange-Id: If58850cce92c5dbd2f473ee59a4f74416b26183b\n'}]",0,710162,9d4133ad1b7efbc07ebe4e4cd6eecabad1ca0ad1,9,4,1,26588,,,0,"postpone VNF parameter update spec

VNF parameter update spec was merged at Train cycle but was not
implemented. This patch postpone the spec to Ussuri.

Change-Id: If58850cce92c5dbd2f473ee59a4f74416b26183b
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/62/710162/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/vnf_parameter_update.rst'],1,9d4133ad1b7efbc07ebe4e4cd6eecabad1ca0ad1,bp/reservation-vnfm,,,0,0
openstack%2Fmagnum~master~I8305b9f8c9c37518ec39198693adb6f18542bf2e,openstack/magnum,master,I8305b9f8c9c37518ec39198693adb6f18542bf2e,Add cinder_csi_enabled label,MERGED,2019-12-22 22:11:31.000000000,2020-03-16 06:46:16.000000000,2020-03-16 06:43:47.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22997}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-12-22 22:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b3e44d22793a7b2b1466f8965cac38ff82cad21a', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate reliance on in-tree Cinder.\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 2, 'created': '2019-12-22 22:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/aa3e18770654c6631e4a7e9309f43a878f13378e', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate reliance on in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 3, 'created': '2019-12-22 23:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a59fb6e93ee70260aca933243207b48f11ff4464', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate reliance on in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 4, 'created': '2019-12-23 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fb48635337a935819cd03e2e3637cc9acf3a5a8d', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 5, 'created': '2020-02-03 15:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/776d9b09dce96dd423a453024d4921e67c71599a', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 6, 'created': '2020-02-05 12:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c677c3c0f4339e355e999353d1ee18c5ed55fb91', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 7, 'created': '2020-02-21 12:17:22.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/cinder-csi-enabled-label-ab2b8ade63c57cf3.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9565984fd90af340462d3b388e9137001da77133', 'message': 'Add cinder_csi_enabled label\n\nAdd support for out of tree Cinder CSI. This is installed when the\ncinder_csi_enabled=true label is added. This will allow us to eventually\ndeprecate in-tree Cinder.\n\nstory: 2007048\ntask: 37868\n\nChange-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",0,700357,9565984fd90af340462d3b388e9137001da77133,34,5,7,28022,,,0,"Add cinder_csi_enabled label

Add support for out of tree Cinder CSI. This is installed when the
cinder_csi_enabled=true label is added. This will allow us to eventually
deprecate in-tree Cinder.

story: 2007048
task: 37868

Change-Id: I8305b9f8c9c37518ec39198693adb6f18542bf2e
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/700357/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'releasenotes/notes/cinder-csi-enabled-label-ab2b8ade63c57cf3.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",8,b3e44d22793a7b2b1466f8965cac38ff82cad21a,cinder-csi,"CINDER_CSI_ENABLED=""$CINDER_CSI_ENABLED""",,561,0
openstack%2Fopenstack-ansible-os_neutron~master~I1f808534cb115224c17eb82791b2178172547216,openstack/openstack-ansible-os_neutron,master,I1f808534cb115224c17eb82791b2178172547216,Refactor memcached_servers,MERGED,2020-03-13 19:31:38.000000000,2020-03-16 05:00:16.000000000,2020-03-16 04:58:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-13 19:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/60c6a1fc865e39552a35a2566cce104c821b59fe', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: I1f808534cb115224c17eb82791b2178172547216\n'}, {'number': 2, 'created': '2020-03-13 22:19:12.000000000', 'files': ['templates/neutron.conf.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c474abfc599c0f454b8b51952413b72fa0381d4b', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I1f808534cb115224c17eb82791b2178172547216\n'}]",0,713052,c474abfc599c0f454b8b51952413b72fa0381d4b,18,4,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I1f808534cb115224c17eb82791b2178172547216
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/52/713052/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'defaults/main.yml']",2,60c6a1fc865e39552a35a2566cce104c821b59fe,memcached-refactor,"### Memcache override ### neutron_memcached_servers: ""{{ memcached_servers }}"" ###",,6,1
openstack%2Fzun~master~I559ad0ffa62b74c38690ddfd3618327d957d2981,openstack/zun,master,I559ad0ffa62b74c38690ddfd3618327d957d2981,Add numactl package to installation guide,MERGED,2020-02-17 05:04:44.000000000,2020-03-16 04:44:22.000000000,2020-03-16 04:42:56.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-17 05:04:44.000000000', 'files': ['doc/source/install/compute-install.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/a104f2ad28507f656f96bb31d934c7903fa31d4b', 'message': 'Add numactl package to installation guide\n\nChange-Id: I559ad0ffa62b74c38690ddfd3618327d957d2981\n'}]",0,708056,a104f2ad28507f656f96bb31d934c7903fa31d4b,9,2,1,11536,,,0,"Add numactl package to installation guide

Change-Id: I559ad0ffa62b74c38690ddfd3618327d957d2981
",git fetch https://review.opendev.org/openstack/zun refs/changes/56/708056/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/compute-install.rst'],1,a104f2ad28507f656f96bb31d934c7903fa31d4b,, # apt-get install python3-pip git numactl # yum install python3-pip git python3-devel libffi-devel gcc openssl-devel numactl, # apt-get install python3-pip git # yum install python3-pip git python3-devel libffi-devel gcc openssl-devel,2,2
openstack%2Ftrove~master~Ibd595b5b5c02cf72f1e5f05c79469cd4cb15a3ca,openstack/trove,master,Ibd595b5b5c02cf72f1e5f05c79469cd4cb15a3ca,Support to test non-dev guest image in CI,MERGED,2020-03-12 02:14:55.000000000,2020-03-16 02:50:58.000000000,2020-03-16 02:48:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 02:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9121ddb055befec29e47f453cfeb6c8a4828d125', 'message': 'Support to test non-dev guest image in CI\n\nMake the job non-voting because it may fail when the guest agent code\nchanges.\n\nChange-Id: Ibd595b5b5c02cf72f1e5f05c79469cd4cb15a3ca\n'}, {'number': 2, 'created': '2020-03-15 22:10:41.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/c952838a9bbd8a5e67d64dc3271501341fdd2394', 'message': 'Support to test non-dev guest image in CI\n\nMake the job non-voting because it may fail when the guest agent code\nchanges.\n\nChange-Id: Ibd595b5b5c02cf72f1e5f05c79469cd4cb15a3ca\n'}]",0,712597,c952838a9bbd8a5e67d64dc3271501341fdd2394,9,2,2,6732,,,0,"Support to test non-dev guest image in CI

Make the job non-voting because it may fail when the guest agent code
changes.

Change-Id: Ibd595b5b5c02cf72f1e5f05c79469cd4cb15a3ca
",git fetch https://review.opendev.org/openstack/trove refs/changes/97/712597/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh', 'devstack/settings']",3,9121ddb055befec29e47f453cfeb6c8a4828d125,test-non-dev-image,"TROVE_NON_DEV_IMAGE_URL_MYSQL=${TROVE_NON_DEV_IMAGE_URL_MYSQL:-""""}",,34,10
openstack%2Fdesignate-tempest-plugin~master~Ia1642e1299df38b71cadab2cd677dcdb85e67e8e,openstack/designate-tempest-plugin,master,Ia1642e1299df38b71cadab2cd677dcdb85e67e8e,Split unauthed tests into sections,ABANDONED,2019-12-20 22:52:51.000000000,2020-03-16 02:46:58.000000000,,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-20 22:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1129de7809af0cce74c26f6ebc5278190776bc8e', 'message': 'Split unauthed tests into sections\n\nThis gives us a bit more fingrained control\nover the unauthed tests.\n\nChange-Id: Ia1642e1299df38b71cadab2cd677dcdb85e67e8e\n'}, {'number': 2, 'created': '2019-12-20 23:13:18.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/unauthed_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_tld_data.json', 'designate_tempest_plugin/tests/api/v2/test_unauthed.py', 'designate_tempest_plugin/tests/api/v2/unauthed_zone_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_pool_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_blacklist_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_recordset_data.json'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/625d50a69015b493411a6de0eaeb9348fe532e22', 'message': 'Split unauthed tests into sections\n\nThis gives us a bit more fingrained control\nover the unauthed tests.\n\nChange-Id: Ia1642e1299df38b71cadab2cd677dcdb85e67e8e\n'}]",0,700255,625d50a69015b493411a6de0eaeb9348fe532e22,5,2,2,22623,,,0,"Split unauthed tests into sections

This gives us a bit more fingrained control
over the unauthed tests.

Change-Id: Ia1642e1299df38b71cadab2cd677dcdb85e67e8e
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/55/700255/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/unauthed_data.json', 'designate_tempest_plugin/tests/api/v2/test_unauthed.py', 'designate_tempest_plugin/tests/api/v2/unauthed_tld_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_zone_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_pool_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_blacklist_data.json', 'designate_tempest_plugin/tests/api/v2/unauthed_recordset_data.json']",7,1129de7809af0cce74c26f6ebc5278190776bc8e,,"{ ""list_recordsets"": { ""client"": ""recordset_client"", ""method"": ""list_recordset"", ""args"": [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""] }, ""show_recordset"": { ""client"": ""recordset_client"", ""method"": ""show_recordset"", ""args"": [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""] }, ""create_recordset"": { ""client"": ""recordset_client"", ""method"": ""create_recordset"", ""args"": [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""] }, ""update_recordset"": { ""client"": ""recordset_client"", ""method"": ""update_recordset"", ""args"": [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", {}] }, ""delete_recordset"": { ""client"": ""recordset_client"", ""method"": ""delete_recordset"", ""args"": [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""] } } ",,161,130
openstack%2Fdesignate-tempest-plugin~master~Ib8d9217665c2615574868ed70e87cd030e947a01,openstack/designate-tempest-plugin,master,Ib8d9217665c2615574868ed70e87cd030e947a01,Testing,ABANDONED,2019-12-21 21:36:47.000000000,2020-03-16 02:46:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-21 21:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7448cd6abb3dd0e5ac4ce7625b116dc78b372c63', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 2, 'created': '2019-12-21 22:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5cd334a3697b6a1461394813ab23cb804bc712d6', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 3, 'created': '2019-12-21 23:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/cb6da87f97fcc7af0ea8000e1ec51c41612f6594', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 4, 'created': '2019-12-21 23:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7042aa4d54b112be573d60676d467fbd8ea8c74c', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 5, 'created': '2019-12-22 00:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0c7953148330100110a7d308b76e9b18771739ac', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 6, 'created': '2019-12-22 00:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b0dfb7f44f40fac200e3d479ce54a3d9fa0f7511', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 7, 'created': '2019-12-22 01:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4333cefbf0f7db88d3ac708af0cb1397483f8ac0', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 8, 'created': '2019-12-22 01:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ee0e26057800db961cd0a5e39396b5357a4a82fb', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 9, 'created': '2019-12-22 02:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8e215f9fcc1e2790fbbda09e20da2983f590ba62', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 10, 'created': '2019-12-22 03:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a4f19c389e6ed6899a9d4b1a79a6d88e50956bf9', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}, {'number': 11, 'created': '2019-12-22 22:00:06.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/100226bec4c9aadccc2d507cf7ac5583bcf6228c', 'message': 'Testing\n\nChange-Id: Ib8d9217665c2615574868ed70e87cd030e947a01\n'}]",0,700285,100226bec4c9aadccc2d507cf7ac5583bcf6228c,17,1,11,22623,,,0,"Testing

Change-Id: Ib8d9217665c2615574868ed70e87cd030e947a01
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/85/700285/10 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'],1,7448cd6abb3dd0e5ac4ce7625b116dc78b372c63,test," @decorators.attr(type='slow') def test_create_multiple(self, ): recordsets = [] for name in ['a', 'b', 'c', 'd']: recordset_name = '%s.%s' % (name, self.zone['name']) recordset_data = { 'name': recordset_name, 'type': 'A', 'records': ['127.0.0.1', '127.0.0.2', '127.0.0.3'], } _, recordset = self.recordset_client.create_recordset( self.zone['id'], recordset_data) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.recordset_client.delete_recordset, self.zone['id'], recordset['id'] ) recordsets.append(recordset) for recordset in recordsets: self.recordset_client.delete_recordset(self.zone['id'], recordset['id']) recordsets = [] for name in ['a', 'b', 'c', 'd']: recordset_name = '%s.%s' % (name, self.zone['name']) recordset_data = { 'name': recordset_name, 'type': 'A', 'records': ['127.0.0.1', '127.0.0.2', '127.0.0.3'], } _, recordset = self.recordset_client.create_recordset( self.zone['id'], recordset_data) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.recordset_client.delete_recordset, self.zone['id'], recordset['id'] ) recordsets.append(recordset) for recordset in recordsets: self.recordset_client.delete_recordset(self.zone['id'], recordset['id']) for recordset in recordsets: self.assertRaises(lib_exc.NotFound, lambda: self.recordset_client.show_recordset( self.zone['id'], recordset['id']))",,49,0
openstack%2Fdesignate~master~I65bde4f5bdae4f8f8ff72d5936be8008739143ec,openstack/designate,master,I65bde4f5bdae4f8f8ff72d5936be8008739143ec,DNM Test,ABANDONED,2019-12-22 04:25:58.000000000,2020-03-16 02:46:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-22 04:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3f5e7d22faa86b31b1274a75b6229dd1854b9e4d', 'message': 'DNM Test\n\nDepends-On: https://review.opendev.org/700285/\nChange-Id: I65bde4f5bdae4f8f8ff72d5936be8008739143ec\n'}, {'number': 2, 'created': '2020-01-07 05:00:37.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/79b034f26f6e4d0243529919825c09a9c7638231', 'message': 'DNM Test\n\nDepends-On: https://review.opendev.org/700285/\nChange-Id: I65bde4f5bdae4f8f8ff72d5936be8008739143ec\n'}]",0,700289,79b034f26f6e4d0243529919825c09a9c7638231,5,1,2,22623,,,0,"DNM Test

Depends-On: https://review.opendev.org/700285/
Change-Id: I65bde4f5bdae4f8f8ff72d5936be8008739143ec
",git fetch https://review.opendev.org/openstack/designate refs/changes/89/700289/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3f5e7d22faa86b31b1274a75b6229dd1854b9e4d,dnm, iniset $DESIGNATE_CONF service:agent workers 4 iniset $DESIGNATE_CONF service:central workers 4 iniset $DESIGNATE_CONF service:mdns workers 4 iniset $DESIGNATE_CONF service:producer workers 4 iniset $DESIGNATE_CONF service:sink workers 1 iniset $DESIGNATE_CONF service:worker workers 4 s|%APIWORKERS%|4|g;, iniset $DESIGNATE_CONF service:agent workers $API_WORKERS iniset $DESIGNATE_CONF service:central workers $API_WORKERS iniset $DESIGNATE_CONF service:mdns workers $API_WORKERS iniset $DESIGNATE_CONF service:producer workers $API_WORKERS iniset $DESIGNATE_CONF service:sink workers $API_WORKERS iniset $DESIGNATE_CONF service:worker workers $API_WORKERS s|%APIWORKERS%|$API_WORKERS|g;,7,7
openstack%2Ftempest~master~I091e648620d2986d57a8bb2b50399cd1f22fa36f,openstack/tempest,master,I091e648620d2986d57a8bb2b50399cd1f22fa36f,Add response schema validation for volume quota classes,MERGED,2018-09-27 06:48:58.000000000,2020-03-16 02:23:10.000000000,2020-03-16 02:21:32.000000000,"[{'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-27 06:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8893f58ba4fb70181f4b1683ed652d4eeb337b4e', 'message': 'Add response schema validation for volume quota classes\n\nThis is to add response schema validation for volume\nquota classes, also to remove the fields check in testcases.\n\nChange-Id: I091e648620d2986d57a8bb2b50399cd1f22fa36f\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 2, 'created': '2018-09-28 00:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb1cc6736979ad37b56ae77f15977eb76990a6a8', 'message': 'Add response schema validation for volume quota classes\n\nThis is to add response schema validation for volume\nquota classes, also to remove the fields check in testcases.\n\nChange-Id: I091e648620d2986d57a8bb2b50399cd1f22fa36f\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 3, 'created': '2018-09-29 02:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e57890e49a812dba448a5e2e28d0fcfbc927135', 'message': 'Add response schema validation for volume quota classes\n\nThis is to add response schema validation for volume\nquota classes, also to remove the fields check in testcases.\n\nChange-Id: I091e648620d2986d57a8bb2b50399cd1f22fa36f\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 4, 'created': '2018-10-10 08:12:27.000000000', 'files': ['tempest/lib/api_schema/response/volume/quota_classes.py', 'tempest/api/volume/admin/test_volume_quota_classes.py', 'tempest/lib/services/volume/v3/quota_classes_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e75e3cb1a14fa2c0b48b8547d7ebc1d55cc23b9b', 'message': 'Add response schema validation for volume quota classes\n\nThis is to add response schema validation for volume\nquota classes, also to remove the fields check in testcases.\n\nChange-Id: I091e648620d2986d57a8bb2b50399cd1f22fa36f\npartially-implements: blueprint volume-response-schema-validation\n'}]",8,605600,e75e3cb1a14fa2c0b48b8547d7ebc1d55cc23b9b,43,11,4,20190,,,0,"Add response schema validation for volume quota classes

This is to add response schema validation for volume
quota classes, also to remove the fields check in testcases.

Change-Id: I091e648620d2986d57a8bb2b50399cd1f22fa36f
partially-implements: blueprint volume-response-schema-validation
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/605600/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/volume/v3/test_quota_classes_client.py', 'tempest/lib/api_schema/response/volume/quota_classes.py', 'tempest/api/volume/admin/test_volume_quota_classes.py', 'tempest/lib/services/volume/v3/quota_classes_client.py']",4,8893f58ba4fb70181f4b1683ed652d4eeb337b4e,bp/volume-response-schema-validation,"from tempest.lib.api_schema.response.volume import quota_classes as schema self.validate_response(schema.show_quota_classes, resp, body) self.validate_response(schema.update_quota_classes, resp, body)"," self.expected_success(200, resp.status) self.expected_success(200, resp.status)",69,6
openstack%2Frequirements~master~I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea,openstack/requirements,master,I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea,update constraint for os-testr to new release 2.0.0,MERGED,2020-03-15 19:52:02.000000000,2020-03-16 02:22:56.000000000,2020-03-16 02:21:33.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 19:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/39b9da09d35974ace97e5c8166530f6eb92a1d95', 'message': 'update constraint for os-testr to new release 2.0.0\n\nChange-Id: I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I444c4f8e4be36394cbdae266583485c012c374ed\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-03-15 21:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/17eb68067da4be044dd74ed856ef4fa570e76023', 'message': 'update constraint for os-testr to new release 2.0.0\n\nChange-Id: I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I444c4f8e4be36394cbdae266583485c012c374ed\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-03-15 21:45:04.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e3b5776516f139f692b4085e7407ab4533f94200', 'message': 'update constraint for os-testr to new release 2.0.0\n\nChange-Id: I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I444c4f8e4be36394cbdae266583485c012c374ed\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713145,e3b5776516f139f692b4085e7407ab4533f94200,12,3,3,11131,,,0,"update constraint for os-testr to new release 2.0.0

Change-Id: I1ddc187aeca8461ed7be49c6d9d8f4a2193acaea
meta:version: 2.0.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Change-Id: I444c4f8e4be36394cbdae266583485c012c374ed
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/713145/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,39b9da09d35974ace97e5c8166530f6eb92a1d95,new-release,os-testr===2.0.0,os-testr===1.1.0,1,1
openstack%2Ftempest~master~I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935,openstack/tempest,master,I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935,Add response schema validation for volume types,MERGED,2018-09-28 07:12:56.000000000,2020-03-16 02:18:45.000000000,2020-03-16 02:15:56.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 17130}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-09-28 07:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a25c2bfd8b72a77b5486523b7bda22ab3dc0e49', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\nBesides, ""os-volume-type-access:is_public"" and ""qos_specs_id""\nare missing from the response of ""Show volume type detail"", and\n""id"" is missing from the response of ""Updates a volume type""\nin api ref, I5f24a344755124fbc429f43a6970be00592a8ef2 will fix them.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 2, 'created': '2018-09-28 09:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f5d39d1d68b31fe9e45d9b22a422f4f8b37826c6', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\nBesides, ""os-volume-type-access:is_public"" and ""qos_specs_id""\nare missing from the response of ""Show volume type detail"", and\n""id"" is missing from the response of ""Updates a volume type""\nin api ref, I5f24a344755124fbc429f43a6970be00592a8ef2 will fix them.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 3, 'created': '2018-10-08 06:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c060dfb1e33d356e0e0f1d1b4d09ac0a7541bcc', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\nBesides, ""os-volume-type-access:is_public"" and ""qos_specs_id""\nare missing from the response of ""Show volume type detail"", and\n""id"" is missing from the response of ""Updates a volume type""\nin api ref, I5f24a344755124fbc429f43a6970be00592a8ef2 will fix them.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 4, 'created': '2019-08-20 06:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/87cac214631d6b8f4d650d79abec68f4071cc671', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\nBesides, ""os-volume-type-access:is_public"" and ""qos_specs_id""\nare missing from the response of ""Show volume type detail"", and\n""id"" is missing from the response of ""Updates a volume type""\nin api ref, I5f24a344755124fbc429f43a6970be00592a8ef2 will fix them.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 5, 'created': '2019-08-21 00:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5694cd0cbe6da1483782d3fddfc8c869154030cc', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\nBesides, ""os-volume-type-access:is_public"" and ""qos_specs_id""\nare missing from the response of ""Show volume type detail"", and\n""id"" is missing from the response of ""Updates a volume type""\nin api ref, I5f24a344755124fbc429f43a6970be00592a8ef2 will fix them.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}, {'number': 6, 'created': '2019-08-22 02:16:45.000000000', 'files': ['tempest/api/volume/admin/test_volume_types.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/api_schema/response/volume/volume_types.py', 'tempest/tests/lib/services/volume/v3/test_types_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/51e474d5e295aaa5a3071488b2c907c562c8658f', 'message': 'Add response schema validation for volume types\n\nThis is to add response schema validation for volume\ntypes.\n\nChange-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935\npartially-implements: blueprint volume-response-schema-validation\n'}]",39,605985,51e474d5e295aaa5a3071488b2c907c562c8658f,47,10,6,20190,,,0,"Add response schema validation for volume types

This is to add response schema validation for volume
types.

Change-Id: I7ef9b3ea989d65dbd6dfa291ab4752664ed5f935
partially-implements: blueprint volume-response-schema-validation
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/605985/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_types.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/api_schema/response/volume/volume_types.py']",3,2a25c2bfd8b72a77b5486523b7bda22ab3dc0e49,bp/volume-response-schema-validation,"# Copyright 2018 ZTE Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. extra_specs_info = { 'type': 'object', 'patternProperties': { '^.+$': {'type': 'string'} } } common_show_volume_type = { 'type': 'object', 'properties': { 'extra_specs': extra_specs_info, 'name': {'type': 'string'}, 'is_public': {'type': 'boolean'}, 'description': {'type': ['string', 'null']}, 'id': {'type': 'string', 'format': 'uuid'}, 'os-volume-type-access:is_public': {'type': 'boolean'}, 'qos_specs_id': {'type': ['string', 'null']} }, 'additionalProperties': False, 'required': ['extra_specs', 'name', 'is_public', 'description', 'id', 'qos_specs_id', 'os-volume-type-access:is_public'] } show_volume_type = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'volume_type': common_show_volume_type, }, 'additionalProperties': False, 'required': ['volume_type'] } } delete_volume_type = {'status_code': [202]} create_volume_type = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'volume_type': { 'type': 'object', 'properties': { 'extra_specs': extra_specs_info, 'name': {'type': 'string'}, 'is_public': {'type': 'boolean'}, 'description': {'type': ['string', 'null']}, 'id': {'type': 'string', 'format': 'uuid'}, 'os-volume-type-access:is_public': {'type': 'boolean'} }, 'additionalProperties': False, 'required': ['extra_specs', 'name', 'is_public', 'id', 'description', 'os-volume-type-access:is_public'] }, }, 'additionalProperties': False, 'required': ['volume_type'] } } list_volume_types = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'volume_types': { 'type': 'array', 'items': common_show_volume_type } }, 'additionalProperties': False, 'required': ['volume_types'] } } list_volume_types_extra_specs = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'extra_specs': extra_specs_info }, 'additionalProperties': False, 'required': ['extra_specs'] } } show_volume_types_extra_specs = { 'status_code': [200], 'response_body': extra_specs_info } create_volume_types_extra_specs = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'extra_specs': extra_specs_info }, 'additionalProperties': False, 'required': ['extra_specs'] } } delete_volume_types_extra_specs = {'status_code': [202]} update_volume_types = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'volume_type': { 'type': 'object', 'properties': { 'extra_specs': extra_specs_info, 'name': {'type': 'string'}, 'is_public': {'type': 'boolean'}, 'description': {'type': ['string', 'null']}, 'id': {'type': 'string', 'format': 'uuid'} }, 'additionalProperties': False, 'required': ['extra_specs', 'name', 'is_public', 'description', 'id'] }, }, 'additionalProperties': False, 'required': ['volume_type'] } } update_volume_type_extra_specs = { 'status_code': [200], 'response_body': extra_specs_info } add_type_access = {'status_code': [202]} remove_type_access = {'status_code': [202]} list_type_access = { 'status_code': [200], 'response_body': { 'type': 'object', 'properties': { 'volume_type_access': { 'type': 'object', 'properties': { 'volume_type_id': {'type': 'string', 'format': 'uuid'}, 'project_id': {'type': 'string', 'format': 'uuid'}, }, 'additionalProperties': False, 'required': ['volume_type_id', 'project_id'] } }, 'additionalProperties': False, 'required': ['volume_type_access'] } } ",,194,14
openstack%2Ftempest~master~I83ac30960c0be39fc5147d445cb39cb3ff4c56b2,openstack/tempest,master,I83ac30960c0be39fc5147d445cb39cb3ff4c56b2,Delete network quotas,MERGED,2019-11-04 10:35:52.000000000,2020-03-16 02:17:31.000000000,2020-03-16 02:15:54.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2019-11-04 10:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f4fd690b66fed58f62f80837b22768837ebd7be', 'message': 'Delete network quotas\n\nNetworkQuotaService class enables deletion of network quotas which\nwere neglected by tempest cleanup before.\n\nChange-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2\n'}, {'number': 2, 'created': '2019-11-11 08:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1e8bf066776b1fa69390b7e620bc3d60ec2c201', 'message': 'Delete network quotas\n\nNetworkQuotaService class enables deletion of network quotas which\nwere neglected by tempest cleanup before.\n\nChange-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2\n'}, {'number': 3, 'created': '2019-11-11 10:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d784821178af078692fda20dc44cb6eb83ded28d', 'message': 'Delete network quotas\n\nNetworkQuotaService class enables deletion of network quotas which\nwere neglected by tempest cleanup before.\n\nChange-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2\n'}, {'number': 4, 'created': '2019-11-12 10:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/368912ca4b502880166cb4b8248ae43cbdc52225', 'message': 'Delete network quotas\n\nNetworkQuotaService class enables deletion of network quotas which\nwere neglected by tempest cleanup before.\n\nChange-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2\n'}, {'number': 5, 'created': '2020-02-18 15:33:12.000000000', 'files': ['tempest/cmd/cleanup_service.py', 'tempest/tests/cmd/test_cleanup_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e530f241609f05955bbcd7d0b36a3b28f0064500', 'message': 'Delete network quotas\n\nNetworkQuotaService class enables deletion of network quotas which\nwere neglected by tempest cleanup before.\n\nChange-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2\n'}]",6,692795,e530f241609f05955bbcd7d0b36a3b28f0064500,38,9,5,30674,,,0,"Delete network quotas

NetworkQuotaService class enables deletion of network quotas which
were neglected by tempest cleanup before.

Change-Id: I83ac30960c0be39fc5147d445cb39cb3ff4c56b2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/692795/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/cleanup_service.py', 'tempest/tests/cmd/test_cleanup_services.py']",2,1f4fd690b66fed58f62f80837b22768837ebd7be,network-quota," project_id='b8e3ece07bb049138d224436756e3b57', class TestNetworkQuotaService(BaseCmdServiceTests): service_class = 'NetworkQuotaService' service_name = 'network_quota_service' response = { ""quotas"": [{ ""subnet"": 110, ""network"": 100, ""floatingip"": 50, ""tenant_id"": ""81e8490db559474dacb2212fca9cca2d"", ""subnetpool"": -1, ""security_group_rule"": 100, ""trunk"": -1, ""security_group"": 10, ""router"": 10, ""rbac_policy"": 10, ""project_id"": ""81e8490db559474dacb2212fca9cca2d"", ""port"": 500 }] } def test_delete_fail(self): delete_mock = [(self.delete_method, 'error', None), (self.log_method, 'exception', None)] self._test_delete(delete_mock, fail=True) def test_delete_pass(self): delete_mock = [(self.delete_method, None, 204), (self.log_method, 'exception', None)] self._test_delete(delete_mock) def test_dry_run(self): dry_mock = [(self.get_method, self.response, 200), (self.delete_method, ""delete"", None)] self._test_dry_run_true(dry_mock) class TestNovaQuotaService(BaseCmdServiceTests): service_class = 'NovaQuotaService' service_name = 'nova_quota_service' response = { ""limits"": { ""rate"": [], ""absolute"": { ""maxServerMeta"": 128, ""maxPersonality"": 5, ""totalServerGroupsUsed"": 0, ""maxImageMeta"": 128, ""maxPersonalitySize"": 10240, ""maxTotalKeypairs"": 100, ""maxSecurityGroupRules"": 20, ""maxServerGroups"": 10, ""totalCoresUsed"": 0, ""totalRAMUsed"": 0, ""totalInstancesUsed"": 0, ""maxSecurityGroups"": 10, ""totalFloatingIpsUsed"": 0, ""maxTotalCores"": 20, ""maxServerGroupMembers"": 10, ""maxTotalFloatingIps"": 10, ""totalSecurityGroupsUsed"": 0, ""maxTotalInstances"": 10, ""maxTotalRAMSize"": 51200 } } } def test_delete_fail(self): delete_mock = [(self.delete_method, 'error', None), (self.log_method, 'exception', None)] self._test_delete(delete_mock, fail=True) def test_delete_pass(self): delete_mock = [(self.delete_method, None, 202), (self.log_method, 'exception', None)] self._test_delete(delete_mock) def test_dry_run(self): dry_mock = [(self.get_method, self.response, 200), (self.delete_method, ""delete"", None)] self._test_dry_run_true(dry_mock) class TestVolumeQuotaService(BaseCmdServiceTests): service_class = 'VolumeQuotaService' service_name = 'volume_quota_service' response = { ""quota_set"": { ""groups"": {""reserved"": 0, ""limit"": 10, ""in_use"": 0}, ""per_volume_gigabytes"": {""reserved"": 0, ""limit"": -1, ""in_use"": 0}, ""volumes"": {""reserved"": 0, ""limit"": 10, ""in_use"": 0}, ""gigabytes"": {""reserved"": 0, ""limit"": 1000, ""in_use"": 0}, ""backup_gigabytes"": {""reserved"": 0, ""limit"": 1000, ""in_use"": 0}, ""snapshots"": {""reserved"": 0, ""limit"": 10, ""in_use"": 0}, ""volumes_iscsi"": {""reserved"": 0, ""limit"": -1, ""in_use"": 0}, ""snapshots_iscsi"": {""reserved"": 0, ""limit"": -1, ""in_use"": 0}, ""backups"": {""reserved"": 0, ""limit"": 10, ""in_use"": 0}, ""gigabytes_iscsi"": {""reserved"": 0, ""limit"": -1, ""in_use"": 0}, ""id"": ""b8e3ece07bb049138d224436756e3b57"" } } def test_delete_fail(self): delete_mock = [(self.delete_method, 'error', None), (self.log_method, 'exception', None)] self._test_delete(delete_mock, fail=True) def test_delete_pass(self): delete_mock = [(self.delete_method, None, 200), (self.log_method, 'exception', None)] self._test_delete(delete_mock) def test_dry_run(self): dry_mock = [(self.get_method, self.response, 200), (self.delete_method, ""delete"", None)] self._test_dry_run_true(dry_mock)",,149,0
openstack%2Fdevstack~master~I2f3abeca7f56a3aedeabb48630ed2c61635b93cd,openstack/devstack,master,I2f3abeca7f56a3aedeabb48630ed2c61635b93cd,remove duplicate entries under title guides in table of contents,MERGED,2019-06-03 02:58:59.000000000,2020-03-16 01:50:56.000000000,2020-03-15 20:11:23.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29071}, {'_account_id': 29970}, {'_account_id': 30498}]","[{'number': 1, 'created': '2019-06-03 02:58:59.000000000', 'files': ['doc/source/guides.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/16395949385356c4ab3c82227cd6c6a92496d356', 'message': 'remove duplicate entries under title guides in table of contents\n\nright now, there are duplicate titles under contents --> guides\nas shown in https://docs.openstack.org/devstack/latest/, although\nthey will forward to different pages, it is still a little confusing\nfor users. This change will hide toctree in guides.rst and users could\nclick links in page to jump to detail page to read more.\n\nChange-Id: I2f3abeca7f56a3aedeabb48630ed2c61635b93cd\n'}]",0,662670,16395949385356c4ab3c82227cd6c6a92496d356,14,7,1,29071,,,0,"remove duplicate entries under title guides in table of contents

right now, there are duplicate titles under contents --> guides
as shown in https://docs.openstack.org/devstack/latest/, although
they will forward to different pages, it is still a little confusing
for users. This change will hide toctree in guides.rst and users could
click links in page to jump to detail page to read more.

Change-Id: I2f3abeca7f56a3aedeabb48630ed2c61635b93cd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/662670/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides.rst'],1,16395949385356c4ab3c82227cd6c6a92496d356,fix_duplicate_contents, :hidden:,,1,0
openstack%2Fironic~master~Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8,openstack/ironic,master,Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8,Enable agent_token for virtual media boot,MERGED,2019-12-05 22:38:58.000000000,2020-03-16 01:34:06.000000000,2020-03-16 01:32:01.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-05 22:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0215d2efef66964ddc378cc8c72c0c4ef27fd741', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 2, 'created': '2019-12-06 21:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac25a414e89111f61c697ba8e444aa28080f900e', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 3, 'created': '2019-12-10 17:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9689456f3aa1264a6091d2a20568bd84fe688fe7', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 4, 'created': '2019-12-11 17:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e07bc9fe36a473d81252e879b18a51b09867740e', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 5, 'created': '2019-12-11 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cabef908e5d15c0a929836af18d973b0eae18432', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 6, 'created': '2019-12-11 18:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/beffc2b0c39bc90bc475425a82803f5a9a925ab0', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 7, 'created': '2019-12-13 00:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d28ecaf7c261d6c0d1e6f1262db92b7b6cf56251', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 8, 'created': '2019-12-13 15:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d62e352914f7aee9675ad96111b154a9d06f098f', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 9, 'created': '2019-12-16 22:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3bc9de2c46be1a61a59883f3b2c1845d0a81c755', 'message': 'WIP: Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 10, 'created': '2019-12-16 23:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65ec746269970a1255c37705453d69e90d0747ee', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 11, 'created': '2019-12-18 23:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4180321241b689d8f9b60c564a860c169bcc599', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 12, 'created': '2019-12-19 21:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/57e7adea79f6f4b3acdfe3394e9b0fd6359c09ab', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 13, 'created': '2020-01-20 22:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/071d1c592a098305e887ab6db88124ff8f6b0993', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 14, 'created': '2020-01-27 22:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2cdd3b68a134b050d2d27ae8efc6ec218ba86441', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 15, 'created': '2020-02-06 23:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a95c8d471007f5fc091218783787bbbc7b3612e', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 16, 'created': '2020-02-07 19:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdf7d0bae98244391a4194b8fcd385f40e159950', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 17, 'created': '2020-02-10 21:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9e55647239a7047d330f7a08afa2904e0043668', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 18, 'created': '2020-02-11 00:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db6c935dbc5833b8bd4f80ddbb1be0e2b9b1231c', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 19, 'created': '2020-02-11 22:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dcf3724c30441940c2881fc43663dac1f2f3a251', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 20, 'created': '2020-02-12 14:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71d49e80e019a1425cd271202984bdd84833d8b3', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 21, 'created': '2020-02-12 16:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4abbec33232eb34c2ab41c77d7412ddb371730fd', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 22, 'created': '2020-02-18 22:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5d479f7f2781450f27663fb64548dcc4c8a5e77', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 23, 'created': '2020-02-20 23:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba205e03551a993a1ba2b50f8e48bdbab525c707', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 24, 'created': '2020-03-07 17:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cd9b9aadfc2546d5e3a0e4f0a94fc104f8ad37a', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nStory: 2007025\nTask: 37819\nDepends-On: https://review.opendev.org/#/c/692614/\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}, {'number': 25, 'created': '2020-03-09 23:10:25.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6121fbf1005097e2cfa23725df3e35e91ae4cbf5', 'message': 'Enable agent_token for virtual media boot\n\nThis provides an embedded agent_token through out of band\nmeans which ensures greater security for such deployments.\n\nAlso some changes to the redfish virtual media boot unit\ntests as the entirety of conductor utilties was mocked.\n\nDownside with the pregenerated token, the logic had to be\nslightly revised as the existence of a token with an older\nclient is a case that virtual media deployments will hit.\n\nThis was addressed, and tests updated as a result.\n\nStory: 2007025\nTask: 37819\nChange-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8\n'}]",9,697584,6121fbf1005097e2cfa23725df3e35e91ae4cbf5,119,8,25,11655,,,0,"Enable agent_token for virtual media boot

This provides an embedded agent_token through out of band
means which ensures greater security for such deployments.

Also some changes to the redfish virtual media boot unit
tests as the entirety of conductor utilties was mocked.

Downside with the pregenerated token, the logic had to be
slightly revised as the existence of a token with an older
client is a case that virtual media deployments will hit.

This was addressed, and tests updated as a result.

Story: 2007025
Task: 37819
Change-Id: Iaa2a52c2e53534cbf6998ad24f1f1184c0f222d8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/697584/15 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/ilo/boot.py', 'ironic/drivers/modules/irmc/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",7,0215d2efef66964ddc378cc8c72c0c4ef27fd741,story/2007025," # NOTE(TheJulia): Since we're deploying, cleaning, or rescuing, # with virtual media boot, we should generate a token! manager_utils.add_secret_token(node, pregenerate=True) node.save() ramdisk_params['agent_token'] = \ node.driver_internal_info['agent_secret_token'] ",,49,15
openstack%2Foslo.messaging~master~Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,openstack/oslo.messaging,master,Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,Use default exchange for direct messaging,MERGED,2018-08-27 08:22:00.000000000,2020-03-16 00:40:04.000000000,2018-11-01 20:03:07.000000000,"[{'_account_id': 2813}, {'_account_id': 5948}, {'_account_id': 6928}, {'_account_id': 7109}, {'_account_id': 7125}, {'_account_id': 8770}, {'_account_id': 8871}, {'_account_id': 9257}, {'_account_id': 9796}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-27 08:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/61cc94335a4ff67c55d2bb8544a0f4f1d7a68357', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n'}, {'number': 2, 'created': '2018-09-03 08:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/580f57d79470bd2c243af9640166901760691ef2', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n'}, {'number': 3, 'created': '2018-09-17 08:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a7ff32c913f653f10e9642952e5ad2641ae03b95', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n'}, {'number': 4, 'created': '2018-09-25 07:59:28.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3a5de89dd686dbd9660f140fdddd9c78b20e1632', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n'}]",0,596661,3a5de89dd686dbd9660f140fdddd9c78b20e1632,35,11,4,5948,,,0,"Use default exchange for direct messaging

Lots of exchanges create problems during failover under high
load. Please see bug report for details.

This is step 1 in the process: only using default exchange
when publishing. Consumers will still consume on separate
exchanges (and on default exchange by default) so this
should be (and tested to be) a non-breaking and
upgrade-friendly change.

Step 2 is to update consumers to only listen on default exchange,
to happen in T release.

Change-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6
Closes-Bug: #1789177
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/61/596661/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,61cc94335a4ff67c55d2bb8544a0f4f1d7a68357,bug/1789177," consumer = Consumer(exchange_name='', # using default exchange exchange = kombu.entity.Exchange(name='', # using default exchange"," consumer = Consumer(exchange_name=topic, exchange = kombu.entity.Exchange(name=msg_id,",2,2
openstack%2Fproject-config~master~If0763623f4e0dd700162f5dda9b198f3bf785d2c,openstack/project-config,master,If0763623f4e0dd700162f5dda9b198f3bf785d2c,Add pip-and-virtualenv to arm64 images,MERGED,2020-03-16 00:10:54.000000000,2020-03-16 00:31:44.000000000,2020-03-16 00:31:44.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-16 00:10:54.000000000', 'files': ['nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a125803e2f43d62c5a166716d679beaf2c8badfb', 'message': ""Add pip-and-virtualenv to arm64 images\n\nThese images were forgtten in 7602343b6a7100059ed8f13fa00cb2ca7d34734c\nso they don't have virtualenv/pip pre-installed any more.  Put it back\nwhile we work on fixing deployment without these tools\n\nChange-Id: If0763623f4e0dd700162f5dda9b198f3bf785d2c\nStory: #2007386\n""}]",0,713152,a125803e2f43d62c5a166716d679beaf2c8badfb,6,2,1,7118,,,0,"Add pip-and-virtualenv to arm64 images

These images were forgtten in 7602343b6a7100059ed8f13fa00cb2ca7d34734c
so they don't have virtualenv/pip pre-installed any more.  Put it back
while we work on fixing deployment without these tools

Change-Id: If0763623f4e0dd700162f5dda9b198f3bf785d2c
Story: #2007386
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/713152/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.openstack.org.yaml'],1,a125803e2f43d62c5a166716d679beaf2c8badfb,arm64-pip-a-virtualenv, # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv,,12,0
openstack%2Ftripleo-heat-templates~master~I4af2cb715dc5389821671aab9312a85d402f3215,openstack/tripleo-heat-templates,master,I4af2cb715dc5389821671aab9312a85d402f3215,Drop resource registry override in ip-from-pool,MERGED,2020-03-05 19:33:54.000000000,2020-03-16 00:11:01.000000000,2020-03-16 00:11:00.000000000,"[{'_account_id': 3153}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-05 19:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62de63c2bc576183b912330419f383519ac714ea', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}, {'number': 2, 'created': '2020-03-05 19:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccb089e86fbfabf51543d5e37b2c17b529965e31', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}, {'number': 3, 'created': '2020-03-06 07:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698dabffc166a0f4425bd0b1218ef5e906a87efa', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}, {'number': 4, 'created': '2020-03-06 12:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3884cfa1d9ebb88611065a78d2247d0f5673b5a', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}, {'number': 5, 'created': '2020-03-11 18:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d273ae9a5bc0dff13538cca01b5282c6d37bdd3', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}, {'number': 6, 'created': '2020-03-12 18:44:44.000000000', 'files': ['environments/ips-from-pool.yaml', 'environments/ips-from-pool-all.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59ce59304d05b8f0e5f6c6539fff645e6b18fc8d', 'message': ""Drop resource registry override in ip-from-pool\n\nSupport for predictable IP addressing added to the\ndefault port templates in Rocky.\n\nLet's stop using the from_pool fake port templates,\nand instead use neutron ports for predictable IP's.\n\nUsing neutron ports add's value by:\n- adding validations\n- ensure no allocation conflicts\n  I.e if you forget to include the environment file\n  on a stack update/scale neutron won't pick a\n  conflicting address etc.\n\nThe template (network/ports/port_from_pool.j2) to\ncreate the fake port is required by the undercloud.\nOperators can still use that if they want to not use\nneutron for some reason.\n\nCloses-Bug: #1866215\nChange-Id: I4af2cb715dc5389821671aab9312a85d402f3215\n""}]",0,711537,59ce59304d05b8f0e5f6c6539fff645e6b18fc8d,47,7,6,24245,,,0,"Drop resource registry override in ip-from-pool

Support for predictable IP addressing added to the
default port templates in Rocky.

Let's stop using the from_pool fake port templates,
and instead use neutron ports for predictable IP's.

Using neutron ports add's value by:
- adding validations
- ensure no allocation conflicts
  I.e if you forget to include the environment file
  on a stack update/scale neutron won't pick a
  conflicting address etc.

The template (network/ports/port_from_pool.j2) to
create the fake port is required by the undercloud.
Operators can still use that if they want to not use
neutron for some reason.

Closes-Bug: #1866215
Change-Id: I4af2cb715dc5389821671aab9312a85d402f3215
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/711537/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/ips-from-pool.yaml', 'roles/UndercloudMinion.yaml', 'environments/ips-from-pool-all.yaml']",3,62de63c2bc576183b912330419f383519ac714ea,bug/1866215,,resource_registry: OS::TripleO::Controller::Ports::ExternalPort: ../network/ports/external_from_pool.yaml OS::TripleO::Controller::Ports::InternalApiPort: ../network/ports/internal_api_from_pool.yaml OS::TripleO::Controller::Ports::StoragePort: ../network/ports/storage_from_pool.yaml OS::TripleO::Controller::Ports::StorageMgmtPort: ../network/ports/storage_mgmt_from_pool.yaml OS::TripleO::Controller::Ports::TenantPort: ../network/ports/tenant_from_pool.yaml # Management network is optional and disabled by default #OS::TripleO::Controller::Ports::ManagementPort: ../network/ports/management_from_pool.yaml OS::TripleO::Compute::Ports::ExternalPort: ../network/ports/noop.yaml OS::TripleO::Compute::Ports::InternalApiPort: ../network/ports/internal_api_from_pool.yaml OS::TripleO::Compute::Ports::StoragePort: ../network/ports/storage_from_pool.yaml OS::TripleO::Compute::Ports::StorageMgmtPort: ../network/ports/noop.yaml OS::TripleO::Compute::Ports::TenantPort: ../network/ports/tenant_from_pool.yaml #OS::TripleO::Compute::Ports::ManagementPort: ../network/ports/management_from_pool.yaml OS::TripleO::CephStorage::Ports::ExternalPort: ../network/ports/noop.yaml OS::TripleO::CephStorage::Ports::InternalApiPort: ../network/ports/noop.yaml OS::TripleO::CephStorage::Ports::StoragePort: ../network/ports/storage_from_pool.yaml OS::TripleO::CephStorage::Ports::StorageMgmtPort: ../network/ports/storage_mgmt_from_pool.yaml OS::TripleO::CephStorage::Ports::TenantPort: ../network/ports/noop.yaml #OS::TripleO::CephStorage::Ports::ManagementPort: ../network/ports/management_from_pool.yaml OS::TripleO::ObjectStorage::Ports::ExternalPort: ../network/ports/noop.yaml OS::TripleO::ObjectStorage::Ports::InternalApiPort: ../network/ports/internal_api_from_pool.yaml OS::TripleO::ObjectStorage::Ports::StoragePort: ../network/ports/storage_from_pool.yaml OS::TripleO::ObjectStorage::Ports::StorageMgmtPort: ../network/ports/storage_mgmt_from_pool.yaml OS::TripleO::ObjectStorage::Ports::TenantPort: ../network/ports/noop.yaml #OS::TripleO::ObjectStorage::Ports::ManagementPort: ../network/ports/management_from_pool.yaml OS::TripleO::BlockStorage::Ports::ExternalPort: ../network/ports/noop.yaml OS::TripleO::BlockStorage::Ports::InternalApiPort: ../network/ports/internal_api_from_pool.yaml OS::TripleO::BlockStorage::Ports::StoragePort: ../network/ports/storage_from_pool.yaml OS::TripleO::BlockStorage::Ports::StorageMgmtPort: ../network/ports/storage_mgmt_from_pool.yaml OS::TripleO::BlockStorage::Ports::TenantPort: ../network/ports/noop.yaml #OS::TripleO::BlockStorage::Ports::ManagementPort: ../network/ports/management_from_pool.yaml,3,43
openstack%2Fdesignate~master~I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2,openstack/designate,master,I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2,Fix issue with neutron_api tests,MERGED,2020-03-12 01:34:52.000000000,2020-03-15 23:26:59.000000000,2020-03-15 23:25:36.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-03-12 01:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aa9e9884da9296cb706f4d022ecfcc7da7df36ab', 'message': 'Fix issue with unit test and netron api code\n\nThere is a potential race condition when running\nthe unit tests with how eventlet is loaded. This\npatch changes the neutron api implementation to use\nGreenThreadPoolExecutor to make sure that\nit does not fail depending on when eventlet applies\nits monkey patching.\n\nChange-Id: I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2\n'}, {'number': 2, 'created': '2020-03-12 02:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b4875cc8d0c3f870e06d2b415ba2716fb39dfa20', 'message': ""Fix issue with neutron_api tests\n\nThere is a potential race condition when running\nthe unit tests with how eventlet is loaded. This\npatch changes the neutron api implementation to use\nGreenThreadPoolExecutor to make sure that\nit does not fail depending on when eventlet applies\nit's monkey patching.\n\nChange-Id: I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2\n""}, {'number': 3, 'created': '2020-03-12 02:24:51.000000000', 'files': ['designate/tests/test_network_api/test_neutron.py', 'designate/tests/unit/network_api/test_neutron.py', 'designate/network_api/neutron.py', 'designate/tests/test_network_api/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4916fe115fea151b36f6d63d45ea1dbe8e7a003f', 'message': ""Fix issue with neutron_api tests\n\nThere is a potential race condition when running\nthe unit tests with how eventlet is loaded. This\npatch changes the neutron api implementation to use\nGreenThreadPoolExecutor to make sure that\nit does not fail depending on when eventlet applies\nit's monkey patching.\n\nChange-Id: I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2\n""}]",2,712596,4916fe115fea151b36f6d63d45ea1dbe8e7a003f,11,3,3,22623,,,0,"Fix issue with neutron_api tests

There is a potential race condition when running
the unit tests with how eventlet is loaded. This
patch changes the neutron api implementation to use
GreenThreadPoolExecutor to make sure that
it does not fail depending on when eventlet applies
it's monkey patching.

Change-Id: I051d3ad8cd5af9b52d90dc28ebe99a3f0c8a17f2
",git fetch https://review.opendev.org/openstack/designate refs/changes/96/712596/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_network_api/test_neutron.py', 'designate/tests/unit/network_api/test_neutron.py', 'designate/network_api/neutron.py', 'designate/tests/test_network_api/__init__.py']",4,aa9e9884da9296cb706f4d022ecfcc7da7df36ab,,,,123,53
openstack%2Fkolla-ansible~master~I22fdb683ecf9870b2d66fedd6b40b7004317130a,openstack/kolla-ansible,master,I22fdb683ecf9870b2d66fedd6b40b7004317130a,CI: Debug init-runonce,MERGED,2020-02-07 12:18:46.000000000,2020-03-15 20:19:44.000000000,2020-03-15 20:18:18.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-07 12:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45339921dbe8b62a7d3edf97e512e65b6a57c12c', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 2, 'created': '2020-02-07 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb6574e77cb27793a34a0b16c7f805b3db865580', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 3, 'created': '2020-02-07 18:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5c607d39f02d1bb022c3325862de4701fdc94af', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 4, 'created': '2020-02-29 20:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b783a8e233302790635de491929145adb68e56a7', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 5, 'created': '2020-03-01 08:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/adc1e8562d1499c84cbfb8c9988fdf09f835fa50', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 6, 'created': '2020-03-01 08:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0a7169ed9c13fde638251c259357c0fc5626e90', 'message': 'CI: Debug init-runonce\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}, {'number': 7, 'created': '2020-03-01 08:58:27.000000000', 'files': ['tests/pre.yml', 'tools/init-runonce', 'tests/init-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29e4ef1374eef09545e0df1494f460bfbef93dfc', 'message': 'CI: Debug init-runonce\n\nAlso adds gawk for timestamping.\n\nThis helps to correlate init events with failures elsewhere.\n\nChange-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a\n'}]",0,706482,29e4ef1374eef09545e0df1494f460bfbef93dfc,30,6,7,30491,,,0,"CI: Debug init-runonce

Also adds gawk for timestamping.

This helps to correlate init events with failures elsewhere.

Change-Id: I22fdb683ecf9870b2d66fedd6b40b7004317130a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/706482/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/pre.yml', 'tools/init-runonce', 'tests/init-core-openstack.sh']",3,45339921dbe8b62a7d3edf97e512e65b6a57c12c,ci-debug-init," KOLLA_DEBUG=1 tools/init-runonce |& gawk '{ print strftime(""%Y-%m-%d %H:%M:%S""), $0; }' &> /tmp/logs/ansible/init-runonce", tools/init-runonce &> /tmp/logs/ansible/init-runonce,40,31
openstack%2Fgrenade~master~Ifebd2492b9af322661c18a17c3724940d065c2b5,openstack/grenade,master,Ifebd2492b9af322661c18a17c3724940d065c2b5,Move grenade neutron forward job to py3 and in grenade repo,MERGED,2019-11-23 01:43:26.000000000,2020-03-15 20:13:18.000000000,2020-03-15 20:11:22.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-23 01:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/bb23ac2fe2ef15ac088dcb9c52753c88d305e563', 'message': ""Move grenade neutron forward job to py3 and in grenade repo\n\n'legacy-grenade-dsvm-neutron-forward' grenade neutron forward jobs\nis present in opensatck-zuul-jobs repo running on python 2. This needs\nto run on py3 from Ussuri onwards and py2 for stable/branch.\n\npy2 version has been kept in opensatck-zuul-jobs and for ussuri\nonwwards this has been migrated to grenade repo with py3 version.\n\nChange-Id: Ifebd2492b9af322661c18a17c3724940d065c2b5\n""}, {'number': 2, 'created': '2019-11-23 01:57:13.000000000', 'files': ['playbooks/legacy/grenade-dsvm-neutron-forward/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-forward/post.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/d931e9f0c5c9b294e7ff50a06a14402efae3fb72', 'message': ""Move grenade neutron forward job to py3 and in grenade repo\n\n'legacy-grenade-dsvm-neutron-forward' grenade neutron forward jobs\nis present in opensatck-zuul-jobs repo running on python 2. This needs\nto run on py3 from Ussuri onwards and py2 for stable/branch.\n\npy2 version has been kept in opensatck-zuul-jobs and for ussuri\nonwwards this has been migrated to grenade repo with py3 version.\n\nChange-Id: Ifebd2492b9af322661c18a17c3724940d065c2b5\n""}]",0,695788,d931e9f0c5c9b294e7ff50a06a14402efae3fb72,8,2,2,8556,,,0,"Move grenade neutron forward job to py3 and in grenade repo

'legacy-grenade-dsvm-neutron-forward' grenade neutron forward jobs
is present in opensatck-zuul-jobs repo running on python 2. This needs
to run on py3 from Ussuri onwards and py2 for stable/branch.

py2 version has been kept in opensatck-zuul-jobs and for ussuri
onwwards this has been migrated to grenade repo with py3 version.

Change-Id: Ifebd2492b9af322661c18a17c3724940d065c2b5
",git fetch https://review.opendev.org/openstack/grenade refs/changes/88/695788/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-neutron-forward/run.yaml', '.zuul.yaml', 'playbooks/legacy/grenade-dsvm-neutron-forward/post.yaml']",3,bb23ac2fe2ef15ac088dcb9c52753c88d305e563,drop-py27-support,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,71,1
openstack%2Fpython-zaqarclient~stable%2Ftrain~I3795022705107595e34fd1c7b98636e11eb49aff,openstack/python-zaqarclient,stable/train,I3795022705107595e34fd1c7b98636e11eb49aff,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 17:44:17.000000000,2020-03-15 20:07:25.000000000,2020-03-15 20:04:56.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:44:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/fad3e46f89cccd6b548d704b6e22c613085eedfa', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3795022705107595e34fd1c7b98636e11eb49aff\n'}]",0,683654,fad3e46f89cccd6b548d704b6e22c613085eedfa,8,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3795022705107595e34fd1c7b98636e11eb49aff
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/54/683654/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fad3e46f89cccd6b548d704b6e22c613085eedfa,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-zaqarclient~master~I65b9d703d041329a4c0d3f5f7c83cf546d759c5e,openstack/python-zaqarclient,master,I65b9d703d041329a4c0d3f5f7c83cf546d759c5e,Update master for stable/train,NEW,2019-09-20 17:44:19.000000000,2020-03-15 20:06:46.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/5e726c240e9547d2260c0f07dd84e4d837ff1ec5', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I65b9d703d041329a4c0d3f5f7c83cf546d759c5e\nSem-Ver: feature\n'}, {'number': 2, 'created': '2020-03-15 19:25:39.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/dfeeb8804c58f5b97d24e1703c8ea902b45f207c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I65b9d703d041329a4c0d3f5f7c83cf546d759c5e\nSem-Ver: feature\n'}]",0,683655,dfeeb8804c58f5b97d24e1703c8ea902b45f207c,5,2,2,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I65b9d703d041329a4c0d3f5f7c83cf546d759c5e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/55/683655/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,5e726c240e9547d2260c0f07dd84e4d837ff1ec5,reno-train, train,,7,0
openstack%2Fpython-zaqarclient~stable%2Ftrain~I12a3793f49064af58c6bd59acab5ec52e9f6500a,openstack/python-zaqarclient,stable/train,I12a3793f49064af58c6bd59acab5ec52e9f6500a,Update .gitreview for stable/train,MERGED,2019-09-20 17:44:15.000000000,2020-03-15 20:06:23.000000000,2020-03-15 20:04:56.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:44:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/366daf1e4662e33b7242080f3132d8e51a8ad511', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I12a3793f49064af58c6bd59acab5ec52e9f6500a\n'}]",0,683653,366daf1e4662e33b7242080f3132d8e51a8ad511,8,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I12a3793f49064af58c6bd59acab5ec52e9f6500a
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/53/683653/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,366daf1e4662e33b7242080f3132d8e51a8ad511,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~I444c4f8e4be36394cbdae266583485c012c374ed,openstack/releases,master,I444c4f8e4be36394cbdae266583485c012c374ed,Release os-testr 2.0.0,MERGED,2020-03-15 17:58:20.000000000,2020-03-15 19:33:56.000000000,2020-03-15 19:33:55.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 17:58:20.000000000', 'files': ['deliverables/_independent/os-testr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/197a467d4ed7731b7576240585a149fb883030b5', 'message': 'Release os-testr 2.0.0\n\nChange-Id: I444c4f8e4be36394cbdae266583485c012c374ed\n'}]",0,713142,197a467d4ed7731b7576240585a149fb883030b5,7,2,1,8556,,,0,"Release os-testr 2.0.0

Change-Id: I444c4f8e4be36394cbdae266583485c012c374ed
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/713142/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-testr.yaml'],1,197a467d4ed7731b7576240585a149fb883030b5,, - version: 2.0.0 projects: - repo: openstack/os-testr hash: 248dc815d087e7f95cf318d8c336943c16110231,,4,0
openstack%2Frequirements~master~Ic5cd98f76a641b44d0ea720dd6459603744f581e,openstack/requirements,master,Ic5cd98f76a641b44d0ea720dd6459603744f581e,update constraint for python-troveclient to new release 3.3.0,MERGED,2020-03-15 16:11:46.000000000,2020-03-15 19:29:43.000000000,2020-03-15 19:28:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 16:11:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bf71646b28f5d568fe01dbc572ccb1e1286fe900', 'message': 'update constraint for python-troveclient to new release 3.3.0\n\nChange-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e\nmeta:version: 3.3.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Ifd71ccce3148e3a8e7e91161e542c692857730a6\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713137,bf71646b28f5d568fe01dbc572ccb1e1286fe900,7,2,1,11131,,,0,"update constraint for python-troveclient to new release 3.3.0

Change-Id: Ic5cd98f76a641b44d0ea720dd6459603744f581e
meta:version: 3.3.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Ifd71ccce3148e3a8e7e91161e542c692857730a6
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/713137/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bf71646b28f5d568fe01dbc572ccb1e1286fe900,new-release,python-troveclient===3.3.0,python-troveclient===3.2.0,1,1
openstack%2Fos-brick~stable%2Ftrain~If31d120955eb216823a55005fdd3d24870aa6b9a,openstack/os-brick,stable/train,If31d120955eb216823a55005fdd3d24870aa6b9a,Read mounts from /proc/mounts instead of running mount,MERGED,2020-02-25 00:13:15.000000000,2020-03-15 18:57:38.000000000,2020-03-13 21:43:43.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27419}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-02-25 00:13:15.000000000', 'files': ['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a8190cd60b59dedb11a8ed27d236d81adee3255d', 'message': ""Read mounts from /proc/mounts instead of running mount\n\nWhen creating multiple concurrent volumes, there's a lock\nthat prevents mount from returning quickly. Reading /proc/mounts\nis way faster.\n\nChange-Id: If31d120955eb216823a55005fdd3d24870aa6b9a\nCloses-Bug: #1856889\n(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)\n""}]",0,709640,a8190cd60b59dedb11a8ed27d236d81adee3255d,44,14,1,27419,,,0,"Read mounts from /proc/mounts instead of running mount

When creating multiple concurrent volumes, there's a lock
that prevents mount from returning quickly. Reading /proc/mounts
is way faster.

Change-Id: If31d120955eb216823a55005fdd3d24870aa6b9a
Closes-Bug: #1856889
(cherry picked from commit f2409608473c06892b087e44e0041c9ade3f9924)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/40/709640/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/remotefs/test_remotefs.py', 'os_brick/remotefs/remotefs.py']",2,a8190cd60b59dedb11a8ed27d236d81adee3255d,," """"""Returns a dict of mounts and their mountpoint Format reference: http://man7.org/linux/man-pages/man5/fstab.5.html """""" with open(""/proc/mounts"", ""r"") as mounts: # Remove empty lines and split lines by whitespace lines = [l.split() for l in mounts.read().splitlines() if l.strip()] # Return {mountpoint: mountdevice}. Fields 2nd and 1st as per # http://man7.org/linux/man-pages/man5/fstab.5.html return {line[1]: line[0] for line in lines if line[0] != '#'}"," (out, _err) = self._execute('mount', check_exit_code=0) lines = out.split('\n') mounts = {} for line in lines: tokens = line.split() if 2 < len(tokens): device = tokens[0] mnt_point = tokens[2] mounts[mnt_point] = device return mounts",21,16
openstack%2Fironic~stable%2Ftrain~I0a9cd5ed52811a16ce57212cd0857233be939026,openstack/ironic,stable/train,I0a9cd5ed52811a16ce57212cd0857233be939026,DNM: testing grenade job,ABANDONED,2020-03-11 17:12:24.000000000,2020-03-15 18:27:25.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa8f27786916eadffed4c8d8ee18c6daa4a6c817', 'message': 'DNM: testing grenade job\n\nDepends-On: https://review.opendev.org/#/c/712170/\nChange-Id: I0a9cd5ed52811a16ce57212cd0857233be939026\n'}, {'number': 2, 'created': '2020-03-13 20:01:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c0b666b155cf46727e7b2a780e58385f1df75a4', 'message': 'DNM: testing grenade job\n\nDepends-On: https://review.opendev.org/#/c/712170/\nDepends-On: https://review.opendev.org/#/c/713014/\nChange-Id: I0a9cd5ed52811a16ce57212cd0857233be939026\n'}]",0,712510,4c0b666b155cf46727e7b2a780e58385f1df75a4,9,3,2,8556,,,0,"DNM: testing grenade job

Depends-On: https://review.opendev.org/#/c/712170/
Depends-On: https://review.opendev.org/#/c/713014/
Change-Id: I0a9cd5ed52811a16ce57212cd0857233be939026
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/712510/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fa8f27786916eadffed4c8d8ee18c6daa4a6c817,, #templates: # - check-requirements # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3 # - ironic-tox-unit-with-driver-libs # - ironic-tox-unit-with-driver-libs-python3 # - ironic-standalone # - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 # - ironic-tempest-ipa-partition-redfish-tinyipa # - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: # voting: false # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect # - ironic-tempest-bfv # - ironic-tempest-ipa-partition-uefi-pxe-grub2 # # Non-voting jobs # - ironic-tox-bandit: # voting: false # - ironic-tempest-ipa-wholedisk-bios-pxe_snmp-tinyipa: # voting: false # - ironic-inspector-tempest: # voting: false # - bifrost-integration-tinyipa-ubuntu-xenial: # voting: false # - metalsmith-integration-glance-localboot-centos7: # voting: false # - ironic-tempest-pxe_ipmitool-postgres: # voting: false, templates: - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - ironic-tox-unit-with-driver-libs - ironic-tox-unit-with-driver-libs-python3 - ironic-standalone - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 - ironic-tempest-ipa-partition-redfish-tinyipa - ironic-tempest-ipa-partition-uefi-pxe_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-tinyipa-indirect - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-tempest-ipa-wholedisk-bios-pxe_snmp-tinyipa: voting: false - ironic-inspector-tempest: voting: false - bifrost-integration-tinyipa-ubuntu-xenial: voting: false - metalsmith-integration-glance-localboot-centos7: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false,35,35
openstack%2Fironic~stable%2Fstein~Iafb3a28703cf318625bafb527c7ecc7546dc5559,openstack/ironic,stable/stein,Iafb3a28703cf318625bafb527c7ecc7546dc5559,DNM: testing grenade job,ABANDONED,2020-03-10 20:15:02.000000000,2020-03-15 18:27:15.000000000,,"[{'_account_id': 8556}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 20:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d5892d2c3115e4116754b77efbb5cd0d0c98ff0', 'message': 'DNM: testing grenade job\n\nDepends-On: https://review.opendev.org/#/c/712170/\nChange-Id: Iafb3a28703cf318625bafb527c7ecc7546dc5559\n'}, {'number': 2, 'created': '2020-03-13 16:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd664d04ca1ea354e9e88cdbe60fc886ab08d8b6', 'message': 'DNM: testing grenade job\n\nDepends-On: https://review.opendev.org/#/c/712170/\nDepends-On: https://review.opendev.org/#/c/713014/\nChange-Id: Iafb3a28703cf318625bafb527c7ecc7546dc5559\n'}, {'number': 3, 'created': '2020-03-15 15:59:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da677b1d03dc8d6446e649a16bd6ff6cc49496be', 'message': 'DNM: testing grenade job\n\nDepends-On: https://review.opendev.org/#/c/712170/\nDepends-On: https://review.opendev.org/#/c/713014/\nChange-Id: Iafb3a28703cf318625bafb527c7ecc7546dc5559\n'}]",0,712173,da677b1d03dc8d6446e649a16bd6ff6cc49496be,14,4,3,8556,,,0,"DNM: testing grenade job

Depends-On: https://review.opendev.org/#/c/712170/
Depends-On: https://review.opendev.org/#/c/713014/
Change-Id: Iafb3a28703cf318625bafb527c7ecc7546dc5559
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/712173/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-ironic-jobs.yaml'],1,6d5892d2c3115e4116754b77efbb5cd0d0c98ff0,, # NOTE: When adding to 'required-projects' also need to add a corresponding, # NOTE: When adding to 'required-projects' also need to add a corresponding,1,1
openstack%2Fcharm-keystone~master~I2842b628f0c3f88bd7efd735f76926b5d34cc108,openstack/charm-keystone,master,I2842b628f0c3f88bd7efd735f76926b5d34cc108,Modifying wsgi template to add optional config for Kerberos authentication,MERGED,2020-03-10 19:19:51.000000000,2020-03-15 18:20:12.000000000,2020-03-15 18:20:12.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30670}]","[{'number': 1, 'created': '2020-03-10 19:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2353c2398013dc3405a6d19d8bcfb538d3df051a', 'message': 'Adding Kerberos Option Config\n\nFor the keystone-kerberos charm to configure correctly\nwith the keystone charm, the apache config needs to be\nedited. Also, the alias needs the info of the keystone\ncontext for the location of the script, hence cannot\nbe put in a separate optional config. It does not affect\nnon kerberos configuration.\n\nChange-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108\n'}, {'number': 2, 'created': '2020-03-11 14:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/208e4baa9a556ae04b8597a64d337be04063946b', 'message': 'Adding Kerberos Option Config\n\nFor the keystone-kerberos charm to configure correctly\nwith the keystone charm, the apache config needs to be\nedited. Also, the alias needs the info of the keystone\ncontext for the location of the script, hence cannot\nbe put in a separate optional config. It does not affect\nnon kerberos configuration.\n\nChange-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108\n'}, {'number': 3, 'created': '2020-03-11 21:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/46e437dab9c13fe96a5989b55bc866860cf1daff', 'message': 'Modifying wsgi template to add optional config for Kerberos auth\n\nFor the keystone-kerberos charm to configure correctly\nwith the keystone charm, the apache config needs to be\nedited. Also, the alias needs the info of the keystone\ncontext for the location of the script, hence cannot\nbe put in a separate optional config. It does not affect\nnon kerberos configuration.\n\nChange-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108\n'}, {'number': 4, 'created': '2020-03-11 21:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d27059faec4ae6d0e68903b0e7b0ae44e7f889ee', 'message': 'Modifying wsgi template to add optional config for Kerberos authentication\n\nFor the keystone-kerberos charm to configure correctly\nwith the keystone charm, the apache config needs to be\nedited. Also, the alias needs the info of the keystone\ncontext for the location of the script, hence cannot\nbe put in a separate optional config. It does not affect\nnon kerberos configuration.\n\nChange-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108\n'}, {'number': 5, 'created': '2020-03-12 20:45:38.000000000', 'files': ['templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/248239ea54fb8de204d38863d596fcbfb294f92f', 'message': 'Modifying wsgi template to add optional config for Kerberos authentication\n\nFor the keystone-kerberos charm to configure correctly\nwith the keystone charm, the apache config needs to be\nedited. Also, the alias needs the info of the keystone\ncontext for the location of the script, hence cannot\nbe put in a separate optional config. It does not affect\nnon kerberos configuration.\n\nChange-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108\n'}]",2,712159,248239ea54fb8de204d38863d596fcbfb294f92f,33,4,5,30670,,,0,"Modifying wsgi template to add optional config for Kerberos authentication

For the keystone-kerberos charm to configure correctly
with the keystone charm, the apache config needs to be
edited. Also, the alias needs the info of the keystone
context for the location of the script, hence cannot
be put in a separate optional config. It does not affect
non kerberos configuration.

Change-Id: I2842b628f0c3f88bd7efd735f76926b5d34cc108
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/59/712159/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/wsgi-openstack-api.conf'],1,2353c2398013dc3405a6d19d8bcfb538d3df051a,kerberos, WSGIScriptAlias /krb {{ script }} IncludeOptional /etc/apache2/kerberos/apache-kerberos.conf WSGIScriptAlias /krb {{ script }} IncludeOptional /etc/apache2/kerberos/apache-kerberos.conf WSGIScriptAlias /krb {{ script }} IncludeOptional /etc/apache2/kerberos/apache-kerberos.conf,,6,0
openstack%2Ftripleo-heat-templates~master~If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,openstack/tripleo-heat-templates,master,If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b,Always set hieradata for certmonger_ca,MERGED,2020-01-23 21:58:30.000000000,2020-03-15 18:17:44.000000000,2020-02-18 21:59:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-23 21:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88d6e22a564eae5e0350965fc43d929623a93f96', 'message': 'Always set hieradata for certmonger_ca\n\nIn commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata\nparameter certmonger_ca was set to only be set when internal_tls was\nenabled.\n\nThis breaks cert issuance by an non-local certmonger CA when the\nissuing the haproxy cert on the undercloud eg. issuing this cert by\nIPA, which relies on this hieradata being set.\n\nThere is no reason to restrict this data from being set, and doing so\nfixes the problem. (rhbz#1793975)\n\nChange-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b\nFixes-Bug: 1860718\n'}, {'number': 2, 'created': '2020-02-07 20:53:27.000000000', 'files': ['deployment/certs/certmonger-user-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed7d687398e3befe99d12e7ac432e412104080a6', 'message': 'Always set hieradata for certmonger_ca\n\nIn commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata\nparameter certmonger_ca was set to only be set when internal_tls was\nenabled.\n\nThis breaks cert issuance by an non-local certmonger CA when the\nissuing the haproxy cert on the undercloud eg. issuing this cert by\nIPA, which relies on this hieradata being set.\n\nThere is no reason to restrict this data from being set, and doing so\nfixes the problem. (rhbz#1793975)\n\nThe remaining data should be set only when internal_tls is enabled.\nChange-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b\nFixes-Bug: 1860718\n'}]",2,704071,ed7d687398e3befe99d12e7ac432e412104080a6,23,9,2,9914,,,0,"Always set hieradata for certmonger_ca

In commit 37a339d2b0f0282bf1bac96587b10ca61868cec5 , the hieradata
parameter certmonger_ca was set to only be set when internal_tls was
enabled.

This breaks cert issuance by an non-local certmonger CA when the
issuing the haproxy cert on the undercloud eg. issuing this cert by
IPA, which relies on this hieradata being set.

There is no reason to restrict this data from being set, and doing so
fixes the problem. (rhbz#1793975)

The remaining data should be set only when internal_tls is enabled.
Change-Id: If3e3870dd7bd087984e433f7aa832d1bb0ac5b2b
Fixes-Bug: 1860718
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/704071/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/certmonger-user-baremetal-puppet.yaml'],1,88d6e22a564eae5e0350965fc43d929623a93f96,fix-undercloud-haproxy-cert, tripleo::certmonger::ca::crl::crl_source: {get_param: DefaultCRLURL} certmonger_ca: {get_param: CertmongerCA} certmonger_ca_vnc: {get_param: CertmongerVncCA} certmonger_ca_qemu: {get_param: CertmongerQemuCA}, if: - internal_tls_enabled - tripleo::certmonger::ca::crl::crl_source: {get_param: DefaultCRLURL} certmonger_ca: {get_param: CertmongerCA} certmonger_ca_vnc: {get_param: CertmongerVncCA} certmonger_ca_qemu: {get_param: CertmongerQemuCA} - {},4,7
openstack%2Fironic~stable%2Fstein~Ica0ea37acea44d5b5e6a1927be5d9c51b8f5bba6,openstack/ironic,stable/stein,Ica0ea37acea44d5b5e6a1927be5d9c51b8f5bba6,Disable grenade jobs from Stein,MERGED,2020-03-09 23:38:08.000000000,2020-03-15 18:02:30.000000000,2020-03-11 19:14:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-09 23:38:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/431d5145964d75a41c2965a323e259f9bd46429f', 'message': ""Disable grenade jobs from Stein\n\nRocky is heading into Extended maintenance which means\nshouldn't really be worrying about upgrade jobs anymore.\n\nAs such, removing the grenade jobs from testing.\n\nChange-Id: Ica0ea37acea44d5b5e6a1927be5d9c51b8f5bba6\n""}]",0,712002,431d5145964d75a41c2965a323e259f9bd46429f,14,5,1,11655,,,0,"Disable grenade jobs from Stein

Rocky is heading into Extended maintenance which means
shouldn't really be worrying about upgrade jobs anymore.

As such, removing the grenade jobs from testing.

Change-Id: Ica0ea37acea44d5b5e6a1927be5d9c51b8f5bba6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/712002/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,431d5145964d75a41c2965a323e259f9bd46429f,,, - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant,0,4
openstack%2Fzun~master~I4a5fe481e95024c759b96473da7149b1ea9a0370,openstack/zun,master,I4a5fe481e95024c759b96473da7149b1ea9a0370,[WIP] Legacy force_host implementation,ABANDONED,2020-03-08 19:18:37.000000000,2020-03-15 17:38:16.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-08 19:18:37.000000000', 'files': ['zun/common/utils.py', 'zun/scheduler/filter_scheduler.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4a0bac2ea227f06872c7b0be9b31f53581a917e7', 'message': '[WIP] Legacy force_host implementation\n\nChange-Id: I4a5fe481e95024c759b96473da7149b1ea9a0370\n'}]",0,711859,4a0bac2ea227f06872c7b0be9b31f53581a917e7,4,2,1,11536,,,0,"[WIP] Legacy force_host implementation

Change-Id: I4a5fe481e95024c759b96473da7149b1ea9a0370
",git fetch https://review.opendev.org/openstack/zun refs/changes/59/711859/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/scheduler/filter_scheduler.py', 'zun/api/controllers/v1/containers.py']",3,4a0bac2ea227f06872c7b0be9b31f53581a917e7,," availability_zone = container_dict.pop(""availability_zone"", None) try: availability_zone, forced_host = utils.parse_availability_zone( context, availability_zone) container_dict['availability_zone'] = availability_zone except exception.InvalidInput as err: raise exc.HTTPBadRequest(message=str(err)) if forced_host: policy.enforce(context, ""container:create:forced_host"", action=""container:create:forced_host"") extra_spec['forced_host'] = forced_host",,61,4
openstack%2Freleases~master~Ifd71ccce3148e3a8e7e91161e542c692857730a6,openstack/releases,master,Ifd71ccce3148e3a8e7e91161e542c692857730a6,python-troveclient 3.3.0 for Ussuri,MERGED,2020-03-15 07:20:42.000000000,2020-03-15 15:54:32.000000000,2020-03-15 15:54:32.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 07:20:42.000000000', 'files': ['deliverables/ussuri/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1c61d6e020aa1cd73af7ebd47cfd66713239b1ac', 'message': 'python-troveclient 3.3.0 for Ussuri\n\nChange-Id: Ifd71ccce3148e3a8e7e91161e542c692857730a6\n'}]",0,713127,1c61d6e020aa1cd73af7ebd47cfd66713239b1ac,7,2,1,6732,,,0,"python-troveclient 3.3.0 for Ussuri

Change-Id: Ifd71ccce3148e3a8e7e91161e542c692857730a6
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/713127/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-troveclient.yaml'],1,1c61d6e020aa1cd73af7ebd47cfd66713239b1ac,troveclient, - version: 3.3.0 projects: - repo: openstack/python-troveclient hash: f859692cc3f3f9ad72546d6b94f991a1558d78af,,4,0
openstack%2Ftrove~master~I2bd0d81171df85c05423e19ab2e4afa82fcf880e,openstack/trove,master,I2bd0d81171df85c05423e19ab2e4afa82fcf880e,Add python-troveclient in requirements.txt,MERGED,2020-03-11 02:22:58.000000000,2020-03-15 15:53:06.000000000,2020-03-15 15:50:50.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 02:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c7d8d547d5bbb6628f094a5452aa867180e7a08a', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}, {'number': 2, 'created': '2020-03-12 03:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/afb3cf39ee29f580df8f3ef8fbc0500e5047ab45', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}, {'number': 3, 'created': '2020-03-12 21:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/674c297eda704fd1c9a28588227d1b84088625b9', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}, {'number': 4, 'created': '2020-03-13 10:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a2ebcbfbffe4fc0736f9c7bb6153dfb0834a9563', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}, {'number': 5, 'created': '2020-03-15 04:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7b11270b9511b69dd1ee85bcfa1793d31153b00c', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}, {'number': 6, 'created': '2020-03-15 07:58:00.000000000', 'files': ['trove/tests/unittests/backup/test_backup_models.py', 'trove/tests/fakes/guestagent.py', 'test-upper-constraints.txt', '.zuul.yaml', 'trove/tests/unittests/api/common/test_limits.py', 'trove/common/utils.py', 'trove/guestagent/datastore/experimental/redis/system.py', 'trove/common/limits.py', 'integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'requirements.txt', 'trove/guestagent/common/sql_query.py', 'trove/guestagent/datastore/experimental/couchdb/service.py', 'trove/tests/util/event_simulator.py', 'integration/scripts/trovestack', 'trove/guestagent/datastore/experimental/db2/service.py', 'trove/instance/tasks.py', 'trove/taskmanager/models.py', 'tox.ini', 'trove/db/__init__.py', 'trove/flavor/models.py', 'trove/tests/examples/snippets.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/7d78c74158408ca7ddfc30d6d6b4af7f7ec17a95', 'message': 'Add python-troveclient in requirements.txt\n\nChange-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e\n'}]",0,712224,7d78c74158408ca7ddfc30d6d6b4af7f7ec17a95,21,2,6,6732,,,0,"Add python-troveclient in requirements.txt

Change-Id: I2bd0d81171df85c05423e19ab2e4afa82fcf880e
",git fetch https://review.opendev.org/openstack/trove refs/changes/24/712224/4 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c7d8d547d5bbb6628f094a5452aa867180e7a08a,add-troveclient,python-troveclient>=2.2.0 # Apache-2.0,,1,0
openstack%2Frpm-packaging~stable%2Ftrain~I282b33ae0a603b162bcca71770e13a604f19bd03,openstack/rpm-packaging,stable/train,I282b33ae0a603b162bcca71770e13a604f19bd03,pymod2pkg: convert to python3,MERGED,2020-03-13 11:53:43.000000000,2020-03-15 15:05:46.000000000,2020-03-15 15:05:46.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-13 11:53:43.000000000', 'files': ['openstack/pymod2pkg/pymod2pkg.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/10a34309605d6dcde86909270f218ffb624793d0', 'message': 'pymod2pkg: convert to python3\n\nChange-Id: I282b33ae0a603b162bcca71770e13a604f19bd03\n(cherry picked from commit db2800d1b4585a666e6ddbed536d3a6b7993329f)\n'}]",0,712924,10a34309605d6dcde86909270f218ffb624793d0,12,5,1,13294,,,0,"pymod2pkg: convert to python3

Change-Id: I282b33ae0a603b162bcca71770e13a604f19bd03
(cherry picked from commit db2800d1b4585a666e6ddbed536d3a6b7993329f)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/24/712924/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pymod2pkg/pymod2pkg.spec.j2'],1,10a34309605d6dcde86909270f218ffb624793d0,remove-python2-stable/train,BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testresources') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Packaging - python module name to package name map Requires: {{ py3('pbr') }} %description -n {{ py2name(py_versions='py3') }} pymod2pkg is a simple python module for translating python module names to corresponding package names which is a common problem in the packaging world. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/pymod2pkg %{python3_sitelib}/*,"BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testresources', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }}%python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/pymod2pkg%python_exec -m stestr.cli run %post %python_install_alternative pymod2pkg %postun %python_uninstall_alternative pymod2pkg %files %{python_files}%python_alternative %{_bindir}/pymod2pkg %{python_sitelib}/*",20,19
openstack%2Fneutron~master~Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82,openstack/neutron,master,Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82,Add fip_pf_description extension to be supported by service plugin,MERGED,2020-03-09 09:57:04.000000000,2020-03-15 14:25:04.000000000,2020-03-15 12:57:44.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2020-03-09 09:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ae5865acec7a5bf1cbaa351341a309191246da8', 'message': 'Add fip_pf_description extension to be supported by service plugin\n\nIn [1] new api extension ""fip_pf_description"" was introduced but it\nwasn\'t added to the list of supported extensions by port_forwarding\nservice plugin.\nBecause of that ""description"" attribute was unknown for the\nport_forwarding resource.\nNow this new api extension is added and supported by pf plugin.\n\n[1] https://review.opendev.org/#/c/670930/\n\nDepends-On: https://review.opendev.org/#/c/711856/\nChange-Id: Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82\n'}, {'number': 2, 'created': '2020-03-09 09:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cc04380b03d5c445a413d2e4e5d5ab4c199e100', 'message': 'Add fip_pf_description extension to be supported by service plugin\n\nIn [1] new api extension ""fip_pf_description"" was introduced but it\nwasn\'t added to the list of supported extensions by port_forwarding\nservice plugin.\nBecause of that ""description"" attribute was unknown for the\nport_forwarding resource.\nNow this new api extension is added and supported by pf plugin.\n\n[1] https://review.opendev.org/#/c/670930/\n\nCloses-Bug: #1866560\n\nDepends-On: https://review.opendev.org/#/c/711856/\nChange-Id: Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82\n'}, {'number': 3, 'created': '2020-03-11 14:10:26.000000000', 'files': ['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/extensions/fip_pf_description.py', 'neutron/services/portforwarding/pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4912d11b34e5f48ecb200947bbc3859145410c11', 'message': 'Add fip_pf_description extension to be supported by service plugin\n\nIn [1] new api extension ""fip_pf_description"" was introduced but it\nwasn\'t added to the list of supported extensions by port_forwarding\nservice plugin.\nBecause of that ""description"" attribute was unknown for the\nport_forwarding resource.\nNow this new api extension is added and supported by pf plugin.\n\n[1] https://review.opendev.org/#/c/670930/\n\nCloses-Bug: #1866560\nPartially-implements: bp/fip-pf-description\n\nDepends-On: https://review.opendev.org/#/c/711856/\nChange-Id: Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82\n'}]",7,711888,4912d11b34e5f48ecb200947bbc3859145410c11,52,11,3,11975,,,0,"Add fip_pf_description extension to be supported by service plugin

In [1] new api extension ""fip_pf_description"" was introduced but it
wasn't added to the list of supported extensions by port_forwarding
service plugin.
Because of that ""description"" attribute was unknown for the
port_forwarding resource.
Now this new api extension is added and supported by pf plugin.

[1] https://review.opendev.org/#/c/670930/

Closes-Bug: #1866560
Partially-implements: bp/fip-pf-description

Depends-On: https://review.opendev.org/#/c/711856/
Change-Id: Ibf42a4d276d0141d66ae6e88aa9fbc291eaa4f82
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/711888/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/extensions/fip_pf_description.py', 'neutron/services/portforwarding/pf_plugin.py']",3,4ae5865acec7a5bf1cbaa351341a309191246da8,bug/1866560,"from neutron_lib.api.definitions import fip_pf_description expose_port_forwarding_in_fip.ALIAS, fip_pf_description.ALIAS]", expose_port_forwarding_in_fip.ALIAS],59,2
openstack%2Fneutron~master~I456fb87ff79ab7ccbcd18625934aba91ad3e17bf,openstack/neutron,master,I456fb87ff79ab7ccbcd18625934aba91ad3e17bf,Switch to new enginefacade in l3_hascheduler_db module,MERGED,2020-03-10 20:02:41.000000000,2020-03-15 14:12:10.000000000,2020-03-13 22:22:49.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-10 20:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/770b93e896ecbd30895da7b333c24a4c8a8ab750', 'message': 'Switch to new enginefacade in l3_hascheduler_db module\n\nChange-Id: I456fb87ff79ab7ccbcd18625934aba91ad3e17bf\n'}, {'number': 2, 'created': '2020-03-11 09:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ea83ec13adddcf3d4fe42bb4ca0b3680db571b9', 'message': 'Switch to new enginefacade in l3_hascheduler_db module\n\nChange-Id: I456fb87ff79ab7ccbcd18625934aba91ad3e17bf\n'}, {'number': 3, 'created': '2020-03-11 13:55:26.000000000', 'files': ['neutron/db/l3_hascheduler_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a256dd937caa26e578824ec2b0588a0de997276', 'message': 'Switch to new enginefacade in l3_hascheduler_db module\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I456fb87ff79ab7ccbcd18625934aba91ad3e17bf\n'}]",1,712171,5a256dd937caa26e578824ec2b0588a0de997276,34,7,3,11975,,,0,"Switch to new enginefacade in l3_hascheduler_db module

Partially-Implements blueprint: enginefacade-switch

Change-Id: I456fb87ff79ab7ccbcd18625934aba91ad3e17bf
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/712171/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_hascheduler_db.py'],1,770b93e896ecbd30895da7b333c24a4c8a8ab750,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_READER.using(context):, with context.session.begin(subtransactions=True):,2,1
openstack%2Ftacker-specs~master~Ife29730cced5285481c024fe85ec999f7d886f75,openstack/tacker-specs,master,Ife29730cced5285481c024fe85ec999f7d886f75,LCM operation with user data,MERGED,2019-11-06 05:56:54.000000000,2020-03-15 13:41:11.000000000,2020-03-15 13:39:55.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27180}, {'_account_id': 31320}]","[{'number': 1, 'created': '2019-11-06 05:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4c522ac7180c3040184cd10e1fdba22ae821c774', 'message': 'LCM operation with mapping script\n\nDesign new method of VNF lifecycle management using mapping scriptwq.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 2, 'created': '2019-11-07 06:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4aeee857e4f5f2bc65a972dc2ae2ab132fe7f25a', 'message': 'LCM operation with mapping script\n\nDesign new method of VNF lifecycle management using mapping script.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 3, 'created': '2020-01-30 07:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7157942049a67de5ae0272296b46eab1b84b4f54', 'message': 'LCM operation with user data\n\nDesign new method of VNF lifecycle management using LCM operation user data.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 4, 'created': '2020-02-04 06:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/60ed40f1b7b95ff8f542db0cb393386b237a05f8', 'message': 'LCM operation with user data\n\nDesign new method of VNF lifecycle management using LCM operation\nuser data.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 5, 'created': '2020-02-04 12:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/90e06e16434d2224e68e41f67ed28cb374870319', 'message': 'LCM operation with user data\n\nDesign new method of VNF lifecycle management using LCM operation\nuser data.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 6, 'created': '2020-03-02 04:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e93c33ea1c431730c1e38923f5c6e901d3de49c8', 'message': 'LCM operation with user data\n\nDesign new method of VNF lifecycle management using LCM operation\nuser data.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}, {'number': 7, 'created': '2020-03-02 05:49:07.000000000', 'files': ['specs/ussuri/lcm-operation-with-lcm-operation-user-data.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bbac242185f224d5ed5a9c6d9f023c03f481a4f1', 'message': 'LCM operation with user data\n\nDesign new method of VNF lifecycle management using LCM operation\nuser data.\n\nChange-Id: Ife29730cced5285481c024fe85ec999f7d886f75\n'}]",5,693121,bbac242185f224d5ed5a9c6d9f023c03f481a4f1,25,7,7,27180,,,0,"LCM operation with user data

Design new method of VNF lifecycle management using LCM operation
user data.

Change-Id: Ife29730cced5285481c024fe85ec999f7d886f75
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/21/693121/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/lcm-operation-with-mapping-script.rst'],1,4c522ac7180c3040184cd10e1fdba22ae821c774,bp/support-etsi-nfv-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================== LCM operation with mapping script =========================================== This spec describes LCM operation method using mapping script. Problem description =================== In Tacker, consumer uses VNFD in order to manage and orchestrate network services and virtualized resources on the NFVI. However, depending on VNF type, there are more requirements than can be described in current VNFD. it is limited to describe specific VNF deployment information in the VNFD compared with actual commercial use case. Here are examples of actual use cases. * Operators must design CPU pinning assignments at the physical level. * Depending on the VNF type, a operator may want to attach external storage instead of Cinder. * Operators can modify the high availability design of VNF depending on the availability of VIM/NFVI. Current standardization [sol001]_ does not support describing those configurations in VNFD. On the other hand, in a real complex use case, VIM and NFVI configuration described above must be considered. This proposed method realizes that HOT can be described more flexibly and consumer can execute VNF deployment that meets specific requirements. Proposed change =============== .. note:: This methodology is under discussion within ETSI ISG NFV. The specification can be modified according to standardization [sol014]_. The scope of this spec focuses on: designing LCM operation method using parameter mapping script. Consumer provides the choice of input parameters for HOT. in this method, consumer provides contents described below to Tacker via VNF Package: * Base HOT: Native cloud orchestration template, HOT in this context, which is commonly used for LCM operations in different VNFs. This base HOT can work on OpenStack API and be filled by input parameters. * Parameter mapping script: A script that returns key/value data as Heat input parameters used for base HOT. As Heat input parameter, OpenStack parameters that are not statically defined in the VNFD.(E.g. flavors, images, hardware acceleration, driver-setup, etc.) can be assigned. Instantiation procedure with mapping script -------------------------------------------- As an example, VNF instantiation procedure using mapping script is described below. +--------+ +--------+ +--------+ +-------+ +--------+ +---------+ +------+ | Client | | VNFM | | NFVO | | Nova | | Glance | | Mapping | | Heat | | | | Plugin | | Plugin | | | | | | script | | | +--------+ +--------+ +--------+ +-------+ +--------+ +---------+ +------+ | | | | | | | |--Instantiate VNF-->| | | | | | | | | | | | | | Decide instantiation method | | | | | | | | | | | | | |---Get VNF Package-->| | | | | | |< -VNFD, baseHOT- - -| | | | | | |parameter mapping script | | | | | | | | | | | | |---Create Image---------------------------------->| | | | |<- -ImageId - - - - - - - - - - - - - - - - - - - | | | | | | | | | | | |---Create Flavor ------------------->| | | | | |<- -FalvorId- - - - - - - - - - - - -| | | | | | | | | | | | |---Call mapping script--------------------------------------->| | | |<--Key-value parameters --------------------------------------| | | | | | | | | | |---Create stack with Key-value parameters and base HOT------------------>| | |<------------------------------------------------------------------------| |<-------------------| | | | | | | | | | | | | Instantiating VNF, as illustrated in above sequence diagram, consists of following steps. 1. Consumer sends VNF instantiation request through Instantiate VNF API Request. In this term, VNF package including base HOT, a parameter mapping script, and VNFD has already been uploaded in Tacker. 2. There is a decision-making process to choose instantiation method. Tacker will check the value of ""additionalParam"", one of attributes in InstantiateVNFRequest API, and decide which LCM method should be executed. If there is a flag regarding mapping script, for exmaple `-additionalParam ""mappingscript:file_name.py""`, Tacker proceed VNF instantiation with mapping script as described below. If not, Tacker proceed it with Tosca-parser and Heat-translator supported in current OpenStack. 3. Tacker will get VNFD, parameter mapping script, and base HOT from VNF package. 4. Tacker creates an image file and Flavor and get Ids. 5. Tacker runs a parameter mapping script with ImageId and FlavorId to extract Heat input parameters from VNFD, VNF Instantiation Request body*1, and Response of Granting from NFVO*2. * 1 External network information can be extracted from InstatiateVNFRequest API and passed on as a program arguments. * 2 According to ETSI NFV documents, Image Id and Flavor Id are passed from NFVO with Responce of Grant API. In this proposal, Tacker as VNFM handle these Ids instead of NFVO because Grant API will not be introduced in Ussuri version of Tacker. 6. Tacker creates stack with Heat input parameters and base HOT. .. note:: Though the parameter script contains parameter mappings for different LCM operation such as VNF update, VNF instantiation can be supported in this release. Samples of input/output for mapping script. ------------------------------------------- T.B.D Alternatives ------------ Since the current VNF instantiation by Tacker with Tosca Parser / Heat translator and the proposed method are common in creating a HOT using VNFD, this proposal is only an optional method. In case there is a special requirement for VNF in addition to the contents described in VNFD, it is appropriate that the proposed method is able to describe the HOT more flexibly. Data model impact ------------------ T.B.D REST API impact --------------- T.B.D Security -------- None Notifications impact -------------------- None Other end user impact --------------------- Consumer has to create parameter mapping script and Base HOT. Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Keiko Kuriu <keiko.kuriu.wa@hco.ntt.co.jp> Other contributors: Work Items ---------- #. Implement decision-making process to choose LCM method #. Implement runtime environment for parameter mapping script #. Implement Unit and functional tests #. Documentation Dependencies ============ This methodology will work with upcoming development for LCM API [lcmapi_spec]_. Testing ======== - VNF instantiation with mapping script Reference ========= .. [sol001] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/001/02.06.01_60/gs_NFV-SOL001v020601p.pdf .. [sol014] https://docbox.etsi.org/ISG/NFV/Open/Drafts/SOL014ed271_VR_descriptor_stage_3/NFV-SOL014ed271v070.docx .. [lcmapi_spec] https://review.opendev.org/#/c/591866/ ",,199,0
openstack%2Fneutron~master~I3d3c9ced93a0f8e1d5565f37ad2d9626650ca5d0,openstack/neutron,master,I3d3c9ced93a0f8e1d5565f37ad2d9626650ca5d0,DNM: More logs to reproduce bug 1728282,ABANDONED,2020-03-09 18:02:14.000000000,2020-03-15 13:14:21.000000000,,"[{'_account_id': 9732}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-09 18:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d77432cce6e787eeaddb28ad62a41d0e28df9c', 'message': 'DNM: More logs to reproduce bug 1728282\n\nPlease ignore\n\nChange-Id: I3d3c9ced93a0f8e1d5565f37ad2d9626650ca5d0\n'}, {'number': 2, 'created': '2020-03-10 22:28:44.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dd9ef75e6706883dcd850e164544251debfad6a', 'message': 'DNM: More logs to reproduce bug 1728282\n\nPlease ignore\n\nChange-Id: I3d3c9ced93a0f8e1d5565f37ad2d9626650ca5d0\n'}]",0,711963,8dd9ef75e6706883dcd850e164544251debfad6a,13,4,2,11952,,,0,"DNM: More logs to reproduce bug 1728282

Please ignore

Change-Id: I3d3c9ced93a0f8e1d5565f37ad2d9626650ca5d0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/711963/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,14d77432cce6e787eeaddb28ad62a41d0e28df9c,," try: LOG.info(""XXX flaviof PortBindingChassisEvent looking chassis %(chassis)s row %(row)s"", {'chassis': chassis, 'row': idlutils.row2str(row)}) LOG.info(""XXX flaviof PortBindingChassisEvent looking chassis %(chassis)s datapath %(datapath)s"", {'chassis': chassis, 'datapath': row.datapath}) router = row.datapath.external_ids.get('name', '').replace( 'neutron-', '') host = chassis[0].hostname LOG.info(""Router %(router)s is bound to host %(host)s"", {'router': router, 'host': host}) except Exception: LOG.exception('XXX flaviof PortBindingChassisEvent Exception') return"," router = row.datapath.external_ids.get('name', '').replace( 'neutron-', '') host = chassis[0].hostname LOG.info(""Router %(router)s is bound to host %(host)s"", {'router': router, 'host': host})",14,5
openstack%2Fironic~master~I41ef623b662ac7f228ade3a01a2f177f8e64f26c,openstack/ironic,master,I41ef623b662ac7f228ade3a01a2f177f8e64f26c,Change readfp to read_file,MERGED,2020-03-13 08:48:34.000000000,2020-03-15 12:15:49.000000000,2020-03-15 12:13:49.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-13 08:48:34.000000000', 'files': ['ironic/drivers/modules/ansible/playbooks/callback_plugins/ironic_log.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/31439718c8f7836b07c708bf3320fc689c399514', 'message': 'Change readfp to read_file\n\nreadfp was deprecated since version 3.2 see [1]\n\n[1] https://docs.python.org/3/library/configparser.html#configparser.ConfigParser.readfp\n\nChange-Id: I41ef623b662ac7f228ade3a01a2f177f8e64f26c\n'}]",0,712860,31439718c8f7836b07c708bf3320fc689c399514,10,5,1,15519,,,0,"Change readfp to read_file

readfp was deprecated since version 3.2 see [1]

[1] https://docs.python.org/3/library/configparser.html#configparser.ConfigParser.readfp

Change-Id: I41ef623b662ac7f228ade3a01a2f177f8e64f26c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/712860/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ansible/playbooks/callback_plugins/ironic_log.py'],1,31439718c8f7836b07c708bf3320fc689c399514,readfp_is_deprecated," config.read_file(open(basename + "".ini""))"," config.readfp(open(basename + "".ini""))",1,1
openstack%2Fnova~master~I5e0a43ec59341c9ac62f89105ddf82c4a014df81,openstack/nova,master,I5e0a43ec59341c9ac62f89105ddf82c4a014df81,Replace non-nova server fault message,MERGED,2019-08-06 14:46:22.000000000,2020-03-15 12:07:15.000000000,2019-08-07 05:20:51.000000000,"[{'_account_id': 1004}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-06 14:46:22.000000000', 'files': ['nova/tests/functional/test_server_faults.py', 'releasenotes/notes/bug-1837877-cve-fault-message-exposure-5360d794f4976b7c.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/298b337a16c0d10916b4431c436d19b3d6f5360e', 'message': 'Replace non-nova server fault message\n\nThe server fault ""message"" is always shown in the API\nserver response, regardless of policy or user role.\n\nThe fault ""details"" are only shown to users with the\nadmin role when the fault code is 500.\n\nThe problem with this is for non-nova exceptions, the\nfault message is a string-ified version of the exception\n(see nova.compute.utils.exception_to_dict) which can\ncontain sensitive information which the non-admin owner\nof the server can see.\n\nThis change adds a functional test to recreate the issue\nand a change to exception_to_dict which for the non-nova\ncase changes the fault message by simply storing the\nexception type class name. Admins can still see the fault\ntraceback in the ""details"" key of the fault dict in the\nserver API response. Note that _get_fault_details is\nchanged so that the details also includes the exception\nvalue which is what used to be in the fault message for\nnon-nova exceptions. This is necessary so admins can still\nget the exception message with the traceback details.\n\nNote that nova exceptions with a %(reason)s replacement\nvariable could potentially be leaking sensitive details as\nwell but those would need to be cleaned up on a case-by-case\nbasis since we don\'t want to change the behavior of all\nfault messages otherwise users might not see information\nlike NoValidHost when their server goes to ERROR status\nduring scheduling.\n\nSecurityImpact: This change contains a fix for CVE-2019-14433.\n\nChange-Id: I5e0a43ec59341c9ac62f89105ddf82c4a014df81\nCloses-Bug: #1837877\n'}]",0,674821,298b337a16c0d10916b4431c436d19b3d6f5360e,20,15,1,6873,,,0,"Replace non-nova server fault message

The server fault ""message"" is always shown in the API
server response, regardless of policy or user role.

The fault ""details"" are only shown to users with the
admin role when the fault code is 500.

The problem with this is for non-nova exceptions, the
fault message is a string-ified version of the exception
(see nova.compute.utils.exception_to_dict) which can
contain sensitive information which the non-admin owner
of the server can see.

This change adds a functional test to recreate the issue
and a change to exception_to_dict which for the non-nova
case changes the fault message by simply storing the
exception type class name. Admins can still see the fault
traceback in the ""details"" key of the fault dict in the
server API response. Note that _get_fault_details is
changed so that the details also includes the exception
value which is what used to be in the fault message for
non-nova exceptions. This is necessary so admins can still
get the exception message with the traceback details.

Note that nova exceptions with a %(reason)s replacement
variable could potentially be leaking sensitive details as
well but those would need to be cleaned up on a case-by-case
basis since we don't want to change the behavior of all
fault messages otherwise users might not see information
like NoValidHost when their server goes to ERROR status
during scheduling.

SecurityImpact: This change contains a fix for CVE-2019-14433.

Change-Id: I5e0a43ec59341c9ac62f89105ddf82c4a014df81
Closes-Bug: #1837877
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/674821/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_faults.py', 'releasenotes/notes/bug-1837877-cve-fault-message-exposure-5360d794f4976b7c.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/utils.py']",4,298b337a16c0d10916b4431c436d19b3d6f5360e,bug/1837877," """"""Converts exceptions to a dict for use in notifications. :param fault: Exception that occurred :param message: Optional fault message, otherwise the message is derived from the fault itself. :returns: dict with the following items: - exception: the fault itself - message: one of (in priority order): - the provided message to this method - a formatted NovaException message - the fault class name - code: integer code for the fault (defaults to 500) """""" # In this case either we have a NovaException which failed to format # the message or we have a non-nova exception which could contain # sensitive details. Since we're not sure, be safe and set the message # to the exception class name. Note that we don't guard on # context.is_admin here because the message is always shown in the API, # even to non-admin users (e.g. NoValidHost) but only the traceback # details are shown to users with the admin role. Checking for admin # context here is also not helpful because admins can perform # operations on a tenant user's server (migrations, reboot, etc) and # service startup and periodic tasks could take actions on a server # and those use an admin context. # TODO(mriedem): Why do we only include the details if the code is 500? # Though for non-nova exceptions the code will probably be 500. if exc_info and error_code == 500: # We get the full exception details including the value since # the fault message may not contain that information for non-nova # exceptions (see exception_to_dict). details = ''.join(traceback.format_exception( exc_info[0], exc_info[1], exc_info[2]))"," """"""Converts exceptions to a dict for use in notifications."""""" try: message = six.text_type(fault) except Exception: message = None if not message: if exc_info and error_code == 500: tb = exc_info[2] if tb: details = ''.join(traceback.format_tb(tb))",184,16
openstack%2Fnova~stable%2Frocky~I1942bfa9bd1baf8738d34c287216db7b59000a36,openstack/nova,stable/rocky,I1942bfa9bd1baf8738d34c287216db7b59000a36,Avoid circular reference during serialization,MERGED,2020-02-25 17:28:32.000000000,2020-03-15 11:45:04.000000000,2020-03-14 19:01:13.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-25 17:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d09724bbf0ec2167175e489b2c860ff18b931351', 'message': 'Avoid circular reference during serialization\n\nWhen an instance with numa topology is re-scheduled the conductor\nmigrate task blows with circular reference during request spec\nserialization. It happens because there are ovos in the request spec\nthat jsonutils.dumps only serialize if requested explicitly.\n\nThis patch makes the explicit request.\n\nCloses-Bug: #1864665\n\nChange-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36\n'}, {'number': 2, 'created': '2020-02-26 12:24:22.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/conductor/tasks/migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3871b38fe03aee7a1ffbbdfdf8a60b8c09e0ba76', 'message': 'Avoid circular reference during serialization\n\nWhen an instance with numa topology is re-scheduled the conductor\nmigrate task blows with circular reference during request spec\nserialization. It happens because there are ovos in the request spec\nthat jsonutils.dumps only serialize if requested explicitly.\n\nThis patch makes the explicit request.\n\nThis is a stable only bug fix as the borken code was removed in Stein by\nthe feature patch I4244f7dd8fe74565180f73684678027067b4506e\n\nCloses-Bug: #1864665\n\nChange-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36\n'}]",2,709798,3871b38fe03aee7a1ffbbdfdf8a60b8c09e0ba76,21,9,2,9708,,,0,"Avoid circular reference during serialization

When an instance with numa topology is re-scheduled the conductor
migrate task blows with circular reference during request spec
serialization. It happens because there are ovos in the request spec
that jsonutils.dumps only serialize if requested explicitly.

This patch makes the explicit request.

This is a stable only bug fix as the borken code was removed in Stein by
the feature patch I4244f7dd8fe74565180f73684678027067b4506e

Closes-Bug: #1864665

Change-Id: I1942bfa9bd1baf8738d34c287216db7b59000a36
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/709798/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/conductor/tasks/migrate.py']",2,d09724bbf0ec2167175e489b2c860ff18b931351,bug/1864665,"import functools # NOTE(gibi): convert_instances=True is needed as the legacy_spec might # contain ovo instances in the numa_topology field and those are # causing circular reference during serialization otherwise. legacy_spec = jsonutils.loads( jsonutils.dumps( legacy_spec, default=functools.partial( jsonutils.to_primitive, convert_instances=True ), ) )", legacy_spec = jsonutils.loads(jsonutils.dumps(legacy_spec)),35,2
openstack%2Fdesignate~master~I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb,openstack/designate,master,I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb,Re-factored Heartbeat implementation,MERGED,2019-12-28 05:00:53.000000000,2020-03-15 11:18:45.000000000,2020-03-15 11:17:15.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 16006}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-28 05:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aa54aea73f3033fbc70265ded818001f34df730e', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code if very limited at the moment,\nand simplyfing the code to make it easier to either\ndeprecate or improve it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 2, 'created': '2019-12-28 05:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3a50ebebff8c839507084827e8f79f3681ddd316', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code if very limited at the moment,\nand simplyfing the code to make it easier to either\ndeprecate or improve it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 3, 'created': '2019-12-28 05:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/903007b5d4ba0368f985741719ea62e34779e914', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 4, 'created': '2019-12-28 05:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f6621abe51e4941ae84fa18e11bc591530c8b79f', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 5, 'created': '2019-12-28 05:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3d9fdd61fa6fc1ceb10202012766124551254449', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 6, 'created': '2019-12-28 06:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cac4c2c597b1cb312b097a2c9418526b129880be', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 7, 'created': '2019-12-28 06:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1884559a75de939f7934d473214068cfee83848a', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 8, 'created': '2019-12-28 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cb584f8a5111fd246216941bd63b29a2bfd93909', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 9, 'created': '2019-12-28 14:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fe3f1a637bb9a79571ce6d34c1b331329ed9b9b0', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 10, 'created': '2019-12-29 02:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fbf2f81592d0c28af20062dd50beb1407c6cfa35', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 11, 'created': '2020-01-26 03:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c7268dd4d3f9ee2b1f12a23fe24ff5a369fad5bd', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 12, 'created': '2020-01-31 19:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/37d50095543688a49ddb936f5858ae37e38b7123', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 13, 'created': '2020-02-10 18:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/47cde7057308d785e910006089e7a32e4e887c95', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 14, 'created': '2020-02-13 21:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f19cb1e62c1bfae0016ab8753a9f0141e99f7c86', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 15, 'created': '2020-02-16 08:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bb23dea6bee1e0c61fbab76d376a8cb237b964b5', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}, {'number': 16, 'created': '2020-03-09 03:15:21.000000000', 'files': ['designate/cmd/worker.py', 'designate/tests/__init__.py', 'designate/cmd/mdns.py', 'designate/tests/unit/test_heartbeat.py', 'designate/cmd/sink.py', 'designate/api/wsgi.py', 'designate/tests/unit/test_heartbeat_emitter.py', 'designate/cmd/api.py', 'designate/heartbeat_emitter.py', 'designate/cmd/central.py', 'designate/service.py', 'designate/cmd/producer.py', 'designate/tests/unit/test_service_status.py', 'designate/cmd/agent.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/3fccc25bf661755b6f71f7e839938c214480bd5f', 'message': 'Re-factored Heartbeat implementation\n\nThe use of this code path is very limited at the moment,\nand this patch further simplifies the code to make it easier\nto either deprecate or extend it in the future.\n\n* Renamed service_status.py -> heartbeat_emitter.py.\n* Merged HeartbeatEmitter and Heartbeat.\n\nChange-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb\n'}]",0,700712,3fccc25bf661755b6f71f7e839938c214480bd5f,33,4,16,22623,,,0,"Re-factored Heartbeat implementation

The use of this code path is very limited at the moment,
and this patch further simplifies the code to make it easier
to either deprecate or extend it in the future.

* Renamed service_status.py -> heartbeat_emitter.py.
* Merged HeartbeatEmitter and Heartbeat.

Change-Id: I68a4a49dd3e6bbc123c3ed5d3d3661aa08ad0bbb
",git fetch https://review.opendev.org/openstack/designate refs/changes/12/700712/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/cmd/worker.py', 'designate/tests/__init__.py', 'designate/cmd/mdns.py', 'designate/tests/unit/test_heartbeat.py', 'designate/cmd/sink.py', 'designate/api/wsgi.py', 'designate/tests/unit/test_heartbeat_emitter.py', 'designate/cmd/api.py', 'designate/heartbeat_emitter.py', 'designate/cmd/central.py', 'designate/service.py', 'designate/cmd/producer.py', 'designate/tests/unit/test_service_status.py', 'designate/cmd/agent.py']",14,aa54aea73f3033fbc70265ded818001f34df730e,heartbeat_fix,from designate import heartbeat_emitter heartbeat = heartbeat_emitter.HeartbeatEmitter(server.service_name), heartbeat = service.Heartbeat(server.service_name),169,252
openstack%2Fopenstack-manuals~master~I2a8bec9468da9f384e4d65ac951c4b18c2459543,openstack/openstack-manuals,master,I2a8bec9468da9f384e4d65ac951c4b18c2459543,Link to goaccess report for docs.o.o 404s,MERGED,2020-03-11 22:38:53.000000000,2020-03-15 09:33:08.000000000,2020-03-15 09:10:28.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 22:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f5654602f810b5b0974bbe2a1c1fac0a5b7eafa8', 'message': 'Link to goaccess report for docs.o.o 404s\n\nWe are trying to produce richer reports using Goaccess and this includes\n404 reporting. Link to that information.\n\nChange-Id: I2a8bec9468da9f384e4d65ac951c4b18c2459543\n'}, {'number': 2, 'created': '2020-03-15 08:46:39.000000000', 'files': ['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/474308b848ddba0403af043111f6489db07d4612', 'message': 'Link to goaccess report for docs.o.o 404s\n\nWe are trying to produce richer reports using Goaccess and this includes\n404 reporting. Link to that information.\n\nChange-Id: I2a8bec9468da9f384e4d65ac951c4b18c2459543\n'}]",2,712579,474308b848ddba0403af043111f6489db07d4612,13,3,2,4146,,,0,"Link to goaccess report for docs.o.o 404s

We are trying to produce richer reports using Goaccess and this includes
404 reporting. Link to that information.

Change-Id: I2a8bec9468da9f384e4d65ac951c4b18c2459543
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/79/712579/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/doc-contrib-guide/source/doc-tools/template-generator.rst'],1,f5654602f810b5b0974bbe2a1c1fac0a5b7eafa8,website-stats," see recent 404 errors check the ""Goaccess report"" artifact on builds of docs-openstack-goaccess-report in Zuul. To search for recent runs of this job visit http://zuul.openstack.org/builds?pipeline=periodic&job_name=docs-openstack-goaccess-report#", see recent 404 errors check the output of the `system-config-static-404-checker <http://zuul.openstack.org/builds?job_name=system-config-static-404-checker>`__ job.,3,4
openstack%2Frequirements~master~I2c9537e1b048a0fcf34924ea2c8108ddb65ee219,openstack/requirements,master,I2c9537e1b048a0fcf34924ea2c8108ddb65ee219,Updated from generate-constraints,MERGED,2020-03-15 06:20:38.000000000,2020-03-15 09:30:02.000000000,2020-03-15 09:28:41.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-15 06:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6740a369a602b6d844a6be75b50db37c77a38bb2', 'message': 'Updated from generate-constraints\n\nChange-Id: I2c9537e1b048a0fcf34924ea2c8108ddb65ee219\n'}, {'number': 2, 'created': '2020-03-15 06:27:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e26fcabeab7b989ca63d9e219cb3f6f050039ff', 'message': 'Updated from generate-constraints\n\nChange-Id: I2c9537e1b048a0fcf34924ea2c8108ddb65ee219\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,713126,2e26fcabeab7b989ca63d9e219cb3f6f050039ff,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I2c9537e1b048a0fcf34924ea2c8108ddb65ee219
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/713126/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6740a369a602b6d844a6be75b50db37c77a38bb2,openstack/requirements/constraints/noclob,python-subunit===1.4.0mock===3.0.5;python_version=='2.7' mock===4.0.2;python_version=='3.6' mock===4.0.2;python_version=='3.7'docutils===0.16keyring===21.2.0;python_version=='3.6' keyring===21.2.0;python_version=='3.7'testtools===2.4.0msgpack===1.0.0alembic===1.4.1,python-subunit===1.3.0mock===3.0.5docutils===0.15.2keyring===21.1.1;python_version=='3.6' keyring===21.1.1;python_version=='3.7'testtools===2.3.0msgpack===0.6.2alembic===1.3.3,10,8
openstack%2Faodh~master~I1ea77249834e6c595c88f257226a483633be5f7a,openstack/aodh,master,I1ea77249834e6c595c88f257226a483633be5f7a,Replace third party mock with unittest.mock,MERGED,2020-03-13 13:57:56.000000000,2020-03-15 04:28:28.000000000,2020-03-15 04:27:05.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 13:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/0324710463b3e76afcf721a52e845ebbdb991f8b', 'message': ""Replace third party mock with unittest.mock\n\nNow that we no longer support older version of Python, there is no need\nto use the third party 'mock' library for test mocking and can instead\nuse the standard library unittest mock module.\n\nChange-Id: I1ea77249834e6c595c88f257226a483633be5f7a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-03-13 14:00:31.000000000', 'files': ['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/tests/unit/evaluator/test_loadbalancer.py', 'aodh/tests/unit/test_evaluator.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/tests/functional/api/v2/test_complex_query.py', 'aodh/tests/functional/gabbi/fixtures.py', 'aodh/tests/functional/api/v2/test_query.py', 'aodh/tests/unit/evaluator/test_base.py', 'aodh/tests/unit/test_coordination.py', 'aodh/tests/functional/storage/test_get_connection.py', 'aodh/tests/functional/api/test_app.py', 'aodh/tests/functional/api/v2/test_app.py', 'aodh/tests/functional/storage/sqlalchemy/test_migrations.py', 'aodh/tests/unit/test_notifier.py', 'aodh/tests/unit/evaluator/base.py', 'aodh/tests/unit/notifier/test_heat.py', 'aodh/tests/unit/test_event.py', 'setup.cfg', 'aodh/tests/unit/evaluator/test_event.py', 'aodh/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/59a36b714623ceec6d8f73ba3e1ce9309b714e29', 'message': ""Replace third party mock with unittest.mock\n\nNow that we no longer support older version of Python, there is no need\nto use the third party 'mock' library for test mocking and can instead\nuse the standard library unittest mock module.\n\nChange-Id: I1ea77249834e6c595c88f257226a483633be5f7a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,712955,59a36b714623ceec6d8f73ba3e1ce9309b714e29,9,2,2,11904,,,0,"Replace third party mock with unittest.mock

Now that we no longer support older version of Python, there is no need
to use the third party 'mock' library for test mocking and can instead
use the standard library unittest mock module.

Change-Id: I1ea77249834e6c595c88f257226a483633be5f7a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/aodh refs/changes/55/712955/2 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/unit/evaluator/test_composite.py', 'aodh/tests/unit/evaluator/test_gnocchi.py', 'aodh/tests/unit/evaluator/test_loadbalancer.py', 'aodh/tests/unit/test_evaluator.py', 'aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'aodh/tests/functional/api/v2/test_complex_query.py', 'aodh/tests/functional/gabbi/fixtures.py', 'aodh/tests/functional/api/v2/test_query.py', 'aodh/tests/unit/evaluator/test_base.py', 'aodh/tests/unit/test_coordination.py', 'aodh/tests/functional/storage/test_get_connection.py', 'aodh/tests/functional/api/test_app.py', 'aodh/tests/functional/api/v2/test_app.py', 'aodh/tests/functional/storage/sqlalchemy/test_migrations.py', 'aodh/tests/unit/test_notifier.py', 'aodh/tests/unit/evaluator/base.py', 'aodh/tests/unit/notifier/test_heat.py', 'aodh/tests/unit/test_event.py', 'setup.cfg', 'aodh/tests/unit/evaluator/test_event.py', 'aodh/tests/functional/storage/test_storage_scenarios.py']",21,0324710463b3e76afcf721a52e845ebbdb991f8b,unittest.mock,from unittest import mock , import mock,26,22
openstack%2Fneutron~master~I490506cc6c9b18a3ca12e474f9ee9f8f3712ce7b,openstack/neutron,master,I490506cc6c9b18a3ca12e474f9ee9f8f3712ce7b,Fix _notify_l3_agent_port_update when there is no binding host,MERGED,2020-03-09 09:57:04.000000000,2020-03-15 03:15:51.000000000,2020-03-15 03:13:52.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-09 09:57:04.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_hascheduler_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a27081636bae4dc8e279b2a0520f7929888c9817', 'message': 'Fix _notify_l3_agent_port_update when there is no binding host\n\nWhen _notify_l3_agent_port_update is called, there may be the case that\nportbindings.HOST_ID key is not in new_port or original_port dict. It is\nlike that e.g. in some unit tests of api extensions. So lets use get()\nmethod to get it. The case when host_id is None is already handled\nproperly in this method so that is fine to do.\n\nChange-Id: I490506cc6c9b18a3ca12e474f9ee9f8f3712ce7b\n'}]",0,711887,a27081636bae4dc8e279b2a0520f7929888c9817,35,9,1,11975,,,0,"Fix _notify_l3_agent_port_update when there is no binding host

When _notify_l3_agent_port_update is called, there may be the case that
portbindings.HOST_ID key is not in new_port or original_port dict. It is
like that e.g. in some unit tests of api extensions. So lets use get()
method to get it. The case when host_id is None is already handled
properly in this method so that is fine to do.

Change-Id: I490506cc6c9b18a3ca12e474f9ee9f8f3712ce7b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/711887/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_hascheduler_db.py']",2,a27081636bae4dc8e279b2a0520f7929888c9817,bug/1866560, host = new_port.get(portbindings.HOST_ID), host = new_port[portbindings.HOST_ID],7,7
openstack%2Fpython-zunclient~master~I6fbed16e8b66f7aef5fa65c6462e977699aeeb96,openstack/python-zunclient,master,I6fbed16e8b66f7aef5fa65c6462e977699aeeb96,Bump API version to 1.38,MERGED,2020-03-14 20:49:40.000000000,2020-03-15 03:04:47.000000000,2020-03-15 03:03:21.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 20:49:40.000000000', 'files': ['zunclient/api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/3afaa59f749ca9127d7f462a04c10bdc68f9855e', 'message': 'Bump API version to 1.38\n\nAPI version is introduced by: https://review.opendev.org/#/c/700284/.\nThis patch bump the API version accordingly.\n\nChange-Id: I6fbed16e8b66f7aef5fa65c6462e977699aeeb96\n'}]",0,713111,3afaa59f749ca9127d7f462a04c10bdc68f9855e,7,2,1,11536,,,0,"Bump API version to 1.38

API version is introduced by: https://review.opendev.org/#/c/700284/.
This patch bump the API version accordingly.

Change-Id: I6fbed16e8b66f7aef5fa65c6462e977699aeeb96
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/11/713111/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/api_versions.py'],1,3afaa59f749ca9127d7f462a04c10bdc68f9855e,,MAX_API_VERSION = '1.38',MAX_API_VERSION = '1.37',1,1
openstack%2Fopenstack-helm~master~Ib2c064b9ecc7e34275c9db7312cfd88a81c9cfc0,openstack/openstack-helm,master,Ib2c064b9ecc7e34275c9db7312cfd88a81c9cfc0,[DNM] Testing libvirt patch,ABANDONED,2020-03-10 01:00:28.000000000,2020-03-15 02:11:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-10 01:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/319be6b8d2ec2c2275ccfe3f156dadcfe5e85b3c', 'message': '[DNM] Testing libvirt patch\n\nDepends-On: https://review.opendev.org/#/c/712004/\n\nChange-Id: Ib2c064b9ecc7e34275c9db7312cfd88a81c9cfc0\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-14 14:04:55.000000000', 'files': ['nova/values.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/671cfb649e53f24f62049ba00c4d22bb9421bdb9', 'message': '[DNM] Testing libvirt patch\n\nDepends-On: https://review.opendev.org/#/c/712004/\n\nChange-Id: Ib2c064b9ecc7e34275c9db7312cfd88a81c9cfc0\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,712009,671cfb649e53f24f62049ba00c4d22bb9421bdb9,5,1,2,20466,,,0,"[DNM] Testing libvirt patch

Depends-On: https://review.opendev.org/#/c/712004/

Change-Id: Ib2c064b9ecc7e34275c9db7312cfd88a81c9cfc0
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/712009/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'zuul.d/project.yaml']",2,319be6b8d2ec2c2275ccfe3f156dadcfe5e85b3c,dnm/libvirt-test, # - openstack-helm-bandit # - openstack-helm-cinder # - openstack-helm-cinder-ocata-ubuntu_xenial # - openstack-helm-cinder-pike-ubuntu_xenial # - openstack-helm-cinder-queens-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_xenial # - openstack-helm-cinder-rocky-ubuntu_bionic # - openstack-helm-cinder-rocky-opensuse_15: # voting: false # - openstack-helm-horizon # - openstack-helm-apparmor: # voting: false # - openstack-helm-netpol-compute-kit: # voting: false # - openstack-helm-netpol-cinder: # voting: false, - openstack-helm-bandit - openstack-helm-cinder - openstack-helm-cinder-ocata-ubuntu_xenial - openstack-helm-cinder-pike-ubuntu_xenial - openstack-helm-cinder-queens-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_bionic - openstack-helm-cinder-rocky-opensuse_15: voting: false - openstack-helm-compute-kit-rocky-opensuse_15: voting: false - openstack-helm-horizon - openstack-helm-apparmor: voting: false - openstack-helm-netpol-compute-kit: voting: false - openstack-helm-netpol-cinder: voting: false,16,24
openstack%2Fopenstacksdk~master~I3abff10c018074834bcf834e697200db0530041a,openstack/openstacksdk,master,I3abff10c018074834bcf834e697200db0530041a,Set max_microversion to 2.53 for hypervisors,MERGED,2020-03-04 17:52:19.000000000,2020-03-15 01:39:31.000000000,2020-03-15 01:37:39.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 17:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/164b81dea1bba20987b0cd917130681ce526cd2a', 'message': 'Set max_microversion to 2.53 for hypervisors\n\nIf the cloud is new enough, the hypervisor id should be a UUID.\n\nChange-Id: I3abff10c018074834bcf834e697200db0530041a\n'}, {'number': 2, 'created': '2020-03-05 21:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/aee0f9a2afc695d16bb9b85205a17eb0a1744726', 'message': 'Set max_microversion to 2.53 for hypervisors\n\nIf the cloud is new enough, the hypervisor id should be a UUID.\n\nChange-Id: I3abff10c018074834bcf834e697200db0530041a\n'}, {'number': 3, 'created': '2020-03-09 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2408b6aadd0f107c8bad1d13019d57cedbd709dd', 'message': 'Set max_microversion to 2.53 for hypervisors\n\nIf the cloud is new enough, the hypervisor id should be a UUID.\n\nChange-Id: I3abff10c018074834bcf834e697200db0530041a\n'}, {'number': 4, 'created': '2020-03-14 22:46:30.000000000', 'files': ['openstack/compute/v2/hypervisor.py', 'openstack/tests/unit/fixtures/old-compute-version.json', 'openstack/tests/unit/cloud/test_operator.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bc0e2605a457290e04c48ba17056fd7b64823800', 'message': 'Set max_microversion to 2.53 for hypervisors\n\nIf the cloud is new enough, the hypervisor id should be a UUID.\n\nChange-Id: I3abff10c018074834bcf834e697200db0530041a\n'}]",0,711294,bc0e2605a457290e04c48ba17056fd7b64823800,17,4,4,2,,,0,"Set max_microversion to 2.53 for hypervisors

If the cloud is new enough, the hypervisor id should be a UUID.

Change-Id: I3abff10c018074834bcf834e697200db0530041a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/711294/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/hypervisor.py'],1,164b81dea1bba20987b0cd917130681ce526cd2a,bump-hypervisor-microversion, # Hypervisor id is a UUID starting with 2.53 _max_microversion = '2.53' ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~If011da577adec7d95e0caf8f1c9c6cb88581cae1,openstack/tripleo-heat-templates,stable/train,If011da577adec7d95e0caf8f1c9c6cb88581cae1,Fix TenantInterfaceDefaultRoute in net-env-v6,MERGED,2020-03-13 15:51:59.000000000,2020-03-15 00:51:04.000000000,2020-03-15 00:51:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-13 15:51:59.000000000', 'files': ['environments/network-environment-v6.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d69ec8a5c37216e33d2ce1a0f2a61fd6fc618180', 'message': 'Fix TenantInterfaceDefaultRoute in net-env-v6\n\nThe TenantInterfaceDefaultRoute in network-environment-v6.j2.yaml\nshould use the ipv4 gateway address.\n\nCloses-Bug: #1867207\nChange-Id: If011da577adec7d95e0caf8f1c9c6cb88581cae1\n(cherry picked from commit 26e4a0ab59e31757bc3683da14d8ccf5dcc90594)\n'}]",0,712993,d69ec8a5c37216e33d2ce1a0f2a61fd6fc618180,12,4,1,3153,,,0,"Fix TenantInterfaceDefaultRoute in net-env-v6

The TenantInterfaceDefaultRoute in network-environment-v6.j2.yaml
should use the ipv4 gateway address.

Closes-Bug: #1867207
Change-Id: If011da577adec7d95e0caf8f1c9c6cb88581cae1
(cherry picked from commit 26e4a0ab59e31757bc3683da14d8ccf5dcc90594)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/712993/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/network-environment-v6.j2.yaml'],1,d69ec8a5c37216e33d2ce1a0f2a61fd6fc618180,bug/1867207-stable/train,{%- if network.gateway_ipv6|default(false) %} # Gateway router for routable networks {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ipv6}}' {%- endif %}{%- if network.gateway_ip|default(false) %} {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ip}}' {%- endif %},{%- endif %} {%- if network.gateway_ipv6|default(false) %} {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ipv6}}',7,3
openstack%2Fosc-lib~master~I240c7eb8b2d2e53a63abf78118bd364a56c19765,openstack/osc-lib,master,I240c7eb8b2d2e53a63abf78118bd364a56c19765,Stop using lib-forward-testing,MERGED,2020-03-13 14:14:05.000000000,2020-03-14 23:29:00.000000000,2020-03-14 23:26:41.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 14:14:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/53bf91951d73e660232f543848b015a5f1114e57', 'message': 'Stop using lib-forward-testing\n\nWe only want the python3 version now.\n\nChange-Id: I240c7eb8b2d2e53a63abf78118bd364a56c19765\n'}]",0,712961,53bf91951d73e660232f543848b015a5f1114e57,8,3,1,2,,,0,"Stop using lib-forward-testing

We only want the python3 version now.

Change-Id: I240c7eb8b2d2e53a63abf78118bd364a56c19765
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/61/712961/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53bf91951d73e660232f543848b015a5f1114e57,,, - lib-forward-testing,0,1
openstack%2Fnova~stable%2Frocky~Idc4f3fe54136a6bd3dbc7dc0efd3f62745991199,openstack/nova,stable/rocky,Idc4f3fe54136a6bd3dbc7dc0efd3f62745991199,Fix hypervisors paginted collection_name.,MERGED,2020-03-06 17:08:48.000000000,2020-03-14 21:04:38.000000000,2020-03-14 21:04:38.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25113}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-06 17:08:48.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-list-resp.json', 'nova/api/openstack/compute/views/hypervisors.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e50aecda86ecbd955aaab7e3b37f0d81836be579', 'message': ""Fix hypervisors paginted collection_name.\n\nHypervisor view builder's _collection_name,\n'hypervisors' is used to build next link that\nsdk use as uri to do paginated query. But correct\nAPI should be `GET /v2.1/os-hypervisors?<params>`\nrather than `GET /v2.1/hypervisors?<params>`.\n\nThis patch fixes this bug.\n\nChange-Id: Idc4f3fe54136a6bd3dbc7dc0efd3f62745991199\nCloses-Bug: 1864428\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n(cherry picked from commit b68033ecc9d38dcbe339c993338bdca691f73b33)\n(cherry picked from commit 2f4e3ac3b018128b11a80ec343b333c3a6e4703f)\n(cherry picked from commit 9030b8a56d46eeef3e2a0ee6e19c3b05a277c77c)\n""}]",0,711670,e50aecda86ecbd955aaab7e3b37f0d81836be579,36,9,1,15334,,,0,"Fix hypervisors paginted collection_name.

Hypervisor view builder's _collection_name,
'hypervisors' is used to build next link that
sdk use as uri to do paginated query. But correct
API should be `GET /v2.1/os-hypervisors?<params>`
rather than `GET /v2.1/hypervisors?<params>`.

This patch fixes this bug.

Change-Id: Idc4f3fe54136a6bd3dbc7dc0efd3f62745991199
Closes-Bug: 1864428
Signed-off-by: Fan Zhang <zh.f@outlook.com>
(cherry picked from commit b68033ecc9d38dcbe339c993338bdca691f73b33)
(cherry picked from commit 2f4e3ac3b018128b11a80ec343b333c3a6e4703f)
(cherry picked from commit 9030b8a56d46eeef3e2a0ee6e19c3b05a277c77c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/711670/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-detail-resp.json', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json', 'doc/api_samples/os-hypervisors/v2.33/hypervisors-list-resp.json', 'nova/api/openstack/compute/views/hypervisors.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.33/hypervisors-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.53/hypervisors-list-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py']",10,e50aecda86ecbd955aaab7e3b37f0d81836be579,bug/1864428," {'href': 'http://localhost/v2/os-hypervisors?limit=1&marker=2', {'href': 'http://localhost/v2/os-hypervisors?limit=1&marker=2', link = 'http://localhost/v2/os-hypervisors/detail?limit=1&marker=2' link = 'http://localhost/v2/os-hypervisors/detail?limit=1&marker=2' link = ('http://localhost/v2/os-hypervisors/detail?limit=1&marker=%s' % link = ('http://localhost/v2/os-hypervisors?limit=1&marker=%s' %"," {'href': 'http://localhost/v2/hypervisors?limit=1&marker=2', {'href': 'http://localhost/v2/hypervisors?limit=1&marker=2', link = 'http://localhost/v2/hypervisors/detail?limit=1&marker=2' link = 'http://localhost/v2/hypervisors/detail?limit=1&marker=2' link = ('http://localhost/v2/hypervisors/detail?limit=1&marker=%s' % link = ('http://localhost/v2/hypervisors?limit=1&marker=%s' %",15,15
openstack%2Fopenstack-ansible-os_cinder~master~Ic83f6371c5d2bbed6a7d6d2f92a69fd3a2afd0d3,openstack/openstack-ansible-os_cinder,master,Ic83f6371c5d2bbed6a7d6d2f92a69fd3a2afd0d3,Refactor memcached_servers,MERGED,2020-03-12 13:48:36.000000000,2020-03-14 19:44:38.000000000,2020-03-14 19:43:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-12 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/76480df104df23c369e3fd237a6015e4e3593849', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: Ic83f6371c5d2bbed6a7d6d2f92a69fd3a2afd0d3\n'}, {'number': 2, 'created': '2020-03-13 22:16:48.000000000', 'files': ['defaults/main.yml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/beb3d002ddd8ab445df1cac7a3d83f52a82f7b44', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ic83f6371c5d2bbed6a7d6d2f92a69fd3a2afd0d3\n'}]",0,712681,beb3d002ddd8ab445df1cac7a3d83f52a82f7b44,20,5,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ic83f6371c5d2bbed6a7d6d2f92a69fd3a2afd0d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/81/712681/2 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/cinder.conf.j2']",2,76480df104df23c369e3fd237a6015e4e3593849,memcached-refactor,memcached_servers = {{ cinder_memcached_servers }},memcached_servers = {{ memcached_servers }},3,1
openstack%2Fopenstack-ansible~master~I00405ac1affbcb81cbd3b024512a81f1322799e3,openstack/openstack-ansible,master,I00405ac1affbcb81cbd3b024512a81f1322799e3,Add magnum tempest test,MERGED,2020-02-27 13:01:01.000000000,2020-03-14 18:17:58.000000000,2020-03-14 18:15:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-02-27 13:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31b14d80cb0ae5d63b735533642eff22abc148e9', 'message': 'Fix magnum image sha\n\nChange-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3\n'}, {'number': 2, 'created': '2020-02-27 13:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ccedc69a94a9f872e017ffd3df1ba48204460696', 'message': 'Add magnum tempest test\n\nThis patch adds magnum test to the whitelist which should\ntrigger tempest to run magnum tests.\n\nChange-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3\n'}, {'number': 3, 'created': '2020-02-28 07:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff4b84a9a09f90bd3961dd0aa2e0e62bf6093603', 'message': 'Add magnum tempest test\n\nThis patch adds magnum test to the whitelist which should\ntrigger tempest to run magnum tests.\n\nChange-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3\n'}, {'number': 4, 'created': '2020-02-28 19:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15b88494aa1629977a5e5dcf809978a6c20a52b1', 'message': 'Add magnum tempest test\n\nThis patch adds magnum test to the whitelist which should\ntrigger tempest to run magnum tests.\n\nChange-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3\n'}, {'number': 5, 'created': '2020-02-28 22:01:50.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce843970602bea90cb12ce5646198f6ff55dbd57', 'message': 'Add magnum tempest test\n\nThis patch adds magnum test to the whitelist which should\ntrigger tempest to run magnum tests.\n\nChange-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3\n'}]",0,710245,ce843970602bea90cb12ce5646198f6ff55dbd57,31,4,5,28619,,,0,"Add magnum tempest test

This patch adds magnum test to the whitelist which should
trigger tempest to run magnum tests.

Change-Id: I00405ac1affbcb81cbd3b024512a81f1322799e3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/710245/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'],1,31b14d80cb0ae5d63b735533642eff22abc148e9,," checksum: ""sha256:4c9b98db16f1c39e03d6b21e33b0a5b826a4b596a4a898b1ddd39cda242732f6"""," checksum: ""sha1:7c1a88749d31a3828ac6a6b02e82d64f4c5823a5""",1,1
openstack%2Fgrenade~stable%2Fstein~Iee71472af027994fef4c78cb3e2a524e17e635be,openstack/grenade,stable/stein,Iee71472af027994fef4c78cb3e2a524e17e635be,Use stable constraint for Tempest pinned stable branches,MERGED,2020-03-13 16:25:20.000000000,2020-03-14 17:32:41.000000000,2020-03-14 17:31:22.000000000,"[{'_account_id': 10239}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-13 16:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/ffdd58ad4f6328c8d97a82e06e0ef5c9aecee0b1', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\nOld node for grenade job running on stein gate is rocky which\nhas Tempest pinned so does need stable u-c to use.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Iee71472af027994fef4c78cb3e2a524e17e635be\n'}, {'number': 2, 'created': '2020-03-14 02:21:46.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/350e7fd3f2e3a8d3cf12ee51eaae9c9693fa97ac', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\nOld node for grenade job running on stein gate is rocky which\nhas Tempest pinned so does need stable u-c to use.\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: Iee71472af027994fef4c78cb3e2a524e17e635be\n'}]",1,713014,350e7fd3f2e3a8d3cf12ee51eaae9c9693fa97ac,11,4,2,8556,,,0,"Use stable constraint for Tempest pinned stable branches

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

Old node for grenade job running on stein gate is rocky which
has Tempest pinned so does need stable u-c to use.

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Change-Id: Iee71472af027994fef4c78cb3e2a524e17e635be
",git fetch https://review.opendev.org/openstack/grenade refs/changes/14/713014/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,ffdd58ad4f6328c8d97a82e06e0ef5c9aecee0b1,fix-stable-gate, # NOTE(gmann): This run is on old node which is stable/rocky in stein # case. Use branch constraint because Tempest is pinned on stable/rocky. # We need to export it via env var UPPER_CONSTRAINTS_FILE # so that initial creation of tempest tox use stable branch constraint # instead of master constraint which is hard coded in tempest/tox.ini export UPPER_CONSTRAINTS_FILE=$BASE_RELEASE_DIR/requirements/upper-constraints.txt ,,8,0
openstack%2Fkolla-ansible~stable%2Ftrain~I59441b84f6d196bddc4971ea8ecfdffaf87cfc47,openstack/kolla-ansible,stable/train,I59441b84f6d196bddc4971ea8ecfdffaf87cfc47,DNM: test ovs sg fw driver,ABANDONED,2020-03-14 13:56:39.000000000,2020-03-14 17:29:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-14 13:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5852d6497a1cb0a9b58c06eab69446ffae4e63c', 'message': 'DNM: test ovs sg fw driver\n\nChange-Id: I59441b84f6d196bddc4971ea8ecfdffaf87cfc47\n'}, {'number': 2, 'created': '2020-03-14 15:02:53.000000000', 'files': ['tests/run.yml', 'tests/templates/ml2-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac93c08d11436d7991a28179e2c8e7ac4a9076f2', 'message': 'DNM: test ovs sg fw driver\n\nChange-Id: I59441b84f6d196bddc4971ea8ecfdffaf87cfc47\n'}]",0,713094,ac93c08d11436d7991a28179e2c8e7ac4a9076f2,4,1,2,30491,,,0,"DNM: test ovs sg fw driver

Change-Id: I59441b84f6d196bddc4971ea8ecfdffaf87cfc47
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/713094/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/neutron-overrides.j2', 'tests/run.yml']",2,c5852d6497a1cb0a9b58c06eab69446ffae4e63c,dnm-test-ovs-sg-fw-driver," # neutron.conf - src: ""tests/templates/neutron-overrides.j2"" dest: /etc/kolla/config/neutron.conf when: ""{{ openstack_core_enabled }}"" # neutron.conf - src: ""tests/templates/neutron-overrides.j2"" dest: /etc/kolla/config/neutron.conf",,9,0
openstack%2Fproject-config~master~Ia0133cba9ce1ea5e4ff8b6ea166c485f877c73e7,openstack/project-config,master,Ia0133cba9ce1ea5e4ff8b6ea166c485f877c73e7,add vexxhost/openstack-operator,MERGED,2020-03-13 23:48:16.000000000,2020-03-14 15:42:40.000000000,2020-03-14 15:42:40.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 23:48:16.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2cd0c8b80c00c9115bd9298297f1147225c5d1b1', 'message': 'add vexxhost/openstack-operator\n\nChange-Id: Ia0133cba9ce1ea5e4ff8b6ea166c485f877c73e7\n'}]",0,713080,2cd0c8b80c00c9115bd9298297f1147225c5d1b1,7,3,1,1004,,,0,"add vexxhost/openstack-operator

Change-Id: Ia0133cba9ce1ea5e4ff8b6ea166c485f877c73e7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/713080/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,2cd0c8b80c00c9115bd9298297f1147225c5d1b1,, - vexxhost/openstack-operator,,4,0
openstack%2Fopenstack-ansible-os_nova~master~Ie50f529975e8f2ae1bf66136240b3901f08b51a4,openstack/openstack-ansible-os_nova,master,Ie50f529975e8f2ae1bf66136240b3901f08b51a4,Refactor memcached_servers,MERGED,2020-03-12 14:10:26.000000000,2020-03-14 15:11:22.000000000,2020-03-14 15:09:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-12 14:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/543c68245477c4e83078beddc44c5b16ad6f6e7f', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: Ie50f529975e8f2ae1bf66136240b3901f08b51a4\n'}, {'number': 2, 'created': '2020-03-13 22:13:15.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5d4cd62b04beda6ffbce6495a0cc5e370d36d88e', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: Ie50f529975e8f2ae1bf66136240b3901f08b51a4\n'}]",0,712691,5d4cd62b04beda6ffbce6495a0cc5e370d36d88e,17,5,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: Ie50f529975e8f2ae1bf66136240b3901f08b51a4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/91/712691/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml']",2,543c68245477c4e83078beddc44c5b16ad6f6e7f,memcached-refactor,"nova_memcached_servers: ""{{ memcached_servers }}"" ",,3,1
openstack%2Fopenstack-ansible-os_keystone~master~I57e7a977675c203d811bf0afc60ebf2c5661c284,openstack/openstack-ansible-os_keystone,master,I57e7a977675c203d811bf0afc60ebf2c5661c284,Refactor memcached_servers,MERGED,2020-03-13 22:10:38.000000000,2020-03-14 14:58:24.000000000,2020-03-14 14:57:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-13 22:10:38.000000000', 'files': ['tasks/keystone_idp_self_signed_distribute.yml', 'templates/shibboleth2.xml.j2', 'defaults/main.yml', 'tasks/keystone_idp_self_signed_store.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4d1557dcf23044730f573587f5b06e1a067308a2', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: I57e7a977675c203d811bf0afc60ebf2c5661c284\n'}]",0,713071,4d1557dcf23044730f573587f5b06e1a067308a2,8,3,1,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

Change-Id: I57e7a977675c203d811bf0afc60ebf2c5661c284
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/71/713071/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_idp_self_signed_distribute.yml', 'templates/shibboleth2.xml.j2', 'defaults/main.yml', 'tasks/keystone_idp_self_signed_store.yml']",4,4d1557dcf23044730f573587f5b06e1a067308a2,memcached-refactor," server: ""{{ keystone_memcached_servers }}"""," server: ""{{ memcached_servers }}""",7,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3b669665548668423d4ce7e34262c12903fba522,openstack/tripleo-heat-templates,stable/train,I3b669665548668423d4ce7e34262c12903fba522,[TRAIN and before] Introduce ContainerCpusetCpus,MERGED,2020-03-13 15:04:18.000000000,2020-03-14 14:52:43.000000000,2020-03-14 06:12:32.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:04:18.000000000', 'files': ['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85850d8af240722facdf59eea79f2523057d1e8a', 'message': ""[TRAIN and before] Introduce ContainerCpusetCpus\n\nAdd a role specific parameter, ContainerCpusetCpus, default to 'all', which\nallows to limit the specific CPUs or cores a container can use.\nTo disable it and rely on container engine default, set it to ''.\n\nChange-Id: I3b669665548668423d4ce7e34262c12903fba522\nRelated-Bug: #1867357\n""}]",0,712967,85850d8af240722facdf59eea79f2523057d1e8a,11,4,1,3153,,,0,"[TRAIN and before] Introduce ContainerCpusetCpus

Add a role specific parameter, ContainerCpusetCpus, default to 'all', which
allows to limit the specific CPUs or cores a container can use.
To disable it and rely on container engine default, set it to ''.

Change-Id: I3b669665548668423d4ce7e34262c12903fba522
Related-Bug: #1867357
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/712967/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cpuset_cpus-4dbde2cec2152b30.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml']",2,85850d8af240722facdf59eea79f2523057d1e8a,bug/1867357," ContainerCpusetCpus: description: Limit the specific CPUs or cores a container can use. type: string default: 'all' tags: - role_specific container_cpuset_cpus: ContainerCpusetCpus ContainerCpusetCpus: {get_param: ContainerCpusetCpus} cpuset_cpus: {get_attr: [RoleParametersValue, value, container_cpuset_cpus]}", cpuset_cpus: all,15,1
openstack%2Fpaunch~master~I615c798bdbcc0115f0ca9642969193ceada9b9cd,openstack/paunch,master,I615c798bdbcc0115f0ca9642969193ceada9b9cd,Don't set cpuset_cpus if empty,MERGED,2020-03-13 15:17:38.000000000,2020-03-14 14:52:12.000000000,2020-03-14 06:50:22.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:17:38.000000000', 'files': ['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/7bb9471423a350f0b1a60f67cf3eb41abaaba329', 'message': ""Don't set cpuset_cpus if empty\n\nIf cpuset_cpus is set to '', we don't want to configure it, just skip\nit.\n\nCloses-Bug: #1867357\nChange-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd\n""}]",0,712971,7bb9471423a350f0b1a60f67cf3eb41abaaba329,10,4,1,3153,,,0,"Don't set cpuset_cpus if empty

If cpuset_cpus is set to '', we don't want to configure it, just skip
it.

Closes-Bug: #1867357
Change-Id: I615c798bdbcc0115f0ca9642969193ceada9b9cd
",git fetch https://review.opendev.org/openstack/paunch refs/changes/71/712971/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/builder/podman.py', 'paunch/builder/compose1.py', 'paunch/tests/test_builder_base.py']",3,7bb9471423a350f0b1a60f67cf3eb41abaaba329,bug/1867357," 'cpuset_cpus': '',",,3,2
openstack%2Fopenstack-ansible-os_glance~master~I19b74c3bc5119953256d3d8f2a98cb5f23787755,openstack/openstack-ansible-os_glance,master,I19b74c3bc5119953256d3d8f2a98cb5f23787755,Refactor memcached_servers,MERGED,2020-03-12 14:04:22.000000000,2020-03-14 14:51:29.000000000,2020-03-14 14:50:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-12 14:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d88324697cbf68c108579b13ee223bbcabb244dd', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nChange-Id: I19b74c3bc5119953256d3d8f2a98cb5f23787755\n'}, {'number': 2, 'created': '2020-03-13 22:15:16.000000000', 'files': ['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/0b9bcc3e5a4fde0b44f50d63c3b0a1bd3f1672d9', 'message': 'Refactor memcached_servers\n\nThis patch aims to add a prefix for memcached_server\non each role to give the ability for deployers to\noverride the location of memcached cluster. I.e users\nwants to create a single memcached cluster with k8s\nfor each service.\n\nWe also add pymemcache based on [1]\n\n[1] https://review.opendev.org/711429\n\nChange-Id: I19b74c3bc5119953256d3d8f2a98cb5f23787755\n'}]",0,712688,0b9bcc3e5a4fde0b44f50d63c3b0a1bd3f1672d9,14,4,2,28008,,,0,"Refactor memcached_servers

This patch aims to add a prefix for memcached_server
on each role to give the ability for deployers to
override the location of memcached cluster. I.e users
wants to create a single memcached cluster with k8s
for each service.

We also add pymemcache based on [1]

[1] https://review.opendev.org/711429

Change-Id: I19b74c3bc5119953256d3d8f2a98cb5f23787755
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/88/712688/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2', 'defaults/main.yml']",3,d88324697cbf68c108579b13ee223bbcabb244dd,memcached-refactor,"glance_memcached_servers: ""{{ memcached_servers }}""",,3,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1af2ecd9e3996de4f43224f66a8bdb81eab07022,openstack/tripleo-heat-templates,stable/train,I1af2ecd9e3996de4f43224f66a8bdb81eab07022,Use exec when spawning dnsmasq inside sidecar container,MERGED,2020-03-13 13:36:38.000000000,2020-03-14 13:46:41.000000000,2020-03-14 13:46:41.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 13:36:38.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76de3fd931ca2e1e162fc2f5f14fcdd76cbbc851', 'message': 'Use exec when spawning dnsmasq inside sidecar container\n\nWe see some deployment failures where the overcloud is unable to PXE/DHCP boot during the initial bits of the deployments. The following errors are seen in neutron dhcp logs:\n\n2020-03-11 17:58:33.737 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Resync event has been scheduled _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:277\n2020-03-11 17:58:33.737 54481 DEBUG neutron.common.utils [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Calling throttled function clear wrapper /usr/lib/python3.6/site-packages/neutron/common/utils.py:110\n2020-03-11 17:58:33.738 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] resync (a187b137-b68c-476e-bd37-39253158e762): [ProcessExecutionError(""Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\\n+ trap \'exec 2>&4 1>&3\' 0 1 2 3\\n+ exec\\n"",)] _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:294\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent [-] Unable to reload_allocations dhcp for a187b137-b68c-476e-bd37-39253158e762.: neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n+ trap \'exec 2>&4 1>&3\' 0 1 2 3\n+ exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent Traceback (most recent call last):\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py"", line 160, in call_driver\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent getattr(driver, action)(**action_kwargs)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 528, in reload_allocations\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self._spawn_or_reload_process(reload_with_HUP=True)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 470, in _spawn_or_reload_process\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent pm.enable(reload_cfg=reload_with_HUP, ensure_active=True)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 92, in enable\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.reload_cfg()\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 100, in reload_cfg\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.disable(\'HUP\')\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 113, in disable\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent utils.execute(cmd, run_as_root=self.run_as_root)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/utils.py"", line 147, in execute\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent returncode=returncode)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + trap \'exec 2>&4 1>&3\' 0 1 2 3\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent\n2020-03-11 17:58:33.740 54481 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a187b137-b68c-476e-bd37-39253158e762.pid.haproxy get_value_from_file /usr/lib/pyt\n\nThe issue is that the dhcp side containers are spawned with the following processes:\n           |-conmon(375906)-+-dumb-init(375918)---bash(375935)---dnsmasq(375938)\n           | `-{conmon}(375908)\n\nNow when neutron wants to send a SIGHUP to the dnsmasq it actually invokes the following command:\nnsenter --net=/run/netns/qdhcp-e11ac152-745f-4292-b423-d282fbf97f13 --preserve-credentials -m -t 1 podman kill --signal HUP 0b7371f6de52cfe377858...\n\nThe problem is that podman kill will send the signal to ""dumb-init\n--single-child"" (pid1 for this container) which will then forward it only to\nbash, which will cause dnsmasq to be terminated and will eventually be later\nrespawned with a different pid (stored in\n/var/lib/neutron/dhcp/86884abc-f7d7-4118-923f-38b247fee8e9/pid).\n\nSo if multiple ports are created concurrently this is racy and one of them will fail to reload dnsmasq with the error above, because one process might use a pid file that is no longer valid.\nTLDR: this all works if SIGHUP to the dnsmasq process does not change pids under the hood all of a sudden.\nOtherwise a SIGHUP used to reload dnsmasq will be sent to the bash\nprocess father of dnsmasq which will then terminate dnsmasq and break\nall the things\n\nTested this on three runs and did not experience the issue any longer\n\nCo-Authored-By: Bernard Cafarelli <bcafarel@redhat.com>\nCo-Authored-By: Slawomir Kaplonski <skaplons@redhat.com>\n\nCloses-Bug: #1867192\n\nChange-Id: I1af2ecd9e3996de4f43224f66a8bdb81eab07022\n(cherry picked from commit 3ca7e8f03faab0ee599a18bce4217430583e2050)\n'}]",0,712948,76de3fd931ca2e1e162fc2f5f14fcdd76cbbc851,15,6,1,20172,,,0,"Use exec when spawning dnsmasq inside sidecar container

We see some deployment failures where the overcloud is unable to PXE/DHCP boot during the initial bits of the deployments. The following errors are seen in neutron dhcp logs:

2020-03-11 17:58:33.737 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Resync event has been scheduled _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:277
2020-03-11 17:58:33.737 54481 DEBUG neutron.common.utils [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Calling throttled function clear wrapper /usr/lib/python3.6/site-packages/neutron/common/utils.py:110
2020-03-11 17:58:33.738 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] resync (a187b137-b68c-476e-bd37-39253158e762): [ProcessExecutionError(""Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n+ trap 'exec 2>&4 1>&3' 0 1 2 3\n+ exec\n"",)] _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:294
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent [-] Unable to reload_allocations dhcp for a187b137-b68c-476e-bd37-39253158e762.: neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec
+ trap 'exec 2>&4 1>&3' 0 1 2 3
+ exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent Traceback (most recent call last):
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py"", line 160, in call_driver
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent getattr(driver, action)(**action_kwargs)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 528, in reload_allocations
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self._spawn_or_reload_process(reload_with_HUP=True)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 470, in _spawn_or_reload_process
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent pm.enable(reload_cfg=reload_with_HUP, ensure_active=True)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 92, in enable
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.reload_cfg()
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 100, in reload_cfg
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.disable('HUP')
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 113, in disable
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent utils.execute(cmd, run_as_root=self.run_as_root)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/utils.py"", line 147, in execute
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent returncode=returncode)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + trap 'exec 2>&4 1>&3' 0 1 2 3
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent
2020-03-11 17:58:33.740 54481 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a187b137-b68c-476e-bd37-39253158e762.pid.haproxy get_value_from_file /usr/lib/pyt

The issue is that the dhcp side containers are spawned with the following processes:
           |-conmon(375906)-+-dumb-init(375918)---bash(375935)---dnsmasq(375938)
           | `-{conmon}(375908)

Now when neutron wants to send a SIGHUP to the dnsmasq it actually invokes the following command:
nsenter --net=/run/netns/qdhcp-e11ac152-745f-4292-b423-d282fbf97f13 --preserve-credentials -m -t 1 podman kill --signal HUP 0b7371f6de52cfe377858...

The problem is that podman kill will send the signal to ""dumb-init
--single-child"" (pid1 for this container) which will then forward it only to
bash, which will cause dnsmasq to be terminated and will eventually be later
respawned with a different pid (stored in
/var/lib/neutron/dhcp/86884abc-f7d7-4118-923f-38b247fee8e9/pid).

So if multiple ports are created concurrently this is racy and one of them will fail to reload dnsmasq with the error above, because one process might use a pid file that is no longer valid.
TLDR: this all works if SIGHUP to the dnsmasq process does not change pids under the hood all of a sudden.
Otherwise a SIGHUP used to reload dnsmasq will be sent to the bash
process father of dnsmasq which will then terminate dnsmasq and break
all the things

Tested this on three runs and did not experience the issue any longer

Co-Authored-By: Bernard Cafarelli <bcafarel@redhat.com>
Co-Authored-By: Slawomir Kaplonski <skaplons@redhat.com>

Closes-Bug: #1867192

Change-Id: I1af2ecd9e3996de4f43224f66a8bdb81eab07022
(cherry picked from commit 3ca7e8f03faab0ee599a18bce4217430583e2050)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/712948/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,76de3fd931ca2e1e162fc2f5f14fcdd76cbbc851,wip-stable/train, cmd: exec /usr/sbin/dnsmasq -k, cmd: /usr/sbin/dnsmasq -k,1,1
openstack%2Fkolla~master~Iff80392357ef5e2dd3f2e24dbf4df299660805b9,openstack/kolla,master,Iff80392357ef5e2dd3f2e24dbf4df299660805b9,CI: Use network mode = host,MERGED,2020-03-03 10:54:00.000000000,2020-03-14 13:35:13.000000000,2020-03-14 13:33:45.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 10:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/50636ab65a050dc9c5708648dc32c69e2d56a821', 'message': 'WIP: Network mode host\n\nDoing testing for linaro ipv6-only nodes (flaky aarch64 CI).\n\nChange-Id: Iff80392357ef5e2dd3f2e24dbf4df299660805b9\n'}, {'number': 2, 'created': '2020-03-03 12:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2253e2a77841134a214d68d84ca9dfc4566a87e4', 'message': 'CI: Use network mode = host\n\nThis avoids issues with IPv6 not enabled in docker.\n\nChange-Id: Iff80392357ef5e2dd3f2e24dbf4df299660805b9\n'}, {'number': 3, 'created': '2020-03-13 18:29:44.000000000', 'files': ['tests/templates/kolla-build.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5912f2c16e68b4b581cb3b2d7e974e438b9333f5', 'message': 'CI: Use network mode = host\n\nThis avoids issues with IPv6 not enabled in docker.\n\nChange-Id: Iff80392357ef5e2dd3f2e24dbf4df299660805b9\n'}]",0,710970,5912f2c16e68b4b581cb3b2d7e974e438b9333f5,29,6,3,30491,,,0,"CI: Use network mode = host

This avoids issues with IPv6 not enabled in docker.

Change-Id: Iff80392357ef5e2dd3f2e24dbf4df299660805b9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/710970/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/kolla-build.conf.j2'],1,50636ab65a050dc9c5708648dc32c69e2d56a821,ci-docker-network-mode-host,network_mode = host,,1,0
openstack%2Fopenstack-ansible~master~Id3fae8f94f99327fb9c6486df9cdf3aee5fd9ef8,openstack/openstack-ansible,master,Id3fae8f94f99327fb9c6486df9cdf3aee5fd9ef8,[doc] Add placement definition to config samples,MERGED,2020-01-16 17:29:22.000000000,2020-03-14 12:31:43.000000000,2020-02-19 18:05:45.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-16 17:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/95956e07b19dd81177cc4571b38eeffcb39b9ca8', 'message': '[doc] Add placement definition to config samples\n\nChange-Id: Id3fae8f94f99327fb9c6486df9cdf3aee5fd9ef8\n'}, {'number': 2, 'created': '2020-02-19 12:46:27.000000000', 'files': ['etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'etc/openstack_deploy/openstack_user_config.yml.prod.example', 'etc/openstack_deploy/openstack_user_config.yml.provnet-group.example'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d2a3c07ebd0cf334b79a06a83fc7124bfdb0f32', 'message': '[doc] Add placement definition to config samples\n\nChange-Id: Id3fae8f94f99327fb9c6486df9cdf3aee5fd9ef8\n'}]",2,702934,9d2a3c07ebd0cf334b79a06a83fc7124bfdb0f32,14,4,2,28619,,,0,"[doc] Add placement definition to config samples

Change-Id: Id3fae8f94f99327fb9c6486df9cdf3aee5fd9ef8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/34/702934/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.prod-ceph.example', 'etc/openstack_deploy/user_variables.yml.prod-ceph.example', 'etc/openstack_deploy/openstack_user_config.yml.prod.example', 'etc/openstack_deploy/openstack_user_config.yml.provnet-group.example']",4,95956e07b19dd81177cc4571b38eeffcb39b9ca8,,# placement placement-infra_hosts: infra1: ip: 172.29.236.11 infra2: ip: 172.29.236.12 infra3: ip: 172.29.236.13 ,,22,1
openstack%2Frpm-packaging~stable%2Ftrain~I01e582f65d3da38d70145c58f55fef78cb80cce7,openstack/rpm-packaging,stable/train,I01e582f65d3da38d70145c58f55fef78cb80cce7,python-keystoneclient: convert to python3,MERGED,2020-03-13 15:51:19.000000000,2020-03-14 12:00:33.000000000,2020-03-14 12:00:33.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:51:19.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/da7b703ab29307a035066888cf958dfc03ebae71', 'message': 'python-keystoneclient: convert to python3\n\nChange-Id: I01e582f65d3da38d70145c58f55fef78cb80cce7\n(cherry picked from commit 5964becde4802d503a3407497d88e313ab0f6f01)\n'}]",0,712988,da7b703ab29307a035066888cf958dfc03ebae71,8,4,1,13294,,,0,"python-keystoneclient: convert to python3

Change-Id: I01e582f65d3da38d70145c58f55fef78cb80cce7
(cherry picked from commit 5964becde4802d503a3407497d88e313ab0f6f01)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/712988/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-keystoneclient/python-keystoneclient.spec.j2'],1,da7b703ab29307a035066888cf958dfc03ebae71,remove-python2-stable/train,BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('lxml') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testresources') }} BuildRequires: {{ py3('testscenarios') }}%package -n {{ py2name(py_versions='py3') }} Summary: Client library for OpenStack Identity API Requires: {{ py3('debtcollector') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} Client library for interacting with Openstack Identity API. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/keystoneclient %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('lxml', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testresources', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages%{python_build}%{python_install} # Delete tests rm -fr %{buildroot}%{python2_sitelib}/tests%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/keystoneclient %{python_sitelib}/*.egg-info",36,34
openstack%2Frpm-packaging~stable%2Ftrain~I34d36ebd17efaf27fb4b167bde9cb9da30cae98d,openstack/rpm-packaging,stable/train,I34d36ebd17efaf27fb4b167bde9cb9da30cae98d,oslo.config: convert to python3,MERGED,2020-03-13 15:51:27.000000000,2020-03-14 11:59:58.000000000,2020-03-14 11:58:55.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:51:27.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/848868397ad7e792d2908b55ec6c048f1bd1c280', 'message': 'oslo.config: convert to python3\n\nChange-Id: I34d36ebd17efaf27fb4b167bde9cb9da30cae98d\n(cherry picked from commit 16ad5d539a26d42a5ddf0a78138de0ef1b3971ef)\n'}]",0,712989,848868397ad7e792d2908b55ec6c048f1bd1c280,10,3,1,13294,,,0,"oslo.config: convert to python3

Change-Id: I34d36ebd17efaf27fb4b167bde9cb9da30cae98d
(cherry picked from commit 16ad5d539a26d42a5ddf0a78138de0ef1b3971ef)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/712989/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,848868397ad7e792d2908b55ec6c048f1bd1c280,remove-python2-stable/train,"BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('netaddr') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('rfc3986') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack common configuration library Requires: {{ py3('PyYAML') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('requests') }} Requires: {{ py3('rfc3986') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} The Oslo project intends to produce a python library containing infrastructure code shared by OpenStack projects. The APIs provided by the project should be high quality, stable, consistent and generally useful. The oslo-config library is a command line and configuration file parsing library from the Oslo project. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslo-config-generator %{_bindir}/oslo-config-validator %{python3_sitelib}/oslo_config %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('netaddr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('rfc3986', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('rfc3986') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%ifpython2 BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx', py_versions=['py2', 'py3']) }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslo-config-generator %python_clone -a %{buildroot}%{_bindir}/oslo-config-validator %post %{python_install_alternative oslo-config-generator oslo-config-validator} %postun %python_uninstall_alternative oslo-config-generator%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslo-config-generator %python_alternative %{_bindir}/oslo-config-validator %{python_sitelib}/oslo_config %{python_sitelib}/*.egg-info",47,54
openstack%2Frpm-packaging~stable%2Ftrain~I93d71d47aa3def4eea16fbe3ccf1413c353e6401,openstack/rpm-packaging,stable/train,I93d71d47aa3def4eea16fbe3ccf1413c353e6401,openstacksdk: convert to python3,MERGED,2020-03-13 16:08:08.000000000,2020-03-14 11:59:40.000000000,2020-03-14 11:59:40.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:08:08.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/97d6a59b5105a07a4aeec9a4edba3a7aefde54df', 'message': 'openstacksdk: convert to python3\n\nChange-Id: I93d71d47aa3def4eea16fbe3ccf1413c353e6401\n(cherry picked from commit 8743179868afd0d94753043ab9250f42c7902cb4)\n'}]",0,713004,97d6a59b5105a07a4aeec9a4edba3a7aefde54df,8,3,1,13294,,,0,"openstacksdk: convert to python3

Change-Id: I93d71d47aa3def4eea16fbe3ccf1413c353e6401
(cherry picked from commit 8743179868afd0d94753043ab9250f42c7902cb4)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/713004/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,97d6a59b5105a07a4aeec9a4edba3a7aefde54df,,"BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('appdirs') }} BuildRequires: {{ py3('beautifulsoup4') }} BuildRequires: {{ py3('decorator') }} BuildRequires: {{ py3('deprecation') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('dogpile.cache') }} BuildRequires: {{ py3('extras') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('jmespath') }} BuildRequires: {{ py3('jsonpatch') }} BuildRequires: {{ py3('jsonschema') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('munch') }} BuildRequires: {{ py3('netifaces') }} BuildRequires: {{ py3('os-service-types') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('requestsexceptions') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('statsd') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}BuildRequires: {{ py3('prometheus_client') }}%package -n {{ py2name(py_versions='py3') }} Summary: An SDK for building applications to work with OpenStack Requires: {{ py3('PyYAML') }} Requires: {{ py3('appdirs') }} Requires: {{ py3('cryptography') }} Requires: {{ py3('decorator') }} Requires: {{ py3('dogpile.cache') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('jmespath') }} Requires: {{ py3('jsonpatch') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('munch') }} Requires: {{ py3('netifaces') }} Requires: {{ py3('os-service-types') }} Requires: {{ py3('requestsexceptions') }} Requires: {{ py3('six') }} %if 0%{?suse_version} %if 0%{?sle_version} >= 150000 || 0%{?suse_version} > 1500 Requires: mkisofs %else Requires: genisoimage %endif %else Requires: genisoimage %endif %description -n {{ py2name(py_versions='py3') }} The openstacksdk is a library for building applications to work with OpenStack clouds. The project aims to provide a consistent and complete set of interactions with OpenStack's many services, along with complete documentation, examples, and tools. This package contains the Python 3.x module %py3_build%py3_installpython3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/openstack-inventory %{python3_sitelib}/openstack %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('appdirs', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('beautifulsoup4', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('decorator', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('deprecation', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('dogpile.cache', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('extras', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('futures', py_versions=['py2']) }} BuildRequires: {{ py2pkg('ipaddress', py_versions=['py2']) }} BuildRequires: {{ py2pkg('jmespath', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('jsonpatch', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('jsonschema', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('munch', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('netifaces', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('os-service-types', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requestsexceptions', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('statsd', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('appdirs') }} Requires: {{ py2pkg('cryptography') }} Requires: {{ py2pkg('decorator') }} Requires: {{ py2pkg('dogpile.cache') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jmespath') }} Requires: {{ py2pkg('jsonpatch') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('munch') }} Requires: {{ py2pkg('netifaces') }} Requires: {{ py2pkg('os-service-types') }} Requires: {{ py2pkg('requestsexceptions') }} Requires: {{ py2pkg('six') }}%ifpython2 Requires: {{ py2pkg('futures') }} Requires: {{ py2pkg('ipaddress') }} %endifBuildRequires: {{ py2pkg('prometheus_client', py_versions=['py2', 'py3']) }} Requires(post): update-alternatives Requires(postun): update-alternatives %if 0%{?sle_version} >= 150000 || 0%{?suse_version} > 1500 Requires: mkisofs %else Requires: genisoimage%else Requires: genisoimage # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%python_build%python_install %python_clone -a %{buildroot}%{_bindir}/openstack-inventory %post %python_install_alternative openstack-inventory %postun %python_uninstall_alternative openstack-inventory%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/openstack-inventory %{python_sitelib}/openstack %{python_sitelib}/*.egg-info",72,77
openstack%2Frpm-packaging~stable%2Ftrain~I267648f53cf0f98e1767898dc22df4737e367a8e,openstack/rpm-packaging,stable/train,I267648f53cf0f98e1767898dc22df4737e367a8e,oslo.concurrency: convert to python3,MERGED,2020-03-13 15:51:42.000000000,2020-03-14 11:55:09.000000000,2020-03-14 11:55:09.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:51:42.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/93fad1e4167759c3ef60d679f1948461f2ccfec8', 'message': 'oslo.concurrency: convert to python3\n\nChange-Id: I267648f53cf0f98e1767898dc22df4737e367a8e\n(cherry picked from commit 895d68ccec1a3cdab26502d1eae1939558806650)\n'}]",0,712991,93fad1e4167759c3ef60d679f1948461f2ccfec8,8,3,1,13294,,,0,"oslo.concurrency: convert to python3

Change-Id: I267648f53cf0f98e1767898dc22df4737e367a8e
(cherry picked from commit 895d68ccec1a3cdab26502d1eae1939558806650)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/712991/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.concurrency/oslo.concurrency.spec.j2'],1,93fad1e4167759c3ef60d679f1948461f2ccfec8,remove-python2-stable/train,"BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('fasteners') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack oslo.concurrency library Requires: {{ py3('fasteners') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} The oslo.concurrency library has utilities for safely running multi-thread, multi-process applications using locking mechanisms and for running external processes. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/lockutils-wrapper %{python3_sitelib}/oslo_concurrency %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fasteners', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('futures', py_versions=['py2']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('fasteners') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }}%ifpython2 Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/lockutils-wrapper %post %python_install_alternative lockutils-wrapper %postun %python_uninstall_alternative lockutils-wrapperif [ ""%_lib"" = ""lib64"" ]; then %python_exec -m stestr.cli run fi %files %{python_files}%python_alternative %{_bindir}/lockutils-wrapper %{python_sitelib}/oslo_concurrency %{python_sitelib}/*.egg-info",34,47
openstack%2Frequirements~master~Id63f94e708f027555ce5194d2e76da4c8dd2ec42,openstack/requirements,master,Id63f94e708f027555ce5194d2e76da4c8dd2ec42,Fixed pytest-html constraints,ABANDONED,2020-03-13 13:08:45.000000000,2020-03-14 11:31:48.000000000,,"[{'_account_id': 10022}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-03-13 13:08:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e49d8338e210272bdc9fedabb60e52e76b269d4', 'message': 'Fixed pytest-html constraints\n\nPrevious value was making py27 installation impossible because\n2.x dropped support for py27.\n\nChange-Id: Id63f94e708f027555ce5194d2e76da4c8dd2ec42\n'}]",0,712942,3e49d8338e210272bdc9fedabb60e52e76b269d4,9,5,1,24162,,,0,"Fixed pytest-html constraints

Previous value was making py27 installation impossible because
2.x dropped support for py27.

Change-Id: Id63f94e708f027555ce5194d2e76da4c8dd2ec42
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/712942/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e49d8338e210272bdc9fedabb60e52e76b269d4,,pytest-html===1.22.1;python_version=='2.7' pytest-html===2.0.1;python_version=='3.6' pytest-html===2.0.1;python_version=='3.7',pytest-html===2.0.1,3,1
openstack%2Frpm-packaging~stable%2Ftrain~I27990e1101084b8b1880564293f4cc159ea2eba2,openstack/rpm-packaging,stable/train,I27990e1101084b8b1880564293f4cc159ea2eba2,Remove pifpaf usage for RDO,MERGED,2020-03-13 16:02:36.000000000,2020-03-14 10:07:19.000000000,2020-03-14 10:07:19.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:02:36.000000000', 'files': ['openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/tooz/tooz.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e6f6640c90a62d54d1e208209f0aae5a822f516f', 'message': 'Remove pifpaf usage for RDO\n\nPifpaf is only used for functional testing, so it does not really\nmake sense to run unit tests during packaging. This commit:\n\n- Removes functional tests from oslo.messaging\n- Leaves pifpaf as a SUSE-only requirement for tooz. Checks are not\n  run for RDO anyway.\n- Removes pifpaf as a build requirement for castellan. It is only\n  used for functional tests, which are not executed in %check.\n\nChange-Id: I27990e1101084b8b1880564293f4cc159ea2eba2\n(cherry picked from commit 1006618bb21aba630683cf7a8aa550b53e8c611e)\n'}]",0,712999,e6f6640c90a62d54d1e208209f0aae5a822f516f,7,3,1,13294,,,0,"Remove pifpaf usage for RDO

Pifpaf is only used for functional testing, so it does not really
make sense to run unit tests during packaging. This commit:

- Removes functional tests from oslo.messaging
- Leaves pifpaf as a SUSE-only requirement for tooz. Checks are not
  run for RDO anyway.
- Removes pifpaf as a build requirement for castellan. It is only
  used for functional tests, which are not executed in %check.

Change-Id: I27990e1101084b8b1880564293f4cc159ea2eba2
(cherry picked from commit 1006618bb21aba630683cf7a8aa550b53e8c611e)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/712999/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/tooz/tooz.spec.j2']",3,e6f6640c90a62d54d1e208209f0aae5a822f516f,remove-python2-stable/train,%if ! 0%{?rdo} BuildRequires: {{ py3('pifpaf') }} %endif,BuildRequires: {{ py3('pifpaf') }},5,3
openstack%2Frpm-packaging~stable%2Ftrain~I00e1c145a62c47d9ba4c662d3fed053d079eb77e,openstack/rpm-packaging,stable/train,I00e1c145a62c47d9ba4c662d3fed053d079eb77e,taskflow: remove pydotplus build requirement,MERGED,2020-03-13 16:02:20.000000000,2020-03-14 10:07:18.000000000,2020-03-14 10:07:18.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:02:20.000000000', 'files': ['openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/79ea3608a9bca4eeb7230a63c8c47498afe9f0ec', 'message': 'taskflow: remove pydotplus build requirement\n\nEven if it is listed in test-requirements.txt, it is now used in\nthe unit tests at all, so we can remove it.\n\nChange-Id: I00e1c145a62c47d9ba4c662d3fed053d079eb77e\n(cherry picked from commit c358cce4101f7b725f0f09a689d968ea4db53dc7)\n'}]",0,712998,79ea3608a9bca4eeb7230a63c8c47498afe9f0ec,7,3,1,13294,,,0,"taskflow: remove pydotplus build requirement

Even if it is listed in test-requirements.txt, it is now used in
the unit tests at all, so we can remove it.

Change-Id: I00e1c145a62c47d9ba4c662d3fed053d079eb77e
(cherry picked from commit c358cce4101f7b725f0f09a689d968ea4db53dc7)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/98/712998/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/taskflow/taskflow.spec.j2'],1,79ea3608a9bca4eeb7230a63c8c47498afe9f0ec,remove-python2-stable/train,,BuildRequires: {{ py3('pydotplus') }},0,1
openstack%2Frpm-packaging~stable%2Ftrain~Ie28a92823b0a5340789e19860e5d01938807c9fa,openstack/rpm-packaging,stable/train,Ie28a92823b0a5340789e19860e5d01938807c9fa,debtcollector: convert to python3,MERGED,2020-03-13 15:53:45.000000000,2020-03-14 10:05:20.000000000,2020-03-14 10:05:20.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:53:45.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/955aaf9818a68b694ddfcdedd4c055b56b0838aa', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\n(cherry picked from commit 6c609c0fa5054ae0e12311825412e8515101b176)\n'}]",0,712994,955aaf9818a68b694ddfcdedd4c055b56b0838aa,7,3,1,13294,,,0,"debtcollector: convert to python3

Change-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa
(cherry picked from commit 6c609c0fa5054ae0e12311825412e8515101b176)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/712994/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/debtcollector/debtcollector.spec.j2'],1,955aaf9818a68b694ddfcdedd4c055b56b0838aa,remove-python2-stable/train,BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('wrapt') }}%package -n {{ py2name(py_versions='py3') }} Summary: A collection of Python deprecation patterns and strategies Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} Requires: {{ py3('wrapt') }} %description -n {{ py2name(py_versions='py3') }} A collection of Python deprecation patterns and strategies that help you collect your technical debt in a non-destructive manner. The goal of this library is to provide well documented developer facing deprecation patterns that start of with a basic set and can expand into a larger set of patterns as time goes on. The desired output of these patterns is to apply the warnings module to emit DeprecationWarning or PendingDeprecationWarning or similar derivative to developers using libraries (or potentially applications) about future deprecations. This package contains the Python 3.x module. %py3_buildpython3 -m stestr.cli run%py3_install %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*.egg-info,"BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('funcsigs', py_versions=['py2']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('wrapt', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('wrapt') }}%ifpython2 Requires: {{ py2pkg('funcsigs') }} %endif %python_subpackages%python_build%python_exec -m stestr.cli run%python_install %files %{python_files}%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*.egg-info",31,20
openstack%2Frpm-packaging~stable%2Ftrain~I6e4f1dd3f121300c55396996d613da41623ac952,openstack/rpm-packaging,stable/train,I6e4f1dd3f121300c55396996d613da41623ac952,keystoneauth1: fix -doc requirements to be py3,MERGED,2020-03-13 16:04:52.000000000,2020-03-14 10:04:04.000000000,2020-03-14 10:04:04.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:04:52.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fed1a18994c508fe29c2142ded50f55b9be5549c', 'message': 'keystoneauth1: fix -doc requirements to be py3\n\nChange-Id: I6e4f1dd3f121300c55396996d613da41623ac952\n'}]",0,713000,fed1a18994c508fe29c2142ded50f55b9be5549c,7,3,1,13294,,,0,"keystoneauth1: fix -doc requirements to be py3

Change-Id: I6e4f1dd3f121300c55396996d613da41623ac952
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/713000/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,fed1a18994c508fe29c2142ded50f55b9be5549c,remove-python2-stable/train,BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }},"BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme', py_versions=['py2', 'py3']) }}",2,2
openstack%2Frpm-packaging~stable%2Ftrain~I125365193b5c008c87f7af9caf999394f3ba77cf,openstack/rpm-packaging,stable/train,I125365193b5c008c87f7af9caf999394f3ba77cf,oslo.log: convert to python3,MERGED,2020-03-13 15:51:35.000000000,2020-03-14 10:03:48.000000000,2020-03-14 10:03:48.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:51:35.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2c1ffcc5ec7a3a63c26eb438b1a663b796dc4e9d', 'message': 'oslo.log: convert to python3\n\nChange-Id: I125365193b5c008c87f7af9caf999394f3ba77cf\n(cherry picked from commit 14258ca95cb28d5ac6b3681a56bd1f465b42c28b)\n'}]",0,712990,2c1ffcc5ec7a3a63c26eb438b1a663b796dc4e9d,7,3,1,13294,,,0,"oslo.log: convert to python3

Change-Id: I125365193b5c008c87f7af9caf999394f3ba77cf
(cherry picked from commit 14258ca95cb28d5ac6b3681a56bd1f465b42c28b)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/712990/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,2c1ffcc5ec7a3a63c26eb438b1a663b796dc4e9d,remove-python2-stable/train,"BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('monotonic') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pyinotify') }} BuildRequires: {{ py3('python-dateutil') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack log library Requires: {{ py3('debtcollector') }} Requires: {{ py3('monotonic') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pyinotify') }} Requires: {{ py3('python-dateutil') }} Requires: {{ py3('six') }} Requires: {{ py3('systemd') }} %description -n {{ py2name(py_versions='py3') }} OpenStack logging configuration library provides standardized configuration for all openstack projects.It also provides custom formatters, handlers and support for context specific logging (like resource id's etc). This package contains the Python 3.x module. %package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_log %{python3_sitelib}/*.egg-info %{_bindir}/convert-json %files -n {{ py2name() }}-doc","BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('monotonic', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pyinotify', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-dateutil', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('monotonic') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pyinotify') }} Requires: {{ py2pkg('python-dateutil') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('systemd') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%package -n python-oslo.log-doc%description -n python-oslo.log-doc%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/convert-json %post %python_install_alternative convert-json %postun %python_uninstall_alternative convert-json%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_log %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/convert-json %files -n python-oslo.log-doc",45,51
openstack%2Frpm-packaging~stable%2Ftrain~I4522d35d6f605445ff4efeb62616b728a1a0a0fb,openstack/rpm-packaging,stable/train,I4522d35d6f605445ff4efeb62616b728a1a0a0fb,oslo.context: convert to python3,MERGED,2020-03-13 15:51:51.000000000,2020-03-14 10:03:40.000000000,2020-03-14 10:03:40.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:51:51.000000000', 'files': ['openstack/oslo.context/oslo.context.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6031c64c08cac7879bdaab54780aa3f4d00985eb', 'message': 'oslo.context: convert to python3\n\nChange-Id: I4522d35d6f605445ff4efeb62616b728a1a0a0fb\n(cherry picked from commit 67baf7e075d0065ebb8329314f8f5642e8153813)\n'}]",0,712992,6031c64c08cac7879bdaab54780aa3f4d00985eb,7,3,1,13294,,,0,"oslo.context: convert to python3

Change-Id: I4522d35d6f605445ff4efeb62616b728a1a0a0fb
(cherry picked from commit 67baf7e075d0065ebb8329314f8f5642e8153813)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/92/712992/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.context/oslo.context.spec.j2'],1,6031c64c08cac7879bdaab54780aa3f4d00985eb,remove-python2-stable/train,BuildRequires: {{ py3('pbr') }}BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('stestr') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Oslo context library Requires: {{ py3('debtcollector') }} %description -n {{ py2name(py_versions='py3') }} The Oslo context library has helpers to maintain useful information about a request context. The request context is usually populated in the WSGI pipeline and used by various modules such as logging. This package contains the Python 3.x module. %package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%{py3_build}%{py3_install}python3 -m stestr.cli run%files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_context %{python3_sitelib}/*.egg-info %files -n {{ py2name() }}-doc,"BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }}BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }}%python_subpackages%package -n python-oslo.context-doc%description -n python-oslo.context-doc%{python_build}%{python_install}%python_exec -m stestr.cli run%files %{python_files}%{python_sitelib}/oslo_context %{python_sitelib}/*.egg-info %files -n python-oslo.context-doc",26,16
openstack%2Frpm-packaging~stable%2Ftrain~I6b7d04b5d06f35f479aee2c81402c2c2c0485e56,openstack/rpm-packaging,stable/train,I6b7d04b5d06f35f479aee2c81402c2c2c0485e56,osprofiler: convert to python3,MERGED,2020-03-13 15:53:54.000000000,2020-03-14 10:03:39.000000000,2020-03-14 10:03:39.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:53:54.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/57979a2d816bb32b1c2c99208b8cda8b714fb16e', 'message': 'osprofiler: convert to python3\n\nChange-Id: I6b7d04b5d06f35f479aee2c81402c2c2c0485e56\n(cherry picked from commit 022aea330c3314c6785241706a9ad5a98a36699e)\n'}]",0,712995,57979a2d816bb32b1c2c99208b8cda8b714fb16e,7,3,1,13294,,,0,"osprofiler: convert to python3

Change-Id: I6b7d04b5d06f35f479aee2c81402c2c2c0485e56
(cherry picked from commit 022aea330c3314c6785241706a9ad5a98a36699e)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/712995/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osprofiler/osprofiler.spec.j2'],1,57979a2d816bb32b1c2c99208b8cda8b714fb16e,remove-python2-stable/train,"BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('ddt') }} BuildRequires: {{ py3('docutils') }} BuildRequires: {{ py3('elasticsearch') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('pymongo') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('redis') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Profiler Library Requires: {{ py3('PrettyTable') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} OSProfiler provides a tiny but powerful library that is used by most (soon to be all) OpenStack projects and their python clients. It provides functionality to be able to generate 1 trace per request, that goes through all involved services. This trace can then be extracted and used to build a tree of calls which can be quite handy for a variety of reasons (for example in isolating cross-project performance issues). This package contains the Python 3.x module %{py3_build}%{py3_install}python3 -m stestr.cli run --black-regex '(^osprofiler.tests.unit.drivers.test_jaeger.JaegerTestCase.*$)' %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/osprofiler %{python3_sitelib}/*.egg-info %{_bindir}/osprofiler","BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('ddt', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('docutils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('elasticsearch', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.concurrency', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pymongo', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('redis', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/osprofiler%post %python_install_alternative osprofiler %postun %python_uninstall_alternative osprofiler %python_exec -m stestr.cli run --black-regex '(^osprofiler.tests.unit.drivers.test_jaeger.JaegerTestCase.*$)' %files %{python_files}%{python_sitelib}/osprofiler %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/osprofiler",43,46
openstack%2Frequirements~master~Ie624d3b05ef940ae47180462988ab548bb9810ac,openstack/requirements,master,Ie624d3b05ef940ae47180462988ab548bb9810ac,Updated from generate-constraints,MERGED,2020-03-14 06:14:48.000000000,2020-03-14 09:31:00.000000000,2020-03-14 09:29:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-14 06:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/63338165b96bb454c94616dc256cc1ec3a345f13', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie624d3b05ef940ae47180462988ab548bb9810ac\n'}, {'number': 2, 'created': '2020-03-14 06:21:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/76a83f23a6ff7e7f50be791815966d4512623c7b', 'message': 'Updated from generate-constraints\n\nhold back mock for nova/neutron failures\nhold back docutils because boto likes to cap things\nhold back msgpack because salt likes to cap things\nhold back alembic because nova fails tests\n\nChange-Id: Ie624d3b05ef940ae47180462988ab548bb9810ac\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,713085,76a83f23a6ff7e7f50be791815966d4512623c7b,9,2,2,11131,,,0,"Updated from generate-constraints

hold back mock for nova/neutron failures
hold back docutils because boto likes to cap things
hold back msgpack because salt likes to cap things
hold back alembic because nova fails tests

Change-Id: Ie624d3b05ef940ae47180462988ab548bb9810ac
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/713085/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,63338165b96bb454c94616dc256cc1ec3a345f13,openstack/requirements/constraints/noclob,pytest===5.4.1;python_version=='3.6' pytest===5.4.1;python_version=='3.7'google-api-core===1.16.0googleapis-common-protos===1.51.0pyroute2===0.5.10 google-auth===1.11.3 kazoo===2.7.0mock===3.0.5;python_version=='2.7' mock===4.0.2;python_version=='3.6' mock===4.0.2;python_version=='3.7'pytest-html===1.22.1;python_version=='2.7' pytest-html===2.1.0;python_version=='3.6' pytest-html===2.1.0;python_version=='3.7'google-api-python-client===1.8.0docutils===0.16boto3===1.12.21Faker===4.0.2;python_version=='3.6' Faker===4.0.2;python_version=='3.7'msgpack===1.0.0kubernetes===11.0.0pytest-metadata===1.8.0botocore===1.15.21pytest-django===3.8.0diskimage-builder===2.34.1alembic===1.4.1,pytest===5.3.5;python_version=='3.6' pytest===5.3.5;python_version=='3.7'pyroute2===0.5.9 google-auth===1.11.2 kazoo===2.6.1mock===3.0.5google-api-python-client===1.7.12docutils===0.15.2boto3===1.12.19Faker===4.0.1;python_version=='3.6' Faker===4.0.1;python_version=='3.7'msgpack===0.6.2kubernetes===10.0.1botocore===1.15.19diskimage-builder===2.34.0alembic===1.3.3pytest===5.3.5 pytest-django===3.8.0 pytest-html===2.0.1,25,19
openstack%2Fos-net-config~master~I7590895d9812f61fcf57c956a26f27d0d567613e,openstack/os-net-config,master,I7590895d9812f61fcf57c956a26f27d0d567613e,Use unittest.mock instead of third part mock,MERGED,2020-03-13 16:52:35.000000000,2020-03-14 07:58:13.000000000,2020-03-14 07:56:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:52:35.000000000', 'files': ['test-requirements.txt', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3b3bd43def401e03a53f41bec4c6c33690bf0605', 'message': 'Use unittest.mock instead of third part mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I7590895d9812f61fcf57c956a26f27d0d567613e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713028,3b3bd43def401e03a53f41bec4c6c33690bf0605,9,4,1,11904,,,0,"Use unittest.mock instead of third part mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I7590895d9812f61fcf57c956a26f27d0d567613e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/28/713028/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'os_net_config/tests/test_utils.py']",2,3b3bd43def401e03a53f41bec4c6c33690bf0605,unittest.mock,from unittest import mock,import mock,1,2
openstack%2Ftripleo-upgrade~stable%2Fstein~Ic69a78435491d2dbcff80dc0a15098a3c2ebf213,openstack/tripleo-upgrade,stable/stein,Ic69a78435491d2dbcff80dc0a15098a3c2ebf213,Replace Docker service by Podman in roles_data.,MERGED,2020-03-13 15:01:09.000000000,2020-03-14 07:56:56.000000000,2020-03-14 07:56:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 15:01:09.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4ff2d210c75cc7da8d7ba74f5c328fef0167689d', 'message': 'Replace Docker service by Podman in roles_data.\n\nIn Stein Podman passed to be the default containers engine [0].\nTherefore, if upgrading from a release which used Docker and\ncomposables roles, we need to replace the Docker service by the\nPodman one.\n\nThis patch does this replacement in the roles_data file used\nfor the upgrade prepare.\n\n[0] - Ie9f5d3b6380caa6824ca940ca48ed0fcf6308608\n\nChange-Id: Ic69a78435491d2dbcff80dc0a15098a3c2ebf213\n(cherry picked from commit b71fcfc55628c486dc99522eb43d9291b06b0d77)\n(cherry picked from commit baaea87b3564f1197c0236253e9f9b524b458a73)\n'}]",0,712965,4ff2d210c75cc7da8d7ba74f5c328fef0167689d,7,5,1,26343,,,0,"Replace Docker service by Podman in roles_data.

In Stein Podman passed to be the default containers engine [0].
Therefore, if upgrading from a release which used Docker and
composables roles, we need to replace the Docker service by the
Podman one.

This patch does this replacement in the roles_data file used
for the upgrade prepare.

[0] - Ie9f5d3b6380caa6824ca940ca48ed0fcf6308608

Change-Id: Ic69a78435491d2dbcff80dc0a15098a3c2ebf213
(cherry picked from commit b71fcfc55628c486dc99522eb43d9291b06b0d77)
(cherry picked from commit baaea87b3564f1197c0236253e9f9b524b458a73)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/712965/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,4ff2d210c75cc7da8d7ba74f5c328fef0167689d,,"- name: Replace Docker for Podman service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::Docker$)' replace: '\1- OS::TripleO::Services::Podman' ",,6,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I78cb6ae21366a429b65a8357b3b267a485484a42,openstack/puppet-tripleo,stable/queens,I78cb6ae21366a429b65a8357b3b267a485484a42,Make sure we create stonith resources before stonith levels,MERGED,2020-03-13 17:22:04.000000000,2020-03-14 07:27:38.000000000,2020-03-14 07:27:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 17:22:04.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a899ae36b42798ac09773835b869abf7536c459', 'message': 'Make sure we create stonith resources before stonith levels\n\nCurrently stonith levels kind of work out of pure luck. If puppet\ndecides to reorder resources stonith levels can fail with:\n\n            ""Error: /Stage[main]/Tripleo::Fencing/Pacemaker::Stonith::Level[stonith-1-525400e05b23]/Pcmk_stonith_level[stonith-level-1-$(/usr/sbin/crm_node -n)-stonith-fence_ipmilan-525400e05b23]/ensure: change from absent to present failed: pcs -f /var/lib/pacemaker/cib/puppet-cib-backup20200305-60559-tn9ici create failed: Error: Stonith resource(s) \'stonith-fence_ipmilan-525400e05b23\' do not exist, use --force to override""\n\nNowhere in the code do we mandate that the single stonith resources need\nto be created *before* the stonith levels which make use of them.\nLet\'s add a constraint via collectors so we enforce this ordering.\n\nTested on the environment that was not working and got a correctly\ndeployed IHA overcloud.\n\nChange-Id: I78cb6ae21366a429b65a8357b3b267a485484a42\nCloses-Bug: #1866214\n(cherry picked from commit b706f5365a84712eea8a133a9b8029878dcec2d2)\n(cherry picked from commit dd44d1552bb262adc7074d3567e034f83ec226dd)\n(cherry picked from commit cbf11f05d461c9519a266f4cda91f01ad585d5c7)\n(cherry picked from commit 5de64973b083904ad48198d957df403f76928f1f)\n'}]",0,713037,8a899ae36b42798ac09773835b869abf7536c459,7,3,1,20172,,,0,"Make sure we create stonith resources before stonith levels

Currently stonith levels kind of work out of pure luck. If puppet
decides to reorder resources stonith levels can fail with:

            ""Error: /Stage[main]/Tripleo::Fencing/Pacemaker::Stonith::Level[stonith-1-525400e05b23]/Pcmk_stonith_level[stonith-level-1-$(/usr/sbin/crm_node -n)-stonith-fence_ipmilan-525400e05b23]/ensure: change from absent to present failed: pcs -f /var/lib/pacemaker/cib/puppet-cib-backup20200305-60559-tn9ici create failed: Error: Stonith resource(s) 'stonith-fence_ipmilan-525400e05b23' do not exist, use --force to override""

Nowhere in the code do we mandate that the single stonith resources need
to be created *before* the stonith levels which make use of them.
Let's add a constraint via collectors so we enforce this ordering.

Tested on the environment that was not working and got a correctly
deployed IHA overcloud.

Change-Id: I78cb6ae21366a429b65a8357b3b267a485484a42
Closes-Bug: #1866214
(cherry picked from commit b706f5365a84712eea8a133a9b8029878dcec2d2)
(cherry picked from commit dd44d1552bb262adc7074d3567e034f83ec226dd)
(cherry picked from commit cbf11f05d461c9519a266f4cda91f01ad585d5c7)
(cherry picked from commit 5de64973b083904ad48198d957df403f76928f1f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/713037/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,8a899ae36b42798ac09773835b869abf7536c459,fix-stonith-level-stable/train-stable/stein-stable/rocky-stable/queens, Pcmk_stonith<||> -> Pcmk_stonith_level<||>,,1,0
openstack%2Fsushy-cli~master~I52b4105639050ef3300ca15e296c6cd1c6e7ae23,openstack/sushy-cli,master,I52b4105639050ef3300ca15e296c6cd1c6e7ae23,Remove unecessary .zuul.yaml,MERGED,2020-03-13 13:31:08.000000000,2020-03-14 07:00:47.000000000,2020-03-14 06:58:04.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-13 13:31:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/87b3a1f89bc11fb1a5f80f44af37dc6d45936b09', 'message': 'Remove unecessary .zuul.yaml\n\nThe CI jobs are defined in zuul.d/project.yaml\n\nChange-Id: I52b4105639050ef3300ca15e296c6cd1c6e7ae23\n'}]",0,712945,87b3a1f89bc11fb1a5f80f44af37dc6d45936b09,8,3,1,15519,,,0,"Remove unecessary .zuul.yaml

The CI jobs are defined in zuul.d/project.yaml

Change-Id: I52b4105639050ef3300ca15e296c6cd1c6e7ae23
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/45/712945/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87b3a1f89bc11fb1a5f80f44af37dc6d45936b09,remove_unecessary_zuul,,- project: templates: - noop-jobs ,0,3
openstack%2Ftripleo-heat-templates~master~Ida03a0aa54ca15b343339d92abb9c105ead8b0b6,openstack/tripleo-heat-templates,master,Ida03a0aa54ca15b343339d92abb9c105ead8b0b6,Add parameters for VNC console proxy SSL/TLS settings,MERGED,2019-09-06 18:14:52.000000000,2020-03-14 06:33:58.000000000,2020-03-14 06:31:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7973}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-06 18:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b91fee2797ac3c19b11c020d8287115e7f932677', 'message': 'WIP - Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nDepends-On: 680562\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}, {'number': 2, 'created': '2020-02-12 21:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbed9776ac42c85fcf802946e0b9a701f8ca7221', 'message': 'Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nDepends-On: I3a1262f70f6a801db276701a39ebb01f40025192\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}, {'number': 3, 'created': '2020-02-21 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b47024209a771addfb510e6d336e451bfa546f1', 'message': 'Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nDepends-On: I3a1262f70f6a801db276701a39ebb01f40025192\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}, {'number': 4, 'created': '2020-03-04 19:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3de2abc83c4168adb13be717259f69fa5a64bd10', 'message': 'Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nDepends-On: I3a1262f70f6a801db276701a39ebb01f40025192\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}, {'number': 5, 'created': '2020-03-09 20:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a69d40b2df75a9898125a6498e77ca2ee403b47', 'message': 'Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nDepends-On: I3a1262f70f6a801db276701a39ebb01f40025192\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}, {'number': 6, 'created': '2020-03-11 21:39:12.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'releasenotes/notes/add-console-ssl-cipher-protocol-params-d1f50f2c540c3f2b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b4783e73038b8483c02a3d22c8664fac00332b0', 'message': 'Add parameters for VNC console proxy SSL/TLS settings\n\nThis adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion\nparameters to manage the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the VNC proxy\nservice.\n\nChange-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6\nRelated-Bug: 1842149\n'}]",0,680752,4b4783e73038b8483c02a3d22c8664fac00332b0,28,7,6,9098,,,0,"Add parameters for VNC console proxy SSL/TLS settings

This adds new NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion
parameters to manage the allowed TLS ciphers and minimum protocol
version to enforce for incoming client connections to the VNC proxy
service.

Change-Id: Ida03a0aa54ca15b343339d92abb9c105ead8b0b6
Related-Bug: 1842149
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/680752/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'releasenotes/notes/add-console-ssl-cipher-protocol-params-d1f50f2c540c3f2b.yaml']",2,b91fee2797ac3c19b11c020d8287115e7f932677,bug/1842149,--- features: - | Added parameters NovaVNCProxySSLCiphers and NovaVNCProxySSLMinimumVersion to manage the allowed TLS ciphers and minimum protocol version to enforce for incoming client connections to the VNC proxy service. ,,23,0
openstack%2Fansible-role-collect-logs~master~Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80,openstack/ansible-role-collect-logs,master,Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80,Make collection commands configurable,MERGED,2020-02-04 10:21:04.000000000,2020-03-14 06:31:31.000000000,2020-03-14 06:31:31.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-04 10:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f919c5eca8f8117ee4ee81f70f292a3d5e350a7a', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 2, 'created': '2020-02-05 08:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/28e2eb010c71019aa8c0753e00cda87e3c2be8d6', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 3, 'created': '2020-02-05 15:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d34618916d5a0015980f6f26ef9e2b58693fbc7f', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 4, 'created': '2020-02-05 15:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b13c66b94db79978e64acf2d7905d0347be6b36f', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 5, 'created': '2020-02-05 15:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a284188a726e54ad94902633769ebc34aeb3c29f', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 6, 'created': '2020-02-06 12:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a2d9576561176be5bf06cbf9179487d73ceef5a8', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 7, 'created': '2020-02-06 13:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/80a24a21e479848b18d793c8af2744e2ecb75719', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 8, 'created': '2020-02-06 13:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/24d420187e73c3a34f09fb7ba6c1a84d02d49383', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 9, 'created': '2020-02-06 14:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9f8b74203b05197905deb791fd72eb1f5f7ea71d', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 10, 'created': '2020-02-06 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/875485bd8817c0364e35a67e0e108f6a75bbdf6b', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 11, 'created': '2020-02-07 18:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/93fb29c8f27dd8648c43b0ba80ca8199edbc3071', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 12, 'created': '2020-02-08 08:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a415e86fa91120ec6189bf030fc2910954bc074c', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\n'}, {'number': 13, 'created': '2020-02-11 09:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2aa6fc96ef5e2bb0e7288583fe9f447f6d7d1170', 'message': 'Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}, {'number': 14, 'created': '2020-02-17 11:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/7f487cd2cc3f936378bc0fea1496dcc2b8fa9dbd', 'message': 'WIP: Makes collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}, {'number': 15, 'created': '2020-02-19 12:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/05466cb17587e20577e618151196e8a6e49db371', 'message': 'POC: Proposal to make collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}, {'number': 16, 'created': '2020-03-09 14:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/9183863a866cd60b67c47795b9abf933f3ee7c14', 'message': 'POC: Proposal to make collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}, {'number': 17, 'created': '2020-03-10 10:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6a162800b45ffe25f7a405f1e51ace593c461ebc', 'message': 'Make collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}, {'number': 18, 'created': '2020-03-12 17:20:37.000000000', 'files': ['filter_plugins/flatten_nested_dict.py', 'molecule/default/converge.yml', 'tasks/collect.yml', 'README.rst', 'setup.cfg', 'defaults/main.yml', 'tasks/collect/system.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6fa88b23f362dac92a11e334ad137b6f285c631e', 'message': 'Make collection commands configurable\n\nAllows further extension of the collection commands\n* use a dictionary to define them, and their names\n* making the output logging implicit (DRY)\n\nNo behavior change is expected from this change, same output files and\ncontent is expected.\n\nChange-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1528\n'}]",46,705623,6fa88b23f362dac92a11e334ad137b6f285c631e,93,15,18,24162,,,0,"Make collection commands configurable

Allows further extension of the collection commands
* use a dictionary to define them, and their names
* making the output logging implicit (DRY)

No behavior change is expected from this change, same output files and
content is expected.

Change-Id: Ib243b0d3345faa57d9bf2e034b14e332b0e8cb80
Task: https://tree.taiga.io/project/tripleo-ci-board/task/1528
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/23/705623/13 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'defaults/main.yml', 'tasks/collect/system.yml']",3,f919c5eca8f8117ee4ee81f70f292a3d5e350a7a,feature/configurable-commands," - name: Run system artcl_commands # noqa 305 shell: cmd: | {{ item.value.cmd }} &> /var/log/extra/{{ item.key }}.txt warn: false with_items: ""{{ artcl_commands.system | dict2items }}"" # Commands that are not safe to run recursively, or need to run at the end"," - name: rpm -qa shell: rpm -qa | sort -f >/var/log/extra/rpm-list.txt - name: package list installed shell: ""{{ ansible_pkg_mgr }} list installed >/var/log/extra/package-list-installed.txt"" - name: list enabled repositories shell: ""{{ ansible_pkg_mgr }} repolist -v >/var/log/extra/repolist.txt"" - name: get current selinux status shell: ""/usr/sbin/getenforce >/var/log/extra/selinux.txt"" - name: Collecting /proc/cpuinfo|meminfo|swaps shell: ""cat /proc/{{ item }} &> /var/log/extra/{{ item }}.txt"" with_items: - cpuinfo - meminfo - swaps - name: Collect installed cron jobs shell: | for user in $(cut -f1 -d':' /etc/passwd); do \ echo $user; crontab -u $user -l | grep -v '^$\|^\s*\#\|^\s*PATH'; done \ &> /var/log/extra/installed_crons.txt # used by OSP Release Engineering to import into internal builds - name: package import delorean shell: | repoquery --disablerepo='*' --enablerepo='delorean'\ -a --qf '%{sourcerpm}'|sort -u|sed 's/.src.rpm//g' >> /var/log/extra/import-delorean.txt # used by OSP Release Engineering to import into internal builds - name: package import delorean-testing shell: | repoquery --disablerepo='*' --enablerepo='delorean-*-deps'\ -a --qf '%{sourcerpm}'|sort -u|sed 's/.src.rpm//g' >> /var/log/extra/import-delorean-deps.txt - name: Collect logs from all failed systemd services shell: > systemctl -t service --failed --no-legend | awk '{print $1}' | xargs -r -n1 journalctl -u > /var/log/extra/failed_services.txt 2>&1 - name: lsof -P -n shell: ""lsof -P -n &> /var/log/extra/lsof.txt"" - name: pstree -p shell: ""pstree -p &> /var/log/extra/pstree.txt"" - name: sysctl -a shell: ""sysctl -a &> /var/log/extra/sysctl.txt"" - name: Get haproxy stats shell: > pgrep haproxy && \ test -S /var/lib/haproxy/stats && \ echo 'show info;show stat;show table' | socat /var/lib/haproxy/stats stdio &> /var/log/extra/haproxy-stats.txt || \ echo ""No HAProxy or no socket on host"" > /var/log/extra/haproxy-stats.txt - name: lsmod shell: ""lsmod &> /var/log/extra/lsmod.txt"" - name: lspci shell: ""lspci &> /var/log/extra/lspci.txt"" - name: pip list shell: ""pip list &> /var/log/extra/pip.txt"" - name: lvm debug shell: ""(vgs; pvs; lvs) &> /var/log/extra/lvm.txt"" - name: Collect services status shell: | systemctl list-units --full --all &> /var/log/extra/services.txt systemctl status ""*"" &>> /var/log/extra/services.txt - name: Search for AVC denied shell: > grep -i denied /var/log/audit/audit* && grep -i denied /var/log/audit/audit* > /var/log/extra/denials.txt - name: Search for segfaults in logs shell: > grep -v ansible-command /var/log/messages | grep segfault && grep -v ansible-command /var/log/messages | grep segfault > /var/log/extra/segfaults.txt - name: Search for oom-killer instances in logs shell: > grep -v ansible-command /var/log/messages | grep oom-killer && grep -v ansible-command /var/log/messages | grep oom-killer > /var/log/extra/oom-killers.txt - name: Collect delorean logs shell: > if [[ -e /home/{{ undercloud_user }}/DLRN/data/repos ]]; then rm -rf /tmp/delorean_logs && mkdir /tmp/delorean_logs; find /home/{{ undercloud_user }}/DLRN/data/repos/ -name '*.log' -exec cp --parents \{\} /tmp/delorean_logs/ \; ; find /tmp/delorean_logs -name '*.log' -exec gzip \{\} \; ; find /tmp/delorean_logs -name '*.log.gz' -exec sh -c 'x=""{}""; mv ""$x"" ""${x%.log.gz}.log.txt.gz""' \; ; rm -rf {{ artcl_collect_dir }}/delorean_logs && mkdir {{ artcl_collect_dir }}/delorean_logs; mv /tmp/delorean_logs/home/{{ undercloud_user }}/DLRN/data/repos/* {{ artcl_collect_dir }}/delorean_logs/; fi - name: Collect text version of the journal from last four hours shell: journalctl --since=-4h --lines=100000 > /var/log/journal.txt ",143,104
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I07057eb089585f43346c44a03ae50aa2ac837fd7,openstack/tripleo-heat-templates,stable/train,I07057eb089585f43346c44a03ae50aa2ac837fd7,"Replace chronyc ""waitsync"" with ""makestep""",MERGED,2020-03-13 15:39:43.000000000,2020-03-14 06:31:24.000000000,2020-03-14 06:31:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 15:39:43.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31c6b199b81adfead55e06f6bbba605319ebba9e', 'message': 'Replace chronyc ""waitsync"" with ""makestep""\n\nPrior to this patch we had the ""chrony waitsync"" command with a\nhardcoded timeout of ""20"". Sometimes that wasn\'t enough when deploying\non some slower machines in my experience [0].\n\nThis patch is changing the ""waitsync"" command to ""makestep"", that way\nwe tell chronyd to make the system clock correct immediately (instead\nof gradually correcting the time). It should be fine for our usecase\nbecause these are ran during the deployment.\n\n[0] http://paste.openstack.org/show/783888/\n\nCloses-bug: #1867362\nChange-Id: I07057eb089585f43346c44a03ae50aa2ac837fd7\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 373a27163e0365919f707604df5b61863029d2e4)\n'}]",0,712981,31c6b199b81adfead55e06f6bbba605319ebba9e,10,7,1,27419,,,0,"Replace chronyc ""waitsync"" with ""makestep""

Prior to this patch we had the ""chrony waitsync"" command with a
hardcoded timeout of ""20"". Sometimes that wasn't enough when deploying
on some slower machines in my experience [0].

This patch is changing the ""waitsync"" command to ""makestep"", that way
we tell chronyd to make the system clock correct immediately (instead
of gradually correcting the time). It should be fine for our usecase
because these are ran during the deployment.

[0] http://paste.openstack.org/show/783888/

Closes-bug: #1867362
Change-Id: I07057eb089585f43346c44a03ae50aa2ac837fd7
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 373a27163e0365919f707604df5b61863029d2e4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/712981/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml']",2,31c6b199b81adfead55e06f6bbba605319ebba9e,, chronyc makestep, chronyc waitsync 20,2,2
openstack%2Ftripleo-quickstart~master~I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3,openstack/tripleo-quickstart,master,I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3,Set python executable in tripleo-inventory tasks for centos8 jobs,MERGED,2020-03-13 14:26:30.000000000,2020-03-14 06:16:29.000000000,2020-03-14 06:12:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 14:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/db44ac9a1e2fea682b9f5b8cab6155a97aac0c83', 'message': 'DNM test centos8 fs39\n\nChange-Id: I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3\n'}, {'number': 2, 'created': '2020-03-13 15:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/03f14ebfdc4a258f4a31aaa14bbbb5f09eb96ea3', 'message': 'Set python executable in tripleo-inventory tasks for centos8 jobs\n\nAs seen in the test at [1] the centos8 fs39 job fails because we\nneed to pass the right python executable to the utility scripts\nused by the tripleo-inventory role. Tracked by tripleo-ci squad\nin [2]\n\n[1] https://review.rdoproject.org/r/#/c/25796/3\n[2] https://hackmd.io/HrQd03c9SxOMtFPFrq50tg#OVB-Jobs\nChange-Id: I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3\n'}, {'number': 3, 'created': '2020-03-13 15:15:46.000000000', 'files': ['roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3b286151c4235cc6bef262442a6d25712798b67', 'message': 'Set python executable in tripleo-inventory tasks for centos8 jobs\n\nAs seen in the test at [1] the centos8 fs39 job fails because we\nneed to pass the right python executable to the utility scripts\nused by the tripleo-inventory role. Tracked by tripleo-ci squad\nin [2]\n\n[1] https://review.rdoproject.org/r/#/c/25796/3\n[2] https://hackmd.io/HrQd03c9SxOMtFPFrq50tg#OVB-Jobs\nChange-Id: I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3\n'}]",2,712962,a3b286151c4235cc6bef262442a6d25712798b67,16,7,3,8449,,,0,"Set python executable in tripleo-inventory tasks for centos8 jobs

As seen in the test at [1] the centos8 fs39 job fails because we
need to pass the right python executable to the utility scripts
used by the tripleo-inventory role. Tracked by tripleo-ci squad
in [2]

[1] https://review.rdoproject.org/r/#/c/25796/3
[2] https://hackmd.io/HrQd03c9SxOMtFPFrq50tg#OVB-Jobs
Change-Id: I4c8f233959c34d1d85b5c88f3d2db518d8d20cc3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/62/712962/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/tasks/inventory.yml'],1,db44ac9a1e2fea682b9f5b8cab6155a97aac0c83,, args: executable: python3,,2,0
openstack%2Ftripleo-common~master~I16ecf55f88a1d6676f237173f0b52b0227558354,openstack/tripleo-common,master,I16ecf55f88a1d6676f237173f0b52b0227558354,Pass container name to prune_unused_services,MERGED,2020-03-13 15:10:49.000000000,2020-03-14 06:15:57.000000000,2020-03-14 06:12:38.000000000,"[{'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-13 15:10:49.000000000', 'files': ['tripleo_common/utils/template.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2f7dc8c721487a7b98778d242d8bf8936c77991a', 'message': 'Pass container name to prune_unused_services\n\nChange-Id: I16ecf55f88a1d6676f237173f0b52b0227558354\n'}]",1,712968,2f7dc8c721487a7b98778d242d8bf8936c77991a,15,6,1,8833,,,0,"Pass container name to prune_unused_services

Change-Id: I16ecf55f88a1d6676f237173f0b52b0227558354
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/712968/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/template.py'],1,2f7dc8c721487a7b98778d242d8bf8936c77991a,," swift, role_data, resource_reg, container)"," swift, role_data, resource_reg)",1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ifc29d143a040f6344619aba0fa15ba1937762162,openstack/tripleo-upgrade,stable/train,Ifc29d143a040f6344619aba0fa15ba1937762162,Fix condition update_cell is false.,MERGED,2020-03-13 15:44:00.000000000,2020-03-14 06:12:43.000000000,2020-03-14 06:12:43.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27141}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-13 15:44:00.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d5e917c2bd7b64efc3ae96867ad45aa7dc061437', 'message': ""Fix condition update_cell is false.\n\nThe right syntax for the conditional is 'not update_cell|bool'.\n\nChange-Id: Ifc29d143a040f6344619aba0fa15ba1937762162\n(cherry picked from commit 463d662c4be9d5105ac950fa24e8acc0b62c57c7)\n""}]",0,712983,d5e917c2bd7b64efc3ae96867ad45aa7dc061437,8,8,1,26343,,,0,"Fix condition update_cell is false.

The right syntax for the conditional is 'not update_cell|bool'.

Change-Id: Ifc29d143a040f6344619aba0fa15ba1937762162
(cherry picked from commit 463d662c4be9d5105ac950fa24e8acc0b62c57c7)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/712983/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,d5e917c2bd7b64efc3ae96867ad45aa7dc061437,, when: not update_cell|bool when: not update_cell|bool, when: update_cell is false when: update_cell is false,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I80bd347c4210f9ee7f06febe26a130269ab56b85,openstack/tripleo-heat-templates,stable/queens,I80bd347c4210f9ee7f06febe26a130269ab56b85,Add swiftoperator role on ceph-rgw template,MERGED,2020-03-13 11:06:15.000000000,2020-03-14 06:12:37.000000000,2020-03-14 06:12:37.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 11:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73f2241b9ac045734aa8ab15710e98b7abf58250', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)\n(cherry picked from commit e0fb354e9bc915e9caa94e1c6568c07c8be887ab)\n(cherry picked from commit c9628d5bdf82c641fb40e5d1f6980d3edb416bb4)\n""}, {'number': 2, 'created': '2020-03-13 11:07:20.000000000', 'files': ['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d42191becce94e5d2fe0788fd35de155a65583b', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)\n""}]",0,712910,8d42191becce94e5d2fe0788fd35de155a65583b,9,2,2,25402,,,0,"Add swiftoperator role on ceph-rgw template

When deploying an Overcloud with Swift a role named
swiftoperator is created.
This change make sure we have swiftoperator role
when Ceph Object Gateway is created as well (as it's
replacement for swift).

Change-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85
(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/712910/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",2,73f2241b9ac045734aa8ab15710e98b7abf58250,," rgw_keystone_accepted_admin_roles: ResellerAdmin, swiftoperator", rgw_keystone_accepted_admin_roles: ResellerAdmin,2,2
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib79fbd47169388bfb044a8183725a3d1de5bc480,openstack/puppet-tripleo,stable/queens,Ib79fbd47169388bfb044a8183725a3d1de5bc480,set x-forwarded-port header for proxied requests,MERGED,2020-03-05 12:16:29.000000000,2020-03-14 02:19:57.000000000,2020-03-14 02:19:57.000000000,"[{'_account_id': 8745}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-03-05 12:16:29.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2b22b2b915f51dcec29bc3139d54534a13b68347', 'message': 'set x-forwarded-port header for proxied requests\n\nThis is required for keystone federation to work correctly when\nmod_auth_openidc.\n\nChange-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480\nCloses-bug: 1777884\n(cherry picked from commit bf9a9620c68eb3934a897038ccc36a1a2a10bf66)\n'}]",0,711442,2b22b2b915f51dcec29bc3139d54534a13b68347,33,7,1,30126,,,0,"set x-forwarded-port header for proxied requests

This is required for keystone federation to work correctly when
mod_auth_openidc.

Change-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480
Closes-bug: 1777884
(cherry picked from commit bf9a9620c68eb3934a897038ccc36a1a2a10bf66)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/711442/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,2b22b2b915f51dcec29bc3139d54534a13b68347,feature/keystone/openidc-stable/queens," 'set-header X-Forwarded-Proto http if !{ ssl_fc }', 'set-header X-Forwarded-Port %[dst_port]'],"," 'set-header X-Forwarded-Proto http if !{ ssl_fc }'],",2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia9c50afd3a88b27e6e0dca2ce150f91633681466,openstack/tripleo-heat-templates,stable/queens,Ia9c50afd3a88b27e6e0dca2ce150f91633681466,Unnessary deploying of bootstrap-osd ceph auth entry,MERGED,2020-03-11 12:13:08.000000000,2020-03-14 02:19:56.000000000,2020-03-14 02:19:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 19564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 12:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a657630d33078aec8c6132484572124bb127224', 'message': 'Unnessary deploying of bootstrap-osd ceph auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. heat does not need to pass this key to ceph::key as the\nauth will already be populated on the monitors and the OSD nodes will\nextract a copy from memory. This patch removes client.bootstrap-osd from\nthe ceph::profile::params::client_keys array.\n\nChange-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466\nCloses-bug: 1769722\nDepends-on: I11f134bed59da706a03ce4a70d941145c16f8175\n'}, {'number': 2, 'created': '2020-03-12 06:03:58.000000000', 'files': ['puppet/services/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/440aa8d210163125cf0e72c7a23d4b4ca12cd72d', 'message': 'Unnessary deploying of bootstrap-osd ceph auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. heat does not need to pass this key to ceph::key as the\nauth will already be populated on the monitors and the OSD nodes will\nextract a copy from memory. This patch removes client.bootstrap-osd from\nthe ceph::profile::params::client_keys array.\n\nChange-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466\nCloses-bug: 1769722\nDepends-on: I11f134bed59da706a03ce4a70d941145c16f8175\nDepends-On: https://review.opendev.org/#/c/712501/\n'}]",0,712348,440aa8d210163125cf0e72c7a23d4b4ca12cd72d,13,4,2,6796,,,0,"Unnessary deploying of bootstrap-osd ceph auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. heat does not need to pass this key to ceph::key as the
auth will already be populated on the monitors and the OSD nodes will
extract a copy from memory. This patch removes client.bootstrap-osd from
the ceph::profile::params::client_keys array.

Change-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466
Closes-bug: 1769722
Depends-on: I11f134bed59da706a03ce4a70d941145c16f8175
Depends-On: https://review.opendev.org/#/c/712501/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/712348/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceph-base.yaml'],1,2a657630d33078aec8c6132484572124bb127224,,, client.bootstrap-osd: secret: {get_param: CephAdminKey} keyring_path: '/var/lib/ceph/bootstrap-osd/ceph.keyring' cap_mon: 'allow profile bootstrap-osd',0,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I47506181c38b9363b9c82c536e7c9d7d765f093f,openstack/tripleo-heat-templates,stable/train,I47506181c38b9363b9c82c536e7c9d7d765f093f,Update the number of keystone workers,MERGED,2020-03-06 20:22:34.000000000,2020-03-14 01:33:55.000000000,2020-03-14 01:33:55.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 20:22:34.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d82e6d3edb02dbb70652502eb3aad83596532a17', 'message': ""Update the number of keystone workers\n\nWe recently patched puppet-keystone and puppet-openstacklib to set\nKeystoneWorkers to a reasonable default given the consolidation of two\nkeystone processes into a single keystone process (keystone-main and\nkeystone-admin):\n\n  https://review.opendev.org/#/c/702031/13\n  https://review.opendev.org/#/c/705041/3\n\nThis patch updates THT to ensure we're using the new variable that's\ndedicated to keystone's process count.\n\nThis ensures there isn't a performance regression due to reduced process\ncounts when upgrading to newer OpenStack versions because the keystone\napplications were consolidated in puppet-keystone.\n\nChange-Id: I47506181c38b9363b9c82c536e7c9d7d765f093f\n(cherry picked from commit 8c728bde8457f6571c48f9c51827e6049ab4278f)\n""}]",0,711764,d82e6d3edb02dbb70652502eb3aad83596532a17,11,6,1,5046,,,0,"Update the number of keystone workers

We recently patched puppet-keystone and puppet-openstacklib to set
KeystoneWorkers to a reasonable default given the consolidation of two
keystone processes into a single keystone process (keystone-main and
keystone-admin):

  https://review.opendev.org/#/c/702031/13
  https://review.opendev.org/#/c/705041/3

This patch updates THT to ensure we're using the new variable that's
dedicated to keystone's process count.

This ensures there isn't a performance regression due to reduced process
counts when upgrading to newer OpenStack versions because the keystone
applications were consolidated in puppet-keystone.

Change-Id: I47506181c38b9363b9c82c536e7c9d7d765f093f
(cherry picked from commit 8c728bde8457f6571c48f9c51827e6049ab4278f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/711764/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,d82e6d3edb02dbb70652502eb3aad83596532a17,, default: '%{::os_workers_keystone}', default: '%{::os_workers}',1,1
openstack%2Fproject-config~master~Iff741e8ed4c517ccabae6e6d6ba730f0aa37a272,openstack/project-config,master,Iff741e8ed4c517ccabae6e6d6ba730f0aa37a272,Statically cache devstack images and packages,MERGED,2020-03-13 23:55:34.000000000,2020-03-14 00:25:22.000000000,2020-03-14 00:25:22.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 23:55:34.000000000', 'files': ['nodepool/elements/cache-devstack/extra-data.d/60-rm-early-source-repo', 'nodepool/elements/cache-devstack/source-repository-images', 'nodepool/elements/cache-devstack/extra-data.d/50-early-source-repo', 'nodepool/elements/cache-devstack/extra-data.d/55-cache-devstack-repos'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e1c44d9a4c172f3b9898064b47995d238fb233c', 'message': ""Statically cache devstack images and packages\n\nWe had been running a script to generate a list of things to cache for\ndevstack. Unfortunately, we've discovered that this attempts to perform\nunsafe actions which illustrates that this is unsafe (and creates\nunnecessary relationship between opendev images and openstack/devstack).\n\nAddress this by providing a static list of things to cache.\n\nNote this does not do anything for arm64 images (that will need to be\naddressed in a follow on but they are largely not running devstack there\nyet).\n\nOn a Bionic node this is what we have in /opt/cache/files/:\n\ncirros-0.3.2-i386-disk.vmdk\ncirros-0.3.4-x86_64-disk.img\ncirros-0.3.4-x86_64-disk.vhd.tgz\ncirros-0.3.4-x86_64-uec.tar.gz\ncirros-0.3.5-x86_64-disk.img\ncirros-0.3.5-x86_64-disk.vhd.tgz\ncirros-0.3.5-x86_64-uec.tar.gz\ncirros-0.4.0-x86_64-disk.img\ncirros-0.4.0-x86_64-uec.tar.gz\netcd-v3.1.10-linux-amd64.tar.gz\netcd-v3.2.17-linux-amd64.tar.gz\netcd-v3.3.12-linux-amd64.tar.gz\nget-pip.py\nstackviz-latest.tar.gz\nzanata-cli-4.3.3-dist.tar.gz\n\nI've trimmed out the vmdk, vhd, and tarball based images as we should\nall be using qcow2s. Everything under etcd is provided by preexisting\nstatic lists.\n\nChange-Id: Iff741e8ed4c517ccabae6e6d6ba730f0aa37a272\n""}]",0,713081,9e1c44d9a4c172f3b9898064b47995d238fb233c,8,4,1,4146,,,0,"Statically cache devstack images and packages

We had been running a script to generate a list of things to cache for
devstack. Unfortunately, we've discovered that this attempts to perform
unsafe actions which illustrates that this is unsafe (and creates
unnecessary relationship between opendev images and openstack/devstack).

Address this by providing a static list of things to cache.

Note this does not do anything for arm64 images (that will need to be
addressed in a follow on but they are largely not running devstack there
yet).

On a Bionic node this is what we have in /opt/cache/files/:

cirros-0.3.2-i386-disk.vmdk
cirros-0.3.4-x86_64-disk.img
cirros-0.3.4-x86_64-disk.vhd.tgz
cirros-0.3.4-x86_64-uec.tar.gz
cirros-0.3.5-x86_64-disk.img
cirros-0.3.5-x86_64-disk.vhd.tgz
cirros-0.3.5-x86_64-uec.tar.gz
cirros-0.4.0-x86_64-disk.img
cirros-0.4.0-x86_64-uec.tar.gz
etcd-v3.1.10-linux-amd64.tar.gz
etcd-v3.2.17-linux-amd64.tar.gz
etcd-v3.3.12-linux-amd64.tar.gz
get-pip.py
stackviz-latest.tar.gz
zanata-cli-4.3.3-dist.tar.gz

I've trimmed out the vmdk, vhd, and tarball based images as we should
all be using qcow2s. Everything under etcd is provided by preexisting
static lists.

Change-Id: Iff741e8ed4c517ccabae6e6d6ba730f0aa37a272
",git fetch https://review.opendev.org/openstack/project-config refs/changes/81/713081/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/cache-devstack/extra-data.d/60-rm-early-source-repo', 'nodepool/elements/cache-devstack/source-repository-images', 'nodepool/elements/cache-devstack/extra-data.d/50-early-source-repo', 'nodepool/elements/cache-devstack/extra-data.d/55-cache-devstack-repos']",4,9e1c44d9a4c172f3b9898064b47995d238fb233c,static-devstack-cache,,"#!/usr/bin/env python # Copyright (C) 2011-2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. from __future__ import print_function from __future__ import unicode_literals import os import subprocess TMP_MOUNT_PATH = os.environ['TMP_MOUNT_PATH'] TMP_HOOKS_PATH = os.environ['TMP_HOOKS_PATH'] DEVSTACK = os.path.join(TMP_MOUNT_PATH, 'opt/git/openstack/devstack') CACHEDIR = os.path.join(TMP_MOUNT_PATH, 'tmp') IMAGES = os.path.join(TMP_HOOKS_PATH, 'source-repository-images') def run_local(cmd, status=False, cwd='.', env={}): print(""Running:"", cmd) newenv = os.environ newenv.update(env) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, cwd=cwd, stderr=subprocess.STDOUT, env=newenv, universal_newlines=True) (out, nothing) = p.communicate() if status: return (p.returncode, out.strip()) return out.strip() def git_branches(): branches = [] for branch in run_local(['git', 'branch', '-a'], cwd=DEVSTACK).split(""\n""): branch = branch.strip() if not branch.startswith('remotes/origin'): continue branches.append(branch) return branches def _legacy_find_images(basedir): """"""Divine what images we should use based on parsing stackrc."""""" images = [] for line in open(os.path.join(basedir, 'stackrc')): line = line.strip() if line.startswith('IMAGE_URLS'): if '#' in line: line = line[:line.find('#')] if line.endswith(';;'): line = line[:-2] line = line.split('=', 1)[1].strip() if line.startswith('${IMAGE_URLS:-'): line = line[len('${IMAGE_URLS:-'):] if line.endswith('}'): line = line[:-1] if not line: continue if line[0] == line[-1] == '""': line = line[1:-1] # Add image to the list to be downloaded, but # skip downloading giant vmware images images += [x.strip() for x in line.split(',') if not x.strip().endswith('vmdk')] return images def _find_images(basedir): images = [] image_tool = os.path.join(basedir, 'tools', 'image_list.sh') if os.path.exists(image_tool): returncode, out = run_local(image_tool, status=True) if returncode: print(""%s failed"" % image_tool) print(""Exit: %s, Output: %s"" % (returncode, out)) # reset images so we'll fall back images = [] else: images = out.split('\n') return images def local_prep(): branches = [] for branch in git_branches(): # Ignore branches of the form 'somestring -> someotherstring' # as this denotes a symbolic reference and the entire string # as is cannot be checked out. We can do this safely as the # reference will refer to one of the other branches returned # by git_branches. if ' -> ' in branch: continue branch_data = {'name': branch} print('Branch: ', branch) run_local(['sudo', 'git', 'checkout', branch], cwd=DEVSTACK) run_local(['sudo', 'git', 'pull', '--ff-only', 'origin'], cwd=DEVSTACK) images = _find_images(DEVSTACK) if not images: images = _legacy_find_images(DEVSTACK) branch_data['images'] = images branches.append(branch_data) return branches def main(): branches = local_prep() image_filenames = [] line_template = ""%(name)s file %(location)s %(url)s\n"" with open(IMAGES, 'w') as images_list: for branch_data in branches: for url in branch_data['images']: fname = url.split('/')[-1].strip() if fname == '': continue # TODO: There is an image in devstack that starts with # $HEAT_FETCHED_TEST_IMAGE if fname.startswith('$'): continue if fname in image_filenames: continue image_filenames.append(fname) args = dict( name=fname, location=os.path.join('/opt/cache/files', fname), url=url) images_list.write(line_template % args) if __name__ == '__main__': main() ",6,266
openstack%2Fopenstack-ansible~stable%2Fstein~I6c2e7aa3bf81deac1607f3404ee3d621da502981,openstack/openstack-ansible,stable/stein,I6c2e7aa3bf81deac1607f3404ee3d621da502981,Bump SHAs for stable/stein,MERGED,2020-03-08 14:32:10.000000000,2020-03-14 00:05:05.000000000,2020-03-14 00:02:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-08 14:32:10.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4b0d8f51d5b55fc05db77f915e1d21b0d94374a', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I6c2e7aa3bf81deac1607f3404ee3d621da502981\n'}]",0,711850,a4b0d8f51d5b55fc05db77f915e1d21b0d94374a,20,4,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: I6c2e7aa3bf81deac1607f3404ee3d621da502981
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/711850/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,a4b0d8f51d5b55fc05db77f915e1d21b0d94374a,bump_osa, version: 8a6327c67a47d22fffdde79b2b03f2d26ae0946a version: a0f01db800a8545b07575cfd7b0ba2c702477b0e, version: 6e1cf2f9cb0ea84496a907155d43ff8e19e654dd version: 553fb1ed1ea91b6e7dbf6935433266010c8b1483,50,50
openstack%2Fopenstack-ansible-os_keystone~master~Ib34fdb680ecdda6c50be995af2c980aa274f2ba2,openstack/openstack-ansible-os_keystone,master,Ib34fdb680ecdda6c50be995af2c980aa274f2ba2,Change from python-memcached to pymemcache,MERGED,2020-03-05 10:47:09.000000000,2020-03-13 23:45:51.000000000,2020-03-13 23:44:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-05 10:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/edc8011991aeb5947680456fe7784db0d02fd18f', 'message': 'Change from python-memcached to pymemcache\n\nSee https://review.opendev.org/#/c/634457/\n\nChange-Id: Ib34fdb680ecdda6c50be995af2c980aa274f2ba2\n'}, {'number': 2, 'created': '2020-03-05 12:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/edc060a435e2f5da9880d0b852307f2aba0b2f91', 'message': 'Change from python-memcached to pymemcache\n\nSee [1] for the transition release note. It is necessary to\nkeep both python-memcached and pymemcache as OSA functional tests run\nwith master u-c but integrated tests run from a pinned u-c SHA and the\noslo.cache requirements are currently a moving target [2].\n\n[1] https://review.opendev.org/634457/\n[2] https://review.opendev.org/711427\n\nChange-Id: Ib34fdb680ecdda6c50be995af2c980aa274f2ba2\n'}, {'number': 3, 'created': '2020-03-05 12:42:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8066ed06543589be52778e01fd64ff72a763748b', 'message': 'Change from python-memcached to pymemcache\n\nSee [1] for the transition release note. It is necessary to\nkeep both python-memcached and pymemcache as OSA functional tests run\nwith master u-c but integrated tests run from a pinned u-c SHA and the\noslo.cache requirements are currently a moving target [2].\n\n[1] https://review.opendev.org/634457\n[2] https://review.opendev.org/711427\n\nChange-Id: Ib34fdb680ecdda6c50be995af2c980aa274f2ba2\n'}]",0,711429,8066ed06543589be52778e01fd64ff72a763748b,17,4,3,25023,,,0,"Change from python-memcached to pymemcache

See [1] for the transition release note. It is necessary to
keep both python-memcached and pymemcache as OSA functional tests run
with master u-c but integrated tests run from a pinned u-c SHA and the
oslo.cache requirements are currently a moving target [2].

[1] https://review.opendev.org/634457
[2] https://review.opendev.org/711427

Change-Id: Ib34fdb680ecdda6c50be995af2c980aa274f2ba2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/29/711429/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,edc8011991aeb5947680456fe7784db0d02fd18f,, - pymemcache, - python-memcached,1,1
openstack%2Fpuppet-neutron~master~I59ce78d9ba608369b01f36f163cd1404a6c876e3,openstack/puppet-neutron,master,I59ce78d9ba608369b01f36f163cd1404a6c876e3,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:48:27.000000000,2020-03-13 23:21:02.000000000,2020-03-13 23:21:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:48:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6445d62aa515b251ce5118c3725599c3e0b6d461', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: I59ce78d9ba608369b01f36f163cd1404a6c876e3\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712859,6445d62aa515b251ce5118c3725599c3e0b6d461,7,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: I59ce78d9ba608369b01f36f163cd1404a6c876e3
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/59/712859/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6445d62aa515b251ce5118c3725599c3e0b6d461,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Fopenstacksdk~master~I6c04defc28998d49199383a6cc6d5f5611a99e25,openstack/openstacksdk,master,I6c04defc28998d49199383a6cc6d5f5611a99e25,Switch to futurist for concurrency,MERGED,2020-03-04 18:56:12.000000000,2020-03-13 22:58:32.000000000,2020-03-13 22:57:02.000000000,"[{'_account_id': 1004}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 18:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3e96eb53ac7897ec69b63bb5b7c91a74dc90e579', 'message': ""Switch to futurist for concurrency\n\nAs we're being used inside of services more and those services\nfrequently use things like eventlet, allow people to pass in\nan Executor object from futurist to override the default\nThreadPoolExecutor object.\n\nChange-Id: I6c04defc28998d49199383a6cc6d5f5611a99e25\n""}, {'number': 2, 'created': '2020-03-05 15:06:54.000000000', 'files': ['requirements.txt', 'releasenotes/notes/futurist-b54b0f449d410997.yaml', 'lower-constraints.txt', 'openstack/cloud/_object_store.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b6a22e3749555ecf9fea762dfc4935e312f6d8bb', 'message': ""Switch to futurist for concurrency\n\nAs we're being used inside of services more and those services\nfrequently use things like eventlet, allow people to pass in\nan Executor object from futurist to override the default\nThreadPoolExecutor object.\n\nChange-Id: I6c04defc28998d49199383a6cc6d5f5611a99e25\n""}]",0,711301,b6a22e3749555ecf9fea762dfc4935e312f6d8bb,10,3,2,2,,,0,"Switch to futurist for concurrency

As we're being used inside of services more and those services
frequently use things like eventlet, allow people to pass in
an Executor object from futurist to override the default
ThreadPoolExecutor object.

Change-Id: I6c04defc28998d49199383a6cc6d5f5611a99e25
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/711301/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/futurist-b54b0f449d410997.yaml', 'lower-constraints.txt', 'openstack/cloud/_object_store.py', 'openstack/connection.py']",5,3e96eb53ac7897ec69b63bb5b7c91a74dc90e579,futurist,"import futurist pool_executor=None, :param pool_executor: :type pool_executor: :class:`~futurist.Executor` A futurist ``Executor`` object to be used for concurrent background activities. Defaults to None in which case a ThreadPoolExecutor will be created if needed. self.__pool_executor = pool_executor @property def _pool_executor(self): if not self.__pool_executor: self.__pool_executor = futurist.ThreadPoolExecutor( max_workers=5) return self.__pool_executor ", self.__pool_executor = None,25,15
openstack%2Fopenstacksdk~master~Icf68dceb3124ceaea0baa94bc018927dabba42cd,openstack/openstacksdk,master,Icf68dceb3124ceaea0baa94bc018927dabba42cd,Fixes get_user when identity responses are paged,MERGED,2019-10-15 13:06:03.000000000,2020-03-13 22:53:58.000000000,2020-03-13 22:51:52.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 31103}]","[{'number': 1, 'created': '2019-10-15 13:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e41074c9b58c49db9914807b9318f83ff637af9e', 'message': ""Fixes get_user when identity responses are paged\n\nCloses-Bug: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 2, 'created': '2019-10-15 19:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/65baf1cfbc83f09030bcc794163cec7ed31b8053', 'message': ""Fixes get_user when identity responses are paged\n\nCloses-Bug: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 3, 'created': '2019-10-16 14:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/53b0d4924f0507756b5fbb0c2e963ecc74c6d5b7', 'message': ""Fixes get_user when identity responses are paged\n\nCloses-Bug: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 4, 'created': '2019-10-16 18:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4347f4505e956a8ecccc61dbb250ef87e06a481d', 'message': ""Fixes get_user when identity responses are paged\n\nCloses-Bug: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 5, 'created': '2019-10-17 20:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e5b54d701bcdfc7df371f3676f4d455f11678db', 'message': ""Fixes get_user when identity responses are paged\n\nStory: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 6, 'created': '2019-10-17 20:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0c476323a92884138823fccfdd8248cef9dc154', 'message': ""Fixes get_user when identity responses are paged\n\nStory: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 7, 'created': '2019-10-18 22:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4c284e647fc104b24c214d1ea4848c7b69c812d', 'message': ""Fixes get_user when identity responses are paged\n\nStory: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 8, 'created': '2019-10-21 13:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/726bd92709c14ee536f267793f75712f4443fac9', 'message': ""Fixes get_user when identity responses are paged\n\nStory: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n  - cloud.test_users\n\nAnnotated some of the test_role_assignment tests to make it easier to understand which API calls are associated with which method calls.\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}, {'number': 9, 'created': '2019-10-21 15:31:55.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_users.py', 'openstack/tests/unit/cloud/test_role_assignment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/27005c33253ab4dc2abc8246c00fd5cd36af2eb8', 'message': ""Fixes get_user when identity responses are paged\n\nStory: 2006720\n\nThe API already supports server side filtering on a username using the 'name' parameter\nhttps://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users\n\nI'm making use of that by doing the following\n1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...\n   to _utils._get_entity\n   _get_entity does not use the **kwargs except to pass to _identity.search_users method\n2- _identity.search_users passes the **kwargs as API parameters\n\nBefore\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\n\nAfter\nIn [1]: import openstack; cloud = openstack.connect()\n\nIn [2]: domain = cloud.identity.find_domain('cisco')\n\nIn [3]: cloud.get_user(name_or_id='jdwidari')\n\nIn [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)\nOut[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})\n\nIn [5]:\n\nupdated the following unit tests\n  - cloud.test_role_assignments\n  - cloud.test_users\n\nAnnotated some of the test_role_assignment tests to make it easier to understand which API calls are associated with which method calls.\n\nChange-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd\n""}]",0,688704,27005c33253ab4dc2abc8246c00fd5cd36af2eb8,25,5,9,31103,,,0,"Fixes get_user when identity responses are paged

Story: 2006720

The API already supports server side filtering on a username using the 'name' parameter
https://docs.openstack.org/api-ref/identity/v3/index.html?expanded=list-users-detail#users

I'm making use of that by doing the following
1- in _identity.get_user() I'm adding the var 'name_or_id' as the 'name' key to the **kwargs being passed...
   to _utils._get_entity
   _get_entity does not use the **kwargs except to pass to _identity.search_users method
2- _identity.search_users passes the **kwargs as API parameters

Before
In [1]: import openstack; cloud = openstack.connect()

In [2]: domain = cloud.identity.find_domain('cisco')

In [3]: cloud.get_user(name_or_id='jdwidari')

In [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)

After
In [1]: import openstack; cloud = openstack.connect()

In [2]: domain = cloud.identity.find_domain('cisco')

In [3]: cloud.get_user(name_or_id='jdwidari')

In [4]: cloud.get_user(name_or_id='jdwidari', domain_id=domain.id)
Out[4]: Munch({'id': '9ef350a7e6087436b2a005f24546e7e96a2d8c16cd34b0b368ae8eecb9a4f00a', 'email': 'jdwidari@cisco.com', 'name': 'jdwidari', 'username': None, 'default_project_id': None, 'domain_id': '31560833db2048e7bf6ce4c365c28d53', 'enabled': True, 'description': 'Jihad Dwidari'})

In [5]:

updated the following unit tests
  - cloud.test_role_assignments
  - cloud.test_users

Annotated some of the test_role_assignment tests to make it easier to understand which API calls are associated with which method calls.

Change-Id: Icf68dceb3124ceaea0baa94bc018927dabba42cd
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/04/688704/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,e41074c9b58c49db9914807b9318f83ff637af9e,bug/2006720," @_utils.valid_kwargs('domain_id', 'name') kwargs['name'] = name_or_id", @_utils.valid_kwargs('domain_id'),2,1
openstack%2Fglance~master~I1cb45026489a96a283b82e8e7efc9975c181fceb,openstack/glance,master,I1cb45026489a96a283b82e8e7efc9975c181fceb,Add possibility to delete image from single store,MERGED,2019-12-09 17:33:31.000000000,2020-03-13 22:46:03.000000000,2020-03-13 22:44:29.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 17:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0718ef4baa09b47a92c07fb62e128a7a1f3ccae1', 'message': ""Add possibility to delete image from single store\n\nWIP: Missing tests\n     Missing reno\n     Missing documentation\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 2, 'created': '2019-12-18 09:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e21f90dd90f4d45ff24d341b01dccc7778326788', 'message': ""Add possibility to delete image from single store\n\nWIP: Missing tests\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 3, 'created': '2019-12-18 12:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/af3ad1cc742e14b010ec23370fb981a787bca7da', 'message': ""Add possibility to delete image from single store\n\nWIP: Missing tests\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 4, 'created': '2019-12-19 09:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e167c578d62be37c427d615447b5d57aaf8896c', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 5, 'created': '2019-12-19 10:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee6e77b8f1d8ea7e9878d074f9d115a07576a196', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 6, 'created': '2019-12-19 10:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b6eceb723b63c379a4ad16acde6147155c5014e', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 7, 'created': '2019-12-19 13:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bbf9822f5cbb0684941fdfef904ca36f217ea699', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 8, 'created': '2019-12-19 13:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f29a1997733aea5a4c791b01f4292804e0f33f90', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 9, 'created': '2020-01-03 10:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/69ce28f80696a6b136766d45b239364b7c45bffa', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 10, 'created': '2020-01-06 15:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a572df21b256529006c83e00634e89cf7f4e45a', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 11, 'created': '2020-01-07 07:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d9a4161a9a672db5c3dbc070e347d597c332b6b5', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 12, 'created': '2020-01-07 08:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b40f62d049bc44e4cfba6e3c98dd808ee23e403', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 13, 'created': '2020-01-08 09:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/31b2fe530bb9b277b9c16e0b246f3bed898a09d6', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 14, 'created': '2020-01-09 11:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f2a4e10fc102285812ee7d4860be9218a515573', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 15, 'created': '2020-01-14 11:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3d6a97f6d4da6c4e209bdec016238533f1e920cf', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 16, 'created': '2020-01-16 16:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bcf1231051f2646ce04ac2d46f02d5df6cbb5292', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 17, 'created': '2020-01-16 16:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5ed4a861cdcdc426c08ed4d91cf96bead1ec0b48', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 18, 'created': '2020-02-28 09:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a0609d4cd17cced77c1599ed91f2c39b4389723', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 19, 'created': '2020-03-06 06:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/85eebe3119aeac4508c2904aefa4ab35cb5edb9d', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 20, 'created': '2020-03-13 08:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1702a0a853ea0845091f70edb2c0b618838cd5a7', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}, {'number': 21, 'created': '2020-03-13 14:46:23.000000000', 'files': ['glance/location.py', 'glance/api/v2/images.py', 'glance/api/v2/router.py', 'doc/source/user/glanceapi.rst', 'glance/api/versions.py', 'glance/tests/unit/base.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py', 'releasenotes/notes/delete_from_store-a1d9b9bd5cf27546.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/f267bd6cde0e2b3ef5d08ae7c91831e1c88ed990', 'message': ""Add possibility to delete image from single store\n\nThis change introduces new 'v2/stores/<store_id>/<image_id>'\nendpoint that accepts 'DELETE' method request. Once successful\nthe request will delete the image <image_id>'s location that\nmatches the store <store_id>. If the store is not read-only\nor return image in use exception the image data will be\ndeleted. In the case of read-only store, the location will\nbe removed and if the image in use is raised, the call will\nfail.\n\nbp: delete-from-store\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb\n""}]",67,698049,f267bd6cde0e2b3ef5d08ae7c91831e1c88ed990,117,7,21,5202,,,0,"Add possibility to delete image from single store

This change introduces new 'v2/stores/<store_id>/<image_id>'
endpoint that accepts 'DELETE' method request. Once successful
the request will delete the image <image_id>'s location that
matches the store <store_id>. If the store is not read-only
or return image in use exception the image data will be
deleted. In the case of read-only store, the location will
be removed and if the image in use is raised, the call will
fail.

bp: delete-from-store

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I1cb45026489a96a283b82e8e7efc9975c181fceb
",git fetch https://review.opendev.org/openstack/glance refs/changes/49/698049/21 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/router.py']",2,0718ef4baa09b47a92c07fb62e128a7a1f3ccae1,delete_single_store," mapper.connect('/stores/{store_id}/{image_id}', controller=images_resource, action='delete_from_store', conditions={'method': ['DELETE']}, body_reject=True) mapper.connect('/stores/{store_id}/{image_id}', controller=reject_method_resource, action='reject', allowed_methods='DELETE')",,72,0
openstack%2Fopenstack-helm~master~I91f2c87f51978fe0a35143757c19fe789f7e0669,openstack/openstack-helm,master,I91f2c87f51978fe0a35143757c19fe789f7e0669,"Revert ""Modify files related to overrides.""",MERGED,2020-03-13 14:08:31.000000000,2020-03-13 22:42:51.000000000,2020-03-13 22:41:15.000000000,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28778}, {'_account_id': 29668}, {'_account_id': 30777}, {'_account_id': 30857}]","[{'number': 1, 'created': '2020-03-13 14:08:31.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/728b3739cf378302f5b367d0bba14b4be4cf627a', 'message': 'Revert ""Modify files related to overrides.""\n\nThis reverts commit 0389b54578dc9efb670fcacb1097daf008d7cdcc.\n\nChange-Id: I91f2c87f51978fe0a35143757c19fe789f7e0669\nsee: https://review.opendev.org/#/c/712959/1\n'}]",0,712960,728b3739cf378302f5b367d0bba14b4be4cf627a,11,9,1,23928,,,0,"Revert ""Modify files related to overrides.""

This reverts commit 0389b54578dc9efb670fcacb1097daf008d7cdcc.

Change-Id: I91f2c87f51978fe0a35143757c19fe789f7e0669
see: https://review.opendev.org/#/c/712959/1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/712960/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml']",11,728b3739cf378302f5b367d0bba14b4be4cf627a,overrides_daemonset,"{{- $daemonset_yaml := list $daemonset $configMapName $serviceAccountName . | include ""neutron.bagpipe_bgp.daemonset"" | toString | fromYaml }}{{- list $daemonset $daemonset_yaml $configmap_yaml $configMapName . | include ""helm-toolkit.utils.daemonset_overrides"" }}","{{- $daemonset_include := ""neutron.bagpipe_bgp.daemonset"" }}{{- list $daemonset $daemonset_include $configmap_yaml $configMapName . $serviceAccountName | include ""helm-toolkit.utils.daemonset_overrides"" }}",23,22
openstack%2Fpython-openstackclient~master~Ice7423e0e0b98a39cc36622b70eae5a8493a037c,openstack/python-openstackclient,master,Ice7423e0e0b98a39cc36622b70eae5a8493a037c,Add qos_network_policy_id to network port tests,MERGED,2020-01-09 17:54:05.000000000,2020-03-13 22:37:51.000000000,2020-03-13 22:34:37.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 1004}, {'_account_id': 1131}, {'_account_id': 11904}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-09 17:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e37aa6dd0e8103c8096fba804a1565f0c735b8c8', 'message': 'Add qos_network_policy_id to network port\n\nChange-Id: Ice7423e0e0b98a39cc36622b70eae5a8493a037c\nCloses-Bug: #1851362\n'}, {'number': 2, 'created': '2020-01-09 18:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b252e03a49c83fd429fc07cc6dfe84a03f4b3b49', 'message': 'Add qos_network_policy_id to network port\n\nChange-Id: Ice7423e0e0b98a39cc36622b70eae5a8493a037c\nCloses-Bug: #1851362\n'}, {'number': 3, 'created': '2020-01-09 18:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bae2d252f5087cd97315bc2001960de978da0873', 'message': 'Add qos_network_policy_id to network port\n\nAdded ""qos_network_policy_id"" to ""port show"" command. Because this is\njust a read-only parameter and is read from the SDK port definition,\nthis patch only modifies the corresponding tests.\n\nChange-Id: Ice7423e0e0b98a39cc36622b70eae5a8493a037c\nCloses-Bug: #1851362\n'}, {'number': 4, 'created': '2020-02-18 09:18:38.000000000', 'files': ['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2745b178a43f51ba837c485eed08c8ef6011a9ea', 'message': 'Add qos_network_policy_id to network port tests\n\nAdded ""qos_network_policy_id"" to ""port show"" command. Because this is\njust a read-only parameter and is read from the SDK port definition,\nthis patch only modifies the corresponding tests.\n\nThis patch is adding this new parameter to the test bench.\n\nChange-Id: Ice7423e0e0b98a39cc36622b70eae5a8493a037c\nCloses-Bug: #1851362\n'}]",8,701786,2745b178a43f51ba837c485eed08c8ef6011a9ea,22,8,4,16688,,,0,"Add qos_network_policy_id to network port tests

Added ""qos_network_policy_id"" to ""port show"" command. Because this is
just a read-only parameter and is read from the SDK port definition,
this patch only modifies the corresponding tests.

This patch is adding this new parameter to the test bench.

Change-Id: Ice7423e0e0b98a39cc36622b70eae5a8493a037c
Closes-Bug: #1851362
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/86/701786/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'releasenotes/notes/add-port-qos-network-policy-id-91bbc372bdc3097a.yaml']",3,e37aa6dd0e8103c8096fba804a1565f0c735b8c8,bug/1851362,--- features: - | Add ``qos_network_policy_id`` parameter to network port. This is a read- only parameter shown in the ``ShowPort`` command. ,,8,0
openstack%2Fpuppet-nova~master~Id67d7b854f4fcecc68309560242dd39f149d5c5e,openstack/puppet-nova,master,Id67d7b854f4fcecc68309560242dd39f149d5c5e,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:48:52.000000000,2020-03-13 22:34:47.000000000,2020-03-13 22:34:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:48:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7304973427218b7f13898032a364599c0c32c793', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: Id67d7b854f4fcecc68309560242dd39f149d5c5e\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712861,7304973427218b7f13898032a364599c0c32c793,7,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: Id67d7b854f4fcecc68309560242dd39f149d5c5e
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/61/712861/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7304973427218b7f13898032a364599c0c32c793,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Fpuppet-cinder~master~I363b193f7619260db8fb3a04e5f7ccb9e46a7f06,openstack/puppet-cinder,master,I363b193f7619260db8fb3a04e5f7ccb9e46a7f06,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:40:22.000000000,2020-03-13 22:34:46.000000000,2020-03-13 22:34:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:40:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d4b49ae838aa339fa7375d2408b20be37b15f8a0', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: I363b193f7619260db8fb3a04e5f7ccb9e46a7f06\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712853,d4b49ae838aa339fa7375d2408b20be37b15f8a0,9,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: I363b193f7619260db8fb3a04e5f7ccb9e46a7f06
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/53/712853/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d4b49ae838aa339fa7375d2408b20be37b15f8a0,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df,openstack/networking-ovn,stable/train,Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df,OVN Metadata agent gets OVSDB updates for only its Chassis,MERGED,2020-01-31 20:57:48.000000000,2020-03-13 22:22:20.000000000,2020-03-13 22:20:46.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-01-31 20:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ffaa7c4b79267d7b61c8f147357f2f07a111cee3', 'message': 'OVN Metadata gets OVSDB updates for only its Chassis\n\nThe metadata agent registers the Chassis table with ovsdb-server\nand therefor gets database updates every time *any* Chassis is\nupdated--even if the update is just a liveness check that updates\nnb_cfg.\n\nThis patch adds a condition so that metadata agent only gets updates\nfor the Chassis that it is running on.\n\nChange-Id: Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df\nRelated-bug: #1861092\n'}, {'number': 2, 'created': '2020-02-01 00:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f4f6b8c6a981c8e6b36257f8a90a1d35949d4841', 'message': 'OVN Metadata gets OVSDB updates for only its Chassis\n\nThe metadata agent registers the Chassis table with ovsdb-server\nand therefor gets database updates every time *any* Chassis is\nupdated--even if the update is just a liveness check that updates\nnb_cfg.\n\nThis patch adds a condition so that metadata agent only gets updates\nfor the Chassis that it is running on.\n\nChange-Id: Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df\nRelated-bug: #1861092\n'}, {'number': 3, 'created': '2020-02-06 17:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee7866f4975e21c250bc25cad0388458a872b523', 'message': 'OVN Metadata agent gets OVSDB updates for only its Chassis\n\nThe metadata agent registers the Chassis table with ovsdb-server\nand therefor gets database updates every time *any* Chassis is\nupdated--even if the update is just a liveness check that updates\nnb_cfg.\n\nThis patch adds a condition so that metadata agent only gets updates\nfor the Chassis that it is running on.\n\nChange-Id: Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df\nRelated-bug: #1861092\n(cherry-picked from neutron I452b7de09312ecea621c4b448cc63f037cad9675)\n'}, {'number': 4, 'created': '2020-02-11 19:43:45.000000000', 'files': ['networking_ovn/agent/metadata/server.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/agent/metadata/ovsdb.py', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5ef7f92884ff77362f21ea9a2f00ad1823868eda', 'message': 'OVN Metadata agent gets OVSDB updates for only its Chassis\n\nThe metadata agent registers the Chassis table with ovsdb-server\nand therefor gets database updates every time *any* Chassis is\nupdated--even if the update is just a liveness check that updates\nnb_cfg.\n\nThis patch adds a condition so that metadata agent only gets updates\nfor the Chassis that it is running on.\n\nChange-Id: Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df\nRelated-bug: #1861092\n(cherry-picked from neutron I452b7de09312ecea621c4b448cc63f037cad9675)\n'}]",1,705296,5ef7f92884ff77362f21ea9a2f00ad1823868eda,22,6,4,5756,,,0,"OVN Metadata agent gets OVSDB updates for only its Chassis

The metadata agent registers the Chassis table with ovsdb-server
and therefor gets database updates every time *any* Chassis is
updated--even if the update is just a liveness check that updates
nb_cfg.

This patch adds a condition so that metadata agent only gets updates
for the Chassis that it is running on.

Change-Id: Ibce080d3af7d1c1c9b146ce5c4d9e96719e675df
Related-bug: #1861092
(cherry-picked from neutron I452b7de09312ecea621c4b448cc63f037cad9675)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/705296/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/server.py', 'networking_ovn/agent/metadata/agent.py', 'networking_ovn/agent/metadata/ovsdb.py']",3,ffaa7c4b79267d7b61c8f147357f2f07a111cee3,," def __init__(self, events=None, chassis=''): if chassis: self.tables['Chassis'].condition = [['name', '==', chassis]]"," def __init__(self, events=None):",15,10
openstack%2Fmagnum~master~Iade54fb286065d68f8efb471402fbcf047f6449f,openstack/magnum,master,Iade54fb286065d68f8efb471402fbcf047f6449f,WIP: Create a keypair per stack,ABANDONED,2018-07-16 07:30:10.000000000,2020-03-13 22:21:35.000000000,,"[{'_account_id': 9995}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2018-07-16 07:30:10.000000000', 'files': ['magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6f1872f959e3d596a160cd6d94bde2edbe6a0db3', 'message': 'WIP: Create a keypair per stack\n\nAt the moment, if userA in projectA creates a clusterA, userB in\nprojectA can not scale clusterA.\n\nThe reason for this is that clusterA was created by keypairA which\nbelongs to userA. Then, when userB tries to scale the cluster heat\ntries to create new vms and pass keypairA.\n\nIn this patch, a keypair is created in the stack and if in the heat\nconf there are these [0], a stack update by a new user will use\nthe existing heat trust.\n\nThe remaining problem is that if the creator-user is deleted, userB\ncan not authenticate and do a stack update.\n\n[0]\ndeferred_auth_method = trusts\nreauthentication_auth_method = trusts\n\nChange-Id: Iade54fb286065d68f8efb471402fbcf047f6449f\nstory: 2002648\ntask: 22354\n'}]",4,582880,6f1872f959e3d596a160cd6d94bde2edbe6a0db3,8,3,1,20498,,,0,"WIP: Create a keypair per stack

At the moment, if userA in projectA creates a clusterA, userB in
projectA can not scale clusterA.

The reason for this is that clusterA was created by keypairA which
belongs to userA. Then, when userB tries to scale the cluster heat
tries to create new vms and pass keypairA.

In this patch, a keypair is created in the stack and if in the heat
conf there are these [0], a stack update by a new user will use
the existing heat trust.

The remaining problem is that if the creator-user is deleted, userB
can not authenticate and do a stack update.

[0]
deferred_auth_method = trusts
reauthentication_auth_method = trusts

Change-Id: Iade54fb286065d68f8efb471402fbcf047f6449f
story: 2002648
task: 22354
",git fetch https://review.opendev.org/openstack/magnum refs/changes/80/582880/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml']",2,6f1872f959e3d596a160cd6d94bde2edbe6a0db3,story/2002648, cluster_key: type: OS::Nova::KeyPair properties: public_key: {get_param: ssh_key_name} name: {get_param: 'OS::stack_name'} ssh_key_name: {get_resource: cluster_key} ssh_key_name: {get_resource: cluster_key}, ssh_key_name: {get_param: ssh_key_name} ssh_key_name: {get_param: ssh_key_name},11,5
openstack%2Fos-client-config~master~Ieb1746b1ad7571cb87f5b1e7a6876ce72e6b76c3,openstack/os-client-config,master,Ieb1746b1ad7571cb87f5b1e7a6876ce72e6b76c3,Use unittest.mock instead of third party mock,MERGED,2020-03-13 16:54:24.000000000,2020-03-13 22:13:48.000000000,2020-03-13 22:12:31.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 16:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/dd229544dbe180a27cb5a0c3ae25a7cda9d69448', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ieb1746b1ad7571cb87f5b1e7a6876ce72e6b76c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-03-13 18:51:29.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'os_client_config/tests/test_cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/bc96c23a9c44cee8f54d7349b288a406cec3f10a', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ieb1746b1ad7571cb87f5b1e7a6876ce72e6b76c3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713029,bc96c23a9c44cee8f54d7349b288a406cec3f10a,11,3,2,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ieb1746b1ad7571cb87f5b1e7a6876ce72e6b76c3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/29/713029/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'os_client_config/tests/test_cloud_config.py']",3,dd229544dbe180a27cb5a0c3ae25a7cda9d69448,unittest.mock,from unittest import mock,import mock,1,3
openstack%2Ftripleo-image-elements~stable%2Ftrain~I95d851f194a524caad639188e7df8f041fa2a248,openstack/tripleo-image-elements,stable/train,I95d851f194a524caad639188e7df8f041fa2a248,Cleanup stale interface if exists,MERGED,2020-03-13 13:36:06.000000000,2020-03-13 22:12:30.000000000,2020-03-13 22:12:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 13:36:06.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8c91b4651e9dff695866da970961e3a9b352433e', 'message': ""Cleanup stale interface if exists\n\nThere is a bug in the CentOS 8 image where the ens3 interface file\nexists. We should clean that up if it exists to prevent issues when\nbooting. We manage the interfaces later with os-net-config so we don't\nwant them to exist in the image.\n\nChange-Id: I95d851f194a524caad639188e7df8f041fa2a248\nCloses-Bug: #1866202\n(cherry picked from commit d641e019b90f9318a38d67b3910cb4e4b1c09ec0)\n""}]",0,712947,8c91b4651e9dff695866da970961e3a9b352433e,7,3,1,14985,,,0,"Cleanup stale interface if exists

There is a bug in the CentOS 8 image where the ens3 interface file
exists. We should clean that up if it exists to prevent issues when
booting. We manage the interfaces later with os-net-config so we don't
want them to exist in the image.

Change-Id: I95d851f194a524caad639188e7df8f041fa2a248
Closes-Bug: #1866202
(cherry picked from commit d641e019b90f9318a38d67b3910cb4e4b1c09ec0)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/47/712947/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,8c91b4651e9dff695866da970961e3a9b352433e,bug/1866202-stable/train,#!/bin/bash set -eux set -o pipefail # https://bugs.centos.org/view.php?id=17133 if [ -f /etc/sysconfig/network-scripts/ifcfg-ens3 ]; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3 fi ,,9,0
openstack%2Ftripleo-upgrade~stable%2Fstein~I597c1acb549ebce86fdc1f48487612db6c607f24,openstack/tripleo-upgrade,stable/stein,I597c1acb549ebce86fdc1f48487612db6c607f24,Linters fix-refresh,MERGED,2020-02-27 13:56:08.000000000,2020-03-13 22:12:30.000000000,2020-03-13 22:12:29.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-02-27 13:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a0ae1135a376546d6e6965aa8764fbd42ae39e6d', 'message': 'Linters fix-refresh\n\n- bumped linters\n- enabled two more checks and fixed them\n- cleaned tox.ini file\n\nChange-Id: I597c1acb549ebce86fdc1f48487612db6c607f24\n'}, {'number': 2, 'created': '2020-03-10 09:02:47.000000000', 'files': ['tests/inventory', '.gitignore', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/check_service_galera.sh.j2', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml', 'templates/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/00b46aae608c5fcc1ef8a04a36af633fffadd10a', 'message': 'Linters fix-refresh\n\n- bumped linters\n- enabled two more checks and fixed them\n- cleaned tox.ini file\n\nChange-Id: I597c1acb549ebce86fdc1f48487612db6c607f24\n'}]",0,710269,00b46aae608c5fcc1ef8a04a36af633fffadd10a,13,7,2,24162,,,0,"Linters fix-refresh

- bumped linters
- enabled two more checks and fixed them
- cleaned tox.ini file

Change-Id: I597c1acb549ebce86fdc1f48487612db6c607f24
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/710269/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/inventory', '.gitignore', 'templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/check_service_galera.sh.j2', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml', 'templates/overcloud_system_upgrade.sh.j2']",8,a0ae1135a376546d6e6965aa8764fbd42ae39e6d,,, ,19,25
openstack%2Fos-client-config~master~Ia6ad2c7e62aebc81386610e9d16c8bb8a162d70f,openstack/os-client-config,master,Ia6ad2c7e62aebc81386610e9d16c8bb8a162d70f,Uncap jsonschema,MERGED,2020-03-13 18:51:29.000000000,2020-03-13 22:04:03.000000000,2020-03-13 22:02:38.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 18:51:29.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/c7bb5d65abb4c9bc3a1d8f480018a9d661f7b36e', 'message': 'Uncap jsonschema\n\njsonschema was uncapped in the global requirements. We need to uncap it\nlocally now too.\n\nChange-Id: Ia6ad2c7e62aebc81386610e9d16c8bb8a162d70f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713049,c7bb5d65abb4c9bc3a1d8f480018a9d661f7b36e,7,2,1,11904,,,0,"Uncap jsonschema

jsonschema was uncapped in the global requirements. We need to uncap it
locally now too.

Change-Id: Ia6ad2c7e62aebc81386610e9d16c8bb8a162d70f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/49/713049/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c7bb5d65abb4c9bc3a1d8f480018a9d661f7b36e,unittest.mock,jsonschema>=2.6.0 # MIT,"jsonschema<3.0.0,>=2.6.0 # MIT",1,1
openstack%2Fneutron~stable%2Fstein~I299031a505f05cd0469e2476b867b9dbca59c5bf,openstack/neutron,stable/stein,I299031a505f05cd0469e2476b867b9dbca59c5bf,Unnecessary routers should not be created,MERGED,2020-03-11 00:09:33.000000000,2020-03-13 22:03:16.000000000,2020-03-13 22:01:15.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-11 00:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04ace82054e2a1111a2143ce04d35b18b38d80d0', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 2, 'created': '2020-03-11 09:22:50.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a28141fc86f6881f9520a6b06abfcff0a5a2e9f', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}]",0,712208,5a28141fc86f6881f9520a6b06abfcff0a5a2e9f,14,5,2,29071,,,0,"Unnecessary routers should not be created

We observe an excessive amount of routers created on
compute node on which some virtual machines got a fixed
ip on floating network.

Rpc servers should filter out those unnecessary routers
during syncing.

Change-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf
Partial-Bug: #1840579
(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/712208/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,04ace82054e2a1111a2143ce04d35b18b38d80d0,bug/1840579-stable/stein,"from neutron_lib.api.definitions import portbindings def test_sync_dvr_router_with_fixedip_on_fip_net(self): l3_rpc_cb = l3_rpc.L3RpcCallback() self._register_dvr_agents() with self.subnet() as s: # first create an external network net_id = s['subnet']['network_id'] self._set_net_external(net_id) # create router with external gateway router = {'name': 'router1', 'external_gateway_info': {'network_id': net_id}, 'tenant_id': 'tenant_id', 'admin_state_up': True, 'distributed': True} r = self.l3plugin.create_router(self.adminContext, {'router': router}) self.l3plugin.schedule_router(self.adminContext, r['id']) with self.port(subnet=s, device_owner=DEVICE_OWNER_COMPUTE) as port: # bind port to L3_HOSTB updated_port = { ""port"": { portbindings.HOST_ID: L3_HOSTB } } self.plugin.update_port( self.adminContext, port['port']['id'], updated_port ) ret_b = l3_rpc_cb.sync_routers( self.adminContext, host=L3_HOSTB, router_ids=[r['id']]) router_ids = [r['id'] for r in ret_b] self.assertEqual(0, len(router_ids)) ",,47,2
openstack%2Fpython-dracclient~stable%2Fqueens~I06dfee32f6cf0a232a49901109b6b794f845c2fd,openstack/python-dracclient,stable/queens,I06dfee32f6cf0a232a49901109b6b794f845c2fd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2020-02-11 16:00:27.000000000,2020-03-13 21:53:53.000000000,2020-03-13 21:53:53.000000000,"[{'_account_id': 8068}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2020-02-11 16:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b4275cce5dadedc98106fa3c4a51f80ef958a8e3', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n(cherry picked from commit f347536426e477d47b8c92685cb057c743b6340e)\n'}, {'number': 2, 'created': '2020-02-11 16:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/10956a9c21d87812764a9fca73cc7e0a52dd2d22', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n'}, {'number': 3, 'created': '2020-02-17 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/5f264cf235b7d66e931a3472b77e860b3aead204', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}, {'number': 4, 'created': '2020-03-12 14:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/c82cb143fd94638d6dc04fa059ec76e8f0a317d8', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}, {'number': 5, 'created': '2020-03-12 14:54:28.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f78d1688ee3b4e6d62465c1eb8c903a9ac8cbce9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}]",0,707184,f78d1688ee3b4e6d62465c1eb8c903a9ac8cbce9,14,4,5,10250,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd
Closes-Bug: #1826699
(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/84/707184/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,b4275cce5dadedc98106fa3c4a51f80ef958a8e3,bug/1826699,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/stein/upper-constraints.txt} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},2,2
openstack%2Fbarbican-tempest-plugin~master~I3fb32622b029bfadef7f34e973d8277c107112f0,openstack/barbican-tempest-plugin,master,I3fb32622b029bfadef7f34e973d8277c107112f0,Switch to stestr,MERGED,2018-07-09 06:42:02.000000000,2020-03-13 21:53:10.000000000,2020-03-13 21:53:10.000000000,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 10873}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-07-09 06:42:02.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/96d57e684f865d78d11c748e472842031d060026', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I3fb32622b029bfadef7f34e973d8277c107112f0\n""}]",0,580922,96d57e684f865d78d11c748e472842031d060026,18,14,1,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I3fb32622b029bfadef7f34e973d8277c107112f0
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/22/580922/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,96d57e684f865d78d11c748e472842031d060026,stestr,[DEFAULT] test_path=./barbican_tempest_plugin/tests top_dir=./ ,,6,8
openstack%2Ftripleo-ansible~master~I9b9a0796aac6354629124f7490a1e7911c0b82c0,openstack/tripleo-ansible,master,I9b9a0796aac6354629124f7490a1e7911c0b82c0,Remove useless doc in tripleo-container-manag,MERGED,2020-03-13 17:47:03.000000000,2020-03-13 21:50:39.000000000,2020-03-13 21:48:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 17:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e170339a53f09d0ae1da722bbba3005de79984d7', 'message': ""doc/tripleo-container-manage: fix the command to modify a container\n\nansible CLI doesn't take dicts as an input for vars, only strings. So\nlet's write the dict into a file and load it with -e.\n\nChange-Id: I9b9a0796aac6354629124f7490a1e7911c0b82c0\n""}, {'number': 2, 'created': '2020-03-13 19:49:00.000000000', 'files': ['doc/source/roles/role-tripleo-container-manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77ce31dc09cb2eed0720c72bf8d4341446f98e78', 'message': ""Remove useless doc in tripleo-container-manag\n\nThe block isn't working well and we need a file to for the dict data,\nwhich we have in the previous block. Let's just remove it.\n\nChange-Id: I9b9a0796aac6354629124f7490a1e7911c0b82c0\n""}]",0,713040,77ce31dc09cb2eed0720c72bf8d4341446f98e78,9,2,2,3153,,,0,"Remove useless doc in tripleo-container-manag

The block isn't working well and we need a file to for the dict data,
which we have in the previous block. Let's just remove it.

Change-Id: I9b9a0796aac6354629124f7490a1e7911c0b82c0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/713040/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/roles/role-tripleo-container-manage.rst'],1,e170339a53f09d0ae1da722bbba3005de79984d7,doc/cont/one," echo ""{'tripleo_container_manage_config_overrides': {'haproxy': {'image': 'docker.io/tripleomaster/centos-binary-haproxy:hotfix'}}}"" | tee -a haproxy.overrides && ansible \ -m include_role -a role=tripleo_container_manage \ -e @haproxy.overrides"," ansible -m include_role -a role=tripleo_container_manage \ -e tripleo_container_manage_config_overrides=""{'haproxy': {'image': 'docker.io/tripleomaster/centos-binary-haproxy:hotfix'}}"" \",3,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I0c5d99b40465e010a3f7f9f1f4f6c4bb356d4430,openstack/tripleo-ansible,stable/train,I0c5d99b40465e010a3f7f9f1f4f6c4bb356d4430,Fix logic to stop overrwriting upgrade hieradata,MERGED,2020-03-13 16:10:47.000000000,2020-03-13 21:48:39.000000000,2020-03-13 21:48:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 16:10:47.000000000', 'files': ['tripleo_ansible/roles/tripleo-upgrade-hiera/tasks/create-tripleo-upgrade-file.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e74cf5e8af9ead50771c9a991733498b028b699', 'message': 'Fix logic to stop overrwriting upgrade hieradata\n\n(cherry picked from commit b066abcb2ecdff13f24f84145856fc90c23a6c1c)\n\nChange-Id: I0c5d99b40465e010a3f7f9f1f4f6c4bb356d4430\n'}]",0,713008,2e74cf5e8af9ead50771c9a991733498b028b699,8,8,1,26343,,,0,"Fix logic to stop overrwriting upgrade hieradata

(cherry picked from commit b066abcb2ecdff13f24f84145856fc90c23a6c1c)

Change-Id: I0c5d99b40465e010a3f7f9f1f4f6c4bb356d4430
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/713008/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-upgrade-hiera/tasks/create-tripleo-upgrade-file.yml'],1,2e74cf5e8af9ead50771c9a991733498b028b699,, not (_tripleo_upgrade_hiera_test.stdout | length) > 0, (_tripleo_upgrade_hiera_test.stdout | length) > 0,1,1
openstack%2Fpython-dracclient~stable%2Fstein~I06dfee32f6cf0a232a49901109b6b794f845c2fd,openstack/python-dracclient,stable/stein,I06dfee32f6cf0a232a49901109b6b794f845c2fd,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-20 21:27:58.000000000,2020-03-13 21:43:44.000000000,2020-03-13 21:43:44.000000000,"[{'_account_id': 8068}, {'_account_id': 10250}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2019-05-20 21:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/6af6b9926f947f94359a834e0af70576691b01ec', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n'}, {'number': 2, 'created': '2019-11-06 20:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/977336b6f8ee5e8606e35a6e6757e2ca4c0b6163', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n'}, {'number': 3, 'created': '2019-11-06 21:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f347536426e477d47b8c92685cb057c743b6340e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n'}, {'number': 4, 'created': '2020-02-11 16:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/d84f33f3ca9c1a325f0baf02db33f6506109fe11', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n(cherry picked from commit f347536426e477d47b8c92685cb057c743b6340e)\n'}, {'number': 5, 'created': '2020-02-11 16:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/15b7129e5ab991c7639658ab994a17772ef2ba22', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 6af6b9926f947f94359a834e0af70576691b01ec)\n'}, {'number': 6, 'created': '2020-02-17 22:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b820bf9e384deeca773640a89c2d4262f3453cff', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}, {'number': 7, 'created': '2020-03-12 14:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b04c5e74ee7fdf7d3c2d1d8e6167e537537628a8', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}, {'number': 8, 'created': '2020-03-12 14:56:24.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/d41a26095d9b8b2ac7084f436df2f6edee832cc7', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd\nCloses-Bug: #1826699\n(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)\n'}]",2,660217,d41a26095d9b8b2ac7084f436df2f6edee832cc7,27,5,8,10250,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I06dfee32f6cf0a232a49901109b6b794f845c2fd
Closes-Bug: #1826699
(cherry picked from commit 15fe14b8a00da35a1d0e009a122899e11f705681)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/17/660217/5 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,6af6b9926f947f94359a834e0af70576691b01ec,bug/1826699,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fpuppet-swift~master~Ia5112083b8e9d2ebc7e933191c4c8e51d2e48903,openstack/puppet-swift,master,Ia5112083b8e9d2ebc7e933191c4c8e51d2e48903,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:50:33.000000000,2020-03-13 21:39:26.000000000,2020-03-13 21:39:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:50:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/aaf7edc758533982be569489a5d083d15516c922', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: Ia5112083b8e9d2ebc7e933191c4c8e51d2e48903\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712864,aaf7edc758533982be569489a5d083d15516c922,7,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: Ia5112083b8e9d2ebc7e933191c4c8e51d2e48903
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/64/712864/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,aaf7edc758533982be569489a5d083d15516c922,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Fpuppet-horizon~master~I569e42f36f9d7d3a867e05303dc221243c58c752,openstack/puppet-horizon,master,I569e42f36f9d7d3a867e05303dc221243c58c752,Use centos-8 standalone puppet parent,MERGED,2020-03-13 08:45:33.000000000,2020-03-13 21:39:25.000000000,2020-03-13 21:39:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 08:45:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4863f28730c2cf5d37da4b61c672726be84ae633', 'message': ""Use centos-8 standalone puppet parent\n\nhttps://review.opendev.org/#/c/711320/ adds\ntripleo-puppet-ci-centos-8-standalone job in poi and let's\nre-use the same parent for tripleo standalone job.\n\nChange-Id: I569e42f36f9d7d3a867e05303dc221243c58c752\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,712856,4863f28730c2cf5d37da4b61c672726be84ae633,7,3,1,12393,,,0,"Use centos-8 standalone puppet parent

https://review.opendev.org/#/c/711320/ adds
tripleo-puppet-ci-centos-8-standalone job in poi and let's
re-use the same parent for tripleo standalone job.

Change-Id: I569e42f36f9d7d3a867e05303dc221243c58c752
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/56/712856/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4863f28730c2cf5d37da4b61c672726be84ae633,centos-8-jobs, parent: tripleo-puppet-ci-centos-8-standalone, parent: tripleo-puppet-ci-centos-7-standalone,1,1
openstack%2Fbarbican-tempest-plugin~master~I0d6986063f6a0a2d107d24dbef62a75e980986d0,openstack/barbican-tempest-plugin,master,I0d6986063f6a0a2d107d24dbef62a75e980986d0,Optimizing the safety of the http link site in HACKING.rst,ABANDONED,2018-11-15 12:45:59.000000000,2020-03-13 21:30:10.000000000,,"[{'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27078}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-15 12:45:59.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/f8d444ffd10de63a943bef94e6b9853cd6541f68', 'message': 'Optimizing the safety of the http link site in HACKING.rst\n\nChange-Id: I0d6986063f6a0a2d107d24dbef62a75e980986d0\n'}]",0,618149,f8d444ffd10de63a943bef94e6b9853cd6541f68,11,9,1,29423,,,0,"Optimizing the safety of the http link site in HACKING.rst

Change-Id: I0d6986063f6a0a2d107d24dbef62a75e980986d0
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/49/618149/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,f8d444ffd10de63a943bef94e6b9853cd6541f68,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fpython-openstackclient~master~I0061bf788a8da89da0077db63f6cecf2ead0d0be,openstack/python-openstackclient,master,I0061bf788a8da89da0077db63f6cecf2ead0d0be,Update http links in docs,MERGED,2018-05-11 02:57:39.000000000,2020-03-13 21:26:31.000000000,2020-03-13 21:23:44.000000000,"[{'_account_id': 1004}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-11 02:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8ce1b85c52b7bdadc6ce019ee73c53520fdd8138', 'message': 'Update http links in docs\n\nThis patch is proposed according to the Direction 10 of doc\nmigration(https://etherpad.openstack.org/p/doc-migration-tracking).\n\nChange-Id: I0061bf788a8da89da0077db63f6cecf2ead0d0be\n'}, {'number': 2, 'created': '2020-03-10 02:16:49.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/519296d762aceed6a9b3b3c206725d03fa3c2a20', 'message': 'Update http links in docs\n\nThis patch is proposed according to the Direction 10 of doc\nmigration(https://etherpad.openstack.org/p/doc-migration-tracking).\n\nChange-Id: I0061bf788a8da89da0077db63f6cecf2ead0d0be\n'}]",0,567729,519296d762aceed6a9b3b3c206725d03fa3c2a20,10,3,2,25058,,,0,"Update http links in docs

This patch is proposed according to the Direction 10 of doc
migration(https://etherpad.openstack.org/p/doc-migration-tracking).

Change-Id: I0061bf788a8da89da0077db63f6cecf2ead0d0be
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/29/567729/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst']",3,8ce1b85c52b7bdadc6ce019ee73c53520fdd8138,docs,.. _Bugs: https://storyboard.openstack.org/#!/project/975,.. _Bugs: https://bugs.launchpad.net/python-openstackclient,7,7
openstack%2Fpython-openstackclient~master~I0841a6e5ebd6a27a5375a54c56fc194dff65b370,openstack/python-openstackclient,master,I0841a6e5ebd6a27a5375a54c56fc194dff65b370,Incorrect title for service provider,MERGED,2020-01-21 12:35:10.000000000,2020-03-13 21:25:13.000000000,2020-03-13 21:23:43.000000000,"[{'_account_id': 841}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-21 12:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a3e341bfe96f97ac8840bd90bc90c4c9b76f3a9d', 'message': 'Incorrect title for service provider\n\nMistakenly changed to identity provider.\n\nChange-Id: I0841a6e5ebd6a27a5375a54c56fc194dff65b370\n'}, {'number': 2, 'created': '2020-01-23 14:14:19.000000000', 'files': ['doc/source/cli/command-objects/service-provider.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cb265774ac33d6fe09f6f9e2bb5052f132662d0d', 'message': 'Incorrect title for service provider\n\nMistakenly changed to identity provider.\n\nChange-Id: I0841a6e5ebd6a27a5375a54c56fc194dff65b370\n'}]",1,703600,cb265774ac33d6fe09f6f9e2bb5052f132662d0d,13,6,2,29865,,,0,"Incorrect title for service provider

Mistakenly changed to identity provider.

Change-Id: I0841a6e5ebd6a27a5375a54c56fc194dff65b370
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/00/703600/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/service-provider.rst'],1,a3e341bfe96f97ac8840bd90bc90c4c9b76f3a9d,service-provider-cli-docs,service provider,identity provider,1,1
openstack%2Ftripleo-operator-ansible~master~I3349f5fa438c27bfcf7e7c341b2d7c56e0b298d4,openstack/tripleo-operator-ansible,master,I3349f5fa438c27bfcf7e7c341b2d7c56e0b298d4,Add source install to docs,MERGED,2020-03-13 16:20:06.000000000,2020-03-13 21:25:10.000000000,2020-03-13 21:23:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 16:20:06.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/cbdd9a655455a97fdeb6c48c53297966b4eccaf8', 'message': 'Add source install to docs\n\nDocuemnt how to install this collection from source using the\nansible-galaxy command to build and install.\n\nChange-Id: I3349f5fa438c27bfcf7e7c341b2d7c56e0b298d4\n'}]",0,713013,cbdd9a655455a97fdeb6c48c53297966b4eccaf8,8,2,1,14985,,,0,"Add source install to docs

Docuemnt how to install this collection from source using the
ansible-galaxy command to build and install.

Change-Id: I3349f5fa438c27bfcf7e7c341b2d7c56e0b298d4
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/13/713013/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,cbdd9a655455a97fdeb6c48c53297966b4eccaf8,install-doc,Via Package ----------- From Source ----------- At the command line install using the ansible-galaxy command. .. code-block:: console $ git clone https://opendev.org/openstack/tripleo-operator-ansible $ cd tripleo-operator-ansible $ ansible-galaxy collection build --force --output-path ~/collections $ ansible-galaxy collection install --force ~/collections/tripleo-operator*,,15,0
openstack%2Fbarbican-tempest-plugin~master~I279e299ce9bce02beb944b6ee7bb1cfd651cbc3a,openstack/barbican-tempest-plugin,master,I279e299ce9bce02beb944b6ee7bb1cfd651cbc3a,Update and replace http with https for doc links,ABANDONED,2019-12-25 10:12:54.000000000,2020-03-13 21:17:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-25 10:12:54.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5eb54fa463c1e530f7abcf7684ee6f08d00dbf2c', 'message': 'Update and replace http with https for doc links\n\nChange-Id: I279e299ce9bce02beb944b6ee7bb1cfd651cbc3a\n'}]",0,700566,5eb54fa463c1e530f7abcf7684ee6f08d00dbf2c,3,1,1,30883,,,0,"Update and replace http with https for doc links

Change-Id: I279e299ce9bce02beb944b6ee7bb1cfd651cbc3a
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/66/700566/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5eb54fa463c1e530f7abcf7684ee6f08d00dbf2c,,https://docs.openstack.org/developer/barbican/https://docs.openstack.org/developer/tempest/plugin.html#using-pluginsPlease report bugs to: https://bugs.launchpad.net/barbican,http://docs.openstack.org/developer/barbican/http://docs.openstack.org/developer/tempest/plugin.html#using-pluginsPlease report bugs to: http://bugs.launchpad.net/barbican,3,3
openstack%2Fopenstack-helm-infra~master~Ib8a64f8f7ee15a6579e901d80ae759c38e0e901e,openstack/openstack-helm-infra,master,Ib8a64f8f7ee15a6579e901d80ae759c38e0e901e,MariaDB: avoid synchronization in state configmap updates,MERGED,2020-03-03 22:13:04.000000000,2020-03-13 21:15:44.000000000,2020-03-13 21:14:11.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28275}, {'_account_id': 28719}]","[{'number': 1, 'created': '2020-03-03 22:13:04.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2a4b369f25f2c2cf3880f9c4a1a9ca0d5e0b6eb8', 'message': 'MariaDB: avoid synchronization in state configmap updates\n\nEach MariaDB instance updates the grastate configmap on a periodic\nbasis, every 10s by default. Collisions can occur when multiple\ninstances try to write their state at the same time (within a few\nmilliseconds). One instance will write successfully, and the other will\nget a 409 error. There is nothing to break the synchronization, so the\nfailures tend to be persistent.\n\nThis change adds a small sleep after a collision is encountered,\ncreating an offset between the cycles.\n\nChange-Id: Ib8a64f8f7ee15a6579e901d80ae759c38e0e901e\n'}]",2,711117,2a4b369f25f2c2cf3880f9c4a1a9ca0d5e0b6eb8,10,6,1,28719,,,0,"MariaDB: avoid synchronization in state configmap updates

Each MariaDB instance updates the grastate configmap on a periodic
basis, every 10s by default. Collisions can occur when multiple
instances try to write their state at the same time (within a few
milliseconds). One instance will write successfully, and the other will
get a 409 error. There is nothing to break the synchronization, so the
failures tend to be persistent.

This change adds a small sleep after a collision is encountered,
creating an offset between the cycles.

Change-Id: Ib8a64f8f7ee15a6579e901d80ae759c38e0e901e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/711117/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,2a4b369f25f2c2cf3880f9c4a1a9ca0d5e0b6eb8,," # This often happens when the replicas were started at the same # time, and tends to be persistent. Sleep briefly to break the # synchronization. time.sleep(1)",,4,0
openstack%2Fopenstack-helm-images~master~I030e3f01ca9d25f3946fd621635f422d3278f21e,openstack/openstack-helm-images,master,I030e3f01ca9d25f3946fd621635f422d3278f21e,Change condition in define-host plugin,MERGED,2020-03-13 13:58:10.000000000,2020-03-13 20:57:37.000000000,2020-03-13 20:56:07.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-13 13:58:10.000000000', 'files': ['nagios/plugins/define-nagios-hosts.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c78298328eb1bb45fb91c2decaff8a01a0126f20', 'message': 'Change condition in define-host plugin\n\nThis commit changes confdition in define-host plugin in order to\nprevent failing with ""KeyError: \'NODE_DOMAIN\'"" in case we do not\nhave such environment variable.\n\nChange-Id: I030e3f01ca9d25f3946fd621635f422d3278f21e\n'}]",0,712956,c78298328eb1bb45fb91c2decaff8a01a0126f20,9,11,1,28735,,,0,"Change condition in define-host plugin

This commit changes confdition in define-host plugin in order to
prevent failing with ""KeyError: 'NODE_DOMAIN'"" in case we do not
have such environment variable.

Change-Id: I030e3f01ca9d25f3946fd621635f422d3278f21e
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/56/712956/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/define-nagios-hosts.py'],1,c78298328eb1bb45fb91c2decaff8a01a0126f20,, if 'NODE_DOMAIN' in os.environ: if 'NODE_DOMAIN' in os.environ:, if os.environ['NODE_DOMAIN']: if os.environ['NODE_DOMAIN']:,2,2
openstack%2Ftripleo-ansible~master~I7d82d9f3fc707f34b6dd7a3b1379d7508bcdb6fb,openstack/tripleo-ansible,master,I7d82d9f3fc707f34b6dd7a3b1379d7508bcdb6fb,Fix error message from tripleo_passwords_rotate module,MERGED,2020-03-12 02:21:39.000000000,2020-03-13 20:55:46.000000000,2020-03-13 20:55:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 02:21:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00e48cd2e8924245d8e5b17749eb4b2919e63b6e', 'message': 'Fix error message from tripleo_passwords_rotate module\n\nChange-Id: I7d82d9f3fc707f34b6dd7a3b1379d7508bcdb6fb\n'}]",0,712601,00e48cd2e8924245d8e5b17749eb4b2919e63b6e,9,5,1,8833,,,0,"Fix error message from tripleo_passwords_rotate module

Change-Id: I7d82d9f3fc707f34b6dd7a3b1379d7508bcdb6fb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/712601/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_passwords_rotate.py'],1,00e48cd2e8924245d8e5b17749eb4b2919e63b6e,mistral_to_ansible," result['msg'] = (""Error rotating passwords for plan %s: %s"" % ("," result['msg'] = (""Error rotating fernet keys for plan %s: %s"" % (",1,1
openstack%2Ftripleo-ansible~master~I48548b4e643604d42ce9ee9dc293065239674cda,openstack/tripleo-ansible,master,I48548b4e643604d42ce9ee9dc293065239674cda,Use jinja templating when setting facts,MERGED,2020-03-09 07:57:42.000000000,2020-03-13 20:55:45.000000000,2020-03-13 20:55:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-09 07:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2303194f8b69599690bcefadd65b4a7588eddfc3', 'message': ""Use jinja templating when setting facts\n\nWithout that 'is_container' is always evaluated to false.\n\nChange-Id: I48548b4e643604d42ce9ee9dc293065239674cda\nCloses-Bug: #1866600\n""}, {'number': 2, 'created': '2020-03-12 02:21:39.000000000', 'files': ['tripleo_ansible/playbooks/rotate-keys.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb9e5816d1dd1de8fba195f49d845c2607aa84f9', 'message': ""Use jinja templating when setting facts\n\nWithout that 'is_container' is always evaluated to false.\n\nChange-Id: I48548b4e643604d42ce9ee9dc293065239674cda\nCloses-Bug: #1866600\n""}]",0,711872,fb9e5816d1dd1de8fba195f49d845c2607aa84f9,25,6,2,8833,,,0,"Use jinja templating when setting facts

Without that 'is_container' is always evaluated to false.

Change-Id: I48548b4e643604d42ce9ee9dc293065239674cda
Closes-Bug: #1866600
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/711872/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/rotate-keys.yaml'],1,2303194f8b69599690bcefadd65b4a7588eddfc3,mistral_to_ansible," is_container: ""{{ containerized_keystone_dir.stat.isdir is defined and containerized_keystone_dir.stat.isdir }}"" podman_enabled: ""{{ 'tripleo_keystone.service' in ansible_facts.services }}"""," is_container: containerized_keystone_dir.stat.isdir is defined and containerized_keystone_dir.stat.isdir podman_enabled: '""tripleo_keystone.service"" in ansible_facts.services'",2,2
openstack%2Fironic-python-agent~master~I6db9117a38be946b785e6f5e75ada1bfdff560ba,openstack/ironic-python-agent,master,I6db9117a38be946b785e6f5e75ada1bfdff560ba,Agent token support,MERGED,2019-11-01 20:56:25.000000000,2020-03-13 20:51:41.000000000,2020-03-13 20:50:21.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-11-01 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/017258aeee2197c32470cbd7402ac55f8037e49c', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 2, 'created': '2019-11-04 01:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/461a35154df1cd77f2f7146b751e20d9711a209b', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 3, 'created': '2019-11-04 02:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/90eb818de861d8db65a9362315c9334b56a87dbc', 'message': 'WIP: agent token support attempt\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 4, 'created': '2019-11-04 04:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/041cf2404ab1d2a6f711885742234e52f8cc2599', 'message': 'WIP: agent token support attempt\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 5, 'created': '2019-11-05 01:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1261a709794c48744c98494f2ca68a9c38b00e35', 'message': 'WIP: agent token support attempt\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 6, 'created': '2019-11-05 01:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a27a1f832e92ddf4b19dfed351d4a488a7e6c529', 'message': 'WIP: agent token support attempt\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 7, 'created': '2019-11-06 06:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8d2c6e4083bdafbe0651dbfce03e42a0ee418688', 'message': 'WIP: agent token support attempt\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 8, 'created': '2019-12-06 14:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/983361d7f2c0af2a15cef822ca15eae06bff8150', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 9, 'created': '2019-12-06 21:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2eeabc10879b138cb23d5cca54439e41f5d200cd', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 10, 'created': '2019-12-11 17:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9b2d44a0fcebbfea06a60963f8dec156076777dc', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 11, 'created': '2019-12-11 22:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/da3c05b0ddf40ea25240639ec52ce3c769c77671', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 12, 'created': '2019-12-13 00:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/660e79e5a18b58f4b917d9c8917ea98a1d492368', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 13, 'created': '2019-12-13 00:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/72d051e02149095f808c7fd7502327368de1c1d4', 'message': 'WIP: agent token support\n\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n'}, {'number': 14, 'created': '2019-12-19 21:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/464da25e3913cfc63139033ae32abf9b254d911b', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 15, 'created': '2020-01-20 22:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8d2565969bb83982ef58a1445dbbda9e5f2ccd9b', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 16, 'created': '2020-01-22 21:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b26bf6600614005f0f1c410d27277841641a271e', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 17, 'created': '2020-01-22 22:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3a43159ed20bc123836afce87c5907c174c716c6', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 18, 'created': '2020-02-07 18:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/36bcab0b2b0bbc213d288f29c8e5955547d8d35e', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 19, 'created': '2020-02-10 21:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/96dbea4d50b329e8d210e9ff952c663dffcc25cb', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 20, 'created': '2020-02-13 00:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3825ebc0d7cfb873d299a8c9126bc54d7f10ae98', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 21, 'created': '2020-02-20 23:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/749c56397792ce7e2633bfb94b2c766fd1478197', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nDepends-On: https://review.opendev.org/692609\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 22, 'created': '2020-03-03 17:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5db08c4be2d76bb063325306a79c45b49cc3a24e', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 23, 'created': '2020-03-07 16:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cd6430ad65fd6a433b722d0426641da43bea09af', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 24, 'created': '2020-03-11 15:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7900b35a24b0816b259fbf654a0c74952529a22f', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}, {'number': 25, 'created': '2020-03-12 17:35:22.000000000', 'files': ['ironic_python_agent/tests/unit/test_api.py', 'ironic_python_agent/tests/unit/test_ironic_api_client.py', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'releasenotes/notes/agent-token-support-1086218cf2a0c917.yaml', 'ironic_python_agent/api/app.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/tests/functional/base.py', 'ironic_python_agent/cmd/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/af5f05a0ee6125d9f3c2a541ba164f768b47d2ea', 'message': ""Agent token support\n\nAdds support to the agent to receive, store, and return\nthat token to ironic's API, when supported.\n\nThis feature allows ironic and ultimately the agent to\nauthenticate interactions, when supported, to prevent\nmalicious abuse of the API endpoint.\n\nSem-Ver: feature\nChange-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba\n""}]",79,692614,af5f05a0ee6125d9f3c2a541ba164f768b47d2ea,136,8,25,11655,,,0,"Agent token support

Adds support to the agent to receive, store, and return
that token to ironic's API, when supported.

This feature allows ironic and ultimately the agent to
authenticate interactions, when supported, to prevent
malicious abuse of the API endpoint.

Sem-Ver: feature
Change-Id: I6db9117a38be946b785e6f5e75ada1bfdff560ba
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/14/692614/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_agent.py', 'ironic_python_agent/ironic_api_client.py', 'ironic_python_agent/cmd/agent.py']",5,017258aeee2197c32470cbd7402ac55f8037e49c,692614," CONF.agent_token,",,21,2
openstack%2Fneutron-lib~master~I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c,openstack/neutron-lib,master,I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c,Remove TooManyExternalNetworks exception class,MERGED,2019-10-24 10:14:02.000000000,2020-03-13 20:49:29.000000000,2020-03-13 20:48:03.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-10-24 10:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c3665125758dca151e8eee005de6e4b7f84054b7', 'message': ""Remove TooManyExternalNetworks exception class\n\nThis exception type is not used anymore as Neutron now don't have\n'gateway_external_network_id' config option which was removed in\n[1].\n\n[1] https://review.opendev.org/#/c/666409/\n\nDepends-On: https://review.opendev.org/690908\nChange-Id: I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c\n""}, {'number': 2, 'created': '2020-02-28 10:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e220603631e1e9755f57458178068f273bd0903d', 'message': ""Remove TooManyExternalNetworks exception class\n\nThis exception type is not used anymore as Neutron now don't have\n'gateway_external_network_id' config option which was removed in\n[1].\n\n[1] https://review.opendev.org/#/c/666409/\n\nDepends-On: https://review.opendev.org/690908\nChange-Id: I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c\n""}, {'number': 3, 'created': '2020-02-28 10:53:16.000000000', 'files': ['neutron_lib/tests/unit/exceptions/test_exceptions.py', 'neutron_lib/exceptions/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/95bcd28daed4eaff999c08cf8e3d1e79ab851839', 'message': ""Remove TooManyExternalNetworks exception class\n\nThis exception type is not used anymore as Neutron now don't have\n'gateway_external_network_id' config option which was removed in\n[1].\n\n[1] https://review.opendev.org/#/c/666409/\n\nDepends-On: https://review.opendev.org/690908\nDepends-On: https://review.opendev.org/710429\nChange-Id: I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c\n""}]",2,690909,95bcd28daed4eaff999c08cf8e3d1e79ab851839,15,5,3,11975,,,0,"Remove TooManyExternalNetworks exception class

This exception type is not used anymore as Neutron now don't have
'gateway_external_network_id' config option which was removed in
[1].

[1] https://review.opendev.org/#/c/666409/

Depends-On: https://review.opendev.org/690908
Depends-On: https://review.opendev.org/710429
Change-Id: I3ba42cf3ed54e49e8bc6a6deede398643dd1c78c
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/09/690909/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/exceptions/test_exceptions.py', 'neutron_lib/exceptions/__init__.py']",2,c3665125758dca151e8eee005de6e4b7f84054b7,remove-external-net-limitations-leftovers,,"class TooManyExternalNetworks(NeutronException): """"""An error due to more than one external networks existing."""""" message = _(""More than one external network exists."") ",0,10
openstack%2Fkolla-ansible~master~I0faa1df8a04acd1746fa8a5f0d8455f819c254b5,openstack/kolla-ansible,master,I0faa1df8a04acd1746fa8a5f0d8455f819c254b5,CI: Use network mode = host for builds,MERGED,2020-03-03 12:16:38.000000000,2020-03-13 20:28:01.000000000,2020-03-13 20:26:31.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 12:16:38.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/525a7f326f6f8c91971abf3ec148274045b719a5', 'message': 'CI: Use network mode = host for builds\n\nThis avoids issues with IPv6 not enabled in docker.\n\nChange-Id: I0faa1df8a04acd1746fa8a5f0d8455f819c254b5\n'}]",0,710987,525a7f326f6f8c91971abf3ec148274045b719a5,17,6,1,30491,,,0,"CI: Use network mode = host for builds

This avoids issues with IPv6 not enabled in docker.

Change-Id: I0faa1df8a04acd1746fa8a5f0d8455f819c254b5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/710987/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,525a7f326f6f8c91971abf3ec148274045b719a5,ci-docker-network-mode-host,"# NOTE(yoctozepto): to avoid issues with IPv6 not enabled in the docker daemon # and since we don't need isolated networks here, use host networking network_mode = host",,3,0
openstack%2Fproject-config~master~I233824622f78d0e9933eba0853bb514d56d70512,openstack/project-config,master,I233824622f78d0e9933eba0853bb514d56d70512,"Revert ""Add fedora-30 to nb01.opendev.org""",MERGED,2020-03-13 19:59:49.000000000,2020-03-13 20:21:15.000000000,2020-03-13 20:21:15.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 19:59:49.000000000', 'files': ['nodepool/nb01.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/03edecbaf575f26342de5d88834d71a9da5627a8', 'message': 'Revert ""Add fedora-30 to nb01.opendev.org""\n\nThis reverts commit 49c0168c3a79916a815d7df7af12441ed0ef27e4.\n\nThere may be a name collision as nodepool uses the hostname to determine\nwhich builder owns an image.  It appears our hosts report short hostnames,\nie, ""nb01"", so it\'s unclear what the behavior will be.\n\nChange-Id: I233824622f78d0e9933eba0853bb514d56d70512\n'}]",0,713058,03edecbaf575f26342de5d88834d71a9da5627a8,9,3,1,1,,,0,"Revert ""Add fedora-30 to nb01.opendev.org""

This reverts commit 49c0168c3a79916a815d7df7af12441ed0ef27e4.

There may be a name collision as nodepool uses the hostname to determine
which builder owns an image.  It appears our hosts report short hostnames,
ie, ""nb01"", so it's unclear what the behavior will be.

Change-Id: I233824622f78d0e9933eba0853bb514d56d70512
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/713058/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb01.opendev.org.yaml'],1,03edecbaf575f26342de5d88834d71a9da5627a8,,,"elements-dir: /etc/nodepool/elements images-dir: /opt/nodepool_dib zookeeper-servers: - host: zk01.openstack.org port: 2181 - host: zk02.openstack.org port: 2181 - host: zk03.openstack.org port: 2181 providers: - name: citycloud-kna1 region-name: 'Kna1' cloud: citycloud rate: 0.25 # Disabled until 2018-07-01 at request of citycloud. # We should contact them before reenabling at this date. diskimages: [] - name: citycloud-lon1 region-name: 'Lon1' cloud: citycloud rate: 0.25 diskimages: [] - name: citycloud-sto2 region-name: 'Sto2' cloud: citycloud rate: 0.25 diskimages: [] - name: ovh-bhs1 region-name: 'BHS1' cloud: ovh rate: 0.1 diskimages: &provider_diskimages - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-30 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-xenial config-drive: true - name: ovh-gra1 region-name: 'GRA1' cloud: ovh rate: 0.1 diskimages: *provider_diskimages - name: inap-mtl01 region-name: 'mtl01' cloud: inap rate: 0.001 diskimages: *provider_diskimages - name: rax-dfw region-name: 'DFW' cloud: rax rate: 0.001 diskimages: &rax_provider_diskimages # NOTE(ianw) 2020-02-17 : duplicated to add ubuntu-bionic-plain # while we work to remove pip-and-virtualenv - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-30 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-bionic-plain config-drive: true - name: ubuntu-xenial config-drive: true - name: rax-iad region-name: 'IAD' cloud: rax rate: 0.001 diskimages: *rax_provider_diskimages - name: rax-ord region-name: 'ORD' cloud: rax rate: 0.001 diskimages: *rax_provider_diskimages - name: vexxhost-ca-ymq-1 region-name: 'ca-ymq-1' cloud: vexxhost rate: 0.001 diskimages: *provider_diskimages - name: vexxhost-sjc1 region-name: 'sjc1' cloud: vexxhost rate: 0.001 diskimages: *provider_diskimages - name: limestone-regionone region-name: 'RegionOne' cloud: limestone rate: 0.001 diskimages: *provider_diskimages - name: openedge-us-east region-name: 'us-east' cloud: openedge rate: 0.001 diskimages: *provider_diskimages - name: airship-kna1 region-name: 'Kna1' cloud: airship-citycloud rate: 0.25 diskimages: *provider_diskimages diskimages: - name: centos-7 pause: true elements: - centos-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs - epel # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_EPEL_DISABLED: '1' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: centos-8 pause: true python-path: /usr/bin/python3 elements: - centos-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs - epel # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_EPEL_DISABLED: '1' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' DIB_RELEASE: '8' - name: debian-stretch pause: true elements: - debian-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: stretch env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: debian-buster pause: true elements: - debian-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: buster env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' DIB_BLOCK_DEVICE_CONFIG: | # Default single partition loopback - local_loop: name: image0 - partitioning: base: image0 label: mbr partitions: - name: root flags: [ boot, primary ] size: 100% mkfs: mount: mount_point: / fstab: options: ""defaults,nobarrier,noatime"" fsck-passno: 1 # NOTE(ianw) : currently only building this on nb01.opendev.org; - name: fedora-30 pause: false python-path: /usr/bin/python3 elements: - fedora-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: 30 env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: gentoo-17-0-systemd pause: true elements: - gentoo - vm - simple-init - openstack-repos - nodepool-base - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GENTOO_PYTHON_TARGETS: 'python2_7 python3_6' GENTOO_PYTHON_ACTIVE_VERSION: python3.6 GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: opensuse-15 pause: true elements: - opensuse-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: '15.1' env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/opensuse' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: opensuse-tumbleweed pause: true elements: - opensuse-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: 'tumbleweed' env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/opensuse' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: ubuntu-bionic pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: ubuntu-xenial pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: xenial env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' # NOTE(ianw) 2020-02-17 : this is an alternative image without the # pip-and-virtualenv element we can test ansible roles to achieve # full backwards-compatability with. - name: ubuntu-bionic-plain pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' ",0,466
openstack%2Fopenstack-helm-infra~master~Ice77dcb53fee0e7a64ade9415f9cbf25f5d51d0e,openstack/openstack-helm-infra,master,Ice77dcb53fee0e7a64ade9415f9cbf25f5d51d0e,"Revert ""Make more sections in daemonset overridable.""",MERGED,2020-03-13 14:07:30.000000000,2020-03-13 19:55:40.000000000,2020-03-13 19:53:46.000000000,"[{'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28778}, {'_account_id': 29668}, {'_account_id': 30857}]","[{'number': 1, 'created': '2020-03-13 14:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c39e9560e429d1e7ac4a14ce29601ca12738eb27', 'message': 'Revert ""Make more sections in daemonset overridable.""\n\nThis reverts commit d74e93772684f99652dc6a8922f25c11d502f00e.\n\nThis change looks ok, but we need use cases, and tests to make a change to such a complex and heavily used part of osh\n\n(see: http://eavesdrop.openstack.org/meetings/openstack_helm/2020/openstack_helm.2020-03-03-16.00.log.html)\n\nChange-Id: Ice77dcb53fee0e7a64ade9415f9cbf25f5d51d0e\n'}, {'number': 2, 'created': '2020-03-13 16:18:54.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a2ecabb2b62b051c7fd7712422a956ae4735f2b', 'message': 'Revert ""Make more sections in daemonset overridable.""\n\nThis reverts commit d74e93772684f99652dc6a8922f25c11d502f00e.\n\nThis change looks ok, but we need use cases, and tests to make a change to such a complex and heavily used part of osh\n\n(see: http://eavesdrop.openstack.org/meetings/openstack_helm/2020/openstack_helm.2020-03-03-16.00.log.html)\n\nChange-Id: Ice77dcb53fee0e7a64ade9415f9cbf25f5d51d0e\n'}]",1,712959,0a2ecabb2b62b051c7fd7712422a956ae4735f2b,14,8,2,23928,,,0,"Revert ""Make more sections in daemonset overridable.""

This reverts commit d74e93772684f99652dc6a8922f25c11d502f00e.

This change looks ok, but we need use cases, and tests to make a change to such a complex and heavily used part of osh

(see: http://eavesdrop.openstack.org/meetings/openstack_helm/2020/openstack_helm.2020-03-03-16.00.log.html)

Change-Id: Ice77dcb53fee0e7a64ade9415f9cbf25f5d51d0e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/712959/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/keystone-auth/070-keystone.sh', 'libvirt/templates/daemonset-libvirt.yaml', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl']",3,c39e9560e429d1e7ac4a14ce29601ca12738eb27,overrides_daemonset, {{- $daemonset_yaml := index . 1 }}, {{- $daemonset_include := index . 1 }} {{- $serviceAccountName := index . 5 }} {{- $daemonset_yaml := list $daemonset $configmap_name $serviceAccountName $current_dict.nodeData | include $daemonset_include | toString | fromYaml }},4,8
openstack%2Fproject-config~master~I36c2c8fe6638e919a207c3d76ca8e2d923f0020a,openstack/project-config,master,I36c2c8fe6638e919a207c3d76ca8e2d923f0020a,Add fedora-30 to nb01.opendev.org,MERGED,2020-03-13 18:40:45.000000000,2020-03-13 19:47:05.000000000,2020-03-13 19:47:05.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 18:40:45.000000000', 'files': ['nodepool/nb01.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/49c0168c3a79916a815d7df7af12441ed0ef27e4', 'message': ""Add fedora-30 to nb01.opendev.org\n\nWe want to build fedora-30 and only fedora-30 on nb01. Make a file\nthat is identical to nodepool.yaml except that it pauses everything\nthat isn't fedora-30 and unpauses only fedora-30.\n\nChange-Id: I36c2c8fe6638e919a207c3d76ca8e2d923f0020a\n""}]",0,713047,49c0168c3a79916a815d7df7af12441ed0ef27e4,9,3,1,2,,,0,"Add fedora-30 to nb01.opendev.org

We want to build fedora-30 and only fedora-30 on nb01. Make a file
that is identical to nodepool.yaml except that it pauses everything
that isn't fedora-30 and unpauses only fedora-30.

Change-Id: I36c2c8fe6638e919a207c3d76ca8e2d923f0020a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/713047/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb01.opendev.org.yaml'],1,49c0168c3a79916a815d7df7af12441ed0ef27e4,,"elements-dir: /etc/nodepool/elements images-dir: /opt/nodepool_dib zookeeper-servers: - host: zk01.openstack.org port: 2181 - host: zk02.openstack.org port: 2181 - host: zk03.openstack.org port: 2181 providers: - name: citycloud-kna1 region-name: 'Kna1' cloud: citycloud rate: 0.25 # Disabled until 2018-07-01 at request of citycloud. # We should contact them before reenabling at this date. diskimages: [] - name: citycloud-lon1 region-name: 'Lon1' cloud: citycloud rate: 0.25 diskimages: [] - name: citycloud-sto2 region-name: 'Sto2' cloud: citycloud rate: 0.25 diskimages: [] - name: ovh-bhs1 region-name: 'BHS1' cloud: ovh rate: 0.1 diskimages: &provider_diskimages - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-30 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-xenial config-drive: true - name: ovh-gra1 region-name: 'GRA1' cloud: ovh rate: 0.1 diskimages: *provider_diskimages - name: inap-mtl01 region-name: 'mtl01' cloud: inap rate: 0.001 diskimages: *provider_diskimages - name: rax-dfw region-name: 'DFW' cloud: rax rate: 0.001 diskimages: &rax_provider_diskimages # NOTE(ianw) 2020-02-17 : duplicated to add ubuntu-bionic-plain # while we work to remove pip-and-virtualenv - name: centos-7 config-drive: true - name: centos-8 config-drive: true - name: debian-buster config-drive: true - name: debian-stretch config-drive: true - name: fedora-30 config-drive: true - name: gentoo-17-0-systemd config-drive: true - name: opensuse-15 config-drive: true - name: opensuse-tumbleweed config-drive: true - name: ubuntu-bionic config-drive: true - name: ubuntu-bionic-plain config-drive: true - name: ubuntu-xenial config-drive: true - name: rax-iad region-name: 'IAD' cloud: rax rate: 0.001 diskimages: *rax_provider_diskimages - name: rax-ord region-name: 'ORD' cloud: rax rate: 0.001 diskimages: *rax_provider_diskimages - name: vexxhost-ca-ymq-1 region-name: 'ca-ymq-1' cloud: vexxhost rate: 0.001 diskimages: *provider_diskimages - name: vexxhost-sjc1 region-name: 'sjc1' cloud: vexxhost rate: 0.001 diskimages: *provider_diskimages - name: limestone-regionone region-name: 'RegionOne' cloud: limestone rate: 0.001 diskimages: *provider_diskimages - name: openedge-us-east region-name: 'us-east' cloud: openedge rate: 0.001 diskimages: *provider_diskimages - name: airship-kna1 region-name: 'Kna1' cloud: airship-citycloud rate: 0.25 diskimages: *provider_diskimages diskimages: - name: centos-7 pause: true elements: - centos-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs - epel # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_EPEL_DISABLED: '1' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: centos-8 pause: true python-path: /usr/bin/python3 elements: - centos-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs - epel # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_EPEL_DISABLED: '1' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' DIB_RELEASE: '8' - name: debian-stretch pause: true elements: - debian-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: stretch env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: debian-buster pause: true elements: - debian-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: buster env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian' DIB_DEBIAN_SECURITY_MIRROR: 'http://mirror.dfw.rax.openstack.org/debian-security' DIB_DEBIAN_SECURITY_SUBPATH: '' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' DIB_BLOCK_DEVICE_CONFIG: | # Default single partition loopback - local_loop: name: image0 - partitioning: base: image0 label: mbr partitions: - name: root flags: [ boot, primary ] size: 100% mkfs: mount: mount_point: / fstab: options: ""defaults,nobarrier,noatime"" fsck-passno: 1 # NOTE(ianw) : currently only building this on nb01.opendev.org; - name: fedora-30 pause: false python-path: /usr/bin/python3 elements: - fedora-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: 30 env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: gentoo-17-0-systemd pause: true elements: - gentoo - vm - simple-init - openstack-repos - nodepool-base - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' GENTOO_PYTHON_TARGETS: 'python2_7 python3_6' GENTOO_PYTHON_ACTIVE_VERSION: python3.6 GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: opensuse-15 pause: true elements: - opensuse-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: '15.1' env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/opensuse' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: opensuse-tumbleweed pause: true elements: - opensuse-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: 'tumbleweed' env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/opensuse' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: ubuntu-bionic pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' - name: ubuntu-xenial pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - initialize-urandom - growroot - infra-package-needs # NOTE(ianw) 2020-02-17 : we are working to move this into job # configuration - pip-and-virtualenv release: xenial env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' # NOTE(ianw) 2020-02-17 : this is an alternative image without the # pip-and-virtualenv element we can test ansible roles to achieve # full backwards-compatability with. - name: ubuntu-bionic-plain pause: true elements: - ubuntu-minimal - vm - simple-init - openstack-repos - nodepool-base - cache-devstack - growroot - infra-package-needs release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1' ",,466,0
openstack%2Fkuryr-kubernetes~master~Ie6f141df59c601b74fb949a86e92d68115ffa5fb,openstack/kuryr-kubernetes,master,Ie6f141df59c601b74fb949a86e92d68115ffa5fb,Make node annotations with pci addresses optional,MERGED,2020-03-12 11:08:04.000000000,2020-03-13 19:24:56.000000000,2020-03-13 19:23:21.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28082}]","[{'number': 1, 'created': '2020-03-12 11:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5674825c383f6fc08438fc0bee27374754523ab0', 'message': 'Make node annotations with pci addresses optional\n\nThis patch adds new option to CM that enables annotations\nto nodes. Node annotations are useless before\nsriov-nic-agent is installed on nodes. By default this\noption is set to False, so annotations will not be set and\ndirect ports will not be active in neutron.\n\nChange-Id: Ie6f141df59c601b74fb949a86e92d68115ffa5fb\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 2, 'created': '2020-03-12 14:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1150407b57b16e2a38c907954bd4c737bedbab5b', 'message': 'Make node annotations with pci addresses optional\n\nThis patch adds new option to CM that enables annotations\nto nodes. Node annotations are useless before\nsriov-nic-agent is installed on nodes. By default this\noption is set to False, so annotations will not be set and\ndirect ports will not be active in neutron.\n\nChange-Id: Ie6f141df59c601b74fb949a86e92d68115ffa5fb\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 3, 'created': '2020-03-13 10:39:48.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cacd08083bdf4183512c08d249d94f57a4cac56b', 'message': 'Make node annotations with pci addresses optional\n\nThis patch adds new option to CM that enables annotations\nto nodes. Node annotations are useless before\nsriov-nic-agent is installed on nodes. By default this\noption is set to False, so annotations will not be set and\ndirect ports will not be active in neutron.\n\nChange-Id: Ie6f141df59c601b74fb949a86e92d68115ffa5fb\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}]",2,712654,cacd08083bdf4183512c08d249d94f57a4cac56b,18,6,3,24604,,,0,"Make node annotations with pci addresses optional

This patch adds new option to CM that enables annotations
to nodes. Node annotations are useless before
sriov-nic-agent is installed on nodes. By default this
option is set to False, so annotations will not be set and
direct ports will not be active in neutron.

Change-Id: Ie6f141df59c601b74fb949a86e92d68115ffa5fb
Signed-off-by: Danil Golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/54/712654/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/sriov.py', 'kuryr_kubernetes/config.py']",5,5674825c383f6fc08438fc0bee27374754523ab0,," cfg.BoolOpt('enable_node_annotations', help=_(""Enable node annotations. This option allows to "" ""set annotations required by neutron to set active "" ""state of ports. This option is useless when "" ""sriov-nic-agent is not running on node.""), default=False),",,46,5
openstack%2Fironic-tempest-plugin~master~Id4fd48d98f521f8ab3c49ccb12f8c770bc787c21,openstack/ironic-tempest-plugin,master,Id4fd48d98f521f8ab3c49ccb12f8c770bc787c21,Use service_available,MERGED,2020-03-13 10:46:07.000000000,2020-03-13 19:24:48.000000000,2020-03-13 19:23:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 10:46:07.000000000', 'files': ['doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a512913839e8cbc5442576b6191502bd742e83c1', 'message': 'Use service_available\n\nTo enable tests in tempest the services need to be added\nto `service_available` and not `service_enabled`\n\nChange-Id: Id4fd48d98f521f8ab3c49ccb12f8c770bc787c21\n'}]",0,712906,a512913839e8cbc5442576b6191502bd742e83c1,8,3,1,15519,,,0,"Use service_available

To enable tests in tempest the services need to be added
to `service_available` and not `service_enabled`

Change-Id: Id4fd48d98f521f8ab3c49ccb12f8c770bc787c21
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/06/712906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/usage.rst'],1,a512913839e8cbc5442576b6191502bd742e83c1,update_docs, [service_available] [service_available], [service_enabled] [service_enabled],2,2
openstack%2Fopenstack-helm~master~I78618832e9c980bb8af4c8818c8fdc12c459cb06,openstack/openstack-helm,master,I78618832e9c980bb8af4c8818c8fdc12c459cb06,[FIX] Apparmor for missing  neutron components,MERGED,2020-03-12 19:21:23.000000000,2020-03-13 19:20:28.000000000,2020-03-13 19:18:47.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-03-12 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0b8b61f47d841030b1a4f5102fd356aa34984dd', 'message': '[FIX] Apparmor for remaining neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-03-12 19:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/183c4ea75d63bf0d3f63abe1e64db9460850382e', 'message': '[[WIP] FIX] Apparmor for remaining neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-03-12 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26cc232d701933db24b66d81fdea44aedd0bba43', 'message': '[[WIP] FIX] Apparmor for remaining neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 4, 'created': '2020-03-13 00:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9843707ad4cd3ca8e4f5441c6a991d0667e3bdc', 'message': '[[WIP] FIX] Apparmor for remaining neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 5, 'created': '2020-03-13 01:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b98871b96b3f2a1fdf7a2c3e104f4bf8f57345bb', 'message': '[FIX] Apparmor for missing  neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 6, 'created': '2020-03-13 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b24d871ddcad4c98853eb1f602a0ec06e57b4dd4', 'message': '[FIX] Apparmor for missing  neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 7, 'created': '2020-03-13 13:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fa82fb075adf7408badacb989dc107035d95ce4', 'message': '[FIX] Apparmor for missing  neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 8, 'created': '2020-03-13 15:16:12.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values_overrides/apparmor.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b21a7d1f09df802195368ca86ea9d53cfd0aead', 'message': '[FIX] Apparmor for missing  neutron components\n\nChange-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,712773,9b21a7d1f09df802195368ca86ea9d53cfd0aead,23,4,8,29131,,,0,"[FIX] Apparmor for missing  neutron components

Change-Id: I78618832e9c980bb8af4c8818c8fdc12c459cb06
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/712773/8 && git format-patch -1 --stdout FETCH_HEAD,[],0,f0b8b61f47d841030b1a4f5102fd356aa34984dd,neutron apparmor,,,0,0
openstack%2Fkayobe~stable%2Ftrain~Ie597e1bee46e1f7b7a7129d37e70d88c08cade74,openstack/kayobe,stable/train,Ie597e1bee46e1f7b7a7129d37e70d88c08cade74,CentOS 8: Bump MichaelRigart.interfaces to 1.4.0,MERGED,2020-03-03 17:19:20.000000000,2020-03-13 19:14:13.000000000,2020-03-13 19:12:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0177d152edcb5c40a5020c793f45e0ae07af2075', 'message': 'CentOS 8: Bump MichaelRigart.interfaces to 1.4.0\n\nThis release provides support for CentOS 8.\n\nChange-Id: Ie597e1bee46e1f7b7a7129d37e70d88c08cade74\nStory: 2006574\nTask: 38869\n(cherry picked from commit 3c9daababe8b8145d948ba066c6391648fdf2e31)\n'}, {'number': 2, 'created': '2020-03-12 17:18:33.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/034e779152db603f437857a8df7bc009896040dd', 'message': 'CentOS 8: Bump MichaelRigart.interfaces to 1.4.0\n\nThis release provides support for CentOS 8.\n\nChange-Id: Ie597e1bee46e1f7b7a7129d37e70d88c08cade74\nStory: 2006574\nTask: 38869\n(cherry picked from commit 3c9daababe8b8145d948ba066c6391648fdf2e31)\n'}]",0,711065,034e779152db603f437857a8df7bc009896040dd,18,4,2,14826,,,0,"CentOS 8: Bump MichaelRigart.interfaces to 1.4.0

This release provides support for CentOS 8.

Change-Id: Ie597e1bee46e1f7b7a7129d37e70d88c08cade74
Story: 2006574
Task: 38869
(cherry picked from commit 3c9daababe8b8145d948ba066c6391648fdf2e31)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/65/711065/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,0177d152edcb5c40a5020c793f45e0ae07af2075,, version: v1.4.0, version: v1.2.0,1,1
openstack%2Fopenstack-helm-infra~master~I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4,openstack/openstack-helm-infra,master,I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4,[Update] Grafana: add home dashboard script,MERGED,2020-03-11 20:52:30.000000000,2020-03-13 19:08:35.000000000,2020-03-13 19:06:54.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 27499}, {'_account_id': 28849}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-11 20:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03611df7e1fb18627a20e1e9fa19869225efe334', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 2, 'created': '2020-03-11 21:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5ced3763107432f74a375f0c2a4c346d08e4eff', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 3, 'created': '2020-03-11 21:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/615be05407bfdf6463bfa101919a732409d9ce10', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 4, 'created': '2020-03-11 22:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c88167027e5df69b31503542f7d5ce96af683bf1', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 5, 'created': '2020-03-12 04:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55fe831e97f12e55358c827422694138aa53cc2a', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 6, 'created': '2020-03-12 16:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d985816b4001e74384eac3393f2dc127782c428', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}, {'number': 7, 'created': '2020-03-12 19:09:13.000000000', 'files': ['grafana/templates/bin/_add-home-dashboard.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20aad64409204110962f5fad76212cfd37cc0635', 'message': '[Update] Grafana: add home dashboard script\n\nAdding a loop to wait for the grafana dashboard to be up and contain the\nOSH Home dashboard before running the script.\nThis should resolve the job completing before the OSH Home dashboard is\nin the grafana pod.\n\nChange-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4\n'}]",5,712553,20aad64409204110962f5fad76212cfd37cc0635,32,8,7,30582,,,0,"[Update] Grafana: add home dashboard script

Adding a loop to wait for the grafana dashboard to be up and contain the
OSH Home dashboard before running the script.
This should resolve the job completing before the OSH Home dashboard is
in the grafana pod.

Change-Id: I7ab20fad3ce7f7216e2b2679d863f02f97ef1ff4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/712553/3 && git format-patch -1 --stdout FETCH_HEAD,['grafana/templates/bin/_add-home-dashboard.sh.tpl'],1,03611df7e1fb18627a20e1e9fa19869225efe334,grafana-update-script,"until [ $home_dashboard_id == ""[]"" ] do echo ""Home Dashboard is not present in Grafana"" sleep 30s home_dashboard_id=$(curl -K- <<< ""--user ${GF_SECURITY_ADMIN_USER}:${GF_SECURITY_ADMIN_PASSWORD}"" -XGET ""${GRAFANA_URI}api/search?query=OSH%20Home"" | sed 's/\[{.id"":""*\([0-9a-zA-Z]*\)*,*.*}[]]/\1/') echo $home_dashboard_id done if [ $home_dashboard_id != ""[]"" ] #Set Customized Home Dashboard id as Org preference","if [ $home_dashboard_id == ""[]"" ] echo ""Failed. Verify Home Dashboard is present in Grafana"" else #Set Customized Home Dashboard id as Org preference",10,4
openstack%2Fkayobe~stable%2Ftrain~I2a7a82d7f576739c5516a0072f953712ffa5c233,openstack/kayobe,stable/train,I2a7a82d7f576739c5516a0072f953712ffa5c233,Make Kayobe code compatible with Python 3,MERGED,2020-03-03 17:19:20.000000000,2020-03-13 19:00:42.000000000,2020-03-13 18:59:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/370b7b6bc773d8515fe07a4e850d8267f0d346d0', 'message': 'Make Kayobe code compatible with Python 3\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I2a7a82d7f576739c5516a0072f953712ffa5c233\nStory: 2004959\nTask: 29392\n(cherry picked from commit 15109ccb547e603c0aca2a73e43f4db523fa1bcd)\n'}, {'number': 2, 'created': '2020-03-12 17:18:33.000000000', 'files': ['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'ansible/network.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/roles/ip-allocation/library/ip_allocation.py', 'dev/functions', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/console-allocation/library/console_allocation.py', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/group_vars/all/overcloud', 'ansible/kolla-target-venv.yml', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2', 'ansible/kayobe-ansible-user.yml', 'ansible/kayobe-target-venv.yml', 'ansible/disable-selinux.yml', 'ansible/roles/disable-selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/20f45f2b46134ffe347b8a32efa327984565c152', 'message': 'Make Kayobe code compatible with Python 3\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I2a7a82d7f576739c5516a0072f953712ffa5c233\nStory: 2004959\nTask: 29392\n(cherry picked from commit 15109ccb547e603c0aca2a73e43f4db523fa1bcd)\n'}]",0,711064,20f45f2b46134ffe347b8a32efa327984565c152,12,4,2,14826,,,0,"Make Kayobe code compatible with Python 3

Co-Authored-By: Mark Goddard <mark@stackhpc.com>

Change-Id: I2a7a82d7f576739c5516a0072f953712ffa5c233
Story: 2004959
Task: 29392
(cherry picked from commit 15109ccb547e603c0aca2a73e43f4db523fa1bcd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/711064/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/library/kolla_passwords.py', 'ansible/network.yml', 'ansible/roles/kolla/tasks/install.yml', 'ansible/roles/ip-allocation/library/ip_allocation.py', 'dev/functions', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/swift-rings/files/swift-ring-builder.py', 'ansible/roles/console-allocation/library/console_allocation.py', 'ansible/roles/ironic-inspector-rules/library/os_ironic_inspector_rule.py', 'ansible/group_vars/all/overcloud', 'ansible/kolla-target-venv.yml', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2', 'ansible/kayobe-ansible-user.yml', 'ansible/kayobe-target-venv.yml', 'ansible/disable-selinux.yml', 'ansible/roles/disable-selinux/tasks/main.yml']",16,370b7b6bc773d8515fe07a4e850d8267f0d346d0,," name: ""{% if ansible_distribution_major_version | int == 7 %}libselinux-python{% else %}python3-libselinux{% endif %}""", name: - libselinux-python,104,27
openstack%2Fopenstacksdk~master~Ie20193ce51fcd5ce3ffd479143225bd1a1e8c94a,openstack/openstacksdk,master,Ie20193ce51fcd5ce3ffd479143225bd1a1e8c94a,baremetal: fail-less mode for wait_for_nodes_provision_state,MERGED,2020-03-12 10:18:41.000000000,2020-03-13 18:48:07.000000000,2020-03-13 18:46:12.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-12 10:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d040711e163c1af428e19c430409a94e17ca3aee', 'message': '[WIP] baremetal: fail-less mode for wait_for_nodes_provision_state\n\nChange-Id: Ie20193ce51fcd5ce3ffd479143225bd1a1e8c94a\n'}, {'number': 2, 'created': '2020-03-12 11:04:37.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'doc/source/user/resources/baremetal/v1/node.rst', 'openstack/baremetal/v1/node.py', 'releasenotes/notes/wait-provision-state-no-fail-efa74dd39f687df8.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/00647dbb241563b98325b6fbc0c72fb01abecd83', 'message': 'baremetal: fail-less mode for wait_for_nodes_provision_state\n\nThis change adds a new `fail` flag to the call. If set to False,\nthe call will return a namedtuple (success, failure, timeout) with\nlists of nodes. Timeout and failure exceptions will not be raised.\n\nChange-Id: Ie20193ce51fcd5ce3ffd479143225bd1a1e8c94a\n'}]",0,712637,00647dbb241563b98325b6fbc0c72fb01abecd83,10,3,2,10239,,,0,"baremetal: fail-less mode for wait_for_nodes_provision_state

This change adds a new `fail` flag to the call. If set to False,
the call will return a namedtuple (success, failure, timeout) with
lists of nodes. Timeout and failure exceptions will not be raised.

Change-Id: Ie20193ce51fcd5ce3ffd479143225bd1a1e8c94a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/712637/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/baremetal/v1/_proxy.py'],1,d040711e163c1af428e19c430409a94e17ca3aee,wait-provision-state-no-fail,"from openstack import exceptions abort_on_failed_state=True, fail=True): :param fail: If set to ``False`` this call will not raise on timeouts and provisioning failures. :return: If `fail` is ``True`` (the default), the list of :class:`~openstack.baremetal.v1.node.Node` instances that reached the requested state. If `fail` is ``False``, a dictionary with three keys: * ``success``: a list of ``Node`` instances that reached the state. * ``timeout``: a list of ``Node`` instances that reached timeout. * ``failure``: a list of ``Node`` instances that hit a failure, only non-empty if `abort_on_failed_state` is ``True``. failed = [] try: for count in utils.iterate_timeout( timeout, ""Timeout waiting for nodes %(nodes)s to reach "" ""target state '%(state)s'"" % {'nodes': log_nodes, 'state': expected_state}): nodes = [self.get_node(n) for n in remaining] remaining = [] for n in nodes: try: if n._check_state_reached(self, expected_state, abort_on_failed_state): finished.append(n) else: remaining.append(n) except exceptions.ResourceFailure: if fail: raise else: failed.append(n) if not remaining: if fail: return finished else: return {'success': finished, 'timeout': [], 'failure': failed} self.log.debug( 'Still waiting for nodes %(nodes)s to reach state ' '""%(target)s""', {'nodes': ', '.join(n.id for n in remaining), 'target': expected_state}) except exceptions.ResourceTimeout: if fail: raise else: return {'success': finished, 'timeout': remaining, 'failure': failed}"," abort_on_failed_state=True): :return: The list of :class:`~openstack.baremetal.v1.node.Node` instances that reached the requested state. for count in utils.iterate_timeout( timeout, ""Timeout waiting for nodes %(nodes)s to reach "" ""target state '%(state)s'"" % {'nodes': log_nodes, 'state': expected_state}): nodes = [self.get_node(n) for n in remaining] remaining = [] for n in nodes: if n._check_state_reached(self, expected_state, abort_on_failed_state): finished.append(n) else: remaining.append(n) if not remaining: return finished self.log.debug( 'Still waiting for nodes %(nodes)s to reach state ' '""%(target)s""', {'nodes': ', '.join(n.id for n in remaining), 'target': expected_state})",53,23
openstack%2Ftripleo-heat-templates~master~I8142c54544d48a098206cd84916144dc7e5b1dbd,openstack/tripleo-heat-templates,master,I8142c54544d48a098206cd84916144dc7e5b1dbd,Re-add scenario001-multinode-containers with heat,MERGED,2020-03-13 11:26:54.000000000,2020-03-13 18:27:50.000000000,2020-03-13 18:27:50.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:26:54.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4130b7ecae4e651996d37d71ff03487b58d6099', 'message': 'Re-add scenario001-multinode-containers with heat\n\nhttps://review.opendev.org/712791 removed unused scenarios.\nhttps://review.opendev.org/683126 uses fs016 to run tobiko tests\non overcloud and heat needs to be deployed on overcloud.\n\nIt improves the scenario1 with following items:\n* Adds heat services\n* Switches container cli to podman\n\nChange-Id: I8142c54544d48a098206cd84916144dc7e5b1dbd\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,712913,a4130b7ecae4e651996d37d71ff03487b58d6099,8,7,1,12393,,,0,"Re-add scenario001-multinode-containers with heat

https://review.opendev.org/712791 removed unused scenarios.
https://review.opendev.org/683126 uses fs016 to run tobiko tests
on overcloud and heat needs to be deployed on overcloud.

It improves the scenario1 with following items:
* Adds heat services
* Switches container cli to podman

Change-Id: I8142c54544d48a098206cd84916144dc7e5b1dbd
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/712913/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-multinode-containers.yaml'],1,a4130b7ecae4e651996d37d71ff03487b58d6099,tobiko_support,"resource_registry: OS::TripleO::Controller::Net::SoftwareConfig: ../common/net-config-multinode.yaml OS::TripleO::Compute::Net::SoftwareConfig: ../common/net-config-multinode.yaml OS::TripleO::Services::CephMgr: ../../deployment/ceph-ansible/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/ceph-ansible/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/ceph-ansible/ceph-osd.yaml OS::TripleO::Services::CephClient: ../../deployment/ceph-ansible/ceph-client.yaml OS::TripleO::Services::CeilometerAgentCentral: ../../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::CeilometerAgentIpmi: ../../deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-puppet.yaml OS::TripleO::Services::MetricsQdr: ../../deployment/metrics/qdr-container-puppet.yaml OS::TripleO::Services::OsloMessagingRpc: ../../deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml OS::TripleO::Services::OsloMessagingNotify: ../../deployment/rabbitmq/rabbitmq-messaging-notify-shared-puppet.yaml OS::TripleO::Services::HAproxy: ../../deployment/haproxy/haproxy-pacemaker-puppet.yaml OS::TripleO::Services::Pacemaker: ../../deployment/pacemaker/pacemaker-baremetal-puppet.yaml OS::TripleO::Services::PacemakerRemote: ../../deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml OS::TripleO::Services::Clustercheck: ../../deployment/pacemaker/clustercheck-container-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml OS::TripleO::Services::Rsyslog: ../../deployment/logging/rsyslog-container-puppet.yaml OS::TripleO::Services::MySQL: ../../deployment/database/mysql-pacemaker-puppet.yaml OS::TripleO::Services::CinderBackup: ../../deployment/cinder/cinder-backup-pacemaker-puppet.yaml OS::TripleO::Services::CinderVolume: ../../deployment/cinder/cinder-volume-pacemaker-puppet.yaml OS::TripleO::Services::Keepalived: OS::Heat::None OS::TripleO::Services::HeatApi: ../../deployment/heat/heat-api-container-puppet.yaml OS::TripleO::Services::HeatApiCfn: ../../deployment/heat/heat-api-cfn-container-puppet.yaml OS::TripleO::Services::HeatApiCloudwatch: ../../deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml OS::TripleO::Services::HeatEngine: ../../deployment/heat/heat-engine-container-puppet.yaml #Needs to run scenario001 # Some infra instances don't pass the ping test but are otherwise working. # Since the OVB jobs also test this functionality we can shut it off here. OS::TripleO::AllNodes::Validation: ../common/all-nodes-validation-disabled.yaml parameter_defaults: ControllerServices: - OS::TripleO::Services::CACerts - OS::TripleO::Services::Clustercheck - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::Docker - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::MySQL - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::OVNMetadataAgent - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::HAproxy - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Memcached - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaApi - OS::TripleO::Services::PlacementApi - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::Securetty - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::NovaCompute - OS::TripleO::Services::NovaLibvirt - OS::TripleO::Services::NovaMigrationTarget - OS::TripleO::Services::Redis - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::AodhListener - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentIpmi - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::ComputeCeilometerAgent - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephOSD - OS::TripleO::Services::CephClient - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::Collectd - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Multipathd ControllerExtraConfig: nova::compute::libvirt::services::libvirt_virt_type: qemu nova::compute::libvirt::libvirt_virt_type: qemu # NOTE(sileht): To decrease the time test_telemetry_integration takes We # configure Ceilometer to poll more, We configure the # 'ceilometer-high-rate' Gnocchi archive policy to keep 1 point every 60s. # The test will take 2 minutes instead of 10 minutes. Note that tempest # telemetry.alarm_granularity must in sync with the archive policy, 60s # too. ceilometer::agent::polling::polling_interval: 15 # NOTE(mmagr): uncomment when QDR mesh will actually work (followup on review.opendev.org/702754) #tripleo::profile::base::metrics::qdr::router_mode: interior ManagePolling: true ManagePipeline: true CeilometerEnableGnocchi: true PipelinePublishers: - gnocchi://?archive_policy=ceilometer-high-rate EventPipelinePublishers: - gnocchi://?archive_policy=ceilometer-high-rate CeilometerQdrPublishEvents: true ManageEventPipeline: true Debug: true DockerPuppetDebug: True CephAnsibleDisksConfig: devices: - /dev/loop3 journal_size: 512 osd_scenario: collocated CephPoolDefaultPgNum: 32 CephAnsibleRepo: ""tripleo-centos-ceph-nautilus"" CephPoolDefaultSize: 1 CephPools: - name: altrbd pg_num: 8 rule_name: replicated_rule CephAnsibleExtraConfig: centos_package_dependencies: [] ceph_osd_docker_memory_limit: '1g' ceph_mds_docker_memory_limit: '1g' handler_health_mon_check_retries: 10 handler_health_mon_check_delay: 20 CephAnsibleSkipTags: '' #NOTE: These ID's and keys should be regenerated for # a production deployment. What is here is suitable for # developer and CI testing only. CephClusterFSID: '4b5c8c0a-ff60-454b-a1b4-9747aa737d19' CephMonKey: 'AQC+Ox1VmEr3BxAALZejqeHj50Nj6wJDvs96OQ==' CephAdminKey: 'AQDLOh1VgEp6FRAAFzT7Zw+Y9V6JJExQAsRnRQ==' CephClientKey: 'AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw==' CephAnsiblePlaybookVerbosity: 1 CephAnsibleEnvironmentVariables: ANSIBLE_SSH_RETRIES: '4' DEFAULT_FORKS: '3' NovaEnableRbdBackend: true CinderEnableRbdBackend: true CinderRbdExtraPools: altrbd CinderBackupBackend: ceph GlanceBackend: rbd GnocchiBackend: rbd CinderEnableIscsiBackend: false GnocchiArchivePolicy: 'ceilometer-high-rate' BannerText: | ****************************************************************** * This system is for the use of authorized users only. Usage of * * this system may be monitored and recorded by system personnel. * * Anyone using this system expressly consents to such monitoring * * and is advised that if such monitoring reveals possible * * evidence of criminal activity, system personnel may provide * * the evidence from such monitoring to law enforcement officials.* ****************************************************************** CollectdConnectionType: amqp1 CollectdExtraPlugins: - rrdtool CollectdEnableSensubility: true LoggingServers: - host: 127.0.0.1 port: 24224 RsyslogElasticsearchSetting: Server: '127.0.0.1:9200' TtyValues: - console - tty1 - tty2 - tty3 - tty4 - tty5 - tty6 # Remove ContainerCli once this scenario is tested on CentOS8 ContainerCli: podman ",,191,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I37611d516495b2b82b56a08df8b6ac38e0687083,openstack/tripleo-heat-templates,stable/train,I37611d516495b2b82b56a08df8b6ac38e0687083,Add j2 per-role MetricsQdrNetwork,MERGED,2020-03-13 11:48:53.000000000,2020-03-13 18:27:48.000000000,2020-03-13 18:27:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-03-13 11:48:53.000000000', 'files': ['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'network/service_net_map.j2.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/025171a3ac65663f0448bdd35da4c57401658fb9', 'message': 'Add j2 per-role MetricsQdrNetwork\n\nAllow the MetricsQdrNetwork to vary by role. This is needed\nas the CephStorage, BlockStorage, and ObjectStorage roles need\nto use the storage network, while other roles need internal_api.\n\nChange-Id: I37611d516495b2b82b56a08df8b6ac38e0687083\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n(cherry picked from commit 0b2441cdc91c7e6a226e030927bde4be52e4591b)\n'}]",0,712915,025171a3ac65663f0448bdd35da4c57401658fb9,9,5,1,6924,,,0,"Add j2 per-role MetricsQdrNetwork

Allow the MetricsQdrNetwork to vary by role. This is needed
as the CephStorage, BlockStorage, and ObjectStorage roles need
to use the storage network, while other roles need internal_api.

Change-Id: I37611d516495b2b82b56a08df8b6ac38e0687083
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
(cherry picked from commit 0b2441cdc91c7e6a226e030927bde4be52e4591b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/712915/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/qdr-edge-only.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'environments/metrics/qdr-form-controller-mesh.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'network/service_net_map.j2.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",7,025171a3ac65663f0448bdd35da4c57401658fb9,metrics-qdr-network-role-stable/train," $NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName} NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName} NETWORK: get_param: - ServiceNetMap - str_replace: template: ""ROLENAMEMetricsQdrNetwork"" params: ROLENAME: {get_param: RoleName}"," $NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]} NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]} NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]}",64,27
openstack%2Fpython-tripleoclient~master~I65eac9f813330d066f8ca6cbaae6c972d43d0246,openstack/python-tripleoclient,master,I65eac9f813330d066f8ca6cbaae6c972d43d0246,Remove mistral from the configure workflows,MERGED,2020-02-24 21:45:51.000000000,2020-03-13 18:17:42.000000000,2020-03-13 18:16:00.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 21:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e12bceb5ae466fd476a79b7e12f5f191f69369d2', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-26 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/851f371c5859457efcc5b0b247b7125a9506d732', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eed93d339980417292fa74a2452f5e743b076974', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-28 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dbc2ef4c8015fda734f1c92321799ea9cc1837ee', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9487957bee791fe63a6d0cdb7d4f7059835e916', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-03-06 14:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e25f2c1fa875a722676413a7dbc4d1a4cf62ba09', 'message': 'Remove mistral from the configure workflow\n\nThis change removes all of mistral from the configure function\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-03-06 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/41dbf6f2d5c816690e29f2f48c6eac87642a7757', 'message': 'Remove mistral from the configure workflows\n\nThis change removes all of mistral from the configure functions\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\nTask: 38448\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-03-06 23:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ca00a9c8f39acda7bebb546c0b6fe1a9b5a6edb', 'message': 'Remove mistral from the configure workflows\n\nThis change removes all of mistral from the configure functions\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\nTask: 38448\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-03-09 13:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d72475d067245183393ce2886d3dfbeab64be1e', 'message': 'Remove mistral from the configure workflows\n\nThis change removes all of mistral from the configure functions\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\nTask: 38448\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-03-11 13:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4b82ba7c82fff2308ad205893d9ad60be061f7a', 'message': 'Remove mistral from the configure workflows\n\nThis change removes all of mistral from the configure functions\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\nTask: 38448\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2020-03-13 11:08:19.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af719b795bc9ba2b2c3dbcec855990ef815bfc2c', 'message': 'Remove mistral from the configure workflows\n\nThis change removes all of mistral from the configure functions\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38447\nTask: 38448\n\nChange-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,709616,af719b795bc9ba2b2c3dbcec855990ef815bfc2c,46,8,11,7353,,,0,"Remove mistral from the configure workflows

This change removes all of mistral from the configure functions
by calling the required functions directly.

Story: 2007212
Task: 38447
Task: 38448

Change-Id: I65eac9f813330d066f8ca6cbaae6c972d43d0246
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/709616/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py']",4,e12bceb5ae466fd476a79b7e12f5f191f69369d2,mistral_to_ansible," self.boot_action = mock.patch( 'tripleo_common.actions.baremetal.ConfigureBootAction.run', autospec=True ) self.boot_action.start() self.addCleanup(self.boot_action.stop) self.boot_action = mock.patch( 'tripleo_common.actions.baremetal.ConfigureRootDeviceAction.run', autospec=True ) self.boot_action.start() self.addCleanup(self.boot_action.stop) ",,56,79
openstack%2Fgovernance~master~I512a000720d6402faa3e51551fe4e5841b1231ac,openstack/governance,master,I512a000720d6402faa3e51551fe4e5841b1231ac,Split OpenDev out of OpenStack Infra,MERGED,2020-02-26 12:14:02.000000000,2020-03-13 18:12:01.000000000,2020-03-13 18:10:30.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 9562}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-26 12:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f4f11d131365de0e9e8e927578fe3963e31e7592', 'message': 'Revert ""Revert ""Split OpenDev out of OpenStack Infra""""\n\nI still think this is valuable but I\'ve re-proposed it with a\nDepends-On instead for the governance to be nailed down and\na proper actual \'group\' defined which will be taking it over\nas at this point, there is none defined.\n\nThis reverts commit 822225892172681c3582b457a0b856360037365e.\n\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\nDepends-On: https://review.opendev.org/703488\n'}, {'number': 2, 'created': '2020-02-28 09:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/434c78c4b625c2d484c81c708ed741df03ee7c3b', 'message': 'Revert ""Revert ""Split OpenDev out of OpenStack Infra""""\n\nI still think this is valuable but I\'ve re-proposed it with a\nDepends-On instead for the governance to be nailed down and\na proper actual \'group\' defined which will be taking it over\nas at this point, there is none defined.\n\nThis reverts commit 822225892172681c3582b457a0b856360037365e.\n\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\nNeeded-By: https://review.opendev.org/703488\n'}, {'number': 3, 'created': '2020-02-28 09:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/66584b264608db09e8aaffb97c089177cdbcb9d0', 'message': 'Revert ""Revert ""Split OpenDev out of OpenStack Infra""""\n\nI still think this is valuable but I\'ve re-proposed it with a\nDepends-On instead for the governance to be nailed down and\na proper actual \'group\' defined which will be taking it over\nas at this point, there is none defined.\n\nThis reverts commit 822225892172681c3582b457a0b856360037365e.\n\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\nNeeded-By: https://review.opendev.org/703488\n'}, {'number': 4, 'created': '2020-02-29 19:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8e9b8b3776e58835bfc03713f81017b61a6bba72', 'message': 'Revert ""Revert ""Split OpenDev out of OpenStack Infra""""\n\nI still think this is valuable but I\'ve re-proposed it with a\nDepends-On instead for the governance to be nailed down and\na proper actual \'group\' defined which will be taking it over\nas at this point, there is none defined.\n\nThis reverts commit 822225892172681c3582b457a0b856360037365e.\n\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\nNeeded-By: https://review.opendev.org/703488\n'}, {'number': 5, 'created': '2020-03-01 19:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/23cdda8d901a621b0b8ca2f9a69350ebe1c9fa64', 'message': 'Revert ""Revert ""Split OpenDev out of OpenStack Infra""""\n\nI still think this is valuable but I\'ve re-proposed it with a\nDepends-On instead for the governance to be nailed down and\na proper actual \'group\' defined which will be taking it over\nas at this point, there is none defined.\n\nThis reverts commit 822225892172681c3582b457a0b856360037365e.\n\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\nNeeded-By: https://review.opendev.org/703488\n'}, {'number': 6, 'created': '2020-03-06 14:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/519b73ad0d466d1dd9ede354fe78c12693777e37', 'message': ""Split OpenDev out of OpenStack Infra\n\nOne of the goals of the OpenDev effort is that it be applicable to\nprojects that are not OpenStack. While the OpenStack TC and goverance\nhas worked for us previously, we believe that officially splitting off\nOpenDev gives it the freedom it needs to properly address user needs\nbeyond OpenStack.\n\nDetails on OpenDev's future plans can be found here:\nhttp://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html\n\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nNeeded-By: https://review.opendev.org/703488\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\n""}, {'number': 7, 'created': '2020-03-12 15:11:02.000000000', 'files': ['reference/projects.yaml', 'resolutions/index.rst', 'resolutions/20200228-openstack-infra-split-to-opendev.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/027579555b1ed1d46e9c2ccf76d35b71b24fcacf', 'message': ""Split OpenDev out of OpenStack Infra\n\nOne of the goals of the OpenDev effort is that it be applicable to\nprojects that are not OpenStack. While the OpenStack TC and goverance\nhas worked for us previously, we believe that officially splitting off\nOpenDev gives it the freedom it needs to properly address user needs\nbeyond OpenStack.\n\nDetails on OpenDev's future plans can be found here:\nhttp://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html\n\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nNeeded-By: https://review.opendev.org/703488\nChange-Id: I512a000720d6402faa3e51551fe4e5841b1231ac\n""}]",17,710020,027579555b1ed1d46e9c2ccf76d35b71b24fcacf,58,20,7,1004,,,0,"Split OpenDev out of OpenStack Infra

One of the goals of the OpenDev effort is that it be applicable to
projects that are not OpenStack. While the OpenStack TC and goverance
has worked for us previously, we believe that officially splitting off
OpenDev gives it the freedom it needs to properly address user needs
beyond OpenStack.

Details on OpenDev's future plans can be found here:
http://lists.openstack.org/pipermail/openstack-infra/2019-December/006537.html

Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Needed-By: https://review.opendev.org/703488
Change-Id: I512a000720d6402faa3e51551fe4e5841b1231ac
",git fetch https://review.opendev.org/openstack/governance refs/changes/20/710020/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,f4f11d131365de0e9e8e927578fe3963e31e7592,formal-vote," Develop and maintain, in conjunction with the OpenDev project, the tooling and infrastructure needed to support the development process and general operation of the OpenStack project.", Develop and maintain the tooling and infrastructure needed to support the development process and general operation of the OpenStack project. afsmon: repos: - opendev/afsmon ansible-role-cloud-launcher: repos: - opendev/ansible-role-cloud-launcher ansible-role-puppet: repos: - opendev/ansible-role-puppet askbot-theme: repos: - opendev/askbot-theme bindep: repos: - opendev/bindep elastic-recheck: repos: - opendev/elastic-recheck gear: repos: - opendev/gear germqtt: repos: - opendev/germqtt gerrit: repos: - opendev/gerrit gerritbot: repos: - opendev/gerritbot gerritlib: repos: - opendev/gerritlib git-restack: repos: - opendev/git-restack git-review: repos: - opendev/git-review glean: repos: - opendev/glean grafyaml: repos: - opendev/grafyaml infra-manual: repos: - openstack/infra-manual infra-specs: release-management: none repos: - opendev/infra-specs irc-meetings: repos: - opendev/irc-meetings jeepyb: repos: - opendev/jeepyb lodgeit: repos: - opendev/lodgeit log-classify: repos: - opendev/log-classify log_processor: repos: - opendev/log_processor lpmqtt: repos: - opendev/lpmqtt meetbot: repos: - opendev/meetbot mqtt_statsd: repos: - opendev/mqtt_statsd project-config-example: repos: - opendev/project-config-example publications: repos: - opendev/publications puppet-accessbot: repos: - opendev/puppet-accessbot puppet-ansible: repos: - opendev/puppet-ansible puppet-apparmor: repos: - opendev/puppet-apparmor puppet-askbot: repos: - opendev/puppet-askbot puppet-asterisk: repos: - opendev/puppet-asterisk puppet-bandersnatch: repos: - opendev/puppet-bandersnatch puppet-bugdaystats: repos: - opendev/puppet-bugdaystats puppet-bup: repos: - opendev/puppet-bup puppet-cgit: repos: - opendev/puppet-cgit puppet-ciwatch: repos: - opendev/puppet-ciwatch puppet-infra-cookiecutter: repos: - opendev/puppet-infra-cookiecutter puppet-dashboard: repos: - opendev/puppet-dashboard puppet-diskimage_builder: repos: - opendev/puppet-diskimage_builder puppet-drupal: repos: - opendev/puppet-drupal puppet-elastic_recheck: repos: - opendev/puppet-elastic_recheck puppet-elasticsearch: repos: - opendev/puppet-elasticsearch puppet-ethercalc: repos: - opendev/puppet-ethercalc puppet-etherpad_lite: repos: - opendev/puppet-etherpad_lite puppet-exim: repos: - opendev/puppet-exim puppet-germqtt: repos: - opendev/puppet-germqtt puppet-gerrit: repos: - opendev/puppet-gerrit puppet-gerritbot: repos: - opendev/puppet-gerritbot puppet-github: repos: - opendev/puppet-github puppet-grafyaml: repos: - opendev/puppet-grafyaml puppet-graphite: repos: - opendev/puppet-graphite puppet-haveged: repos: - opendev/puppet-haveged puppet-hound: repos: - opendev/puppet-hound puppet-httpd: repos: - opendev/puppet-httpd puppet-infracloud: repos: - opendev/puppet-infracloud puppet-ipsilon: repos: - opendev/puppet-ipsilon puppet-iptables: repos: - opendev/puppet-iptables puppet-jeepyb: repos: - opendev/puppet-jeepyb puppet-jenkins: repos: - opendev/puppet-jenkins puppet-kerberos: repos: - opendev/puppet-kerberos puppet-kibana: repos: - opendev/puppet-kibana puppet-lodgeit: repos: - opendev/puppet-lodgeit puppet-log_processor: repos: - opendev/puppet-log_processor puppet-logrotate: repos: - opendev/puppet-logrotate puppet-logstash: repos: - opendev/puppet-logstash puppet-lpmqtt: repos: - opendev/puppet-lpmqtt puppet-mailman: repos: - opendev/puppet-mailman puppet-mediawiki: repos: - opendev/puppet-mediawiki puppet-meetbot: repos: - opendev/puppet-meetbot puppet-mosquitto: repos: - opendev/puppet-mosquitto puppet-mqtt_statsd: repos: - opendev/puppet-mqtt_statsd puppet-mysql_backup: repos: - opendev/puppet-mysql_backup puppet-nodepool: repos: - opendev/puppet-nodepool puppet-openafs: repos: - opendev/puppet-openafs puppet-openstack_health: repos: - opendev/puppet-openstack_health puppet-openstack_infra_spec_helper: repos: - opendev/puppet-openstack_infra_spec_helper puppet-openstackci: repos: - opendev/puppet-openstackci puppet-openstackid: repos: - opendev/puppet-openstackid puppet-os_client_config: repos: - opendev/puppet-os_client_config puppet-packagekit: repos: - opendev/puppet-packagekit puppet-pgsql_backup: repos: - opendev/puppet-pgsql_backup puppet-phabricator: repos: - opendev/puppet-phabricator puppet-pip: repos: - opendev/puppet-pip puppet-planet: repos: - opendev/puppet-planet puppet-project_config: repos: - opendev/puppet-project_config puppet-ptgbot: repos: - opendev/puppet-ptgbot puppet-puppet: repos: - opendev/puppet-puppet puppet-redis: repos: - opendev/puppet-redis puppet-refstack: repos: - opendev/puppet-refstack puppet-reviewday: repos: - opendev/puppet-reviewday puppet-simpleproxy: repos: - opendev/puppet-simpleproxy puppet-snmpd: repos: - opendev/puppet-snmpd puppet-ssh: repos: - opendev/puppet-ssh puppet-ssl_cert_check: repos: - opendev/puppet-ssl_cert_check puppet-statusbot: repos: - opendev/puppet-statusbot puppet-storyboard: repos: - opendev/puppet-storyboard puppet-subunit2sql: repos: - opendev/puppet-subunit2sql puppet-sudoers: repos: - opendev/puppet-sudoers puppet-tmpreaper: repos: - opendev/puppet-tmpreaper puppet-translation_checksite: repos: - opendev/puppet-translation_checksite puppet-ulimit: repos: - opendev/puppet-ulimit puppet-unattended_upgrades: repos: - opendev/puppet-unattended_upgrades puppet-unbound: repos: - opendev/puppet-unbound puppet-user: repos: - opendev/puppet-user puppet-vcsrepo: repos: - opendev/puppet-vcsrepo puppet-zanata: repos: - opendev/puppet-zanata puppet-zuul: repos: - opendev/puppet-zuul pynotedb: repos: - opendev/pynotedb python-storyboardclient: repos: - opendev/python-storyboardclient statusbot: repos: - opendev/statusbot storyboard: repos: - opendev/storyboard storyboard-webclient: repos: - opendev/storyboard-webclient subunit2sql: repos: - opendev/subunit2sql system-config: repos: - opendev/system-config yaml2ical: repos: - opendev/yaml2ical zone-opendev.org: repos: - opendev/zone-opendev.org,3,354
openstack%2Ftripleo-heat-templates~stable%2Frocky~I80bd347c4210f9ee7f06febe26a130269ab56b85,openstack/tripleo-heat-templates,stable/rocky,I80bd347c4210f9ee7f06febe26a130269ab56b85,Add swiftoperator role on ceph-rgw template,MERGED,2020-03-13 11:03:34.000000000,2020-03-13 17:47:10.000000000,2020-03-13 17:47:10.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9628d5bdf82c641fb40e5d1f6980d3edb416bb4', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)\n(cherry picked from commit e0fb354e9bc915e9caa94e1c6568c07c8be887ab)\n""}, {'number': 2, 'created': '2020-03-13 11:07:39.000000000', 'files': ['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e27b004bea26ead3ba99889e19065512afbfc1b', 'message': ""Add swiftoperator role on ceph-rgw template\n\nWhen deploying an Overcloud with Swift a role named\nswiftoperator is created.\nThis change make sure we have swiftoperator role\nwhen Ceph Object Gateway is created as well (as it's\nreplacement for swift).\n\nChange-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85\n(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)\n""}]",0,712909,0e27b004bea26ead3ba99889e19065512afbfc1b,8,3,2,25402,,,0,"Add swiftoperator role on ceph-rgw template

When deploying an Overcloud with Swift a role named
swiftoperator is created.
This change make sure we have swiftoperator role
when Ceph Object Gateway is created as well (as it's
replacement for swift).

Change-Id: I80bd347c4210f9ee7f06febe26a130269ab56b85
(cherry picked from commit f0aaaed685107e4acc1d30f2c1d0dafeb21fc88f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/712909/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",2,c9628d5bdf82c641fb40e5d1f6980d3edb416bb4,," rgw_keystone_accepted_admin_roles: ResellerAdmin, swiftoperator", rgw_keystone_accepted_admin_roles: ResellerAdmin,2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1,openstack/tripleo-heat-templates,stable/queens,I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1,Enable objects versioning for Ceph RadosGW,MERGED,2020-02-27 08:58:28.000000000,2020-03-13 17:47:08.000000000,2020-03-13 17:47:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-27 08:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e82cd498b219fe572f5aac63454601246cfd60a', 'message': 'Enable objects versioning for Ceph RadosGW\n\nWe enabled objects versioning for Swift in the Newton release [1],\nthis change aligns the RGW configuration to have the same behavior.\n\n1. https://review.openstack.org/#/c/384616/\n\nChange-Id: I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1\nCo-Authored-By: Pritha Srivastava <prsrivas@redhat.com>\nRelated-Bug: 1632215\n(cherry picked from commit 9e61e2313e678a534e5f62ad90b76a83a1919f3d)\n'}, {'number': 2, 'created': '2020-03-05 11:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/089a70f7192405a6a07476a92f1a055172fff115', 'message': 'Enable objects versioning for Ceph RadosGW\n\nWe enabled objects versioning for Swift in the Newton release [1],\nthis change aligns the RGW configuration to have the same behavior.\n\n1. https://review.openstack.org/#/c/384616/\n\nChange-Id: I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1\nCo-Authored-By: Pritha Srivastava <prsrivas@redhat.com>\nRelated-Bug: 1632215\n(cherry picked from commit 9e61e2313e678a534e5f62ad90b76a83a1919f3d)\n'}, {'number': 3, 'created': '2020-03-12 12:28:14.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac75650b1506ced899b48b4c6a97847362e4d1e1', 'message': 'Enable objects versioning for Ceph RadosGW\n\nWe enabled objects versioning for Swift in the Newton release [1],\nthis change aligns the RGW configuration to have the same behavior.\n\n1. https://review.openstack.org/#/c/384616/\n\nChange-Id: I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1\nCo-Authored-By: Pritha Srivastava <prsrivas@redhat.com>\nDepends-On: Ic692f57c8828e776f49e6c703e50e20d4bc87fe4\nRelated-Bug: 1632215\n(cherry picked from commit 9e61e2313e678a534e5f62ad90b76a83a1919f3d)\n'}]",0,710202,ac75650b1506ced899b48b4c6a97847362e4d1e1,24,5,3,6796,,,0,"Enable objects versioning for Ceph RadosGW

We enabled objects versioning for Swift in the Newton release [1],
this change aligns the RGW configuration to have the same behavior.

1. https://review.openstack.org/#/c/384616/

Change-Id: I6dbdd0eac52cceaad9ee74d707591540cf3f5ef1
Co-Authored-By: Pritha Srivastava <prsrivas@redhat.com>
Depends-On: Ic692f57c8828e776f49e6c703e50e20d4bc87fe4
Related-Bug: 1632215
(cherry picked from commit 9e61e2313e678a534e5f62ad90b76a83a1919f3d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/710202/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,6e82cd498b219fe572f5aac63454601246cfd60a,, rgw_swift_versioning_enabled: 'true',,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib034405a15ade9e9fb234a9875ebbe922abfdfc6,openstack/tripleo-heat-templates,stable/train,Ib034405a15ade9e9fb234a9875ebbe922abfdfc6,Use a jinja block to reduce str_replace repetition,MERGED,2020-03-09 15:43:54.000000000,2020-03-13 17:47:06.000000000,2020-03-13 17:47:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-03-09 15:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/634b4598948d8a352f732a19c06d7bff5eca805d', 'message': ""Use a jinja block to reduce str_replace repetition\n\nIt would appear that we use the same str_replace params most\nof the time, and there's no harm in using aliases where only\nsome of them are used. This way we reduce the maintenance\nburden because we only need to maintain it in one place.\n\nChange-Id: Ib034405a15ade9e9fb234a9875ebbe922abfdfc6\n(cherry picked from commit dda2030a6a8ed7062583a6e236059fc0b7d29f22)\n""}, {'number': 2, 'created': '2020-03-10 14:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99c90d7e3ed3e9caa7ddee4ba0eeb736797fd33b', 'message': ""Use a jinja block to reduce str_replace repetition\n\nIt would appear that we use the same str_replace params most\nof the time, and there's no harm in using aliases where only\nsome of them are used. This way we reduce the maintenance\nburden because we only need to maintain it in one place.\n\nChange-Id: Ib034405a15ade9e9fb234a9875ebbe922abfdfc6\n(cherry picked from commit dda2030a6a8ed7062583a6e236059fc0b7d29f22)\n""}, {'number': 3, 'created': '2020-03-12 11:08:57.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bee336a03607f941e02703aff02feb2328d83d1a', 'message': ""Use a jinja block to reduce str_replace repetition\n\nIt would appear that we use the same str_replace params most\nof the time, and there's no harm in using aliases where only\nsome of them are used. This way we reduce the maintenance\nburden because we only need to maintain it in one place.\n\nChange-Id: Ib034405a15ade9e9fb234a9875ebbe922abfdfc6\n(cherry picked from commit dda2030a6a8ed7062583a6e236059fc0b7d29f22)\n""}]",0,711940,bee336a03607f941e02703aff02feb2328d83d1a,28,11,3,6816,,,0,"Use a jinja block to reduce str_replace repetition

It would appear that we use the same str_replace params most
of the time, and there's no harm in using aliases where only
some of them are used. This way we reduce the maintenance
burden because we only need to maintain it in one place.

Change-Id: Ib034405a15ade9e9fb234a9875ebbe922abfdfc6
(cherry picked from commit dda2030a6a8ed7062583a6e236059fc0b7d29f22)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/711940/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,634b4598948d8a352f732a19c06d7bff5eca805d,scale-2020-stable/train,{% block deploy_steps_str_replace_params %}{% endblock %}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}{{ self.deploy_steps_str_replace_params() }}," str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} ENABLE_PAUNCH: {get_param: EnablePaunch} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} CONTAINER_HEALTHCHECK_DISABLED: {get_param: ContainerHealthcheckDisabled} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts} DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} BOOTSTRAP_SERVER_ID: {get_attr: [BootstrapServerId, value]} ENABLE_DEBUG: {get_param: ConfigDebug} ENABLE_PUPPET: {get_param: EnablePuppet} ENABLE_PAUNCH: {get_param: EnablePaunch} DOCKER_PUPPET_DEBUG: {get_param: DockerPuppetDebug} DOCKER_PUPPET_PROCESS_COUNT: {get_param: DockerPuppetProcessCount} DOCKER_PUPPET_MOUNT_HOST_PUPPET: {get_param: DockerPuppetMountHostPuppet} CONTAINER_CLI: {get_param: ContainerCli} CONTAINER_LOG_STDOUT_PATH: {get_param: ContainerLogStdoutPath} str_replace: params: DEPLOY_SOURCE_HOST: {get_param: deployment_source_hosts} DEPLOY_TARGET_HOST: {get_param: deployment_target_hosts}",10,93
openstack%2Ftripleo-ansible~master~I9952a4df122c00c0163b7e79dab8a821e3feff06,openstack/tripleo-ansible,master,I9952a4df122c00c0163b7e79dab8a821e3feff06,Get the list of enabled_services on the overcloud,MERGED,2020-03-12 14:51:23.000000000,2020-03-13 17:45:49.000000000,2020-03-13 17:45:49.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-12 14:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3527132287e0a7e58525b7f3f6cc73399f8fea0', 'message': ""Get the list of the enabled_services from the overcloud\n\nThis patch fixes the way we compute the enabled_services\nlist on the overcloud.\nWe don't need to use hiera anymore since the overcloud\nservices are already provided by config-download.\nThis patch also fixes the condition to check if a service\nis present in the list.\n\nChange-Id: I9952a4df122c00c0163b7e79dab8a821e3feff06\nCloses-Bug: #1867004\n""}, {'number': 2, 'created': '2020-03-12 16:22:28.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02ea16fbf2f631869e9366e757d80c71eb33befd', 'message': ""Get the list of enabled_services on the overcloud\n\nThis patch fixes the way we compute the enabled_services\nlist on the overcloud.\nWe don't need to use hiera anymore since the overcloud\nservices are already provided by config-download.\nThis patch also fixes the condition to check if a service\nis present in the list.\n\nChange-Id: I9952a4df122c00c0163b7e79dab8a821e3feff06\nCloses-Bug: #1867004\n""}]",0,712701,02ea16fbf2f631869e9366e757d80c71eb33befd,17,6,2,25402,,,0,"Get the list of enabled_services on the overcloud

This patch fixes the way we compute the enabled_services
list on the overcloud.
We don't need to use hiera anymore since the overcloud
services are already provided by config-download.
This patch also fixes the condition to check if a service
is present in the list.

Change-Id: I9952a4df122c00c0163b7e79dab8a821e3feff06
Closes-Bug: #1867004
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/712701/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml']",3,a3527132287e0a7e58525b7f3f6cc73399f8fea0,,"- name: get the list of enabled services on the overcloud set_fact: tripleo_enabled_services: ""{{ enabled_services | default([]) }}""",- name: gather hiera metadata command: hiera -c /etc/puppet/hiera.yaml enabled_services register: enabled_services become: true,8,9
openstack%2Fansible-collections-openstack~master~I3ac44e49ef2b8b05b2a182916e2ba5a0a980692f,openstack/ansible-collections-openstack,master,I3ac44e49ef2b8b05b2a182916e2ba5a0a980692f,os_nova_host_aggregate: Add support for not 'purging' missing hosts,MERGED,2020-03-13 15:37:07.000000000,2020-03-13 17:43:06.000000000,2020-03-13 17:43:06.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 15:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5a9351b2c700cda267c5bace14ef6f1b3d398b2c', 'message': ""os_nova_host_aggregate: Add support for not 'purging' missing hosts\n\nChange-Id: I3ac44e49ef2b8b05b2a182916e2ba5a0a980692f\nDepends-On: https://review.opendev.org/712917\n""}, {'number': 2, 'created': '2020-03-13 15:49:57.000000000', 'files': ['plugins/modules/os_nova_host_aggregate.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c5cd1a0e9f66c34ad80f1246fbea8f41073cb59b', 'message': ""os_nova_host_aggregate: Add support for not 'purging' missing hosts\n\nChange-Id: I3ac44e49ef2b8b05b2a182916e2ba5a0a980692f\nDepends-On: https://review.opendev.org/712917\n""}]",0,712979,c5cd1a0e9f66c34ad80f1246fbea8f41073cb59b,8,2,2,14369,,,0,"os_nova_host_aggregate: Add support for not 'purging' missing hosts

Change-Id: I3ac44e49ef2b8b05b2a182916e2ba5a0a980692f
Depends-On: https://review.opendev.org/712917
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/79/712979/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/os_nova_host_aggregate.py'],1,5a9351b2c700cda267c5bace14ef6f1b3d398b2c,feature/host_aggregates_no_purge," purge_hosts: description: Whether hosts not in I(hosts) should be removed from the aggregate type: bool default: true # Add an additional host to the aggregate - os_nova_host_aggregate: cloud: mycloud state: present name: db_aggregate hosts: - host3 purge_hosts: false metadata: type: dbcluster if module.params['name'] != aggregate.name: if module.params['hosts'] is not None: if module.params['purge_hosts']: if set(module.params['hosts']) != set(aggregate.hosts): return True else: intersection = set(module.params['hosts']).intersection(set(aggregate.hosts)) if set(module.params['hosts']) != intersection: return True if module.params['availability_zone'] is not None: if module.params['availability_zone'] != aggregate.availability_zone: return True if module.params['metadata'] is not None: if new_metadata != aggregate.metadata: return Truedef _update_hosts(cloud, aggregate, hosts, purge_hosts): if hosts is None: return hosts_to_add = set(hosts) - set(aggregate.hosts) for i in hosts_to_add: cloud.add_host_to_aggregate(aggregate.id, i) if not purge_hosts: return hosts_to_remove = set(aggregate.hosts) - set(hosts) for i in hosts_to_remove: cloud.remove_host_from_aggregate(aggregate.id, i) purge_hosts=dict(default=True, type='bool'), purge_hosts = module.params['purge_hosts'] _update_hosts(cloud, aggregate, hosts, False) _update_hosts(cloud, aggregate, hosts, purge_hosts) _update_hosts(cloud, aggregate, [], True)"," if ( (module.params['name'] != aggregate.name) or (module.params['hosts'] is not None and set(module.params['hosts']) != set(aggregate.hosts)) or (module.params['availability_zone'] is not None and module.params['availability_zone'] != aggregate.availability_zone) or (module.params['metadata'] is not None and new_metadata != aggregate.metadata) ): if hosts: for h in hosts: cloud.add_host_to_aggregate(aggregate.id, h) if hosts is not None: for i in (set(aggregate.hosts) - set(hosts)): cloud.remove_host_from_aggregate(aggregate.id, i) for i in (set(hosts) - set(aggregate.hosts)): cloud.add_host_to_aggregate(aggregate.id, i) if hosts: for h in hosts: cloud.remove_host_from_aggregate(aggregate.id, h)",52,17
openstack%2Fopenstack-helm-addons~master~I3c4b9724c51a6bcd26f56ba38ef73f03538b7b8a,openstack/openstack-helm-addons,master,I3c4b9724c51a6bcd26f56ba38ef73f03538b7b8a,Use OS_REGION_NAME rendered in from secret,MERGED,2020-03-13 16:13:05.000000000,2020-03-13 17:43:03.000000000,2020-03-13 17:43:03.000000000,"[{'_account_id': 8898}, {'_account_id': 18213}, {'_account_id': 18524}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30495}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-13 16:13:05.000000000', 'files': ['ranger-agent/templates/job-add-region.yaml', 'ranger-agent/templates/bin/_add-region.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ae112cb50b183713f85ae8e4d22030fba3f75d89', 'message': 'Use OS_REGION_NAME rendered in from secret\n\nChange-Id: I3c4b9724c51a6bcd26f56ba38ef73f03538b7b8a\n'}]",0,713009,ae112cb50b183713f85ae8e4d22030fba3f75d89,8,9,1,19391,,,0,"Use OS_REGION_NAME rendered in from secret

Change-Id: I3c4b9724c51a6bcd26f56ba38ef73f03538b7b8a
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/09/713009/1 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/job-add-region.yaml', 'ranger-agent/templates/bin/_add-region.py.tpl']",2,ae112cb50b183713f85ae8e4d22030fba3f75d89,," payload['id'] = os.environ['OS_REGION_NAME'] payload['name'] = os.environ['OS_REGION_NAME'] payload['vlcpName'] = os.environ['OS_REGION_NAME'] description = ""Automatic creation of Region %s"" % os.environ['OS_REGION_NAME']"," payload['id'] = os.environ['REGION'] payload['name'] = os.environ['REGION'] payload['vlcpName'] = os.environ['REGION'] description = ""Automatic creation of Region %s"" % os.environ['REGION']",4,6
openstack%2Fmagnum~stable%2Frocky~I5a189066316b88b42250c007850b639d965cd08b,openstack/magnum,stable/rocky,I5a189066316b88b42250c007850b639d965cd08b,DNM test rocky,ABANDONED,2018-12-19 11:20:50.000000000,2020-03-13 17:39:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-19 11:20:50.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2f0633898b024281be1c64752d2b1bb553d551d1', 'message': 'DNM test rocky\n\nChange-Id: I5a189066316b88b42250c007850b639d965cd08b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,626155,2f0633898b024281be1c64752d2b1bb553d551d1,3,1,1,20498,,,0,"DNM test rocky

Change-Id: I5a189066316b88b42250c007850b639d965cd08b
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/55/626155/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,2f0633898b024281be1c64752d2b1bb553d551d1,test-rocky,# FIXME test rocky,,1,0
openstack%2Fmagnum~stable%2Fqueens~I660e31bfad29243671bb2fa35232bd8de10c55a9,openstack/magnum,stable/queens,I660e31bfad29243671bb2fa35232bd8de10c55a9,DNM test queens,ABANDONED,2018-12-19 11:19:34.000000000,2020-03-13 17:39:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-19 11:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c852508a16723e34c04c6f40a13df94dea5a0dc', 'message': 'DNM test queens\n\nChange-Id: I660e31bfad29243671bb2fa35232bd8de10c55a9\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-02-18 10:44:40.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bf3d470a2d08e773711dfb49130bf0c4dc8e436a', 'message': 'DNM test queens\n\nChange-Id: I660e31bfad29243671bb2fa35232bd8de10c55a9\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,626154,bf3d470a2d08e773711dfb49130bf0c4dc8e436a,5,1,2,20498,,,0,"DNM test queens

Change-Id: I660e31bfad29243671bb2fa35232bd8de10c55a9
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/54/626154/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,6c852508a16723e34c04c6f40a13df94dea5a0dc,test-queens,# FIXME test queens,,1,0
openstack%2Fansible-collections-openstack~master~I40cc48c8b04713a63ab8fd8c71b785a824cf3715,openstack/ansible-collections-openstack,master,I40cc48c8b04713a63ab8fd8c71b785a824cf3715,os_nova_host_aggregate: Fixup sanity test failures,MERGED,2020-03-13 11:50:40.000000000,2020-03-13 17:37:20.000000000,2020-03-13 17:37:20.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 11:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/99c6b24f868d308c743993c6722cfdfd39f32410', 'message': 'os_nova_host_aggregate: Fixup sanity test failures\n\nChange-Id: I40cc48c8b04713a63ab8fd8c71b785a824cf3715\n'}, {'number': 2, 'created': '2020-03-13 15:49:57.000000000', 'files': ['tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_nova_host_aggregate.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d39f3ae5b00028c846544f0c54be8e99c86602e6', 'message': 'os_nova_host_aggregate: Fixup sanity test failures\n\nChange-Id: I40cc48c8b04713a63ab8fd8c71b785a824cf3715\n'}]",0,712917,d39f3ae5b00028c846544f0c54be8e99c86602e6,8,2,2,14369,,,0,"os_nova_host_aggregate: Fixup sanity test failures

Change-Id: I40cc48c8b04713a63ab8fd8c71b785a824cf3715
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/17/712917/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/sanity/ignore-2.9.txt', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/os_nova_host_aggregate.py']",3,99c6b24f868d308c743993c6722cfdfd39f32410,feature/host_aggregates_no_purge,"from __future__ import (absolute_import, division, print_function) __metaclass__ = type type: str type: dict type: str type: list elements: str type: str requirements: - ""python >= 3.6"" hosts=dict(required=False, default=None, type='list', elements='str'),","requirements: - ""python >= 3.6"""" hosts=dict(required=False, default=None, type='list'),",10,6
openstack%2Fmagnum-specs~master~I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487,openstack/magnum-specs,master,I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487,Spec on cluster upgrades Phase 1,ABANDONED,2017-02-14 15:34:10.000000000,2020-03-13 17:32:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 7230}, {'_account_id': 9178}, {'_account_id': 12404}, {'_account_id': 13861}, {'_account_id': 20259}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-02-14 15:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/59b7f9c1259cc20c1565c773b712994ee9e28a79', 'message': 'Spec on cluster upgrades Phase 1\n\nThis work highly depends on the new data model changes\nbeing done in Flatten Attribures [1][2].\n\n[1] blueprint flatten-attributes\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 2, 'created': '2017-09-11 13:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/b298cafe1f86d71ee5cdf34044f66494a1f214df', 'message': 'Spec on cluster upgrades Phase 1\n\nThis work highly depends on the new data model changes\nbeing done in Flatten Attribures [1][2].\n\n[1] blueprint flatten-attributes\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 3, 'created': '2017-10-12 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/e8d588e738223226a37d80f650111fb26e83b85b', 'message': 'Spec on cluster upgrades Phase 1\n\nThis work highly depends on the new data model changes\nbeing done in Flatten Attribures [1][2].\n\n[1] blueprint flatten-attributes\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 4, 'created': '2017-10-13 14:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/eadad3fd8169eeb1540717820c9eaf6ba9f0539a', 'message': 'Spec on cluster upgrades Phase 1\n\nThis work highly depends on the new data model changes\nbeing done in Flatten Attribures [1][2].\n\n[1] blueprint flatten-attributes\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 5, 'created': '2017-10-24 11:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/48484ec6fc56b078283d9fcf3536a19e6c31bbab', 'message': 'Spec on cluster upgrades Phase 1\n\nThis work highly depends on the new data model changes\nbeing done in Flatten Attribures [1][2].\n\n[1] blueprint flatten-attributes\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 6, 'created': '2017-10-24 11:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/49ac8f2c7d807987dce5a7ea0f05d82239d5a413', 'message': 'Spec on cluster upgrades Phase 1\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}, {'number': 7, 'created': '2017-12-13 09:34:37.000000000', 'files': ['specs/queens/cluster-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/6ded46fe5098dfd10ee63cff62739c24f883bd48', 'message': 'Spec on cluster upgrades Phase 1\n\nChange-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487\nImplements: blueprint cluster-upgrades\n'}]",36,433728,6ded46fe5098dfd10ee63cff62739c24f883bd48,29,9,7,20498,,,0,"Spec on cluster upgrades Phase 1

Change-Id: I8fb932e7fc5087f6e0bdf29ec1c1d5a275dbf487
Implements: blueprint cluster-upgrades
",git fetch https://review.opendev.org/openstack/magnum-specs refs/changes/28/433728/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/cluster-upgrades.rst'],1,59b7f9c1259cc20c1565c773b712994ee9e28a79,bp/cluster-uprgades,"========================== Cluster Upgrades Phase 1 ========================== Problem description =================== An important operation when running a service is managing upgrades. At the moment, magnum handles only creation, deletion and scale up or down. Docker and kubernetes release new versions in a very high pace and magnum's cluster drivers try to keep up. A magnum cluster contains various components that can be upgraded: the container engine, currently docker only, network drivers like flannel, storage drivers like Rex-Ray or other components. Proposed change =============== The above change assumes implementation of the Flatten Attributes feature [1]. After the above feature all attributes are going to be available at cluster level. Introduce a new cluster-upgrade endpoint to handle upgrades. Upgrades will be handled by a new upgrade endpoint. Each driver will support its own implementation of upgrades. At driver level, operators will define the list of attributes that can be upgraded. Each driver will validate if the given attribute can be updated to the requested value. eg coe_version should accept only an increase. (Decrease of coe_version or other attributes should be forbidden when using the upgrade endpoint). Workflow to upgrade a cluster from end-user perspective: 1. Create a cluster with or without a ClusterTemplate. (This might change in the future.) 2. Request an upgrade with the cluster-update command. eg magnum cluster-upgrade k8s-ct paramA=valueX paramB=valueY Note: Wait until reach UPDATE_COMPLETE. * An upgrade will be triggered by changing a set of cluster values. For example, changing the image and/or the coe_version using cluster-upgrade. * Upgrades will be handled by the COE driver. Each driver will support a specific list of upgrades. For example, driverA could support upgrades from version 1 to 2, 2 to 3 and 3 to 4. Other drivers, could support more upgrade paths. Modes of Operation ------------------ * Rolling live upgrade by node replacement. For each node in the cluster, magnum will drain the node and make it unschedulable, delete the node, add a new node and make it schedulable. Master nodes will be upgraded first. It is assumed that a COE supports rolling upgrades and can handle version in concistencies between its compenents. For clusters, with one master, downtime should be expected. eg Upgrading docker in a Swarm cluster with one master will result to downtime of the Swarm API. COEs that do not support the above upgrade path will implement their own logic at driver level. Implementation ============== In Phase 1, only upgrading the coe_version and the image will be implemented. All the upgrade logic will be included in the COE driver allowing operators to enhance or add upgrade capabilities of a COE driver. In Phase 1, each driver will implement one mode of operation. In Phase 2, a driver could implement more than one modes of operation and will allow users to chose the mode of preference. eg batch upgrades. Upgrade COE in k8s_fedora_atomic -------------------------------- To upgrade the COE in this driver the user will have to pass the coe_version and the new image to upgrade to. The upgrade will be in the master nodes first and in the worker nodes after, one-by-one. All nodes will be drained before applying the upgrade. Pods that are not in a Stateful Set or not created with a ReplicationController will be lost. Any data not mounted in persistent storage will be lost. Assignee(s) ----------- strigazi Work Items ---------- * Extend the cluster endpoint on server and on the client * Implement the upgrade logic for the k8s_fedora_atomic and k8s_coreos drivers * Implement the upgrade logic for swarm_fedora_atomic with swarm-mode (when available) * Implement the upgrade logic for Mesos and DC/OS Documentation Impact ==================== * Document cluster upgrades from end-users point of view * Document the implementation of upgrade paths for a generic driver API Impact ========== Extend the cluster endpoint by adding the upgrade path. Datamodel Impact ================ None Dependencies ============ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Kilo - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,141,0
openstack%2Fheat~master~Ibbb25c03bc615aa4fb22088474bb0604d736a05b,openstack/heat,master,Ibbb25c03bc615aa4fb22088474bb0604d736a05b,DNM test usage of use_json for logging,ABANDONED,2018-09-26 07:13:20.000000000,2020-03-13 17:32:50.000000000,,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 12404}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-26 07:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/42f2f9d07bb438990da38d12a0b3665a9a35fac8', 'message': 'DNM test usage of use_json for logging\n\nChange-Id: Ibbb25c03bc615aa4fb22088474bb0604d736a05b\n'}, {'number': 2, 'created': '2020-03-07 13:27:33.000000000', 'files': ['devstack/lib/heat'], 'web_link': 'https://opendev.org/openstack/heat/commit/9655c5305401e92961cf0c5a2dda0c4253712718', 'message': 'DNM test usage of use_json for logging\n\nChange-Id: Ibbb25c03bc615aa4fb22088474bb0604d736a05b\n'}]",0,605342,9655c5305401e92961cf0c5a2dda0c4253712718,20,5,2,20498,,,0,"DNM test usage of use_json for logging

Change-Id: Ibbb25c03bc615aa4fb22088474bb0604d736a05b
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/605342/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/heat'],1,42f2f9d07bb438990da38d12a0b3665a9a35fac8,test-use-json, iniset $HEAT_CONF DEFAULT debug False iniset $HEAT_CONF DEFAULT use_json True, iniset $HEAT_CONF DEFAULT debug $ENABLE_DEBUG_LOG_LEVEL,2,1
openstack%2Fmagnum~master~Ib4843da07bc6c748b9a7b6eabc2163f43c471812,openstack/magnum,master,Ib4843da07bc6c748b9a7b6eabc2163f43c471812,Add swarm-mode labels for networking,ABANDONED,2018-10-02 15:07:01.000000000,2020-03-13 17:32:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-02 15:07:01.000000000', 'files': ['magnum/drivers/common/templates/swarm/fragments/write-heat-params-node.yaml', 'magnum/drivers/common/templates/swarm/fragments/add-docker-daemon-options.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-swarm-worker-service.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-heat-params-master.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-swarm-master-service.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmnode.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/983765d0ff10224bd662547880addcb281548853', 'message': 'Add swarm-mode labels for networking\n\n* docker_gwbridge_cidr\n* docker_bip\n* docker_fixed_cidr\n\nTODO: story\n\nChange-Id: Ib4843da07bc6c748b9a7b6eabc2163f43c471812\n'}]",0,607283,983765d0ff10224bd662547880addcb281548853,3,1,1,20498,,,0,"Add swarm-mode labels for networking

* docker_gwbridge_cidr
* docker_bip
* docker_fixed_cidr

TODO: story

Change-Id: Ib4843da07bc6c748b9a7b6eabc2163f43c471812
",git fetch https://review.opendev.org/openstack/magnum refs/changes/83/607283/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/swarm/fragments/write-heat-params-node.yaml', 'magnum/drivers/common/templates/swarm/fragments/add-docker-daemon-options.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-swarm-worker-service.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-heat-params-master.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/fragments/write-swarm-master-service.sh', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmnode.yaml']",9,983765d0ff10224bd662547880addcb281548853,test-upstream-os7626," docker_gwbridge_cidr: type: string docker_bip: type: string docker_fixed_cidr: type: string ""$DOCKER_GWBRIDGE_CIDR"": {get_param: docker_gwbridge_cidr} ""$DOCKER_BIP"": {get_param: docker_bip} ""$DOCKER_FIXED_CIDR"": {get_param: docker_fixed_cidr}",,95,1
openstack%2Fproject-config~master~If5397d731e9fb04431482529aed23cd9fdaecc1d,openstack/project-config,master,If5397d731e9fb04431482529aed23cd9fdaecc1d,Install tox into a virtualenv on our images,MERGED,2020-03-13 16:29:01.000000000,2020-03-13 17:32:33.000000000,2020-03-13 17:32:33.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 16:29:01.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/40-install-tox'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8dffaef5c12f50c898ab8e785d718ca1774d723f', 'message': 'Install tox into a virtualenv on our images\n\nThis will install tox into a virtualenv on our images. On our older\nimages with globally installed tox this can be ignored but as we move to\n""plain"" images this can be used as an opt in tox executable by jobs.\nJobs can set the tox_executable path for the ensure-tox role.\n\nWe don\'t install it globally to avoid polluting package manager managed\npaths.\n\nChange-Id: If5397d731e9fb04431482529aed23cd9fdaecc1d\n'}]",0,713017,8dffaef5c12f50c898ab8e785d718ca1774d723f,7,3,1,4146,,,0,"Install tox into a virtualenv on our images

This will install tox into a virtualenv on our images. On our older
images with globally installed tox this can be ignored but as we move to
""plain"" images this can be used as an opt in tox executable by jobs.
Jobs can set the tox_executable path for the ensure-tox role.

We don't install it globally to avoid polluting package manager managed
paths.

Change-Id: If5397d731e9fb04431482529aed23cd9fdaecc1d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/713017/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/install.d/40-install-tox'],1,8dffaef5c12f50c898ab8e785d718ca1774d723f,install-tox-in-venv,"#!/bin/bash # Copyright (C) 2015 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # Install tox into a virtualenv # This is in /usr instead of /usr/local due to this bug on precise: # https://bugs.launchpad.net/ubuntu/+source/python2.7/+bug/839588 # dib-lint: disable=setu setpipefail if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -e python3 -m venv /usr/tox-env /usr/tox-env/bin/pip install tox ",,26,0
openstack%2Fmagnum~master~I88799969fa35978112ff7a2031825db93bbabe38,openstack/magnum,master,I88799969fa35978112ff7a2031825db93bbabe38,"Revert ""ci: Disable functional tests""",ABANDONED,2019-03-12 19:42:53.000000000,2020-03-13 17:32:31.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-12 19:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ff5a5c522d5f8da0be7e739e4a0fbe1d3928dd5e', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 2, 'created': '2019-04-02 22:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ecd41ddfc9257315f98e5cf1f6b35a67e418fbf5', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 3, 'created': '2019-04-05 13:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bb54f8ba25330187e58275fb0d714e3b8171f36a', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 4, 'created': '2019-04-17 14:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/26d4ef6a7869bbb49623a28b9f5f9cabac7ab244', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 5, 'created': '2019-07-04 11:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/331fd9ba976bab5fbe933281bfce336afc03201f', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 6, 'created': '2019-08-03 21:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/66ea87d71d38dd1e392c013d7364024a86637a0f', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 7, 'created': '2019-08-20 21:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5c4e70b79a4d413825be3b61dd9df5f4d5b9bbf6', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}, {'number': 8, 'created': '2019-09-16 12:08:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/505373e92faa367951c5ecdaff89d9a9da81cbd6', 'message': 'Revert ""ci: Disable functional tests""\n\nThis reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.\n\nChange-Id: I88799969fa35978112ff7a2031825db93bbabe38\n'}]",0,642873,505373e92faa367951c5ecdaff89d9a9da81cbd6,21,3,8,20498,,,0,"Revert ""ci: Disable functional tests""

This reverts commit 16c2a4cfe33eb0ce667fcf17e01d41cf10abac73.

Change-Id: I88799969fa35978112ff7a2031825db93bbabe38
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/642873/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ff5a5c522d5f8da0be7e739e4a0fbe1d3928dd5e,add-ci, - magnum-functional-k8s - magnum-functional-swarm-mode,,2,0
openstack%2Fpuppet-tripleo~stable%2Frocky~I78cb6ae21366a429b65a8357b3b267a485484a42,openstack/puppet-tripleo,stable/rocky,I78cb6ae21366a429b65a8357b3b267a485484a42,Make sure we create stonith resources before stonith levels,MERGED,2020-03-13 06:50:52.000000000,2020-03-13 17:22:04.000000000,2020-03-13 15:17:44.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 06:50:52.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5de64973b083904ad48198d957df403f76928f1f', 'message': 'Make sure we create stonith resources before stonith levels\n\nCurrently stonith levels kind of work out of pure luck. If puppet\ndecides to reorder resources stonith levels can fail with:\n\n            ""Error: /Stage[main]/Tripleo::Fencing/Pacemaker::Stonith::Level[stonith-1-525400e05b23]/Pcmk_stonith_level[stonith-level-1-$(/usr/sbin/crm_node -n)-stonith-fence_ipmilan-525400e05b23]/ensure: change from absent to present failed: pcs -f /var/lib/pacemaker/cib/puppet-cib-backup20200305-60559-tn9ici create failed: Error: Stonith resource(s) \'stonith-fence_ipmilan-525400e05b23\' do not exist, use --force to override""\n\nNowhere in the code do we mandate that the single stonith resources need\nto be created *before* the stonith levels which make use of them.\nLet\'s add a constraint via collectors so we enforce this ordering.\n\nTested on the environment that was not working and got a correctly\ndeployed IHA overcloud.\n\nChange-Id: I78cb6ae21366a429b65a8357b3b267a485484a42\nCloses-Bug: #1866214\n(cherry picked from commit b706f5365a84712eea8a133a9b8029878dcec2d2)\n(cherry picked from commit dd44d1552bb262adc7074d3567e034f83ec226dd)\n(cherry picked from commit cbf11f05d461c9519a266f4cda91f01ad585d5c7)\n'}]",0,712841,5de64973b083904ad48198d957df403f76928f1f,9,4,1,20172,,,0,"Make sure we create stonith resources before stonith levels

Currently stonith levels kind of work out of pure luck. If puppet
decides to reorder resources stonith levels can fail with:

            ""Error: /Stage[main]/Tripleo::Fencing/Pacemaker::Stonith::Level[stonith-1-525400e05b23]/Pcmk_stonith_level[stonith-level-1-$(/usr/sbin/crm_node -n)-stonith-fence_ipmilan-525400e05b23]/ensure: change from absent to present failed: pcs -f /var/lib/pacemaker/cib/puppet-cib-backup20200305-60559-tn9ici create failed: Error: Stonith resource(s) 'stonith-fence_ipmilan-525400e05b23' do not exist, use --force to override""

Nowhere in the code do we mandate that the single stonith resources need
to be created *before* the stonith levels which make use of them.
Let's add a constraint via collectors so we enforce this ordering.

Tested on the environment that was not working and got a correctly
deployed IHA overcloud.

Change-Id: I78cb6ae21366a429b65a8357b3b267a485484a42
Closes-Bug: #1866214
(cherry picked from commit b706f5365a84712eea8a133a9b8029878dcec2d2)
(cherry picked from commit dd44d1552bb262adc7074d3567e034f83ec226dd)
(cherry picked from commit cbf11f05d461c9519a266f4cda91f01ad585d5c7)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/712841/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,5de64973b083904ad48198d957df403f76928f1f,fix-stonith-level-stable/train-stable/stein-stable/rocky, Pcmk_stonith<||> -> Pcmk_stonith_level<||>,,1,0
openstack%2Ftripleo-heat-templates~master~I408490346840d5a2e3ae29f53cbc100edcf72ee7,openstack/tripleo-heat-templates,master,I408490346840d5a2e3ae29f53cbc100edcf72ee7,Remove skydive,MERGED,2020-03-12 20:03:46.000000000,2020-03-13 17:18:02.000000000,2020-03-13 17:18:01.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 20:03:46.000000000', 'files': ['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/services/skydive-environment.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'tools/yaml-validate.py', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/skydive/skydive-agent-baremetal-ansible.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bac746b25bc9fa0a5bd666b6a5c9ae4b043dc5c6', 'message': ""Remove skydive\n\nWe're dropping this as it has no testing and is not currentily available\nfor CentOS 8.\n\nChange-Id: I408490346840d5a2e3ae29f53cbc100edcf72ee7\nDepends-On: https://review.opendev.org/#/c/712517/\n""}]",0,712783,bac746b25bc9fa0a5bd666b6a5c9ae4b043dc5c6,7,3,1,14985,,,0,"Remove skydive

We're dropping this as it has no testing and is not currentily available
for CentOS 8.

Change-Id: I408490346840d5a2e3ae29f53cbc100edcf72ee7
Depends-On: https://review.opendev.org/#/c/712517/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/712783/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCISriov.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'environments/services/skydive-environment.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'tools/yaml-validate.py', 'deployment/skydive/skydive-analyzer-baremetal-ansible.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/skydive/skydive-agent-baremetal-ansible.yaml', 'roles/Networker.yaml']",48,bac746b25bc9fa0a5bd666b6a5c9ae4b043dc5c6,remove-skydive,, - OS::TripleO::Services::SkydiveAgent,0,287
openstack%2Fansible-collections-openstack~master~Ib4d6b38757112908dbf58d70015482831a8c2e95,openstack/ansible-collections-openstack,master,Ib4d6b38757112908dbf58d70015482831a8c2e95,Remove MANIFEST.json before building,MERGED,2020-03-13 15:15:31.000000000,2020-03-13 17:14:32.000000000,2020-03-13 17:14:32.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 15:15:31.000000000', 'files': ['tools/build.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/852f385889e8385277843d869d806f35cd531250', 'message': ""Remove MANIFEST.json before building\n\nFor reasons surpassing understanding this doesn't seem to get\noverwritten.\n\nChange-Id: Ib4d6b38757112908dbf58d70015482831a8c2e95\n""}]",0,712970,852f385889e8385277843d869d806f35cd531250,6,2,1,2,,,0,"Remove MANIFEST.json before building

For reasons surpassing understanding this doesn't seem to get
overwritten.

Change-Id: Ib4d6b38757112908dbf58d70015482831a8c2e95
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/70/712970/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/build.py'],1,852f385889e8385277843d869d806f35cd531250,,import os if os.path.exists('MANIFEST.json'): os.unlink('MANIFEST.json'),,3,0
openstack%2Fopenstack-ansible~master~Iace92eae95b30dc7a842316f541d53f4dd3492b9,openstack/openstack-ansible,master,Iace92eae95b30dc7a842316f541d53f4dd3492b9,Bump SHAs for master,MERGED,2020-03-08 14:31:14.000000000,2020-03-13 17:04:47.000000000,2020-03-13 17:02:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-08 14:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/237b3ea13f2c67da10175a542ddf0810a9cdc45c', 'message': 'Bump SHAs for master\n\nChange-Id: Iace92eae95b30dc7a842316f541d53f4dd3492b9\n'}, {'number': 2, 'created': '2020-03-10 12:29:15.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/apt_repo-097cb34c12e60207.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8176d320d3e737dcf7bebc7d45a2ed362b28737e', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/712061\nChange-Id: Iace92eae95b30dc7a842316f541d53f4dd3492b9\n'}]",0,711849,8176d320d3e737dcf7bebc7d45a2ed362b28737e,20,4,2,28619,,,0,"Bump SHAs for master

Depends-On: https://review.opendev.org/712061
Change-Id: Iace92eae95b30dc7a842316f541d53f4dd3492b9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/711849/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'releasenotes/notes/apt_repo-097cb34c12e60207.yaml']",5,237b3ea13f2c67da10175a542ddf0810a9cdc45c,bump_osa,--- upgrade: - | Variable `uca_repo` has been removed. Deployers are appreciated to use `user_external_repos_list` instead if they want to define extra repository Variable `uca_apt_repo_url` was renamed to `apt_repo_url` in order to correspond it's usage as it also affect Debian deployments now. ,,54,47
openstack%2Fopenstack-helm-addons~master~Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e,openstack/openstack-helm-addons,master,Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e,Using hook to start and delete test pods,ABANDONED,2020-03-11 14:36:45.000000000,2020-03-13 16:58:21.000000000,,"[{'_account_id': 18213}, {'_account_id': 18524}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-11 14:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7a79e0d248518a34039dc59c76f55491cbd0cec3', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}, {'number': 2, 'created': '2020-03-11 20:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6d7e097ac6f681e47349d2d80c45bdf38178f9ff', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}, {'number': 3, 'created': '2020-03-11 22:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d50046fdb1f6998551b29ae42865d7865dd8e090', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}, {'number': 4, 'created': '2020-03-11 22:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3c17e286b4ca0f849f880d08f859f1b3cd2fbbb5', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}, {'number': 5, 'created': '2020-03-12 05:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/41d970f8b9a028fad504d8a1634359ae5b1e6a20', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}, {'number': 6, 'created': '2020-03-12 16:24:38.000000000', 'files': ['ranger-agent/templates/pod-test.yaml', 'ranger/templates/pod-test.yaml', 'ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/364fe631fed17ae598f166e3d19a72b374227946', 'message': 'Using hook to start and delete test pods\n\nChange-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e\n'}]",0,712458,364fe631fed17ae598f166e3d19a72b374227946,18,8,6,19391,,,0,"Using hook to start and delete test pods

Change-Id: Ife775ee79b2356eb929f866330ed4d1a0a7c8c7e
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/58/712458/1 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/pod-test.yaml', 'ranger/templates/pod-test.yaml']",2,7a79e0d248518a34039dc59c76f55491cbd0cec3,," ""helm.sh/hook"": test-success,post-install,post-upgrade ""helm.sh/hook-delete-policy"": before-hook-creation"," ""helm.sh/hook"": test-success",4,2
openstack%2Ftenks~master~I1b1cc4bb5a4b10388028232818b89d370ff63e7a,openstack/tenks,master,I1b1cc4bb5a4b10388028232818b89d370ff63e7a,Stop gzipping logs in get-logs.sh,MERGED,2020-03-12 12:33:38.000000000,2020-03-13 16:55:09.000000000,2020-03-13 16:53:02.000000000,"[{'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-12 12:33:38.000000000', 'files': ['roles/tenks-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/tenks/commit/3cc42834d0c5f393c89953e70a8318b1cc58af05', 'message': 'Stop gzipping logs in get-logs.sh\n\nAs per [1] we should stop compressing the logs sent to swift in order\nto get them back readable via a browser.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html\n\nChange-Id: I1b1cc4bb5a4b10388028232818b89d370ff63e7a\n'}]",0,712668,3cc42834d0c5f393c89953e70a8318b1cc58af05,10,4,1,14826,,,0,"Stop gzipping logs in get-logs.sh

As per [1] we should stop compressing the logs sent to swift in order
to get them back readable via a browser.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-January/011875.html

Change-Id: I1b1cc4bb5a4b10388028232818b89d370ff63e7a
",git fetch https://review.opendev.org/openstack/tenks refs/changes/68/712668/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tenks-diagnostics/files/get_logs.sh'],1,3cc42834d0c5f393c89953e70a8318b1cc58af05,,," find ${LOG_DIR}/{system_logs,libvirt_logs} -iname '*.txt' -execdir gzip -f -9 {} \+ find ${LOG_DIR}/{system_logs,libvirt_logs} -iname '*.json' -execdir gzip -f -9 {} \+",0,2
openstack%2Fopenstack-ansible-ops~master~Ic48db01029c4b94845ccacfba7440b13a59ab873,openstack/openstack-ansible-ops,master,Ic48db01029c4b94845ccacfba7440b13a59ab873,Allow non-url Elastic gpg key specification,MERGED,2020-02-25 14:24:02.000000000,2020-03-13 16:53:03.000000000,2020-03-13 16:46:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31004}]","[{'number': 1, 'created': '2020-02-25 14:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/baa656b02bafaf4b644d65fa7fcc392e0783662a', 'message': 'Allow non-url Elastic gpg key specification\n\nIt is currently the case that the elastic GPG key must be specified\nas a remote URL within the elastic_repositories role. This causes\nissues in the case that remote URLs specifying the GPG key are\ninaccessible due to e.g. firewalls at deploy time.\n\nIn analogy to Change-ID I7ac1a5e3a05aa3d0b4fae86c4a325ef147a9a528,\nthis commit allows the GPG key to be provided not only via a remote\nURL, but also in-data or through a file by allowing the full range\nof apt_key input types (url, file, data etc) to be provided. The\ndefault behaviour is unchanged.\n\nChange-Id: Ic48db01029c4b94845ccacfba7440b13a59ab873\n'}, {'number': 2, 'created': '2020-02-25 14:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5c4e4d69636ea2be8bddb502eddf30c61e543e16', 'message': 'Allow non-url Elastic gpg key specification\n\nIt is currently the case that the elastic GPG key must be specified\nas a remote URL within the elastic_repositories role. This causes\nissues in the case that remote URLs specifying the GPG key are\ninaccessible due to e.g. firewalls at deploy time.\n\nIn analogy to Change-ID I7ac1a5e3a05aa3d0b4fae86c4a325ef147a9a528,\nthis commit allows the GPG key to be provided not only via a remote\nURL, but also in-data or through a file by allowing the full range\nof apt_key input types (url, file, data etc) to be provided. The\ndefault behaviour is changed to use the vendor key in the role\ndata.\n\nChange-Id: Ic48db01029c4b94845ccacfba7440b13a59ab873\n'}, {'number': 3, 'created': '2020-02-25 15:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/8119dec0c9db52c02303532d89850901562a2530', 'message': 'Allow non-url Elastic gpg key specification\n\nIt is currently the case that the elastic GPG key must be specified\nas a remote URL within the elastic_repositories role. This causes\nissues in the case that remote URLs specifying the GPG key are\ninaccessible due to e.g. firewalls at deploy time.\n\nIn analogy to Change-ID I7ac1a5e3a05aa3d0b4fae86c4a325ef147a9a528,\nthis commit allows the GPG key to be provided not only via a remote\nURL, but also in-data or through a file by allowing the full range\nof apt_key input types (url, file, data etc) to be provided. The\ndefault behaviour is changed to use the vendor key in the role\nfiles.\n\nChange-Id: Ic48db01029c4b94845ccacfba7440b13a59ab873\n'}, {'number': 4, 'created': '2020-02-25 16:24:12.000000000', 'files': ['elk_metrics_7x/roles/elastic_repositories/defaults/main.yml', 'elk_metrics_7x/roles/elastic_repositories/files/gpg/46095ACC8548582C1A2699A9D27D666CD88E42B4', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_apt_repos.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/b875cc30b179b6d6c3159bf0f432d0dec181f8e3', 'message': 'Allow non-url Elastic gpg key specification\n\nIt is currently the case that the elastic GPG key must be specified\nas a remote URL within the elastic_repositories role. This causes\nissues in the case that remote URLs specifying the GPG key are\ninaccessible due to e.g. firewalls at deploy time.\n\nIn analogy to Change-ID I7ac1a5e3a05aa3d0b4fae86c4a325ef147a9a528,\nthis commit allows the GPG key to be provided not only via a remote\nURL, but also in-data or through a file by allowing the full range\nof apt_key input types (url, file, data etc) to be provided. The\ndefault behaviour is changed to use the vendor key in the role\nfiles.\n\nChange-Id: Ic48db01029c4b94845ccacfba7440b13a59ab873\n'}]",0,709732,b875cc30b179b6d6c3159bf0f432d0dec181f8e3,15,4,4,31004,,,0,"Allow non-url Elastic gpg key specification

It is currently the case that the elastic GPG key must be specified
as a remote URL within the elastic_repositories role. This causes
issues in the case that remote URLs specifying the GPG key are
inaccessible due to e.g. firewalls at deploy time.

In analogy to Change-ID I7ac1a5e3a05aa3d0b4fae86c4a325ef147a9a528,
this commit allows the GPG key to be provided not only via a remote
URL, but also in-data or through a file by allowing the full range
of apt_key input types (url, file, data etc) to be provided. The
default behaviour is changed to use the vendor key in the role
files.

Change-Id: Ic48db01029c4b94845ccacfba7440b13a59ab873
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/32/709732/4 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_repositories/defaults/main.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/ubuntu.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_apt_repos.yml']",3,baa656b02bafaf4b644d65fa7fcc392e0783662a,mirror_config,"- name: If a keyfile is provided, copy the gpg keyfile to the key location copy: src: ""gpg/{{ item.id }}"" dest: ""{{ item.file }}"" mode: '0644' with_items: ""{{ elastic_gpg_keys | selectattr('file','defined') | list }}"" - name: Install Elastic gpg keys apt_key: ""{{ key }}"" with_items: ""{{ elastic_gpg_keys }}"" loop_control: loop_var: key register: _add_apt_keys until: _add_apt_keys is success retries: 5","- name: add Elastic search public GPG key apt_key: url: ""{{ elastic_repo.key_url }}"" state: ""present"" register: _apt_task until: _apt_task is success retries: 3",24,9
openstack%2Fproject-config~master~I2b5b10b788969b4ccb05cd57891451b8d5ec7ade,openstack/project-config,master,I2b5b10b788969b4ccb05cd57891451b8d5ec7ade,Add queues for tripleo-ipa project,ABANDONED,2020-03-03 21:58:18.000000000,2020-03-13 16:42:34.000000000,,"[{'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 7414}, {'_account_id': 9954}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 21:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed28ea69bc82dd87de53511536e93e1424bb4996', 'message': 'Add jobs for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}, {'number': 2, 'created': '2020-03-04 15:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e4b7879ca1f723287b223db9a26271f547ac007', 'message': 'Add jobs for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}, {'number': 3, 'created': '2020-03-04 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/58a9212f2e12ad64c200508dfaf08444a0ad305b', 'message': 'Add jobs for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}, {'number': 4, 'created': '2020-03-10 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/da080ca67c03a1cd90990d86b5f905bbdcaf08b4', 'message': 'Add jobs for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}, {'number': 5, 'created': '2020-03-10 14:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6163e9112f00ecc135266455b87795905a6067dc', 'message': 'Add jobs for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}, {'number': 6, 'created': '2020-03-13 16:34:06.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/075bd247c496f93981bb3d43e89c722b4c193255', 'message': 'Add queues for tripleo-ipa project\n\nChange-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade\n'}]",13,711115,075bd247c496f93981bb3d43e89c722b4c193255,19,5,6,5046,,,0,"Add queues for tripleo-ipa project

Change-Id: I2b5b10b788969b4ccb05cd57891451b8d5ec7ade
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/711115/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ed28ea69bc82dd87de53511536e93e1424bb4996,tripleo-ipa, name: openstack/tripleo-ipa templates: - system-required - noop-jobs - project:,,6,0
openstack%2Ftripleo-operator-ansible~master~Ie06abc3cf2437b105807fa8bb827dc770b323a11,openstack/tripleo-operator-ansible,master,Ie06abc3cf2437b105807fa8bb827dc770b323a11,Switch to centos-8 based jobs,ABANDONED,2020-03-13 13:46:41.000000000,2020-03-13 16:23:33.000000000,,[],"[{'number': 1, 'created': '2020-03-13 13:46:41.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0c32ba03e8ee7f1518d838341a15c6ab3c8d8a0b', 'message': 'Switch to centos-8 based jobs\n\nChange-Id: Ie06abc3cf2437b105807fa8bb827dc770b323a11\n'}]",0,712951,0c32ba03e8ee7f1518d838341a15c6ab3c8d8a0b,2,0,1,24162,,,0,"Switch to centos-8 based jobs

Change-Id: Ie06abc3cf2437b105807fa8bb827dc770b323a11
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/51/712951/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0c32ba03e8ee7f1518d838341a15c6ab3c8d8a0b,c8-ready, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-undercloud-minion: - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-undercloud-minion:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-undercloud-minion: - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-undercloud-minion:,4,4
openstack%2Fcharms.ceph~master~I6e61d13617f2e7ec500a0b010516a07af2a1e917,openstack/charms.ceph,master,I6e61d13617f2e7ec500a0b010516a07af2a1e917,Fast exit if device_node for block device is None,MERGED,2020-03-13 09:40:28.000000000,2020-03-13 16:22:25.000000000,2020-03-13 16:22:25.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-13 09:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/ade4bd01789428f85cebe6c43937ba9412798094', 'message': 'Fast exit if device_node is None\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}, {'number': 2, 'created': '2020-03-13 09:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/143747f24dd526c36ebccace008d547433fca199', 'message': 'Fast exit if device_node is None\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}, {'number': 3, 'created': '2020-03-13 10:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/65f35c9c288412b24d7eda03a2e2e9a8be380ab9', 'message': 'Fast exit if device_node for block device is None\n\nAlso update corresponding unit test\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}, {'number': 4, 'created': '2020-03-13 10:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/87d329b14bd3d615b9dfc2bb0bc9d547a94d4d2b', 'message': 'Fast exit if device_node for block device is None\n\nAlso update corresponding unit test\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}, {'number': 5, 'created': '2020-03-13 12:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/cf3c1e79eda2bd4aef0655b074bb1bc8a942fbd8', 'message': 'Fast exit if device_node for block device is None\n\nAlso update corresponding unit test\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}, {'number': 6, 'created': '2020-03-13 13:48:28.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/425465d4738cd4b50b457d54dfa49021e7e3d115', 'message': 'Fast exit if device_node for block device is None\n\nAlso update corresponding unit test\n\nChange-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917\nCloses-Bug: #1866956\n'}]",3,712886,425465d4738cd4b50b457d54dfa49021e7e3d115,21,4,6,22799,,,0,"Fast exit if device_node for block device is None

Also update corresponding unit test

Change-Id: I6e61d13617f2e7ec500a0b010516a07af2a1e917
Closes-Bug: #1866956
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/86/712886/3 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,ade4bd01789428f85cebe6c43937ba9412798094,bug/1866956, if device.device_node and block_type in device.device_node, if block_type in device.device_node:,1,1
openstack%2Fansible-collections-openstack~master~I31e36f3a6d600815152a116afb37f8e3e21bc282,openstack/ansible-collections-openstack,master,I31e36f3a6d600815152a116afb37f8e3e21bc282,Add option for modules_default groups,MERGED,2020-03-10 11:56:32.000000000,2020-03-13 16:19:59.000000000,2020-03-13 16:19:59.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 11:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f53e9dda14b58fc9d199ecb8e0db8c6e6508fc06', 'message': ""Add option for modules_default groups\n\nIt's possible in Ansible to set options for modules with\nmodules_default keyword[1]. For some of modules it's possible\nto do with module_default groups, like cloud modules[2]\nAdd this option to OS modules.\n\n[1]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults\n\n[2]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults-groups\n\nChange-Id: I31e36f3a6d600815152a116afb37f8e3e21bc282\n""}, {'number': 2, 'created': '2020-03-10 11:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e01485855901a6ddcc7783a757fd38904207b1d3', 'message': ""Add option for modules_default groups\n\nIt's possible in Ansible to set options for modules with\nmodules_default keyword[1]. For some of modules it's possible\nto do with module_default groups, like cloud modules[2]\nAdd this option to OS modules.\n\n[1]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults\n\n[2]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults-groups\n\nChange-Id: I31e36f3a6d600815152a116afb37f8e3e21bc282\n""}, {'number': 3, 'created': '2020-03-10 12:12:08.000000000', 'files': ['meta/action_groups.yml', 'docs/openstack_guidelines.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/67466513da7cd401cf32df3051ac73b42b2b0c22', 'message': ""Add option for modules_default groups\n\nIt's possible in Ansible to set options for modules with\nmodules_default keyword[1]. For some of modules it's possible\nto do with module_default groups, like cloud modules[2]\nAdd this option to OS modules.\n\n[1]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults\n\n[2]\nhttps://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults-groups\n\nChange-Id: I31e36f3a6d600815152a116afb37f8e3e21bc282\n""}]",0,712057,67466513da7cd401cf32df3051ac73b42b2b0c22,9,2,3,10969,,,0,"Add option for modules_default groups

It's possible in Ansible to set options for modules with
modules_default keyword[1]. For some of modules it's possible
to do with module_default groups, like cloud modules[2]
Add this option to OS modules.

[1]
https://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults

[2]
https://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html#module-defaults-groups

Change-Id: I31e36f3a6d600815152a116afb37f8e3e21bc282
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/57/712057/3 && git format-patch -1 --stdout FETCH_HEAD,['meta/action_groups.yml'],1,f53e9dda14b58fc9d199ecb8e0db8c6e6508fc06,,os: - os_auth - os_client_config - os_coe_cluster - os_coe_cluster_template - os_flavor_info - os_floating_ip - os_group - os_image - os_image_info - os_ironic - os_ironic_inspect - os_ironic_node - os_keypair - os_keystone_domain - os_keystone_domain_info - os_keystone_endpoint - os_keystone_role - os_keystone_service - os_listener - os_loadbalancer - os_member - os_network - os_networks_info - os_nova_flavor - os_nova_host_aggregate - os_object - os_pool - os_port - os_port_info - os_project - os_project_access - os_project_info - os_quota - os_recordset - os_router - os_security_group - os_security_group_rule - os_server - os_server_action - os_server_group - os_server_info - os_server_metadata - os_server_volume - os_stack - os_subnet - os_subnets_info - os_user - os_user_group - os_user_info - os_user_role - os_volume - os_volume_snapshot - os_zone ,,54,0
openstack%2Ftempest~master~I4fcffb7e26b0adc0e39dc13085f93db6495c3bd6,openstack/tempest,master,I4fcffb7e26b0adc0e39dc13085f93db6495c3bd6,Prevent SSH client proxy loops,MERGED,2020-01-22 17:59:59.000000000,2020-03-13 16:17:24.000000000,2020-03-13 16:13:32.000000000,"[{'_account_id': 5690}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-01-22 17:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff6c57bed5654791a7992315eff899b48f3a8565', 'message': 'Prevent SSH client proxy loops\n\nAvoid creating a SSH client with a proxy client having the same\nconnection parameters. This will prevent from creating a SSH tunnel\nwithin the same client.\n\nThis patch also provides aditional information in the exception\nmessage, in case of SSH connection error, about the proxy client\nconfigured in the SSH client.\n\nChange-Id: I4fcffb7e26b0adc0e39dc13085f93db6495c3bd6\nRelated-Bug: #1860586\n'}, {'number': 2, 'created': '2020-02-12 09:44:18.000000000', 'files': ['tempest/lib/common/ssh.py', 'tempest/lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcfa06d55c3c79ca6f069ff27531aba3323154a9', 'message': 'Prevent SSH client proxy loops\n\nAvoid creating a SSH client with a proxy client having the same\nconnection parameters. This will prevent from creating a SSH tunnel\nwithin the same client.\n\nThis patch also provides aditional information in the exception\nmessage, in case of SSH connection error, about the proxy client\nconfigured in the SSH client.\n\nChange-Id: I4fcffb7e26b0adc0e39dc13085f93db6495c3bd6\nRelated-Bug: #1860586\n'}]",2,703852,bcfa06d55c3c79ca6f069ff27531aba3323154a9,22,11,2,16688,,,0,"Prevent SSH client proxy loops

Avoid creating a SSH client with a proxy client having the same
connection parameters. This will prevent from creating a SSH tunnel
within the same client.

This patch also provides aditional information in the exception
message, in case of SSH connection error, about the proxy client
configured in the SSH client.

Change-Id: I4fcffb7e26b0adc0e39dc13085f93db6495c3bd6
Related-Bug: #1860586
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/703852/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/ssh.py', 'tempest/lib/exceptions.py']",2,ff6c57bed5654791a7992315eff899b48f3a8565,bug/1860586,"class SSHClientProxyClientLoop(TempestException): message = (""SSH client proxy client has same host: %(host)s, port: "" ""%(port)s and username: %(username)s as parent"") ",,24,2
openstack%2Ftripleo-operator-ansible~master~I74e6ca1708d69b8e14742b9ef4f8b1bbb3a3ba8d,openstack/tripleo-operator-ansible,master,I74e6ca1708d69b8e14742b9ef4f8b1bbb3a3ba8d,Convert jobs to centos8,MERGED,2020-03-12 20:58:30.000000000,2020-03-13 16:15:31.000000000,2020-03-13 16:15:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 20:58:30.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9f452f4aac995b19764e2a429496bf80134cd0e5', 'message': 'Convert jobs to centos8\n\nConvert tripleo-ci-centos-7-containers-undercloud-minion and\ntripleo-ci-centos-7-containers-multinode to be deployed on centos8.\n\nChange-Id: I74e6ca1708d69b8e14742b9ef4f8b1bbb3a3ba8d\n'}]",0,712795,9f452f4aac995b19764e2a429496bf80134cd0e5,9,3,1,3153,,,0,"Convert jobs to centos8

Convert tripleo-ci-centos-7-containers-undercloud-minion and
tripleo-ci-centos-7-containers-multinode to be deployed on centos8.

Change-Id: I74e6ca1708d69b8e14742b9ef4f8b1bbb3a3ba8d
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/95/712795/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9f452f4aac995b19764e2a429496bf80134cd0e5,minion/c8, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-undercloud-minion: - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-undercloud-minion:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-undercloud-minion: - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-undercloud-minion:,4,4
openstack%2Frpm-packaging~master~I27990e1101084b8b1880564293f4cc159ea2eba2,openstack/rpm-packaging,master,I27990e1101084b8b1880564293f4cc159ea2eba2,Remove pifpaf usage for RDO,MERGED,2020-02-13 09:54:50.000000000,2020-03-13 16:02:36.000000000,2020-02-13 15:01:40.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-13 09:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4940e35e63f4bf6948ef750ba4f53dd8d72a443b', 'message': 'Remove pifpaf usage for RDO\n\nPifpaf is only used for functional testing, so it does not really\nmake sense to run unit tests during packaging. This commit:\n\n- Removes functional tests from oslo.messaging\n- Leaves pifpaf as a SUSE-only requirement for tooz. Checks are not\n  run for RDO anyway.\n- Removes pifpaf as a build requirement for castellan. It is only\n  used for functional tests, which are not executed in %check.\n\nChange-Id: I27990e1101084b8b1880564293f4cc159ea2eba2\n'}, {'number': 2, 'created': '2020-02-13 10:08:17.000000000', 'files': ['openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/tooz/tooz.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1006618bb21aba630683cf7a8aa550b53e8c611e', 'message': 'Remove pifpaf usage for RDO\n\nPifpaf is only used for functional testing, so it does not really\nmake sense to run unit tests during packaging. This commit:\n\n- Removes functional tests from oslo.messaging\n- Leaves pifpaf as a SUSE-only requirement for tooz. Checks are not\n  run for RDO anyway.\n- Removes pifpaf as a build requirement for castellan. It is only\n  used for functional tests, which are not executed in %check.\n\nChange-Id: I27990e1101084b8b1880564293f4cc159ea2eba2\n'}]",2,707597,1006618bb21aba630683cf7a8aa550b53e8c611e,15,4,2,13294,,,0,"Remove pifpaf usage for RDO

Pifpaf is only used for functional testing, so it does not really
make sense to run unit tests during packaging. This commit:

- Removes functional tests from oslo.messaging
- Leaves pifpaf as a SUSE-only requirement for tooz. Checks are not
  run for RDO anyway.
- Removes pifpaf as a build requirement for castellan. It is only
  used for functional tests, which are not executed in %check.

Change-Id: I27990e1101084b8b1880564293f4cc159ea2eba2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/707597/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/tooz/tooz.spec.j2']",3,4940e35e63f4bf6948ef750ba4f53dd8d72a443b,remove-python2,%if ! 0%{?rdo} BuildRequires: {{ py3('pifpaf') }} %endif,BuildRequires: {{ py3('pifpaf') }},5,3
openstack%2Frpm-packaging~master~I00e1c145a62c47d9ba4c662d3fed053d079eb77e,openstack/rpm-packaging,master,I00e1c145a62c47d9ba4c662d3fed053d079eb77e,taskflow: remove pydotplus build requirement,MERGED,2020-02-17 10:44:57.000000000,2020-03-13 16:02:20.000000000,2020-02-18 10:43:23.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-17 10:44:57.000000000', 'files': ['openstack/taskflow/taskflow.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c358cce4101f7b725f0f09a689d968ea4db53dc7', 'message': 'taskflow: remove pydotplus build requirement\n\nEven if it is listed in test-requirements.txt, it is now used in\nthe unit tests at all, so we can remove it.\n\nChange-Id: I00e1c145a62c47d9ba4c662d3fed053d079eb77e\n'}]",0,708089,c358cce4101f7b725f0f09a689d968ea4db53dc7,9,4,1,13294,,,0,"taskflow: remove pydotplus build requirement

Even if it is listed in test-requirements.txt, it is now used in
the unit tests at all, so we can remove it.

Change-Id: I00e1c145a62c47d9ba4c662d3fed053d079eb77e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/708089/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/taskflow/taskflow.spec.j2'],1,c358cce4101f7b725f0f09a689d968ea4db53dc7,remove-python2,,BuildRequires: {{ py3('pydotplus') }},0,1
openstack%2Frpm-packaging~master~I6b7d04b5d06f35f479aee2c81402c2c2c0485e56,openstack/rpm-packaging,master,I6b7d04b5d06f35f479aee2c81402c2c2c0485e56,osprofiler: convert to python3,MERGED,2020-02-11 10:41:48.000000000,2020-03-13 15:53:54.000000000,2020-02-11 15:35:36.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-11 10:41:48.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/022aea330c3314c6785241706a9ad5a98a36699e', 'message': 'osprofiler: convert to python3\n\nChange-Id: I6b7d04b5d06f35f479aee2c81402c2c2c0485e56\n'}]",0,707099,022aea330c3314c6785241706a9ad5a98a36699e,15,5,1,13294,,,0,"osprofiler: convert to python3

Change-Id: I6b7d04b5d06f35f479aee2c81402c2c2c0485e56
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/707099/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osprofiler/osprofiler.spec.j2'],1,022aea330c3314c6785241706a9ad5a98a36699e,remove-python2,"BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('ddt') }} BuildRequires: {{ py3('docutils') }} BuildRequires: {{ py3('elasticsearch') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('pymongo') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('redis') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Profiler Library Requires: {{ py3('PrettyTable') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} OSProfiler provides a tiny but powerful library that is used by most (soon to be all) OpenStack projects and their python clients. It provides functionality to be able to generate 1 trace per request, that goes through all involved services. This trace can then be extracted and used to build a tree of calls which can be quite handy for a variety of reasons (for example in isolating cross-project performance issues). This package contains the Python 3.x module %{py3_build}%{py3_install}python3 -m stestr.cli run --black-regex '(^osprofiler.tests.unit.drivers.test_jaeger.JaegerTestCase.*$)' %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/osprofiler %{python3_sitelib}/*.egg-info %{_bindir}/osprofiler","BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('ddt', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('docutils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('elasticsearch', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.concurrency', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pymongo', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('redis', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/osprofiler%post %python_install_alternative osprofiler %postun %python_uninstall_alternative osprofiler %python_exec -m stestr.cli run --black-regex '(^osprofiler.tests.unit.drivers.test_jaeger.JaegerTestCase.*$)' %files %{python_files}%{python_sitelib}/osprofiler %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/osprofiler",43,46
openstack%2Frpm-packaging~master~Ie28a92823b0a5340789e19860e5d01938807c9fa,openstack/rpm-packaging,master,Ie28a92823b0a5340789e19860e5d01938807c9fa,debtcollector: convert to python3,MERGED,2020-02-11 09:55:57.000000000,2020-03-13 15:53:45.000000000,2020-02-11 15:35:35.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-11 09:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d8a8e6558c160993c2dcfa30ff4cb6deb870714a', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\n'}, {'number': 2, 'created': '2020-02-11 11:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/42253d04406232a84f60ed535b62c21c36aaf63d', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\nDepends-On: https://review.rdoproject.org/r/24896\n'}, {'number': 3, 'created': '2020-02-11 11:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6fde03229ecd5ecbbb59f64ff992b29fb97e4fab', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\n'}, {'number': 4, 'created': '2020-02-11 12:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d330f8fbff03b38cbfdca35c6dcae974a9c57eae', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\nDepends-On: https://review.rdoproject.org/r/24897\n'}, {'number': 5, 'created': '2020-02-11 14:49:26.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c609c0fa5054ae0e12311825412e8515101b176', 'message': 'debtcollector: convert to python3\n\nChange-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa\n'}]",0,707088,6c609c0fa5054ae0e12311825412e8515101b176,29,5,5,13294,,,0,"debtcollector: convert to python3

Change-Id: Ie28a92823b0a5340789e19860e5d01938807c9fa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/707088/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/debtcollector/debtcollector.spec.j2'],1,d8a8e6558c160993c2dcfa30ff4cb6deb870714a,remove-python2,BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('wrapt') }}%package -n {{ py2name(py_versions='py3') }} Summary: A collection of Python deprecation patterns and strategies Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} Requires: {{ py3('wrapt') }} %description -n {{ py2name(py_versions='py3') }} A collection of Python deprecation patterns and strategies that help you collect your technical debt in a non-destructive manner. The goal of this library is to provide well documented developer facing deprecation patterns that start of with a basic set and can expand into a larger set of patterns as time goes on. The desired output of these patterns is to apply the warnings module to emit DeprecationWarning or PendingDeprecationWarning or similar derivative to developers using libraries (or potentially applications) about future deprecations. This package contains the Python 3.x module. %py3_buildpython3 -m stestr.cli run%py3_install %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*.egg-info,"BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('funcsigs', py_versions=['py2']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('wrapt', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('wrapt') }}%ifpython2 Requires: {{ py2pkg('funcsigs') }} %endif %python_subpackages%python_build%python_exec -m stestr.cli run%python_install %files %{python_files}%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*.egg-info",31,20
openstack%2Fproject-config~master~Ie5439c95fa18a1d2b3c3898058b49670b028f004,openstack/project-config,master,Ie5439c95fa18a1d2b3c3898058b49670b028f004,Remove neutron-tempest-dvr job from Neutron's dashboard,MERGED,2020-03-10 11:22:05.000000000,2020-03-13 15:52:42.000000000,2020-03-13 15:52:42.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-10 11:22:05.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/61c3f5f5b0433a0919574d1e83eece7ccfd6cd03', 'message': ""Remove neutron-tempest-dvr job from Neutron's dashboard\n\nThis job was removed from neutron check and gate queues in [1].\n\n[1] https://review.opendev.org/#/c/710071/\n\nChange-Id: Ie5439c95fa18a1d2b3c3898058b49670b028f004\n""}]",0,712048,61c3f5f5b0433a0919574d1e83eece7ccfd6cd03,8,4,1,11975,,,0,"Remove neutron-tempest-dvr job from Neutron's dashboard

This job was removed from neutron check and gate queues in [1].

[1] https://review.opendev.org/#/c/710071/

Change-Id: Ie5439c95fa18a1d2b3c3898058b49670b028f004
",git fetch https://review.opendev.org/openstack/project-config refs/changes/48/712048/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,61c3f5f5b0433a0919574d1e83eece7ccfd6cd03,update-neutron-dashboard,," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr')",0,4
openstack%2Fproject-config~master~Ief1a0ef61bc446f6013fb1ad3968cef2e72e8508,openstack/project-config,master,Ief1a0ef61bc446f6013fb1ad3968cef2e72e8508,Add OpenInfra Labs IRC channels to bots,MERGED,2020-03-11 23:45:29.000000000,2020-03-13 15:52:41.000000000,2020-03-13 15:52:41.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 23:45:29.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac58b41e484781a39fa07242104ce04735df7451', 'message': ""Add OpenInfra Labs IRC channels to bots\n\nThe OpenInfra Labs community is utilizing OpenDev to to collaborate\n(already have a mailing list and Git repository in OpenDev), and are\ninterested in having some of OpenDev's bots assist with their IRC\nchannels as well. Add these channels to the accessbot configuration\nfirst, to pave the way for others which will follow. Also set up\ngerritbot to report all changes for their repository namespace in\ntheir primary channel.\n\nChange-Id: Ief1a0ef61bc446f6013fb1ad3968cef2e72e8508\n""}]",0,712586,ac58b41e484781a39fa07242104ce04735df7451,7,3,1,5263,,,0,"Add OpenInfra Labs IRC channels to bots

The OpenInfra Labs community is utilizing OpenDev to to collaborate
(already have a mailing list and Git repository in OpenDev), and are
interested in having some of OpenDev's bots assist with their IRC
channels as well. Add these channels to the accessbot configuration
first, to pave the way for others which will follow. Also set up
gerritbot to report all changes for their repository namespace in
their primary channel.

Change-Id: Ief1a0ef61bc446f6013fb1ad3968cef2e72e8508
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/712586/1 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,ac58b41e484781a39fa07242104ce04735df7451,openinfralabs,openinfralabs: events: - patchset-created - change-merged projects: - ^openinfralabs/.* branches: - ^.* ,,11,0
openstack%2Ftripleo-heat-templates~master~If011da577adec7d95e0caf8f1c9c6cb88581cae1,openstack/tripleo-heat-templates,master,If011da577adec7d95e0caf8f1c9c6cb88581cae1,Fix TenantInterfaceDefaultRoute in net-env-v6,MERGED,2020-03-12 20:29:48.000000000,2020-03-13 15:51:59.000000000,2020-03-13 15:42:28.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 20:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0662cf5574dc2fdd4947349565968174e7042045', 'message': 'Fix TenantInterfaceDefaultRoute in net-env-v6\n\nThe TenantInterfaceDefaultRoute in network-environment-v6.j2.yaml\nshould use the ipv4 gateway address.\n\nCloses-Bug: #1867207\nChange-Id: If011da577adec7d95e0caf8f1c9c6cb88581cae1\n'}, {'number': 2, 'created': '2020-03-13 00:40:04.000000000', 'files': ['environments/network-environment-v6.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26e4a0ab59e31757bc3683da14d8ccf5dcc90594', 'message': 'Fix TenantInterfaceDefaultRoute in net-env-v6\n\nThe TenantInterfaceDefaultRoute in network-environment-v6.j2.yaml\nshould use the ipv4 gateway address.\n\nCloses-Bug: #1867207\nChange-Id: If011da577adec7d95e0caf8f1c9c6cb88581cae1\n'}]",0,712789,26e4a0ab59e31757bc3683da14d8ccf5dcc90594,12,4,2,24245,,,0,"Fix TenantInterfaceDefaultRoute in net-env-v6

The TenantInterfaceDefaultRoute in network-environment-v6.j2.yaml
should use the ipv4 gateway address.

Closes-Bug: #1867207
Change-Id: If011da577adec7d95e0caf8f1c9c6cb88581cae1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/712789/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/network-environment-v6.j2.yaml'],1,0662cf5574dc2fdd4947349565968174e7042045,bug/1867207,{%- if network.gateway_ipv6|default(false) %} # Gateway router for routable networks {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ipv6}}' {%- endif %}{%- if network.gateway_ip|default(false) %} {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ip}}' {%- endif %},{%- endif %} {%- if network.gateway_ipv6|default(false) %} {{network.name}}InterfaceDefaultRoute: '{{network.gateway_ipv6}}',7,3
openstack%2Frpm-packaging~master~I4522d35d6f605445ff4efeb62616b728a1a0a0fb,openstack/rpm-packaging,master,I4522d35d6f605445ff4efeb62616b728a1a0a0fb,oslo.context: convert to python3,MERGED,2020-02-10 14:57:26.000000000,2020-03-13 15:51:51.000000000,2020-02-11 05:50:59.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 14:57:26.000000000', 'files': ['openstack/oslo.context/oslo.context.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/67baf7e075d0065ebb8329314f8f5642e8153813', 'message': 'oslo.context: convert to python3\n\nChange-Id: I4522d35d6f605445ff4efeb62616b728a1a0a0fb\n'}]",0,706870,67baf7e075d0065ebb8329314f8f5642e8153813,9,4,1,13294,,,0,"oslo.context: convert to python3

Change-Id: I4522d35d6f605445ff4efeb62616b728a1a0a0fb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/70/706870/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.context/oslo.context.spec.j2'],1,67baf7e075d0065ebb8329314f8f5642e8153813,remove-python2,BuildRequires: {{ py3('pbr') }}BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('stestr') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Oslo context library Requires: {{ py3('debtcollector') }} %description -n {{ py2name(py_versions='py3') }} The Oslo context library has helpers to maintain useful information about a request context. The request context is usually populated in the WSGI pipeline and used by various modules such as logging. This package contains the Python 3.x module. %package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%{py3_build}%{py3_install}python3 -m stestr.cli run%files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_context %{python3_sitelib}/*.egg-info %files -n {{ py2name() }}-doc,"BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }}BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }}%python_subpackages%package -n python-oslo.context-doc%description -n python-oslo.context-doc%{python_build}%{python_install}%python_exec -m stestr.cli run%files %{python_files}%{python_sitelib}/oslo_context %{python_sitelib}/*.egg-info %files -n python-oslo.context-doc",26,16
openstack%2Frpm-packaging~master~I267648f53cf0f98e1767898dc22df4737e367a8e,openstack/rpm-packaging,master,I267648f53cf0f98e1767898dc22df4737e367a8e,oslo.concurrency: convert to python3,MERGED,2020-02-10 14:37:21.000000000,2020-03-13 15:51:42.000000000,2020-02-11 05:50:58.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 14:37:21.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/895d68ccec1a3cdab26502d1eae1939558806650', 'message': 'oslo.concurrency: convert to python3\n\nChange-Id: I267648f53cf0f98e1767898dc22df4737e367a8e\n'}]",0,706854,895d68ccec1a3cdab26502d1eae1939558806650,9,4,1,13294,,,0,"oslo.concurrency: convert to python3

Change-Id: I267648f53cf0f98e1767898dc22df4737e367a8e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/706854/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.concurrency/oslo.concurrency.spec.j2'],1,895d68ccec1a3cdab26502d1eae1939558806650,remove-python2,"BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('fasteners') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack oslo.concurrency library Requires: {{ py3('fasteners') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} The oslo.concurrency library has utilities for safely running multi-thread, multi-process applications using locking mechanisms and for running external processes. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/lockutils-wrapper %{python3_sitelib}/oslo_concurrency %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fasteners', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('futures', py_versions=['py2']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('fasteners') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }}%ifpython2 Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/lockutils-wrapper %post %python_install_alternative lockutils-wrapper %postun %python_uninstall_alternative lockutils-wrapperif [ ""%_lib"" = ""lib64"" ]; then %python_exec -m stestr.cli run fi %files %{python_files}%python_alternative %{_bindir}/lockutils-wrapper %{python_sitelib}/oslo_concurrency %{python_sitelib}/*.egg-info",34,47
openstack%2Frpm-packaging~master~I125365193b5c008c87f7af9caf999394f3ba77cf,openstack/rpm-packaging,master,I125365193b5c008c87f7af9caf999394f3ba77cf,oslo.log: convert to python3,MERGED,2020-02-10 17:39:40.000000000,2020-03-13 15:51:35.000000000,2020-02-11 05:50:57.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 17:39:40.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/14258ca95cb28d5ac6b3681a56bd1f465b42c28b', 'message': 'oslo.log: convert to python3\n\nChange-Id: I125365193b5c008c87f7af9caf999394f3ba77cf\n'}]",0,706939,14258ca95cb28d5ac6b3681a56bd1f465b42c28b,9,4,1,13294,,,0,"oslo.log: convert to python3

Change-Id: I125365193b5c008c87f7af9caf999394f3ba77cf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/39/706939/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,14258ca95cb28d5ac6b3681a56bd1f465b42c28b,remove-python2,"BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('monotonic') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pyinotify') }} BuildRequires: {{ py3('python-dateutil') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack log library Requires: {{ py3('debtcollector') }} Requires: {{ py3('monotonic') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pyinotify') }} Requires: {{ py3('python-dateutil') }} Requires: {{ py3('six') }} Requires: {{ py3('systemd') }} %description -n {{ py2name(py_versions='py3') }} OpenStack logging configuration library provides standardized configuration for all openstack projects.It also provides custom formatters, handlers and support for context specific logging (like resource id's etc). This package contains the Python 3.x module. %package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_log %{python3_sitelib}/*.egg-info %{_bindir}/convert-json %files -n {{ py2name() }}-doc","BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('monotonic', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pyinotify', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-dateutil', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('monotonic') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pyinotify') }} Requires: {{ py2pkg('python-dateutil') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('systemd') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%package -n python-oslo.log-doc%description -n python-oslo.log-doc%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/convert-json %post %python_install_alternative convert-json %postun %python_uninstall_alternative convert-json%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_log %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/convert-json %files -n python-oslo.log-doc",45,51
openstack%2Frpm-packaging~master~I34d36ebd17efaf27fb4b167bde9cb9da30cae98d,openstack/rpm-packaging,master,I34d36ebd17efaf27fb4b167bde9cb9da30cae98d,oslo.config: convert to python3,MERGED,2020-02-10 14:46:00.000000000,2020-03-13 15:51:27.000000000,2020-02-11 05:44:54.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 14:46:00.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/16ad5d539a26d42a5ddf0a78138de0ef1b3971ef', 'message': 'oslo.config: convert to python3\n\nChange-Id: I34d36ebd17efaf27fb4b167bde9cb9da30cae98d\n'}]",0,706858,16ad5d539a26d42a5ddf0a78138de0ef1b3971ef,9,4,1,13294,,,0,"oslo.config: convert to python3

Change-Id: I34d36ebd17efaf27fb4b167bde9cb9da30cae98d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/706858/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,16ad5d539a26d42a5ddf0a78138de0ef1b3971ef,remove-python2,"BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('netaddr') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('rfc3986') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack common configuration library Requires: {{ py3('PyYAML') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('requests') }} Requires: {{ py3('rfc3986') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} The Oslo project intends to produce a python library containing infrastructure code shared by OpenStack projects. The APIs provided by the project should be high quality, stable, consistent and generally useful. The oslo-config library is a command line and configuration file parsing library from the Oslo project. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslo-config-generator %{_bindir}/oslo-config-validator %{python3_sitelib}/oslo_config %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('netaddr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('rfc3986', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('rfc3986') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%ifpython2 BuildRequires: {{ py2pkg('enum34', py_versions=['py2']) }} Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx', py_versions=['py2', 'py3']) }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslo-config-generator %python_clone -a %{buildroot}%{_bindir}/oslo-config-validator %post %{python_install_alternative oslo-config-generator oslo-config-validator} %postun %python_uninstall_alternative oslo-config-generator%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslo-config-generator %python_alternative %{_bindir}/oslo-config-validator %{python_sitelib}/oslo_config %{python_sitelib}/*.egg-info",47,54
openstack%2Frpm-packaging~master~I01e582f65d3da38d70145c58f55fef78cb80cce7,openstack/rpm-packaging,master,I01e582f65d3da38d70145c58f55fef78cb80cce7,python-keystoneclient: convert to python3,MERGED,2020-02-10 09:31:52.000000000,2020-03-13 15:51:19.000000000,2020-02-10 15:11:01.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 09:31:52.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5964becde4802d503a3407497d88e313ab0f6f01', 'message': 'python-keystoneclient: convert to python3\n\nChange-Id: I01e582f65d3da38d70145c58f55fef78cb80cce7\n'}]",0,706765,5964becde4802d503a3407497d88e313ab0f6f01,10,4,1,13294,,,0,"python-keystoneclient: convert to python3

Change-Id: I01e582f65d3da38d70145c58f55fef78cb80cce7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/706765/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-keystoneclient/python-keystoneclient.spec.j2'],1,5964becde4802d503a3407497d88e313ab0f6f01,remove-python2,BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('lxml') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testresources') }} BuildRequires: {{ py3('testscenarios') }}%package -n {{ py2name(py_versions='py3') }} Summary: Client library for OpenStack Identity API Requires: {{ py3('debtcollector') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} Client library for interacting with Openstack Identity API. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/keystoneclient %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('lxml', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testresources', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages%{python_build}%{python_install} # Delete tests rm -fr %{buildroot}%{python2_sitelib}/tests%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/keystoneclient %{python_sitelib}/*.egg-info",36,34
openstack%2Fproject-config~master~I176dc57afcfd627ad470ed8c6cf7fbb7299cbb35,openstack/project-config,master,I176dc57afcfd627ad470ed8c6cf7fbb7299cbb35,New repo: devstack-plugin-open-cas,MERGED,2020-03-09 08:55:26.000000000,2020-03-13 15:51:04.000000000,2020-03-13 15:51:04.000000000,"[{'_account_id': 4146}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 28948}]","[{'number': 1, 'created': '2020-03-09 08:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2120ac47c7a1ebde19d02f2654c23338929ff91', 'message': 'New repo: devstack-plugin-open-cas\n\nThis repo is to add plugin to configure open-cas which is needed in\nvolume local cache feature.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nChange-Id: I176dc57afcfd627ad470ed8c6cf7fbb7299cbb35\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2020-03-09 11:17:17.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/devstack-plugin-open-cas.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a26717c6343386e6547621711e2d1e0c7f746e43', 'message': 'New repo: devstack-plugin-open-cas\n\nThis repo is to add plugin to configure open-cas which is needed in\nvolume local cache feature.\n\nopen-cas: https://open-cas.github.io/\nNova Spec: https://review.opendev.org/#/c/689070/\nCinder Spec: https://review.opendev.org/#/c/684556/\n\nNeeded-By: https://review.opendev.org/#/c/711902/\nChange-Id: I176dc57afcfd627ad470ed8c6cf7fbb7299cbb35\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",0,711878,a26717c6343386e6547621711e2d1e0c7f746e43,17,8,2,28948,,,0,"New repo: devstack-plugin-open-cas

This repo is to add plugin to configure open-cas which is needed in
volume local cache feature.

open-cas: https://open-cas.github.io/
Nova Spec: https://review.opendev.org/#/c/689070/
Cinder Spec: https://review.opendev.org/#/c/684556/

Needed-By: https://review.opendev.org/#/c/711902/
Change-Id: I176dc57afcfd627ad470ed8c6cf7fbb7299cbb35
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/711878/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/devstack-plugin-open-cas.config']",3,e2120ac47c7a1ebde19d02f2654c23338929ff91,new-project,"[access ""refs/heads/*""] abandon = group cinder-core abandon = group devstack-core label-Code-Review = -2..+2 group cinder-core label-Code-Review = -2..+2 group devstack-core label-Workflow = -1..+1 group cinder-core label-Workflow = -1..+1 group devstack-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,17,0
openstack%2Ftripleo-upgrade~master~Ifc29d143a040f6344619aba0fa15ba1937762162,openstack/tripleo-upgrade,master,Ifc29d143a040f6344619aba0fa15ba1937762162,Fix condition update_cell is false.,MERGED,2020-03-04 16:20:06.000000000,2020-03-13 15:46:00.000000000,2020-03-09 16:31:03.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-04 16:20:06.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/463d662c4be9d5105ac950fa24e8acc0b62c57c7', 'message': 'Fix condition update_cell is false.\n\nThe right syntax for the conditional is not update_cell|bool.\n\nChange-Id: Ifc29d143a040f6344619aba0fa15ba1937762162\n'}]",3,711266,463d662c4be9d5105ac950fa24e8acc0b62c57c7,12,6,1,26343,,,0,"Fix condition update_cell is false.

The right syntax for the conditional is not update_cell|bool.

Change-Id: Ifc29d143a040f6344619aba0fa15ba1937762162
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/711266/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,463d662c4be9d5105ac950fa24e8acc0b62c57c7,, when: not update_cell|bool when: not update_cell|bool, when: update_cell is false when: update_cell is false,2,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I487f88e88eae5a4d975fce7a399c36d6a1b055e7,openstack/tripleo-ansible,stable/train,I487f88e88eae5a4d975fce7a399c36d6a1b055e7,Fix octavia services restart,MERGED,2020-03-03 12:44:40.000000000,2020-03-13 15:44:47.000000000,2020-03-13 15:44:47.000000000,"[{'_account_id': 6469}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-03-03 12:44:40.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6af06b133094a7d71cb57ebff072859d987697d', 'message': 'Fix octavia services restart\n\nWhen using podman, services should be restarted using systemctl instead\nof podman restart. Systemd would perform a graceful shutdown of the\nservice using the configured ExecStop command.\n\nThis commit also fixes the previous behavior that have some issues:\n- ""restart octavia containers"" task had a wrong ""when"" condition\n- the task\'s shell command was not correctly formated\n\nCloses-Bug: #1861413\nChange-Id: I487f88e88eae5a4d975fce7a399c36d6a1b055e7\n(cherry picked from commit 6d61a18b627e0ab38e22f761f8c0c1498e299a4c)\n'}]",5,710998,b6af06b133094a7d71cb57ebff072859d987697d,11,6,1,29244,,,0,"Fix octavia services restart

When using podman, services should be restarted using systemctl instead
of podman restart. Systemd would perform a graceful shutdown of the
service using the configured ExecStop command.

This commit also fixes the previous behavior that have some issues:
- ""restart octavia containers"" task had a wrong ""when"" condition
- the task's shell command was not correctly formated

Closes-Bug: #1861413
Change-Id: I487f88e88eae5a4d975fce7a399c36d6a1b055e7
(cherry picked from commit 6d61a18b627e0ab38e22f761f8c0c1498e299a4c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/710998/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'],1,b6af06b133094a7d71cb57ebff072859d987697d,,"- name: get list of running octavia services become: true become_user: root shell: | systemctl is-active --quiet {{ item }} && echo {{ item }} ignore_errors: true register: octavia_active_services loop: - tripleo_octavia_api - tripleo_octavia_worker - tripleo_octavia_health_manager - tripleo_octavia_housekeeping - tripleo_octavia_driver_agent when: - container_cli == ""podman"" - octavia_config_updated - name: restart octavia services become: true become_user: root systemd: name: ""{{ item.stdout }}"" state: restarted loop: ""{{ octavia_active_services.results }}"" when: - container_cli == ""podman"" - octavia_config_updated - item.rc == 0 become_user: root ""{{ container_cli }}"" ps -f name=octavia -q - container_cli == ""docker"" shell: ""{{ container_cli }} restart {{ running_octavia_containers.stdout_lines|join(' ') }}"" when: - container_cli == ""docker"""," sudo ""{{ container_cli }}"" ps -f name=octavia -q shell: ""{{ container_cli }} restart {{ running_octavia_containers.stdout }}"" when: - running_octavia_containers.rc != 0",34,3
openstack%2Fproject-config~master~I8e0ee3829a9d603c09f146f2a4a9ddc39656b885,openstack/project-config,master,I8e0ee3829a9d603c09f146f2a4a9ddc39656b885,Add a new project and repository for tripleo-ipa,MERGED,2020-03-03 21:58:18.000000000,2020-03-13 15:44:45.000000000,2020-03-13 15:44:45.000000000,"[{'_account_id': 3153}, {'_account_id': 4146}, {'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 21:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/82de81670c9c7484020c997b2d6ab1db4e041c55', 'message': 'Add a new project and repository for tripleo-ipa\n\nThis commit creates a new project and repository for tripleo-ipa, which\nwill contains ansible roles used to register and deregister OpenStack\nservices from FreeIPA. This is useful for generating certificates and\nusing them for TLS.\n\nChange-Id: I8e0ee3829a9d603c09f146f2a4a9ddc39656b885\n'}, {'number': 2, 'created': '2020-03-04 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/79676c472868f7032b57f3009719cf50f4b4707f', 'message': 'Add a new project and repository for tripleo-ipa\n\nThis commit creates a new project and repository for tripleo-ipa, which\nwill contains ansible roles used to register and deregister OpenStack\nservices from FreeIPA. This is useful for generating certificates and\nusing them for TLS.\n\nChange-Id: I8e0ee3829a9d603c09f146f2a4a9ddc39656b885\n'}, {'number': 3, 'created': '2020-03-10 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/696da46059bdbfd81225e6c11b07ccdf8a279877', 'message': 'Add a new project and repository for tripleo-ipa\n\nThis commit creates a new project and repository for tripleo-ipa, which\nwill contains ansible roles used to register and deregister OpenStack\nservices from FreeIPA. This is useful for generating certificates and\nusing them for TLS.\n\nChange-Id: I8e0ee3829a9d603c09f146f2a4a9ddc39656b885\n'}, {'number': 4, 'created': '2020-03-10 14:25:39.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/tripleo-ipa.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c3d42e32f16bba4109c3310f0a770efaf50742c2', 'message': 'Add a new project and repository for tripleo-ipa\n\nThis commit creates a new project and repository for tripleo-ipa, which\nwill contain ansible roles used to register and deregister OpenStack\nservices from FreeIPA. This is useful for generating certificates and\nusing them for TLS.\n\nChange-Id: I8e0ee3829a9d603c09f146f2a4a9ddc39656b885\n'}]",18,711114,c3d42e32f16bba4109c3310f0a770efaf50742c2,48,11,4,5046,,,0,"Add a new project and repository for tripleo-ipa

This commit creates a new project and repository for tripleo-ipa, which
will contain ansible roles used to register and deregister OpenStack
services from FreeIPA. This is useful for generating certificates and
using them for TLS.

Change-Id: I8e0ee3829a9d603c09f146f2a4a9ddc39656b885
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/711114/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/tripleo-ipa.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,82de81670c9c7484020c997b2d6ab1db4e041c55,tripleo-ipa, - openstack/tripleo-ipa,,19,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I75d7bec46d4e699bba9b8299e4a94061d40aa683,openstack/tripleo-heat-templates,stable/train,I75d7bec46d4e699bba9b8299e4a94061d40aa683,Create ResellerAdmin role when deploying Ceph RGW,MERGED,2020-03-12 12:37:58.000000000,2020-03-13 15:42:30.000000000,2020-03-13 15:42:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-12 12:37:58.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c2b9900a8acaebd058a5e4a52ce891dfaf37af9', 'message': 'Create ResellerAdmin role when deploying Ceph RGW\n\nWe missed to create the ResellerAdmin role when deploying Ceph RGW\nwhich we do [1] when deploying Swift\n\n1. https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/swift/swift-proxy-container-puppet.yaml#L147\n\nChange-Id: I75d7bec46d4e699bba9b8299e4a94061d40aa683\n(cherry picked from commit 5238c9ac2f227840807d9fe9eae3e888120f42cb)\n'}]",0,712670,6c2b9900a8acaebd058a5e4a52ce891dfaf37af9,13,5,1,6796,,,0,"Create ResellerAdmin role when deploying Ceph RGW

We missed to create the ResellerAdmin role when deploying Ceph RGW
which we do [1] when deploying Swift

1. https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/swift/swift-proxy-container-puppet.yaml#L147

Change-Id: I75d7bec46d4e699bba9b8299e4a94061d40aa683
(cherry picked from commit 5238c9ac2f227840807d9fe9eae3e888120f42cb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/712670/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,6c2b9900a8acaebd058a5e4a52ce891dfaf37af9,, - ResellerAdmin,,1,0
openstack%2Fpython-openstackclient~master~I8aa83cd33b7501a65a2903b4cedbf07474da08d5,openstack/python-openstackclient,master,I8aa83cd33b7501a65a2903b4cedbf07474da08d5,Fix excpected exception for find_identity_resource,ABANDONED,2020-03-12 18:36:00.000000000,2020-03-13 15:37:35.000000000,,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2020-03-12 18:36:00.000000000', 'files': ['openstackclient/identity/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/16c0709f2b74613f93c2efcc660218f7f1a807d6', 'message': ""Fix excpected exception for find_identity_resource\n\nSince [1] osc do not raise Forbidden. Instead CommandError is raised.\nSo we're changing excpected exception to valid state.\n\n[1] https://review.opendev.org/#/c/673389/\n\nChange-Id: I8aa83cd33b7501a65a2903b4cedbf07474da08d5\n""}]",0,712764,16c0709f2b74613f93c2efcc660218f7f1a807d6,9,5,1,28619,,,0,"Fix excpected exception for find_identity_resource

Since [1] osc do not raise Forbidden. Instead CommandError is raised.
So we're changing excpected exception to valid state.

[1] https://review.opendev.org/#/c/673389/

Change-Id: I8aa83cd33b7501a65a2903b4cedbf07474da08d5
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/712764/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/identity/common.py'],1,16c0709f2b74613f93c2efcc660218f7f1a807d6,command_exception, except exceptions.CommandError:, except exceptions.Forbidden:,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0cda298b0ed27705a8b6e0f62633af2253d8d0de,openstack/tripleo-heat-templates,stable/train,I0cda298b0ed27705a8b6e0f62633af2253d8d0de,Don't add IpList for disabled networks,MERGED,2020-03-13 01:23:07.000000000,2020-03-13 15:26:06.000000000,2020-03-13 15:23:46.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 01:23:07.000000000', 'files': ['releasenotes/notes/fix-deployment-failure-when-network-disabled-156190243ff239ea.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c01813e248b9b92b370b2c67e5dbaecb61a6f82', 'message': ""Don't add IpList for disabled networks\n\nWhen disabling networks in network data an IpList\nentry was added in {{role.name}}IpListMap. This\ncaused a validation error.\n\nAdd a yaql expression to filter on role networks in\nnetwork/ports/net_ip_list_map.j2.yaml. RoleNetIpMap\nshould'nt have entries for networks not used by the\nrole that maps to the ctlplane IP.\n\nDepends-On: https://review.opendev.org/710574\nCloses-Bug: #1842001\nChange-Id: I0cda298b0ed27705a8b6e0f62633af2253d8d0de\n(cherry picked from commit f222681a435b19ef28d30a8293fb615863b094d6)\n""}]",0,712822,7c01813e248b9b92b370b2c67e5dbaecb61a6f82,9,3,1,24245,,,0,"Don't add IpList for disabled networks

When disabling networks in network data an IpList
entry was added in {{role.name}}IpListMap. This
caused a validation error.

Add a yaql expression to filter on role networks in
network/ports/net_ip_list_map.j2.yaml. RoleNetIpMap
should'nt have entries for networks not used by the
role that maps to the ctlplane IP.

Depends-On: https://review.opendev.org/710574
Closes-Bug: #1842001
Change-Id: I0cda298b0ed27705a8b6e0f62633af2253d8d0de
(cherry picked from commit f222681a435b19ef28d30a8293fb615863b094d6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/712822/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-deployment-failure-when-network-disabled-156190243ff239ea.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml']",3,7c01813e248b9b92b370b2c67e5dbaecb61a6f82,bug/1842001-stable/train, {%- for network in networks if network.enabled|default(true) and network.name in role.networks|default([]) %} {%- endfor %} RoleNetworks: - ctlplane {%- for network in networks if network.enabled|default(true) and network.name in role.networks|default([]) %} - {{network.name_lower}}," {%- for network in networks %} {%- if network.enabled|default(true) and network.name in role.networks|default([]) %} {%- else %} {{network.name}}IpList: {get_attr: [{{role.name}}, ip_address]} {%- endif %}",22,7
openstack%2Ftripleo-common~master~Id069e6150d12b6e32f3206efbfecf1c4886a0e3c,openstack/tripleo-common,master,Id069e6150d12b6e32f3206efbfecf1c4886a0e3c,Remove skydive support,MERGED,2020-03-11 17:29:56.000000000,2020-03-13 15:22:07.000000000,2020-03-13 15:17:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-11 17:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8dac39734866811e950524f12b65664e794a36ca', 'message': 'Remove skydive containers from the template\n\nCI is not building and testing the container and has a skiplist on both\ncontainers.\nThe promoter server dynamically builds the list of containers to promote\nfrom this template. If they are not built they should not be promoted.\nIf they are not tested, do we need them to be here ?\n\nChange-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c\n'}, {'number': 2, 'created': '2020-03-12 09:55:31.000000000', 'files': ['releasenotes/notes/remove-skydive-support-1cea22a7419a3b13.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1dd4103d3b4e074adeba7f97b7380f15692f3e7', 'message': 'Remove skydive support\n\nSkydive is not supported anymore and is causing promotions inconsistency\nwith the containers list.\nRemoving reference from containers template and tests\n\nChange-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c\n'}]",0,712517,d1dd4103d3b4e074adeba7f97b7380f15692f3e7,31,8,2,10022,,,0,"Remove skydive support

Skydive is not supported anymore and is causing promotions inconsistency
with the containers list.
Removing reference from containers template and tests

Change-Id: Id069e6150d12b6e32f3206efbfecf1c4886a0e3c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/712517/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,8dac39734866811e950524f12b65664e794a36ca,remove-skydive,,"{% if not rhel_containers %} - imagename: ""{{namespace}}/{{name_prefix}}skydive-agent{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSkydiveAgentImage services: - OS::TripleO::Services::SkydiveAgent - imagename: ""{{namespace}}/{{name_prefix}}skydive-analyzer{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerSkydiveAnalyzerImage services: - OS::TripleO::Services::SkydiveAnalyzer {% endif %} ",0,16
openstack%2Fopenstack-helm-infra~master~I5d239be3e14d8b1ea428cae9c0014eb92202932b,openstack/openstack-helm-infra,master,I5d239be3e14d8b1ea428cae9c0014eb92202932b,Modify ks-user member role creation,MERGED,2020-03-12 17:05:47.000000000,2020-03-13 15:22:00.000000000,2020-03-13 15:20:19.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 17:05:47.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f9f579b04fc095551649c6e2146957c72eed974', 'message': 'Modify ks-user member role creation\n\nThis change reverts the member role handling to pre-refactor for\nthe htk ks-user.sh script.\n\nChange-Id: I5d239be3e14d8b1ea428cae9c0014eb92202932b\n'}]",0,712740,6f9f579b04fc095551649c6e2146957c72eed974,8,3,1,21420,,,0,"Modify ks-user member role creation

This change reverts the member role handling to pre-refactor for
the htk ks-user.sh script.

Change-Id: I5d239be3e14d8b1ea428cae9c0014eb92202932b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/712740/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-user.sh.tpl'],1,6f9f579b04fc095551649c6e2146957c72eed974,ks-user-fix,"# Manage user member role : ${MEMBER_OS_ROLE:=""member""} export USER_ROLE_ID=$(openstack role create --or-show -f value -c id \ ""${MEMBER_OS_ROLE}"");","# Manage member role for keystone pre-rocky SERVICE_OS_ROLE=""member""",4,2
openstack%2Ftripleo-ci~master~I7b2f28f2cc0647639d28b59e6951ce645dc0cc97,openstack/tripleo-ci,master,I7b2f28f2cc0647639d28b59e6951ce645dc0cc97,Only run tripleo-ci-centos-7-containers-undercloud-minion on train,MERGED,2020-03-12 20:57:14.000000000,2020-03-13 15:17:43.000000000,2020-03-13 15:17:43.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 20:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e38f5b30a37d4da0a63e5a31cace7e655494d334', 'message': 'Remove tripleo-ci-centos-7-containers-undercloud-minion\n\ntripleo-ci-centos-7-containers-undercloud-minion was done during U cycle\nbut in the meantime we converted the jobs to centos8; this job becomes\nirrelevant.\n\nChange-Id: I7b2f28f2cc0647639d28b59e6951ce645dc0cc97\n'}, {'number': 2, 'created': '2020-03-12 21:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c0b39c4edb4046a4a8263db948ea423f2fffffb', 'message': 'Only run tripleo-ci-centos-7-containers-undercloud-minion on train\n\nThe job is now running on centos8 for master testing but for train we\nwant to run it still.\n\nChange-Id: I7b2f28f2cc0647639d28b59e6951ce645dc0cc97\n'}, {'number': 3, 'created': '2020-03-12 21:07:53.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aade65b8d7c359f07d36f08dc67736deb66af858', 'message': 'Only run tripleo-ci-centos-7-containers-undercloud-minion on train\n\nThe job is now running on centos8 for master testing but for train we\nwant to run it still.\n\nChange-Id: I7b2f28f2cc0647639d28b59e6951ce645dc0cc97\n'}]",0,712793,aade65b8d7c359f07d36f08dc67736deb66af858,19,6,3,3153,,,0,"Only run tripleo-ci-centos-7-containers-undercloud-minion on train

The job is now running on centos8 for master testing but for train we
want to run it still.

Change-Id: I7b2f28f2cc0647639d28b59e6951ce645dc0cc97
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/712793/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",2,e38f5b30a37d4da0a63e5a31cace7e655494d334,centos-8-jobs,, name: tripleo-ci-centos-7-containers-undercloud-minion parent: tripleo-ci-base-multinode branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$ vars: nodes: 1minion featureset: '061' playbooks: - multinode-minion.yml extra_tags: - undercloud-minion-setup - undercloud-minion-deploy - job:,0,17
openstack%2Ftripleo-common~master~I2132c37cd4993e4d0d99b8a206ee7f3c17059c22,openstack/tripleo-common,master,I2132c37cd4993e4d0d99b8a206ee7f3c17059c22,Pass the container name to prune_unused_services,ABANDONED,2020-03-13 15:10:56.000000000,2020-03-13 15:12:16.000000000,,[],"[{'number': 1, 'created': '2020-03-13 15:10:56.000000000', 'files': ['tripleo_common/utils/template.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a30c3cab3cb038d144844ca75a43162c8973eb15', 'message': 'Pass the container name to prune_unused_services\n\nChange-Id: I2132c37cd4993e4d0d99b8a206ee7f3c17059c22\n'}]",0,712969,a30c3cab3cb038d144844ca75a43162c8973eb15,2,0,1,9712,,,0,"Pass the container name to prune_unused_services

Change-Id: I2132c37cd4993e4d0d99b8a206ee7f3c17059c22
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/712969/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/template.py'],1,a30c3cab3cb038d144844ca75a43162c8973eb15,," swift, role_data, resource_reg, container)"," swift, role_data, resource_reg)",1,1
openstack%2Ftacker-horizon~master~I743e090995232180da8a7a0d28a7f4fba90b4c01,openstack/tacker-horizon,master,I743e090995232180da8a7a0d28a7f4fba90b4c01,tacker-horizon python3,ABANDONED,2020-01-21 10:37:42.000000000,2020-03-13 14:55:18.000000000,,"[{'_account_id': 15834}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2020-01-21 10:37:42.000000000', 'files': ['manage.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/ff8a5f16533ff9ddefec9e738084922a35f44495', 'message': 'tacker-horizon python3\n\nshould expect python3 instead of python\n\nCloses-Bug: #1860420\n\nChange-Id: I743e090995232180da8a7a0d28a7f4fba90b4c01\nSigned-off-by: Tomi Juvonen <tomi.juvonen@nokia.com>\n'}]",0,703579,ff8a5f16533ff9ddefec9e738084922a35f44495,9,4,1,15834,,,0,"tacker-horizon python3

should expect python3 instead of python

Closes-Bug: #1860420

Change-Id: I743e090995232180da8a7a0d28a7f4fba90b4c01
Signed-off-by: Tomi Juvonen <tomi.juvonen@nokia.com>
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/79/703579/1 && git format-patch -1 --stdout FETCH_HEAD,['manage.py'],1,ff8a5f16533ff9ddefec9e738084922a35f44495,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Fopenstack-helm~master~I048c8fe73f8f85df465f2c829812b75be1e4f130,openstack/openstack-helm,master,I048c8fe73f8f85df465f2c829812b75be1e4f130,Modify files related to overrides.,MERGED,2020-02-14 07:52:45.000000000,2020-03-13 14:08:31.000000000,2020-03-03 17:31:36.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29668}, {'_account_id': 30777}, {'_account_id': 30857}]","[{'number': 1, 'created': '2020-02-14 07:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5a4d3c205a015b984c35a09ba15f8430f8350a04', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded, the files that depend on the functions of overrides need to be modified synchronously.\n\nStory: 2007291\nTask: 38753\nDepends-on: https://review.opendev.org/#/c/707765/\n\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 2, 'created': '2020-02-14 07:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4a168f0879ae9f26e0bf670dbd1f6761da01cd1b', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded,\nthe files that depend on the functions of\noverrides need to be modified synchronously.\n\nStory: 2007291\nTask: 38753\nDepends-on: https://review.opendev.org/#/c/707765/\n\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 3, 'created': '2020-02-14 11:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/075834b8fec72fe5164b768bf9018a4cae629976', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded,the\nfiles that depend on the functions of overrides\nneed to be modified synchronously.This patch and\nhttps://review.opendev.org/#/c/707788/ depend on\neach other.\n\nStory: 2007291\nTask: 38753\nDepends-on: https://review.opendev.org/#/c/707765/\n\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 4, 'created': '2020-02-14 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb7ebc7f2566dce3221b26dcee8abef182231996', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded,the\nfiles that depend on the functions of overrides\nneed to be modified synchronously.This patch and\nhttps://review.opendev.org/#/c/707788/ depend on\neach other.\n\nStory: 2007291\nTask: 38753\n\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 5, 'created': '2020-02-21 00:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cda4b6adfb3d808ba10e1b1156105f9b0e7760f2', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded,the\nfiles that depend on the functions of overrides\nneed to be modified synchronously.This patch and\nhttps://review.opendev.org/#/c/707788/ depend on\neach other.\n\nStory: 2007291\nTask: 38753\nDepends-on: https://review.opendev.org/#/c/707788/\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 6, 'created': '2020-03-03 12:09:51.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0389b54578dc9efb670fcacb1097daf008d7cdcc', 'message': 'Modify files related to overrides.\n\nAs the functions of overrides are upgraded,the\nfiles that depend on the functions of overrides\nneed to be modified synchronously.This patch and\nhttps://review.opendev.org/#/c/707788/ depend on\neach other.\n\nStory: 2007291\nTask: 38753\nDepends-on: https://review.opendev.org/#/c/707788/\nChange-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}]",0,707775,0389b54578dc9efb670fcacb1097daf008d7cdcc,25,6,6,30857,,,0,"Modify files related to overrides.

As the functions of overrides are upgraded,the
files that depend on the functions of overrides
need to be modified synchronously.This patch and
https://review.opendev.org/#/c/707788/ depend on
each other.

Story: 2007291
Task: 38753
Depends-on: https://review.opendev.org/#/c/707788/
Change-Id: I048c8fe73f8f85df465f2c829812b75be1e4f130
Signed-off-by: songgongjun <gongjun.song@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/707775/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'octavia/templates/daemonset-health-manager.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-bagpipe-bgp.yaml']",10,5a4d3c205a015b984c35a09ba15f8430f8350a04,overrides_daemonset,"{{- $daemonset_include := ""neutron.bagpipe_bgp.daemonset"" }}{{- list $daemonset $daemonset_include $configmap_yaml $configMapName . $serviceAccountName | include ""helm-toolkit.utils.daemonset_overrides"" }}","{{- $daemonset_yaml := list $daemonset $configMapName $serviceAccountName . | include ""neutron.bagpipe_bgp.daemonset"" | toString | fromYaml }}{{- list $daemonset $daemonset_yaml $configmap_yaml $configMapName . | include ""helm-toolkit.utils.daemonset_overrides"" }}",20,20
openstack%2Fopenstack-helm-infra~master~I210e54b28e32ba1b8e281659fee8e6eda38d79d0,openstack/openstack-helm-infra,master,I210e54b28e32ba1b8e281659fee8e6eda38d79d0,Make more sections in daemonset overridable.,MERGED,2020-02-14 09:12:45.000000000,2020-03-13 14:07:30.000000000,2020-03-03 10:01:06.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29668}, {'_account_id': 30857}]","[{'number': 1, 'created': '2020-02-14 09:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28cb288e73c974386dcfbe312cc65b94ab6c667b', 'message': 'Make more sections in daemonset overridable.\n\nMove the $daemonset_yaml parameter in the daemonset\nfile to the overrides file, so that daemonset file\nuses parameters after overrides.This patch and\ntask:38753 depend on each other.\n\nChange-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0\nChaxnge-Id: I9e71c31b1139bceafd653531e21ce527a8deb985\nStory: 2007291\nTask: 38754\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 2, 'created': '2020-02-14 10:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cef1a0dfd5a0ac53329613a99122dcb5225fe099', 'message': 'Make more sections in daemonset overridable.\n\nMove the $daemonset_yaml parameter in the daemonset\nfile to the overrides file, so that daemonset file\nuses parameters after overrides.This patch and\nhttps://review.opendev.org/#/c/707775/ depend on\neach other.\n\nChange-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0\nChaxnge-Id: I9e71c31b1139bceafd653531e21ce527a8deb985\nStory: 2007291\nTask: 38754\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 3, 'created': '2020-02-14 11:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d24647e2ac01f2fb292d9d304a0582a799aa07a', 'message': 'Make more sections in daemonset overridable.\n\nMove the $daemonset_yaml parameter in the daemonset\nfile to the overrides file, so that daemonset file\nuses parameters after overrides.This patch and\nhttps://review.opendev.org/#/c/707775/ depend on\neach other.\n\nChange-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0\nStory: 2007291\nTask: 38754\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 4, 'created': '2020-02-21 00:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1d6f8b1122f20dacd621e02640d5ad14b74c8dd', 'message': 'Make more sections in daemonset overridable.\n\nThe work of enable dpdk in starlingx needs to achieve \nthe overrides of parameters such as images, tags, \nlabels, and pods. This function is being implemented \nthrough the support of ovs per-host overrides. In \norder to transfer the parameters such as images after\noverrides to the daemonset file to achieve the \ncorresponding functions, the functions of overrides\nneed to be upgraded.\nMove the $daemonset_yaml parameter in the daemonset\nfile to the overrides file, so that daemonset file\nuses parameters after overrides.This patch and\nhttps://review.opendev.org/#/c/707775/ depend on\neach other.\n\n\nChange-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0\nStory: 2007291\nTask: 38754\nDepends-on: https://review.opendev.org/#/c/708894/\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 5, 'created': '2020-03-03 05:30:05.000000000', 'files': ['tools/deployment/keystone-auth/070-keystone.sh', 'libvirt/templates/daemonset-libvirt.yaml', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d74e93772684f99652dc6a8922f25c11d502f00e', 'message': 'Make more sections in daemonset overridable.\n\nThe work of enable dpdk in starlingx needs to achieve the overrides\nof parameters such as images, tags, labels, and pods. This function\nis being implemented through the support of ovs per-host overrides.\nIn order to transfer the parameters such as images after overrides\nto the daemonset file to achieve the corresponding functions, the\nfunctions of overrides need to be upgraded. Move the $daemonset_yaml\nparameter in the daemonset file to the overrides file, so that\ndaemonset file uses parameters after overrides.This patch and\nhttps://review.opendev.org/#/c/707775/ depend on each other.\n\nChange-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0\nStory: 2007291\nTask: 38754\nDepends-on: https://review.opendev.org/#/c/708894/\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}]",1,707788,d74e93772684f99652dc6a8922f25c11d502f00e,26,5,5,30857,,,0,"Make more sections in daemonset overridable.

The work of enable dpdk in starlingx needs to achieve the overrides
of parameters such as images, tags, labels, and pods. This function
is being implemented through the support of ovs per-host overrides.
In order to transfer the parameters such as images after overrides
to the daemonset file to achieve the corresponding functions, the
functions of overrides need to be upgraded. Move the $daemonset_yaml
parameter in the daemonset file to the overrides file, so that
daemonset file uses parameters after overrides.This patch and
https://review.opendev.org/#/c/707775/ depend on each other.

Change-Id: I210e54b28e32ba1b8e281659fee8e6eda38d79d0
Story: 2007291
Task: 38754
Depends-on: https://review.opendev.org/#/c/708894/
Signed-off-by: songgongjun <gongjun.song@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/88/707788/1 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/daemonset-libvirt.yaml', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl']",2,28cb288e73c974386dcfbe312cc65b94ab6c667b,overrides_daemonset, {{- $daemonset_include := index . 1 }} {{- $serviceAccountName := index . 5 }} {{- $daemonset_yaml := list $daemonset $configmap_name $serviceAccountName $current_dict.nodeData | include $daemonset_include | toString | fromYaml }}, {{- $daemonset_yaml := index . 1 }},5,4
openstack%2Fironic~master~Iec2fb7139f098f2782c440808d71b00a71785c5c,openstack/ironic,master,Iec2fb7139f098f2782c440808d71b00a71785c5c,Make image_checksum optional if other checksum is present,MERGED,2020-03-07 15:19:24.000000000,2020-03-13 13:55:41.000000000,2020-03-13 13:53:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-07 15:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0c55e65e514b555b33dbaf41fa1f2c2850038c3', 'message': 'Make image_checksum optional if other checksum is present\n\nIn a previous change, we discovered that our validation\nlogic still required an image_checksum value to be present.\nSince support was added some time ago for improved image\nchecksum validation, we no longer need to explicitly require\nimage_checksum be present.\n\nChange-Id: Iec2fb7139f098f2782c440808d71b00a71785c5c\n'}, {'number': 2, 'created': '2020-03-09 23:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f00ef8c40d5e33e5c09b67c41fe1a15813c51a49', 'message': 'Make image_checksum optional if other checksum is present\n\nIn a previous change, we discovered that our validation\nlogic still required an image_checksum value to be present.\nSince support was added some time ago for improved image\nchecksum validation, we no longer need to explicitly require\nimage_checksum be present.\n\nChange-Id: Iec2fb7139f098f2782c440808d71b00a71785c5c\n'}, {'number': 3, 'created': '2020-03-11 15:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/174b13b96382d569279d68597024d563b3a94ea5', 'message': 'Make image_checksum optional if other checksum is present\n\nIn a previous change, we discovered that our validation\nlogic still required an image_checksum value to be present.\nSince support was added some time ago for improved image\nchecksum validation, we no longer need to explicitly require\nimage_checksum be present.\n\nChange-Id: Iec2fb7139f098f2782c440808d71b00a71785c5c\n'}, {'number': 4, 'created': '2020-03-12 17:16:01.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'releasenotes/notes/image_checksum_optional-381acf9e441d2a58.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbf92e61267cc10868c1147f7397755fd6f7a0b9', 'message': 'Make image_checksum optional if other checksum is present\n\nIn a previous change, we discovered that our validation\nlogic still required an image_checksum value to be present.\nSince support was added some time ago for improved image\nchecksum validation, we no longer need to explicitly require\nimage_checksum be present.\n\nChange-Id: Iec2fb7139f098f2782c440808d71b00a71785c5c\n'}]",6,711816,fbf92e61267cc10868c1147f7397755fd6f7a0b9,29,7,4,11655,,,0,"Make image_checksum optional if other checksum is present

In a previous change, we discovered that our validation
logic still required an image_checksum value to be present.
Since support was added some time ago for improved image
checksum validation, we no longer need to explicitly require
image_checksum be present.

Change-Id: Iec2fb7139f098f2782c440808d71b00a71785c5c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/711816/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'releasenotes/notes/image_checksum_optional-381acf9e441d2a58.yaml', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",5,d0c55e65e514b555b33dbaf41fa1f2c2850038c3,708499, self.assertIsNone(instance_info['image_checksum']) self.assertIsNone(instance_info['image_checksum'])," self.assertEqual('md5-not-supported', instance_info['image_checksum']) self.assertEqual('md5-not-supported', instance_info['image_checksum'])",49,7
openstack%2Ftripleo-heat-templates~stable%2Fpike~Ia9c50afd3a88b27e6e0dca2ce150f91633681466,openstack/tripleo-heat-templates,stable/pike,Ia9c50afd3a88b27e6e0dca2ce150f91633681466,Unnessary deploying of bootstrap-osd ceph auth entry,ABANDONED,2020-03-13 13:11:58.000000000,2020-03-13 13:49:10.000000000,,"[{'_account_id': 19564}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 13:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdd053be78f79436b286d91c7196ce4fb42ffba2', 'message': 'Unnessary deploying of bootstrap-osd ceph auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. heat does not need to pass this key to ceph::key as the\nauth will already be populated on the monitors and the OSD nodes will\nextract a copy from memory. This patch removes client.bootstrap-osd from\nthe ceph::profile::params::client_keys array.\n\nChange-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466\nCloses-bug: 1769722\nDepends-on: I11f134bed59da706a03ce4a70d941145c16f8175\n'}, {'number': 2, 'created': '2020-03-13 13:13:32.000000000', 'files': ['puppet/services/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea8c9ab7e110fcb4088c50fe6feb2c03ea1995f3', 'message': 'Unnessary deploying of bootstrap-osd ceph auth entry\n\nCeph jewel creates the client.bootstrap-osd auth entry when the cluster\nis created. heat does not need to pass this key to ceph::key as the\nauth will already be populated on the monitors and the OSD nodes will\nextract a copy from memory. This patch removes client.bootstrap-osd from\nthe ceph::profile::params::client_keys array.\n\nChange-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466\nCloses-bug: 1769722\nDepends-on: I11f134bed59da706a03ce4a70d941145c16f8175\n(cherry picked from commit 440aa8d210163125cf0e72c7a23d4b4ca12cd72d)\n'}]",0,712943,ea8c9ab7e110fcb4088c50fe6feb2c03ea1995f3,5,3,2,6796,,,0,"Unnessary deploying of bootstrap-osd ceph auth entry

Ceph jewel creates the client.bootstrap-osd auth entry when the cluster
is created. heat does not need to pass this key to ceph::key as the
auth will already be populated on the monitors and the OSD nodes will
extract a copy from memory. This patch removes client.bootstrap-osd from
the ceph::profile::params::client_keys array.

Change-Id: Ia9c50afd3a88b27e6e0dca2ce150f91633681466
Closes-bug: 1769722
Depends-on: I11f134bed59da706a03ce4a70d941145c16f8175
(cherry picked from commit 440aa8d210163125cf0e72c7a23d4b4ca12cd72d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/712943/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceph-base.yaml'],1,bdd053be78f79436b286d91c7196ce4fb42ffba2,,, client.bootstrap-osd: secret: {get_param: CephAdminKey} keyring_path: '/var/lib/ceph/bootstrap-osd/ceph.keyring' cap_mon: 'allow profile bootstrap-osd',0,4
openstack%2Fmonasca-persister~master~I25ea80eea714acb167e70f188ed229cc90531596,openstack/monasca-persister,master,I25ea80eea714acb167e70f188ed229cc90531596,Move data_points to repository class,MERGED,2019-10-18 15:06:44.000000000,2020-03-13 13:48:36.000000000,2019-11-12 11:36:43.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-18 15:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/a1cd3d79a3213a499a4e5a4f1b838829790097c7', 'message': 'Move data_points to repository class\n\ndata_points_class can be now declared as a List of Dictionary. The\nlatter is used when writing measurements per tenant. This refactoring\navoids creating the dictionary and then chaining again its values in\ncase of ElasticSearch and Cassandra databases or if db_per_tenant option\nis disabled. The change also fixes the events pipeline.\n\nChange-Id: I25ea80eea714acb167e70f188ed229cc90531596\nStory: 2006331\nTask: 37211\n'}, {'number': 2, 'created': '2019-10-21 11:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ada4835692958a5581803c276df3a39e21e68824', 'message': 'Move data_points to repository class\n\ndata_points_class can be now declared as a List of Dictionary. The\nlatter is used when writing measurements per tenant. This refactoring\navoids creating the dictionary and then chaining again its values in\ncase of ElasticSearch and Cassandra databases or if db_per_tenant option\nis disabled. The change also fixes the events pipeline.\n\nChange-Id: I25ea80eea714acb167e70f188ed229cc90531596\nStory: 2006331\nTask: 37211\n'}, {'number': 3, 'created': '2019-10-21 13:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/7b85437072d0234014f3661684e9784258560bc1', 'message': 'Move data_points to repository class\n\ndata_points_class can be now declared as a List of Dictionary. The\nlatter is used when writing measurements per tenant. This refactoring\navoids creating the dictionary and then chaining again its values in\ncase of ElasticSearch and Cassandra databases or if db_per_tenant option\nis disabled. The change also fixes the events pipeline.\n\nChange-Id: I25ea80eea714acb167e70f188ed229cc90531596\nStory: 2006331\nTask: 37211\n'}, {'number': 4, 'created': '2019-10-21 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/714c825253fb33a32a27ac74a2068410e2b04308', 'message': 'Move data_points to repository class\n\ndata_points_class can be now declared as a List or a Dictionary. The\nlatter is used when writing measurements per tenant. This refactoring\navoids creating the dictionary and then chaining again its values in\ncase of ElasticSearch and Cassandra databases or if db_per_tenant option\nis disabled. The change also fixes the events pipeline.\n\nChange-Id: I25ea80eea714acb167e70f188ed229cc90531596\nStory: 2006331\nTask: 37211\n'}, {'number': 5, 'created': '2019-10-24 11:38:01.000000000', 'files': ['monasca_persister/tests/test_events.py', 'monasca_persister/tests/test_cassandra_alarm_state_history_repository.py', 'monasca_persister/repositories/utils.py', 'monasca_persister/tests/test_utils.py', 'monasca_persister/repositories/cassandra/alarm_state_history_repository.py', 'monasca_persister/repositories/cassandra/metrics_repository.py', 'monasca_persister/repositories/elasticsearch/events_repository.py', 'monasca_persister/repositories/persister.py', 'monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/repositories/data_points.py', 'monasca_persister/repositories/abstract_repository.py', 'monasca_persister/tests/test_persister_repo.py', 'monasca_persister/repositories/cassandra/abstract_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e883b5bcda1a2e783f3789d108ead17a8b4df666', 'message': 'Move data_points to repository class\n\ndata_points_class can be now declared as a List or a Dictionary. The\nlatter is used when writing measurements per tenant. This refactoring\navoids creating the dictionary and then chaining again its values in\ncase of ElasticSearch and Cassandra databases or if db_per_tenant option\nis disabled. The change also fixes the events pipeline.\n\nChange-Id: I25ea80eea714acb167e70f188ed229cc90531596\nStory: 2006331\nTask: 37211\n'}]",13,689513,e883b5bcda1a2e783f3789d108ead17a8b4df666,26,5,5,16222,,,0,"Move data_points to repository class

data_points_class can be now declared as a List or a Dictionary. The
latter is used when writing measurements per tenant. This refactoring
avoids creating the dictionary and then chaining again its values in
case of ElasticSearch and Cassandra databases or if db_per_tenant option
is disabled. The change also fixes the events pipeline.

Change-Id: I25ea80eea714acb167e70f188ed229cc90531596
Story: 2006331
Task: 37211
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/13/689513/5 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/tests/test_events.py', 'monasca_persister/tests/test_cassandra_alarm_state_history_repository.py', 'monasca_persister/repositories/utils.py', 'monasca_persister/tests/test_utils.py', 'monasca_persister/repositories/cassandra/alarm_state_history_repository.py', 'monasca_persister/repositories/cassandra/metrics_repository.py', 'monasca_persister/repositories/elasticsearch/events_repository.py', 'monasca_persister/repositories/persister.py', 'monasca_persister/repositories/influxdb/abstract_repository.py', 'monasca_persister/repositories/abstract_repository.py', 'monasca_persister/tests/test_persister_repo.py', 'monasca_persister/repositories/cassandra/abstract_repository.py']",12,a1cd3d79a3213a499a4e5a4f1b838829790097c7,, self.data_points_class = abstract_repository.DataPointsAsList,,69,63
openstack%2Fneutron~master~I32f61ba3dd06d7eacf76a74c5c44e1286f90e584,openstack/neutron,master,I32f61ba3dd06d7eacf76a74c5c44e1286f90e584,[OVN] Add IGMP snooping support,MERGED,2020-01-31 15:41:12.000000000,2020-03-13 13:46:33.000000000,2020-03-09 15:29:33.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-01-31 15:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e802446582744603a647dbb0e4d7a1fa319bb8d1', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nA new configuration option called ""igmp_snooping_enabled"" is added and\ndefaults to False.\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-02-03 13:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16807b0e3d84436b5197f4a0476ba3104dacfd53', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nA new configuration option called ""igmp_snooping_enabled"" is added and\ndefaults to False.\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-02-04 11:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fccadd5d017e78e0996a9647c2c503c7e71d8ae', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nA new configuration option called ""igmp_snooping_enabled"" is added and\ndefaults to False.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS default behavior which is to enable\nIGMP flooding by default (in OVN, by default it\'s false).\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-02-05 14:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ced476072c0339db1bc853e4e3f0d3170657a9f6', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-02-12 13:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81b4001c0de44cd560bc995b5c7876a187a4580e', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-02-12 21:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ef48289765ab0c059408cbe3e27af932e3612c4', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-02-13 09:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/744bd837637818dea7926211e631fecc36671335', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-02-20 10:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/777f301533799125c200e6a6c56e72551cf98c2d', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-02-21 09:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a90c4c2045d8ad00ee95957833cc823115f4880f', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-02-23 09:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2eb5e185be1617b7419f57eb850f835aa6dffc9', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-03-03 10:33:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'releasenotes/notes/ovn-igmp-snooping-support-1a6ec8e703311fce.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fa6c1bf39b25da9eb345a40defe61c9a12134d5', 'message': '[OVN] Add IGMP snooping support\n\nThis patch is ading IGMP snooping support in the OVN driver. Multicast\nsupport has been introduced in core OVN upstream.\n\nAlso, the patch always sets the ""mcast_flood_unregistered"" config in\nthe OVN Logical_Switch to the same value as the ""mcast_snoop"" config.\nThis is so that OVN matches the OVS behavior which is to enable IGMP\nflooding by default [0] (in OVN, by default it\'s false).\n\n[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep\nfor ""mcast-snooping-disable"")\n\nChange-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",13,705237,7fa6c1bf39b25da9eb345a40defe61c9a12134d5,138,10,11,6773,,,0,"[OVN] Add IGMP snooping support

This patch is ading IGMP snooping support in the OVN driver. Multicast
support has been introduced in core OVN upstream.

Also, the patch always sets the ""mcast_flood_unregistered"" config in
the OVN Logical_Switch to the same value as the ""mcast_snoop"" config.
This is so that OVN matches the OVS behavior which is to enable IGMP
flooding by default [0] (in OVN, by default it's false).

[0] http://www.openvswitch.org/support/dist-docs/ovs-vsctl.8.txt (grep
for ""mcast-snooping-disable"")

Change-Id: I32f61ba3dd06d7eacf76a74c5c44e1286f90e584
Co-Authored-By: Daniel Alvarez <dalvarez@redhat.com>
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/705237/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'releasenotes/notes/ovn-igmp-snooping-support-1a6ec8e703311fce.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",13,e802446582744603a647dbb0e4d7a1fa319bb8d1,bp/neutron-ovn-merge,," def set_lswitch_ext_ids(self, lswitch_id, ext_ids, if_exists=True): return cmd.LSwitchSetExternalIdsCommand(self, lswitch_id, ext_ids, if_exists) ",120,89
openstack%2Fnova~master~I65a7cd92c6908ee18495134d48a987d2351ca822,openstack/nova,master,I65a7cd92c6908ee18495134d48a987d2351ca822,Configure max-line-length to 88,ABANDONED,2020-02-06 16:04:46.000000000,2020-03-13 13:43:22.000000000,,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-06 16:04:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/a531a58bf09db76cc9a3ab6efd320c4755cd7753', 'message': ""Configure max-line-length to 88\n\nPer the documentation for black [1]:\n\n  Black defaults to 88 characters per line, which happens to be 10% over\n  80. This number was found to produce significantly shorter files than\n  sticking with 80 (the most popular), or even 79 (used by the standard\n  library). In general, 90-ish seems like the wise choice. [2]\n\nWe've discussed using black before and decided it would probably be a\nbad idea for a few reasons, chief among them being the breaking of\ngit-blame, but this particular choice of black has some merit, and I\nhave noticed I have noticed that it leads to a significantly reduced\namount of unnecessary line wrapping when used in other projects.\n\nThere's no reason to go wrap *existing* code but for new or reworked\ncode, this should make our lives a little easier. The main disadvantage\nof bumping this number would be backports, which would need to be\nrewrapped in order to avoid breaking flake8 checks on those branches.\nHowever, there's no reason we can't backport this fix if we decided it\nwould be helpful, or simply modify the backport to stick with the older\nrule.\n\n[1] https://black.readthedocs.io/en/stable/the_black_code_style.html#line-length\n[2] https://youtu.be/wf-BqAjZb8M?t=260\n\nChange-Id: I65a7cd92c6908ee18495134d48a987d2351ca822\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,706311,a531a58bf09db76cc9a3ab6efd320c4755cd7753,17,16,1,15334,,,0,"Configure max-line-length to 88

Per the documentation for black [1]:

  Black defaults to 88 characters per line, which happens to be 10% over
  80. This number was found to produce significantly shorter files than
  sticking with 80 (the most popular), or even 79 (used by the standard
  library). In general, 90-ish seems like the wise choice. [2]

We've discussed using black before and decided it would probably be a
bad idea for a few reasons, chief among them being the breaking of
git-blame, but this particular choice of black has some merit, and I
have noticed I have noticed that it leads to a significantly reduced
amount of unnecessary line wrapping when used in other projects.

There's no reason to go wrap *existing* code but for new or reworked
code, this should make our lives a little easier. The main disadvantage
of bumping this number would be backports, which would need to be
rewrapped in order to avoid breaking flake8 checks on those branches.
However, there's no reason we can't backport this fix if we decided it
would be helpful, or simply modify the backport to stick with the older
rule.

[1] https://black.readthedocs.io/en/stable/the_black_code_style.html#line-length
[2] https://youtu.be/wf-BqAjZb8M?t=260

Change-Id: I65a7cd92c6908ee18495134d48a987d2351ca822
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/706311/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a531a58bf09db76cc9a3ab6efd320c4755cd7753,bump-max-line-length,max-complexity = 40 max-line-length = 88,max-complexity=40,2,1
openstack%2Ftripleo-heat-templates~master~I1af2ecd9e3996de4f43224f66a8bdb81eab07022,openstack/tripleo-heat-templates,master,I1af2ecd9e3996de4f43224f66a8bdb81eab07022,Use exec when spawning dnsmasq inside sidecar container,MERGED,2020-03-12 14:02:29.000000000,2020-03-13 13:36:38.000000000,2020-03-13 13:34:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 14:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e726398ef39ad2d21b83ad8a6a2f0e91ad2e340f', 'message': 'WIP use exec when spawning dnsmasq inside sidecar container\n\nOtherwise a SIGHUP used to reload dnsmasq will be sent to the bash\nprocess father of dnsmasq which will then terminate dnsmasq and break\nall the things\n\nChange-Id: I1af2ecd9e3996de4f43224f66a8bdb81eab07022\n'}, {'number': 2, 'created': '2020-03-12 19:05:35.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ca7e8f03faab0ee599a18bce4217430583e2050', 'message': 'Use exec when spawning dnsmasq inside sidecar container\n\nWe see some deployment failures where the overcloud is unable to PXE/DHCP boot during the initial bits of the deployments. The following errors are seen in neutron dhcp logs:\n\n2020-03-11 17:58:33.737 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Resync event has been scheduled _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:277\n2020-03-11 17:58:33.737 54481 DEBUG neutron.common.utils [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Calling throttled function clear wrapper /usr/lib/python3.6/site-packages/neutron/common/utils.py:110\n2020-03-11 17:58:33.738 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] resync (a187b137-b68c-476e-bd37-39253158e762): [ProcessExecutionError(""Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\\n+ trap \'exec 2>&4 1>&3\' 0 1 2 3\\n+ exec\\n"",)] _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:294\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent [-] Unable to reload_allocations dhcp for a187b137-b68c-476e-bd37-39253158e762.: neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n+ trap \'exec 2>&4 1>&3\' 0 1 2 3\n+ exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent Traceback (most recent call last):\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py"", line 160, in call_driver\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent getattr(driver, action)(**action_kwargs)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 528, in reload_allocations\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self._spawn_or_reload_process(reload_with_HUP=True)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 470, in _spawn_or_reload_process\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent pm.enable(reload_cfg=reload_with_HUP, ensure_active=True)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 92, in enable\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.reload_cfg()\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 100, in reload_cfg\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.disable(\'HUP\')\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 113, in disable\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent utils.execute(cmd, run_as_root=self.run_as_root)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/utils.py"", line 147, in execute\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent returncode=returncode)\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + trap \'exec 2>&4 1>&3\' 0 1 2 3\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + exec\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent\n2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent\n2020-03-11 17:58:33.740 54481 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a187b137-b68c-476e-bd37-39253158e762.pid.haproxy get_value_from_file /usr/lib/pyt\n\nThe issue is that the dhcp side containers are spawned with the following processes:\n           |-conmon(375906)-+-dumb-init(375918)---bash(375935)---dnsmasq(375938)\n           | `-{conmon}(375908)\n\nNow when neutron wants to send a SIGHUP to the dnsmasq it actually invokes the following command:\nnsenter --net=/run/netns/qdhcp-e11ac152-745f-4292-b423-d282fbf97f13 --preserve-credentials -m -t 1 podman kill --signal HUP 0b7371f6de52cfe377858...\n\nThe problem is that podman kill will send the signal to ""dumb-init\n--single-child"" (pid1 for this container) which will then forward it only to\nbash, which will cause dnsmasq to be terminated and will eventually be later\nrespawned with a different pid (stored in\n/var/lib/neutron/dhcp/86884abc-f7d7-4118-923f-38b247fee8e9/pid).\n\nSo if multiple ports are created concurrently this is racy and one of them will fail to reload dnsmasq with the error above, because one process might use a pid file that is no longer valid.\nTLDR: this all works if SIGHUP to the dnsmasq process does not change pids under the hood all of a sudden.\nOtherwise a SIGHUP used to reload dnsmasq will be sent to the bash\nprocess father of dnsmasq which will then terminate dnsmasq and break\nall the things\n\nTested this on three runs and did not experience the issue any longer\n\nCo-Authored-By: Bernard Cafarelli <bcafarel@redhat.com>\nCo-Authored-By: Slawomir Kaplonski <skaplons@redhat.com>\n\nCloses-Bug: #1867192\n\nChange-Id: I1af2ecd9e3996de4f43224f66a8bdb81eab07022\n'}]",2,712685,3ca7e8f03faab0ee599a18bce4217430583e2050,20,10,2,20172,,,0,"Use exec when spawning dnsmasq inside sidecar container

We see some deployment failures where the overcloud is unable to PXE/DHCP boot during the initial bits of the deployments. The following errors are seen in neutron dhcp logs:

2020-03-11 17:58:33.737 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Resync event has been scheduled _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:277
2020-03-11 17:58:33.737 54481 DEBUG neutron.common.utils [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] Calling throttled function clear wrapper /usr/lib/python3.6/site-packages/neutron/common/utils.py:110
2020-03-11 17:58:33.738 54481 DEBUG neutron.agent.dhcp.agent [req-6caace19-095f-4115-be85-644f7a8baa7f - - - - -] resync (a187b137-b68c-476e-bd37-39253158e762): [ProcessExecutionError(""Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec\n+ trap 'exec 2>&4 1>&3' 0 1 2 3\n+ exec\n"",)] _periodic_resync_helper /usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py:294
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent [-] Unable to reload_allocations dhcp for a187b137-b68c-476e-bd37-39253158e762.: neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec
+ trap 'exec 2>&4 1>&3' 0 1 2 3
+ exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent Traceback (most recent call last):
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/dhcp/agent.py"", line 160, in call_driver
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent getattr(driver, action)(**action_kwargs)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 528, in reload_allocations
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self._spawn_or_reload_process(reload_with_HUP=True)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/dhcp.py"", line 470, in _spawn_or_reload_process
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent pm.enable(reload_cfg=reload_with_HUP, ensure_active=True)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 92, in enable
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.reload_cfg()
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 100, in reload_cfg
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent self.disable('HUP')
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/external_process.py"", line 113, in disable
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent utils.execute(cmd, run_as_root=self.run_as_root)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent File ""/usr/lib/python3.6/site-packages/neutron/agent/linux/utils.py"", line 147, in execute
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent returncode=returncode)
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent neutron_lib.exceptions.ProcessExecutionError: Exit code: 125; Stdin: ; Stdout: ; Stderr: + exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + trap 'exec 2>&4 1>&3' 0 1 2 3
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent + exec
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent
2020-03-11 17:58:33.738 54481 ERROR neutron.agent.dhcp.agent
2020-03-11 17:58:33.740 54481 DEBUG neutron.agent.linux.utils [-] Unable to access /var/lib/neutron/external/pids/a187b137-b68c-476e-bd37-39253158e762.pid.haproxy get_value_from_file /usr/lib/pyt

The issue is that the dhcp side containers are spawned with the following processes:
           |-conmon(375906)-+-dumb-init(375918)---bash(375935)---dnsmasq(375938)
           | `-{conmon}(375908)

Now when neutron wants to send a SIGHUP to the dnsmasq it actually invokes the following command:
nsenter --net=/run/netns/qdhcp-e11ac152-745f-4292-b423-d282fbf97f13 --preserve-credentials -m -t 1 podman kill --signal HUP 0b7371f6de52cfe377858...

The problem is that podman kill will send the signal to ""dumb-init
--single-child"" (pid1 for this container) which will then forward it only to
bash, which will cause dnsmasq to be terminated and will eventually be later
respawned with a different pid (stored in
/var/lib/neutron/dhcp/86884abc-f7d7-4118-923f-38b247fee8e9/pid).

So if multiple ports are created concurrently this is racy and one of them will fail to reload dnsmasq with the error above, because one process might use a pid file that is no longer valid.
TLDR: this all works if SIGHUP to the dnsmasq process does not change pids under the hood all of a sudden.
Otherwise a SIGHUP used to reload dnsmasq will be sent to the bash
process father of dnsmasq which will then terminate dnsmasq and break
all the things

Tested this on three runs and did not experience the issue any longer

Co-Authored-By: Bernard Cafarelli <bcafarel@redhat.com>
Co-Authored-By: Slawomir Kaplonski <skaplons@redhat.com>

Closes-Bug: #1867192

Change-Id: I1af2ecd9e3996de4f43224f66a8bdb81eab07022
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/712685/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,e726398ef39ad2d21b83ad8a6a2f0e91ad2e340f,wip, cmd: exec /usr/sbin/dnsmasq -k, cmd: /usr/sbin/dnsmasq -k,1,1
openstack%2Ftripleo-common~master~Ice40fec0eacefd9778614996fb3417b78cdd17d3,openstack/tripleo-common,master,Ice40fec0eacefd9778614996fb3417b78cdd17d3,Add interface-names to centos8 images,MERGED,2020-03-11 21:22:35.000000000,2020-03-13 13:36:36.000000000,2020-03-13 13:35:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 21:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0c0f723182d4ec0b11e8b6d753897ba536e631b', 'message': 'Add interface-names to centos8 images\n\nBack in Bug #1841441, we disabled the net.ifnames because of the\nRHEL7->RHEL8 changes to interface names. Now that we have centos8, we\nneed to ensure this action is also run on those images.\n\nChange-Id: Ice40fec0eacefd9778614996fb3417b78cdd17d3\nRelated-Bug: #1866202\nRelated-Bug: #1841441\n'}, {'number': 2, 'created': '2020-03-12 14:16:21.000000000', 'files': ['image-yaml/overcloud-images-ceph-centos8.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2589b8f22ad2d263bcecbb8278e73f0822e7eba3', 'message': 'Add interface-names to centos8 images\n\nBack in Bug #1841441, we disabled the net.ifnames because of the\nRHEL7->RHEL8 changes to interface names. Now that we have centos8, we\nneed to ensure this action is also run on those images.\n\nDepends-On: https://review.opendev.org/#/c/712487/\nChange-Id: Ice40fec0eacefd9778614996fb3417b78cdd17d3\nRelated-Bug: #1866202\nRelated-Bug: #1841441\n'}]",0,712571,2589b8f22ad2d263bcecbb8278e73f0822e7eba3,16,7,2,14985,,,0,"Add interface-names to centos8 images

Back in Bug #1841441, we disabled the net.ifnames because of the
RHEL7->RHEL8 changes to interface names. Now that we have centos8, we
need to ensure this action is also run on those images.

Depends-On: https://review.opendev.org/#/c/712487/
Change-Id: Ice40fec0eacefd9778614996fb3417b78cdd17d3
Related-Bug: #1866202
Related-Bug: #1841441
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/712571/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-centos8.yaml', 'image-yaml/overcloud-images-centos8.yaml', 'image-yaml/overcloud-hardened-images-centos8.yaml']",3,f0c0f723182d4ec0b11e8b6d753897ba536e631b,, - interface-names,,4,0
openstack%2Ftripleo-image-elements~master~I95d851f194a524caad639188e7df8f041fa2a248,openstack/tripleo-image-elements,master,I95d851f194a524caad639188e7df8f041fa2a248,Cleanup stale interface if exists,MERGED,2020-03-11 16:01:48.000000000,2020-03-13 13:36:06.000000000,2020-03-13 13:34:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 16:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/82afbe41f771e158af6b0169014edf6eed2b32ad', 'message': ""Cleanup stale interface if exists\n\nThere is a bug in the CentOS 8 image where the ens3 interface file\nexists. We should clean that up if it exists to prevent issues when\nbooting. We manage the interfaces later with os-net-config so we don't\nwant them to exist in the image.\n\nChange-Id: I95d851f194a524caad639188e7df8f041fa2a248\nCloses-Bug: #1866202\n""}, {'number': 2, 'created': '2020-03-11 17:34:35.000000000', 'files': ['elements/interface-names/install.d/71-clean-stale-interface'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d641e019b90f9318a38d67b3910cb4e4b1c09ec0', 'message': ""Cleanup stale interface if exists\n\nThere is a bug in the CentOS 8 image where the ens3 interface file\nexists. We should clean that up if it exists to prevent issues when\nbooting. We manage the interfaces later with os-net-config so we don't\nwant them to exist in the image.\n\nChange-Id: I95d851f194a524caad639188e7df8f041fa2a248\nCloses-Bug: #1866202\n""}]",0,712487,d641e019b90f9318a38d67b3910cb4e4b1c09ec0,32,10,2,14985,,,0,"Cleanup stale interface if exists

There is a bug in the CentOS 8 image where the ens3 interface file
exists. We should clean that up if it exists to prevent issues when
booting. We manage the interfaces later with os-net-config so we don't
want them to exist in the image.

Change-Id: I95d851f194a524caad639188e7df8f041fa2a248
Closes-Bug: #1866202
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/87/712487/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/interface-names/install.d/71-clean-stale-interface'],1,82afbe41f771e158af6b0169014edf6eed2b32ad,bug/1866202,#!/bin/bash set -eux set -o pipefail # https://bugs.centos.org/view.php?id=17133 if [ -f /etc/sysconfig/network-scripts/ifcfg-ens3 ]; then rm -f /etc/sysconfig/network-scripts/ifcfg-ens3 fi ,,9,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I233b43633ae38c84af14cfd1b8296f6475a2902b,openstack/tripleo-upgrade,stable/train,I233b43633ae38c84af14cfd1b8296f6475a2902b,Flatten and sort package removal list,MERGED,2020-03-11 21:19:54.000000000,2020-03-13 13:35:03.000000000,2020-03-13 13:35:03.000000000,"[{'_account_id': 6816}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 21:19:54.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/57705f60f5c9b2657138c5c1ba77f0c3f4bd1d7b', 'message': 'Flatten and sort package removal list\n\nTo make the package list easier to read and maintain,\nwe flatten the command and sort the list alphanumerically.\n\nChange-Id: I233b43633ae38c84af14cfd1b8296f6475a2902b\n(cherry picked from commit ab2f0adafa543c54683c86e7cd119777ca895a00)\n'}]",0,712570,57705f60f5c9b2657138c5c1ba77f0c3f4bd1d7b,8,3,1,6816,,,0,"Flatten and sort package removal list

To make the package list easier to read and maintain,
we flatten the command and sort the list alphanumerically.

Change-Id: I233b43633ae38c84af14cfd1b8296f6475a2902b
(cherry picked from commit ab2f0adafa543c54683c86e7cd119777ca895a00)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/70/712570/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,57705f60f5c9b2657138c5c1ba77f0c3f4bd1d7b,ffwd-upgrade2-stable/train, shell: >- yum -y remove *el7ost* galera* haproxy* httpd mysql* pacemaker* python-jsonpointer qemu-kvm-common-rhev qemu-img-rhev rabbit* redis* -- -*openvswitch* -python-docker -python-PyMySQL -python-pysocks -python2-asn1crypto -python2-babel -python2-cffi -python2-cryptography -python2-dateutil -python2-idna -python2-ipaddress -python2-jinja2 -python2-jsonpatch -python2-markupsafe -python2-pyOpenSSL -python2-six -python2-urllib3, shell: | yum -y remove *el7ost* qemu-kvm-common-rhev qemu-img-rhev httpd python-jsonpointer haproxy* pacemaker* galera* mysql* rabbit* redis* -- \ -*openvswitch* \ -python2-babel \ -python2-dateutil \ -python2-ipaddress \ -python2-jinja2 \ -python2-markupsafe \ -python2-jsonpatch \ -python2-six \ -python-PyMySQL \ -python-pysocks \ -python2-asn1crypto \ -python2-cffi \ -python2-pyOpenSSL \ -python2-urllib3 \ -python2-requests \ -python2-idna \ -python-docker \ -python2-cryptography,31,20
openstack%2Ftripleo-quickstart-extras~master~Ic692f57c8828e776f49e6c703e50e20d4bc87fe4,openstack/tripleo-quickstart-extras,master,Ic692f57c8828e776f49e6c703e50e20d4bc87fe4,Fix installation of contextlib2,MERGED,2020-03-11 16:43:56.000000000,2020-03-13 13:35:03.000000000,2020-03-13 13:35:03.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 16:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3221766cfba53052cb7b36dd139e7b0155289690', 'message': 'Fix installation of contextlib2\n\nContextlib2 need to be between 0.5 and 0.6 for queens.\nSince upgrade job tries to upgrade from queens to pike, the task were\nskipped because the release has change to pike.\n\nChange-Id: Ic692f57c8828e776f49e6c703e50e20d4bc87fe4\nCloses-Bug: #1867023\n'}, {'number': 2, 'created': '2020-03-12 06:02:52.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ba04f75b449cef7f1822c82242ba54d6037bd04b', 'message': 'Fix installation of contextlib2\n\nContextlib2 need to be between 0.5 and 0.6 for queens.\nSince upgrade job tries to upgrade from queens to pike, the task were\nskipped because the release has change to pike.\n\nChange-Id: Ic692f57c8828e776f49e6c703e50e20d4bc87fe4\nCloses-Bug: #1867023\n'}]",0,712501,ba04f75b449cef7f1822c82242ba54d6037bd04b,22,7,2,8367,,,0,"Fix installation of contextlib2

Contextlib2 need to be between 0.5 and 0.6 for queens.
Since upgrade job tries to upgrade from queens to pike, the task were
skipped because the release has change to pike.

Change-Id: Ic692f57c8828e776f49e6c703e50e20d4bc87fe4
Closes-Bug: #1867023
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/01/712501/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,3221766cfba53052cb7b36dd139e7b0155289690,fix-surpress," when: (release in ['queens']) or (lookup('env', 'ZUUL_BRANCH') | replace('stable/', '') in ['queens'])", when: release in ['queens'],1,1
openstack%2Ftripleo-upgrade~stable%2Frocky~I916c3ed394f54561fff2a106288a667c0b877360,openstack/tripleo-upgrade,stable/rocky,I916c3ed394f54561fff2a106288a667c0b877360,Clean up roles data adjustment,MERGED,2020-01-17 09:25:29.000000000,2020-03-13 13:35:02.000000000,2020-03-13 13:35:02.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-17 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/77b4fb84d788bfa4ff24809a07b02862fd47c739', 'message': ""Clean up roles data adjustment\n\n1. The python_bin var is unused, so it should be removed.\n2. Tasks should be seperated by a newline in order to easily see\n   that they are seperate tasks.\n3. The return code of 2 was in the wrong place. It should have been\n   where the data was changed, as per the changed_when condition.\n4. With the return code adjusted, the final task's condition also\n   needed adjusting to match.\n\nRelated-Bug: #1856865\nChange-Id: I916c3ed394f54561fff2a106288a667c0b877360\n(cherry picked from commit 53377cdb144374693827bdfc5ec817239d2b78a1)\n(cherry picked from commit 967f3805d356c180835dba680d86af1b66ebe8f1)\n(cherry picked from commit 6c5631bb3d128f79a7d114d8a19f928828c27138)\n""}, {'number': 2, 'created': '2020-01-28 10:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7aa13bbd5ef02ffc330ac2d9f1285432a8e30261', 'message': ""Clean up roles data adjustment\n\n1. The python_bin var is unused, so it should be removed.\n2. Tasks should be seperated by a newline in order to easily see\n   that they are seperate tasks.\n3. The return code of 2 was in the wrong place. It should have been\n   where the data was changed, as per the changed_when condition.\n4. With the return code adjusted, the final task's condition also\n   needed adjusting to match.\n\nRelated-Bug: #1856865\nChange-Id: I916c3ed394f54561fff2a106288a667c0b877360\n(cherry picked from commit 53377cdb144374693827bdfc5ec817239d2b78a1)\n(cherry picked from commit 967f3805d356c180835dba680d86af1b66ebe8f1)\n(cherry picked from commit 6c5631bb3d128f79a7d114d8a19f928828c27138)\n""}, {'number': 3, 'created': '2020-03-11 13:55:41.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/204ca182ffb634dc0a21c5fc373169482dda6db2', 'message': ""Clean up roles data adjustment\n\n1. The python_bin var is unused, so it should be removed.\n2. Tasks should be seperated by a newline in order to easily see\n   that they are seperate tasks.\n3. The return code of 2 was in the wrong place. It should have been\n   where the data was changed, as per the changed_when condition.\n4. With the return code adjusted, the final task's condition also\n   needed adjusting to match.\n\nRelated-Bug: #1856865\nChange-Id: I916c3ed394f54561fff2a106288a667c0b877360\n(cherry picked from commit 53377cdb144374693827bdfc5ec817239d2b78a1)\n(cherry picked from commit 967f3805d356c180835dba680d86af1b66ebe8f1)\n(cherry picked from commit 6c5631bb3d128f79a7d114d8a19f928828c27138)\n""}]",0,703041,204ca182ffb634dc0a21c5fc373169482dda6db2,11,3,3,26343,,,0,"Clean up roles data adjustment

1. The python_bin var is unused, so it should be removed.
2. Tasks should be seperated by a newline in order to easily see
   that they are seperate tasks.
3. The return code of 2 was in the wrong place. It should have been
   where the data was changed, as per the changed_when condition.
4. With the return code adjusted, the final task's condition also
   needed adjusting to match.

Related-Bug: #1856865
Change-Id: I916c3ed394f54561fff2a106288a667c0b877360
(cherry picked from commit 53377cdb144374693827bdfc5ec817239d2b78a1)
(cherry picked from commit 967f3805d356c180835dba680d86af1b66ebe8f1)
(cherry picked from commit 6c5631bb3d128f79a7d114d8a19f928828c27138)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/703041/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,77b4fb84d788bfa4ff24809a07b02862fd47c739,bug/1856865-stable/train-stable/stein-stable/rocky, exit 2 when: modified_roles_data.rc == 2," vars: python_bin: ""{{ ansible_python_interpreter | default('python') }}"" exit 2 when: modified_roles_data.rc == 0",3,4
openstack%2Ftripleo-upgrade~stable%2Frocky~I8b2cacd4271a59dfda948462146c0866b8b7725f,openstack/tripleo-upgrade,stable/rocky,I8b2cacd4271a59dfda948462146c0866b8b7725f,Fix python command and fix python3 compatiblity.,MERGED,2020-01-16 16:12:03.000000000,2020-03-13 13:35:01.000000000,2020-03-13 13:35:01.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-01-16 16:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1cd7f9f5ba634e79c1d18ef71feaaaed07c6caba', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)\n""}, {'number': 2, 'created': '2020-01-17 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0e29aa5290a71cd6170ea5e739824d262244ef8f', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n(cherry picked from commit bceafc0ab4a638fac5ae9b061b09f19654cb4cdd)\n(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)\n""}, {'number': 3, 'created': '2020-01-20 11:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/467e8f63ebad21507accccbb6d22b03f308c905b', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)\n(cherry picked from commit bceafc0ab4a638fac5ae9b061b09f19654cb4cdd)\n""}, {'number': 4, 'created': '2020-03-03 11:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b9fbf5cd58da6306d5a2fbc49881a2b3e898cd6d', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)\n(cherry picked from commit bceafc0ab4a638fac5ae9b061b09f19654cb4cdd)\n""}, {'number': 5, 'created': '2020-03-11 13:55:32.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7b1bf8f4f32fef0772063d4476afd547ca7bff15', 'message': ""Fix python command and fix python3 compatiblity.\n\nThe python binary is not available in rhel8, add a variable with the\nbinary. In stein on, we deal python3 by default and print isn't\nsupported anymore now print is a function. This patch defines python_bin\nbased on OS version (python in RHEL7 or python3 in RHEL8). Output is\nassigned as ansible registered variable to save it to file later on.\nAdditionally this patch moves all pipes to jq to minimize number of forks\n\nCo-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>\nCloses-Bug: #1856865\n\nChange-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f\n(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)\n(cherry picked from commit bceafc0ab4a638fac5ae9b061b09f19654cb4cdd)\n""}]",0,702908,7b1bf8f4f32fef0772063d4476afd547ca7bff15,23,6,5,26343,,,0,"Fix python command and fix python3 compatiblity.

The python binary is not available in rhel8, add a variable with the
binary. In stein on, we deal python3 by default and print isn't
supported anymore now print is a function. This patch defines python_bin
based on OS version (python in RHEL7 or python3 in RHEL8). Output is
assigned as ansible registered variable to save it to file later on.
Additionally this patch moves all pipes to jq to minimize number of forks

Co-Authored-By: Sergii Golovatiuk <sgolovat@redhat.com>
Closes-Bug: #1856865

Change-Id: I8b2cacd4271a59dfda948462146c0866b8b7725f
(cherry picked from commit 614322b9f63ce9ec240129b22e60772d1b34ce02)
(cherry picked from commit bceafc0ab4a638fac5ae9b061b09f19654cb4cdd)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/08/702908/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,1cd7f9f5ba634e79c1d18ef71feaaaed07c6caba,bug/1856865-stable/train-stable/stein-stable/rocky," - name: copy roles_data in a variable command: ""cat {{ roles_data }}"" register: roles_data_yaml - name: save roles_data into json file copy: content: ""{{ roles_data_yaml.stdout | from_yaml | to_nice_json }}"" dest: ""{{ roles_data }}.json"" vars: python_bin: ""{{ ansible_python_interpreter | default('python') }}"" if grep -q OS::TripleO::Services::Pacemaker ""{{ roles_data }}.json""; then cat {{ roles_data }}.json |\ jq 'del(.[] | .update_serial ) | map(. |= (. += {update_serial: 25} )) | map( if .ServicesDefault | contains ([""OS::TripleO::Services::Pacemaker""]) then . += {update_serial: 1} else . += {update_serial: 25} end )' exit 2 register: modified_roles_data failed_when: modified_roles_data.rc not in [0,2] changed_when: modified_roles_data.rc == 2 - name: ""Dump the modified roles_data into {{ roles_data }}"" copy: content: ""{{ modified_roles_data.stdout | from_json | to_nice_yaml(indent=2) | trim}}"" dest: ""{{ roles_data }}"" when: modified_roles_data.rc == 0"," if grep -q OS::TripleO::Services::Pacemaker ""{{ roles_data }}"" ; then cp -f ""{{ roles_data }}"" ""{{ roles_data }}_update_serial"" python -c 'import sys, yaml, simplejson as json; json.dump(yaml.load(sys.stdin), sys.stdout, indent=4)' < ""{{roles_data}}_update_serial"" |\ jq 'del(.[] | .update_serial)' |\ jq 'map(. |= (. += {update_serial: 25} ))' |\ jq 'map( if .ServicesDefault | contains ([""OS::TripleO::Services::Pacemaker""]) then .update_serial = 1 else . end)' |\ python -c 'import simplejson, sys, yaml; print yaml.dump(simplejson.loads(str(sys.stdin.read())), default_flow_style=False)' > ""{{ roles_data }}""",26,11
openstack%2Ftripleo-ansible~master~I4c9e5de94d60e392a64617a475a79edb829ca2d4,openstack/tripleo-ansible,master,I4c9e5de94d60e392a64617a475a79edb829ca2d4,"Revert ""Add a new set of tasks to build the openstack pool and key list""",ABANDONED,2020-03-12 11:50:13.000000000,2020-03-13 13:34:05.000000000,,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 11:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f5f1ce8e74c9d552fbb5433a9bf1ebd4157ce1b', 'message': 'Revert ""Add a new set of tasks to build the openstack pool and key list""\n\nThis reverts commit 144f5aa690eb2c6ea6071dc2732c721e6bde4c77.\n\nIt\'s due to the https://bugs.launchpad.net/tripleo/+bug/1867004\n\nChange-Id: I4c9e5de94d60e392a64617a475a79edb829ca2d4\n'}, {'number': 2, 'created': '2020-03-12 12:04:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27f14f4435e11fbd2a00f0d83f13217969619bd6', 'message': 'Revert ""Add a new set of tasks to build the openstack pool and key list""\n\nThis reverts commit 144f5aa690eb2c6ea6071dc2732c721e6bde4c77.\n\nIt\'s due to the https://bugs.launchpad.net/tripleo/+bug/1867004\n\nChange-Id: I4c9e5de94d60e392a64617a475a79edb829ca2d4\n'}]",0,712661,27f14f4435e11fbd2a00f0d83f13217969619bd6,11,6,2,25402,,,0,"Revert ""Add a new set of tasks to build the openstack pool and key list""

This reverts commit 144f5aa690eb2c6ea6071dc2732c721e6bde4c77.

It's due to the https://bugs.launchpad.net/tripleo/+bug/1867004

Change-Id: I4c9e5de94d60e392a64617a475a79edb829ca2d4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/712661/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo_ceph_common/defaults/main.yml']",4,7f5f1ce8e74c9d552fbb5433a9bf1ebd4157ce1b,lp1864477," keys: - caps: mgr: allow * mon: profile rbd osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images key: AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q== mode: '0600' name: client.openstack - caps: mds: allow * mgr: allow * mon: allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create' osd: allow rw key: AQCwmeRcAAAAABAAiglHZveUQUmoSsYbZcbMEA== mode: '0600' name: client.manila - caps: mgr: allow * mon: allow rw osd: allow rwx key: AQCwmeRcAAAAABAAvd9OK2qeXNaD4rL/wP7D0Q== mode: '0600' name: client.radosgw openstack_keys: - caps: mgr: allow * mon: profile rbd osd: profile rbd pool=volumes, profile rbd pool=backups, profile rbd pool=vms, profile rbd pool=images key: AQCwmeRcAAAAABAA6SQU/bGqFjlfLro5KxrB1Q== mode: '0600' name: client.openstack - caps: mds: allow * mgr: allow * mon: allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create' osd: allow rw key: AQCwmeRcAAAAABAAiglHZveUQUmoSsYbZcbMEA== mode: '0600' name: client.manila - caps: mgr: allow * mon: allow rw osd: allow rwx key: AQCwmeRcAAAAABAAvd9OK2qeXNaD4rL/wP7D0Q== mode: '0600' name: client.radosgw openstack_pools: - application: rbd name: images pg_num: 32 rule_name: replicated_rule - application: rbd name: backups pg_num: 32 rule_name: replicated_rule - application: rbd name: vms pg_num: 32 rule_name: replicated_rule - application: rbd name: volumes pg_num: 32 rule_name: replicated_rule"," ceph_pools: gnocchi_pool: name: 'metrics' enabled: true nova_pool: name: 'vms' enabled: true glance_pool: name: 'images' enabled: true cinder_pool: name: 'volumes' enabled: true cinder_extra_pools: [altrbd, pool2, pool3] cinder_backup_pool: name: 'backups' enabled: false extra_pools: - application: rbd name: altrbd pg_num: 1 rule_name: replicated_rule pg_num: 32 manila_pools: data: 'manila_data' data_pg_num: 16 metadata: 'manila_metadata' metadata_pg_num: 16 ceph_keys: openstack_client: name: ""openstack"" key: ""AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw=="" manila: name: ""manila"" key: ""AQDVdVZeAAAAABAAhhhLNK3G8Bb8kShtnPBXnA=="" radosgw: name: ""radosgw"" key: ""AQDVdVZeAAAAABAAzv4Bo8gRRyuOvs2MaLtnYQ=="" extra_keys: - caps: mgr: allow * mon: profile rbd osd: profile rbd pool=images key: AQBRgQ9eAAAAABAAv84zEilJYZPNuJ0Iwn9Ndg== mode: '0600' name: client.glance",68,221
openstack%2Ftripleo-heat-templates~master~I988119d44b97991f9724cae40b4ef287ff8a815c,openstack/tripleo-heat-templates,master,I988119d44b97991f9724cae40b4ef287ff8a815c,"Revert ""Add CephBasePoolVars and CephKeyVars structures""",ABANDONED,2020-03-12 11:50:22.000000000,2020-03-13 13:34:00.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-12 11:50:22.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fb9281644c0f4f69638a5856aa6434cfd2cc5a2', 'message': 'Revert ""Add CephBasePoolVars and CephKeyVars structures""\n\nThis reverts commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844.\n\nIt\'s due to the https://bugs.launchpad.net/tripleo/+bug/1867004\n\nChange-Id: I988119d44b97991f9724cae40b4ef287ff8a815c\n'}]",0,712662,2fb9281644c0f4f69638a5856aa6434cfd2cc5a2,8,5,1,25402,,,0,"Revert ""Add CephBasePoolVars and CephKeyVars structures""

This reverts commit a9b8087db1892236e1df9e76d7f4bac4ba6ea844.

It's due to the https://bugs.launchpad.net/tripleo/+bug/1867004

Change-Id: I988119d44b97991f9724cae40b4ef287ff8a815c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/712662/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",2,2fb9281644c0f4f69638a5856aa6434cfd2cc5a2,lp1864477,," CinderRbdExtraPools: altrbd,pool2,pool3 CephPools: - name: altrbd pg_num: 8 rule_name: replicated_rule",113,120
openstack%2Fvalidations-common~master~I476ab6de37c6f912772a8ddf0cdd241497641d17,openstack/validations-common,master,I476ab6de37c6f912772a8ddf0cdd241497641d17,Use uuid if exists as env variable in the callback_plugin,MERGED,2020-03-11 09:35:50.000000000,2020-03-13 13:29:52.000000000,2020-03-13 13:29:52.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 09:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dd8876b935012e1109070fcc05e2cbbac12a55d1', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 2, 'created': '2020-03-11 09:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ab748e7ea23b6d0a2c95dda65480028337c7949c', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 3, 'created': '2020-03-11 09:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/23b290931da3d164e73b99dffdb149dbbf195183', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 4, 'created': '2020-03-11 10:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/02d019479ad952bf83ee28eb00fb39d39ee18fe2', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 5, 'created': '2020-03-12 06:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e4dfeb4a141bae1fdcc372b8b2ef16b042764476', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 6, 'created': '2020-03-13 10:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6752c276c49deb23000b18eb084e6fdde3046440', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}, {'number': 7, 'created': '2020-03-13 13:07:49.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d48b4b771434582be5db765e4b6e11e3235fdf3d', 'message': 'Use uuid if exists as env variable in the callback_plugin\n\nUse uuid if it has been exported by the runner in order\nto share the same id for building the log path.\nWith this uniq id, we can get easy access between\nansible run and json output written by the callback.\n\nChange-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17\n'}]",1,712296,d48b4b771434582be5db765e4b6e11e3235fdf3d,15,2,7,16515,,,0,"Use uuid if exists as env variable in the callback_plugin

Use uuid if it has been exported by the runner in order
to share the same id for building the log path.
With this uniq id, we can get easy access between
ansible run and json output written by the callback.

Change-Id: I476ab6de37c6f912772a8ddf0cdd241497641d17
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/96/712296/7 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,dd8876b935012e1109070fcc05e2cbbac12a55d1,," (os.getenv('ANSIBLE_UUID') if os.getenv('ANSIBLE_UUID') else self.results[0].get('play').get('id')),"," self.results[0].get('play').get('id'),",2,1
openstack%2Fvalidations-common~master~If9d78891f9b5a1615a9fb1f4251801eec1f29ed5,openstack/validations-common,master,If9d78891f9b5a1615a9fb1f4251801eec1f29ed5,Migrate molecule jobs from centos 7 to 8,MERGED,2020-03-11 08:30:53.000000000,2020-03-13 13:08:15.000000000,2020-03-13 13:04:48.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-11 08:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ac5e768f47ee2b651aaa1d9847ed12cde33c11ef', 'message': 'Add .gitreview file\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2020-03-11 08:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e66f10d9677d47d5f732385a1e9c15325fdfd930', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- assure we have docker installed\n- add .gitreview file\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2020-03-11 10:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cb2d596c1ab517da29c170c01c168bf891d35be9', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- Ensure have docker installed\n- Add .gitreview file\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2020-03-11 13:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d8ae5f4f3eab1ea257de91832a44716ef038cb00', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- assure we have docker installed\n- add .gitreview file\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2020-03-11 16:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9487e00161f1fadf0aad1a5c3a4cf69c22bcfade', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- assure we have docker installed\n- add .gitreview file\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2020-03-13 09:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/106f06a383a4a43674489cd50fe0d47bf7bb05e1', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- assure we have docker installed\n- add .gitreview file\n- Fix Python shebangs for packaging\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2020-03-13 11:24:32.000000000', 'files': ['validations_common/library/check_package_update.py', 'validations_common/library/hiera.py', 'validations_common/library/warn.py', 'releasenotes/source/ocata.rst', '.gitreview', 'releasenotes/source/pike.rst', 'zuul.d/base.yaml', 'releasenotes/source/index.rst', 'zuul.d/playbooks/run.yml', 'tools/test-setup.sh', 'validations_common/library/validations_read_ini.py', 'zuul.d/molecule.yaml', 'releasenotes/source/train.rst', 'requirements.txt', 'zuul.d/playbooks/run-local.yml', 'releasenotes/source/queens.rst', 'zuul.d/playbooks/pre.yml', 'releasenotes/source/rocky.rst', 'validations_common/library/advanced_format.py', 'zuul.d/layout.yaml', 'releasenotes/source/stein.rst', 'validations_common/library/haproxy_conf.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b6d66646b89ea72ec5f52facb138dd33989bd86d', 'message': 'Migrate molecule jobs from centos 7 to 8\n\n- assure we have docker installed\n- add .gitreview file\n- Fix Python shebangs for packaging\n\nChange-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",1,712252,b6d66646b89ea72ec5f52facb138dd33989bd86d,20,3,7,11491,,,0,"Migrate molecule jobs from centos 7 to 8

- assure we have docker installed
- add .gitreview file
- Fix Python shebangs for packaging

Change-Id: If9d78891f9b5a1615a9fb1f4251801eec1f29ed5
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/52/712252/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ac5e768f47ee2b651aaa1d9847ed12cde33c11ef,,[gerrit] host=review.opendev.org port=29418 project=openstack/validations-common.git ,,4,0
openstack%2Fcharm-guide~master~Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2,openstack/charm-guide,master,Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2,"Add ""password-security-compliance"" for keystone to 20.05 relnote",MERGED,2020-02-26 12:24:06.000000000,2020-03-13 12:39:11.000000000,2020-03-13 12:37:16.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-26 12:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e286fd9f561a5b2fc80aab869e2a06e6d997f34c', 'message': 'Add ""password-security-compliance"" for keystone to 20.05 relnote\n\nFeatured added to keystone-charm in change id:\nIf7c54fae73188284bd9b03a53626cdf52158b994\n\nChange-Id: Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2\nRelated-Bug: #1776688\n'}, {'number': 2, 'created': '2020-03-06 14:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/21cf3a6b4384edd38edd0ead6fa41015a14da868', 'message': 'Add ""password-security-compliance"" for keystone to 20.05 relnote\n\nFeatured added to keystone-charm in change id:\nIf7c54fae73188284bd9b03a53626cdf52158b994\n\nChange-Id: Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2\nRelated-Bug: #1776688\n'}, {'number': 3, 'created': '2020-03-09 15:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/256f3c6ebf810abf589e7e7c44f059857c7f45a5', 'message': 'Add ""password-security-compliance"" for keystone to 20.05 relnote\n\nFeatured added to keystone-charm in change id:\nIf7c54fae73188284bd9b03a53626cdf52158b994\n\nChange-Id: Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2\nRelated-Bug: #1776688\n'}, {'number': 4, 'created': '2020-03-13 11:20:09.000000000', 'files': ['doc/source/2005.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/61d23c4f5d662ffeee09de38ec4f29d0fdaa8b80', 'message': 'Add ""password-security-compliance"" for keystone to 20.05 relnote\n\nFeatured added to keystone-charm in change id:\nIf7c54fae73188284bd9b03a53626cdf52158b994\n\nChange-Id: Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2\nRelated-Bug: #1776688\n'}]",2,710022,61d23c4f5d662ffeee09de38ec4f29d0fdaa8b80,14,2,4,20870,,,0,"Add ""password-security-compliance"" for keystone to 20.05 relnote

Featured added to keystone-charm in change id:
If7c54fae73188284bd9b03a53626cdf52158b994

Change-Id: Ib1b6b4e94c6004641b79e7efe64d03bd6df69aa2
Related-Bug: #1776688
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/22/710022/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2005.rst'],1,e286fd9f561a5b2fc80aab869e2a06e6d997f34c,bug/1776688,Configuring Security Compliance for Keystone ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Keystone has several configuration options available in order to comply with standards such as the Payment Card Industry -- Data Security Standard (PCI-DSS) v3.1. The 'keystone' charm can now set these options. The ``password-security-compliance`` charm option sets Keystone service options for the ``[security_compliance]`` section of Keystone's configuration file. .. note :: Please ensure that the page `Security compliance and PCI-DSS`_ is consulted before setting these options. The charm does set the `ignore_change_password_upon_first_use` and `ignore_password_expiry` options to `true` for the service accounts to prevent lockout of service users. Please consult the `Keystone charm README`_ for more details on the option. ,,19,0
openstack%2Fmonasca-persister~master~I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab,openstack/monasca-persister,master,I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab,Support automatic db creation for InfluxDB,MERGED,2019-10-31 12:30:54.000000000,2020-03-13 12:37:04.000000000,2019-11-15 14:42:08.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-31 12:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/b63ffa76968be413e880aa8bcd748519090ec074', 'message': 'Support automatic db creation for InfluxDB\n\nAt the moment, monasca persister assumes that an InfluxDB database\nalready exists. With this change, a new database is created when it does\nnot exist.\n\nStory: 2006331\nTask: 37327\n\nChange-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab\n'}, {'number': 2, 'created': '2019-10-31 13:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/8761d16d59ecf88ed81dbea65d5ea7d3e00fb32a', 'message': 'Support automatic db creation for InfluxDB\n\nAt the moment, monasca persister assumes that an InfluxDB database\nalready exists. With this change, a new database is created when it does\nnot exist.\n\nStory: 2006331\nTask: 37327\n\nChange-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab\n'}, {'number': 3, 'created': '2019-10-31 23:15:12.000000000', 'files': ['monasca_persister/repositories/influxdb/abstract_repository.py', 'releasenotes/notes/support-automatic-db-creation-0856216b42b91e7d.yaml', 'monasca_persister/tests/test_influxdb_metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/df12bd86288408b850e4a261504d956a062650b6', 'message': 'Support automatic db creation for InfluxDB\n\nAt the moment, monasca persister assumes that an InfluxDB database\nalready exists. With this change, a new database is created when it does\nnot exist.\n\nStory: 2006331\nTask: 37327\n\nChange-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab\n'}]",1,692359,df12bd86288408b850e4a261504d956a062650b6,15,4,3,28022,,,0,"Support automatic db creation for InfluxDB

At the moment, monasca persister assumes that an InfluxDB database
already exists. With this change, a new database is created when it does
not exist.

Story: 2006331
Task: 37327

Change-Id: I3d88eb8b2cdbd81f9c84fe1703b2ee2d1b09e1ab
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/59/692359/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/repositories/influxdb/abstract_repository.py', 'releasenotes/notes/support-automatic-db-creation-0856216b42b91e7d.yaml', 'monasca_persister/tests/test_influxdb_metrics_repository.py']",3,b63ffa76968be413e880aa8bcd748519090ec074,story/2006331,"import influxdb from influxdb.exceptions import InfluxDBClientError from mock import call from monasca_persister.repositories.influxdb.metrics_repository import MetricInfluxdbRepository from monasca_persister.repositories.persister import DataPointsimport six db_not_found = InfluxDBClientError( content='{""error"": ""database not found: db""}', code=404) def _test_process_message(self, metric_repo, data_points, metric, tenant): _dp, _tenant = metric_repo.process_message(metric) self.assertIsInstance(_dp, six.string_types) self.assertEqual(_tenant, tenant) data_points.append(_tenant, _dp) @patch.object(influxdb, 'InfluxDBClient') @patch.object(cfg, 'CONF', return_value=None) def _test_write_batch(self, mock_conf, mock_influxdb_client, db_per_tenant, db_exists): t1 = u'fake_tenant_id_1' t2 = u'fake_tenant_id_2' m1 = self._get_metric(t1) m2 = self._get_metric(t2) data_points = DataPoints() mock_conf.influxdb.database_name = db_name = 'db' mock_conf.influxdb.db_per_tenant = db_per_tenant metric_repo = MetricInfluxdbRepository() self._test_process_message(metric_repo, data_points, m1, t1) self._test_process_message(metric_repo, data_points, m2, t2) metric_repo._influxdb_client = mock_influxdb_client if db_exists: metric_repo._influxdb_client.write_points = Mock() else: metric_repo._influxdb_client.write_points = Mock( side_effect=[db_not_found, None, db_not_found, None]) if db_per_tenant: call1 = call('%s_%s' % (db_name, t1)) call2 = call('%s_%s' % (db_name, t2)) calls = [call1, call2] else: calls = [call(db_name)] metric_repo.write_batch(data_points) if db_exists: mock_influxdb_client.create_database.assert_not_called() else: mock_influxdb_client.create_database.assert_has_calls(calls) def _get_metric(self, tenant_id): ""tenantId"":""''' + tenant_id + '''"" def test_write_batch_db_exists(self): self._test_write_batch(db_per_tenant=False, db_exists=True) def test_write_batch(self): self._test_write_batch(db_per_tenant=False, db_exists=False) def test_write_batch_db_per_tenant_db_exists(self): self._test_write_batch(db_per_tenant=True, db_exists=True) def test_write_batch_db_per_tenant(self): self._test_write_batch(db_per_tenant=True, db_exists=False)","from monasca_persister.repositories.influxdb.metrics_repository import MetricInfluxdbRepository def test_process_message(self): metric = self._get_metric() with patch.object(cfg, 'CONF', return_value=None): metric_repo = MetricInfluxdbRepository() self.assertIsInstance(metric_repo.process_message(metric), tuple) def _get_metric(self): ""tenantId"":""df4c002353de4399b92fa79d8374819b""",72,10
openstack%2Frpm-packaging~stable%2Ftrain~I5d775d028fa595b342fe5be5a552e210f4651e3d,openstack/rpm-packaging,stable/train,I5d775d028fa595b342fe5be5a552e210f4651e3d,futurist: convert to python3,MERGED,2020-03-13 11:54:24.000000000,2020-03-13 12:22:52.000000000,2020-03-13 12:22:52.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:54:24.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e9ffb38825aa6e42971571483383af2ae1b4cbec', 'message': 'futurist: convert to python3\n\nChange-Id: I5d775d028fa595b342fe5be5a552e210f4651e3d\n(cherry picked from commit eadcb60df2a6c1d58ddcf1b2bc5c43a48e25c5fa)\n'}]",0,712929,e9ffb38825aa6e42971571483383af2ae1b4cbec,7,3,1,13294,,,0,"futurist: convert to python3

Change-Id: I5d775d028fa595b342fe5be5a552e210f4651e3d
(cherry picked from commit eadcb60df2a6c1d58ddcf1b2bc5c43a48e25c5fa)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/712929/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,e9ffb38825aa6e42971571483383af2ae1b4cbec,remove-python2-stable/train,"BuildRequires: {{ py3('PrettyTable') }}BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('monotonic') }}BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }}%package -n {{ py2name(py_versions='py3') }} Summary: Useful additions to futures, from the future. Requires: {{ py3('PrettyTable') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} Useful additions to futures, from the future. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/futurist %{python3_sitelib}/futurist-*-py?.?.egg-info","BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('contextlib2', py_versions=['py2']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('futures', py_versions=['py2']) }} BuildRequires: {{ py2pkg('monotonic', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }}Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('six') }}%ifpython2 Requires: {{ py2pkg('contextlib2') }} Requires: {{ py2pkg('futures') }} Requires: {{ py2pkg('monotonic') }} %endif %python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/futurist %{python_sitelib}/futurist-*-py?.?.egg-info",25,25
openstack%2Frpm-packaging~stable%2Ftrain~I726789e2447a36c639528365f22466bb5d1c86e0,openstack/rpm-packaging,stable/train,I726789e2447a36c639528365f22466bb5d1c86e0,os-traits: convert to python3,MERGED,2020-03-13 11:54:16.000000000,2020-03-13 12:22:51.000000000,2020-03-13 12:22:51.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:54:16.000000000', 'files': ['openstack/os-traits/os-traits.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/687964aa7f961e466ea97b173c4185ce2d5798a6', 'message': 'os-traits: convert to python3\n\nChange-Id: I726789e2447a36c639528365f22466bb5d1c86e0\n(cherry picked from commit ae74e94255be5dc763d25cec80bf87247f025a3e)\n'}]",0,712928,687964aa7f961e466ea97b173c4185ce2d5798a6,7,3,1,13294,,,0,"os-traits: convert to python3

Change-Id: I726789e2447a36c639528365f22466bb5d1c86e0
(cherry picked from commit ae74e94255be5dc763d25cec80bf87247f025a3e)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/28/712928/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-traits/os-traits.spec.j2'],1,687964aa7f961e466ea97b173c4185ce2d5798a6,remove-python2-stable/train,"BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Library containing standardized trait strings Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} Traits are strings that represent a feature of some resource provider. This library contains the catalog of constants that have been standardized in the OpenStack community to refer to a particular hardware, virtualization, storage, network, or device trait. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build} PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_traits* %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }}%python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{python_build} PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/os_traits* %{python_sitelib}/*.egg-info",27,19
openstack%2Frpm-packaging~stable%2Ftrain~Ifa429bde622423e6b47b91294bb4b4cdcfa82c47,openstack/rpm-packaging,stable/train,Ifa429bde622423e6b47b91294bb4b4cdcfa82c47,os-ken: convert to python3,MERGED,2020-03-13 11:53:59.000000000,2020-03-13 12:16:17.000000000,2020-03-13 12:16:16.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:53:59.000000000', 'files': ['openstack/os-ken/os-ken.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6efcf2e16df8364025a47d8ee3f9f0d7ceda64c7', 'message': 'os-ken: convert to python3\n\nChange-Id: Ifa429bde622423e6b47b91294bb4b4cdcfa82c47\n(cherry picked from commit b8c94e4d0ff662b2cca169d009d94d5112e869fd)\n'}]",0,712926,6efcf2e16df8364025a47d8ee3f9f0d7ceda64c7,7,3,1,13294,,,0,"os-ken: convert to python3

Change-Id: Ifa429bde622423e6b47b91294bb4b4cdcfa82c47
(cherry picked from commit b8c94e4d0ff662b2cca169d009d94d5112e869fd)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/26/712926/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-ken/os-ken.spec.j2'],1,6efcf2e16df8364025a47d8ee3f9f0d7ceda64c7,remove-python2-stable/train,BuildRequires: {{ py3('Routes') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('lxml') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('msgpack') }} BuildRequires: {{ py3('netaddr') }} BuildRequires: {{ py3('nose') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('ovs') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('tinyrpc') }}%package -n {{ py2name(py_versions='py3') }} Summary: A component-based software defined networking framework in OpenStack Requires: {{ py3('Routes') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('eventlet') }} Requires: {{ py3('msgpack') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('ovs') }} Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} Requires: {{ py3('tinyrpc') }} %description -n {{ py2name(py_versions='py3') }} A component-based software defined networking framework in OpenStack. This is a fork of the Ryu library tailored for OpenStack Neutron. This package contains the Python 3.x module. %{py3_build}%{py3_install}PYTHON=python3 ./run_tests.sh -N -P %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_ken* %{python3_sitelib}/*.egg-info %{_bindir}/osken %{_bindir}/osken-manager,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('Routes', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('lxml', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('msgpack', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('netaddr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('nose', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('ovs', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('tinyrpc', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Routes') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('msgpack') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('ovs') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('tinyrpc') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/osken %python_clone -a %{buildroot}%{_bindir}/osken-manager %post %{python_install_alternative osken osken-manager} %postun %python_uninstall_alternative osken%python_expand PYTHON=python%{$python_version} ./run_tests.sh -N -P %files %{python_files}%{python_sitelib}/os_ken* %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/osken %python_alternative %{_bindir}/osken-manager",43,51
openstack%2Frpm-packaging~stable%2Ftrain~I4ea149fbe21869058e43d83546f99ab3ba45bc53,openstack/rpm-packaging,stable/train,I4ea149fbe21869058e43d83546f99ab3ba45bc53,oslo.policy: convert to python3,MERGED,2020-03-13 11:54:08.000000000,2020-03-13 12:16:16.000000000,2020-03-13 12:16:15.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:54:08.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/969984750a7f55ae07abbf28bb91c616e561d610', 'message': 'oslo.policy: convert to python3\n\nChange-Id: I4ea149fbe21869058e43d83546f99ab3ba45bc53\n(cherry picked from commit eed2859d3d50d8d2eea3c6e6c5ec8f18b5afcf5b)\n'}]",0,712927,969984750a7f55ae07abbf28bb91c616e561d610,7,3,1,13294,,,0,"oslo.policy: convert to python3

Change-Id: I4ea149fbe21869058e43d83546f99ab3ba45bc53
(cherry picked from commit eed2859d3d50d8d2eea3c6e6c5ec8f18b5afcf5b)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/27/712927/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,969984750a7f55ae07abbf28bb91c616e561d610,remove-python2-stable/train,BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('stestr') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Oslo Policy library Requires: {{ py3('PyYAML') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} The OpenStack Oslo Policy library. RBAC policy enforcement library for OpenStack. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslopolicy-checker %{_bindir}/oslopolicy-list-redundant %{_bindir}/oslopolicy-policy-generator %{_bindir}/oslopolicy-sample-generator %{_bindir}/oslopolicy-policy-upgrade %{python3_sitelib}/oslo_policy %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx', py_versions=['py2', 'py3']) }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslopolicy-checker %python_clone -a %{buildroot}%{_bindir}/oslopolicy-list-redundant %python_clone -a %{buildroot}%{_bindir}/oslopolicy-policy-generator %python_clone -a %{buildroot}%{_bindir}/oslopolicy-sample-generator %python_clone -a %{buildroot}%{_bindir}/oslopolicy-policy-upgrade %post %{python_install_alternative oslopolicy-checker oslopolicy-list-redundant oslopolicy-policy-generator oslopolicy-sample-generator} %postun %python_uninstall_alternative oslopolicy-checker%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslopolicy-checker %python_alternative %{_bindir}/oslopolicy-list-redundant %python_alternative %{_bindir}/oslopolicy-policy-generator %python_alternative %{_bindir}/oslopolicy-sample-generator %python_alternative %{_bindir}/oslopolicy-policy-upgrade %{python_sitelib}/oslo_policy %{python_sitelib}/*.egg-info",39,50
openstack%2Frpm-packaging~stable%2Ftrain~I680fd6717500993488f824bbb0f5bed118dae999,openstack/rpm-packaging,stable/train,I680fd6717500993488f824bbb0f5bed118dae999,pycadf: convert to python3,MERGED,2020-03-13 11:53:20.000000000,2020-03-13 12:16:15.000000000,2020-03-13 12:16:14.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:53:20.000000000', 'files': ['openstack/pycadf/pycadf.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2c1a50ce8e421e5b2352d53bed4129ada6065e10', 'message': 'pycadf: convert to python3\n\nChange-Id: I680fd6717500993488f824bbb0f5bed118dae999\n(cherry picked from commit 99652b411d71fffbcd55dfc9466fda7ed240af39)\n'}]",0,712922,2c1a50ce8e421e5b2352d53bed4129ada6065e10,7,3,1,13294,,,0,"pycadf: convert to python3

Change-Id: I680fd6717500993488f824bbb0f5bed118dae999
(cherry picked from commit 99652b411d71fffbcd55dfc9466fda7ed240af39)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/712922/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pycadf/pycadf.spec.j2'],1,2c1a50ce8e421e5b2352d53bed4129ada6065e10,remove-python2-stable/train,BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: DMTF Cloud Audit (CADF) data model Requires: python-pycadf-common Requires: {{ py3('debtcollector') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('pytz') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} DMTF Cloud Audit (CADF) data model This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build}PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*-py?.?.egg-info,"# NOTE(jpena): This is required to prevent singlespec macros from changing the requires %global oldpython pythonBuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: %{oldpython}-pycadf-common Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('pytz') }} Requires: {{ py2pkg('six') }}%python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}sed -i 's/^warning-is-error.*/warning-is-error = 0/g' setup.cfg%{python_build}%{__python2} setup.py build_sphinx%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*-py?.?.egg-info",32,28
openstack%2Frpm-packaging~stable%2Ftrain~Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd,openstack/rpm-packaging,stable/train,Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd,oslo.rootwrap: convert to python3,MERGED,2020-03-13 11:53:36.000000000,2020-03-13 12:16:14.000000000,2020-03-13 12:16:13.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:53:36.000000000', 'files': ['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/640c43beccf850bd5b79e3e9d7f24f0755b2c2d3', 'message': 'oslo.rootwrap: convert to python3\n\nChange-Id: Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd\n(cherry picked from commit 818fd80895442352aa14247aa090b535d3fff05f)\n'}]",0,712923,640c43beccf850bd5b79e3e9d7f24f0755b2c2d3,7,3,1,13294,,,0,"oslo.rootwrap: convert to python3

Change-Id: Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd
(cherry picked from commit 818fd80895442352aa14247aa090b535d3fff05f)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/712923/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'],1,640c43beccf850bd5b79e3e9d7f24f0755b2c2d3,remove-python2-stable/train,BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Filtering shell commands to run as root from OpenStack services Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} oslo.rootwrap allows fine-grained filtering of shell commands to run as root from OpenStack services. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build}PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_rootwrap %{python3_sitelib}/*.egg-info %{_bindir}/oslo-rootwrap %{_bindir}/oslo-rootwrap-daemon,"BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{python_build}PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslo-rootwrap %python_clone -a %{buildroot}%{_bindir}/oslo-rootwrap-daemon %post %python_install_alternative oslo-rootwrap %python_install_alternative oslo-rootwrap-daemon %postun %python_uninstall_alternative oslo-rootwrap %python_uninstall_alternative oslo-daemon%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_rootwrap %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/oslo-rootwrap %python_alternative %{_bindir}/oslo-rootwrap-daemon",29,39
openstack%2Frpm-packaging~stable%2Ftrain~Ife878878a107900b9573f61f151be3599257d044,openstack/rpm-packaging,stable/train,Ife878878a107900b9573f61f151be3599257d044,oslo.middleware: convert to python3,MERGED,2020-03-13 11:53:53.000000000,2020-03-13 12:16:12.000000000,2020-03-13 12:16:12.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-13 11:53:53.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/811c8f843c21b3e1a2e60b17e314b91d7635ab91', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: Ife878878a107900b9573f61f151be3599257d044\n(cherry picked from commit 297d0b91e0f63b9fa6ee17b557cff3dbd185a90a)\n'}]",0,712925,811c8f843c21b3e1a2e60b17e314b91d7635ab91,7,4,1,13294,,,0,"oslo.middleware: convert to python3

Change-Id: Ife878878a107900b9573f61f151be3599257d044
(cherry picked from commit 297d0b91e0f63b9fa6ee17b557cff3dbd185a90a)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/712925/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,811c8f843c21b3e1a2e60b17e314b91d7635ab91,remove-python2-stable/train,BuildRequires: {{ py3('Jinja2') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('statsd') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack oslo.middleware library Requires: {{ py3('Jinja2') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} Requires: {{ py3('statsd') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} Oslo middleware library includes components that can be injected into wsgi pipelines to intercept request/response flows. The base class can be enhanced with functionality like add/delete/modification of http headers and support for limiting size/connection etc. This package contains the Python 3.x module. %package -n {{ py2name(py_versions='py3') }}-doc%description -n {{ py2name(py_versions='py3') }}-doc%py3_build%py3_installpython3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_middleware %{python3_sitelib}/*.egg-info %files -n {{ py2name(py_versions='py3') }}-doc,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('Jinja2', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('statsd', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Jinja2') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('statsd') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages%package -n python-oslo-middleware-doc%description -n python-oslo-middleware-doc%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_middleware %{python_sitelib}/*.egg-info %files -n python-oslo-middleware-doc",49,39
openstack%2Frpm-packaging~stable%2Ftrain~Ic58cd230c6d0a6a5f91278ba399872a21bc114e3,openstack/rpm-packaging,stable/train,Ic58cd230c6d0a6a5f91278ba399872a21bc114e3,oslo.upgradecheck: convert to python3,MERGED,2020-03-13 11:51:13.000000000,2020-03-13 12:16:11.000000000,2020-03-13 12:16:11.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:51:13.000000000', 'files': ['openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5505ea5d03bdea8fb16305e77a539b50c9401e9b', 'message': 'oslo.upgradecheck: convert to python3\n\nChange-Id: Ic58cd230c6d0a6a5f91278ba399872a21bc114e3\n(cherry picked from commit a7b4f6bc873b872dc5524945e4c78d68e9c90c82)\n'}]",0,712919,5505ea5d03bdea8fb16305e77a539b50c9401e9b,7,3,1,13294,,,0,"oslo.upgradecheck: convert to python3

Change-Id: Ic58cd230c6d0a6a5f91278ba399872a21bc114e3
(cherry picked from commit a7b4f6bc873b872dc5524945e4c78d68e9c90c82)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/19/712919/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.upgradecheck/oslo.upgradecheck.spec.j2'],1,5505ea5d03bdea8fb16305e77a539b50c9401e9b,remove-python2-stable/train,BuildRequires: {{ py3('Babel') }} BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('stestr') }}%package -n {{ py2name(py_versions='py3') }} Summary: Common code for writing OpenStack upgrade checks Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} %description -n {{ py2name(py_versions='py3') }} This project contains the common code necessary for writing upgrade checks in OpenStack projects. It includes a module (oslo_upgradecheck.upgradecheck) for the common code as well as an example (oslo_upgradecheck.__main__) of integrating that code into a project. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_upgradecheck %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('Babel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }}%ifpython2 BuildRequires: {{ py2pkg('enum34') }} Requires: {{ py2pkg('enum34') }} %endif %if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_upgradecheck %{python_sitelib}/*.egg-info",27,29
openstack%2Fkolla~stable%2Fstein~Ie7a5d74e4640e5ec5e9885b4733551cf050d0853,openstack/kolla,stable/stein,Ie7a5d74e4640e5ec5e9885b4733551cf050d0853,Bump stein versions,MERGED,2020-02-27 17:10:50.000000000,2020-03-13 12:16:04.000000000,2020-03-13 12:14:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 17:10:50.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c2199665a928c2ccb54ea4f7376629e67426240', 'message': 'Bump stein versions\n\nChange-Id: Ie7a5d74e4640e5ec5e9885b4733551cf050d0853\n'}]",0,710318,7c2199665a928c2ccb54ea4f7376629e67426240,15,3,1,15197,,,0,"Bump stein versions

Change-Id: Ie7a5d74e4640e5ec5e9885b4733551cf050d0853
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/710318/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,7c2199665a928c2ccb54ea4f7376629e67426240,," 'ceilometer-12.1.0.tar.gz')},"," 'ceilometer-12.0.0.tar.gz')},",1,1
openstack%2Frpm-packaging~stable%2Ftrain~I77070f82098a6d062d1ea7f05d6128fd1da819fa,openstack/rpm-packaging,stable/train,I77070f82098a6d062d1ea7f05d6128fd1da819fa,mox3: convert to python3,MERGED,2020-03-13 11:50:14.000000000,2020-03-13 12:14:59.000000000,2020-03-13 12:14:59.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:50:14.000000000', 'files': ['openstack/mox3/mox3.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9425e54e2bff1e93756a3edd04a12bfcd8fcccf8', 'message': 'mox3: convert to python3\n\nChange-Id: I77070f82098a6d062d1ea7f05d6128fd1da819fa\n(cherry picked from commit f3a81d27cec7c93c22afc696f277824a7f9c51c0)\n'}]",0,712916,9425e54e2bff1e93756a3edd04a12bfcd8fcccf8,7,3,1,13294,,,0,"mox3: convert to python3

Change-Id: I77070f82098a6d062d1ea7f05d6128fd1da819fa
(cherry picked from commit f3a81d27cec7c93c22afc696f277824a7f9c51c0)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/712916/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/mox3/mox3.spec.j2'],1,9425e54e2bff1e93756a3edd04a12bfcd8fcccf8,remove-python2-stable/train,"BuildRequires: {{ py3('coverage') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: An unofficial port of the Google mox framework to Python 3 Requires: {{ py3('fixtures') }} Requires: {{ py3('pbr') }} %description -n {{ py2name(py_versions='py3') }} Mox3 is an unofficial port of the Google mox framework to Python 3. It was meant to be as compatible with mox as possible, but small enhancements have been made. This package contains the Python 3.x module. %py3_buildpython3 -m stestr.cli run%py3_install %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/{{ pypi_name }} %{python3_sitelib}/{{ pypi_name }}-*.egg-info","BuildRequires: {{ py2pkg('coverage', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('fixtures') }} Requires: {{ py2pkg('pbr') }}%ifpython3 BuildRequires: python3-dbm %endif %python_subpackages%python_build%python_exec -m stestr.cli run%python_install %files %{python_files}%{python_sitelib}/{{ pypi_name }} %{python_sitelib}/{{ pypi_name }}-*.egg-info",25,19
openstack%2Frpm-packaging~stable%2Ftrain~I7f9f1182314338ae69bfcb622cb8c0e983a8d54c,openstack/rpm-packaging,stable/train,I7f9f1182314338ae69bfcb622cb8c0e983a8d54c,oslotest: convert to python3,MERGED,2020-03-13 11:54:33.000000000,2020-03-13 12:14:58.000000000,2020-03-13 12:14:58.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-13 11:54:33.000000000', 'files': ['openstack/oslotest/oslotest.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/16be90f1e38a1ddf013d3d8d7a1fd42b3bd3affc', 'message': 'oslotest: convert to python3\n\nChange-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c\n(cherry picked from commit 7b37e3dc2be5bd31a1834524424c21ba904444df)\n'}]",0,712930,16be90f1e38a1ddf013d3d8d7a1fd42b3bd3affc,7,4,1,13294,,,0,"oslotest: convert to python3

Change-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c
(cherry picked from commit 7b37e3dc2be5bd31a1834524424c21ba904444df)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/30/712930/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslotest/oslotest.spec.j2'],1,16be90f1e38a1ddf013d3d8d7a1fd42b3bd3affc,remove-python2-stable/train,"BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('mox3') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack test framework Requires: {{ py3('debtcollector') }} Requires: {{ py3('fixtures') }} Requires: {{ py3('mock') }} Requires: {{ py3('mox3') }} # NOTE: python-os-client-config is only needed for functional testing # Requires: {{ py3('os-client-config') }} Requires: {{ py3('python-subunit') }} Requires: {{ py3('six') }} Requires: {{ py3('stestr') }} Requires: {{ py3('testtools') }} %description -n {{ py2name(py_versions='py3') }} The Oslo Test framework provides common fixtures, support for debugging, and better support for mocking results. This package contains the Python 3.x module. %py3_build%py3_installpython3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslo_debug_helper %{_bindir}/oslo_run_cross_tests %{_bindir}/oslo_run_pre_release_tests %{python3_sitelib}/oslotest %{python3_sitelib}/oslotest*egg-info","BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mox3', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('fixtures') }} Requires: {{ py2pkg('mock') }} Requires: {{ py2pkg('mox3') }} # NOTE: python-os-client-config is only needed for functional testing # Requires: {{ py2pkg('os-client-config') }} Requires: {{ py2pkg('python-subunit') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stestr') }} Requires: {{ py2pkg('testtools') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%python_build%python_install %python_clone -a %{buildroot}%{_bindir}/oslo_debug_helper %python_clone -a %{buildroot}%{_bindir}/oslo_run_cross_tests %python_clone -a %{buildroot}%{_bindir}/oslo_run_pre_release_tests %post %python_install_alternative oslo_debug_helper %python_install_alternative oslo_run_cross_tests %python_install_alternative oslo_run_pre_release_tests %postun %python_uninstall_alternative oslo_debug_helper %python_uninstall_alternative oslo_run_cross_tests %python_uninstall_alternative oslo_run_pre_release_tests%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslo_debug_helper %python_alternative %{_bindir}/oslo_run_cross_tests %python_alternative %{_bindir}/oslo_run_pre_release_tests %{python_sitelib}/oslotest %{python_sitelib}/oslotest*egg-info",37,50
openstack%2Frpm-packaging~stable%2Ftrain~I8d4f26c1eb0db5c3accba62c1eba4f11b9c24b51,openstack/rpm-packaging,stable/train,I8d4f26c1eb0db5c3accba62c1eba4f11b9c24b51,os-resource-classes: convert to python3,MERGED,2020-03-13 11:50:51.000000000,2020-03-13 12:14:57.000000000,2020-03-13 12:14:57.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:50:51.000000000', 'files': ['openstack/os-resource-classes/os-resource-classes.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a0f704ac728b561aa924c5c31408b4fdceafc991', 'message': 'os-resource-classes: convert to python3\n\nChange-Id: I8d4f26c1eb0db5c3accba62c1eba4f11b9c24b51\n(cherry picked from commit 4670713dd00430f57216bc2a4911b47af362715f)\n'}]",0,712918,a0f704ac728b561aa924c5c31408b4fdceafc991,7,3,1,13294,,,0,"os-resource-classes: convert to python3

Change-Id: I8d4f26c1eb0db5c3accba62c1eba4f11b9c24b51
(cherry picked from commit 4670713dd00430f57216bc2a4911b47af362715f)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/712918/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-resource-classes/os-resource-classes.spec.j2'],1,a0f704ac728b561aa924c5c31408b4fdceafc991,remove-python2-stable/train,"BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Resource Classes for OpenStack Requires: {{ py3('pbr') }} %description -n {{ py2name(py_versions='py3') }} A list of standardized resource classes for OpenStack. A resource class is a distinct type of inventory that exists in a cloud environment, for example VCPU, DISK_GB. They are upper case with underscores. They often include a unit in their name. This package provides a collection of symbols representing those standard resource classes which are expected to be available in any OpenStack deployment. There also exists a concept of custom resource classes. These are countable types that are custom to a particular environment. The OpenStack placement API provides a way to create these. A custom resource class always begins with a CUSTOM_ prefix. This package contains the Python 3.x module %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_resource_classes* %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }}%python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/os_resource_classes* %{python_sitelib}/*.egg-info",28,12
openstack%2Frpm-packaging~stable%2Ftrain~I094dc51e41239d0e2b0a95d96c4355dc97159017,openstack/rpm-packaging,stable/train,I094dc51e41239d0e2b0a95d96c4355dc97159017,os-xenapi: convert to python3,MERGED,2020-03-13 11:51:21.000000000,2020-03-13 12:14:56.000000000,2020-03-13 12:14:56.000000000,"[{'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-13 11:51:21.000000000', 'files': ['openstack/os-xenapi/os-xenapi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b63b077fbeac5f3fc40a368ba0ee5ee4be020d7', 'message': 'os-xenapi: convert to python3\n\nChange-Id: I094dc51e41239d0e2b0a95d96c4355dc97159017\n(cherry picked from commit 8809243e5cc21bef960dcafd8e101e35a340342a)\n'}]",0,712920,1b63b077fbeac5f3fc40a368ba0ee5ee4be020d7,7,3,1,13294,,,0,"os-xenapi: convert to python3

Change-Id: I094dc51e41239d0e2b0a95d96c4355dc97159017
(cherry picked from commit 8809243e5cc21bef960dcafd8e101e35a340342a)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/712920/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-xenapi/os-xenapi.spec.j2'],1,1b63b077fbeac5f3fc40a368ba0ee5ee4be020d7,remove-python2-stable/train,BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('os-testr') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('paramiko') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: XenAPI library for OpenStack projects Requires: {{ py3('Babel') }} Requires: {{ py3('eventlet') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('paramiko') }} Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} XenAPI library for OpenStack projects. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('oslosphinx') }}%{py3_build}PBR_VERSION=%{version} %sphinx_build -b html doc/source doc/build/html%{py3_install}%files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_xenapi %{python3_sitelib}/*.egg-info %{_bindir}/xenapi_bootstrap,"BuildRequires: python-devel BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('os-testr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.concurrency', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('paramiko', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('paramiko') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }}%python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }}%{python_build}%{__python2} setup.py build_sphinx%{python_install} %python_clone -a %{buildroot}%{_bindir}/xenapi_bootstrap %post %python_install_alternative xenapi_bootstrap %postun %python_uninstall_alternative xenapi_bootstrap %files %{python_files}%{python_sitelib}/os_xenapi %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/xenapi_bootstrap",37,41
openstack%2Ftripleo-operator-ansible~master~I23a5f2636968b2ac265a69afa002ebf8a602f7c9,openstack/tripleo-operator-ansible,master,I23a5f2636968b2ac265a69afa002ebf8a602f7c9,Test DNM,ABANDONED,2020-03-11 17:46:30.000000000,2020-03-13 12:10:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-11 17:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/448253ffa062cdd3781b86731ebe9a4d397def34', 'message': 'Test DNM\n\nChange-Id: I23a5f2636968b2ac265a69afa002ebf8a602f7c9\n'}, {'number': 2, 'created': '2020-03-11 17:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8d15509888dbf7702c5a494b49d56611bc97b8a2', 'message': 'Test DNM\n\nChange-Id: I23a5f2636968b2ac265a69afa002ebf8a602f7c9\n'}, {'number': 3, 'created': '2020-03-11 18:03:35.000000000', 'files': ['zuul.d/molecule.yaml', 'plugins/filter/shell_args.py'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/75b7d37976293bb9c999b095f3dc141c3cb1d024', 'message': 'Test DNM\n\nChange-Id: I23a5f2636968b2ac265a69afa002ebf8a602f7c9\n'}]",2,712520,75b7d37976293bb9c999b095f3dc141c3cb1d024,5,1,3,3153,,,0,"Test DNM

Change-Id: I23a5f2636968b2ac265a69afa002ebf8a602f7c9
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/20/712520/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/test_molecule_prep/defaults/main.yml'],1,448253ffa062cdd3781b86731ebe9a4d397def34,test,,,1,0
openstack%2Frpm-packaging~master~I7f9f1182314338ae69bfcb622cb8c0e983a8d54c,openstack/rpm-packaging,master,I7f9f1182314338ae69bfcb622cb8c0e983a8d54c,oslotest: convert to python3,MERGED,2020-01-20 14:32:53.000000000,2020-03-13 11:54:33.000000000,2020-02-10 11:22:32.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-20 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/37dd44e93527434dd0fcd657fd6d1d9742ed9d9c', 'message': 'oslotest: convert to python3\n\nChange-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c\n'}, {'number': 2, 'created': '2020-01-23 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3bc031562f2c4516617b52fd32c8a13492a526c9', 'message': 'oslotest: convert to python3\n\nChange-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c\n'}, {'number': 3, 'created': '2020-02-07 08:25:57.000000000', 'files': ['openstack/oslotest/oslotest.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b37e3dc2be5bd31a1834524424c21ba904444df', 'message': 'oslotest: convert to python3\n\nChange-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c\n'}]",0,703404,7b37e3dc2be5bd31a1834524424c21ba904444df,20,7,3,23851,,,0,"oslotest: convert to python3

Change-Id: I7f9f1182314338ae69bfcb622cb8c0e983a8d54c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/703404/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslotest/oslotest.spec.j2'],1,37dd44e93527434dd0fcd657fd6d1d9742ed9d9c,remove-python2,"BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('mox3') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack test framework Requires: {{ py3('debtcollector') }} Requires: {{ py3('fixtures') }} Requires: {{ py3('mock') }} Requires: {{ py3('mox3') }} # NOTE: python-os-client-config is only needed for functional testing # Requires: {{ py3('os-client-config') }} Requires: {{ py3('python-subunit') }} Requires: {{ py3('six') }} Requires: {{ py3('stestr') }} Requires: {{ py3('testtools') }} %description -n {{ py2name(py_versions='py3') }} The Oslo Test framework provides common fixtures, support for debugging, and better support for mocking results. This package contains the Python 3.x module. %py3_build%py3_installpython3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslo_debug_helper %{_bindir}/oslo_run_cross_tests %{_bindir}/oslo_run_pre_release_tests %{python3_sitelib}/oslotest %{python3_sitelib}/oslotest*egg-info","BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mox3', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('fixtures') }} Requires: {{ py2pkg('mock') }} Requires: {{ py2pkg('mox3') }} # NOTE: python-os-client-config is only needed for functional testing # Requires: {{ py2pkg('os-client-config') }} Requires: {{ py2pkg('python-subunit') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stestr') }} Requires: {{ py2pkg('testtools') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%python_build%python_install %python_clone -a %{buildroot}%{_bindir}/oslo_debug_helper %python_clone -a %{buildroot}%{_bindir}/oslo_run_cross_tests %python_clone -a %{buildroot}%{_bindir}/oslo_run_pre_release_tests %post %python_install_alternative oslo_debug_helper %python_install_alternative oslo_run_cross_tests %python_install_alternative oslo_run_pre_release_tests %postun %python_uninstall_alternative oslo_debug_helper %python_uninstall_alternative oslo_run_cross_tests %python_uninstall_alternative oslo_run_pre_release_tests%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslo_debug_helper %python_alternative %{_bindir}/oslo_run_cross_tests %python_alternative %{_bindir}/oslo_run_pre_release_tests %{python_sitelib}/oslotest %{python_sitelib}/oslotest*egg-info",37,50
openstack%2Frpm-packaging~master~I5d775d028fa595b342fe5be5a552e210f4651e3d,openstack/rpm-packaging,master,I5d775d028fa595b342fe5be5a552e210f4651e3d,futurist: convert to python3,MERGED,2020-02-06 09:06:00.000000000,2020-03-13 11:54:24.000000000,2020-02-07 08:29:57.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-06 09:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c4367b8a595b8f27303a93b617e00f45774b06d8', 'message': 'futurist: convert to python3\n\nChange-Id: I5d775d028fa595b342fe5be5a552e210f4651e3d\n'}, {'number': 2, 'created': '2020-02-06 09:21:57.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eadcb60df2a6c1d58ddcf1b2bc5c43a48e25c5fa', 'message': 'futurist: convert to python3\n\nChange-Id: I5d775d028fa595b342fe5be5a552e210f4651e3d\n'}]",1,706197,eadcb60df2a6c1d58ddcf1b2bc5c43a48e25c5fa,16,6,2,13294,,,0,"futurist: convert to python3

Change-Id: I5d775d028fa595b342fe5be5a552e210f4651e3d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/97/706197/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,c4367b8a595b8f27303a93b617e00f45774b06d8,remove-python2,"BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('monotonic') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }}%package -n {{ py2name(py_versions='py3') }} Summary: Useful additions to futures, from the future. Requires: {{ py3('PrettyTable') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} Useful additions to futures, from the future. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/futurist %{python3_sitelib}/futurist-*-py?.?.egg-info","BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('contextlib2', py_versions=['py2']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('futures', py_versions=['py2']) }} BuildRequires: {{ py2pkg('monotonic', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }}Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('six') }}%ifpython2 Requires: {{ py2pkg('contextlib2') }} Requires: {{ py2pkg('futures') }} Requires: {{ py2pkg('monotonic') }} %endif %python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/futurist %{python_sitelib}/futurist-*-py?.?.egg-info",25,25
openstack%2Frpm-packaging~master~I726789e2447a36c639528365f22466bb5d1c86e0,openstack/rpm-packaging,master,I726789e2447a36c639528365f22466bb5d1c86e0,os-traits: convert to python3,MERGED,2020-02-04 13:34:03.000000000,2020-03-13 11:54:16.000000000,2020-02-07 08:29:56.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 13:34:03.000000000', 'files': ['openstack/os-traits/os-traits.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ae74e94255be5dc763d25cec80bf87247f025a3e', 'message': 'os-traits: convert to python3\n\nChange-Id: I726789e2447a36c639528365f22466bb5d1c86e0\n'}]",0,705677,ae74e94255be5dc763d25cec80bf87247f025a3e,11,5,1,13294,,,0,"os-traits: convert to python3

Change-Id: I726789e2447a36c639528365f22466bb5d1c86e0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/705677/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-traits/os-traits.spec.j2'],1,ae74e94255be5dc763d25cec80bf87247f025a3e,remove-python2,"BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Library containing standardized trait strings Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} Traits are strings that represent a feature of some resource provider. This library contains the catalog of constants that have been standardized in the OpenStack community to refer to a particular hardware, virtualization, storage, network, or device trait. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build} PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_traits* %{python3_sitelib}/*.egg-info","BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }}%python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{python_build} PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/os_traits* %{python_sitelib}/*.egg-info",27,19
openstack%2Frpm-packaging~master~I4ea149fbe21869058e43d83546f99ab3ba45bc53,openstack/rpm-packaging,master,I4ea149fbe21869058e43d83546f99ab3ba45bc53,oslo.policy: convert to python3,MERGED,2020-02-04 12:17:16.000000000,2020-03-13 11:54:08.000000000,2020-02-07 08:29:55.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 12:17:16.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eed2859d3d50d8d2eea3c6e6c5ec8f18b5afcf5b', 'message': 'oslo.policy: convert to python3\n\nChange-Id: I4ea149fbe21869058e43d83546f99ab3ba45bc53\n'}]",0,705645,eed2859d3d50d8d2eea3c6e6c5ec8f18b5afcf5b,12,5,1,13294,,,0,"oslo.policy: convert to python3

Change-Id: I4ea149fbe21869058e43d83546f99ab3ba45bc53
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/45/705645/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,eed2859d3d50d8d2eea3c6e6c5ec8f18b5afcf5b,remove-python2,BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('stestr') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Oslo Policy library Requires: {{ py3('PyYAML') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} The OpenStack Oslo Policy library. RBAC policy enforcement library for OpenStack. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }}%{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/oslopolicy-checker %{_bindir}/oslopolicy-list-redundant %{_bindir}/oslopolicy-policy-generator %{_bindir}/oslopolicy-sample-generator %{_bindir}/oslopolicy-policy-upgrade %{python3_sitelib}/oslo_policy %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx', py_versions=['py2', 'py3']) }}%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslopolicy-checker %python_clone -a %{buildroot}%{_bindir}/oslopolicy-list-redundant %python_clone -a %{buildroot}%{_bindir}/oslopolicy-policy-generator %python_clone -a %{buildroot}%{_bindir}/oslopolicy-sample-generator %python_clone -a %{buildroot}%{_bindir}/oslopolicy-policy-upgrade %post %{python_install_alternative oslopolicy-checker oslopolicy-list-redundant oslopolicy-policy-generator oslopolicy-sample-generator} %postun %python_uninstall_alternative oslopolicy-checker%python_exec -m stestr.cli run %files %{python_files}%python_alternative %{_bindir}/oslopolicy-checker %python_alternative %{_bindir}/oslopolicy-list-redundant %python_alternative %{_bindir}/oslopolicy-policy-generator %python_alternative %{_bindir}/oslopolicy-sample-generator %python_alternative %{_bindir}/oslopolicy-policy-upgrade %{python_sitelib}/oslo_policy %{python_sitelib}/*.egg-info",39,50
openstack%2Frpm-packaging~master~Ifa429bde622423e6b47b91294bb4b4cdcfa82c47,openstack/rpm-packaging,master,Ifa429bde622423e6b47b91294bb4b4cdcfa82c47,os-ken: convert to python3,MERGED,2020-02-04 13:55:29.000000000,2020-03-13 11:53:59.000000000,2020-02-06 13:54:04.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 13:55:29.000000000', 'files': ['openstack/os-ken/os-ken.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b8c94e4d0ff662b2cca169d009d94d5112e869fd', 'message': 'os-ken: convert to python3\n\nChange-Id: Ifa429bde622423e6b47b91294bb4b4cdcfa82c47\n'}]",0,705684,b8c94e4d0ff662b2cca169d009d94d5112e869fd,10,5,1,13294,,,0,"os-ken: convert to python3

Change-Id: Ifa429bde622423e6b47b91294bb4b4cdcfa82c47
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/84/705684/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-ken/os-ken.spec.j2'],1,b8c94e4d0ff662b2cca169d009d94d5112e869fd,remove-python2,BuildRequires: {{ py3('Routes') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('lxml') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('msgpack') }} BuildRequires: {{ py3('netaddr') }} BuildRequires: {{ py3('nose') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('ovs') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('tinyrpc') }}%package -n {{ py2name(py_versions='py3') }} Summary: A component-based software defined networking framework in OpenStack Requires: {{ py3('Routes') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('eventlet') }} Requires: {{ py3('msgpack') }} Requires: {{ py3('netaddr') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('ovs') }} Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} Requires: {{ py3('tinyrpc') }} %description -n {{ py2name(py_versions='py3') }} A component-based software defined networking framework in OpenStack. This is a fork of the Ryu library tailored for OpenStack Neutron. This package contains the Python 3.x module. %{py3_build}%{py3_install}PYTHON=python3 ./run_tests.sh -N -P %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/os_ken* %{python3_sitelib}/*.egg-info %{_bindir}/osken %{_bindir}/osken-manager,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('Routes', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('lxml', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('msgpack', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('netaddr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('nose', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('ovs', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('tinyrpc', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Routes') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('eventlet') }} Requires: {{ py2pkg('msgpack') }} Requires: {{ py2pkg('netaddr') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('ovs') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('tinyrpc') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/osken %python_clone -a %{buildroot}%{_bindir}/osken-manager %post %{python_install_alternative osken osken-manager} %postun %python_uninstall_alternative osken%python_expand PYTHON=python%{$python_version} ./run_tests.sh -N -P %files %{python_files}%{python_sitelib}/os_ken* %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/osken %python_alternative %{_bindir}/osken-manager",43,51
openstack%2Frpm-packaging~master~Ife878878a107900b9573f61f151be3599257d044,openstack/rpm-packaging,master,Ife878878a107900b9573f61f151be3599257d044,oslo.middleware: convert to python3,MERGED,2020-01-24 14:23:44.000000000,2020-03-13 11:53:53.000000000,2020-02-06 13:54:03.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-24 14:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ee22bbd7c73d700a44028cc1b121f3eda45d26a3', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: Ife878878a107900b9573f61f151be3599257d044\n'}, {'number': 2, 'created': '2020-01-24 14:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5ca91a59ebe11bac0ddc34daaaad9a179ae8aa11', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: Ife878878a107900b9573f61f151be3599257d044\n'}, {'number': 3, 'created': '2020-02-06 09:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eef5c2e27dff2e866e36b95383c6e4c1115032ae', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: Ife878878a107900b9573f61f151be3599257d044\n'}, {'number': 4, 'created': '2020-02-06 09:45:28.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/297d0b91e0f63b9fa6ee17b557cff3dbd185a90a', 'message': 'oslo.middleware: convert to python3\n\nChange-Id: Ife878878a107900b9573f61f151be3599257d044\n'}]",0,704162,297d0b91e0f63b9fa6ee17b557cff3dbd185a90a,23,6,4,23851,,,0,"oslo.middleware: convert to python3

Change-Id: Ife878878a107900b9573f61f151be3599257d044
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/704162/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,ee22bbd7c73d700a44028cc1b121f3eda45d26a3,remove-python2,BuildRequires: {{ py3('devel') }} BuildRequires: {{ py3('Jinja2') }} BuildRequires: {{ py3('WebOb') }} BuildRequires: {{ py3('debtcollector') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.context') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('statsd') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('stevedore') }} BuildRequires: {{ py3('testtools') }} %package -n {{ py2name(py_versions='py3') }} Summary: OpenStack oslo.middleware library Requires: {{ py3('Jinja2') }} Requires: {{ py3('WebOb') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.context') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('six') }} Requires: {{ py3('statsd') }} Requires: {{ py3('stevedore') }} %description -n {{ py2name(py_versions='py3') }} Oslo middleware library includes components that can be injected into wsgi pipelines to intercept request/response flows. The base class can be enhanced with functionality like add/delete/modification of http headers and support for limiting size/connection etc. This package contains the Python 3.x module. %py3_build%py3-_installpython3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_middleware %{python3_sitelib}/*.egg-info %files -n {{ py2name(py_versions='py3') }}-doc,"BuildRequires: {{ py2pkg('devel', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('Jinja2', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('WebOb', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('debtcollector', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.context', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('statsd', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stevedore', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Jinja2') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.context') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('statsd') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_middleware %{python_sitelib}/*.egg-info %files -n python-oslo-middleware-doc",48,37
openstack%2Frpm-packaging~master~I282b33ae0a603b162bcca71770e13a604f19bd03,openstack/rpm-packaging,master,I282b33ae0a603b162bcca71770e13a604f19bd03,pymod2pkg: convert to python3,MERGED,2020-02-04 14:16:46.000000000,2020-03-13 11:53:43.000000000,2020-02-06 13:54:02.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-04 14:16:46.000000000', 'files': ['openstack/pymod2pkg/pymod2pkg.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db2800d1b4585a666e6ddbed536d3a6b7993329f', 'message': 'pymod2pkg: convert to python3\n\nChange-Id: I282b33ae0a603b162bcca71770e13a604f19bd03\n'}]",0,705688,db2800d1b4585a666e6ddbed536d3a6b7993329f,10,5,1,13294,,,0,"pymod2pkg: convert to python3

Change-Id: I282b33ae0a603b162bcca71770e13a604f19bd03
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/88/705688/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pymod2pkg/pymod2pkg.spec.j2'],1,db2800d1b4585a666e6ddbed536d3a6b7993329f,remove-python2,BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testresources') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: OpenStack Packaging - python module name to package name map Requires: {{ py3('pbr') }} %description -n {{ py2name(py_versions='py3') }} pymod2pkg is a simple python module for translating python module names to corresponding package names which is a common problem in the packaging world. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{_bindir}/pymod2pkg %{python3_sitelib}/*,"BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testresources', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('pbr') }}%python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/pymod2pkg%python_exec -m stestr.cli run %post %python_install_alternative pymod2pkg %postun %python_uninstall_alternative pymod2pkg %files %{python_files}%python_alternative %{_bindir}/pymod2pkg %{python_sitelib}/*",20,19
openstack%2Frpm-packaging~master~Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd,openstack/rpm-packaging,master,Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd,oslo.rootwrap: convert to python3,MERGED,2020-01-17 11:54:02.000000000,2020-03-13 11:53:36.000000000,2020-02-06 13:49:12.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-01-17 11:54:02.000000000', 'files': ['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/818fd80895442352aa14247aa090b535d3fff05f', 'message': 'oslo.rootwrap: convert to python3\n\nChange-Id: Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd\n'}]",0,703061,818fd80895442352aa14247aa090b535d3fff05f,12,6,1,13294,,,0,"oslo.rootwrap: convert to python3

Change-Id: Ia89c5b5be2083ad9f9ef0f300d959ca35b8a96fd
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/703061/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.rootwrap/oslo.rootwrap.spec.j2'],1,818fd80895442352aa14247aa090b535d3fff05f,remove-python2,BuildRequires: {{ py3('eventlet') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testtools') }}%package -n {{ py2name(py_versions='py3') }} Summary: Filtering shell commands to run as root from OpenStack services Requires: {{ py3('six') }} %description -n {{ py2name(py_versions='py3') }} oslo.rootwrap allows fine-grained filtering of shell commands to run as root from OpenStack services. This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build}PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n {{ py2name(py_versions='py3') }}%{python3_sitelib}/oslo_rootwrap %{python3_sitelib}/*.egg-info %{_bindir}/oslo-rootwrap %{_bindir}/oslo-rootwrap-daemon,"BuildRequires: {{ py2pkg('eventlet', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('six', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackagesBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{python_build}PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{python_install} %python_clone -a %{buildroot}%{_bindir}/oslo-rootwrap %python_clone -a %{buildroot}%{_bindir}/oslo-rootwrap-daemon %post %python_install_alternative oslo-rootwrap %python_install_alternative oslo-rootwrap-daemon %postun %python_uninstall_alternative oslo-rootwrap %python_uninstall_alternative oslo-daemon%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/oslo_rootwrap %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/oslo-rootwrap %python_alternative %{_bindir}/oslo-rootwrap-daemon",29,39
