id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-nova~master~I998879531dd4b5792ca9674f91b555f349ca3ca7,openstack/puppet-nova,master,I998879531dd4b5792ca9674f91b555f349ca3ca7,Stop hard-coding default of allow_resize_to_same_host,MERGED,2023-05-26 02:07:13.000000000,2023-05-30 16:16:11.000000000,2023-05-30 16:16:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 02:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/82c0ff8960f81d541cc8319858670698841c0ff2', 'message': 'Stop hard-coding default of allow_resize_to_same_host\n\nThe value currently defined in the class matches the service default\nvalue so we can safely remove that hard-coding.\n\nChange-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7\n'}, {'number': 2, 'created': '2023-05-26 03:32:50.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d1bd167dddc3a7032c00c9ae782207b71f3ab21b', 'message': 'Stop hard-coding default of allow_resize_to_same_host\n\nThe value currently defined in the class matches the service default\nvalue so we can safely remove that hard-coding.\n\nChange-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7\n'}]",1,884449,d1bd167dddc3a7032c00c9ae782207b71f3ab21b,11,3,2,9816,,,0,"Stop hard-coding default of allow_resize_to_same_host

The value currently defined in the class matches the service default
value so we can safely remove that hard-coding.

Change-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/884449/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp']",2,82c0ff8960f81d541cc8319858670698841c0ff2,,"# Defaults to $facts['os_service_default'] $allow_resize_to_same_host = $facts['os_service_default'],","# Defaults to false $allow_resize_to_same_host = false,",3,3
openstack%2Fopenstacksdk~master~I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb,openstack/openstacksdk,master,I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb,FWAAS: add Computed summary field to FirewallRule,MERGED,2023-05-22 15:57:06.000000000,2023-05-30 16:11:34.000000000,2023-05-30 16:10:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 15:57:06.000000000', 'files': ['openstack/network/v2/firewall_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df', 'message': 'FWAAS: add Computed summary field to FirewallRule\n\nNeeded-by: https://review.opendev.org/c/openstack/python-neutronclient/+/880629\nRelated-Bug: #1999774\nChange-Id: I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb\n'}]",0,883859,b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df,9,5,1,8313,,,0,"FWAAS: add Computed summary field to FirewallRule

Needed-by: https://review.opendev.org/c/openstack/python-neutronclient/+/880629
Related-Bug: #1999774
Change-Id: I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/883859/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/firewall_rule.py'],1,b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df,bug/1999774," #: Summary field of a FirewallRule, composed of the protocol, #: source_ip_address:source_port, #: destination_ip_address:destination_port and action. summary = resource.Computed('summary', default='')",,4,0
openstack%2Fcinder-tempest-plugin~master~I08c39feadd5278ff79bb582d6c497b0ce169c206,openstack/cinder-tempest-plugin,master,I08c39feadd5278ff79bb582d6c497b0ce169c206,[srbac] Testing Volumes,MERGED,2023-03-27 15:08:55.000000000,2023-05-30 16:10:03.000000000,2023-05-30 16:10:03.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32704}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-27 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a00be86388eb12212792dcba4e79d8bda225c169', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 2, 'created': '2023-03-27 15:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5db76dd4fbf4569791c5b21218d38627d2c5728f', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 3, 'created': '2023-03-27 17:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c29bb3218f9555974eb025338d1dd8efd9779dbc', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 4, 'created': '2023-03-27 17:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4a9744ca6b9d0b8e8da1c41101ac886901d3a8fc', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 5, 'created': '2023-03-27 18:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/38442f42ce6eafb4cb1ceb8b52b9f61f6a38c723', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 6, 'created': '2023-03-28 07:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b28fa0d5a65aa3c3fcb9387ed5770e6ab3e83d50', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 7, 'created': '2023-03-28 08:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9dc3842dd2d5d3ce185da0201070742b045c84de', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 8, 'created': '2023-03-29 09:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/62e3c7c00e8f02774f1418e2738f715949e615d4', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 9, 'created': '2023-04-02 08:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4ad1edc51f9a43a6900bd0765a9399d629d95d0d', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 10, 'created': '2023-05-18 09:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2744836c7d57d42470e05aeeca079a7994ed2e23', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 11, 'created': '2023-05-18 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f9d361bfbdcb0359b33f4a988692fa5a706c47a2', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 12, 'created': '2023-05-21 13:34:31.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/46910c6e4832f4eb29a0a6ef1abf7ac00ff0db41', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}]",85,878672,46910c6e4832f4eb29a0a6ef1abf7ac00ff0db41,40,8,12,35621,,,0,"[srbac] Testing Volumes

Adding Reader srbac tests with volume operations

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986

Change-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/72/878672/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volumes.py'],1,a00be86388eb12212792dcba4e79d8bda225c169,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.common import waiters from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base CONF = config.CONF class VolumeV3RbacVolumesTests(rbac_base.VolumeV3RbacBaseTests): credentials = ['project_reader', 'project_member', 'project_admin'] @classmethod def setup_clients(cls): super().setup_clients() cls.vol_other_client = cls.os_project_admin.volumes_client_latest def create_volume(self, success=True): """""" Test create_volume operation. Args: success: True if operation should succeed, False otherwise """""" expected_status = 202 if success else exceptions.Forbidden self.do_request( method='create_volume', expected_status=expected_status ) def show_volume(self): """""" Test show_volume operation. """""" volume_id = self.create_vol(client=self.vol_other_client) self.do_request(method='show_volume', volume_id=volume_id) def list_volumes(self): """""" Test list_volumes operation. """""" self.create_vol(client=self.vol_other_client) self.do_request(method='list_volumes') def show_volume_summary(self): """""" Test show_volume_summary operation. """""" pass # suspected bug - 404 not found for /volumes/summary # self.create_vol(client=self.vol_other_client) # self.do_request(method='show_volume_summary') def update_volume(self, success=True): """""" Test update_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) new_desc = self.__name__ + '-update_test' expected_status = 200 if success else exceptions.Forbidden self.do_request( method='update_volume', volume_id=volume_id, description=new_desc, expected_status=expected_status ) def set_bootable_volume(self, success=True): """""" Test set_bootable_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) expected_status = 200 if success else exceptions.Forbidden self.do_request( method='set_bootable_volume', volume_id=volume_id, bootable=True, expected_status=expected_status ) def delete_volume(self, success=True): """""" Test delete_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) expected_status = 202 if success else exceptions.Forbidden self.do_request( method='delete_volume', volume_id=volume_id, expected_status=expected_status ) class ProjectReaderTests(VolumeV3RbacVolumesTests, base.BaseVolumeTest): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.volumes_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = cls.os_project_reader @decorators.idempotent_id('3d87f960-6210-45f5-b70b-679d67a4e17e') def test_create_volume(self): self.create_volume(success=False) @decorators.idempotent_id('9b2667f2-744e-4d1f-8c39-17060010f19f') def test_show_volume(self): self.show_volume() @decorators.idempotent_id('2f4da8f9-cdc5-4a6e-9143-8237634a629c') def test_list_volumes(self): self.list_volumes() @decorators.idempotent_id('ef347930-54dc-432f-b742-0a060fc37ae8') def test_show_volume_summary(self): self.show_volume_summary() @decorators.idempotent_id('cda92972-7213-4fa0-bc14-ab012dc95931') def test_update_volume(self): self.update_volume(success=False) @decorators.idempotent_id('9970b57d-8d5d-460e-931b-28a112df81e0') def test_set_bootable_volume(self): self.set_bootable_volume(success=False) @decorators.idempotent_id('4fd4dce8-ed8a-4f05-8aac-da99858b563d') def test_delete_volume(self): self.delete_volume(success=False)",,152,0
openstack%2Fkolla-ansible~master~Iddb3145551eed9d02e370c83955ffe6379333e63,openstack/kolla-ansible,master,Iddb3145551eed9d02e370c83955ffe6379333e63,WIP: Add node to RMQ drain,ABANDONED,2023-05-30 11:19:59.000000000,2023-05-30 15:39:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 11:19:59.000000000', 'files': ['ansible/roles/rabbitmq/tasks/restart_services.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f063dd0938c1c354c86abe3245a58783294b3e31', 'message': 'WIP: Add node to RMQ drain\n\nChange-Id: Iddb3145551eed9d02e370c83955ffe6379333e63\n'}]",0,884679,f063dd0938c1c354c86abe3245a58783294b3e31,4,1,1,22629,,,0,"WIP: Add node to RMQ drain

Change-Id: Iddb3145551eed9d02e370c83955ffe6379333e63
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/884679/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/tasks/restart_services.yml'],1,f063dd0938c1c354c86abe3245a58783294b3e31,," node: ""rabbit@{{ ansible_facts.hostname }}""",,1,0
openstack%2Fopenstack-ansible-os_ironic~stable%2Fussuri~I5081b0805ec73248617ca28f0bb1bfbd1656cd80,openstack/openstack-ansible-os_ironic,stable/ussuri,I5081b0805ec73248617ca28f0bb1bfbd1656cd80,Fixing minor issue when no inspector is deployed,ABANDONED,2021-02-24 22:13:26.000000000,2023-05-30 15:32:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-02-24 22:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9f2d848e156d6805a45b73eac4172ac0c4e307e4', 'message': 'Fixing minor issue when no inspector is deployed\n\nThe playbooks stop to execute in cases no ironic inspector\nis configured/deployed. This fixes a condition inside the\n``os_ironic`` module.\n\nChange-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80\n'}, {'number': 2, 'created': '2021-02-24 22:24:03.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3eea3731f4e98352bc4a7bfc09b0db42c966eda8', 'message': 'Fixing minor issue when no inspector is deployed\n\nThe playbooks stop to execute in cases no ironic inspector\nis configured/deployed. This fixes a condition inside the\n``os_ironic`` module.\n\nChange-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80\n'}]",0,777475,3eea3731f4e98352bc4a7bfc09b0db42c966eda8,6,2,2,14552,,,0,"Fixing minor issue when no inspector is deployed

The playbooks stop to execute in cases no ironic inspector
is configured/deployed. This fixes a condition inside the
``os_ironic`` module.

Change-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/75/777475/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9f2d848e156d6805a45b73eac4172ac0c4e307e4,, when: (inventory_hostname == groups['ironic_api'][0] or inventory_hostname == inventory_hostname == groups['ironic_inspector'][0] |default([])), when: (inventory_hostname == groups['ironic_api'][0] or inventory_hostname == groups['ironic_inspector'][0]),1,1
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I544e1f51966ebe4a71a1adc00810341aaf92328c,openstack/puppet-pacemaker,stable/1.5.x,I544e1f51966ebe4a71a1adc00810341aaf92328c,"Configuration of the stonith devices gets a broken password, when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp passwords contain a special character.",MERGED,2023-04-05 10:19:22.000000000,2023-05-30 15:31:43.000000000,2023-05-30 15:31:43.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 35080}]","[{'number': 1, 'created': '2023-04-05 10:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/14faf8d39e8b784c995004dffb070416573e8abb', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 2, 'created': '2023-05-17 05:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/fd2cd95fabbcbd0930380f9d7099f975aa78be91', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 3, 'created': '2023-05-17 06:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b9edb9d63b6508e4004b3031da699cf993c8a3f9', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 4, 'created': '2023-05-17 07:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c4506739b769a8b2143c3eabd526ae44de22e5eb', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 5, 'created': '2023-05-30 13:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/aa7ecbde6f639de5ea9683deed182479adaa89ca', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 6, 'created': '2023-05-30 13:10:16.000000000', 'files': ['manifests/stonith/fence_ipmilan.pp', 'manifests/stonith/fence_rhevm.pp', 'spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb', 'manifests/stonith/fence_redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8ed4a8c801f228425f97fdd5407a3f2e2922ad70', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}]",4,879487,8ed4a8c801f228425f97fdd5407a3f2e2922ad70,22,4,6,35080,,,0,"Configuration of the stonith devices gets a broken password,
when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp
passwords contain a special character.

This causes the fence device to remain in ""stopped"" status.

Closes-Bug: #2015215
Change-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/87/879487/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/stonith/fence_ipmilan.pp'],1,14faf8d39e8b784c995004dffb070416573e8abb,," default => ""passwd=\'${passwd}\'"","," default => ""passwd=\""${passwd}\"""",",1,1
openstack%2Freleases~master~I41c4d8824ed5cc341bbfc628a5277de2b791d697,openstack/releases,master,I41c4d8824ed5cc341bbfc628a5277de2b791d697,Release OpenStack-Ansible Antelope,MERGED,2023-05-26 18:43:18.000000000,2023-05-30 15:31:38.000000000,2023-05-30 15:31:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-26 18:43:18.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bac61a5939cccbfba367944807d7fb9e7cc62329', 'message': 'Release OpenStack-Ansible Antelope\n\nCreate rc1 and stable/2023.1 branch for OpenStack-Ansible.\n\nChange-Id: I41c4d8824ed5cc341bbfc628a5277de2b791d697\n'}]",4,884552,bac61a5939cccbfba367944807d7fb9e7cc62329,12,6,1,28619,,,0,"Release OpenStack-Ansible Antelope

Create rc1 and stable/2023.1 branch for OpenStack-Ansible.

Change-Id: I41c4d8824ed5cc341bbfc628a5277de2b791d697
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/884552/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,bac61a5939cccbfba367944807d7fb9e7cc62329,antelope-trailing-branch-cut,releases: - version: 27.0.0.0rc1 projects: - repo: openstack/openstack-ansible hash: af12e9399f2b5942d5d1881a9b1a4e7fedfac69d branches: - name: stable/2023.1 location: 27.0.0.0rc1,,8,0
openstack%2Fansible-hardening~stable%2Fzed~I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,openstack/ansible-hardening,stable/zed,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:05.000000000,2023-05-30 15:28:22.000000000,2023-05-30 15:27:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:05.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/2ee64db151f10cd9f2a8cac4a612542b64dc4e0c', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884214,2ee64db151f10cd9f2a8cac4a612542b64dc4e0c,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/14/884214/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,2ee64db151f10cd9f2a8cac4a612542b64dc4e0c,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fansible-hardening~stable%2F2023.1~I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,openstack/ansible-hardening,stable/2023.1,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:13.000000000,2023-05-30 15:28:18.000000000,2023-05-30 15:27:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:13.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/42b68b9ff7070f14f896ece1f242a522d1ba9559', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884215,42b68b9ff7070f14f896ece1f242a522d1ba9559,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/15/884215/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,42b68b9ff7070f14f896ece1f242a522d1ba9559,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fansible-hardening~stable%2Fyoga~I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,openstack/ansible-hardening,stable/yoga,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:20.000000000,2023-05-30 15:28:16.000000000,2023-05-30 15:27:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:20.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/62ac49a616dda93529327c169ff1ec0bba5b36a7', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884216,62ac49a616dda93529327c169ff1ec0bba5b36a7,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/16/884216/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,62ac49a616dda93529327c169ff1ec0bba5b36a7,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fzed~I864cb07231ebf5c820c2ce3721323bebdc337e13,openstack/openstack-ansible-openstack_hosts,stable/zed,I864cb07231ebf5c820c2ce3721323bebdc337e13,Limit usage of old OVS to Rocky only,ABANDONED,2023-04-10 08:20:46.000000000,2023-05-30 15:11:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-10 08:20:46.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0be1f19ed3df3761b725dc1741d14c9adf1779ea', 'message': ""Limit usage of old OVS to Rocky only\n\nAs we've landed fix for CentOS to work properly with new OVS and\nworkarounded bug, we can now start using new OVS version for stream.\n\nExclude can be removed once issue will be sorted out for Rocky as well.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/878911\nChange-Id: I864cb07231ebf5c820c2ce3721323bebdc337e13\n(cherry picked from commit 449d19fd940224449986c883ad170c06db4a1253)\n""}]",1,879854,0be1f19ed3df3761b725dc1741d14c9adf1779ea,5,3,1,28619,,,0,"Limit usage of old OVS to Rocky only

As we've landed fix for CentOS to work properly with new OVS and
workarounded bug, we can now start using new OVS version for stream.

Exclude can be removed once issue will be sorted out for Rocky as well.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/878911
Change-Id: I864cb07231ebf5c820c2ce3721323bebdc337e13
(cherry picked from commit 449d19fd940224449986c883ad170c06db4a1253)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/54/879854/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,0be1f19ed3df3761b725dc1741d14c9adf1779ea,osa/rdo_ovs_3.1-stable/zed," exclude: ""{{ ansible_facts['distribution'] == 'Rocky' | ternary(['*rdo-openvswitch*3.1*', '*rdo-ovn*3.1*'], omit) }}""", exclude: - '*rdo-openvswitch*3.1*' - '*rdo-ovn*3.1*',1,3
openstack%2Fcharm-cinder-k8s~main~Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee,openstack/charm-cinder-k8s,main,Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee,Switch cinder api service name to wsgi-cinder-api,MERGED,2023-05-30 11:41:34.000000000,2023-05-30 15:01:23.000000000,2023-05-30 14:34:43.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-30 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/17ee464bee05efd76f3b1894d2eb1c67507329d7', 'message': 'Switch cinder api service name to wsgi-cinder-api\n\nMake cinder api service name consistent with the rock and the\nother charms that have an api service served by mod_wsgi\n\nChange-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee\n'}, {'number': 2, 'created': '2023-05-30 12:11:40.000000000', 'files': ['src/templates/wsgi-cinder-api.conf.j2', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/76c80976116a0c26483c9100f21e57924cd2d153', 'message': 'Switch cinder api service name to wsgi-cinder-api\n\nMake cinder api service name consistent with the rock and the\nother charms that have an api service served by mod_wsgi\n\nChange-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee\n'}]",1,884681,76c80976116a0c26483c9100f21e57924cd2d153,9,3,2,12549,,,0,"Switch cinder api service name to wsgi-cinder-api

Make cinder api service name consistent with the rock and the
other charms that have an api service served by mod_wsgi

Change-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/81/884681/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/wsgi-cinder-api.conf.j2', 'src/charm.py']",2,17ee464bee05efd76f3b1894d2eb1c67507329d7,standardise-wsgi-svc-name," service_name = ""cinder-api"" def service_conf(self) -> str: """"""Service default configuration file."""""" return f""/etc/cinder/cinder.conf"" @property def service_user(self) -> str: """"""Service user file and directory ownership."""""" return ""cinder"" @property def service_group(self) -> str: """"""Service group file and directory ownership."""""" return ""cinder"""," service_name = ""cinder"" def wsgi_container_name(self): """"""WSGI API service container name."""""" return CINDER_API_CONTAINER",14,4
openstack%2Fmagnum-tempest-plugin~master~Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa,openstack/magnum-tempest-plugin,master,Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa,DNM: WIP Get tests passing on cluster-api,NEW,2023-02-06 15:15:52.000000000,2023-05-30 14:52:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-06 15:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ca33fa51783507c62e34284865e2b63a115a27bf', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 2, 'created': '2023-02-07 14:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/cccb0514a0f8ec8fcb47574eced6c5c1695409f2', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 3, 'created': '2023-02-07 15:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/117b76ea4dfb76706c7a2dfc52d4d6bf76ecbc42', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 4, 'created': '2023-02-07 16:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/9d3f00369fbb950681639142e3353a1b1e1c31d2', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 5, 'created': '2023-02-08 14:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4fc1eb739394e6c9a2b20034cc76f6dd68cef8db', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 6, 'created': '2023-02-08 16:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/2dc1056f52b9e2cd555081085193be67ab84eb9e', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 7, 'created': '2023-02-09 10:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/43b67f57b057010fe4a4d5a6bbf1a276eb09efc8', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/815521\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 8, 'created': '2023-02-09 10:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/d2a83d0c209411427daf9e6be2da11b678695c4c', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 9, 'created': '2023-02-09 14:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/39cb6c4eb61f281cfd765a2ca0f8978652c77eb3', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 10, 'created': '2023-02-09 14:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/54ebb2e8e1fd05ba9b9e07489bf11bdac981ee2c', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 11, 'created': '2023-02-09 14:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b4346a041c5f6a36f70239d414c98a59624552fe', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 12, 'created': '2023-02-09 16:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/93debb5d11463ad6307c1e6216ac6fcb05b533cf', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 13, 'created': '2023-02-09 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ff266a11bd9cebb75e4349f8a65ca6bf467aad84', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 14, 'created': '2023-02-09 16:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/af69f8094a3ca31bd803ad3ce0ba79b53f986796', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 15, 'created': '2023-02-10 11:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8e16674c295f4a457e9df0e282b365c24e90eab7', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 16, 'created': '2023-02-10 11:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/15b650c1ae18f485a6566d34dd08b6d8526091e6', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 17, 'created': '2023-02-10 14:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b3518c98b19dae1642071b95bc14abe8dc02c948', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 18, 'created': '2023-02-10 15:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/503f3c4de8630efcab93279a0ca8a4199fb6346a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 19, 'created': '2023-02-13 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/614826a13b1cf4f94a48dc1a08c6a3ef88b01277', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 20, 'created': '2023-02-13 12:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/bd69da1f34d17bada1ddf7b56af08016448c74b0', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 21, 'created': '2023-02-14 10:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/a6158c2f1dcd38b44818c8874835f3d5ada48377', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 22, 'created': '2023-02-14 10:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/85efc63891f58aefc64c00021a07530e3262d19d', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 23, 'created': '2023-02-14 10:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/627ec1cd5a1bfba10c20db62bd1c8e38a6b9d26d', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 24, 'created': '2023-02-15 17:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/d2e089a088ddb7e1eaa1442955c6a0491e28a274', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 25, 'created': '2023-02-17 10:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/159011be6e1c5f28ad0d495235eb80ef41af598a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 26, 'created': '2023-02-20 13:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ca3983d576f0c21fbc201896b2b90c32c9653c8d', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 27, 'created': '2023-02-20 14:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/7e3ffa7a9656ab563e41db7c54c9f3d0310d0ad5', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 28, 'created': '2023-02-21 10:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/00c12da7838ae9f895e7dea55a8e52878634f2fd', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/872755\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 29, 'created': '2023-02-21 15:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/459a2b11924816048d199ab842f7ed79d541ccb4', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 30, 'created': '2023-02-27 13:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/88c8ca650a36565531a5ccc70c1c6650a6d95e71', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 31, 'created': '2023-02-27 15:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b8dfcdcfe8968830d4f9abec80c6b267cb845c02', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 32, 'created': '2023-02-28 10:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/19dae32b04aaf7cce038e7c6e8b5f779cb914b34', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 33, 'created': '2023-02-28 11:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/5d87d720671773ff808ba4801fa62d9792f6a9a6', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 34, 'created': '2023-02-28 11:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/5f8fdf4abfb59c9e3abce9b05e6046f6250572ed', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 35, 'created': '2023-03-07 16:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/777edeb03fb5d8a570ce02e35b83f24b250b31ff', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 36, 'created': '2023-03-07 17:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/2e174037952919dc414eb228a55e669e5320da57', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 37, 'created': '2023-03-07 17:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/1aa0e3e19385425c415f4f688f25dff1445dcd81', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 38, 'created': '2023-03-08 12:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/fdf3e30e4c87f7024e8180cda766615abdd02fa2', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 39, 'created': '2023-03-08 13:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/faed8dc41fd8c9920eeb0c8c275dddc0d4821ab3', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 40, 'created': '2023-03-10 17:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ed0e152881993bb8735c9ef970a6c7f6cba54a02', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 41, 'created': '2023-03-15 13:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c1ca5f320d0860eb2448b21b22303422a6de3b04', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 42, 'created': '2023-03-15 13:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/2a76dfc49326e59287a04e0a75809b81458d5717', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 43, 'created': '2023-03-16 10:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ec5ea88e244196007fd5d618bd7c81c137c762f9', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 44, 'created': '2023-03-16 19:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/39d54f570334e718f7ed415bb6903b3c99270154', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 45, 'created': '2023-03-16 20:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/37182a1304b4de159844f0f11ea9534b4dd5b906', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 46, 'created': '2023-03-17 10:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c855096aaf84afcc5564629a82cee13d551d80da', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 47, 'created': '2023-03-17 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f63aa3bbf7633d2e4070f8734f78b62bc6ed77ea', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 48, 'created': '2023-03-17 13:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/52e752665c3e9e1973f8326afb4d734823f05872', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 49, 'created': '2023-03-17 13:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0babb5cb72fc823551466f314801b6f597fc3dc1', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 50, 'created': '2023-03-17 14:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/35c1211c0f2489b0b4080afc82c473e57997ef58', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 51, 'created': '2023-03-17 16:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b2c9805d6ea9f801d6f1fc05be15a5df555c60b8', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 52, 'created': '2023-03-17 16:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/61ad64de0f2422d8fa0bde15d11fc37e723fa06a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 53, 'created': '2023-03-17 16:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0fca86e0e0d316b759a790769dd67796a2b15c58', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 54, 'created': '2023-03-20 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/97702c3695d7c9754c27f51f799b970c47072b32', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 55, 'created': '2023-03-20 10:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/a076a79c0e899a3c6f278985857139914ef208c0', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 56, 'created': '2023-03-20 10:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/88d9545a8813055a6a54bbc7714a5af1a82efb7c', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 57, 'created': '2023-03-20 11:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/fb20e514783ecb9c49fe9d15883393ddaac1302f', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 58, 'created': '2023-03-20 11:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/cd340b31eb559ff5951b0d306f4e6ff291368ebb', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 59, 'created': '2023-03-20 11:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f871688b6750522f52d917feec16567a37c274ab', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 60, 'created': '2023-03-20 11:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/726ed25f131e010374c5266e8a14049cd146f247', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 61, 'created': '2023-03-20 11:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0245849175bf854a0f34e782f4e17423a00bb548', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 62, 'created': '2023-03-20 11:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/6ee8b2555a16e3c3c8e9615276de94d4d6156ebe', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 63, 'created': '2023-03-20 18:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/de1b0ce48b9862ab3dc37dab07368ece5c41b05e', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 64, 'created': '2023-03-21 13:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f3159efa11baedb804fbf33a5c8ba8a13e2b0c00', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 65, 'created': '2023-03-21 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/de875ff3a3080a4c6960fdd2a2d3f3e176d1c046', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 66, 'created': '2023-03-21 17:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c26b43aaa65a1fc318afccaa05d5c1ae70b97682', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 67, 'created': '2023-03-21 17:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/cff8a9205e90d5a196f589df0b5e485bbf58aa82', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 68, 'created': '2023-03-22 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/120a8761d7b7a66d39329462f2d0ef1d61c42b10', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 69, 'created': '2023-03-22 11:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0e20bfafb78a1ae3022b2354ecedd1585b554184', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 70, 'created': '2023-03-22 11:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/812002ad7e7340c715256f7c81031c057041965a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 71, 'created': '2023-03-22 12:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/5d7c116a97f7c7dbb053766eb724417a21c2bb3e', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 72, 'created': '2023-03-22 12:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ed4cce9db392e8ed89a2209da23a89f6c3befff8', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 73, 'created': '2023-03-22 15:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ec83cce09914ed1baa2101958cdeb69d8d8fe1b2', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 74, 'created': '2023-03-22 17:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/fd3829f7385c890c9ed737ac9fd84d668654d17f', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 75, 'created': '2023-03-23 11:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4981b9619f3d9297b43f41d54b942abac4ecd68d', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 76, 'created': '2023-03-23 11:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/577fe4aee6136fbed7aef8d6b20746289babcb07', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 77, 'created': '2023-03-23 12:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/30fe36b8cde109ccfdb11081bc244c7d46cbb458', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 78, 'created': '2023-03-23 13:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/5bc82c64cc09f309549a5d055ee30da92206e714', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 79, 'created': '2023-03-23 15:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/58441c4152fc4b4a2a3edaa5113626a8f3d21734', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 80, 'created': '2023-03-24 09:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/1638b60ac751f119097939a1bde1425dbeef3dbe', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 81, 'created': '2023-03-24 15:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/e99a7e7845d86f22911639b9aa24a0c4f1be7611', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 82, 'created': '2023-03-27 10:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8c037d3c6e83dc04ce85348fb1c038f73c3356bd', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 83, 'created': '2023-03-27 13:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b2afcbfac0c567e80a164eed6c8c058d161c986d', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 84, 'created': '2023-03-28 08:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/3f3dc32d304a1f7a355a930c407a6e7e0b912e17', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 85, 'created': '2023-03-28 10:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/33d5cb10101d36bb9b35e77cb1f4f53fbd244d20', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 86, 'created': '2023-03-28 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c53801b60469edbba607eaa79c93026eb3c59cc9', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 87, 'created': '2023-03-30 15:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/00dbee1ff67087301a44626abf87963ca555533a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 88, 'created': '2023-03-31 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/a74d77bad0a9e525060e72656daf8b5329229ee2', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 89, 'created': '2023-04-25 09:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b5e4c8d87cf92e04285fe099db55e859e2d0ab50', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 90, 'created': '2023-04-25 10:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/de4f7508dd7df9af8949b9858877aa2d6f00eb4b', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 91, 'created': '2023-04-27 14:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b4cd522cab6a7665a7362415fa1ce1d9038be3e6', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 92, 'created': '2023-05-03 15:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8b096c5542c14fcf682b0f03ad31ee4ed038023f', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 93, 'created': '2023-05-04 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/2c9e82be791c8b0705ebc1478d06ac93a72065fb', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 94, 'created': '2023-05-04 14:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f333a6028f393037fec9fd2b4d9cfd87ebf00ced', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 95, 'created': '2023-05-12 08:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/40653f2e72ca89f0833103178ac33859b05cf473', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 96, 'created': '2023-05-12 16:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/af8af51dcdfddf511e39b0df49f57c7a3e95b968', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 97, 'created': '2023-05-12 18:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/451fa9ac21c18c160d4e0109a4221f9e3613bb36', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 98, 'created': '2023-05-12 18:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/589500a4645fe10ded9c8d52841f1785c21ca226', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 99, 'created': '2023-05-13 02:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/bb3d8801cd05d57ba52462bd00637eeb3abbb443', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 100, 'created': '2023-05-13 02:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/75fec4b173d04f2a2342aea045c080381caacf50', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 101, 'created': '2023-05-13 02:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/3eb6b6503fd31ec12d701f5481219fcceaefdb5a', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 102, 'created': '2023-05-13 11:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/e55e48d95b730874f8ac9ec9505e8fdd7fa34d88', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 103, 'created': '2023-05-13 11:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0eb7f703cbeb1f429de896cf6994f96c3704ff14', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 104, 'created': '2023-05-15 08:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/3639c0293409bef0bf18f2282812da661be148cf', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 105, 'created': '2023-05-15 11:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8d0f710f0bc9f43c11f5fd5a50e3ab99483cc349', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 106, 'created': '2023-05-15 11:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/6e8f8b2446fcf8bef088b71adc2a6549b1a4f8ec', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 107, 'created': '2023-05-15 15:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/76ec1d1ac056fbfefb7343e49c967519e36ef4f7', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 108, 'created': '2023-05-15 16:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f0a7ba3a3f6f5b4a1250d52ac485d4f4e0206d9c', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 109, 'created': '2023-05-16 09:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0d6372dd1b7eb3b4035b61b122ea635afc44dd58', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 110, 'created': '2023-05-16 13:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/e75632a59a3315031af1afc0c7a30b3d5a9dcddf', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 111, 'created': '2023-05-16 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ed8a260ae538b03a7c8f1f2a98a2f791fd1983d0', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 112, 'created': '2023-05-18 11:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/842b90543e1c86396f70955877fd83d5b78f0a70', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 113, 'created': '2023-05-18 15:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b2a2999fcf8701a20896698215576199670d6adf', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 114, 'created': '2023-05-19 09:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/b80d480f7cbe37a7304a681101f2e2483ed30768', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 115, 'created': '2023-05-30 13:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/01517fbac4553399e39bda11880762821d654b68', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}, {'number': 116, 'created': '2023-05-30 14:14:27.000000000', 'files': ['magnum_tempest_plugin/common/utils.py', 'magnum_tempest_plugin/tests/api/v1/clients/cluster_client.py', 'magnum_tempest_plugin/plugin.py', 'bin/run-sonobuoy', '.zuul.yaml', 'magnum_tempest_plugin/common/datagen.py', 'setup.py', 'magnum_tempest_plugin/common/config.py', 'magnum_tempest_plugin/tests/api/v1/test_cluster.py', 'magnum_tempest_plugin/tests/api/v1/clients/cluster_template_client.py', 'requirements.txt', 'playbooks/multinode-pre.yaml', 'magnum_tempest_plugin/tests/contrib/copy_instance_logs.sh', 'playbooks/collect-capi-logs.yaml', 'magnum_tempest_plugin/config.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/a64ddb6925bcc85da0f383a01547aeb1d3697551', 'message': 'DNM: WIP Get tests passing on cluster-api\n\nAdds a test that uses sonaboy to test the K8s clusters\nmagnum creates.\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nChange-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa\n'}]",278,872759,a64ddb6925bcc85da0f383a01547aeb1d3697551,208,1,116,35260,,,0,"DNM: WIP Get tests passing on cluster-api

Adds a test that uses sonaboy to test the K8s clusters
magnum creates.

Depends-On: https://review.opendev.org/c/openstack/magnum/+/851076

Change-Id: Ib3498bf5d12c08f9e0523372bab6d7e548cf0daa
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/59/872759/64 && git format-patch -1 --stdout FETCH_HEAD,"['magnum_tempest_plugin/common/utils.py', 'magnum_tempest_plugin/tests/api/v1/clients/cluster_template_client.py', 'magnum_tempest_plugin/plugin.py', 'magnum_tempest_plugin/tests/api/v1/test_cluster_access.py', 'magnum_tempest_plugin/tests/contrib/copy_instance_logs.sh', 'magnum_tempest_plugin/common/datagen.py', 'magnum_tempest_plugin/config.py', 'magnum_tempest_plugin/common/config.py']",8,ca33fa51783507c62e34284865e2b63a115a27bf,new-upstream-test," @classmethod def set_master_lb_enabled(cls,config): cls.master_lb_enabled = CONF.magnum.master_lb_enabled @classmethod def set_labels(cls,config): cls.labels = CONF.magnum.labels cls.set_master_lb_enabled(config) cls.set_labels(config)",,395,10
openstack%2Freleases~master~Ib6f55689cac066a42dbe0c6acb129809b3459bbd,openstack/releases,master,Ib6f55689cac066a42dbe0c6acb129809b3459bbd,[Puppet OpenStack] Transition Xena to EM,MERGED,2023-03-29 13:06:33.000000000,2023-05-30 14:46:31.000000000,2023-05-30 14:46:31.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-03-29 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cb0df202b471b9008375492f896b44a7028de064', 'message': '[Puppet OpenStack] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd\n'}, {'number': 2, 'created': '2023-05-25 14:58:59.000000000', 'files': ['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5361993a39beb63e0c7565af6f148a386d33ad99', 'message': '[Puppet OpenStack] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd\n'}]",7,878881,5361993a39beb63e0c7565af6f148a386d33ad99,18,5,2,17685,,,0,"[Puppet OpenStack] Transition Xena to EM

This transition the stable/xena branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch after the transition.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 20th, 2023.

Change-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/878881/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml']",39,cb0df202b471b9008375492f896b44a7028de064,xena-em, - version: xena-em projects: - repo: openstack/puppet-ec2api hash: f74f33e5d78a4c01e8580c9558b7d8a5b5488afc,,156,0
openstack%2Fneutron~stable%2Fzed~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,stable/zed,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-22 06:37:57.000000000,2023-05-30 14:33:08.000000000,2023-05-30 14:30:29.000000000,"[{'_account_id': 7730}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 06:37:57.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/004ed33ec1ab549444e518ed8681b51737b81b9c', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",6,883713,004ed33ec1ab549444e518ed8681b51737b81b9c,13,4,1,30772,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/883713/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,004ed33ec1ab549444e518ed8681b51737b81b9c,bug/2016704-stable/zed,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Ftripleo-common~stable%2Fwallaby~I039ca97773699f6f744e83172dd6664ace0d8d60,openstack/tripleo-common,stable/wallaby,I039ca97773699f6f744e83172dd6664ace0d8d60,[FIPS] Install nettle-3.8-3.el9 in tcib base container,MERGED,2023-03-10 18:49:46.000000000,2023-05-30 14:33:07.000000000,2023-03-16 18:20:37.000000000,"[{'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-03-10 18:49:46.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n\nPin nettle-3.8-3 on ubi9 only\n\nThis patch fixes the workaround proposed in [1] to install\nnettle-3.8-3 only on ubi9 containers.\nSince we are backporting this fix to stable/wallaby, we need\nto guarantee that doesn't break ubi8 containers.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/869104\n\nChange-Id: I039ca97773699f6f744e83172dd6664ace0d8d60\n""}]",0,877120,5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed,10,5,1,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8

Pin nettle-3.8-3 on ubi9 only

This patch fixes the workaround proposed in [1] to install
nettle-3.8-3 only on ubi9 containers.
Since we are backporting this fix to stable/wallaby, we need
to guarantee that doesn't break ubi8 containers.

[1] https://review.opendev.org/c/openstack/tripleo-common/+/869104

Change-Id: I039ca97773699f6f744e83172dd6664ace0d8d60
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/877120/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed,pin_nettle_base_container,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. # See: https://bugzilla.redhat.com/show_bug.cgi?id=2154924 and # https://bugs.launchpad.net/tripleo/+bug/1984237 - run: >- if [ '{{ tcib_release }}' == '9' ];then dnf -y install nettle-3.8-3.el9; fi",,9,0
openstack%2Ftripleo-common~master~I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b,openstack/tripleo-common,master,I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b,"Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""",ABANDONED,2023-05-30 14:29:41.000000000,2023-05-30 14:32:17.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-30 14:29:41.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49280e7eecf05650554f44f5c7159da82b166138', 'message': 'Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\n\nThis reverts commit bd6900efa3c005150f36a6abe316f9728706ab62.\n\nReason for revert: testing ubi9.2\n\nChange-Id: I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b\n'}]",0,884543,49280e7eecf05650554f44f5c7159da82b166138,2,8,1,30002,,,0,"Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""

This reverts commit bd6900efa3c005150f36a6abe316f9728706ab62.

Reason for revert: testing ubi9.2

Change-Id: I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/884543/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,49280e7eecf05650554f44f5c7159da82b166138,skip_fips_gnutls,,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. - nettle-3.8-3.el9",0,5
openstack%2Ftripleo-common~stable%2Fwallaby~Iedc128120fd6925800c7e95664ce4e13ee8868a8,openstack/tripleo-common,stable/wallaby,Iedc128120fd6925800c7e95664ce4e13ee8868a8,[FIPS] Install nettle-3.8-3.el9 in tcib base container,ABANDONED,2023-03-02 21:17:51.000000000,2023-05-30 14:30:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-03-02 21:17:51.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f64d2b35e9e52990962fded2130e44bd0a493df7', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n(cherry picked from commit bd6900efa3c005150f36a6abe316f9728706ab62)\n""}]",4,876210,f64d2b35e9e52990962fded2130e44bd0a493df7,8,2,1,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8
(cherry picked from commit bd6900efa3c005150f36a6abe316f9728706ab62)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/876210/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,f64d2b35e9e52990962fded2130e44bd0a493df7,skip_fips_gnutls-stable/wallaby,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. - nettle-3.8-3.el9",,5,0
openstack%2Ftripleo-common~master~Iedc128120fd6925800c7e95664ce4e13ee8868a8,openstack/tripleo-common,master,Iedc128120fd6925800c7e95664ce4e13ee8868a8,[FIPS] Install nettle-3.8-3.el9 in tcib base container,MERGED,2023-01-03 20:03:40.000000000,2023-05-30 14:29:41.000000000,2023-03-02 15:55:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-01-03 20:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1954cbd71c155079553766a6a9dbbe74a383f358', 'message': 'Disable gnutls FIPS integrity tests\n\nThis patch adds an environment variable to disable gnutls FIPS\nintegrity tests due to BZ#2154924. This patch can be reverted once\nbug is fixed.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n'}, {'number': 2, 'created': '2023-01-25 12:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01782569c432982e3e149109cf2f4246d1ec485b', 'message': 'Install nettle-3.8-3.el9 in tcib base container\n\nThis patch tries to install nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package. This version should match with the newest\nversion of gnutls.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n'}, {'number': 3, 'created': '2023-01-25 19:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b67534e0d7e9173a27f0098ad9c948846466b1e', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n""}, {'number': 4, 'created': '2023-03-01 13:08:43.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd6900efa3c005150f36a6abe316f9728706ab62', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n""}]",12,869104,bd6900efa3c005150f36a6abe316f9728706ab62,33,9,4,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/869104/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,1954cbd71c155079553766a6a9dbbe74a383f358,skip_fips_gnutls, GNUTLS_SKIP_FIPS_INTEGRITY_CHECKS: 1,,1,0
openstack%2Fglance~master~I636e6db755daa770041e76657ba82c1c43aa82ea,openstack/glance,master,I636e6db755daa770041e76657ba82c1c43aa82ea,DNM: Test glance-store revert revert,ABANDONED,2023-05-18 14:13:41.000000000,2023-05-30 14:25:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 14:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/76872ec1aa450273bc7133220a63057f289ff455', 'message': 'DNM: Test glance-store revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883532\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 2, 'created': '2023-05-19 13:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f9ee45dfa1d649b1a952279a25ffb8ee04b35d9d', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 3, 'created': '2023-05-19 18:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab26aa4d03b06ac14269003348baf2c3b311d250', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 4, 'created': '2023-05-19 18:56:35.000000000', 'files': ['glance/context.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8910c6110051827c12c4eb7848a3d810ee1db260', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}]",6,883515,8910c6110051827c12c4eb7848a3d810ee1db260,18,1,4,4393,,,0,"DNM: Test glance-store revert revert

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/883670
Change-Id: I636e6db755daa770041e76657ba82c1c43aa82ea
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/883515/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/context.py'],1,76872ec1aa450273bc7133220a63057f289ff455,test-rbd-revert,# Foo,,1,0
openstack%2Fovsdbapp~master~I66948039e61503480fd140ee9e0ce645a6ef4453,openstack/ovsdbapp,master,I66948039e61503480fd140ee9e0ce645a6ef4453,Ensure LrpAddCommand may_exits works without peers,MERGED,2023-05-10 13:11:20.000000000,2023-05-30 14:24:21.000000000,2023-05-30 14:23:22.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2023-05-10 13:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/63232ddd18f9fae504ad74bb8c5d375b6cd79bca', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}, {'number': 2, 'created': '2023-05-24 14:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c39a6c3c31a80379f50d8a33113d1367666aba4a', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}, {'number': 3, 'created': '2023-05-24 14:49:18.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/267286976ea62a2372b774379b45d6d4923b6f24', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}]",5,882269,267286976ea62a2372b774379b45d6d4923b6f24,15,5,3,23567,,,0,"Ensure LrpAddCommand may_exits works without peers

This patch sets the default for peers to [] instead of None, to match
what it is stored on the DB

Closes-Bug: #2019109
Change-Id: I66948039e61503480fd140ee9e0ce645a6ef4453
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/69/882269/3 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/ovn_northbound/commands.py'],1,63232ddd18f9fae504ad74bb8c5d375b6cd79bca,," peer=[], may_exist=False, **columns):"," peer=None, may_exist=False, **columns):",1,1
openstack%2Freleases~master~I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2,openstack/releases,master,I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2,[OpenStackAnsible] Transition Xena to EM,MERGED,2023-03-29 13:07:49.000000000,2023-05-30 14:21:18.000000000,2023-05-30 14:21:18.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-03-29 13:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/97e8e393ac4735127159c7bcf4f8bfd6987323d5', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 2, 'created': '2023-04-21 13:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/efe4e781e65bbd26156d42865df3a3523678fc36', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 3, 'created': '2023-05-05 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c64d458e64cd5acfe2bb6711427459866e82481a', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 4, 'created': '2023-05-26 07:24:43.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ca2b036fbf83ad14d53aea185977bf8470d0f8f', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}]",11,878887,0ca2b036fbf83ad14d53aea185977bf8470d0f8f,25,4,4,17685,,,0,"[OpenStackAnsible] Transition Xena to EM

This transition the stable/xena branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch after the transition.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 20th, 2023.

Change-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/878887/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,97e8e393ac4735127159c7bcf4f8bfd6987323d5,xena-em, - version: xena-em projects: - repo: openstack/openstack-ansible hash: ea543967f973b606c68e5728431fa6bb841f44db,,4,0
openstack%2Fopenstack-ansible~master~Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,openstack/openstack-ansible,master,Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,Implement support for haproxy_accept_both_protocols,MERGED,2023-05-25 17:30:42.000000000,2023-05-30 13:57:17.000000000,2023-05-30 13:55:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e9fc6dc5d01eaf20a5eeb60b38dfd28ee12f6ce', 'message': 'Add support for keystone_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\nsome downtime because keystone URL is specified in service config files.\nAs a result, when keystone is available over HTTPS, each service will\ntry to reach it over HTTP that will fail.\n\nTo avoid downtime, it is recommended to enable\n`keystone_accept_both_protocols` until all services are configured\ncorrectly. It allows keystone to listen on both HTTP and HTTPS.\n\nI believe that `haproxy_accept_both_protocols` should be defined only\nfor keystone because URLs for other services are retrieved from service\ncatalog.\nIf users want to use it for other haproxy services, it is always\npossible to define it in `haproxy_<service>_service_overrides`.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n'}, {'number': 2, 'created': '2023-05-25 22:33:42.000000000', 'files': ['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b75a9d0dd07d1fe1b578398714e776911f3fb2a9', 'message': 'Implement support for haproxy_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\ndowntime until each client is configured to use HTTPS instead of HTTP.\n\nTo avoid downtime, it is recommended to enable\n`openstack_service_accept_both_protocols` until all services are\nconfigured correctly.\nIt allows haproxy frontends to accept both HTTP and HTTPS.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n'}]",3,884428,b75a9d0dd07d1fe1b578398714e776911f3fb2a9,12,3,2,32666,,,0,"Implement support for haproxy_accept_both_protocols

Enabling TLS on the internal VIP for existing deployments will cause
downtime until each client is configured to use HTTPS instead of HTTP.

To avoid downtime, it is recommended to enable
`openstack_service_accept_both_protocols` until all services are
configured correctly.
It allows haproxy frontends to accept both HTTP and HTTPS.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784
Change-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/884428/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/keystone_all/haproxy_service.yml']",2,0e9fc6dc5d01eaf20a5eeb60b38dfd28ee12f6ce,tls-backend," # useful when changing keystone's endpoint protocol haproxy_accept_both_protocols: ""{{ keystone_accept_both_protocols | default(False) }}""",,8,8
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31,openstack/tripleo-ansible,stable/wallaby,I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31,Fix permission issues on ceph conf,ABANDONED,2023-05-25 07:02:15.000000000,2023-05-30 13:54:06.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-05-25 07:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cf3fedf8a570efc9f5ad6c550d7e39ff9ab467c', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the ceph tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 2, 'created': '2023-05-25 10:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5e99a26cace94918fd109e68b373c7814656c22', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 3, 'created': '2023-05-25 10:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d580ee52212709ca2bb5ffa73e198788a35c68b6', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 4, 'created': '2023-05-25 13:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59601453d2623e59c8629a39d5a165adfc8953ae', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 5, 'created': '2023-05-25 13:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38f1c4432727f120df85bceacc7b34a4fa6bf2a2', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 6, 'created': '2023-05-25 18:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/141238573d00ccc30ba9f2624a56a6d13fa41df5', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 7, 'created': '2023-05-25 18:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18306a3a40aa256019fa6a83fddeb4a59c67a1f2', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 8, 'created': '2023-05-25 19:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e4e570cabca723a9648f6fea732dc25848ec76e', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 9, 'created': '2023-05-26 05:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/159aed20b4e92e5a237501e809a2374e409a1896', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 10, 'created': '2023-05-26 06:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4f652ffaab75eceb7d370a2c9631bc2aba2a099', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 11, 'created': '2023-05-26 07:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b225c1c9ed030f3ad3a610be6eb3b5b832d033a7', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 12, 'created': '2023-05-26 07:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d291e4f70685ea677f0377f6813d297ea6864edd', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 13, 'created': '2023-05-26 07:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a523cd7fb884ef91193ead8bb68cb13496fdb66', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 14, 'created': '2023-05-26 10:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3587297810e91e8be64e6e4de779070418e487fd', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 15, 'created': '2023-05-26 15:42:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/prepare_temp_ceph_conf_dir.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/delete_temp_ceph_conf_dir.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6826f463bbef0de97de71695c50f44735034276', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}]",30,884332,a6826f463bbef0de97de71695c50f44735034276,46,4,15,34598,,,0,"Fix permission issues on ceph conf

while executing few cephadm tasks, we see permission issues on
/var/lib/ceph/<FSID>/config.

This patch will ensure to
  - copy ceph config to temp config directory
  - use the temp config for all the cephadm tasks
  - delete temp ceph config

Resolves: rhbz#2209633
Change-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/884332/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/prepare_temp_ceph_conf_dir.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/delete_temp_ceph_conf_dir.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml']",15,1cf3fedf8a570efc9f5ad6c550d7e39ff9ab467c,BZ_2209633," CEPH_CONF_SRC: ""{{ tripleo_cephadm_config_fetch_src }}"""," CEPH_FSID: ""{{ tripleo_cephadm_fsid }}""",55,18
openstack%2Fopenstack-ansible-os_cinder~stable%2Fyoga~I19c2b03c61f714fedb593da8489e50d3fa08d933,openstack/openstack-ansible-os_cinder,stable/yoga,I19c2b03c61f714fedb593da8489e50d3fa08d933,Define service_user for cinder services,MERGED,2023-05-24 14:04:47.000000000,2023-05-30 13:46:42.000000000,2023-05-30 13:45:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b008fb5628a8e303e31b77ecacd785ca7c894d15', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}, {'number': 2, 'created': '2023-05-24 18:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/bf50519289a6d8cad23c74a9a889886e7513f3e0', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}, {'number': 3, 'created': '2023-05-25 11:00:40.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/4e9cbff1964645c94e4836f3639fd99d4e62f1bb', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}]",2,884211,4e9cbff1964645c94e4836f3639fd99d4e62f1bb,19,3,3,28619,,,0,"Define service_user for cinder services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all cinder services has been added by cinder.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213

Change-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933
(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/11/884211/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,b008fb5628a8e303e31b77ecacd785ca7c894d15,osa/OSSA-2023-003,send_service_user_token = {{ cinder_service_token_roles_required | bool }} [barbican_service_user] auth_section = keystone_authtoken [service_user] send_service_user_token = {{ cinder_service_token_roles_required | bool }} insecure = {{ keystone_service_internaluri_insecure | bool }} auth_type = {{ cinder_keystone_auth_type }} auth_url = {{ keystone_service_internalurl }} password = {{ cinder_service_password }} project_domain_id = {{ cinder_service_project_domain_id }} project_name = {{ cinder_service_project_name }} region_name = {{ keystone_service_region }} user_domain_id = {{ cinder_service_user_domain_id }} username = {{ cinder_service_user_name }},,16,0
openstack%2Freleases~master~Ie4f3fee9b589c4371733f4ddf0ff381f45324d64,openstack/releases,master,Ie4f3fee9b589c4371733f4ddf0ff381f45324d64,Final release for OpenStack-Ansible Xena,MERGED,2023-05-26 07:21:02.000000000,2023-05-30 13:24:56.000000000,2023-05-30 13:24:56.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-26 07:21:02.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/527aa9feb09905c81a19ddc2dcf461f3c9a64d0b', 'message': 'Final release for OpenStack-Ansible Xena\n\nChange-Id: Ie4f3fee9b589c4371733f4ddf0ff381f45324d64\n'}]",1,884459,527aa9feb09905c81a19ddc2dcf461f3c9a64d0b,8,3,1,28619,,,0,"Final release for OpenStack-Ansible Xena

Change-Id: Ie4f3fee9b589c4371733f4ddf0ff381f45324d64
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/884459/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,527aa9feb09905c81a19ddc2dcf461f3c9a64d0b,release_osa, - version: 24.6.1 projects: - repo: openstack/openstack-ansible hash: e1522c27907c6aa6dbe68a831791cd45fb01dac4,,4,0
openstack%2Fironic~master~Id353c4f5260a7c469779b50ad302f442223df5a0,openstack/ironic,master,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,MERGED,2023-05-14 20:39:07.000000000,2023-05-30 13:21:59.000000000,2023-05-30 13:20:39.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-14 20:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60f2785671ee1aee7ce98f510d1107b963478c3d', 'message': '[WIP][iRMC] Fix IPMI incompatibility handling error\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n'}, {'number': 2, 'created': '2023-05-15 11:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af9c48c824944eb0a2ec2f2b4468645ab0ba7311', 'message': '[WIP][iRMC] Fix IPMI incompatibility handling error\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n'}, {'number': 3, 'created': '2023-05-22 11:30:36.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/27bf2091135e4e0f2650e325378a69916b795a31', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n""}]",0,883101,27bf2091135e4e0f2650e325378a69916b795a31,18,3,3,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/883101/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'ironic/drivers/modules/irmc/inspect.py']",2,60f2785671ee1aee7ce98f510d1107b963478c3d,fix_ipmi_incompat_handling_bug," if (node.driver_internal_info.get('irmc_ipmi_succeed') or getattr(node, 'power_interface') == 'ipmitool'):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,14,7
openstack%2Fcharm-openstack-dashboard~master~I43048928cf319b5ca9a8af68000736ca26ffcf0e,openstack/charm-openstack-dashboard,master,I43048928cf319b5ca9a8af68000736ca26ffcf0e,Fix placement of vault unit.,MERGED,2022-06-03 17:15:20.000000000,2023-05-30 13:18:23.000000000,2023-05-30 13:18:23.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 17:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ace55ee8e6bc5dd6ad04ef53c11275ff3297be81', 'message': 'Fix placement of vault unit.\n\nChange-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e\n'}, {'number': 2, 'created': '2023-05-26 15:53:57.000000000', 'files': ['tests/bundles/jammy-vault.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/cc904247a2ab14efdb5f5318158025927bf249a1', 'message': 'Fix placement of vault unit.\n\nChange-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e\n'}]",2,844623,cc904247a2ab14efdb5f5318158025927bf249a1,12,4,2,2424,,,0,"Fix placement of vault unit.

Change-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/23/844623/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/jammy-vault.yaml'],1,ace55ee8e6bc5dd6ad04ef53c11275ff3297be81,fix-jammy-bundle, - '3', - '4',1,1
openstack%2Fnova-specs~master~Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096,openstack/nova-specs,master,Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096,VirtIO PackedRing Configuration support,MERGED,2022-12-22 07:57:32.000000000,2023-05-30 13:17:40.000000000,2023-05-03 12:58:50.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-22 07:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/46a9922419b4ebb5886f5847fa9039d888194bad', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 2, 'created': '2023-02-24 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/359c8eb3d4c2ed4a06ef03846267b0e79b48f49e', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 3, 'created': '2023-03-02 14:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/abda1103d9334a500ab0af0405991e6dc7bb8f41', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 4, 'created': '2023-03-02 14:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9fdcf08cee86afe67097584857887dc2eadd3e9a', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 5, 'created': '2023-03-02 14:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5c5d5887744a7d12b16f8181e0eebd827cb4d5b0', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 6, 'created': '2023-03-02 14:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ea6635da3b93e80a40162ed277b8fc530595ab70', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 7, 'created': '2023-03-16 09:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d382551d4bdf91e618453fe0b7716b03f655fbd6', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 8, 'created': '2023-05-03 11:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4787148e4d68282b5bfbed277cc46087a3d8d220', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}, {'number': 9, 'created': '2023-05-03 12:23:14.000000000', 'files': ['specs/2023.2/approved/virtio_packedring_configuration_support.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3a80f8a42fa8b976600885ffe8b91db1f2a988c3', 'message': ""VirtIO PackedRing Configuration support\n\nThis blueprint proposes to expose the LibVirt `packed` option that allows a\nguest to negotiate support for the VirtIO packed-ring feature. This\nblueprint is used to solicit community's input.\n\nChange-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096\n""}]",30,868377,3a80f8a42fa8b976600885ffe8b91db1f2a988c3,42,4,9,35239,,,0,"VirtIO PackedRing Configuration support

This blueprint proposes to expose the LibVirt `packed` option that allows a
guest to negotiate support for the VirtIO packed-ring feature. This
blueprint is used to solicit community's input.

Change-Id: Icc532cd8ad17fd2cb48de1b9821a6b1d0e346096
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/77/868377/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/virtio_packedring_configuration_support.rst'],1,46a9922419b4ebb5886f5847fa9039d888194bad,bp/proposes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== VirtIO PackedRing Configuration support ========================================== https://blueprints.launchpad.net/nova/+spec/virtio-packedring-configuration-support This blueprint proposes to expose the LibVirt `packed` option that allows a guest to negotiate support for the VirtIO packed-ring feature. This blueprint is used to solicit community's input. Problem description =================== VM using a Virtio-net paravirtual network device uses Virtual queues (virtqs) to send and recveive data between the virtio-net driver and the virtual or physical backed. The VirtIO standard originally defined a single type of virtq called split-ring queue. The latest edition of the standard (v1.1) adds a different type of the virtq, called packed-ring queue. A different layout of queue elements allows to increase the performance in both virtual and physical backeds. Split-ring support is the default option in VirtIO. Backends supporting the packed-ring virtqs advertise this by setting the `VIRTIO_F_RING_PACKED` feature bit during the feature negotiation. A guest driver then chooses the virtq layout based on what it supports. As both options are identical features wise, and the packed-ring is more efficient, the latter is typically chosen. Qemu added support for the packed virtqs in v4.2 and LibVirt in v6.3. Qemu and LibVirt supports the packed-ring virtqs via the `packed` option. However, note that this option *does not* force the VM to use the packed-ring virtq. It acts as a mask, allowing the backed to advertise the support when set. The driver in the VM is still responsible for choosing the layout of virtqs. This blueprint proposes to add a Nova configuration option, that sets the `packed` option to `true` on the node. This way all VMs running on the node are allowed to choose the virtq layout based on what is offered by the backed, rather than being froced to use split-ring. Use Cases --------- As an operator, I want to benefit from the increase in the virtio-net performance, by using a more efficient virtq structure. Proposed change =============== The proposal is to add a configuration option to set the LibVirt `packed` option to `true`. By enabling this option, operators will allow VMs to choose the preferred virtq layout. By disabling this option, the operator will retain OpenStack working as-is. Alternatives ------------ Leave as-is, requiring operators to patch OpenStack code to add support in a non-uniform manner. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ VMs using virtio-net will see an increase in performance. The increase cane be anywhere between 10/20% (see DPDK Intel Vhost/virtio perf. reports) and 75% (using Napatech SmartNICs). Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: justas_napa on IRC and Gerrit The feature can be implemented by the Napatech devs once the consesnsus is reached on how to implement this. Feature Liaison --------------- None Work Items ---------- N/A at this stage. Dependencies ============ None Testing ======= None Documentation Impact ==================== Configuration options reference will require an update. References ========== * VirtIO standard: https://docs.oasis-open.org/virtio/virtio/v1.1/csprd01/virtio-v1.1-csprd01.html * LibVirt Domain XML reference https://libvirt.org/formatdomain.html#virtio-related-options History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.1 Antelope - Introduced",,167,0
openstack%2Fcharm-nova-compute~stable%2Fwallaby~I2f2e9e44f6bba48e15621a216539089c7e3abc1d,openstack/charm-nova-compute,stable/wallaby,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:50.000000000,2023-05-30 12:58:29.000000000,2023-05-30 11:42:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:50.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d16dadfab943235bc17f0a1b697132fedeede063', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n'}]",8,880745,d16dadfab943235bc17f0a1b697132fedeede063,24,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/45/880745/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,d16dadfab943235bc17f0a1b697132fedeede063,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fswift~master~Ie8e0560f90207eede1992c8665e4d8571a505580,openstack/swift,master,Ie8e0560f90207eede1992c8665e4d8571a505580,Fix GetOrHeadHandler unit tests to use public interface,MERGED,2023-05-23 12:39:15.000000000,2023-05-30 12:56:45.000000000,2023-05-30 12:55:37.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 12:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4fe135d716c8c1cad0cbfc5fc632d402bf71a82', 'message': 'Fix GetOrHeadHandler unit tests to use public interface\n\nModify some unit tests to call the get_working_response() method of\nGetOrHeadHandler rather than a private method.\n\nExtract and re-use a TestSource helper class.\n\nChange-Id: Ie8e0560f90207eede1992c8665e4d8571a505580\n'}, {'number': 2, 'created': '2023-05-30 10:58:02.000000000', 'files': ['test/unit/proxy/controllers/test_base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/149b617c28514c36d1dec57232cce883375f1dbb', 'message': 'Fix GetOrHeadHandler unit tests to use public interface\n\nModify some unit tests to call the get_working_response() method of\nGetOrHeadHandler rather than a private method.\n\nExtract and re-use a TestSource helper class.\n\nChange-Id: Ie8e0560f90207eede1992c8665e4d8571a505580\n'}]",3,883936,149b617c28514c36d1dec57232cce883375f1dbb,13,3,2,7847,,,0,"Fix GetOrHeadHandler unit tests to use public interface

Modify some unit tests to call the get_working_response() method of
GetOrHeadHandler rather than a private method.

Extract and re-use a TestSource helper class.

Change-Id: Ie8e0560f90207eede1992c8665e4d8571a505580
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/883936/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_base.py'],1,f4fe135d716c8c1cad0cbfc5fc632d402bf71a82,refac,"class TestSource(object): def __init__(self, chunks, headers=None, body=b''): self.chunks = list(chunks) self.headers = headers or {} self.status = 200 self.swift_conn = None self.body = body def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return self.body def getheader(self, header): # content-length for the whole object is generated dynamically # by summing non-None chunks if header.lower() == ""content-length"": if self.chunks: return str(sum(len(c) for c in self.chunks if c is not None)) return len(self.read(-1)) return self.headers.get(header.lower()) def getheaders(self): return [('content-length', self.getheader('content-length'))] + \ [(k, v) for k, v in self.headers.items()] with mock.patch.object(handler, '_get_source_and_node', return_value=(source, {})): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) sources = [(source1, node), (source2, node), (source3, node)] range_headers.append(handler.backend_headers.get('Range')) mock_get_source_and_node): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) self.assertEqual(range_headers, [None, 'bytes=8-27', 'bytes=16-27']) headers = {'transfer-encoding': 'chunked', 'content-type': 'text/plain'} source1 = TestSource([b'abcd', b'1234', b'abc', None], headers=headers) source2 = TestSource([b'efgh5678'], headers=headers) sources = [(source1, node), (source2, node)] def mock_get_source_and_node(): return sources.pop(0) mock_get_source_and_node): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) headers = {'content-type': 'text/plain'} source = TestSource([], headers=headers, body=b'the cake is a lie') with mock.patch.object(handler, '_get_source_and_node', return_value=(source, node)): resp = handler.get_working_response(req) resp.app_iter.close() with mock.patch.object(handler, '_get_source_and_node', return_value=(source, node)): resp = handler.get_working_response(req) next(resp.app_iter) resp.app_iter.close()"," class TestSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 def read(self, _read_size): if self.chunks: return self.chunks.pop(0) else: return b'' def getheader(self, header): if header.lower() == ""content-length"": return str(sum(len(c) for c in self.chunks)) def getheaders(self): return [('content-length', self.getheader('content-length'))] node = {} handler.source = source handler.node = node app_iter = handler._make_app_iter(req) client_chunks = list(app_iter) class TestSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return b'' def getheader(self, header): # content-length for the whole object is generated dynamically # by summing non-None chunks initialized as source1 if header.lower() == ""content-length"": return str(sum(len(c) for c in self.chunks if c is not None)) def getheaders(self): return [('content-length', self.getheader('content-length'))] sources = [(source2, node), (source3, node)] range_headers.append(handler.backend_headers['Range']) handler.source = source1 handler.node = node app_iter = handler._make_app_iter(req) side_effect=mock_get_source_and_node): client_chunks = list(app_iter) self.assertEqual(range_headers, ['bytes=8-27', 'bytes=16-27']) class TestChunkedSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 self.headers = {'transfer-encoding': 'chunked', 'content-type': 'text/plain'} def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return b'' def getheader(self, header): return self.headers.get(header.lower()) def getheaders(self): return self.headers source1 = TestChunkedSource([b'abcd', b'1234', b'abc', None]) source2 = TestChunkedSource([b'efgh5678']) handler.source = source1 handler.node = node app_iter = handler._make_app_iter(req) lambda: (source2, node)): client_chunks = list(app_iter) class TestSource(object): def __init__(self): self.headers = {'content-type': 'text/plain', 'content-length': len(self.read(-1))} self.status = 200 def read(self, _read_size): return b'the cake is a lie' def getheader(self, header): return self.headers.get(header.lower()) def getheaders(self): return self.headers source = TestSource() handler.source = source handler.node = node app_iter = handler._make_app_iter(req) app_iter.close() handler.source = source handler.node = node app_iter = handler._make_app_iter(req) next(app_iter) app_iter.close()",66,116
openstack%2Fcharm-horizon-k8s~main~I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82,openstack/charm-horizon-k8s,main,I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82,Ensure compatibility with Rock,MERGED,2023-05-30 10:22:26.000000000,2023-05-30 12:49:29.000000000,2023-05-30 12:35:21.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/c32f2c58b98a2c48f7e8b0aab8447ab4e858e298', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 2, 'created': '2023-05-30 11:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/64b855d9758262c2b9b294abe6eaf64f89f85c2a', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 3, 'created': '2023-05-30 11:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/67aea8ac2c21e1f0c1cdd845a65e6c35a4fbf876', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n- Remove installation of python3-mysqldb in the charm\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 4, 'created': '2023-05-30 12:04:52.000000000', 'files': ['CONTRIBUTING.md', 'src/templates/wsgi-horizon.conf', 'tests/unit/test_horizon_charm.py', 'src/charm.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/e0eb054cc532f4eb442ad52d896f145fddd93a2e', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n- Remove installation of python3-mysqldb in the charm\n- Update healthcheck url to path served by the mod_wsgi\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}]",0,884675,e0eb054cc532f4eb442ad52d896f145fddd93a2e,18,3,4,35761,,,0,"Ensure compatibility with Rock

- Rename all mentions about Openstack Dashboard to Horizon for consistency
with the Rock (and the charm name)
- Disable ""openstack-dashboard.conf"" inside the rock at setup
- Remove installation of python3-mysqldb in the charm
- Update healthcheck url to path served by the mod_wsgi

Change-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/75/884675/4 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.md', 'src/templates/wsgi-horizon.conf', 'tests/unit/test_horizon_charm.py', 'src/charm.py', 'metadata.yaml']",5,c32f2c58b98a2c48f7e8b0aab8447ab4e858e298,refactor/horizon-dashboard,"summary: OpenStack Horizon service OpenStack Horizon provides an HTTP service for managing, selecting, horizon: resource: horizon-image horizon-image: description: OCI image for Horizon horizon: interface: horizon interface: horizon-peer","summary: OpenStack openstack-dashboard service OpenStack openstack-dashboard provides an HTTP service for managing, selecting, openstack-dashboard: resource: openstack-dashboard-image openstack-dashboard-image: description: OCI image for OpenStack Dashboard openstack-dashboard: interface: openstack-dashboard interface: openstack-dashboard-peer",38,41
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I2a2250894c8c9a881120983897c22c491b2e012d,openstack/puppet-pacemaker,stable/1.5.x,I2a2250894c8c9a881120983897c22c491b2e012d,stably-only: Pin concurrent-ruby,MERGED,2023-03-13 05:28:26.000000000,2023-05-30 12:48:57.000000000,2023-05-30 12:48:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 05:28:26.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/94bd8c052fd27d68fb9f0ee24734f100aa34e37e', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n""}]",3,877215,94bd8c052fd27d68fb9f0ee24734f100aa34e37e,12,4,1,9816,,,0,"stably-only: Pin concurrent-ruby

concurrent-ruby 1.2.0 dropped the implementation which puppet still
relies on. Let's pin it to the older version to fix the broken tests
with old and current puppet versions.

This is submitted to stable branches only because master uses the new
version of puppet which replaces the removed interfaces.

Change-Id: I2a2250894c8c9a881120983897c22c491b2e012d
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/15/877215/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,94bd8c052fd27d68fb9f0ee24734f100aa34e37e,," gem 'concurrent-ruby', '< 1.2.0', :require => false",,1,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I428f204e14d790fdbb102bc30a69cf1077da6352,openstack/tripleo-upgrade,stable/wallaby,I428f204e14d790fdbb102bc30a69cf1077da6352,Add ceph health status to log collection playbook,MERGED,2023-05-25 18:33:07.000000000,2023-05-30 12:48:56.000000000,2023-05-30 12:48:56.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 29307}, {'_account_id': 32432}]","[{'number': 1, 'created': '2023-05-25 18:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/240018049af28c05193a2ac4a0d3aa6e900f7003', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}, {'number': 2, 'created': '2023-05-25 19:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0b3cc996941f697e99bd0c2e6cf98cc19d60dc0a', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}, {'number': 3, 'created': '2023-05-29 11:23:06.000000000', 'files': ['templates/collect_logs.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9ab9a8699d80dcbe698c25bc657c250178511348', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}]",4,884434,9ab9a8699d80dcbe698c25bc657c250178511348,14,4,3,33080,,,0,"Add ceph health status to log collection playbook

Add ceph health status to log collection playbook to get insight of ceph
cluster state between next update steps.

Change-Id: I428f204e14d790fdbb102bc30a69cf1077da6352
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/884434/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/collect_logs.yaml.j2'],1,240018049af28c05193a2ac4a0d3aa6e900f7003,update-logs-and-test," - name: get ceph health status shell: | cephadm shell ceph -s &>> /var/log/extra/ceph-status-{% raw %}{{ current_stage }}{% endraw %}.txt delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" when: ceph_osd_enabled|bool ",,6,0
openstack%2Fopenstack-ansible-haproxy_server~stable%2F2023.1~Iba9156c5b909f7b18599638db4471bab12794f0e,openstack/openstack-ansible-haproxy_server,stable/2023.1,Iba9156c5b909f7b18599638db4471bab12794f0e,Fix service-redirect.j2 template,MERGED,2023-05-29 14:29:53.000000000,2023-05-30 12:37:24.000000000,2023-05-30 12:36:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-29 14:29:53.000000000', 'files': ['templates/service-redirect.j2', 'templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/418750857a81902f970897c0ccf3b41b9c1920b5', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n(cherry picked from commit c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e)\n""}]",0,884532,418750857a81902f970897c0ccf3b41b9c1920b5,9,3,1,28619,,,0,"Fix service-redirect.j2 template

This change fixes service-redirect.j2 template that was not working so
far, mainly by replacing:
- 'vip_bind' with 'vip_addres'
- 'item' with 'service'

Additionally, I removed `haproxy_tcp_upgrade_backend` support because
it's not really needed after haproxy separated service config was
implemented.

I also changed variable name `haproxy_tcp_upgrade_frontend` to
`haproxy_accept_both_protocols` to better describe what exactly it does.
Release note is not needed as ``haproxy_tcp_upgrade_frontend` was not
working properly before.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445

Change-Id: Iba9156c5b909f7b18599638db4471bab12794f0e
(cherry picked from commit c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/32/884532/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service-redirect.j2', 'templates/service.j2']",2,418750857a81902f970897c0ccf3b41b9c1920b5,tls-backend-stable/2023.1,{# service-redirect.j2 allows frontend to handle both HTTP and HTTPS connections. #} {# This is especially useful during HTTP->HTTPS service endpoint transition. #} {% if service.haproxy_accept_both_protocols | default(false) %},"{# TODO: remove if and section inside if after HTTPS upgrade #} {# During an upgrade of internal frontends from HTTP to HTTPS, need to accept both HTTP and HTTPS until client config has been changed #} {% if (service.haproxy_tcp_upgrade_frontend | default(false)) and (service.haproxy_ssl_all_vips | default(false)) %}{# TODO: remove if and section inside if after HTTPS upgrade #} {# During an upgrade of backends from HTTP to HTTPS, need to uses both HTTP and HTTPS backends until backends have been changed #} {% if service.haproxy_tcp_upgrade_backend | default(false) and service.haproxy_backend_ssl | default(false) %} {% set entry = [] %} {% set _ = entry.append(""server"") %} {% set _ = entry.append((host_name.name | default(host_name)) + ""-http"" | string) %} {% set _ = entry.append((host_name.ip_addr | default(ip_addr)) + "":"" + haproxy_backend_port | string) %} {% set _ = entry.append(""check"") %} {% set _ = entry.append(""port"") %} {% set _ = entry.append(haproxy_check_port | string) %} {% set _ = entry.append(""inter"") %} {% set _ = entry.append(service.interval|default(haproxy_interval) | string) %} {% set _ = entry.append(""rise"") %} {% set _ = entry.append(service.backend_rise|default(haproxy_rise | string)) %} {% set _ = entry.append(""fall"") %} {% set _ = entry.append(service.backend_fall|default(haproxy_fall | string)) %} {% set backend_server_options = service.haproxy_backend_server_options|default([]) %} {% for option in backend_server_options %} {% set _ = entry.append(option) %} {% endfor %} {% set backend_per_server_options = host_name.backend_server_options|default([]) %} {% for option in backend_per_server_options %} {% set _ = entry.append(option) %} {% endfor %} {{ entry | join(' ') }} {% endif %}",53,73
openstack%2Freleases~master~I008c7307b8359832d3e277db7b8cda226e91ecef,openstack/releases,master,I008c7307b8359832d3e277db7b8cda226e91ecef,kayobe: 2023.1 rc1,ABANDONED,2023-05-30 12:27:24.000000000,2023-05-30 12:34:25.000000000,,[{'_account_id': 22629}],"[{'number': 1, 'created': '2023-05-30 12:27:24.000000000', 'files': ['deliverables/antelope/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/229f42b3df05c0df240b0ec6f7f2edd90ab22811', 'message': 'kayobe: 2023.1 rc1\n\nChange-Id: I008c7307b8359832d3e277db7b8cda226e91ecef\n'}]",0,884682,229f42b3df05c0df240b0ec6f7f2edd90ab22811,2,1,1,23084,,,0,"kayobe: 2023.1 rc1

Change-Id: I008c7307b8359832d3e277db7b8cda226e91ecef
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/884682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/kayobe.yaml'],1,229f42b3df05c0df240b0ec6f7f2edd90ab22811,,releases: - version: 14.0.0.0rc1 projects: - repo: openstack/kayobe hash: 16a61da41a9516445459c1ac75464e67b5f37ee2 - repo: openstack/kayobe-config hash: e1f520ca3378c9c28f81aba75d41f447dc73fea8 - repo: openstack/kayobe-config-dev hash: c558f2101b8db7dd2b3c051aeb3d173f7a609d05 branches: - name: stable/2023.1 location: 14.0.0.0rc1,,12,0
openstack%2Fcinder-tempest-plugin~master~I3164662932a302b87ae2f346c0005bf7d0ab2927,openstack/cinder-tempest-plugin,master,I3164662932a302b87ae2f346c0005bf7d0ab2927,"Cleanup: unneeded client definition, API override",NEW,2022-05-05 22:24:13.000000000,2023-05-30 12:23:48.000000000,,"[{'_account_id': 5314}, {'_account_id': 9600}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-05 22:24:13.000000000', 'files': ['cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py', 'cinder_tempest_plugin/api/volume/test_volume_revert.py', 'cinder_tempest_plugin/api/volume/admin/test_consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/06201385c508c1af869bf982ad218bf8e521af1c', 'message': 'Cleanup: unneeded client definition, API override\n\n- do not redefine a few variables for volume(admin and not) and backup clients\n  when already defined in the base classes;\n- define cls.admin_volume_client (same name as in tempest) rather then\n  admin_volumes_client in the base class for admin volume tests;\n- remove any usage and override of _api_version, which is not really used\n  in the plugin, and it was also removed in tempest (see\n  I6e05fbe21b29efa128fb59d16bf521d551b00304 )\n  Even if unused, _api_version still pointed to the deprecated version 2\n  for consistency group tests.\n\nChange-Id: I3164662932a302b87ae2f346c0005bf7d0ab2927\n'}]",9,840776,06201385c508c1af869bf982ad218bf8e521af1c,22,4,1,10459,,,0,"Cleanup: unneeded client definition, API override

- do not redefine a few variables for volume(admin and not) and backup clients
  when already defined in the base classes;
- define cls.admin_volume_client (same name as in tempest) rather then
  admin_volumes_client in the base class for admin volume tests;
- remove any usage and override of _api_version, which is not really used
  in the plugin, and it was also removed in tempest (see
  I6e05fbe21b29efa128fb59d16bf521d551b00304 )
  Even if unused, _api_version still pointed to the deprecated version 2
  for consistency group tests.

Change-Id: I3164662932a302b87ae2f346c0005bf7d0ab2927
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/76/840776/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py', 'cinder_tempest_plugin/api/volume/test_volume_revert.py', 'cinder_tempest_plugin/api/volume/admin/test_consistencygroups.py']",4,06201385c508c1af869bf982ad218bf8e521af1c,cleanup-client-definitions,, cls._api_version = 2 cls.admin_volume_client = cls.os_admin.volumes_v2_client,4,14
openstack%2Fglance-tempest-plugin~master~I7d5fa2f9b761d9466ed1534d12d87d19aa9644bb,openstack/glance-tempest-plugin,master,I7d5fa2f9b761d9466ed1534d12d87d19aa9644bb,zuul: remove devstack-gate dependency,NEW,2023-05-08 14:44:17.000000000,2023-05-30 12:23:30.000000000,,"[{'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-08 14:44:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/008f3d88edabcf7dfb1139db116be6b2d2f19e5b', 'message': 'zuul: remove devstack-gate dependency\n\ndevstack-gate is never needed in never zuul v3 jobs.\n\nChange-Id: I7d5fa2f9b761d9466ed1534d12d87d19aa9644bb\n'}]",1,882566,008f3d88edabcf7dfb1139db116be6b2d2f19e5b,4,3,1,10459,,,0,"zuul: remove devstack-gate dependency

devstack-gate is never needed in never zuul v3 jobs.

Change-Id: I7d5fa2f9b761d9466ed1534d12d87d19aa9644bb
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/66/882566/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,008f3d88edabcf7dfb1139db116be6b2d2f19e5b,no-devstack-gate,, - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate - openstack/devstack-gate,0,4
openstack%2Fneutron-dynamic-routing~master~Icd6803769f37a04bf7581afb9722c78a44737374,openstack/neutron-dynamic-routing,master,Icd6803769f37a04bf7581afb9722c78a44737374,Ignore disabled routers for advertising,NEW,2023-05-08 12:09:48.000000000,2023-05-30 12:20:26.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-08 12:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8e55adfb6a701d845c501f07153ff708af27d8d6', 'message': 'Ignore disabled routers for advertising\n\ncurrently if a router is set to disabled the dragents still advertise\nthe routes. This causes the upstream routers to still know these routes\nand try to forward packets to a non existing router.\n\nBy removing these routes we allow these upstream routers do directly\ndrop the traffic to these addresses instead of trying to forward it to\nneutron routers.\n\nChange-Id: Icd6803769f37a04bf7581afb9722c78a44737374\n'}, {'number': 2, 'created': '2023-05-08 13:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/07d4993142d923073056b0bf4559f103be78c47d', 'message': 'Ignore disabled routers for advertising\n\ncurrently if a router is set to disabled the dragents still advertise\nthe routes. This causes the upstream routers to still know these routes\nand try to forward packets to a non existing router.\n\nBy removing these routes we allow these upstream routers do directly\ndrop the traffic to these addresses instead of trying to forward it to\nneutron routers.\n\nCloses-Bug: 2018737\n\nChange-Id: Icd6803769f37a04bf7581afb9722c78a44737374\n'}, {'number': 3, 'created': '2023-05-17 11:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d1b2780650f94bdb4c8f18180bee8e674315396e', 'message': 'Ignore disabled routers for advertising\n\ncurrently if a router is set to disabled the dragents still advertise\nthe routes. This causes the upstream routers to still know these routes\nand try to forward packets to a non existing router.\n\nBy removing these routes we allow these upstream routers do directly\ndrop the traffic to these addresses instead of trying to forward it to\nneutron routers.\n\nCloses-Bug: 2018737\n\nChange-Id: Icd6803769f37a04bf7581afb9722c78a44737374\n'}, {'number': 4, 'created': '2023-05-17 12:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/85999235e9e3cc4b5e10c6144dfb1d6815d79c8f', 'message': 'Ignore disabled routers for advertising\n\ncurrently if a router is set to disabled the dragents still advertise\nthe routes. This causes the upstream routers to still know these routes\nand try to forward packets to a non existing router.\n\nBy removing these routes we allow these upstream routers do directly\ndrop the traffic to these addresses instead of trying to forward it to\nneutron routers.\n\nCloses-Bug: 2018737\n\nChange-Id: Icd6803769f37a04bf7581afb9722c78a44737374\n'}, {'number': 5, 'created': '2023-05-22 08:12:14.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d3d1a4ef473d979a82a5c0dfb9286e00d3ae9cb1', 'message': 'Ignore disabled routers for advertising\n\ncurrently if a router is set to disabled the dragents still advertise\nthe routes. This causes the upstream routers to still know these routes\nand try to forward packets to a non existing router.\n\nBy removing these routes we allow these upstream routers do directly\ndrop the traffic to these addresses instead of trying to forward it to\nneutron routers.\n\nCloses-Bug: 2018737\n\nChange-Id: Icd6803769f37a04bf7581afb9722c78a44737374\n'}]",23,882560,d3d1a4ef473d979a82a5c0dfb9286e00d3ae9cb1,16,3,5,29074,,,0,"Ignore disabled routers for advertising

currently if a router is set to disabled the dragents still advertise
the routes. This causes the upstream routers to still know these routes
and try to forward packets to a non existing router.

By removing these routes we allow these upstream routers do directly
drop the traffic to these addresses instead of trying to forward it to
neutron routers.

Closes-Bug: 2018737

Change-Id: Icd6803769f37a04bf7581afb9722c78a44737374
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/60/882560/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py']",4,8e55adfb6a701d845c501f07153ff708af27d8d6,ignore_disabled_router," def test_get_routes_by_bgp_speaker_id_with_fip_router_disabled(self): gw_prefix = '172.16.10.0/24' tenant_prefix = '10.10.10.0/24' tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, 'shared': True, 'name': 'bgp-scope'} scope = self.plugin.create_address_scope( self.context, {'address_scope': scope_data}) with self.router_with_external_and_tenant_networks( tenant_id=tenant_id, gw_prefix=gw_prefix, tenant_prefix=tenant_prefix, address_scope=scope) as res: router, ext_net, int_net = res self.l3plugin.update_router(self.context, router['id'], {'router': {'admin_state_up': False}}) gw_net_id = ext_net['network']['id'] tenant_net_id = int_net['network']['id'] fixed_port_data = {'port': {'name': 'test', 'network_id': tenant_net_id, 'tenant_id': tenant_id, 'admin_state_up': True, 'device_id': _uuid(), 'device_owner': 'compute:nova', 'mac_address': n_const.ATTR_NOT_SPECIFIED, 'fixed_ips': n_const.ATTR_NOT_SPECIFIED}} fixed_port = self.plugin.create_port(self.context, fixed_port_data) fip_data = {'floatingip': {'floating_network_id': gw_net_id, 'tenant_id': tenant_id, 'port_id': fixed_port['id']}} fip = self.l3plugin.create_floatingip(self.context, fip_data) with self.bgp_speaker(4, 1234, networks=[gw_net_id]) as speaker: bgp_speaker_id = speaker['id'] routes = self.bgp_plugin.get_routes_by_bgp_speaker_id( self.context, bgp_speaker_id) routes = list(routes) print(routes) self.assertEqual(0, len(routes)) ",,95,23
openstack%2Fcharm-hacluster~stable%2Fjammy~Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5,openstack/charm-hacluster,stable/jammy,Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5,Use get_property instead of get-property,MERGED,2023-02-28 17:33:58.000000000,2023-05-30 12:19:50.000000000,2023-05-30 12:19:50.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/339b44df0b864c6824b19888d680ee132e90edda', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 2, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/2fddc8b38d7d56a330036ba311f0583e12e66c58', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 3, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d9eedeaee8e9e17806c37a51632a1f7d501d2fb3', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 4, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/88480a59ed3ee3a59668b60c99388a08b206171c', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 5, 'created': '2023-05-29 19:27:14.000000000', 'files': ['unit_tests/test_pcmk.py', 'hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6909080a77aab7a13ab5e9695e5665b25f2df4e9', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}]",1,875768,6909080a77aab7a13ab5e9695e5665b25f2df4e9,16,4,5,2424,,,0,"Use get_property instead of get-property

hacluster uses the command ""crm configure get-property <CMD>"" to obtain
a property of the cluster, although ""get-property"" has been deprecated
in favor of ""get_property"", since crmsh-4.2.1 a warning is printed to
stdout[0] breaking the parsing.

    # crm configure get-property maintenance-mode 2>/dev/null
    WARNING: This command 'get-property' is deprecated, please use 'get_property'
    INFO: ""get-property"" is accepted as ""get_property""
    true

[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688

Change-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5
Closes-Bug: #2008704
(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/68/875768/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pcmk.py', 'hooks/pcmk.py']",2,339b44df0b864c6824b19888d680ee132e90edda,kinetic-stable/jammy," # get-property deprecated in favor of get_property (LP: #2008704) if crm_version() >= StrictVersion('4.2.1'): output = subprocess.check_output( ['crm', 'configure', 'get_property', name], universal_newlines=True) elif crm_version() >= StrictVersion('2.3.0'):", if crm_version() >= StrictVersion('2.3.0'):,14,1
openstack%2Fcharm-hacluster~stable%2Fjammy~I535233730733ed39cb49d122ecd35dab34a28f1a,openstack/charm-hacluster,stable/jammy,I535233730733ed39cb49d122ecd35dab34a28f1a,charm-helpers sync,MERGED,2023-02-28 17:35:44.000000000,2023-05-30 12:19:31.000000000,2023-05-30 12:19:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a2dec2400af461d2813f30f7add4bd19fca1629c', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 2, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e77b04b5f429a141f76e356fc151d18a5e7974f3', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 3, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/16c24cc02e4b3b1dd0fb1ed4f8014582ab5300aa', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 4, 'created': '2023-05-29 19:27:14.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/core/host.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/19615c8139383acb6c0d5aa40292c974612167a7', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}]",1,875770,19615c8139383acb6c0d5aa40292c974612167a7,15,4,4,2424,,,0,"charm-helpers sync

Change-Id: I535233730733ed39cb49d122ecd35dab34a28f1a
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/70/875770/3 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/core/host.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py']",24,a2dec2400af461d2813f30f7add4bd19fca1629c,kinetic-stable/jammy," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",461,336
openstack%2Fcharm-hacluster~stable%2Fjammy~I4e3bfbc5e9169b68b404b500f402dfce9ebaccac,openstack/charm-hacluster,stable/jammy,I4e3bfbc5e9169b68b404b500f402dfce9ebaccac,Update testing bundles,MERGED,2023-05-29 19:27:14.000000000,2023-05-30 12:19:30.000000000,2023-05-30 12:19:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 19:27:14.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e', 'message': 'Update testing bundles\n\nThis change reconfigures the bundles to use OpenStack yoga, the last\nversion that supports Focal and Jammy, this allows testing on a stable\nbase.\n\nFor the case of mysql the same principle is used when switching to the\n8.0/edge tracks\n\nChange-Id: I4e3bfbc5e9169b68b404b500f402dfce9ebaccac\nCloses-Bug: #1991528\n'}]",1,884641,88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e,8,4,1,2424,,,0,"Update testing bundles

This change reconfigures the bundles to use OpenStack yoga, the last
version that supports Focal and Jammy, this allows testing on a stable
base.

For the case of mysql the same principle is used when switching to the
8.0/edge tracks

Change-Id: I4e3bfbc5e9169b68b404b500f402dfce9ebaccac
Closes-Bug: #1991528
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/41/884641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e,kinetic-stable/jammy, channel: 8.0/edge channel: 8.0/edge channel: yoga/edge, channel: latest/edge channel: latest/edge channel: latest/edge,6,6
openstack%2Fcharm-hacluster~stable%2Fjammy~Iccd88d2e6bedcf87ae88b47f1296284224f7e406,openstack/charm-hacluster,stable/jammy,Iccd88d2e6bedcf87ae88b47f1296284224f7e406,Pin tox to < 4.0.0,MERGED,2023-01-20 20:11:23.000000000,2023-05-30 12:19:29.000000000,2023-05-30 12:19:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-20 20:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a1a8a799fe1887f83db8e705d835d63d127b3d51', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}, {'number': 2, 'created': '2023-02-28 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3ada99dfabd30e61dc694ad80a491e910f92576b', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}, {'number': 3, 'created': '2023-03-02 12:50:22.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0cd6218750641334d33adbee9b13b6291ac2be94', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}]",3,871368,0cd6218750641334d33adbee9b13b6291ac2be94,17,4,3,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/68/871368/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1a8a799fe1887f83db8e705d835d63d127b3d51,kinetic-stable/jammy, tox < 4.0.0,,1,0
openstack%2Fcharm-openstack-dashboard~stable%2Fyoga~I3f956ae811cb6c46b5e2ab31f1353678a35e623a,openstack/charm-openstack-dashboard,stable/yoga,I3f956ae811cb6c46b5e2ab31f1353678a35e623a,Handle JSON data from dashboard plugins,MERGED,2023-01-03 07:31:33.000000000,2023-05-30 12:02:48.000000000,2023-05-30 12:02:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 07:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2762336b4ac8c877c5cf730d0c9097ff56ab5c3f', 'message': 'Handle JSON data from dashboard plugins\n\nThe dashboard-plugin interface sends relation data json encoded but\nthe charm does not decode the local-settings key. This change decodes\nthe data. I have not been able to find any classic plugins that\nrely on sending raw data but to maintain backwards compatability\njust incase the charm will fallback to the old behaviour if the\nrelation data is not json encoded.\n\nChange-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a\nCloses-Bug: #1986538\n(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)\n'}, {'number': 2, 'created': '2023-05-26 16:58:27.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4de459a008cb119d4afc3803c3783f093dc79a6b', 'message': 'Handle JSON data from dashboard plugins\n\nThe dashboard-plugin interface sends relation data json encoded but\nthe charm does not decode the local-settings key. This change decodes\nthe data. I have not been able to find any classic plugins that\nrely on sending raw data but to maintain backwards compatability\njust incase the charm will fallback to the old behaviour if the\nrelation data is not json encoded.\n\nChange-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a\nCloses-Bug: #1986538\n(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)\n'}]",1,869036,4de459a008cb119d4afc3803c3783f093dc79a6b,11,4,2,12549,,,0,"Handle JSON data from dashboard plugins

The dashboard-plugin interface sends relation data json encoded but
the charm does not decode the local-settings key. This change decodes
the data. I have not been able to find any classic plugins that
rely on sending raw data but to maintain backwards compatability
just incase the charm will fallback to the old behaviour if the
relation data is not json encoded.

Change-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a
Closes-Bug: #1986538
(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/36/869036/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,2762336b4ac8c877c5cf730d0c9097ff56ab5c3f,bug/1986538-stable/yoga," def test_LocalSettingsContextJSON(self): self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] # One JSON and one raw relation self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': '""FOO = True""'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) ",,37,1
openstack%2Fcinder~master~Ic805477b76c41750f2e55d293214d77e75f95d51,openstack/cinder,master,Ic805477b76c41750f2e55d293214d77e75f95d51,Fix create volume error from source volume,NEW,2022-07-21 09:28:02.000000000,2023-05-30 11:40:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 35193}]","[{'number': 1, 'created': '2022-07-21 09:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fc387c603fe89c4c47549dbe342ff7990b5deca', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 2, 'created': '2022-08-10 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9d1f197a4b070cbe7d8d83a07a2209319cc562c', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 3, 'created': '2022-09-19 11:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da0150df4abb37132656386a6241776a0811613e', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 4, 'created': '2022-10-10 11:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3c902a88735f7a2e3c39d5bbe9c70251dcb9566', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 5, 'created': '2022-10-11 12:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d37fdc2dfded17c8e484e7af9af8f0b3b16c6a8', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 6, 'created': '2023-03-10 12:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e193f121f3e859234fdd69d6e5334f0c74d2d697', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 7, 'created': '2023-03-16 11:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd255733e96f4e70c172f3080450805a6c578ea0', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 8, 'created': '2023-03-22 11:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e760f1854830bf875dd3dd8554be769c8056562', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 9, 'created': '2023-05-18 10:15:58.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f97bd93430f8f150467ac62da4ca99e1ab9a6a4', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}]",3,850618,8f97bd93430f8f150467ac62da4ca99e1ab9a6a4,148,3,9,30615,,,0,"Fix create volume error from source volume

While creating a volume from a source volume if the source volume's
volume_type_id is none then set the source volume id to the currently
selected volume type's id.

Partial-Bug: #1589349
Change-Id: Ic805477b76c41750f2e55d293214d77e75f95d51
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/850618/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,3fc387c603fe89c4c47549dbe342ff7990b5deca,850618,"import copy temp_source_vol = copy.deepcopy(source_volume) if temp_source_vol.volume_type_id is None and volume_type.id: temp_source_vol.volume_type_id = volume_type.id elif volume_type.id != temp_source_vol.volume_type_id: temp_source_vol.volume_type,"," if volume_type.id != source_volume.volume_type_id: source_volume.volume_type,",6,2
openstack%2Fopenstacksdk~master~Ie4946407b6e591c98163a701ea2f126d13375788,openstack/openstacksdk,master,Ie4946407b6e591c98163a701ea2f126d13375788,Add image metadef_resource_type into the registry,MERGED,2023-05-26 15:42:19.000000000,2023-05-30 11:24:02.000000000,2023-05-30 11:22:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 15:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3db361853ab2bcd9f3ad8ff20fdbef0844b99eb2', 'message': 'Add image metadef_resource_type into the registry\n\nEvery resource should be present in the service registry to allow use of\ngeneralized functions (search_resources)\n\nChange-Id: Ie4946407b6e591c98163a701ea2f126d13375788\n'}, {'number': 2, 'created': '2023-05-29 10:39:02.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e186521d8f7ee81b159434092b04c2a3601f7e7', 'message': 'Add image metadef_resource_type into the registry\n\nEvery resource should be present in the service registry to allow use of\ngeneralized functions (search_resources)\n\nChange-Id: Ie4946407b6e591c98163a701ea2f126d13375788\n'}]",5,884518,2e186521d8f7ee81b159434092b04c2a3601f7e7,20,2,2,27900,,,0,"Add image metadef_resource_type into the registry

Every resource should be present in the service registry to allow use of
generalized functions (search_resources)

Change-Id: Ie4946407b6e591c98163a701ea2f126d13375788
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/18/884518/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,3db361853ab2bcd9f3ad8ff20fdbef0844b99eb2,,"_MRTA_TYPE_ALIAS = _metadef_resource_type.MetadefResourceTypeAssociation ""metadef_resource_type"": _metadef_resource_type.MetadefResourceType, ""metadef_resource_type_association"": _MRTA_TYPE_ALIAS,",,4,0
openstack%2Fkolla-ansible~stable%2Fzed~Ide0079ef4d28e3a3fa60288a74b936531c52ce60,openstack/kolla-ansible,stable/zed,Ide0079ef4d28e3a3fa60288a74b936531c52ce60,Fix the fluentd regexp to collect the logs,MERGED,2023-05-23 15:50:06.000000000,2023-05-30 11:16:49.000000000,2023-05-30 11:14:54.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-23 15:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e27415975907b7c8a84367a6d95b488275335ba7', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 2, 'created': '2023-05-24 13:59:38.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ed259ec07e89cdc1c4102fb33aa3fee30490170', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1][2][3].\nThis is to correct fluentd to use the same format.\n\n[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375\n[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be\n\n[3]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n(cherry picked from commit 900c2d20bb461111a37d37349b693bf8f8cb7135)\n'}]",0,883915,5ed259ec07e89cdc1c4102fb33aa3fee30490170,15,6,2,35976,,,0,"Fix the fluentd regexp to collect the logs

The default value of logging_context_format_string and
logging_user_identity_format has changed [1][2][3].
This is to correct fluentd to use the same format.

[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375
[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be

[3]https://review.opendev.org/c/openstack/oslo.log/+/838185

Closes-Bug: #1872220

Change-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60
(cherry picked from commit 900c2d20bb461111a37d37349b693bf8f8cb7135)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/883915/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,e27415975907b7c8a84367a6d95b488275335ba7,fluentd_regexp-stable/zed, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(\S+ req-\S+ \S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[((?<global_request_id>\S+) req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<system_scope>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/,2,2
openstack%2Fkolla~stable%2Fyoga~I2e5601229c02953a570be3dd96f8649c362cd059,openstack/kolla,stable/yoga,I2e5601229c02953a570be3dd96f8649c362cd059,CI: Fix centos9 builds and drop unnecessary zuul vars,MERGED,2023-05-26 12:27:06.000000000,2023-05-30 11:16:49.000000000,2023-05-30 11:14:52.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-05-26 12:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/28bc453d2930a0accbd15577c046f1ecf74801fe', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 2, 'created': '2023-05-26 12:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d800dfcb681ff634f975bd76a6d0c5f820df27d', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 3, 'created': '2023-05-26 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/17fe689a8e055115e8c4f31b8bc2dd51d21818d6', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 4, 'created': '2023-05-26 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44b339d9d968ef0054b7610a7fc7da1008389209', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 5, 'created': '2023-05-26 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23607a095980126bb430e8043e387596d1c0798c', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 6, 'created': '2023-05-26 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a752964b6bfc409e5d5232bfa2222eaf332fa70', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 7, 'created': '2023-05-29 05:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3524c3a230019d8925d37738c23245eb1c96d111', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 8, 'created': '2023-05-29 08:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa292da9b1ebf9091fffa63dc0f67fd86f38543e', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 9, 'created': '2023-05-29 11:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f01f1a439364c91c1a6667f70c89bf0f5876088e', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 10, 'created': '2023-05-29 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d7946878811d5bfdad3b084a802dd8fa2f2cfc0', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 11, 'created': '2023-05-29 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56e5af4f07c97de6cd14aebf0ad6bba8c6bf4bd8', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 12, 'created': '2023-05-29 16:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71379bc95725bce7d725dfc4432847b340c7bfc9', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 13, 'created': '2023-05-29 17:16:53.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/run.yml', '.zuul.d/centos.yaml', 'docker/base/Dockerfile.j2', '.zuul.d/rocky.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c0a62a9526a366651ae7ce0a96676b18221b97f', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}]",8,884487,9c0a62a9526a366651ae7ce0a96676b18221b97f,46,4,13,22629,,,0,"CI: Fix centos9 builds and drop unnecessary zuul vars

Change-Id: I2e5601229c02953a570be3dd96f8649c362cd059
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/884487/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/rocky.yaml']",2,28bc453d2930a0accbd15577c046f1ecf74801fe,,," vars: base_distro: ""rocky"" kolla_python_version: ""3.9"" vars: base_distro: ""rocky"" kolla_python_version: ""3.9""",2,8
openstack%2Fswift~master~Iccf43ec7d355e26ae4efe58b167ffccd89b158b3,openstack/swift,master,Iccf43ec7d355e26ae4efe58b167ffccd89b158b3,Refactor for extract closure to method,MERGED,2023-05-11 15:22:36.000000000,2023-05-30 10:55:59.000000000,2023-05-30 10:54:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/07169f09597eba21ae20e72cc63bf8893c9159a3', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 2, 'created': '2023-05-16 05:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a99b300f37a7365461d6cb76ce8d44ebcbe855b8', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 3, 'created': '2023-05-18 18:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6a79613202dcd78011a775c94b813770c6a23e06', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 4, 'created': '2023-05-18 18:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37a7a5d6a23208c57184455b05b7100fa14b0f16', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 5, 'created': '2023-05-18 22:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/244abcd9e4ec04c08593d16001355c544280e941', 'message': 'Refactor for extract closure to method\nand replace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 6, 'created': '2023-05-18 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/50f3ee842eff077333b1a23c8a941d00e40054c5', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 7, 'created': '2023-05-21 22:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e75d3f3f476fa22951807b2e095f5443efa220fc', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 8, 'created': '2023-05-22 17:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f463c72970b4aa0c1f8f04d2f917172c67bf5bb', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 9, 'created': '2023-05-23 18:38:04.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fd6a1ad659a0c1eee1c50206117f5f74b7c34d6f', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}]",55,882973,fd6a1ad659a0c1eee1c50206117f5f74b7c34d6f,44,3,9,35790,,,0,"Refactor for extract closure to method

Change-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/882973/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/base.py'],1,07169f09597eba21ae20e72cc63bf8893c9159a3,refac," def get_next_doc_part(self): while True: try: # This call to next() performs IO when we have a # multipart/byteranges response; it reads the MIME # boundary and part headers. # # If we don't have a multipart/byteranges response, # but just a 200 or a single-range 206, then this # performs no IO, and either just returns source or # raises StopIteration. with WatchdogTimeout(self.app.watchdog, self.node_timeout, ChunkReadTimeout): # if StopIteration is raised, it escapes and is # handled elsewhere start_byte, end_byte, length, headers, part = next( self.parts_iter[0]) return (start_byte, end_byte, length, headers, part) except ChunkReadTimeout: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source[0], 'swift_conn', None): close_swift_conn(self.source[0]) self.source[0] = new_source self.node[0] = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. self.parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: raise StopIteration() def iter_bytes_from_response_part(self, part_file, nbytes): nchunks = 0 buf = b'' part_file = ByteCountEnforcer(part_file, nbytes) while True: try: with WatchdogTimeout(self.app.watchdog, self.node_timeout, ChunkReadTimeout): chunk = part_file.read(self.app.object_chunk_size) nchunks += 1 # NB: this append must be *inside* the context # manager for test.unit.SlowBody to do its thing buf += chunk if nbytes is not None: nbytes -= len(chunk) except (ChunkReadTimeout, ShortReadError): exc_type, exc_value, exc_traceback = exc_info() if self.newest or self.server_type != 'Object': raise try: self.fast_forward(self.bytes_used_from_backend) except (HTTPException, ValueError): six.reraise(exc_type, exc_value, exc_traceback) except RangeAlreadyComplete: break buf = b'' new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source[0], 'swift_conn', None): close_swift_conn(self.source[0]) self.source[0] = new_source self.node[0] = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. self.parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) try: _junk, _junk, _junk, _junk, part_file = \ self.get_next_doc_part(self) except StopIteration: # Tried to find a new node from which to # finish the GET, but failed. There's # nothing more we can do here. six.reraise(exc_type, exc_value, exc_traceback) part_file = ByteCountEnforcer(part_file, nbytes) else: six.reraise(exc_type, exc_value, exc_traceback) else: if buf and self.skip_bytes: if self.skip_bytes < len(buf): buf = buf[self.skip_bytes:] self.bytes_used_from_backend += self.skip_bytes self.skip_bytes = 0 else: self.skip_bytes -= len(buf) self.bytes_used_from_backend += len(buf) buf = b'' if not chunk: if buf: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' break if self.client_chunk_size is not None: while len(buf) >= self.client_chunk_size: client_chunk = buf[:self.client_chunk_size] buf = buf[self.client_chunk_size:] with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += \ len(client_chunk) yield client_chunk else: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' # This is for fairness; if the network is outpacing # the CPU, we'll always be able to read and write # data without encountering an EWOULDBLOCK, and so # eventlet will not switch greenthreads on its own. # We do it manually so that clients don't starve. # # The number 5 here was chosen by making stuff up. # It's not every single chunk, but it's not too big # either, so it seemed like it would probably be an # okay choice. # # Note that we may trampoline to other greenthreads # more often than once every 5 chunks, depending on # how blocking our network IO is; the explicit sleep # here simply provides a lower bound on the rate of # trampolining. if nchunks % 5 == 0: sleep() self.get_next_doc_part() part_iter = self.iter_bytes_from_response_part( part, byte_count)"," def get_next_doc_part(): while True: try: # This call to next() performs IO when we have a # multipart/byteranges response; it reads the MIME # boundary and part headers. # # If we don't have a multipart/byteranges response, # but just a 200 or a single-range 206, then this # performs no IO, and either just returns source or # raises StopIteration. with WatchdogTimeout(self.app.watchdog, node_timeout, ChunkReadTimeout): # if StopIteration is raised, it escapes and is # handled elsewhere start_byte, end_byte, length, headers, part = next( parts_iter[0]) return (start_byte, end_byte, length, headers, part) except ChunkReadTimeout: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(source[0], 'swift_conn', None): close_swift_conn(source[0]) source[0] = new_source node[0] = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: raise StopIteration() def iter_bytes_from_response_part(part_file, nbytes): nchunks = 0 buf = b'' part_file = ByteCountEnforcer(part_file, nbytes) while True: try: with WatchdogTimeout(self.app.watchdog, node_timeout, ChunkReadTimeout): chunk = part_file.read(self.app.object_chunk_size) nchunks += 1 # NB: this append must be *inside* the context # manager for test.unit.SlowBody to do its thing buf += chunk if nbytes is not None: nbytes -= len(chunk) except (ChunkReadTimeout, ShortReadError): exc_type, exc_value, exc_traceback = exc_info() if self.newest or self.server_type != 'Object': raise try: self.fast_forward(self.bytes_used_from_backend) except (HTTPException, ValueError): six.reraise(exc_type, exc_value, exc_traceback) except RangeAlreadyComplete: break buf = b'' new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(source[0], 'swift_conn', None): close_swift_conn(source[0]) source[0] = new_source node[0] = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) try: _junk, _junk, _junk, _junk, part_file = \ get_next_doc_part() except StopIteration: # Tried to find a new node from which to # finish the GET, but failed. There's # nothing more we can do here. six.reraise(exc_type, exc_value, exc_traceback) part_file = ByteCountEnforcer(part_file, nbytes) else: six.reraise(exc_type, exc_value, exc_traceback) else: if buf and self.skip_bytes: if self.skip_bytes < len(buf): buf = buf[self.skip_bytes:] self.bytes_used_from_backend += self.skip_bytes self.skip_bytes = 0 else: self.skip_bytes -= len(buf) self.bytes_used_from_backend += len(buf) buf = b'' if not chunk: if buf: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' break if client_chunk_size is not None: while len(buf) >= client_chunk_size: client_chunk = buf[:client_chunk_size] buf = buf[client_chunk_size:] with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += \ len(client_chunk) yield client_chunk else: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' # This is for fairness; if the network is outpacing # the CPU, we'll always be able to read and write # data without encountering an EWOULDBLOCK, and so # eventlet will not switch greenthreads on its own. # We do it manually so that clients don't starve. # # The number 5 here was chosen by making stuff up. # It's not every single chunk, but it's not too big # either, so it seemed like it would probably be an # okay choice. # # Note that we may trampoline to other greenthreads # more often than once every 5 chunks, depending on # how blocking our network IO is; the explicit sleep # here simply provides a lower bound on the rate of # trampolining. if nchunks % 5 == 0: sleep() get_next_doc_part() part_iter = iter_bytes_from_response_part(part, byte_count)",152,151
openstack%2Fcharm-trilio-dm-api~master~I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b,openstack/charm-trilio-dm-api,master,I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b,DNM - testing check only.,NEW,2023-05-30 10:24:27.000000000,2023-05-30 10:33:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 10:24:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f', 'message': 'DNM - testing check only.\n\nChange-Id: I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b\n'}]",0,884676,a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f,3,2,1,935,,,0,"DNM - testing check only.

Change-Id: I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/76/884676/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f,dnm-recheck,c1263937-a178-4b1d-b1f8-a6d83372ae03,,1,0
openstack%2Fci-log-processing~master~Ic40c67e0bf78a75931ceae55824f5664b9aada14,openstack/ci-log-processing,master,Ic40c67e0bf78a75931ceae55824f5664b9aada14,Try to always download build log files,MERGED,2023-03-07 08:03:27.000000000,2023-05-30 10:21:26.000000000,2023-05-30 10:20:33.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 11810}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-07 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/10a6ad8be15836a6ea06668338a7e30e5adacf68', 'message': 'Try to always download build log files\n\nIt seems that currently Zuul provides more information about\nbuilds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".\nLet\'s try to download the log files when the log_url is provided.\n\nChange-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14\n'}, {'number': 2, 'created': '2023-05-16 06:22:32.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/36e124a19754af105acece863749484db01a77b5', 'message': 'Try to always download build log files\n\nIt seems that currently Zuul provides more information about\nbuilds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".\nLet\'s try to download the log files when the log_url is provided.\n\nChange-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14\n'}]",0,876691,36e124a19754af105acece863749484db01a77b5,10,6,2,20676,,,0,"Try to always download build log files

It seems that currently Zuul provides more information about
builds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".
Let's try to download the log files when the log_url is provided.

Change-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/91/876691/2 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py']",2,10a6ad8be15836a6ea06668338a7e30e5adacf68,," if 'log_url' in build and build[""log_url""]: # NOTE: if build result does not contain 'log_url', so there is # no result files to parse, but we would like to have that","def is_job_with_result(job_result): results_with_status = ['failure', 'success', 'timed_out'] if (job_result[""result""].lower() in results_with_status and job_result[""log_url""]): return True if is_job_with_result(build): # NOTE: if build result is ""ABORTED"" or ""NODE_FAILURE, there is # no any job result files to parse, but we would like to have that",4,11
openstack%2Fopenstack-ansible-openstack_hosts~master~I548581befc186db64fb7006dd862bfdc50e5e767,openstack/openstack-ansible-openstack_hosts,master,I548581befc186db64fb7006dd862bfdc50e5e767,Allow different /etc/hosts content per host,NEW,2023-05-30 08:22:50.000000000,2023-05-30 10:11:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 08:22:50.000000000', 'files': ['tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8ed8076cc5fd6898e5fe7ba4db1fc474e1a6f9c5', 'message': 'Allow different /etc/hosts content per host\n\nChange-Id: I548581befc186db64fb7006dd862bfdc50e5e767\n'}]",0,884659,8ed8076cc5fd6898e5fe7ba4db1fc474e1a6f9c5,2,1,1,34653,,,0,"Allow different /etc/hosts content per host

Change-Id: I548581befc186db64fb7006dd862bfdc50e5e767
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/59/884659/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_update_hosts_file.yml'],1,8ed8076cc5fd6898e5fe7ba4db1fc474e1a6f9c5,multiceph,, run_once: true,0,1
openstack%2Fneutron~master~I936855214c635de0e89d5d13a86562f5b282633c,openstack/neutron,master,I936855214c635de0e89d5d13a86562f5b282633c,"Improve ""sync_ha_chassis_group"" method",MERGED,2023-01-27 15:19:06.000000000,2023-05-30 10:08:51.000000000,2023-05-30 10:07:42.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-27 15:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de39eea00b9c885112742341f347c75ac1c60634', 'message': 'WIP - Improve sync_ha_chassis_group\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 2, 'created': '2023-01-27 17:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93f94e83e25bcfbd66ef158a5b75f66cff026b89', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 3, 'created': '2023-01-27 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1b601dbf898660382dc49dd478c75c5a9fa0611', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 4, 'created': '2023-02-01 12:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4856a256de77d83253e8f3c868c41c5f801641d', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 5, 'created': '2023-02-03 17:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56fc2b9e77a0a90287142bfaba848eed1e9d0a24', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 6, 'created': '2023-02-17 08:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbfc636c70d0acded5108836ec6efdadead1b9b8', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 7, 'created': '2023-02-17 11:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/beee06a9d3f501ed07b258160c11fb082081b507', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 8, 'created': '2023-02-17 11:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab11e3c7ab4c83a928d06bd44fa255c0d5e09bad', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 9, 'created': '2023-02-17 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e91928c5b98cde43fc54af76c4f2b9c3d0b1594', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 10, 'created': '2023-02-20 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c79e3800f4ed2f5f0a53421a0b19b1af91ea7747', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 11, 'created': '2023-02-20 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43e8b83ee4c94bfb656bcbc8a55415acdf7e0c90', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 12, 'created': '2023-02-21 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bde2fe45f68c3a7d74b562d89e07d7a12f2cc53', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 13, 'created': '2023-03-01 15:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b834b2ee17fdada085a78586696649f18adc9cbf', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 14, 'created': '2023-03-24 14:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33ec32063692c6628e4a39ce9e77c5531bceb1a9', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 15, 'created': '2023-04-19 07:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64cddc8b00361b2155797e2880ca198211f43b5e', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 16, 'created': '2023-05-09 09:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3226351269dc47f527e8637c9a01e7f22bf76a0', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 17, 'created': '2023-05-09 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/627b9493ca6ccf61900eedd6e12d0415be35bf87', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 18, 'created': '2023-05-24 08:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b2518f9b6d345d49ba73579ffa62efb1ba87a7', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 19, 'created': '2023-05-24 08:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcffdbf927f03ca841baebb0b74a63fe19a546d7', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 20, 'created': '2023-05-24 14:37:31.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'requirements.txt', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac231c817473c018dde8fa31594b1c9a78a36c13', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}]",15,872023,ac231c817473c018dde8fa31594b1c9a78a36c13,100,5,20,16688,,,0,"Improve ""sync_ha_chassis_group"" method

The method ""sync_ha_chassis_group"" now creates (or retrieves) a
HA Chassis Group register and updates the needed HA Chassis registers
in a single transaction. That is possible using the new ovsdbapp
release 2.2.1 (check the depends-on patch).

Depends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836

Related-Bug: #1995078
Change-Id: I936855214c635de0e89d5d13a86562f5b282633c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/872023/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",4,de39eea00b9c885112742341f347c75ac1c60634,bug/1995078,"# Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import functools from unittest import mock import fixtures as og_fixtures from neutron_lib.api.definitions import allowedaddresspairs from neutron_lib.api.definitions import external_net from neutron_lib.api.definitions import portbindings from neutron_lib.plugins import constants as plugin_constants from neutron_lib.plugins import directory from oslo_concurrency import processutils from oslo_utils import timeutils from oslo_utils import uuidutils from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from neutron.common.ovn import constants as ovn_const from neutron.common import utils as n_utils from neutron.conf.plugins.ml2.drivers.ovn import ovn_conf from neutron.db import ovn_hash_ring_db as db_hash_ring from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.plugins.ml2.drivers.ovn.mech_driver import mech_driver from neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor from neutron.tests.functional import base from neutron.tests.functional.resources.ovsdb import events as test_events from neutron.tests.functional.resources.ovsdb import fixtures from neutron.tests.functional.resources import process from neutron.tests.unit.api import test_extensions from neutron.tests.unit.extensions import test_l3 class TestNBDbMonitor(base.TestOVNFunctionalBase): def setUp(self, **kwargs): super().setUp(**kwargs) ",,136,34
openstack%2Fmanila~master~Id2c09ebab874ec983da7f26370932d46a0447801,openstack/manila,master,Id2c09ebab874ec983da7f26370932d46a0447801,onlyHostFilter: Fix follow-up suggestions.,MERGED,2022-01-14 15:31:02.000000000,2023-05-30 09:52:19.000000000,2023-05-30 09:51:06.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2022-01-14 15:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b68f52169017d09da535f28e900c9d370d9793b2', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake\n3. Add new hostAdmin RBAC policyk which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 2, 'created': '2022-01-14 15:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d7c37f118f7251c64d40cdd301735b67999eed2', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 3, 'created': '2022-02-24 12:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/53a93a8237323eeeb83d2b68ea370e1124aed5b1', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 4, 'created': '2022-02-27 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fc847d38de41829dda5788b0dac8e8233af0e7ad', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 5, 'created': '2022-03-24 19:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6323c6360cbeaf4bca0650883c88048d160ad7ae', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 6, 'created': '2022-04-30 11:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d5100e1ce62e78afc9c4a1a42074c9f279f27a5', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 7, 'created': '2022-05-07 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fb44f1e95d906950549f8a2a6ccba0c9c631c961', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 8, 'created': '2022-05-09 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a0147ded9b8ff5a3dc1b25f6d7247c98f6a2a3c7', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 9, 'created': '2022-05-09 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b0c53367e26f2a5fa7c20dd310fc5385731ffabe', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince project-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 10, 'created': '2022-07-12 15:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ea6907f6f9f16a68ef85c620e7c6cc329ba0b47', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 11, 'created': '2022-08-17 11:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5542953e96b422737f8ac50db2c1a428452e8d26', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 12, 'created': '2022-08-30 09:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/adccbc8b9f449dd9514c0c8502f8e477d22a6a00', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 13, 'created': '2022-08-31 06:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/980fc67fdc1e584b097730b0cf21bed594e50a37', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 14, 'created': '2022-10-25 09:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/84ea60afdc350b8d3d669bbd790a8ab07968bc02', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 15, 'created': '2022-12-19 18:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/994976c74a38627fc2620c9c5fc3ec9e228f51de', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 16, 'created': '2023-02-27 09:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/360adf6b6960e7fa073b856fda82f3eb024b934e', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 17, 'created': '2023-05-23 07:11:05.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/tests/policy.yaml', 'manila/tests/share/test_api.py', 'manila/policy.py', 'manila/share/api.py', 'manila/scheduler/filters/host.py', 'manila/policies/base.py', 'manila/api/views/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8eb38ac41a776f0878368efa2a083830eded9589', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}]",43,824726,8eb38ac41a776f0878368efa2a083830eded9589,142,8,17,32919,,,0,"onlyHostFilter: Fix follow-up suggestions.

1. Change context as first argument to function.
2. Fix spelling mistake in version history
3. Add new host_admin RBAC policy which is applied in onlyHostFilter
since non-admin user as well needs to create share on specific host.

Change-Id: Id2c09ebab874ec983da7f26370932d46a0447801
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/824726/7 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'manila/tests/policy.yaml', 'manila/tests/share/test_api.py', 'manila/policy.py', 'manila/share/api.py', 'manila/scheduler/filters/host.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/policies/base.py']",8,b68f52169017d09da535f28e900c9d370d9793b2,bug/1946462," policy.RuleDefault( name='context_is_hostAdmin', check_str=SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Privileged user who can select host during scheduling', scope_types=['system', 'project']), ",,28,11
openstack%2Fcharm-hacluster~stable%2Fjammy~I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f,openstack/charm-hacluster,stable/jammy,I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f,Add kinetic support,NEW,2023-02-28 17:33:58.000000000,2023-05-30 09:50:23.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/7fdc78f741e6dc8ed280832c26a2822e2463a050', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 2, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6de7ddc0ef564a018af716510cf6717db992dd87', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 3, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/13b86ab4dedce8e251521821869f892af993484e', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 4, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b9f811ccc5b4f7dfe29e3f2d676b27e0602fa3aa', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 5, 'created': '2023-05-29 19:27:14.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'tests/tests.yaml', 'osci.yaml', 'charmcraft.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/968c98538ce98c6c30363a27b2cc5e4ec30208f2', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}]",1,875769,968c98538ce98c6c30363a27b2cc5e4ec30208f2,12,2,5,2424,,,0,"Add kinetic support

Summary of changes:
- add kinetic to metadata.yaml
- add 21.10 to run-on in charmcraft.yaml
- add kinetic-zed testing bundle

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014
Related-Bug: #1972730
Change-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f
(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/69/875769/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'tests/tests.yaml', 'osci.yaml', 'charmcraft.yaml', 'metadata.yaml']",5,7fdc78f741e6dc8ed280832c26a2822e2463a050,kinetic-stable/jammy,- kinetic,,66,0
openstack%2Fovn-octavia-provider~master~I6e132ab5c23c9c53176612f74bb500e46c89024f,openstack/ovn-octavia-provider,master,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-04-21 08:28:36.000000000,2023-05-30 09:47:23.000000000,2023-05-30 09:46:28.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-21 08:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6a7f6e1698ff3688f7b9919b7e36492091442eac', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 2, 'created': '2023-04-21 10:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c4111fd2d8c9c64252459ec691ab6df7a4160bc8', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 3, 'created': '2023-05-18 12:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4f155d6b610c0df20ac53e7e0d47800d15277af0', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 4, 'created': '2023-05-23 06:58:17.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5f27384805bd2dd50602d3656d5f5df6c284f897', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}]",4,881198,5f27384805bd2dd50602d3656d5f5df6c284f897,19,4,4,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/98/881198/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,6a7f6e1698ff3688f7b9919b7e36492091442eac,," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fkolla-ansible~master~I414f063abd0c0b77c3db302b4860c264d5c299a3,openstack/kolla-ansible,master,I414f063abd0c0b77c3db302b4860c264d5c299a3,CI: cephadm: add errexit,ABANDONED,2023-01-19 16:11:20.000000000,2023-05-30 09:14:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-19 16:11:20.000000000', 'files': ['roles/cephadm/templates/commands.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05af7e3ec8eb80f375602ed54080e07eeac22fb8', 'message': ""CI: cephadm: add errexit\n\nNow the commands.sh script doesn't exit on failure.\n\nChange-Id: I414f063abd0c0b77c3db302b4860c264d5c299a3\n""}]",0,871112,05af7e3ec8eb80f375602ed54080e07eeac22fb8,4,1,1,22629,,,0,"CI: cephadm: add errexit

Now the commands.sh script doesn't exit on failure.

Change-Id: I414f063abd0c0b77c3db302b4860c264d5c299a3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/871112/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/templates/commands.sh.j2'],1,05af7e3ec8eb80f375602ed54080e07eeac22fb8,,set -o errexit ,,2,0
openstack%2Fkolla-ansible~master~I154d6577ce8cda59f0d6833b11d2e6836acee440,openstack/kolla-ansible,master,I154d6577ce8cda59f0d6833b11d2e6836acee440,Update docs about dns_servers for OVN,NEW,2023-05-26 08:22:57.000000000,2023-05-30 09:07:06.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 08:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa85656f9933a417c118059813bb6a69eeef11a5', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 2, 'created': '2023-05-26 08:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a984407563af23323f42c30877822c82eb57643c', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 3, 'created': '2023-05-26 08:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88a6070e3ce176a6479cef24b4262e9b0fdd4e1d', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 4, 'created': '2023-05-26 09:08:21.000000000', 'files': ['releasenotes/notes/add-ovn-dns-2626a31f9711192b.yaml', 'doc/source/reference/networking/neutron.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f5208388eb398332c4e1a86cfa58e211bba5cea', 'message': 'Update docs about dns_servers for OVN\n\nNeutron OVN has the suprizing default of having no working\nDNS for all instances by default. If users set an appropriate\nDNS on the network.\n\nAs a community, it was decided not to add an override for\nthis, and not to change the default setting to make it more\nsimilar to OVS ML2, in part as the upgrade path is very\nunclear for uesers of the cloud that happen to have manually\noverriden their resolv.conf, rather than settings DNS servers\non their neutron network. For discussion see:\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/818362\n\nCloses-Bug: 1951568\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}]",12,884460,3f5208388eb398332c4e1a86cfa58e211bba5cea,12,3,4,782,,,0,"Update docs about dns_servers for OVN

Neutron OVN has the suprizing default of having no working
DNS for all instances by default. If users set an appropriate
DNS on the network.

As a community, it was decided not to add an override for
this, and not to change the default setting to make it more
similar to OVS ML2, in part as the upgrade path is very
unclear for uesers of the cloud that happen to have manually
overriden their resolv.conf, rather than settings DNS servers
on their neutron network. For discussion see:
https://review.opendev.org/c/openstack/kolla-ansible/+/818362

Closes-Bug: 1951568

Change-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/884460/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/group_vars/all.yml']",2,fa85656f9933a417c118059813bb6a69eeef11a5,,"neutron_ovn_dns_servers: ""1.1.1.1,8.8.8.8,8.8.4.4""",,2,0
openstack%2Fbifrost~master~I8027f9d4e5b47a3c448a87cffe3433c26655fd7f,openstack/bifrost,master,I8027f9d4e5b47a3c448a87cffe3433c26655fd7f,Fix no-free-form linter warnings,MERGED,2023-02-23 09:19:51.000000000,2023-05-30 08:56:27.000000000,2023-05-30 08:55:33.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-23 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/65a3990d845d05fd90d81f7ea9100e2f83c28877', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 2, 'created': '2023-03-12 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/682c9dac3a6992269214e0136debdcf524023e7b', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 3, 'created': '2023-03-12 20:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/79055672429b33d13fcd7a75dd1a2e64844c07bc', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 4, 'created': '2023-03-12 22:57:47.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-test-vm/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6b2fb255a84b55b0e02610b295738a98126e35a4', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}]",8,874852,6b2fb255a84b55b0e02610b295738a98126e35a4,29,4,4,25600,,,0,"Fix no-free-form linter warnings

Change-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/874852/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-test-vm/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml']",19,65a3990d845d05fd90d81f7ea9100e2f83c28877,linters, file: name: /opt/stack state: directory owner: root group: root, file: name=/opt/stack state=directory owner=root group=root,147,63
openstack%2Fkayobe-config-dev~master~Ic57af218e52d050cec06fa2246d078f5ed792fa8,openstack/kayobe-config-dev,master,Ic57af218e52d050cec06fa2246d078f5ed792fa8,2023.1 RC1 - Sync defaults with Kayobe,MERGED,2023-05-26 10:18:01.000000000,2023-05-30 08:54:37.000000000,2023-05-30 08:54:37.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-26 10:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/2e8e0b46a2e18e57eeb628010cc77c51ba123b98', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8\n'}, {'number': 2, 'created': '2023-05-26 12:49:15.000000000', 'files': ['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/c558f2101b8db7dd2b3c051aeb3d173f7a609d05', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8\n'}]",3,884477,c558f2101b8db7dd2b3c051aeb3d173f7a609d05,16,5,2,35263,,,0,"2023.1 RC1 - Sync defaults with Kayobe

Change-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/77/884477/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml']",3,2e8e0b46a2e18e57eeb628010cc77c51ba123b98,,"# Name of the current OpenStack release. Default is ""2023.1"".# Name of the current OpenStack branch. Default is ""stable/2023.1"".","# Name of the current OpenStack release. Default is ""zed"".# Name of the current OpenStack branch. Default is ""stable/zed"".",20,8
openstack%2Fovsdbapp~master~I57e0caa4e604a1152f5015a6aabf3b52349b3a02,openstack/ovsdbapp,master,I57e0caa4e604a1152f5015a6aabf3b52349b3a02,Add support for ecmp routes,MERGED,2023-05-10 10:54:55.000000000,2023-05-30 08:35:00.000000000,2023-05-30 08:34:00.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-05-10 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6f7d76f2f74051021ab38c1797555f0e01778d1f', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}, {'number': 2, 'created': '2023-05-10 12:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/19c9291e736d655249629c9bf577631a83cb3548', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}, {'number': 3, 'created': '2023-05-16 07:07:20.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/cc1ddf6a9e71c7a35be776e78a94af090f50c3f9', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}]",11,882268,cc1ddf6a9e71c7a35be776e78a94af090f50c3f9,21,5,3,23567,,,0,"Add support for ecmp routes

Add ECMP support so that routes with different nexthops but
same ip_prefix can be added

Change-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/68/882268/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,6f7d76f2f74051021ab38c1797555f0e01778d1f,," ecmp=False, **kwargs): sr = self.api.lr_route_add(lr.uuid, prefix, nexthop, port, ecmp, def test_lr_route_add_exists_ecmp(self): router_name = utils.get_rand_device_name() self._lr_add_route(router_name) self._lr_add_route(router_name, ecmp=True) "," **kwargs): sr = self.api.lr_route_add(lr.uuid, prefix, nexthop, port,",18,6
openstack%2Fkayobe-config~master~I3243666f99ce0f24d4eb4756aa6d35fced5c51cb,openstack/kayobe-config,master,I3243666f99ce0f24d4eb4756aa6d35fced5c51cb,2023.1 RC1 - Sync defaults with Kayobe,MERGED,2023-05-26 10:01:16.000000000,2023-05-30 08:01:28.000000000,2023-05-30 08:01:28.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-26 10:01:16.000000000', 'files': ['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/e1f520ca3378c9c28f81aba75d41f447dc73fea8', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: I3243666f99ce0f24d4eb4756aa6d35fced5c51cb\n'}]",0,884473,e1f520ca3378c9c28f81aba75d41f447dc73fea8,9,5,1,35263,,,0,"2023.1 RC1 - Sync defaults with Kayobe

Change-Id: I3243666f99ce0f24d4eb4756aa6d35fced5c51cb
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/73/884473/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml']",3,e1f520ca3378c9c28f81aba75d41f447dc73fea8,,"# Name of the current OpenStack release. Default is ""2023.1"".# Name of the current OpenStack branch. Default is ""stable/2023.1"".","# Name of the current OpenStack release. Default is ""zed"".# Name of the current OpenStack branch. Default is ""stable/zed"".",20,7
openstack%2Fdesignate~master~I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf,openstack/designate,master,I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf,[DNM] Do we still need this workaround,ABANDONED,2023-01-31 07:17:10.000000000,2023-05-30 07:43:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-31 07:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/13dacee125893289cf4407019a697a0a50a787a2', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 2, 'created': '2023-02-18 04:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/863336bb8e1284be0e64ba0ec206534e6dc2c01d', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 3, 'created': '2023-02-18 06:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eb93bbb0774d3c3891ff407a13ada1bab9a4f03f', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 4, 'created': '2023-02-19 01:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/60178233f674194477c6c829d0055a0db2b47608', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 5, 'created': '2023-05-30 07:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/26f6f3c73bc5cd1bbc4fbd2b5e1c3b4e9ba1de64', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 6, 'created': '2023-05-30 07:08:56.000000000', 'files': ['devstack/lib/wsgi'], 'web_link': 'https://opendev.org/openstack/designate/commit/27822ccc82af32732c1f095b0aed390966eb6b78', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}]",1,872133,27822ccc82af32732c1f095b0aed390966eb6b78,18,1,6,22623,,,0,"[DNM] Do we still need this workaround

Change-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf
",git fetch https://review.opendev.org/openstack/designate refs/changes/33/872133/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/wsgi'],1,13dacee125893289cf4407019a697a0a50a787a2,,," wsgi_conf=$(apache_site_config_for designate-api-wsgi) echo 'ProxyPass ""/dns"" ""http://127.0.0.1:60053"" retry=0' | sudo tee $wsgi_conf iniset $DESIGNATE_UWSGI_CONF uwsgi http-socket 127.0.0.1:60053",0,4
openstack%2Fcharm-nova-k8s~main~Iaba2f8c0139c58c12843542dc0d19944100e6224,openstack/charm-nova-k8s,main,Iaba2f8c0139c58c12843542dc0d19944100e6224,Update bundle to use antelope charms,MERGED,2023-05-29 13:52:43.000000000,2023-05-30 07:43:04.000000000,2023-05-30 07:13:12.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:52:43.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Iaba2f8c0139c58c12843542dc0d19944100e6224\n'}]",0,884621,d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Iaba2f8c0139c58c12843542dc0d19944100e6224
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/21/884621/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681,update-bundle-to-antelope, channel: 2023.1/edge channel: 2023.1/edge, channel: yoga/edge channel: yoga/edge,2,2
openstack%2Fcharm-placement-k8s~main~Ic72a7d9e330e0706f6ab410bebb08c447da60269,openstack/charm-placement-k8s,main,Ic72a7d9e330e0706f6ab410bebb08c447da60269,Update bundle to use antelope charms,MERGED,2023-05-29 13:53:17.000000000,2023-05-30 07:42:35.000000000,2023-05-30 07:24:13.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:53:17.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/c2f886bf4065e09578966bf68f73f53c257dbedd', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic72a7d9e330e0706f6ab410bebb08c447da60269\n'}]",0,884622,c2f886bf4065e09578966bf68f73f53c257dbedd,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic72a7d9e330e0706f6ab410bebb08c447da60269
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/22/884622/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,c2f886bf4065e09578966bf68f73f53c257dbedd,update-bundle-to-antelope, channel: 2023.1/edge channel: 2023.1/edge, channel: yoga/edge channel: yoga/edge,2,2
openstack%2Fcharm-glance-k8s~main~Ic6cf298e9ba046307023f6e58cd238c56c43e220,openstack/charm-glance-k8s,main,Ic6cf298e9ba046307023f6e58cd238c56c43e220,Update bundle to use antelope charms,MERGED,2023-05-29 13:50:39.000000000,2023-05-30 07:42:19.000000000,2023-05-30 07:23:59.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:50:39.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/57d3d6414f6c69f920e9724d6fe46a3661295bd9', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic6cf298e9ba046307023f6e58cd238c56c43e220\n'}]",1,884619,57d3d6414f6c69f920e9724d6fe46a3661295bd9,9,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic6cf298e9ba046307023f6e58cd238c56c43e220
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/19/884619/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,57d3d6414f6c69f920e9724d6fe46a3661295bd9,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Fmagnum~master~I88dd61a916cb31ee9ef66367ad78f5ed1546dd13,openstack/magnum,master,I88dd61a916cb31ee9ef66367ad78f5ed1546dd13,[K8S] Allow addon service account to access privileged PodSecurityPolicy,ABANDONED,2021-04-13 01:35:18.000000000,2023-05-30 07:38:27.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 01:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/693cdac7eb866f2c1f22fce868baa0604877aff0', 'message': '[K8S] Allow addon service account to access privileged PodSecurityPolicy\n\nUsage of PodSecurityPolicy was fixed by a previous patch:\nhttps://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac\n\nNow, kube-controller-manager is using different service accounts for\ndifferent controllers instead of admin user previously.\n\nAs a result, all the service accounts for the addon compoments need to\nhave the right permission for installation, especially for those who\nneed to access security sensitive information in the system.\n\nChange-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13\n'}, {'number': 2, 'created': '2021-04-13 23:26:56.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6bf1edd92d3697af05602ddb048d241cd0788259', 'message': '[K8S] Allow addon service account to access privileged PodSecurityPolicy\n\nUsage of PodSecurityPolicy was fixed by a previous patch:\nhttps://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac\n\nNow, kube-controller-manager is using different service accounts for\ndifferent controllers instead of admin user previously.\n\nAs a result, all the service accounts for the addon compoments need to\nhave the right permission for installation, especially for those who\nneed to access security sensitive information in the system.\n\nChange-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13\n'}]",1,785996,6bf1edd92d3697af05602ddb048d241cd0788259,11,3,2,6732,,,0,"[K8S] Allow addon service account to access privileged PodSecurityPolicy

Usage of PodSecurityPolicy was fixed by a previous patch:
https://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac

Now, kube-controller-manager is using different service accounts for
different controllers instead of admin user previously.

As a result, all the service accounts for the addon compoments need to
have the right permission for installation, especially for those who
need to access security sensitive information in the system.

Change-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/785996/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh']",10,693cdac7eb866f2c1f22fce868baa0604877aff0,followup-fix-psp,kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: ingress-traefik:magnum:privileged-psp roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: magnum:podsecuritypolicy:privileged subjects: - kind: ServiceAccount name: ingress-traefik namespace: kube-system ---,,198,1
openstack%2Fcharm-cinder-k8s~main~Idc663e4b0ea622a87f6d08f3e935ff298317a3d2,openstack/charm-cinder-k8s,main,Idc663e4b0ea622a87f6d08f3e935ff298317a3d2,Update bundle to use antelope charms,MERGED,2023-05-29 13:46:16.000000000,2023-05-30 07:34:04.000000000,2023-05-30 07:10:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:46:16.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/d5d88c84aa69d7d61aa2894a8af3fd74062136e9', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Idc663e4b0ea622a87f6d08f3e935ff298317a3d2\n'}]",0,884618,d5d88c84aa69d7d61aa2894a8af3fd74062136e9,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Idc663e4b0ea622a87f6d08f3e935ff298317a3d2
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/18/884618/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,d5d88c84aa69d7d61aa2894a8af3fd74062136e9,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Fcharm-keystone-k8s~main~Ic056f17836efc24da3abd5379872740c01ecb1fe,openstack/charm-keystone-k8s,main,Ic056f17836efc24da3abd5379872740c01ecb1fe,Update bundle to use antelope charms,MERGED,2023-05-29 13:52:07.000000000,2023-05-30 07:30:44.000000000,2023-05-30 07:07:17.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:52:07.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/06f89b9f9718649ab2382e5e745ff827c2e56788', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic056f17836efc24da3abd5379872740c01ecb1fe\n'}]",0,884620,06f89b9f9718649ab2382e5e745ff827c2e56788,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic056f17836efc24da3abd5379872740c01ecb1fe
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/20/884620/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,06f89b9f9718649ab2382e5e745ff827c2e56788,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Freleases~master~I046ec3928c934ef59253fc92a0aacf6768a547f3,openstack/releases,master,I046ec3928c934ef59253fc92a0aacf6768a547f3,Release glance_store 4.5.0 from 2023.2,MERGED,2023-05-18 19:10:38.000000000,2023-05-30 07:13:15.000000000,2023-05-30 07:13:15.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 17685}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 19:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e17640f3acaaec5052578c96d9aaa4e1ec908790', 'message': 'Release glance_store 4.4.1 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}, {'number': 2, 'created': '2023-05-18 20:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2dca151c0df24dd8b819ecf8947ef97fd50a14c5', 'message': 'Release glance_store 4.4.1 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}, {'number': 3, 'created': '2023-05-18 21:25:05.000000000', 'files': ['deliverables/bobcat/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c303ec55af60259a1a0b3fc27ca46526c1f569b6', 'message': 'Release glance_store 4.5.0 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}]",5,883563,c303ec55af60259a1a0b3fc27ca46526c1f569b6,19,5,3,5314,,,0,"Release glance_store 4.5.0 from 2023.2

Only affects the RBD store; reverts a change that causes intermittent
but frequent thread lockup when copying an image to the backend store.

Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3
Related-bug: #2020122
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/883563/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/glance-store.yaml'],1,e17640f3acaaec5052578c96d9aaa4e1ec908790,glance_store_4.5.0, - version: 4.4.1 projects: - repo: openstack/glance_store hash: later,,4,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2,openstack/tripleo-ansible,stable/wallaby,I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2,Refresh cli and enforce tripleo_cephadm_config_home in DCN context,ABANDONED,2023-05-29 05:36:22.000000000,2023-05-30 06:45:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-29 05:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c68a45a1183f45e23955625b9a5df1c13582248', 'message': ""Refresh cli and enforce tripleo_cephadm_config_home in DCN context\n\nWhen we deploy in a DCN we need to make sure that ceph bootstrap is\nable to interact w/ clusters that don't have the default 'ceph' name.\nThis patch results in an attempt to enforce the directory where the\nCeph multicluster client files (conf and keyrings) are rendered.\n\nChange-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2\n""}, {'number': 2, 'created': '2023-05-29 07:31:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd9c988c946693ff860afd40331ad06910adcb72', 'message': ""Refresh cli and enforce tripleo_cephadm_config_home in DCN context\n\nWhen we deploy in a DCN we need to make sure that ceph bootstrap is\nable to interact w/ clusters that don't have the default 'ceph' name.\nThis patch results in an attempt to enforce the directory where the\nCeph multicluster client files (conf and keyrings) are rendered.\n\nChange-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2\n""}]",0,884575,dd9c988c946693ff860afd40331ad06910adcb72,4,2,2,25402,,,0,"Refresh cli and enforce tripleo_cephadm_config_home in DCN context

When we deploy in a DCN we need to make sure that ceph bootstrap is
able to interact w/ clusters that don't have the default 'ceph' name.
This patch results in an attempt to enforce the directory where the
Ceph multicluster client files (conf and keyrings) are rendered.

Change-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/884575/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml'],1,3c68a45a1183f45e23955625b9a5df1c13582248,884575," - name: Refresh ceph_cli include_tasks: ceph_cli.yaml vars: tripleo_cephadm_config_home_container: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}""",,4,0
openstack%2Fcinder~stable%2F2023.1~I98e021594c59dbad1723597e38aeb4c0cec6934b,openstack/cinder,stable/2023.1,I98e021594c59dbad1723597e38aeb4c0cec6934b,HPE 3PAR: Few issues with new WSAPI (of 2023),MERGED,2023-05-11 05:09:22.000000000,2023-05-30 06:44:35.000000000,2023-05-29 19:51:44.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 05:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebde295e6863197b453e8bf672e1b6e93ce91339', 'message': 'HPE 3PAR: Few issues with new WSAPI (of 2023)\n\nIn recent HPE 3PAR WSAPI, observed issues with parameters\nlike snapCPG, localSnapCPG, etc.\nDue to this, few operations (eg. create volume, create\nremote copy group [RCG]) fail.\nIn order to work with new wsapi (of 2023), performed minor\ncode changes in 3par driver code.\n\nCloses-Bug: #2015746\nChange-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b\n(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)\n'}, {'number': 2, 'created': '2023-05-24 10:15:09.000000000', 'files': ['releasenotes/notes/hpe-3par-code-changes-for-new-wsapi-25865a65a428ce46.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ced3bcbe173b0d62a05a12f319edefef542db1c4', 'message': 'HPE 3PAR: Few issues with new WSAPI (of 2023)\n\nIn recent HPE 3PAR WSAPI, observed issues with parameters\nlike snapCPG, localSnapCPG, etc.\nDue to this, few operations (eg. create volume, create\nremote copy group [RCG]) fail.\nIn order to work with new wsapi (of 2023), performed minor\ncode changes in 3par driver code.\n\nCloses-Bug: #2015746\nChange-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b\n(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)\n'}]",7,882781,ced3bcbe173b0d62a05a12f319edefef542db1c4,34,3,2,29122,,,0,"HPE 3PAR: Few issues with new WSAPI (of 2023)

In recent HPE 3PAR WSAPI, observed issues with parameters
like snapCPG, localSnapCPG, etc.
Due to this, few operations (eg. create volume, create
remote copy group [RCG]) fail.
In order to work with new wsapi (of 2023), performed minor
code changes in 3par driver code.

Closes-Bug: #2015746
Change-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b
(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/882781/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-code-changes-for-new-wsapi-25865a65a428ce46.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,ebde295e6863197b453e8bf672e1b6e93ce91339,I98e021594c59dbad1723597e38aeb4c0cec6934b-stable/2023.1,"API_VERSION_2023 = 100000000<<<<<<< HEAD (597537 [Pure Storage] Add check for new error message) ======= 4.0.18 - During conversion of volume to base volume, error out if it has child snapshot(s). Bug #1994521 4.0.19 - Update code to work with new WSAPI (of 2023). Bug #2015746 >>>>>>> CHANGE (b2c8bc HPE 3PAR: Few issues with new WSAPI (of 2023))<<<<<<< HEAD (597537 [Pure Storage] Add check for new error message)======= VERSION = ""4.0.19"" >>>>>>> CHANGE (b2c8bc HPE 3PAR: Few issues with new WSAPI (of 2023)) optional = {'online': True, if self.API_VERSION < API_VERSION_2023: optional['snapCPG'] = snapcpg if 'snapCPG' not in vol and self.API_VERSION < API_VERSION_2023: LOG.debug(""self.API_VERSION: %(version)s"", {'version': self.API_VERSION}) if self.API_VERSION < API_VERSION_2023: extras['snapCPG'] = snap_cpg if snap_cpg is not None and self.API_VERSION < API_VERSION_2023: if self.API_VERSION < API_VERSION_2023: rcg_target['snapCPG'] = cpg optional = {'localUserCPG': local_cpg} if self.API_VERSION < API_VERSION_2023: optional['localSnapCPG'] = vol_settings['snap_cpg'] LOG.debug(""created rcg %(name)s"", {'name': rcg_name}) LOG.debug(""API_VERSION: %(ver_1)s, API_VERSION_2023: %(ver_2)s"", {'ver_1': common.API_VERSION, 'ver_2': API_VERSION_2023}) if (new_snap_cpg != old_snap_cpg and common.API_VERSION < API_VERSION_2023):"," optional = {'online': True, 'snapCPG': snapcpg, if 'snapCPG' not in vol: 'snapCPG': snap_cpg, if snap_cpg is not None: 'snapCPG': cpg, optional = {'localSnapCPG': vol_settings['snap_cpg'], 'localUserCPG': local_cpg} if new_snap_cpg != old_snap_cpg:",191,31
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c,openstack/charm-neutron-api-plugin-ovn,master,Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c,Enable neutron-dynamic-routing service plugin,MERGED,2023-05-25 10:40:38.000000000,2023-05-30 06:26:27.000000000,2023-05-30 06:26:27.000000000,"[{'_account_id': 1131}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 10:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/8ad984a9a2269c0f47f9bbd0248787186dfaa779', 'message': 'Enable neutron-dynamic-routing service plugin\n\nUpstream Neutron has declared that the neutron-dynamic-routing service\nplugin is now supported when OVN L3 service plugin and mechanism driver\nare in use.\n\nhttps://review.opendev.org/c/openstack/neutron/+/864051\nhttps://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n\nThis change removes the NDR plugin from the filter so that the plugin\nis enabled.\n\nChange-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c\n'}, {'number': 2, 'created': '2023-05-25 14:27:10.000000000', 'files': ['unit_tests/test_lib_charm_openstack_ovn.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/26287e88fdad27b555882b5b5833ed00cba73b71', 'message': 'Enable neutron-dynamic-routing service plugin\n\nUpstream Neutron has declared that the neutron-dynamic-routing service\nplugin is now supported when OVN L3 service plugin and mechanism driver\nare in use.\n\nhttps://review.opendev.org/c/openstack/neutron/+/864051\nhttps://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n\nThis change removes the NDR plugin from the filter so that the plugin\nis enabled.\n\nChange-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c\n'}]",4,884355,26287e88fdad27b555882b5b5833ed00cba73b71,13,4,2,24824,,,0,"Enable neutron-dynamic-routing service plugin

Upstream Neutron has declared that the neutron-dynamic-routing service
plugin is now supported when OVN L3 service plugin and mechanism driver
are in use.

https://review.opendev.org/c/openstack/neutron/+/864051
https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057

This change removes the NDR plugin from the filter so that the plugin
is enabled.

Change-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/55/884355/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_ovn.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",3,8ad984a9a2269c0f47f9bbd0248787186dfaa779,2023-enable-ndr,," 'neutron_dynamic_routing.services.bgp.bgp_plugin.BgpPlugin,'",0,4
openstack%2Ftripleo-heat-templates~master~I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09,openstack/tripleo-heat-templates,master,I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09,Align FrrBgpAsn and FrrOvnBgpAgentAsn default values,ABANDONED,2023-05-25 15:02:21.000000000,2023-05-30 05:48:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-25 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb8bb452a45eb38519c2ed478151116ced445a48', 'message': 'Allign FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}, {'number': 2, 'created': '2023-05-25 15:06:20.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/104b8304f8173c68dd45a36c9d1259f2b54c66c1', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}]",1,884409,104b8304f8173c68dd45a36c9d1259f2b54c66c1,5,2,2,31291,,,0,"Align FrrBgpAsn and FrrOvnBgpAgentAsn default values

The two parameters need to be configured to the same value. It makes
sense that their default values are common too.

Change-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/884409/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,cb8bb452a45eb38519c2ed478151116ced445a48,, default: 64999, default: 65000,1,1
openstack%2Fpuppet-openstack-integration~master~I5152d1013a603e8d230748ff956d33507675450c,openstack/puppet-openstack-integration,master,I5152d1013a603e8d230748ff956d33507675450c,CentOS: Stop installing yum,MERGED,2023-05-25 03:03:59.000000000,2023-05-30 03:53:36.000000000,2023-05-30 03:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 03:03:59.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7ea649e24357a39276e02433a75a1ccd26f9ff0d', 'message': 'CentOS: Stop installing yum\n\nCentOS/RHEL replaced yum by dnf and yum is no longer available by\ndefault. We (and the other projects) updated implementations to adapt\nthat change so we assume we no longer need the old yum command (which\nis just an alias of dnf).\n\nDepends-on: https://review.opendev.org/884307\nChange-Id: I5152d1013a603e8d230748ff956d33507675450c\n'}]",2,884308,7ea649e24357a39276e02433a75a1ccd26f9ff0d,12,3,1,9816,,,0,"CentOS: Stop installing yum

CentOS/RHEL replaced yum by dnf and yum is no longer available by
default. We (and the other projects) updated implementations to adapt
that change so we assume we no longer need the old yum command (which
is just an alias of dnf).

Depends-on: https://review.opendev.org/884307
Change-Id: I5152d1013a603e8d230748ff956d33507675450c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/884308/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,7ea649e24357a39276e02433a75a1ccd26f9ff0d,remove-yum, dnf: dnf:, - name: Install yum (CentOS/RHEL) dnf: name: yum become: true yum: yum:,2,7
openstack%2Fcharm-neutron-k8s~main~I6fbdd76f863853354fd6e6fb885975ff7d542a7a,openstack/charm-neutron-k8s,main,I6fbdd76f863853354fd6e6fb885975ff7d542a7a,Switch to Antelope,MERGED,2023-05-24 17:57:56.000000000,2023-05-30 02:12:12.000000000,2023-05-30 01:51:52.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8758f0f61cc1082b13e63509b7fa638fcf2b027a', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 2, 'created': '2023-05-25 05:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/fe6052c05137c6a336d92b3f19fc06d094f5e4ff', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 3, 'created': '2023-05-26 13:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/043019d9846de55a2d459f3e7f4b43155c722c63', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 4, 'created': '2023-05-26 13:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8741909ebf2babdbb6813e5aa1e0f8609110f77d', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 5, 'created': '2023-05-26 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/ff2f6fdb88d1d59422b6c680018f30bab9fd6451', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 6, 'created': '2023-05-26 17:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8da825aa49d5f3697584eb746f5fc5f8c3b23b3b', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 7, 'created': '2023-05-26 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/bc4cfeb470553ef157d91cd67cac765c95e1d0cb', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 8, 'created': '2023-05-26 18:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/2931869a39d3cbb7272faacc373afdb2b55ee3ab', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 9, 'created': '2023-05-29 06:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/b529ac98033527614611f940ed08184a114b3188', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 10, 'created': '2023-05-29 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/9c8b180e8c957ed3a424a14ab00ece249126674a', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 11, 'created': '2023-05-29 11:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/726284e10452ab716abd842944c2b3a1adf452de', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 12, 'created': '2023-05-29 12:57:18.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'src/templates/api-paste.ini.j2', 'src/templates/neutron.conf.j2', 'src/charm.py', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/288fab63096d5056e59c4aa5ab033b2a9cfb1a63', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nDue to limited resources in gate and max connections limit\nin mysq, this PR reduces the number of deployed apps.\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}]",2,884262,288fab63096d5056e59c4aa5ab033b2a9cfb1a63,29,2,12,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s) and misc antelope fixes

Due to limited resources in gate and max connections limit
in mysq, this PR reduces the number of deployed apps.

Change-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/62/884262/5 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'src/templates/api-paste.ini.j2', 'metadata.yaml', 'README.md']",6,8758f0f61cc1082b13e63509b7fa638fcf2b027a,2023.1,The charm by default uses `ghcr.io/openstack-snaps/neutron-server:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-neutron-server:yoga` image.,7,7
openstack%2Fpuppet-nova~stable%2Fwallaby~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,stable/wallaby,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:41:00.000000000,2023-05-30 01:49:00.000000000,2023-05-30 01:49:00.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/972f15e6bdc8dd425fb253f583bcc20451bf4736', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n(cherry picked from commit 3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc)\n(cherry picked from commit a319dd3ec923780107d3eed6e89e53175b586a47)\n'}, {'number': 2, 'created': '2023-05-26 07:55:09.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a21eae468aa6b3e7e9e1bf06d2bc40e505af9c1f', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)\n(cherry picked from commit eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc)\n'}]",1,884456,a21eae468aa6b3e7e9e1bf06d2bc40e505af9c1f,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)
(cherry picked from commit eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/56/884456/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,972f15e6bdc8dd425fb253f583bcc20451bf4736,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fcinder~master~Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0,openstack/cinder,master,Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0,Fujitsu Driver: Improve the function of CLI.,NEW,2022-08-23 02:45:16.000000000,2023-05-30 01:33:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-08-23 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6e20373401d21a98d2fad75c3f70a6994ce2ce4', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of A fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 2, 'created': '2022-08-23 05:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71419ec2d5e1d982cd4a979366acd38d565d460f', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 3, 'created': '2022-08-23 06:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa8ade463ca15b1696cddab6ee8e00c6fdabfd1d', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 4, 'created': '2022-08-23 07:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c39ec77ce27e2266010218cb1e2b556b2fcf2ebf', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 5, 'created': '2022-11-21 01:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8169d36715b5330638317ba6dc418fb912eb0ad4', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 6, 'created': '2022-11-22 06:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5236593d3dbc0855b38215075c936ed3091c2951', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}, {'number': 7, 'created': '2023-03-29 07:53:42.000000000', 'files': ['releasenotes/notes/fujitsu-improve-cli-function-27075ad24b4d6de0.yaml', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7438b115b088d1edda0ce250b4d153dc70867266', 'message': 'Fujitsu Driver: Improve the function of CLI.\n\nThe function of CLI execution has been improved.\n\nWhen the executin of CLI fails, an error message will be created according to the return code.\n\nChange-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0\n'}]",10,854070,7438b115b088d1edda0ce250b4d153dc70867266,126,2,7,33609,,,0,"Fujitsu Driver: Improve the function of CLI.

The function of CLI execution has been improved.

When the executin of CLI fails, an error message will be created according to the return code.

Change-Id: Iefd8cb347ba48bde5f809355eb79a2d7d5f79ca0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/854070/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py']",6,b6e20373401d21a98d2fad75c3f70a6994ce2ce4,fujitsu-driver-update," model_update = self.common.create_volume(volume) return model_update return {'provider_location': str(element_path), 'metadata': metadata} return {'provider_location': str(element_path), 'metadata': metadata} self.common.delete_volume(volume) return {'provider_location': str(element_path)} self.common.delete_snapshot(snapshot) self.common.terminate_connection(volume, connector) 'pool name: %s.', pool_name) self.common.extend_volume(volume, new_size)","import six LOG.info('create_volume, volume id: %s, Enter method.', volume['id']) element_path, metadata = self.common.create_volume(volume) v_metadata = volume.get('volume_metadata') if v_metadata: for data in v_metadata: metadata[data['key']] = data['value'] else: v_metadata = volume.get('metadata', {}) metadata.update(v_metadata) LOG.info('create_volume, info: %s, Exit method.', metadata) return {'provider_location': six.text_type(element_path), 'metadata': metadata} LOG.info('create_volume_from_snapshot, ' 'volume id: %(vid)s, snap id: %(sid)s, Enter method.', {'vid': volume['id'], 'sid': snapshot['id']}) LOG.info('create_volume_from_snapshot, ' 'info: %s, Exit method.', metadata) return {'provider_location': six.text_type(element_path), 'metadata': metadata} LOG.info('create_cloned_volume, ' 'target volume id: %(tid)s, ' 'source volume id: %(sid)s, Enter method.', {'tid': volume['id'], 'sid': src_vref['id']}) LOG.info('create_cloned_volume, info: %s, Exit method.', metadata) return {'provider_location': six.text_type(element_path), 'metadata': metadata} LOG.info('delete_volume, volume id: %s, Enter method.', volume['id']) vol_exist = self.common.delete_volume(volume) LOG.info('delete_volume, delete: %s, Exit method.', vol_exist) return LOG.info('create_snapshot, snap id: %(sid)s, volume id: %(vid)s, ' 'Enter method.', {'sid': snapshot['id'], 'vid': snapshot['volume_id']}) LOG.info('create_snapshot, info: %s, Exit method.', metadata) return {'provider_location': six.text_type(element_path)} LOG.info('delete_snapshot, snap id: %(sid)s, volume id: %(vid)s, ' 'Enter method.', {'sid': snapshot['id'], 'vid': snapshot['volume_id']}) vol_exist = self.common.delete_snapshot(snapshot) LOG.info('delete_snapshot, delete: %s, Exit method.', vol_exist) return LOG.info('initialize_connection, volume id: %(vid)s, ' 'initiator: %(initiator)s, Enter method.', {'vid': volume['id'], 'initiator': connector['initiator']}) LOG.info('initialize_connection, info: %s, Exit method.', info) initiator = connector.get('initiator') if connector else None LOG.info('terminate_connection, volume id: %(vid)s, ' 'initiator: %(initiator)s, Enter method.', {'vid': volume['id'], 'initiator': initiator}) map_exist = self.common.terminate_connection(volume, connector) LOG.info('terminate_connection, unmap: %s, Exit method.', map_exist) return LOG.debug('get_volume_stats, refresh: %s, Enter method.', refresh) 'pool name: %s, Exit method.', pool_name) LOG.info('extend_volume, volume id: %s, Enter method.', volume['id']) used_pool_name = self.common.extend_volume(volume, new_size) LOG.info('extend_volume, used pool name: %s, Exit method.', used_pool_name)",2442,433
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I719c10d5d2134742040cc9a0ba8adfcd92f19851,openstack/tripleo-heat-templates,stable/wallaby,I719c10d5d2134742040cc9a0ba8adfcd92f19851,Fix mismatching policy keys titles,MERGED,2023-05-18 12:59:33.000000000,2023-05-30 00:40:58.000000000,2023-05-30 00:40:58.000000000,"[{'_account_id': 4690}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-18 12:59:33.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80058c8f58da3260bf3c85e1a5f885fd3914caa2', 'message': 'Fix mismatching policy keys titles\n\nUse the same resource title for the same policy key.\n\nMake the policy title dirven by Nova API service NovaHostStatus t-h-t\nparameter (deployment/nova/nova-api-container-puppet.yaml) mathing\nthe title used in the SRBAC template\n(environments/enable-secure-rbac.yaml)\n\nDifferent titles are causing the conflicting/duplicated declaration of\nthe same policy key defined by Puppet.\n\nRelated: rhbz#2207991\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I719c10d5d2134742040cc9a0ba8adfcd92f19851\n'}]",6,883502,80058c8f58da3260bf3c85e1a5f885fd3914caa2,20,7,1,6926,,,0,"Fix mismatching policy keys titles

Use the same resource title for the same policy key.

Make the policy title dirven by Nova API service NovaHostStatus t-h-t
parameter (deployment/nova/nova-api-container-puppet.yaml) mathing
the title used in the SRBAC template
(environments/enable-secure-rbac.yaml)

Different titles are causing the conflicting/duplicated declaration of
the same policy key defined by Puppet.

Related: rhbz#2207991
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I719c10d5d2134742040cc9a0ba8adfcd92f19851
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/883502/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,80058c8f58da3260bf3c85e1a5f885fd3914caa2,, - nova-os_compute_api_servers_show_host_status: - nova-os_compute_api_servers_show_host_status_unknown-only:, - nova-host_status: - nova-host_status_unknown_only:,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~master~I361757b8f76a6c2d087989a36d8f7543aba69e16,openstack/openstack-ansible-rabbitmq_server,master,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-28 00:34:13.000000000,2023-05-30 00:32:49.000000000,2023-05-29 23:58:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-28 00:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/de13bb8f6391f66aca16e653b7856e7c0db79a73', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 2, 'created': '2023-05-28 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d3474376e89cc181646999b256339d3f9e32b8a3', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 3, 'created': '2023-05-28 20:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/dc84632c276f75a5e72ca8b6f70f38758ba1d6f2', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 4, 'created': '2023-05-29 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/292334f78319342dc7b66dc01465a91f7f77fd22', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 5, 'created': '2023-05-29 15:25:10.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}]",1,884568,ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d,18,4,5,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/68/884568/5 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",4,de13bb8f6391f66aca16e653b7856e7c0db79a73,884568,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize the CloudSmith repositories already in use for rabbitmq-erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,42,4
openstack%2Fopenstack-ansible-os_nova~stable%2Fyoga~I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,openstack/openstack-ansible-os_nova,stable/yoga,I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,Define service_user for nova services,MERGED,2023-05-24 14:06:07.000000000,2023-05-29 22:44:29.000000000,2023-05-29 22:43:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a390a9d0546d5edab1078eee234b9949dd7e5ed7', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}, {'number': 2, 'created': '2023-05-24 18:49:58.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5a12fddb440deb7e427b3d660a46b412ba1eb8fb', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}]",3,884213,5a12fddb440deb7e427b3d660a46b412ba1eb8fb,20,3,2,28619,,,0,"Define service_user for nova services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all nova services has been added by nova.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275

Change-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38
(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/13/884213/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,a390a9d0546d5edab1078eee234b9949dd7e5ed7,osa/OSSA-2023-003,[service_user] send_service_user_token = {{ nova_service_token_roles_required | bool }} region_name = {{ nova_service_region }} auth_type = password username = {{ nova_service_user_name }} password = {{ nova_service_password }} project_name = {{ nova_service_project_name }} user_domain_id = {{ nova_service_user_domain_id }} project_domain_id = {{ nova_service_project_domain_id }} auth_url = {{ keystone_service_adminurl }} insecure = {{ keystone_service_adminuri_insecure | bool }}send_service_user_token = {{ nova_service_token_roles_required | bool }},,12,0
openstack%2Fnova~master~I4ab97626c10052c7af9934a80ff8db9ddab82738,openstack/nova,master,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,MERGED,2023-02-01 22:51:20.000000000,2023-05-29 21:25:22.000000000,2023-05-29 21:24:05.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-01 22:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef152e3418718343e016c79c2a8d60dd0636c891', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 2, 'created': '2023-02-04 09:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49d07a435e52b3e00e29085c1827a44d636b3066', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 3, 'created': '2023-02-04 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c72d33d359a937711de7c29ec9568a0a577e02c9', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 4, 'created': '2023-05-23 01:09:06.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/limit/placement.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f79d6321e7c3edaab2eb911198b7b7f851371b3', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}]",18,872471,6f79d6321e7c3edaab2eb911198b7b7f851371b3,33,4,4,4690,,,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/872471/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",6,ef152e3418718343e016c79c2a8d60dd0636c891,bug/2003991," @staticmethod def _check_quota_unshelve_offloaded( context: nova_context.RequestContext, instance: 'objects.Instance', request_spec: 'objects.RequestSpec' ): # TODO(melwitt): This is ugly but we have to do it this way because # instances quota is currently counted from the API database but cores # and ram are counted from placement. That means while an instance is # SHELVED_OFFLOADED, it will still consume instances quota but it will # not consume cores and ram. So we need an instances delta of # 0 but cores and ram deltas from the flavor. # Once instances usage is also being counted from placement, we can # replace this method with a normal check_num_instances_quota() call. vcpus = instance.flavor.vcpus memory_mb = instance.flavor.memory_mb deltas = {'instances': 0, 'cores': vcpus, 'ram': memory_mb} # We are not looking to create a new server, we are unshelving an # existing one. objects.Quotas.check_deltas( context, deltas, context.project_id, user_id=context.user_id, check_project_id=instance.project_id, check_user_id=instance.user_id, ) # Do the same for unified limits. deltas = scheduler_utils.resources_from_flavor( instance.flavor, request_spec.is_bfv) # We are not looking to create a new server, we are unshelving an # existing one. if 'servers' in deltas: deltas['servers'] = 0 placement_limits.enforce_num_instances_and_flavor( context, context.project_id, instance.flavor, request_spec.is_bfv, 0, 0, deltas=deltas) # Check quota before we save any changes to the database, but only if # we are counting quota usage from placement. When an instance is # SHELVED_OFFLOADED, it will not consume cores or ram resources in # placement. This means it is possible that an unshelve would cause the # project/user to go over quota. if ( CONF.quota.count_usage_from_placement and instance.vm_state == vm_states.SHELVED_OFFLOADED ): self._check_quota_unshelve_offloaded( context, instance, request_spec) ",,259,28
openstack%2Fcinder-tempest-plugin~master~I222033ecf33f08b1d92e527b0fcf95e038b45685,openstack/cinder-tempest-plugin,master,I222033ecf33f08b1d92e527b0fcf95e038b45685,zuul: Exclude unneeded tests from multiattach job,MERGED,2023-05-24 14:51:50.000000000,2023-05-29 20:55:56.000000000,2023-05-29 20:55:56.000000000,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 14:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/188568115e061a1d55cfbbd1626fe6e810b9c883', 'message': ""zuul: Exclude unneeded tests from multiattach job\n\nTrim off some expensive tests that are run in other LVM\njobs already, and don't add value here.\n\nChange-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685\n""}, {'number': 2, 'created': '2023-05-29 14:32:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/edd611188d28dc78e81f399f34345c82a36040a8', 'message': ""zuul: Exclude unneeded tests from multiattach job\n\nTrim off some expensive tests that are run in other LVM\njobs already, and don't add value here.\n\nChange-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685\n""}]",3,884209,edd611188d28dc78e81f399f34345c82a36040a8,17,3,2,4523,,,0,"zuul: Exclude unneeded tests from multiattach job

Trim off some expensive tests that are run in other LVM
jobs already, and don't add value here.

Change-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/09/884209/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,188568115e061a1d55cfbbd1626fe6e810b9c883,multiattach-job-reduce-tests, # Other excluded tests are tests that are somewhat time consuming but unrelated # to multi-attach testing. tempest_exclude_regex: 'TestMultiAttachVolumeSwap|^tempest.api.image|^tempest.api.object_storage|^tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted|^tempest.scenario.test_server_advanced_ops|^tempest.scenario.test_unified_limits', tempest_exclude_regex: 'TestMultiAttachVolumeSwap',3,1
openstack%2Fcinder-tempest-plugin~master~I1273af9f12b6785fe2c648d53c66cf4d5a748243,openstack/cinder-tempest-plugin,master,I1273af9f12b6785fe2c648d53c66cf4d5a748243,Test srbac on user_messages,MERGED,2023-03-07 13:29:47.000000000,2023-05-29 20:33:44.000000000,2023-05-29 20:33:44.000000000,"[{'_account_id': 4523}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 34510}, {'_account_id': 35621}]","[{'number': 1, 'created': '2023-03-07 13:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/72858250c3649ecd5dd32b46dea77e7b35a1042e', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 2, 'created': '2023-03-07 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/330328a4753ab8c78ce32a5b8d795932fc1e9670', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 3, 'created': '2023-03-08 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a258941f928b322b0a1ad07332b983baf2ff0dd7', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 4, 'created': '2023-03-14 09:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b652a2327c89bee042d721f9962df5f3abe77467', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 5, 'created': '2023-03-19 10:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fa22c0f48ee6ead55501b7e46cc66622d924cc07', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 6, 'created': '2023-03-20 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dc2faed2ab833f8b1fce80fdab1782af3b5ca33f', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 7, 'created': '2023-04-03 09:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/50bd549619e938282ffd0ac3ea829c9f4d38df6c', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 8, 'created': '2023-05-03 06:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/027ac4d52e5fea46b90630d73a69970184d15357', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 9, 'created': '2023-05-03 06:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/23a995499259b2f4dea866f5725eef4e5f194a91', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 10, 'created': '2023-05-04 13:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5930a772b577da46871272dc231a0b8778fea014', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 11, 'created': '2023-05-08 17:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/807c6ccc3741e4a98bc0aaeec42ca0102d40686a', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 12, 'created': '2023-05-09 13:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e043e0c73c22eacd55b7dc9bb17d55b30ad95b0c', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 13, 'created': '2023-05-10 15:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ef75d5681626834a745b2609032bdece642ecae3', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 14, 'created': '2023-05-15 10:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4412b2b2cf25cb6160e9b5201d8380c53d6efae9', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 15, 'created': '2023-05-18 09:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b7c88230c0497ebbdc79d150b85472ccb04a3f9b', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 16, 'created': '2023-05-22 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4408e0abda4d57800cf4b961d5a95618a5ff81e3', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 17, 'created': '2023-05-22 08:26:39.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_user_messages.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b57a8dda9a6f4cd98cbd4990fbd403f56947f8ff', 'message': ""Test srbac on user_messages\n\nTest 'reader', 'member' and 'admin' roles for 'list', 'show' and 'delete'.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}]",70,876730,b57a8dda9a6f4cd98cbd4990fbd403f56947f8ff,95,8,17,35834,,,0,"Test srbac on user_messages

Test 'reader', 'member' and 'admin' roles for 'list', 'show' and 'delete'.

Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
Change-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/30/876730/16 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_user_messages.py'],1,72858250c3649ecd5dd32b46dea77e7b35a1042e,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc import time from tempest.config import CONF from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base from tempest.lib.common.utils import data_utils, test_utils class RbacV3UserMessagesTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, f'os_{cls.credentials[0]}') cls.client = cls.persona.volume_messages_client_latest admin_client = cls.os_project_admin cls.admin_messages_client = admin_client.volume_messages_client_latest cls.admin_volumes_client = admin_client.volumes_client_latest cls.admin_types_client = admin_client.volume_types_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) def create_user_message(cls): """"""Trigger a 'no valid host' situation to generate a message."""""" bad_protocol = data_utils.rand_name('storage_protocol') bad_vendor = data_utils.rand_name('vendor_name') extra_specs = {'storage_protocol': bad_protocol, 'vendor_name': bad_vendor} vol_type_name = data_utils.rand_name(cls.__class__.__name__ + '-volume-type') bogus_type = cls.admin_types_client.create_volume_type( name=vol_type_name, extra_specs=extra_specs )['volume_type'] params = {'volume_type': bogus_type['id'], 'size': CONF.volume.volume_size} volume = cls.admin_volumes_client.create_volume(wait_until=""error"", **params)['volume'] time.sleep(5) messages = cls.admin_messages_client.list_messages()['messages'] message_id = None for message in messages: if message['resource_uuid'] == volume['id']: message_id = message['id'] break assert message_id, f""No user message generated for volume {volume['id']}"" cls.addCleanup(cls.admin_types_client.delete_volume_type, bogus_type['id']) cls.addCleanup(cls.admin_volumes_client.delete_volume, volume['id']) return message_id def list_messages(self): message_id = self.create_user_message() self.addCleanup(self.admin_messages_client.delete_message, message_id) self.do_request(method='list_messages') def show_message(self): message_id = self.create_user_message() self.addCleanup(self.admin_messages_client.delete_message, message_id) self.do_request(method='show_message', message_id=message_id) def delete_message(self, expected_status): message_id = self.create_user_message() self.do_request( method='delete_message', expected_status=expected_status, message_id=message_id ) if expected_status == exceptions.Forbidden: self.addCleanup(self.admin_messages_client.delete_message, message_id) else: self.client.wait_for_resource_deletion(id=message_id) class ProjectMemberTests(RbacV3UserMessagesTests, base.BaseVolumeTest): min_microversion = '3.3' credentials = ['project_member', 'project_admin'] @decorators.idempotent_id('632215a6-ad2c-11ed-aa63-84c5a6290b8f') def test_list_messages(cls): cls.list_messages() @decorators.idempotent_id('7285e25c-ad2c-11ed-aa63-84c5a6290b8f') def test_show_message(cls): cls.show_message() @decorators.idempotent_id('7752e4ce-ad2c-11ed-aa63-84c5a6290b8f') def test_delete_message(cls): cls.delete_message(expected_status=204) class ProjectReaderTests(RbacV3UserMessagesTests, base.BaseVolumeTest): min_microversion = '3.3' credentials = ['project_reader', 'project_admin'] @decorators.idempotent_id('c9b67caa-b1bc-11ed-b3dd-84c5a6290b8f') def test_list_messages(cls): cls.list_messages() @decorators.idempotent_id('ddb9d0ee-b1bc-11ed-b3dd-84c5a6290b8f') def test_show_message(cls): cls.show_message() @decorators.idempotent_id('e1909cde-b1bc-11ed-b3dd-84c5a6290b8f') def test_delete_message(cls): cls.delete_message(expected_status=exceptions.Forbidden) ",,121,0
openstack%2Fironic-inspector~stable%2Fwallaby~I7405420ad441428dc82360d84b75e03921031482,openstack/ironic-inspector,stable/wallaby,I7405420ad441428dc82360d84b75e03921031482,Power off before inspection,ABANDONED,2023-05-29 20:28:24.000000000,2023-05-29 20:30:54.000000000,,[],"[{'number': 1, 'created': '2023-05-29 20:28:24.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/conf/default.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fd80163efb682859a30a084f167e951ab1ecf9ca', 'message': 'Power off before inspection\n\nPower off nodes before inspection as failed previous\ninspection attempts may cause re-inspection attempts\nto fail.\n\nChange-Id: I7405420ad441428dc82360d84b75e03921031482\nStory: 2008107\nTask: 40820\n(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)\n'}]",0,884534,fd80163efb682859a30a084f167e951ab1ecf9ca,2,0,1,7130,,,0,"Power off before inspection

Power off nodes before inspection as failed previous
inspection attempts may cause re-inspection attempts
to fail.

Change-Id: I7405420ad441428dc82360d84b75e03921031482
Story: 2008107
Task: 40820
(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/34/884534/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py']",6,fd80163efb682859a30a084f167e951ab1ecf9ca,," def _wait_for_power_state(node, state, ironic): timeout = CONF.power_timeout for count in openstack.utils.iterate_timeout( timeout, ""Timed out waiting for node %(node)s to reach power "" ""state %(state)s."" % {'node': node, 'state': state}): latest_node = ironic.get_node(node) if latest_node.power_state == state: return def set_power_state(node, state, ironic=None, wait=True): if ironic is None: ironic = get_client() try: ironic.set_node_power_state(node, state) if wait: _wait_for_power_state(node, state, ironic) except os_exc.SDKException as exc: raise utils.Error( 'Failed to set power state for node %(node)s ' 'Error: %(error)s' % {'node': node, 'error': exc})",,107,3
openstack%2Fnova~stable%2Ftrain~Icbdcd5d124717e195d55d9e42530611ed812fadd,openstack/nova,stable/train,Icbdcd5d124717e195d55d9e42530611ed812fadd,CI: fix backport validator for new branch naming,MERGED,2023-05-11 15:13:21.000000000,2023-05-29 20:27:25.000000000,2023-05-29 20:26:19.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:13:21.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a24acd9240f2a2705ccd979577e0e2338a238ef', 'message': 'CI: fix backport validator for new branch naming\n\nvalidate-backport job started to fail as only old stable branch naming\nis accepted. This patch extends the script to allow numbers and dot as\nwell in the branch names (like stable/2023.1).\n\nChange-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd\n(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)\n(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)\n(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)\n(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)\n(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)\n(cherry picked from commit 7e3a8a1ba7c27d1508abc2e21921774f3cf29089)\n(cherry picked from commit e4fe1c11133a242cb2660f95477197370694a63f)\n(cherry picked from commit a377953cb68ff2e2418ba93935a753f0abdc648c)\n'}]",2,882971,8a24acd9240f2a2705ccd979577e0e2338a238ef,11,4,1,17685,,,0,"CI: fix backport validator for new branch naming

validate-backport job started to fail as only old stable branch naming
is accepted. This patch extends the script to allow numbers and dot as
well in the branch names (like stable/2023.1).

Change-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd
(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)
(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)
(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)
(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)
(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)
(cherry picked from commit 7e3a8a1ba7c27d1508abc2e21921774f3cf29089)
(cherry picked from commit e4fe1c11133a242cb2660f95477197370694a63f)
(cherry picked from commit a377953cb68ff2e2418ba93935a753f0abdc648c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/882971/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,8a24acd9240f2a2705ccd979577e0e2338a238ef,validate-backport-release-id," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z0-9.]+)')"," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)')",1,1
openstack%2Fcinder-tempest-plugin~master~I838ba765851485e05df785740257caf89492e104,openstack/cinder-tempest-plugin,master,I838ba765851485e05df785740257caf89492e104,[srbac] Test srbac on snapshots,MERGED,2023-02-07 17:35:22.000000000,2023-05-29 20:26:15.000000000,2023-05-29 20:26:15.000000000,"[{'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32704}, {'_account_id': 35834}]","[{'number': 1, 'created': '2023-02-07 17:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bddd3de2041362cd15234dc882ad5bd3ad9c6362', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 2, 'created': '2023-02-09 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/478f86ef699f65869d39a810e3b1408278ba0eca', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 3, 'created': '2023-02-22 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/963793c4a8694a54a0520b0a5864794ac2cb378e', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 4, 'created': '2023-02-22 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/50f0eea5e3ffc59c5e782af7d0be7e7af3ddf04d', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 5, 'created': '2023-02-23 10:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ec82e308c6946a37f1718aeedd77800f1a5690df', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 6, 'created': '2023-02-23 11:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b44740924c2057551659e539890eac773186f452', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 7, 'created': '2023-03-07 09:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/58fa7a6218386ecd7a6829cff36d21625fe0e8c1', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 8, 'created': '2023-03-07 09:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9b3d81b9b3df8c96921a3d9aadb47829aec060ff', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 9, 'created': '2023-03-07 09:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7ec3cc6b9cb86cf258c2cbf411d909c6f208f1a9', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 10, 'created': '2023-03-07 12:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fe1a14cc50bd1fcccb9224bd8cda6ddd50a10361', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 11, 'created': '2023-03-27 12:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a7532d36296bd5ebee01879de710effc600c7e95', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 12, 'created': '2023-03-27 15:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dd5263de6845f44fca66bb0a1322dacff5cd449f', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 13, 'created': '2023-03-27 18:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d8325e70ecd5e28ddb42a8c587b3cf73177599f2', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 14, 'created': '2023-03-27 18:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f36b744e39799400994902b6d4ddaea7df0f1713', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 15, 'created': '2023-03-28 07:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a06b39a73b08f865244c1305f42b5fe974b6437f', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 16, 'created': '2023-03-28 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/23eda3c2edb8b06e5222cc5348454e907c6503a0', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 17, 'created': '2023-03-28 09:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6602349cb0d97022244c4352a6825552e4f48cb9', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 18, 'created': '2023-03-29 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fa15cc68022edfd39f2122f202f6597565629915', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 19, 'created': '2023-03-30 10:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8f981168aa112effe1938a1e3a986677956245f6', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 20, 'created': '2023-04-02 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a608ffe76a41c51b6b601f10ffb81ba1a4aeab55', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 21, 'created': '2023-04-04 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/941d069149a4f90050ad99618760580f91eee3d2', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 22, 'created': '2023-04-17 09:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6e86ef3df9d51adc9c38716582739c0a5a57dde6', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 23, 'created': '2023-04-20 11:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/01e5f12ced8292a904d989212e5175df411b3d03', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 24, 'created': '2023-04-20 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/54be46ae344d48e55968d3bec072cd3b3a927bdb', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 25, 'created': '2023-05-10 11:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f5de2822607d89bba859fd171fd3e4d5f40c88b1', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 26, 'created': '2023-05-10 13:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9a73ef50b82effc38034c4c33da0d19ee64d3692', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 27, 'created': '2023-05-11 11:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b197caca1a1ef582cb7a56fade648709b5e9dbb7', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 28, 'created': '2023-05-15 10:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9604ef7210f20250c71944aca3fa087cb7d14f03', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader,Member and Admin srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 29, 'created': '2023-05-18 14:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1733a5a3bcb92ec87e626dff31c9c0d42974af46', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader,Member and Admin srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 30, 'created': '2023-05-18 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1ad8b6da1d7e9f3a2bf5fd30346e4ccc0f14dc5f', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 31, 'created': '2023-05-18 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/22083f2d1287657b132aefe96f6aff40daa710ec', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 32, 'created': '2023-05-23 10:45:37.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/de601aeb6bb5a3467ead8231f0d101128360fa40', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}]",317,872986,de601aeb6bb5a3467ead8231f0d101128360fa40,134,9,32,35621,,,0,"[srbac] Test srbac on snapshots

Adding Reader and Member srbac tests with snapshots operations

Change-Id: I838ba765851485e05df785740257caf89492e104
Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/86/872986/32 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_snapshots.py'],1,bddd3de2041362cd15234dc882ad5bd3ad9c6362,cinder_srbac_snapshots,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.config import CONF from tempest.common import waiters from tempest.lib import decorators, exceptions from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils # from tempest.lib.decorators import cleanup_order from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base class VolumeV3RbacSnapshotsTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, f'os_{cls.credentials[0]}') cls.client = cls.persona.snapshots_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, f'os_{cls.credentials[0]}') @decorators.cleanup_order def create_volume(self, client, **kwargs): """"""Wrapper utility that returns a test volume. """""" kwargs['size'] = CONF.volume.volume_size kwargs['name'] = data_utils.rand_name(VolumeV3RbacSnapshotsTests.__name__ + '-Volume') volume_id = client.create_volume(**kwargs)['volume']['id'] self.cleanup(test_utils.call_and_ignore_notfound_exc, self.delete_volume, client=client, volume_id=volume_id) waiters.wait_for_volume_resource_status(client=client, resource_id=volume_id, status='available') return volume_id @decorators.cleanup_order def create_snapshot(self, client, volume_id, **kwargs): """"""Wrapper utility that returns a test snapshot. """""" kwargs['name'] = data_utils.rand_name(VolumeV3RbacSnapshotsTests.__name__ + '-Snapshot') snapshot_id = client.create_snapshot(volume_id=volume_id, **kwargs)['snapshot']['id'] self.cleanup( test_utils.call_and_ignore_notfound_exc, self.delete_snapshot, client=client, snapshot_id=snapshot_id ) waiters.wait_for_volume_resource_status(client=client, resource_id=snapshot_id, status='available') return snapshot_id @staticmethod def delete_volume(client, volume_id): """"""Delete volume by the given client"""""" client.delete_volume(volume_id) client.wait_for_resource_deletion(volume_id) @staticmethod def delete_snapshot(client, snapshot_id): """"""Delete snapshot by the given client"""""" client.delete_snapshot(snapshot_id) client.wait_for_resource_deletion(snapshot_id) @abc.abstractmethod def test_list_snapshots(self): pass @abc.abstractmethod def test_show_snapshot(self): pass class ProjectMemberTests(VolumeV3RbacSnapshotsTests, base.BaseVolumeTest): credentials = ['project_member', 'project_alt_member'] @classmethod def setup_clients(cls): super().setup_clients() cls.volumes_alt_client = cls.os_project_alt_member.volumes_client_latest cls.snapshots_alt_client = cls.os_project_alt_member.snapshots_client_latest cls.volumes_member_client = cls.os_project_member.volumes_client_latest cls.snapshots_member_client = cls.os_project_member.snapshots_client_latest @decorators.idempotent_id('5b3ec87f-443f-42f7-bd3c-ab05ea30c5e1') def test_list_snapshots(self): volume_id = self.create_volume(client=self.volumes_alt_client) self.create_snapshot(client=self.snapshots_alt_client, volume_id=volume_id) self.do_request(method='list_snapshots', expected_status=200) @decorators.idempotent_id('6fee8967-951c-4957-b51b-97b83c13c7c3') def test_show_snapshot(self): volume_id = self.create_volume(client=self.volumes_member_client) snapshot_id = self.create_snapshot(client=self.snapshots_member_client, volume_id=volume_id) self.do_request(method='show_snapshot', expected_status=200, snapshot_id=snapshot_id) class ProjectReaderTests(ProjectMemberTests, base.BaseVolumeTest): credentials = ['project_reader', 'project_member', 'project_alt_member'] @classmethod def setup_clients(cls): super().setup_clients() @decorators.idempotent_id('dd8e19dc-c8fd-443c-8aed-cdffe07fa6be') def test_list_snapshots(self): super().test_list_snapshots() @decorators.idempotent_id('6f69e8ed-4e11-40a1-9620-258cf3c45872') def test_show_snapshot(self): super().test_show_snapshot() ",,125,0
openstack%2Fcharm-hacluster~stable%2Fjammy~I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267,openstack/charm-hacluster,stable/jammy,I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267,Update bundles to use yoga,ABANDONED,2022-10-18 00:58:17.000000000,2023-05-29 19:27:38.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 00:58:17.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/f9a2f4856fa09104bec686c088cb5892c4132111', 'message': 'Update bundles to use yoga\n\nThis change reconfigures the bundles to use OpenStack yoga, the last\nversion that supports Focal and Jammy.\n\nChange-Id: I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267\nCloses-Bug: #1991528\n(cherry picked from commit 375060fcf278a177b923f280e272bb29fd05a899)\n'}]",1,861680,f9a2f4856fa09104bec686c088cb5892c4132111,12,3,1,2424,,,0,"Update bundles to use yoga

This change reconfigures the bundles to use OpenStack yoga, the last
version that supports Focal and Jammy.

Change-Id: I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267
Closes-Bug: #1991528
(cherry picked from commit 375060fcf278a177b923f280e272bb29fd05a899)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/80/861680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,f9a2f4856fa09104bec686c088cb5892c4132111,bug/1991528, channel: yoga/edge, channel: latest/edge,2,2
openstack%2Fcharm-hacluster~stable%2Fjammy~I33aa8452dd73d7d9f272b5f9c74319b768cda743,openstack/charm-hacluster,stable/jammy,I33aa8452dd73d7d9f272b5f9c74319b768cda743,Update bundles to use 8.0/edge,ABANDONED,2023-05-26 19:58:17.000000000,2023-05-29 19:27:30.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 19:58:17.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c82793475e1c4c9c9ccea77f6c57632f849f1b81', 'message': 'Update bundles to use 8.0/edge\n\nChange-Id: I33aa8452dd73d7d9f272b5f9c74319b768cda743\n'}]",2,884556,c82793475e1c4c9c9ccea77f6c57632f849f1b81,7,3,1,2424,,,0,"Update bundles to use 8.0/edge

Change-Id: I33aa8452dd73d7d9f272b5f9c74319b768cda743
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/56/884556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,c82793475e1c4c9c9ccea77f6c57632f849f1b81,bug/1991528, channel: 8.0/edge channel: 8.0/edge, channel: latest/edge channel: latest/edge,4,4
openstack%2Fneutron~stable%2Fzed~If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,openstack/neutron,stable/zed,If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,docs: Deindent code blocks,MERGED,2023-05-16 06:09:56.000000000,2023-05-29 19:24:31.000000000,2023-05-29 19:23:11.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 06:09:56.000000000', 'files': ['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/438e486451f1bbb36df5970d6953651ea54e54fe', 'message': 'docs: Deindent code blocks\n\nWe had a number of code blocks that were being incorrectly rendered\ninside block quotes, which messed with formatting somewhat. Correct\nthem. This was done using the following script:\n\n  sphinx-build -W -b xml doc/source doc/build/xml\n  files=$(find doc/build/xml -name \'*.xml\' -print)\n  for file in $files; do\n      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then\n          echo ""$file""\n      fi\n  done\n\nNote that this also highlighted a file using DOS line endings. This is\ncorrected.\n\nChange-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)\n(cherry picked from commit 1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2)\nConflicts:\n\tdoc/source/admin/config-routed-networks.rst\n'}]",0,883226,438e486451f1bbb36df5970d6953651ea54e54fe,8,4,1,13861,,,0,"docs: Deindent code blocks

We had a number of code blocks that were being incorrectly rendered
inside block quotes, which messed with formatting somewhat. Correct
them. This was done using the following script:

  sphinx-build -W -b xml doc/source doc/build/xml
  files=$(find doc/build/xml -name '*.xml' -print)
  for file in $files; do
      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then
          echo ""$file""
      fi
  done

Note that this also highlighted a file using DOS line endings. This is
corrected.

Change-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)
(cherry picked from commit 1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2)
Conflicts:
	doc/source/admin/config-routed-networks.rst
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/883226/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst']",8,438e486451f1bbb36df5970d6953651ea54e54fe,docs,".. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false.. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2"," .. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false .. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2",707,711
openstack%2Fneutron~stable%2F2023.1~If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,openstack/neutron,stable/2023.1,If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,docs: Deindent code blocks,MERGED,2023-05-16 06:06:34.000000000,2023-05-29 19:24:24.000000000,2023-05-29 19:23:07.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 06:06:34.000000000', 'files': ['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/config-routed-networks.rst', 'doc/source/admin/ovn/routed_provider_networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2', 'message': 'docs: Deindent code blocks\n\nWe had a number of code blocks that were being incorrectly rendered\ninside block quotes, which messed with formatting somewhat. Correct\nthem. This was done using the following script:\n\n  sphinx-build -W -b xml doc/source doc/build/xml\n  files=$(find doc/build/xml -name \'*.xml\' -print)\n  for file in $files; do\n      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then\n          echo ""$file""\n      fi\n  done\n\nNote that this also highlighted a file using DOS line endings. This is\ncorrected.\n\nChange-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)\n'}]",1,883225,1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2,8,4,1,13861,,,0,"docs: Deindent code blocks

We had a number of code blocks that were being incorrectly rendered
inside block quotes, which messed with formatting somewhat. Correct
them. This was done using the following script:

  sphinx-build -W -b xml doc/source doc/build/xml
  files=$(find doc/build/xml -name '*.xml' -print)
  for file in $files; do
      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then
          echo ""$file""
      fi
  done

Note that this also highlighted a file using DOS line endings. This is
corrected.

Change-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/883225/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/config-routed-networks.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst']",9,1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2,docs,".. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false.. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2"," .. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false .. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2",708,712
openstack%2Fneutron~master~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,master,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-04-18 18:28:24.000000000,2023-05-29 19:24:23.000000000,2023-05-29 19:23:03.000000000,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 18:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b67d4152e5f091f2f51500cfae80884884faae8', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when sb_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}, {'number': 2, 'created': '2023-05-16 21:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7bc9a85c4586b33bf88a54534b722ccd5d425c', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when sb_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}, {'number': 3, 'created': '2023-05-16 21:33:30.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a86e300a0b3c9b00974041935861ffb9279a6960', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}]",3,880773,a86e300a0b3c9b00974041935861ffb9279a6960,20,4,3,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/880773/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,7b67d4152e5f091f2f51500cfae80884884faae8,catch_ipam," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~stable%2Fussuri~I943f2fb4db9dc33dc372f844d6133faff415befe,openstack/neutron,stable/ussuri,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 13:51:50.000000000,2023-05-29 19:24:21.000000000,2023-05-29 19:22:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b3b5fd191f9621cbbf5db4f0cdd541b8336da1', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n'}, {'number': 2, 'created': '2023-05-18 15:05:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b96edbeef8f76b57be7bd5f93d8c0acfc430a61', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n'}]",1,883508,5b96edbeef8f76b57be7bd5f93d8c0acfc430a61,15,3,2,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py
  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/883508/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,99b3b5fd191f9621cbbf5db4f0cdd541b8336da1,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,142,34
openstack%2Fneutron~stable%2Fwallaby~I943f2fb4db9dc33dc372f844d6133faff415befe,openstack/neutron,stable/wallaby,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 14:39:08.000000000,2023-05-29 19:24:18.000000000,2023-05-29 19:22:55.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:39:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d636685f497f5ca2784f92f5d5b8bd24cf35c170', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883535,d636685f497f5ca2784f92f5d5b8bd24cf35c170,12,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/883535/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,d636685f497f5ca2784f92f5d5b8bd24cf35c170,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,121,27
openstack%2Fneutron~stable%2Fvictoria~I943f2fb4db9dc33dc372f844d6133faff415befe,openstack/neutron,stable/victoria,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 17:16:39.000000000,2023-05-29 19:24:08.000000000,2023-05-29 19:22:51.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 17:16:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85befc96787a71634576fdc54404e264861997da', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883555,85befc96787a71634576fdc54404e264861997da,11,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/883555/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,85befc96787a71634576fdc54404e264861997da,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,142,34
openstack%2Fopenstack-ansible-ops~master~I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa,openstack/openstack-ansible-ops,master,I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa,Update distros for CI,NEW,2023-05-29 15:45:50.000000000,2023-05-29 19:18:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-29 15:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7aabfac6a8e39f1792ab87c0203aa8607c920123', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 2, 'created': '2023-05-29 16:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6e5bc5508f72fa7c4bbdd028c3ca59f3569bbd5e', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 3, 'created': '2023-05-29 16:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/824ebfa647378729ee8a7f4236b48539985b7672', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 4, 'created': '2023-05-29 16:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ce323cc388ae96394660084d0f4c3f39d278e73c', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 5, 'created': '2023-05-29 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/369a5878c7c47cee4df5b70c546e82951a2698f9', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 6, 'created': '2023-05-29 16:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/934cba67cf518cbd5d6592f6b843761811816fdb', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 7, 'created': '2023-05-29 17:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/0e0021cbfe1cb2b25bd9b3e4651a67e3b90bc470', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 8, 'created': '2023-05-29 17:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4e1f6547fa15bb2439c7608be1721c872cc2730e', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 9, 'created': '2023-05-29 17:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3ba2e645c14aaa56bd2b578de278d8e67b52c20f', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 10, 'created': '2023-05-29 18:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/1166db24df636b5c123bfe86afc078077516f0be', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 11, 'created': '2023-05-29 18:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/bd1bb67daf67bac0bc022452c807fd88c3c2b707', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 12, 'created': '2023-05-29 18:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6cda6149856a9707bc2b41e579fb05220381147e', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 13, 'created': '2023-05-29 18:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a38237c198a6aa5b30faaa1dba051a85c17d5073', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}, {'number': 14, 'created': '2023-05-29 18:53:34.000000000', 'files': ['skydive/ansible-role-requirements.yml', 'skydive/roles/traefik_common/vars/suse.yml', 'osquery/tests/functional.yml', 'skydive/roles/skydive_common/vars/suse.yml', 'elk_metrics_7x/roles/elastic_repositories/vars/redhat.yml', 'bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh', 'osquery/installDB.yml', 'osquery/tests/ansible-role-requirements.yml', 'osquery/ansible-role-requirements.yml', 'skydive/roles/traefik_common/vars/ubuntu.yml', 'skydive/roles/skydive_common/vars/debian.yml', 'elk_metrics_7x/roles/elastic_repositories/tasks/elastic_dnf_repos.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/fd86a9a0d8f312c2e6e88a225e9988818b832445', 'message': 'Update distros for CI\n\nCurrently we have unsupported distributions in our CI for the repo.\nThis patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.\n\nChange-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa\n'}]",0,884637,fd86a9a0d8f312c2e6e88a225e9988818b832445,16,1,14,28619,,,0,"Update distros for CI

Currently we have unsupported distributions in our CI for the repo.
This patch replaces CentOS 7 with Rocky 9 and Ubuntu 18.04 with 22.04.

Change-Id: I4f50f4d55e9f5b2dc64819ee2430aca228a6f2aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/37/884637/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,7aabfac6a8e39f1792ab87c0203aa8607c920123,," name: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-jammy"" nodeset: ubuntu-jammy parent: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-jammy"" name: ""openstack-ansible-ops:elk_metrics_7x-rocky-9"" parent: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-jammy"" nodeset: rockylinux-9 name: ""openstack-ansible-ops:osquery-ubuntu-jammy"" nodeset: ubuntu-jammy name: ""openstack-ansible-ops:skydive-ubuntu-jammy"" nodeset: ubuntu-jammy name: ""openstack-ansible-ops:skydive-rocky-9"" parent: ""openstack-ansible-ops:skydive-ubuntu-jammy"" nodeset: rockylinux-9","- job: name: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-bionic"" parent: base description: ""Runs a gate test on the elk_metrics_6x project."" run: ""elk_metrics_6x/tests/test.yml"" post-run: ""elk_metrics_6x/tests/post-run.yml"" nodeset: ubuntu-bionic files: - ^elk_metrics_6x/.* - ^bootstrap-embedded-ansible/.* vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_elk: false name: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-bionic"" nodeset: ubuntu-bionic parent: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-bionic"" name: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-jammy"" parent: ""openstack-ansible-ops:elk_metrics_7x-ubuntu-bionic"" nodeset: ubuntu-jammy name: ""openstack-ansible-ops:elk_metrics_6x-centos-7"" parent: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-bionic"" nodeset: centos-7 voting: false - job: name: ""openstack-ansible-ops:elk_metrics_6x-centos-7-clustered"" parent: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-bionic"" nodeset: centos-7 voting: false vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_elk: true - job: name: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-bionic-clustered"" parent: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-bionic"" nodeset: ubuntu-bionic voting: false vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_elk: true - job: name: ""openstack-ansible-ops:osquery-ubuntu-bionic"" nodeset: ubuntu-bionic- job: name: ""openstack-ansible-ops:osquery-ubuntu-bionic-clustered"" parent: ""openstack-ansible-ops:osquery-ubuntu-bionic"" nodeset: ubuntu-bionic vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_kolide: true name: ""openstack-ansible-ops:skydive-ubuntu-bionic"" nodeset: ubuntu-bionic name: ""openstack-ansible-ops:skydive-centos-7"" parent: ""openstack-ansible-ops:skydive-ubuntu-bionic"" nodeset: centos-7",23,69
openstack%2Fneutron~stable%2Fxena~I943f2fb4db9dc33dc372f844d6133faff415befe,openstack/neutron,stable/xena,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 14:38:52.000000000,2023-05-29 19:17:30.000000000,2023-05-29 19:16:14.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:38:52.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/802f03b4de51f5339dc4970381b422107556406e', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883534,802f03b4de51f5339dc4970381b422107556406e,12,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/883534/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,802f03b4de51f5339dc4970381b422107556406e,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,121,27
openstack%2Fneutron~master~I6b51b41be90aad5566960701344a9cc710abbc0d,openstack/neutron,master,I6b51b41be90aad5566960701344a9cc710abbc0d,Add extra log to help figuring out OVS events,MERGED,2023-01-04 09:39:40.000000000,2023-05-29 19:12:10.000000000,2023-05-29 19:11:08.000000000,"[{'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 09:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c6314ec6667db2ad91d040783f46a68ce9900a', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 2, 'created': '2023-01-04 16:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df0e9181db39d4d4334fa8b43973468dcb2ec8dc', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 3, 'created': '2023-01-05 10:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b78a10ed83827962f66fe4140deb9ca5295e03a', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 4, 'created': '2023-05-04 09:22:37.000000000', 'files': ['neutron/agent/common/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78dbe55f19b61dc977bb255d135049712ceb0e8c', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched\nby neutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}]",20,869163,78dbe55f19b61dc977bb255d135049712ceb0e8c,38,5,4,11583,,,0,"Add extra log to help figuring out OVS events

When something new is appearing on OVS, an event is fired and catched
by neutron agent.

Sometimes, it's useful to have debug info about these events.

Change-Id: I6b51b41be90aad5566960701344a9cc710abbc0d
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/869163/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovsdb_monitor.py'],1,56c6314ec6667db2ad91d040783f46a68ce9900a,," LOG.debug('%(len)s new events from OVS: %(events)s', {""len"": len(json), ""events"": json}) if devices_added: LOG.debug( 'Adding %(len)s ""added"" events to new_events: %(events)s', {""len"": len(devices_added), ""events"": devices_added}) if devices_modified: LOG.debug( 'Adding %(len)s ""modified"" events to new_events: %(events)s', {""len"": len(devices_modified), ""events"": devices_modified}) if devices_removed: LOG.debug( 'Adding %(len)s ""removed"" events to new_events: %(events)s', {""len"": len(devices_removed), ""events"": devices_removed}) if any([len(self.new_events['added']) > 0, len(self.new_events['modified']) > 0, len(self.new_events['removed']) > 0]): LOG.debug( 'Current size of new_events: added=%(added)s ' 'modified=%(modified)s removed=%(removed)s', {""added"": len(self.new_events['added']), ""modified"": len(self.new_events['modified']), ""removed"": len(self.new_events['removed'])}) ",,26,0
openstack%2Fopenstack-ansible~stable%2Fyoga~I1fd9c7fe96dbba708e3fba2f769838605bf9ad05,openstack/openstack-ansible,stable/yoga,I1fd9c7fe96dbba708e3fba2f769838605bf9ad05,Force enable openstack_service_token_roles_required,MERGED,2023-05-24 18:48:53.000000000,2023-05-29 19:02:53.000000000,2023-05-29 19:00:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 18:48:53.000000000', 'files': ['releasenotes/notes/service_token_roles_required_forced-b9ae6ce937c0ec32.yaml', 'inventory/group_vars/all/keystone.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a1b22d09457f30753cd228aeef7e5d2f877203e', 'message': ""Force enable openstack_service_token_roles_required\n\nTo reduce downtime during major upgrades, we've disabled\nrequirement of providing service tokens along with user ones.\n\nHowever with OSSA-2023-003 enabling service tokens is a requirement. So\nwe have no other choice but to change the value and infrom users about\nchanges with release note.\n\nDistro jobs are removed to prevent circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\nChange-Id: I1fd9c7fe96dbba708e3fba2f769838605bf9ad05\n""}]",4,884275,4a1b22d09457f30753cd228aeef7e5d2f877203e,19,3,1,28619,,,0,"Force enable openstack_service_token_roles_required

To reduce downtime during major upgrades, we've disabled
requirement of providing service tokens along with user ones.

However with OSSA-2023-003 enabling service tokens is a requirement. So
we have no other choice but to change the value and infrom users about
changes with release note.

Distro jobs are removed to prevent circular dependency

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213
Change-Id: I1fd9c7fe96dbba708e3fba2f769838605bf9ad05
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/884275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/service_token_roles_required_forced-b9ae6ce937c0ec32.yaml', 'inventory/group_vars/all/keystone.yml', 'zuul.d/project.yaml']",3,4a1b22d09457f30753cd228aeef7e5d2f877203e,osa/OSSA-2023-003,, - openstack-ansible-deploy-aio_distro_metal-jobs,12,4
openstack%2Fkolla~stable%2F2023.1~I18d3ca8bd83a72dba15fc7e543270e260ae4dab0,openstack/kolla,stable/2023.1,I18d3ca8bd83a72dba15fc7e543270e260ae4dab0,rocky/centos: mark bifrost buildable,MERGED,2023-05-29 16:05:45.000000000,2023-05-29 18:58:11.000000000,2023-05-29 18:57:15.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-29 16:05:45.000000000', 'files': ['kolla/image/unbuildable.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f911485bbef1e8d1f61daf938da1230ea8f927e', 'message': 'rocky/centos: mark bifrost buildable\n\nChange-Id: I18d3ca8bd83a72dba15fc7e543270e260ae4dab0\n(cherry picked from commit 878e9c0524e97dda7d61c6161d33e26052d6285f)\n'}]",1,884533,3f911485bbef1e8d1f61daf938da1230ea8f927e,9,3,1,22629,,,0,"rocky/centos: mark bifrost buildable

Change-Id: I18d3ca8bd83a72dba15fc7e543270e260ae4dab0
(cherry picked from commit 878e9c0524e97dda7d61c6161d33e26052d6285f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/884533/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/unbuildable.py'],1,3f911485bbef1e8d1f61daf938da1230ea8f927e,,," ""bifrost-base"", # EPEL-related breakage ""bifrost-base"", # EPEL-related breakage",0,2
openstack%2Fneutron~master~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,master,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-01-09 22:41:14.000000000,2023-05-29 18:37:22.000000000,2023-05-29 18:35:03.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-01-09 22:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92047373d0120c206901366abee458905ee45544', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n'}, {'number': 2, 'created': '2023-05-19 19:18:32.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b677d65b2d9cf9e3ff58677300712fe3fe40da04', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n'}]",1,869613,b677d65b2d9cf9e3ff58677300712fe3fe40da04,13,4,2,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the openstack overcloud backup
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/869613/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,92047373d0120c206901366abee458905ee45544,migration_nfs_subnets,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Fneutron~master~Ic0e697bb212c7795a40c0b9be01345db26c2874e,openstack/neutron,master,Ic0e697bb212c7795a40c0b9be01345db26c2874e,SG rule dict method allows DB object and Neutron OVO,MERGED,2023-05-23 11:07:15.000000000,2023-05-29 18:36:20.000000000,2023-05-29 18:34:55.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 11:07:15.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43ef447a5787c6065638652466d1c61c30750d76', 'message': 'SG rule dict method allows DB object and Neutron OVO\n\nThis change allows to pass to ``_make_security_group_rule_dict`` method\nthe Neutron OVO. That could include synthetic fields added in the OVO\n(SQL view) that are not present in the database register.\n\nThis change will be needed in next patches to increase the information\nreturned by this method, using new synthetic fields added to the\nsecurity group rule OVO.\n\nPartial-Bug: #2019960\nChange-Id: Ic0e697bb212c7795a40c0b9be01345db26c2874e\n'}]",2,883902,43ef447a5787c6065638652466d1c61c30750d76,16,4,1,16688,,,0,"SG rule dict method allows DB object and Neutron OVO

This change allows to pass to ``_make_security_group_rule_dict`` method
the Neutron OVO. That could include synthetic fields added in the OVO
(SQL view) that are not present in the database register.

This change will be needed in next patches to increase the information
returned by this method, using new synthetic fields added to the
security group rule OVO.

Partial-Bug: #2019960
Change-Id: Ic0e697bb212c7795a40c0b9be01345db26c2874e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/883902/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,43ef447a5787c6065638652466d1c61c30750d76,bug/2019960," self._make_security_group_rule_dict(r) res_rule_dict = self._make_security_group_rule_dict(sg_rule) if isinstance(security_group_rule, base_obj.NeutronDbObject): sg_rule_db = security_group_rule.db_obj else: sg_rule_db = security_group_rule res = {'id': sg_rule_db.id, 'project_id': sg_rule_db.project_id, 'tenant_id': sg_rule_db.project_id, 'security_group_id': sg_rule_db.security_group_id, 'ethertype': sg_rule_db.ethertype, 'direction': sg_rule_db.direction, 'protocol': sg_rule_db.protocol, 'port_range_min': sg_rule_db.port_range_min, 'port_range_max': sg_rule_db.port_range_max, 'remote_ip_prefix': sg_rule_db.remote_ip_prefix, 'remote_address_group_id': sg_rule_db.remote_address_group_id, sg_rule_db), 'remote_group_id': sg_rule_db.remote_group_id, 'standard_attr_id': sg_rule_db.standard_attr.id, } resource_extend.apply_funcs(ext_sg.SECURITYGROUPRULES, res, sg_rule_db) remote_ip_prefix = rule.remote_ip_prefix return self._make_security_group_rule_dict(security_group_rule, fields)"," self._make_security_group_rule_dict(r.db_obj) res_rule_dict = self._make_security_group_rule_dict(sg_rule.db_obj) res = {'id': security_group_rule['id'], 'tenant_id': security_group_rule['tenant_id'], 'security_group_id': security_group_rule['security_group_id'], 'ethertype': security_group_rule['ethertype'], 'direction': security_group_rule['direction'], 'protocol': security_group_rule['protocol'], 'port_range_min': security_group_rule['port_range_min'], 'port_range_max': security_group_rule['port_range_max'], 'remote_ip_prefix': security_group_rule['remote_ip_prefix'], 'remote_address_group_id': security_group_rule[ 'remote_address_group_id'], security_group_rule), 'remote_group_id': security_group_rule['remote_group_id'], 'standard_attr_id': security_group_rule.standard_attr.id, } resource_extend.apply_funcs(ext_sg.SECURITYGROUPRULES, res, security_group_rule) remote_ip_prefix = rule.get('remote_ip_prefix') return self._make_security_group_rule_dict( security_group_rule.db_obj, fields)",23,21
openstack%2Fcharm-octavia~stable%2Fzed~I7469c45fd90207857918b3c727fc2779d32236f0,openstack/charm-octavia,stable/zed,I7469c45fd90207857918b3c727fc2779d32236f0,Add pkg-config to build-packages,MERGED,2023-04-20 16:08:06.000000000,2023-05-29 17:50:30.000000000,2023-05-29 17:50:30.000000000,"[{'_account_id': 1131}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 16:08:06.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/73af217350811ca3cca4ba2e794feadea2c8f071', 'message': 'Add pkg-config to build-packages\n\nCloses-Bug: #2016922\nChange-Id: I7469c45fd90207857918b3c727fc2779d32236f0\n(cherry picked from commit 07d0b94cdbd3f95b2d1fb74537e3f37d7237594f)\n'}]",3,880989,73af217350811ca3cca4ba2e794feadea2c8f071,13,5,1,2424,,,0,"Add pkg-config to build-packages

Closes-Bug: #2016922
Change-Id: I7469c45fd90207857918b3c727fc2779d32236f0
(cherry picked from commit 07d0b94cdbd3f95b2d1fb74537e3f37d7237594f)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/89/880989/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,73af217350811ca3cca4ba2e794feadea2c8f071,bug/2016922, - pkg-config,,1,0
openstack%2Fneutron~stable%2Fxena~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,stable/xena,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-23 13:47:51.000000000,2023-05-29 17:48:42.000000000,2023-05-29 17:47:25.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30772}]","[{'number': 1, 'created': '2023-05-23 13:47:51.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcfe550d5b164b6521eae0de514fc961bba35bb0', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",1,883912,fcfe550d5b164b6521eae0de514fc961bba35bb0,10,4,1,21798,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/883912/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,fcfe550d5b164b6521eae0de514fc961bba35bb0,bug/2016704-stable/xena,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Fkolla-ansible~stable%2Fyoga~Iac917ef4471905caab591cd64eab379e150a8524,openstack/kolla-ansible,stable/yoga,Iac917ef4471905caab591cd64eab379e150a8524,hacluster: Use nodename to align with nova service names,MERGED,2023-02-28 12:55:57.000000000,2023-05-29 17:37:55.000000000,2023-05-29 17:36:42.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-02-28 12:55:57.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b47c013cfe76d4496e48e65c3decc18552d6ebce', 'message': 'hacluster: Use nodename to align with nova service names\n\nFor Masakari and HACluster to work properly, the hostnames used\nin HACluster need to match with the hostnames used in Nova.\n\nChange-Id: Iac917ef4471905caab591cd64eab379e150a8524\n(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)\n'}]",1,875670,b47c013cfe76d4496e48e65c3decc18552d6ebce,15,3,1,29268,,,0,"hacluster: Use nodename to align with nova service names

For Masakari and HACluster to work properly, the hostnames used
in HACluster need to match with the hostnames used in Nova.

Change-Id: Iac917ef4471905caab591cd64eab379e150a8524
(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/875670/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2']",2,b47c013cfe76d4496e48e65c3decc18552d6ebce,, name: {{ hostvars[host].ansible_facts.nodename }}, name: {{ hostvars[host].ansible_facts.hostname }},5,5
openstack%2Fpuppet-nova~stable%2Fxena~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,stable/xena,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:42:08.000000000,2023-05-29 17:23:14.000000000,2023-05-29 17:23:14.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a319dd3ec923780107d3eed6e89e53175b586a47', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n(cherry picked from commit 3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc)\n'}, {'number': 2, 'created': '2023-05-26 07:54:49.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)\n'}]",1,884457,eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/57/884457/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,a319dd3ec923780107d3eed6e89e53175b586a47,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fopenstack-ansible~master~I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519,openstack/openstack-ansible,master,I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519,Reduce stepca scenario to minimum setup,NEW,2023-05-18 12:34:05.000000000,2023-05-29 17:07:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 12:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33dcbdde40b0de2bb606469444d64bd89e1c74e5', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 2, 'created': '2023-05-18 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7b156535bb27a692d628b76bf9f656df70d96922', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 3, 'created': '2023-05-18 14:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1399f4733f7c8cf3fa1da906baa7961cf934f4c', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 4, 'created': '2023-05-19 16:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/733a5957ac58acc9c5f34e98110091045018aa5b', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 5, 'created': '2023-05-29 14:27:20.000000000', 'files': ['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11dc35b777ac075e76a5be3101674769c20dc62a', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}]",49,883497,11dc35b777ac075e76a5be3101674769c20dc62a,10,1,5,28619,,,0,"Reduce stepca scenario to minimum setup

This patch aims to minimize amount of components that will be deployed
with stepca scenario.

This scenario aims to verify let's encrypt for public interface of
haproxy. thus we basically need to have infra setup + keystone
and ensure that keystone can be accessed through public interface.

So we remove LXC scenario from the template and instead of aio
doing just basic stuff, which is infra + keystone.

healthcheck-openstack is used to ensure that keystone can be accessed
from public endpoint.

Change-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/883497/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh']",2,33dcbdde40b0de2bb606469444d64bd89e1c74e5,," if [[ $SCENARIO =~ ""stepca"" && ! $ACTION =~ ""upgrade"" ]]; then # Verify our infra setup and do not continue with openstack part openstack-ansible healthcheck-openstack.yml -e osa_gather_facts=False fi ",,7,4
openstack%2Fpython-zaqarclient~stable%2Fstein~Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300,openstack/python-zaqarclient,stable/stein,Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300,Update UPPER_CONSTRAINTS_FILE for stable/stein,ABANDONED,2019-03-18 14:56:56.000000000,2023-05-29 16:02:52.000000000,,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 14:56:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/e5a5ec9c54e8153167a82840aad8f3599b5896a4', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300\n'}]",0,644216,e5a5ec9c54e8153167a82840aad8f3599b5896a4,14,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/16/644216/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e5a5ec9c54e8153167a82840aad8f3599b5896a4,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-zaqarclient~stable%2Fstein~I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77,openstack/python-zaqarclient,stable/stein,I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77,Update .gitreview for stable/stein,ABANDONED,2019-03-18 14:56:54.000000000,2023-05-29 16:02:30.000000000,,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 14:56:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/5fe2f3d68ec275bcbddddcddff4757dfd6e524fe', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77\n'}]",1,644215,5fe2f3d68ec275bcbddddcddff4757dfd6e524fe,27,4,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/15/644215/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5fe2f3d68ec275bcbddddcddff4757dfd6e524fe,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fpuppet-nova~stable%2Fyoga~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,stable/yoga,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:39:59.000000000,2023-05-29 15:04:20.000000000,2023-05-29 15:04:20.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n'}, {'number': 2, 'created': '2023-05-26 07:54:35.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/83f3820f9c5c6cc9d9202f96713d61f4910f26ba', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n'}]",1,884455,83f3820f9c5c6cc9d9202f96713d61f4910f26ba,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/55/884455/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fopenstack-ansible-ops~master~I01fc2240232c3c629ce1debc244041d323bc1aa2,openstack/openstack-ansible-ops,master,I01fc2240232c3c629ce1debc244041d323bc1aa2,Fix typos,NEW,2022-09-20 15:49:03.000000000,2023-05-29 14:59:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-20 15:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/90d8fbcf210dbb6e153f1cc66a6e8df2db515053', 'message': 'Fix typos\n\nChange-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2\n'}, {'number': 2, 'created': '2023-05-29 14:28:30.000000000', 'files': ['elk_metrics_6x/installMonitorStack.yml', 'elk_metrics_7x/installMonitorStack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e55c3165ef52f5a134fd30ec8cb37e421b0f4ee0', 'message': 'Fix typos\n\nChange-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2\n'}]",5,858546,e55c3165ef52f5a134fd30ec8cb37e421b0f4ee0,16,4,2,20733,,,0,"Fix typos

Change-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/46/858546/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/installMonitorStack.yml', 'elk_metrics_7x/installMonitorStack.yml']",2,90d8fbcf210dbb6e153f1cc66a6e8df2db515053,typos, - inventory_hostname in (, - inventory_hostanme in (,2,2
openstack%2Fkolla-ansible~stable%2Fzed~Iac917ef4471905caab591cd64eab379e150a8524,openstack/kolla-ansible,stable/zed,Iac917ef4471905caab591cd64eab379e150a8524,hacluster: Use nodename to align with nova service names,MERGED,2023-02-28 12:55:39.000000000,2023-05-29 14:44:35.000000000,2023-05-29 14:43:32.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-02-28 12:55:39.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0a6271e7a2dff5f7dc097d9c6571d679ff04578', 'message': 'hacluster: Use nodename to align with nova service names\n\nFor Masakari and HACluster to work properly, the hostnames used\nin HACluster need to match with the hostnames used in Nova.\n\nChange-Id: Iac917ef4471905caab591cd64eab379e150a8524\n(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)\n'}]",2,875609,c0a6271e7a2dff5f7dc097d9c6571d679ff04578,16,3,1,29268,,,0,"hacluster: Use nodename to align with nova service names

For Masakari and HACluster to work properly, the hostnames used
in HACluster need to match with the hostnames used in Nova.

Change-Id: Iac917ef4471905caab591cd64eab379e150a8524
(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/875609/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2']",2,c0a6271e7a2dff5f7dc097d9c6571d679ff04578,, name: {{ hostvars[host].ansible_facts.nodename }}, name: {{ hostvars[host].ansible_facts.hostname }},5,5
openstack%2Fpython-neutronclient~master~I76e4c7ab742d0bf27fecfda8fab41035618a4e24,openstack/python-neutronclient,master,I76e4c7ab742d0bf27fecfda8fab41035618a4e24,Remove 'bgp speaker show dragents',MERGED,2023-05-17 12:05:01.000000000,2023-05-29 14:40:03.000000000,2023-05-29 14:38:18.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-05-17 12:05:01.000000000', 'files': ['neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_dragent.py', 'releasenotes/notes/remove-bgp-speaker-show-dragents-0a0db4b72b2feffc.yaml', 'setup.cfg', 'doc/source/cli/osc/v2/bgp-dynamic-routing.rst', 'neutronclient/osc/v2/dynamic_routing/bgp_dragent.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/79c7de463051a5ac832dd26057b5e3710f5ea19a', 'message': ""Remove 'bgp speaker show dragents'\n\nThis has been deprecated for ages and generates an annoying warning when\nbuilding OSC docs. Time to cull it.\n\nChange-Id: I76e4c7ab742d0bf27fecfda8fab41035618a4e24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,883362,79c7de463051a5ac832dd26057b5e3710f5ea19a,13,6,1,15334,,,0,"Remove 'bgp speaker show dragents'

This has been deprecated for ages and generates an annoying warning when
building OSC docs. Time to cull it.

Change-Id: I76e4c7ab742d0bf27fecfda8fab41035618a4e24
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/62/883362/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_dragent.py', 'releasenotes/notes/remove-bgp-speaker-show-dragents-0a0db4b72b2feffc.yaml', 'setup.cfg', 'doc/source/cli/osc/v2/bgp-dynamic-routing.rst', 'neutronclient/osc/v2/dynamic_routing/bgp_dragent.py']",5,79c7de463051a5ac832dd26057b5e3710f5ea19a,,,"class ListDRAgentsHostingBgpSpeaker(command.Lister): """"""(Deprecated) List dynamic routing agents hosting a BGP speaker (Use ""bgp dragent list"" instead) """""" resource = 'agent' list_columns = ['id', 'host', 'admin_state_up', 'alive'] unknown_parts_flag = False def get_parser(self, prog_name): self.log.warning(""The 'openstack bgp speaker show dragents' CLI is "" ""deprecated and will be removed in the future. Use "" ""'openstack bgp dragent list' CLI instead."") parser = super(ListDRAgentsHostingBgpSpeaker, self).get_parser(prog_name) parser.add_argument('bgp_speaker', metavar='<bgp-speaker>', help=_(""List dynamic routing agents hosting a "" ""BGP speaker (name or ID)"")) return parser def take_action(self, parsed_args): client = self.app.client_manager.network speaker_id = client.find_bgp_speaker(parsed_args.bgp_speaker).id data = client.get_bgp_dragents_hosting_speaker(speaker_id) columns = ( 'id', 'agent_type', 'host', 'availability_zone', 'is_alive', 'is_admin_state_up', 'binary' ) column_headers = ( 'ID', 'Agent Type', 'Host', 'Availability Zone', 'Alive', 'State', 'Binary' ) return (column_headers, (utils.get_item_properties( s, columns,) for s in data)) ",6,94
openstack%2Fpython-neutronclient~master~Iae1378ffabda3d30257e35a6148e205a9f495eb5,openstack/python-neutronclient,master,Iae1378ffabda3d30257e35a6148e205a9f495eb5,OSC: Remove BGPVPN calls to neutronclient,MERGED,2023-02-28 13:44:01.000000000,2023-05-29 14:39:19.000000000,2023-05-29 14:38:17.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 13:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/59509acd984c1ce03b6441ee791155e51d631d30', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 2, 'created': '2023-03-09 15:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c7259b9b741bc132db4a0fddcb312d06581391b1', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 3, 'created': '2023-03-10 10:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a97c8086598072b881233b02b2b395f6fa1ff1a0', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 4, 'created': '2023-03-13 09:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3e0e290bbc015afc2d28c5ea9dbec4630ae3df5d', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 5, 'created': '2023-03-22 10:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cfbfcc736bb801f2c89d6ee195e0a1947cfb54bf', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 6, 'created': '2023-04-17 08:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c59ff8a5df4997eaf61c5c5d97cb02d60a2ff873', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 7, 'created': '2023-05-22 13:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2ebea3c3a5a83183d1b615d9a91074d47b780b45', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 8, 'created': '2023-05-24 08:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/02c383291e76339300250a0bafac017a5e5c79c3', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 9, 'created': '2023-05-24 09:53:53.000000000', 'files': ['neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_router_association.py', 'requirements.txt', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/fakes.py', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_bgpvpn.py', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/port_association.py', 'neutronclient/osc/v2/networking_bgpvpn/bgpvpn.py', 'neutronclient/osc/v2/networking_bgpvpn/resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/router_association.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d4124aed1ff260eb108b0433cc54625d93ead0d3', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}]",16,875728,d4124aed1ff260eb108b0433cc54625d93ead0d3,35,4,9,8313,,,0,"OSC: Remove BGPVPN calls to neutronclient

With [1] the python binding code in Neutronclient prints warning
about future deprecation, change networking-bgpvpn osc client
code to use totally OpenstackSDK.

[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371

Change-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5
Related-Bug: #1999774
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/28/875728/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/osc/v2/networking_bgpvpn/port_association.py', 'neutronclient/osc/v2/networking_bgpvpn/bgpvpn.py', 'neutronclient/osc/v2/networking_bgpvpn/resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/router_association.py']",4,59509acd984c1ce03b6441ee791155e51d631d30,bug/1999774, return attrs, return {self._resource: attrs},55,70
openstack%2Fnova~master~Icc9b6366aebba2f8468e2127da7b7e099098513a,openstack/nova,master,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,MERGED,2023-02-01 22:51:20.000000000,2023-05-29 14:38:59.000000000,2023-05-29 14:37:44.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-02-01 22:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc7f075b34a6d19182a450c007140d33057f17c7', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 2, 'created': '2023-02-04 09:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5fd49810562ada39ec98e779393b112c12208d1', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 3, 'created': '2023-02-04 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67c57a55005802bdd54e881e97b1d0a4f21bed34', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 4, 'created': '2023-05-23 01:09:06.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/427b2cb4d61cdfaf18b2467eb50b3772dffd3def', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}]",4,872470,427b2cb4d61cdfaf18b2467eb50b3772dffd3def,28,7,4,4690,,,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve offloaded with unified limits
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement
  * Shelve/unshelve with unified limits

Related-Bug: #2003991

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/872470/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,bc7f075b34a6d19182a450c007140d33057f17c7,bug/2003991," def test_unshelve_offloaded_overquota(self): # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance and wait for # it to become SHELVED_OFFLOADED. self._shelve_server(server, expected_state='SHELVED_OFFLOADED') # Try to boot another instance. It should fail because shelved # offloaded instances still consume quota. ex = self.assertRaises(client.OpenStackApiException, self._create_server, flavor_id=1) self.assertEqual(403, ex.response.status_code) # Unshelving the instance should also succeed. self._unshelve_server(server) def test_unshelve_offloaded_overquota_placement(self): # Count quota usage from placement. self.flags(count_usage_from_placement=True, group='quota') # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance and wait for # it to become SHELVED_OFFLOADED. self._shelve_server(server, expected_state='SHELVED_OFFLOADED') # Try to boot another instance. It should succeed because with # placement, shelved offloaded instances do not consume cores/ram # quota. self._create_server(flavor_id=1) # FIXME(melwitt): This is bug #2003991, the unshelve is supposed to # fail if we would be over quota after unshelving. # Now try to unshelve the earlier instance. It should fail because it # would put us over quota to have 4 running instances. # ex = self.assertRaises(client.OpenStackApiException, # self._unshelve_server, # server) # self.assertEqual(403, ex.response.status_code) def test_unshelve_overquota(self): # Test for behavior where the shelved instance is not offloaded. self.flags(shelved_offload_time=3600) # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance. self._shelve_server(server, expected_state='SHELVED') # Try to boot another instance. It should fail because shelved # instances still consume quota. ex = self.assertRaises(client.OpenStackApiException, self._create_server, flavor_id=1) self.assertEqual(403, ex.response.status_code) # Verify that it's still SHELVED. self._wait_for_state_change(server, 'SHELVED') # Unshelving the instance should also succeed. self._unshelve_server(server) def test_unshelve_overquota_placement(self): # Count quota usage from placement, should behave the same as legacy. self.flags(count_usage_from_placement=True, group='quota') self.test_unshelve_overquota() ",,81,0
openstack%2Fcinder-tempest-plugin~master~I21c4f35ec620c6ffb9afd412b3858e338acbf4a2,openstack/cinder-tempest-plugin,master,I21c4f35ec620c6ffb9afd412b3858e338acbf4a2,zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach,ABANDONED,2023-05-24 14:09:19.000000000,2023-05-29 14:31:48.000000000,,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-24 14:09:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e8eb6c22c6062ea01b590fe626a980542112f1df', 'message': 'zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach\n\nThis job is frequently timing out with the default 2h\nlimit, extend it to 3 hours.\n51c56f2 is one potential reason that these jobs are\ntaking longer to run now.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin\n\nChange-Id: I21c4f35ec620c6ffb9afd412b3858e338acbf4a2\n'}]",12,884204,e8eb6c22c6062ea01b590fe626a980542112f1df,26,4,1,4523,,,0,"zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach

This job is frequently timing out with the default 2h
limit, extend it to 3 hours.
51c56f2 is one potential reason that these jobs are
taking longer to run now.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin

Change-Id: I21c4f35ec620c6ffb9afd412b3858e338acbf4a2
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/884204/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e8eb6c22c6062ea01b590fe626a980542112f1df,, timeout: 10800,,1,0
openstack%2Fcinder-tempest-plugin~master~If9237892cbbec750006bcf860ea14ab4d7d6aed5,openstack/cinder-tempest-plugin,master,If9237892cbbec750006bcf860ea14ab4d7d6aed5,zuul: Extend timeout for cbak-ceph job,ABANDONED,2023-05-24 17:43:23.000000000,2023-05-29 14:31:38.000000000,,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:43:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6c82eac3ac5452bd91577b54eccec25a8d78fa31', 'message': 'zuul: Extend timeout for cbak-ceph job\n\ncinder-tempest-plugin-cbak-ceph is timing out (exceeding\nthe 2 hour limit) some of the time, and running at over 1h55m\nwhen it succeeds.  Bump the timeout from 2 to 3 hours to\nensure it can run successfully.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin\n\nChange-Id: If9237892cbbec750006bcf860ea14ab4d7d6aed5\n'}]",6,884258,6c82eac3ac5452bd91577b54eccec25a8d78fa31,13,3,1,4523,,,0,"zuul: Extend timeout for cbak-ceph job

cinder-tempest-plugin-cbak-ceph is timing out (exceeding
the 2 hour limit) some of the time, and running at over 1h55m
when it succeeds.  Bump the timeout from 2 to 3 hours to
ensure it can run successfully.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin

Change-Id: If9237892cbbec750006bcf860ea14ab4d7d6aed5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/58/884258/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c82eac3ac5452bd91577b54eccec25a8d78fa31,, timeout: 10800,,1,0
openstack%2Fopenstacksdk~stable%2Ftrain~Icbb6137e77be8344e32e2e68a3e12d77087e96c5,openstack/openstacksdk,stable/train,Icbb6137e77be8344e32e2e68a3e12d77087e96c5,[stable-only] Use train-eol for heat and drop l-c job,MERGED,2023-05-25 19:19:59.000000000,2023-05-29 13:17:47.000000000,2023-05-29 13:14:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 19:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1bc5817413cc67b72e4a4ae7388ec72749022ff6', 'message': '[stable-only] Use train-eol for heat and drop l-c job\n\nThis is a combination of 2 commits to unblock the gate.\n\n1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack\n\nThis patch is partially used in the squash as only the\nlower-constraints job removal was needed.\n(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)\n\n2. [stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes): instead of ussuri-eol, of course on stable/train\ntrain-eol tag has to be used.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n(cherry picked from commit 320c37ae24b7f07673502ef34299fbbb82a7eeef)\n'}, {'number': 2, 'created': '2023-05-26 11:13:59.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c41c060a3866c119cd824acf95b02f4d4785b59d', 'message': '[stable-only] Use train-eol for heat and drop l-c job\n\nThis is a combination of 2 commits to unblock the gate.\n\n1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack\n\nThis patch is partially used in the squash as only the\nlower-constraints job removal was needed.\n(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)\n\n2. [stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes):\n* instead of ussuri-eol, of course on stable/train train-eol tag has to\n  be used.\n* train-eol tag has to be used for designate and neutron-fwaas as well\n  in openstacksdk-functional-devstack-networking job\n* unstable unit test fixing part is not needed in this backport as that\n  unit test was added only in Ussuri.\n* openstacksdk-ansible-stable-2.x-functional-devstack jobs are failing\n  and they are either removed or set as non-voting on newer branches,\n  so no reason to keep them on the check & gate queues.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n(cherry picked from commit eadba75afc04ebf4c364aeb0f750dd11e5270d3f)\n'}]",0,884437,c41c060a3866c119cd824acf95b02f4d4785b59d,12,3,2,17685,,,0,"[stable-only] Use train-eol for heat and drop l-c job

This is a combination of 2 commits to unblock the gate.

1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack

This patch is partially used in the squash as only the
lower-constraints job removal was needed.
(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)

2. [stable-only] Use ussuri-eol tag for heat checkout

heat transitioned their stable/ussuri and stable/train to End of Life,
thus stable/ussuri and stable/train branches were deleted and causing
branch checkout errors. This patch sets to override the default stable
branch checkout with using the eol tag instead.

NOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src
job is failing and set non-voting even on master, so to unblock the
gate this patch removes it as no reason to make it non-voting on such
old stable/branch as ussuri and train.

NOTE(elod.illes):
* instead of ussuri-eol, of course on stable/train train-eol tag has to
  be used.
* train-eol tag has to be used for designate and neutron-fwaas as well
  in openstacksdk-functional-devstack-networking job
* unstable unit test fixing part is not needed in this backport as that
  unit test was added only in Ussuri.
* openstacksdk-ansible-stable-2.x-functional-devstack jobs are failing
  and they are either removed or set as non-voting on newer branches,
  so no reason to keep them on the check & gate queues.

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

Change-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5
(cherry picked from commit eadba75afc04ebf4c364aeb0f750dd11e5270d3f)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/884437/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,1bc5817413cc67b72e4a4ae7388ec72749022ff6,heat-eol-tag-for-devstack,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,3,55
openstack%2Fdevstack~master~Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672,openstack/devstack,master,Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672,Use RDO official CloudSIG mirrors for C9S deployments,MERGED,2023-05-24 19:06:49.000000000,2023-05-29 13:17:35.000000000,2023-05-29 13:14:36.000000000,"[{'_account_id': 4146}, {'_account_id': 7973}, {'_account_id': 16312}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 34460}]","[{'number': 1, 'created': '2023-05-24 19:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53d9deed186bf35bc29ad7db2732be81306aac7f', 'message': 'Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n'}, {'number': 2, 'created': '2023-05-25 07:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eb46c1e616dfa464a29fb9cc134bfdccfd44c64', 'message': ""Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nIn order to install the rdo-release rpm from repo.fedoraproject.org, I'm\nusing a workaround to wget and install it locally as that server does\nnot supports EMS.\n\nThis is also consistent to CentOS 8 implementatioin.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n""}, {'number': 3, 'created': '2023-05-26 12:22:32.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b2ad00cb66bd38ec6179d3bd1bf41556b966dc8c', 'message': ""Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nIn order to install the rdo-release rpm from repo.fedoraproject.org,\nwhich does not support EMS, I'm using a workaround to wget, which works\nwith non-EMS servers because it uses gnutls instead of openssl, and\ninstall it locally with rpm.\n\nThis is also consistent to CentOS 8 implementatioin.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n""}]",12,884277,b2ad00cb66bd38ec6179d3bd1bf41556b966dc8c,25,7,3,16312,,,0,"Use RDO official CloudSIG mirrors for C9S deployments

Instead of using RDO Trunk repo server, CentOS official mirrors provide
a most reliable infrastructure and supports EMS which is required when
enabling FIPS in C9S.

In order to install the rdo-release rpm from repo.fedoraproject.org,
which does not support EMS, I'm using a workaround to wget, which works
with non-EMS servers because it uses gnutls instead of openssl, and
install it locally with rpm.

This is also consistent to CentOS 8 implementatioin.

Closes-Bug: #2020661
Closes-Bug: #2020434
Change-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/884277/3 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,53d9deed186bf35bc29ad7db2732be81306aac7f,," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # rdo-release.el9.rpm points to latest RDO release, use that for master sudo dnf -y install https://rdoproject.org/repos/rdo-release.el9.rpm else # For stable branches use corresponding release rpm rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") sudo dnf -y install https://rdoproject.org/repos/openstack-${rdo_release}/rdo-release-${rdo_release}.el9.rpm fi", sudo curl -L -o /etc/yum.repos.d/delorean-deps.repo http://trunk.rdoproject.org/centos9-master/delorean-deps.repo,8,1
openstack%2Fcinder-tempest-plugin~master~Id0529a4f0a314996f8c0e8506596aefe0eb8648f,openstack/cinder-tempest-plugin,master,Id0529a4f0a314996f8c0e8506596aefe0eb8648f,zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs,MERGED,2023-05-26 13:52:47.000000000,2023-05-29 13:14:34.000000000,2023-05-29 13:14:34.000000000,"[{'_account_id': 4523}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-26 13:52:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d0e5b91649f943a85e001a9182e7d728da993a46', 'message': 'zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs\n\nThese jobs are frequently timing out with the default 2h\nlimit, extend them to 3 hours.\n51c56f2 is one potential reason that these jobs are\ntaking longer to run now.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin\n\nChange-Id: Id0529a4f0a314996f8c0e8506596aefe0eb8648f\n'}]",7,884504,d0e5b91649f943a85e001a9182e7d728da993a46,17,5,1,4523,,,0,"zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs

These jobs are frequently timing out with the default 2h
limit, extend them to 3 hours.
51c56f2 is one potential reason that these jobs are
taking longer to run now.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin
https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin

Change-Id: Id0529a4f0a314996f8c0e8506596aefe0eb8648f
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/884504/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0e5b91649f943a85e001a9182e7d728da993a46,, timeout: 10800 timeout: 10800,,2,0
openstack%2Fironic~master~I49e2f7f29eb98e5bb4e18614cea0aca726703f55,openstack/ironic,master,I49e2f7f29eb98e5bb4e18614cea0aca726703f55,Fix self_owned_node policy check,MERGED,2023-05-08 16:20:20.000000000,2023-05-29 13:01:45.000000000,2023-05-19 22:23:36.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-08 16:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bca42e35dfca36a46eb5cd137519e151c8e4e8f2', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n""}, {'number': 2, 'created': '2023-05-09 16:51:55.000000000', 'files': ['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9da6dfd73d3b4abe6acba01d9c8176c1581dc51f', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n""}]",9,882597,9da6dfd73d3b4abe6acba01d9c8176c1581dc51f,36,5,2,11655,,,0,"Fix self_owned_node policy check

When enabling scope enforcement, the self_owned_node check could
generate a failure because the check internally can be touched
by both a project scoped and system scoped endpoint.

This change changes the tag in the policy so it doesn't prematurely
return an error to the API consumer.

Change-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/882597/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py']",2,bca42e35dfca36a46eb5cd137519e151c8e4e8f2,," scope_types=['system', 'project'],"," scope_types=['project'],",8,1
openstack%2Fdiskimage-builder~master~I681a1dd8befbb95cb9a8db52939a3fa80232ff2c,openstack/diskimage-builder,master,I681a1dd8befbb95cb9a8db52939a3fa80232ff2c,"Revert ""Update Fedora to 37""",ABANDONED,2023-05-27 18:59:26.000000000,2023-05-29 13:00:11.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 18:59:26.000000000', 'files': ['diskimage_builder/elements/fedora-container/containerfiles/37', 'diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31b1636a2b1ac2fb8a37d322bcb3a54674b613cd', 'message': 'Revert ""Update Fedora to 37""\n\nThis reverts commit b6cdda4ab0d25eff665c8433b9d3b817410f1777.\n\nThe reason: Fedora 37 removed form the mirrors.\n\nChange-Id: I681a1dd8befbb95cb9a8db52939a3fa80232ff2c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",6,884567,31b1636a2b1ac2fb8a37d322bcb3a54674b613cd,12,2,1,14200,,,0,"Revert ""Update Fedora to 37""

This reverts commit b6cdda4ab0d25eff665c8433b9d3b817410f1777.

The reason: Fedora 37 removed form the mirrors.

Change-Id: I681a1dd8befbb95cb9a8db52939a3fa80232ff2c
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/67/884567/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-container/containerfiles/37', 'diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",4,31b1636a2b1ac2fb8a37d322bcb3a54674b613cd,fix-fedora-mirrors, name: dib-nodepool-functional-openstack-fedora-36-containerfile-src release: '36', name: dib-nodepool-functional-openstack-fedora-37-containerfile-src release: '37',5,8
openstack%2Fdiskimage-builder~master~I644f96cb7b832f3641321bba1e841405f6430b37,openstack/diskimage-builder,master,I644f96cb7b832f3641321bba1e841405f6430b37,[DNM] test fedora,ABANDONED,2023-05-27 14:55:28.000000000,2023-05-29 12:59:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-27 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/89de5a615db6c5cb719501dc391b9bcf9b89d530', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-05-27 14:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fe09bf82942d41387e7f0cc4f413a6e1314d688c', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-05-27 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6f886120acd20e48d20dffe174a5148ac6e1676a', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-05-27 15:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0746a579b94a6f51d554bd2e8aa732edfdeb6365', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-05-27 15:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1aaf925e16cf5d182c885e952ac4db9d768d2bc8', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2023-05-27 15:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7423fe5e7502496a6008c32db00dc46865a05a9e', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 7, 'created': '2023-05-27 15:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3fd410856557bdffc467b760b73f919c386db7d', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 8, 'created': '2023-05-27 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac18c021496dd64d464158aeb1851a8c2ec5cd81', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 9, 'created': '2023-05-27 15:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3236d3e40ac4a5b6f8b6dd138251ce45ba5ccb7f', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 10, 'created': '2023-05-27 15:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1a646088738d8adf9f46066e2688f232b9356a50', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 11, 'created': '2023-05-27 15:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a70a89bae02065de295401785d50f3f29a94a69', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 12, 'created': '2023-05-27 15:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e82a0f304701c807f9f93243bfc2daff276178cf', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 13, 'created': '2023-05-27 18:38:08.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', 'roles/dib-functests/tasks/main.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e598b56371406cdc8ab5af967d1b840bd9f5f66b', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,884565,e598b56371406cdc8ab5af967d1b840bd9f5f66b,32,1,13,14200,,,0,"[DNM] test fedora

Change-Id: I644f96cb7b832f3641321bba1e841405f6430b37
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/884565/8 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'roles/dib-functests/tasks/main.yaml', '.zuul.d/jobs.yaml']",3,89de5a615db6c5cb719501dc391b9bcf9b89d530,fedoratest,," - containerfile/jammy-build-succeeds - openeuler-minimal/22.03-LTS-build-succeeds # Image based tests - centos/8-stream-build-succeeds - centos/9-stream-build-succeeds # NOTE(ianw) 2022-08-02 : disabled due to upstream # checksum mismatches; see # https://bugzilla.suse.com/show_bug.cgi?id=1202041 # - opensuse/build-succeeds - ubuntu/bionic-build-succeeds - ubuntu/focal-build-succeeds - ubuntu/jammy-build-succeeds # NOTE(ianw) : these jobs are split to keep the build times a bit more # reasonable. - job: name: dib-functests-arm64-deb description: | ARM64 build tests (Debian-like distros) nodeset: debian-bullseye-arm64 parent: dib-functests-base vars: dib_functests: - ubuntu-minimal/bionic-arm64-build-succeeds - ubuntu-minimal/focal-arm64-build-succeeds - ubuntu-minimal/jammy-arm64-build-succeeds - debian-minimal/bullseye-arm64-build-succeeds - job: name: dib-functests-arm64-rpm description: | ARM64 build tests (RPM-like distros) nodeset: debian-bullseye-arm64 parent: dib-functests-base vars: dib_functests: - centos-minimal/8-stream-aarch64-build-succeeds - centos-minimal/9-stream-aarch64-build-succeeds - openeuler-minimal/22.03-LTS-build-succeeds - rocky-container/rocky-9-aarch64-build-succeeds # # Build and boot functional tests # - job: name: dib-nodepool-functional-src-base description: | Base job for DIB functional tests, which build and boot a node under nodepool, using source versions of dependencies such as nodepool, dib, openstacksdk and glean. parent: nodepool-functional-container-openstack-siblings-base post-run: playbooks/dib-nodepool/collect-openstack-logs.yaml vars: nodepool_debug: true irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: dib-nodepool-functional-openstack-centos-7-src description: | Test building and booting a Centos 7 image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '7' mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-centos-8-stream-src description: | Test building and booting a Centos 8 Stream image with Nodepool and OpenStack. parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '8-stream' # TODO: set when CentOS 8 Stream repos mirrored. # mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-centos-9-stream-src description: | Test building and booting a Centos 9 Stream image with Nodepool and OpenStack. parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '9-stream' # TODO: set when CentOS 9 Stream repos mirrored. # mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-fedora-37-containerfile-src description: | Test building and booting an Fedora image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element : fedora-container release: '37' - job: name: dib-nodepool-functional-openstack-rockylinux-8-containerfile-src description: | Test building and booting a Rocky Linux image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element: rocky-container release: '8' - job: name: dib-nodepool-functional-openstack-rockylinux-9-containerfile-src description: | Test building and booting a Rocky Linux image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element: rocky-container release: '9' - job: name: dib-nodepool-functional-openstack-ubuntu-xenial-src description: | Test building and booting an Ubuntu xenial image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'xenial' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-bionic-src description: | Test building and booting an Ubuntu bionic image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'bionic' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-focal-src description: | Test building and booting an Ubuntu focal image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'focal' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-jammy-src description: | Test building and booting an Ubuntu jammy image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'jammy' # mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-gentoo-src description: | Test building and booting a Gentoo image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: gentoo release: '' env-vars: GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd' - job: name: dib-nodepool-functional-openstack-debian-stretch-src description: | Test building and booting a Debian stretch image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'stretch' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-debian-bullseye-src description: | Test building and booting a Debian bullseye image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'bullseye' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-debian-buster-src description: | Test building and booting a Debian buster image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'buster' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-opensuse-15-src description: | Test building and booting an openSUSE 15.x image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: opensuse-minimal release: '15.2' mirror: ""http://{{ zuul_site_mirror_fqdn }}/opensuse""",1,371
openstack%2Fdiskimage-builder~master~Ie33df0760f1d3e9f823979b1f0c8dc282954f95a,openstack/diskimage-builder,master,Ie33df0760f1d3e9f823979b1f0c8dc282954f95a,[DNM] test fedora mirrors,ABANDONED,2023-05-29 10:03:19.000000000,2023-05-29 12:57:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-29 10:03:19.000000000', 'files': ['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f0f047623f5d93cc8596262e94382924bcef873', 'message': '[DNM] test fedora mirrors\n\nChange-Id: Ie33df0760f1d3e9f823979b1f0c8dc282954f95a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,884581,8f0f047623f5d93cc8596262e94382924bcef873,4,1,1,14200,,,0,"[DNM] test fedora mirrors

Change-Id: Ie33df0760f1d3e9f823979b1f0c8dc282954f95a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/81/884581/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'],1,8f0f047623f5d93cc8596262e94382924bcef873,test-fedora-mirrors," SUBRELEASE=$(head -1 < <(curl -vLs $DIB_CLOUD_IMAGES/ 2>/tmp/curl$$.log | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r)) grep location: /tmp/curl$$.log rm -f /tmp/curl$$.log"," SUBRELEASE=$(head -1 < <(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r))",3,1
openstack%2Fpuppet-nova~stable%2Fzed~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,stable/zed,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:39:34.000000000,2023-05-29 12:52:43.000000000,2023-05-29 12:52:43.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e131d7b531f411629259c77e4f5b5fffd575fb57', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n'}, {'number': 2, 'created': '2023-05-26 07:54:05.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n'}]",0,884454,b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce,9,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/54/884454/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,e131d7b531f411629259c77e4f5b5fffd575fb57,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fcinder~master~I73c37b005e0640a2482a4a314c62dba48438c53e,openstack/cinder,master,I73c37b005e0640a2482a4a314c62dba48438c53e,DNM: test LVM NVMe support config patch,NEW,2022-11-07 19:25:59.000000000,2023-05-29 12:24:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-07 19:25:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d594fb880a7b437636d37fcb1287a295c6f368f3', 'message': 'DNM: test LVM NVMe support config patch\n\nMake sure the devstack patch supports the current config\noptions.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/814193\nChange-Id: I73c37b005e0640a2482a4a314c62dba48438c53e\n'}]",3,863927,d594fb880a7b437636d37fcb1287a295c6f368f3,24,1,1,5314,,,0,"DNM: test LVM NVMe support config patch

Make sure the devstack patch supports the current config
options.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/814193
Change-Id: I73c37b005e0640a2482a4a314c62dba48438c53e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/863927/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d594fb880a7b437636d37fcb1287a295c6f368f3,nvme,,,1,0
openstack%2Fpuppet-nova~stable%2F2023.1~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,stable/2023.1,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:38:56.000000000,2023-05-29 11:40:48.000000000,2023-05-29 11:40:48.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:38:56.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d1bb160e40ad7e26dff2a33d10fe601349a5391f', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n'}]",1,884453,d1bb160e40ad7e26dff2a33d10fe601349a5391f,7,3,1,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/884453/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,d1bb160e40ad7e26dff2a33d10fe601349a5391f,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Ftempest~master~Icc174c905436ef2a0b8f41fe1cf11152cb72803f,openstack/tempest,master,Icc174c905436ef2a0b8f41fe1cf11152cb72803f,Add tests for Glance hidden images,ABANDONED,2023-05-17 06:10:48.000000000,2023-05-29 10:41:14.000000000,,"[{'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13771746410e2c32b280c379ea5f1b7376f68e3b', 'message': 'Add tests for Glance hidden images\n\nThis commit add create/update tests\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 2, 'created': '2023-05-17 06:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7d6ed6a74563254cb6f44ffd0bf493fc9ef7867', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 3, 'created': '2023-05-17 06:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/158142afe4c7e82efc007cc871af46fadd93568b', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 4, 'created': '2023-05-17 12:21:15.000000000', 'files': ['tempest/lib/common/api_microversion_fixture.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/config.py', 'tempest/lib/services/image/v2/base_image_client.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/69d82e5758c35dfa068897d4c246df1e3f19a281', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}]",0,883328,69d82e5758c35dfa068897d4c246df1e3f19a281,8,4,4,34510,,,0,"Add tests for Glance hidden images

This commit add tests for create/update hidden images

Change-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/883328/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/api_microversion_fixture.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/lib/services/image/v2/base_image_client.py', 'tempest/test.py']",5,13771746410e2c32b280c379ea5f1b7376f68e3b,rhos-tests-migration," placement_microversion=None,image_microversion=None): placement_microversion=placement_microversion, image_microversion=image_microversion)", placement_microversion=None): placement_microversion=placement_microversion),141,5
openstack%2Fkayobe~master~I89a3fd800fafb29be27846806de4e6465209134c,openstack/kayobe,master,I89a3fd800fafb29be27846806de4e6465209134c,2023.1 RC1 - Sync KA feature flags & inventories,MERGED,2023-05-26 09:34:06.000000000,2023-05-29 10:21:12.000000000,2023-05-29 10:20:02.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 09:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/97a1a6a5098496cafc1335b769a7fc58db4ac819', 'message': '2023.1 RC1 - Sync KA feature flags & inventories\n\nPreparations for Antelope RC1.\n\nSynchronises Kayobe with the Kolla-Ansible feature flags and inventory.\n\nhttps: //docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-with-kolla-ansible-feature-flags\nhttps: //docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-with-kolla-ansible-inventory\nChange-Id: I89a3fd800fafb29be27846806de4e6465209134c\n'}, {'number': 2, 'created': '2023-05-26 12:07:55.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0e984c4d479d256983719c65ebcbb514d924fc52', 'message': '2023.1 RC1 - Sync KA feature flags & inventories\n\nPreparations for Antelope RC1.\n\nSynchronises Kayobe with the Kolla-Ansible feature flags and inventory.\n\nChange-Id: I89a3fd800fafb29be27846806de4e6465209134c\n'}]",5,884471,0e984c4d479d256983719c65ebcbb514d924fc52,18,4,2,35263,,,0,"2023.1 RC1 - Sync KA feature flags & inventories

Preparations for Antelope RC1.

Synchronises Kayobe with the Kolla-Ansible feature flags and inventory.

Change-Id: I89a3fd800fafb29be27846806de4e6465209134c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/884471/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml']",4,97a1a6a5098496cafc1335b769a7fc58db4ac819,, - skyline, - skydive,9,10
openstack%2Fpuppet-nova~master~I612856bfd23f980b1e94815d3b5e15e0ea39f72e,openstack/puppet-nova,master,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-25 08:09:54.000000000,2023-05-29 10:17:20.000000000,2023-05-29 10:17:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-25 08:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/59387adc3a72ced5f07c02ed9b7928c6b5835163', 'message': 'CentOS: Install libvirt common package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}, {'number': 2, 'created': '2023-05-25 09:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fc21c0212a63f736e98e67e7e6177f9848081d4a', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}, {'number': 3, 'created': '2023-05-25 09:33:52.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5fe2ca84b0071980087534837dd571803e086486', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}]",4,884320,5fe2ca84b0071980087534837dd571803e086486,21,6,3,9816,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/20/884320/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,59387adc3a72ced5f07c02ed9b7928c6b5835163,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fdevstack~master~Ibb2a9731449e765c4a56952a9f02679e9618778b,openstack/devstack,master,Ibb2a9731449e765c4a56952a9f02679e9618778b,Resolve distutils deprecation warning,MERGED,2023-05-26 11:49:19.000000000,2023-05-29 10:12:39.000000000,2023-05-29 10:11:35.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-26 11:49:19.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1', 'message': ""Resolve distutils deprecation warning\n\nThe distutils package is deprecated and slated for removal in\nPython 3.12. Let's use shutil.which which is also recomended\nby PEP 632: https://peps.python.org/pep-0632/#migration-advice\n\nCloses-Bug: #2009229\nChange-Id: Ibb2a9731449e765c4a56952a9f02679e9618778b\n""}]",1,884485,a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1,9,4,1,22873,,,0,"Resolve distutils deprecation warning

The distutils package is deprecated and slated for removal in
Python 3.12. Let's use shutil.which which is also recomended
by PEP 632: https://peps.python.org/pep-0632/#migration-advice

Closes-Bug: #2009229
Change-Id: Ibb2a9731449e765c4a56952a9f02679e9618778b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/85/884485/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1,, if not shutil.which(cmd):,from distutils import spawn if not spawn.find_executable(cmd):,1,2
openstack%2Fcharm-ceph-mon~master~I75623aa2e0608bcfbf170c023cf1f86e0b2e6536,openstack/charm-ceph-mon,master,I75623aa2e0608bcfbf170c023cf1f86e0b2e6536,Adds operator-native osd provides library.,NEW,2022-09-30 10:16:20.000000000,2023-05-29 09:59:39.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 10:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a1e663c3b8ac2dba7976e2b8988df838cbf59509', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 2, 'created': '2022-09-30 12:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/23973ae865fe3018fd9b19960a099bd715e52cdb', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 3, 'created': '2022-09-30 13:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/976d33cbe5a06d28b14d54eea0c51681efc69f50', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 4, 'created': '2022-10-04 06:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c0d51ca264781b695d0a00db01d1d321f2f19283', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 5, 'created': '2022-10-04 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ba37aa6ac71f26956db6f3d23428295dd979d7ba', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 6, 'created': '2022-10-04 08:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f0c59fe0c353a72582f795d1a416fb729d4e4898', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 7, 'created': '2022-10-04 10:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9c70bb4a8b0d03f86558c2fa9b5570092280f4c9', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 8, 'created': '2022-10-04 11:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6fc203fee7bbf579e98122c1f277e3f607bd8a20', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 9, 'created': '2022-10-04 19:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4e9235d8edcb612b6d6d7a79f654cacb77f05e0d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 10, 'created': '2022-10-05 06:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a4c52bedc095892741cff2f025e7461e3939752d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 11, 'created': '2022-10-05 07:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ff882382f45fee22712f00ad04b8cfe79f6d0765', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 12, 'created': '2022-10-05 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c7d1f8258816f04fe087549465cced48e1e91390', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 13, 'created': '2022-10-05 09:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/70ab155713620c1083145532f1435559699eafa6', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 14, 'created': '2022-10-05 10:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0ea6dda6d7c7035993c32e7330d77e00ba56ef14', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 15, 'created': '2022-10-06 06:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c09ae34f919c3bd9b2ab74d8d185f2c44928e21e', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 16, 'created': '2022-10-06 07:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/71b45e5eb9c16e65d38039b7ac1fe177b08c8708', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 17, 'created': '2022-10-06 08:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d57c92a8482f98ac6837f867b05cda669427b70e', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 18, 'created': '2022-10-06 11:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/302b4b468e2bfbfd3800e8f8bc171a4ee829fa03', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 19, 'created': '2022-10-06 16:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/23b7c8d8bbf0ba011fc95ee3d94e3c82533ed861', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 20, 'created': '2022-10-06 17:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1139b9aef8e54f7b15efb379f362dff896f949bf', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 21, 'created': '2022-10-06 17:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f03e818db8140a540f08f07898edd77e14ac0c30', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 22, 'created': '2022-10-07 06:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/558bddbd6e44aea72a7193d724e1b100b0344c8b', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 23, 'created': '2022-10-07 06:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ff203a224121ad17d07f83113134a1551ef3449c', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 24, 'created': '2022-10-10 04:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0b13699909b47f1aa6755f32d61eecda5fabf8c0', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 25, 'created': '2022-10-10 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/13f36196b82aefa18a7674a90974e58c310dcb69', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 26, 'created': '2022-10-11 07:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8d5cfd12ac82d81e68945baf2a86d7f1c665303a', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 27, 'created': '2022-10-12 04:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/207a77bd3eb1f7b5f32c2b74bdd844a0405f2367', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 28, 'created': '2022-10-12 04:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/382d2bc5900955045c075b9bf4f5cdeffa4b98d0', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 29, 'created': '2022-10-12 07:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/826bdba82a2be7834b7420b7b4826e4f5755052a', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 30, 'created': '2022-10-13 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/daa984d92cda8738b1a4bc0702275b557945c0e7', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 31, 'created': '2022-10-13 11:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/cd0d70e9ed5a33fc9cc10369be8b92e15c91c44d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 32, 'created': '2022-10-27 11:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a51803bfb2e8bcd63ec96adf0246c2d2725879b9', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/973\n'}, {'number': 33, 'created': '2022-10-28 05:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8f7800f0e6cfe509b4b79cda73a460120b2855b2', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 34, 'created': '2022-10-31 06:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c00d9147e026e24239099c0c0a0134a909f83eee', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 35, 'created': '2023-05-29 08:51:44.000000000', 'files': ['src/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_osd_interface.py', 'unit_tests/manage_test_relations.py', 'src/ceph_client.py', 'src/charm.py', 'src/ceph_osd.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2489d9198c048ddf8a150cc2b10cac9f0985018b', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}]",51,859966,2489d9198c048ddf8a150cc2b10cac9f0985018b,129,3,35,34952,,,0,"Adds operator-native osd provides library.

Change-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/66/859966/33 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'src/ceph_osd.py']",2,a1e663c3b8ac2dba7976e2b8988df838cbf59509,ceph-osd-provides,"from email import utils import logging from ops.charm import CharmEvents, CharmBase from ops.framework import EventBase, EventSource, Object, StoredState from ops.model import ActiveStatus, BlockedStatus import charms_ceph.utils as ceph from charmhelpers.core.hookenv import ( leader_get, ) from ceph_client import CephClientProvides as Client from utils import ( get_public_addr, get_ceph_osd_releases, execute_post_osd_upgrade_steps, ) log = logging.getLogger(__name__) class CephOsdProvides(Client): """""" Provide side lib for osd relation Hooks: osd-relation-joined osd-relation-changed """""" charm = None _stored = StoredState() def __init__(self, charm): super.__init__(charm, ""osd"") self.charm = charm def _get_ceph_info_from_configs(self): """"""Create dictionary of ceph information required to set osd relation. :returns: Dictionary of ceph configurations needed for osd relation :rtype: dict """""" return { 'fsid': leader_get('fsid'), 'osd_bootstrap_key': ceph.get_osd_bootstrap_key(), 'auth': 'cephx', 'ceph-public-address': get_public_addr(), 'osd_upgrade_key': ceph.get_named_key( 'osd-upgrade', caps=ceph.osd_upgrade_caps ), 'osd_disk_removal_key': ceph.get_named_key( 'osd-removal', caps={ 'mgr': ['allow *'], 'mon': [ 'allow r', 'allow command ""osd crush reweight""', 'allow command ""osd purge""', 'allow command ""osd destroy""', ] } ) } def _handle_client_relation(self, relation, unit): """"""Handle broker request and set the relation data :param relation: Operator relation :type relation: Relation :param unit: Unit to handle :type unit: Unit """""" # if is_unsupported_cmr(unit): # return log('mon cluster in quorum - providing fsid & keys') service_name = self._get_client_application_name(relation, unit) data = self._get_ceph_info_from_configs() data.update({'key': ceph.get_named_key(service_name)}) data.update( self._handle_broker_request( relation, unit, add_legacy_response=True ) ) for k, v in data.items(): relation.data[self.this_unit][k] = str(v) if ceph.is_leader(): ceph_osd_releases = get_ceph_osd_releases() if len(ceph_osd_releases) == 1: execute_post_osd_upgrade_steps(ceph_osd_releases[0]) ",,103,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ibeda25763a06c4a786374dea07e922c5d4f949b5,openstack/openstack-ansible-rabbitmq_server,master,Ibeda25763a06c4a786374dea07e922c5d4f949b5,"Revert ""Switch rabbitmq repo back to packagecloud""",ABANDONED,2023-05-28 00:32:41.000000000,2023-05-29 09:19:20.000000000,,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-28 00:32:41.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/334c7fdece9e80845b08482f8602cf0e4b0aeee2', 'message': 'Revert ""Switch rabbitmq repo back to packagecloud""\n\nThis reverts commit 84d88c5a265e2f783c7daa15d71251f45bcfc4b8.\n\nReason for revert: RabbitMQ team has dropped PackageCloud\nrepository.\n\nChange-Id: Ibeda25763a06c4a786374dea07e922c5d4f949b5\nCloses-Bug: #2021410\n'}]",1,884531,334c7fdece9e80845b08482f8602cf0e4b0aeee2,5,4,1,28619,,,0,"Revert ""Switch rabbitmq repo back to packagecloud""

This reverts commit 84d88c5a265e2f783c7daa15d71251f45bcfc4b8.

Reason for revert: RabbitMQ team has dropped PackageCloud
repository.

Change-Id: Ibeda25763a06c4a786374dea07e922c5d4f949b5
Closes-Bug: #2021410
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/31/884531/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960']",4,334c7fdece9e80845b08482f8602cf0e4b0aeee2,,-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQGNBGAyemoBDADMwGfwPLzN0G0TOoiJdboRZOHUk51mtkBemD+JX2XiTvykjj4p M5MyRfGKV5YFRw5IkFXqYaNP/dqCAbWkfQG1aNpzPVIqlwwOkNEnNR2dKpiEpiq9 Q53HbAjMa9eHxvWN65MtvDIXGUIoupVMZAbycsYD9+fZWJrQgRlSb/Lk9cCvYKoy dXsfS1TOmglI3yFRgSvr+CM54gIOKpqWJVE+u2ZFq2rw9yh0GQzcOLXmrMStfbla akgqe3jpdXKIlI4tSoRaOsIFUjc1DeyZcEJGZyKlo4h1cgVNha8HDiMB9a7bdTCm W06ZbUrEz1vTmyFN6WFsLuZ4MRiWkuz0RAA9ePGMYz8DsQoMqusaoFAoQkgJQH4d MF+/3MFnK6CXMtkDYqwstcSDqtzbgvW+sOCzA/WGUzw37nwoh+mxIctVPxYsuipT aX8O9T449mQ61AOFw9MoTRSnf0XNfFUlkh9fQlUK/BWxM0X7A4UUtdMcZC54LsMF KHDCC4WHeOpDy1sAEQEAAbRFQ2xvdWRzbWl0aCBQYWNrYWdlIChyYWJiaXRtcS9y YWJiaXRtcS1zZXJ2ZXIpIDxzdXBwb3J0QGNsb3Vkc21pdGguaW8+iQG3BBMBCAAh BQJgMnpqAhsvBQsJCAcDBRUKCQgLBRYCAwEAAh4BAheAAAoJEJ9Fh/ImIINCM+4M AJmb/bXlShUTN4J1XCSOoUk4rBe0jBb6YbvB0YJrD1FZr/nfwV08sqCxfBvXR41W 9PwCCPYKUXo1K4TxehfOR4RpiHou+YxnqMiZjLKB9nSTnGj7kSJ8OLEcqUrgV/Uv Fk0w2IGQf25u6D6NumKuk6CElFxBG5OzBXtBAxUSLzQ7Xz/3IuqaPuA8KPRD25s8 yDjj2auyZxlfaD+wUNkqaLQ9quXd8IJuUqvz9wNbOItooWypEk2tX48w5i+wd1pP AW+NjKuwd0G88nO6J+7oFYXcsh7n3nblJZT0bmUZC9M6kL9llt8Vy/FBkHnP3dX3 +6EfEXeXPhVJTI7nkNP64XssO4zHg9vQd3rLd6RCfUnA/NjEXvpR6pjoEsPMlD99 8hsK1c0AhAntSsB2sky7E5p7Rzq8X/SM8aZGDmkitkN2VdnAQsJP0UVq7FnpqBFS pMxOxGveS5d5sjU3LoHPTg1uOcARcsOH245szVBPtklXOzg7Fazcc+BHmjYmrgeu QQ== =CfXb -----END PGP PUBLIC KEY BLOCK----- ,,32,72
openstack%2Fneutron~master~I675ff6fdc13015bfe274d9c6752415b55484c542,openstack/neutron,master,I675ff6fdc13015bfe274d9c6752415b55484c542,Test devstack patch,ABANDONED,2023-05-24 19:11:54.000000000,2023-05-29 09:03:52.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 19:11:54.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a55398b28f537596b6488d9fd8ac4ec7bbf8bb05', 'message': 'Test devstack patch\n\nbug 2020661\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/884277\nChange-Id: I675ff6fdc13015bfe274d9c6752415b55484c542\n'}]",4,884279,a55398b28f537596b6488d9fd8ac4ec7bbf8bb05,14,2,1,16312,,,0,"Test devstack patch

bug 2020661

Depends-On: https://review.opendev.org/c/openstack/devstack/+/884277
Change-Id: I675ff6fdc13015bfe274d9c6752415b55484c542
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/884279/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,a55398b28f537596b6488d9fd8ac4ec7bbf8bb05,bug/2020661,CHANGE = True,,1,0
openstack%2Fmasakari~master~Id83c90ddcdf774d057ea59bd452bf3fd1ff2c5f5,openstack/masakari,master,Id83c90ddcdf774d057ea59bd452bf3fd1ff2c5f5,Remove legacy migrations,NEW,2023-05-19 03:13:14.000000000,2023-05-29 07:42:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 03:13:14.000000000', 'files': ['masakari/db/sqlalchemy/migrate_repo/versions/002_add_hosts_table.py', 'masakari/db/sqlalchemy/migrate_repo/versions/003_update_unique_constraint_hosts.py', 'masakari/db/sqlalchemy/migrate_repo/manage.py', 'masakari/db/sqlalchemy/migrate_repo/__init__.py', 'masakari/db/sqlalchemy/migrate_repo/versions/001_add_failover_segments_table.py', 'masakari/db/sqlalchemy/migrate_repo/migrate.cfg', 'masakari/db/sqlalchemy/migrate_repo/versions/004_add_notifications_table.py', 'masakari/db/sqlalchemy/migrate_repo/README.txt', 'masakari/db/sqlalchemy/migrate_repo/versions/005_remove_nullable_mismatch.py', 'masakari/db/sqlalchemy/migrate_repo/versions/006_add_persistence_tables.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_vm_moves_table.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enabled_to_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/72774cd1b5a26542a0d9a223c853eae5feb3f3a5', 'message': 'Remove legacy migrations\n\nThere is no need for sqlalchemy-migrate-based migration and\nwe can remove sqlalchemy-migrate immediately.\n\nChange-Id: Id83c90ddcdf774d057ea59bd452bf3fd1ff2c5f5\n'}]",1,883618,72774cd1b5a26542a0d9a223c853eae5feb3f3a5,5,1,1,30623,,,0,"Remove legacy migrations

There is no need for sqlalchemy-migrate-based migration and
we can remove sqlalchemy-migrate immediately.

Change-Id: Id83c90ddcdf774d057ea59bd452bf3fd1ff2c5f5
",git fetch https://review.opendev.org/openstack/masakari refs/changes/18/883618/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/db/sqlalchemy/migrate_repo/versions/002_add_hosts_table.py', 'masakari/db/sqlalchemy/migrate_repo/versions/003_update_unique_constraint_hosts.py', 'masakari/db/sqlalchemy/migrate_repo/manage.py', 'masakari/db/sqlalchemy/migrate_repo/__init__.py', 'masakari/db/sqlalchemy/migrate_repo/versions/001_add_failover_segments_table.py', 'masakari/db/sqlalchemy/migrate_repo/migrate.cfg', 'masakari/db/sqlalchemy/migrate_repo/versions/004_add_notifications_table.py', 'masakari/db/sqlalchemy/migrate_repo/README.txt', 'masakari/db/sqlalchemy/migrate_repo/versions/005_remove_nullable_mismatch.py', 'masakari/db/sqlalchemy/migrate_repo/versions/006_add_persistence_tables.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_vm_moves_table.py', 'masakari/db/sqlalchemy/migrate_repo/versions/007_enabled_to_segments.py']",12,72774cd1b5a26542a0d9a223c853eae5feb3f3a5,remove-sqlalchemy-migrate,,"# Copyright 2020 Inspur. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy import Column, MetaData, Table from sqlalchemy import Boolean def upgrade(migrate_engine): meta = MetaData() meta.bind = migrate_engine segments_table = Table('failover_segments', meta, autoload=True) enable_column = Column('enabled', Boolean, default=True) segments_table.create_column(enable_column) ",0,401
openstack%2Fkolla-ansible~master~I15af98faedd81cccbc10e2cc7dab4205a35684be,openstack/kolla-ansible,master,I15af98faedd81cccbc10e2cc7dab4205a35684be,CI: cephadm - set rbd application on pool creation,MERGED,2023-05-26 12:49:54.000000000,2023-05-29 07:06:40.000000000,2023-05-29 07:05:38.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-26 12:49:54.000000000', 'files': ['roles/cephadm/templates/commands.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d', 'message': 'CI: cephadm - set rbd application on pool creation\n\nChange-Id: I15af98faedd81cccbc10e2cc7dab4205a35684be\n'}]",2,884489,86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d,12,4,1,22629,,,0,"CI: cephadm - set rbd application on pool creation

Change-Id: I15af98faedd81cccbc10e2cc7dab4205a35684be
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/884489/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/templates/commands.sh.j2'],1,86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d,,ceph osd pool application enable {{ pool }} rbd,,1,0
openstack%2Fcharm-ceph-osd~master~I03995d23d41827fa8ad00e248e2d21527318327c,openstack/charm-ceph-osd,master,I03995d23d41827fa8ad00e248e2d21527318327c,Move documentation over to discourse,NEW,2023-05-05 08:11:08.000000000,2023-05-29 06:10:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:11:08.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9a649587457283739eedd96225bb6fd64c69ed9c', 'message': ""Move documentation over to discourse\n\nThis patchset moves the charm's documentation over to charmhub.\nSeen here: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545\n\nChange-Id: I03995d23d41827fa8ad00e248e2d21527318327c\n""}]",2,882381,9a649587457283739eedd96225bb6fd64c69ed9c,6,2,1,33717,,,0,"Move documentation over to discourse

This patchset moves the charm's documentation over to charmhub.
Seen here: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545

Change-Id: I03995d23d41827fa8ad00e248e2d21527318327c
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/81/882381/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,9a649587457283739eedd96225bb6fd64c69ed9c,charm-docs,# ceph-osdThe charm's documentation can be seen on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][track-bugs].[charm-docs]: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545 [charm-bugs]: https://bugs.launchpad.net/charm-ceph-osd/+filebug,"# Overview [Ceph][ceph-upstream] is a unified, distributed storage system designed for excellent performance, reliability, and scalability.# Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. A YAML file (e.g. `ceph-osd.yaml`) is often used to store configuration options. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `bluestore` The `bluestore` option specifies whether the [BlueStore][upstream-ceph-bluestore] storage backend is used for all OSD devices. The feature is enabled by default (value 'True'). If set to 'True', this option overrides the `osd-format` option as BlueStore does not use a traditional filesystem. > **Important**: This option has no effect unless Ceph Luminous (or greater) is in use. #### `customize-failure-domain` The `customize-failure-domain` option determines how a Ceph CRUSH map is configured. A value of 'false' (the default) will lead to a map that will replicate data across hosts (implemented as [Ceph bucket type][upstream-ceph-buckets] 'host'). With a value of 'true' all MAAS-defined zones will be used to generate a map that will replicate data across Ceph availability zones (implemented as bucket type 'rack'). This option is also supported by the ceph-mon charm. Its value must be the same for both charms. #### `osd-devices` The `osd-devices` option lists what block devices can be used for OSDs across the cluster. See section 'Storage devices' for an elaboration on this fundamental topic. #### `osd-format` The `osd-format` option specifies what filesystem to use for all OSD devices ('xfs' or 'ext4'). The default value is 'xfs'. This option only applies when Ceph Luminous (or greater) is in use and option `bluestore` is set to 'False'. #### `source` The `source` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:xenial-queens' or 'cloud:bionic-ussuri'). See [Ceph and the UCA][cloud-archive-ceph]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). ### Storage devices A storage device is destined as an OSD (Object Storage Device). There can be multiple OSDs per storage node (ceph-osd unit). The list of all possible storage devices for the cluster is defined by the `osd-devices` option. The below examples can be used in the `ceph-osd.yaml` configuration file. Block devices (regular), ceph-osd: osd-devices: /dev/vdb /dev/vdc /dev/vdd Each regular block device must be an absolute path to a device node. Block devices (Juju storage), ceph-osd: storage: osd-devices: cinder,20G See the [Juju documentation][juju-docs-storage] for guidance on implementing Juju storage. Directory-backed OSDs, ceph-osd: storage: osd-devices: /var/tmp/osd-1 > **Note**: OSD directories can no longer be created starting with Ceph Nautilus. Existing OSD directories will continue to function after an upgrade to Nautilus. The list defined by option `osd-devices` may affect newly added ceph-osd units as well as existing units (the option may be modified after units have been added). The charm will attempt to activate as Ceph storage any listed device that is visible by the unit's underlying machine. To prevent the activation of volumes on existing units the `blacklist-add-disk` action may be used. The configuration option is modified in the usual way. For instance, to have it consist solely of devices '/dev/sdb' and '/dev/sdc': juju config ceph-osd osd-devices='/dev/sdb /dev/sdc' The charm will go into a blocked state (visible in `juju status` output) if it detects pre-existing data on a device. In this case the operator can either instruct the charm to ignore the disk (action `blacklist-add-disk`) or to have it purge all data on the disk (action `zap-disk`). > **Important**: The recommended minimum number of OSDs in the cluster is three and this is what the ceph-mon charm expects (the cluster will not form with a lesser number). See option `expected-osd-count` in the ceph-mon charm to overcome this but beware that going below three is not a supported configuration. ## Deployment A cloud with three MON nodes is a typical design whereas three OSDs are considered the minimum. For example, to deploy a Ceph cluster consisting of three OSDs (one per ceph-osd unit) and three MONs: juju deploy -n 3 --config ceph-osd.yaml ceph-osd juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 ceph-mon juju add-relation ceph-osd:mon ceph-mon:osd Here, a containerised MON is running alongside each storage node. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2. > **Note**: Refer to the [Install OpenStack][cdg-install-openstack] page in the OpenStack Charms Deployment Guide for instructions on installing the ceph-osd application for use with OpenStack. For each ceph-osd unit, the ceph-osd charm will scan for all the devices configured via the `osd-devices` option and attempt to assign to it all of the ones it finds. The cluster's initial pool of available storage is the ""sum"" of all these assigned devices. ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces] (Juju `v.2.0`). This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. The ceph-osd charm exposes the following Ceph traffic types (bindings): * 'public' (front-side) * 'cluster' (back-side) For example, providing that spaces 'data-space' and 'cluster-space' exist, the deploy command above could look like this: juju deploy --config ceph-osd.yaml -n 3 ceph-osd \ --bind ""public=data-space cluster=cluster-space"" Alternatively, configuration can be provided as part of a bundle: ```yaml ceph-osd: charm: cs:ceph-osd num_units: 1 bindings: public: data-space cluster: cluster-space ``` Refer to the [Ceph Network Reference][ceph-docs-network-ref] to learn about the implications of segregating Ceph network traffic. > **Note**: Existing ceph-osd units configured with the `ceph-public-network` or `ceph-cluster-network` options will continue to honour them. Furthermore, these options override any space bindings, if set. ## AppArmor profiles Although AppArmor is not enabled for Ceph by default, an AppArmor profile can be generated by the charm by assigning a value of 'complain', 'enforce', or 'disable' (the default) to option `aa-profile-mode`. > **Caution**: Enabling an AppArmor profile is disruptive to a running Ceph cluster as all ceph-osd processes must be restarted. The new profile has a narrow supported use case, and it should always be verified in pre-production against the specific configurations and topologies intended for production. The profiles generated by the charm should **not** be used in the following scenarios: * On any version of Ubuntu older than 16.04 * On any version of Ceph older than Luminous * When OSD journal devices are in use * When Ceph BlueStore is enabled ## Block device encryption The ceph-osd charm supports encryption for OSD volumes that are backed by block devices. To use Ceph's native key management framework, available since Ceph Jewel, set option `osd-encrypt` for the ceph-osd charm: ```yaml ceph-osd: osd-encrypt: True ``` Here, dm-crypt keys are stored in the MON sub-cluster. Alternatively, since Ceph Luminous, encryption keys can be stored in Vault, which is deployed and initialised via the [vault][vault-charm] charm. Set options `osd-encrypt` and `osd-encrypt-keymanager` for the ceph-osd charm: ```yaml ceph-osd: osd-encrypt: True osd-encrypt-keymanager: vault ``` > **Important**: Post deployment configuration will only affect block devices associated with **new** ceph-osd units. ## Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions --schema ceph-osd`. If the charm is not deployed then see file `actions.yaml`. * `add-disk` * `blacklist-add-disk` * `blacklist-remove-disk` * `get-availibility-zone` * `list-disks` * `osd-in` * `osd-out` * `security-checklist` * `start` * `stop` * `zap-disk` ## Working with OSDs ### Set OSDs to 'out' Use the `osd-out` action to set OSD volumes on a unit to 'out'. > **Warning**: This action has the potential of impacting your cluster significantly. The [Ceph documentation][ceph-docs-removing-osds] on this topic is considered essential reading. Unless the cluster itself is set to 'noout' this action will cause Ceph to rebalance data by migrating PGs out of the affected OSDs and onto OSDs available on other units. The impact is twofold: 1. The available space on the remaining OSDs is reduced. Not only is there less space for future workloads but there is a danger of exceeding the cluster's storage capacity. 1. The traffic and CPU load on the cluster is increased. > **Note**: It has been reported that setting OSDs to 'out' may cause some PGs to get stuck in the 'active+remapped' state. This is an upstream issue. The [ceph-mon][ceph-mon-charm] charm has an action called `set-noout` that sets 'noout' for the cluster. It may be perfectly fine to have data rebalanced. The decisive factor is whether the OSDs are being paused temporarily (e.g. the underlying machine is scheduled for maintenance) or whether they are being removed from the cluster completely (e.g. the storage hardware is reaching EOL). Examples: # Set OSDs '0' and '1' to 'out' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 osd-out osds=osd.0,osd.1 # Set all OSDs to 'out' on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 osd-out osds=all ### Set OSDs to 'in' Use the `osd-in` action to set OSD volumes on a unit to 'in'. The `osd-in` action is reciprocal to the `osd-out` action. The OSDs are set to 'in'. It is typically used when the `osd-out` action was used in conjunction with the cluster 'noout' flag. Examples: # Set OSDs '0' and '1' to 'in' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 osd-in osds=osd.0,osd.1 # Set all OSDs to 'in' on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 osd-in osds=all ### Stop and start OSDs Use the `stop` and `start` actions to stop and start OSD daemons on a unit. > **Important**: These actions are not available on the 'trusty' series due to the reliance on `systemd`. Examples: # Stop services 'ceph-osd@0' and 'ceph-osd@1' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 stop osds=0,1 # Start all ceph-osd services on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 start osds=all > **Note**: Stopping an OSD daemon will put the associated unit into a blocked state. ## Working with disks ### List disks Use the `list-disks` action to list disks known to a unit. The action lists the unit's block devices by categorising them in three ways: * `disks`: visible (known by udev), unused (not mounted), and not designated as an OSD journal (via the `osd-journal` configuration option) * `blacklist`: like `disks` but blacklisted (see action `blacklist-add-disk`) * `non-pristine`: like `disks` but not eligible for use due to the presence of existing data Example: # List disks on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 list-disks ### Add a disk Use the `add-disk` action to add a disk to a unit. A ceph-osd unit is automatically assigned OSD volumes based on the current value of the `osd-devices` application option. The `add-disk` action allows the operator to manually add OSD volumes (for disks that are not listed by `osd-devices`) to an existing unit. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to format and initialise as OSD volumes. <!-- The next line has two trailing spaces. --> * `bucket` The name of a Ceph bucket to add these devices to. Example: # Add disk /dev/vde on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 add-disk osd-devices=/dev/vde ### Blacklist a disk Use the `blacklist-add-disk` action to add a disk to a unit's blacklist. The action allows the operator to add disks (that are visible to the unit's underlying machine) to the unit's blacklist. A blacklisted device will not be initialised as an OSD volume when the value of the `osd-devices` application option changes. This action does not prevent a device from being activated via the `add-disk` action. Use the `list-disks` action to list the unit's blacklist entries. > **Important**: This action and blacklist do not have any effect on current OSD volumes. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to add to a unit's blacklist. Example: # Blacklist disks /dev/vda and /dev/vdf on unit `ceph-osd/0` juju run-action --wait ceph-osd/0 \ blacklist-add-disk osd-devices='/dev/vda /dev/vdf' ### Un-blacklist a disk Use the `blacklist-remove-disk` action to remove a disk from a unit's blacklist. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to remove from a unit's blacklist. Each device should have an existing entry in the unit's blacklist. Use the `list-disks` action to list the unit's blacklist entries. Example: # Un-blacklist disk /dev/vdb on unit `ceph-osd/1` juju run-action --wait ceph-osd/1 \ blacklist-remove-disk osd-devices=/dev/vdb ### Zap a disk Use the `zap-disk` action to purge a disk of all data. In order to prevent unintentional data loss, the charm will not use a disk that contains data. To forcibly make a disk available, the `zap-disk` action can be used. Due to the destructive nature of this action the `i-really-mean-it` option must be passed. This action is normally followed by the `add-disk` action. **Parameters** <!-- The next line has two trailing spaces. --> * `devices` (required) A space-separated list of devices to be recycled. <!-- The next line has two trailing spaces. --> * `i-really-mean-it` (required) A boolean option for confirming the action. Example: # Zap disk /dev/vdc on unit `ceph-osd/3` juju run-action --wait ceph-osd/3 \ zap-disk i-really-mean-it=true devices=/dev/vdc > **Note**: The `zap-disk` action cannot be run on a mounted device, an active BlueStore device, or an encrypted device. There are also issues with LVM-backed volumes (see [LP #1858519][lp-bug-1858519]). # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information See also the [Charmed Ceph documentation][charmed-ceph-docs]. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-ceph-osd].[ceph-upstream]: https://ceph.io [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [ceph-mon-charm]: https://jaas.ai/ceph-mon [vault-charm]: https://jaas.ai/vault [charmed-ceph-docs]: https://ubuntu.com/ceph/docs [juju-docs-storage]: https://jaas.ai/docs/storage [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-spaces]: https://jaas.ai/docs/spaces [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [ceph-docs-removing-osds]: https://docs.ceph.com/docs/master/rados/operations/add-or-rm-osds/ [ceph-docs-network-ref]: http://docs.ceph.com/docs/master/rados/configuration/network-config-ref [lp-bugs-charm-ceph-osd]: https://bugs.launchpad.net/charm-ceph-osd/+filebug [cdg-install-openstack]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html [upstream-ceph-buckets]: https://docs.ceph.com/docs/master/rados/operations/crush-map/#types-and-buckets [upstream-ceph-bluestore]: https://docs.ceph.com/en/latest/rados/configuration/storage-devices/#bluestore [cloud-archive-ceph]: https://wiki.ubuntu.com/OpenStack/CloudArchive#Ceph_and_the_UCA [lp-bug-1858519]: https://bugs.launchpad.net/charm-ceph-osd/+bug/1858519",6,473
openstack%2Fpuppet-openstack-integration~master~I67359c9a6ef361d161f51fe660d37db5f1656f89,openstack/puppet-openstack-integration,master,I67359c9a6ef361d161f51fe660d37db5f1656f89,Capture commands to check zaqar service status,ABANDONED,2023-03-13 08:00:47.000000000,2023-05-29 05:21:03.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 08:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/378d077056f9680c4927103685e63d621a754f73', 'message': 'Capture commands to check zaqar service status\n\nChange-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89\n'}, {'number': 2, 'created': '2023-03-13 09:18:19.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d41b63e921fe43c980a88dfe24521c6ba6ad68bd', 'message': 'Capture commands to check zaqar service status\n\nChange-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89\n'}]",0,877228,d41b63e921fe43c980a88dfe24521c6ba6ad68bd,5,2,2,9816,,,0,"Capture commands to check zaqar service status

Change-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/28/877228/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,378d077056f9680c4927103685e63d621a754f73,,# zaqar resources if [ -d $LOG_DIR/zaqar ]; then openstack >> $LOG_DIR/openstack_resources/zaqar.txt <<-EOC messaging ping messaging health EOC fi ,,8,0
openstack%2Fpuppet-neutron~master~I5a547675b36df364dc7299ce647ddfe3d05d9af2,openstack/puppet-neutron,master,I5a547675b36df364dc7299ce647ddfe3d05d9af2,Deprecate support for networking-odl,ABANDONED,2023-03-29 01:32:24.000000000,2023-05-29 05:20:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 01:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/25b95be5ef4a5e4a907f8d01b883abd219ce49db', 'message': 'Deprecate support for networking-odl\n\n... because the networking-odl project has been deprecated[1].\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2\n'}, {'number': 2, 'created': '2023-04-05 07:45:02.000000000', 'files': ['releasenotes/notes/deprecate-networking-odl-6684bc8400845d1a.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9e83abbb8990048b764401dacff300e9fb29d60c', 'message': 'Deprecate support for networking-odl\n\n... because the networking-odl project has been deprecated[1].\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2\n'}]",3,878805,9e83abbb8990048b764401dacff300e9fb29d60c,12,2,2,9816,,,0,"Deprecate support for networking-odl

... because the networking-odl project has been deprecated[1].

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Change-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/05/878805/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-networking-odl-6684bc8400845d1a.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp']",3,25b95be5ef4a5e4a907f8d01b883abd219ce49db,,# DEPRECATED !! warning('Support for networking-odl has been deprecated.') ,,11,0
openstack%2Ftripleo-common~master~I1109320b1d6fc9ba5f4ac7083c799838bce6ac45,openstack/tripleo-common,master,I1109320b1d6fc9ba5f4ac7083c799838bce6ac45,Workaround inventory script plugin limitation,ABANDONED,2023-05-29 04:45:07.000000000,2023-05-29 04:46:12.000000000,,[],"[{'number': 1, 'created': '2023-05-29 04:45:07.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a08a45ce0d98dc998684bdfd53822c001da701a', 'message': ""Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nChange-Id: I1109320b1d6fc9ba5f4ac7083c799838bce6ac45\n""}]",0,884573,5a08a45ce0d98dc998684bdfd53822c001da701a,2,0,1,8833,,,0,"Workaround inventory script plugin limitation

BlacklistedHostnames stack output  can be  ['', '', '', ''] when
there are no blacklisted hosts for any role . Scripts plugin could
not handle something like 'hosts': {} and expects it to be a empty
list []  instead. This works around that.

Change-Id: I1109320b1d6fc9ba5f4ac7083c799838bce6ac45
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/884573/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,5a08a45ce0d98dc998684bdfd53822c001da701a,,," 'excluded_overcloud': { 'hosts': {} }, 'excluded_overcloud': { 'hosts': {} },",7,12
openstack%2Fnova~master~I5644effac7206035de77e0d1cd450a9fb96c3a0d,openstack/nova,master,I5644effac7206035de77e0d1cd450a9fb96c3a0d,testing: Use inspect.isfunction() to check signatures,NEW,2023-05-16 02:20:59.000000000,2023-05-29 03:38:44.000000000,,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-16 02:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa815e8e631b372083af5d35f5c3a052b2ec3572', 'message': 'testing: Use inspect.isfunction() to check signatures\n\nWe recently discovered that nova.test.SubclassSignatureTestCase has not\nworked properly since support for python 2.7 was dropped.\n\nThe reason is the use of the inspect.ismethod() function; in python 2.7\nit returned true if the object was a bound or an unbound method [2] but\nas of python 3, it only returns true if the object is a bound method\n[2].\n\nBecause of this, LibvirtBaseVolumeDriverSubclassSignatureTestCase was\nnot actually checking any signatures.\n\nThis replaces the use of inspect.ismethod() with inspect.isfunction()\nto fix the issue.\n\nIt also adds a skip for subclass private functions as these are\nexpected to be different among subclasses.\n\nOne subclass method signature caught by the test is also updated to\nmatch the base class.\n\n[1] https://docs.python.org/2.7/library/inspect.html#inspect.ismethod\n[2] https://docs.python.org/3.5/library/inspect.html#inspect.ismethod\n\nCloses-Bug: #2019772\n\nChange-Id: I5644effac7206035de77e0d1cd450a9fb96c3a0d\n'}, {'number': 2, 'created': '2023-05-16 03:08:28.000000000', 'files': ['nova/test.py', 'nova/tests/unit/test_test.py', 'nova/virt/libvirt/volume/lightos.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/091e3ea8fd3541e0edb98e31f9484cc08b0e5413', 'message': 'testing: Use inspect.isfunction() to check signatures\n\nWe recently discovered that nova.test.SubclassSignatureTestCase has not\nworked properly since support for python 2.7 was dropped.\n\nThe reason is the use of the inspect.ismethod() function; in python 2.7\nit returned true if the object was a bound or an unbound method [2] but\nas of python 3, it only returns true if the object is a bound method\n[2].\n\nBecause of this, LibvirtBaseVolumeDriverSubclassSignatureTestCase was\nnot actually checking any signatures.\n\nThis replaces the use of inspect.ismethod() with inspect.isfunction()\nto fix the issue.\n\nIt also adds a skip for subclass private functions as these are\nexpected to be different among subclasses.\n\nOne subclass method signature caught by the test is also updated to\nmatch the base class.\n\n[1] https://docs.python.org/2.7/library/inspect.html#inspect.ismethod\n[2] https://docs.python.org/3.5/library/inspect.html#inspect.ismethod\n\nCloses-Bug: #2019772\n\nChange-Id: I5644effac7206035de77e0d1cd450a9fb96c3a0d\n'}]",2,883217,091e3ea8fd3541e0edb98e31f9484cc08b0e5413,18,5,2,4690,,,0,"testing: Use inspect.isfunction() to check signatures

We recently discovered that nova.test.SubclassSignatureTestCase has not
worked properly since support for python 2.7 was dropped.

The reason is the use of the inspect.ismethod() function; in python 2.7
it returned true if the object was a bound or an unbound method [2] but
as of python 3, it only returns true if the object is a bound method
[2].

Because of this, LibvirtBaseVolumeDriverSubclassSignatureTestCase was
not actually checking any signatures.

This replaces the use of inspect.ismethod() with inspect.isfunction()
to fix the issue.

It also adds a skip for subclass private functions as these are
expected to be different among subclasses.

One subclass method signature caught by the test is also updated to
match the base class.

[1] https://docs.python.org/2.7/library/inspect.html#inspect.ismethod
[2] https://docs.python.org/3.5/library/inspect.html#inspect.ismethod

Closes-Bug: #2019772

Change-Id: I5644effac7206035de77e0d1cd450a9fb96c3a0d
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/883217/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/virt/libvirt/volume/lightos.py']",2,aa815e8e631b372083af5d35f5c3a052b2ec3572,bug/2019772," def extend_volume(self, connection_info, instance, requested_size):"," def extend_volume(self, connection_info, instance, requested_size=None):",6,2
openstack%2Ftacker~master~Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3,openstack/tacker,master,Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3,Update v2 api reference,MERGED,2023-04-07 03:09:23.000000000,2023-05-29 01:54:33.000000000,2023-05-29 01:53:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32707}, {'_account_id': 32826}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-04-07 03:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17c45365bca8f980a47d378a6267c92aaa8d9929', 'message': 'Update v2 api reference\n\nThis patch updates the v2 API reference according to the current implementation.\nThe main update APIs are as follows:\n  * Show VNF instance\n  * List VNF instance\n  * Change Current VNF Package\n  * Show VNF LCM operation occurrence\n  * List VNF LCM operation occurrence\n  * Fail a VNF LCM operation occurrence\n  * Create a new subscription\n  * Show subscription\n  * List subscription\n\nChange-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3\n'}, {'number': 2, 'created': '2023-05-26 05:21:00.000000000', 'files': ['api-ref/source/v2/parameters_vnflcm.yaml', 'api-ref/source/v2/vnflcm.inc'], 'web_link': 'https://opendev.org/openstack/tacker/commit/80f4c8988ca3e1b7e5dd22413ba9f141e68dbf24', 'message': 'Update v2 api reference\n\nThis patch updates the v2 API reference according to\nthe current implementation.\nThe main update APIs are as follows:\n  * Show VNF instance\n  * List VNF instance\n  * Change Current VNF Package\n  * Show VNF LCM operation occurrence\n  * List VNF LCM operation occurrence\n  * Fail a VNF LCM operation occurrence\n  * Create a new subscription\n  * Show subscription\n  * List subscription\n\nChange-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3\n'}]",5,879831,80f4c8988ca3e1b7e5dd22413ba9f141e68dbf24,14,7,2,31730,,,0,"Update v2 api reference

This patch updates the v2 API reference according to
the current implementation.
The main update APIs are as follows:
  * Show VNF instance
  * List VNF instance
  * Change Current VNF Package
  * Show VNF LCM operation occurrence
  * List VNF LCM operation occurrence
  * Fail a VNF LCM operation occurrence
  * Create a new subscription
  * Show subscription
  * List subscription

Change-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/879831/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters_vnflcm.yaml', 'api-ref/source/v2/vnflcm.inc']",2,17c45365bca8f980a47d378a6267c92aaa8d9929,update-api-ref-v2, - extra: vim_connection_info_extra - macAddress: mac_address - segmentationId: segmentation_id - isDynamic: is_dynamic - addressRange: address_range - minAddress: min_address - maxAddress: max_address - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - macAddress: mac_address - segmentationId: segmentation_id - fixedAddresses: fixed_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - extManagedMultisiteVirtualLinkId: ext_managed_multisite_virtual_link_id - monitoringParameters: monitoring_parameters - id: monitoring_parameters_id - vnfdId: monitoring_parameters_vnfd_id - name: monitoring_parameters_name - performanceMetric: monitoring_parameters_performance_metric - localizationLanguage: localization_language - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - storageResourceIds: vnfc_resource_info_storage_resource_ids - vnfLinkPortId: vnfc_cp_info_vnf_link_port_id - metadata: vnfc_resource_info_metadata - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - vnfcConfigurableProperties: vnfc_configurable_properties - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - extensions: vnf_instance_extensions - extra: vim_connection_info_extra - macAddress: mac_address - segmentationId: segmentation_id - isDynamic: is_dynamic - addressRange: address_range - minAddress: min_address - maxAddress: max_address - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - macAddress: mac_address - segmentationId: segmentation_id - fixedAddresses: fixed_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - extManagedMultisiteVirtualLinkId: ext_managed_multisite_virtual_link_id - monitoringParameters: monitoring_parameters - id: monitoring_parameters_id - vnfdId: monitoring_parameters_vnfd_id - name: monitoring_parameters_name - performanceMetric: monitoring_parameters_performance_metric - localizationLanguage: localization_language - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - storageResourceIds: vnfc_resource_info_storage_resource_ids - vnfLinkPortId: vnfc_cp_info_vnf_link_port_id - metadata: vnfc_resource_info_metadata - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - vnfcConfigurableProperties: vnfc_configurable_properties - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - extensions: vnf_instance_extensions - id: ext_virtual_links_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: ext_virtual_links_resource_id - extCps: ext_cps - cpdId: cpd_id - cpConfig: cp_config - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - cpProtocolData: cp_protocol_data - layerProtocol: layer_protocol - ipOverEthernet: ip_over_ethernet - macAddress: mac_address - segmentationId: segmentation_id - ipAddresses: ip_addresses - type: ip_address_type - fixedAddresses: fixed_addresses - numDynamicAddresses: num_dynamic_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - extLinkPorts: ext_link_ports - id: ext_link_port_id - resourceHandle: ext_link_port_resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - extManagedVirtualLinks: ext_managed_virtual_links - id: ext_managed_virtual_link_data_id - vnfVirtualLinkDescId: vnf_virtual_link_desc_id - resourceId: ext_managed_virtual_link_data_resource_id - vimId: vim_connection_info_vim_id - vimType: vim_connection_info_vim_type - interfaceInfo: vim_connection_info_interface_info - accessInfo: vim_connection_info_access_info - extra: vim_connection_info_extra - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - vnfLinkPortIds: vnf_link_port_ids - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - vnfInstanceNames: vnf_instance_names - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states, - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - vnfInstanceName: vnf_instance_names,344,5
openstack%2Fneutron~stable%2Fzed~Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,openstack/neutron,stable/zed,Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,[S-RBAC] Fix new policies for FIP PFs APIs,MERGED,2023-05-11 15:01:53.000000000,2023-05-28 21:02:50.000000000,2023-05-28 21:01:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:01:53.000000000', 'files': ['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/039caabfe352049f669323ffc00e74bb6ad5ca93', 'message': ""[S-RBAC] Fix new policies for FIP PFs APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for FIP PFs by defining them to be available for\nADMIN_OR_PROJECT_MEMBER/READER or FIP owner.\nFirst, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs\ndon't have tenant_id attribute at all and belongs to the owner of FIP always.\nSecond issue was that any FIP owner, even with just READER role could possibly\ne.g. create port forwarding.\n\nTo fix that, this patch changes those API policies to new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nConflicts:\n    neutron/conf/policies/floatingip_port_forwarding.py\n\nCloses-Bug: #2018989\nChange-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005\n(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)\n(cherry picked from commit 812526a2797770e4febe47d1547f1b383d772ffb)\n""}]",1,882963,039caabfe352049f669323ffc00e74bb6ad5ca93,12,3,1,16688,,,0,"[S-RBAC] Fix new policies for FIP PFs APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for FIP PFs by defining them to be available for
ADMIN_OR_PROJECT_MEMBER/READER or FIP owner.
First, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs
don't have tenant_id attribute at all and belongs to the owner of FIP always.
Second issue was that any FIP owner, even with just READER role could possibly
e.g. create port forwarding.

To fix that, this patch changes those API policies to new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

Conflicts:
    neutron/conf/policies/floatingip_port_forwarding.py

Closes-Bug: #2018989
Change-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005
(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)
(cherry picked from commit 812526a2797770e4febe47d1547f1b383d772ffb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/882963/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py']",2,039caabfe352049f669323ffc00e74bb6ad5ca93,bug/2018989," 'tenant_id': self.project_id, self.alt_fip = { 'id': uuidutils.generate_uuid(), 'tenant_id': self.alt_project_id, 'project_id': self.alt_project_id} 'floatingip_id': self.alt_fip['id'], 'ext_parent_floatingip_id': self.alt_fip['id']} with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)"," 'project_id': self.project_id, 'project_id': self.alt_project_id, 'floatingip_id': self.fip['id'], 'ext_parent_floatingip_id': self.fip['id']} self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)",209,154
openstack%2Fnova~stable%2Fvictoria~I3d1b21ba6eb3f5eb728693197c24b4b315eef821,openstack/nova,stable/victoria,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,MERGED,2021-06-14 11:00:52.000000000,2023-05-28 16:55:30.000000000,2023-05-28 16:54:25.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecb3965deb06030529b57f45c222546bf765a7e9', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}, {'number': 2, 'created': '2021-06-17 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac3fc65f5ee62dd60525fce3e8b881e1389cca43', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}, {'number': 3, 'created': '2023-05-28 12:17:00.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1aca09b966a64520844d503f634b5f95a395001f', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}]",4,796260,1aca09b966a64520844d503f634b5f95a395001f,29,2,3,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/796260/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ecb3965deb06030529b57f45c222546bf765a7e9,bug/1905701," # assert that no attempt to remove the secret is made when # destroy_secrets=False drvr._host.find_secret.reset_mock() drvr._host.delete_secret.reset_mock() drvr._disconnect_volume( self.context, connection_info, instance, encryption=encryption, destroy_secrets=False ) drvr._host.delete_secret.assert_not_called() @mock.patch('nova.virt.libvirt.host.Host.delete_secret') @mock.patch('nova.virt.libvirt.host.Host.find_secret', new=mock.Mock()) def test_detach_encryptor_skip_secret_removal(self, mock_delete_secret): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=False ) # Assert that no attempt is made to delete the volume secert mock_delete_secret.assert_not_called() drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=True ) # Assert that volume secert is deleted mock_delete_secret.assert_called_once_with('volume', uuids.volume_id) network_info, None, False, destroy_secrets=True) network_info, None, False, destroy_secrets=True) block_device_info=block_device_info, destroy_secrets=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain', new=mock.Mock()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vpmems', new=mock.Mock(return_value=None)) def test_cleanup_destroy_secrets(self, mock_disconnect_volume): block_device_info = { 'block_device_mapping': [ { 'connection_info': mock.sentinel.connection_info } ] } instance = objects.Instance(self.context, **self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) # Pass destroy_vifs=False and destroy_disks=False as we only care about # asserting the behaviour of destroy_secrets in this test. drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, destroy_secrets=False ) drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, ) # Assert that disconnect_volume is called with destroy_secrets=False # and destroy_secrets=True by default mock_disconnect_volume.assert_has_calls([ mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=False ), mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=True ) ]) "," network_info, None, False) network_info, None, False) block_device_info=block_device_info)",124,11
openstack%2Fnova~stable%2Fvictoria~Id917d715c0c0955fbc6761d4b5af386514a343d2,openstack/nova,stable/victoria,Id917d715c0c0955fbc6761d4b5af386514a343d2,libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick,NEW,2023-05-28 12:17:00.000000000,2023-05-28 12:47:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-28 12:17:00.000000000', 'files': ['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b706522152ecfeb52a67e3546aea5c4d95960a5a', 'message': 'libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick\n\nBoth sets of tests would allow calls to the InitiatorConnector.factory\nwithin os-brick that returns an arch specific connector. When running\ntests on ppc64le hosts this would result in failures are the SCALEIO and\nNVME protocols are not supported on these architectures.\n\nCloses-Bug: #1912608\nChange-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2\n(cherry picked from commit 0f558749d1489c6399bb009dfd2a1aeda8d85f9c)\n'}]",0,884570,b706522152ecfeb52a67e3546aea5c4d95960a5a,3,1,1,17685,,,0,"libvirt: Stop NVMe and ScaleIO unit tests from calling os-brick

Both sets of tests would allow calls to the InitiatorConnector.factory
within os-brick that returns an arch specific connector. When running
tests on ppc64le hosts this would result in failures are the SCALEIO and
NVME protocols are not supported on these architectures.

Closes-Bug: #1912608
Change-Id: Id917d715c0c0955fbc6761d4b5af386514a343d2
(cherry picked from commit 0f558749d1489c6399bb009dfd2a1aeda8d85f9c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/884570/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py']",2,b706522152ecfeb52a67e3546aea5c4d95960a5a,bug/2004555," @mock.patch('os_brick.initiator.connector.InitiatorConnector.factory', new=mock.Mock(return_value=mock.Mock())) def test_libvirt_scaleio_driver_connect(self): sio.connector.connect_volume.return_value = conn['data'] sio.connector.connect_volume.assert_called_once_with(conn['data']) self.assertEqual(disk_info['path'], conn['data']['device_path']) @mock.patch('os_brick.initiator.connector.InitiatorConnector.factory', new=mock.Mock(return_value=mock.Mock())) @mock.patch('os_brick.initiator.connector.InitiatorConnector.factory', new=mock.Mock(return_value=mock.Mock())) @mock.patch('os_brick.initiator.connector.InitiatorConnector.factory', new=mock.Mock(return_value=mock.Mock())) def test_libvirt_scaleio_driver_extend_volume(self): sio.connector.extend_volume.return_value = extended_vol_size self.assertEqual( extended_vol_size, sio.extend_volume(conn, mock.sentinel.instance, extended_vol_size))"," def test_libvirt_scaleio_driver_connect(self): def brick_conn_vol(data): return {'path': '/dev/vol01'} sio.connector.connect_volume = brick_conn_vol self.assertEqual('/dev/vol01', conn['data']['device_path']) sio.connector.disconnect_volume = mock.MagicMock() def test_libvirt_scaleio_driver_extend_volume(self): def brick_extend_vol(data): return data['size'] with mock.patch.object(sio.connector, 'extend_volume', side_effect=brick_extend_vol): self.assertEqual(extended_vol_size, sio.extend_volume(conn, mock.sentinel.instance, extended_vol_size))",26,20
openstack%2Fnova~stable%2Fvictoria~I92e57aefeb909297cf3d4f566a3308aa9312bb02,openstack/nova,stable/victoria,I92e57aefeb909297cf3d4f566a3308aa9312bb02,Trival Change: Remove redundant code in instance delete,MERGED,2021-06-17 17:06:26.000000000,2023-05-28 11:57:51.000000000,2023-05-28 11:56:45.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-17 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1387297dcd956f870327b9415cf6ffbbc7f0da3', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n'}, {'number': 2, 'created': '2023-05-26 00:43:37.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab261fae4e05acf56efa58e2544d525f7065efd7', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n'}]",2,796912,ab261fae4e05acf56efa58e2544d525f7065efd7,22,3,2,10135,,,0,"Trival Change: Remove redundant code in instance delete

Change-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02
(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/796912/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,a1387297dcd956f870327b9415cf6ffbbc7f0da3,bug/1905701,," disk_dev = vol['mount_device'] if disk_dev is not None: disk_dev = disk_dev.rpartition(""/"")[2]",0,3
openstack%2Fopenstack-ansible-haproxy_server~master~Iba9156c5b909f7b18599638db4471bab12794f0e,openstack/openstack-ansible-haproxy_server,master,Iba9156c5b909f7b18599638db4471bab12794f0e,Fix service-redirect.j2 template,MERGED,2022-11-16 20:16:33.000000000,2023-05-28 08:54:23.000000000,2023-05-28 08:53:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-16 20:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1f894e4793e12b28c495caa005a3baaaece581b7', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 2, 'created': '2022-11-25 17:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b6ea86c3269a33c4687b3e0071daf84eb6d0f175', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 3, 'created': '2022-11-25 23:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/86f0a34f02f7cca97c4e8947fb667b14e4dd38b0', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 4, 'created': '2023-05-25 16:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1710fcf6ab38a59de70002d20c0a3160483b8872', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 5, 'created': '2023-05-25 22:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/2e013ce3187beefb20d2a0fb9ecd3172c09a842d', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 6, 'created': '2023-05-25 22:37:29.000000000', 'files': ['templates/service-redirect.j2', 'templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}]",12,864784,c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e,31,4,6,32666,,,0,"Fix service-redirect.j2 template

This change fixes service-redirect.j2 template that was not working so
far, mainly by replacing:
- 'vip_bind' with 'vip_addres'
- 'item' with 'service'

Additionally, I removed `haproxy_tcp_upgrade_backend` support because
it's not really needed after haproxy separated service config was
implemented.

I also changed variable name `haproxy_tcp_upgrade_frontend` to
`haproxy_accept_both_protocols` to better describe what exactly it does.
Release note is not needed as ``haproxy_tcp_upgrade_frontend` was not
working properly before.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445

Change-Id: Iba9156c5b909f7b18599638db4471bab12794f0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/84/864784/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service-redirect.j2', 'templates/service.j2']",2,1f894e4793e12b28c495caa005a3baaaece581b7,tls-backend,{# # TODO(damiandabrowski): Remove 'if' section after 2023.1(Antelope) release. It's only temporary for smooth upgrade purposes. #},{# TODO: remove if and section inside if after HTTPS upgrade #},8,8
openstack%2Fopenstack-helm~master~I2687a6c176c6b6448396244c3650e688a14967fa,openstack/openstack-helm,master,I2687a6c176c6b6448396244c3650e688a14967fa,Add Zed test jobs,MERGED,2023-05-25 18:07:53.000000000,2023-05-28 07:09:40.000000000,2023-05-28 07:07:39.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-05-25 18:07:53.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/638cd297b24ec1263ca235a5fee78dff47de7e7f', 'message': 'Add Zed test jobs\n\nChange-Id: I2687a6c176c6b6448396244c3650e688a14967fa\n'}]",1,884432,638cd297b24ec1263ca235a5fee78dff47de7e7f,8,3,1,3009,,,0,"Add Zed test jobs

Change-Id: I2687a6c176c6b6448396244c3650e688a14967fa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/884432/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,638cd297b24ec1263ca235a5fee78dff47de7e7f,, name: openstack-helm-cinder-zed-ubuntu_focal parent: openstack-helm-cinder vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal - job: name: openstack-helm-compute-kit-zed-ubuntu_focal parent: openstack-helm-compute-kit nodeset: openstack-helm-single-32GB-node vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal - job:,,19,0
openstack%2Fcinder~master~I01114211010817fbc40e959c3db9045958c78d06,openstack/cinder,master,I01114211010817fbc40e959c3db9045958c78d06,Doc: Fix way to update default quota value for a new project,NEW,2022-06-08 01:07:02.000000000,2023-05-28 05:04:56.000000000,,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 9816}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 34807}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-06-08 01:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8534e6d2a64ae605024d07991906360750558d25', 'message': ""Doc: Fix way to update default quota value for a new project\n\nThis commit fixes a way to update a default quota value for a new\nproject. The original way which is updating cinder.conf, doesn't update\nthe default value in the database. The value in cinder.conf is only used\nin an initialize phase. We need to use CLI to update default quota\nvalues.\n\nChange-Id: I01114211010817fbc40e959c3db9045958c78d06\n""}, {'number': 2, 'created': '2022-06-09 00:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d02fd3bb795ccb00557a297cd42adac21309e06d', 'message': ""Doc: Fix way to update default quota value for a new project\n\nThis commit adds a way to update a default quota value for a new\nproject when ``use_default_quota_class = True`` which is the default\nsetting. With the default setting, the original way which is updating\ncinder.conf doesn't update the default quota value in the database, and\nthe value in cinder.conf is only used in an initialize phase. So, we\nneed to use CLI to update default quota values in that case.\n\nChange-Id: I01114211010817fbc40e959c3db9045958c78d06\n""}, {'number': 3, 'created': '2022-06-09 00:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/026d76da7752d5a66f0b327eb8dcf2a3a3ee12f3', 'message': ""Doc: Fix way to update default quota value for a new project\n\nThis commit adds a way to update a default quota value for a new\nproject when ``use_default_quota_class = True`` which is the default\nsetting. With the default setting, the original way which is updating\ncinder.conf doesn't update the default quota value in the database, and\nthe value in cinder.conf is only used in an initialize phase. So, we\nneed to use CLI to update default quota values in that case.\n\nChange-Id: I01114211010817fbc40e959c3db9045958c78d06\n""}, {'number': 4, 'created': '2022-10-14 01:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/153ec40974c4964db2a91a175b44fb054db0f774', 'message': ""Doc: Fix way to update default quota value for a new project\n\nThis commit adds a way to update a default quota value for a new\nproject when ``use_default_quota_class = True`` which is the default\nsetting. With the default setting, the original way which is updating\ncinder.conf doesn't update the default quota value in the database, and\nthe value in cinder.conf is only used in an initialize phase. So, we\nneed to use CLI to update default quota values in that case.\n\nChange-Id: I01114211010817fbc40e959c3db9045958c78d06\n""}, {'number': 5, 'created': '2022-10-17 06:22:37.000000000', 'files': ['doc/source/cli/cli-cinder-quotas.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ca0ee3e6d3f2b99f389cb6deb2dc67927e39258', 'message': ""Doc: Fix way to update default quota value for a new project\n\nThis commit adds a way to update a default quota value for a new\nproject when ``use_default_quota_class = True`` which is the default\nsetting. With the default setting, the original way which is updating\ncinder.conf doesn't update the default quota value in the database, and\nthe value in cinder.conf is only used in an initialize phase. So, we\nneed to use CLI to update default quota values in that case.\n\nChange-Id: I01114211010817fbc40e959c3db9045958c78d06\n""}]",27,845069,7ca0ee3e6d3f2b99f389cb6deb2dc67927e39258,115,13,5,5689,,,0,"Doc: Fix way to update default quota value for a new project

This commit adds a way to update a default quota value for a new
project when ``use_default_quota_class = True`` which is the default
setting. With the default setting, the original way which is updating
cinder.conf doesn't update the default quota value in the database, and
the value in cinder.conf is only used in an initialize phase. So, we
need to use CLI to update default quota values in that case.

Change-Id: I01114211010817fbc40e959c3db9045958c78d06
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/845069/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/cli-cinder-quotas.rst'],1,8534e6d2a64ae605024d07991906360750558d25,fix-quota-doc,"#. To update a default value for a new project .. code-block:: console $ openstack quota set --QUOTA_NAME QUOTA_VALUE default Replace ``QUOTA_NAME`` with the quota that is to be updated, ``QUOTA_VALUE`` with the required new value.","#. To update a default value for a new project, update the property in the :guilabel:`cinder.quota` section of the ``/etc/cinder/cinder.conf`` file. For more information, see the :doc:`Block Storage service configuration </configuration/index>`.",8,5
openstack%2Fcinder~master~I67871183af2a06f1a12d922171756a0cf98177ae,openstack/cinder,master,I67871183af2a06f1a12d922171756a0cf98177ae,update volume manager for backup fail,NEW,2023-04-13 09:58:29.000000000,2023-05-28 03:46:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-04-13 09:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba54192818e2a9291d870795c1441c4aa4cbbe6d', 'message': 'update volume manager for backup fail\n\nWhen the scheduler found that there was no service\navailable, it did not judge whether it was backed\nup by snapshot, and directly updated the status of\nthe volume to previous_status, causing the status\nof the volume to become none.\n\nCloses-Bug: #1926412\nChange-Id: I67871183af2a06f1a12d922171756a0cf98177ae\n'}, {'number': 2, 'created': '2023-04-28 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdb8d521b43a52b9b604d9a349ee69775999a979', 'message': 'update volume manager for backup fail\n\nWhen the scheduler found that there was no service\navailable, it did not judge whether it was backed\nup by snapshot, and directly updated the status of\nthe volume to previous_status, causing the status\nof the volume to become none.\n\nCloses-Bug: #1926412\nChange-Id: I67871183af2a06f1a12d922171756a0cf98177ae\n'}, {'number': 3, 'created': '2023-05-25 10:24:55.000000000', 'files': ['test-requirements.txt', 'cinder/scheduler/manager.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e02f3d22a067f18aafec195aa08eb3b047c8eca0', 'message': 'update volume manager for backup fail\n\nWhen the scheduler found that there was no service\navailable, it did not judge whether it was backed\nup by snapshot, and directly updated the status of\nthe volume to previous_status, causing the status\nof the volume to become none.\n\nCloses-Bug: #1926412\nChange-Id: I67871183af2a06f1a12d922171756a0cf98177ae\n'}]",4,880275,e02f3d22a067f18aafec195aa08eb3b047c8eca0,45,2,3,30615,,,0,"update volume manager for backup fail

When the scheduler found that there was no service
available, it did not judge whether it was backed
up by snapshot, and directly updated the status of
the volume to previous_status, causing the status
of the volume to become none.

Closes-Bug: #1926412
Change-Id: I67871183af2a06f1a12d922171756a0cf98177ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/880275/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/manager.py'],1,ba54192818e2a9291d870795c1441c4aa4cbbe6d,bug/1926412," if backup.snapshot_id: self.db.snapshot_update( context, backup.snapshot_id, {'status': fields.SnapshotStatus.AVAILABLE}) else: self.db.volume_update(context, volume_id, {'status': volume['previous_status'], 'previous_status': volume['status']}) "," self.db.volume_update(context, volume_id, {'status': volume['previous_status'], 'previous_status': volume['status']})",9,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ifac1481b459707b289a9804aa4240ebbf55f6ab7,openstack/openstack-ansible-rabbitmq_server,master,Ifac1481b459707b289a9804aa4240ebbf55f6ab7,Switch rabbitmq repo back to packagecloud,MERGED,2023-04-06 09:46:14.000000000,2023-05-28 00:32:41.000000000,2023-04-10 15:13:48.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-04-06 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e3e69d8891d01a888b0efcabd58277375f55c888', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 2, 'created': '2023-04-07 07:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7c0a6e96aa1f7a89e16e23397fd0ae9479ae7b95', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 3, 'created': '2023-04-07 12:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0c606c9876047457d2af7909cfa65bf8faeec114', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 4, 'created': '2023-04-07 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0a08b945294ab034c9006d547eb01b82cd7c5971', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 5, 'created': '2023-04-07 14:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/576a091f8ed2946b4762d2bac811d768c2f27911', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 6, 'created': '2023-04-07 15:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/12015a9d9d4c18dbdffe79338c87553b0f3be2f9', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 7, 'created': '2023-04-07 16:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0b64677f0006aae827c7fbe5505e98f99fae41b2', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 8, 'created': '2023-04-07 17:16:46.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/84d88c5a265e2f783c7daa15d71251f45bcfc4b8', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}]",2,879732,84d88c5a265e2f783c7daa15d71251f45bcfc4b8,25,4,8,28619,,,0,"Switch rabbitmq repo back to packagecloud

Due to decision made during PTG, we're switching back source for
RabbitMQ to packagcloud, since cloudsmith does rotate versions
too aggressively and we can't keep up with them.
With that we're leaving erlang source to be cloudsmith, since
there're simply no other good sources for Ubuntu/Debian.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671
Change-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/32/879732/8 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960']",4,e3e69d8891d01a888b0efcabd58277375f55c888,,,-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQGNBGAyemoBDADMwGfwPLzN0G0TOoiJdboRZOHUk51mtkBemD+JX2XiTvykjj4p M5MyRfGKV5YFRw5IkFXqYaNP/dqCAbWkfQG1aNpzPVIqlwwOkNEnNR2dKpiEpiq9 Q53HbAjMa9eHxvWN65MtvDIXGUIoupVMZAbycsYD9+fZWJrQgRlSb/Lk9cCvYKoy dXsfS1TOmglI3yFRgSvr+CM54gIOKpqWJVE+u2ZFq2rw9yh0GQzcOLXmrMStfbla akgqe3jpdXKIlI4tSoRaOsIFUjc1DeyZcEJGZyKlo4h1cgVNha8HDiMB9a7bdTCm W06ZbUrEz1vTmyFN6WFsLuZ4MRiWkuz0RAA9ePGMYz8DsQoMqusaoFAoQkgJQH4d MF+/3MFnK6CXMtkDYqwstcSDqtzbgvW+sOCzA/WGUzw37nwoh+mxIctVPxYsuipT aX8O9T449mQ61AOFw9MoTRSnf0XNfFUlkh9fQlUK/BWxM0X7A4UUtdMcZC54LsMF KHDCC4WHeOpDy1sAEQEAAbRFQ2xvdWRzbWl0aCBQYWNrYWdlIChyYWJiaXRtcS9y YWJiaXRtcS1zZXJ2ZXIpIDxzdXBwb3J0QGNsb3Vkc21pdGguaW8+iQG3BBMBCAAh BQJgMnpqAhsvBQsJCAcDBRUKCQgLBRYCAwEAAh4BAheAAAoJEJ9Fh/ImIINCM+4M AJmb/bXlShUTN4J1XCSOoUk4rBe0jBb6YbvB0YJrD1FZr/nfwV08sqCxfBvXR41W 9PwCCPYKUXo1K4TxehfOR4RpiHou+YxnqMiZjLKB9nSTnGj7kSJ8OLEcqUrgV/Uv Fk0w2IGQf25u6D6NumKuk6CElFxBG5OzBXtBAxUSLzQ7Xz/3IuqaPuA8KPRD25s8 yDjj2auyZxlfaD+wUNkqaLQ9quXd8IJuUqvz9wNbOItooWypEk2tX48w5i+wd1pP AW+NjKuwd0G88nO6J+7oFYXcsh7n3nblJZT0bmUZC9M6kL9llt8Vy/FBkHnP3dX3 +6EfEXeXPhVJTI7nkNP64XssO4zHg9vQd3rLd6RCfUnA/NjEXvpR6pjoEsPMlD99 8hsK1c0AhAntSsB2sky7E5p7Rzq8X/SM8aZGDmkitkN2VdnAQsJP0UVq7FnpqBFS pMxOxGveS5d5sjU3LoHPTg1uOcARcsOH245szVBPtklXOzg7Fazcc+BHmjYmrgeu QQ== =CfXb -----END PGP PUBLIC KEY BLOCK----- ,73,33
openstack%2Fnova~stable%2Fvictoria~I856268b371f7ba712b02189db3c927cd762a4dc3,openstack/nova,stable/victoria,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,MERGED,2021-06-14 11:00:52.000000000,2023-05-27 22:20:30.000000000,2023-05-27 22:19:25.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/813bee5a9df762a08c393b269b9b0d32096183d8', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n'}, {'number': 2, 'created': '2021-06-17 17:06:26.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f805779363b9933386eee4222de15466c547ba38', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n'}]",9,796259,f805779363b9933386eee4222de15466c547ba38,37,2,2,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/796259/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",6,813bee5a9df762a08c393b269b9b0d32096183d8,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",23,11
openstack%2Fhorizon~stable%2Fvictoria~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/victoria,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:53.000000000,2023-05-27 19:03:44.000000000,2023-05-27 19:01:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c115fae8fd98c63a64f2dfb2a6a12228df382933', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:20:23.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ec27e19c0456053723b304c7a9fb7148954fa905', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883922,ec27e19c0456053723b304c7a9fb7148954fa905,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/883922/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,c115fae8fd98c63a64f2dfb2a6a12228df382933,883922,, - openstack/xstatic-font-awesome,0,1
openstack%2Fhorizon~stable%2Fyoga~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/yoga,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:08.000000000,2023-05-27 19:03:33.000000000,2023-05-27 19:01:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c9b3ad620be9b5b9668e4f178b7921ad19fa0f2', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:08:33.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f14a54262aa08bba65977262bdf8b8f57f717848', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883919,f14a54262aa08bba65977262bdf8b8f57f717848,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/883919/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,5c9b3ad620be9b5b9668e4f178b7921ad19fa0f2,883919,, - openstack/xstatic-font-awesome,0,1
openstack%2Fkeystoneauth~master~I98d5d4490b3d5667677cdd19f3c7b39abe6044ef,openstack/keystoneauth,master,I98d5d4490b3d5667677cdd19f3c7b39abe6044ef,Keep request-id at redirect,NEW,2022-11-11 21:03:14.000000000,2023-05-27 14:43:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-11 21:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/26f0cc2ed0f84ae87c45126086b76b8392479b13', 'message': 'Keep request-id at redirect\n\nCurrently when redirects are used, the request id can get lost on redirect.\nProposed patch reuses req-id from redirect response and passes it to\nactual request\n\nChange-Id: I98d5d4490b3d5667677cdd19f3c7b39abe6044ef\n'}, {'number': 2, 'created': '2022-12-29 20:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a088de4955993d707385681a95327702eb391a6c', 'message': 'Keep request-id at redirect\n\nCurrently when redirects are used, the request id can get lost on redirect.\nProposed patch reuses req-id from redirect response and passes it to\nactual request\n\nCloses-Bug: #2000742\nChange-Id: I98d5d4490b3d5667677cdd19f3c7b39abe6044ef\n'}, {'number': 3, 'created': '2022-12-29 20:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/82cdada2377966ad225a65816b34c32513d50630', 'message': 'Keep request-id at redirect\n\nCurrently when redirects are used, the request id can get lost on redirect.\nProposed patch reuses req-id from redirect response and passes it to\nactual request\n\nCloses-Bug: #2000742\nChange-Id: I98d5d4490b3d5667677cdd19f3c7b39abe6044ef\n'}, {'number': 4, 'created': '2023-05-27 13:04:05.000000000', 'files': ['keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c800dcee75144e96aef23abaaa3a78078e7f0992', 'message': 'Keep request-id at redirect\n\nCurrently when redirects are used, the request id can get lost on redirect.\nProposed patch reuses req-id from redirect response and passes it to\nactual request\n\nCloses-Bug: #2000742\nChange-Id: I98d5d4490b3d5667677cdd19f3c7b39abe6044ef\n'}]",3,864309,c800dcee75144e96aef23abaaa3a78078e7f0992,11,1,4,27838,,,0,"Keep request-id at redirect

Currently when redirects are used, the request id can get lost on redirect.
Proposed patch reuses req-id from redirect response and passes it to
actual request

Closes-Bug: #2000742
Change-Id: I98d5d4490b3d5667677cdd19f3c7b39abe6044ef
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/09/864309/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py']",2,26f0cc2ed0f84ae87c45126086b76b8392479b13,," def test_req_id_redirect(self): session = client_session.Session() self.setup_redirects(status_code=302) resp = session.get(self.REDIRECT_CHAIN[0], headers={'x-openstack-request-id': 'req-1234-5678'}) self.assertResponse(resp) self.assertRequestHeaderEqual('x-openstack-request-id', 'req-1234-5678') ",,13,0
openstack%2Fopenstack-ansible-specs~master~I4b9d28c1e70d2aba39432f27d550b97691493cc2,openstack/openstack-ansible-specs,master,I4b9d28c1e70d2aba39432f27d550b97691493cc2,Add proposal for enabling TLS on all internal communications,MERGED,2021-12-23 16:50:36.000000000,2023-05-27 13:19:57.000000000,2023-05-27 13:18:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2021-12-23 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/557f4e15825af415d70e1cc1cb9442e13635bbfe', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 2, 'created': '2022-02-21 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b09ecc30f18a57ad7ece220ba01b917e9ae8be35', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 3, 'created': '2022-02-21 09:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/2f85850386cedfb2eaf4dade0f1bc428b29f9743', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 4, 'created': '2022-11-16 19:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/f4a53e1f7ca5777aed6ba1b8dd7c542bc3255cb5', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 5, 'created': '2022-11-16 20:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/02a3515f3e54ab104b232e202268724020917083', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 6, 'created': '2022-11-16 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/3cb6444361c9c1d11c94143bbe73d0262fb1ac6b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 7, 'created': '2023-04-04 08:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/005e97c4d0bcd27459774fedba0c2b1008cb780a', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 8, 'created': '2023-04-04 08:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/9d10d570176bbafeae37a12d12f7cf631d357b20', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 9, 'created': '2023-05-25 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/9976555a36d103005bfd35a4814f966215e4bf6b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 10, 'created': '2023-05-25 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/4190e49cfc42687167fe3e88779767773c10ac5b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 11, 'created': '2023-05-25 22:41:55.000000000', 'files': ['doc/source/index.rst', 'specs/zed/internal-tls.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/8bc6eb20bca277f4b8b1e393671d8353a0b9a59f', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}]",12,822850,8bc6eb20bca277f4b8b1e393671d8353a0b9a59f,37,4,11,31749,,,0,"Add proposal for enabling TLS on all internal communications

Change-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/50/822850/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'specs/yoga/internal-tls.rst']",3,557f4e15825af415d70e1cc1cb9442e13635bbfe,tls-backend,"Enabling TLS on Internal Communications ####################################### :date: 2021-12-08 12:00 :tags: ssl, tls, certificates, https, security To improve the security of an OpenStack-Ansible deployments all traffic, both internal and external should be encrypted. There is already support for encrypting external traffic from all public endpoints that reside behind haproxy, but this is not the case for all internal traffic. Problem description =================== This problem can broadly be split into 3 sections: * Securing internal communications to the internal haproxy VIP * Securing internal communications from haproxy to backends * Securing internal communications between services such as rabbitmq, galera, nova live migration and noVNC Securing internal communications to the internal haproxy VIP ------------------------------------------------------------ Support for using TLS on in the internal haproxy VIP is already present in haproxy role and is enabled for the AIO deployment, but not enabled for new or upgrades of existing deployments. There are no issues with enabling TLS on the internal haproxy VIP for new deployments, but for existing deployments an upgrade process needs to be implemented. The reason an upgrade process is required is because currently if you enabled TLS on the internal haproxy VIP it would cause downtime, until each client is configured to use HTTPS instead of HTTP. Problems to resolve: * Haproxy configuration to allow TLS to be enabled without downtime of API's on existing deployments * OpenStack-Ansible upgrade process and upgrade scripts to enable TLS without downtime of API's on existing deployments Securing internal communications from haproxy to backends --------------------------------------------------------- Securing the communications from haproxy to the services backends is as important as securing communication to the internal haproxy VIP. A large number of the services used with haproxy use UWSGI, meaning once TLS support is added to the UWSGI role there is only configuration to enable TLS and the generation of certificates required for each of the services. For services that do not use USWGI, such a noVNC Proxy further investigation is required. As with enabling TLS on the internal haproxy VIP for new deployments, there is no issue with enabling TLS from haproxy to backends, but an upgrade process for existing deployments is required. The reason an upgrade process is required is because if haproxy expects TLS backends, but TLS has not been enabled on the service yet the connection will fail and if you enable TLS on the service the connection will fail as haproxy is not configured for TLS. Problems to resolve: * Add TLS support to UWSGI * Add configuration to role for each service that use UWSGI to enable TLS * Add configuration to role for remaining services that do not use UWSGI * Add configuration to OpenStack-Ansible to enable TLS on backend of each service * OpenStack-Ansible upgrade process and upgrade scripts to enable TLS on backends without downtime of API's on existing deployments Securing internal communications between services ------------------------------------------------- Many OpenStack services communicate directly with each other and do not use haproxy, these communications should also be secured. The work to secure these communications is already complete and enabled in the current release of OpenStack-Ansible, for the following services: * RabbitMQ * Galera * Nova live migrations * noVNC (noVNC to compute nodes). Problems to resolve: * Are there any services missing from the list that do not go via haproxy Proposed change =============== Enable TLS on all internal communications. Internal communications could be encrypted using a self-signed certificate, but as OpenStack-Ansible has support for issuing certificates from a self-signed private certificate authority using the ansible-role-pki, this should be used instead as it both encrypts the data and allows a client to trust the server. In all cases a user should be able to override the certificates issued by a self-signed private certificate authority, allowing them to provide their own certificate which may have been issued by a publicly trusted certificate authority. Alternatives ------------ None, internal communications should be protected and TLS is an appropriate and well used solution. Playbook/Role impact -------------------- Roles: * Support for generating certificates using the ansible-role-pki role will be added to each service * Configuring to enable/disable TLS will be added Upgrade impact -------------- Enabling TLS could be performed during or post upgrade. As discussed in the problem description section, enabling TLS on the internal haproxy VIP and service backends for existing deployments will cause downtime during an upgrade if enabled. The reason it will cause downtime is that for both communications from internal client => internal haproxy VIP (server) and haproxy (client) => openstack service backend (server), both the client and server need to be updated to use TLS at the same time. To mitigate this issue I propose an intermediate step during an upgrade, where haproxy will accept both HTTP and HTTPS communications, it will also handle backends that speak HTTP and HTTPS. This would be achieved by adding a new TCP frontend to haproxy that accepts both HTTP and HTTPS traffic and redirects to correct frontend for each, and means that openstack clients can carry on using the same well known port and haproxy looks after redirecting them to the correct frontend; HTTP or HTTPS. For backends a duplicate set of backends that have HTTPS enabled are configured and are put into maintenance mode until the backend server has TLS enabled, after which the HTTP backend can be put into maintenance mode and then removed. After TLS has been enabled and its function verified these changes can be reverted. The other issue to be aware of is that haproxy role only supports presenting a single certificate on all VIPs, both internal and external. This means that if TLS is enabled on haproxy's internal VIP, internal clients must be able to trust the presented certificate if it is the same as the external certificate. The exception to this rule is if you use certbot, which can present a separate certificate on external interfaces. Security impact --------------- This change will encrypt all internal communications, securing any sensitive data being sent, therefore security is improved. Performance impact ------------------ Implementing TLS on all internal communications will lead to a small increase in the processing requirements and latency of servers and clients, but the increased security outweighs these. End user impact --------------- None, if the deployment is done correctly. Deployer impact --------------- * Deployer's will need to add monitoring of certificate expiry dates and renew is necessary, if a certificates expires connections between services will be dropped. * This change should have no impact to deployer's of new deployments, OpenStack-Ansible will create the certificates, deploy them and configure all services to use them. * This change will impact existing deployments and an upgrade process will be implemented to help minimise and possibly prevent this. Developer impact ---------------- No impact, other that traffic will be encrypted meaning tools like tcpdump may provide less useful as they will not be able to the see the contents of packets. Dependencies ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: JamesGibo <James.Gibson@bbc.co.uk> Work items ---------- * Enable TLS support to UWSGI role * Enable TLS backend support to haproxy role * Add configuration to openstack services that use UWSGI to create TLS certificate and enable TLS on UWSGI * Add configuration to remaining openstack services that do not use USWGI to enable TLS support * Add configuration in OpenStack-Ansible to allow TLS for all service to be enabled on both the server and haproxy * Update documentation on TLS configuration options * Add documentation for upgrade procedure * Add script to automate as much as possible of the upgrade Testing ======= These changes can be tested using the existing setup, but manual testing of upgrade procedure will be required to make this is does not cause any downtime, as the automated testing only confirms a working upgrade at the end. Documentation impact ==================== As this change will add extra configuration options these will need to be documented. The upgrade procedure for existing deployments will also have be documented, as if this functionality is not deployed correctly it may cause system distribution. References ========== [1] https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/807717 ",,279,1
openstack%2Fhorizon~stable%2Fussuri~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/ussuri,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:04:25.000000000,2023-05-27 09:46:14.000000000,2023-05-27 09:44:33.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a4c56e129de2cc24da58424ab21300dbde6e969a', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-24 04:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/122de1a590531d7874170701a0b920bd87fe99f8', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 3, 'created': '2023-05-24 04:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1e929998d056c6eb21d71be0c2bb2716e70434c', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 4, 'created': '2023-05-25 15:55:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/76e578b326b95f39adb2db682614b82686401084', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",7,883923,76e578b326b95f39adb2db682614b82686401084,20,3,4,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

[1] https://github.com/xstatic-py/xstatic-font-awesome

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/883923/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,a4c56e129de2cc24da58424ab21300dbde6e969a,883923,<<<<<<< HEAD (3e4574 Disable form auto-complete on login form) ======= - job: name: horizon-integration-tests-xstatic-master parent: horizon-integration-tests required-projects: &xstatic-projects - openstack/horizon - openstack/xstatic-angular - openstack/xstatic-angular-bootstrap - openstack/xstatic-angular-gettext - openstack/xstatic-angular-lrdragndrop - openstack/xstatic-angular-smart-table - openstack/xstatic-bootstrap-datepicker - openstack/xstatic-bootstrap-scss - openstack/xstatic-bootswatch - openstack/xstatic-d3 - openstack/xstatic-hogan - openstack/xstatic-jasmine - openstack/xstatic-jquery-migrate - openstack/xstatic-jquery.quicksearch - openstack/xstatic-jquery.tablesorter - openstack/xstatic-jsencrypt - openstack/xstatic-mdi - openstack/xstatic-rickshaw - openstack/xstatic-roboto-fontface - openstack/xstatic-spin - x/xstatic-angular-fileupload - job: name: horizon-tox-py36-xstatic-master parent: openstack-tox-py39 required-projects: *xstatic-projects - job: name: horizon-nodejs18-run-test-xstatic-master parent: horizon-nodejs18-run-test required-projects: *xstatic-projects pre-run: playbooks/npm-test-xstatic-master/pre.yaml >>>>>>> CHANGE (a01dc7 Remove usage of openstack/xstatic-font-awesome) ,,39,0
openstack%2Fdesignate~master~I2ef28eeb285462dc12b13de80cdab06b5cfb929b,openstack/designate,master,I2ef28eeb285462dc12b13de80cdab06b5cfb929b,Fix create zone export RBAC,MERGED,2023-05-26 23:59:36.000000000,2023-05-27 07:13:15.000000000,2023-05-27 07:12:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 23:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/77dc28fa705ee4abfd473105063ec94e8aedcd42', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n'}, {'number': 2, 'created': '2023-05-27 00:11:13.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/48826ffa96b0ed358ea814657d31fb5ba28966ee', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n'}]",2,884560,48826ffa96b0ed358ea814657d31fb5ba28966ee,13,3,2,11628,,,0,"Fix create zone export RBAC

Previously the zone export create API relied on the zone lookup to fail if the
project did not have permission to export the zone. Because of this the RBAC
test was simply if the project_id was valid.
With shared zones, administrators may not want to allow exports of a zone that
is shared with a project. This patch corrects the RBAC to check for zone
ownership before creating the zone export. This way a policy can be created to
allow zone exports for projects that have a zone share.

Change-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/884560/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,77dc28fa705ee4abfd473105063ec94e8aedcd42,, target = {constants.RBAC_PROJECT_ID: zone.tenant_id} else: target = {'tenant_id': zone.tenant_id}, target = {constants.RBAC_PROJECT_ID: context.project_id} else: target = {'tenant_id': context.project_id},2,2
openstack%2Fldappool~master~Ic2f7e933c8e304c012cefc83308726d2a219b25f,openstack/ldappool,master,Ic2f7e933c8e304c012cefc83308726d2a219b25f,setup.cfg: Replace dashes by underscores,NEW,2022-02-05 16:50:14.000000000,2023-05-27 05:51:31.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-05 16:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ldappool/commit/39f0cdb429a195007b924aa10c7f8dd2320743cd', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic2f7e933c8e304c012cefc83308726d2a219b25f\n""}, {'number': 2, 'created': '2022-10-28 15:00:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/9dc4c36f9e83a71b88aa59b050361caa4df09d75', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic2f7e933c8e304c012cefc83308726d2a219b25f\n""}]",2,827995,9dc4c36f9e83a71b88aa59b050361caa4df09d75,16,7,2,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic2f7e933c8e304c012cefc83308726d2a219b25f
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/95/827995/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,39f0cdb429a195007b924aa10c7f8dd2320743cd,827995_rebase,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ldappool python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ldappool python-requires = >=3.6,4,4
openstack%2Fhorizon~stable%2Fzed~Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952,openstack/horizon,stable/zed,Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952,fix(swift): allow object creation,MERGED,2023-03-24 06:07:47.000000000,2023-05-27 01:57:02.000000000,2023-05-27 01:55:56.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-24 06:07:47.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4ff4f3c21cf260d5c96c999711f34893fbe46d9', 'message': ""fix(swift): allow object creation\n\nIt is currently not possible to create any new objects inside\nSwift as you'd always get an error that the new object name\nalready exists all the time.\n\nThis fixes that issue and enables you to upload files again.\n\nCloses-Bug: #1993005\nRelated-Change-Id: Idfb90a327e94ccaa3263aaaad1d6d52fa46312f4\nChange-Id: Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952\n(cherry picked from commit a327842a25f904397be0c3c141ada1f9ac8050cd)\n""}]",4,878437,d4ff4f3c21cf260d5c96c999711f34893fbe46d9,16,2,1,13252,,,0,"fix(swift): allow object creation

It is currently not possible to create any new objects inside
Swift as you'd always get an error that the new object name
already exists all the time.

This fixes that issue and enables you to upload files again.

Closes-Bug: #1993005
Related-Change-Id: Idfb90a327e94ccaa3263aaaad1d6d52fa46312f4
Change-Id: Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952
(cherry picked from commit a327842a25f904397be0c3c141ada1f9ac8050cd)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/878437/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js']",2,d4ff4f3c21cf260d5c96c999711f34893fbe46d9,,, expect(promise.catch).toHaveBeenCalledWith(angular.noop);,1,3
openstack%2Fneutron~master~Ic3e06460ac8294bfa882991eb678878b238735d7,openstack/neutron,master,Ic3e06460ac8294bfa882991eb678878b238735d7,Update api extension for default sg rules API,MERGED,2023-05-16 14:20:06.000000000,2023-05-27 01:37:21.000000000,2023-05-27 01:36:17.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-16 14:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfa4c2659267baa552ab7a75676c0d1fb90e1211', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}, {'number': 2, 'created': '2023-05-22 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b80575d9c2bc4d1aa9bf4ab4c797697481504284', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}, {'number': 3, 'created': '2023-05-25 10:48:48.000000000', 'files': ['neutron/extensions/security_groups_default_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a72e97ddff1c2a13cc3dc7636b927bd28bdf2ae3', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}]",5,883269,a72e97ddff1c2a13cc3dc7636b927bd28bdf2ae3,31,5,3,11975,,,0,"Update api extension for default sg rules API

This patch adds two new attributes to the default SG rules API:
* ""used_in_non_default_security_group"",
* ""remote_address_group_id""

Those new attributes are descibed in the proposed update to the related
spec in [1] and [2].

[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267
[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268

Related-bug: #1983053
Change-Id: Ic3e06460ac8294bfa882991eb678878b238735d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/883269/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/security_groups_default_rules.py'],1,cfa4c2659267baa552ab7a75676c0d1fb90e1211,bug/1983053," 'remote_address_group_id': { 'allow_post': True, 'allow_put': False, 'default': None, 'is_visible': True, 'is_sort_key': True, 'is_filter': True}, 'used_in_non_default_sg': { 'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_boolean, 'is_visible': True, 'is_filter': True},",,8,0
openstack%2Fos-net-config~stable%2Fwallaby~I6445685b00ec98788426d0786e78c6d3750c9910,openstack/os-net-config,stable/wallaby,I6445685b00ec98788426d0786e78c6d3750c9910,os-net-config runs ethtool command without restarting interfaces,MERGED,2023-03-16 06:28:58.000000000,2023-05-26 23:43:27.000000000,2023-05-26 23:42:32.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-16 06:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b8642e1418460168e0e8512d3f7b6e7e91cb4795', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}, {'number': 2, 'created': '2023-04-05 05:36:14.000000000', 'files': ['bindep.txt', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0e81aeaf8fe5ed8d0cd5e1da25c383eb9ec9a2a3', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}]",7,877506,0e81aeaf8fe5ed8d0cd5e1da25c383eb9ec9a2a3,17,3,2,25613,,,0,"os-net-config runs ethtool command without restarting interfaces

Previously, adding or modifying ETHTOOL_OPTS causes restarting
interfaces. It causes a downtime though ETHTOOL_OPTS can be applied
without restarting interfaces.
This change will apply ETHTOOL_OPTS via ethtool command when the option
is added or modified without restarting interfaces.

Changes from Master branch:
The bindep.txt file is removed as its already present in stable/zed branch.

Closes-Bug: #1800237
Change-Id: I6445685b00ec98788426d0786e78c6d3750c9910
(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)
(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/06/877506/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",3,b8642e1418460168e0e8512d3f7b6e7e91cb4795,bug#1800237-stable/zed-stable/wallaby," ""ONBOOT"", ""ETHTOOL_OPTS"" def ethtool_apply_command(self, device_name, filename, data): """"""Return list of commands needed to implement changes. Given ifcfg data for an interface, return commands required to apply the configuration using 'ethtool' commands. :param device_name: The name of the int, bridge, or bond :type device_name: string :param filename: The ifcfg-<int> filename. :type filename: string :param data: The data for the new ifcfg-<int> file. :type data: string :returns: commands (commands to be run) """""" previous_cfg = common.get_file_data(filename) file_values = self.parse_ifcfg(previous_cfg) data_values = self.parse_ifcfg(data) logger.debug(""File values:\n%s"" % file_values) logger.debug(""Data values:\n%s"" % data_values) changes = self.enumerate_ifcfg_changes(file_values, data_values) commands = [] if ""ETHTOOL_OPTS"" in changes: if changes[""ETHTOOL_OPTS""] == ""added"" or \ changes[""ETHTOOL_OPTS""] == ""modified"": for command_opts in data_values[""ETHTOOL_OPTS""].split(';'): if re.match(r'\s*-+\w+-*\w* ', command_opts): if device_name or ""${DEVICE}"" or ""$DEVICE"" \ in command_opts: commands.append(""%s"" % command_opts) else: msg = (""Assigned interface name to \ ETHTOOL_OPTS is invalid %s"" % device_name) raise utils.InvalidInterfaceException(msg) else: commands.append(""-s %s %s"" % (device_name, command_opts)) return commands ethtoolcmd = utils.ethtool_path() commands = self.ethtool_apply_command(interface[0], interface[1], interface[2]) if commands is not None: for command in commands: try: args = command.split() args = [interface[0] if item in [""${DEVICE}"", ""$DEVICE""] else item for item in args] self.execute('Running ethtool %s' % command, ethtoolcmd, *args) except Exception as e: logger.warning(""Error in 'ethtool %s', restarting %s:\ \n%s)"" % (command, interface[0], str(e))) restart_interfaces.append(interface[0]) restart_interfaces.extend( self.child_members(interface[0])) break "," ""ONBOOT""",164,1
openstack%2Fcharm-nova-compute~stable%2Fvictoria~I2f2e9e44f6bba48e15621a216539089c7e3abc1d,openstack/charm-nova-compute,stable/victoria,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:56.000000000,2023-05-26 22:31:04.000000000,2023-05-26 18:07:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:56.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/777d3dea842f03b83547aa5d3e05f9f805c9d137', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)\n'}]",6,880746,777d3dea842f03b83547aa5d3e05f9f805c9d137,23,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/46/880746/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,777d3dea842f03b83547aa5d3e05f9f805c9d137,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fkolla-ansible~master~Icc5765d1eb80248a08a5669ef3bd3412e8371515,openstack/kolla-ansible,master,Icc5765d1eb80248a08a5669ef3bd3412e8371515,DNM: Test zuul jobs with ansible-version 5,ABANDONED,2022-06-15 23:14:20.000000000,2023-05-26 22:24:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 23:14:20.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b164150907a9a9ae486f868f9f2f121a2d0ffcf8', 'message': 'DNM: Test zuul jobs with ansible-version 5\n\nChange-Id: Icc5765d1eb80248a08a5669ef3bd3412e8371515\n'}]",0,846069,b164150907a9a9ae486f868f9f2f121a2d0ffcf8,4,1,1,13252,,,0,"DNM: Test zuul jobs with ansible-version 5

Change-Id: Icc5765d1eb80248a08a5669ef3bd3412e8371515
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/846069/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b164150907a9a9ae486f868f9f2f121a2d0ffcf8,zuul-ansible-5, ansible-version: 5,,1,0
openstack%2Ftempest~master~I875039ee94e7aa462f949cb0157d1143647cdbea,openstack/tempest,master,I875039ee94e7aa462f949cb0157d1143647cdbea,DNM: Test paramiko override for cirros,ABANDONED,2021-12-29 11:38:39.000000000,2023-05-26 22:17:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-29 11:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc273ea1699bedfad2bdf37549bb51a9d6fa950a', 'message': 'DNM: Test paramiko override for cirros\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I875039ee94e7aa462f949cb0157d1143647cdbea\n'}, {'number': 2, 'created': '2021-12-29 12:32:57.000000000', 'files': ['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e47e481064c8a7eca8c4fb22e08fb89f2a737bbc', 'message': 'DNM: Test paramiko override for cirros\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I875039ee94e7aa462f949cb0157d1143647cdbea\n'}]",0,823159,e47e481064c8a7eca8c4fb22e08fb89f2a737bbc,5,1,2,13252,,,0,"DNM: Test paramiko override for cirros

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I875039ee94e7aa462f949cb0157d1143647cdbea
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/823159/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/ssh.py'],1,fc273ea1699bedfad2bdf37549bb51a9d6fa950a,test-paramiko-rsa-override," disabled_keys = {'pubkeys':['rsa-sha2-512','rsa-sha2-256']} sock=proxy_chan, disabled_keys=disabled_keys)", sock=proxy_chan),2,1
openstack%2Fdevstack~master~I164ca2f92f66eed041decc47e9b5604093d2b88c,openstack/devstack,master,I164ca2f92f66eed041decc47e9b5604093d2b88c,Define the exact Python version used in the UWSGI config files,NEW,2023-04-24 11:21:53.000000000,2023-05-26 22:16:50.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 11:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/81f67aa286b362e2295cebde0acba1b207596381', 'message': 'Define the exact Python version used in the UWSGI config files\n\nThe default version is ""3""; that will use the default interpreter.\nBut in some jobs this version is overridden by a specific one.\nThe python version in the UWSGI file should not have any dot\n(e.g.: python38).\n\nChange-Id: I164ca2f92f66eed041decc47e9b5604093d2b88c\nCloses-Bug: #2017519\n'}, {'number': 2, 'created': '2023-04-24 15:25:10.000000000', 'files': ['.zuul.yaml', 'lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ea87f6e28dc578465c5c480b0ceca44f7f9d770', 'message': 'Define the exact Python version used in the UWSGI config files\n\nThe default version is ""3""; that will use the default interpreter.\nBut in some jobs this version is overridden by a specific one.\nThe python version in the UWSGI file should not have any dot\n(e.g.: python38).\n\nThis config option is being tested in neutron-tempest-plugin [1].\n\n[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/881354\n\nChange-Id: I164ca2f92f66eed041decc47e9b5604093d2b88c\nCloses-Bug: #2017519\n'}]",6,881363,4ea87f6e28dc578465c5c480b0ceca44f7f9d770,11,2,2,16688,,,0,"Define the exact Python version used in the UWSGI config files

The default version is ""3""; that will use the default interpreter.
But in some jobs this version is overridden by a specific one.
The python version in the UWSGI file should not have any dot
(e.g.: python38).

This config option is being tested in neutron-tempest-plugin [1].

[1]https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/881354

Change-Id: I164ca2f92f66eed041decc47e9b5604093d2b88c
Closes-Bug: #2017519
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/881363/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,81f67aa286b362e2295cebde0acba1b207596381,bug/2017519," iniset ""$file"" uwsgi plugins http,python${PYTHON3_VERSION//.} iniset ""$file"" uwsgi plugins http,python${PYTHON3_VERSION//.}"," iniset ""$file"" uwsgi plugins http,python3 iniset ""$file"" uwsgi plugins http,python3",2,2
openstack%2Fdesignate~master~Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a,openstack/designate,master,Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a,Add cmd tests,MERGED,2023-05-26 03:58:11.000000000,2023-05-26 21:55:40.000000000,2023-05-26 21:54:31.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 03:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/17df206f79e1e274b311b57833f12d6e91a9cef7', 'message': 'Add cmd tests\n\nChange-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a\n'}, {'number': 2, 'created': '2023-05-26 18:25:50.000000000', 'files': ['designate/tests/unit/cmd/test_cmd.py', 'designate/tests/unit/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b9bd8e9bade38c4d6af72b482ce85b3e7a8cba6e', 'message': 'Add cmd tests\n\nChange-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a\n'}]",2,884337,b9bd8e9bade38c4d6af72b482ce85b3e7a8cba6e,11,2,2,22623,,,0,"Add cmd tests

Change-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a
",git fetch https://review.opendev.org/openstack/designate refs/changes/37/884337/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/cmd/test_cmd.py', 'designate/tests/unit/cmd/__init__.py']",2,17df206f79e1e274b311b57833f12d6e91a9cef7,test_cmd,,,136,0
openstack%2Fcharm-nova-compute~stable%2Fxena~I2f2e9e44f6bba48e15621a216539089c7e3abc1d,openstack/charm-nova-compute,stable/xena,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:45.000000000,2023-05-26 21:35:57.000000000,2023-05-26 18:07:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:45.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/649c9a7737e13d95028a38a5b8650903b9f5510e', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n'}]",6,880744,649c9a7737e13d95028a38a5b8650903b9f5510e,23,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/44/880744/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,649c9a7737e13d95028a38a5b8650903b9f5510e,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fopenstack-ansible~master~Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,openstack/openstack-ansible,master,Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,Fix repo url in healthcheck-infrastructure.yml,MERGED,2023-05-25 22:09:16.000000000,2023-05-26 21:26:47.000000000,2023-05-26 21:25:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-25 22:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/73f3afb5d233f4e72f9524031b970bc5f6aada25', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n'}, {'number': 2, 'created': '2023-05-26 12:24:09.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/724caeffd822bc687fa80d015f7fee85bc844c76', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n'}]",2,884445,724caeffd822bc687fa80d015f7fee85bc844c76,12,3,2,32666,,,0,"Fix repo url in healthcheck-infrastructure.yml

Repository may be also available over https.
That is why `openstack_repo_protocol` variable should be used instead
of hardcoded http://.

Change-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/884445/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,73f3afb5d233f4e72f9524031b970bc5f6aada25,tls-backend," vars_files: - defaults/source_install.yml url: ""{{ openstack_repo_protocol }}://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}"""," url: ""http://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}""",3,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~I1a077153dc0fb608793311e55cb706e2795d844a,openstack/charm-octavia-diskimage-retrofit,master,I1a077153dc0fb608793311e55cb706e2795d844a,set hw_vif_multiqueue_enabled to true by default,NEW,2020-05-21 10:20:19.000000000,2023-05-26 20:49:45.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 30669}]","[{'number': 1, 'created': '2020-05-21 10:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/06005f3ea89883dd0519badb82345e10d1c3fd07', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 2, 'created': '2020-05-21 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/64ba6c185171920ab94afc2bf9894380eaeb998a', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 3, 'created': '2020-05-21 11:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/bebc97d24639d9066386bd5dcf0db84994e1b53f', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 4, 'created': '2020-09-22 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/06e8e78fbedd1ec5beb31ebeee86511edb6ea1ed', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 5, 'created': '2021-04-07 09:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/543eb74055d73f291d05801aef2ec5095e5bc3de', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 6, 'created': '2021-07-13 11:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/459e10678671f7e1e8d00f5a0497624e9a0fa0ac', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 7, 'created': '2021-10-18 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/557b56febf84dcd69b92eff74c74d4a7ca623748', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 8, 'created': '2021-10-18 17:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/97cedd231d77cae961c0793ec9a58dfa028474d1', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 9, 'created': '2023-05-26 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/a8849426fad2a5b49be69cdd5ccc6f1c0dbce083', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 10, 'created': '2023-05-26 17:07:16.000000000', 'files': ['src/lib/charm/openstack/octavia_diskimage_retrofit.py', 'unit_tests/test_lib_charm_openstack_octavia_diskimage_retrofit.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/208dadcba85718d0bd25780ddab84d2df31d9c14', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}]",5,729892,208dadcba85718d0bd25780ddab84d2df31d9c14,64,5,10,30669,,,0,"set hw_vif_multiqueue_enabled to true by default

enables the virtio-net multiqueue feature by default,
which sets the number of queues equal to the number of guest vCPUs.
This makes the network performance scale across a number of vCPUs.

ref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html

Closes-Bug: #1878612

Change-Id: I1a077153dc0fb608793311e55cb706e2795d844a
Signed-off-by: Joe Guo <joe.guo@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/92/729892/9 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/octavia_diskimage_retrofit.py'],1,06005f3ea89883dd0519badb82345e10d1c3fd07,bug/1878612," hw_vif_multiqueue_enabled=True,",,1,0
openstack%2Fcharm-cinder-ceph~stable%2F2023.1~I75bf95f8328a61731568dbb0e8277828bbab3032,openstack/charm-cinder-ceph,stable/2023.1,I75bf95f8328a61731568dbb0e8277828bbab3032,Stable artefacts for stable/2023.1 (antelope),MERGED,2023-04-20 17:59:30.000000000,2023-05-26 20:06:17.000000000,2023-05-26 20:06:17.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 17:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2f200f079a9197d3599d3f75a0266a6d7a0692eb', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 2, 'created': '2023-04-26 17:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/55ea5ffbc27c00012ebaebb8c7d5bfe7d2062d0d', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 3, 'created': '2023-04-26 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2e614c0ce1fd27b42d83e9e691473b01a797108e', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 4, 'created': '2023-05-15 19:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/994b96c0d4b709247a1253f62ab184920060a497', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1050\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 5, 'created': '2023-05-17 02:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/7ef92cd5f58fdfbaf946292f32671e6e60cf2c43', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1050\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 6, 'created': '2023-05-17 18:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/9afc454d72cfcf5f36acec53b6a913fa4701ec51', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 7, 'created': '2023-05-26 15:13:24.000000000', 'files': ['tests/bundles/lunar-antelope.yaml', 'tests/bundles/lunar-antelope-ec.yaml', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed-ec.yaml', 'tests/bundles/jammy-antelope-ec.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/fedf3088f0a8d325c5323e90e4f15aa7f7461a49', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1064\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}]",23,881045,fedf3088f0a8d325c5323e90e4f15aa7f7461a49,66,5,7,20870,,,0,"Stable artefacts for stable/2023.1 (antelope)

This patch is to lock the stable/2023.1 (antelope release) charms
down so that as much as possible.
In particular, this patch does:

- set the .gitreview to stable/2023.1
- lock zaza and zaza-openstack-tests to stable/antelope branches
- for reactive charms Add build.lock files to lock the layers
  and python modules used to build the charm.
- for ops framework charms, extract a pip freeze from the
  charmcraft container after building the charm to lock the
  modules used to build the charm.
- drop the kinetic bundles if the exist. (Note the updates to
  tests.yaml is in another batch (topic: antelope-voting)
- update the bundles so that they point to the antelope specific
  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for
  OVN charms, quincy/edge for Ceph charms and generally, the
  appropriate LTS Jammy branch for the various support charms.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1064
Change-Id: I75bf95f8328a61731568dbb0e8277828bbab3032
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/45/881045/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'tests/bundles/lunar-antelope-ec.yaml', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed-ec.yaml', 'tests/bundles/kinetic-zed-ec.yaml', 'tests/bundles/jammy-antelope-ec.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-zed.yaml']",11,2f200f079a9197d3599d3f75a0266a6d7a0692eb,antelope-stable-charms, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: quincy/edge channel: quincy/edge channel: 3.9/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,119,713
openstack%2Fcharm-hacluster~stable%2Ffocal~I1a012e545a6a186ab2ef3b3b7c2ea832228161d2,openstack/charm-hacluster,stable/focal,I1a012e545a6a186ab2ef3b3b7c2ea832228161d2,Update bundles to use 8.0/edge,NEW,2022-10-18 01:02:25.000000000,2023-05-26 20:02:27.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 01:02:25.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3b0bd5e9e50148c77e01d816520e387e2ba3388a', 'message': 'Update bundles to use 8.0/edge\n\nChange-Id: I1a012e545a6a186ab2ef3b3b7c2ea832228161d2\n'}]",3,861681,3b0bd5e9e50148c77e01d816520e387e2ba3388a,7,4,1,2424,,,0,"Update bundles to use 8.0/edge

Change-Id: I1a012e545a6a186ab2ef3b3b7c2ea832228161d2
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/81/861681/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/focal-wallaby.yaml']",5,3b0bd5e9e50148c77e01d816520e387e2ba3388a,use-mysql-8.0, channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge,10,10
openstack%2Fcharm-openstack-dashboard~master~Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c,openstack/charm-openstack-dashboard,master,Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c,Closes-Bug: #1983578,NEW,2022-10-07 10:37:59.000000000,2023-05-26 19:39:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 10:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/43d03393af4e7b05844738ee608c8a5ce581b2d3', 'message': 'Closes-Bug: #1983578\n\nChange-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c\n'}, {'number': 2, 'created': '2023-05-26 16:56:42.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1a7ce2b3246ad1ff5aa2bdd43e03583992864309', 'message': 'Closes-Bug: #1983578\n\nChange-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c\n'}]",0,860673,1a7ce2b3246ad1ff5aa2bdd43e03583992864309,6,2,2,29685,,,0,"Closes-Bug: #1983578

Change-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/860673/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml']",3,43d03393af4e7b05844738ee608c8a5ce581b2d3,bug/1983578," logout-sp-link: type: string default: '/auth/logout/' description: | A custom hyperlink for the ""Logout"" button of the Dashboard, e.g. https://keystone.example.com/mellon/logout. The default value is /auth/logout",,11,0
openstack%2Fwhitebox-tempest-plugin~master~Iab013b22e60d9d86666fedd76b5a73fe45b3bb98,openstack/whitebox-tempest-plugin,master,Iab013b22e60d9d86666fedd76b5a73fe45b3bb98,Add multi-numa tests for masked policy,MERGED,2022-10-10 20:19:25.000000000,2023-05-26 18:59:26.000000000,2023-05-26 18:59:26.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2022-10-10 20:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5f2c59ab4c0cdaee4b9d33cc8aa1e80d490e7f0a', 'message': ""Add multi-numa tests for masked policy\n\nAdd aditional tests based around [1] that introduces guest deployments\nwith multi-NUMA. The first new test is based on a symmetrical load with\nthe same number of vCPUs and memory per physical NUMA. The second test\nlimits a quarter of the resources to land on one NUMA and the remaining\n75% on the other.\n\nFor example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1\nvCPU and 256 with NUMA 1 would hold the remaining for the guest. This\ntype of deployment models high scale NFV architecture, where the control\nplane vCPUs may all be shared on a specific NUMA while the dataplane\nvCPUs would want to be dedicated and land on a NUMA that is connected to\nthe compute host's NICs.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html\n\nChange-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98\n""}, {'number': 2, 'created': '2023-03-21 17:08:22.000000000', 'files': ['whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/db22bdcab52cbde12711faa5ba1a1731f4bbc53b', 'message': ""Add multi-numa tests for masked policy\n\nAdd aditional tests based around [1] that introduces guest deployments\nwith multi-NUMA. The first new test is based on a symmetrical load with\nthe same number of vCPUs and memory per physical NUMA. The second test\nlimits a quarter of the resources to land on one NUMA and the remaining\n75% on the other.\n\nFor example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1\nvCPU and 256 with NUMA 1 would hold the remaining for the guest. This\ntype of deployment models high scale NFV architecture, where the control\nplane vCPUs may all be shared on a specific NUMA while the dataplane\nvCPUs would want to be dedicated and land on a NUMA that is connected to\nthe compute host's NICs.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html\n\nChange-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98\n""}]",8,860875,db22bdcab52cbde12711faa5ba1a1731f4bbc53b,16,5,2,31033,,,0,"Add multi-numa tests for masked policy

Add aditional tests based around [1] that introduces guest deployments
with multi-NUMA. The first new test is based on a symmetrical load with
the same number of vCPUs and memory per physical NUMA. The second test
limits a quarter of the resources to land on one NUMA and the remaining
75% on the other.

For example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1
vCPU and 256 with NUMA 1 would hold the remaining for the guest. This
type of deployment models high scale NFV architecture, where the control
plane vCPUs may all be shared on a specific NUMA while the dataplane
vCPUs would want to be dedicated and land on a NUMA that is connected to
the compute host's NICs.

[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html

Change-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/75/860875/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py']",2,5f2c59ab4c0cdaee4b9d33cc8aa1e80d490e7f0a,cpu_mixed_multi_numa," guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu( server['id'], [0]) self.get_host_pcpus_for_guest_vcpu(server['id'], [1]) class MixedCPUPolicyTestMultiNuma(MixedCPUPolicyTest): vcpus = 4 ram = 1024 numa_nodes = '2' def setUp(self): super(MixedCPUPolicyTestMultiNuma, self).setUp() self.dedicated_cpus_per_numa = \ CONF.whitebox_hardware.dedicated_cpus_per_numa self.dedicated_guest_cpus_ids = list(range(self.vcpus)[1:]) self.dedicated_cpu_count = len(self.dedicated_guest_cpus_ids) @classmethod def skip_checks(cls): super(MixedCPUPolicyTestMultiNuma, cls).skip_checks() if CONF.whitebox_hardware.dedicated_cpus_per_numa == 0: msg = 'Need at least 1 or more pCPU\'s per NUMA allocated to ' \ 'the cpu_dedicated_set of the compute host' raise cls.skipException(msg) if getattr(CONF.whitebox_hardware, 'cpu_topology', None) is None: msg = ""cpu_topology in whitebox-hardware is not present"" raise cls.skipException(msg) cpu_topology = CONF.whitebox_hardware.cpu_topology if len(cpu_topology.keys()) < 2: msg = ""Need at least two or more NUMA Nodes to run tests"" raise cls.skipException(msg) def _verify_multi_numa_guest(self, server_id): host = self.get_host_for_server(server_id) host_sm = clients.NovaServiceManager(host, 'nova-compute', self.os_admin.services_client) # Gather the current hosts cpu dedicated and shared set values host_dedicated_cpus = host_sm.get_cpu_dedicated_set() host_shared_cpus = host_sm.get_cpu_shared_set() # Confirm the number of numa nodes for guest match expected flavor # configuration numa_nodes = self.get_server_cell_pinning(server_id) self.assertEqual(int(self.numa_nodes), len(numa_nodes), 'Expected to find %s NUMA Nodes but instead found %s ' % (self.numa_nodes, len(numa_nodes))) # Find the PCPU's currently mapped to core 0 of the guest guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu( server_id, [0]) # Validate the PCPUs mapped to core 0 are a subset of the cpu shared # set of the host and number of shared CPUs are accurate to what # is expected for the NUMA node self.assertEqual( CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus), 'Number of Shared CPUs allocated to guest should be %s but ' 'instead found %s' % (CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus))) self.assertTrue( guest_shared_cpus.issubset(host_shared_cpus), 'Shared CPUs allocated to guest %s is not a subset of the shared ' 'CPUs that compute host is expected to provide %s' % (guest_shared_cpus, host_shared_cpus)) # Confirm the dedicated cpus allocated to guest are subset of the # hosts dedicated set and the number of dedicated cpus found is equal # to what is expected for the mask dedicated_pin = self.get_host_pcpus_for_guest_vcpu( server_id, self.dedicated_guest_cpus_ids) self.assertTrue( dedicated_pin.issubset(host_dedicated_cpus), 'Pinned Host CPU\'s %s of server %s is not a subset of %s' % (dedicated_pin, server_id, host_dedicated_cpus)) # Confirm the expected number of dedicated cpus that should be # allocated to the guest due to the mask match what is found on the # guest self.assertEqual( self.dedicated_cpu_count, len(dedicated_pin), 'Expected to find a total of %s dedicated cpus for guest but ' 'instead found %s' % (self.dedicated_cpu_count, dedicated_pin)) # Confirm the PCPUs allocated for shared and dedicated found on the # host do not intersect. self.assertTrue( guest_shared_cpus.isdisjoint(dedicated_pin), 'The shared cpus %s should be disjoint from the dedicated set %s' % (guest_shared_cpus, dedicated_pin)) def test_symmetric_multi_numa(self): """"""Create a multi NUMA guest with a mask and symmetric cpu allocation """""" symmetric_cpu_policy = {'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': self.numa_nodes} flavor = self.create_flavor(vcpus=self.vcpus, extra_specs=symmetric_cpu_policy) server = self.create_test_server(flavor=flavor['id'], wait_until='ACTIVE') self._verify_multi_numa_guest(server['id']) def test_asymmetric_multi_numa(self): """"""Create a multi NUMA guest with a mask and asymmetric cpu allocation """""" if self.dedicated_cpus_per_numa < self.dedicated_cpu_count: msg = ('Need at least %s or more pCPUs per NUMA allocated to the ' 'cpu_dedicated_set of the compute host' % self.dedicated_cpu_count) raise self.skipException(msg) dedicated_str = [str(x) for x in self.dedicated_guest_cpus_ids] asymmetric_cpu_policy = {'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': self.numa_nodes, 'hw:numa_cpus.0': '0', 'hw:numa_cpus.1': ','.join(dedicated_str), 'hw:numa_mem.0': str(int(self.ram * 0.25)), 'hw:numa_mem.1': str(int(self.ram * 0.75))} flavor = self.create_flavor(vcpus=self.vcpus, ram=self.ram, extra_specs=asymmetric_cpu_policy) server = self.create_test_server(flavor=flavor['id'], wait_until='ACTIVE') self._verify_multi_numa_guest(server['id'])"," guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu(server['id'], 0) self.get_host_pcpus_for_guest_vcpu(server['id'], 1)",143,6
openstack%2Fwhitebox-tempest-plugin~master~Ief5e3a105e35ec65c6d5e3603c971d724949b2f1,openstack/whitebox-tempest-plugin,master,Ief5e3a105e35ec65c6d5e3603c971d724949b2f1,Update jobs for Bobcat development cycle,MERGED,2023-04-18 14:44:36.000000000,2023-05-26 18:59:24.000000000,2023-05-26 18:59:24.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31033}]","[{'number': 1, 'created': '2023-04-18 14:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/41ec153a774bf33d039427a26304320d7e79fb57', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 2, 'created': '2023-04-24 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b8a99cdcd861935719a24e152db254d3d61521aa', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 3, 'created': '2023-05-09 13:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eaf424128bdb22546072a8615dedfa41e4dabf1d', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 4, 'created': '2023-05-09 15:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5bc5a2ba3c1dfef58535c9d0162294337ea28f69', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 5, 'created': '2023-05-17 12:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0bf4ef4dd968b83d3ca567707a024e23f4fc21e1', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 6, 'created': '2023-05-22 11:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/77d878fa7078bf54f03961ff62647a9c4a4ecba3', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\nAlso python 2.7 testing is dropped.\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 7, 'created': '2023-05-26 16:24:31.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f2e9cac7bbadbc7423e0298b29f4817fe0888557', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\nAlso python 2.7 testing is dropped.\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}]",24,880755,f2e9cac7bbadbc7423e0298b29f4817fe0888557,27,4,7,35229,,,0,"Update jobs for Bobcat development cycle

Updating the testing template to Bobcat testing runtime:
https://governance.openstack.org/tc/reference/runtimes/2023.2.html
Also python 2.7 testing is dropped.

Change-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/55/880755/6 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,41ec153a774bf33d039427a26304320d7e79fb57,switch-to-bobcat-testing-runtime,"envlist = pep8,py{27,39,310}","envlist = pep8,py{27,36,38}",4,6
openstack%2Foctavia~master~I9deaea182568a23e8c1104d806273dc87f5caa72,openstack/octavia,master,I9deaea182568a23e8c1104d806273dc87f5caa72,Fix hm operating status to ONLINE in single lb call,MERGED,2022-12-21 16:36:16.000000000,2023-05-26 18:57:42.000000000,2023-05-26 18:56:40.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-21 16:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/922bfc0f65b49f7cf1bb67390c6dc5c071bf4f26', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 2, 'created': '2022-12-22 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/377ecd25346377d4d9de6b62167f2d2badcdf5ff', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 3, 'created': '2023-01-03 15:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33d248def4e82bbf47a4e2928e2b45d603ff5939', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 4, 'created': '2023-01-04 10:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ffd1b90a9ef6413313ea2cc8ca7abf3973d94c6', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 5, 'created': '2023-02-15 17:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9fcfe61fa27f4db912537ce111d06f110c53dd5', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 6, 'created': '2023-02-16 12:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/020b652a9c11751ec0f2c61d2c52808db85e1fcc', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 7, 'created': '2023-02-16 13:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/86d624431eff2a97031e5ec5ecc557f72bdcd6d6', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 8, 'created': '2023-02-16 13:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4785876ed015f651882b7e1b4bd2efc9b6f6696a', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 9, 'created': '2023-02-16 16:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd383586b71c95137e74a8130eadce39be2cb2ed', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 10, 'created': '2023-02-23 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a22a423be27188a50abc41c05d1331a7abd3f440', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 11, 'created': '2023-04-14 12:58:53.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'releasenotes/notes/fix-hm-operating-status-online-in-single-lb-call-214a7ca22937a877.yaml', 'octavia/controller/worker/v2/flows/listener_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e20ceebcf245f3bb74b29287b138a3e42cc72a6c', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}]",31,868363,e20ceebcf245f3bb74b29287b138a3e42cc72a6c,63,5,11,31664,,,0,"Fix hm operating status to ONLINE in single lb call

So far, Health Monitor was not set to ONLINE when single-call-creates
were used.

This patch adds a database task which sets the operating status of all
the enabled Health Monitors of a LB to ONLINE.

Story 2008400
Task 41333

Change-Id: I9deaea182568a23e8c1104d806273dc87f5caa72
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/868363/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'releasenotes/notes/fix-hm-operating-status-online-in-single-lb-call-214a7ca22937a877.yaml']",4,922bfc0f65b49f7cf1bb67390c6dc5c071bf4f26,fix_pool_create_single_lb_create_call,--- fixes: - | Added a task that sets all LB's Health Monitors ONLINE. Now Health Monitors are ONLINE when created in LB single-create calls. ,,90,0
openstack%2Fgovernance~master~If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7,openstack/governance,master,If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7,Deprecation of networking-odl,MERGED,2023-05-24 07:57:27.000000000,2023-05-26 18:46:08.000000000,2023-05-26 16:58:12.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 07:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b25459aca0cfaabf6e581e2d5605a2c4ae1e54cd', 'message': 'Deprecation of networking-odl\n\nThe decision was taken during a Neutron team meeting and communicated\nvia mailing list [1]. Due to the lack of mantainers, this project is\ndeprecated during Bobcat (2023.3) release.\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7\n'}, {'number': 2, 'created': '2023-05-24 08:12:57.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7458f00b17efef264b11c1e212dd408bb31638f0', 'message': 'Deprecation of networking-odl\n\nThe decision was taken during a Neutron team meeting and communicated\nvia mailing list [1]. Due to the lack of mantainers, this project is\ndeprecated during Bobcat (2023.3) release.\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7\n'}]",1,884002,7458f00b17efef264b11c1e212dd408bb31638f0,17,9,2,16688,,,0,"Deprecation of networking-odl

The decision was taken during a Neutron team meeting and communicated
via mailing list [1]. Due to the lack of mantainers, this project is
deprecated during Bobcat (2023.3) release.

[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Change-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/884002/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b25459aca0cfaabf6e581e2d5605a2c4ae1e54cd,project-update, deprecated: 2023.2 release-management: deprecated,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I79432830cf76b29834927944ee04705f057e58df,openstack/tripleo-heat-templates,stable/wallaby,I79432830cf76b29834927944ee04705f057e58df,Horizon: Support Strict-Transport-Security header,NEW,2023-05-26 14:12:19.000000000,2023-05-26 18:22:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 14:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e26f3495b36f4e58e634f38b3babe893898be98d', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nDepends-on: https://review.opendev.org/884385\nChange-Id: I79432830cf76b29834927944ee04705f057e58df\n(cherry picked from commit dee269d7a57a059ba212b5f86fe2b6003d9ff1d7)\n'}, {'number': 2, 'created': '2023-05-26 14:14:57.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon-hsts-43ac1c7b602a4381.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/998aa37ef21e1a2eed366b761b8888dd5a4c3b15', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nDepends-on: https://review.opendev.org/884385\nChange-Id: I79432830cf76b29834927944ee04705f057e58df\n(cherry picked from commit dee269d7a57a059ba212b5f86fe2b6003d9ff1d7)\n'}]",0,884387,998aa37ef21e1a2eed366b761b8888dd5a4c3b15,4,1,2,8648,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Depends-on: https://review.opendev.org/884385
Change-Id: I79432830cf76b29834927944ee04705f057e58df
(cherry picked from commit dee269d7a57a059ba212b5f86fe2b6003d9ff1d7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/884387/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/horizon/horizon-container-puppet.yaml', 'releasenotes/notes/horizon-hsts-43ac1c7b602a4381.yaml']",2,e26f3495b36f4e58e634f38b3babe893898be98d,tripleo-horizon-hsts-stable/wallaby,"--- features: - | The new ``HorizonHstsHeaderValue`` parameter has been added. When this parameter is set, haproxy adds HTTP Strict-Transport-Security header to HTTP response to enforce SSL. ",,28,0
openstack%2Fcharm-ceph-dashboard~stable%2Foctopus~I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29,openstack/charm-ceph-dashboard,stable/octopus,I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29,Pin tox < 4 (octopus),MERGED,2023-01-19 19:24:19.000000000,2023-05-26 18:22:27.000000000,2023-05-26 18:22:27.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-19 19:24:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/51dd041983b21ada2428c31b4bc87e6ce4d7c7ce', 'message': 'Pin tox < 4 (octopus)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29\n'}]",4,871127,51dd041983b21ada2428c31b4bc87e6ce4d7c7ce,12,5,1,33717,,,0,"Pin tox < 4 (octopus)

This patchset works around issues with versions of tox > 4

Change-Id: I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/27/871127/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,51dd041983b21ada2428c31b4bc87e6ce4d7c7ce,pin-tox-octopus, requires = tox < 4.0.0 pip install {opts} {packages}[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 pip install {opts} {packages}",16,13
openstack%2Fcharm-ceph-dashboard~master~Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d,openstack/charm-ceph-dashboard,master,Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d,Added application dashboard relation for homer,ABANDONED,2021-11-30 12:10:32.000000000,2023-05-26 18:10:25.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 12:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/1d6baae17b130d8b8e557de20590253cb0c15b9d', 'message': 'Added application dashboard relation for homer\n\nChange-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d\n'}, {'number': 2, 'created': '2022-05-10 11:01:16.000000000', 'files': ['src/interface_application_dashboard.py', 'src/charm.py', 'icon.svg', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0662f76b50bdc1e73860d30fcb0676ebead5ffac', 'message': 'Added application dashboard relation for homer\n\nChange-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d\n'}]",8,819813,0662f76b50bdc1e73860d30fcb0676ebead5ffac,15,3,2,29889,,,0,"Added application dashboard relation for homer

Change-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/13/819813/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/interface_application_dashboard.py', 'src/charm.py', 'icon.svg', 'metadata.yaml']",4,1d6baae17b130d8b8e557de20590253cb0c15b9d,add_homer_dashboards_relation, application-dashboard: interface: register-application,,184,0
openstack%2Fcharm-ceph-mon~stable%2Fquincy~I60d9fe2068b562d05e421fd1ab2914c9d5f00a25,openstack/charm-ceph-mon,stable/quincy,I60d9fe2068b562d05e421fd1ab2914c9d5f00a25,Replace cs with ch links on prometheus,ABANDONED,2022-05-20 01:21:38.000000000,2023-05-26 18:08:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 01:21:38.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fd6c449cb5fe09a00e5a76445d5d0fb681f5068b', 'message': 'Replace cs with ch links on prometheus\n\nChange-Id: I60d9fe2068b562d05e421fd1ab2914c9d5f00a25\n(cherry picked from commit bfd999cb856185d263ea36e231346976ca9cb3bf)\n'}]",0,842656,fd6c449cb5fe09a00e5a76445d5d0fb681f5068b,4,2,1,8992,,,0,"Replace cs with ch links on prometheus

Change-Id: I60d9fe2068b562d05e421fd1ab2914c9d5f00a25
(cherry picked from commit bfd999cb856185d263ea36e231346976ca9cb3bf)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/56/842656/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",3,fd6c449cb5fe09a00e5a76445d5d0fb681f5068b,bug/prometheus-charmhub, charm: ch:prometheus2,# Pin prometheus2 charm version Bug #1891942 charm: cs:prometheus2-18,3,6
openstack%2Fnova~stable%2Fwallaby~I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68,openstack/nova,stable/wallaby,I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68,Save cell socket correctly when updating host NUMA topology,NEW,2023-05-04 14:21:05.000000000,2023-05-26 17:42:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e10378da9f105412ef1349141134bc362b2a925', 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit d690c1a9228f9cefbfc1a896758bfeccec52c420)\n(cherry picked from commit 9fb7f7792ffa7b9dd113635cad2593e362c185b0)\n'}, {'number': 2, 'created': '2023-05-05 14:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24bbec7f95afd9c2dd86cfb56c3d050351fc569c', 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)\n(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)\n'}, {'number': 3, 'created': '2023-05-05 16:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa830da71cb05ab3bb58bdfa614ab8c857790a9f', 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)\n(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)\n'}, {'number': 4, 'created': '2023-05-26 16:10:03.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99962e5ba4cc647e46b13958f1ffa62dff33eba8', 'message': 'Save cell socket correctly when updating host NUMA topology\n\nPreviously, in numa_usage_from_instance_numa(), any new NUMACell\nobjects we created did not have the `socket` attribute. In some cases\nthis was persisted all the way down to the database. Fix this by\ncopying `socket` from the old_cell.\n\nChange-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68\nCloses-Bug: 1995153\n(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)\n(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)\n(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)\n(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)\n(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)\n'}]",0,882322,99962e5ba4cc647e46b13958f1ffa62dff33eba8,13,1,4,8864,,,0,"Save cell socket correctly when updating host NUMA topology

Previously, in numa_usage_from_instance_numa(), any new NUMACell
objects we created did not have the `socket` attribute. In some cases
this was persisted all the way down to the database. Fix this by
copying `socket` from the old_cell.

Change-Id: I9ed3c31ccd3220b02d951fc6dbc5ea049a240a68
Closes-Bug: 1995153
(cherry picked from commit 04ebae9dc01ebd24552b5aacd1a0f8b129013a9e)
(cherry picked from commit acb511652c1afb8253c66c29ca10f790f035229e)
(cherry picked from commit 693318573cb7bbbcf074c3cc01339f07fe04ff24)
(cherry picked from commit f7b2577620cfbbaf02a483a2f19a4bac35d4fa6b)
(cherry picked from commit 72ea89b4836ff218060c780af561f260588d48fb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/882322/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1995153.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/scheduler/fakes.py']",6,3e10378da9f105412ef1349141134bc362b2a925,," socket=0, socket=0,",,53,19
openstack%2Fcharm-ceph-radosgw~master~Ia6e838d607fecb9b391ebc450d611af1865b2eab,openstack/charm-ceph-radosgw,master,Ia6e838d607fecb9b391ebc450d611af1865b2eab,Removes stderr pipe from _check_output,MERGED,2022-12-05 08:27:37.000000000,2023-05-26 17:36:22.000000000,2023-05-26 17:36:22.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-05 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4d885801de5d2c0ada2edd165b6fbfccca52023c', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 2, 'created': '2022-12-05 08:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c6f74901fad9240ba2533d37716393fdbce6b41c', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 3, 'created': '2022-12-05 12:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d1675f2756dfeedce61c6bc51d07dcb0e31fe5c2', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 4, 'created': '2022-12-05 12:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e6d48f10fcca8c2ac7350e2296316cf93e7a7cd9', 'message': '[WIP]: Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 5, 'created': '2022-12-08 12:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f09fdf22392d505c5814588ce0955172494a76c5', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 6, 'created': '2022-12-08 14:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9ec9012c8bb14c2842fb3b5531fa7f77ea75a9af', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 7, 'created': '2022-12-08 18:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/337e817c3cedf4da6859a0605d01f926df584fc7', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 8, 'created': '2023-02-01 09:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/0eb593acdd55bdcbd77301dab816ede3e567fc07', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 9, 'created': '2023-02-01 11:38:33.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b76b1df0dd3d33fda8b42a5a5d98298b8c1f6be4', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}]",3,866552,b76b1df0dd3d33fda8b42a5a5d98298b8c1f6be4,30,3,9,34952,,,0,"Removes stderr pipe from _check_output

Change-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/52/866552/5 && git format-patch -1 --stdout FETCH_HEAD,['hooks/multisite.py'],1,4d885801de5d2c0ada2edd165b6fbfccca52023c,stabilization," return subprocess.check_output(cmd, stderr=subprocess.DEVNULL).decode('UTF-8')"," return subprocess.check_output(cmd, stderr=subprocess.PIPE).decode('UTF-8')",1,1
openstack%2Fopenstack-helm~master~Iba03fc7142860c40c790bdf12bc24818e6921f65,openstack/openstack-helm,master,Iba03fc7142860c40c790bdf12bc24818e6921f65,Configure keystone auth credentials for placement in neutron,MERGED,2023-02-01 18:04:40.000000000,2023-05-26 17:31:31.000000000,2023-05-26 17:29:40.000000000,"[{'_account_id': 1004}, {'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-02-01 18:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2726e01be075c2b0232b31ad288c179defd0fa3a', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}, {'number': 2, 'created': '2023-05-19 16:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f981d49fe682df39421b3c4669ed79ab2dd8dfdb', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}, {'number': 3, 'created': '2023-05-25 08:41:17.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1aaa1b550e0549eea9f4c18adac29cd1b0d3138', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}]",1,872436,e1aaa1b550e0549eea9f4c18adac29cd1b0d3138,24,5,3,31746,,,0,"Configure keystone auth credentials for placement in neutron

Change-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/872436/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",4,2726e01be075c2b0232b31ad288c179defd0fa3a,,"{{- if empty $envAll.Values.conf.neutron.placement.auth_url -}} {{- $_ := tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup""| set $envAll.Values.conf.neutron.placement ""auth_url"" -}} {{- end }} {{- if empty $envAll.Values.conf.neutron.placement.region_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""region_name"" $envAll.Values.endpoints.identity.auth.placement.region_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.project_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""project_name"" $envAll.Values.endpoints.identity.auth.placement.project_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.project_domain_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""project_domain_name"" $envAll.Values.endpoints.identity.auth.placement.project_domain_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.user_domain_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""user_domain_name"" $envAll.Values.endpoints.identity.auth.placement.user_domain_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.username -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""username"" $envAll.Values.endpoints.identity.auth.placement.username -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.password -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""password"" $envAll.Values.endpoints.identity.auth.placement.password -}} {{- end -}} ",,36,1
openstack%2Fopenstack-ansible~master~I20a5049e14fae2da25a87a97efa58692e561b1be,openstack/openstack-ansible,master,I20a5049e14fae2da25a87a97efa58692e561b1be,Bump SHAs for OpenStack-Ansible 27.0.0.rc1,MERGED,2023-05-24 13:59:24.000000000,2023-05-26 17:30:55.000000000,2023-05-26 17:29:43.000000000,"[{'_account_id': 20705}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca5fb35f5088a0441d3dc2b5cd6fcfbb823420ca', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}, {'number': 2, 'created': '2023-05-25 13:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/894db52901c1dd481133cc6b4a4f1a38f3827209', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}, {'number': 3, 'created': '2023-05-26 08:34:28.000000000', 'files': ['releasenotes/notes/keystone_ssl-4dc7676a36831f85.yaml', 'releasenotes/notes/lxcbr0_type-2e9b5022864bc31c.yaml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'releasenotes/notes/nova-resource-provider-config-files-a7ff9303bba083f9.yaml', 'releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'inventory/group_vars/sahara_all/source_git.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml', 'releasenotes/notes/ovn_dhcp_metadata_agents-851b42a6923c811f.yaml', 'releasenotes/notes/horizon_backend_https-105d9050aa3ec125.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'releasenotes/notes/nova_network_type_deprecation-86da18bfc827818a.yaml', 'releasenotes/notes/octavia_amphorav2_default-6fbe0f75327def69.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/pki_handler_variables-6e72209f9cbc4cf5.yaml', 'releasenotes/notes/ceph-caches-a12dbce748838ddc.yaml', 'inventory/group_vars/trove_all/source_git.yml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'inventory/group_vars/ironic_all/source_git.yml', 'releasenotes/notes/default_backend_override-9840dc75ff9d1a9c.yaml', 'releasenotes/notes/haproxy-maps-787084d7f161c27e.yaml', 'releasenotes/notes/horizon_enable_ssl_default-15089bd97d81ceb1.yaml', 'releasenotes/notes/certbot-auto-5ccf2184fb554c90.yaml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'releasenotes/notes/separated-haproxy-config-b38d200ee0baaeac.yaml', 'releasenotes/notes/bind-address-list-64633fd1cd22d785.yaml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/uwsgi-support-70d9427de86555eb.yaml', 'releasenotes/notes/no_driver-b289e1c4e2fafabe.yaml', 'releasenotes/notes/octavia_default_topology-91f574bbaed85249.yaml', 'releasenotes/notes/octavia_security_group_rule_cidr_default-dbf0cdfd17731a73.yaml', 'inventory/group_vars/swift_all/source_git.yml', 'releasenotes/notes/ipmitool-socat-console-5b99db22de49aefd.yaml', 'releasenotes/notes/cinder_db_cleanup_service-4754f3094604f677.yaml', 'releasenotes/notes/horizon_ssl_self_signed-aea616a3e1259a6c.yaml', 'releasenotes/notes/pip_build_install_env-464b66f471060442.yaml', 'releasenotes/notes/rabbit_3_11-f3ec4e2c38ee9a66.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7437b7641b73c6a29f3b7abc042b0af30d60c434', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}]",3,884203,7437b7641b73c6a29f3b7abc042b0af30d60c434,15,5,3,28619,,,0,"Bump SHAs for OpenStack-Ansible 27.0.0.rc1

Change-Id: I20a5049e14fae2da25a87a97efa58692e561b1be
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/884203/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone_ssl-4dc7676a36831f85.yaml', 'releasenotes/notes/lxcbr0_type-2e9b5022864bc31c.yaml', 'releasenotes/notes/nova-resource-provider-config-files-a7ff9303bba083f9.yaml', 'releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'inventory/group_vars/sahara_all/source_git.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml', 'releasenotes/notes/ovn_dhcp_metadata_agents-851b42a6923c811f.yaml', 'releasenotes/notes/horizon_backend_https-105d9050aa3ec125.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'releasenotes/notes/nova_network_type_deprecation-86da18bfc827818a.yaml', 'releasenotes/notes/octavia_amphorav2_default-6fbe0f75327def69.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/pki_handler_variables-6e72209f9cbc4cf5.yaml', 'releasenotes/notes/ceph-caches-a12dbce748838ddc.yaml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'releasenotes/notes/default_backend_override-9840dc75ff9d1a9c.yaml', 'releasenotes/notes/haproxy-maps-787084d7f161c27e.yaml', 'releasenotes/notes/horizon_enable_ssl_default-15089bd97d81ceb1.yaml', 'releasenotes/notes/certbot-auto-5ccf2184fb554c90.yaml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'releasenotes/notes/separated-haproxy-config-b38d200ee0baaeac.yaml', 'releasenotes/notes/bind-address-list-64633fd1cd22d785.yaml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/uwsgi-support-70d9427de86555eb.yaml', 'releasenotes/notes/no_driver-b289e1c4e2fafabe.yaml', 'releasenotes/notes/octavia_default_topology-91f574bbaed85249.yaml', 'releasenotes/notes/octavia_security_group_rule_cidr_default-dbf0cdfd17731a73.yaml', 'inventory/group_vars/swift_all/source_git.yml', 'releasenotes/notes/ipmitool-socat-console-5b99db22de49aefd.yaml', 'releasenotes/notes/cinder_db_cleanup_service-4754f3094604f677.yaml', 'releasenotes/notes/horizon_ssl_self_signed-aea616a3e1259a6c.yaml', 'releasenotes/notes/pip_build_install_env-464b66f471060442.yaml', 'releasenotes/notes/rabbit_3_11-f3ec4e2c38ee9a66.yaml']",35,ca5fb35f5088a0441d3dc2b5cd6fcfbb823420ca,,"--- other: - | Version of RabbitMQ is bumped to 3.11.7, Erlang version is bumped to 25.2. ",,394,164
openstack%2Fopenstack-helm~master~I0795e6e099b935ead8d6d3d22722999b852749d0,openstack/openstack-helm,master,I0795e6e099b935ead8d6d3d22722999b852749d0,title: Update oslo_messaging_RPCClient,MERGED,2023-05-23 15:46:54.000000000,2023-05-26 17:30:39.000000000,2023-05-26 17:29:34.000000000,"[{'_account_id': 3009}, {'_account_id': 8104}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-05-23 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/131953b62b0bd9bddb205f94654819cfe5923012', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 2, 'created': '2023-05-23 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef2f6a67411e5476b0cb6e8cae4ff356ddea0e82', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 3, 'created': '2023-05-23 22:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9704acc7b44fe440c0370384e29927879f8c6b42', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 4, 'created': '2023-05-24 03:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95fe991c6c4e030d5ae3118f4da8348d04842a61', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 5, 'created': '2023-05-24 07:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec18722218ac18a736bae28e5b310621d3b44c34', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 6, 'created': '2023-05-25 08:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9a9b461e991811901572983f1eae0c5ca30a8e3', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 7, 'created': '2023-05-25 09:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2ca4265c133dcf7cf2c22bdc2acc7fb08c29475', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nConfigure health probe to use get_rpc_client if get_rpc_client is\navailable\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 8, 'created': '2023-05-25 10:40:19.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/969e3f78712f207c28155df676d200dd12aaa8bf', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nConfigure health probe to use get_rpc_client if get_rpc_client is\navailable\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}]",14,883818,969e3f78712f207c28155df676d200dd12aaa8bf,31,4,8,35655,,,0,"title: Update oslo_messaging_RPCClient

oslo_messaging.RPCClient is currently deprecated.
Configure health probe to use get_rpc_client if get_rpc_client is
available

story: 2010766
task: 48076
Change-Id: I0795e6e099b935ead8d6d3d22722999b852749d0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/883818/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_health-probe.py.tpl'],1,131953b62b0bd9bddb205f94654819cfe5923012,," client = oslo_messaging.get_rpc_transport(transport, target,"," client = oslo_messaging.RPCClient(transport, target,",1,1
openstack%2Fcharm-ceph-mon~master~I8d9abbda4cda0efd31bd1a57e6d21fdd1573712f,openstack/charm-ceph-mon,master,I8d9abbda4cda0efd31bd1a57e6d21fdd1573712f,Run the fix for disk-removal tests,NEW,2022-10-18 00:15:16.000000000,2023-05-26 17:28:51.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 00:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0af86742810ba858aab0835e2ed181c2742b7851', 'message': 'Run the fix for disk-removal tests\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/954\nChange-Id: I8d9abbda4cda0efd31bd1a57e6d21fdd1573712f\n'}, {'number': 2, 'created': '2022-11-08 14:28:13.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/local-focal-yoga.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f54b515fe1fbcb290d6741989c89383a9a1f6d4b', 'message': 'Run the fix for disk-removal tests\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/954\nChange-Id: I8d9abbda4cda0efd31bd1a57e6d21fdd1573712f\n'}]",9,861678,f54b515fe1fbcb290d6741989c89383a9a1f6d4b,23,3,2,33717,,,0,"Run the fix for disk-removal tests

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/954
Change-Id: I8d9abbda4cda0efd31bd1a57e6d21fdd1573712f
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/78/861678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/local-focal-yoga.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",5,0af86742810ba858aab0835e2ed181c2742b7851,disk-removal-fix, num_units: 5 - '9' - '10', num_units: 3,14,4
openstack%2Fnova~stable%2Fwallaby~I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b,openstack/nova,stable/wallaby,I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b,Reproduce bug 1995153,NEW,2023-05-04 14:21:05.000000000,2023-05-26 17:27:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d756d39614af46b40e11443c8a595a202997ddd6', 'message': ""Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load 'socket' in the base class`.\nDemonstrate this in a functional test.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 1c10bd62148aa6b98427209d16df091fd931996c)\n(cherry picked from commit af1f45655b4f636fc402cfe2ea0db419b952e8dd)\n""}, {'number': 2, 'created': '2023-05-05 14:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d6f853e01ae9be37130feb1a8f1751c2a62fe39', 'message': ""Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load 'socket' in the base class`.\nDemonstrate this in a functional test.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)\n(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)\n""}, {'number': 3, 'created': '2023-05-05 16:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bde664a480d2ec14cb13df045eec5ce4d9efb658', 'message': ""Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load 'socket' in the base class`.\nDemonstrate this in a functional test.\n\nNOTE(artom) In wallaby fakelibvirt lives in\nnova.tests.unit.virt.libvirt, fix the import path.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)\n(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)\n""}, {'number': 4, 'created': '2023-05-26 16:10:03.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1995153.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf3cc3e5968b780951d1e81982dcca50f509e1a', 'message': 'Reproduce bug 1995153\n\nIf we first boot an instance with NUMA topology on a host, any\nsubsequent attempts to boot instances with the `socket` PCI NUMA\npolicy will fail with `Cannot load \'socket\' in the base class`.\nDemonstrate this in a functional test.\n\nNOTE(artom) In wallaby fakelibvirt lives in\nnova.tests.unit.virt.libvirt, fix the import path.\n\nNOTE(artom) In wallaby the ""path"" to the scheduler host_manager is\nscheduler.manager.driver.host_manager, this had to be changed from the\noriginal scheduler.manager.host_manager.\n\nChange-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b\nRelated-bug: 1995153\n(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)\n(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)\n(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)\n(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)\n(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)\n'}]",0,882321,5bf3cc3e5968b780951d1e81982dcca50f509e1a,12,1,4,8864,,,0,"Reproduce bug 1995153

If we first boot an instance with NUMA topology on a host, any
subsequent attempts to boot instances with the `socket` PCI NUMA
policy will fail with `Cannot load 'socket' in the base class`.
Demonstrate this in a functional test.

NOTE(artom) In wallaby fakelibvirt lives in
nova.tests.unit.virt.libvirt, fix the import path.

NOTE(artom) In wallaby the ""path"" to the scheduler host_manager is
scheduler.manager.driver.host_manager, this had to be changed from the
original scheduler.manager.host_manager.

Change-Id: I63f4e3dfa38f65b73d0051b8e52b1abd0f027e9b
Related-bug: 1995153
(cherry picked from commit 63d6ecd99b7dec06cf0cf8358b43b0d8fa607504)
(cherry picked from commit 29e3f2f2ab69157d938cfe6895df352ef9a08d8c)
(cherry picked from commit d9dfd0e0445ae82933eb75a38127186659041673)
(cherry picked from commit 8d717df2e7b26d7cf6e393089e989ce81fd5a209)
(cherry picked from commit ff903d6a75cf2ad80621ed6f584630e36fa4ad86)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/882321/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1995153.py'],1,d756d39614af46b40e11443c8a595a202997ddd6,,"# Copyright (C) 2023 Red Hat, Inc # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from unittest import mock from oslo_serialization import jsonutils from oslo_utils import units from nova.objects import fields from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base class Bug1995153RegressionTest( base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): ADDITIONAL_FILTERS = ['NUMATopologyFilter', 'PciPassthroughFilter'] ALIAS_NAME = 'a1' PCI_DEVICE_SPEC = [jsonutils.dumps( { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, } )] # we set the numa_affinity policy to required to ensure strict affinity # between pci devices and the guest cpu and memory will be enforced. PCI_ALIAS = [jsonutils.dumps( { 'vendor_id': fakelibvirt.PCI_VEND_ID, 'product_id': fakelibvirt.PCI_PROD_ID, 'name': ALIAS_NAME, 'device_type': fields.PciDeviceType.STANDARD, 'numa_policy': fields.PCINUMAAffinityPolicy.REQUIRED, } )] def setUp(self): super(Bug1995153RegressionTest, self).setUp() self.flags( device_spec=self.PCI_DEVICE_SPEC, alias=self.PCI_ALIAS, group='pci' ) host_manager = self.scheduler.manager.host_manager pci_filter_class = host_manager.filter_cls_map['PciPassthroughFilter'] host_pass_mock = mock.Mock(wraps=pci_filter_class().host_passes) self.mock_filter = self.useFixture(fixtures.MockPatch( 'nova.scheduler.filters.pci_passthrough_filter' '.PciPassthroughFilter.host_passes', side_effect=host_pass_mock)).mock def test_socket_policy_bug_1995153(self): """"""The numa_usage_from_instance_numa() method in hardware.py saves the host NUMAToplogy object with NUMACells that have no `socket` set. This was an omission in the original implementation of the `socket` PCI NUMA affinity policy. The consequence is that any code path that calls into numa_usage_from_instance_numa() will clobber the host NUMA topology in the database with a socket-less version. Booting an instance with NUMA toplogy will do that, for example. If then a second instance is booted with the `socket` PCI NUMA affinity policy, it will read the socket-less host NUMATopology from the database, and error out with a NotImplementedError. This is bug 1995153. """""" host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=(16 * units.Gi) // units.Ki) self.flags(cpu_dedicated_set='0-3', group='compute') pci_info = fakelibvirt.HostPCIDevicesInfo(num_pci=1, numa_node=1) self.start_compute(host_info=host_info, pci_info=pci_info) extra_spec = { 'hw:cpu_policy': 'dedicated', 'pci_passthrough:alias': '%s:1' % self.ALIAS_NAME, 'hw:pci_numa_affinity_policy': 'socket' } # Boot a first instance with a guest NUMA topology to run the buggy # code in numa_usage_from_instance_numa() and save the socket-less host # NUMATopology to the database. self._create_server( flavor_id=self._create_flavor( extra_spec={'hw:cpu_policy': 'dedicated'})) # FIXME(artom) Attempt to boot an instance with the `socket` PCI NUMA # affinity policy and observe the fireworks. flavor_id = self._create_flavor(extra_spec=extra_spec) server = self._create_server(flavor_id=flavor_id, expected_state='ERROR') self.assertIn('fault', server) self.assertIn('NotImplementedError', server['fault']['message']) self.assertTrue(self.mock_filter.called) ",,109,0
openstack%2Fopenstack-helm-images~master~Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f,openstack/openstack-helm-images,master,Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f,Add tags for tacker images,MERGED,2023-05-26 02:26:25.000000000,2023-05-26 17:26:45.000000000,2023-05-26 17:22:21.000000000,"[{'_account_id': 3009}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32204}]","[{'number': 1, 'created': '2023-05-26 02:26:25.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f6c2a7b83f627b86373cf23b2445e05c5782126d', 'message': 'Add tags for tacker images\n\nChange-Id: Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f\n'}]",0,884450,f6c2a7b83f627b86373cf23b2445e05c5782126d,9,5,1,31857,,,0,"Add tags for tacker images

Change-Id: Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/50/884450/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,f6c2a7b83f627b86373cf23b2445e05c5782126d,, tags: *imagetag,,1,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I20c2aee6af03af96a4a2022681eabba75a6acf00,openstack/puppet-tripleo,stable/train,I20c2aee6af03af96a4a2022681eabba75a6acf00,Horizon: Support Strict-Transport-Security header,NEW,2023-05-26 14:00:47.000000000,2023-05-26 17:26:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 14:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8b4a31d9a69cd9a4133fec795b3ebc3e99c2b5ef', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}, {'number': 2, 'created': '2023-05-26 14:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8bcf5334bbcfedf52a1000863b52c3541d91cc7', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}, {'number': 3, 'created': '2023-05-26 14:10:49.000000000', 'files': ['manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d30e300955518e76216e8c65a93ef24f729ed5b0', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}]",0,884386,d30e300955518e76216e8c65a93ef24f729ed5b0,5,1,3,8648,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Change-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00
(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/884386/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/horizon_endpoint.pp'],1,8b4a31d9a69cd9a4133fec795b3ebc3e99c2b5ef,tripleo-horizon-hsts-stable/wallaby-stable/train,"# [*hsts_header_value*] # (optional) Adds the HTTP Strict Transport Securiy (HSTS) header to # response. This takes effect only when public_certificate is set. # Defaults to undef $hsts_header_value = undef,<<<<<<< HEAD (e60b46 Fix regression of Nova dhcp_domain handling)======= if $hsts_header_value != undef { $hsts_header_value_real = join(any2array($hsts_header_value), '; ') $hsts_response = ""set-header Strict-Transport-Security \""${hsts_header_value_real};\"""" } else { $hsts_response = undef } $horizon_frontend_options = { 'http-response' => delete_undef_values([ 'replace-header Location http://(.*) https://\\1', $hsts_response]), >>>>>>> CHANGE (c8890f Horizon: Support Strict-Transport-Security header)",,20,0
openstack%2Fhorizon~stable%2Fzed~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/zed,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:02:52.000000000,2023-05-26 17:25:18.000000000,2023-05-26 17:23:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6ea96ef63de84d32e3461cfff66278bb201406e4', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:05:16.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a29c93d20d95ccb12f546e46f3431a05087e9cb4', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883918,a29c93d20d95ccb12f546e46f3431a05087e9cb4,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

[1] https://github.com/xstatic-py/xstatic-font-awesome

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/883918/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,6ea96ef63de84d32e3461cfff66278bb201406e4,883918,, - openstack/xstatic-font-awesome,0,1
openstack%2Fkayobe-config-dev~master~I6504337fd44e83120a201ae5b77cc030cb7738be,openstack/kayobe-config-dev,master,I6504337fd44e83120a201ae5b77cc030cb7738be,Rename disable_selinux_do_reboot,NEW,2023-05-17 12:50:14.000000000,2023-05-26 17:24:36.000000000,,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32074}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-17 12:50:14.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e44fb75d1849d015eb5287257b0ebd67afc20846', 'message': 'Rename disable_selinux_do_reboot\n\nIt was renamed in the Zed release to selinux_do_reboot.\n\nChange-Id: I6504337fd44e83120a201ae5b77cc030cb7738be\n'}]",2,883368,e44fb75d1849d015eb5287257b0ebd67afc20846,8,5,1,14826,,,0,"Rename disable_selinux_do_reboot

It was renamed in the Zed release to selinux_do_reboot.

Change-Id: I6504337fd44e83120a201ae5b77cc030cb7738be
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/68/883368/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,e44fb75d1849d015eb5287257b0ebd67afc20846,,selinux_do_reboot: false,disable_selinux_do_reboot: false,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~I5d5b1110e1efb3b92b4443b1a8b786cf58102910,openstack/charm-octavia-diskimage-retrofit,master,I5d5b1110e1efb3b92b4443b1a8b786cf58102910,"Update example for ""ubuntu-mirror""",MERGED,2023-03-20 02:05:05.000000000,2023-05-26 17:20:31.000000000,2023-05-26 17:20:31.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-20 02:05:05.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/eec35d902228c07af3c567fee7594a6fbb858899', 'message': 'Update example for ""ubuntu-mirror""\n\nTo reflect changes made in the equivalent snap.\nhttps://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/33\n\nCloses-Bug: #2011527\nChange-Id: I5d5b1110e1efb3b92b4443b1a8b786cf58102910\n'}]",2,877886,eec35d902228c07af3c567fee7594a6fbb858899,8,4,1,8108,,,0,"Update example for ""ubuntu-mirror""

To reflect changes made in the equivalent snap.
https://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/33

Closes-Bug: #2011527
Change-Id: I5d5b1110e1efb3b92b4443b1a8b786cf58102910
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/86/877886/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,eec35d902228c07af3c567fee7594a6fbb858899,," Repository from which to retrieve ubuntu packages. To pass multiple pockets, '\n' can be used. e.g. . 'deb http://example.com/ubuntu jammy main universe\ndeb http://example.com/ubuntu jammy-security main universe\ndeb http://example.com/ubuntu jammy-updates main universe'", Repository from which to retrieve ubuntu packages.,6,1
openstack%2Fcharm-ceph-dashboard~stable%2Foctopus~I0dd82e710687a86c7ea3558556907c70825066bc,openstack/charm-ceph-dashboard,stable/octopus,I0dd82e710687a86c7ea3558556907c70825066bc,Pin tox to < 4.0.0,ABANDONED,2023-01-20 17:35:20.000000000,2023-05-26 17:14:24.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-20 17:35:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/68d483ab5f7572398096b88fc64cac9550bb3873', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: I0dd82e710687a86c7ea3558556907c70825066bc\n""}]",1,871341,68d483ab5f7572398096b88fc64cac9550bb3873,5,3,1,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: I0dd82e710687a86c7ea3558556907c70825066bc
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/41/871341/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,68d483ab5f7572398096b88fc64cac9550bb3873,pin-tox-octopus, tox < 4.0.0,,1,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I93198488109b2c32bdc24ec634f406091ce27603,openstack/charm-nova-compute-nvidia-vgpu,master,I93198488109b2c32bdc24ec634f406091ce27603,Fix the .gitreview file project key,MERGED,2022-10-12 19:16:21.000000000,2023-05-26 17:12:25.000000000,2023-05-26 17:12:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/b6afe66ca4bade4148cdc8fb5c4460ac09bfbc0e', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}, {'number': 2, 'created': '2023-04-06 17:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/ae4710485429bc805ccf9d4fa9d9d84d9986617b', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}, {'number': 3, 'created': '2023-04-19 19:20:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/c8f2e220ad88c797df187b915354fb9b0f680ecd', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}]",2,861106,c8f2e220ad88c797df187b915354fb9b0f680ecd,17,3,3,20870,,,0,"Fix the .gitreview file project key

This patch ensures that the project key in the .gitreview file has the
`.git` suffix. This is used by various tools, and so needs to be
present.

Change-Id: I93198488109b2c32bdc24ec634f406091ce27603
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/06/861106/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b6afe66ca4bade4148cdc8fb5c4460ac09bfbc0e,fix-gitreview,project=openstack/charm-nova-compute-nvidia-vgpu.git,project=openstack/charm-nova-compute-nvidia-vgpu,1,1
openstack%2Fcharm-swift-proxy~master~Ic49b13511810431c7a23919663630a4cc68eb355,openstack/charm-swift-proxy,master,Ic49b13511810431c7a23919663630a4cc68eb355,Add package-upgrade action,NEW,2022-01-08 01:28:12.000000000,2023-05-26 17:09:23.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/9e895c3cc10b1aec634f13f135b28389ef238f7f', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}, {'number': 2, 'created': '2022-01-20 14:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e2ab08441aa02019976fbb13287fa7d40e4bbd38', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}, {'number': 3, 'created': '2023-05-26 14:50:52.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package_upgrade.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/18adc0085d292ee6c52c629f821ad09e3b156ae7', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}]",3,823878,18adc0085d292ee6c52c629f821ad09e3b156ae7,14,3,3,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: Ic49b13511810431c7a23919663630a4cc68eb355
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/78/823878/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",45,9e895c3cc10b1aec634f13f135b28389ef238f7f,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",443,435
openstack%2Ftempest~master~I5ce5e17a22fe18e0e4609f00521611b7368ae6a2,openstack/tempest,master,I5ce5e17a22fe18e0e4609f00521611b7368ae6a2,[WIP] Fix distinguishing between reader and member role,NEW,2023-05-26 14:39:10.000000000,2023-05-26 17:06:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 14:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fc600bbd128a53b634043c866ca27c55f958ff4', 'message': '[WIP] Fix distinguishing between reader and member role\n\nChange-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2\n'}, {'number': 2, 'created': '2023-05-26 14:40:07.000000000', 'files': ['tempest/lib/common/preprov_creds.py', 'tempest/cmd/account_generator.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/33fa2e92a62beffcac12078a6d93b4a968c12be7', 'message': '[WIP] Fix distinguishing between reader and member role\n\nRelated-Bug: #2020860\nChange-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2\n'}]",0,884509,33fa2e92a62beffcac12078a6d93b4a968c12be7,4,1,2,30674,,,0,"[WIP] Fix distinguishing between reader and member role

Related-Bug: #2020860
Change-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/884509/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/preprov_creds.py', 'tempest/cmd/account_generator.py']",2,3fc600bbd128a53b634043c866ca27c55f958ff4,fix/preprov-creds," elif cred_type in ['primary', 'alt']: account['roles'] = ['member'] else:"," elif cred_type not in ['primary', 'alt']:",5,2
openstack%2Fcharm-openstack-dashboard~master~Ic6ac01d53e84cd20d6cc48272a394b72e944f721,openstack/charm-openstack-dashboard,master,Ic6ac01d53e84cd20d6cc48272a394b72e944f721,Update for tox4 compat,ABANDONED,2023-01-04 14:37:26.000000000,2023-05-26 17:01:12.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 14:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5ac3e65c1751b0833dfd5580ae1e77039777ddb0', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}, {'number': 2, 'created': '2023-01-04 15:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/051b7ddf798d70310b8c49118b2df0fa8f504d16', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}, {'number': 3, 'created': '2023-01-05 08:00:17.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4400f8a5a12fd7ce7993ff797c9666afc67acbce', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}]",0,869221,4400f8a5a12fd7ce7993ff797c9666afc67acbce,10,2,3,12549,,,0,"Update for tox4 compat

Change-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/21/869221/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ac3e65c1751b0833dfd5580ae1e77039777ddb0,fix-tox-ini-for-tox-4," pip install {opts} {packages}passenv = HOME TERM CS_* OS_* TEST_*# charmcraft clean is done to ensure that # `tox -e build` always performs a clean, repeatable build. # For faster rebuilds during development, # directly run `charmcraft -v pack && ./rename.sh`. charmcraft clean", virtualenv < 20.0 {toxinidir}/pip.sh install {opts} {packages}passenv = HOME TERM CS_* OS_* TEST_*,12,3
openstack%2Fwhitebox-tempest-plugin~master~I1c013b34cced35580fe3ce132523a36de5a90898,openstack/whitebox-tempest-plugin,master,I1c013b34cced35580fe3ce132523a36de5a90898,Move to Antelope testing runtime,ABANDONED,2023-02-01 23:39:23.000000000,2023-05-26 16:27:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-01 23:39:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/21af133250c3779bcfec2aa79d130aed41971fe3', 'message': 'Move to Antelope testing runtime\n\nChange-Id: I1c013b34cced35580fe3ce132523a36de5a90898\n'}]",0,872475,21af133250c3779bcfec2aa79d130aed41971fe3,3,1,1,8864,,,0,"Move to Antelope testing runtime

Change-Id: I1c013b34cced35580fe3ce132523a36de5a90898
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/75/872475/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21af133250c3779bcfec2aa79d130aed41971fe3,, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fpython-openstackclient~master~Ie6d79f438b32da73efecdd255650c2d95990ba22,openstack/python-openstackclient,master,Ie6d79f438b32da73efecdd255650c2d95990ba22,[DNM] generated code for metadef_resource_type,NEW,2023-05-26 15:47:25.000000000,2023-05-26 16:16:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 15:47:25.000000000', 'files': ['openstackclient/tests/unit/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/common.py', 'openstackclient/image/v2/metadef_resource_type/list.py', 'openstackclient/tests/unit/image/v2/metadef_resource_type/test_list.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb8d1beb88e4b3e1a865550864449dd8a6eb8099', 'message': '[DNM] generated code for metadef_resource_type\n\nuse code generator to build image metadef resource type implementation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884518\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ie6d79f438b32da73efecdd255650c2d95990ba22\n'}]",2,884521,bb8d1beb88e4b3e1a865550864449dd8a6eb8099,2,1,1,27900,,,0,"[DNM] generated code for metadef_resource_type

use code generator to build image metadef resource type implementation

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884518
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: Ie6d79f438b32da73efecdd255650c2d95990ba22
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/21/884521/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/common.py', 'openstackclient/image/v2/metadef_resource_type/list.py', 'openstackclient/tests/unit/image/v2/metadef_resource_type/test_list.py']",5,bb8d1beb88e4b3e1a865550864449dd8a6eb8099,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from unittest import mock from openstack.image.v2.metadef_resource_type import MetadefResourceType from openstack.tests.unit import fakes as sdk_fakes from openstack import utils as sdk_utils from openstackclient.image.v2.metadef_resource_type import list from openstackclient.tests.unit import utils as tests_utils class TestMetadefResourceType(tests_utils.TestCommand): def setUp(self): super().setUp() # SDK mock self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.image = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection self.app.client_manager.sdk_connection.search_resources = mock.Mock() class TestMetadefResourceTypeList(TestMetadefResourceType): _fake = sdk_fakes.get_fake_resource(MetadefResourceType) columns = ( ""Created_at"", ""Id"", ""Name"", ""Updated_at"", ) data = ( ( _fake.created_at, _fake.id, _fake.name, _fake.updated_at, ), ) def setUp(self): super().setUp() self.api_mock = mock.Mock() self.api_mock.side_effect = [ [self._fake], [], ] self.sdk_client.search_resources = self.api_mock # Get the command object to test self.cmd = list.ListMetadefResourceType(self.app, None) def test_list_no_options(self): arglist = [] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class Lister in cliff, abstract method take action() # returns a tuple containing the column names and an iterable # containing the data to be listed. columns, data = self.cmd.take_action(parsed_args) self.sdk_client.search_resources.assert_called_with( resource_type=""image.metadef_resource_type"", filters={}, name_or_id=None, ) self.assertEqual(self.columns, columns) self.assertEqual(self.data, tuple(data)) def test_list_all_options(self): arglist = [ ""--limit"", ""val_limit"", ""--marker"", ""val_marker"", ] verifylist = [ (""limit"", ""val_limit""), (""marker"", ""val_marker""), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class Lister in cliff, abstract method take action() # returns a tuple containing the column names and an iterable # containing the data to be listed. with mock.patch.object( sdk_utils, ""supports_microversion"", return_value=True ): columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { ""paginated"": False, ""limit"": ""val_limit"", ""marker"": ""val_marker"", } self.sdk_client.search_resources.assert_called_with( resource_type=""image.metadef_resource_type"", filters=kwargs, name_or_id=None, ) ",,250,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~I13d0c332cd0b110344b7a1645e3e4fd250fce33a,openstack/charm-nova-cloud-controller,stable/ussuri,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:47.000000000,2023-05-26 15:51:14.000000000,2023-05-26 15:51:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:47.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)\n(cherry picked from commit 4d010253584738ccafb98411746b35d73bdead72)\n'}]",4,880751,4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1,15,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)
(cherry picked from commit 4d010253584738ccafb98411746b35d73bdead72)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/51/880751/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-hacluster~master~I85645c7ed8d32bb822e59b1d942df0a275d3ce70,openstack/charm-hacluster,master,I85645c7ed8d32bb822e59b1d942df0a275d3ce70,Fix invalid tempest pin for 31.0.0,NEW,2022-08-09 12:41:53.000000000,2023-05-26 15:43:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 12:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/08c20f87e1dc3c6fe0cdb8db38b7515fda3bbd71', 'message': 'Fix invalid tempest pin for 31.0.0\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n'}, {'number': 2, 'created': '2023-05-24 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/9308bf7382fdb4b13f950fa208beb4cbf92226cf', 'message': 'Fix invalid tempest pin for 31.0.0\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n'}, {'number': 3, 'created': '2023-05-24 20:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/77b27ac3f22351b83cfd106cc58283e7c65f00f6', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}, {'number': 4, 'created': '2023-05-25 13:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/9be4b9b33492bd91388b8c9d25885419f130c92f', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}, {'number': 5, 'created': '2023-05-25 15:53:02.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/235af352191e4b89743dc632ba7f005ab2e701ea', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1062\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}]",4,852573,235af352191e4b89743dc632ba7f005ab2e701ea,22,3,5,2424,,,0,"Fix invalid tempest pin for 31.0.0

Also renaming 'hacluster' application to 'keystone-hacluster' to meet
z-o-t expectations on HaclusterScaleBackAndForthTest.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1062
Change-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/73/852573/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,08c20f87e1dc3c6fe0cdb8db38b7515fda3bbd71,fix-pin-tempest,tempest<31.0.0;python_version<'3.8' and python_version>='3.6',tempest<31.0.0;python_version<'3.8',1,1
openstack%2Fpython-openstackclient~master~I3c2fe7487023bb32a55311496b3a565ead073f47,openstack/python-openstackclient,master,I3c2fe7487023bb32a55311496b3a565ead073f47,[DNM]: poc generated code,NEW,2023-05-08 15:34:26.000000000,2023-05-26 15:34:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-08 15:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/214386c2dbeddb876248afcef536d227985e6849', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently only List is supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 2, 'created': '2023-05-09 14:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6c615cf24acf1c59aad23fcea4a29170491277b7', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently only List is supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 3, 'created': '2023-05-10 15:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52780b354ba554de9b8d5942badc7ac871fbfdef', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently List,Show,Delete are supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 4, 'created': '2023-05-26 15:18:26.000000000', 'files': ['openstackclient/tests/unit/identity/v3/project/test_unset.py', 'openstackclient/identity/v3/project/list.py', 'openstackclient/identity/v3/project/show.py', 'openstackclient/tests/unit/identity/v3/project/test_delete.py', 'openstackclient/tests/unit/identity/v3/project/test_create.py', 'openstackclient/identity/v3/project/set.py', 'openstackclient/tests/unit/identity/v3/project/__init__.py', 'openstackclient/identity/v3/project/delete.py', 'openstackclient/identity/v3/project/create.py', 'openstackclient/identity/v3/project/unset.py', 'openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/__init__.py', 'openstackclient/tests/unit/identity/v3/project/test_set.py', 'openstackclient/tests/unit/identity/v3/project/test_show.py', 'openstackclient/identity/v3/project/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/22763a0a5354602f14f95290b6888aec6b82dac2', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently List,Show,Delete,Set,Unset are supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}]",51,882568,22763a0a5354602f14f95290b6888aec6b82dac2,8,1,4,27900,,,0,"[DNM]: poc generated code

On the SDK side we experiment with code generation based on the resource
definition. This is a result for the identity.project resource
(currently List,Show,Delete,Set,Unset are supported)

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326
Change-Id: I3c2fe7487023bb32a55311496b3a565ead073f47
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/882568/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project/list.py', 'openstackclient/openstackclient/identity/v3/project/common.py', 'openstackclient/openstackclient/identity/v3/project/list.py', 'openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/__init__.py', 'openstackclient/openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/common.py', 'openstackclient/tests/unit/identity/v3/project/__init__.py']",8,214386c2dbeddb876248afcef536d227985e6849,,,,744,0
openstack%2Fcharm-placement~stable%2Ftrain~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/train,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:49.000000000,2023-05-26 15:29:22.000000000,2023-05-26 15:29:22.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1cff9964353b77bee2ab2dbd05c99d6bc3a0a833', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:37:45.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/97223f60ac9f2d4f250bb94f379f5d301e46a009', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881085,97223f60ac9f2d4f250bb94f379f5d301e46a009,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/85/881085/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,1cff9964353b77bee2ab2dbd05c99d6bc3a0a833,bug/2016893-stable/train,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~stable%2Fussuri~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/ussuri,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:35.000000000,2023-05-26 15:29:21.000000000,2023-05-26 15:29:21.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e098f9f212d29ded00b5b4fb61981070358e6265', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:36:38.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e0d56e6457a464eb53e059c4e2e5ba0b4c874b7e', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",1,881084,e0d56e6457a464eb53e059c4e2e5ba0b4c874b7e,12,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/84/881084/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,e098f9f212d29ded00b5b4fb61981070358e6265,bug/2016893-stable/ussuri,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~stable%2Fvictoria~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/victoria,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:22.000000000,2023-05-26 15:29:20.000000000,2023-05-26 15:29:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dc01e88a5d85d9baa52063abc1057f2537fef068', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:36:04.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/3fdf4a66fa9df7a856f454802a1bb82637802095', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",2,881083,3fdf4a66fa9df7a856f454802a1bb82637802095,14,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/83/881083/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,dc01e88a5d85d9baa52063abc1057f2537fef068,bug/2016893-stable/victoria,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~stable%2Fwallaby~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/wallaby,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:07.000000000,2023-05-26 15:29:19.000000000,2023-05-26 15:29:19.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/9c4aa5f92a0c6f6823e32bb649d99c6b3b549bcb', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:35:34.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1c2cd3a94d242244c862411d0b2059fe5ec9761f', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881082,1c2cd3a94d242244c862411d0b2059fe5ec9761f,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/82/881082/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,9c4aa5f92a0c6f6823e32bb649d99c6b3b549bcb,bug/2016893-stable/wallaby,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fkeystoneauth~stable%2Fzed~I2392ef51302804c0c66c0fb52227db5f35bca3fd,openstack/keystoneauth,stable/zed,I2392ef51302804c0c66c0fb52227db5f35bca3fd,Make v3oidcpassword send client_id,MERGED,2023-05-24 09:02:23.000000000,2023-05-26 15:28:16.000000000,2023-05-26 15:27:02.000000000,"[{'_account_id': 597}, {'_account_id': 782}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 09:02:23.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/61c3dc7b38d53d6558b479db4ffbfbd1038994c9', 'message': 'Make v3oidcpassword send client_id\n\nUpdates the v3oidcpassword function to also send the client_id as part of the request body,\nthis seems to be a requirement for services like onelogin.\n\nChange-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd\n(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)\n'}]",1,883926,61c3dc7b38d53d6558b479db4ffbfbd1038994c9,9,7,1,35976,,,0,"Make v3oidcpassword send client_id

Updates the v3oidcpassword function to also send the client_id as part of the request body,
this seems to be a requirement for services like onelogin.

Change-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd
(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/26/883926/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,61c3dc7b38d53d6558b479db4ffbfbd1038994c9,one_login_compat-stable/zed," 'scope': self.scope, 'client_id': self.client_id}", 'scope': self.scope},2,1
openstack%2Freleases~master~I63fd17ae6c9239a35968cd4f3acc7362e121b48c,openstack/releases,master,I63fd17ae6c9239a35968cd4f3acc7362e121b48c,Release python-manilaclient for Bobcat-1 milestone,ABANDONED,2023-05-08 16:17:34.000000000,2023-05-26 15:26:10.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-05-08 16:17:34.000000000', 'files': ['deliverables/bobcat/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5945437689d331a887ccc0668a306dca82ea01d', 'message': 'Release python-manilaclient for Bobcat-1 milestone\n\nThis is a library release for python-manilaclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 4.3.0..95763cd\n95763cd Use suitable api version for OSC.\n1e37914 Fix share network create command with the AZ option\n7a5d39b Update master for stable/2023.1\nd54326f Update micversion to 2.77,support share transfer between project.\n\nChange-Id: I63fd17ae6c9239a35968cd4f3acc7362e121b48c\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",5,882596,f5945437689d331a887ccc0668a306dca82ea01d,8,3,1,17685,,,0,"Release python-manilaclient for Bobcat-1 milestone

This is a library release for python-manilaclient for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 4.3.0..95763cd
95763cd Use suitable api version for OSC.
1e37914 Fix share network create command with the AZ option
7a5d39b Update master for stable/2023.1
d54326f Update micversion to 2.77,support share transfer between project.

Change-Id: I63fd17ae6c9239a35968cd4f3acc7362e121b48c
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/882596/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-manilaclient.yaml'],1,f5945437689d331a887ccc0668a306dca82ea01d,bobcat-milestone-1,releases: - version: 4.5.0 projects: - repo: openstack/python-manilaclient hash: 95763cdb0557aefd165487847d2f82f7fcf978f9,,5,0
openstack%2Fcharm-placement~stable%2Fxena~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/xena,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:52.000000000,2023-05-26 15:23:29.000000000,2023-05-26 15:23:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/8164f49b365a752c643838c402ada964ecf1a509', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:34:00.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/53ac8872f1d5a29bddd6c23d61c5920e92e9c615', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881081,53ac8872f1d5a29bddd6c23d61c5920e92e9c615,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/81/881081/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,8164f49b365a752c643838c402ada964ecf1a509,bug/2016893-stable/xena,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fkeystoneauth~master~Id618b93d47a6e25a89144b3a93b12cbb5fc14797,openstack/keystoneauth,master,Id618b93d47a6e25a89144b3a93b12cbb5fc14797,Remove last reference to the python six package,MERGED,2023-05-17 14:35:25.000000000,2023-05-26 15:22:11.000000000,2023-05-26 15:20:57.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32755}]","[{'number': 1, 'created': '2023-05-17 14:35:25.000000000', 'files': ['keystoneauth1/identity/v3/oauth2_mtls_client_credential.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c69ade60a677a95c873a06fbc72e9810da7d5fdf', 'message': 'Remove last reference to the python six package\n\nWe missed an import of the six package.\n\nChange-Id: Id618b93d47a6e25a89144b3a93b12cbb5fc14797\n'}]",2,883383,c69ade60a677a95c873a06fbc72e9810da7d5fdf,10,4,1,7414,,,0,"Remove last reference to the python six package

We missed an import of the six package.

Change-Id: Id618b93d47a6e25a89144b3a93b12cbb5fc14797
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/83/883383/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oauth2_mtls_client_credential.py'],1,c69ade60a677a95c873a06fbc72e9810da7d5fdf,remove_six,"class OAuth2mTlsClientCredential(base.BaseAuth, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class OAuth2mTlsClientCredential(base.BaseAuth):,1,4
openstack%2Fcharm-placement~stable%2Fyoga~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/yoga,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:35.000000000,2023-05-26 15:21:20.000000000,2023-05-26 15:21:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/20b3e4df13d4b467884de11cc1e2dcab593b5505', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:34:51.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/16ddbb0c856bc4a95a44326462502ea1228ada81', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",1,881080,16ddbb0c856bc4a95a44326462502ea1228ada81,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/80/881080/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,20b3e4df13d4b467884de11cc1e2dcab593b5505,bug/2016893-stable/yoga,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~stable%2Fzed~I63bfd9903057cbea2db8de4f1b612601aacb568d,openstack/charm-placement,stable/zed,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:20.000000000,2023-05-26 15:20:53.000000000,2023-05-26 15:20:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:20.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/d8552bacd7940461f98aa25b20dd2eb71d7f7f4a', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881079,d8552bacd7940461f98aa25b20dd2eb71d7f7f4a,8,4,1,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/79/881079/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,d8552bacd7940461f98aa25b20dd2eb71d7f7f4a,bug/2016893-stable/zed,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~stable%2Ftrain~I94b6d90e74e51663b06386c52be96e2bbc4e36eb,openstack/charm-placement,stable/train,I94b6d90e74e51663b06386c52be96e2bbc4e36eb,Add bindep.txt,MERGED,2023-04-24 13:37:23.000000000,2023-05-26 15:20:31.000000000,2023-05-26 15:20:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:37:23.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dc8a5899fb5b03b73faf1ce217391d6055bd782b', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I94b6d90e74e51663b06386c52be96e2bbc4e36eb\n'}]",0,881377,dc8a5899fb5b03b73faf1ce217391d6055bd782b,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I94b6d90e74e51663b06386c52be96e2bbc4e36eb
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/77/881377/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dc8a5899fb5b03b73faf1ce217391d6055bd782b,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~stable%2Fussuri~I1c79da26d921c96c41fa099460eab291366ecf8b,openstack/charm-placement,stable/ussuri,I1c79da26d921c96c41fa099460eab291366ecf8b,Add bindep.txt,MERGED,2023-04-24 13:33:43.000000000,2023-05-26 15:20:30.000000000,2023-05-26 15:20:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:33:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/cc7f99a3706b14c1376b19dbbdac6f31554b0795', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I1c79da26d921c96c41fa099460eab291366ecf8b\n'}]",2,881376,cc7f99a3706b14c1376b19dbbdac6f31554b0795,10,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I1c79da26d921c96c41fa099460eab291366ecf8b
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/76/881376/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cc7f99a3706b14c1376b19dbbdac6f31554b0795,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~stable%2Fvictoria~Ic5069a256909b918cafba9ed861f2deac44ce28f,openstack/charm-placement,stable/victoria,Ic5069a256909b918cafba9ed861f2deac44ce28f,Add bindep.txt,MERGED,2023-04-24 13:16:36.000000000,2023-05-26 15:20:27.000000000,2023-05-26 15:20:27.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:16:36.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dce04b0da248544d3685c1f1d43f3c622bbca4da', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: Ic5069a256909b918cafba9ed861f2deac44ce28f\n'}]",1,881372,dce04b0da248544d3685c1f1d43f3c622bbca4da,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: Ic5069a256909b918cafba9ed861f2deac44ce28f
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/72/881372/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dce04b0da248544d3685c1f1d43f3c622bbca4da,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~stable%2Fwallaby~I94914b88ecf0456a9f9d6d53e054c9c25f725209,openstack/charm-placement,stable/wallaby,I94914b88ecf0456a9f9d6d53e054c9c25f725209,Add bindep.txt,MERGED,2023-04-24 13:16:08.000000000,2023-05-26 15:20:26.000000000,2023-05-26 15:20:26.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:16:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e34a28f4d10537271b96230bada33e49ebbbf2a2', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I94914b88ecf0456a9f9d6d53e054c9c25f725209\n'}]",0,881371,e34a28f4d10537271b96230bada33e49ebbbf2a2,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I94914b88ecf0456a9f9d6d53e054c9c25f725209
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/71/881371/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e34a28f4d10537271b96230bada33e49ebbbf2a2,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~stable%2Fxena~I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9,openstack/charm-placement,stable/xena,I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9,Add bindep.txt,MERGED,2023-04-24 13:15:28.000000000,2023-05-26 15:20:25.000000000,2023-05-26 15:20:25.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:15:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1a1f4ff063c8cc6faec69fd55d114a72382d57fd', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9\n'}]",0,881370,1a1f4ff063c8cc6faec69fd55d114a72382d57fd,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/70/881370/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1a1f4ff063c8cc6faec69fd55d114a72382d57fd,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~stable%2Fyoga~Ic8d297b66b957ef538295ca785a5634c611a9ac4,openstack/charm-placement,stable/yoga,Ic8d297b66b957ef538295ca785a5634c611a9ac4,Add bindep.txt,MERGED,2023-04-24 13:14:35.000000000,2023-05-26 15:18:15.000000000,2023-05-26 15:18:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:14:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/df82356478421b9d5835bd5df7667bdf304d329b', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: Ic8d297b66b957ef538295ca785a5634c611a9ac4\n'}]",0,881369,df82356478421b9d5835bd5df7667bdf304d329b,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: Ic8d297b66b957ef538295ca785a5634c611a9ac4
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/69/881369/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,df82356478421b9d5835bd5df7667bdf304d329b,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-openstack-dashboard~master~I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a,openstack/charm-openstack-dashboard,master,I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a,Set the Secure attribute on the cookie for ssl,ABANDONED,2021-12-13 12:39:00.000000000,2023-05-26 15:14:51.000000000,,"[{'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 12:39:00.000000000', 'files': ['templates/default-ssl'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/bd5741e9dd4bed8d02185b5be095380098377355', 'message': 'Set the Secure attribute on the cookie for ssl\n\nThis is a slight revert to a previous revert to increase the security on\nthe dashboard.\n\nChange-Id: I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a\nCloses-Bug: #1822751\n'}]",6,821546,bd5741e9dd4bed8d02185b5be095380098377355,7,3,1,20870,,,0,"Set the Secure attribute on the cookie for ssl

This is a slight revert to a previous revert to increase the security on
the dashboard.

Change-Id: I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a
Closes-Bug: #1822751
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/46/821546/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default-ssl'],1,bd5741e9dd4bed8d02185b5be095380098377355,bug/1822751," # NOTE(ajkavanagh) reference to Bug 1853173 and 1822751 he cookie can't be ""HttpOnly;Secure"" as Angular can't interact with the cookie. # Thus set it to Secure so that at least it is sent over the SSL channel. Header edit Set-Cookie ^(.*)$ $1;Secure"," # NOTE(ajkavanagh) due to Bug 1853173 the cookie can't be secure at this time, so disabling until a fix is found. # Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure",3,2
openstack%2Fkeystonemiddleware~master~I8f97f3d30dde94ad512f75e0e2ff0718021dfde6,openstack/keystonemiddleware,master,I8f97f3d30dde94ad512f75e0e2ff0718021dfde6,Update master for stable/2023.1,MERGED,2023-02-24 15:10:45.000000000,2023-05-26 15:02:31.000000000,2023-05-26 15:01:29.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-24 15:10:45.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/06bbdc8121f46581b766887f1ec255845bfea122', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I8f97f3d30dde94ad512f75e0e2ff0718021dfde6\n'}]",2,875109,06bbdc8121f46581b766887f1ec255845bfea122,11,4,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I8f97f3d30dde94ad512f75e0e2ff0718021dfde6
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/09/875109/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,06bbdc8121f46581b766887f1ec255845bfea122,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fhorizon~stable%2Fwallaby~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/wallaby,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:37.000000000,2023-05-26 15:01:19.000000000,2023-05-26 14:59:18.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ef5f80ea9dae71bca8b208e4ede8d26176e902a', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:16:59.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b1a13e0837b9f0ac3e0e919ad0a270d417003db', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",5,883921,9b1a13e0837b9f0ac3e0e919ad0a270d417003db,11,2,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/883921/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,4ef5f80ea9dae71bca8b208e4ede8d26176e902a,883921,, - openstack/xstatic-font-awesome,0,1
openstack%2Fironic~master~I4915dc23b1101b9b799f392434f237e5ccb323e4,openstack/ironic,master,I4915dc23b1101b9b799f392434f237e5ccb323e4,Make metal3 job voting,MERGED,2023-05-02 15:15:20.000000000,2023-05-26 15:00:10.000000000,2023-05-26 14:57:20.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-02 15:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8329f28000ba2acaba639fc3aff3f700cd939b37', 'message': ""Make metal3 job voting\n\nNow that we have autocommit disabled, we need to make the metal3 job\nvoting to ensure we don't accidentally break sqlite support in the\nfuture.\n\nChange-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4\n""}, {'number': 2, 'created': '2023-05-25 14:36:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf850cad14611b2f1489d767818fa108bbb7f337', 'message': ""Make metal3 job voting\n\nNow that we have autocommit disabled, we need to make the metal3 job\nvoting to ensure we don't accidentally break sqlite support in the\nfuture.\n\nChange-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4\n""}]",3,882073,bf850cad14611b2f1489d767818fa108bbb7f337,18,4,2,10342,,,0,"Make metal3 job voting

Now that we have autocommit disabled, we need to make the metal3 job
voting to ensure we don't accidentally break sqlite support in the
future.

Change-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/882073/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8329f28000ba2acaba639fc3aff3f700cd939b37,, - metal3-integration - metal3-integration, - metal3-integration: voting: false,2,2
openstack%2Fcharm-placement~master~I446b859b83192de37c6d66bbfafbdf3f3208da7b,openstack/charm-placement,master,I446b859b83192de37c6d66bbfafbdf3f3208da7b,DO NOT MERGE TESTING ZAZA,ABANDONED,2022-05-23 06:14:15.000000000,2023-05-26 14:52:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 06:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/da2845f5afcbc229a6ad87a99f798a9f35243307', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/499\n'}, {'number': 2, 'created': '2022-05-23 09:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/c93461a8c238458622eaf5196c8ca8aa679b1899', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/499\n'}, {'number': 3, 'created': '2022-05-23 09:27:52.000000000', 'files': ['src/test-requirements.txt', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/550259362bf525659686b1831d653113013658d7', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\n'}]",2,842911,550259362bf525659686b1831d653113013658d7,12,2,3,12549,,,0,"DO NOT MERGE TESTING ZAZA

Change-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/11/842911/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,da2845f5afcbc229a6ad87a99f798a9f35243307,test-run-no-merge,TESTING ZAZA NO MERGE,,1,0
openstack%2Fcharm-swift-proxy~master~I6a6f827d249fb8432400a2b4564c82c2e865d561,openstack/charm-swift-proxy,master,I6a6f827d249fb8432400a2b4564c82c2e865d561,Introduce manage-rings action to remove/reweight disks,ABANDONED,2018-03-09 02:45:03.000000000,2023-05-26 14:49:40.000000000,,"[{'_account_id': 6737}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 29805}, {'_account_id': 31420}]","[{'number': 1, 'created': '2018-03-09 02:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/548e6fa96189b0da5a2a19f2ea4b6e7afaa9eb3e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 2, 'created': '2018-03-09 02:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e631ffc0a35aeb30dfbfcb5a8d5699b59026e82e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 3, 'created': '2018-04-05 22:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d6ada0fe771ed93ca41362baad955f2142f522e6', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 4, 'created': '2018-11-08 05:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/46813611b4ab3f0f80ac12cbd764ea50dfd5f4f7', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 5, 'created': '2020-01-22 21:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/88f99fd46fdfbd4f867998a5ede9a7590f9c054c', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 6, 'created': '2020-01-23 04:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/13c4f317ba5307287cf89bce303b0506c8b89407', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 7, 'created': '2020-01-23 04:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/9b5920a03399f02534b8516e1ad718e7bdb747dd', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 8, 'created': '2020-01-23 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d7ec40ea33f76aee0fa1c02d0fa370df1d53b0a3', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set_weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 9, 'created': '2020-01-23 18:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a08bdf7a136eae1f7557d3192c605688d408a859', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set_weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 10, 'created': '2020-01-23 21:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/673d59ea379e0b2f7f04dada6fcb375bcbbf0427', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 11, 'created': '2020-01-24 20:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a64734243836bf5b6b7e4f9dea257d5d85e6bfc8', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 12, 'created': '2020-01-24 22:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/0a58e437b3b1980f5c2c3a4c3dd38895487c28d8', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 13, 'created': '2020-01-24 22:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/db188a809a7e1a9190d0449f45f8285ecead635e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 14, 'created': '2020-01-24 22:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/ec9cda51bf6c24ba063bed04cb0a3dd27b06622f', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 15, 'created': '2020-01-29 19:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/02babe4d06e7d977e383834767f0219eef8a166f', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 16, 'created': '2020-02-07 20:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f9aef1824ee8986000d393a934bb1e42882a66c0', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 17, 'created': '2020-02-07 21:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/70968efff21ee6f2b7f8a0213b2cea150cbdfa17', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 18, 'created': '2020-02-08 04:27:31.000000000', 'files': ['actions/actions.py', 'lib/swift_utils.py', 'actions/manage-rings', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f91c08ba32a8a6a5b1ebc53231131fb333a00efb', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}]",10,551059,f91c08ba32a8a6a5b1ebc53231131fb333a00efb,65,8,18,25011,,,0,"Introduce manage-rings action to remove/reweight disks

Allows you to run a single action that bulk manages
ring removes and set-weights on the leader.  Protects
non-leaders from executing ring manangement actions.

Change-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/59/551059/18 && git format-patch -1 --stdout FETCH_HEAD,"['actions/manage-rings', 'actions/manage_rings.py', 'actions.yaml']",3,548e6fa96189b0da5a2a19f2ea4b6e7afaa9eb3e,manage-rings,"manage-rings: description: | Parse YAML of actions to perform on rings, then trigger a ring rebalance and sync across swift environment if successful required: ring: type: string description: | The ring builder file(s) to modify. One of 'object', 'account', 'container', or 'all' change-spec: type: string description: |- YAML of actions and disks to take those actions on. Format as below. remove: - descriptor: 'd99' - descriptor: 'd100' - descriptor: '<any search device supported by swift-ring-builder>' set_weight: - descriptor: 'd101' weight: 1.0 - descriptor: 'd102' weight: 0.5 - descriptor: '<any search device>' weight: 0.0 ",,196,0
openstack%2Fcharm-swift-proxy~master~I470ea76a543a7a5bef8fb2c4ca9f91c59715d519,openstack/charm-swift-proxy,master,I470ea76a543a7a5bef8fb2c4ca9f91c59715d519,Allow disabling load balancing,ABANDONED,2019-05-30 13:34:52.000000000,2023-05-26 14:45:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-05-30 13:34:52.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2aa2148968ef5f90ae521eb1a9efe7827968f709', 'message': ""Allow disabling load balancing\n\nThis patchset implements a logic to control whether HAProxy load\nbalancing should be enabled or not based on the 'ha-lb-enable' config\noption.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/331\nChange-Id: I470ea76a543a7a5bef8fb2c4ca9f91c59715d519\nCloses-Bug: 1827356\n""}]",0,662218,2aa2148968ef5f90ae521eb1a9efe7827968f709,5,3,1,24504,,,0,"Allow disabling load balancing

This patchset implements a logic to control whether HAProxy load
balancing should be enabled or not based on the 'ha-lb-enable' config
option.

Depends-On: https://github.com/juju/charm-helpers/pull/331
Change-Id: I470ea76a543a7a5bef8fb2c4ca9f91c59715d519
Closes-Bug: 1827356
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/18/662218/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,2aa2148968ef5f90ae521eb1a9efe7827968f709,bug/1827356, ha-lb-enable: type: boolean default: True description: | Defines whether HAProxy load balancing should be enabled or not.,,5,0
openstack%2Fsushy-tools~master~I5528adb10843f4d8fa82217dfa4dff1572fb0893,openstack/sushy-tools,master,I5528adb10843f4d8fa82217dfa4dff1572fb0893,"Add fake_ipa inspection, lookup and heartbeater to fake system",ABANDONED,2023-05-26 13:40:12.000000000,2023-05-26 14:44:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 13:40:12.000000000', 'files': ['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'tox.ini', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d', 'message': '    Add fake_ipa inspection, lookup and heartbeater to fake system\n\n    Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>\n        Co-authored-by: Huy Mai <huy.mai@est.tech>\n    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba\n\nChange-Id: I5528adb10843f4d8fa82217dfa4dff1572fb0893\n'}]",0,884502,d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d,3,1,1,35777,,,0,"    Add fake_ipa inspection, lookup and heartbeater to fake system

    Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>
        Co-authored-by: Huy Mai <huy.mai@est.tech>
    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba

Change-Id: I5528adb10843f4d8fa82217dfa4dff1572fb0893
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/02/884502/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'tox.ini', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py']",16,d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d,Add-fake_ipa/mohammed,"import requests from sushy_tools.emulator import constants 'fake_ipa': 'disabled', { 'mac': '00:5c:52:31:3a:9c', 'ip': '172.22.0.100' } system = self._get(identity) power_state = system.get('power_state') fake_ipa = system.get('fake_ipa') self._logger.debug('Getting power state: node ""%s"" [power state: %s, \ fake_ipa: %s]', system.get('name'), power_state, fake_ipa) # if fake_ipa is in booting state boot fake_ipa then set it to enabled. if power_state in 'On' and fake_ipa and fake_ipa in 'booting': self._boot_ipa(system) return power_state self._logger.info('Setting power state ""%s"" in node %s', state, system.get('name')) fake_ipa = system.get('fake_ipa') if pending_state in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Set fake_ipa state to booting in node %s', system.get('name')) self._update(system, fake_ipa='booting') if system['power_state'] != pending_state: # Check if powering off and fake_ipa is enabled then # remove the node from heartbeater threads if state not in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Remove the node from heartbeater threads in node %s', system.get('name')) self._remove_from_heartbeater(system['uuid']) system = self._get(identity) self._logger.info('Enabling fake_ipa after set boot device: %s \ in node %s', boot_source, system.get('name')) if boot_source in constants.DEVICE_TYPE_HDD: self._update(identity, fake_ipa='disabled') else: self._update(identity, fake_ipa='enabled') return [{'id': nic.get('mac'), 'mac': nic.get('mac')} def _boot_ipa(self, system): self._config.setdefault('FAKE_IPA_URL', 'http://192.168.111.1:9999') fake_ipa_url = self._config['FAKE_IPA_URL'] boot_url = '{}/boot'.format(fake_ipa_url) resp = requests.put(boot_url, json=system, headers={'Content-type': 'application/json'}) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) in node %s request error %d: %s', fake_ipa_url, system.get('name'), resp.status_code, resp.text) return self._logger.info(""ipa enabled in node %s"", system.get('name')) self._update(system, fake_ipa='enabled') def _remove_from_heartbeater(self, uuid): fake_ipa_url = self._config['FAKE_IPA_URL'] delete_url = '{}/{}'.format(fake_ipa_url, uuid) resp = requests.delete(delete_url) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) request error %d: %s', uuid, resp.status_code, resp.text)"," {'address': '00:5c:52:31:3a:9c'} return self._get(identity)['power_state'] if system['power_state'] != pending_state: return [{'id': nic.get('address'), 'mac': nic.get('address')}",1864,7
openstack%2Fcharm-swift-storage~master~I973304a4293dde428b5e8b586b1ce7eae84f4e7a,openstack/charm-swift-storage,master,I973304a4293dde428b5e8b586b1ce7eae84f4e7a,Split the swift_storage nrpe check into separate checks,ABANDONED,2020-07-23 16:30:14.000000000,2023-05-26 14:40:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 27944}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-23 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d7b4f25a8b3ca82e57a98062eb9ff79da2201217', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}, {'number': 2, 'created': '2020-07-23 16:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/97396be5d8610a910b3363b62cbd561f4ffcc6f1', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nCloses-Bug: 1888709\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}, {'number': 3, 'created': '2020-07-23 17:18:40.000000000', 'files': ['files/nrpe-external-master/check_swift_storage.py', 'unit_tests/test_check_swift_storage.py', 'config.yaml', 'hooks/swift_storage_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/f99a02d7c7f7bda469392e909f8e6274df5fae5d', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nCloses-Bug: 1888709\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}]",4,742702,f99a02d7c7f7bda469392e909f8e6274df5fae5d,16,5,3,27944,,,0,"Split the swift_storage nrpe check into separate checks

This allows for downtiming individual failures without having to silence
the whole check

Closes-Bug: 1888709
Change-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/02/742702/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nrpe-external-master/check_swift_storage.py', 'unit_tests/test_check_swift_storage.py', 'config.yaml', 'hooks/swift_storage_hooks.py']",4,d7b4f25a8b3ca82e57a98062eb9ff79da2201217,bug/1888709,"RINGS = ['container', 'account', 'object'] # check ring hashes and replication for ring in RINGS: base_cmd = 'check_swift_storage.py -p {} --ring {}'.format( config('{}-server-port'.format(ring)), ring ) # check ring replication lag lag_args = \ config('nagios-check-params').replace('-m', '').strip() \ or '-r {} {} {} {}'.format( config('nagios-{}-replication-lag-warn'.format(ring)), config('nagios-{}-replication-lag-crit'.format(ring)), config('nagios-{}-replication-failure-warn'.format(ring)), config('nagios-{}-replication-failure-crit'.format(ring)) ) lag_cmd = '{} {}'.format(base_cmd, lag_args) lag_desc = ('Check swift {} storage ring replication [{}]' ''.format(ring, current_unit)) nrpe_setup.add_check( shortname='swift_{}_replication_lag'.format(ring), description=lag_desc, check_cmd=lag_cmd ) # check ring md5 md5_desc = ('Check swift {} storage ring replication [{}]' ''.format(ring, current_unit)) nrpe_setup.add_check( shortname='swift_{}_ring_md5'.format(ring), description=md5_desc, check_cmd='{} -m'.format(base_cmd) ) # this should be idempotent nrpe_setup.remove_check(shortname='swift_storage') # check for dead object replicators"," # check the rings and replication nrpe_setup.add_check( shortname='swift_storage', description='Check swift storage ring hashes and replication' ' {%s}' % current_unit, check_cmd='check_swift_storage.py {}'.format( config('nagios-check-params')) )",262,150
openstack%2Fcharm-swift-storage~master~I81732c8628cb36af0e5427626ca92275e7b2c98b,openstack/charm-swift-storage,master,I81732c8628cb36af0e5427626ca92275e7b2c98b,Migrate to safer disk handling,ABANDONED,2019-03-15 14:08:32.000000000,2023-05-26 14:39:35.000000000,,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/2fa3121c59a269cb0b7b316f8d770b2f6809fd3b', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 2, 'created': '2019-03-15 14:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/09f4cdfc5ec6d10e16236a3d74a5a6a154f72ed0', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 3, 'created': '2019-03-15 14:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d1dad83ef22f128e560153fd064c973365c09f71', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 4, 'created': '2019-03-15 14:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/17ca84341f8bddd19028b8ddbc954e27f781e960', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 5, 'created': '2019-05-30 09:01:51.000000000', 'files': ['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'actions/list_disks.py', 'config.yaml', 'actions/list-disks', 'actions/zap_disk.py', 'actions/blacklist-remove-disk', 'tests/basic_deployment.py', 'actions/add_disk.py', 'actions/zap-disk', 'unit_tests/test_swift_storage_utils.py', 'actions/blacklist.py', 'hooks/install', 'lib/misc_utils.py', 'actions/blacklist-add-disk', 'hooks/install_deps', 'actions.yaml', 'actions/add-disk', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/066d93621bab4f44cd071fba0378666b7e592cdb', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}]",0,643593,066d93621bab4f44cd071fba0378666b7e592cdb,17,5,5,20634,,,0,"Migrate to safer disk handling

Previously, it was possible, via a race condition, for
this charm to reformat disks that were used for Swift
backing storage if the charm execution started before
disks were fully setup in Swift after a boot.

This change integrates the solution adopted in the Ceph
charms that alow managing Swift devices via actions
when uncertainty is detected during hook execution.

This change adds new new actions to ease management of
disks:

- list-disks
- add-disk
- blacklist-add-disk
- blacklist-remove-disk

Change-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b
Closes-Bug: #1819700
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/93/643593/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'actions/list_disks.py', 'config.yaml', 'actions/list-disks', 'charmhelpers/core/host_factory/ubuntu.py', 'actions/zap_disk.py', 'actions/blacklist-remove-disk', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/core/host.py', 'tests/basic_deployment.py', 'actions/add_disk.py', 'actions/zap-disk', 'unit_tests/test_swift_storage_utils.py', 'actions/blacklist.py', 'hooks/install', 'lib/misc_utils.py', 'actions/blacklist-add-disk', 'hooks/install_deps', 'actions.yaml', 'actions/add-disk', 'lib/swift_storage_utils.py']",22,2fa3121c59a269cb0b7b316f8d770b2f6809fd3b,bug/1819700," status_get, status_set,def get_blacklist(): """"""Get blacklist stored in the local kv() store"""""" db = kv() return db.get('disk-blacklist', []) # Filter out any devices in the action managed unit-local device blacklist _blacklist = get_blacklist() valid_bdevs = [device for device in valid_bdevs if device not in _blacklist]def setup_storage(encrypt=False, devices=None): devices = devices or determine_block_devices() devices = [dev for dev in devices if dev not in prepared_devices] for dev in devices: devices.remove(dev) # filter devices that are already mounted # NOTE: this deals with a dm-crypt'ed block device already in # use devices = [dev for dev in devices if not is_device_mounted(dev)] log('Checking for pristine devices: ""{}""'.format(devices), level=DEBUG) if not all(is_pristine_disk(dev) for dev in devices): status_set('blocked', 'Non-pristine devices detected, consult ' '`list-disks`, `zap-disk` and `blacklist-*` actions.') return for dev in devices: if setup_dev(dev, encrypt): prepared_devices.append(dev) db.set('prepared-devices', prepared_devices) db.flush() (prev_status, prev_message) = status_get() if prev_message.startswith('Non-pristine'): status_set('active', 'Unit is ready') def setup_dev(dev, encrypt=False): """"""Give a device to Swift. :param dev: The device name to manage, ex: /dev/sdb :type dev: str """""" loopback_device = is_mapped_loopback_device(dev) options = None if encrypt and not loopback_device: dev_uuid = str(uuid.uuid4()) check_call(['vaultlocker', 'encrypt', '--uuid', dev_uuid, dev]) dev = '/dev/mapper/crypt-{}'.format(dev_uuid) options = ','.join([ ""defaults"", ""nofail"", (""x-systemd.requires="" ""vaultlocker-decrypt@{uuid}.service"".format(uuid=dev_uuid)), ""comment=vaultlocker"", ]) try: # If not cleaned and in use, mkfs should fail. mkfs_xfs(dev) except subprocess.CalledProcessError as exc: # This is expected is a formatted device is provided and we are # forcing the format. log(""Format device '%s' failed (%s) - continuing to next device"" % (dev, exc), level=WARNING) return basename = os.path.basename(dev) _mp = os.path.join('/srv', 'node', basename) mkdir(_mp, owner='swift', group='swift') mountpoint = '/srv/node/%s' % basename if loopback_device: # If an exiting fstab entry exists using the image file as the # source then preserve it, otherwise use the loopback device # directly to avoid a secound implicit loopback device being # created on mount. Bug #1762390 fstab = charmhelpers.core.fstab.Fstab() fstab_entry = fstab.get_entry_by_attr('mountpoint', mountpoint) if fstab_entry and loopback_device == fstab_entry.device: dev = loopback_device options = ""loop,nofail,defaults"" filesystem = ""xfs"" mount(dev, mountpoint, filesystem=filesystem) fstab_add(dev, mountpoint, filesystem, options=options) check_call(['chown', '-R', 'swift:swift', mountpoint]) check_call(['chmod', '-R', '0755', mountpoint]) # NOTE: record preparation of device - this will be used when # providing block device configuration for ring builders. return True def is_pristine_disk(dev): """""" Read first 2048 bytes (LBA 0 - 3) of block device to determine whether it is actually all zeros and safe for us to use. Existing partitioning tools does not discern between a failure to read from block device, failure to understand a partition table and the fact that a block device has no partition table. Since we need to be positive about which is which we need to read the device directly and confirm ourselves. :param dev: Path to block device :type dev: str :returns: True all 2048 bytes == 0x0, False if not :rtype: bool """""" want_bytes = 2048 f = open(dev, 'rb') data = f.read(want_bytes) read_bytes = len(data) if read_bytes != want_bytes: log('{}: short read, got {} bytes expected {}.' .format(dev, read_bytes, want_bytes), level=WARNING) return False return all(byte == 0x0 for byte in data) (prev_status, prev_message) = status_get() if prev_message.startswith('Non-pristine'): return (prev_status, prev_message) else: return (""active"", ""Unit is ready"")"," clean_storage,def setup_storage(encrypt=False): reformat = str(config('overwrite')).lower() == ""true"" for dev in determine_block_devices(): if dev in prepared_devices: log('Device {} already processed by charm,' ' skipping'.format(dev)) continue continue # NOTE: this deals with a dm-crypt'ed block device already in # use if is_device_mounted(dev): log(""Device '{}' is already mounted, ignoring"".format(dev)) continue if reformat: clean_storage(dev) loopback_device = is_mapped_loopback_device(dev) options = None if encrypt and not loopback_device: dev_uuid = str(uuid.uuid4()) check_call(['vaultlocker', 'encrypt', '--uuid', dev_uuid, dev]) dev = '/dev/mapper/crypt-{}'.format(dev_uuid) options = ','.join([ ""defaults"", ""nofail"", (""x-systemd.requires="" ""vaultlocker-decrypt@{uuid}.service"".format(uuid=dev_uuid)), ""comment=vaultlocker"", ]) try: # If not cleaned and in use, mkfs should fail. mkfs_xfs(dev, force=reformat) except subprocess.CalledProcessError as exc: # This is expected is a formatted device is provided and we are # forcing the format. log(""Format device '%s' failed (%s) - continuing to next device"" % (dev, exc), level=WARNING) continue basename = os.path.basename(dev) _mp = os.path.join('/srv', 'node', basename) mkdir(_mp, owner='swift', group='swift') mountpoint = '/srv/node/%s' % basename if loopback_device: # If an exiting fstab entry exists using the image file as the # source then preserve it, otherwise use the loopback device # directly to avoid a secound implicit loopback device being # created on mount. Bug #1762390 fstab = charmhelpers.core.fstab.Fstab() fstab_entry = fstab.get_entry_by_attr('mountpoint', mountpoint) if fstab_entry and loopback_device == fstab_entry.device: dev = loopback_device options = ""loop,nofail,defaults"" filesystem = ""xfs"" mount(dev, mountpoint, filesystem=filesystem) fstab_add(dev, mountpoint, filesystem, options=options) check_call(['chown', '-R', 'swift:swift', mountpoint]) check_call(['chmod', '-R', '0755', mountpoint]) # NOTE: record preparation of device - this will be used when # providing block device configuration for ring builders. prepared_devices.append(dev) db.set('prepared-devices', prepared_devices) db.flush() return (""active"", ""Unit is ready"")",1028,175
openstack%2Fhorizon~stable%2Fxena~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/xena,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:22.000000000,2023-05-26 14:33:36.000000000,2023-05-26 14:31:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb4d412afd21c061e21083a4eb27ee17d97df74d', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:13:41.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/050914d8b68bf049097bdd5656084df9ba64e684', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",5,883920,050914d8b68bf049097bdd5656084df9ba64e684,12,2,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/883920/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,bb4d412afd21c061e21083a4eb27ee17d97df74d,883920,, - openstack/xstatic-font-awesome,0,1
openstack%2Fopenstacksdk~stable%2Fussuri~Icbb6137e77be8344e32e2e68a3e12d77087e96c5,openstack/openstacksdk,stable/ussuri,Icbb6137e77be8344e32e2e68a3e12d77087e96c5,[stable-only] Use ussuri-eol tag for heat checkout,MERGED,2023-05-23 15:46:30.000000000,2023-05-26 14:20:37.000000000,2023-05-26 14:18:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 15:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/12a789fbbe9edf18ea75214e03843b09b4df9c47', 'message': 'Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 2, 'created': '2023-05-25 14:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b505ab2f81833354a00aa72d65dff9a5865c6b0f', 'message': 'Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 3, 'created': '2023-05-25 16:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/320c37ae24b7f07673502ef34299fbbb82a7eeef', 'message': '[stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 4, 'created': '2023-05-26 07:54:14.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_proxy.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eadba75afc04ebf4c364aeb0f750dd11e5270d3f', 'message': '[stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes): this patch also contains patch\nI293d0e05151acc4207c5d565bd6a1439b1873f3b, which is squashed into this\nto make the gate stable.\n(cherry picked from commit c3857c136cb3fcd24c92184ea7018b962b80798c)\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}]",3,883949,eadba75afc04ebf4c364aeb0f750dd11e5270d3f,21,2,4,17685,,,0,"[stable-only] Use ussuri-eol tag for heat checkout

heat transitioned their stable/ussuri and stable/train to End of Life,
thus stable/ussuri and stable/train branches were deleted and causing
branch checkout errors. This patch sets to override the default stable
branch checkout with using the eol tag instead.

NOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src
job is failing and set non-voting even on master, so to unblock the
gate this patch removes it as no reason to make it non-voting on such
old stable/branch as ussuri and train.

NOTE(elod.illes): this patch also contains patch
I293d0e05151acc4207c5d565bd6a1439b1873f3b, which is squashed into this
to make the gate stable.
(cherry picked from commit c3857c136cb3fcd24c92184ea7018b962b80798c)

Change-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/883949/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,12a789fbbe9edf18ea75214e03843b09b4df9c47,heat-eol-tag-for-devstack, - name: openstack/heat override-branch: ussuri-eol, - openstack/heat,2,1
openstack%2Fcharm-swift-storage~master~Iedd27a51ff93fd1670a418e1434c94875fe21643,openstack/charm-swift-storage,master,Iedd27a51ff93fd1670a418e1434c94875fe21643,conntrack: set sane sysctl defaults,MERGED,2020-07-23 07:05:16.000000000,2023-05-26 14:13:26.000000000,2023-05-26 14:13:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 07:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/8b0ff2dc7e25c682d86230af2f0f1013fe8e86fa', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 2, 'created': '2020-09-11 14:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/550fa7c808d5fa80b46c92020e35d5e4e301e97d', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 3, 'created': '2021-09-03 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/99f44ec757937d983100272da52efb8a547e87f7', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 4, 'created': '2021-09-03 13:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/24fae807ca33dc1b65c3e9f90ee5d0c0330b141e', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 5, 'created': '2022-07-11 13:41:00.000000000', 'files': ['unit_tests/test_swift_storage_relations.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d9a8025ac3d8fa4743970e20a5634cd18680d2e9', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}]",3,742602,d9a8025ac3d8fa4743970e20a5634cd18680d2e9,22,3,5,935,,,0,"conntrack: set sane sysctl defaults

swift-storage is often deployed alongside nova-compute where it
inherits some sane defaults for sysctl values, specifically around
conntrack configuration.

If its deployed standalone it does not recieve the same tuning,
but its very much applicable as access between swift-storage nodes
for rsync traffic is firewall limited so makes a high demand
on conntrack on the server.

Lift and shift the defaults from the nova-compute charm.

Change-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643
Closes-Bug: 1879121
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/02/742602/5 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,8b0ff2dc7e25c682d86230af2f0f1013fe8e86fa,bug/1879121," default: | { net.ipv4.neigh.default.gc_thresh1 : 128, net.ipv4.neigh.default.gc_thresh2 : 28672, net.ipv4.neigh.default.gc_thresh3 : 32768, net.ipv6.neigh.default.gc_thresh1 : 128, net.ipv6.neigh.default.gc_thresh2 : 28672, net.ipv6.neigh.default.gc_thresh3 : 32768, net.nf_conntrack_max : 1000000, net.netfilter.nf_conntrack_buckets : 204800, net.netfilter.nf_conntrack_max : 1000000 }", default:,10,1
openstack%2Freleases~master~I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38,openstack/releases,master,I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38,Release tosca-parser for Bobcat-1 milestone,ABANDONED,2023-05-08 16:27:57.000000000,2023-05-26 14:12:29.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-08 16:27:57.000000000', 'files': ['deliverables/bobcat/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1fdd3a4b0414f7a3e0c748417b31eddf666cdda5', 'message': 'Release tosca-parser for Bobcat-1 milestone\n\nThis is a library release for tosca-parser for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 2.8.0..c34dd4b\nc34dd4b Interface outputs\ndcff68f Fix passenv for tox4\n\nChange-Id: I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,882605,1fdd3a4b0414f7a3e0c748417b31eddf666cdda5,4,5,1,17685,,,0,"Release tosca-parser for Bobcat-1 milestone

This is a library release for tosca-parser for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 2.8.0..c34dd4b
c34dd4b Interface outputs
dcff68f Fix passenv for tox4

Change-Id: I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/882605/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/tosca-parser.yaml'],1,1fdd3a4b0414f7a3e0c748417b31eddf666cdda5,bobcat-milestone-1,releases: - version: 2.9.0 projects: - repo: openstack/tosca-parser hash: c34dd4b6af549ae251dcbfca059d216e688a6bc6,,5,0
openstack%2Fcharm-swift-storage~master~I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af,openstack/charm-swift-storage,master,I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af,Pin tempest for different python versions,ABANDONED,2022-07-11 11:37:31.000000000,2023-05-26 14:09:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 11:37:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/efac464f1c97c5700bbba99b08e963a9984500c2', 'message': 'Pin tempest for different python versions\n\nChange-Id: I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af\n'}]",1,849346,efac464f1c97c5700bbba99b08e963a9984500c2,5,2,1,20870,,,0,"Pin tempest for different python versions

Change-Id: I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/46/849346/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,efac464f1c97c5700bbba99b08e963a9984500c2,pin-tempest,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8' and python_version>='3.6',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fcharm-aodh~master~I633ae78890f83142a170c3dfcec0db0459122472,openstack/charm-aodh,master,I633ae78890f83142a170c3dfcec0db0459122472,Test to ensure tox is not pinned for master,ABANDONED,2023-01-06 18:29:18.000000000,2023-05-26 14:01:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/8234651d5c998d025a89e467c7a799e2ef69155e', 'message': 'Test to ensure tox is not pinned for master\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I633ae78890f83142a170c3dfcec0db0459122472\n'}]",0,869496,8234651d5c998d025a89e467c7a799e2ef69155e,3,1,1,11805,,,0,"Test to ensure tox is not pinned for master

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: I633ae78890f83142a170c3dfcec0db0459122472
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/96/869496/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8234651d5c998d025a89e467c7a799e2ef69155e,,,,0,0
openstack%2Fcharm-aodh~master~Ib06ba5313363ece38b9fee573421dd7a041539f3,openstack/charm-aodh,master,Ib06ba5313363ece38b9fee573421dd7a041539f3,Add support for tox 4.x,ABANDONED,2022-12-13 15:46:52.000000000,2023-05-26 13:59:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 15:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/7f0cd727b7c80720d248bbbacf153853ccb89751', 'message': 'Add support for tox 4.x\n\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 2, 'created': '2022-12-13 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/78c18edea638fae842a1482536aac83694d733dd', 'message': 'Add support for tox 4.x\n\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 3, 'created': '2022-12-13 16:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/33d5b189ce7155cbb57709a8b14d207afa3d1106', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 4, 'created': '2022-12-13 17:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/d8d4521440dbad148ead1955a512baeffb640cf5', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 5, 'created': '2022-12-13 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/14cf97e9f53e7125bb8675a60f1e0c1f81224c74', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 6, 'created': '2022-12-13 17:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/212cdda352b718bffd80e44617f5cced7680e8c7', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 7, 'created': '2022-12-13 19:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a017af5a1892f0bb0589aa9054d72f7f6f335b08', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 8, 'created': '2022-12-13 19:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/1039876d58b6f812e145827b060b82074e2d73ad', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 9, 'created': '2022-12-13 20:24:49.000000000', 'files': ['src/tox.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/1559fbea074dfc2d8dd54106fd34296bdbf4d3ba', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}]",1,867528,1559fbea074dfc2d8dd54106fd34296bdbf4d3ba,23,2,9,11805,,,0,"Add support for tox 4.x

* Unpin everything in tox.ini
* Add pip.sh to allowlist_externals
* Use -- to separate func-target commands from tox ones
* Move tox passenv variables to separate lines. tox no longer
  supports space-separation for a single line with multiple
  variables. They need to either be space-separated or on
  separate lines.

Depends-On: https://review.opendev.org/866943
Change-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/28/867528/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7f0cd727b7c80720d248bbbacf153853ccb89751,unpin-tox,,,1,0
openstack%2Fcharm-aodh~master~I919538ebcfa9e998eb455ea2ce1ec0c951dfead7,openstack/charm-aodh,master,I919538ebcfa9e998eb455ea2ce1ec0c951dfead7,Fix for tox -e build failure due to charmcraft command,ABANDONED,2022-08-15 16:48:04.000000000,2023-05-26 13:56:30.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-15 16:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/0753a8768068c4a3214a0ecad8314fb8a7360143', 'message': 'Fix for tox -e build failure due to charmcraft command\n\nPreviously, tox -e build command would fail due to\n""charmcraft -v build"" being out-dated. Updated to\n""charmcraft -v pack"" which successfully builds.\n\nChange-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7\n'}, {'number': 2, 'created': '2022-08-15 21:39:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/fadf242b77a2d1047aa216f30ce04e036ad29b54', 'message': 'Fix for tox -e build failure due to charmcraft command\n\nUse pack command instead of build command for charmcraft\n\nChange-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7\n'}]",2,853186,fadf242b77a2d1047aa216f30ce04e036ad29b54,8,3,2,35076,,,0,"Fix for tox -e build failure due to charmcraft command

Use pack command instead of build command for charmcraft

Change-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/86/853186/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0753a8768068c4a3214a0ecad8314fb8a7360143,update-tox-ini-charmcraft-pack, charmcraft -v pack, charmcraft -v build,1,1
openstack%2Fpuppet-tripleo~stable%2Fzed~I20c2aee6af03af96a4a2022681eabba75a6acf00,openstack/puppet-tripleo,stable/zed,I20c2aee6af03af96a4a2022681eabba75a6acf00,Horizon: Support Strict-Transport-Security header,ABANDONED,2023-05-26 13:52:33.000000000,2023-05-26 13:54:33.000000000,,[],"[{'number': 1, 'created': '2023-05-26 13:52:33.000000000', 'files': ['manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2402b5603fe658a7ba228841528c35700e618c09', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}]",0,884384,2402b5603fe658a7ba228841528c35700e618c09,2,0,1,8648,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Change-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00
(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/884384/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/horizon_endpoint.pp'],1,2402b5603fe658a7ba228841528c35700e618c09,tripleo-horizon-hsts-stable/zed,"<<<<<<< HEAD (1b65f4 Merge ""Ironic: Manage [nova] options by puppet"" into stable/)======= # (optional) Adds the HTTP Strict Transport Securiy (HSTS) header to >>>>>>> CHANGE (837abe Horizon: Support Strict-Transport-Security header)",,4,0
openstack%2Fopenstacksdk~master~Ia16c3bf2ba6b28e1102a164f029be9df128e81a8,openstack/openstacksdk,master,Ia16c3bf2ba6b28e1102a164f029be9df128e81a8,Make various proxy arguments kwarg-only,ABANDONED,2022-12-19 15:35:32.000000000,2023-05-26 13:30:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 15:35:32.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/516c7f805f661fa61359cc50431af73f04555c48', 'message': ""Make various proxy arguments kwarg-only\n\nPeople shouldn't be calling these via positional arguments as it results\nin worse code.\n\nChange-Id: Ia16c3bf2ba6b28e1102a164f029be9df128e81a8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,868100,516c7f805f661fa61359cc50431af73f04555c48,3,1,1,15334,,,0,"Make various proxy arguments kwarg-only

People shouldn't be calling these via positional arguments as it results
in worse code.

Change-Id: Ia16c3bf2ba6b28e1102a164f029be9df128e81a8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/868100/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py']",2,516c7f805f661fa61359cc50431af73f04555c48,all-projects-support," def get_flavor(self, flavor, *, get_extra_specs=False): def flavors(self, *, details=True, get_extra_specs=False, **query): def images(self, *, details=True, **query): def delete_keypair(self, keypair, ignore_missing=True, *, user_id=None): def delete_server(self, server, ignore_missing=True, *, force=False): def servers(self, *, details=True, all_projects=False, **query): def create_server_image( self, server, name, *, metadata=None, wait=False, timeout=120, ): def lock_server(self, server, *, locked_reason=None): def rescue_server(self, server, *, admin_pass=None, image_ref=None): def evacuate_server( self, server, *, host=None, admin_pass=None, force=None, ): def delete_server_interface( self, server_interface, server=None, ignore_missing=True, ): def availability_zones(self, *, details=False): def hypervisors(self, *, details=False, **query): self, service, *, host=None, binary=None, forced=True, service.set_forced_down(self, host=host, binary=binary, forced=forced) self, service, *, host=None, binary=None, disabled_reason=None, self, host=host, binary=binary, disabled_reason=disabled_reason, ) def enable_service(self, service, *, host=None, binary=None): return self.update_service(service, status='enabled') return service.enable(self, host=host, binary=binary) self, server, *, host=None, force=False, block_migration=None, self, server_migration, server, ignore_missing=True, def _service_cleanup( self, dry_run=True, client_status_queue=None, identified_resources=None, filters=None, resource_evaluation_fn=None, ):"," def get_flavor(self, flavor, get_extra_specs=False): def flavors(self, details=True, get_extra_specs=False, **query): def images(self, details=True, **query): def delete_keypair(self, keypair, ignore_missing=True, user_id=None): def delete_server(self, server, ignore_missing=True, force=False): def servers(self, details=True, all_projects=False, **query): def create_server_image(self, server, name, metadata=None, wait=False, timeout=120): def lock_server(self, server, locked_reason=None): def rescue_server(self, server, admin_pass=None, image_ref=None): def evacuate_server(self, server, host=None, admin_pass=None, force=None): # TODO(stephenfin): Does this work? There's no 'value' parameter for the # call to '_delete' def delete_server_interface(self, server_interface, server=None, ignore_missing=True): def availability_zones(self, details=False): def hypervisors(self, details=False, **query): self, service, host=None, binary=None, forced=True service.set_forced_down(self, host, binary, forced) self, service, host=None, binary=None, disabled_reason=None self, host, binary, disabled_reason) def enable_service(self, service, host=None, binary=None): return self.update_service( service, status='enabled') return service.enable(self, host, binary) self, server, host=None, force=False, block_migration=None, self, server_migration, server, ignore_missing=True, def _service_cleanup(self, dry_run=True, client_status_queue=None, identified_resources=None, filters=None, resource_evaluation_fn=None):",143,53
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8b0501e7e3a994d40d37c983b1f0c073fd69e969,openstack/tripleo-heat-templates,stable/wallaby,I8b0501e7e3a994d40d37c983b1f0c073fd69e969,[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies,MERGED,2023-05-25 09:00:34.000000000,2023-05-26 13:22:42.000000000,2023-05-26 13:22:42.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-05-25 09:00:34.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f', 'message': '[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies\n\nIn custom, secure RBAC API policies for the Neutron\'s QoS rules there\nwas custom rule to allow get it for policy (ext_parent) owner as policy\nrules don\'t have tenant_id attribute itself.\nInstead of using this ""custom"" check there, let\'s use\n""rule:ext_parent_owner"" which is already defined there. It also used\n""tenant_id"" instead of ""project_id"" and for some reason that makes those\nrules working properly.\n\nRelated: rhbz#2196291\nChange-Id: I8b0501e7e3a994d40d37c983b1f0c073fd69e969\n'}]",3,884322,1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f,10,4,1,11975,,,0,"[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies

In custom, secure RBAC API policies for the Neutron's QoS rules there
was custom rule to allow get it for policy (ext_parent) owner as policy
rules don't have tenant_id attribute itself.
Instead of using this ""custom"" check there, let's use
""rule:ext_parent_owner"" which is already defined there. It also used
""tenant_id"" instead of ""project_id"" and for some reason that makes those
rules working properly.

Related: rhbz#2196291
Change-Id: I8b0501e7e3a994d40d37c983b1f0c073fd69e969
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/884322/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f,," value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"" value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"" value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"""," value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)""",3,3
openstack%2Fcharm-mysql-innodb-cluster~master~Ife6235bab82bb828c943ba1215bf938238d4b257,openstack/charm-mysql-innodb-cluster,master,Ife6235bab82bb828c943ba1215bf938238d4b257,Improve handling of errors in update status hook,MERGED,2023-05-22 13:11:44.000000000,2023-05-26 12:52:51.000000000,2023-05-26 12:52:51.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a08335ca38d9bf06498463db81a6adfe358604f3', 'message': 'Improve handling of errors in update status hook\n\nThe update status hookj can error during logging on cluster status. This\njust prevents it from going into error during update-status.\n\nChange-Id: Ife6235bab82bb828c943ba1215bf938238d4b257\nCloses-Bug: #2015368\n'}, {'number': 2, 'created': '2023-05-25 19:43:10.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4a71dcbaaca786d168bf849b03832339e64a717d', 'message': 'Improve handling of errors in update status hook\n\nThe update status hook can error during logging on cluster status. This\njust prevents it from going into error during update-status.\n\nChange-Id: Ife6235bab82bb828c943ba1215bf938238d4b257\nCloses-Bug: #2015368\n'}]",3,883839,4a71dcbaaca786d168bf849b03832339e64a717d,13,4,2,20870,,,0,"Improve handling of errors in update status hook

The update status hook can error during logging on cluster status. This
just prevents it from going into error during update-status.

Change-Id: Ife6235bab82bb828c943ba1215bf938238d4b257
Closes-Bug: #2015368
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/39/883839/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,a08335ca38d9bf06498463db81a6adfe358604f3,bug/2015368," .format(self._error_str(e)), ""ERROR"") .format(self._error_str(e)), ""ERROR"") @staticmethod def _error_str(e): """"""Get error string, if possible, from a subprocess CalledProcessError. Try to get the stderr from a CalledProcessError object, but if it's None (or it is a different exception), just stringify the error. (due to bug LP#2015368) :param e: the Exception that occured. :type e: Exception or derived Exception :returns: the string for the error. :rtype: str """""" try: return e.stderr.decode() except Exception: pass return str(e) "," .format(e.stderr.decode(""UTF-8"")), ""ERROR"") .format(e.stderr.decode(""UTF-8"")), ""ERROR"")",42,2
openstack%2Fmanila~master~I1f010c4ff9faf837bd50b6c2823cbc526f3a42df,openstack/manila,master,I1f010c4ff9faf837bd50b6c2823cbc526f3a42df,Report PortLimitExceeded error to customer,MERGED,2023-05-16 10:18:51.000000000,2023-05-26 12:37:10.000000000,2023-05-26 12:36:02.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 33038}]","[{'number': 1, 'created': '2023-05-16 10:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bffe82b1d45050776be4a9a1fdc26682cbf31952', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports exceeded.'),\nerror message propogated to user is not useful. Improve user message in\nthis scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 2, 'created': '2023-05-16 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb9a8695fe5395deb0bf2650e6bd5a16f2fef7d1', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 3, 'created': '2023-05-19 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2bba8318c363e7d5b6f603b68afcdc02857d1aeb', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 4, 'created': '2023-05-21 10:32:55.000000000', 'files': ['releasenotes/notes/report-PortLimitExceeded-error-to-customer-528990dc9574688f.yaml', 'manila/share/manager.py', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a372e5309821720308d13d8b597be551769e8e4f', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}]",11,883243,a372e5309821720308d13d8b597be551769e8e4f,38,6,4,32919,,,0,"Report PortLimitExceeded error to customer

When share creation fails due to missing ports quota (
'manila.exception.PortLimitExceeded: Maximum number of ports
exceeded.'), error message propogated to user is not useful.
Improve user message in this scenario.

Closes-bug: #2019846
Change-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/883243/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/message/message_field.py']",2,bffe82b1d45050776be4a9a1fdc26682cbf31952,bug/2019846," SHARE_NETWORK_PORT_QUOTA_LIMIT_EXCEEDED = ( '027', _(""Share Driver failed to create share server on share network "" ""due to port limit exceeded. You may increase quota of network "" ""ports and retry your request. If this doesn't work, contact your "" ""administrator to troubleshoot issues with your network."")) SHARE_NETWORK_PORT_QUOTA_LIMIT_EXCEEDED,",,24,0
openstack%2Fpuppet-openstack-integration~master~Ia282f148a288d8272d9f44116983d3295c31374a,openstack/puppet-openstack-integration,master,Ia282f148a288d8272d9f44116983d3295c31374a,DNM: Enable Modular libvirt in scenario 004,ABANDONED,2023-05-25 13:18:34.000000000,2023-05-26 11:56:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 13:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed8063516c71bb4679524e91f379ab7933afbd09', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 2, 'created': '2023-05-25 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb997d56709c958c61d44920ab8d78e6f63f435f', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 3, 'created': '2023-05-26 01:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/693e6d3e64ee5d50a50aa75882b4451dc7f6c712', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 4, 'created': '2023-05-26 02:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f5347b868006ad86bb3395260515560b87b69821', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 5, 'created': '2023-05-26 08:24:28.000000000', 'files': ['fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7a80ed55251e009a908e92c2a126406d231d0be7', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}]",0,884396,7a80ed55251e009a908e92c2a126406d231d0be7,11,1,5,9816,,,0,"DNM: Enable Modular libvirt in scenario 004

Change-Id: Ia282f148a288d8272d9f44116983d3295c31374a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/96/884396/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario004.pp'],1,ed8063516c71bb4679524e91f379ab7933afbd09,cephfs," $modular_libvirt = false $modular_libvirt = true libvirt_rbd => true, modular_libvirt => $modular_libvirt,"," libvirt_rbd => true,",4,1
openstack%2Fhorizon~stable%2F2023.1~I9c75b084705dfdc6df52aca1659f89444c8a1728,openstack/horizon,stable/2023.1,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-03-29 06:10:57.000000000,2023-05-26 11:53:12.000000000,2023-05-26 11:51:22.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-29 06:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d2e690467db6d8c0d0db9a370c18f0ba58bc43f', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:00:23.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a2d82b34d341a3f04b00d87b2033af81a354f7f', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,878831,5a2d82b34d341a3f04b00d87b2033af81a354f7f,15,5,2,13252,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/878831/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,9d2e690467db6d8c0d0db9a370c18f0ba58bc43f,878831,, - openstack/xstatic-font-awesome,0,1
openstack%2Fcharm-openstack-hypervisor~main~I7cc81bee023e3eeaa6eccd0d38968f3de48b86af,openstack/charm-openstack-hypervisor,main,I7cc81bee023e3eeaa6eccd0d38968f3de48b86af,Upgrade operator_libs_linux/snap to v2,MERGED,2023-05-26 10:57:09.000000000,2023-05-26 11:50:15.000000000,2023-05-26 11:50:15.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 10:57:09.000000000', 'files': ['lib/charms/operator_libs_linux/v2/snap.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/67179c2dd944edc7e2557fbdb55b8931bb137e69', 'message': 'Upgrade operator_libs_linux/snap to v2\n\noperator_libs_linux/v1/snap could not handle revisions as strings, which\nwould make deployment fail when using local revisions of any snap (x1,\nx2,...) on the target machine.\n\nChange-Id: I7cc81bee023e3eeaa6eccd0d38968f3de48b86af\n'}]",0,884478,67179c2dd944edc7e2557fbdb55b8931bb137e69,6,2,1,35761,,,0,"Upgrade operator_libs_linux/snap to v2

operator_libs_linux/v1/snap could not handle revisions as strings, which
would make deployment fail when using local revisions of any snap (x1,
x2,...) on the target machine.

Change-Id: I7cc81bee023e3eeaa6eccd0d38968f3de48b86af
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/78/884478/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/operator_libs_linux/v2/snap.py', 'src/charm.py']",2,67179c2dd944edc7e2557fbdb55b8931bb137e69,upgrade-snap-lib,import charms.operator_libs_linux.v2.snap as snap,import charms.operator_libs_linux.v1.snap as snap,14,14
openstack%2Fovn-octavia-provider~master~Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,openstack/ovn-octavia-provider,master,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-04-18 11:13:36.000000000,2023-05-26 11:22:03.000000000,2023-05-26 11:21:06.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-18 11:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/88c1079a821b024f537f6100c594774a69967752', 'message': 'Apply admin_state_up on a new member creation\n\nWhen a new member is added, if it is done with a admin_state_up to\nFalse, the member should not take part on the request balancing\nover the LB VIP, although Octavia API applies the member\noperation_status well, but the member receives requests.\n\nThis patch fix this issue, not adding the member to the vips, at\nthis way request over LB VIP are not taking that member as a\ncandidate.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n'}, {'number': 2, 'created': '2023-04-18 12:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d9c827fde44058731fdd50baeba9ecc7412dcd4a', 'message': 'Apply admin_state_up on a new member creation\n\nWhen a new member is added, if it is done with a admin_state_up to\nFalse, the member should not take part on the request balancing\nover the LB VIP, although Octavia API applies the member\noperation_status well, but the member receives requests.\n\nThis patch fix this issue, not adding the member to the vips, at\nthis way request over LB VIP are not taking that member as a\ncandidate.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n'}, {'number': 3, 'created': '2023-04-19 09:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/35083393ad887d3c86c0d74efd1a5eef5f39c357', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False, they should not participate in load balancing requests over the LB VIP. However, the member still receives requests, even though the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips (at\nOVN NB) so that request over LB VIP are not taking into account that member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 4, 'created': '2023-04-19 11:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/383541a194c6366ef06151aea463eb9a9dfd6d69', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False, they should not participate in load balancing requests over the LB VIP. However, the member still receives requests, even though the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips (at\nOVN NB) so that request over LB VIP are not taking into account that member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 5, 'created': '2023-05-10 12:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b10fb3741824bb0f24c6f2ea99c321bfa120a261', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 6, 'created': '2023-05-25 11:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/111abca837ea44e69f3026e3fb0c5c655dc4bbe0', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 7, 'created': '2023-05-26 06:43:02.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/01309d067c800c3bb07978c1db7e62a1c8b49a73', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}]",16,880737,01309d067c800c3bb07978c1db7e62a1c8b49a73,36,4,7,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/37/880737/7 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,88c1079a821b024f537f6100c594774a69967752,880737," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",26,10
openstack%2Fskyline-console~master~I9b82c4624826854d40d11da4e6ce4a9137b86085,openstack/skyline-console,master,I9b82c4624826854d40d11da4e6ce4a9137b86085,feat: update color variables,MERGED,2023-05-24 08:49:26.000000000,2023-05-26 11:01:25.000000000,2023-05-26 11:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-05-24 08:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/33fb39b1431d2949534b9761a124adba04b11a64', 'message': 'feat: update color variables\n\nUse color variables to set color in less and jsx, this makes it easy to change the theme for all pages.\n\nChange-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085\n'}, {'number': 2, 'created': '2023-05-25 08:45:21.000000000', 'files': ['src/pages/monitor/containers/Overview/components/Tops/index.jsx', 'src/components/ProjectProgress/index.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.jsx', '.eslintrc', 'src/layouts/Base/index.less', 'src/resources/prometheus/monitoring.js', 'src/components/FormItem/Upload/index.jsx', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.less', 'src/components/Tables/SimpleTable/index.jsx', 'src/containers/List/index.less', 'src/components/Cards/NotFound/index.less', 'src/components/Tables/Base/index.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/monitor/containers/OpenstackService/Services.jsx', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', '.stylelintrc.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/components/QuotaChart/Ring.jsx', 'src/core/index.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/auth/containers/Login/index.less', 'src/pages/monitor/containers/PhysicalNode/index.jsx', 'src/components/Progress/index.jsx', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/components/Notify/index.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/components/Loading/index.jsx', 'src/components/Form/index.less', 'src/pages/auth/containers/ChangePassword/index.less', 'src/components/DetailCard/index.less', 'src/styles/base.less', 'src/styles/variables.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ec59419f4fd698523aa9b8718b8bd5d490b2464d', 'message': 'feat: update color variables\n\nUse color variables to set color in less and jsx, this makes it easy to change the theme for all pages.\n\nChange-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085\n'}]",1,884010,ec59419f4fd698523aa9b8718b8bd5d490b2464d,11,2,2,30434,,,0,"feat: update color variables

Use color variables to set color in less and jsx, this makes it easy to change the theme for all pages.

Change-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/884010/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/monitor/containers/Overview/components/Tops/index.jsx', 'src/components/ProjectProgress/index.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.jsx', '.eslintrc', 'src/layouts/Base/index.less', 'src/resources/prometheus/monitoring.js', 'src/components/FormItem/Upload/index.jsx', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.less', 'src/components/Tables/SimpleTable/index.jsx', 'src/containers/List/index.less', 'src/components/Cards/NotFound/index.less', 'src/components/Tables/Base/index.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/monitor/containers/OpenstackService/Services.jsx', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', '.stylelintrc.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/components/QuotaChart/Ring.jsx', 'src/core/index.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/auth/containers/Login/index.less', 'src/pages/monitor/containers/PhysicalNode/index.jsx', 'src/components/Progress/index.jsx', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/components/Notify/index.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/components/Loading/index.jsx', 'src/components/Form/index.less', 'src/pages/auth/containers/ChangePassword/index.less', 'src/components/DetailCard/index.less', 'src/styles/base.less', 'src/styles/variables.less']",36,33fb39b1431d2949534b9761a124adba04b11a64,color,@info-color: @blue-2;@warn-light-color: #f6b23d; @warn-dark-color: #fa8c16; /* login */ @login-error: #a43a39; @money-color: #f50; :export { primaryColor: @primary-color; successColor: @success-color; warnColor: @warn-color; warnDarkColor: @warn-dark-color; warnLightColor: @warn-light-color; errorColor: @error-color; dangerColor: @danger-color; moneyColor: @money-color; infoColor: @info-color; },,130,74
openstack%2Fansible-collections-openstack~master~I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707,openstack/ansible-collections-openstack,master,I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707,Shared file system module,NEW,2023-05-15 18:45:02.000000000,2023-05-26 10:51:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 18:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/72f97bd26a8ce1b69de333d6863ad9a061fabbcf', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 2, 'created': '2023-05-15 19:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ff3353245cc65c47c5bc2799536716a9c4a2d28d', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 3, 'created': '2023-05-16 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d7f957b8e5c004c174a9ab7a5d3c9ca188128cf3', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 4, 'created': '2023-05-16 10:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e606d1e2bb3e4f33dd44029e97aa446f44a3690a', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 5, 'created': '2023-05-16 11:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a55e52c65fd85aa82ac53c3cbceb6c37152d7310', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 6, 'created': '2023-05-16 12:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1a35ae52eccceb22a0d9aea56348dd7f00f6e3fa', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 7, 'created': '2023-05-16 13:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c34935b4b8f9c9dee404fac373a9bc39a2bcac13', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 8, 'created': '2023-05-19 08:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/01cc6f602ae2aad103520dedd4daa69e25ee8483', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 9, 'created': '2023-05-19 10:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/834aa428f5666cb08e65a4aec85ec12973b3d247', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 10, 'created': '2023-05-26 09:25:28.000000000', 'files': ['ci/roles/share/tasks/main.yml', 'meta/runtime.yml', 'plugins/modules/share.py', 'ci/run-collection.yml', 'ci/roles/share/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7078e72cd4c2cb86e4d309c754cfbf906621fff4', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}]",6,883201,7078e72cd4c2cb86e4d309c754cfbf906621fff4,19,1,10,32787,,,0,"Shared file system module

Change-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/01/883201/9 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/share/tasks/main.yml', 'meta/runtime.yml', 'plugins/modules/share.py', 'ci/run-collection.yml', 'ci/roles/share/defaults/main.yml']",5,72f97bd26a8ce1b69de333d6863ad9a061fabbcf,sfs,,,400,0
openstack%2Ftempest~master~I5aee6c831abeb404c98751034903fd4d4ac9f47f,openstack/tempest,master,I5aee6c831abeb404c98751034903fd4d4ac9f47f,Add request id to logs if we get a timeout.,MERGED,2023-05-10 12:48:28.000000000,2023-05-26 10:49:13.000000000,2023-05-26 10:48:12.000000000,"[{'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-10 12:48:28.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be79b46bb5b81cd433e780b12d96744434e82125', 'message': 'Add request id to logs if we get a timeout.\n\nThis patch includes the request ID in the logs to aid in identifying issues\nrelated to timeouts when unshelving an instance.\n\nRelated-Bug: #2016967\nChange-Id: I5aee6c831abeb404c98751034903fd4d4ac9f47f\n'}]",10,882822,be79b46bb5b81cd433e780b12d96744434e82125,18,5,1,16207,,,0,"Add request id to logs if we get a timeout.

This patch includes the request ID in the logs to aid in identifying issues
related to timeouts when unshelving an instance.

Related-Bug: #2016967
Change-Id: I5aee6c831abeb404c98751034903fd4d4ac9f47f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/882822/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,be79b46bb5b81cd433e780b12d96744434e82125,bug/2016967," body = self.client.unshelve_server(self.server_id) waiters.wait_for_server_status( self.client, self.server_id, ""ACTIVE"", request_id=body.response[""x-openstack-request-id""], )"," self.client.unshelve_server(self.server_id) waiters.wait_for_server_status(self.client, self.server_id, 'ACTIVE')",7,2
openstack%2Fcharm-nova-cloud-controller~stable%2Fvictoria~I13d0c332cd0b110344b7a1645e3e4fd250fce33a,openstack/charm-nova-cloud-controller,stable/victoria,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:41.000000000,2023-05-26 10:39:04.000000000,2023-05-26 10:39:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:41.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4d010253584738ccafb98411746b35d73bdead72', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)\n'}]",5,880750,4d010253584738ccafb98411746b35d73bdead72,16,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/50/880750/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,4d010253584738ccafb98411746b35d73bdead72,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fwallaby~I13d0c332cd0b110344b7a1645e3e4fd250fce33a,openstack/charm-nova-cloud-controller,stable/wallaby,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:35.000000000,2023-05-26 10:39:03.000000000,2023-05-26 10:39:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:35.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b137e2bbfc3b4020bf5d068bcea043617daf1d2e', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n'}]",4,880749,b137e2bbfc3b4020bf5d068bcea043617daf1d2e,15,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/49/880749/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,b137e2bbfc3b4020bf5d068bcea043617daf1d2e,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I13d0c332cd0b110344b7a1645e3e4fd250fce33a,openstack/charm-nova-cloud-controller,stable/xena,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:30.000000000,2023-05-26 10:39:02.000000000,2023-05-26 10:39:02.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:30.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5e61cb90332a11c84ad9089cec167bb708a6571c', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n'}]",3,880748,5e61cb90332a11c84ad9089cec167bb708a6571c,13,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/48/880748/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,5e61cb90332a11c84ad9089cec167bb708a6571c,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcinder~master~Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c,openstack/cinder,master,Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c,Automate generation of backups api-ref samples,MERGED,2022-10-15 12:05:39.000000000,2023-05-26 10:11:46.000000000,2023-05-25 21:17:15.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-10-15 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bf62815b08469fb7093d15a8876efb5bf5bc288', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 2, 'created': '2022-10-15 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/336233e91b402332b9bf0917141bf275206effed', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 3, 'created': '2022-10-15 13:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b0d4f861d91b8e8851e58f07f26ea3f0d257e74', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 4, 'created': '2022-10-19 01:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23971e6a473da0b515453aa693058a7d9450e7dd', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 5, 'created': '2022-10-23 01:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77ec811858416c25033572d104b82613960926c7', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 6, 'created': '2022-10-30 00:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c9feceaf47ba204a40590652573ee16524f7070', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup list\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 7, 'created': '2022-11-04 15:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54618984ee9ab3ee624b1f8cb45fa99242cbf346', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup list\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 8, 'created': '2022-11-04 17:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6839b96949c4e6af147d3b8989d246e782302c43', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 9, 'created': '2022-11-04 17:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d12f4bd2a312bca145a21c8353ac175f146ba368', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 10, 'created': '2022-11-08 14:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb097b43f98cc7fbaa108927418407d72691cc85', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 11, 'created': '2023-04-02 07:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e612282c0512494c15c68f77fa5063a63e9b747', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 12, 'created': '2023-05-23 15:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2346642e91200b1557071582c3fd8bd3c086d3a', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 13, 'created': '2023-05-24 09:36:23.000000000', 'files': ['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed2115a6f3e03f99fa99f071f686ad1467698a24', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}]",49,861491,ed2115a6f3e03f99fa99f071f686ad1467698a24,186,4,13,35301,,,0,"Automate generation of backups api-ref samples

This patch adds the following tests:

1) Backup create

Partially-Implements: blueprint generating-sample-files

Change-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/861491/13 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/functional/api_sample_tests/test_backups.py'],1,0bf62815b08469fb7093d15a8876efb5bf5bc288,bp/generating-sample-files,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder.tests.functional import api_samples_test_base as test_base class BackupClassesSampleJsonTest(test_base.VolumesSampleBase): sample_dir = ""backups"" def setUp(self): super(BackupClassesSampleJonTest, self).setUp() def test_backup_type_create(self): response = self._backup_type_create() self._verify_response('backup-type-create-response', self.subs, response, 200) # def test_quota_classes_show(self): # response = self._do_get('os-quota-class-sets/test_class') # self._verify_response('quota-classes-show-response', {}, # response, 200) # def test_quotas_update(self): # response = self._do_put('os-quota-class-sets/test_class', # 'quota-classes-update-request') # self._verify_response('quota-classes-update-response', {}, # response, 200) ",,37,0
openstack%2Fkolla~master~I2e10f0aceb2eec74870d68311d14edd5672f702a,openstack/kolla,master,I2e10f0aceb2eec74870d68311d14edd5672f702a,Update master for stable/2023.1,MERGED,2023-05-26 08:40:40.000000000,2023-05-26 10:05:12.000000000,2023-05-26 10:04:05.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:40:40.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e1b28022f2838d689312db32efe1475dca5be89', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I2e10f0aceb2eec74870d68311d14edd5672f702a\n'}]",0,884470,9e1b28022f2838d689312db32efe1475dca5be89,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I2e10f0aceb2eec74870d68311d14edd5672f702a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/884470/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,9e1b28022f2838d689312db32efe1475dca5be89,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkolla~stable%2F2023.1~I4283a66c01a05cbaa01508a710decc3ebe779683,openstack/kolla,stable/2023.1,I4283a66c01a05cbaa01508a710decc3ebe779683,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-26 08:40:36.000000000,2023-05-26 10:04:34.000000000,2023-05-26 10:03:19.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:40:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fe4642524e12d6891b7c4c55910c08c871a7fb3', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4283a66c01a05cbaa01508a710decc3ebe779683\n'}]",0,884469,4fe4642524e12d6891b7c4c55910c08c871a7fb3,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4283a66c01a05cbaa01508a710decc3ebe779683
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/884469/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4fe4642524e12d6891b7c4c55910c08c871a7fb3,create-2023.1,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fkolla~stable%2F2023.1~I383f439ff5581804f539513d6dab0ea41a21e6ea,openstack/kolla,stable/2023.1,I383f439ff5581804f539513d6dab0ea41a21e6ea,Update .gitreview for stable/2023.1,MERGED,2023-05-26 08:40:33.000000000,2023-05-26 10:03:41.000000000,2023-05-26 10:02:47.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:40:33.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla/commit/698eff7dcd23382e3dd1a24cecc8a7957230e305', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I383f439ff5581804f539513d6dab0ea41a21e6ea\n'}]",0,884468,698eff7dcd23382e3dd1a24cecc8a7957230e305,9,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I383f439ff5581804f539513d6dab0ea41a21e6ea
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/884468/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,698eff7dcd23382e3dd1a24cecc8a7957230e305,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fkolla-ansible~master~I870c0569a1e175ac5df59fc495812ba81c5147e6,openstack/kolla-ansible,master,I870c0569a1e175ac5df59fc495812ba81c5147e6,Update master for stable/2023.1,MERGED,2023-05-26 08:39:43.000000000,2023-05-26 09:55:43.000000000,2023-05-26 09:54:11.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:39:43.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b26d25eb479c5b73b8660365cde22a184dc028f1', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I870c0569a1e175ac5df59fc495812ba81c5147e6\n'}]",0,884467,b26d25eb479c5b73b8660365cde22a184dc028f1,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I870c0569a1e175ac5df59fc495812ba81c5147e6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/884467/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,b26d25eb479c5b73b8660365cde22a184dc028f1,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkolla-ansible~stable%2F2023.1~Ic9027ee550176555249b5acf22cdd78052443cf7,openstack/kolla-ansible,stable/2023.1,Ic9027ee550176555249b5acf22cdd78052443cf7,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-26 08:39:39.000000000,2023-05-26 09:55:40.000000000,2023-05-26 09:54:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:39:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87dc6dcb363ce75f7851916484e36c13b02942c2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic9027ee550176555249b5acf22cdd78052443cf7\n'}]",0,884466,87dc6dcb363ce75f7851916484e36c13b02942c2,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic9027ee550176555249b5acf22cdd78052443cf7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/884466/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,87dc6dcb363ce75f7851916484e36c13b02942c2,create-2023.1,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fkolla-ansible~stable%2F2023.1~I9367ccb2c55b5d39dc22983788b619318110d545,openstack/kolla-ansible,stable/2023.1,I9367ccb2c55b5d39dc22983788b619318110d545,Update .gitreview for stable/2023.1,MERGED,2023-05-26 08:39:35.000000000,2023-05-26 09:51:43.000000000,2023-05-26 09:50:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:39:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a58f63c48f1ccfd28bfdc485552db1bae01c0c42', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I9367ccb2c55b5d39dc22983788b619318110d545\n'}]",0,884465,a58f63c48f1ccfd28bfdc485552db1bae01c0c42,8,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I9367ccb2c55b5d39dc22983788b619318110d545
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/884465/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a58f63c48f1ccfd28bfdc485552db1bae01c0c42,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fcharm-cinder-infinidat~main~I936cf868aa14ac128a9b99efc0e35763816ba511,openstack/charm-cinder-infinidat,main,I936cf868aa14ac128a9b99efc0e35763816ba511,Add default value to install_keys,NEW,2023-05-25 11:11:59.000000000,2023-05-26 09:47:06.000000000,,"[{'_account_id': 15382}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 11:11:59.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/0c1f40e983cb928edc9dd37bde48cf7ba9ad2078', 'message': 'Add default value to install_keys\n\nChange-Id: I936cf868aa14ac128a9b99efc0e35763816ba511\n'}]",1,884358,0c1f40e983cb928edc9dd37bde48cf7ba9ad2078,3,2,1,30110,,,0,"Add default value to install_keys

Change-Id: I936cf868aa14ac128a9b99efc0e35763816ba511
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/58/884358/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,0c1f40e983cb928edc9dd37bde48cf7ba9ad2078,fix-install-keys-default, default: | -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1.4.11 (GNU/Linux) mQENBFESDRIBCADMR7MQMbH4GdCQqfrOMt35MhBwwH4wv9kb1WRSTxa0CmuzYaBB 1nJ0nLaMAwHsEr9CytPWDpMngm/3nt+4F2hJcsOEkQkqeJ31gScJewM+AOUV3DEl qOeXXYLcP+jUY6pPjlZpOw0p7moUQPXHn+7amVrk7cXGQ8O3B+5a5wjN86LT2hlX DlBlV5bX/DYluiPUbvQLOknmwO53KpaeDeZc4a8iIOCYWu2ntuAMddBkTps0El5n JJZMTf6os2ZzngWMZRMDiVJgqVRi2b+8SgFQlQy0cAmne/mpgPrRq0ZMX3DokGG5 hnIg1mF82laTxd+9qtiOxupzJqf8mncQHdaTABEBAAG0IWFwcF9yZXBvIChDb21t ZW50KSA8bm9AZW1haWwuY29tPokBOAQTAQIAIgUCURINEgIbLwYLCQgHAwIGFQgC CQoLBBYCAwECHgECF4AACgkQem2D/j05RYSrcggAsCc4KppV/SZX5XI/CWFXIAXw +HaNsh2EwYKf9DhtoGbTOuwePvrPGcgFYM3Tu+m+rziPnnFl0bs0xwQyNEVQ9yDw t465pSgmXwEHbBkoISV1e4WYtZAsnTNne9ieJ49Ob/WY4w3AkdPRK/41UP5Ct6lR HHRXrSWJYHVq5Rh6BakRuMJyJLz/KvcJAaPkA4U6VrPD7PFtSecMTaONPjGCcomq b7q84G5ZfeJWb742PWBTS8fJdC+Jd4y5fFdJS9fQwIo52Ff9In2QBpJt5Wdc02SI fvQnuh37D2P8OcIfMxMfoFXpAMWjrMYc5veyQY1GXD/EOkfjjLne6qWPLfNojA== =w5Os -----END PGP PUBLIC KEY BLOCK-----,,19,0
openstack%2Fansible-collection-kolla~stable%2F2023.1~I6f2064d38de6c9fb7480813f4aae118a4286b77e,openstack/ansible-collection-kolla,stable/2023.1,I6f2064d38de6c9fb7480813f4aae118a4286b77e,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-26 08:38:45.000000000,2023-05-26 09:00:05.000000000,2023-05-26 08:58:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:38:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/8d37dee4bf4d2a7b555e3f542836d2ba5d563b88', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6f2064d38de6c9fb7480813f4aae118a4286b77e\n'}]",0,884463,8d37dee4bf4d2a7b555e3f542836d2ba5d563b88,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6f2064d38de6c9fb7480813f4aae118a4286b77e
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/63/884463/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8d37dee4bf4d2a7b555e3f542836d2ba5d563b88,create-2023.1,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fansible-collection-kolla~master~Ic0c2f493331c62112855105edfe9ebfff6dd729c,openstack/ansible-collection-kolla,master,Ic0c2f493331c62112855105edfe9ebfff6dd729c,Update master for stable/2023.1,MERGED,2023-05-26 08:38:48.000000000,2023-05-26 08:59:27.000000000,2023-05-26 08:58:30.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:38:48.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/a9be29b9270213d47517f54b524d41b5b21cc083', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: Ic0c2f493331c62112855105edfe9ebfff6dd729c\n'}]",0,884464,a9be29b9270213d47517f54b524d41b5b21cc083,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: Ic0c2f493331c62112855105edfe9ebfff6dd729c
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/64/884464/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,a9be29b9270213d47517f54b524d41b5b21cc083,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fansible-collection-kolla~stable%2F2023.1~I251e3d0ef7e140318f38d70ceb69abe3f87e196b,openstack/ansible-collection-kolla,stable/2023.1,I251e3d0ef7e140318f38d70ceb69abe3f87e196b,Update .gitreview for stable/2023.1,MERGED,2023-05-26 08:38:42.000000000,2023-05-26 08:59:21.000000000,2023-05-26 08:58:28.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:38:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/313ad234809c2f212f8c7e00a7aca856cf7d07b9', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I251e3d0ef7e140318f38d70ceb69abe3f87e196b\n'}]",0,884462,313ad234809c2f212f8c7e00a7aca856cf7d07b9,8,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I251e3d0ef7e140318f38d70ceb69abe3f87e196b
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/62/884462/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,313ad234809c2f212f8c7e00a7aca856cf7d07b9,create-2023.1,defaultbranch=stable/2023.1,defaultbranch=master,1,1
openstack%2Fopenstacksdk~master~Ide9b61ef2b66fe278e74e6404caf93a00362df33,openstack/openstacksdk,master,Ide9b61ef2b66fe278e74e6404caf93a00362df33,tests: Isolate tests from OS_CLOUD,MERGED,2023-05-25 11:54:21.000000000,2023-05-26 08:53:38.000000000,2023-05-26 01:40:19.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 11:54:21.000000000', 'files': ['openstack/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/68ecfaccaeadaeb7bd1b2df27d3f71b76e0799e6', 'message': ""tests: Isolate tests from OS_CLOUD\n\nCurrently, if you run unit tests when the OS_CLOUD envvar is set, a\nnumber of tests will fail because the cloud doesn't exist in the\nclouds.yaml file that the tests are creating and using. Resolve this by\nunsetting the variable.\n\nChange-Id: Ide9b61ef2b66fe278e74e6404caf93a00362df33\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,884367,68ecfaccaeadaeb7bd1b2df27d3f71b76e0799e6,10,3,1,15334,,,0,"tests: Isolate tests from OS_CLOUD

Currently, if you run unit tests when the OS_CLOUD envvar is set, a
number of tests will fail because the cloud doesn't exist in the
clouds.yaml file that the tests are creating and using. Resolve this by
unsetting the variable.

Change-Id: Ide9b61ef2b66fe278e74e6404caf93a00362df33
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/884367/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/base.py'],1,68ecfaccaeadaeb7bd1b2df27d3f71b76e0799e6,trivial," self.os_cloud_fixture = self.useFixture( fixtures.EnvironmentVariable('OS_CLOUD'), ) cloud_path = os.path.join( 'clouds',", cloud_path = '%s/clouds/%s' % (,5,1
openstack%2Fswift~master~I1423016ef3afd23b82998e4437f3e4a1b9efc06c,openstack/swift,master,I1423016ef3afd23b82998e4437f3e4a1b9efc06c,Prepare tracing by adding a WSGI mixin for middlewares,NEW,2021-06-24 07:42:36.000000000,2023-05-26 08:43:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 07:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2f1de749f1471b35b18f7dba3f96f7e84a312258', 'message': ""WIP: Middleware tracing by chosen request\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is adding a base\nMiddleware class that pretty much noop unless it sees a special value in\nthe requiest eviron. if it does it'll start collecting some extra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on a middleware by middleware basis, say like decryption time with\nsomething like:\n\n  self.trace_add('decryption_time', time)\n\nBasic idea ss we can provide trace_sig which will be a HMAC from some trace\nkey (maybe set in contraints so swift.conf) and time. If it passes it'll set\nTRACE_ACTIVATED_KEY into environ, triggering extra data to be collected.\nNot sure what will do this a new middleware or gatekeeper???\nand on it's way back it'll call the dump method to dump the extra data as\njson somewhere, maybe same place as the recons with the txid and date as\npart of the name. This way an SRE can generate a trace_sig, give it to a\nuser and ask them to include it as a query param, and we  should get a\nbunch more info.\n\nThis is just something I'm playing with, this is more of a POC atm. And\nthis patch is only setting up some of the infrastructure. Mainly getting\nit off my computer (in a non tested state) and to provoke discussions?\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 2, 'created': '2021-06-24 09:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9cd647d96b168f58e423f718bcedaa6e5c22ed3a', 'message': 'WIP: Middleware tracing by chosen request\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is adding a base\nMiddleware class that pretty much noop unless it sees a special value in\nthe requiest eviron. if it does it\'ll start collecting some extra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on a middleware by middleware basis, say like decryption time with\nsomething like:\n\n  self.trace_add(\'decryption_time\', time)\n\nBasic idea ss we can provide trace_sig which will be a HMAC from some trace\nkey (maybe set in contraints so swift.conf) and time. If it passes it\'ll set\nTRACE_ACTIVATED_KEY into environ, triggering extra data to be collected.\nNot sure what will do this a new middleware or gatekeeper???\nand on it\'s way back it\'ll call the dump method to dump the extra data as\njson somewhere, maybe same place as the recons with the txid and date as\npart of the name. This way an SRE can generate a trace_sig, give it to a\nuser and ask them to include it as a query param, and we  should get a\nbunch more info.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\n$ cat /tmp/tx09e33a7140a54b63ae5a1-0060d44f9a.yml |python -mjson.tool\n{\n    ""Bulk"": {\n        ""enter"": 1624526746.742831,\n        ""leave"": 1624526746.893054\n    },\n    ""Decrypter"": {\n        ""enter"": 1624526746.776213,\n        ""leave"": 1624526746.893031\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 1624526746.743038,\n        ""leave"": 1624526746.893048\n    },\n    ""Encrypter"": {\n        ""enter"": 1624526746.776221,\n        ""leave"": 1624526746.893029\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 1624526746.742324,\n        ""leave"": 1624526746.893067\n    },\n    ""KeyMaster"": {\n        ""enter"": 1624526746.776195,\n        ""leave"": 1624526746.893035\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 1624526746.74278,\n        ""leave"": 1624526746.893056\n    },\n    ""ListingFilter"": {\n        ""enter"": 1624526746.742713,\n        ""leave"": 1624526746.89306\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 1624526746.742691,\n        ""leave"": 1624526746.893062\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 1624526746.776068,\n        ""leave"": 1624526746.893044\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 1624526746.776227,\n        ""leave"": 1624526746.893066\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 1624526746.742533,\n        ""leave"": 1624526746.893064\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 1624526746.742931,\n        ""leave"": 1624526746.893049\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 1624526746.77616,\n        ""leave"": 1624526746.893042\n    },\n    ""TempURL"": {\n        ""enter"": 1624526746.742885,\n        ""leave"": 1624526746.893051\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 1624526746.743102,\n        ""leave"": 1624526746.893046\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware""\n    ]\n}\n\nThis is just something I\'m playing with, this is more of a POC atm. And\nthis patch is only setting up some of the infrastructure. Mainly getting\nit off my computer (in a non tested state) and to provoke discussions?\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 3, 'created': '2021-06-25 00:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11f9ce3fdc3bea5514eb62506f6b715ea00cb5d1', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\n$ cat /tmp/tx09e33a7140a54b63ae5a1-0060d44f9a.yml |python -mjson.tool\n{\n    ""Application"": {\n        ""enter"": 1624580569.034272,\n        ""leave"": 1624580569.138473\n    },\n    ""Bulk"": {\n        ""enter"": 1624580569.004286,\n        ""leave"": 1624580569.138502\n    },\n    ""Decrypter"": {\n        ""enter"": 1624580569.034251,\n        ""leave"": 1624580569.138479\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 1624580569.004367,\n        ""leave"": 1624580569.138496\n    },\n    ""Encrypter"": {\n        ""enter"": 1624580569.034258,\n        ""leave"": 1624580569.138478\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 1624580569.004037,\n        ""leave"": 1624580569.138516\n    },\n    ""KeyMaster"": {\n        ""enter"": 1624580569.034231,\n        ""leave"": 1624580569.138484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 1624580569.004273,\n        ""leave"": 1624580569.138504\n    },\n    ""ListingFilter"": {\n        ""enter"": 1624580569.004229,\n        ""leave"": 1624580569.138509\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 1624580569.004219,\n        ""leave"": 1624580569.13851\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 1624580569.034107,\n        ""leave"": 1624580569.138493\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 1624580569.034265,\n        ""leave"": 1624580569.138515\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 1624580569.004148,\n        ""leave"": 1624580569.138512\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 1624580569.004333,\n        ""leave"": 1624580569.138498\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 1624580569.034197,\n        ""leave"": 1624580569.138491\n    },\n    ""TempURL"": {\n        ""enter"": 1624580569.004312,\n        ""leave"": 1624580569.1385\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 1624580569.004393,\n        ""leave"": 1624580569.138495\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ]\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThis is just something I\'m playing with, this is more of a POC atm. And\nthis patch is only setting up some of the infrastructure. Mainly getting\nit off my computer (in a non tested state) and to provoke discussions?\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 4, 'created': '2021-06-25 02:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/36cdbd2f739c28a7ee0b7b929b4dc73669d1ea3d', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\n$ cat /tmp/tx09e33a7140a54b63ae5a1-0060d44f9a.yml |python -mjson.tool\n{\n    ""Application"": {\n        ""enter"": 1624580569.034272,\n        ""leave"": 1624580569.138473\n    },\n    ""Bulk"": {\n        ""enter"": 1624580569.004286,\n        ""leave"": 1624580569.138502\n    },\n    ""Decrypter"": {\n        ""enter"": 1624580569.034251,\n        ""leave"": 1624580569.138479\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 1624580569.004367,\n        ""leave"": 1624580569.138496\n    },\n    ""Encrypter"": {\n        ""enter"": 1624580569.034258,\n        ""leave"": 1624580569.138478\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 1624580569.004037,\n        ""leave"": 1624580569.138516\n    },\n    ""KeyMaster"": {\n        ""enter"": 1624580569.034231,\n        ""leave"": 1624580569.138484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 1624580569.004273,\n        ""leave"": 1624580569.138504\n    },\n    ""ListingFilter"": {\n        ""enter"": 1624580569.004229,\n        ""leave"": 1624580569.138509\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 1624580569.004219,\n        ""leave"": 1624580569.13851\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 1624580569.034107,\n        ""leave"": 1624580569.138493\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 1624580569.034265,\n        ""leave"": 1624580569.138515\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 1624580569.004148,\n        ""leave"": 1624580569.138512\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 1624580569.004333,\n        ""leave"": 1624580569.138498\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 1624580569.034197,\n        ""leave"": 1624580569.138491\n    },\n    ""TempURL"": {\n        ""enter"": 1624580569.004312,\n        ""leave"": 1624580569.1385\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 1624580569.004393,\n        ""leave"": 1624580569.138495\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ]\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThis is just something I\'m playing with, this is more of a POC atm. And\nthis patch is only setting up some of the infrastructure. Mainly getting\nit off my computer (in a non tested state) and to provoke discussions?\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 5, 'created': '2021-06-27 04:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c024fd04d7ee3b26bc622f80454358c5ef975654', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n    ""Application"": {\n        ""enter"": 0.028039932250976562,\n        ""error_limiting"": {\n            ""error_suppression_limit"": 10\n        },\n        ""leave"": 0.12035608291625977\n    },\n    ""Bulk"": {\n        ""enter"": 0.00038814544677734375,\n        ""leave"": 0.12038803100585938\n    },\n    ""Decrypter"": {\n        ""enter"": 0.028018951416015625,\n        ""leave"": 0.1203620433807373\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 0.00055694580078125,\n        ""leave"": 0.12038111686706543\n    },\n    ""Encrypter"": {\n        ""enter"": 0.028028011322021484,\n        ""leave"": 0.1203610897064209\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 3.0994415283203125e-06,\n        ""leave"": 0.12040400505065918\n    },\n    ""KeyMaster"": {\n        ""enter"": 0.02799391746520996,\n        ""leave"": 0.12036800384521484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 0.0003581047058105469,\n        ""leave"": 0.1203911304473877\n    },\n    ""ListingFilter"": {\n        ""enter"": 0.0002999305725097656,\n        ""leave"": 0.12039613723754883\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 0.0002789497375488281,\n        ""leave"": 0.12039804458618164\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 0.02788710594177246,\n        ""leave"": 0.1203770637512207\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 0.02803492546081543,\n        ""leave"": 0.12040209770202637\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 0.0001780986785888672,\n        ""leave"": 0.12039995193481445\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 0.00049591064453125,\n        ""leave"": 0.12038397789001465\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 0.02796196937561035,\n        ""leave"": 0.12037396430969238\n    },\n    ""TempURL"": {\n        ""enter"": 0.0004420280456542969,\n        ""leave"": 0.12038612365722656\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 0.0005919933319091797,\n        ""leave"": 0.12037897109985352\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ],\n    ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nAdditions in this version, the application (proxy) now includes it\'s\nview on error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 6, 'created': '2021-06-28 02:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0ddc0f04d8b7a670576376471e5692b743ac7c0', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n    ""Application"": {\n        ""enter"": 0.028039932250976562,\n        ""error_limiting"": {\n            ""error_suppression_limit"": 10\n        },\n        ""leave"": 0.12035608291625977\n    },\n    ""Bulk"": {\n        ""enter"": 0.00038814544677734375,\n        ""leave"": 0.12038803100585938\n    },\n    ""Decrypter"": {\n        ""enter"": 0.028018951416015625,\n        ""leave"": 0.1203620433807373\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 0.00055694580078125,\n        ""leave"": 0.12038111686706543\n    },\n    ""Encrypter"": {\n        ""enter"": 0.028028011322021484,\n        ""leave"": 0.1203610897064209\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 3.0994415283203125e-06,\n        ""leave"": 0.12040400505065918\n    },\n    ""KeyMaster"": {\n        ""enter"": 0.02799391746520996,\n        ""leave"": 0.12036800384521484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 0.0003581047058105469,\n        ""leave"": 0.1203911304473877\n    },\n    ""ListingFilter"": {\n        ""enter"": 0.0002999305725097656,\n        ""leave"": 0.12039613723754883\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 0.0002789497375488281,\n        ""leave"": 0.12039804458618164\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 0.02788710594177246,\n        ""leave"": 0.1203770637512207\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 0.02803492546081543,\n        ""leave"": 0.12040209770202637\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 0.0001780986785888672,\n        ""leave"": 0.12039995193481445\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 0.00049591064453125,\n        ""leave"": 0.12038397789001465\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 0.02796196937561035,\n        ""leave"": 0.12037396430969238\n    },\n    ""TempURL"": {\n        ""enter"": 0.0004420280456542969,\n        ""leave"": 0.12038612365722656\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 0.0005919933319091797,\n        ""leave"": 0.12037897109985352\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ],\n    ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nAdditions in this version, the application (proxy) now includes it\'s\nview on error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 7, 'created': '2021-07-09 07:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c1721c0389f9ddd3b2309d65114bb6f61bc0d5f', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n    ""Application"": {\n        ""enter"": 0.028039932250976562,\n        ""error_limiting"": {\n            ""error_suppression_limit"": 10\n        },\n        ""leave"": 0.12035608291625977\n    },\n    ""Bulk"": {\n        ""enter"": 0.00038814544677734375,\n        ""leave"": 0.12038803100585938\n    },\n    ""Decrypter"": {\n        ""enter"": 0.028018951416015625,\n        ""leave"": 0.1203620433807373\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 0.00055694580078125,\n        ""leave"": 0.12038111686706543\n    },\n    ""Encrypter"": {\n        ""enter"": 0.028028011322021484,\n        ""leave"": 0.1203610897064209\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 3.0994415283203125e-06,\n        ""leave"": 0.12040400505065918\n    },\n    ""KeyMaster"": {\n        ""enter"": 0.02799391746520996,\n        ""leave"": 0.12036800384521484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 0.0003581047058105469,\n        ""leave"": 0.1203911304473877\n    },\n    ""ListingFilter"": {\n        ""enter"": 0.0002999305725097656,\n        ""leave"": 0.12039613723754883\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 0.0002789497375488281,\n        ""leave"": 0.12039804458618164\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 0.02788710594177246,\n        ""leave"": 0.1203770637512207\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 0.02803492546081543,\n        ""leave"": 0.12040209770202637\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 0.0001780986785888672,\n        ""leave"": 0.12039995193481445\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 0.00049591064453125,\n        ""leave"": 0.12038397789001465\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 0.02796196937561035,\n        ""leave"": 0.12037396430969238\n    },\n    ""TempURL"": {\n        ""enter"": 0.0004420280456542969,\n        ""leave"": 0.12038612365722656\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 0.0005919933319091797,\n        ""leave"": 0.12037897109985352\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ],\n    ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nAdditions in this version, the application (proxy) now includes it\'s\nview on error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 8, 'created': '2021-07-29 03:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bd6f592fd2ed795ccce78c8574ea68b2167a1e52', 'message': 'WIP: WSGI req tracing\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n  self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we can provide trace_sig which will be a HMAC from some trace\nkey and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY into environ,\ntriggering extra data to be collected.\nCurrenlty in this patch this has been added to the gatekeeper, but it\ncould be a new piece of middleware, and on it\'s way back it\'ll call the dump\nmethod to dump the extra data as json somewhere, maybe same place as the recons\nwith the txid is a part of the name.\nThis way an SRE can generate a trace_sig, give it to a user and ask them\nto include it as a query param, and we  should get a bunch more info.\n\nOr if we wanted to be more tricky we could insert \'swift.trace\' in the\nthe environ of ever x request.\n\nThis version has the gate keeper activating it, and there is no HMAC\ncheck, any value for trace_key will activate it. Current caveat is it\'s\nonly tracking proxy. Need to add an X-Backend-Middleware-Trace or\nsomething to continue the trace into the storage nodes. A random object\nPUT currently looks like (with just the enter and leaves as no\ntrace_adds have been added yet:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n    ""Application"": {\n        ""enter"": 0.028039932250976562,\n        ""error_limiting"": {\n            ""error_suppression_limit"": 10\n        },\n        ""leave"": 0.12035608291625977\n    },\n    ""Bulk"": {\n        ""enter"": 0.00038814544677734375,\n        ""leave"": 0.12038803100585938\n    },\n    ""Decrypter"": {\n        ""enter"": 0.028018951416015625,\n        ""leave"": 0.1203620433807373\n    },\n    ""DynamicLargeObject"": {\n        ""enter"": 0.00055694580078125,\n        ""leave"": 0.12038111686706543\n    },\n    ""Encrypter"": {\n        ""enter"": 0.028028011322021484,\n        ""leave"": 0.1203610897064209\n    },\n    ""HealthCheckMiddleware"": {\n        ""enter"": 3.0994415283203125e-06,\n        ""leave"": 0.12040400505065918\n    },\n    ""KeyMaster"": {\n        ""enter"": 0.02799391746520996,\n        ""leave"": 0.12036800384521484\n    },\n    ""ListEndpointsMiddleware"": {\n        ""enter"": 0.0003581047058105469,\n        ""leave"": 0.1203911304473877\n    },\n    ""ListingFilter"": {\n        ""enter"": 0.0002999305725097656,\n        ""leave"": 0.12039613723754883\n    },\n    ""MemcacheMiddleware"": {\n        ""enter"": 0.0002789497375488281,\n        ""leave"": 0.12039804458618164\n    },\n    ""ObjectVersioningMiddleware"": {\n        ""enter"": 0.02788710594177246,\n        ""leave"": 0.1203770637512207\n    },\n    ""ProxyLoggingMiddleware"": {\n        ""enter"": 0.02803492546081543,\n        ""leave"": 0.12040209770202637\n    },\n    ""ServerSideCopyMiddleware"": {\n        ""enter"": 0.0001780986785888672,\n        ""leave"": 0.12039995193481445\n    },\n    ""StaticLargeObject"": {\n        ""enter"": 0.00049591064453125,\n        ""leave"": 0.12038397789001465\n    },\n    ""SymlinkMiddleware"": {\n        ""enter"": 0.02796196937561035,\n        ""leave"": 0.12037396430969238\n    },\n    ""TempURL"": {\n        ""enter"": 0.0004420280456542969,\n        ""leave"": 0.12038612365722656\n    },\n    ""VersionedWritesMiddleware"": {\n        ""enter"": 0.0005919933319091797,\n        ""leave"": 0.12037897109985352\n    },\n    ""call_stack"": [\n        ""HealthCheckMiddleware"",\n        ""ProxyLoggingMiddleware"",\n        ""ServerSideCopyMiddleware"",\n        ""MemcacheMiddleware"",\n        ""ListingFilter"",\n        ""ListEndpointsMiddleware"",\n        ""Bulk"",\n        ""TempURL"",\n        ""StaticLargeObject"",\n        ""DynamicLargeObject"",\n        ""VersionedWritesMiddleware"",\n        ""ObjectVersioningMiddleware"",\n        ""SymlinkMiddleware"",\n        ""KeyMaster"",\n        ""Decrypter"",\n        ""Encrypter"",\n        ""ProxyLoggingMiddleware"",\n        ""Application""\n    ],\n    ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nAdditions in this version, the application (proxy) now includes it\'s\nview on error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 9, 'created': '2021-08-16 04:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2acc9dc7dcac14a86b51f8b433b9d6848bf34c30', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 10, 'created': '2021-08-25 06:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a108e11b1f97cb889508a5e87a1e3ac6b70b01ca', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 11, 'created': '2021-10-17 23:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6b55bc58d770538c54ee8a0497dd205513dca192', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 12, 'created': '2021-11-01 05:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/84dac6eda972e1bbca0ff0e772511f94e396dde7', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 13, 'created': '2022-01-11 01:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/20024c728ea3c741b0edce3876c0c607d268a924', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 14, 'created': '2022-03-09 22:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89370783773ed745f8475d73c31c8fb61d8110ac', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 15, 'created': '2022-09-12 00:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0f3a9ed2f86309e0236de2040fef734366441001', 'message': 'Prepare tracing by adding a WSGI mixin for middlewares\n\nWe\'ve been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that\'s kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It\'s over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it\'ll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add(\'decryption_time\', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it\'ll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary \'1234\'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nThe trace will look something like:\n\n{\n\xa0\xa0\xa0 ""Application"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028039932250976562,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_limiting"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""error_suppression_limit"": 10\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 },\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12035608291625977\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Bulk"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00038814544677734375,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038803100585938\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Decrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028018951416015625,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203620433807373\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""DynamicLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00055694580078125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038111686706543\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""Encrypter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.028028011322021484,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203610897064209\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""HealthCheckMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 3.0994415283203125e-06,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040400505065918\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""KeyMaster"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02799391746520996,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12036800384521484\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListEndpointsMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0003581047058105469,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203911304473877\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ListingFilter"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002999305725097656,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039613723754883\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""MemcacheMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0002789497375488281,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039804458618164\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ObjectVersioningMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02788710594177246,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.1203770637512207\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ProxyLoggingMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02803492546081543,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12040209770202637\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""ServerSideCopyMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0001780986785888672,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12039995193481445\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""StaticLargeObject"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.00049591064453125,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038397789001465\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""SymlinkMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.02796196937561035,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037396430969238\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""TempURL"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0004420280456542969,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12038612365722656\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""VersionedWritesMiddleware"": {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""enter"": 0.0005919933319091797,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""leave"": 0.12037897109985352\n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 ""call_stack"": [\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""HealthCheckMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ServerSideCopyMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""MemcacheMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListingFilter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ListEndpointsMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Bulk"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""TempURL"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""StaticLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""DynamicLargeObject"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""VersionedWritesMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ObjectVersioningMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""SymlinkMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""KeyMaster"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Decrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Encrypter"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""ProxyLoggingMiddleware"",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 ""Application""\n\xa0\xa0\xa0 ],\n\xa0\xa0\xa0 ""start_time"": 1624765751.802578\n}\n\nWhat would be interesting we should see a shorter call stack if the\nrequest was short circuited before hitting the proxy (Application).\n\nThe Additions, in the output above, is the proxy-server. And is also\nincluding the error limited nodes.\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n'}, {'number': 16, 'created': '2022-09-14 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a9fc53157c821bc171443c2f30887bc3ca719de', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 17, 'created': '2022-10-17 05:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3f39904b511f79c5a8482d292c41d3caca034b8', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 18, 'created': '2022-10-27 23:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b8bf7ef5550277f928c0db852d880563367bc52', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 19, 'created': '2022-10-27 23:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/472c12e63411741922c1727bb09bc8f4edf90e3c', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 20, 'created': '2022-11-03 22:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4696f84e4cf9b3de2164b9aaab210c6dfe819ea', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 21, 'created': '2022-11-16 06:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab92d961f5b8d6e0483a715441713002f668a01c', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 22, 'created': '2022-11-25 05:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12e4036184f69de2ccf6a8d8dc798eceb0e91c26', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 23, 'created': '2023-01-10 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/71c48fe1202e88bf6d18105c1566639ad2a1831e', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 24, 'created': '2023-03-24 04:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79a1e2f547baa3ea6b1ddb2e213722b4f8694e24', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 25, 'created': '2023-04-20 05:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1d07432696dce81bd74f341d0975f73944315638', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 26, 'created': '2023-05-04 07:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/79c780493f61597991c6f5d6a1c46e191e233b39', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}, {'number': 27, 'created': '2023-05-26 06:29:35.000000000', 'files': ['swift/obj/server.py', 'test/unit/common/middleware/test_quotas.py', 'swift/common/middleware/versioned_writes/legacy.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/memcache.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/recon.py', 'test/unit/common/middleware/test_slo.py', 'test/unit/common/middleware/s3api/helpers.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/middleware/crypto/encrypter.py', 'swift/common/middleware/copy.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/domain_remap.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'test/unit/common/middleware/test_account_quotas.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/common/middleware/catch_errors.py', 'swift/common/trace/__init__.py', 'swift/common/middleware/container_quotas.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_container_sync.py', 'swift/common/middleware/listing_formats.py', 'test/unit/proxy/controllers/test_obj.py', 'swift/account/server.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/name_check.py', 'swift/common/middleware/symlink.py', 'swift/container/server.py', 'test/unit/common/middleware/test_tempauth.py', 'swift/common/middleware/healthcheck.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/read_only.py', 'test/unit/common/test_trace.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/keystoneauth.py', 'test/unit/common/middleware/test_list_endpoints.py', 'swift/proxy/server.py', 'swift/common/middleware/s3api/s3token.py', 'swift/common/middleware/gatekeeper.py', 'test/unit/common/middleware/test_keystoneauth.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/common/middleware/crossdomain.py', 'test/unit/common/middleware/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f578dd2dc1bff092ee184d6bd4d7d0d6ee280b7c', 'message': ""Prepare tracing by adding a WSGI mixin for middlewares\n\nWe've been wanting some micro benchmarks inside things like the proxy\nserver in order to test and find bottle necks etc. Also if would be\nawesome if we could support handing out a trac_sig/key to a user and if\nthey add this to their requiest extra tracing data could be dumped.\n\nWell that's kind of the idea here. This patch is addiing a new\nTracerMixin for our wsgi applications and middlewares to use. It's over head\nis pretty much a noop unless it sees a special value in\nthe requiest eviron, swift.trace. if it does it'll start collecting some\nextra data.\n\nA new helper method is also added so we can add any extra data we want\nexposed on the trace. say like decryption time with something like:\n\n\xa0 self.trace_add('decryption_time', <time>)\n\nBasic idea is we will be able to provide trace_sig which will be a HMAC from\nsome trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY\ninto environ, triggering extra data to be collected.\n\nOnce we can run a trace, by default it should look something like:\n\n$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'\nHTTP/1.1 201 Created\nLast-Modified: Thu, 24 Jun 2021 09:25:47 GMT\nContent-Length: 0\nEtag: 81dc9bdb52d04dc20036dbd8313ed055\nContent-Type: text/html; charset=UTF-8\nX-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nX-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a\nDate: Thu, 24 Jun 2021 09:25:46 GMT\n\nChange-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c\n""}]",70,797811,f578dd2dc1bff092ee184d6bd4d7d0d6ee280b7c,81,1,27,7233,,,0,"Prepare tracing by adding a WSGI mixin for middlewares

We've been wanting some micro benchmarks inside things like the proxy
server in order to test and find bottle necks etc. Also if would be
awesome if we could support handing out a trac_sig/key to a user and if
they add this to their requiest extra tracing data could be dumped.

Well that's kind of the idea here. This patch is addiing a new
TracerMixin for our wsgi applications and middlewares to use. It's over head
is pretty much a noop unless it sees a special value in
the requiest eviron, swift.trace. if it does it'll start collecting some
extra data.

A new helper method is also added so we can add any extra data we want
exposed on the trace. say like decryption time with something like:

 self.trace_add('decryption_time', <time>)

Basic idea is we will be able to provide trace_sig which will be a HMAC from
some trace key and expiry time. If it passes it'll set TRACE_ACTIVATED_KEY
into environ, triggering extra data to be collected.

Once we can run a trace, by default it should look something like:

$ curl -i http://localhost:8090/v1/a/c/o?trace_sig=asdf -X PUT --data-binary '1234'
HTTP/1.1 201 Created
Last-Modified: Thu, 24 Jun 2021 09:25:47 GMT
Content-Length: 0
Etag: 81dc9bdb52d04dc20036dbd8313ed055
Content-Type: text/html; charset=UTF-8
X-Trans-Id: tx09e33a7140a54b63ae5a1-0060d44f9a
X-Openstack-Request-Id: tx09e33a7140a54b63ae5a1-0060d44f9a
Date: Thu, 24 Jun 2021 09:25:46 GMT

Change-Id: I1423016ef3afd23b82998e4437f3e4a1b9efc06c
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/797811/27 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/container_quotas.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/staticweb.py', 'swift/common/middleware/listing_formats.py', 'swift/common/middleware/versioned_writes/legacy.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/memcache.py', 'swift/common/middleware/cname_lookup.py', 'swift/common/middleware/name_check.py', 'swift/common/middleware/symlink.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/recon.py', 'swift/common/middleware/healthcheck.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/middleware/read_only.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/encrypter.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/copy.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/keystoneauth.py', 'swift/common/middleware/domain_remap.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'swift/common/middleware/s3api/s3token.py', 'swift/common/middleware/gatekeeper.py', 'swift/common/middleware/base.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/common/middleware/crossdomain.py', 'swift/common/middleware/catch_errors.py']",37,2f1de749f1471b35b18f7dba3f96f7e84a312258,otel_tracing_tracing_namespace,"from swift.common.middleware.base import Middlewareclass CatchErrorMiddleware(Middleware): def call(self, env, start_response):","class CatchErrorMiddleware(object): def __call__(self, env, start_response):",186,71
openstack%2Fneutron~master~I37d15de1be74a3cbdfbc9b53bbefbeb90663f1d9,openstack/neutron,master,I37d15de1be74a3cbdfbc9b53bbefbeb90663f1d9,Increase the waiting period to receive a port creation event,MERGED,2023-05-24 13:20:53.000000000,2023-05-26 08:42:53.000000000,2023-05-26 08:40:29.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-24 13:20:53.000000000', 'files': ['neutron/tests/functional/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e6675ec06d3f37564d3fa328afdb9b816a5384e', 'message': 'Increase the waiting period to receive a port creation event\n\nThis patchs increases to 15 seconds the timeout to wait for a\nport creation event in ``WaitForPortCreateEvent``. This patch is also\nadding the update ""event"" to the tracked events, just in case if the\n""create"" event has been ignored before.\n\nCloses-Bug: #2020663\nChange-Id: I37d15de1be74a3cbdfbc9b53bbefbeb90663f1d9\n'}]",1,884201,9e6675ec06d3f37564d3fa328afdb9b816a5384e,11,5,1,16688,,,0,"Increase the waiting period to receive a port creation event

This patchs increases to 15 seconds the timeout to wait for a
port creation event in ``WaitForPortCreateEvent``. This patch is also
adding the update ""event"" to the tracked events, just in case if the
""create"" event has been ignored before.

Closes-Bug: #2020663
Change-Id: I37d15de1be74a3cbdfbc9b53bbefbeb90663f1d9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/884201/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/common/test_ovs_lib.py'],1,9e6675ec06d3f37564d3fa328afdb9b816a5384e,bug/2020663," events = (self.ROW_CREATE, self.ROW_UPDATE) events, table, conditions, timeout=15)"," events = (self.ROW_CREATE,) events, table, conditions, timeout=5)",2,2
openstack%2Fswift~master~I07bd992868f9d8799d2dfa5e840bd6f1cf557723,openstack/swift,master,I07bd992868f9d8799d2dfa5e840bd6f1cf557723,tracing: More unit tests,NEW,2023-04-20 07:15:13.000000000,2023-05-26 08:36:00.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 07:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4862ee7f503c52542ffb607331bcbbe030583472', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 2, 'created': '2023-04-21 07:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cc1d1f12fbe274f93599b6e8ede7afc86595c0df', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\n\nCurrently working through SLO delete unit tests.\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 3, 'created': '2023-04-24 09:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c104e74a5f26e3d4267f4846ab839eaab5422545', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\n\nJust finished the SLO unit tests.\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 4, 'created': '2023-05-04 07:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/74e7e79e4910272aac6b7d45d057ba7840e05b98', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\n\nWorking through controller/obj.py unit tests.\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 5, 'created': '2023-05-05 07:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6b0e1961cc3b1f1d62cce51c30ba691efe228f58', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\n\nWorking through controller/obj.py unit tests.\nAlso added a proxy error_limiting nodes test.\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 6, 'created': '2023-05-08 06:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/073cd594c545ee9932d52d6ff65b17cbf834b6ac', 'message': ""WIP: tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\nAlso added some request_trace middleware tests\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 7, 'created': '2023-05-10 07:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58deca696fd8a2489df754ad1b2c1a517f696300', 'message': ""tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\nAlso added some request_trace middleware tests\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 8, 'created': '2023-05-12 05:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/52e67e7d13c24e581b52e176f9a4d6bffddc9871', 'message': ""tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\nAlso added some request_trace middleware tests\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 9, 'created': '2023-05-12 05:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e171c4266780f9188b87d9d05224f0e0c877223a', 'message': ""tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\nAlso added some request_trace middleware tests\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}, {'number': 10, 'created': '2023-05-26 06:29:35.000000000', 'files': ['test/unit/common/test_trace.py', 'test/unit/common/middleware/test_object_versioning.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/common/middleware/crypto/test_decrypter.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/common/middleware/test_cname_lookup.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/common/middleware/request_trace.py', 'test/unit/common/middleware/test_versioned_writes.py', 'test/unit/common/middleware/test_bulk.py', 'test/unit/common/middleware/test_request_trace.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/trace/tracer/__init__.py', 'test/unit/common/middleware/test_tempurl.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7bb2100d0ef1b4a67927081f98f5bbc6064d6aed', 'message': ""tracing: More unit tests\n\nAdded an activate_tracing(env) unit test helper to help activate and\ninterrogate tracing. Which is being used to test middlewares we've\nalready targetted for instumentation (more then just importing the\nmixin).\nAlso added some request_trace middleware tests\n\nChange-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723\n""}]",14,880911,7bb2100d0ef1b4a67927081f98f5bbc6064d6aed,29,2,10,7233,,,0,"tracing: More unit tests

Added an activate_tracing(env) unit test helper to help activate and
interrogate tracing. Which is being used to test middlewares we've
already targetted for instumentation (more then just importing the
mixin).
Also added some request_trace middleware tests

Change-Id: I07bd992868f9d8799d2dfa5e840bd6f1cf557723
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/880911/6 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_trace.py', 'test/unit/__init__.py', 'test/unit/common/middleware/test_bulk.py']",3,4862ee7f503c52542ffb607331bcbbe030583472,otel_tracing_tracing_namespace,"from test.unit import activate_tracing _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete', 'handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete', 'handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete', 'handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) self.assertEqual([s.name for s in in_memory.get_finished_spans()], []) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['Bulk', 'handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 3) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 2) _, in_memory = activate_tracing(req.environ) self.assertFalse([s.name for s in in_memory.get_finished_spans()]) _, in_memory = activate_tracing(req.environ) self.assertFalse([s.name for s in in_memory.get_finished_spans()]) _, in_memory = activate_tracing(req.environ) # The spans are created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in spans. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 2) _, in_memory = activate_tracing(req.environ) # The spans are created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in spans. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 2) _, in_memory = activate_tracing(req.environ) self.assertFalse([s.name for s in in_memory.get_finished_spans()]) _, in_memory = activate_tracing(req.environ) # The span is created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in a span. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) # The span is created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in a span. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete']) _, in_memory = activate_tracing(req.environ) # The spans are created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in a span. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 3) _, in_memory = activate_tracing(req.environ) self.assertFalse([s.name for s in in_memory.get_finished_spans()]) _, in_memory = activate_tracing(req.environ) # The spans are created, but doesn't mean the delete was a success, # just that we are capturing each attempted delete in a span. self.assertEqual( [s.name for s in in_memory.get_finished_spans()], ['handle_delete.do_delete'] * 4)",,85,4
openstack%2Freleases~master~I117656562488c61aea2050ae5c41b0cd6a047ad4,openstack/releases,master,I117656562488c61aea2050ae5c41b0cd6a047ad4,Release Rally 3.4.0,MERGED,2023-05-23 09:18:51.000000000,2023-05-26 08:35:43.000000000,2023-05-26 08:35:43.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 09:18:51.000000000', 'files': ['deliverables/_independent/rally.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/968aedfd71d02c7740f7c5e7effc0d9e47e78236', 'message': 'Release Rally 3.4.0\n\nChange-Id: I117656562488c61aea2050ae5c41b0cd6a047ad4\n'}]",2,883899,968aedfd71d02c7740f7c5e7effc0d9e47e78236,8,3,1,9545,,,0,"Release Rally 3.4.0

Change-Id: I117656562488c61aea2050ae5c41b0cd6a047ad4
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/883899/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/rally.yaml'],1,968aedfd71d02c7740f7c5e7effc0d9e47e78236,release-rally-3.4.0, - version: 3.4.0 projects: - repo: openstack/rally hash: e8613ffeb01f109083f6a75dd148d5a8d37c9564,,4,0
openstack%2Freleases~master~Ib5192b75ce30b2389d7dd37d34ae49bbda14550a,openstack/releases,master,Ib5192b75ce30b2389d7dd37d34ae49bbda14550a,kolla/kolla-ansible: 2023.1 rc1,MERGED,2023-05-19 05:03:28.000000000,2023-05-26 08:35:41.000000000,2023-05-26 08:35:41.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-19 05:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2cbdd20f9f36d5324eed3ce2d5ebaefad84f1877', 'message': 'kolla: 2023.1 rc1\n\nChange-Id: Ib5192b75ce30b2389d7dd37d34ae49bbda14550a\n'}, {'number': 2, 'created': '2023-05-23 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e5bfb9b3bc2effd8d338b1fb97877ccea59ce050', 'message': 'kolla/kolla-ansible: 2023.1 rc1\n\nChange-Id: Ib5192b75ce30b2389d7dd37d34ae49bbda14550a\n'}, {'number': 3, 'created': '2023-05-24 10:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/68356f64a75abecf7102e2ce3c63bf573c18cf10', 'message': 'kolla/kolla-ansible: 2023.1 rc1\n\nChange-Id: Ib5192b75ce30b2389d7dd37d34ae49bbda14550a\n'}, {'number': 4, 'created': '2023-05-24 10:52:44.000000000', 'files': ['deliverables/antelope/kolla.yaml', 'deliverables/antelope/kolla-ansible.yaml', 'deliverables/antelope/ansible-collection-kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7181f4169fa7bf9f015f7dc2dd9c33e72f598877', 'message': 'kolla/kolla-ansible: 2023.1 rc1\n\nChange-Id: Ib5192b75ce30b2389d7dd37d34ae49bbda14550a\n'}]",10,883634,7181f4169fa7bf9f015f7dc2dd9c33e72f598877,24,7,4,22629,,,0,"kolla/kolla-ansible: 2023.1 rc1

Change-Id: Ib5192b75ce30b2389d7dd37d34ae49bbda14550a
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/883634/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/kolla.yaml'],1,2cbdd20f9f36d5324eed3ce2d5ebaefad84f1877,,releases: - version: 16.0.0.0rc1 projects: - repo: openstack/kolla hash: 58030f8677547efa3757451097a75747fff4438f branches: - name: stable/2023.1 location: 16.0.0.0rc1,,8,0
openstack%2Fopenstack-ansible-os_nova~stable%2F2023.1~Ic6f2606b5a478c7a891c25bd131ad351a19699bc,openstack/openstack-ansible-os_nova,stable/2023.1,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-26 07:18:02.000000000,2023-05-26 08:26:48.000000000,2023-05-26 08:25:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-26 07:18:02.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/559fc4cb89d2cc1de71d143e37fc7730ab69684a', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}]",0,884379,559fc4cb89d2cc1de71d143e37fc7730ab69684a,8,3,1,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/79/884379/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,559fc4cb89d2cc1de71d143e37fc7730ab69684a,, - libvirt-daemon,,8,0
openstack%2Fos-brick~master~I63101fcef3dc108c115ad90389d684ea0ef1aa3c,openstack/os-brick,master,I63101fcef3dc108c115ad90389d684ea0ef1aa3c,WIP: Retry flushing and check if multipath device exists,NEW,2023-03-22 18:08:16.000000000,2023-05-26 08:20:45.000000000,,"[{'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-22 18:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bb49b412db72b9c07b9463450fdb920833c072f4', 'message': 'WIP: Retry flushing and check if multipath device exists\n\nChange-Id: I63101fcef3dc108c115ad90389d684ea0ef1aa3c\n'}, {'number': 2, 'created': '2023-04-20 15:52:07.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/be4d4e191e78cb7df0c439054cdb937f9db73ea2', 'message': 'WIP: Retry flushing and check if multipath device exists\n\nChange-Id: I63101fcef3dc108c115ad90389d684ea0ef1aa3c\n'}]",20,878242,be4d4e191e78cb7df0c439054cdb937f9db73ea2,21,2,2,27615,,,0,"WIP: Retry flushing and check if multipath device exists

Change-Id: I63101fcef3dc108c115ad90389d684ea0ef1aa3c
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/42/878242/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,bb49b412db72b9c07b9463450fdb920833c072f4,878242,"from oslo_service import loopingcall def _flush_multipath_device(device_map_name): try: self._execute('multipath', '-f', device_map_name, run_as_root=True, root_helper=self._root_helper) except Exception as ex: self.tries = self.tries + 1 if self.tries >= 3: raise ex (out, _err) = self._execute('multipath', '-l', device_map_name, run_as_root=True, check_exit_code=False, root_helper=self._root_helper) if not out: raise loopingcall.LoopingCallDone() self.tries = 0 timer = loopingcall.FixedIntervalWithTimeoutLoopingCall( _flush_multipath_device, device_map_name) timer.start(interval=10, timeout=300).wait()"," self._execute('multipath', '-f', device_map_name, run_as_root=True, attempts=3, timeout=300, interval=10, root_helper=self._root_helper)",28,6
openstack%2Fswift~master~I4ae6722e060bbe2c67f0ebadf46f2f030e963c36,openstack/swift,master,I4ae6722e060bbe2c67f0ebadf46f2f030e963c36,Trace: Noop in PY2,NEW,2023-05-12 05:48:28.000000000,2023-05-26 08:14:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-12 05:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/93cf8bb673acb172674763179c549e75914fdb82', 'message': 'Trace: Noop in PY2\n\nChange-Id: I4ae6722e060bbe2c67f0ebadf46f2f030e963c36\n'}, {'number': 2, 'created': '2023-05-12 05:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/91314ff132f8a8e5dcf00fb74e59b0632ab69ac9', 'message': 'Trace: Noop in PY2\n\nChange-Id: I4ae6722e060bbe2c67f0ebadf46f2f030e963c36\n'}, {'number': 3, 'created': '2023-05-15 02:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c4b664e6c51febdd699ad2c99336e71f2f16cbe', 'message': 'Trace: Noop in PY2\n\nChange-Id: I4ae6722e060bbe2c67f0ebadf46f2f030e963c36\n'}, {'number': 4, 'created': '2023-05-26 06:29:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'swift/common/middleware/request_trace.py', 'test/unit/__init__.py', 'swift/common/utils/__init__.py', 'swift/common/trace/tracer/__init__.py', 'swift/common/trace_py2.py', 'swift/common/trace/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/be6745505545e54a0937e15f2e87d28a3543545e', 'message': 'Trace: Noop in PY2\n\nChange-Id: I4ae6722e060bbe2c67f0ebadf46f2f030e963c36\n'}]",1,883050,be6745505545e54a0937e15f2e87d28a3543545e,10,1,4,7233,,,0,"Trace: Noop in PY2

Change-Id: I4ae6722e060bbe2c67f0ebadf46f2f030e963c36
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/883050/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'swift/common/middleware/request_trace.py', 'test-requirements.txt', 'test/unit/__init__.py', 'swift/common/utils/__init__.py', 'swift/common/trace/tracer/__init__.py', 'swift/common/trace/__init__.py']",7,93cf8bb673acb172674763179c549e75914fdb82,otel_tracing_tracing_namespace,"if six.PY3: from opentelemetry.propagate import inject from opentelemetry.semconv.trace import SpanAttributes from opentelemetry import trace else: from swift.common.trace_py2 import inject from swift.common.trace_py2 import SpanAttributes from swift.common.trace_py2 import trace #from swift.common import digest tracer = self.get_tracer(env) if not tracer: # failed to get tracer from the env (might have to log something) return self.call(env, start_response) from swift.common import digest",from opentelemetry.propagate import inject from opentelemetry.semconv.trace import SpanAttributes from opentelemetry import trace from swift.common import digest tracer = self.get_tracer(env),70,29
openstack%2Fswift~master~I0268649cb63c768a3f0f71f0ef11e693d36ec011,openstack/swift,master,I0268649cb63c768a3f0f71f0ef11e693d36ec011,Trace: be able to force the current span and SLO,NEW,2022-11-25 00:38:46.000000000,2023-05-26 08:07:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 00:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89ef846876a46a1c8f0fae9c09c7a32661fe129e', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 2, 'created': '2022-11-25 05:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0deb05ae2de725eb20f9af887b4f3c555bf08d7a', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 3, 'created': '2023-01-10 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/29a15ed8f46ee0983f621fad943bd622e38dbdee', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 4, 'created': '2023-03-24 04:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f621dbe63bcb826436446fe623a0b4044b018d84', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 5, 'created': '2023-04-20 05:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/64894860b2ab62815bfd1a23ebabc8e7700535ac', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 6, 'created': '2023-05-04 07:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5f751e70325aaea97b063dcd2f543e2ef8000dfc', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}, {'number': 7, 'created': '2023-05-26 06:29:35.000000000', 'files': ['swift/common/request_helpers.py', 'swift/common/trace/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0e558b060efd929245317f1d9cbdfcc01962da9f', 'message': ""Trace: be able to force the current span and SLO\n\nWhen we've instrumented a response interator, like the SegmentIterater\nused by SLO, by the time the iter is being called by the client the\nrest of the request spans have returned.\nAlthough we force some of the spans to not be ended, the OpTel tracer object\nby the time it gets to a new iteration, it can't find the current\nrunning span to tie newly created spans off. This generates new traces\nrather the joining the existing trace.\n\nBecause eventlet uses the same process for its pool of threads, we\nstopped using otels global get_current_trace helper, and instead track them in\nthe request env.\nPutting the 2 together, we can optionally force the current span to come\nback into focus before the tracer object creates a new span, thereby\nkeeping the trace connected even when we're out in a response iter.\n\nChange-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011\n""}]",0,865610,0e558b060efd929245317f1d9cbdfcc01962da9f,21,1,7,7233,,,0,"Trace: be able to force the current span and SLO

When we've instrumented a response interator, like the SegmentIterater
used by SLO, by the time the iter is being called by the client the
rest of the request spans have returned.
Although we force some of the spans to not be ended, the OpTel tracer object
by the time it gets to a new iteration, it can't find the current
running span to tie newly created spans off. This generates new traces
rather the joining the existing trace.

Because eventlet uses the same process for its pool of threads, we
stopped using otels global get_current_trace helper, and instead track them in
the request env.
Putting the 2 together, we can optionally force the current span to come
back into focus before the tracer object creates a new span, thereby
keeping the trace connected even when we're out in a response iter.

Change-Id: I0268649cb63c768a3f0f71f0ef11e693d36ec011
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/865610/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/request_helpers.py', 'swift/common/trace/__init__.py']",2,89ef846876a46a1c8f0fae9c09c7a32661fe129e,otel_tracing_tracing_namespace," def trace_force_current_span(self, env, force=False): current_span = trace_get_current_span(env) if force and current_span: with trace.use_span(current_span, end_on_exit=False): yield else: yield @contextmanager def new_trace_span(self, env, key_name, force_current_span=False): with self.trace_force_current_span(env, force=force_current_span): with tracer.start_as_current_span(key_name) as span: self.append_current_span(env, span) yield span self.pop_current_span(env, span)"," def new_trace_span(self, env, key_name): with tracer.start_as_current_span(key_name) as span: self.append_current_span(env, span) yield span self.pop_current_span(env, span)",31,16
openstack%2Fcinder~master~Id89497d068c1644e4615fc0fb85c4d1a139ecc19,openstack/cinder,master,Id89497d068c1644e4615fc0fb85c4d1a139ecc19,Doc: Improve service token,MERGED,2023-05-17 11:51:33.000000000,2023-05-26 07:56:41.000000000,2023-05-24 13:30:48.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34275}]","[{'number': 1, 'created': '2023-05-17 11:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/48e0fca2ce114b74a904d29257bd084a76c65e0e', 'message': 'Doc: Improve service token\n\nThis patch extends a bit the documentation for the service token\nconfiguration, since there have been complains about its clarity and\ncompleteness.\n\nRelated-Bug: #2004555\nChange-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19\n'}, {'number': 2, 'created': '2023-05-19 08:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f6a991d9fcad4f25fc6b538c9f9393d51b99921', 'message': 'Doc: Improve service token\n\nThis patch extends a bit the documentation for the service token\nconfiguration, since there have been complains about its clarity and\ncompleteness.\n\nRelated-Bug: #2004555\nChange-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19\n'}, {'number': 3, 'created': '2023-05-23 11:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18b7a4796de6270d43d38d5d0ccd1a293c13e9fb', 'message': 'Doc: Improve service token\n\nThis patch extends a bit the documentation for the service token\nconfiguration, since there have been complains about its clarity and\ncompleteness.\n\nRelated-Bug: #2004555\nChange-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19\n'}, {'number': 4, 'created': '2023-05-23 14:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c61f04b208abcb68e279c0b4ad735f9d6a3260d', 'message': 'Doc: Improve service token\n\nThis patch extends a bit the documentation for the service token\nconfiguration, since there have been complains about its clarity and\ncompleteness.\n\nRelated-Bug: #2004555\nChange-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19\n'}, {'number': 5, 'created': '2023-05-24 08:17:03.000000000', 'files': ['doc/source/configuration/block-storage/service-token.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1101402b8fda7423b41b2f2e078f8f5a1d2bb4bd', 'message': 'Doc: Improve service token\n\nThis patch extends a bit the documentation for the service token\nconfiguration, since there have been complains about its clarity and\ncompleteness.\n\nRelated-Bug: #2004555\nChange-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19\n'}]",24,883360,1101402b8fda7423b41b2f2e078f8f5a1d2bb4bd,94,4,5,9535,,,0,"Doc: Improve service token

This patch extends a bit the documentation for the service token
configuration, since there have been complains about its clarity and
completeness.

Related-Bug: #2004555
Change-Id: Id89497d068c1644e4615fc0fb85c4d1a139ecc19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/883360/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/service-token.rst'],1,48e0fca2ce114b74a904d29257bd084a76c65e0e,doc-improve-service-token,"To configure an OpenStack service that supports Service Tokens, like Nova and Cinder, to send a ""service token"" along with the user's token when it makes a request to another service, you must do the following: 1. Configure the services to send the token when calling other OpenStack services. 2. Configure the users as service roles. 3. Configure the services to expect the token and validate it appropriately on reception. Send service token ^^^^^^^^^^^^^^^^^^ To send the token we need to add to our configuration file the ``[service_user]`` section and fill it in with the appropriate configuration for your service user (``username``, ``project_name``, etc.) and set the ``send_service_user_token`` option to ``true`` to tell the service to send the token. The configuration for the service user is basically the normal keystone user configuration like we would have in the ``[keystone_authtoken]`` section, but without the 2 configuration options we'll see in one of the next subsection to configure the reception of service tokens. In most cases we would use the same user we do in ``[keystone_authtoken]``, for example for the nova configuration we would have something like this: .. code-block:: ini [service_user] send_service_user_token = True # Copy following options from [keystone_authtoken] section project_domain_name = Default project_name = service user_domain_name = Default password = abc123 username = nova auth_url = http://192.168.121.66/identity auth_type = password Service role ^^^^^^^^^^^^ A service role is nothing more than a Keystone role that allows a deployment to identify a service without the need to make them admins, that way there is no change in the privileges but we are able to identify that the request is coming from another service and not a user. The default service role is ``service``, but we can use a different name or even have multiple service roles. For simplicity's sake we recommend having just one, ``service``. We need to make sure that the users we used in the different ``[service_user]`` sections all have our service role. Assuming our users are ``nova`` and ``cinder`` from the ``service`` project and the service role is going to be the default ``service``, we first check `if the role exists or not <https://docs.openstack.org/keystone/latest/admin/cli-manage-projects-users-and-roles.html#view-role-details>`_: .. code-block:: bash $ openstack role show service If it doesn't, we need `to create it <https://docs.openstack.org/keystone/latest/admin/cli-manage-projects-users-and-roles.html#create-a-role>`_ .. code-block:: bash $ openstack role create service Check if the users have the roles assigned or not: .. code-block:: bash $ openstack role assignment list --user cinder --project service --names $ openstack role assignment list --user nova --project service --names And if they are not we `assign the role to those users <https://docs.openstack.org/keystone/latest/admin/cli-manage-projects-users-and-roles.html#assign-a-role>`_ .. code-block:: bash $ openstack role add --user cinder --project service service $ openstack role add --user nova --project service service More information on creating service users can be found in `the Keystone documentation <https://docs.openstack.org/keystone/latest/admin/manage-services.html>`_ Receive service token ^^^^^^^^^^^^^^^^^^^^^ Now we need to make the services validate the service token on reception, this part is crucial. The 2 configuration options in ``[keystone_authoken]`` related to receiving service tokens are ``service_token_roles`` and ``service_token_roles_required``. The ``service_token_roles`` contains a list of roles that we consider to belong to services. The serve user must belong to at least one of them to be considered a valid service token. The value defaults to ``service``, so we don't need to set it if that's the value we are using. Now we need to tell the keyston middleware to actually validate the service token and confirm that it's not only a valid token, but that it has one of the roles set in ``service_token_roles``. We do this by setting ``service_token_roles_required`` to ``true``. So we would have something like this in our ``[keystone_authtoken]`` section: .. code-block:: ini [keystone_authtoken] service_token_roles = service service_token_roles_required = true","To configure Cinder to send a ""service token"" along with the user's token when it makes a request to another service, you must do the following: 1. Find the ``[service_user]`` section in the Cinder configuration file (usually ``/etc/cinder/cinder.conf``, though it may be in a different location in your installation). 2. In that section, set ``send_service_user_token = true``. 3. Also in that section, fill in the appropriate configuration for your service user (``username``, ``project_name``, etc.) 4. If Cinder is going to receive service tokens from other services it needs to have two options configured in the ``[keystone_authtoken]`` section of the configuration file: ``service_token_roles`` The value is a list of roles; the service user passing the service token must have at least one of these roles or the token will be rejected. The default value is ``service``. ``service_token_roles_required`` This is a boolean; the default value is ``False``. It governs whether the keystone middleware used by the receiving service will pay any attention to the ``service_token_roles`` setting. It should be set to ``True``.",111,21
openstack%2Fhorizon~master~I41cf26f7586908796e339bb78f81c93cf5911ce2,openstack/horizon,master,I41cf26f7586908796e339bb78f81c93cf5911ce2,Rename x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload,MERGED,2023-05-24 03:54:06.000000000,2023-05-26 07:34:23.000000000,2023-05-26 07:32:51.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 03:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/248bfb5c9718a0df976c7c771ee79a24c636413c', 'message': 'Rename x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nxstatic-angular-fileupload pypi moved under openstack namespace.\nIt is already renamed in opnetscak/project-config [1].\nThis patch do the same in ``.zuul.d/xstatic-master.yaml`` file.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/873843\n\nChange-Id: I41cf26f7586908796e339bb78f81c93cf5911ce2\n'}, {'number': 2, 'created': '2023-05-24 03:55:17.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c5006efb4533e1cf0815fb80ede86b7a38a40bf', 'message': 'Rename x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nxstatic-angular-fileupload pypi moved under openstack namespace.\nIt is already renamed in openstack/project-config [1].\nThis patch do the same in ``.zuul.d/xstatic-master.yaml`` file.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/873843\n\nChange-Id: I41cf26f7586908796e339bb78f81c93cf5911ce2\n'}]",2,883995,3c5006efb4533e1cf0815fb80ede86b7a38a40bf,12,2,2,29313,,,0,"Rename x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

xstatic-angular-fileupload pypi moved under openstack namespace.
It is already renamed in openstack/project-config [1].
This patch do the same in ``.zuul.d/xstatic-master.yaml`` file.

[1] https://review.opendev.org/c/openstack/project-config/+/873843

Change-Id: I41cf26f7586908796e339bb78f81c93cf5911ce2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/883995/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,248bfb5c9718a0df976c7c771ee79a24c636413c,, - openstack/xstatic-angular-fileupload, - x/xstatic-angular-fileupload,1,1
openstack%2Fneutron-specs~master~I3fd5f08e691db3ab025a1c64f5105749234ae0c2,openstack/neutron-specs,master,I3fd5f08e691db3ab025a1c64f5105749234ae0c2,Default SG rules - update fields in the API examples,MERGED,2023-05-18 08:41:42.000000000,2023-05-26 07:22:17.000000000,2023-05-26 07:21:13.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 08:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c874b82bcde29e64657d8ace62450915ce5844b1', 'message': 'Default SG rules - update fields in the API examples\n\nThis patch updates ""configurable default SG rules"" spec by\nadding ""description"" field and remove other standard attributes such\nas ""created_at"", ""updated_at"" and ""revision_number"" from the exmaples of\nthe API requests and responses.\n\nRelated-Bug: #1983053\nChange-Id: I3fd5f08e691db3ab025a1c64f5105749234ae0c2\n'}, {'number': 2, 'created': '2023-05-19 07:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/316b967124dc01e9c190192db8b996bd794f0c22', 'message': 'Default SG rules - update fields in the API examples\n\nThis patch updates ""configurable default SG rules"" spec by\nadding ""description"" field and remove other standard attributes such\nas ""created_at"", ""updated_at"" and ""revision_number"" from the exmaples of\nthe API requests and responses.\n\nRelated-Bug: #1983053\nChange-Id: I3fd5f08e691db3ab025a1c64f5105749234ae0c2\n'}, {'number': 3, 'created': '2023-05-22 09:40:27.000000000', 'files': ['specs/2023.2/configurable-default-sg-rules.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/03e11287c7398549c5b8869b54b742c0f921c6ce', 'message': 'Default SG rules - update fields in the API examples\n\nThis patch updates ""configurable default SG rules"" spec by\nadding ""description"" field and remove other standard attributes such\nas ""created_at"", ""updated_at"" and ""revision_number"" from the exmaples of\nthe API requests and responses.\n\nRelated-Bug: #1983053\nChange-Id: I3fd5f08e691db3ab025a1c64f5105749234ae0c2\n'}]",6,883481,03e11287c7398549c5b8869b54b742c0f921c6ce,15,4,3,11975,,,0,"Default SG rules - update fields in the API examples

This patch updates ""configurable default SG rules"" spec by
adding ""description"" field and remove other standard attributes such
as ""created_at"", ""updated_at"" and ""revision_number"" from the exmaples of
the API requests and responses.

Related-Bug: #1983053
Change-Id: I3fd5f08e691db3ab025a1c64f5105749234ae0c2
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/81/883481/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/configurable-default-sg-rules.rst'],1,c874b82bcde29e64657d8ace62450915ce5844b1,bug/1983053," ""description"": """""," ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"", ""revision_number"": 1, ""created_at"": ""2022-09-15T19:16:56Z"", ""updated_at"": ""2022-09-15T19:16:56Z"",",1,24
openstack%2Fdesignate~master~I26178446846ffd387bd966b4c532b59db80038c8,openstack/designate,master,I26178446846ffd387bd966b4c532b59db80038c8,Omit hacking from cover,MERGED,2023-05-26 03:25:02.000000000,2023-05-26 07:10:36.000000000,2023-05-26 07:09:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 03:25:02.000000000', 'files': ['.coveragerc'], 'web_link': 'https://opendev.org/openstack/designate/commit/eb809a00dd65520614c48205a7be5f8e4392cc53', 'message': 'Omit hacking from cover\n\nChange-Id: I26178446846ffd387bd966b4c532b59db80038c8\n'}]",2,884336,eb809a00dd65520614c48205a7be5f8e4392cc53,10,2,1,22623,,,0,"Omit hacking from cover

Change-Id: I26178446846ffd387bd966b4c532b59db80038c8
",git fetch https://review.opendev.org/openstack/designate refs/changes/36/884336/1 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,eb809a00dd65520614c48205a7be5f8e4392cc53,exclude_hacking,"omit = designate/tests/*,designate/hacking/*",omit = designate/tests/*,1,1
openstack%2Fswift~master~I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a,openstack/swift,master,I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a,Tracing: Add overview documentation,NEW,2022-11-25 00:38:46.000000000,2023-05-26 06:39:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 00:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b8a4b7469be81819e181341e8b054adf6a385282', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 2, 'created': '2022-11-25 05:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f5dfc987d1fd3ebef7e460afb9bc2deae0e4b24a', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 3, 'created': '2023-01-10 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f76937c0745b300a10a7ff5841ebbec769a33407', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 4, 'created': '2023-03-24 04:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/534c4caefba48161841e4146891ba61e117c3cce', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 5, 'created': '2023-04-20 05:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/224a9682318f14defef5ebc9cad677398538bcfa', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 6, 'created': '2023-05-04 07:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc546092790fd8363222ac675318bd686443d568', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}, {'number': 7, 'created': '2023-05-26 06:29:35.000000000', 'files': ['doc/source/index.rst', 'doc/source/overview_tracing.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/4da0296b01a3d14821b82ec17a74cf00c8d76510', 'message': 'Tracing: Add overview documentation\n\nChange-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a\n'}]",0,865612,4da0296b01a3d14821b82ec17a74cf00c8d76510,14,1,7,7233,,,0,"Tracing: Add overview documentation

Change-Id: I78389c7fb07592f0142b13cf3cc23e4ec2aefd7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/865612/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/overview_tracing.rst']",2,b8a4b7469be81819e181341e8b054adf6a385282,otel_tracing_tracing_namespace,".. _tracing_doc: =============== Request Tracing =============== Request tracing is a feature that allows an operator to tag and track requests using the OpenTelemetry framework <ADD LINK>. .. note:: Request tracing is a new feature and in still in active development. More and more areas of swift will be instrumented over time. At the moment only WSGI servers in Swift are somewhat instrumented. ----- Setup ----- TBD ---------------- Design Desisions ---------------- * Tracing granulation is at the request level. * We trace every requrest, every x request and/or requests that have been tagged. * As such the tracer object, which is used to create new spans, is stored in the request environment. * OpenTelemetry and a global trace.get_current_span to get the current span. * This works well for normal behaviour, but evenlet runs threads in a process. So might not work nicely for us. * So we store the current span inside the request env as well. ",,33,0
openstack%2Fdesignate~master~I4b866042f4362df27e3ab26fb857761032d32154,openstack/designate,master,I4b866042f4362df27e3ab26fb857761032d32154,Make FIPS job voting,NEW,2022-05-17 19:44:52.000000000,2023-05-26 06:28:24.000000000,,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-17 19:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d5776a7c6998c657f5791df3db4e1062a32a45b', 'message': 'Make FIPS job voting\n\nThanks to johnsom, we think we know why the centos job has been\nfailing.  It seems like devstack starts to install packages before\nthe DNS server is up.  Lets see what happens when we wait for it to\ncome up.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/842217\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}, {'number': 2, 'created': '2022-06-04 17:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a6b3d3011f948d244da1b967b4fa965d5c1b9a88', 'message': 'Make FIPS job voting\n\nThanks to johnsom, we think we know why the centos job has been\nfailing.  It seems like devstack starts to install packages before\nthe DNS server is up.  Lets see what happens when we wait for it to\ncome up.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/844704\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}, {'number': 3, 'created': '2022-06-21 18:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/98c43b0ad4010958fe578b4bed92574a91dc488a', 'message': 'Make FIPS job voting\n\nLooks like johnsom was right.  The intermittent failures in the FIPS\njob was due to things not being fully up when devstack starts after\nthe node is rebooted.  This is fixed by a now merged zuul-job role.\n\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}, {'number': 4, 'created': '2022-06-21 23:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fed3eeb2d1f799d32c8defc9d75fb86a1864e899', 'message': 'Make FIPS job voting\n\nLooks like johnsom was right.  The intermittent failures in the FIPS\njob was due to things not being fully up when devstack starts after\nthe node is rebooted.  This is fixed by a now merged zuul-job role.\n\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}, {'number': 5, 'created': '2022-07-02 02:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/24b7e27769d7045aacffcef45e384b118e4f16af', 'message': 'Make FIPS job voting\n\nLooks like johnsom was right.  The intermittent failures in the FIPS\njob was due to things not being fully up when devstack starts after\nthe node is rebooted.  This is fixed by a now merged zuul-job role.\n\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}, {'number': 6, 'created': '2023-05-26 05:08:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/32e633a26553457abd4b476f1b5d43684b418c64', 'message': 'Make FIPS job voting\n\nLooks like johnsom was right.  The intermittent failures in the FIPS\njob was due to things not being fully up when devstack starts after\nthe node is rebooted.  This is fixed by a now merged zuul-job role.\n\nChange-Id: I4b866042f4362df27e3ab26fb857761032d32154\n'}]",16,842221,32e633a26553457abd4b476f1b5d43684b418c64,39,3,6,9914,,,0,"Make FIPS job voting

Looks like johnsom was right.  The intermittent failures in the FIPS
job was due to things not being fully up when devstack starts after
the node is rebooted.  This is fixed by a now merged zuul-job role.

Change-Id: I4b866042f4362df27e3ab26fb857761032d32154
",git fetch https://review.opendev.org/openstack/designate refs/changes/21/842221/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d5776a7c6998c657f5791df3db4e1062a32a45b,fips-compatibility, Functional testing for a FIPS enabled Centos 9 stream system voting: true, Functional testing for a FIPS enabled Centos 8 stream system voting: false,2,2
openstack%2Fmanila~master~I5b1f1ce517efed000f17b1e0901e183a1913ba9f,openstack/manila,master,I5b1f1ce517efed000f17b1e0901e183a1913ba9f,[rbac] Pull up policy checks on share APIs,NEW,2023-05-25 22:20:52.000000000,2023-05-26 06:25:04.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 22:20:52.000000000', 'files': ['manila/share/api.py', 'manila/api/v1/shares.py', 'manila/api/v2/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/9d5ddcaae62a16bd867e321d934bf4e6c86d9aee', 'message': '[rbac] Pull up policy checks on share APIs\n\nRBAC enforcement in manila happens in stages:\n1) Does user have access to the API\n2) Does user have access to the resource\n3) Is user permitted to perform the API action on the resource\n\nIf (1) fails, user gets a HTTP 403, if (2) fails,\nthey get a HTTP 404; if (3) fails, they get a HTTP 403.\n\nMore often than not, (2) prevents ""existence"" detection\nof resources that don\'t belong to the user; except in\ncase of ""public"" resources (e.g.: shares can be ""public"").\n\nIn some share API methods, policy checks for (1) are\nhappening after a bunch of processing. This leads to\nsome inconsistency.\n\nFix these occurrences to ensure a consistent user\nexperience.\n\nChange-Id: I5b1f1ce517efed000f17b1e0901e183a1913ba9f\nRelated-Bug: #2004230\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",1,884446,9d5ddcaae62a16bd867e321d934bf4e6c86d9aee,6,2,1,16643,,,0,"[rbac] Pull up policy checks on share APIs

RBAC enforcement in manila happens in stages:
1) Does user have access to the API
2) Does user have access to the resource
3) Is user permitted to perform the API action on the resource

If (1) fails, user gets a HTTP 403, if (2) fails,
they get a HTTP 404; if (3) fails, they get a HTTP 403.

More often than not, (2) prevents ""existence"" detection
of resources that don't belong to the user; except in
case of ""public"" resources (e.g.: shares can be ""public"").

In some share API methods, policy checks for (1) are
happening after a bunch of processing. This leads to
some inconsistency.

Fix these occurrences to ensure a consistent user
experience.

Change-Id: I5b1f1ce517efed000f17b1e0901e183a1913ba9f
Related-Bug: #2004230
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/46/884446/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'manila/api/v1/shares.py', 'manila/api/v2/shares.py']",3,9d5ddcaae62a16bd867e321d934bf4e6c86d9aee,secure-rbac," @wsgi.Controller.authorize('soft_delete') @wsgi.Controller.authorize(""restore"") @wsgi.Controller.authorize(""get_all"") @wsgi.Controller.authorize(""get_all"")",,8,8
openstack%2Fopenstack-manuals~master~If0b1fafc34d46d96d8f23238298bf39f89a18981,openstack/openstack-manuals,master,If0b1fafc34d46d96d8f23238298bf39f89a18981,DNM: Test workaround for series name mismatch,ABANDONED,2023-04-11 12:43:03.000000000,2023-05-26 06:13:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-11 12:43:03.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/84d84d1f9eb14b9393b9cfaf28fc77c864ec870a', 'message': 'DNM: Test workaround for series name mismatch\n\nChange-Id: If0b1fafc34d46d96d8f23238298bf39f89a18981\n'}]",1,880049,84d84d1f9eb14b9393b9cfaf28fc77c864ec870a,3,1,1,13252,,,0,"DNM: Test workaround for series name mismatch

Change-Id: If0b1fafc34d46d96d8f23238298bf39f89a18981
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/49/880049/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,84d84d1f9eb14b9393b9cfaf28fc77c864ec870a,fix-antelope," if series == ""2023.1"": project_data[""2023.1.antelope""] = data else: project_data[series] = data", project_data[series] = data,4,1
openstack%2Fneutron-tempest-plugin~master~I67451b6730c747071651315caef6d902f16978b5,openstack/neutron-tempest-plugin,master,I67451b6730c747071651315caef6d902f16978b5,Increase neutron-tempest-plugin-bgpvpn-bagpipe timeout,ABANDONED,2023-05-24 01:37:10.000000000,2023-05-26 03:10:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 01:37:10.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1a5926c4d70ab564d20b21ebcc4a745708d4be01', 'message': 'Increase neutron-tempest-plugin-bgpvpn-bagpipe timeout\n\nTrying to get\nhttps://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882976\nto pass the check queue has shown the\nneutron-tempest-plugin-bgpvpn-bagpipe job is\nconsistently timing out at 2 hours. Increase the\njob timeout to what other jobs here are using.\n\nChange-Id: I67451b6730c747071651315caef6d902f16978b5\n'}]",3,883991,1a5926c4d70ab564d20b21ebcc4a745708d4be01,9,2,1,1131,,,0,"Increase neutron-tempest-plugin-bgpvpn-bagpipe timeout

Trying to get
https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882976
to pass the check queue has shown the
neutron-tempest-plugin-bgpvpn-bagpipe job is
consistently timing out at 2 hours. Increase the
job timeout to what other jobs here are using.

Change-Id: I67451b6730c747071651315caef6d902f16978b5
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/91/883991/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,1a5926c4d70ab564d20b21ebcc4a745708d4be01,increase-bgpvpn-bagpipe-timeout, timeout: 10000,,1,0
openstack%2Fneutron~stable%2F2023.1~I522aeab5094b3f4854303d5e18f3abf6130fb33c,openstack/neutron,stable/2023.1,I522aeab5094b3f4854303d5e18f3abf6130fb33c,[S-RBAC] Fix new policies for get QoS rules APIs,MERGED,2023-05-11 14:55:48.000000000,2023-05-26 02:41:33.000000000,2023-05-26 02:39:50.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:55:48.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/conf/policies/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/572cc2d43e669797a9d03d2e9daf174dfe8566ff', 'message': ""[S-RBAC] Fix new policies for get QoS rules APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for QoS rules by defining them to be available for\nADMIN_OR_PROJECT_READER. This can't be like that as QoS rules don't have\ntenant_id attribute and belongs always to the owner of the QoS policy.\n\nTo fix that, this patch introduces new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nand uses those in the QoS rules APIs.\n\nCloses-Bug: #2018727\nChange-Id: I522aeab5094b3f4854303d5e18f3abf6130fb33c\n(cherry picked from commit be0dc09d52efd5e7236a33be552edb6644371cd0)\n""}]",2,882958,572cc2d43e669797a9d03d2e9daf174dfe8566ff,15,4,1,16688,,,0,"[S-RBAC] Fix new policies for get QoS rules APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for QoS rules by defining them to be available for
ADMIN_OR_PROJECT_READER. This can't be like that as QoS rules don't have
tenant_id attribute and belongs always to the owner of the QoS policy.

To fix that, this patch introduces new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

and uses those in the QoS rules APIs.

Closes-Bug: #2018727
Change-Id: I522aeab5094b3f4854303d5e18f3abf6130fb33c
(cherry picked from commit be0dc09d52efd5e7236a33be552edb6644371cd0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/882958/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/conf/policies/base.py']",3,572cc2d43e669797a9d03d2e9daf174dfe8566ff,bug/2018727,"# In some cases we need to check owner of the parent resource, it's like that # for example for QoS rules (check owner of QoS policy rule belongs to) or # Floating IP port forwarding (check owner of FIP which PF is using). It's like # that becasue those resources (QOS rules, FIP PFs) don't have project_id # attribute at all and they belongs to the same project as parent resource (QoS # policy, FIP). PARENT_OWNER_MEMBER = 'role:member and ' + RULE_PARENT_OWNER PARENT_OWNER_READER = 'role:reader and ' + RULE_PARENT_OWNER ADMIN_OR_PARENT_OWNER_MEMBER = ( '(' + ADMIN + ') or (' + PARENT_OWNER_MEMBER + ')') ADMIN_OR_PARENT_OWNER_READER = ( '(' + ADMIN + ') or (' + PARENT_OWNER_READER + ')') ",,346,257
openstack%2Fopenstacksdk~master~I6e3856834e178abc5146ecac6b1c9c5525fc1643,openstack/openstacksdk,master,I6e3856834e178abc5146ecac6b1c9c5525fc1643,Migrate warnings to openstack.warnings,MERGED,2023-05-25 16:32:51.000000000,2023-05-26 01:41:19.000000000,2023-05-26 01:40:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 16:32:51.000000000', 'files': ['openstack/exceptions.py', 'openstack/warnings.py', 'openstack/service_description.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2091ec2a149958902eef0d85c8e4d94ad3ce49b0', 'message': ""Migrate warnings to openstack.warnings\n\nThere are two, one of which isn't used. Migrate the one that is.\n\nChange-Id: I6e3856834e178abc5146ecac6b1c9c5525fc1643\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884416,2091ec2a149958902eef0d85c8e4d94ad3ce49b0,8,3,1,15334,,,0,"Migrate warnings to openstack.warnings

There are two, one of which isn't used. Migrate the one that is.

Change-Id: I6e3856834e178abc5146ecac6b1c9c5525fc1643
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/16/884416/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/exceptions.py', 'openstack/warnings.py', 'openstack/service_description.py']",3,2091ec2a149958902eef0d85c8e4d94ad3ce49b0,warnings,"from openstack import warnings as os_warnings f""The configured version, {version_string} for service "" f""{self.service_type} is not known or supported by "" f""openstacksdk. The resulting Proxy object will only "" f""have direct passthrough REST capabilities."", category=os_warnings.UnsupportedServiceVersion, f""Service {self.service_type} has an endpoint override "" f""set but the version discovered at that endpoint, "" f""{api_version}, is not supported by openstacksdk. "" f""The resulting Proxy object will only have direct "" f""passthrough REST capabilities."", category=os_warnings.UnsupportedServiceVersion, **version_kwargs, ""Service {service_type} has no discoverable version. "" ""The resulting Proxy object will only have direct "" ""passthrough REST capabilities."".format( category=os_warnings.UnsupportedServiceVersion,"," ""The configured version, {version} for service"" "" {service_type} is not known or supported by"" "" openstacksdk. The resulting Proxy object will only"" "" have direct passthrough REST capabilities."".format( version=version_string, service_type=self.service_type ), category=exceptions.UnsupportedServiceVersion, ""Service {service_type} has an endpoint override set"" "" but the version discovered at that endpoint, {version}"" "" is not supported by openstacksdk. The resulting Proxy"" "" object will only have direct passthrough REST"" "" capabilities."".format( version=api_version, service_type=self.service_type ), category=exceptions.UnsupportedServiceVersion, **version_kwargs ""Service {service_type} has no discoverable version."" "" The resulting Proxy object will only have direct"" "" passthrough REST capabilities."".format( category=exceptions.UnsupportedServiceVersion,",21,30
openstack%2Fopenstack-ansible-os_nova~master~Ic6f2606b5a478c7a891c25bd131ad351a19699bc,openstack/openstack-ansible-os_nova,master,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-25 15:59:27.000000000,2023-05-26 01:26:42.000000000,2023-05-26 01:25:47.000000000,"[{'_account_id': 15993}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-25 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/158550eb527e88e07fcd26151da1b5daa334c1ad', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n'}, {'number': 2, 'created': '2023-05-25 21:01:27.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/47007578b164287c5bbbf425222cd8a53a37a306', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n'}]",0,884415,47007578b164287c5bbbf425222cd8a53a37a306,11,4,2,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/15/884415/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,158550eb527e88e07fcd26151da1b5daa334c1ad,, - libvirt-daemon,,8,0
openstack%2Fbifrost~master~Ia9f6e448740446c4ff2a6137fc417174a3012a7e,openstack/bifrost,master,Ia9f6e448740446c4ff2a6137fc417174a3012a7e,Simplify set_fact for ssh_public_key,MERGED,2023-02-23 09:19:51.000000000,2023-05-26 00:45:33.000000000,2023-05-26 00:44:32.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-23 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6383f85103af71b32942f1ef603475a1e11615b9', 'message': 'Simplify set_fact for ssh_public_key\n\nFun fact, lookups execute and are evaluated on the Ansible control\nmachine [1], so this can be greatly simplified.\n\nThis was rewritten to solve the ignore_errors which ansible-lint\ntakes offence to.\n\n[1] https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_lookups.html#lookups\n\nChange-Id: Ia9f6e448740446c4ff2a6137fc417174a3012a7e\n'}, {'number': 2, 'created': '2023-03-12 23:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/973644722ae184def9b4f849833c1a7574cc77f5', 'message': 'Simplify set_fact for ssh_public_key\n\nFun fact, lookups execute and are evaluated on the Ansible control\nmachine [1], so this can be greatly simplified.\n\nThis was rewritten to solve the ignore_errors which ansible-lint\ntakes offence to.\n\n[1] https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_lookups.html#lookups\n\nChange-Id: Ia9f6e448740446c4ff2a6137fc417174a3012a7e\n'}, {'number': 3, 'created': '2023-03-23 18:21:12.000000000', 'files': ['playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/562d013d2aec5b22d775210ac7a14d858922f9c9', 'message': 'Simplify set_fact for ssh_public_key\n\nFun fact, lookups execute and are evaluated on the Ansible control\nmachine [1], so this can be greatly simplified.\n\nThis was rewritten to solve the ignore_errors which ansible-lint\ntakes offence to.\n\n[1] https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_lookups.html#lookups\n\nChange-Id: Ia9f6e448740446c4ff2a6137fc417174a3012a7e\n'}]",5,874857,562d013d2aec5b22d775210ac7a14d858922f9c9,20,4,3,25600,,,0,"Simplify set_fact for ssh_public_key

Fun fact, lookups execute and are evaluated on the Ansible control
machine [1], so this can be greatly simplified.

This was rewritten to solve the ignore_errors which ansible-lint
takes offence to.

[1] https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_lookups.html#lookups

Change-Id: Ia9f6e448740446c4ff2a6137fc417174a3012a7e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/57/874857/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/ssh_public_key_path.yaml']",2,6383f85103af71b32942f1ef603475a1e11615b9,ssh_public_key,,"# Copyright (c) 2015 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- - delegate_to: localhost block: - name: ""Find a suitable SSH public key"" set_fact: ssh_public_key_path: ""{{ item }}"" with_first_found: - ""{{ lookup('env', 'HOME') }}/.ssh/id_ed25519.pub"" - ""{{ lookup('env', 'HOME') }}/.ssh/id_ecdsa.pub"" - ""{{ lookup('env', 'HOME') }}/.ssh/id_rsa.pub"" when: ssh_public_key_path is undefined ignore_errors: yes - name: ""Error if ssh_public_key_path cannot be detected"" fail: msg: ""ssh_public_key_path and cannot be guessed from ~/.ssh"" when: ssh_public_key_path is undefined - name: ""Check to see if there is a file where the ssh_public_key_path is defined"" stat: path: ""{{ ssh_public_key_path }}"" register: test_ssh_public_key_path - name: ""Error if ssh_public_key_path is not valid"" fail: msg: ""ssh_public_key_path {{ ssh_public_key_path }} was not found"" when: not test_ssh_public_key_path.stat.exists - name: ""Read SSH public key in ssh_public_key"" set_fact: ssh_public_key: ""{{ lookup('file', ssh_public_key_path) }}"" ",7,46
openstack%2Fopenstack-ansible~master~If0c11958bbe3ab64f4f535c7e795f3e035f52a60,openstack/openstack-ansible,master,If0c11958bbe3ab64f4f535c7e795f3e035f52a60,Run healthcheck-openstack from utility host,MERGED,2023-05-18 12:30:20.000000000,2023-05-26 00:19:51.000000000,2023-05-26 00:18:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-18 12:30:20.000000000', 'files': ['playbooks/healthcheck-openstack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70c48b47b26d3743b7b1befa3562dd69becac05a', 'message': 'Run healthcheck-openstack from utility host\n\nInstead of running healtcheck-openstack from localhost, we launch it\nfrom utility host now which has required env and credentials to\naccess cloud.\n\nChange-Id: If0c11958bbe3ab64f4f535c7e795f3e035f52a60\n'}]",10,883496,70c48b47b26d3743b7b1befa3562dd69becac05a,19,3,1,28619,,,0,"Run healthcheck-openstack from utility host

Instead of running healtcheck-openstack from localhost, we launch it
from utility host now which has required env and credentials to
access cloud.

Change-Id: If0c11958bbe3ab64f4f535c7e795f3e035f52a60
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/883496/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-openstack.yml'],1,70c48b47b26d3743b7b1befa3562dd69becac05a,,"- name: Test OpenStack basic functionality hosts: utility_all[0] vars: ansible_python_interpreter: ""{{ utility_venv_bin }}/python"" - name: Test keystone block: - name: Authenticate to the cloud and retrieve the service catalog openstack.cloud.catalog_service_info: cloud: default interface: ""{{ item }}"" verify: ""{{ keystone_service_internaluri_insecure | ternary(false, true) }}"" with_items: - internal - public register: service_catalog - name: Show service catalog debug: var: service_catalog.results tags: - healthchecks - healthchecks-keystone-install - name: Test Glance block: tags: - healthchecks - healthchecks-glance-install - name: Test cinder block: tags: - healthchecks - healthchecks-cinder-install - name: Test neutron block: tags: - healthchecks - healthchecks-neutron-install # Test os-heat-install.yml - name: Test heat block: tags: - healthchecks - healthchecks-heat-install # Test os-nova-install.yml - name: Test nova block: userdata: | tags: - healthchecks - healthchecks-nova-install # Test os-swift-install.yml - name: Test swift block: tags: - healthchecks - healthchecks-swift-install # Test os-barbican-install.yml # TO BE IMPLEMENTED -- there is no ansible module for that so cli might be needed. # Test os-horizon-install.yml # TO BE IMPLEMENTED # Test os-designate-install.yml # TO BE IMPLEMENTED with os_recordset hosts: utility_all[0] vars: ansible_python_interpreter: ""{{ utility_venv_bin }}/python""","- name: Test Keystone hosts: localhost - name: Authenticate to the cloud and retrieve the service catalog openstack.cloud.auth: cloud: default interface: internal verify: ""{{ keystone_service_internaluri_insecure | ternary(false, true) }}"" - name: Show service catalog debug: var: service_catalog tags: - healthchecks - healthchecks-keystone-install # Test os-barbican-install.yml # TO BE IMPLEMENTED -- there is no ansible module for that so cli might be needed. # Test os-glance-install.yml # If tempest is installed, this is tested anyway and can be skipped. - name: Test Glance gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: tags: - healthchecks - healthchecks-glance-install # Test os-cinder-install.yml - name: Test cinder gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: tags: - healthchecks - healthchecks-cinder-install # NOTE(evrardjp): This doesn't respect playbook order, as we'll need neutron tests to # run before nova tests # Test os-neutron-install.yml - name: Test neutron gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: tags: - healthchecks - healthchecks-neutron-install # Test os-heat-install.yml - name: Test heat gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: tags: - healthchecks - healthchecks-heat-install # Test os-nova-install.yml - name: Test nova gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: user_data: | tags: - healthchecks - healthchecks-nova-install # Test os-horizon-install.yml # TO BE IMPLEMENTED # Test os-designate-install.yml # TO BE IMPLEMENTED with os_recordset # Test os-swift-install.yml - name: Test swift gather_facts: no hosts: localhost vars_files: - defaults/healthchecks-vars.yml tasks: - block: tags: - healthchecks - healthchecks-swift-install# Test os-molteniron-install.yml # TO BE IMPLEMENTED hosts: localhost",69,97
openstack%2Fpython-swiftclient~master~Idf79682e8c22fc117ef9b5e6e01f759c3bf39b1e,openstack/python-swiftclient,master,Idf79682e8c22fc117ef9b5e6e01f759c3bf39b1e,Avoids duplicate naming,NEW,2022-11-18 02:46:20.000000000,2023-05-25 23:42:54.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 02:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/707ed554f0d640d459c2f84e7dcf9079bfcbaa9c', 'message': 'Avoids duplicate naming\n\nChanges the name of the run script from /bin/swift to /bin/run-swift and\nupdates cfg accordingly\n\nCloses-Bug: #1996959\nChange-Id: Idf79682e8c22fc117ef9b5e6e01f759c3bf39b1e\n'}, {'number': 2, 'created': '2023-05-25 21:46:48.000000000', 'files': ['bin/run-swift', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e31e9c1f78c7b1d32f2d7ad9b59abea353aeddc4', 'message': 'Avoids duplicate naming\n\nChanges the name of the run script from /bin/swift to /bin/run-swift and\nupdates cfg accordingly\n\nCloses-Bug: #1996959\nChange-Id: Idf79682e8c22fc117ef9b5e6e01f759c3bf39b1e\n'}]",0,864965,e31e9c1f78c7b1d32f2d7ad9b59abea353aeddc4,4,2,2,35553,,,0,"Avoids duplicate naming

Changes the name of the run script from /bin/swift to /bin/run-swift and
updates cfg accordingly

Closes-Bug: #1996959
Change-Id: Idf79682e8c22fc117ef9b5e6e01f759c3bf39b1e
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/65/864965/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/run-swift', 'setup.cfg']",2,707ed554f0d640d459c2f84e7dcf9079bfcbaa9c,fix-entrypoint-duplication, bin/run-swift, bin/swift,1,1
openstack%2Fopenstack-ansible~stable%2Fxena~Ib86a45120bd69980a8378e7d0e7bb218d8518e72,openstack/openstack-ansible,stable/xena,Ib86a45120bd69980a8378e7d0e7bb218d8518e72,Bump OpenStack-Ansible for Xena EM,MERGED,2023-05-18 12:45:26.000000000,2023-05-25 23:29:52.000000000,2023-05-25 23:28:41.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-18 12:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d4efbab8fb72ecacb4c0a411bd41cc64998dabe', 'message': 'Bump OpenStack-Ansible for Xena EM\n\nChange-Id: Ib86a45120bd69980a8378e7d0e7bb218d8518e72\n'}, {'number': 2, 'created': '2023-05-18 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d6874792893b1ba826d5fdeae2f1d7d33afab8b0', 'message': 'Bump OpenStack-Ansible for Xena EM\n\nChange-Id: Ib86a45120bd69980a8378e7d0e7bb218d8518e72\n'}, {'number': 3, 'created': '2023-05-24 14:07:00.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e1522c27907c6aa6dbe68a831791cd45fb01dac4', 'message': 'Bump OpenStack-Ansible for Xena EM\n\nChange-Id: Ib86a45120bd69980a8378e7d0e7bb218d8518e72\n'}]",0,883500,e1522c27907c6aa6dbe68a831791cd45fb01dac4,13,4,3,28619,,,0,"Bump OpenStack-Ansible for Xena EM

Change-Id: Ib86a45120bd69980a8378e7d0e7bb218d8518e72
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/883500/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,0d4efbab8fb72ecacb4c0a411bd41cc64998dabe,bump_osa,### HEAD as of 18.05.2023 ### version: a5fd174b2fbdf7ca9d8c0f3f8ce1788914aaa243 shallow_since: '2023-04-12' version: e3ebfdaa0610816c1c09c628c36cdc2446d20d6f shallow_since: '2023-05-01' version: 0aea603673c907495a97ab1464bc0a07d758dbdd shallow_since: '2023-05-03' version: bbaec6776c309f5f4eb8a0891ece48f19237981c shallow_since: '2023-05-01',### HEAD as of 14.04.2023 ### version: b5305adfcef6956036f90262e5cf42cc6fd59be4 shallow_since: '2021-12-27' version: 024118851338597b5720fb9dc34e1576794e9a56 shallow_since: '2021-12-06' version: e84617d70ed3c9e320ee7cc30619cdfe5e01b1a4 shallow_since: '2023-04-11' version: 9f44aa21b08b042c22e4e5fd3eae47c64c4d5ba2 shallow_since: '2023-04-10',59,59
openstack%2Fneutron~stable%2Fyoga~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,stable/yoga,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-22 06:36:56.000000000,2023-05-25 23:16:29.000000000,2023-05-25 23:15:13.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 06:36:56.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/508d8328aa52b3f4bc6dff9ab1c4715631221c41', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",0,883712,508d8328aa52b3f4bc6dff9ab1c4715631221c41,9,3,1,30772,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/883712/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,508d8328aa52b3f4bc6dff9ab1c4715631221c41,bug/2016704-stable/yoga,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Fneutron~stable%2F2023.1~I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,openstack/neutron,stable/2023.1,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-22 06:39:37.000000000,2023-05-25 23:16:23.000000000,2023-05-25 23:15:09.000000000,"[{'_account_id': 7730}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 06:39:37.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/edbb0f4aa5896ecdd4c5356b592a09827af3b3b8', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",1,883714,edbb0f4aa5896ecdd4c5356b592a09827af3b3b8,10,4,1,30772,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/883714/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,edbb0f4aa5896ecdd4c5356b592a09827af3b3b8,bug/2016704-stable/2023.1,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Fansible-role-uwsgi~stable%2Fzed~I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,openstack/ansible-role-uwsgi,stable/zed,I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,Replace imports with dynamic includes,MERGED,2023-05-25 15:00:17.000000000,2023-05-25 22:48:11.000000000,2023-05-25 22:47:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 15:00:17.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/da5309e1f288e1dbeef763dcc5422305005e7f2d', 'message': 'Replace imports with dynamic includes\n\nA weird behaviour has been spotted in AIO, where role, that was\nimporting python_venv_build and uwsgi roles was failing, as\nvenv_build_distro_package_list definition from uwsgi role was applied\non upper level even before uwsgi runtime\n\nAs a result, previous import was failing with\nuwsgi_build_distro_package_list being undefined.\n\nReplacing any import with inlcude was solving the issue. Since we re-use\nuwsgi role a lot and using include make sense in the role, we\nstart replacing static imports from here.\n\nChange-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d\n(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)\n'}]",0,884372,da5309e1f288e1dbeef763dcc5422305005e7f2d,8,3,1,28619,,,0,"Replace imports with dynamic includes

A weird behaviour has been spotted in AIO, where role, that was
importing python_venv_build and uwsgi roles was failing, as
venv_build_distro_package_list definition from uwsgi role was applied
on upper level even before uwsgi runtime

As a result, previous import was failing with
uwsgi_build_distro_package_list being undefined.

Replacing any import with inlcude was solving the issue. Since we re-use
uwsgi role a lot and using include make sense in the role, we
start replacing static imports from here.

Change-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d
(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/72/884372/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_install.yml']",2,da5309e1f288e1dbeef763dcc5422305005e7f2d,, include_role:, import_role:,11,3
openstack%2Fansible-collections-openstack~master~I7ab624428c8bb06030a2b28888f5cb89bb249f08,openstack/ansible-collections-openstack,master,I7ab624428c8bb06030a2b28888f5cb89bb249f08,Ensure coe_cluster_template compare labels properly,NEW,2023-05-02 17:21:22.000000000,2023-05-25 22:31:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-02 17:21:22.000000000', 'files': ['changelogs/fragments/coe_cluster_template_labels_comparison.yml', 'ci/roles/coe_cluster_template/tasks/main.yml', 'plugins/modules/coe_cluster_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/915d0f024518edbd0b01badf167678de40a3f98c', 'message': 'Ensure coe_cluster_template compare labels properly\n\nSDK does return all keys and values of the template labels as\nstrings. At the same time user can define some labels as integers or\nbooleans, which will break comparison of labels and lead to module\nfailure on consecutive runs.\n\nChange-Id: I7ab624428c8bb06030a2b28888f5cb89bb249f08\n'}]",0,882089,915d0f024518edbd0b01badf167678de40a3f98c,6,2,1,28619,,,0,"Ensure coe_cluster_template compare labels properly

SDK does return all keys and values of the template labels as
strings. At the same time user can define some labels as integers or
booleans, which will break comparison of labels and lead to module
failure on consecutive runs.

Change-Id: I7ab624428c8bb06030a2b28888f5cb89bb249f08
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/89/882089/1 && git format-patch -1 --stdout FETCH_HEAD,"['changelogs/fragments/coe_cluster_template_labels_comparison.yml', 'ci/roles/coe_cluster_template/tasks/main.yml', 'plugins/modules/coe_cluster_template.py']",3,915d0f024518edbd0b01badf167678de40a3f98c,," elif isinstance(labels, dict): labels = dict({str(k): str(v) for k, v in labels.items()})",,16,0
openstack%2Fproject-config~master~I37061889efe876511b21209295d9a8124a6f5bcb,openstack/project-config,master,I37061889efe876511b21209295d9a8124a6f5bcb,"Revert ""Pull grafyaml from quay.io""",MERGED,2023-05-24 20:54:45.000000000,2023-05-25 21:26:43.000000000,2023-05-25 21:24:36.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 20:54:45.000000000', 'files': ['grafana/run-grafana.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f06b263740aa206fa2bba949b3635f03a88ed31d', 'message': 'Revert ""Pull grafyaml from quay.io""\n\nThis reverts commit 01cbb2cdabe647d488493632f24afdfed214074e.\n\nOpenDev is moving back to docker.io to preserve speculative container\nimage testing.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/884291\nChange-Id: I37061889efe876511b21209295d9a8124a6f5bcb\n'}]",0,884293,f06b263740aa206fa2bba949b3635f03a88ed31d,11,4,1,4146,,,0,"Revert ""Pull grafyaml from quay.io""

This reverts commit 01cbb2cdabe647d488493632f24afdfed214074e.

OpenDev is moving back to docker.io to preserve speculative container
image testing.

Depends-On: https://review.opendev.org/c/opendev/grafyaml/+/884291
Change-Id: I37061889efe876511b21209295d9a8124a6f5bcb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/884293/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/run-grafana.sh'],1,f06b263740aa206fa2bba949b3635f03a88ed31d,opendev-quay-revert,${DOCKER} pull docker.io/opendevorg/grafyaml docker.io/opendevorg/grafyaml,${DOCKER} pull quay.io/opendevorg/grafyaml quay.io/opendevorg/grafyaml,2,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib5bd12c67891acfd5f046673f156d301e0e103ee,openstack/tripleo-heat-templates,stable/wallaby,Ib5bd12c67891acfd5f046673f156d301e0e103ee,Add missing description to some Octavia API parameters,MERGED,2022-11-02 08:22:15.000000000,2023-05-25 21:19:58.000000000,2023-05-25 21:19:58.000000000,"[{'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-11-02 08:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9eb79c746741560f40486a8cb0ac50364b34910', 'message': 'Add missing description to some Octavia API parameters\n\n Conflicts:\n\tdeployment/octavia/octavia-api-container-puppet.yaml\n\nChange-Id: Ib5bd12c67891acfd5f046673f156d301e0e103ee\n(cherry picked from commit e6a77b4243b3f83d4ed8c28b9a56e81992fd59b2)\n'}, {'number': 2, 'created': '2022-11-17 07:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06fd190a161d219fae1b6d91f504c97d71d04a72', 'message': 'Add missing description to some Octavia API parameters\n\n Conflicts:\n\tdeployment/octavia/octavia-api-container-puppet.yaml\n\nChange-Id: Ib5bd12c67891acfd5f046673f156d301e0e103ee\n(cherry picked from commit e6a77b4243b3f83d4ed8c28b9a56e81992fd59b2)\n'}, {'number': 3, 'created': '2022-11-17 10:08:59.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35e1ce5ac78fea5b107002d129602222c5dbe160', 'message': 'Add missing description to some Octavia API parameters\n\nChange-Id: Ib5bd12c67891acfd5f046673f156d301e0e103ee\n(cherry picked from commit e6a77b4243b3f83d4ed8c28b9a56e81992fd59b2)\n'}]",6,863201,35e1ce5ac78fea5b107002d129602222c5dbe160,25,6,3,34429,,,0,"Add missing description to some Octavia API parameters

Change-Id: Ib5bd12c67891acfd5f046673f156d301e0e103ee
(cherry picked from commit e6a77b4243b3f83d4ed8c28b9a56e81992fd59b2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/863201/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,f9eb79c746741560f40486a8cb0ac50364b34910,, description: > Default list of OpenSSL ciphers for new TLS-enabled listeners. description: > Default list of OpenSSL ciphers for new TLS-enabled pools. description: > List of OpenSSL ciphers. Usage of these ciphers will be blocked. description: > List of OpenSSL cipher string of TLS versions to use for new TLS-enabled listeners. description: > List of TLS versions to use for new TLS-enabled pools. description: > Minimum allowed TLS version for listeners and pools.,,13,0
openstack%2Fopenstack-ansible-os_ironic~master~Idfb5a4e9bf4f39441fc99b5aa78500d6195e6da0,openstack/openstack-ansible-os_ironic,master,Idfb5a4e9bf4f39441fc99b5aa78500d6195e6da0,Define ipa-insecure=1 in LXC example,MERGED,2023-05-23 16:58:48.000000000,2023-05-25 21:16:14.000000000,2023-05-25 21:15:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-23 16:58:48.000000000', 'files': ['doc/source/configure-lxc-example.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/36468adfac42fd57a9217f99950eb269568f2148', 'message': 'Define ipa-insecure=1 in LXC example\n\nIn LXC example, the BMAAS network is not routable to any other networks\nnor to the internal VIP.\nIt means that Ironic Python Agent(IPA) is not able to communicate with\nironic API and ironic inspector over haproxy.\nTo solve that issue, `ironic_inspector_callback_url` and\n`ironic_ironic_conf_overrides.service_catalog.endpoint_override` values\nwere overriden to instruct IPA to communicate with ironic api/inspector\nbackends directly on BMAAS network(instead of going via HAProxy on\nmanagement network).\nIt may cause a problem with certificate verification if these backends\nare listening on https because most likely they are using self-signed\ncertificate.\nAs a workaround, `ipa-insecure=1` kernel parameter[1] is added to IPA\nfor both inspection and deployment.\n\n[1] https://docs.openstack.org/ironic-python-agent/latest/install/index.html#ipa-and-tls\n\nChange-Id: Idfb5a4e9bf4f39441fc99b5aa78500d6195e6da0\n'}]",0,883956,36468adfac42fd57a9217f99950eb269568f2148,8,3,1,32666,,,0,"Define ipa-insecure=1 in LXC example

In LXC example, the BMAAS network is not routable to any other networks
nor to the internal VIP.
It means that Ironic Python Agent(IPA) is not able to communicate with
ironic API and ironic inspector over haproxy.
To solve that issue, `ironic_inspector_callback_url` and
`ironic_ironic_conf_overrides.service_catalog.endpoint_override` values
were overriden to instruct IPA to communicate with ironic api/inspector
backends directly on BMAAS network(instead of going via HAProxy on
management network).
It may cause a problem with certificate verification if these backends
are listening on https because most likely they are using self-signed
certificate.
As a workaround, `ipa-insecure=1` kernel parameter[1] is added to IPA
for both inspection and deployment.

[1] https://docs.openstack.org/ironic-python-agent/latest/install/index.html#ipa-and-tls

Change-Id: Idfb5a4e9bf4f39441fc99b5aa78500d6195e6da0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/56/883956/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configure-lxc-example.rst'],1,36468adfac42fd57a9217f99950eb269568f2148,tls-backend," # Add ipa-insecure=1 to kernel parameters # Needed when ironic endpoint is available over https with self-signed cert. ironic_kernel_append_params: ""ipa-debug=1 systemd.journald.forward_to_console=yes ipa-insecure=1"" # Add ipa-insecure=1 to kernel parameters # Needed when inspector is available over https with self-signed cert. ironic_inspector_extra_callback_parameters: ""ipa-collect-lldp=1 ipa-insecure=1"" ",,8,0
openstack%2Fopenstack-ansible~master~Ie74ad5eeb90b68c070e38bb5a5b5b0f3f346edf4,openstack/openstack-ansible,master,Ie74ad5eeb90b68c070e38bb5a5b5b0f3f346edf4,Add release note to reflect libvirt modular naming issue,ABANDONED,2023-05-25 15:19:40.000000000,2023-05-25 21:05:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-25 15:19:40.000000000', 'files': ['releasenotes/notes/centos_modular_libvirt_known-37006ca7d1d47b09.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2728d07236ee894881d94b80d824c5aa4a472373', 'message': ""Add release note to reflect libvirt modular naming issue\n\nCentOS has just published new libvirt packaging that contain only\nnew modular services, that broke our nova role. We're adding this as\na known issue for 2023.1 release.\n\nChange-Id: Ie74ad5eeb90b68c070e38bb5a5b5b0f3f346edf4\n""}]",1,884412,2728d07236ee894881d94b80d824c5aa4a472373,5,3,1,28619,,,0,"Add release note to reflect libvirt modular naming issue

CentOS has just published new libvirt packaging that contain only
new modular services, that broke our nova role. We're adding this as
a known issue for 2023.1 release.

Change-Id: Ie74ad5eeb90b68c070e38bb5a5b5b0f3f346edf4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/884412/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/centos_modular_libvirt_known-37006ca7d1d47b09.yaml'],1,2728d07236ee894881d94b80d824c5aa4a472373,,"--- issues: - | Nova role is known not to work with CentOS 9 Stream. This is caused by CentOS switching their Libvirt packaging to contain only new modular system, that replaces common service names in favor of new ones. As this has happened right before release deadline, we were not able to fix the path for CentOS Stream. Rocky Linux is not affected by this issue at the moment. ",,9,0
openstack%2Fopenstack-zuul-jobs~master~Ib58e053c8d354f7a223dce1070cae9731f5c32e1,openstack/openstack-zuul-jobs,master,Ib58e053c8d354f7a223dce1070cae9731f5c32e1,"Revert ""Pull grafyaml from quay.io""",MERGED,2023-05-24 20:56:42.000000000,2023-05-25 21:03:51.000000000,2023-05-25 21:02:54.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 20:56:42.000000000', 'files': ['playbooks/grafana/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6e81c37e803223e3365416f8734334255fc934f9', 'message': 'Revert ""Pull grafyaml from quay.io""\n\nThis reverts commit d6f701cfeb53cd8f489a6b8882eafdeb7a6c1dac.\n\nOpenDev is moving back to docker.io to preserve speculative container\nimage testing.\n\nDepends-On: https://review.opendev.org/c/opendev/grafyaml/+/884291\nChange-Id: Ib58e053c8d354f7a223dce1070cae9731f5c32e1\n'}]",0,884294,6e81c37e803223e3365416f8734334255fc934f9,9,4,1,4146,,,0,"Revert ""Pull grafyaml from quay.io""

This reverts commit d6f701cfeb53cd8f489a6b8882eafdeb7a6c1dac.

OpenDev is moving back to docker.io to preserve speculative container
image testing.

Depends-On: https://review.opendev.org/c/opendev/grafyaml/+/884291
Change-Id: Ib58e053c8d354f7a223dce1070cae9731f5c32e1
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/94/884294/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/grafana/main.yaml'],1,6e81c37e803223e3365416f8734334255fc934f9,opendev-quay-revert, docker.io/opendevorg/grafyaml --debug validate /grafana docker run --rm -t --network=host -e 'GRAFANA_URL=http://admin:password@localhost:3000' -v {{ GRAFYAML_DIR }}:/grafana:ro docker.io/opendevorg/grafyaml, quay.io/opendevorg/grafyaml --debug validate /grafana docker run --rm -t --network=host -e 'GRAFANA_URL=http://admin:password@localhost:3000' -v {{ GRAFYAML_DIR }}:/grafana:ro quay.io/opendevorg/grafyaml,2,2
openstack%2Fneutron-lib~stable%2Fzed~Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,openstack/neutron-lib,stable/zed,Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,Context.elevated() method sets all required roles for context object,MERGED,2023-05-17 22:01:07.000000000,2023-05-25 20:44:38.000000000,2023-05-25 20:43:43.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 22:01:07.000000000', 'files': ['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/00d4c31942d393942050f912ced14e3c85e4b7d2', 'message': 'Context.elevated() method sets all required roles for context object\n\nIf context should be elevated, it should always have ""admin"", ""member""\nand ""reader"" roles set as admin user always have ""member"" and ""reader""\nrole as well.\nUsually, when context is created by keystone it is like that but in some\ncases, e.g. when noauth middleware is used instead of keystone it\'s not\nlike that and then context from the environment don\'t have any role set\nso we should make sure that elevated context have all required roles set\ncorrectly.\n\nCloses-Bug: #2019946\nChange-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9\n(cherry picked from commit c5ca1ddf420b827e4684dee6a6495475014a91e3)\n'}]",1,883399,00d4c31942d393942050f912ced14e3c85e4b7d2,12,3,1,11975,,,0,"Context.elevated() method sets all required roles for context object

If context should be elevated, it should always have ""admin"", ""member""
and ""reader"" roles set as admin user always have ""member"" and ""reader""
role as well.
Usually, when context is created by keystone it is like that but in some
cases, e.g. when noauth middleware is used instead of keystone it's not
like that and then context from the environment don't have any role set
so we should make sure that elevated context have all required roles set
correctly.

Closes-Bug: #2019946
Change-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9
(cherry picked from commit c5ca1ddf420b827e4684dee6a6495475014a91e3)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/99/883399/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py']",2,00d4c31942d393942050f912ced14e3c85e4b7d2,secure-rbac-stable/2023.1-stable/zed," expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) def test_neutron_context_elevated_keeps_custom_roles(self): expected_admin_roles = ['admin', 'member', 'reader'] custom_roles = ['custom_role'] ctx = context.Context('user_id', 'tenant_id', roles=custom_roles) self.assertFalse(ctx.is_admin) self.assertNotEqual('all', ctx.system_scope) for expected_admin_role in expected_admin_roles: self.assertNotIn(expected_admin_role, ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) elevated_ctx = ctx.elevated() self.assertTrue(elevated_ctx.is_admin) for expected_admin_role in expected_admin_roles: self.assertIn(expected_admin_role, elevated_ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) ",,32,2
openstack%2Fkayobe~master~Ib7b67b4407a964c7f6b23535971225ecd92d9817,openstack/kayobe,master,Ib7b67b4407a964c7f6b23535971225ecd92d9817,firewalld: make changes less disruptive,NEW,2023-05-25 11:33:33.000000000,2023-05-25 20:39:38.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 11:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea6f120c61bf34104f541227e06be5d10d045be6', 'message': ""firewalld: make changes less disruptive\n\nTry to apply firewall changes with minimal disruption, since restarting or\nreloading firewalld causes it to set all chains to DROP while it builds up\nrules, breaking connections. See https://access.redhat.com/solutions/2068503\n\nSome Ansible firewalld module notes:\n- Rules can be applied permanently (written to config) and/or immediately\n  (applied to a running firewalld service).\n- 'immediate=true' argument requires firewalld to be running\n- 'offline' argument does nothing\n  (https://github.com/ansible-collections/ansible.posix/issues/81)\n- Zone level transactions cannot be immediate, and a restart/reload is\n  required before applying any rules to new zones with immediate=true.\n\nApproach:\n- Apply all config permanently\n- Apply config immediately where possible\n- Restart (if updated) or reload only when necessary, after all config has\n  been applied\n\nUpdate ansible.posix to avoid\nhttps://github.com/ansible-collections/ansible.posix/pull/399.\n\nChange-Id: Ib7b67b4407a964c7f6b23535971225ecd92d9817\n""}, {'number': 2, 'created': '2023-05-25 18:54:36.000000000', 'files': ['releasenotes/notes/firewalld-reduce-downtime-269244ff5023a23f.yaml', 'requirements.yml', 'ansible/roles/firewalld/tasks/enabled.yml', 'ansible/roles/firewalld/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a7bb2be97db32c3e58f7055410e28716ce6e15c4', 'message': ""firewalld: make changes less disruptive\n\nTry to apply firewall changes with minimal disruption, since restarting or\nreloading firewalld causes it to set all chains to DROP while it builds up\nrules, breaking connections. See https://access.redhat.com/solutions/2068503\n\nSome Ansible firewalld module notes:\n- Rules can be applied permanently (written to config) and/or immediately\n  (applied to a running firewalld service).\n- 'immediate=true' argument requires firewalld to be running\n- 'offline' argument does nothing\n  (https://github.com/ansible-collections/ansible.posix/issues/81)\n- Zone level transactions cannot be immediate, and a restart/reload is\n  required before applying any rules to new zones with immediate=true.\n\nApproach:\n- Apply all config permanently\n- Apply config immediately where possible\n- Restart (if updated) or reload only when necessary, after all config has\n  been applied\n\nUpdate ansible.posix to avoid\nhttps://github.com/ansible-collections/ansible.posix/pull/399.\n\nChange-Id: Ib7b67b4407a964c7f6b23535971225ecd92d9817\n""}]",2,884360,a7bb2be97db32c3e58f7055410e28716ce6e15c4,8,2,2,14826,,,0,"firewalld: make changes less disruptive

Try to apply firewall changes with minimal disruption, since restarting or
reloading firewalld causes it to set all chains to DROP while it builds up
rules, breaking connections. See https://access.redhat.com/solutions/2068503

Some Ansible firewalld module notes:
- Rules can be applied permanently (written to config) and/or immediately
  (applied to a running firewalld service).
- 'immediate=true' argument requires firewalld to be running
- 'offline' argument does nothing
  (https://github.com/ansible-collections/ansible.posix/issues/81)
- Zone level transactions cannot be immediate, and a restart/reload is
  required before applying any rules to new zones with immediate=true.

Approach:
- Apply all config permanently
- Apply config immediately where possible
- Restart (if updated) or reload only when necessary, after all config has
  been applied

Update ansible.posix to avoid
https://github.com/ansible-collections/ansible.posix/pull/399.

Change-Id: Ib7b67b4407a964c7f6b23535971225ecd92d9817
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/60/884360/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/firewalld-reduce-downtime-269244ff5023a23f.yaml', 'requirements.yml', 'ansible/roles/firewalld/tasks/enabled.yml', 'ansible/roles/firewalld/handlers/main.yml']",4,ea6f120c61bf34104f541227e06be5d10d045be6,firewalld-minimal,"- name: Restart or reload firewalld state: ""{% if restart_firewalld %}restarted{% else %}reloaded{% endif %}"" vars: restart_firewalld: ""{{ firewalld_install_result is changed and firewalld_is_active.stdout == 'active' }}"" listen: Restart or reload firewalld",- name: Restart firewalld state: restarted listen: Restart firewalld,79,18
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia9097ee6a0f992712bfab4a0a8fac7a33945d3d5,openstack/tripleo-heat-templates,stable/wallaby,Ia9097ee6a0f992712bfab4a0a8fac7a33945d3d5,Testing patch #884332,ABANDONED,2023-05-25 13:51:12.000000000,2023-05-25 20:09:55.000000000,,[],"[{'number': 1, 'created': '2023-05-25 13:51:12.000000000', 'files': ['deployment/cephadm/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f724785efab005b9104340b6bc49f1ffd584974', 'message': 'Testing patch #884332\n\nDepends-On: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\nChange-Id: Ia9097ee6a0f992712bfab4a0a8fac7a33945d3d5\n'}]",2,884399,9f724785efab005b9104340b6bc49f1ffd584974,4,0,1,25402,,,0,"Testing patch #884332

Depends-On: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31
Change-Id: Ia9097ee6a0f992712bfab4a0a8fac7a33945d3d5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/884399/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-base.yaml'],1,9f724785efab005b9104340b6bc49f1ffd584974,, Ceph base service. Shared by all Ceph services. - With love, Ceph base service. Shared by all Ceph services.,1,1
openstack%2Fcharm-cinder~master~If4822c085e49a1e6624c9383e20035c6d9a618c5,openstack/charm-cinder,master,If4822c085e49a1e6624c9383e20035c6d9a618c5,Remove auth_uri from group keystone_authtoken,ABANDONED,2022-11-21 21:56:52.000000000,2023-05-25 20:03:59.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 27623}]","[{'number': 1, 'created': '2022-11-21 21:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b7e2fdebb6004a8bf8ae94ef05f167d53ba90a40', 'message': 'Remove auth_uri from group keystone_authtoken\n\nThe option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.\nThis commit changes the use of auth_uri to www_authenticate_uri correctly.\n\nChange-Id: If4822c085e49a1e6624c9383e20035c6d9a618c5\n'}, {'number': 2, 'created': '2022-11-21 22:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6aca3876d5ee1bd6c5679b00ff1003bfb25cab90', 'message': 'Remove auth_uri from group keystone_authtoken\n\nThe option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.\nThis commit changes the use of auth_uri to www_authenticate_uri correctly.\n\nChange-Id: If4822c085e49a1e6624c9383e20035c6d9a618c5\nCloses-Bug: #1837119\n'}, {'number': 3, 'created': '2022-11-28 23:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3427f2d86c6ff306ff7dd41cac03138d86572367', 'message': 'Remove auth_uri from group keystone_authtoken\n\nThe option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.\nThis commit changes the use of auth_uri to www_authenticate_uri correctly.\n\nChange-Id: If4822c085e49a1e6624c9383e20035c6d9a618c5\n'}, {'number': 4, 'created': '2022-11-28 23:24:02.000000000', 'files': ['templates/icehouse/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f4311224ca9a59531e9ef314b1f0e4c1695ab234', 'message': 'Remove auth_uri from group keystone_authtoken\n\nThe option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.\nThis commit changes the use of auth_uri to www_authenticate_uri correctly.\n\nChanges to charm-helpers on Github - https://github.com/juju/charm-helpers/pull/750\n\nCloses-bug: #1837119\nChange-Id: If4822c085e49a1e6624c9383e20035c6d9a618c5\n'}]",1,865199,f4311224ca9a59531e9ef314b1f0e4c1695ab234,12,5,4,35369,,,0,"Remove auth_uri from group keystone_authtoken

The option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.
This commit changes the use of auth_uri to www_authenticate_uri correctly.

Changes to charm-helpers on Github - https://github.com/juju/charm-helpers/pull/750

Closes-bug: #1837119
Change-Id: If4822c085e49a1e6624c9383e20035c6d9a618c5
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/99/865199/4 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'templates/icehouse/cinder.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",4,b7e2fdebb6004a8bf8ae94ef05f167d53ba90a40,remove_auth_uri_from_keystone_authtoken,www_authenticate_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},5,5
openstack%2Fcharm-cinder~master~I08c0170a4711379850e475219bf5fa9b005fb1f8,openstack/charm-cinder,master,I08c0170a4711379850e475219bf5fa9b005fb1f8,Add repo-info,ABANDONED,2023-05-03 14:48:02.000000000,2023-05-25 20:02:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 14:48:02.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f2d9f64fa728e022cd1058c30ec9205401692699', 'message': 'Add repo-info\n\nChange-Id: I08c0170a4711379850e475219bf5fa9b005fb1f8\n'}]",0,882159,f2d9f64fa728e022cd1058c30ec9205401692699,4,2,1,2424,,,0,"Add repo-info

Change-Id: I08c0170a4711379850e475219bf5fa9b005fb1f8
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/59/882159/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,f2d9f64fa728e022cd1058c30ec9205401692699,repo-info, repo-info: plugin: nil override-build: | #!/bin/bash -x apt-get update apt-get install -y git cd ../../charm/src cat << EOF > repo-info commit-id: $(git describe --always --dirty) date: $(date '+%Y-%m-%d %H:%M') log: $(git show --oneline HEAD) EOF charm: after: [repo-info] - repo-info, charm:,14,0
openstack%2Fcharm-cinder~stable%2Fyoga~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/yoga,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:14:46.000000000,2023-05-25 20:01:16.000000000,2023-05-25 20:01:16.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:14:46.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4496922f48c72f4636d93b9268c9dad0c63a7574', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",2,872572,4496922f48c72f4636d93b9268c9dad0c63a7574,13,5,1,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/72/872572/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,4496922f48c72f4636d93b9268c9dad0c63a7574,,,,0,0
openstack%2Fcharm-cinder~stable%2Fzed~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/zed,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:14:34.000000000,2023-05-25 20:01:15.000000000,2023-05-25 20:01:15.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/67e9daec7b0d8f4978a06eb6fea4f599c2cde91f', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-02-17 01:19:54.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/00fe7b77e85d54a6e35aaddcbf50257b99cfa2b5', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",1,872571,00fe7b77e85d54a6e35aaddcbf50257b99cfa2b5,14,5,2,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/71/872571/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,67e9daec7b0d8f4978a06eb6fea4f599c2cde91f,,,,0,0
openstack%2Ftripleo-heat-templates~master~I912667d40a20a358fbebf52f186a35eb6ec1b6c7,openstack/tripleo-heat-templates,master,I912667d40a20a358fbebf52f186a35eb6ec1b6c7,Add ability to set cpuset-cpus on the ovn metadata agent container,ABANDONED,2023-05-16 17:43:20.000000000,2023-05-25 20:00:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-16 17:43:20.000000000', 'files': ['deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59a731d9aed7e64c694fb7a2b41b894de137a77a', 'message': 'Add ability to set cpuset-cpus on the ovn metadata agent container\n\nAdded ContainerOvnMetadataCpuSet parameter to allow setting cpuset-cpus\nnumber for the ovn metadata container.\n\nChange-Id: I912667d40a20a358fbebf52f186a35eb6ec1b6c7\n'}]",2,883291,59a731d9aed7e64c694fb7a2b41b894de137a77a,6,2,1,34271,,,0,"Add ability to set cpuset-cpus on the ovn metadata agent container

Added ContainerOvnMetadataCpuSet parameter to allow setting cpuset-cpus
number for the ovn metadata container.

Change-Id: I912667d40a20a358fbebf52f186a35eb6ec1b6c7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/883291/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-metadata-container-puppet.yaml'],1,59a731d9aed7e64c694fb7a2b41b894de137a77a,meta_cpuset," ContainerOvnMetadataCpuSet: description: Limit the specific CPUs or cores a container can use. It can be specified as a single core (ex. 0), as a comma-separated list (ex. 0,1), as a range (ex. 0-3) or a combination if previous methods (ex 0-3,7,11-15). The selected cores should be isolated from guests and hypervisor in order to obtain best possible performance. type: string default: '' tags: - role_specific ovn_metadata_cpu_set: or: - not: {equals: [{get_param: ContainerOvnMetadataCpuSet}, '']} - not: {equals: [{get_param: [RoleParameters, ContainerOvnMetadataCpuSet]}, '' ]} ContainerOvnMetadataCpuSet: ContainerOvnMetadataCpuSet map_merge: - start_order: 1 image: {get_attr: [RoleParametersValue, value, ContainerOvnMetadataImage]} net: host pid: host cgroupns: host privileged: true restart: always - if: - ovn_metadata_cpu_set - cpuset_cpus: {get_attr: [RoleParametersValue, value, container_cpuset_cpus]} - healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NeutronLogging, volumes]} - - /var/lib/kolla/config_files/ovn_metadata_agent.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/neutron:/var/lib/kolla/config_files/src:ro - /lib/modules:/lib/modules:ro - /run/openvswitch:/run/openvswitch:shared,z - /var/lib/neutron:/var/lib/neutron:shared,z - /run/netns:/run/netns:shared - /var/lib/neutron/kill_scripts:/etc/neutron/kill_scripts:shared,z - if: - {get_param: OVNEnableHaproxyDockerWrapper} - - /var/lib/neutron/ovn_metadata_haproxy_wrapper:/usr/local/bin/haproxy:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/ovn_metadata.crt:/etc/pki/tls/certs/ovn_metadata.crt - /etc/pki/tls/private/ovn_metadata.key:/etc/pki/tls/private/ovn_metadata.key environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS"," start_order: 1 image: {get_attr: [RoleParametersValue, value, ContainerOvnMetadataImage]} net: host pid: host cgroupns: host privileged: true restart: always healthcheck: test: /openstack/healthcheck volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NeutronLogging, volumes]} - - /var/lib/kolla/config_files/ovn_metadata_agent.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/neutron:/var/lib/kolla/config_files/src:ro - /lib/modules:/lib/modules:ro - /run/openvswitch:/run/openvswitch:shared,z - /var/lib/neutron:/var/lib/neutron:shared,z - /run/netns:/run/netns:shared - /var/lib/neutron/kill_scripts:/etc/neutron/kill_scripts:shared,z - if: - {get_param: OVNEnableHaproxyDockerWrapper} - - /var/lib/neutron/ovn_metadata_haproxy_wrapper:/usr/local/bin/haproxy:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/ovn_metadata.crt:/etc/pki/tls/certs/ovn_metadata.crt - /etc/pki/tls/private/ovn_metadata.key:/etc/pki/tls/private/ovn_metadata.key environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS",48,28
openstack%2Fswift~master~Idff8f05dc827a7a8986b8d0f0a0557fba4327ac5,openstack/swift,master,Idff8f05dc827a7a8986b8d0f0a0557fba4327ac5,object-auditor: Only emit timings for ZBF audits,NEW,2023-05-25 18:52:05.000000000,2023-05-25 19:51:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 18:52:05.000000000', 'files': ['swift/obj/auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b57504e24e9e631180ded9fffd0a986527ef2fec', 'message': ""object-auditor: Only emit timings for ZBF audits\n\nPreviously, we also included ALL audits, resulting in a fairly useless\nstat:\n\n- ZBF and ALL audits often run with different ratelimits in place, so\n  it won't even be a cleanly bimodal distribution\n- The ALL timings aren't normalized by bytes read, so it doesn't really\n  makes sense to compare timings across even a single disk, much less\n  an entire cluster\n\nNow, only emit timings for ZBF audits; those should be more consistent\nregardless of object size.\n\nWe could consider emitting a separate transfer_rate() stat for ALL\naudits, but we don't actually have the byte count in hand when we're\nemitting timings.\n\nUpgradeImpact\n=============\nOperators should expect a dramatic decrease in object auditor timings;\nbaselines for acceptable timings will need to be reset.\n\nChange-Id: Idff8f05dc827a7a8986b8d0f0a0557fba4327ac5\n""}]",0,884436,b57504e24e9e631180ded9fffd0a986527ef2fec,3,1,1,15343,,,0,"object-auditor: Only emit timings for ZBF audits

Previously, we also included ALL audits, resulting in a fairly useless
stat:

- ZBF and ALL audits often run with different ratelimits in place, so
  it won't even be a cleanly bimodal distribution
- The ALL timings aren't normalized by bytes read, so it doesn't really
  makes sense to compare timings across even a single disk, much less
  an entire cluster

Now, only emit timings for ZBF audits; those should be more consistent
regardless of object size.

We could consider emitting a separate transfer_rate() stat for ALL
audits, but we don't actually have the byte count in hand when we're
emitting timings.

UpgradeImpact
=============
Operators should expect a dramatic decrease in object auditor timings;
baselines for acceptable timings will need to be reset.

Change-Id: Idff8f05dc827a7a8986b8d0f0a0557fba4327ac5
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/884436/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/auditor.py'],1,b57504e24e9e631180ded9fffd0a986527ef2fec,," if self.auditor_type == 'ZBF': # Timing stats for 'ALL' will vary by diskfile size in a way # that makes the stat mostly useless self.logger.timing_since('timing', loop_time)"," self.logger.timing_since('timing', loop_time)",4,1
openstack%2Fptgbot~master~I5a1404c27f09f2cf2c1d7dd9b74c300052658559,openstack/ptgbot,master,I5a1404c27f09f2cf2c1d7dd9b74c300052658559,"Revert ""Migrate ptgbot to quay.io""",MERGED,2023-05-24 20:41:56.000000000,2023-05-25 19:43:03.000000000,2023-05-25 19:41:25.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 20:41:56.000000000', 'files': ['Dockerfile', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/70838b9d9328730ee6740838793d070cdaaf278c', 'message': 'Revert ""Migrate ptgbot to quay.io""\n\nThis reverts commit 260f6f36240d0a819a53893a03a793a7bd48687c.\nThis is a partial revert as test fixups are not reverted.\n\nOpenDev is moving back to docker.io to preserve speculative container\nimage testing functionality.\n\nChange-Id: I5a1404c27f09f2cf2c1d7dd9b74c300052658559\n'}]",0,884288,70838b9d9328730ee6740838793d070cdaaf278c,9,4,1,4146,,,0,"Revert ""Migrate ptgbot to quay.io""

This reverts commit 260f6f36240d0a819a53893a03a793a7bd48687c.
This is a partial revert as test fixups are not reverted.

OpenDev is moving back to docker.io to preserve speculative container
image testing functionality.

Change-Id: I5a1404c27f09f2cf2c1d7dd9b74c300052658559
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/88/884288/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', '.zuul.yaml']",2,70838b9d9328730ee6740838793d070cdaaf278c,opendev-quay-revert, name: ptgbot-opendev-dockerhub data: username: opendevzuul password: !encrypted/pkcs1-oaep - tpQrxd7cqPwjjKsSbDOH0GqNuFZudJDQvY43qFV8tmKh3zRTjfA5uVX5b3J60SHHYIez9 9W/SU0pVm0VfH0iL9plMKoVij6LLpFlxGePiab7SimjQuiDoP2aBles7AbmdCxyNrs6M5 WCHSsg+6bE79z0r2+2+yoFYxGlbY7beRpHXkPxGpFn/g9YpOFnAch3UcnAEDnZHamxufp 8wIZ//UYP4Z6hwv0PcX9caw/MU8bnUGDQXBtjErohtsi8+cELKXvHBT4WU33wpf//C6MD KQ3nd7NJfDtIYaN4PGOw2mlbQFq0lF4PfxlhOHjC2+k9vz+EoW85Hkfcw986CE+JINq3p k5t8GbXTDu86kkBzU6Gk+D7EVOluKZbGuTB4pcyZdjlMbty274y8xQXnplTp2rKIAdPeP G1AcXEvZmfR0YEKg8UuR+ZJQx3Au1uEJAEpkNwH1Tbt54K/qyw1gAQDcHHkJ3odsKJe5V c97Kn7roGCzwi7UWOd+XR0hvcNTUfotyBFQJzDe1+NHc6IQGQ1DeBVz5FD1JIVoj+W65E XymsiQmZ+B+AxFnINS8PUTkJtlQc7zoMP/dtcYTbxtJB3XJQTOiaD00KGmr6RDWu3Uuw+ T6l/0vVdT7SeDY0v5wib2Elgl1Vnmxkte9oiUD9F++dW/rw42Cjlq5WqRlodaU= parent: opendev-build-docker-image docker_images: repository: opendevorg/ptgbot parent: opendev-upload-docker-image - name: docker_credentials secret: ptgbot-opendev-dockerhub parent: opendev-promote-docker-image - name: docker_credentials secret: ptgbot-opendev-dockerhub, name: ptgbot-opendev-quayio data: quay.io: username: opendevorg+ptgbotrobot password: !encrypted/pkcs1-oaep - wLxGIpS7huEhC7KIT++Zl7i+fNIVhJnm9YRjTabCMhoPRzKnnpiLETdiAb+63n7xXaqoA YRUt1zsVS3EHIEAK6chmH2hSq9sHxweCIAgq6H1gVwN+DOYYyv2BfHzUIQcFs3zpsdNLe vXC4q6GcIwAwe9qSOJ875CDsChvlbyhpwEi5C+o+w6XOO/uZMNRCL4B+vssM6IXL+inmb k4n1okvLvLqniQFrWvB1c1AGMJ/9lOKLdHfducd1FqKEist1K6QaA1TR1y19P9fubN78W 9D707NhvcicrCZjwrx1r0Gidi40E9cyNHot3yCeWCQeJ5+6Qku3AXsxTascyaF76LVQMy FKkHv2pL2PabtQzdj96doaGJ8upwORYGLsEILMXCjRoH9HgRx3NNIfZEvQFcvDFz92gnm 66BCiE1EWfz2Q9nYcfKruGoSKTgLcHL3beoGsSeGJtImMDC3IR+uDjom8fekm8XBu4Pr6 bQ8VtV30IkSwJXFc7Rtz/3f6qaj0e9wgfkdZbulxhFxBJHoeoYaJHxZGRKiELpTNnqM3Y 1Pkn18xNmfrZjGxR+88WI5XO+E+RJpn76cVitRFA6XIq6tjWSxWtMdUFtptN69HcR7rQ0 gkYNk7+UIP78gWzbK0/uv2rXwnGw35yVotBZdpyMaiUv5eq+3iwKCW1+oDGjbw= # No api token as we won't need to create new repos for ptgbot parent: opendev-build-container-image promote_container_image_method: intermediate-registry promote_container_image_job: ptgbot-upload-opendev-image container_command: docker container_images: registry: quay.io repository: quay.io/opendevorg/ptgbot namespace: opendevorg repo_shortname: ptgbot repo_description: An IRC bot for managing team gatherings parent: opendev-upload-container-image - name: container_registry_credentials secret: ptgbot-opendev-quayio parent: opendev-promote-container-image - name: container_registry_credentials secret: ptgbot-opendev-quayio,24,33
openstack%2Fproject-config~master~I05256c5f28b1e3bb986794aa815413327af3147a,openstack/project-config,master,I05256c5f28b1e3bb986794aa815413327af3147a,Add Kubernetes Power Manager app to StarlingX,MERGED,2023-05-24 16:33:10.000000000,2023-05-25 19:40:39.000000000,2023-05-25 19:29:13.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28410}, {'_account_id': 34225}, {'_account_id': 35139}]","[{'number': 1, 'created': '2023-05-24 16:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0bd8b1962337e613a9bc1eb8c6ee5f5b15f92262', 'message': 'Add Kubernetes Power Manager app to StarlingX\n\nThis commit aims to add Kubernetes Power Manager FluxCD app\nto StarlingX.\n\nChange-Id: I05256c5f28b1e3bb986794aa815413327af3147a\nSigned-off-by: Eduardo Alberti <eduardo.alberti@windriver.com>\n'}, {'number': 2, 'created': '2023-05-24 18:09:16.000000000', 'files': ['gerrit/acls/starlingx/app-kubernetes-power-manager.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d585895eea997161d78637ee70fba05a1d9a159e', 'message': 'Add Kubernetes Power Manager app to StarlingX\n\nThis commit aims to add Kubernetes Power Manager FluxCD app\nto StarlingX.\n\nChange-Id: I05256c5f28b1e3bb986794aa815413327af3147a\nSigned-off-by: Eduardo Alberti <eduardo.alberti@windriver.com>\n'}]",0,884250,d585895eea997161d78637ee70fba05a1d9a159e,12,5,2,35106,,,0,"Add Kubernetes Power Manager app to StarlingX

This commit aims to add Kubernetes Power Manager FluxCD app
to StarlingX.

Change-Id: I05256c5f28b1e3bb986794aa815413327af3147a
Signed-off-by: Eduardo Alberti <eduardo.alberti@windriver.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/884250/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/app-kubernetes-power-manager.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,0bd8b1962337e613a9bc1eb8c6ee5f5b15f92262,, - starlingx/app-kubernetes-power-manager,,24,0
openstack%2Fcharm-guide~master~I249dc31ad0d7e3672fd1ba77447e8820623ca0d0,openstack/charm-guide,master,I249dc31ad0d7e3672fd1ba77447e8820623ca0d0,Document charmed-openstack-info,MERGED,2023-02-17 19:45:59.000000000,2023-05-25 19:34:50.000000000,2023-05-25 19:33:55.000000000,"[{'_account_id': 2424}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-02-17 19:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0f32c58afdaf279cdc39e480c2e38b1e3bc61b61', 'message': 'Document charmed-openstack-info\n\ncharmed-openstack-info hosts the lp-builder-config now, the files were\nremoved from release-tools.\n\nChange-Id: I249dc31ad0d7e3672fd1ba77447e8820623ca0d0\n'}, {'number': 2, 'created': '2023-05-25 17:57:15.000000000', 'files': ['doc/source/community/software-contrib/adding-a-charm.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/06b760665c5c64280fcdb27f97616fd96c711533', 'message': 'Document charmed-openstack-info\n\ncharmed-openstack-info hosts the lp-builder-config now, the files were\nremoved from release-tools.\n\nChange-Id: I249dc31ad0d7e3672fd1ba77447e8820623ca0d0\n'}]",6,874301,06b760665c5c64280fcdb27f97616fd96c711533,13,4,2,2424,,,0,"Document charmed-openstack-info

charmed-openstack-info hosts the lp-builder-config now, the files were
removed from release-tools.

Change-Id: I249dc31ad0d7e3672fd1ba77447e8820623ca0d0
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/01/874301/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/software-contrib/adding-a-charm.rst'],1,0f32c58afdaf279cdc39e480c2e38b1e3bc61b61,ch-os-info-migration,"Charmed OpenStack Info ---------------------- The `charmed-openstack-info`_ repository contains the definitions for the OpenStack, Ceph, OVN and supporting charms. Add an entry for the new charm in the appropriate file under the ``charmed_openstack_info/data/lp-builder-config/`` directory. Example:.. _charmed-openstack-info: https://github.com/openstack-charmers/charmed-openstack-info","Release Tools ------------- The ``release-tools`` repository contains the definitions for the OpenStack, Ceph, OVN and supporting charms. Add an entry for the new charm in the appropriate file under the ``lp-builder-config`` directory. Example:",7,5
openstack%2Fopenstack-ansible-os_nova~stable%2Fzed~I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,openstack/openstack-ansible-os_nova,stable/zed,I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,Define service_user for nova services,MERGED,2023-05-24 14:05:37.000000000,2023-05-25 18:44:38.000000000,2023-05-25 18:43:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/418000fa42e1da51b54c4872036cc1ec0df7fb25', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}, {'number': 2, 'created': '2023-05-24 14:05:55.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/93a2e43b05eb9a2a6118867f585ec304bdbb978f', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}]",1,884212,93a2e43b05eb9a2a6118867f585ec304bdbb978f,14,3,2,28619,,,0,"Define service_user for nova services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all nova services has been added by nova.

Change-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38
(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/12/884212/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,418000fa42e1da51b54c4872036cc1ec0df7fb25,osa/OSSA-2023-003,[service_user] send_service_user_token = {{ nova_service_token_roles_required | bool }}send_service_user_token = {{ nova_service_token_roles_required | bool }},,3,0
openstack%2Fneutron~stable%2Fzed~I8281bd8a902bcaba1187565e9610d598e4ebc254,openstack/neutron,stable/zed,I8281bd8a902bcaba1187565e9610d598e4ebc254,[S-RBAC] Get QoS rule types API available for READER role,MERGED,2023-05-11 15:00:58.000000000,2023-05-25 18:30:33.000000000,2023-05-25 18:29:20.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:00:58.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca942e9732b555a576dd4411ed78bc1af44b8d30', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)\n(cherry picked from commit c82eee0fd616b06cd97dace13d59c792755fc72f)\n'}]",0,882962,ca942e9732b555a576dd4411ed78bc1af44b8d30,9,4,1,16688,,,0,"[S-RBAC] Get QoS rule types API available for READER role

API call ""get_rule_types"" should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818

Closes-Bug: #2018585
Change-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254
(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)
(cherry picked from commit c82eee0fd616b06cd97dace13d59c792755fc72f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/882962/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py']",2,ca942e9732b555a576dd4411ed78bc1af44b8d30,bug/2018585,," def test_get_rule_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_rule_type', self.target) ",5,7
openstack%2Fopenstack-helm~master~Ic223bddfd5ad517d728b5cb7279333b07e547976,openstack/openstack-helm,master,Ic223bddfd5ad517d728b5cb7279333b07e547976,Fix wrong doc title,MERGED,2023-05-21 21:29:58.000000000,2023-05-25 18:15:07.000000000,2023-05-25 18:13:56.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 35655}]","[{'number': 1, 'created': '2023-05-21 21:29:58.000000000', 'files': ['doc/source/install/developer/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e12d2ca685df7ec8df119ef16342835b83f34b7e', 'message': 'Fix wrong doc title\n\nTask: 38894\nStory: 2007349\nChange-Id: Ic223bddfd5ad517d728b5cb7279333b07e547976\n'}]",1,883746,e12d2ca685df7ec8df119ef16342835b83f34b7e,8,3,1,3009,,,0,"Fix wrong doc title

Task: 38894
Story: 2007349
Change-Id: Ic223bddfd5ad517d728b5cb7279333b07e547976
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/883746/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/index.rst'],1,e12d2ca685df7ec8df119ef16342835b83f34b7e,,Deployment ==========,Development ===========,2,2
openstack%2Fopenstack-ansible~master~I204b3662243b5188f63b3c98b5d3e78b9cda61ee,openstack/openstack-ansible,master,I204b3662243b5188f63b3c98b5d3e78b9cda61ee,[WIP] Add support for enabling TLS to haproxy backends,ABANDONED,2021-12-08 15:23:19.000000000,2023-05-25 17:53:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-08 15:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c240d7fc841a956170a966c1ed18e57c852740f', 'message': '[WIP] Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the galnce haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variables:\n`haproxy_glance_backend_service_https: true`\n`glance_https: true`\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 2, 'created': '2021-12-15 14:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/597ec773fd26d3ed033d5ef3074b25888ad97f18', 'message': '[WIP] Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the galnce haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variables:\n`haproxy_glance_backend_service_https: true`\n`glance_https: true`\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 3, 'created': '2021-12-23 14:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c262212240d61afa1a70e43a62c7344f6c9948d6', 'message': '[WIP] Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 4, 'created': '2022-01-04 09:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3811f16ef94ddb3ddef331d05c47aaa24b29840a', 'message': 'Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 5, 'created': '2022-02-18 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c9c9c90165a37264e3c513755c57ba815e080a35', 'message': 'Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nAlso adds the ability for haproxy to speak HTTP and HTTP to\nprevent downtime during upgrade.\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 6, 'created': '2022-02-18 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cb2b6437e801c4cd5d22478d9057b093ffed2efd', 'message': 'Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nAlso adds the ability for haproxy to speak HTTP and HTTP to\nprevent downtime during upgrade.\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 7, 'created': '2022-02-18 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca319c86148d0c2bc2c7ca457dc6b23237bee877', 'message': 'Add support for TLS to Glance backends\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nAlso adds the ability for haproxy to speak HTTP and HTTP to\nprevent downtime during upgrade.\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 8, 'created': '2022-02-21 12:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e780df8dd11b752f9393b63bd2fdad906c562220', 'message': 'WIP: Add support for enabling TLS to Glance backends in OSA\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nAlso adds the ability for haproxy to speak HTTP and HTTP to\nprevent downtime during upgrade.\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nShould be merged when all services have had TLS support added\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/821847\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 9, 'created': '2022-02-22 16:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d76458e3303cc06ccd2f784172bd05e85e72d133', 'message': 'WIP: Add support for enabling TLS to Glance backends in OSA\n\nAdds the ability to configure TLS for the glance haproxy\nbackends, by setting the variable\n`openstack_backend_service_https: true`.\n\nTLS can be enabled on a single service by overriding the\nfollowing variable in user_variables:\n`glance_backend_https: true`\n\nAlso adds the ability for haproxy to speak HTTP and HTTP to\nprevent downtime during upgrade.\n\nThis patch makes TLS the default in the AIO for the glance backends.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nShould be merged when all services have had TLS support added\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\n\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 10, 'created': '2022-11-16 21:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c3310581ec2b88a48a3960814080f87354fb5dea', 'message': 'Add support for enabling TLS to haproxy backends\n\nAdds the ability to configure TLS for the haproxy backends, by setting\nthe variable `openstack_backend_service_https: true`.\n\nTLS can be enabled for a single service by overriding the\n`<service>_backend_https: true` in user_variables.yml\n\nAlso adds a temporary feature which allows haproxy to speak both\nHTTP and HTTPS to prevent downtime during upgrade.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nShould be merged when all services have had TLS support added.\n\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 11, 'created': '2022-11-16 21:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cdc6873ea0792a1f196cc31097f4a693aac77a25', 'message': '[WIP] Add support for enabling TLS to haproxy backends\n\nAdds the ability to configure TLS for the haproxy backends, by setting\nthe variable `openstack_backend_service_https: true`.\n\nTLS can be enabled for a single service by overriding the\n`<service>_backend_https: true` in user_variables.yml\n\nAlso adds a temporary feature which allows haproxy to speak both\nHTTP and HTTPS to prevent downtime during upgrade.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nShould be merged when all services have had TLS support added.\n\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}, {'number': 12, 'created': '2022-11-16 21:37:56.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce2d4abf34e9f16f267a80f61acb26abcbdf0ed1', 'message': '[WIP] Add support for enabling TLS to haproxy backends\n\nAdds the ability to configure TLS for the haproxy backends, by setting\nthe variable `openstack_backend_service_https: true`.\n\nTLS can be enabled for a single service by overriding the\n`<service>_backend_https: true` in user_variables.yml\n\nAlso adds a temporary feature which allows haproxy to speak both\nHTTP and HTTPS to prevent downtime during upgrade.\n\nIf this patch work, this pattern should be extended to all services\nwhich use UWSGI.\n\nShould be merged when all services have had TLS support added.\n\nChange-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee\n'}]",18,821090,ce2d4abf34e9f16f267a80f61acb26abcbdf0ed1,41,3,12,31749,,,0,"[WIP] Add support for enabling TLS to haproxy backends

Adds the ability to configure TLS for the haproxy backends, by setting
the variable `openstack_backend_service_https: true`.

TLS can be enabled for a single service by overriding the
`<service>_backend_https: true` in user_variables.yml

Also adds a temporary feature which allows haproxy to speak both
HTTP and HTTPS to prevent downtime during upgrade.

If this patch work, this pattern should be extended to all services
which use UWSGI.

Should be merged when all services have had TLS support added.

Change-Id: I204b3662243b5188f63b3c98b5d3e78b9cda61ee
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/821090/10 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/haproxy/haproxy.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,5c240d7fc841a956170a966c1ed18e57c852740f,tls-backend,openstack_backend_service_https: true ,,4,0
openstack%2Fopenstack-ansible~master~Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1,openstack/openstack-ansible,master,Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1,WIP: Enable TLS on haproxy VIPs and backends by default,ABANDONED,2022-02-18 15:58:19.000000000,2023-05-25 17:53:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-02-18 15:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ccecc2456db467281f0d52ab1945191dca277c5', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 2, 'created': '2022-02-18 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ec3e144bbf90c267c7d08ec67de7adad37731617', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 3, 'created': '2022-02-18 16:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b94c782517a458b02875cbc6714550246261e40', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 4, 'created': '2022-02-18 16:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e6a08be0dfe2efac39a571bbe3b45ce398fdacfa', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 5, 'created': '2022-02-21 12:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5631bf3053c8e49e172f55ae3e4ca794e4f3ca88', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 6, 'created': '2022-02-22 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/766a2f07dd0e5a2a28bd2948e8cd6e6c3af74899', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}, {'number': 7, 'created': '2022-02-22 16:43:50.000000000', 'files': ['releasenotes/notes/enable-tls-on-haproxy-by-default-56f59c32f4884ff4.yaml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'scripts/run-upgrade.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/999a9f9c72fd89f14fc3ee437f643422324306a0', 'message': 'WIP: Enable TLS on haproxy VIPs and backends by default\n\nThis patch is an example of how an automatic upgrade\nof an existing deployment from HTTP to HTTPS for internal\ncommunications to and from Haproxy can be implemented.\n\nAll frontends could have TLS enabled, but currently only Glance\nhas support for TLS on its backend.\n\nThis is required because just enabling TLS for haproxy would\ncause downtime of the APIs.\n\nWork needs to be completed on documentation and possible\nextra CI check as AIO already has TLS on all VIPs enabled\nand the CI tests do not check that the APIs worked throughout\nthe upgrade.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/830474\n\nChange-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1\n'}]",4,829937,999a9f9c72fd89f14fc3ee437f643422324306a0,19,2,7,31749,,,0,"WIP: Enable TLS on haproxy VIPs and backends by default

This patch is an example of how an automatic upgrade
of an existing deployment from HTTP to HTTPS for internal
communications to and from Haproxy can be implemented.

All frontends could have TLS enabled, but currently only Glance
has support for TLS on its backend.

This is required because just enabling TLS for haproxy would
cause downtime of the APIs.

Work needs to be completed on documentation and possible
extra CI check as AIO already has TLS on all VIPs enabled
and the CI tests do not check that the APIs worked throughout
the upgrade.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/821090
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/830474

Change-Id: Idcf1fb545aff1d2f61b187f3eed81b03a8716ae1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/829937/4 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/all.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'scripts/run-upgrade.sh', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",4,8ccecc2456db467281f0d52ab1945191dca277c5,tls-backend,,openstack_service_adminuri_proto: https openstack_service_internaluri_proto: https haproxy_ssl_all_vips: true ,11,7
openstack%2Fcyborg-tempest-plugin~master~I96c277cdc16a666bd1b54d0864f953d88c89bfb8,openstack/cyborg-tempest-plugin,master,I96c277cdc16a666bd1b54d0864f953d88c89bfb8,Add stable branch jobs on the plugins master gate,ABANDONED,2020-05-05 22:16:28.000000000,2023-05-25 17:47:33.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-05 22:16:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/1d34d3cb1df22db10d6f7ea22b71c218caa6d0c3', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: I96c277cdc16a666bd1b54d0864f953d88c89bfb8\n'}]",0,725697,1d34d3cb1df22db10d6f7ea22b71c218caa6d0c3,5,2,1,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: I96c277cdc16a666bd1b54d0864f953d88c89bfb8
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/97/725697/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1d34d3cb1df22db10d6f7ea22b71c218caa6d0c3,stable-testing-tempest-plugins, - cyborg-tempest-ussuri - cyborg-tempest-train - cyborg-tempest-stein - job: name: cyborg-tempest-ussuri parent: cyborg-tempest override-checkout: stable/ussuri - job: name: cyborg-tempest-train parent: cyborg-tempest override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: cyborg-tempest-stein parent: cyborg-tempest override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,,24,0
openstack%2Fkayobe~master~I5b890e24195d033897a597a0a93a1cacfb2030d2,openstack/kayobe,master,I5b890e24195d033897a597a0a93a1cacfb2030d2,Limit interface names to 15 characters,MERGED,2023-01-10 16:42:03.000000000,2023-05-25 17:16:39.000000000,2023-05-25 17:15:35.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 25600}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-01-10 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/90bd30c356c18b284ff16f4dc6964a64fffebb52', 'message': 'Limit interface names to 15 characters\n\nIf you give your bridge a long enough name, eg. `br-external`. The\nextra characters added to the veth pairs can go beyond the 15\ncharacter limit of interface names. We can solve this by truncating\nthe name of the bridge used in the veth names.\n\nChange-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2\n'}, {'number': 2, 'created': '2023-01-11 07:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d03441f1956baaf29721fcaf512b8469dde265aa', 'message': 'Limit interface names to 15 characters\n\nIf you give your bridge a long enough name, eg. `br-external`. The\nextra characters added to the veth pairs can make the interface name\ngo beyond the 15 character limit. We can solve this by truncating the\nname of the bridge used in the veth names.\n\nChange-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2\n'}, {'number': 3, 'created': '2023-01-11 12:17:43.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'kayobe/plugins/action/kolla_ansible_host_vars.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1', 'message': 'Limit interface names to 15 characters\n\nIf you give your bridge a long enough name, eg. `br-external`. The\nextra characters added to the veth pairs can make the interface name\ngo beyond the 15 character limit. We can solve this by truncating the\nname of the bridge used in the veth names.\n\nChange-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2\n'}]",9,869744,b9b90a5d5ff38e5a64b8dbdd8d3dea32d097b3b1,26,7,3,25600,,,0,"Limit interface names to 15 characters

If you give your bridge a long enough name, eg. `br-external`. The
extra characters added to the veth pairs can make the interface name
go beyond the 15 character limit. We can solve this by truncating the
name of the bridge used in the veth names.

Change-Id: I5b890e24195d033897a597a0a93a1cacfb2030d2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/869744/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe/plugins/filter/networks.py'],1,90bd30c356c18b284ff16f4dc6964a64fffebb52,truncate_veth, # interface names can't be longer than 15 characters char_limit = 15 - len(prefix) - len(suffix) return prefix + bridge[:char_limit] + suffix # interface names can't be longer than 15 characters char_limit = 15 - len(prefix) - len(suffix) return prefix + bridge[:char_limit] + suffix, return prefix + bridge + suffix return prefix + bridge + suffix,8,2
openstack%2Ftripleo-ci~master~I7205939883a37602bfe3c808d5c02b8368d67af2,openstack/tripleo-ci,master,I7205939883a37602bfe3c808d5c02b8368d67af2,Updating tripleo_image_source image,MERGED,2023-05-25 09:47:38.000000000,2023-05-25 17:13:35.000000000,2023-05-25 17:13:35.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 09:47:38.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0bc4d1bc5ee4f6af42bd2c3740b8732a45ce0d68', 'message': 'Updating tripleo_image_source image\n\nolder image is no longer available\n\nChange-Id: I7205939883a37602bfe3c808d5c02b8368d67af2\n'}]",2,884324,0bc4d1bc5ee4f6af42bd2c3740b8732a45ce0d68,9,3,1,29775,,,0,"Updating tripleo_image_source image

older image is no longer available

Change-Id: I7205939883a37602bfe3c808d5c02b8368d67af2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/884324/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,0bc4d1bc5ee4f6af42bd2c3740b8732a45ce0d68,,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20230501.0.x86_64.qcow2,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20230404.0.x86_64.qcow2,1,1
openstack%2Fneutron~stable%2Fzed~I522aeab5094b3f4854303d5e18f3abf6130fb33c,openstack/neutron,stable/zed,I522aeab5094b3f4854303d5e18f3abf6130fb33c,[S-RBAC] Fix new policies for get QoS rules APIs,MERGED,2023-05-11 15:00:03.000000000,2023-05-25 16:52:29.000000000,2023-05-25 16:51:15.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:00:03.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/conf/policies/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9177e90db480489465d1a6cb1a50d62d959dcd7a', 'message': ""[S-RBAC] Fix new policies for get QoS rules APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for QoS rules by defining them to be available for\nADMIN_OR_PROJECT_READER. This can't be like that as QoS rules don't have\ntenant_id attribute and belongs always to the owner of the QoS policy.\n\nTo fix that, this patch introduces new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nand uses those in the QoS rules APIs.\n\nCloses-Bug: #2018727\nChange-Id: I522aeab5094b3f4854303d5e18f3abf6130fb33c\n(cherry picked from commit be0dc09d52efd5e7236a33be552edb6644371cd0)\n(cherry picked from commit 572cc2d43e669797a9d03d2e9daf174dfe8566ff)\n""}]",3,882961,9177e90db480489465d1a6cb1a50d62d959dcd7a,16,4,1,16688,,,0,"[S-RBAC] Fix new policies for get QoS rules APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for QoS rules by defining them to be available for
ADMIN_OR_PROJECT_READER. This can't be like that as QoS rules don't have
tenant_id attribute and belongs always to the owner of the QoS policy.

To fix that, this patch introduces new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

and uses those in the QoS rules APIs.

Closes-Bug: #2018727
Change-Id: I522aeab5094b3f4854303d5e18f3abf6130fb33c
(cherry picked from commit be0dc09d52efd5e7236a33be552edb6644371cd0)
(cherry picked from commit 572cc2d43e669797a9d03d2e9daf174dfe8566ff)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/882961/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/conf/policies/base.py']",3,9177e90db480489465d1a6cb1a50d62d959dcd7a,bug/2018727,"# In some cases we need to check owner of the parent resource, it's like that # for example for QoS rules (check owner of QoS policy rule belongs to) or # Floating IP port forwarding (check owner of FIP which PF is using). It's like # that becasue those resources (QOS rules, FIP PFs) don't have project_id # attribute at all and they belongs to the same project as parent resource (QoS # policy, FIP). PARENT_OWNER_MEMBER = 'role:member and ' + RULE_PARENT_OWNER PARENT_OWNER_READER = 'role:reader and ' + RULE_PARENT_OWNER ADMIN_OR_PARENT_OWNER_MEMBER = ( '(' + ADMIN + ') or (' + PARENT_OWNER_MEMBER + ')') ADMIN_OR_PARENT_OWNER_READER = ( '(' + ADMIN + ') or (' + PARENT_OWNER_READER + ')') ",,346,257
openstack%2Fneutron-lib~stable%2F2023.1~Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,openstack/neutron-lib,stable/2023.1,Ic70202d1b41ea64ffd63dc910b7852fe75421fa9,Context.elevated() method sets all required roles for context object,MERGED,2023-05-17 22:00:55.000000000,2023-05-25 16:50:40.000000000,2023-05-25 16:49:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 22:00:55.000000000', 'files': ['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a13064946342f1c0cb24f32ebdb1b343568e600c', 'message': 'Context.elevated() method sets all required roles for context object\n\nIf context should be elevated, it should always have ""admin"", ""member""\nand ""reader"" roles set as admin user always have ""member"" and ""reader""\nrole as well.\nUsually, when context is created by keystone it is like that but in some\ncases, e.g. when noauth middleware is used instead of keystone it\'s not\nlike that and then context from the environment don\'t have any role set\nso we should make sure that elevated context have all required roles set\ncorrectly.\n\nCloses-Bug: #2019946\nChange-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9\n(cherry picked from commit c5ca1ddf420b827e4684dee6a6495475014a91e3)\n'}]",1,883398,a13064946342f1c0cb24f32ebdb1b343568e600c,8,3,1,11975,,,0,"Context.elevated() method sets all required roles for context object

If context should be elevated, it should always have ""admin"", ""member""
and ""reader"" roles set as admin user always have ""member"" and ""reader""
role as well.
Usually, when context is created by keystone it is like that but in some
cases, e.g. when noauth middleware is used instead of keystone it's not
like that and then context from the environment don't have any role set
so we should make sure that elevated context have all required roles set
correctly.

Closes-Bug: #2019946
Change-Id: Ic70202d1b41ea64ffd63dc910b7852fe75421fa9
(cherry picked from commit c5ca1ddf420b827e4684dee6a6495475014a91e3)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/98/883398/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/context.py', 'neutron_lib/tests/unit/test_context.py']",2,a13064946342f1c0cb24f32ebdb1b343568e600c,secure-rbac-stable/2023.1," expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) expected_roles = ['admin', 'member', 'reader'] for expected_role in expected_roles: self.assertIn(expected_role, elevated_ctx.roles) def test_neutron_context_elevated_keeps_custom_roles(self): expected_admin_roles = ['admin', 'member', 'reader'] custom_roles = ['custom_role'] ctx = context.Context('user_id', 'tenant_id', roles=custom_roles) self.assertFalse(ctx.is_admin) self.assertNotEqual('all', ctx.system_scope) for expected_admin_role in expected_admin_roles: self.assertNotIn(expected_admin_role, ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) elevated_ctx = ctx.elevated() self.assertTrue(elevated_ctx.is_admin) for expected_admin_role in expected_admin_roles: self.assertIn(expected_admin_role, elevated_ctx.roles) for custom_role in custom_roles: self.assertIn(custom_role, ctx.roles) ",,32,2
openstack%2Fkolla-ansible~stable%2Fyoga~Ic1e8768374566eb2198302807ecc644a19cd3062,openstack/kolla-ansible,stable/yoga,Ic1e8768374566eb2198302807ecc644a19cd3062,Correct ovn-ctl --db-nb-pidfile usage in templates,MERGED,2023-05-04 13:08:43.000000000,2023-05-25 16:49:16.000000000,2023-05-25 16:48:09.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-04 13:08:43.000000000', 'files': ['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/correct-ovn-ctl-pid-flag-in-template-d915fe4b71548da0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10a6388d08702c1f055838ad2205e729716f2c66', 'message': 'Correct ovn-ctl --db-nb-pidfile usage in templates\n\nThe flags ``--db-nb-pid`` and ``--db-sb-pid`` are corected to be\n``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for\nreference:\nhttps://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045\n\nCloses-Bug: #2018436\nChange-Id: Ic1e8768374566eb2198302807ecc644a19cd3062\n(cherry picked from commit 46c2b60d9f58c8398929cbf2a4a935150817d601)\n'}]",0,882291,10a6388d08702c1f055838ad2205e729716f2c66,10,4,1,35263,,,0,"Correct ovn-ctl --db-nb-pidfile usage in templates

The flags ``--db-nb-pid`` and ``--db-sb-pid`` are corected to be
``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for
reference:
https://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045

Closes-Bug: #2018436
Change-Id: Ic1e8768374566eb2198302807ecc644a19cd3062
(cherry picked from commit 46c2b60d9f58c8398929cbf2a4a935150817d601)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/882291/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/correct-ovn-ctl-pid-flag-in-template-d915fe4b71548da0.yaml']",3,10a6388d08702c1f055838ad2205e729716f2c66,bug/2018436-stable/yoga,--- fixes: - | The flags ``--db-nb-pid`` and ``--db-sb-pid`` have been corected to be ``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for reference: https://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045 `LP#2018436 <https://launchpad.net/bugs/2018436>`__ ,,10,2
openstack%2Fkeystoneauth~stable%2F2023.1~I2392ef51302804c0c66c0fb52227db5f35bca3fd,openstack/keystoneauth,stable/2023.1,I2392ef51302804c0c66c0fb52227db5f35bca3fd,Make v3oidcpassword send client_id,MERGED,2023-05-24 09:02:00.000000000,2023-05-25 16:48:03.000000000,2023-05-25 16:47:03.000000000,"[{'_account_id': 782}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 09:02:00.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e96c503154ff8f3560b1601ee4616549d8c5b161', 'message': 'Make v3oidcpassword send client_id\n\nUpdates the v3oidcpassword function to also send the client_id as part of the request body,\nthis seems to be a requirement for services like onelogin.\n\nChange-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd\n(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)\n'}]",0,883925,e96c503154ff8f3560b1601ee4616549d8c5b161,8,5,1,35976,,,0,"Make v3oidcpassword send client_id

Updates the v3oidcpassword function to also send the client_id as part of the request body,
this seems to be a requirement for services like onelogin.

Change-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd
(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/25/883925/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,e96c503154ff8f3560b1601ee4616549d8c5b161,one_login_compat-stable/2023.1," 'scope': self.scope, 'client_id': self.client_id}", 'scope': self.scope},2,1
openstack%2Fkolla-ansible~stable%2Fzed~Ic1e8768374566eb2198302807ecc644a19cd3062,openstack/kolla-ansible,stable/zed,Ic1e8768374566eb2198302807ecc644a19cd3062,Correct ovn-ctl --db-nb-pidfile usage in templates,MERGED,2023-05-04 13:07:27.000000000,2023-05-25 16:47:45.000000000,2023-05-25 16:46:38.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-04 13:07:27.000000000', 'files': ['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/correct-ovn-ctl-pid-flag-in-template-d915fe4b71548da0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/36f35d1b234478d6a5d6e1bf319370bc5fa9ed4a', 'message': 'Correct ovn-ctl --db-nb-pidfile usage in templates\n\nThe flags ``--db-nb-pid`` and ``--db-sb-pid`` are corected to be\n``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for\nreference:\nhttps://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045\n\nCloses-Bug: #2018436\nChange-Id: Ic1e8768374566eb2198302807ecc644a19cd3062\n(cherry picked from commit 46c2b60d9f58c8398929cbf2a4a935150817d601)\n'}]",0,882290,36f35d1b234478d6a5d6e1bf319370bc5fa9ed4a,10,4,1,35263,,,0,"Correct ovn-ctl --db-nb-pidfile usage in templates

The flags ``--db-nb-pid`` and ``--db-sb-pid`` are corected to be
``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for
reference:
https://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045

Closes-Bug: #2018436
Change-Id: Ic1e8768374566eb2198302807ecc644a19cd3062
(cherry picked from commit 46c2b60d9f58c8398929cbf2a4a935150817d601)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/882290/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'releasenotes/notes/correct-ovn-ctl-pid-flag-in-template-d915fe4b71548da0.yaml']",3,36f35d1b234478d6a5d6e1bf319370bc5fa9ed4a,bug/2018436-stable/zed,--- fixes: - | The flags ``--db-nb-pid`` and ``--db-sb-pid`` have been corected to be ``--db-nb-pidfile`` and ``--db-sb-pidfile`` respectively. See here for reference: https://github.com/ovn-org/ovn/blob/6c6a7ad1c64a21923dc9b5bea7069fd88bcdd6a8/utilities/ovn-ctl#L1045 `LP#2018436 <https://launchpad.net/bugs/2018436>`__ ,,10,2
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,stable/wallaby,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-05-18 14:02:42.000000000,2023-05-25 16:42:40.000000000,2023-05-25 16:40:48.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-18 14:02:42.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ff20040a28f2db4ef07974f0b18d5ee43e4d5148', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nConflicts:\n      ovn_octavia_provider/helper.py\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)\n'}]",1,883513,ff20040a28f2db4ef07974f0b18d5ee43e4d5148,9,4,1,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Conflicts:
      ovn_octavia_provider/helper.py

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/883513/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,ff20040a28f2db4ef07974f0b18d5ee43e4d5148,wallaby," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,143
openstack%2Fopenstacksdk~master~Ib7cc43792fbd608d16e27bede13e79a792af15be,openstack/openstacksdk,master,Ib7cc43792fbd608d16e27bede13e79a792af15be,WIP: Update docstrings for openstack.resource,ABANDONED,2022-06-16 17:50:30.000000000,2023-05-25 16:42:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 17:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a01ff6375105e1e70de5421a2428414a6095bf98', 'message': ""WIP: Update docstrings for openstack.resource\n\nWIP cos I haven't completed this work :)\n\nChange-Id: Ib7cc43792fbd608d16e27bede13e79a792af15be\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-07-11 16:43:59.000000000', 'files': ['openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/70685ad4a7fc32a2155326dc8841b3888f371cea', 'message': ""WIP: Update docstrings for openstack.resource\n\nWIP cos I haven't completed this work :)\n\nChange-Id: Ib7cc43792fbd608d16e27bede13e79a792af15be\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,846215,70685ad4a7fc32a2155326dc8841b3888f371cea,6,1,2,15334,,,0,"WIP: Update docstrings for openstack.resource

WIP cos I haven't completed this work :)

Change-Id: Ib7cc43792fbd608d16e27bede13e79a792af15be
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/15/846215/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/resource.py'],1,a01ff6375105e1e70de5421a2428414a6095bf98,cleanup," :type prepend_key: bool :param base_path: Base part of the URI for creating resources, if :type base_path: str :param params: Additional params to pass. :type params: dict :type data: list :type prepend_key: bool :param base_path: Base part of the URI for creating resources, if :type base_path: str :param params: Additional params to pass. :type params: dict"," :param str base_path: Base part of the URI for creating resources, if :param dict params: Additional params to pass. :param str base_path: Base part of the URI for creating resources, if :param dict params: Additional params to pass. ",11,5
openstack%2Fovn-octavia-provider~stable%2Fxena~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,stable/xena,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-05-18 13:59:20.000000000,2023-05-25 16:42:03.000000000,2023-05-25 16:40:47.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-18 13:59:20.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8a46ce4f078a524be849eafd6dd853cebe92c1d5', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)\n'}]",1,883512,8a46ce4f078a524be849eafd6dd853cebe92c1d5,9,4,1,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/883512/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,8a46ce4f078a524be849eafd6dd853cebe92c1d5,xena," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,143
openstack%2Fovn-octavia-provider~stable%2Fyoga~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,stable/yoga,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-05-18 13:58:42.000000000,2023-05-25 16:41:57.000000000,2023-05-25 16:40:46.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-18 13:58:42.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f6ce0a2dd45acad2e4ed0cbf86d42e5f10026151', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)\n'}]",2,883511,f6ce0a2dd45acad2e4ed0cbf86d42e5f10026151,11,4,1,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/883511/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,f6ce0a2dd45acad2e4ed0cbf86d42e5f10026151,yoga," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,143
openstack%2Fovn-octavia-provider~stable%2Fzed~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,stable/zed,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-05-18 13:58:20.000000000,2023-05-25 16:41:50.000000000,2023-05-25 16:40:44.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-18 13:58:20.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/187d3fcc4f1d8278f35802e0d9e65fc50c8c540d', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)\n'}]",2,883510,187d3fcc4f1d8278f35802e0d9e65fc50c8c540d,11,4,1,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/10/883510/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,187d3fcc4f1d8278f35802e0d9e65fc50c8c540d,zed," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,143
openstack%2Fpuppet-nova~stable%2Fxena~Iff3ecdff9740dc1cc889b93666f089a8b60ef0ca,openstack/puppet-nova,stable/xena,Iff3ecdff9740dc1cc889b93666f089a8b60ef0ca,Fix missing notifications about virt*d services,MERGED,2023-05-25 08:10:51.000000000,2023-05-25 16:24:14.000000000,2023-05-25 16:24:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 08:10:51.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt/virtlogd.pp', 'manifests/compute/libvirt/virtnodedevd.pp', 'manifests/compute/libvirt/services.pp', 'manifests/compute/libvirt/virtsecretd.pp', 'manifests/migration/libvirt.pp', 'manifests/compute/libvirt/virtstoraged.pp', 'manifests/deps.pp', 'manifests/compute/libvirt/virtqemud.pp', 'manifests/compute/libvirt/virtproxyd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/30ee494b58c9a76cd3accf6822252e42491d31c8', 'message': 'Fix missing notifications about virt*d services\n\nThis change fixes the missing notifications between virt*d_config and\nvirt*d services, so that individual service is restarted when its\nconfiguration file is updated.\n\nThis change also refactors how resource dependencies are managed, using\nthe existing anchors.\n\nNote:\nThis backport includes the follow-up commit[1] which fixed the wrong\nnotification added by the original patch.\n\n[1] 16ebf1bb8b2daedf449e1ed9259e7266709e9cb5\n\nCloses-Bug: #1969401\nChange-Id: Iff3ecdff9740dc1cc889b93666f089a8b60ef0ca\n(cherry picked from commit 170edf57d8798d7b14770a73d93d0c00ee9bbd4a)\n(cherry picked from commit d3851769a730ba42215a4724c806ed461ee759a6)\n'}]",0,884224,30ee494b58c9a76cd3accf6822252e42491d31c8,9,3,1,9816,,,0,"Fix missing notifications about virt*d services

This change fixes the missing notifications between virt*d_config and
virt*d services, so that individual service is restarted when its
configuration file is updated.

This change also refactors how resource dependencies are managed, using
the existing anchors.

Note:
This backport includes the follow-up commit[1] which fixed the wrong
notification added by the original patch.

[1] 16ebf1bb8b2daedf449e1ed9259e7266709e9cb5

Closes-Bug: #1969401
Change-Id: Iff3ecdff9740dc1cc889b93666f089a8b60ef0ca
(cherry picked from commit 170edf57d8798d7b14770a73d93d0c00ee9bbd4a)
(cherry picked from commit d3851769a730ba42215a4724c806ed461ee759a6)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/24/884224/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt/virtlogd.pp', 'manifests/compute/libvirt/virtnodedevd.pp', 'manifests/compute/libvirt/services.pp', 'manifests/compute/libvirt/virtsecretd.pp', 'manifests/migration/libvirt.pp', 'manifests/compute/libvirt/virtstoraged.pp', 'manifests/deps.pp', 'manifests/compute/libvirt/virtqemud.pp', 'manifests/compute/libvirt/virtproxyd.pp']",10,30ee494b58c9a76cd3accf6822252e42491d31c8,bug/1969401-stable/xena,, Anchor['nova::config::begin'] -> Virtproxyd_config<||> -> Anchor['nova::config::end'],63,71
openstack%2Fovn-octavia-provider~stable%2F2023.1~I388284968e27e0ad8ec7bb0a522aa2925b560146,openstack/ovn-octavia-provider,stable/2023.1,I388284968e27e0ad8ec7bb0a522aa2925b560146,Fix update member action,MERGED,2023-05-18 13:57:34.000000000,2023-05-25 16:17:03.000000000,2023-05-25 16:15:57.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-18 13:57:34.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d3e395ac61b7696c227ad0e9621c82a98a43bd85', 'message': 'Fix update member action\n\nUpon receipt of a member update request, certain attribute checks\nare done, which may result in an error and prevent the update from\nbeing successfully completed.\n\nAs per [1], only the ""admin_state_up"" attribute holds significance\nin enabling or disabling members on the ovn-provider side during\nan update operation.\n\nThis patch remove other checks are deemed unnecessary.\n\n[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member\n\nCloses-Bug: 2017127\nChange-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146\n(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)\n'}]",2,883509,d3e395ac61b7696c227ad0e9621c82a98a43bd85,11,4,1,34451,,,0,"Fix update member action

Upon receipt of a member update request, certain attribute checks
are done, which may result in an error and prevent the update from
being successfully completed.

As per [1], only the ""admin_state_up"" attribute holds significance
in enabling or disabling members on the ovn-provider side during
an update operation.

This patch remove other checks are deemed unnecessary.

[1] https://docs.openstack.org/api-ref/load-balancer/v2/?expanded=update-a-member-detail,list-pools-detail,create-pool-detail,batch-update-members-detail#update-a-member

Closes-Bug: 2017127
Change-Id: I388284968e27e0ad8ec7bb0a522aa2925b560146
(cherry picked from commit 8beeeb9112f6c61758f844774bfe4c5d6e8c6a08)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/883509/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",6,d3e395ac61b7696c227ad0e9621c82a98a43bd85,," self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) mock.call(self.ovn_lb, self.ovn_lb.external_ids), mock.call(udp_lb, udp_lb.external_ids)], self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) self.ovn_lb, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_member_status') def test_member_update_exception(self, mock_find_member_status): mock_find_member_status.side_effect = [TypeError] ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) def test__frame_lb_vips_member_offline(self): self.ovn_lb.external_ids[ovn_const.OVN_MEMBER_STATUS_KEY] = \ '{""%s"": ""%s""}' % (self.member_id, constants.OFFLINE) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) expected = {} self.assertEqual(expected, ret) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb, self.ovn_lb.external_ids)"," self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) mock.call(self.ovn_lb.uuid, self.ovn_lb.external_ids), mock.call(udp_lb.uuid, udp_lb.external_ids)], self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) self.ovn_lb.uuid, self.ovn_lb.external_ids) @mock.patch.object(ovn_helper.OvnProviderHelper, '_update_member') def test_member_update_exception(self, mock_update_member): mock_update_member.side_effect = [RuntimeError] def test_member_update_new_member_line(self): old_member_line = ( 'member_%s_%s:%s' % (self.member_id, self.member_address, self.member_port)) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: old_member_line}) self.helper.member_update(self.member) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) def test_member_update_new_port(self): new_port = 11 member_line = ('member_%s_%s:%s_%s' % (self.member_id, self.member_address, new_port, self.member_subnet_id)) self.ovn_lb.external_ids.update( {'pool_%s' % self.pool_id: member_line}) self.helper.member_update(self.member) new_member_line = ( 'member_%s_%s:%s_%s' % (self.member_id, self.member_address, self.member_port, self.member_subnet_id)) expected_calls = [ mock.call('Load_Balancer', self.ovn_lb.uuid, ('external_ids', { 'pool_%s' % self.pool_id: new_member_line})), mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', { '10.22.33.4:80': '192.168.2.149:1010', '123.123.123.123:80': '192.168.2.149:1010'}))] self.helper.ovn_nbdb_api.db_set.assert_has_calls( expected_calls) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids)",96,152
openstack%2Fironic~stable%2F2023.1~Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6,openstack/ironic,stable/2023.1,Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6,CI: Disable mysql counters for grenade,MERGED,2023-05-19 19:08:33.000000000,2023-05-25 16:11:00.000000000,2023-05-25 16:06:42.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 19:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/794d711059c60867f029809dc3a980453fcacf45', 'message': 'CI: Disable mysql counters for grenade\n\nDisabling the performance counters as we suspect it is causing\ndatabase interaction to freeze on the grenade CI job.\n\nChange-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6\n(cherry picked from commit 8b98dfafd848bc1f1bd31c073bcdd37606081045)\n'}, {'number': 2, 'created': '2023-05-24 19:53:10.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdf89319790a4e8f7f4d16c69512934e50352e4f', 'message': 'CI: Disable mysql counters for grenade\n\nDisabling the performance counters as we suspect it is causing\ndatabase interaction to freeze on the grenade CI job.\n\nChange-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6\n(cherry picked from commit 8b98dfafd848bc1f1bd31c073bcdd37606081045)\n'}]",2,883699,cdf89319790a4e8f7f4d16c69512934e50352e4f,15,2,2,10342,,,0,"CI: Disable mysql counters for grenade

Disabling the performance counters as we suspect it is causing
database interaction to freeze on the grenade CI job.

Change-Id: Id951815ab9bfd1ca16aa66fa4c87c0e1b3e788f6
(cherry picked from commit 8b98dfafd848bc1f1bd31c073bcdd37606081045)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/883699/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,794d711059c60867f029809dc3a980453fcacf45,, MYSQL_GATHER_PERFORMANCE: False,,1,0
openstack%2Fpython-manilaclient~master~I0cc280b1d8e25980c2723688fb0f221faa057f2e,openstack/python-manilaclient,master,I0cc280b1d8e25980c2723688fb0f221faa057f2e,Add defaultadsite to security service,MERGED,2022-09-02 16:53:14.000000000,2023-05-25 16:10:28.000000000,2023-05-25 16:09:24.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2022-09-02 16:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/22be6dc584132837dce3a338ed952402567039a2', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.73.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 2, 'created': '2022-09-02 16:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b23c38a06d8628415fbe4d4202c6f3bc37064370', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.73.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 3, 'created': '2022-09-15 07:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/418dcc70d79edab492ee6216893e269ab911dab0', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.74.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 4, 'created': '2022-10-03 08:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/10238f12c4694edca95429deb2941d78657cc65c', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.74.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 5, 'created': '2022-10-15 14:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/27f6966dc688a1b9f6c50e3117c47cbb636cc29c', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.74.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 6, 'created': '2022-12-19 20:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/145d228fcd7982c8d365a0c4af0d28c069336a99', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.74.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 7, 'created': '2022-12-23 08:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0f01ae2de1960fc5128f6c26d4484e4c16f0a495', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.74.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 8, 'created': '2023-02-16 11:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9992b01a7f891fd7cfe50c578be5247c19f432b1', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.76.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 9, 'created': '2023-02-21 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8b34f5cab03a1a385a4d8295054b9f0a04922618', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.76.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 10, 'created': '2023-02-21 12:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3321fdca23fd4142c674bf8627c95a90fc73aa29', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.76.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 11, 'created': '2023-02-21 16:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c4e2fa0c5d38222825c7fdf93b0d33cf90e32b20', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.76.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}, {'number': 12, 'created': '2023-02-22 09:09:52.000000000', 'files': ['manilaclient/v2/security_services.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_security_services.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/functional/base.py', 'releasenotes/notes/add-defaultadsite-to-security-service-33fd0a5d1b865b11.yaml', 'manilaclient/osc/v2/security_services.py', 'manilaclient/tests/functional/test_security_services.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6e9433cd319d2657af2531a8e9059be367c04f13', 'message': ""Add defaultadsite to security service\n\nAllows to configure optional field 'defaultadsite' in security-service\nfor microversion >= 2.76.\n\nCloses-bug: #1988146\nDepends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa\nChange-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e\n""}]",58,855690,6e9433cd319d2657af2531a8e9059be367c04f13,44,7,12,32919,,,0,"Add defaultadsite to security service

Allows to configure optional field 'defaultadsite' in security-service
for microversion >= 2.76.

Closes-bug: #1988146
Depends-on: I8e21e9170eace134a51efed84de1ccc58eb7eaaa
Change-Id: I0cc280b1d8e25980c2723688fb0f221faa057f2e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/90/855690/12 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/v2/security_services.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_security_services.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/functional/base.py', 'releasenotes/notes/add-defaultadsite-to-security-service-33fd0a5d1b865b11.yaml', 'manilaclient/osc/v2/security_services.py', 'manilaclient/api_versions.py', 'manilaclient/tests/functional/test_security_services.py']",11,22be6dc584132837dce3a338ed952402567039a2,bug/1988146," self.defaultadsite = 'fake_defaultadsite' @ddt.data( {'name': 'test_name'}, {'description': 'test_description'}, {'user': 'test_username'}, {'password': 'test_password'}, {'defaultadsite': 'test_defaultadsite'}, {'domain': 'test_domain'}, {'dns_ip': 'test_dns_ip'}, {'ou': 'test_ou'}, {'name': '""""'}, {'description': '""""'}, {'user': '""""'}, {'password': '""""'}, {'defaultadsite': '""""'}, {'domain': '""""'}, {'dns_ip': '""""'}, {'ou': '""""'}, ) def test_create_update_security_service_2(self, ss_data): self.skip_if_microversion_not_supported(""2.73"") expected_data = { 'name': self.name, 'description': self.description, 'user': self.user, 'password': self.password, 'defaultadsite': self.defaultadsite, 'domain': self.domain, 'dns_ip': self.dns_ip, 'ou': self.ou, } ss = self.create_security_service(**expected_data) update = self.admin_client.update_security_service(ss['id'], **ss_data) expected_data.update(ss_data) for k, v in expected_data.items(): if v == '""""': self.assertEqual('None', update[k]) else: self.assertEqual(v, update[k])",,291,20
openstack%2Fironic~stable%2Fzed~If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e,openstack/ironic,stable/zed,If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e,[ci] [stable-only] Cinder fixed; make BFV job vote,MERGED,2023-05-24 19:36:22.000000000,2023-05-25 16:09:37.000000000,2023-05-25 16:06:39.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 19:36:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e2d72cbf556c0d4a216c5cfffff86c82c80b091', 'message': '[ci] [stable-only] Cinder fixed; make BFV job vote\n\nWe need to ensure CI for BFV is enabled if we expect BFV to work.\n\nChange-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e\n'}]",0,884220,5e2d72cbf556c0d4a216c5cfffff86c82c80b091,9,3,1,10342,,,0,"[ci] [stable-only] Cinder fixed; make BFV job vote

We need to ensure CI for BFV is enabled if we expect BFV to work.

Change-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/884220/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5e2d72cbf556c0d4a216c5cfffff86c82c80b091,, - ironic-tempest-bfv - ironic-tempest-bfv, # NOTE(JayF): This job is failing and is being fixed in master. It # should be re-enabled in stable when it's re-enabled on master. # commented out 2023-05-19 - ironic-tempest-bfv: voting: false # NOTE(JayF): This job is failing and is being fixed in master. It # should be re-enabled in stable when it's re-enabled on master. # commented out 2023-05-19 #- ironic-tempest-bfv,2,9
openstack%2Fironic-tempest-plugin~master~I4ae825a09838dae198ff663cfc1e602b10bc7084,openstack/ironic-tempest-plugin,master,I4ae825a09838dae198ff663cfc1e602b10bc7084,Clarify checksum for wholedisk images.,MERGED,2023-05-02 19:58:42.000000000,2023-05-25 16:09:31.000000000,2023-05-25 16:06:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-02 19:58:42.000000000', 'files': ['ironic_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/ec74c1c0f4aa82157c5c1a37a387b637ae264455', 'message': 'Clarify checksum for wholedisk images.\n\nChange-Id: I4ae825a09838dae198ff663cfc1e602b10bc7084\n'}]",2,882096,ec74c1c0f4aa82157c5c1a37a387b637ae264455,10,3,1,11655,,,0,"Clarify checksum for wholedisk images.

Change-Id: I4ae825a09838dae198ff663cfc1e602b10bc7084
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/96/882096/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/config.py'],1,ec74c1c0f4aa82157c5c1a37a387b637ae264455,," help=""An checksum of the image. Recommend SHA256 or SHA512"" ""as MD5 is deprecated.""),"," help=""An MD5 checksum of the image.""),",2,1
openstack%2Fironic~stable%2F2023.1~If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e,openstack/ironic,stable/2023.1,If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e,[ci] [stable-only] Cinder fixed; make BFV job vote,MERGED,2023-05-24 19:35:24.000000000,2023-05-25 16:09:15.000000000,2023-05-25 16:05:35.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 19:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51e6afda5b2e755f9703247b0361cf4d7fd1288a', 'message': 'Cinder bugs fixed; make BFV job vote again\n\nWe need to ensure CI for BFV is enabled if we expect BFV to work.\n\nChange-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e\n'}, {'number': 2, 'created': '2023-05-24 19:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e75149043524ee6598671a46eed15ea3950b4148', 'message': '[ci] [stable-only] Cinderfixed; make BFV job vote\n\nWe need to ensure CI for BFV is enabled if we expect BFV to work.\n\nChange-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e\n'}, {'number': 3, 'created': '2023-05-24 19:36:02.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/12e79423aa9a5440f4568cd05fbe6ef8a8eaf67c', 'message': '[ci] [stable-only] Cinder fixed; make BFV job vote\n\nWe need to ensure CI for BFV is enabled if we expect BFV to work.\n\nChange-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e\n'}]",0,884280,12e79423aa9a5440f4568cd05fbe6ef8a8eaf67c,11,3,3,10342,,,0,"[ci] [stable-only] Cinder fixed; make BFV job vote

We need to ensure CI for BFV is enabled if we expect BFV to work.

Change-Id: If7cfc319de8cefdb42d4a613e5126c0f0edb0c9e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/884280/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,51e6afda5b2e755f9703247b0361cf4d7fd1288a,, - ironic-tempest-bfv - ironic-tempest-bfv, # NOTE(JayF): This job is failing and is being fixed in master. It # should be re-enabled in stable when it's re-enabled on master. # commented out 2023-05-19 - ironic-tempest-bfv: voting: false # NOTE(JayF): This job is failing and is being fixed in master. It # should be re-enabled in stable when it's re-enabled on master. # commented out 2023-05-19 #- ironic-tempest-bfv,2,9
openstack%2Fkolla-ansible~master~I342b5721b18e05cf2700db8031c5cd29b2bbf040,openstack/kolla-ansible,master,I342b5721b18e05cf2700db8031c5cd29b2bbf040,veryWIP: Add syslog for Neutron agents,NEW,2023-05-25 14:55:11.000000000,2023-05-25 16:07:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 14:55:11.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a01071034c7db7b37881b4860080bc3d30a4aefe', 'message': 'veryWIP: Add syslog for Neutron agents\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/884407\nChange-Id: I342b5721b18e05cf2700db8031c5cd29b2bbf040\n'}]",0,884408,a01071034c7db7b37881b4860080bc3d30a4aefe,4,1,1,22629,,,0,"veryWIP: Add syslog for Neutron agents

Depends-On: https://review.opendev.org/c/openstack/neutron/+/884407
Change-Id: I342b5721b18e05cf2700db8031c5cd29b2bbf040
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/884408/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml']",3,a01071034c7db7b37881b4860080bc3d30a4aefe,," syslog_neutron_agents_haproxy_facility: ""local3""",,10,0
openstack%2Fironic~master~I3c2033b05f8005891d96c3ca141a80838a8699a4,openstack/ironic,master,I3c2033b05f8005891d96c3ca141a80838a8699a4,Don't return the in-flight SQL handler,MERGED,2023-05-09 17:24:27.000000000,2023-05-25 15:41:45.000000000,2023-05-25 15:40:14.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 17:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb136f0affe5ba2cf6ce13d8250b0ff75f2fdc3e', 'message': ""DNM: Don't return the in-flight SQL handler\n\nSeems we can now get a failure on jammy where the commit/rollback\nhas *already* occured in some cases, causing test failures.\n\nThis seems to be a result of the pattern of returning the in-flight\ndb operation, instead of returning the result later.\n\nChange-Id: I3c2033b05f8005891d96c3ca141a80838a8699a4\n""}, {'number': 2, 'created': '2023-05-09 19:19:30.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/995e38cd7df3aeb77639e34726249ecf22d20f3a', 'message': ""Don't return the in-flight SQL handler\n\nSeems we can now get a failure on jammy where the commit/rollback\nhas *already* occured in some cases, causing test failures.\n\nThis seems to be a result of the pattern of returning the in-flight\ndb operation, instead of returning the result later.\n\nSince we should only *really* be doing so where we explicitly\nknow we need to do so, I've gone ahead and changed the rest of\nthe returns, since we recently had to visit some of them for\nthe same basic reason.\n\nChange-Id: I3c2033b05f8005891d96c3ca141a80838a8699a4\n""}]",0,882732,995e38cd7df3aeb77639e34726249ecf22d20f3a,13,3,2,11655,,,0,"Don't return the in-flight SQL handler

Seems we can now get a failure on jammy where the commit/rollback
has *already* occured in some cases, causing test failures.

This seems to be a result of the pattern of returning the in-flight
db operation, instead of returning the result later.

Since we should only *really* be doing so where we explicitly
know we need to do so, I've gone ahead and changed the rest of
the returns, since we recently had to visit some of them for
the same basic reason.

Change-Id: I3c2033b05f8005891d96c3ca141a80838a8699a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/882732/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,eb136f0affe5ba2cf6ce13d8250b0ff75f2fdc3e,, res = session.execute( return res res = session.scalars( return res res = session.scalars( return res res = session.scalars( return res res = session.scalars( return res, return session.execute( return session.scalars( return session.scalars( return session.scalars( return session.scalars(,10,5
openstack%2Fkolla-ansible~master~I05d8b29b59a7de76da488f68775547a8f0f11d0f,openstack/kolla-ansible,master,I05d8b29b59a7de76da488f68775547a8f0f11d0f,neutron: Add neutron-ovn-agent support,MERGED,2023-01-20 15:57:19.000000000,2023-05-25 15:40:17.000000000,2023-05-19 13:42:55.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-01-20 15:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b4b74a7b0055ba6c4fabcfb6cdbe9f6b6b764a4', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 2, 'created': '2023-03-20 07:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df2130840fbbae81c4fa675ed16806c32f187e04', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 3, 'created': '2023-03-20 07:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d3cdbd33b45c703d2720dd6dcfa9b59c95a156c', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 4, 'created': '2023-03-20 09:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c37eb57baf47c00ca5216556592d1d0a85b12604', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 5, 'created': '2023-03-20 10:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40ab7bce21f8f03b241dec0a8103da4005d1dbb4', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 6, 'created': '2023-03-20 12:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cf2e28bd8b025d459529f9bc8d82bbe33f64782', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 7, 'created': '2023-03-20 12:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b9e1fe51bf4183d91f2b081a9aaca4175ece7eb', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 8, 'created': '2023-03-20 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2660a3b4af68301015b12c82ce20e69dfefd4cee', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 9, 'created': '2023-03-20 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61f3d51a1903b8bdd085edcbe04219a18b69b165', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 10, 'created': '2023-03-20 12:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f94fad0f3ca3bb9a91c7c291b06e3099c5ab864', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 11, 'created': '2023-03-20 16:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/149e09f7cd888ccbfb4e088c5b670cb5ddb62017', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 12, 'created': '2023-03-21 10:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c82085760dfdf48aecb8db692c7e4ee3410f802', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 13, 'created': '2023-03-21 12:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6998e76103cfb3ee14ed66206a27b659357e1963', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/870793\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 14, 'created': '2023-03-24 14:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cae22a3e321f79d923961f61a157d90d213e6bb5', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 15, 'created': '2023-05-19 05:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55264b6e349e941298e1b11dbccb10ea01e3f685', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 16, 'created': '2023-05-19 05:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e6957f975bcc863224f1790a1691d32fb4cead1', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 17, 'created': '2023-05-19 05:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aecd0fd99d2f53f11b3f4bbb88482415faba18c', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 18, 'created': '2023-05-19 06:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40bec252ab1644f32318e7ae705aba1047b49c1c', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 19, 'created': '2023-05-19 07:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aba538408ca76e569c0fea00515503b7ffae2a19', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 20, 'created': '2023-05-19 09:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9d9c1371c82af855201788bcb1193693630d7c4', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 21, 'created': '2023-05-19 10:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3405eb1810ed78ac9f7e8d3f9957e4ca25b2b5c8', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}, {'number': 22, 'created': '2023-05-19 10:20:16.000000000', 'files': ['ansible/inventory/multinode', 'releasenotes/notes/neutron-ovn-agent-d66236e44bde2c29.yaml', 'ansible/roles/neutron/templates/neutron-ovn-agent.json.j2', 'ansible/roles/neutron/templates/ovn_agent.ini.j2', 'ansible/roles/neutron/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/neutron/tasks/config.yml', 'doc/source/reference/networking/neutron.rst', 'ansible/inventory/all-in-one', 'ansible/roles/neutron/handlers/main.yml', 'ansible/group_vars/all.yml', 'tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07815a21da51c3d615c6073d07b16dea4ff3dfc2', 'message': 'neutron: Add neutron-ovn-agent support\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/878535\nChange-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f\n'}]",25,871297,07815a21da51c3d615c6073d07b16dea4ff3dfc2,73,6,22,22629,,,0,"neutron: Add neutron-ovn-agent support

Depends-On: https://review.opendev.org/c/openstack/neutron/+/878535
Change-Id: I05d8b29b59a7de76da488f68775547a8f0f11d0f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/871297/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/handlers/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/tasks/config.yml']",3,4b4b74a7b0055ba6c4fabcfb6cdbe9f6b6b764a4,," - ""neutron-ovn-agent""",,50,0
openstack%2Fpuppet-openstack_extras~master~I91e97082864dfd4fb159e41b8719fc2c25ba9cb2,openstack/puppet-openstack_extras,master,I91e97082864dfd4fb159e41b8719fc2c25ba9cb2,CentOS: Use dnf to install packages,MERGED,2023-05-25 03:02:31.000000000,2023-05-25 15:19:03.000000000,2023-05-25 15:19:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 03:02:31.000000000', 'files': ['spec/acceptance/openstack_extras_repo_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/83596637513978b197ea94370334086695967368', 'message': 'CentOS: Use dnf to install packages\n\ndnf replaced yum and yum command is no longer available by default.\n\nChange-Id: I91e97082864dfd4fb159e41b8719fc2c25ba9cb2\n'}]",0,884307,83596637513978b197ea94370334086695967368,8,3,1,9816,,,0,"CentOS: Use dnf to install packages

dnf replaced yum and yum command is no longer available by default.

Change-Id: I91e97082864dfd4fb159e41b8719fc2c25ba9cb2
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/07/884307/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/openstack_extras_repo_spec.rb'],1,83596637513978b197ea94370334086695967368,remove-yum," expect(command('dnf install -y python-openstackclient').exit_code).to be_zero expect(command('dnf list python-openstackclient | grep -A 1 ""Installed Packages""').stdout).to match(/@rdo-release/)"," expect(command('yum install -y python-openstackclient').exit_code).to be_zero expect(command('yum list python-openstackclient | grep -A 1 ""Installed Packages""').stdout).to match(/@rdo-release/)",2,2
openstack%2Fglance~master~I14abd88944407da17ca81b77c079262565ff71c6,openstack/glance,master,I14abd88944407da17ca81b77c079262565ff71c6,Run integrated test if zuul.yaml file is changed,MERGED,2023-05-19 03:29:56.000000000,2023-05-25 15:17:02.000000000,2023-05-25 15:14:06.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 03:29:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/dca70d1ca8f6c5947bea0b5a623843b68cfb5d15', 'message': 'Run integrated test if zuul.yaml file is changed\n\nzuul.yaml file contain many jobs definition and base class.\nAny change in this file can impact other job definition. Also,\nmany times we want to test the full integrated gate if this\nfile is changed or if depends-on is changing some global setting,\nfor example: https://review.opendev.org/c/openstack/glance/+/883602/1\n\nChange-Id: I14abd88944407da17ca81b77c079262565ff71c6\n'}]",2,883619,dca70d1ca8f6c5947bea0b5a623843b68cfb5d15,15,3,1,8556,,,0,"Run integrated test if zuul.yaml file is changed

zuul.yaml file contain many jobs definition and base class.
Any change in this file can impact other job definition. Also,
many times we want to test the full integrated gate if this
file is changed or if depends-on is changing some global setting,
for example: https://review.opendev.org/c/openstack/glance/+/883602/1

Change-Id: I14abd88944407da17ca81b77c079262565ff71c6
",git fetch https://review.opendev.org/openstack/glance refs/changes/19/883619/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dca70d1ca8f6c5947bea0b5a623843b68cfb5d15,,, - ^\.zuul\.yaml$,0,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Fzed~I19c2b03c61f714fedb593da8489e50d3fa08d933,openstack/openstack-ansible-os_cinder,stable/zed,I19c2b03c61f714fedb593da8489e50d3fa08d933,Define service_user for cinder services,MERGED,2023-05-24 14:03:52.000000000,2023-05-25 15:15:09.000000000,2023-05-25 15:13:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:03:52.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/254bde4b10ff1f08b1cada13fbaa629b9eae1627', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}]",0,884210,254bde4b10ff1f08b1cada13fbaa629b9eae1627,9,3,1,28619,,,0,"Define service_user for cinder services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all cinder services has been added by cinder.

Change-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933
(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/10/884210/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,254bde4b10ff1f08b1cada13fbaa629b9eae1627,osa/OSSA-2023-003,send_service_user_token = {{ cinder_service_token_roles_required | bool }} [barbican_service_user] auth_section = keystone_authtoken [service_user] send_service_user_token = {{ cinder_service_token_roles_required | bool }} insecure = {{ keystone_service_internaluri_insecure | bool }} auth_type = {{ cinder_keystone_auth_type }} auth_url = {{ keystone_service_internalurl }} password = {{ cinder_service_password }} project_domain_id = {{ cinder_service_project_domain_id }} project_name = {{ cinder_service_project_name }} region_name = {{ keystone_service_region }} user_domain_id = {{ cinder_service_user_domain_id }} username = {{ cinder_service_user_name }},,16,0
openstack%2Fbarbican~master~I2f946125d447d960e96dfac4699c557288750c3c,openstack/barbican,master,I2f946125d447d960e96dfac4699c557288750c3c,Make FIPS job non-voting,MERGED,2023-05-24 21:11:28.000000000,2023-05-25 15:12:03.000000000,2023-05-25 15:09:25.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-05-24 21:11:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3c1c30918dfa7daccf6e8729bedfde774c65235d', 'message': ""Make FIPS job non-voting\n\nTemporarly prevent the FIPS job from voting to unblock the gate.\n\nWe'll need to revert back to voting once devstack is working under FIPS\nagain. [1]\n\n[1] https://review.opendev.org/c/openstack/devstack/+/884277\n\nChange-Id: I2f946125d447d960e96dfac4699c557288750c3c\n""}]",2,884300,3c1c30918dfa7daccf6e8729bedfde774c65235d,14,6,1,7973,,,0,"Make FIPS job non-voting

Temporarly prevent the FIPS job from voting to unblock the gate.

We'll need to revert back to voting once devstack is working under FIPS
again. [1]

[1] https://review.opendev.org/c/openstack/devstack/+/884277

Change-Id: I2f946125d447d960e96dfac4699c557288750c3c
",git fetch https://review.opendev.org/openstack/barbican refs/changes/00/884300/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3c1c30918dfa7daccf6e8729bedfde774c65235d,, - barbican-tox-functional-fips: voting: false, - barbican-tox-functional-fips,2,1
openstack%2Fironic~master~I12fc8651c04cbe5da04a2886d9d6d3fd953d9bea,openstack/ironic,master,I12fc8651c04cbe5da04a2886d9d6d3fd953d9bea,CI: Move metalsmith to non-voting,ABANDONED,2023-05-19 16:26:00.000000000,2023-05-25 15:09:22.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 16:26:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/020bd803115f898dc170742eec88265951b0f6aa', 'message': 'CI: Move metalsmith to non-voting\n\nMetalsmith, originally intended as a way to duplicate the basic\nlook and feel of ""openstack server"" interactions in TripleO. However\nas TripleO wraps up, Metalsmith now largely enters a maintenance\nperiod until the community determines what to do with it.\n\nAs a result, moving the jobs to non-voting pending a community\ndecision to lesson the overall CI impact and risk of something\ngenerating false failures.\n\nChange-Id: I12fc8651c04cbe5da04a2886d9d6d3fd953d9bea\n'}]",2,883684,020bd803115f898dc170742eec88265951b0f6aa,6,2,1,11655,,,0,"CI: Move metalsmith to non-voting

Metalsmith, originally intended as a way to duplicate the basic
look and feel of ""openstack server"" interactions in TripleO. However
as TripleO wraps up, Metalsmith now largely enters a maintenance
period until the community determines what to do with it.

As a result, moving the jobs to non-voting pending a community
decision to lesson the overall CI impact and risk of something
generating false failures.

Change-Id: I12fc8651c04cbe5da04a2886d9d6d3fd953d9bea
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/883684/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,020bd803115f898dc170742eec88265951b0f6aa,, - metalsmith-integration-glance-centos8-legacy: voting: false , - metalsmith-integration-glance-centos8-legacy - metalsmith-integration-glance-centos8-legacy,3,2
openstack%2Fironic~master~I7bcf8882749b2e41231a40f33c6d5b50060497e3,openstack/ironic,master,I7bcf8882749b2e41231a40f33c6d5b50060497e3,WIP: Disable md5 by default,ABANDONED,2022-11-21 19:22:13.000000000,2023-05-25 15:05:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-21 19:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6aa314f4bca428c72cb6f12e9a2c2d1d4911fc7', 'message': 'WIP: Disable md5 by default\n\nChange-Id: I7bcf8882749b2e41231a40f33c6d5b50060497e3\n'}, {'number': 2, 'created': '2022-11-21 20:06:53.000000000', 'files': ['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/conf/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee9b02c22485268cfbdcec06914edca5d07e73d3', 'message': 'WIP: Disable md5 by default\n\nChange-Id: I7bcf8882749b2e41231a40f33c6d5b50060497e3\n'}]",2,865189,ee9b02c22485268cfbdcec06914edca5d07e73d3,8,1,2,11655,,,0,"WIP: Disable md5 by default

Change-Id: I7bcf8882749b2e41231a40f33c6d5b50060497e3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/865189/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/conf/deploy.py']",4,a6aa314f4bca428c72cb6f12e9a2c2d1d4911fc7,," cfg.BoolOpt('md5_checksum_enabled', default=False, mutable=True, help=_('Allows operators who need to support the insecure ' 'MD5 file checksum in their environment. Default is ' 'False. This only applies if operation falls back to ' 'the ``instance_info/image_checksum`` field.')),",,19,1
openstack%2Fironic-python-agent~master~I481cdd622f360cbba3312c6f3d4af45383bb7e1b,openstack/ironic-python-agent,master,I481cdd622f360cbba3312c6f3d4af45383bb7e1b,Follow-up Add documentation for MellanoxDeviceHardwareManager,MERGED,2023-05-25 10:55:13.000000000,2023-05-25 15:04:39.000000000,2023-05-25 15:03:19.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-25 10:55:13.000000000', 'files': ['doc/source/admin/hardware_managers.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/406c844aac785819b4c7b96f16f436bddb0d65ee', 'message': 'Follow-up Add documentation for MellanoxDeviceHardwareManager\n\nAdd a follow-up documentation for\n""update NVIDIA NIC firmware images and settings by ironic-python-agent""\nIcfaffd7c58c3c73c3fa28cfc2a6c954d2c93c16e\n\nChange-Id: I481cdd622f360cbba3312c6f3d4af45383bb7e1b\n'}]",1,884357,406c844aac785819b4c7b96f16f436bddb0d65ee,7,5,1,25241,,,0,"Follow-up Add documentation for MellanoxDeviceHardwareManager

Add a follow-up documentation for
""update NVIDIA NIC firmware images and settings by ironic-python-agent""
Icfaffd7c58c3c73c3fa28cfc2a6c954d2c93c16e

Change-Id: I481cdd622f360cbba3312c6f3d4af45383bb7e1b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/57/884357/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/hardware_managers.rst'],1,406c844aac785819b4c7b96f16f436bddb0d65ee,," ========================== Custom hardware managers ========================== MellanoxDeviceHardwareManager ============================= This is a custom hardware manager for ironic-python-agent. It provides support for Nvidia/Mellanox NICs. * You can get the binraies firmware for all Nvidia/Mellanox NICs from here `Nvidia firmware downloads <https://network.nvidia.com/support/firmware/firmware-downloads/>`_ * And you can get the deviceID from here `Nvidia/Mellanox NICs list <https://pci-ids.ucw.cz/read/PC/15b3>`_ * Also you can check here `MFT decumentation <https://docs.nvidia.com/networking/display/MFTv4240/Using+mlxconfig>`_ for some supported parameters Clean steps ----------- ``update_nvidia_nic_firmware_image(node, ports, images)`` A clean step used to update Nvidia/Mellanox NICs firmware images from the required parameter ``images`` list. it's disabled by default. Each image in the list is a dictionary with the following fields: ``url`` (required) The url of the firmware image (file://, http://). ``checksum`` (required) checksum of the provided image. ``checksumType`` (required) checksum type, it could be (md5/sha512/sha256). ``componentFlavor`` (required) The PSID of the nic. ``version`` (required) version of the firmware image , it must be the same as in the image file. ``update_nvidia_nic_firmware_settings(node, ports, settings)`` A clean step used to update Nvidia/Mellanox NICs firmware settings from the required parameter ``settings`` list. it's disabled by default. Each settings in the list is a dictionary with the following fields: ``deviceID`` (required) The ID of the NIC ``globalConfig`` The global configuration for NIC ``function0Config`` The per-function configuration of the first port of the NIC ``function1Config`` The per-function configuration of the second port of the NIC",,51,0
openstack%2Fpuppet-openstack-integration~stable%2Fxena~Ib39ec8738f56b381d9fe22f41c54b14e796a66c3,openstack/puppet-openstack-integration,stable/xena,Ib39ec8738f56b381d9fe22f41c54b14e796a66c3,Use service token in nova's requests,MERGED,2023-05-25 09:52:54.000000000,2023-05-25 14:43:23.000000000,2023-05-25 14:43:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-25 09:52:54.000000000', 'files': ['manifests/cinder.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3a3ba155171794531ddb6822a51f48d1c405c137', 'message': ""Use service token in nova's requests\n\nThis patch makes Nova send service tokens to other OpenStack services\nand tells Cinder to expect and validate them.\n\nThis is necessary because in the recent CVE fix it has become mandatory\nfor Nova to send service tokens to Cinder to be able to detach volumes.\n\nBackport to stable/yoga required by [1]\n\n[1] https://review.opendev.org/c/openstack/cinder/+/882839\n\nRelated-Bug: #2004555\nChange-Id: Ib39ec8738f56b381d9fe22f41c54b14e796a66c3\n(cherry picked from commit b78f3fc90012d4efb8d20c368db0517ba4834160)\n(cherry picked from commit e3254f12b7525b7224c2d403a1235a80a5b1e6d5)\n(cherry picked from commit eda56571332e77443bc1b89fa89a1db1cb7f8ee6)\n(cherry picked from commit 399eaa134ddbdcc01412643d15cf3eef07742d73)\n""}]",0,884328,3a3ba155171794531ddb6822a51f48d1c405c137,8,5,1,16312,,,0,"Use service token in nova's requests

This patch makes Nova send service tokens to other OpenStack services
and tells Cinder to expect and validate them.

This is necessary because in the recent CVE fix it has become mandatory
for Nova to send service tokens to Cinder to be able to detach volumes.

Backport to stable/yoga required by [1]

[1] https://review.opendev.org/c/openstack/cinder/+/882839

Related-Bug: #2004555
Change-Id: Ib39ec8738f56b381d9fe22f41c54b14e796a66c3
(cherry picked from commit b78f3fc90012d4efb8d20c368db0517ba4834160)
(cherry picked from commit e3254f12b7525b7224c2d403a1235a80a5b1e6d5)
(cherry picked from commit eda56571332e77443bc1b89fa89a1db1cb7f8ee6)
(cherry picked from commit 399eaa134ddbdcc01412643d15cf3eef07742d73)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/28/884328/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/nova.pp']",2,3a3ba155171794531ddb6822a51f48d1c405c137,," roles => ['admin', 'service'], class { 'nova::keystone::service_user': send_service_user_token => true, password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, }",,15,6
openstack%2Fironic~master~I593d20d3b58ab202c32c31213121b5a2d90934c5,openstack/ironic,master,I593d20d3b58ab202c32c31213121b5a2d90934c5,Add DB model for Firmware,MERGED,2023-05-11 19:14:54.000000000,2023-05-25 14:25:15.000000000,2023-05-25 14:23:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2023-05-11 19:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ea0a8b9b6959423d294cca1be954f4903f533e9', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 2, 'created': '2023-05-11 23:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a49a201da7c29ed7116c968ccf07b0664d95dd67', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 3, 'created': '2023-05-12 00:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6108b76c9fd05da0a6955aa26f20aa4e3dfe56a', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 4, 'created': '2023-05-12 02:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06ea1f715c26a7be17758b129be446f92408b1d0', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 5, 'created': '2023-05-12 03:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1743dd397df7b5c5cc9063dcd5a445eefcee803c', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 6, 'created': '2023-05-12 03:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/906fd680f66e123465a64f59a213bbbbfc40ddc3', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 7, 'created': '2023-05-17 16:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fec102b5dd702ef1ae7ce39620fc18f0a0c078b', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 8, 'created': '2023-05-19 03:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a6d1cb93bcc9c3c0e73ebb67ca759be6ad2f793', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/882731\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 9, 'created': '2023-05-22 01:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2086a0e3199335fa1a27e9d49db8fa0ed94716c8', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 10, 'created': '2023-05-22 14:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48334e598292f4908f821b0e660cc98974440785', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 11, 'created': '2023-05-23 03:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40ff179a25eb2e47890f2d36b70e8b97ef784e1c', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 12, 'created': '2023-05-23 21:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc784d1520e6f7a53a95fa1fea32fc9852bc891d', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}, {'number': 13, 'created': '2023-05-24 23:37:36.000000000', 'files': ['ironic/db/sqlalchemy/alembic/versions/163040c5513f_add_firmware_information.py', 'ironic/tests/unit/common/test_release_mappings.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6653049403a0e10d8e31fc73c571522b15c7511', 'message': ' Add DB model for Firmware\n\n* firmware_information table\n* `firmware_interface` field in node table\n* database migration\n* tests\n\nStory: 2010659\nTask: 47976\n\nChange-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5\n'}]",9,883031,d6653049403a0e10d8e31fc73c571522b15c7511,61,6,13,15519,,,0," Add DB model for Firmware

* firmware_information table
* `firmware_interface` field in node table
* database migration
* tests

Story: 2010659
Task: 47976

Change-Id: I593d20d3b58ab202c32c31213121b5a2d90934c5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/883031/13 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/alembic/versions/163040c5513f_add_firmware_information.py', 'ironic/tests/unit/common/test_release_mappings.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py']",4,1ea0a8b9b6959423d294cca1be954f4903f533e9,fw_db," def _pre_upgrade_163040c5513f(self, engine): # Create a node to which firmware information can be added. data = {'uuid': uuidutils.generate_uuid()} nodes = db_utils.get_table(engine, 'nodes') nodes.insert().execute(data) node = nodes.select(nodes.c.uuid == data['uuid']).execute().first() data['id'] = node['id'] return data def _check_163040c5513f(self, engine, data): fw_information = db_utils.get_table(engine, 'fw_information') col_names = [column.name for column in fw_information.c] expected_names = ['node_id', 'created_at', 'updated_at', 'component', 'initial_version', 'current_version', 'last_version_flashed', 'version'] self.assertEqual(sorted(expected_names), sorted(col_names)) self.assertIsInstance(fw_information.c.node_id.type, sqlalchemy.types.Integer) self.assertIsInstance(fw_information.c.created_at.type, sqlalchemy.types.DateTime) self.assertIsInstance(fw_information.c.updated_at.type, sqlalchemy.types.DateTime) self.assertIsInstance(fw_information.c.component.type, sqlalchemy.types.String) self.assertIsInstance(fw_information.c.initial_version.type, sqlalchemy.types.String) self.assertIsInstance(fw_information.c.current_version.type, sqlalchemy.types.String) self.assertIsInstance(fw_information.c.last_version_flashed.type, sqlalchemy.types.String) self.assertIsInstance(fw_information.c.value.type, sqlalchemy.types.Text) fw_component = {'node_id': data['id'], 'component': 'virtualization', 'initial_version': 'v1.0.0'} fw_information.insert().execute(fw_component) fw_component = fw_information.select( sqlalchemy.sql.and_( fw_information.c.node_id == data['id'], fw_information.c.name == fw_component['component'] )).execute().first() self.assertEqual('on', fw_component['initial_version']) nodes = db_utils.get_table(engine, 'nodes') col_names = [column.name for column in nodes.c] self.assertIn('firmware_interface', col_names) self.assertIsInstance(nodes.c.firmware_interface.type, sqlalchemy.types.String) ",,112,1
openstack%2Fcharm-neutron-api-plugin-ovn~master~I0834ddf7d63bf7f7d59a122bc07f007abffb5f3f,openstack/charm-neutron-api-plugin-ovn,master,I0834ddf7d63bf7f7d59a122bc07f007abffb5f3f,Convert to binary reactive charm (source charm fails to install),MERGED,2023-05-23 14:47:03.000000000,2023-05-25 14:15:01.000000000,2023-05-25 14:15:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2023-05-23 14:47:03.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/3fc51fadd8ca87534741be05a9ac350e1b8c2e56', 'message': 'Convert to binary reactive charm (source charm fails to install)\n\nDue to new install dependencies for urllib3, this charm has been\nconverted to a binary charm so that the build dependencies are resolved\nat charm build, rather than charm install.\n\nNote: the 23.04 binary charm build fails due to missing support in\ncharmcraft [1], but this should be addressed soon.\n\n[1] https://github.com/canonical/charmcraft/issues/1104\n\nCloses-Bug: #2019540\nChange-Id: I0834ddf7d63bf7f7d59a122bc07f007abffb5f3f\n'}]",0,883946,3fc51fadd8ca87534741be05a9ac350e1b8c2e56,7,3,1,20870,,,0,"Convert to binary reactive charm (source charm fails to install)

Due to new install dependencies for urllib3, this charm has been
converted to a binary charm so that the build dependencies are resolved
at charm build, rather than charm install.

Note: the 23.04 binary charm build fails due to missing support in
charmcraft [1], but this should be addressed soon.

[1] https://github.com/canonical/charmcraft/issues/1104

Closes-Bug: #2019540
Change-Id: I0834ddf7d63bf7f7d59a122bc07f007abffb5f3f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/46/883946/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml']",6,3fc51fadd8ca87534741be05a9ac350e1b8c2e56,bug/2019540, charm: ../../../neutron-api-plugin-ovn_ubuntu-22.04-amd64_ubuntu-22.10-amd64.charm, charm: ../../../neutron-api-plugin-ovn.charm,91,21
openstack%2Fkayobe~master~Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515,openstack/kayobe,master,Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515,Bump up Ansible supported versions to 6.x/7.x,MERGED,2023-03-22 11:19:17.000000000,2023-05-25 14:14:46.000000000,2023-05-25 14:13:46.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-22 11:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3f05ccc557319f5819964eb47ba630298998555d', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.43.x) and minimum to 6.x. This synchronises Kayobe with\nKolla Ansible.\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 2, 'created': '2023-03-22 11:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e67f3bf38866bfa1051f9de3463c0a35f3c9cbfe', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.43.x) and minimum to 6.x. This synchronises Kayobe with\nKolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/877697\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 3, 'created': '2023-03-22 11:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eca0fad7aa42ac0494e9a033d74fc544db75e97f', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.43.x) and minimum to 6.x. This synchronises Kayobe with\nKolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/877697\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 4, 'created': '2023-03-22 11:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f942ddc672b18e16f6b10a1c513544d384d58662', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x. This synchronises Kayobe with\nKolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/877697\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 5, 'created': '2023-03-22 11:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d704e68aba3cea160b069a840b75b0298ad68a09', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/877697\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 6, 'created': '2023-04-19 07:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f125b7a7644a8f8069ef4bc3a5209bcae131286f', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/877697\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 7, 'created': '2023-04-21 06:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0fbeb60676b2cadaf759e6d823231313fc7f63de', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/881018\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 8, 'created': '2023-05-22 06:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/32aef9f298098bec3576ffc7d13697ac7057c367', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/881018\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 9, 'created': '2023-05-22 06:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a785c94883cc823ae2c90909ff84108ef200ff75', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 10, 'created': '2023-05-22 07:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bdcd70b5f9efa45b0f8779ec279276005b6b6c9c', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}, {'number': 11, 'created': '2023-05-25 08:10:17.000000000', 'files': ['releasenotes/notes/ansible-update-7-e90e58f6d7497c0e.yaml', 'requirements.txt', 'ansible/roles/kolla-ansible/tasks/install.yml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/773eead34dad528e389a4502f7474c4687a3ddf4', 'message': 'Bump up Ansible supported versions to 6.x/7.x\n\nThis change bumps up the maximum supported Ansible version to 7.x\n(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).\nThis synchronises Kayobe with Kolla Ansible.\n\nChange-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515\n'}]",13,878207,773eead34dad528e389a4502f7474c4687a3ddf4,45,5,11,23084,,,0,"Bump up Ansible supported versions to 6.x/7.x

This change bumps up the maximum supported Ansible version to 7.x
(ansible-core 2.14.x) and minimum to 6.x (ansible-core 2.13.x).
This synchronises Kayobe with Kolla Ansible.

Change-Id: Ibffecaa8085bd38ebc8cded9a4bfebe77d59d515
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/878207/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3f05ccc557319f5819964eb47ba630298998555d,,"ansible>=6,<8.0 # GPLv3","ansible>=5,<7.0 # GPLv3",1,1
openstack%2Fcinder~master~Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588,openstack/cinder,master,Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588,WIP: Quota: New quota system,NEW,2021-11-29 18:19:05.000000000,2023-05-25 14:11:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-11-29 18:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d7fb2657af4c2c3e90785627f3d3f6a2f7d9deb', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 2, 'created': '2021-11-30 17:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ca2cb58871cb4a624a23638eafdad7a366201d1', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 3, 'created': '2021-12-01 10:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6435e74663bc5421bcb78b063bc1b0a5b0c572f8', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 4, 'created': '2021-12-02 17:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ad15b5a60db3dd56cf3a59825d92409373bef8f', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 5, 'created': '2021-12-03 15:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45dcf9dcc5f56bdd81357cb95fb0a5a1576ce796', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 6, 'created': '2021-12-07 17:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25c0b5eda42030c6af995e9074b1b8b60b4db418', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 7, 'created': '2021-12-09 10:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6caec4337b8f139ad7178a0a4b0d34ab76b37d25', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}, {'number': 8, 'created': '2021-12-09 13:57:06.000000000', 'files': ['cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/contrib/quotas.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/admin_actions.py', 'cinder/scheduler/manager.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/cmd/manage.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py', 'cinder/message/message_field.py', 'cinder/objects/volume_type.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/api/v2/limits.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/exception.py', 'cinder/objects/backup.py', 'cinder/quota/db.py', 'cinder/quota.py', 'cinder/group/api.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/objects/base.py', 'cinder/quota/__init__.py', 'cinder/quota_utils.py', 'cinder/transfer/api.py', '.zuul.yaml', 'cinder/db/api.py', 'cinder/volume/flows/manager/manage_existing_snapshot.py', 'cinder/objects/snapshot.py', 'cinder/api/contrib/used_limits.py', 'cinder/volume/driver.py', 'cinder/api/contrib/quota_classes.py', 'cinder/api/contrib/backups.py', 'cinder/api/validation/validators.py', 'cinder/interface/quota_driver.py', 'cinder/volume/rpcapi.py', 'cinder/api/contrib/volume_transfer.py', 'cinder/api/v3/limits.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3aa8c9e9c68db847e95f1205e4754ddb6ab4dc4', 'message': ""WIP: Quota: New quota system\n\nThis is a WIP patch to illustrate how it could look like if we replace\nthe old database quota system with a new system that dynamically counts\nresource consumption.\n\nThe intention is to help with the review of the spec.\n\nThe code is incomplete, as it's missing:\n\n- Manually check that all operations work as intended\n- Updating existing unit tests\n- Adding new unit tests\n- Properly formatting the code\n- Documenting the code\n- Adding mypy support\n\nAnd that is why, for the time being, the patch disables all CI jobs but\none.\n\nImplements: blueprint count-resource-to-check-quota\n\nCloses-Bug: #1952635\nCloses-Bug: #1602396\nCloses-Bug: #1785947\nCloses-Bug: #1952456\nCloses-Bug: #1576717\nCloses-Bug: #1609937\nCloses-Bug: #1435807\nChange-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588\n""}]",6,819691,c3aa8c9e9c68db847e95f1205e4754ddb6ab4dc4,129,2,8,9535,,,0,"WIP: Quota: New quota system

This is a WIP patch to illustrate how it could look like if we replace
the old database quota system with a new system that dynamically counts
resource consumption.

The intention is to help with the review of the spec.

The code is incomplete, as it's missing:

- Manually check that all operations work as intended
- Updating existing unit tests
- Adding new unit tests
- Properly formatting the code
- Documenting the code
- Adding mypy support

And that is why, for the time being, the patch disables all CI jobs but
one.

Implements: blueprint count-resource-to-check-quota

Closes-Bug: #1952635
Closes-Bug: #1602396
Closes-Bug: #1785947
Closes-Bug: #1952456
Closes-Bug: #1576717
Closes-Bug: #1609937
Closes-Bug: #1435807
Change-Id: Iedc9b8939ffcda2ca7fad0357aac97ae9a2df588
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/819691/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/rpcapi.py', 'cinder/volume/manager.py', 'cinder/api/contrib/quotas.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/admin_actions.py', 'cinder/scheduler/manager.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/cmd/manage.py', 'cinder/volume/volume_types.py', 'cinder/db/sqlalchemy/api.py', 'cinder/message/message_field.py', 'cinder/objects/volume_type.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/api/v2/limits.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/exception.py', 'cinder/objects/backup.py', 'cinder/quota/db.py', 'cinder/quota.py', 'cinder/group/api.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/objects/base.py', 'cinder/quota/__init__.py', 'cinder/quota_utils.py', 'cinder/transfer/api.py', '.zuul.yaml', 'cinder/db/api.py', 'cinder/volume/flows/manager/manage_existing_snapshot.py', 'cinder/objects/snapshot.py', 'cinder/api/contrib/used_limits.py', 'cinder/volume/driver.py', 'cinder/api/contrib/quota_classes.py', 'cinder/api/contrib/backups.py', 'cinder/api/validation/validators.py', 'cinder/interface/quota_driver.py', 'cinder/volume/rpcapi.py', 'cinder/api/contrib/volume_transfer.py', 'cinder/api/v3/limits.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py']",43,9d7fb2657af4c2c3e90785627f3d3f6a2f7d9deb,die-quota-die," group_snapshot_id, allow_in_use) allow_in_use=False, forzed_size=None): """"""forzed_size allows creating snapshot record with 0 size for manage operation."""""" def check_volume(volume, valid_status): if volume['status'] not in valid_status: msg = _(""Volume %(vol_id)s status must be %(status)s, "" ""but current status is: %(vol_status)s."") % \ {'vol_id': volume['id'], 'status': ', '.join(valid_status), 'vol_status': volume['status']} raise exception.InvalidVolume(reason=msg) check_volume(volume, valid_status) volume_size = volume['size'] if forzed_size is None else forzed_size kwargs = { 'volume': volume, # For convenience on quota checks 'volume_id': volume['id'], 'cgsnapshot_id': cgsnapshot_id, 'group_snapshot_id': group_snapshot_id, 'user_id': context.user_id, 'project_id': context.project_id, 'status': fields.SnapshotStatus.CREATING, 'progress': '0%', 'volume_size': volume_size, 'display_name': name, 'display_description': description, 'volume_type_id': volume['volume_type_id'], 'volume_type': volume.volume_type, 'encryption_key_id': volume['encryption_key_id'], 'metadata': metadata or {} } with volume.db_transaction(): # In case we have a race condition and the volume was deleted # (bug #1739995) check_volume(volume, valid_status) group_snapshot): """""" This is only called from create_group_snapshot withing a DB transaction, if we ever call it from somewhere elese outside of a transaction we'll have to add a db transaction context manager to do all the snapshot creation within the same transaction """""" context, volume, name, description, group_snapshot) # This is called from create_group_snapshot within a DB transaction, so # no need to delete snapshots if a creation fail. for options in options_list: snapshot = objects.Snapshot(context=context, **options) snapshot.create() snapshot_list.append(snapshot) group_snapshot): 'cgsnapshot_id': None, 'group_snapshot_id': group_snapshot.id, try: volume.start_extend(new_size) except Exception: _roll_back_status() raise request_spec) try: volume.start_retype(new_type, expected, filters) except: 'group, requested type has to be different that the one ' 'from the volume, and for in-use volumes front-end qos ' 'specs cannot change.') 'size': 0, # Don't know size yet, GB quota checked when we set it # We don't know the true size yet, as it could be smaller than current # volume size, so wait until the manager to do the quota check. forzed_size=0)","from cinder import quota from cinder import quota_utilsQUOTAS = quota.QUOTAS # NOTE(vish): scheduling failed, so delete it # Note(zhiteng): update volume quota reservation try: reservations = None if volume.status != 'error_managing' and volume.use_quota: LOG.debug(""Decrease volume quotas for non temporary volume"" "" in non error_managing status."") reserve_opts = {'volumes': -1, 'gigabytes': -volume.size} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.volume_type_id) reservations = QUOTAS.reserve(context, project_id=project_id, **reserve_opts) except Exception: LOG.exception(""Failed to update quota while "" ""deleting volume."") if reservations: QUOTAS.commit(context, reservations, project_id=project_id) True, group_snapshot_id, allow_in_use) commit_quota=True, allow_in_use=False): if volume['status'] not in valid_status: msg = _(""Volume %(vol_id)s status must be %(status)s, "" ""but current status is: "" ""%(vol_status)s."") % {'vol_id': volume['id'], 'status': ', '.join(valid_status), 'vol_status': volume['status']} raise exception.InvalidVolume(reason=msg) if commit_quota: try: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.get('volume_type_id')) reservations = QUOTAS.reserve(context, **reserve_opts) except exception.OverQuota as e: quota_utils.process_reserve_over_quota( context, e, resource='snapshots', size=volume.size) snapshot = None try: kwargs = { 'volume_id': volume['id'], 'cgsnapshot_id': cgsnapshot_id, 'group_snapshot_id': group_snapshot_id, 'user_id': context.user_id, 'project_id': context.project_id, 'status': fields.SnapshotStatus.CREATING, 'progress': '0%', 'volume_size': volume['size'], 'display_name': name, 'display_description': description, 'volume_type_id': volume['volume_type_id'], 'encryption_key_id': volume['encryption_key_id'], 'metadata': metadata or {} } if volume['status'] not in valid_status: msg = _(""Volume %(vol_id)s status must be %(status)s , "" ""but current status is: "" ""%(vol_status)s."") % {'vol_id': volume['id'], 'status': ', '.join(valid_status), 'vol_status': volume['status']} raise exception.InvalidVolume(reason=msg) if commit_quota: QUOTAS.commit(context, reservations) except Exception: with excutils.save_and_reraise_exception(): try: if snapshot.obj_attr_is_set('id'): snapshot.destroy() finally: if commit_quota: QUOTAS.rollback(context, reservations) cgsnapshot_id, group_snapshot_id=None): reservations = self._create_snapshots_in_db_reserve( context, volume_list) context, volume, name, description, cgsnapshot_id, group_snapshot_id) try: for options in options_list: snapshot = objects.Snapshot(context=context, **options) snapshot.create() snapshot_list.append(snapshot) QUOTAS.commit(context, reservations) except Exception: with excutils.save_and_reraise_exception(): try: for snap in snapshot_list: snap.destroy() finally: QUOTAS.rollback(context, reservations) def _create_snapshots_in_db_reserve(self, context, volume_list): reserve_opts_list = [] total_reserve_opts = {} try: for volume in volume_list: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.get('volume_type_id')) reserve_opts_list.append(reserve_opts) for reserve_opts in reserve_opts_list: for (key, value) in reserve_opts.items(): if key not in total_reserve_opts.keys(): total_reserve_opts[key] = value else: total_reserve_opts[key] = \ total_reserve_opts[key] + value reservations = QUOTAS.reserve(context, **total_reserve_opts) except exception.OverQuota as e: quota_utils.process_reserve_over_quota( context, e, resource='snapshots', size=total_reserve_opts.get('gigabytes', volume.size)) return reservations cgsnapshot_id, group_snapshot_id=None): 'cgsnapshot_id': cgsnapshot_id, 'group_snapshot_id': group_snapshot_id, rollback = True try: values = {'per_volume_gigabytes': new_size} QUOTAS.limit_check(context, project_id=context.project_id, **values) rollback = False except exception.OverQuota as e: quotas = e.kwargs['quotas'] raise exception.VolumeSizeExceedsLimit( size=new_size, limit=quotas['per_volume_gigabytes']) finally: if rollback: _roll_back_status() try: reservations = None reserve_opts = {'gigabytes': size_increase} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.volume_type_id) reservations = QUOTAS.reserve(context, project_id=volume.project_id, **reserve_opts) except exception.OverQuota as exc: gigabytes = exc.kwargs['usages']['gigabytes'] gb_quotas = exc.kwargs['quotas']['gigabytes'] consumed = gigabytes['reserved'] + gigabytes['in_use'] LOG.error(""Quota exceeded for %(s_pid)s, tried to extend volume "" ""by %(s_size)sG, (%(d_consumed)dG of %(d_quota)dG "" ""already consumed)."", {'s_pid': context.project_id, 's_size': size_increase, 'd_consumed': consumed, 'd_quota': gb_quotas}) raise exception.VolumeSizeExceedsAvailableQuota( requested=size_increase, consumed=consumed, quota=gb_quotas) finally: # NOTE(geguileo): To mimic behavior before conditional_update we # will rollback status on quota reservation failure regardless of # the exception that caused the failure. if reservations is None: _roll_back_status() reservations, request_spec) # We're checking here in so that we can report any quota issues as # early as possible, but won't commit until we change the type. We # pass the reservations onward in case we need to roll back. reservations = quota_utils.get_volume_type_reservation( context, volume, new_type_id, reserve_vol_type_only=True) # Get old reservations try: old_reservations = quota_utils.get_volume_type_reservation( context, volume, volume.volume_type_id, reserve_vol_type_only=True, negative=True) except Exception: volume.status = volume.previous_status volume.save() msg = _(""Failed to update quota usage while retyping volume."") LOG.exception(msg, resource=volume) raise exception.CinderException(msg) updates = {'status': 'retyping', 'previous_status': objects.Volume.model.status} if not volume.conditional_update(updates, expected, filters): 'group, requested type has to be different that the ' 'one from the volume, and for in-use volumes front-end ' 'qos specs cannot change.') QUOTAS.rollback(context, reservations + old_reservations, project_id=volume.project_id) 'size': 0, commit_quota=True)",1727,3506
openstack%2Fdevstack~master~I9e12e395288db1fe59490b4075bb2d933ccd4d78,openstack/devstack,master,I9e12e395288db1fe59490b4075bb2d933ccd4d78,Configure option backup_ceph_keep_snapshots_count in Cinder backup,NEW,2022-10-10 08:44:26.000000000,2023-05-25 14:06:41.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-10-10 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c5c796149a9863ac86a5a1baf9a8dd14817e663c', 'message': 'Configure option backup_ceph_keep_snapshots_count in Cinder backup\n\nSets the config option backup_ceph_keep_snapshots_count for the Cinder\nCeph backup driver to the specified value.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/810457\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\nChange-Id: I9e12e395288db1fe59490b4075bb2d933ccd4d78\n'}, {'number': 2, 'created': '2022-10-10 09:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2f51f456a57f9d21a6d2e282873a0bd26cbd56c', 'message': 'Configure option backup_ceph_keep_snapshots_count in Cinder backup\n\nSets the config option backup_ceph_keep_snapshots_count for the Cinder\nCeph backup driver to the specified value.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/810457\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\nChange-Id: I9e12e395288db1fe59490b4075bb2d933ccd4d78\n'}, {'number': 3, 'created': '2022-10-10 10:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/395252f1bc490c2fa1be68ffac53e08859e1e315', 'message': 'Configure option backup_ceph_keep_snapshots_count in Cinder backup\n\nSets the config option backup_ceph_keep_snapshots_count for the Cinder\nCeph backup driver to the specified value.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/810457\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\nChange-Id: I9e12e395288db1fe59490b4075bb2d933ccd4d78\n'}, {'number': 4, 'created': '2022-10-10 13:01:18.000000000', 'files': ['lib/cinder_backups/ceph'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf0aa828ac22d1fa687ca4317d9bda445f3469ee', 'message': 'Configure option backup_ceph_keep_snapshots_count in Cinder backup\n\nSets the config option backup_ceph_keep_snapshots_count for the Cinder\nCeph backup driver to the specified value.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/810457\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\nChange-Id: I9e12e395288db1fe59490b4075bb2d933ccd4d78\n'}]",3,860812,bf0aa828ac22d1fa687ca4317d9bda445f3469ee,10,6,4,33634,,,0,"Configure option backup_ceph_keep_snapshots_count in Cinder backup

Sets the config option backup_ceph_keep_snapshots_count for the Cinder
Ceph backup driver to the specified value.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/810457
Signed-off-by: Jan Hartkopf <jhartkopf@inovex.de>
Change-Id: I9e12e395288db1fe59490b4075bb2d933ccd4d78
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/860812/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder_backups/ceph'],1,c5c796149a9863ac86a5a1baf9a8dd14817e663c,ceph_keep_snapshots,"CINDER_BAK_CEPH_KEEP_SNAPSHOTS_COUNT=$(CINDER_BAK_CEPH_KEEP_SNAPSHOTS_COUNT:--1) iniset $CINDER_CONF DEFAULT backup_ceph_keep_snapshots_count ""$CINDER_BAK_CEPH_KEEP_SNAPSHOTS_COUNT""",,2,0
openstack%2Fcharm-watcher-dashboard~master~Iaf4006c8aaa88e95c8af11230183b3c01febc2cf,openstack/charm-watcher-dashboard,master,Iaf4006c8aaa88e95c8af11230183b3c01febc2cf,Migrate charm to charmhub,MERGED,2023-05-23 20:44:11.000000000,2023-05-25 14:04:55.000000000,2023-05-25 14:04:55.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 20:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/e8488f27d924b76f40eb5f6a9c65f7b7250948ba', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}, {'number': 2, 'created': '2023-05-23 20:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/62d6a44f8812ca02a070c79c674ae886b634e242', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nDepends-On: https://review.opendev.org/c/openstack/charm-watcher/+/883882\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}, {'number': 3, 'created': '2023-05-23 22:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/8ce876aa82630e253681a7ac17315823775d7b4a', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nDepends-On: https://review.opendev.org/c/openstack/charm-watcher/+/883882\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}, {'number': 4, 'created': '2023-05-23 22:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/294f945ab4f8d8c2f51e95f1313de28978161382', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Update metadata.yaml to declare jammy and lunar\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nDepends-On: https://review.opendev.org/c/openstack/charm-watcher/+/883882\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}, {'number': 5, 'created': '2023-05-24 01:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/6ce114a40e8613dfab568ba146bb76be64b5d62c', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Update metadata.yaml to declare jammy and lunar\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nDepends-On: https://review.opendev.org/c/openstack/charm-watcher/+/883882\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}, {'number': 6, 'created': '2023-05-24 20:17:50.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'test-requirements.txt', 'src/tox.ini', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'requirements.txt', 'watcher-dashboard.charm', 'pip.sh', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/60147ad6f65d9d4aa32f6208595e250efa3eb6be', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n- Use generic job templates in .zuul.yaml and osci.yaml\n- Add charmcraft.yaml to make the charm buildable\n- Update testing bundles to align with the rest of the charms\n- Update metadata.yaml to declare jammy and lunar\n- Align tox.ini and src/tox.ini\n- Add src/wheelhouse.txt\n- Drop pip.sh\n- Drop unneded pinning of packages\n\nChange-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf\n'}]",1,883980,60147ad6f65d9d4aa32f6208595e250efa3eb6be,21,3,6,2424,,,0,"Migrate charm to charmhub

Summary of changes:
- Use generic job templates in .zuul.yaml and osci.yaml
- Add charmcraft.yaml to make the charm buildable
- Update testing bundles to align with the rest of the charms
- Update metadata.yaml to declare jammy and lunar
- Align tox.ini and src/tox.ini
- Add src/wheelhouse.txt
- Drop pip.sh
- Drop unneded pinning of packages

Change-Id: Iaf4006c8aaa88e95c8af11230183b3c01febc2cf
",git fetch https://review.opendev.org/openstack/charm-watcher-dashboard refs/changes/80/883980/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'test-requirements.txt', 'src/tox.ini', '.zuul.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'requirements.txt', 'watcher-dashboard.charm', 'pip.sh', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml']",18,e8488f27d924b76f40eb5f6a9c65f7b7250948ba,charmhub-migration, openstack-origin: &openstack-origin cloud:jammy-antelope series: jammy charm: ch:mysql-router channel: latest/edge openstack-dashboard-mysql-router: charm: ch:mysql-router channel: latest/edge watcher-mysql-router: charm: ch:mysql-router channel: latest/edge charm: ch:mysql-innodb-cluster channel: latest/edge source: distro charm: ch:keystone channel: latest/edge charm: ch:openstack-dashboard channel: latest/edge charm: ch:rabbitmq-server channel: latest/edge charm: ch:watcher channel: latest/edge charm: ../../../watcher-dashboard.charm, openstack-origin: &openstack-origin cloud:focal-victoria series: focal charm: cs:~openstack-charmers-next/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers-next/mysql-router watcher-mysql-router: charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster source: *openstack-origin charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/openstack-dashboard charm: cs:~openstack-charmers-next/rabbitmq-server charm: cs:~openstack-charmers-next/watcher charm: ../../../watcher-dashboard,177,350
openstack%2Fironic~master~Id51419bc50af5a756bb7b0ca451df1936dd6f904,openstack/ironic,master,Id51419bc50af5a756bb7b0ca451df1936dd6f904,Explicitly use a session for DB version check,MERGED,2023-05-23 18:22:21.000000000,2023-05-25 13:49:22.000000000,2023-05-24 16:44:19.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-23 18:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ef54927c15547f6536b57f42efa2307b8e33654', 'message': 'Explicitly use a session for DB version check\n\nThe db field value version check, which is a preflight to\nmajor upgrades (to detect if a prior upgrade was not completed)\nwas using model_query, which could orphan an open transaction in\nthe same process until the python interpretter went and took out\nthe perverable trash.\n\nWe now use an explicit session which structurally ensures we close\nany open transactions which allows a metadata lock to be obtained\nto perform a schema update..\n\nChange-Id: Id51419bc50af5a756bb7b0ca451df1936dd6f904\n'}, {'number': 2, 'created': '2023-05-23 20:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71b1c80f32bec1a23eea287ca3cab1ae74db1f9c', 'message': 'Explicitly use a session for DB version check\n\nThe db field value version check, which is a preflight to\nmajor upgrades (to detect if a prior upgrade was not completed)\nwas using model_query, which could orphan an open transaction in\nthe same process until the python interpretter went and took out\nthe perverable trash.\n\nWe now use an explicit session which structurally ensures we close\nany open transactions which allows a metadata lock to be obtained\nto perform a schema update..\n\nChange-Id: Id51419bc50af5a756bb7b0ca451df1936dd6f904\n'}, {'number': 3, 'created': '2023-05-23 20:26:05.000000000', 'files': ['ironic/db/sqlalchemy/api.py', 'releasenotes/notes/remove-model-query-from-upgrade-af227b6c8a5d654a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/93688e953115cbd32789bd7f8be8ef50a4124748', 'message': 'Explicitly use a session for DB version check\n\nThe db field value version check, which is a preflight to\nmajor upgrades (to detect if a prior upgrade was not completed)\nwas using model_query, which could orphan an open transaction in\nthe same process until the python interpretter went and took out\nthe perverable trash.\n\nWe now use an explicit session which structurally ensures we close\nany open transactions which allows a metadata lock to be obtained\nto perform a schema update..\n\nChange-Id: Id51419bc50af5a756bb7b0ca451df1936dd6f904\n'}]",6,883967,93688e953115cbd32789bd7f8be8ef50a4124748,29,5,3,11655,,,0,"Explicitly use a session for DB version check

The db field value version check, which is a preflight to
major upgrades (to detect if a prior upgrade was not completed)
was using model_query, which could orphan an open transaction in
the same process until the python interpretter went and took out
the perverable trash.

We now use an explicit session which structurally ensures we close
any open transactions which allows a metadata lock to be obtained
to perform a schema update..

Change-Id: Id51419bc50af5a756bb7b0ca451df1936dd6f904
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/883967/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'releasenotes/notes/remove-model-query-from-upgrade-af227b6c8a5d654a.yaml']",2,7ef54927c15547f6536b57f42efa2307b8e33654,,--- fixes: - | Fixes an issue where the database upgrade can hange on Python 3.10. This was because open transactions could become orphaned awaiting the Python runtime to clean up their memory references due to the way the overall database query was being intiiated to pre-flight check the upgrade. We have structurally changed the behavior to remedy this case. ,,16,6
openstack%2Fironic~master~I8d64fee7105718199986db4994e13352d639f04f,openstack/ironic,master,I8d64fee7105718199986db4994e13352d639f04f,DPU modeling - parent_node DB/Model/API,MERGED,2023-04-11 23:10:07.000000000,2023-05-25 13:49:15.000000000,2023-05-24 23:18:33.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-11 23:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13e9801b7e8c5e3b85c9c595114cc82f4ab447e6', 'message': 'WIP: parent_node support\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 2, 'created': '2023-04-27 18:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f02c19601c53d3bb0416e9a6fe9df0de547bc57f', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 3, 'created': '2023-04-28 21:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3e33bc178c195993793ac01291c0fcb7122fa84', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 4, 'created': '2023-05-05 00:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/485f79615ac7104afd59e902b85f4e826b16eaab', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 5, 'created': '2023-05-05 00:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ccd9f43b8f072a1e3864573fad3d66ae2b54e235', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 6, 'created': '2023-05-08 14:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/96f127f598b19663cae46ac04eb28588d459fa26', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 7, 'created': '2023-05-11 17:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5547ef97aa9874630e6c51fa8f0e4e3b1e35a7aa', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 8, 'created': '2023-05-11 22:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b161733804a69febb9183270007e7d070401eaa2', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 9, 'created': '2023-05-18 17:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf0187551c56734bf2955b296bc5806703165d71', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 10, 'created': '2023-05-19 18:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cb47acdd822a01dab277579a5ef2fb3b9a103cf', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}, {'number': 11, 'created': '2023-05-23 18:23:25.000000000', 'files': ['api-ref/source/parameters.yaml', 'ironic/tests/unit/api/test_acl.py', 'releasenotes/notes/add-parent-node-support-10bd42abd008db6f.yaml', 'api-ref/source/baremetal-api-v1-nodes.inc', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/api/test_rbac_project_scoped.yaml', 'doc/source/contributor/webapi-version-history.rst', 'ironic/objects/node.py', 'ironic/api/controllers/v1/versions.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/db/sqlalchemy/alembic/versions/fe222f476baf_add_parent_node_field.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/api/controllers/v1/node.py', 'ironic/tests/unit/api/test_rbac_system_scoped.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f5e25e182c0b369b7491c39a6fb1c72e38ac728', 'message': 'DPU modeling - parent_node DB/Model/API\n\nAdds the parent node support and tests in one change\nincluding all DB/Model/API changes along with RBAC and\nbasic API tests.\n\n* Updates the API version to 1.83\n* Adds parent_node and related index to the nodes table.\n* Adds new API parameters to list by parent node relationship.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/883967\nChange-Id: I8d64fee7105718199986db4994e13352d639f04f\n'}]",26,880114,3f5e25e182c0b369b7491c39a6fb1c72e38ac728,60,3,11,11655,,,0,"DPU modeling - parent_node DB/Model/API

Adds the parent node support and tests in one change
including all DB/Model/API changes along with RBAC and
basic API tests.

* Updates the API version to 1.83
* Adds parent_node and related index to the nodes table.
* Adds new API parameters to list by parent node relationship.

Depends-On: https://review.opendev.org/c/openstack/ironic/+/883967
Change-Id: I8d64fee7105718199986db4994e13352d639f04f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/880114/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/utils.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/objects/node.py', 'ironic/api/controllers/v1/versions.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/db/sqlalchemy/alembic/versions/fe222f476baf_add_parent_node_field.py', 'ironic/api/controllers/v1/utils.py', 'ironic/common/policy.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/api/controllers/v1/node.py']",13,13e9801b7e8c5e3b85c9c595114cc82f4ab447e6,," 'parent_node': {'type': ['string', 'null'], 'maxLength': 36}, 'vendor_interface', 'parent_node' 'parent_node',class NodeChildrenController(rest.RestController): def __init__(self, node_ident): if hasattr(self, 'parent'): # Short circuit any attempt to access # /v1/nodes/<node>/children/<child_node>/children raise exception.HTTPNotFound() if api.request.version.minor < versions.MINOR_83_PARENT_CHILD_NODES: # Minimum Client version is required. raise exception.HTTPNotFound() super(NodeChildrenController).__init__() self.parent_node = node_ident @METRICS.timer('NodeHistoryController.get_all') @method.expose() def get_all(self): try: # retrieve the parent node and validate access is permitted. rpc_node = api_utils.check_node_policy_and_retrieve( 'baremetal:node:get', self.parent_node) except exception.HTTPForbidden: # If access is forbidden, we cannot tell the user they don't # have access. raise exception.HTTPNotFound() filters = {} # Extract the project ID or get None if not applicable. project = api_utils.check_list_policy('node', None) url = api.request.public_url if project: filters['project'] = project filters['parent_node'] = rpc_node.uuid nodes = objects.Node.list(api.request.context, filters=filters, fields=['uuid']) node_list = [] for node in nodes: node_list.append(node.uuid) # todo, need to check the format for links return { 'children': node_list, 'links': link.make_link('children', url, 'nodes', '?parent_node={}'.format(rpc_node.uuid))} parent_node = None """"""An indicator to signal if this resource is being accessed by a sub-controller."""""" 'children': NodeChildrenController, sharded=None, include_children=None, parent_node=None): 'sharded': sharded, 'include_children': include_children, 'parent_node': parent_node, shard=args.string_list, sharded=args.boolean, include_children=args.boolean, parent_node=args.string) project=None, shard=None, sharded=None, include_children=None, parent_node=None): api_utils.check_allow_child_node_params( include_children=include_children, parent_node=parent_node) project=project, include_children=include_children, parent_node=parent_node, **extra_args) shard=None, sharded=None, include_children=None, parent_node=None): sharded=sharded, include_children=include_children, parent_node=parent_node, **extra_args) parent_node = api_utils.get_patch_values(patch, '/parent_node') if parent_node: try: api_utils.check_node_policy_and_retrieve( 'baremetal:node:get', parent_node[0]) except Exception: msg = _(""Unable to apply the requested parent_node. "" ""Requested value was invalid."") raise exception.Invalid(msg) elif p['path'].startswith('/parent_node'): policy_checks.append('baremetal:node:update:parent_node')"," 'vendor_interface' sharded=None): 'sharded': sharded shard=args.string_list, sharded=args.boolean) project=None, shard=None, sharded=None): project=project, **extra_args) shard=None, sharded=None): sharded=sharded, **extra_args)",328,21
openstack%2Fopenstacksdk~master~I4686e23a73e88f4aa4579944413c532216b3039d,openstack/openstacksdk,master,I4686e23a73e88f4aa4579944413c532216b3039d,tests: Silence warning,MERGED,2023-05-18 11:52:01.000000000,2023-05-25 13:29:01.000000000,2023-05-25 13:27:51.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 11:52:01.000000000', 'files': ['openstack/tests/unit/test_missing_version.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ad1a00e8389e1a99b100200123d63c3e558a376b', 'message': 'tests: Silence warning\n\nClean test output ftw.\n\nChange-Id: I4686e23a73e88f4aa4579944413c532216b3039d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,883492,ad1a00e8389e1a99b100200123d63c3e558a376b,9,3,1,15334,,,0,"tests: Silence warning

Clean test output ftw.

Change-Id: I4686e23a73e88f4aa4579944413c532216b3039d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/92/883492/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/test_missing_version.py'],1,ad1a00e8389e1a99b100200123d63c3e558a376b,wait-callbacks,"import fixtures w = fixtures.WarningsCapture() with w: self.assertIsInstance(self.cloud.image, proxy.Proxy) self.assertEqual(1, len(w.captures))"," self.assertIsInstance(self.cloud.image, proxy.Proxy)",5,1
openstack%2Fdevstack~stable%2Fzed~I66fa1799ff5177c3667630a89e15c072a8bf975a,openstack/devstack,stable/zed,I66fa1799ff5177c3667630a89e15c072a8bf975a,Default MYSQL_REDUCE_MEMORY=True,ABANDONED,2023-05-24 20:31:05.000000000,2023-05-25 12:55:35.000000000,,"[{'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 20:31:05.000000000', 'files': ['.zuul.yaml', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/acd40a0a5862eefc9f988ad664612f5130f9d567', 'message': 'Default MYSQL_REDUCE_MEMORY=True\n\nWe have lots of evidence that this is a net benefit, so enable it\nby default instead of everyone having to opt-in.\n\nChange-Id: I66fa1799ff5177c3667630a89e15c072a8bf975a\n(cherry picked from commit 814e659e32a919ea68c29451753aa49c993ce5ed)\n'}]",1,884223,acd40a0a5862eefc9f988ad664612f5130f9d567,4,2,1,9656,,,0,"Default MYSQL_REDUCE_MEMORY=True

We have lots of evidence that this is a net benefit, so enable it
by default instead of everyone having to opt-in.

Change-Id: I66fa1799ff5177c3667630a89e15c072a8bf975a
(cherry picked from commit 814e659e32a919ea68c29451753aa49c993ce5ed)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/884223/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'stackrc']",2,acd40a0a5862eefc9f988ad664612f5130f9d567,default-mysql-mem-stable/zed,MYSQL_REDUCE_MEMORY=$(trueorfalse True MYSQL_REDUCE_MEMORY),MYSQL_REDUCE_MEMORY=$(trueorfalse False MYSQL_REDUCE_MEMORY),1,4
openstack%2Fdevstack~stable%2F2023.1~I66fa1799ff5177c3667630a89e15c072a8bf975a,openstack/devstack,stable/2023.1,I66fa1799ff5177c3667630a89e15c072a8bf975a,Default MYSQL_REDUCE_MEMORY=True,ABANDONED,2023-05-24 20:30:54.000000000,2023-05-25 12:55:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 20:30:54.000000000', 'files': ['.zuul.yaml', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1e0ed8137b42dd53e08a16c1bf95b9d66d9cb679', 'message': 'Default MYSQL_REDUCE_MEMORY=True\n\nWe have lots of evidence that this is a net benefit, so enable it\nby default instead of everyone having to opt-in.\n\nChange-Id: I66fa1799ff5177c3667630a89e15c072a8bf975a\n(cherry picked from commit 814e659e32a919ea68c29451753aa49c993ce5ed)\n'}]",4,884222,1e0ed8137b42dd53e08a16c1bf95b9d66d9cb679,7,3,1,9656,,,0,"Default MYSQL_REDUCE_MEMORY=True

We have lots of evidence that this is a net benefit, so enable it
by default instead of everyone having to opt-in.

Change-Id: I66fa1799ff5177c3667630a89e15c072a8bf975a
(cherry picked from commit 814e659e32a919ea68c29451753aa49c993ce5ed)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/884222/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'stackrc']",2,1e0ed8137b42dd53e08a16c1bf95b9d66d9cb679,default-mysql-mem-stable/2023.1,MYSQL_REDUCE_MEMORY=$(trueorfalse True MYSQL_REDUCE_MEMORY),MYSQL_REDUCE_MEMORY=$(trueorfalse False MYSQL_REDUCE_MEMORY),1,4
openstack%2Fopenstacksdk~master~I92a449e584f9912f2bff86939e3565c6b3001bb9,openstack/openstacksdk,master,I92a449e584f9912f2bff86939e3565c6b3001bb9,Allow tags to be passed through to compute.create_server,NEW,2023-05-25 03:52:42.000000000,2023-05-25 12:51:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 03:52:42.000000000', 'files': ['openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8567c858d5b909db81f85a74ecda6fc60b4cce3f', 'message': ""Allow tags to be passed through to compute.create_server\n\nSetting tags on servers is useful for managing sets of related resources\n(e.g., we're spawning JupyterHub instances in OpenStack and we want to\ntag all servers created by our spawner to make it easier to clean things\nup).\n\nThis commit configures the create_server method to accept the tags\nkeyword paramter and pass it through to compute.create_server.\n\nChange-Id: I92a449e584f9912f2bff86939e3565c6b3001bb9\n""}]",1,884311,8567c858d5b909db81f85a74ecda6fc60b4cce3f,4,1,1,8745,,,0,"Allow tags to be passed through to compute.create_server

Setting tags on servers is useful for managing sets of related resources
(e.g., we're spawning JupyterHub instances in OpenStack and we want to
tag all servers created by our spawner to make it easier to clean things
up).

This commit configures the create_server method to accept the tags
keyword paramter and pass it through to compute.create_server.

Change-Id: I92a449e584f9912f2bff86939e3565c6b3001bb9
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/11/884311/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_compute.py'],1,8567c858d5b909db81f85a74ecda6fc60b4cce3f,feature/create-server-tags," 'tags',",,1,0
openstack%2Fnetworking-odl~stable%2Fyoga~I72d45df84fe54e84b3d2869381860cd087645ae2,openstack/networking-odl,stable/yoga,I72d45df84fe54e84b3d2869381860cd087645ae2,Tox4: add allowlist_externals where necessary,ABANDONED,2023-05-25 09:51:51.000000000,2023-05-25 12:50:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 09:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2706526ff351068970f81cda6d196c21ef6e74d4', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}, {'number': 2, 'created': '2023-05-25 09:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c828a00633fad54c038004af5a717aa6fb446df3', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}, {'number': 3, 'created': '2023-05-25 10:26:22.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cdca2ce98793aafbf9beb813806fbbe81da9de1f', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}]",0,884326,cdca2ce98793aafbf9beb813806fbbe81da9de1f,5,1,3,16688,,,0,"Tox4: add allowlist_externals where necessary

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

Related-Bug: #1999558
Change-Id: I72d45df84fe54e84b3d2869381860cd087645ae2
(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/26/884326/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,2706526ff351068970f81cda6d196c21ef6e74d4,tox4,skipsdist = Falsepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG {toxinidir}/tools/coding-checks.sh,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG,14,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ifc4b456c74f8a1b1c5f972b14725a390c697d042,openstack/tripleo-heat-templates,stable/wallaby,Ifc4b456c74f8a1b1c5f972b14725a390c697d042,[DNM] Update srbac policies for barbican (?),ABANDONED,2023-04-17 15:23:27.000000000,2023-05-25 12:38:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-17 15:23:27.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e335af45e996e825d0bc6752c347e9129ba62005', 'message': '[DNM] Update srbac policies for barbican (?)\n\nChange-Id: Ifc4b456c74f8a1b1c5f972b14725a390c697d042\n'}]",0,880654,e335af45e996e825d0bc6752c347e9129ba62005,4,1,1,30674,,,0,"[DNM] Update srbac policies for barbican (?)

Change-Id: Ifc4b456c74f8a1b1c5f972b14725a390c697d042
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/880654/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,e335af45e996e825d0bc6752c347e9129ba62005,," barbican-system_reader: key: ""system_reader"" value: ""role:reader and system_scope:all"" barbican-system_admin: key: ""system_admin"" value: ""role:admin and system_scope:all"" barbican-secret_project_match: key: ""secret_project_match"" value: ""project_id:%(target.secret.project_id)s"" barbican-secret_project_reader: key: ""secret_project_reader"" value: ""role:reader and rule:secret_project_match"" barbican-secret_project_member: key: ""secret_project_member"" value: ""role:member and rule:secret_project_match"" barbican-secret_project_admin: key: ""secret_project_admin"" value: ""role:admin and rule:secret_project_match"" barbican-secret_is_not_private: key: ""secret_is_not_private"" value: ""True:%(target.secret.read_project_access)s"" barbican-container_project_match: key: ""container_project_match"" value: ""project_id:%(target.container.project_id)s"" barbican-container_project_member: key: ""container_project_member"" value: ""role:member and rule:container_project_match"" barbican-container_project_admin: key: ""container_project_admin"" value: ""role:admin and rule:container_project_match"" barbican-container_is_not_private: key: ""container_is_not_private"" value: ""True:%(target.container.read_project_access)s"" barbican-order_project_match: key: ""order_project_match"" value: ""project_id:%(target.order.project_id)s"" value: ""role:member and rule:order_project_match"" barbican-audit: key: ""audit"" value: ""role:audit"" barbican-observer: key: ""observer"" value: ""role:observer"" barbican-creator: key: ""creator"" value: ""role:creator"" barbican-admin: key: ""admin"" value: ""role:admin"" barbican-service_admin: key: ""service_admin"" value: ""role:key-manager:service-admin"" barbican-all_users: key: ""all_users"" value: ""rule:admin or rule:observer or rule:creator or rule:audit or rule:service_admin"" barbican-all_but_audit: key: ""all_but_audit"" value: ""rule:admin or rule:observer or rule:creator"" barbican-admin_or_creator: key: ""admin_or_creator"" value: ""rule:admin or rule:creator"" barbican-secret_creator_user: key: ""secret_creator_user"" value: ""user_id:%(target.secret.creator_id)s"" barbican-secret_private_read: key: ""secret_private_read"" value: ""'False':%(target.secret.read_project_access)s"" barbican-secret_non_private_read: key: ""secret_non_private_read"" value: ""rule:all_users and rule:secret_project_match and not rule:secret_private_read"" barbican-secret_decrypt_non_private_read: key: ""secret_decrypt_non_private_read"" value: ""rule:all_but_audit and rule:secret_project_match and not rule:secret_private_read"" barbican-secret_project_creator: key: ""secret_project_creator"" value: ""rule:creator and rule:secret_project_match and rule:secret_creator_user"" barbican-secret_project_creator_role: key: ""secret_project_creator_role"" value: ""rule:creator and rule:secret_project_match"" barbican-container_private_read: key: ""container_private_read"" value: ""'False':%(target.container.read_project_access)s"" barbican-container_creator_user: key: ""container_creator_user"" value: ""user_id:%(target.container.creator_id)s"" barbican-container_non_private_read: key: ""container_non_private_read"" value: ""rule:all_users and rule:container_project_match and not rule:container_private_read"" barbican-container_project_creator: key: ""container_project_creator"" value: ""rule:creator and rule:container_project_match and rule:container_creator_user"" barbican-container_project_creator_role: key: ""container_project_creator_role"" value: ""rule:creator and rule:container_project_match"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private)"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private)"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private)"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private)"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private)"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private)"" value: ""rule:system_admin or rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private) or rule:container_acl_read"" value: ""rule:system_admin or rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private) or rule:container_acl_read"" value: ""rule:system_admin or rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private) or rule:container_acl_read"" value: ""rule:system_admin or rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private) or rule:container_acl_read"" barbican-secret_consumers_get: key: ""secret_consumers:get"" value: ""rule:system_admin or rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" barbican-secret_consumers_post: key: ""secret_consumers:post"" value: ""rule:system_admin or rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" barbican-secret_consumers_delete: key: ""secret_consumers:delete"" value: ""rule:system_admin or rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" value: ""role:member"" value: ""role:member"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private) or rule:container_acl_read"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private"" value: ""rule:container_project_admin or (rule:container_project_member and rule:container_owner) or (rule:container_project_member and rule:container_is_not_private)"" value: ""role:member"" value: ""role:member"" value: ""role:member"" value: ""role:reader"" value: ""rule:system_reader"" value: ""rule:system_admin"" value: ""rule:system_admin"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private) or rule:secret_acl_read"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private"" value: ""rule:secret_project_admin or (rule:secret_project_member and rule:secret_owner) or (rule:secret_project_member and rule:secret_is_not_private"" value: ""role:member"" value: ""role:member"" value: ""role:reader"" value: ""role:reader"" value: ""role:reader"" value: ""role:admin"" value: ""role:admin"" value: ""role:reader"" value: ""role:reader"" value: ""rule:system_admin"" value: ""role:reader"" value: ""rule:system_admin"""," barbican-admin: key: ""admin"" value: ""role:admin"" barbican-member: key: ""member"" value: ""role:member"" barbican-reader: key: ""reader"" value: ""role:reader"" barbican-secret_is_not_private_read: key: ""secret_is_not_private_read"" value: ""'True':%(target.secret.read_project_access)s"" barbican-container_is_not_private_read: key: ""container_is_not_private_read"" value: ""'True':%(target.container.read_project_access)s"" barbican-secret_project_admin: key: ""secret_project_admin"" value: ""rule:admin and project_id:%(target.secret.project_id)s"" barbican-secret_project_member: key: ""secret_project_member"" value: ""rule:member and project_id:%(target.secret.project_id)s"" barbican-container_project_admin: key: ""container_project_admin"" value: ""rule:admin and project_id:%(target.container.project_id)s"" barbican-container_project_member: key: ""container_project_member"" value: ""rule:member and project_id:%(target.container.project_id)s"" value: ""rule:member and project_id:%(target.order.project_id)s"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_acl_read or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:member"" value: ""rule:reader"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:admin"" value: ""rule:reader"" value: ""rule:admin""",146,71
openstack%2Fansible-role-python_venv_build~stable%2F2023.1~Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c,openstack/ansible-role-python_venv_build,stable/2023.1,Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c,Build wheels depending on presence of venv_build_group,MERGED,2023-05-25 10:49:25.000000000,2023-05-25 12:33:32.000000000,2023-05-25 12:31:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 10:49:25.000000000', 'files': ['releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/22a4aa776d0845b6e30fd423d3f0baef86a08820', 'message': ""Build wheels depending on presence of venv_build_group\n\nIn case venv_build_group is not present in inventory or does not contain\na single host, it does not make sense to attept building wheels.\n\nWith that we're changing default behaviour to avoid building wheels\nif there're no potential targets exists.\n\nChange-Id: Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c\n""}]",0,884356,22a4aa776d0845b6e30fd423d3f0baef86a08820,8,3,1,28619,,,0,"Build wheels depending on presence of venv_build_group

In case venv_build_group is not present in inventory or does not contain
a single host, it does not make sense to attept building wheels.

With that we're changing default behaviour to avoid building wheels
if there're no potential targets exists.

Change-Id: Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/56/884356/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'defaults/main.yml']",2,22a4aa776d0845b6e30fd423d3f0baef86a08820,,"venv_wheel_build_enable: ""{{ (venv_build_group in groups and groups[venv_build_group] | length > 0) }}""",venv_wheel_build_enable: True,5,3
openstack%2Fansible-role-python_venv_build~stable%2F2023.1~Ice35e3e4a14ee74b6ff40bd2385550f2da162878,openstack/ansible-role-python_venv_build,stable/2023.1,Ice35e3e4a14ee74b6ff40bd2385550f2da162878,Add a failure message when no build targets are present,MERGED,2023-05-25 09:32:02.000000000,2023-05-25 12:32:44.000000000,2023-05-25 12:31:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 09:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/0411508dd1e846520f7be9041189055bbdc6b2e9', 'message': ""Add a failure message when no build targets are present\n\nAt the moment if no appropriate build target is present role fails with\nquite unclear message. This patch aims to provide human-readable\nfailure message when it's not possible to select build target, but\nwheels build is enabled.\n\nChange-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878\n(cherry picked from commit a3ea0c74abcf694e3142306a2d6377b351c75810)\n""}, {'number': 2, 'created': '2023-05-25 09:32:34.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/7209e0e0203ab1bf5cab2b9e422fc8985fb72d0e', 'message': ""Add a failure message when no build targets are present\n\nAt the moment if no appropriate build target is present role fails with\nquite unclear message. This patch aims to provide human-readable\nfailure message when it's not possible to select build target, but\nwheels build is enabled.\n\nChange-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878\n(cherry picked from commit a3ea0c74abcf694e3142306a2d6377b351c75810)\n""}]",0,884226,7209e0e0203ab1bf5cab2b9e422fc8985fb72d0e,9,3,2,28619,,,0,"Add a failure message when no build targets are present

At the moment if no appropriate build target is present role fails with
quite unclear message. This patch aims to provide human-readable
failure message when it's not possible to select build target, but
wheels build is enabled.

Change-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878
(cherry picked from commit a3ea0c74abcf694e3142306a2d6377b351c75810)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/26/884226/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,0411508dd1e846520f7be9041189055bbdc6b2e9,,"- name: Fail if no wheels build host is available fail: msg: >- You are trying to build wheels for the distribution or architecture that you don't have build host for. Please, ensure that you have at least 1 host in 'repo_all' group with the following distribution: {{ _venv_build_dist_arch | replace('-', ' ') }} Otherwise, consider adding matching OS to the group or set `venv_wheel_build_enable: False`. Note, that you can run only in a serial manner when wheel build is disabled. Found venv_build_targets: {{ venv_build_targets }} when: - venv_wheel_build_enable | bool - _venv_build_dist_arch not in venv_build_targets ",,15,0
openstack%2Fansible-role-python_venv_build~stable%2F2023.1~I30c2c26abeb103de63aff0946ec7783f902886b8,openstack/ansible-role-python_venv_build,stable/2023.1,I30c2c26abeb103de63aff0946ec7783f902886b8,Add venv_build_group variable,MERGED,2023-05-25 10:47:20.000000000,2023-05-25 12:31:50.000000000,2023-05-25 12:31:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 10:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/eed880b4659c5fc7a69df0b892253b6d2b84b641', 'message': ""Add venv_build_group variable\n\nIn order to be flexible and get rid of hardcoded repo_all group, new\nvariable named `venv_build_group` was added. It's set to repo_all by\ndefault, so it is not changing current behaviour remains\n\nChange-Id: I30c2c26abeb103de63aff0946ec7783f902886b8\n(cherry picked from commit e24c1a4f715afcc4b8da56eae21f6806c0300c03)\n""}, {'number': 2, 'created': '2023-05-25 10:49:08.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e372dbe894c76528871c4761188d34a09b324fc2', 'message': ""Add venv_build_group variable\n\nIn order to be flexible and get rid of hardcoded repo_all group, new\nvariable named `venv_build_group` was added. It's set to repo_all by\ndefault, so it is not changing current behaviour remains\n\nChange-Id: I30c2c26abeb103de63aff0946ec7783f902886b8\n""}]",0,884227,e372dbe894c76528871c4761188d34a09b324fc2,11,3,2,28619,,,0,"Add venv_build_group variable

In order to be flexible and get rid of hardcoded repo_all group, new
variable named `venv_build_group` was added. It's set to repo_all by
default, so it is not changing current behaviour remains

Change-Id: I30c2c26abeb103de63aff0946ec7783f902886b8
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/27/884227/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'defaults/main.yml', 'vars/main.yml']",4,eed880b4659c5fc7a69df0b892253b6d2b84b641,,# * It then iterates over the group defined by {{ venv_build_group }} and if any # targets are found it will catagorize them by distro and cpu architecture {% for item in ((groups[venv_build_group] | default([])) | reverse) %},"# * It then iterates over the group name ""repo_all"" and if any targets # are found it will catagorize them by distro and cpu architecture {% for item in ((groups['repo_all'] | default([])) | reverse) %}",32,5
openstack%2Fansible-role-python_venv_build~stable%2F2023.1~If478ab0f0c0a5acc8974a69a11453377c98c28be,openstack/ansible-role-python_venv_build,stable/2023.1,If478ab0f0c0a5acc8974a69a11453377c98c28be,Align distro_arch naming in the role,MERGED,2023-05-25 08:20:27.000000000,2023-05-25 12:30:01.000000000,2023-05-25 12:29:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 08:20:27.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5733873c3f07927402d1b9898452b95ab4e106df', 'message': 'Align distro_arch naming in the role\n\nAt the moment we have 2 slightly different variations of merging\ndistro_arch - one through `-` and another through `_`. This patch\naligns usage and re-use  _venv_build_dist_arch.\n\nChange-Id: If478ab0f0c0a5acc8974a69a11453377c98c28be\n(cherry picked from commit e43dcdbf6a90057b6f4c8328303d817760b99624)\n'}]",0,884225,5733873c3f07927402d1b9898452b95ab4e106df,8,3,1,28619,,,0,"Align distro_arch naming in the role

At the moment we have 2 slightly different variations of merging
distro_arch - one through `-` and another through `_`. This patch
aligns usage and re-use  _venv_build_dist_arch.

Change-Id: If478ab0f0c0a5acc8974a69a11453377c98c28be
(cherry picked from commit e43dcdbf6a90057b6f4c8328303d817760b99624)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/25/884225/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,5733873c3f07927402d1b9898452b95ab4e106df,," {% set distro_ver = hostvars[item]['ansible_facts']['distribution_version'].split('.')[:2] | join('.') %} {% set distro_arch = [distro, distro_ver, arch] | join('-') %} {% set distro_ver = hostvars[host]['ansible_facts']['distribution_version'].split('.')[:2] | join('.') %} {% set distro_arch = [distro, distro_ver, arch] | join('-') %}"," {% set distro_ver = hostvars[item]['ansible_facts']['distribution_version'] %} {% set distro_arch = [distro, distro_ver, arch] | join('_') %} {% set distro_ver = hostvars[host]['ansible_facts']['distribution_version'] %} {% set distro_arch = [distro, distro_ver, arch] | join('_') %}",5,5
openstack%2Fcyborg-tempest-plugin~master~I62c5e51ffeebc2420a42015a5dcf83a8209cc65d,openstack/cyborg-tempest-plugin,master,I62c5e51ffeebc2420a42015a5dcf83a8209cc65d,add create attribute api method and testcase,NEW,2023-05-04 01:58:22.000000000,2023-05-25 12:19:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 01:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/52483c1c652e87a4b90235a3d76e5d1c704dc078', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}, {'number': 2, 'created': '2023-05-04 02:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/aae894e913d0b537115beb399ce8ce9c2a609974', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}, {'number': 3, 'created': '2023-05-18 03:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/2b491db9e9e494e18a0cec3d27ae7c64dbcacca2', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}, {'number': 4, 'created': '2023-05-18 05:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3cedf83102a544e7e72d82d62ca466c183c4bf45', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}, {'number': 5, 'created': '2023-05-18 07:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/260030933d665a3a109f5f1211bf7fcf58cf8879', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}, {'number': 6, 'created': '2023-05-25 11:49:04.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_attributes.py', '.zuul.yaml', 'cyborg_tempest_plugin/services/cyborg_rest_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/8c36e21121e1d3b385985ee5d499f99ad3b5c573', 'message': 'add create attribute api method and testcase\n\nadd create attribute api method and testcase for cyborg\n\nChange-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d\n'}]",5,881787,8c36e21121e1d3b385985ee5d499f99ad3b5c573,15,2,6,30409,,,0,"add create attribute api method and testcase

add create attribute api method and testcase for cyborg

Change-Id: I62c5e51ffeebc2420a42015a5dcf83a8209cc65d
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/87/881787/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_attributes.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py']",2,52483c1c652e87a4b90235a3d76e5d1c704dc078,master20," ATTR_URL = '/attributes' def create_attributes(self, body): body = json.dump_as_bytes(body) resp, body = self.post(self.ATTR_URL, body=body) return self._response_helper(resp, body) ",,47,0
openstack%2Ftripleo-upgrade~master~I1a283f53822adf66a5154b61eeeddda8d10eec05,openstack/tripleo-upgrade,master,I1a283f53822adf66a5154b61eeeddda8d10eec05,WIP: refactor system upgrade overcloud,ABANDONED,2023-02-20 16:41:59.000000000,2023-05-25 12:13:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-02-20 16:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/57204e4a6fec7ca003f963fda80a70efd18d3840', 'message': 'WIP: refactor system upgrade overcloud\n\nChange-Id: I1a283f53822adf66a5154b61eeeddda8d10eec05\n'}, {'number': 2, 'created': '2023-02-21 12:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd3c0f8c41e349cc49bab2491145d494671b10d5', 'message': 'WIP: refactor system upgrade overcloud\n\nChange-Id: I1a283f53822adf66a5154b61eeeddda8d10eec05\n'}, {'number': 3, 'created': '2023-02-22 20:02:30.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_roles.yaml', 'templates/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/78828802f026b86c40136570bea9dfd1ccaf1804', 'message': 'WIP: refactor system upgrade overcloud\n\nChange-Id: I1a283f53822adf66a5154b61eeeddda8d10eec05\n'}]",1,874443,78828802f026b86c40136570bea9dfd1ccaf1804,8,2,3,11166,,,0,"WIP: refactor system upgrade overcloud

Change-Id: I1a283f53822adf66a5154b61eeeddda8d10eec05
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/43/874443/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml', 'templates/overcloud_system_upgrade.sh.j2']",3,57204e4a6fec7ca003f963fda80a70efd18d3840,,,"EXTERNAL_ANSWER="""" if openstack overcloud external-upgrade run --help | grep -qe ""--yes""; then EXTERNAL_ANSWER=""--yes"" fi {% if enabled_services[role]|intersect(['ceph_osd','ceph_mon','ceph_mgr'])|length > 0 -%} echo ""[$(date)] Started ceph systemd units migration run for {{ item }} role"" openstack overcloud external-upgrade run ${EXTERNAL_ANSWER} \ --skip-tags validation,opendev-validation-ceph,opendev-validation \ --stack {{ overcloud_stack_name }} \ --tags ceph_systemd \ -e ceph_ansible_limit={{ item }} 2>&1 echo ""[$(date)] Finished ceph systemd units migration run for {{ item }} role"" {% endif -%} {% if system_upgrade_compact|bool -%} echo ""[$(date)] Started system upgrade step for {{ item }} role"" openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit {{ item }} 2>&1 echo ""[$(date)] Finished system upgrade step for {{ item }} role"" {% else -%} echo ""[$(date)] Started system upgrade prepare for {{ item }} role"" openstack overcloud upgrade run ${RUN_ANSWER} \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade_prepare \ --limit {{ item }} 2>&1 echo ""[$(date)] Finished system upgrade prepare for {{ item }} role"" --playbook upgrade_steps_playbook.yaml \{% endif -%} {% if 'Controller' in role and role_hosts|length > 1 and role_hosts.index(item) == 0 -%} echo ""[$(date)] Started system upgrade stop services for {{ item }} role"" openstack overcloud external-upgrade run ${EXTERNAL_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade_stop_services 2>&1 echo ""[$(date)] Finished system upgrade transfer data for {{ item }} role"" {% endif -%} {% if enabled_services and enabled_services[role]|intersect(['mysql'])|length > 0 and role_hosts|length > 1 and role_hosts.index(item) == 0 -%} echo ""[$(date)] Started system upgrade transfer data for {{ item }} role"" openstack overcloud external-upgrade run ${EXTERNAL_ANSWER} \ --stack {{ overcloud_stack_name }} \ --tags system_upgrade_transfer_data 2>&1 echo ""[$(date)] Finished system upgrade transfer data for {{ item }} role"" {% endif -%}",2,80
openstack%2Fbarbican~master~I0d1f5ca19867aa62018216d342d146a8240762cc,openstack/barbican,master,I0d1f5ca19867aa62018216d342d146a8240762cc,WIP: Add ubuntu fips job,NEW,2023-05-25 08:40:14.000000000,2023-05-25 11:46:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 08:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/543bbd80b4c0f0d475dc17a1cca8be81603b1289', 'message': 'WIP: Add ubuntu fips job\n\nChange-Id: I0d1f5ca19867aa62018216d342d146a8240762cc\n'}, {'number': 2, 'created': '2023-05-25 10:50:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/50f515d9f95f9435cb960af438b60e507e6e326d', 'message': 'WIP: Add ubuntu fips job\n\nChange-Id: I0d1f5ca19867aa62018216d342d146a8240762cc\n'}]",1,884321,50f515d9f95f9435cb960af438b60e507e6e326d,4,1,2,9914,,,0,"WIP: Add ubuntu fips job

Change-Id: I0d1f5ca19867aa62018216d342d146a8240762cc
",git fetch https://review.opendev.org/openstack/barbican refs/changes/21/884321/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,543bbd80b4c0f0d475dc17a1cca8be81603b1289,add_ubuntu_fips_job, Functional testing for a FIPS enabled Centos 9 system name: barbican-tox-functional-fips-focal nodeset: ubuntu-focal parent: barbican-tox-functional description: | Functional testing for a FIPS enabled Ubuntu focal system vars: nslookup_target: 'opendev.org' enable_fips: True - job: - barbican-tox-functional-fips: voting: false - barbican-tox-functional-fips-ubuntu: voting: false, Functional testing for a FIPS enabled Centos 8 system - barbican-tox-functional-fips,15,2
openstack%2Fcharm-cinder-infinidat~stable%2Fussuri~I936cf868aa14ac128a9b99efc0e35763816ba511,openstack/charm-cinder-infinidat,stable/ussuri,I936cf868aa14ac128a9b99efc0e35763816ba511,Add default value to install_keys,NEW,2023-05-25 11:15:29.000000000,2023-05-25 11:27:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 11:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/a2c0d06cd4de5aed6409f5c06223ed0dcd4cad06', 'message': 'Add default value to install_keys\n\nChange-Id: I936cf868aa14ac128a9b99efc0e35763816ba511\n'}, {'number': 2, 'created': '2023-05-25 11:16:47.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/993a8e1bd480bd2ed30a815c079545f29e465f41', 'message': 'Add default value to install_keys\n\nChange-Id: I936cf868aa14ac128a9b99efc0e35763816ba511\n'}]",0,884370,993a8e1bd480bd2ed30a815c079545f29e465f41,3,1,2,30110,,,0,"Add default value to install_keys

Change-Id: I936cf868aa14ac128a9b99efc0e35763816ba511
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/70/884370/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,a2c0d06cd4de5aed6409f5c06223ed0dcd4cad06,fix-install-keys-default-stable/zed-stable/yoga-stable/ussuri-stable/ussuri, default: | -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1.4.11 (GNU/Linux) mQENBFESDRIBCADMR7MQMbH4GdCQqfrOMt35MhBwwH4wv9kb1WRSTxa0CmuzYaBB 1nJ0nLaMAwHsEr9CytPWDpMngm/3nt+4F2hJcsOEkQkqeJ31gScJewM+AOUV3DEl qOeXXYLcP+jUY6pPjlZpOw0p7moUQPXHn+7amVrk7cXGQ8O3B+5a5wjN86LT2hlX DlBlV5bX/DYluiPUbvQLOknmwO53KpaeDeZc4a8iIOCYWu2ntuAMddBkTps0El5n JJZMTf6os2ZzngWMZRMDiVJgqVRi2b+8SgFQlQy0cAmne/mpgPrRq0ZMX3DokGG5 hnIg1mF82laTxd+9qtiOxupzJqf8mncQHdaTABEBAAG0IWFwcF9yZXBvIChDb21t ZW50KSA8bm9AZW1haWwuY29tPokBOAQTAQIAIgUCURINEgIbLwYLCQgHAwIGFQgC CQoLBBYCAwECHgECF4AACgkQem2D/j05RYSrcggAsCc4KppV/SZX5XI/CWFXIAXw +HaNsh2EwYKf9DhtoGbTOuwePvrPGcgFYM3Tu+m+rziPnnFl0bs0xwQyNEVQ9yDw t465pSgmXwEHbBkoISV1e4WYtZAsnTNne9ieJ49Ob/WY4w3AkdPRK/41UP5Ct6lR HHRXrSWJYHVq5Rh6BakRuMJyJLz/KvcJAaPkA4U6VrPD7PFtSecMTaONPjGCcomq b7q84G5ZfeJWb742PWBTS8fJdC+Jd4y5fFdJS9fQwIo52Ff9In2QBpJt5Wdc02SI fvQnuh37D2P8OcIfMxMfoFXpAMWjrMYc5veyQY1GXD/EOkfjjLne6qWPLfNojA== =w5Os -----END PGP PUBLIC KEY BLOCK-----,,19,0
openstack%2Fkolla-ansible~master~I7d7a42a194d5fc351b373b0692161538de6138fa,openstack/kolla-ansible,master,I7d7a42a194d5fc351b373b0692161538de6138fa,fluentd: correct regex format,ABANDONED,2023-03-07 22:39:09.000000000,2023-05-25 11:25:21.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-07 22:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d9d16507fceab4c97464437b1c4344a7cb3e2415', 'message': 'fix bug 1872220\n\nChange-Id: I7d7a42a194d5fc351b373b0692161538de6138fa\n'}, {'number': 2, 'created': '2023-03-08 01:15:43.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b79eccf5a6f0234c955e177711b702dbe3a49638', 'message': 'fluentd: correct regex format\n\nWhen forwarding fluentd logs to kafka, the paylod is coming in\nincomplete with the following error.\n\n""Payload"":""got incomplete line before first line from /var/log/kolla\n\nFixes bug 1872220\n\nChange-Id: I7d7a42a194d5fc351b373b0692161538de6138fa\n'}]",2,876785,b79eccf5a6f0234c955e177711b702dbe3a49638,11,2,2,35837,,,0,"fluentd: correct regex format

When forwarding fluentd logs to kafka, the paylod is coming in
incomplete with the following error.

""Payload"":""got incomplete line before first line from /var/log/kolla

Fixes bug 1872220

Change-Id: I7d7a42a194d5fc351b373b0692161538de6138fa
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/876785/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,d9d16507fceab4c97464437b1c4344a7cb3e2415,fluentd_input_fix, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[.*(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[.*(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/,2,2
openstack%2Fcharm-cinder-infinidat~stable%2Fyoga~I936cf868aa14ac128a9b99efc0e35763816ba511,openstack/charm-cinder-infinidat,stable/yoga,I936cf868aa14ac128a9b99efc0e35763816ba511,Add default value to install_keys,NEW,2023-05-25 11:15:10.000000000,2023-05-25 11:23:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 11:15:10.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/ef06fbf49bfa64634e66ce4794d1e7f8912fc8b9', 'message': 'Add default value to install_keys\n\nChange-Id: I936cf868aa14ac128a9b99efc0e35763816ba511\n'}]",0,884229,ef06fbf49bfa64634e66ce4794d1e7f8912fc8b9,2,1,1,30110,,,0,"Add default value to install_keys

Change-Id: I936cf868aa14ac128a9b99efc0e35763816ba511
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/29/884229/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,ef06fbf49bfa64634e66ce4794d1e7f8912fc8b9,fix-install-keys-default-stable/zed-stable/yoga, default: | -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1.4.11 (GNU/Linux) mQENBFESDRIBCADMR7MQMbH4GdCQqfrOMt35MhBwwH4wv9kb1WRSTxa0CmuzYaBB 1nJ0nLaMAwHsEr9CytPWDpMngm/3nt+4F2hJcsOEkQkqeJ31gScJewM+AOUV3DEl qOeXXYLcP+jUY6pPjlZpOw0p7moUQPXHn+7amVrk7cXGQ8O3B+5a5wjN86LT2hlX DlBlV5bX/DYluiPUbvQLOknmwO53KpaeDeZc4a8iIOCYWu2ntuAMddBkTps0El5n JJZMTf6os2ZzngWMZRMDiVJgqVRi2b+8SgFQlQy0cAmne/mpgPrRq0ZMX3DokGG5 hnIg1mF82laTxd+9qtiOxupzJqf8mncQHdaTABEBAAG0IWFwcF9yZXBvIChDb21t ZW50KSA8bm9AZW1haWwuY29tPokBOAQTAQIAIgUCURINEgIbLwYLCQgHAwIGFQgC CQoLBBYCAwECHgECF4AACgkQem2D/j05RYSrcggAsCc4KppV/SZX5XI/CWFXIAXw +HaNsh2EwYKf9DhtoGbTOuwePvrPGcgFYM3Tu+m+rziPnnFl0bs0xwQyNEVQ9yDw t465pSgmXwEHbBkoISV1e4WYtZAsnTNne9ieJ49Ob/WY4w3AkdPRK/41UP5Ct6lR HHRXrSWJYHVq5Rh6BakRuMJyJLz/KvcJAaPkA4U6VrPD7PFtSecMTaONPjGCcomq b7q84G5ZfeJWb742PWBTS8fJdC+Jd4y5fFdJS9fQwIo52Ff9In2QBpJt5Wdc02SI fvQnuh37D2P8OcIfMxMfoFXpAMWjrMYc5veyQY1GXD/EOkfjjLne6qWPLfNojA== =w5Os -----END PGP PUBLIC KEY BLOCK-----,,19,0
openstack%2Fcharm-cinder-infinidat~stable%2Fzed~I936cf868aa14ac128a9b99efc0e35763816ba511,openstack/charm-cinder-infinidat,stable/zed,I936cf868aa14ac128a9b99efc0e35763816ba511,Add default value to install_keys,NEW,2023-05-25 11:14:56.000000000,2023-05-25 11:23:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 11:14:56.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-infinidat/commit/41a7d6ad5b512cb7d78e4028c66e3d02e2e0909c', 'message': 'Add default value to install_keys\n\nChange-Id: I936cf868aa14ac128a9b99efc0e35763816ba511\n'}]",0,884228,41a7d6ad5b512cb7d78e4028c66e3d02e2e0909c,2,1,1,30110,,,0,"Add default value to install_keys

Change-Id: I936cf868aa14ac128a9b99efc0e35763816ba511
",git fetch https://review.opendev.org/openstack/charm-cinder-infinidat refs/changes/28/884228/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,41a7d6ad5b512cb7d78e4028c66e3d02e2e0909c,fix-install-keys-default-stable/zed, default: | -----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v1.4.11 (GNU/Linux) mQENBFESDRIBCADMR7MQMbH4GdCQqfrOMt35MhBwwH4wv9kb1WRSTxa0CmuzYaBB 1nJ0nLaMAwHsEr9CytPWDpMngm/3nt+4F2hJcsOEkQkqeJ31gScJewM+AOUV3DEl qOeXXYLcP+jUY6pPjlZpOw0p7moUQPXHn+7amVrk7cXGQ8O3B+5a5wjN86LT2hlX DlBlV5bX/DYluiPUbvQLOknmwO53KpaeDeZc4a8iIOCYWu2ntuAMddBkTps0El5n JJZMTf6os2ZzngWMZRMDiVJgqVRi2b+8SgFQlQy0cAmne/mpgPrRq0ZMX3DokGG5 hnIg1mF82laTxd+9qtiOxupzJqf8mncQHdaTABEBAAG0IWFwcF9yZXBvIChDb21t ZW50KSA8bm9AZW1haWwuY29tPokBOAQTAQIAIgUCURINEgIbLwYLCQgHAwIGFQgC CQoLBBYCAwECHgECF4AACgkQem2D/j05RYSrcggAsCc4KppV/SZX5XI/CWFXIAXw +HaNsh2EwYKf9DhtoGbTOuwePvrPGcgFYM3Tu+m+rziPnnFl0bs0xwQyNEVQ9yDw t465pSgmXwEHbBkoISV1e4WYtZAsnTNne9ieJ49Ob/WY4w3AkdPRK/41UP5Ct6lR HHRXrSWJYHVq5Rh6BakRuMJyJLz/KvcJAaPkA4U6VrPD7PFtSecMTaONPjGCcomq b7q84G5ZfeJWb742PWBTS8fJdC+Jd4y5fFdJS9fQwIo52Ff9In2QBpJt5Wdc02SI fvQnuh37D2P8OcIfMxMfoFXpAMWjrMYc5veyQY1GXD/EOkfjjLne6qWPLfNojA== =w5Os -----END PGP PUBLIC KEY BLOCK-----,,19,0
openstack%2Fopenstack-ansible-os_tempest~stable%2F2023.1~I2f01b033d0f84a5de85234e4dc4592e1f3ec1e39,openstack/openstack-ansible-os_tempest,stable/2023.1,I2f01b033d0f84a5de85234e4dc4592e1f3ec1e39,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-24 08:55:13.000000000,2023-05-25 10:59:40.000000000,2023-05-25 10:58:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 08:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7e362f13615cb7aa14581cbe96f7113cceb81e1f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2f01b033d0f84a5de85234e4dc4592e1f3ec1e39\n'}, {'number': 2, 'created': '2023-05-24 09:31:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0334ea5ccb1b0ce483aa4389e986bfff81bc9e61', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2f01b033d0f84a5de85234e4dc4592e1f3ec1e39\n'}]",0,884139,0334ea5ccb1b0ce483aa4389e986bfff81bc9e61,10,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2f01b033d0f84a5de85234e4dc4592e1f3ec1e39
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/39/884139/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7e362f13615cb7aa14581cbe96f7113cceb81e1f,create-2023.1, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2F2023.1~Icdfdab1e97dea0e4b195f2d417f0929697541236,openstack/openstack-ansible-os_tempest,stable/2023.1,Icdfdab1e97dea0e4b195f2d417f0929697541236,Update .gitreview for stable/2023.1,MERGED,2023-05-24 08:55:12.000000000,2023-05-25 10:58:09.000000000,2023-05-25 10:56:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 08:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2d54b03116ac5b8b74597c826db6570bcbc6d488', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Icdfdab1e97dea0e4b195f2d417f0929697541236\n'}, {'number': 2, 'created': '2023-05-24 09:31:19.000000000', 'files': ['.gitreview', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9cb5054bb8851d118cd1c34a345e6aa5bf5df8b6', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Icdfdab1e97dea0e4b195f2d417f0929697541236\n'}]",0,884138,9cb5054bb8851d118cd1c34a345e6aa5bf5df8b6,10,2,2,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Icdfdab1e97dea0e4b195f2d417f0929697541236
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/38/884138/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2d54b03116ac5b8b74597c826db6570bcbc6d488,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fswift~master~Iad3011e8603cd2771add97942d46122434d048cd,openstack/swift,master,Iad3011e8603cd2771add97942d46122434d048cd,Drop more translations,MERGED,2023-05-16 23:17:16.000000000,2023-05-25 10:57:29.000000000,2023-05-25 10:56:13.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 23:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/56fccb84d63fd0efea694e6f84254bd550cc1670', 'message': 'Drop more translations\n\nPartial-Bug: #1674543\nChange-Id: Iad3011e8603cd2771add97942d46122434d048cd\n'}, {'number': 2, 'created': '2023-05-24 20:58:45.000000000', 'files': ['swift/common/db.py', 'swift/common/db_replicator.py', 'swift/common/utils/__init__.py', 'swift/common/manager.py', 'swift/common/container_sync_realms.py', 'swift/common/wsgi.py', 'swift/common/request_helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d3d503f905e9afb47b7c90e438d35342533939bd', 'message': 'Drop more translations\n\nPartial-Bug: #1674543\nChange-Id: Iad3011e8603cd2771add97942d46122434d048cd\n'}]",2,883315,d3d503f905e9afb47b7c90e438d35342533939bd,12,2,2,15343,,,0,"Drop more translations

Partial-Bug: #1674543
Change-Id: Iad3011e8603cd2771add97942d46122434d048cd
",git fetch https://review.opendev.org/openstack/swift refs/changes/15/883315/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'swift/common/db_replicator.py', 'swift/common/utils/__init__.py', 'swift/common/manager.py', 'swift/common/container_sync_realms.py', 'swift/common/wsgi.py', 'swift/common/request_helpers.py']",7,56fccb84d63fd0efea694e6f84254bd550cc1670,," body=""No policy with index %s"" % policy_index,","from swift import gettext_ as _ body=_(""No policy with index %s"") % policy_index,",112,120
openstack%2Fansible-role-python_venv_build~master~Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c,openstack/ansible-role-python_venv_build,master,Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c,Build wheels depending on presence of venv_build_group,MERGED,2023-05-24 12:38:28.000000000,2023-05-25 10:47:44.000000000,2023-05-25 10:45:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-24 12:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5249dbc4cec93ccf3b751fbac6a85e93ec4da8de', 'message': ""Build wheels depending on presence of venv_build_group\n\nIn case venv_build_group is not present in inventory or does not contain\na single host, it does not make sense to attept building wheels.\n\nWith that we're changing default behaviour to avoid building wheels\nif there're no potential targets exists.\n\nChange-Id: Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c\n""}, {'number': 2, 'created': '2023-05-24 15:58:55.000000000', 'files': ['releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/01a08f39bbb2632500ba318f83882970bdb8accb', 'message': ""Build wheels depending on presence of venv_build_group\n\nIn case venv_build_group is not present in inventory or does not contain\na single host, it does not make sense to attept building wheels.\n\nWith that we're changing default behaviour to avoid building wheels\nif there're no potential targets exists.\n\nChange-Id: Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c\n""}]",0,884187,01a08f39bbb2632500ba318f83882970bdb8accb,11,4,2,28619,,,0,"Build wheels depending on presence of venv_build_group

In case venv_build_group is not present in inventory or does not contain
a single host, it does not make sense to attept building wheels.

With that we're changing default behaviour to avoid building wheels
if there're no potential targets exists.

Change-Id: Ifd0e80dd1d1f002a1b80f57b53b81ca9110e719c
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/87/884187/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'defaults/main.yml']",2,5249dbc4cec93ccf3b751fbac6a85e93ec4da8de,,"venv_wheel_build_enable: ""{{ (venv_build_group in groups and groups[venv_build_group] | length > 0) }}""",venv_wheel_build_enable: True,5,3
openstack%2Fironic~master~I359ac822f2fe39b38f29a47fd2e71c8c91476030,openstack/ironic,master,I359ac822f2fe39b38f29a47fd2e71c8c91476030,Add ironic-grenade-skip-level Job,MERGED,2022-04-07 12:45:20.000000000,2023-05-25 10:47:13.000000000,2023-05-25 10:45:09.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-07 12:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/adf5047aef563c5ffa0b3803b51b3ee693a50ee9', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 2, 'created': '2022-08-01 14:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71f8f039739b5351753fda4750715d848b2e4ca1', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 3, 'created': '2022-08-02 12:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45a4d4671e5e9ef2151292e3d5cc14ef2a2ef2be', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 4, 'created': '2022-09-29 16:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f1e2c12923c01bd714704b24c52dbf6fed3b40a', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 5, 'created': '2023-05-18 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f146e510c30e8326fe9f1f48ba77e0425ff7e2bc', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 6, 'created': '2023-05-23 21:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a3c9e5c85de9fb034e7853f49621245266f64cd', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}, {'number': 7, 'created': '2023-05-24 19:59:51.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da0d7494e78d6d5705568ff6f90e08e58ab65418', 'message': 'Add ironic-grenade-skip-level Job\n\nChange-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030\n'}]",12,836966,da0d7494e78d6d5705568ff6f90e08e58ab65418,55,4,7,15519,,,0,"Add ironic-grenade-skip-level Job

Change-Id: I359ac822f2fe39b38f29a47fd2e71c8c91476030
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/836966/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,adf5047aef563c5ffa0b3803b51b3ee693a50ee9,grenade_skip_level, - ironic-grenade-skip-level: voting: false,,10,0
openstack%2Fansible-role-python_venv_build~master~I30c2c26abeb103de63aff0946ec7783f902886b8,openstack/ansible-role-python_venv_build,master,I30c2c26abeb103de63aff0946ec7783f902886b8,Add venv_build_group variable,MERGED,2023-05-24 12:33:17.000000000,2023-05-25 10:47:01.000000000,2023-05-25 10:45:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-24 12:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/b6707682325b20d5cf7e20744d790cd001d3bf28', 'message': ""Add venv_build_group variable\n\nIn order to be flexible and get rid of hardcoded repo_all group, new\nvariable named `venv_build_group` was added. It's set to repo_all by\ndefault, so it is not changing current behaviour remains\n\nChange-Id: I30c2c26abeb103de63aff0946ec7783f902886b8\n""}, {'number': 2, 'created': '2023-05-24 15:58:50.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e24c1a4f715afcc4b8da56eae21f6806c0300c03', 'message': ""Add venv_build_group variable\n\nIn order to be flexible and get rid of hardcoded repo_all group, new\nvariable named `venv_build_group` was added. It's set to repo_all by\ndefault, so it is not changing current behaviour remains\n\nChange-Id: I30c2c26abeb103de63aff0946ec7783f902886b8\n""}]",2,884186,e24c1a4f715afcc4b8da56eae21f6806c0300c03,14,4,2,28619,,,0,"Add venv_build_group variable

In order to be flexible and get rid of hardcoded repo_all group, new
variable named `venv_build_group` was added. It's set to repo_all by
default, so it is not changing current behaviour remains

Change-Id: I30c2c26abeb103de63aff0946ec7783f902886b8
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/86/884186/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'defaults/main.yml', 'vars/main.yml']",4,b6707682325b20d5cf7e20744d790cd001d3bf28,,# * It then iterates over the group defined by {{ venv_build_group }} and if any # targets are found it will catagorize them by distro and cpu architecture {% for item in ((groups[venv_build_group] | default([])) | reverse) %},"# * It then iterates over the group name ""repo_all"" and if any targets # are found it will catagorize them by distro and cpu architecture {% for item in ((groups['repo_all'] | default([])) | reverse) %}",15,6
openstack%2Fkayobe~master~I3a5a43fef9c3d68d0db02be12b9f892c437e513d,openstack/kayobe,master,I3a5a43fef9c3d68d0db02be12b9f892c437e513d,dev: Improve error checking for config check functions,NEW,2023-05-24 13:48:01.000000000,2023-05-25 10:23:51.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-24 13:48:01.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/89fc4fa2792ef256ff7624559a8ea8e2ee2f13fc', 'message': ""dev: Improve error checking for config check functions\n\nVarious functions in the development/testing scripts rely on 'kayobe\nconfiguration dump' to extract the value of flags. If this command fails\nfor any reason, we should exit the script. Currently, some places we\ncontinue and return 1, since we check the output against the string\n'true'.\n\nThe to_bool helper function handles failure by checking for a valid\nboolean output, so let's use that everywhere.\n\nChange-Id: I3a5a43fef9c3d68d0db02be12b9f892c437e513d\n""}]",0,884202,89fc4fa2792ef256ff7624559a8ea8e2ee2f13fc,4,3,1,14826,,,0,"dev: Improve error checking for config check functions

Various functions in the development/testing scripts rely on 'kayobe
configuration dump' to extract the value of flags. If this command fails
for any reason, we should exit the script. Currently, some places we
continue and return 1, since we check the output against the string
'true'.

The to_bool helper function handles failure by checking for a valid
boolean output, so let's use that everywhere.

Change-Id: I3a5a43fef9c3d68d0db02be12b9f892c437e513d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/884202/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,89fc4fa2792ef256ff7624559a8ea8e2ee2f13fc,," to_bool ""$ipa_build_images"" to_bool ""$ironic_enabled"" to_bool ""$overcloud_dib_build_host_images"" } function is_cinder_enabled { flag=""$(run_kayobe configuration dump --host controllers[0] --var-name kolla_enable_cinder)"" to_bool ""$flag"""," [[ $ipa_build_images =~ ^true$ ]] [[ $ironic_enabled =~ ^true$ ]] [[ $overcloud_dib_build_host_images =~ ^true$ ]]function is_cinder_enabled { flag=""$(run_kayobe configuration dump --host controllers[0] --var-name kolla_enable_cinder)"" to_bool ""$flag"" } ",8,8
openstack%2Fcharm-nova-k8s~main~I665772455a9fd6c8e83b9f3088e30784f33722af,openstack/charm-nova-k8s,main,I665772455a9fd6c8e83b9f3088e30784f33722af,Switch to Antelope,MERGED,2023-05-24 18:17:52.000000000,2023-05-25 10:22:30.000000000,2023-05-25 09:31:18.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 18:17:52.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/34ac67f8f4b467f670aa1140d4d72e1ddd70e02b', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I665772455a9fd6c8e83b9f3088e30784f33722af\n'}]",2,884265,34ac67f8f4b467f670aa1140d4d72e1ddd70e02b,9,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I665772455a9fd6c8e83b9f3088e30784f33722af
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/65/884265/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,34ac67f8f4b467f670aa1140d4d72e1ddd70e02b,2023.1, `ghcr.io/openstack-snaps/nova-api:2023.1` `ghcr.io/openstack-snaps/nova-scheduler:2023.1` `ghcr.io/openstack-snaps/nova-conductor:2023.1`, `docker.io/kolla/ubuntu-binary-nova-api:xena` `docker.io/kolla/ubuntu-binary-nova-scheduler:xena` `docker.io/kolla/ubuntu-binary-nova-conductor:xena`,11,14
openstack%2Fcharm-cinder-k8s~main~Ia0265c5a99a7fa7a41166f12aa845e23e7096c8a,openstack/charm-cinder-k8s,main,Ia0265c5a99a7fa7a41166f12aa845e23e7096c8a,Switch to Antelope,MERGED,2023-05-24 18:22:24.000000000,2023-05-25 10:05:20.000000000,2023-05-25 09:32:46.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 18:22:24.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/69731248133ea168da898d910ee3e1b3332d15a1', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: Ia0265c5a99a7fa7a41166f12aa845e23e7096c8a\n'}]",1,884268,69731248133ea168da898d910ee3e1b3332d15a1,8,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: Ia0265c5a99a7fa7a41166f12aa845e23e7096c8a
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/68/884268/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,69731248133ea168da898d910ee3e1b3332d15a1,2023.1,`ghcr.io/openstack-snaps/cinder-api:2023.1` `ghcr.io/openstack-snaps/cinder-scheduler:2023.1`,`docker.io/kolla/ubuntu-binary-cinder-api:yoga` `docker.io/kolla/ubuntu-binary-cinder-scheduler:yoga`,8,10
openstack%2Fcharm-keystone-k8s~main~I6602bf31730791d4a9e55b42bca2249ed34c9a53,openstack/charm-keystone-k8s,main,I6602bf31730791d4a9e55b42bca2249ed34c9a53,Switch to Antelope,MERGED,2023-05-24 17:56:57.000000000,2023-05-25 10:02:08.000000000,2023-05-25 09:31:43.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:56:57.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/6632e619ad59949856a2391b4e592e4454a4ac33', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I6602bf31730791d4a9e55b42bca2249ed34c9a53\n'}]",1,884260,6632e619ad59949856a2391b4e592e4454a4ac33,8,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I6602bf31730791d4a9e55b42bca2249ed34c9a53
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/60/884260/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,6632e619ad59949856a2391b4e592e4454a4ac33,2023.1,The charm by default uses `ghcr.io/openstack-snaps/keystone:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-keystone:xena` image.,6,6
openstack%2Fcharm-glance-k8s~main~Ic84fc53fb976c1b7833db47ba1aa323bdb76b8b2,openstack/charm-glance-k8s,main,Ic84fc53fb976c1b7833db47ba1aa323bdb76b8b2,Switch to Antelope,MERGED,2023-05-24 17:56:24.000000000,2023-05-25 09:57:14.000000000,2023-05-25 09:29:58.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:56:24.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/eb0be670fbeb33713957c4ea73be9b3ad39191e0', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: Ic84fc53fb976c1b7833db47ba1aa323bdb76b8b2\n'}]",4,884259,eb0be670fbeb33713957c4ea73be9b3ad39191e0,9,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: Ic84fc53fb976c1b7833db47ba1aa323bdb76b8b2
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/59/884259/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,eb0be670fbeb33713957c4ea73be9b3ad39191e0,2023.1,The charm by default uses `ghcr.io/openstack-snaps/glance-api:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-glance:xena` image.,6,6
openstack%2Fneutron-fwaas~master~I60ad379f9fc94919581f461fd6a731cfe4baba30,openstack/neutron-fwaas,master,I60ad379f9fc94919581f461fd6a731cfe4baba30,Fix issues due to recent RBAC changes,MERGED,2023-05-19 10:37:31.000000000,2023-05-25 09:54:55.000000000,2023-05-25 09:53:54.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-05-19 10:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a5f2c1b29c2485764863645e588c3498f21a1b39', 'message': 'Fix issues due to rcent RBAC changes\n\nNeutron recently merged a commit enabling secure rbacs by default\n[1], breaking several unit tests of networking-fwaas.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n\n[1]https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2019097\nChange-Id: I60ad379f9fc94919581f461fd6a731cfe4baba30\n'}, {'number': 2, 'created': '2023-05-19 11:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fa6537cb7a90ea0b04fee0bb2dbba3756caa7b61', 'message': 'Fix issues due to rcent RBAC changes\n\nNeutron recently merged a commit enabling secure rbacs by default\n[1], breaking several unit tests of networking-fwaas.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n\n[1]https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2019097\nChange-Id: I60ad379f9fc94919581f461fd6a731cfe4baba30\n'}, {'number': 3, 'created': '2023-05-23 17:01:09.000000000', 'files': ['requirements.txt', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e479c1a1d6be2f3d15f22e70290be8b936a30815', 'message': 'Fix issues due to recent RBAC changes\n\nNeutron recently merged a commit enabling secure rbacs by default\n[1], breaking several unit tests of networking-fwaas.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n\n[1]https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2019097\nChange-Id: I60ad379f9fc94919581f461fd6a731cfe4baba30\n'}]",1,883653,e479c1a1d6be2f3d15f22e70290be8b936a30815,15,4,3,16688,,,0,"Fix issues due to recent RBAC changes

Neutron recently merged a commit enabling secure rbacs by default
[1], breaking several unit tests of networking-fwaas.
This patch changes the necessary test calls to be admin and
requires neutron >= 23.0.0.0b2.

[1]https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00

Related-Bug: #2019097
Change-Id: I60ad379f9fc94919581f461fd6a731cfe4baba30
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/53/883653/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py'],1,a5f2c1b29c2485764863645e588c3498f21a1b39,bug/2019097," context=ctx, as_admin=True)", context=ctx),1,1
openstack%2Fcharm-horizon-k8s~main~I37864ff91ef0c7604302150d23da3347b6970d88,openstack/charm-horizon-k8s,main,I37864ff91ef0c7604302150d23da3347b6970d88,Switch to Antelope,MERGED,2023-05-24 17:57:17.000000000,2023-05-25 09:51:57.000000000,2023-05-25 09:29:24.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:57:17.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/9cc31f6d3e9344d33365211ffc922deacd409329', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I37864ff91ef0c7604302150d23da3347b6970d88\n'}]",1,884261,9cc31f6d3e9344d33365211ffc922deacd409329,8,3,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I37864ff91ef0c7604302150d23da3347b6970d88
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/61/884261/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'metadata.yaml', 'README.md']",4,9cc31f6d3e9344d33365211ffc922deacd409329,2023.1,The charm by default uses `ghcr.io/openstack-snaps/horizon:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-horizon:yoga` image.,5,5
openstack%2Fcharm-placement-k8s~main~I922bef037968e253e1e1f02b7eb0c6d7703e6baa,openstack/charm-placement-k8s,main,I922bef037968e253e1e1f02b7eb0c6d7703e6baa,Switch to Antelope,MERGED,2023-05-24 17:18:32.000000000,2023-05-25 09:49:44.000000000,2023-05-25 09:28:51.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:18:32.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/881b270054a02a4dddcb1cd20f83350b49f9285f', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I922bef037968e253e1e1f02b7eb0c6d7703e6baa\n'}]",1,884255,881b270054a02a4dddcb1cd20f83350b49f9285f,7,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I922bef037968e253e1e1f02b7eb0c6d7703e6baa
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/55/884255/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,881b270054a02a4dddcb1cd20f83350b49f9285f,2023.1,The charm by default uses `ghcr.io/openstack-snaps/placement-api:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-placement:xena` image.,5,6
openstack%2Fopenstacksdk~master~I5c12bab90787ce46fb2d45e665aaf03820cb098d,openstack/openstacksdk,master,I5c12bab90787ce46fb2d45e665aaf03820cb098d,Use proper attribute names when filtering floating ips,ABANDONED,2023-02-21 09:11:50.000000000,2023-05-25 09:35:30.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-21 09:11:50.000000000', 'files': ['openstack/cloud/_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa15a6a0d47ba2b815ecf7b931687cda7764c1f3', 'message': 'Use proper attribute names when filtering floating ips\n\nChange-Id: I5c12bab90787ce46fb2d45e665aaf03820cb098d\n'}]",1,874540,fa15a6a0d47ba2b815ecf7b931687cda7764c1f3,4,2,1,32962,,,0,"Use proper attribute names when filtering floating ips

Change-Id: I5c12bab90787ce46fb2d45e665aaf03820cb098d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/874540/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_floating_ip.py'],1,fa15a6a0d47ba2b815ecf7b931687cda7764c1f3,floating_ip_pools," 'port_id': None, 'floating_network_id': floating_network_id, 'project_id': project_id,"," 'port': None, 'network': floating_network_id, 'location': {'project': {'id': project_id}},",3,3
openstack%2Fansible-role-python_venv_build~master~Ice35e3e4a14ee74b6ff40bd2385550f2da162878,openstack/ansible-role-python_venv_build,master,Ice35e3e4a14ee74b6ff40bd2385550f2da162878,Add a failure message when no build targets are present,MERGED,2023-05-24 11:03:09.000000000,2023-05-25 09:30:46.000000000,2023-05-25 09:29:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-24 11:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/75661b4768e3f77405744f7f67f8b2b485ca61c6', 'message': ""Add a failure message when no build targets are present\n\nAt the moment if no appropriate build target is present role fails with\nquite unclear message. This patch aims to provide human-readable\nfailure message when it's not possible to select build target, but\nwheels build is enabled.\n\nChange-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878\n""}, {'number': 2, 'created': '2023-05-24 15:58:39.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/a3ea0c74abcf694e3142306a2d6377b351c75810', 'message': ""Add a failure message when no build targets are present\n\nAt the moment if no appropriate build target is present role fails with\nquite unclear message. This patch aims to provide human-readable\nfailure message when it's not possible to select build target, but\nwheels build is enabled.\n\nChange-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878\n""}]",0,884177,a3ea0c74abcf694e3142306a2d6377b351c75810,10,3,2,28619,,,0,"Add a failure message when no build targets are present

At the moment if no appropriate build target is present role fails with
quite unclear message. This patch aims to provide human-readable
failure message when it's not possible to select build target, but
wheels build is enabled.

Change-Id: Ice35e3e4a14ee74b6ff40bd2385550f2da162878
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/77/884177/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,75661b4768e3f77405744f7f67f8b2b485ca61c6,,"- name: Fail if no wheels build host is available fail: msg: >- You are trying to build wheels for the distribution or architecture that you don't have build host for. Please, ensure that you have at least 1 host in 'repo_all' group with the following distribution: {{ _venv_build_dist_arch | replace('-', ' ') }} Otherwise, consider adding matching OS to the group or set `venv_wheel_build_enable: False`. Note, that you can run only in a serial manner when wheel build is disabled. Found venv_build_targets: {{ venv_build_targets }} when: - venv_wheel_build_enable | bool - '_venv_build_dist_arch not in venv_build_targets' ",,15,0
openstack%2Fneutron~stable%2Fxena~I077fe87435f61bd29d5c1efc979c2adebca26181,openstack/neutron,stable/xena,I077fe87435f61bd29d5c1efc979c2adebca26181,"Revert ""Delete sg rule which remote is the deleted sg""",MERGED,2023-05-24 14:14:04.000000000,2023-05-25 09:17:25.000000000,2023-05-25 09:16:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 14:14:04.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/20172ca6dc5dac5792cb4dca710dc078cc061d08', 'message': 'Revert ""Delete sg rule which remote is the deleted sg""\n\nThis reverts commit 63584957203ec9f5ba165177978213c3909f81f0.\n\nReason for revert: This is generating a lot of\n""SecurityGroupNotFound"" errors in neutron-server.log in\nthe tempest-integrated-networking job.\n\nCloses-Bug: #2019449\nRelated-Bug: #2008712\nChange-Id: I077fe87435f61bd29d5c1efc979c2adebca26181\n(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)\n(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)\n'}]",0,884207,20172ca6dc5dac5792cb4dca710dc078cc061d08,9,3,1,16688,,,0,"Revert ""Delete sg rule which remote is the deleted sg""

This reverts commit 63584957203ec9f5ba165177978213c3909f81f0.

Reason for revert: This is generating a lot of
""SecurityGroupNotFound"" errors in neutron-server.log in
the tempest-integrated-networking job.

Closes-Bug: #2019449
Related-Bug: #2008712
Change-Id: I077fe87435f61bd29d5c1efc979c2adebca26181
(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)
(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/884207/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,20172ca6dc5dac5792cb4dca710dc078cc061d08,bug/2019449," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, payload): context = n_context.get_admin_context() security_group_id = payload.resource_id for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, payload): context = payload.context sg_rule = payload.metadata['rule'] self._ovn_client.delete_security_group_rule(context, sg_rule) ",11,78
openstack%2Fneutron~stable%2Fyoga~I077fe87435f61bd29d5c1efc979c2adebca26181,openstack/neutron,stable/yoga,I077fe87435f61bd29d5c1efc979c2adebca26181,"Revert ""Delete sg rule which remote is the deleted sg""",MERGED,2023-05-24 14:13:47.000000000,2023-05-25 09:17:23.000000000,2023-05-25 09:16:03.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 14:13:47.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d30f9223a56f34822494dc45c4beb3f0fcf16c4', 'message': 'Revert ""Delete sg rule which remote is the deleted sg""\n\nThis reverts commit 63584957203ec9f5ba165177978213c3909f81f0.\n\nReason for revert: This is generating a lot of\n""SecurityGroupNotFound"" errors in neutron-server.log in\nthe tempest-integrated-networking job.\n\nCloses-Bug: #2019449\nRelated-Bug: #2008712\nChange-Id: I077fe87435f61bd29d5c1efc979c2adebca26181\n(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)\n(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)\n'}]",0,884206,8d30f9223a56f34822494dc45c4beb3f0fcf16c4,9,3,1,16688,,,0,"Revert ""Delete sg rule which remote is the deleted sg""

This reverts commit 63584957203ec9f5ba165177978213c3909f81f0.

Reason for revert: This is generating a lot of
""SecurityGroupNotFound"" errors in neutron-server.log in
the tempest-integrated-networking job.

Closes-Bug: #2019449
Related-Bug: #2008712
Change-Id: I077fe87435f61bd29d5c1efc979c2adebca26181
(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)
(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/884206/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,8d30f9223a56f34822494dc45c4beb3f0fcf16c4,bug/2019449," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, payload): context = n_context.get_admin_context() security_group_id = payload.resource_id for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, payload): context = payload.context sg_rule = payload.metadata['rule'] self._ovn_client.delete_security_group_rule(context, sg_rule) ",11,78
openstack%2Fneutron~stable%2Fzed~I077fe87435f61bd29d5c1efc979c2adebca26181,openstack/neutron,stable/zed,I077fe87435f61bd29d5c1efc979c2adebca26181,"Revert ""Delete sg rule which remote is the deleted sg""",MERGED,2023-05-24 14:13:21.000000000,2023-05-25 09:17:16.000000000,2023-05-25 09:15:58.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 14:13:21.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bf6f7f03c04d90d6953d9cd1a286d82a01fc040', 'message': 'Revert ""Delete sg rule which remote is the deleted sg""\n\nThis reverts commit 63584957203ec9f5ba165177978213c3909f81f0.\n\nReason for revert: This is generating a lot of\n""SecurityGroupNotFound"" errors in neutron-server.log in\nthe tempest-integrated-networking job.\n\nCloses-Bug: #2019449\nRelated-Bug: #2008712\nChange-Id: I077fe87435f61bd29d5c1efc979c2adebca26181\n(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)\n(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)\n'}]",0,884205,8bf6f7f03c04d90d6953d9cd1a286d82a01fc040,9,3,1,16688,,,0,"Revert ""Delete sg rule which remote is the deleted sg""

This reverts commit 63584957203ec9f5ba165177978213c3909f81f0.

Reason for revert: This is generating a lot of
""SecurityGroupNotFound"" errors in neutron-server.log in
the tempest-integrated-networking job.

Closes-Bug: #2019449
Related-Bug: #2008712
Change-Id: I077fe87435f61bd29d5c1efc979c2adebca26181
(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)
(cherry picked from commit d3fb57617d56acb312cef18d32881dd608967313)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/884205/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,8bf6f7f03c04d90d6953d9cd1a286d82a01fc040,bug/2019449," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, payload): context = n_context.get_admin_context() security_group_id = payload.resource_id for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, payload): context = payload.context sg_rule = payload.metadata['rule'] self._ovn_client.delete_security_group_rule(context, sg_rule) ",11,78
openstack%2Fneutron~master~I1510ed5242499c60b43514adeecc4aa3599fc42f,openstack/neutron,master,I1510ed5242499c60b43514adeecc4aa3599fc42f,Test devstack patch,ABANDONED,2023-05-24 16:28:00.000000000,2023-05-25 09:14:07.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 16:28:00.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd0aea04103c1095351e5fa133f1295f75794736', 'message': 'Test devstack patch\n\nbug 2020661\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/884247\nChange-Id: I1510ed5242499c60b43514adeecc4aa3599fc42f\n'}]",1,884248,cd0aea04103c1095351e5fa133f1295f75794736,8,3,1,16688,,,0,"Test devstack patch

bug 2020661

Depends-On: https://review.opendev.org/c/openstack/devstack/+/884247
Change-Id: I1510ed5242499c60b43514adeecc4aa3599fc42f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/884248/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,cd0aea04103c1095351e5fa133f1295f75794736,bug/2020661,CHANGE = True,,1,0
openstack%2Fdevstack~master~I1590c59b5a4956e0fac75df0aded6c1e1a5ca892,openstack/devstack,master,I1590c59b5a4956e0fac75df0aded6c1e1a5ca892,"Replace ""curl"" with ""wget"" during the RDO installation",ABANDONED,2023-05-24 16:22:01.000000000,2023-05-25 09:13:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 16:22:01.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/64b1d6f615ed41f3c9aeb36081821f1519052084', 'message': 'Replace ""curl"" with ""wget"" during the RDO installation\n\nThe certificate of ""http://trunk.rdoproject.org"" is not working when\nFIPS is enabled and using ""curl"". This patch replaces ""curl"" with\n""wget"".\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\n\nChange-Id: I1590c59b5a4956e0fac75df0aded6c1e1a5ca892\n'}]",2,884247,64b1d6f615ed41f3c9aeb36081821f1519052084,5,1,1,16688,,,0,"Replace ""curl"" with ""wget"" during the RDO installation

The certificate of ""http://trunk.rdoproject.org"" is not working when
FIPS is enabled and using ""curl"". This patch replaces ""curl"" with
""wget"".

Closes-Bug: #2020661
Closes-Bug: #2020434

Change-Id: I1590c59b5a4956e0fac75df0aded6c1e1a5ca892
",git fetch https://review.opendev.org/openstack/devstack refs/changes/47/884247/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,64b1d6f615ed41f3c9aeb36081821f1519052084,bug/2020661, install_package wget sudo wget --tries=3 -O /etc/yum.repos.d/delorean-deps.repo http://trunk.rdoproject.org/centos9-master/delorean-deps.repo, sudo curl -L -o /etc/yum.repos.d/delorean-deps.repo http://trunk.rdoproject.org/centos9-master/delorean-deps.repo,2,1
openstack%2Fheat-dashboard~master~Ia4bf0780c2688c1c6ccf6c823e97ead33914e843,openstack/heat-dashboard,master,Ia4bf0780c2688c1c6ccf6c823e97ead33914e843,Imported Translations from Zanata,MERGED,2023-05-09 03:34:48.000000000,2023-05-25 08:52:44.000000000,2023-05-25 08:51:39.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-09 03:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/54c60263f2fee651518ba947cb317bbe6b86778c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia4bf0780c2688c1c6ccf6c823e97ead33914e843\n'}, {'number': 2, 'created': '2023-05-24 04:12:15.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/dcaa644bdcaa42c9727ffb1ea267bc3ec4f23b0d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia4bf0780c2688c1c6ccf6c823e97ead33914e843\n'}]",0,882647,dcaa644bdcaa42c9727ffb1ea267bc3ec4f23b0d,11,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia4bf0780c2688c1c6ccf6c823e97ead33914e843
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/47/882647/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,54c60263f2fee651518ba947cb317bbe6b86778c,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2023. #zanata""POT-Creation-Date: 2023-05-04 04:28+0000\n""""PO-Revision-Date: 2023-05-08 10:19+0000\n""msgid ""2023.1 Series Release Notes"" msgstr ""2023.1 Series Release Notes"" ","""POT-Creation-Date: 2022-11-10 09:14+0000\n""""PO-Revision-Date: 2022-11-14 10:33+0000\n""",6,2
openstack%2Fkolla-ansible~stable%2Fzed~I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f,openstack/kolla-ansible,stable/zed,I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f,opensearch: alter path after using rpm/deb packaging,MERGED,2023-05-24 13:49:20.000000000,2023-05-25 08:48:03.000000000,2023-05-25 08:47:01.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 13:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5331831adcb2e2ccb59b8baa811012a81f7fe854', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883941\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n(cherry picked from commit 1769a49115e7ea2a35f230c0412351ad8dd2f05d)\n'}, {'number': 2, 'created': '2023-05-24 13:49:40.000000000', 'files': ['ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a662bd896f2a89ff00a055f5b9d2008be9803f18', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883928\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n(cherry picked from commit 1769a49115e7ea2a35f230c0412351ad8dd2f05d)\n'}]",1,883929,a662bd896f2a89ff00a055f5b9d2008be9803f18,11,3,2,22629,,,0,"opensearch: alter path after using rpm/deb packaging

opensearch-dashboards now use a dedicated user

Depends-On: https://review.opendev.org/c/openstack/kolla/+/883928
Change-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f
(cherry picked from commit 1769a49115e7ea2a35f230c0412351ad8dd2f05d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/883929/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2']",3,5331831adcb2e2ccb59b8baa811012a81f7fe854,," ""command"": ""/usr/share/opensearch-dashboards/bin/opensearch-dashboards --config /etc/opensearch-dashboards/opensearch_dashboards.yml"", ""dest"": ""/etc/opensearch-dashboards/opensearch_dashboards.yml"", ""owner"": ""opensearch-dashboards"", ""path"": ""/var/log/kolla/opensearch-dashboards"", ""owner"": ""opensearch-dashboards:opensearch-dashboards"", ""path"": ""/usr/share/opensearch-dashboards/optimize/bundles"", ""owner"": ""opensearch-dashboards:opensearch-dashboards"","," ""command"": ""/usr/share/opensearch-dashboards/bin/opensearch-dashboards --config /etc/opensearch/opensearch_dashboards.yml"", ""dest"": ""/etc/opensearch/opensearch_dashboards.yml"", ""owner"": ""opensearch"", ""path"": ""/var/log/kolla/opensearch"", ""owner"": ""opensearch:opensearch"", ""path"": ""/usr/share/opensearch/dashboards/optimize/bundles"", ""owner"": ""opensearch:opensearch"",",9,9
openstack%2Fzaqar-tempest-plugin~master~I4dd93ba05bfbfc1032e893037c367bf8066b6afc,openstack/zaqar-tempest-plugin,master,I4dd93ba05bfbfc1032e893037c367bf8066b6afc,remove unicode prefix from code,NEW,2022-08-29 11:58:25.000000000,2023-05-25 08:43:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 11:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/c5e5419dc74f0269fe3ce81c0e16d7250313db27', 'message': 'remove unicode prefix from code\n\nChange-Id: I4dd93ba05bfbfc1032e893037c367bf8066b6afc\n'}, {'number': 2, 'created': '2023-05-25 08:39:26.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/3c6cd56659a7dc7769038ef8a353d182474a78ba', 'message': ""remove unicode prefix from code\n\nAll strings are considered as unicode string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: I4dd93ba05bfbfc1032e893037c367bf8066b6afc\n""}]",2,854967,3c6cd56659a7dc7769038ef8a353d182474a78ba,5,2,2,35058,,,0,"remove unicode prefix from code

All strings are considered as unicode string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: I4dd93ba05bfbfc1032e893037c367bf8066b6afc
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/67/854967/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,c5e5419dc74f0269fe3ce81c0e16d7250313db27,,"project = 'zaqar_tempest_plugin Release Notes' copyright = '2017, OpenStack Developers' 'zaqar_tempest_plugin Release Notes Documentation', 'OpenStack Foundation', 'manual'), 'zaqar_tempest_plugin Release Notes Documentation', ['OpenStack Foundation'], 1) 'zaqar_tempest_plugin Release Notes Documentation', 'OpenStack Foundation', 'zaqar_tempest_pluginReleaseNotes',","project = u'zaqar_tempest_plugin Release Notes' copyright = u'2017, OpenStack Developers' u'zaqar_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'manual'), u'zaqar_tempest_plugin Release Notes Documentation', [u'OpenStack Foundation'], 1) u'zaqar_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'zaqar_tempest_pluginReleaseNotes',",12,12
openstack%2Fblazar-nova~master~If80a95e2d8d6b91f150bbdec0e72f37ff1fe974c,openstack/blazar-nova,master,If80a95e2d8d6b91f150bbdec0e72f37ff1fe974c,setup.cfg: Replace dashes with underscores,MERGED,2023-05-25 02:46:03.000000000,2023-05-25 08:41:33.000000000,2023-05-25 08:41:33.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 02:46:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/021780c99d85eeb4cf5ba653bd1c1501e2c88130', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If80a95e2d8d6b91f150bbdec0e72f37ff1fe974c\n""}]",0,883827,021780c99d85eeb4cf5ba653bd1c1501e2c88130,6,2,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If80a95e2d8d6b91f150bbdec0e72f37ff1fe974c
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/27/883827/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,021780c99d85eeb4cf5ba653bd1c1501e2c88130,,setup_hooks = pbr.hooks.setup_hook,setup-hooks = pbr.hooks.setup_hook,1,1
openstack%2Fovn-octavia-provider~stable%2Fzed~Ia7a9b5230f9cf56de8278b736022240a780130d6,openstack/ovn-octavia-provider,stable/zed,Ia7a9b5230f9cf56de8278b736022240a780130d6,Add retry on case of sqlite3.InterfaceError on FT,MERGED,2023-05-22 10:57:06.000000000,2023-05-25 08:38:41.000000000,2023-05-25 08:37:44.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-22 10:57:06.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/23ea3bb6ce63460178002a8e7f7c4ab25205e8c2', 'message': ""Add retry on case of sqlite3.InterfaceError on FT\n\nAfter a thorough review of the issue, it looks like that the problem\ndoes not originate from the base code of ovn-octavia-provider or\nneutron. Other projects are also experiencing this problem,\nindicating that it likely stems from a different source or set of\nlibraries [1].\n\nTo minimize the need for extensive rechecks on future patches, this\npatch introduces a retry mechanism, utilizing tenacity, to the\naffected methods.\n\nOnce the root cause of the problem '(sqlite3.InterfaceError) Cursor\nneeded to be reset because of commit/rollback and can no longer be\nfetched from,' is identified and resolved, this patch should be\nreverted.\n\n[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())\n\nRelated-Bug: #2020195\nChange-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6\n(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)\n""}]",1,883802,23ea3bb6ce63460178002a8e7f7c4ab25205e8c2,12,4,1,34451,,,0,"Add retry on case of sqlite3.InterfaceError on FT

After a thorough review of the issue, it looks like that the problem
does not originate from the base code of ovn-octavia-provider or
neutron. Other projects are also experiencing this problem,
indicating that it likely stems from a different source or set of
libraries [1].

To minimize the need for extensive rechecks on future patches, this
patch introduces a retry mechanism, utilizing tenacity, to the
affected methods.

Once the root cause of the problem '(sqlite3.InterfaceError) Cursor
needed to be reset because of commit/rollback and can no longer be
fetched from,' is identified and resolved, this patch should be
reverted.

[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())

Related-Bug: #2020195
Change-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6
(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/02/883802/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/functional/base.py'],1,23ea3bb6ce63460178002a8e7f7c4ab25205e8c2,zed,"from oslo_db import exception as odb_excimport tenacity @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True) @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True)",,13,0
openstack%2Fovn-octavia-provider~stable%2F2023.1~Ia7a9b5230f9cf56de8278b736022240a780130d6,openstack/ovn-octavia-provider,stable/2023.1,Ia7a9b5230f9cf56de8278b736022240a780130d6,Add retry on case of sqlite3.InterfaceError on FT,MERGED,2023-05-22 10:46:42.000000000,2023-05-25 08:11:54.000000000,2023-05-25 08:10:47.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-22 10:46:42.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e5c91467ab55c48a86bb3888f4fcca8b5dc15229', 'message': ""Add retry on case of sqlite3.InterfaceError on FT\n\nAfter a thorough review of the issue, it looks like that the problem\ndoes not originate from the base code of ovn-octavia-provider or\nneutron. Other projects are also experiencing this problem,\nindicating that it likely stems from a different source or set of\nlibraries [1].\n\nTo minimize the need for extensive rechecks on future patches, this\npatch introduces a retry mechanism, utilizing tenacity, to the\naffected methods.\n\nOnce the root cause of the problem '(sqlite3.InterfaceError) Cursor\nneeded to be reset because of commit/rollback and can no longer be\nfetched from,' is identified and resolved, this patch should be\nreverted.\n\n[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())\n\nRelated-Bug: #2020195\nChange-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6\n(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)\n""}]",2,883801,e5c91467ab55c48a86bb3888f4fcca8b5dc15229,12,4,1,34451,,,0,"Add retry on case of sqlite3.InterfaceError on FT

After a thorough review of the issue, it looks like that the problem
does not originate from the base code of ovn-octavia-provider or
neutron. Other projects are also experiencing this problem,
indicating that it likely stems from a different source or set of
libraries [1].

To minimize the need for extensive rechecks on future patches, this
patch introduces a retry mechanism, utilizing tenacity, to the
affected methods.

Once the root cause of the problem '(sqlite3.InterfaceError) Cursor
needed to be reset because of commit/rollback and can no longer be
fetched from,' is identified and resolved, this patch should be
reverted.

[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())

Related-Bug: #2020195
Change-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6
(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/01/883801/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/functional/base.py'],1,e5c91467ab55c48a86bb3888f4fcca8b5dc15229,stable2023.1,"from oslo_db import exception as odb_excimport tenacity @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True) @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True)",,13,0
openstack%2Fbarbican-tempest-plugin~master~I56df27b5688aaae0ef0d154bbd878e1a1dddde5b,openstack/barbican-tempest-plugin,master,I56df27b5688aaae0ef0d154bbd878e1a1dddde5b,Use py3 as the default runtime for tox,NEW,2023-05-25 06:56:17.000000000,2023-05-25 07:50:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 06:56:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/a4f06de9a0c40772a575e791dde1bd06430b12c5', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I56df27b5688aaae0ef0d154bbd878e1a1dddde5b\n'}]",0,884331,a4f06de9a0c40772a575e791dde1bd06430b12c5,2,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I56df27b5688aaae0ef0d154bbd878e1a1dddde5b
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/31/884331/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a4f06de9a0c40772a575e791dde1bd06430b12c5,,"envlist = py3,pypy,pep8","envlist = py39,pypy,pep8",1,1
openstack%2Fbarbican-tempest-plugin~master~If4611b32fcbd82c0c22eb1990cac3921a9274155,openstack/barbican-tempest-plugin,master,If4611b32fcbd82c0c22eb1990cac3921a9274155,Cleanup py27 support,NEW,2023-05-25 06:21:16.000000000,2023-05-25 07:15:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 06:21:16.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ab8bea2f22e3ed9651ec028b7c5c843dc4c338fd', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: If4611b32fcbd82c0c22eb1990cac3921a9274155\n""}]",0,884330,ab8bea2f22e3ed9651ec028b7c5c843dc4c338fd,2,1,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: If4611b32fcbd82c0c22eb1990cac3921a9274155
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/30/884330/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,ab8bea2f22e3ed9651ec028b7c5c843dc4c338fd,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,9
openstack%2Fskyline-console~master~I0bb35d350f21dbae3fd66922b21522a579eb8967,openstack/skyline-console,master,I0bb35d350f21dbae3fd66922b21522a579eb8967,feat: update the cirros version,MERGED,2023-05-25 01:31:35.000000000,2023-05-25 06:59:03.000000000,2023-05-25 06:58:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-05-25 01:31:35.000000000', 'files': ['test/e2e/config/config-storage.yaml', 'test/e2e/config/config.yaml', 'test/e2e/config/config-compute.yaml', 'test/e2e/config/config-other.yaml', 'test/e2e/config/config-network.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/36a69b0a1f6a67400496d8af00b8b0c433b6fde8', 'message': 'feat: update the cirros version\n\nUpdate the default cirros version used by e2e according to the devstack\n\nChange-Id: I0bb35d350f21dbae3fd66922b21522a579eb8967\n'}]",1,884306,36a69b0a1f6a67400496d8af00b8b0c433b6fde8,9,2,1,30434,,,0,"feat: update the cirros version

Update the default cirros version used by e2e according to the devstack

Change-Id: I0bb35d350f21dbae3fd66922b21522a579eb8967
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/06/884306/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/e2e/config/config-storage.yaml', 'test/e2e/config/config-compute.yaml', 'test/e2e/config/config.yaml', 'test/e2e/config/config-other.yaml', 'test/e2e/config/config-network.yaml']",5,36a69b0a1f6a67400496d8af00b8b0c433b6fde8,cirros, imageName: cirros-0.6.1-x86_64-disk, imageName: cirros-0.5.2-x86_64-disk,5,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8c76a36b7b1ab4770a8fe5f21568ee3dd8485036,openstack/tripleo-heat-templates,stable/wallaby,I8c76a36b7b1ab4770a8fe5f21568ee3dd8485036,Fix src-ceph permission issue,MERGED,2023-05-24 15:47:44.000000000,2023-05-25 06:26:36.000000000,2023-05-25 06:26:36.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-05-24 15:47:44.000000000', 'files': ['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0dd9a9519f192882738de3b2fb88caa3b74cd7f7', 'message': ""Fix src-ceph permission issue\n\nDuring step3, few containers fails to access the ceph config\nwith permission error:\n\n[Errno 13] Permission denied:\n'/var/lib/kolla/config_files/src-ceph/ceph.conf'\n\nThis patch updates the permission from 'ro' to 'z' for all the\ncontainers that access src-ceph files.\n\nResolves: rhbz#2209633\nChange-Id: I8c76a36b7b1ab4770a8fe5f21568ee3dd8485036\n""}]",1,883825,0dd9a9519f192882738de3b2fb88caa3b74cd7f7,10,5,1,34598,,,0,"Fix src-ceph permission issue

During step3, few containers fails to access the ceph config
with permission error:

[Errno 13] Permission denied:
'/var/lib/kolla/config_files/src-ceph/ceph.conf'

This patch updates the permission from 'ro' to 'z' for all the
containers that access src-ceph files.

Resolves: rhbz#2209633
Change-Id: I8c76a36b7b1ab4770a8fe5f21568ee3dd8485036
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/883825/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml']",8,0dd9a9519f192882738de3b2fb88caa3b74cd7f7,BZ_2209633, - - 'z' - - 'z', - - 'ro' - - 'ro',10,10
openstack%2Fvenus~master~I36f817b46a55de63ec51ae8995e053cd7ed5253f,openstack/venus,master,I36f817b46a55de63ec51ae8995e053cd7ed5253f,Supplement a unit test case for 'get_resources',MERGED,2023-05-25 05:51:23.000000000,2023-05-25 06:17:56.000000000,2023-05-25 06:17:01.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-25 05:51:23.000000000', 'files': ['venus/tests/unit/api/test_extensions.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/61aae3d07452668924d1c28700f8ea82d069e139', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: I36f817b46a55de63ec51ae8995e053cd7ed5253f\n""}]",1,884314,61aae3d07452668924d1c28700f8ea82d069e139,7,2,1,34340,,,0,"Supplement a unit test case for 'get_resources'

the test case for api.extensions.ExtensionDescriptor

Change-Id: I36f817b46a55de63ec51ae8995e053cd7ed5253f
",git fetch https://review.opendev.org/openstack/venus refs/changes/14/884314/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_extensions.py'],1,61aae3d07452668924d1c28700f8ea82d069e139,,"from venus.api.extensions import ExtensionDescriptor from venus.api.extensions import ExtensionManager self.extension_descriptor = ExtensionDescriptor(ExtensionManager()) def test_get_resources(self): result = self.extension_descriptor.get_resources() self.assertEqual(result, [])",from venus.api import extensions self.extensions = extensions,7,2
openstack%2Fapi-sig~master~Iaa592205e7045045e3ea2b71617aa34d4054a08a,openstack/api-sig,master,Iaa592205e7045045e3ea2b71617aa34d4054a08a,Use py3 as the default runtime for tox,ABANDONED,2023-05-25 06:05:28.000000000,2023-05-25 06:15:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 06:05:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/7ed364f9206fdf7101973b4ebd2818e56d371842', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Iaa592205e7045045e3ea2b71617aa34d4054a08a\n'}]",0,883829,7ed364f9206fdf7101973b4ebd2818e56d371842,3,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Iaa592205e7045045e3ea2b71617aa34d4054a08a
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/29/883829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7ed364f9206fdf7101973b4ebd2818e56d371842,,"envlist = docs,py3,linters","envlist = docs,py37,linters",1,1
openstack%2Fcharm-neutron-dynamic-routing~master~Ie611966bb19631a586285f45f27dc52b96ff2937,openstack/charm-neutron-dynamic-routing,master,Ie611966bb19631a586285f45f27dc52b96ff2937,Update the charm for new releases,MERGED,2023-05-23 20:58:37.000000000,2023-05-25 06:01:55.000000000,2023-05-25 06:01:55.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 20:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5e2b2188c35f87054e505614f58e46a21bb12e4d', 'message': 'Update the charm for new releases\n\n* Switch to test bundles;\n* Update charmcraft.yaml;\n* Update requirements files;\n* Switch to ch:osci-frr from ch:quagga;\n* Update tox config files.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060\nChange-Id: Ie611966bb19631a586285f45f27dc52b96ff2937\n'}, {'number': 2, 'created': '2023-05-23 21:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/cf6d7cf53250c59168a8da2728058d2b62964af8', 'message': 'Update the charm for new releases\n\n* Switch to test bundles;\n* Update charmcraft.yaml;\n* Update requirements files;\n* Switch to ch:osci-frr from ch:quagga;\n* Update tox config files.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060\nChange-Id: Ie611966bb19631a586285f45f27dc52b96ff2937\n'}, {'number': 3, 'created': '2023-05-23 21:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/1ce936b652982c4a763cb47d36dad33aeb46ebfb', 'message': 'Update the charm for new releases\n\n* Switch to test bundles;\n* Update charmcraft.yaml;\n* Update requirements files;\n* Switch to ch:osci-frr from ch:quagga;\n* Update tox config files.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060\nChange-Id: Ie611966bb19631a586285f45f27dc52b96ff2937\n'}, {'number': 4, 'created': '2023-05-23 22:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/4add4c03b18a3bac187514704ea351f5bbfa12b7', 'message': 'Update the charm for new releases\n\n* Switch to test bundles;\n* Update charmcraft.yaml;\n* Update requirements files;\n* Switch to ch:osci-frr from ch:quagga;\n* Update tox config files.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060\nChange-Id: Ie611966bb19631a586285f45f27dc52b96ff2937\n'}, {'number': 5, 'created': '2023-05-24 11:40:54.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', '.zuul.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'pip.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5963ea4fc32ef269d93f2fc8e05b363815397c43', 'message': 'Update the charm for new releases\n\n* Switch to test bundles;\n* Update charmcraft.yaml;\n* Update requirements files;\n* Switch to ch:osci-frr from ch:quagga;\n* Update tox config files.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060\nChange-Id: Ie611966bb19631a586285f45f27dc52b96ff2937\n'}]",6,883981,5963ea4fc32ef269d93f2fc8e05b363815397c43,26,3,5,24824,,,0,"Update the charm for new releases

* Switch to test bundles;
* Update charmcraft.yaml;
* Update requirements files;
* Switch to ch:osci-frr from ch:quagga;
* Update tox config files.

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1060
Change-Id: Ie611966bb19631a586285f45f27dc52b96ff2937
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/81/883981/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', '.zuul.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'pip.sh', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml']",15,5e2b2188c35f87054e505614f58e46a21bb12e4d,2023-lunar-frr, openstack-origin: &openstack-origin cloud:lunar-antelope # osci-frr has a limited set of supported series. series: jammy channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge osci-frr: charm: ch:osci-frr series: jammy - 'osci-frr:bgpclient', openstack-origin: &openstack-origin distro # for quagga which has no jammy support yet series: bionic channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: yoga/edge channel: yoga/edge channel: 3.9/edge quagga: charm: ch:openstack-charmers-next-quagga series: bionic - 'quagga:bgpclient',148,443
openstack%2Fcharm-ceph-mon~master~Ibf12a2b87736cb1d32788672fb390e027f15b936,openstack/charm-ceph-mon,master,Ibf12a2b87736cb1d32788672fb390e027f15b936,Fix persistent config file not update bug,MERGED,2023-04-28 03:04:05.000000000,2023-05-25 05:43:19.000000000,2023-05-25 05:43:19.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-28 03:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/12f985c84eb8f19c61b22988fe7e0f6d52ffee9b', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\n'}, {'number': 2, 'created': '2023-04-28 06:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/676b29ad22085f7942f6a3d3c63b9e763ab96a0e', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\n'}, {'number': 3, 'created': '2023-05-09 05:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8995fad92f29b8eab5689b0acad50bfe86adaca5', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047\n'}, {'number': 4, 'created': '2023-05-12 02:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/3a125570238a2ab98237061b153b23512ae5ddb0', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047\n'}, {'number': 5, 'created': '2023-05-23 01:52:11.000000000', 'files': ['tests/tests.yaml', 'src/charm.py', 'unit_tests/test_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e99c38ae4cc6c89aa7818d38990cc9b2dfb5060d', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047\n'}]",18,881793,e99c38ae4cc6c89aa7818d38990cc9b2dfb5060d,39,3,5,34720,,,0,"Fix persistent config file not update bug

When ceph doing the version upgrade, it will check the previous ceph
from the `source` config variable which store in persistent file.
But the persistent file update is broken. It is because we use hookenv.Config
from ops framework, but the hookenv._run_atexit, which
save the change to file, is not been called.

Partial-Bug: #2007976
Change-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/93/881793/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'unit_tests/test_charm.py']",2,12f985c84eb8f19c61b22988fe7e0f6d52ffee9b,bug/2007976," @patch(""charm.hooks"") def test_on_pre_commit(self, hooks): self.harness.charm.on.framework.on.pre_commit.emit() hooks.hookenv._run_atexit.assert_called()",,13,0
openstack%2Fvenus~master~Ic0ef39fa38f4a9e651384268e5245c6d9db4a646,openstack/venus,master,Ic0ef39fa38f4a9e651384268e5245c6d9db4a646,Supplement a unit test case for 'get_resources',ABANDONED,2023-05-24 07:03:32.000000000,2023-05-25 05:32:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 07:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/93c2fd9d206f49959c79e3d8d6e657dd7748a9fe', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 2, 'created': '2023-05-24 10:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/117c48ef6f11500781063bdde8c8d9d629db13ec', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 3, 'created': '2023-05-25 01:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/27a504fb4a54679e3879f7b2946bc2793395a98d', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 4, 'created': '2023-05-25 01:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/c239d0ed20cfab0193d304973d34ca118af0e395', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 5, 'created': '2023-05-25 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/42f6e8d6a6a32e67b85088cd65398f64f17b6431', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 6, 'created': '2023-05-25 02:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/6c922d548e8a2ac7b0693b722e443d476949e374', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 7, 'created': '2023-05-25 03:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/793e6e0e224106cea96ca300c740f04f4374dc50', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 8, 'created': '2023-05-25 03:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/7733b49f036ec17ed7b7c6eae181942a589db8cf', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}, {'number': 9, 'created': '2023-05-25 04:09:47.000000000', 'files': ['venus/tests/unit/api/test_extensions.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/071a4dd7a4d17176cbc7bd57977b109298b8ab9b', 'message': ""Supplement a unit test case for 'get_resources'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646\n""}]",9,883823,071a4dd7a4d17176cbc7bd57977b109298b8ab9b,24,1,9,34340,,,0,"Supplement a unit test case for 'get_resources'

the test case for api.extensions.ExtensionDescriptor

Change-Id: Ic0ef39fa38f4a9e651384268e5245c6d9db4a646
",git fetch https://review.opendev.org/openstack/venus refs/changes/23/883823/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_extensions.py'],1,93c2fd9d206f49959c79e3d8d6e657dd7748a9fe,,"from unittest import mock @mock.patch('venus.api.common.ExtensionDescriptor.get_resources') def test_get_resources(self, mock_get_resources): mock_get_resources.return_value = 'flog-2023-05-24' resources = self.extensions.ExtensionDescriptor.get_resources self.assertEqual(resources, []) ",,9,0
openstack%2Fironic~master~I697f13486c2e11cd04b4f381f3066eeb154ea2a3,openstack/ironic,master,I697f13486c2e11cd04b4f381f3066eeb154ea2a3,Remove unused get_not_versions from dbapi,MERGED,2023-05-23 18:22:21.000000000,2023-05-25 04:46:54.000000000,2023-05-25 04:43:49.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 18:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1540bfb9ed3e3550e117702de0df328366d35404', 'message': ""Remove unused get_not_vesions from dbapi\n\nThe get_not_version method was put in, but never used, the\nunderlying upgrade check code just explicitly passes the\nappropriate query arguments and doesn't use the helper.\n\nWhy now? Because it used model_query.\n\nChange-Id: I697f13486c2e11cd04b4f381f3066eeb154ea2a3\n""}, {'number': 2, 'created': '2023-05-23 21:38:05.000000000', 'files': ['ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_api.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/eaf26c7c68be6852e022c89ea6d1efa743b2cb60', 'message': ""Remove unused get_not_versions from dbapi\n\nThe get_not_version method was put in, but never used, the\nunderlying upgrade check code just explicitly passes the\nappropriate query arguments and doesn't use the helper.\n\nWhy now? Because it used model_query.\n\nChange-Id: I697f13486c2e11cd04b4f381f3066eeb154ea2a3\n""}]",1,883969,eaf26c7c68be6852e022c89ea6d1efa743b2cb60,16,3,2,11655,,,0,"Remove unused get_not_versions from dbapi

The get_not_version method was put in, but never used, the
underlying upgrade check code just explicitly passes the
appropriate query arguments and doesn't use the helper.

Why now? Because it used model_query.

Change-Id: I697f13486c2e11cd04b4f381f3066eeb154ea2a3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/883969/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_api.py', 'ironic/db/api.py']",3,1540bfb9ed3e3550e117702de0df328366d35404,,," def get_not_versions(self, model_name, versions): """"""Returns objects with versions that are not the specified versions. :param model_name: the name of the model (class) of desired objects :param versions: list of versions of objects not to be returned :returns: list of the DB objects :raises: IronicException if there is no class associated with the name """""" @abc.abstractmethod",0,75
openstack%2Fironic~master~I792f8d3069959e6801a40d18b3cba258c46fc5ef,openstack/ironic,master,I792f8d3069959e6801a40d18b3cba258c46fc5ef,Remove model_query use from general dbapi calls,MERGED,2023-05-23 18:22:21.000000000,2023-05-25 04:45:40.000000000,2023-05-25 04:43:46.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 18:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34225db24caed631443d8066ccb000bf1d9c9b09', 'message': 'Remove model_query use from general dbapi calls\n\nRemoving model_query usage as it returns an object which\ndoes not get cleaned up and release any held transactions\nuntil it is garbage collected.... which is likely okay for\nmost, but not okay with newer python and our support of\nsqlite.\n\nChange-Id: I792f8d3069959e6801a40d18b3cba258c46fc5ef\n'}, {'number': 2, 'created': '2023-05-23 21:38:05.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea68a4a79a90c5a6c8e3d1a9fd5192372a450d3d', 'message': 'Remove model_query use from general dbapi calls\n\nRemoving model_query usage as it returns an object which\ndoes not get cleaned up and release any held transactions\nuntil it is garbage collected.... which is likely okay for\nmost, but not okay with newer python and our support of\nsqlite.\n\nChange-Id: I792f8d3069959e6801a40d18b3cba258c46fc5ef\n'}]",3,883968,ea68a4a79a90c5a6c8e3d1a9fd5192372a450d3d,21,3,2,11655,,,0,"Remove model_query use from general dbapi calls

Removing model_query usage as it returns an object which
does not get cleaned up and release any held transactions
until it is garbage collected.... which is likely okay for
most, but not okay with newer python and our support of
sqlite.

Change-Id: I792f8d3069959e6801a40d18b3cba258c46fc5ef
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/883968/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,34225db24caed631443d8066ccb000bf1d9c9b09,," WARNING: DO NOT USE, unless you know exactly what your doing AND are okay with a transaction possibly hanging. try: with _session_for_read() as session: query = session.queryquery(models.Port).filter_by(id=port_id) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Port).filter_by(uuid=port_uuid) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Port).filter_by(address=address) if owner: query = add_port_filter_by_node_owner(query, owner) elif project: query = add_port_filter_by_node_project(query, project) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Port).filter_by(name=port_name) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Portgroup).filter_by( id=portgroup_id) if project: query = add_portgroup_filter_by_node_project(query, project) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Portgroup).filter_by( uuid=portgroup_uuid) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Portgroup).filter_by( address=address) if project: query = add_portgroup_filter_by_node_project(query, project) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.Portgroup).filter_by(name=name) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.VolumeConnector).filter_by( id=db_id) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.VolumeConnector).filter_by( uuid=connector_uuid) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.VolumeTarget).where( models.VolumeTarget.id == db_id) res = query.one() return res try: with _session_for_read() as session: query = session.query(models.VolumeTarget).filter_by( uuid=uuid) res = query.one() return res with _session_for_read() as session: query = session.query(models.DeployTemplate).options( selectinload(models.DeployTemplate.steps)) try: with _session_for_read() as session: query = session.query(models.NodeHistory).filter_by( id=history_id) res = query.one() try: with _session_for_read() as session: query = session.query(models.NodeHistory).filter_by( uuid=history_uuid) res = query.one() return res with _session_for_read() as session: query = session.query(models.NodeHistory) query = query.where(models.NodeHistory.node_id == node_id) try: with _session_for_read() as session: query = session.query(models.NodeInventory).filter_by( node_id=node_id) res = query.one() return res"," query = model_query(models.Port).filter_by(id=port_id) try: return query.one() query = model_query(models.Port).filter_by(uuid=port_uuid) try: return query.one() query = model_query(models.Port).filter_by(address=address) if owner: query = add_port_filter_by_node_owner(query, owner) elif project: query = add_port_filter_by_node_project(query, project) try: return query.one() query = model_query(models.Port).filter_by(name=port_name) try: return query.one() query = model_query(models.Portgroup).filter_by(id=portgroup_id) if project: query = add_portgroup_filter_by_node_project(query, project) try: return query.one() query = model_query(models.Portgroup).filter_by(uuid=portgroup_uuid) try: return query.one() query = model_query(models.Portgroup).filter_by(address=address) if project: query = add_portgroup_filter_by_node_project(query, project) try: return query.one() query = model_query(models.Portgroup).filter_by(name=name) try: return query.one() query = model_query(models.VolumeConnector).filter_by(id=db_id) try: return query.one() query = model_query(models.VolumeConnector).filter_by( uuid=connector_uuid) try: return query.one() query = model_query(models.VolumeTarget).where( models.VolumeTarget.id == db_id) try: return query.one() query = model_query(models.VolumeTarget).filter_by(uuid=uuid) try: return query.one() query = model_query(models.DeployTemplate).options( selectinload(models.DeployTemplate.steps)) query = model_query(models.NodeHistory).filter_by(id=history_id) try: res = query.one() query = model_query(models.NodeHistory).filter_by(uuid=history_uuid) try: return query.one() query = model_query(models.NodeHistory) query = query.where(models.NodeHistory.node_id == node_id) query = model_query(models.NodeInventory).filter_by(node_id=node_id) try: return query.one()",88,44
openstack%2Fswift~master~Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2,openstack/swift,master,Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2,Pass db_state to container-update and async_pending,NEW,2023-03-08 01:35:10.000000000,2023-05-25 04:44:05.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-03-08 01:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c5f4d3ea5e5293ecb418efbcb053aaecdc1a86c', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}, {'number': 2, 'created': '2023-04-13 06:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9eae3e87dd62c84020a56cfeba9476258186ccd4', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}, {'number': 3, 'created': '2023-04-14 04:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e791c4f8a6ef044cfbb35bea95af0003eb0c210', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}, {'number': 4, 'created': '2023-05-19 03:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac80aa9e348ccbb28b0168f05710b3a95bc4fbb6', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}, {'number': 5, 'created': '2023-05-24 05:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f16c835743d9cbc1cbaed314bcc26eca590f56a', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}, {'number': 6, 'created': '2023-05-24 07:14:09.000000000', 'files': ['swift/obj/server.py', 'test/unit/proxy/test_server.py', 'test/unit/obj/test_server.py', 'test/probe/test_sharder.py', 'swift/proxy/controllers/obj.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1921f20f67401b06ef79e5e88186942aee329cb7', 'message': 'Pass db_state to container-update and async_pending\n\nWhen the proxy passes the container-update headers to the object server\nnow include the db_state, which it already had in hand. This will be\nwritten to async_pending and allow the object-updater to know more about\na container rather then just relying on container_path attribute.\n\nThis is a stepping stone patch, from here the object-updater can become\nsmarter.\n\nChange-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2\n'}]",38,876811,1921f20f67401b06ef79e5e88186942aee329cb7,25,3,6,7233,,,0,"Pass db_state to container-update and async_pending

When the proxy passes the container-update headers to the object server
now include the db_state, which it already had in hand. This will be
written to async_pending and allow the object-updater to know more about
a container rather then just relying on container_path attribute.

This is a stepping stone patch, from here the object-updater can become
smarter.

Change-Id: Ie665e5c656c7fb27b45ee7427fe4b07ad466e3e2
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/876811/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/proxy/controllers/obj.py']",2,0c5f4d3ea5e5293ecb418efbcb053aaecdc1a86c,db_state_in_async," return partition, nodes, db_state, shard_range.name return (container_info['partition'], container_info['nodes'], db_state, None) container_partition, container_nodes, db_state, container_path = \ db_state, container_path=container_path) delete_at_nodes=None, db_state=None, container_path=None): headers[index]['X-Container-Db-State'] = db_state container_partition, container_nodes, db_state, container_path = \ db_state, container_path=container_path) container_partition, container_nodes, db_state, container_path = \ db_state, container_path=container_path)"," return partition, nodes, shard_range.name return container_info['partition'], container_info['nodes'], None container_partition, container_nodes, container_path = \ container_path=container_path) delete_at_nodes=None, container_path=None): container_partition, container_nodes, container_path = \ container_path=container_path) container_partition, container_nodes, container_path = \ container_path=container_path)",19,12
openstack%2Fopenstack-helm-images~master~I83aa01961de812c79c77f8a9444d57a82a706cc0,openstack/openstack-helm-images,master,I83aa01961de812c79c77f8a9444d57a82a706cc0,Enable yoga build image jobs,MERGED,2023-05-24 13:19:52.000000000,2023-05-25 04:07:23.000000000,2023-05-25 04:03:23.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-05-24 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f4be036a6d46fb3b7c1727bbb10871bc7a97a92c', 'message': 'Enable yoga build image jobs\n\nChange-Id: I83aa01961de812c79c77f8a9444d57a82a706cc0\n'}, {'number': 2, 'created': '2023-05-24 13:25:29.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3df8af6ddef8de0db136fcae1508392f7dc514e3', 'message': 'Enable yoga build image jobs\n\nChange-Id: I83aa01961de812c79c77f8a9444d57a82a706cc0\n'}]",1,884200,3df8af6ddef8de0db136fcae1508392f7dc514e3,10,3,2,3009,,,0,"Enable yoga build image jobs

Change-Id: I83aa01961de812c79c77f8a9444d57a82a706cc0
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/00/884200/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,f4be036a6d46fb3b7c1727bbb10871bc7a97a92c,, - openstack-helm-images-build-openstack-loci-yoga-ubuntu_focal - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_focal - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_focal: dependencies: - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal - name: openstack-helm-images-cinder-yoga-ubuntu_focal," # NOTE(gagehugo): Fix Y, then uncomment #- openstack-helm-images-build-openstack-loci-yoga-ubuntu_focal # - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal # - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_focal # - openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal # - openstack-helm-images-promote-openstack-loci-yoga-ubuntu_focal: # dependencies: # TODO(gagehugo): Fix osh job and uncomment here # - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal # - name: openstack-helm-images-cinder-yoga-ubuntu_focal",18,21
openstack%2Fceilometer-powervm~master~I5a7e884535415d6e65ea168544acc7152267182c,openstack/ceilometer-powervm,master,I5a7e884535415d6e65ea168544acc7152267182c,setup.cfg: Replace dashes with underscores,ABANDONED,2023-05-25 03:06:48.000000000,2023-05-25 03:23:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 03:06:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/773ec3f3c8f5e6ece21477da97892e854aa7ffd0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5a7e884535415d6e65ea168544acc7152267182c\n""}]",0,883828,773ec3f3c8f5e6ece21477da97892e854aa7ffd0,3,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5a7e884535415d6e65ea168544acc7152267182c
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/28/883828/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,773ec3f3c8f5e6ece21477da97892e854aa7ffd0,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = http://ceilometer-powervm.readthedocs.io/en/latest,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = http://ceilometer-powervm.readthedocs.io/en/latest,3,3
openstack%2Fopenstack-helm~master~Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a,openstack/openstack-helm,master,Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a,title: Update get_notification_transport,MERGED,2023-05-23 15:41:28.000000000,2023-05-25 03:14:57.000000000,2023-05-25 03:13:37.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 35655}]","[{'number': 1, 'created': '2023-05-23 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09b8c602e6624275d5afd0757e5bbc6f8ee8fb9c', 'message': ""title: Update get_notification_transport\n\nIf the transport_url of nova's oslo messaging notification and the default transport_url value are different, timeout occurs when oslo_messaging.RPCClient.call is executed because of the part written in oslo_messaging.get_notification_transport.\nThis change moves the health prove to use get_rpc_transport instead.\n\nstory: 2010766\ntask: 48074\nChange-Id: Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a\n""}, {'number': 2, 'created': '2023-05-23 22:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0d018481b7be14f41dce264146e39482caec2e8', 'message': ""title: Update get_notification_transport\n\nIf the transport_url of nova's oslo messaging notification and the default transport_url value are different, timeout occurs when oslo_messaging.RPCClient.call is executed because of the part written in oslo_messaging.get_notification_transport.\nThis change moves the health prove to use get_rpc_transport instead.\n\nstory: 2010766\ntask: 48074\nChange-Id: Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a\n""}, {'number': 3, 'created': '2023-05-24 03:26:09.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6cbbf38a9e1a98bf4ad8a22512fe103a1550a2b', 'message': ""title: Update get_notification_transport\n\nIf the transport_url of nova's oslo messaging notification and the default transport_url value are different, timeout occurs when oslo_messaging.RPCClient.call is executed because of the part written in oslo_messaging.get_notification_transport.\nThis change moves the health probe to use get_rpc_transport instead.\n\nstory: 2010766\ntask: 48074\nChange-Id: Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a\n""}]",3,883817,b6cbbf38a9e1a98bf4ad8a22512fe103a1550a2b,17,4,3,35655,,,0,"title: Update get_notification_transport

If the transport_url of nova's oslo messaging notification and the default transport_url value are different, timeout occurs when oslo_messaging.RPCClient.call is executed because of the part written in oslo_messaging.get_notification_transport.
This change moves the health probe to use get_rpc_transport instead.

story: 2010766
task: 48074
Change-Id: Ia6a2b9ce500e8806f76882b28f4d9cca440b6e1a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/883817/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_health-probe.py.tpl'],1,09b8c602e6624275d5afd0757e5bbc6f8ee8fb9c,, transport = oslo_messaging.get_rpc_transport(cfg.CONF), transport = oslo_messaging.get_notification_transport(cfg.CONF),1,1
openstack%2Fos-brick~master~I7d5d6dfb9cfb35180350e5ec757159bad13dea85,openstack/os-brick,master,I7d5d6dfb9cfb35180350e5ec757159bad13dea85,iSCSI: Improve _get_discoverydb_portals,NEW,2023-05-23 16:22:19.000000000,2023-05-25 03:13:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-23 16:22:19.000000000', 'files': ['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f724ab722a744478679728a27a7c3fea56c9586f', 'message': ""iSCSI: Improve _get_discoverydb_portals\n\nThe _get_discoverydb_portals method doesn't support the case where there\nare no not targets in the discovery db and it results in an exception\nbeing raised instead of returning the expected information.\n\nThis patch adds exit code 21 to the allowed exit codes of the call to\niscsiadm on discoverydb mode.\n\nThe actual stdout on exit code 21 is:\n\n  SENDTARGETS:\n  No targets found.\n  iSNS:\n  No targets found.\n  STATIC:\n  No targets found.\n  FIRMWARE:\n  No targets found.\n\nRelated-Bug: #2004555\nChange-Id: I7d5d6dfb9cfb35180350e5ec757159bad13dea85\n""}]",0,883951,f724ab722a744478679728a27a7c3fea56c9586f,9,1,1,9535,,,0,"iSCSI: Improve _get_discoverydb_portals

The _get_discoverydb_portals method doesn't support the case where there
are no not targets in the discovery db and it results in an exception
being raised instead of returning the expected information.

This patch adds exit code 21 to the allowed exit codes of the call to
iscsiadm on discoverydb mode.

The actual stdout on exit code 21 is:

  SENDTARGETS:
  No targets found.
  iSNS:
  No targets found.
  STATIC:
  No targets found.
  FIRMWARE:
  No targets found.

Related-Bug: #2004555
Change-Id: I7d5d6dfb9cfb35180350e5ec757159bad13dea85
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/51/883951/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/initiator/connectors/iscsi.py']",2,f724ab722a744478679728a27a7c3fea56c9586f,leak-prevention," '-P', 1], check_exit_code=(0, 21))[0] or """""," '-P', 1])[0] or """"",30,4
openstack%2Fopenstack-helm-infra~master~I46200b7dc173bd0e1e6bf3545d9a26c252a21927,openstack/openstack-helm-infra,master,I46200b7dc173bd0e1e6bf3545d9a26c252a21927,[osh-selenium] Upgrade image to latest-ubuntu_focal,MERGED,2023-05-23 07:54:59.000000000,2023-05-25 02:51:21.000000000,2023-05-25 02:48:48.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 07:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98dceb09e5f2b32eccfd1a1bbf12dd8f887ada13', 'message': '[osh-selenium] Upgrade image to latest-ubuntu_focal\n\n+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):\nhttps://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/\n\nChange-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927\n'}, {'number': 2, 'created': '2023-05-23 10:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0747692690f3134c277ce55d111429c966ad0ca', 'message': '[osh-selenium] Upgrade image to latest-ubuntu_focal\n\n+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):\n  https://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/\n+ amend selenium role in order to install ChromeDriver compatible with Google Chrome:\n  https://chromedriver.chromium.org/downloads/version-selection\n\nChange-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927\n'}, {'number': 3, 'created': '2023-05-23 10:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98bdc6cc3ef0d7c34b567752e5259272cc63f985', 'message': '[osh-selenium] Upgrade image to latest-ubuntu_focal\n\n+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):\nhttps://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/\n+ amend selenium role in order to install ChromeDriver compatible with Google Chrome:\nhttps://chromedriver.chromium.org/downloads/version-selection\n\nChange-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927\n'}, {'number': 4, 'created': '2023-05-23 11:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5794cfda0609fd5a9c6c952f685457ee1fcf7227', 'message': '[osh-selenium] Upgrade image to latest-ubuntu_focal\n\n+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):\nhttps://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/\n+ amend selenium role in order to install ChromeDriver compatible with Google Chrome:\nhttps://chromedriver.chromium.org/downloads/version-selection\n\nChange-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927\n'}, {'number': 5, 'created': '2023-05-23 15:10:13.000000000', 'files': ['nagios/Chart.yaml', 'grafana/values.yaml', 'nagios/values.yaml', 'releasenotes/notes/grafana.yaml', 'releasenotes/notes/nagios.yaml', 'roles/deploy-selenium/tasks/main.yaml', 'tools/gate/selenium/grafanaSelenium.py', 'nagios/templates/bin/_selenium-tests.py.tpl', 'grafana/Chart.yaml', 'tools/gate/selenium/seleniumtester.py', 'grafana/templates/bin/_selenium-tests.py.tpl', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92d16f3a29c0c1b22c1be28929f0713c2623ce27', 'message': '[osh-selenium] Upgrade image to latest-ubuntu_focal\n\n+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):\nhttps://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/\n+ amend selenium role in order to install ChromeDriver compatible with Google Chrome:\nhttps://chromedriver.chromium.org/downloads/version-selection\n+ run selenium tests AFTER the charts are deployed\n\nChange-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927\n'}]",3,883894,92d16f3a29c0c1b22c1be28929f0713c2623ce27,19,3,5,32204,,,0,"[osh-selenium] Upgrade image to latest-ubuntu_focal

+ migrate all Python tests to use Selenium v4 (bionic image had v3 installed):
https://www.selenium.dev/documentation/webdriver/getting_started/upgrade_to_selenium_4/
+ amend selenium role in order to install ChromeDriver compatible with Google Chrome:
https://chromedriver.chromium.org/downloads/version-selection
+ run selenium tests AFTER the charts are deployed

Change-Id: I46200b7dc173bd0e1e6bf3545d9a26c252a21927
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/883894/2 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/Chart.yaml', 'grafana/values.yaml', 'nagios/templates/bin/_selenium-tests.py.tpl', 'nagios/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/Chart.yaml', 'tools/gate/selenium/seleniumtester.py', 'grafana/templates/bin/_selenium-tests.py.tpl', 'releasenotes/notes/nagios.yaml', 'tools/gate/selenium/grafanaSelenium.py']",10,98dceb09e5f2b32eccfd1a1bbf12dd8f887ada13,,"grafana_url = 'http://{0}'.format(grafana_uri) st.browser.get(grafana_url)st.logger.info(""Attempting to log into Grafana dashboard"") try: st.browser.find_element(By.NAME, 'user').send_keys(username) st.browser.find_element(By.NAME, 'password').send_keys(password) st.browser.find_element(By.CLASS_NAME, 'css-1mhnkuh').click() st.logger.info(""Successfully logged in to Grafana"") except NoSuchElementException: st.logger.error(""Failed to log in to Grafana"") st.browser.quit()"," st.browser.get(grafana_uri)logger.info(""Attempting to log into Grafana dashboard"") try: browser.find_element_by_name('user').send_keys(username) browser.find_element_by_name('password').send_keys(password) browser.find_element_by_class_name('css-6ntnx5-button').click() logger.info(""Successfully logged in to Grafana"") except NoSuchElementException: logger.error(""Failed to log in to Grafana"") browser.quit()",28,19
openstack%2Ftripleo-ci~master~I586b2f93e99e2d8e6ae58e90e478933ae7b6f84c,openstack/tripleo-ci,master,I586b2f93e99e2d8e6ae58e90e478933ae7b6f84c,Remove override checkout from os_tempest,ABANDONED,2023-05-24 07:10:31.000000000,2023-05-25 02:44:17.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 07:10:31.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c401e08ac66958e7919794b4df22a70cb001689', 'message': 'Remove override checkout from os_tempest\n\n`openstack-ansible-os_tempest` repo have branches, we should\nnot hardcode master branch pulling by adding override-checkout.\n\nThis is causing issue as we are pulling master branch of\n`openstack-ansible-os_tempest` even in train/wallaby jobs.\n\n[1] https://opendev.org/openstack/openstack-ansible-os_tempest\n\nCloses-Bug: #2020618\nChange-Id: I586b2f93e99e2d8e6ae58e90e478933ae7b6f84c\n'}]",4,884000,2c401e08ac66958e7919794b4df22a70cb001689,7,2,1,29775,,,0,"Remove override checkout from os_tempest

`openstack-ansible-os_tempest` repo have branches, we should
not hardcode master branch pulling by adding override-checkout.

This is causing issue as we are pulling master branch of
`openstack-ansible-os_tempest` even in train/wallaby jobs.

[1] https://opendev.org/openstack/openstack-ansible-os_tempest

Closes-Bug: #2020618
Change-Id: I586b2f93e99e2d8e6ae58e90e478933ae7b6f84c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/00/884000/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,2c401e08ac66958e7919794b4df22a70cb001689,bug/2020618, - opendev.org/openstack/openstack-ansible-os_tempest, - name: opendev.org/openstack/openstack-ansible-os_tempest override-checkout: master,1,2
openstack%2Ftripleo-quickstart~master~I4bf5f85abb5c96a02f90ce20252f68947ee47c29,openstack/tripleo-quickstart,master,I4bf5f85abb5c96a02f90ce20252f68947ee47c29,Refactor ansible role installation code,ABANDONED,2023-05-24 12:59:46.000000000,2023-05-25 02:44:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 12:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7060c65638d6e1cedfc83921d2ecd4ac6f5f2ead', 'message': 'Refactor ansible role installation code\n\nCurrently, we install from local cloned repo openstack-ansible-os_tempest\nto /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\nand from ansible-role-requirements.yml to\n/home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest.\n\nWe should not reinstall role if already install from local repo.\n\nWith this patch, The code has been refactored to use a loop to check for\nlocally available roles before installing them. If the corresponding\nrole directory exists, the role is installed from the local directory\nusing the ansible-galaxy command.\n\nIf none of the locally available roles are found, the roles are installed\nfrom the ansible-role-requirements.yml file.\n\n[1] https://logserver.rdoproject.org/37/28537/83/check/periodic-tripleo-ci-centos-8-standalone-clients-train/c589d2f/job-output.txt\n~~~\n2023-05-24 07:28:40.030673 | primary | - extracting openstack-ansible-os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\n~~~\n\n~~~\n2023-05-24 07:28:45.721180 | primary | - extracting os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest\n~~~\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/884000\nChange-Id: I4bf5f85abb5c96a02f90ce20252f68947ee47c29\n'}, {'number': 2, 'created': '2023-05-24 14:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c5652624ab30638639fc157520b470c7ef14cda2', 'message': 'Refactor ansible role installation code\n\nCurrently, we install from local cloned repo openstack-ansible-os_tempest\nto /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\nand from ansible-role-requirements.yml to\n/home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest.\n\nWe should not reinstall role if already install from local repo.\n\nWith this patch, The code has been refactored to use a loop to check for\nlocally available roles before installing them. If the corresponding\nrole directory exists, the role is installed from the local directory\nusing the ansible-galaxy command.\n\nIf none of the locally available roles are found, the roles are installed\nfrom the ansible-role-requirements.yml file.\n\n[1] https://logserver.rdoproject.org/37/28537/83/check/periodic-tripleo-ci-centos-8-standalone-clients-train/c589d2f/job-output.txt\n~~~\n2023-05-24 07:28:40.030673 | primary | - extracting openstack-ansible-os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\n~~~\n\n~~~\n2023-05-24 07:28:45.721180 | primary | - extracting os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest\n~~~\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/884000\nChange-Id: I4bf5f85abb5c96a02f90ce20252f68947ee47c29\n'}, {'number': 3, 'created': '2023-05-24 15:04:30.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/612286d5d244866c1c7981f0a1f6155fab4721b5', 'message': 'Refactor ansible role installation code\n\nCurrently, we install from local cloned repo openstack-ansible-os_tempest\nto /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\nand from ansible-role-requirements.yml to\n/home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest.\n\nWe should not reinstall role if already install from local repo.\n\nWith this patch, The code has been refactored to use a loop to check for\nlocally available roles before installing them. If the corresponding\nrole directory exists, the role is installed from the local directory\nusing the ansible-galaxy command.\n\nIf none of the locally available roles are found, the roles are installed\nfrom the ansible-role-requirements.yml file.\n\n[1] https://logserver.rdoproject.org/37/28537/83/check/periodic-tripleo-ci-centos-8-standalone-clients-train/c589d2f/job-output.txt\n~~~\n2023-05-24 07:28:40.030673 | primary | - extracting openstack-ansible-os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest\n~~~\n\n~~~\n2023-05-24 07:28:45.721180 | primary | - extracting os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest\n~~~\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/884000\nChange-Id: I4bf5f85abb5c96a02f90ce20252f68947ee47c29\n'}]",1,884199,612286d5d244866c1c7981f0a1f6155fab4721b5,6,1,3,29775,,,0,"Refactor ansible role installation code

Currently, we install from local cloned repo openstack-ansible-os_tempest
to /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest
and from ansible-role-requirements.yml to
/home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest.

We should not reinstall role if already install from local repo.

With this patch, The code has been refactored to use a loop to check for
locally available roles before installing them. If the corresponding
role directory exists, the role is installed from the local directory
using the ansible-galaxy command.

If none of the locally available roles are found, the roles are installed
from the ansible-role-requirements.yml file.

[1] https://logserver.rdoproject.org/37/28537/83/check/periodic-tripleo-ci-centos-8-standalone-clients-train/c589d2f/job-output.txt
~~~
2023-05-24 07:28:40.030673 | primary | - extracting openstack-ansible-os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/openstack-ansible-os_tempest
~~~

~~~
2023-05-24 07:28:45.721180 | primary | - extracting os_tempest to /home/zuul/workspace/.quickstart/share/ansible/roles/os_tempest
~~~

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/884000
Change-Id: I4bf5f85abb5c96a02f90ce20252f68947ee47c29
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/884199/3 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,7060c65638d6e1cedfc83921d2ecd4ac6f5f2ead,bug/2020618,"install_ansible_role_from_local(){ local role_directory_path=""$1"" local OS_INSTALLED_ROLE=""$2"" if [[ -d $role_directory_path ]]; then retry 10 ansible-galaxy role install -vvv --force \ git+file://$role_directory_path,,$OS_INSTALLED_ROLE \ -p $VIRTUAL_ENV/share/ansible/roles fi } install_ansible_role_from_local ~/src/opendev.org/openstack/openstack-ansible-os_tempest os_tempest install_ansible_role_from_local ~/src/opendev.org/openstack/ansible-role-python_venv_build python_venv_build if [[ ! -d $HOME/src/opendev.org/openstack/openstack-ansible-os_tempest && ! -d HOME/src/opendev.org/openstack/ansible-role-python_venv_build ]]; then retry 10 ansible-galaxy role install -vvv \ -r ansible-role-requirements.yml \ -p $VIRTUAL_ENV/share/ansible/roles fi"," OS_ROLES=""openstack-ansible-os_tempest ansible-role-python_venv_build"" for ROLE_REPO in $OS_ROLES; do if [[ -d ~/src/opendev.org/openstack/$ROLE_REPO ]]; then retry 10 ansible-galaxy role install -vvv --force \ git+file://$HOME/src/opendev.org/openstack/$ROLE_REPO \ -p $VIRTUAL_ENV/share/ansible/roles fi done retry 10 ansible-galaxy role install -vvv \ -r ansible-role-requirements.yml \ -p $VIRTUAL_ENV/share/ansible/roles",19,11
openstack%2Fdevstack~master~I4a076fb0e7722ae29077252234675b7d0c27ab2d,openstack/devstack,master,I4a076fb0e7722ae29077252234675b7d0c27ab2d,DNM Create flavors with disk encryption when enabled,NEW,2022-11-10 04:26:35.000000000,2023-05-25 02:26:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-10 04:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/882fa2e35eba4b280bd9a1e9c590e6cb6fe071fd', 'message': 'DNM Create flavors with disk encryption when enabled\n\nChange-Id: I4a076fb0e7722ae29077252234675b7d0c27ab2d\n'}, {'number': 2, 'created': '2022-11-10 05:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ebdf843dd60a4f227f19353e6b73e493b1162837', 'message': 'DNM Create flavors with disk encryption when enabled\n\nChange-Id: I4a076fb0e7722ae29077252234675b7d0c27ab2d\n'}, {'number': 3, 'created': '2023-04-04 03:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a6fe0421ad9d2b77a3df6af7de23e8c19098123', 'message': 'DNM Create flavors with disk encryption when enabled\n\nChange-Id: I4a076fb0e7722ae29077252234675b7d0c27ab2d\n'}, {'number': 4, 'created': '2023-05-25 00:24:43.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eaeb039b001f6366a73bdb207a3bd384e8787aa', 'message': 'DNM Create flavors with disk encryption when enabled\n\nChange-Id: I4a076fb0e7722ae29077252234675b7d0c27ab2d\n'}]",0,864160,7eaeb039b001f6366a73bdb207a3bd384e8787aa,7,1,4,4690,,,0,"DNM Create flavors with disk encryption when enabled

Change-Id: I4a076fb0e7722ae29077252234675b7d0c27ab2d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/60/864160/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,882fa2e35eba4b280bd9a1e9c590e6cb6fe071fd,specs/yoga/approved/ephemeral-encryption-libvirt,"# Whether to encrypt disks NOVA_USE_DISK_ENCRYPTION=$(trueorfalse False NOVA_USE_DISK_ENCRYPTION) if [ ""$NOVA_USE_DISK_ENCRYPTION"" == ""True"" ]; then openstack --os-region-name=""$REGION_NAME"" flavor create --id 6 --ram 512 --disk 1 --vcpus 1 \ --property hw_rng:allowed=True --property hw:ephemeral_encryption=True --property hw:ephemeral_encryption_format=True m1.tiny.encrypt openstack --os-region-name=""$REGION_NAME"" flavor create --id 7 --ram 2048 --disk 20 --vcpus 1 \ --property hw_rng:allowed=True --property hw:ephemeral_encryption=True --property hw:ephemeral_encryption_format=True m1.small.encrypt fi",,10,0
openstack%2Fironic~master~I22c8aae89d24d3ff330f10f1e0d43461fd6e52d4,openstack/ironic,master,I22c8aae89d24d3ff330f10f1e0d43461fd6e52d4,follow-up on DPU change api-ref,MERGED,2023-05-24 22:28:55.000000000,2023-05-25 01:59:41.000000000,2023-05-25 01:58:35.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 22:28:55.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aeb01a075e9b8a767f18d61d2aac9a95e829ff85', 'message': 'follow-up on DPU change api-ref\n\nChange-Id: I22c8aae89d24d3ff330f10f1e0d43461fd6e52d4\n'}]",1,884301,aeb01a075e9b8a767f18d61d2aac9a95e829ff85,7,2,1,11655,,,0,"follow-up on DPU change api-ref

Change-Id: I22c8aae89d24d3ff330f10f1e0d43461fd6e52d4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/884301/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,aeb01a075e9b8a767f18d61d2aac9a95e829ff85,," Whether to show child nodes in the node list, which are normally hidden. An optional UUID which can be used to denote the ""parent"" baremetal node."," Wheter to show child nodes in the node list, which are normally hidden. A UUID representing a node which is a parent_node to the present node. If populated, the node will disappear from the normal node list, as it is *not* intended for *normal* usage directly.",3,4
openstack%2Fcharm-magnum~master~I665fde349a333a59b05af3957a08c9af0e65e29c,openstack/charm-magnum,master,I665fde349a333a59b05af3957a08c9af0e65e29c,Set api host to magnum_api.ip,NEW,2022-01-11 20:04:44.000000000,2023-05-25 01:34:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 20:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/11c31c95089a26f8211e38956c920fbde6776b96', 'message': 'Set api host to magnum_api.ip\n\n  This is needed in order to be in accordance\n  with haproxy config.\n\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\nChange-Id: I665fde349a333a59b05af3957a08c9af0e65e29c\n'}, {'number': 2, 'created': '2022-01-11 22:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/5278e579bfe33f1fa9ce9804f3c8bb3e287f02e6', 'message': 'Set api host to magnum_api.ip\n\n  This is needed in order to be in accordance\n  with haproxy config.\n\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\nCloses-Bug: #1957118\nChange-Id: I665fde349a333a59b05af3957a08c9af0e65e29c\n'}, {'number': 3, 'created': '2023-05-25 00:50:52.000000000', 'files': ['src/templates/ussuri/magnum.conf'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/f0b850cdd51ed42e0d62e35a9417918949bb53ea', 'message': 'Set api host to magnum_api.ip\n\n  This is needed in order to be in accordance\n  with haproxy config.\n\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\nCloses-Bug: #1957118\nChange-Id: I665fde349a333a59b05af3957a08c9af0e65e29c\n'}]",3,824228,f0b850cdd51ed42e0d62e35a9417918949bb53ea,15,2,3,29260,,,0,"Set api host to magnum_api.ip

  This is needed in order to be in accordance
  with haproxy config.

Signed-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>
Closes-Bug: #1957118
Change-Id: I665fde349a333a59b05af3957a08c9af0e65e29c
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/28/824228/2 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/ussuri/magnum.conf'],1,11c31c95089a26f8211e38956c920fbde6776b96,set-api-host,host = {{ options.service_listen_info.magnum_api.ip }},,1,0
openstack%2Fdevstack~master~Idde6f3cb766597575ca822f21b4bb3a465e5e753,openstack/devstack,master,Idde6f3cb766597575ca822f21b4bb3a465e5e753,Enable GLANCE_ENFORCE_SCOPE to True by default,MERGED,2023-05-19 01:01:59.000000000,2023-05-25 01:30:43.000000000,2023-05-25 01:29:42.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-19 01:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0bbfd43fa6ef774f7a307fa5b84a9c955963d81', 'message': 'Enable GLANCE_ENFORCE_SCOPE to True by default\n\nGlance antelope release has enabled the RBAC new defaults\nby default\n- https://review.opendev.org/c/openstack/glance/+/872522\n\nWith the latest release of Glance have new defaults enable,\nwe should test the same by default in devstack. This change\nmake GLANCE_ENFORCE_SCOPE flag to True by default so that every\njob will run with Glance new defaults.\n\nAs old defaults are still supported (in deprecated way), we will keep\nGLANCE_ENFORCE_SCOPE flag so that we can have a single job can disable\nthe new defaults and continue testing the old defaults.\n\nChange-Id: Idde6f3cb766597575ca822f21b4bb3a465e5e753\n'}, {'number': 2, 'created': '2023-05-19 19:24:25.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cb1ec1834de0b1eaddb02b7847b21d1d617efb6e', 'message': 'Enable GLANCE_ENFORCE_SCOPE to True by default\n\nGlance antelope release has enabled the RBAC new defaults\nby default\n- https://review.opendev.org/c/openstack/glance/+/872522\n\nWith the latest release of Glance have new defaults enable,\nwe should test the same by default in devstack. This change\nmake GLANCE_ENFORCE_SCOPE flag to True by default so that every\njob will run with Glance new defaults.\n\nAs old defaults are still supported (in deprecated way), we will keep\nGLANCE_ENFORCE_SCOPE flag so that we can have a single job can disable\nthe new defaults and continue testing the old defaults.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/883701\n\nChange-Id: Idde6f3cb766597575ca822f21b4bb3a465e5e753\n'}]",5,883601,cb1ec1834de0b1eaddb02b7847b21d1d617efb6e,21,4,2,8556,,,0,"Enable GLANCE_ENFORCE_SCOPE to True by default

Glance antelope release has enabled the RBAC new defaults
by default
- https://review.opendev.org/c/openstack/glance/+/872522

With the latest release of Glance have new defaults enable,
we should test the same by default in devstack. This change
make GLANCE_ENFORCE_SCOPE flag to True by default so that every
job will run with Glance new defaults.

As old defaults are still supported (in deprecated way), we will keep
GLANCE_ENFORCE_SCOPE flag so that we can have a single job can disable
the new defaults and continue testing the old defaults.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/883701

Change-Id: Idde6f3cb766597575ca822f21b4bb3a465e5e753
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/883601/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,f0bbfd43fa6ef774f7a307fa5b84a9c955963d81,secure-rbac,"# This is used to disable the Image API policies scope and new defaults. # By Default, it is True.GLANCE_ENFORCE_SCOPE=$(trueorfalse True GLANCE_ENFORCE_SCOPE)","# the Image API policies to start checking the scope of token. By Default, # this flag is False.GLANCE_ENFORCE_SCOPE=$(trueorfalse False GLANCE_ENFORCE_SCOPE)",3,3
openstack%2Fdesignate-tempest-plugin~master~I878ec208f1c0179b6a7e01e41553531a8259a665,openstack/designate-tempest-plugin,master,I878ec208f1c0179b6a7e01e41553531a8259a665,This patch removes the usage of DDT module from test_unauthed.py,MERGED,2023-04-19 09:49:57.000000000,2023-05-25 00:56:50.000000000,2023-05-25 00:55:59.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}, {'_account_id': 34067}]","[{'number': 1, 'created': '2023-04-19 09:49:57.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/unauthed_data.json', 'designate_tempest_plugin/tests/api/v2/test_unauthed.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d52cff86c4b8bdd7618ee9272940e80c864a322a', 'message': 'This patch removes the usage of DDT module from test_unauthed.py\n\nEach test is now will have its own idempotent_id.\n\nChange-Id: I878ec208f1c0179b6a7e01e41553531a8259a665\n'}]",4,880803,d52cff86c4b8bdd7618ee9272940e80c864a322a,11,7,1,28609,,,0,"This patch removes the usage of DDT module from test_unauthed.py

Each test is now will have its own idempotent_id.

Change-Id: I878ec208f1c0179b6a7e01e41553531a8259a665
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/03/880803/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/unauthed_data.json', 'designate_tempest_plugin/tests/api/v2/test_unauthed.py']",2,d52cff86c4b8bdd7618ee9272940e80c864a322a,unroll_ddt_test_unauthed," def _test_unauthed(self, client, method, args=None): @decorators.idempotent_id('b18827ac-de92-11ed-8334-201e8823901f') def test_list_zones(self): self._test_unauthed('zones_client', 'list_zones') @decorators.idempotent_id('f60c32ce-de92-11ed-8334-201e8823901f') def test_show_zone(self): self._test_unauthed( 'zones_client', 'show_zone', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('56e899c0-de93-11ed-8334-201e8823901f') def test_create_zone(self): self._test_unauthed( 'zones_client', 'create_zone', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('5765af6e-de93-11ed-8334-201e8823901f') def test_update_zone(self): self._test_unauthed( 'zones_client', 'update_zone', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('57b5cef4-de93-11ed-8334-201e8823901f') def test_delete_zone(self): self._test_unauthed( 'zones_client', 'delete_zone', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('05099b62-de94-11ed-8334-201e8823901f') def test_list_recordsets(self): self._test_unauthed( 'recordset_client', 'list_recordset', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('0573ca32-de94-11ed-8334-201e8823901f') def test_show_recordset(self): self._test_unauthed( 'recordset_client', 'show_recordset', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('05c0236e-de94-11ed-8334-201e8823901f') def test_create_recordset(self): self._test_unauthed( 'recordset_client', 'create_recordset', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('0600f628-de94-11ed-8334-201e8823901f') def test_update_recordset(self): self._test_unauthed( 'recordset_client', 'update_recordset', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", {}]) @decorators.idempotent_id('063c95b6-de94-11ed-8334-201e8823901f') def test_delete_recordset(self): self._test_unauthed( 'recordset_client', 'delete_recordset', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90"", ""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('ee9dae6c-de94-11ed-8334-201e8823901f') def test_list_tlds(self): self._test_unauthed('tld_client', 'list_tlds') @decorators.idempotent_id('eef1e5f4-de94-11ed-8334-201e8823901f') def test_show_tld(self): self._test_unauthed( 'tld_client', 'show_tld', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('ef3ae024-de94-11ed-8334-201e8823901f') def test_create_tld(self): self._test_unauthed( 'tld_client', 'create_tld', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('ef7cfda6-de94-11ed-8334-201e8823901f') def test_update_tld(self): self._test_unauthed( 'tld_client', 'update_tld', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('efb982e4-de94-11ed-8334-201e8823901f') def test_delete_tld(self): self._test_unauthed( 'tld_client', 'delete_tld', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('654e7596-de95-11ed-8334-201e8823901f') def test_list_blacklists(self): self._test_unauthed('blacklists_client', 'list_blacklists') @decorators.idempotent_id('658ea9cc-de95-11ed-8334-201e8823901f') def test_show_blacklist(self): self._test_unauthed( 'blacklists_client', 'show_blacklist', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('65cbc2ee-de95-11ed-8334-201e8823901f') def test_create_blacklist(self): self._test_unauthed( 'blacklists_client', 'create_blacklist', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('66032676-de95-11ed-8334-201e8823901f') def test_update_blacklist(self): self._test_unauthed( 'blacklists_client', 'update_blacklist', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('66321184-de95-11ed-8334-201e8823901f') def test_delete_blacklist(self): self._test_unauthed( 'blacklists_client', 'delete_blacklist', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('c7048d66-de95-11ed-8334-201e8823901f') def test_list_pools(self): self._test_unauthed('pool_client', 'list_pools') @decorators.idempotent_id('c74581cc-de95-11ed-8334-201e8823901f') def test_show_pool(self): self._test_unauthed( 'pool_client', 'show_pool', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('c77d62f4-de95-11ed-8334-201e8823901f') def test_create_pool(self): self._test_unauthed( 'pool_client', 'create_pool', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('c7ada040-de95-11ed-8334-201e8823901f') def test_update_pool(self): self._test_unauthed( 'pool_client', 'update_pool', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""]) @decorators.idempotent_id('c7e07682-de95-11ed-8334-201e8823901f') def test_delete_pool(self): self._test_unauthed( 'pool_client', 'delete_pool', [""6ef3b7f2-df39-43ef-9f37-ce2bc424ab90""])","import ddt@ddt.ddt @decorators.idempotent_id('0f7a6d20-f6f3-4937-8fe6-7a9851227d98') @ddt.file_data('unauthed_data.json') def test_unauthed(self, client, method, args=None):",147,132
openstack%2Foctavia~master~I7f150c2c1c3da706055aba5e02b5ad7c032806f1,openstack/octavia,master,I7f150c2c1c3da706055aba5e02b5ad7c032806f1,Avoid interface name collisions in the amphora,MERGED,2023-04-27 12:03:03.000000000,2023-05-25 00:18:21.000000000,2023-05-25 00:16:18.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-27 12:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b8dda513ee8a66857cb5b90ad4784a30406c9d2', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n'}, {'number': 2, 'created': '2023-04-27 15:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10bb635488c9478516e44026bbc7f64b3023933c', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n'}, {'number': 3, 'created': '2023-05-16 09:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed6b2263a77d0e1e401ee0a7a96e40fddee56f68', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n'}, {'number': 4, 'created': '2023-05-16 09:58:08.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n'}]",9,881719,c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2,24,3,4,29244,,,0,"Avoid interface name collisions in the amphora

After unpluging a network, the octavia-agent may try to plug a new
network to a new interface while another interface with the same name
already exists.

Closes-Bug: #2017894

Change-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/881719/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml']",3,1b8dda513ee8a66857cb5b90ad4784a30406c9d2,,--- fixes: - | Fixed a potential error when plugging a member from a new network after deleting another member and unplugging its network. Octavia may have tried to plug the new network to a new interface but with an already existing name. This fix requires to update the Amphora image. ,,59,7
openstack%2Fironic~stable%2Fyoga~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/yoga,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-19 13:45:34.000000000,2023-05-24 23:19:42.000000000,2023-05-24 23:18:31.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:45:34.000000000', 'files': ['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/94358e471c79e4d7f169e1756b71c25943128ccb', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}]",1,883579,94358e471c79e4d7f169e1756b71c25943128ccb,13,3,1,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/883579/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",5,94358e471c79e4d7f169e1756b71c25943128ccb,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,139,28
openstack%2Ftripleo-quickstart~master~I1568e177e6d47409ae09337d5b8775c244090513,openstack/tripleo-quickstart,master,I1568e177e6d47409ae09337d5b8775c244090513,Pin os_tempest in tripleo jobs,MERGED,2023-05-24 15:28:34.000000000,2023-05-24 23:06:12.000000000,2023-05-24 23:05:18.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 15:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f33ff380dcdd7f030a23ab34d9680a283261ab36', 'message': ""Ping os_tempest in tripleo jobs\n\nWe are using master branch of os_tempest from\nalways in all branches - train/wallaby\n\nRecently, os-tempest dropped support for EL8\nand this broke our Centos8 - train/wallaby job\nand rhel8 downstream jobs.\n\nWith this patch, we are pinning os_tempest to\na hash before [1] merged.\n\nAlternative is to use correct branch, but we\ndon't know how much work would that be. And\nconsidering train will be eol soon - we are\ngoing ahead with pinning for now.\n\n[1] https://github.com/openstack/openstack-ansible-os_tempest/commit/2441b55aacd45cdcb8bf844852b2e293db3d6340\n\nCloses-Bug: #2020618\nChange-Id: I1568e177e6d47409ae09337d5b8775c244090513\n""}, {'number': 2, 'created': '2023-05-24 15:30:02.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ef0f8f99adff9630fbdebfc578e9a9d5bc99dbc', 'message': ""Pin os_tempest in tripleo jobs\n\nWe are using master branch of os_tempest from\nalways in all branches - train/wallaby\n\nRecently, os-tempest dropped support for EL8\nand this broke our Centos8 - train/wallaby job\nand rhel8 downstream jobs.\n\nWith this patch, we are pinning os_tempest to\na hash before [1] merged.\n\nAlternative is to use correct branch, but we\ndon't know how much work would that be. And\nconsidering train will be eol soon - we are\ngoing ahead with pinning for now.\n\n[1] https://github.com/openstack/openstack-ansible-os_tempest/commit/2441b55aacd45cdcb8bf844852b2e293db3d6340\n\nCloses-Bug: #2020618\nChange-Id: I1568e177e6d47409ae09337d5b8775c244090513\n""}]",2,884237,4ef0f8f99adff9630fbdebfc578e9a9d5bc99dbc,9,2,2,29775,,,0,"Pin os_tempest in tripleo jobs

We are using master branch of os_tempest from
always in all branches - train/wallaby

Recently, os-tempest dropped support for EL8
and this broke our Centos8 - train/wallaby job
and rhel8 downstream jobs.

With this patch, we are pinning os_tempest to
a hash before [1] merged.

Alternative is to use correct branch, but we
don't know how much work would that be. And
considering train will be eol soon - we are
going ahead with pinning for now.

[1] https://github.com/openstack/openstack-ansible-os_tempest/commit/2441b55aacd45cdcb8bf844852b2e293db3d6340

Closes-Bug: #2020618
Change-Id: I1568e177e6d47409ae09337d5b8775c244090513
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/884237/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,f33ff380dcdd7f030a23ab34d9680a283261ab36,bug/2020618, version: 0a8459bec03b433b1487b89368e69fad8d92cfd7, version: master,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1,openstack/tripleo-heat-templates,stable/wallaby,Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1,Support update of ovn-controller when deployed in step4.,MERGED,2023-04-27 12:57:00.000000000,2023-05-24 23:05:16.000000000,2023-05-24 23:05:16.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-04-27 12:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f40b902a6921adc9cc26caf3aa61a8e4ec7258e', 'message': 'Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. This broke the ovn-controller update for environment\ndeployed with step 4[2]. The net result was un-updated ovn-controller.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n'}, {'number': 2, 'created': '2023-04-27 13:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccc416c28e42a3cf5265148c51101b13a4c3bd93', 'message': 'Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. This broke the ovn-controller update for environment\ndeployed with step 4[2]. The net result was un-updated ovn-controller.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n'}, {'number': 3, 'created': '2023-05-03 13:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1878df646e80ce5e951c1461d31a965acf01193', 'message': 'Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. This broke the ovn-controller update for environment\ndeployed with step 4[2]. The net result was un-updated ovn-controller.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\nWe test for empty group in the delegate_to task mainly to pass ci as\nin a normal deployment this should always be true as the template is\nincluded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n'}, {'number': 4, 'created': '2023-05-04 17:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93e1b83d7391b4c7eadb8dc853eb4e0e77923c1f', 'message': ""Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. It was step 4 before and now it's step 3. This breaks the\novn-controller update for environment deployed with step 4[2]. The net\nresult was un-updated ovn-controller during the ovn-controller\nupdate. This eventually leads to cut in data plane when the ovn\ncluster is updated.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\nWe test for empty group in the delegate_to task mainly to pass ci as\nin a normal deployment this should always be true as the template is\nincluded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n""}, {'number': 5, 'created': '2023-05-04 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7509a5477730f0f0e8df44c805b84d7a1e8e3bea', 'message': ""Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. It was step 4 before and now it's step 3. This breaks the\novn-controller update for environment deployed with step 4[2]. The net\nresult was un-updated ovn-controller during the ovn-controller\nupdate. This eventually leads to cut in data plane when the ovn\ncluster is updated.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\nWe test for empty group in the delegate_to task mainly to pass ci as\nin a normal deployment this should always be true as the template is\nincluded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n""}, {'number': 6, 'created': '2023-05-05 08:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a06f050353ac92dd1f0fda3e2b15c27e2260c5df', 'message': ""Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. It was step 4 before and now it's step 3. This breaks the\novn-controller update for environment deployed with step 4[2]. The net\nresult was un-updated ovn-controller during the ovn-controller\nupdate. This eventually leads to cut in data plane when the ovn\ncluster is updated.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\nWe test for empty group in the delegate_to task mainly to pass ci as\nin a normal deployment this should always be true as the template is\nincluded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n""}, {'number': 7, 'created': '2023-05-22 09:51:22.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db4fae30f54c0162fa06771cd00bc4a8fe91cb43', 'message': ""Support update of ovn-controller when deployed in step4.\n\nA recent review[1] change the step in which ovn-controller was\ndeployed. It was step 4 before and now it's step 3. This breaks the\novn-controller update for environment deployed with step 4[2]. The net\nresult was un-updated ovn-controller during the ovn-controller\nupdate. This eventually leads to cut in data plane when the ovn\ncluster is updated.\n\nThis patch introduces support for both steps by testing if the step_4\nfile exists on one of the host belonging to the ovn_controller group.\n\nWe test for empty group in the delegate_to task mainly to pass ci as\nin a normal deployment this should always be true as the template is\nincluded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519\n[2] In downstream term that would be 17.0\n\nChange-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1\n""}]",2,881723,db4fae30f54c0162fa06771cd00bc4a8fe91cb43,19,7,7,8297,,,0,"Support update of ovn-controller when deployed in step4.

A recent review[1] change the step in which ovn-controller was
deployed. It was step 4 before and now it's step 3. This breaks the
ovn-controller update for environment deployed with step 4[2]. The net
result was un-updated ovn-controller during the ovn-controller
update. This eventually leads to cut in data plane when the ovn
cluster is updated.

This patch introduces support for both steps by testing if the step_4
file exists on one of the host belonging to the ovn_controller group.

We test for empty group in the delegate_to task mainly to pass ci as
in a normal deployment this should always be true as the template is
included.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/879519
[2] In downstream term that would be 17.0

Change-Id: Icd5faed6334bf9b06f5526a4f0cb62a2f28cbca1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/881723/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,4f40b902a6921adc9cc26caf3aa61a8e4ec7258e,," - name: Infer if we're coming from 17.0 stat: path: /var/lib/tripleo-config/container-startup-config/step_4/ovn_controller.json register: ovn_cont_17_0 delegate_to: ""{{ groups['ovn_controller'] | difference(groups['excluded_overcloud']) | first }}"" vars: config_dir_step: ""{{ ovn_cont_17_0.stat.exists | ternary('step_4', 'step_3')}}"" config_dir: ""/var/lib/tripleo-config/container-startup-config/{{ config_dir_step }}"""," config_dir: ""/var/lib/tripleo-config/container-startup-config/step_3""",8,1
openstack%2Fansible-role-python_venv_build~master~If478ab0f0c0a5acc8974a69a11453377c98c28be,openstack/ansible-role-python_venv_build,master,If478ab0f0c0a5acc8974a69a11453377c98c28be,Align distro_arch naming in the role,MERGED,2023-05-24 10:48:59.000000000,2023-05-24 22:52:05.000000000,2023-05-24 22:51:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-24 10:48:59.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e43dcdbf6a90057b6f4c8328303d817760b99624', 'message': 'Align distro_arch naming in the role\n\nAt the moment we have 2 slightly different variations of merging\ndistro_arch - one through `-` and another through `_`. This patch\naligns usage and re-use  _venv_build_dist_arch.\n\nChange-Id: If478ab0f0c0a5acc8974a69a11453377c98c28be\n'}]",1,884171,e43dcdbf6a90057b6f4c8328303d817760b99624,9,4,1,28619,,,0,"Align distro_arch naming in the role

At the moment we have 2 slightly different variations of merging
distro_arch - one through `-` and another through `_`. This patch
aligns usage and re-use  _venv_build_dist_arch.

Change-Id: If478ab0f0c0a5acc8974a69a11453377c98c28be
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/71/884171/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,e43dcdbf6a90057b6f4c8328303d817760b99624,," {% set distro_ver = hostvars[item]['ansible_facts']['distribution_version'].split('.')[:2] | join('.') %} {% set distro_arch = [distro, distro_ver, arch] | join('-') %} {% set distro_ver = hostvars[host]['ansible_facts']['distribution_version'].split('.')[:2] | join('.') %} {% set distro_arch = [distro, distro_ver, arch] | join('-') %}"," {% set distro_ver = hostvars[item]['ansible_facts']['distribution_version'] %} {% set distro_arch = [distro, distro_ver, arch] | join('_') %} {% set distro_ver = hostvars[host]['ansible_facts']['distribution_version'] %} {% set distro_arch = [distro, distro_ver, arch] | join('_') %}",5,5
openstack%2Fironic-tempest-plugin~master~I966ae89333b6ad553b6f1398d61bc7d8f8b72c74,openstack/ironic-tempest-plugin,master,I966ae89333b6ad553b6f1398d61bc7d8f8b72c74,Fix rbac indicator tests,MERGED,2023-05-08 21:45:52.000000000,2023-05-24 22:32:26.000000000,2023-05-24 22:31:31.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-08 21:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/74868c1b134ad1c553b9539cbd6b4545e558b8a8', 'message': 'Fix rbac indicator tests\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 2, 'created': '2023-05-08 22:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/52a86b938032cb0e2f96499402d6f85bd4d8ceeb', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 3, 'created': '2023-05-08 22:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8763ca196c7f699961094236b300b83e861f81cd', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 4, 'created': '2023-05-09 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9ee0e490a2ff66ab884aaafe8bcd1d246d7f1ed6', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 5, 'created': '2023-05-09 09:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/080d803453121bd5a7cb3155f8fdd2cb348aa817', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 6, 'created': '2023-05-09 09:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/957af00974cedb1be889195a3acfc57eecb1b1a9', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}, {'number': 7, 'created': '2023-05-24 14:59:09.000000000', 'files': ['ironic_tempest_plugin/tests/api/rbac_defaults/test_nodes.py', 'ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/72c5ed3351412d09c51a41ab9b17e706802fc5e0', 'message': 'Fix rbac indicator tests\n\nAlso disable test_reader_cannot_ipa_heartbeat,\nwill follow up.\n\nDepends-On: https://review.opendev.org/882597\nChange-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74\n'}]",11,882619,72c5ed3351412d09c51a41ab9b17e706802fc5e0,27,4,7,24245,,,0,"Fix rbac indicator tests

Also disable test_reader_cannot_ipa_heartbeat,
will follow up.

Depends-On: https://review.opendev.org/882597
Change-Id: I966ae89333b6ad553b6f1398d61bc7d8f8b72c74
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/19/882619/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/api/rbac_defaults/test_nodes.py', 'ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py']",2,74868c1b134ad1c553b9539cbd6b4545e558b8a8,rbac-tests," resp, body = self._put_request( 'nodes/%s/management/indicators/%s@%s' % (node_uuid, ind_ident, component), {'state': state}) return resp, body path = 'nodes/%s/management/indicators/%s@%s' % (node_uuid, ind_ident, component) return resp, body"," resp, body = self._put_request('nodes/%s/management/indicators/%s/%s' % (node_uuid, component, ind_ident), state) return body path = 'nodes/%s/management/indicators/%s/%s' % (node_uuid, component, ind_ident) return body",10,10
openstack%2Fopenstack-helm-images~master~I71459cb9775c419c18c23f8c060a5dfbe5b24cf6,openstack/openstack-helm-images,master,I71459cb9775c419c18c23f8c060a5dfbe5b24cf6,Build tacker images,MERGED,2023-05-17 19:45:56.000000000,2023-05-24 21:47:27.000000000,2023-05-24 21:42:26.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 31857}, {'_account_id': 32204}]","[{'number': 1, 'created': '2023-05-17 19:45:56.000000000', 'files': ['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/76e4c69a166992f1abce87ff708a03f4bb6d7e0c', 'message': 'Build tacker images\n\nChange-Id: I71459cb9775c419c18c23f8c060a5dfbe5b24cf6\n'}]",1,883442,76e4c69a166992f1abce87ff708a03f4bb6d7e0c,10,5,1,3009,,,0,"Build tacker images

Change-Id: I71459cb9775c419c18c23f8c060a5dfbe5b24cf6
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/42/883442/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh']",2,76e4c69a166992f1abce87ff708a03f4bb6d7e0c,,BUILD_PROJECTS=${BUILD_PROJECTS:-'requirements keystone heat barbican glance cinder monasca_api neutron neutron_sriov nova horizon senlin magnum ironic manila tacker'},BUILD_PROJECTS=${BUILD_PROJECTS:-'requirements keystone heat barbican glance cinder monasca_api neutron neutron_sriov nova horizon senlin magnum ironic manila'},15,1
openstack%2Fdesignate~master~I91b2c2e4bcb83aea74dc531b0dc4b95842e6b4a0,openstack/designate,master,I91b2c2e4bcb83aea74dc531b0dc4b95842e6b4a0,Add basic api wsgi tests,MERGED,2023-05-24 05:52:51.000000000,2023-05-24 21:03:55.000000000,2023-05-24 21:02:47.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-24 05:52:51.000000000', 'files': ['designate/tests/unit/api/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/46e72847472fb4d1c8daa03ce95b0fe78a54f61f', 'message': 'Add basic api wsgi tests\n\nChange-Id: I91b2c2e4bcb83aea74dc531b0dc4b95842e6b4a0\n'}]",1,883822,46e72847472fb4d1c8daa03ce95b0fe78a54f61f,8,3,1,22623,,,0,"Add basic api wsgi tests

Change-Id: I91b2c2e4bcb83aea74dc531b0dc4b95842e6b4a0
",git fetch https://review.opendev.org/openstack/designate refs/changes/22/883822/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/api/test_wsgi.py'],1,46e72847472fb4d1c8daa03ce95b0fe78a54f61f,wsgi_tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from oslo_config import fixture as cfg_fixture import oslotest.base from unittest import mock from designate.api import wsgi CONF = cfg.CONF class TestApiWsgi(oslotest.base.BaseTestCase): def setUp(self): super(TestApiWsgi, self).setUp() self.useFixture(cfg_fixture.Config(CONF)) @mock.patch('paste.deploy.loadapp') @mock.patch('designate.heartbeat_emitter.get_heartbeat_emitter') @mock.patch('designate.common.profiler.setup_profiler') @mock.patch('designate.rpc.init') @mock.patch('designate.rpc.initialized') @mock.patch('designate.policy.init') @mock.patch('oslo_log.log.setup') @mock.patch('oslo_config.cfg.CONF') def test_init_application(self, mock_cfg, mock_log_setup, mock_policy_init, mock_rpc_initialized, mock_rpc_init, mock_setup_profiler, mock_get_heartbeat_emitter, mock_loadapp): CONF.set_override('host', 'foo') mock_rpc_initialized.return_value = False wsgi.init_application() mock_cfg.assert_called_with( [], project='designate', default_config_files=['/etc/designate/api-paste.ini', '/etc/designate/designate.conf'] ) mock_log_setup.assert_called_with(mock.ANY, 'designate') mock_policy_init.assert_called() mock_rpc_init.assert_called() mock_setup_profiler.assert_called_with('designate-api', 'foo') mock_get_heartbeat_emitter.assert_called_with('api') mock_loadapp.assert_called_with( 'config:/etc/designate/api-paste.ini', name='osapi_dns' ) def test_get_config_files(self): self.assertEqual( ['/etc/designate/api-paste.ini', '/etc/designate/designate.conf'], wsgi._get_config_files() ) def test_get_config_files_with_custom_env(self): env = {'OS_DESIGNATE_CONFIG_DIR': '/opt/designate'} self.assertEqual( ['/opt/designate/api-paste.ini', '/opt/designate/designate.conf'], wsgi._get_config_files(env) ) ",,74,0
openstack%2Fdesignate-tempest-plugin~master~I85d871350fcacfb6e293092ff6c16a6dba7f952e,openstack/designate-tempest-plugin,master,I85d871350fcacfb6e293092ff6c16a6dba7f952e,Unroll test_update_records_propagated_to_backends,MERGED,2023-04-17 19:23:31.000000000,2023-05-24 21:03:48.000000000,2023-05-24 21:02:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}]","[{'number': 1, 'created': '2023-04-17 19:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c060ef0c9a3308eb3efebe49e58b67417904c7fe', 'message': 'Unroll test_update_records_propagated_to_backends\n\nThis patch unrolls the test_update_records_propagated_to_backends tests from\nDDT to ensure each test gets a proper idempotent ID. Previously fourteen tests\nhad the same ID.\nThis patch also fixes a scenario where if no nameservers are provided in the\ntempest.conf, the test would pass instead of being skipped.\n\nChange-Id: I85d871350fcacfb6e293092ff6c16a6dba7f952e\n'}, {'number': 2, 'created': '2023-04-17 20:07:17.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a5ba980ef4840a13032098bc583d556bbdef2b94', 'message': 'Unroll test_update_records_propagated_to_backends\n\nThis patch unrolls the test_update_records_propagated_to_backends tests from\nDDT to ensure each test gets a proper idempotent ID. Previously fourteen tests\nhad the same ID.\nThis patch also fixes a scenario where if no nameservers are provided in the\ntempest.conf, the test would pass instead of being skipped.\n\nChange-Id: I85d871350fcacfb6e293092ff6c16a6dba7f952e\n'}]",3,880681,a5ba980ef4840a13032098bc583d556bbdef2b94,12,3,2,11628,,,0,"Unroll test_update_records_propagated_to_backends

This patch unrolls the test_update_records_propagated_to_backends tests from
DDT to ensure each test gets a proper idempotent ID. Previously fourteen tests
had the same ID.
This patch also fixes a scenario where if no nameservers are provided in the
tempest.conf, the test would pass instead of being skipped.

Change-Id: I85d871350fcacfb6e293092ff6c16a6dba7f952e
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/81/880681/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py'],1,c060ef0c9a3308eb3efebe49e58b67417904c7fe,,"import ddtimport testtools @testtools.skipUnless( config.CONF.dns.nameservers, ""Config option dns.nameservers is missing or empty"") def _test_update_records_propagated_to_backends(self, name, type, records): # These tests were unrolled from DDT to allow accurate tracking by # idempotent_id's. The naming convention for the tests has been preserved. @decorators.attr(type='slow') @decorators.idempotent_id('cbf756b0-ba64-11ec-93d4-201e8823901f') def test_update_records_propagated_to_backends_01_A(self): self._test_update_records_propagated_to_backends( ""www"", ""A"", [""192.0.2.1"", ""192.0.2.2"", ""192.0.2.3""]) @decorators.attr(type='slow') @decorators.idempotent_id('258f7f57-9a74-4e72-bbfb-c709c411af14') def test_update_records_propagated_to_backends_02_AAAA(self): self._test_update_records_propagated_to_backends( ""www"", ""AAAA"", [""2001:db8::1"", ""2001:db8::1"", ""2001:db8::""]) @decorators.attr(type='slow') @decorators.idempotent_id('304adbc5-668a-457e-9496-8efd20b8ae82') def test_update_records_propagated_to_backends_03_SRV_TCP(self): self._test_update_records_propagated_to_backends( ""_sip._tcp"", ""SRV"", [""10 60 5060 server1.example.com."", ""20 60 5060 server2.example.com."", ""20 30 5060 server3.example.com.""]) @decorators.attr(type='slow') @decorators.idempotent_id('bd1283b3-423c-4bb9-8c4f-a205f31f1c2d') def test_update_records_propagated_to_backends_04_SRV_UDP(self): self._test_update_records_propagated_to_backends( ""_sip._udp"", ""SRV"", [""10 60 5060 server1.example.com."", ""10 60 5060 server2.example.com."", ""20 30 5060 server3.example.com.""]) @decorators.attr(type='slow') @decorators.idempotent_id('8b53ae20-d096-4651-a6cf-efd7c98ae8d1') def test_update_records_propagated_to_backends_05_CNAME(self): self._test_update_records_propagated_to_backends( ""alias-of-target"", ""CNAME"", [""target.example.org.""]) @decorators.attr(type='slow') @decorators.idempotent_id('0fd0046a-ac5a-468d-94b3-8a6bde790589') def test_update_records_propagated_to_backends_06_MX_at_APEX(self): self._test_update_records_propagated_to_backends( None, ""MX"", [""10 mail1.example.org."", ""20 mail2.example.org.""]) @decorators.attr(type='slow') @decorators.idempotent_id('31176def-3f95-459d-8bdd-b9994335b2d9') def test_update_records_propagated_to_backends_07_MX_under_APEX(self): self._test_update_records_propagated_to_backends( ""under"", ""MX"", [""10 mail.example.org.""]) @decorators.attr(type='slow') @decorators.idempotent_id('0009d787-c590-4149-9f30-082195326fad') def test_update_records_propagated_to_backends_08_SSHFP(self): self._test_update_records_propagated_to_backends( ""www"", ""SSHFP"", [""2 1 123456789abcdef67890123456789abcdef67890""]) @decorators.attr(type='slow') @decorators.idempotent_id('af7cec16-dfad-4071-aa05-cafa60bf12a5') def test_update_records_propagated_to_backends_09_TXT(self): self._test_update_records_propagated_to_backends( ""www"", ""TXT"", [""\""Any Old Text Goes Here\""""]) @decorators.attr(type='slow') @decorators.idempotent_id('b3fd1f77-c318-4ab0-b18d-34611e51e9e4') def test_update_records_propagated_to_backends_10_SPF(self): self._test_update_records_propagated_to_backends( "".sub"", ""SPF"", [""\""v=spf1; a -all\""""]) @decorators.attr(type='slow') @decorators.idempotent_id('c310b94b-f3a5-4d26-bab6-2529e6f29fbf') def test_update_records_propagated_to_backends_11_PTR_IPV4(self): self._test_update_records_propagated_to_backends( ""PTR_Record_IPV4"", ""PTR"", [""34.216.184.93.in-addr.arpa.""]) @decorators.attr(type='slow') @decorators.idempotent_id('3e31e406-621f-4f89-b401-b6f38aa63347') def test_update_records_propagated_to_backends_12_PTR_IPV6(self): self._test_update_records_propagated_to_backends( ""PTR_Record_IPV6"", ""PTR"", [""6.4.9.1.8.c.5.2.3.9.8.1.8.4.2.0.1.0.0.0.0.2.2.0.0.0.8.2.6.0.6.2"" "".ip6.arpa.""]) @decorators.attr(type='slow') @decorators.idempotent_id('6fd96280-fb62-4eaf-81f9-609cdb7c126e') def test_update_records_propagated_to_backends_13_CAA_Record(self): self._test_update_records_propagated_to_backends( ""CAA_Record"", ""CAA"", [""0 issue letsencrypt.org""]) @decorators.attr(type='slow') @decorators.idempotent_id('45a11efe-bee3-4896-ab7c-daee1cb5eb3a') def test_update_records_propagated_to_backends_14_NAPTR_Record(self): self._test_update_records_propagated_to_backends( ""NAPTR_Record"", ""NAPTR"", [""0 0 S SIP+D2U !^.*$!sip:customer-service@example.com! "" ""_sip._udp.example.com.""])","import ddt @decorators.attr(type='slow') @decorators.idempotent_id('cbf756b0-ba64-11ec-93d4-201e8823901f') @ddt.file_data(""recordset_data.json"") def test_update_records_propagated_to_backends(self, name, type, records):",101,5
openstack%2Fironic-specs~master~I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b,openstack/ironic-specs,master,I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b,Add service steps framework,MERGED,2023-01-31 19:36:56.000000000,2023-05-24 20:52:46.000000000,2023-05-24 20:51:36.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 12171}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32177}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-01-31 19:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d6816e1aa3f991c4205fcf61dbd933d50c84943d', 'message': 'Add modify steps framework\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 2, 'created': '2023-02-03 21:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c57a3275c2c06cb61a1b518c4a1e680cb19671dd', 'message': 'Add modify steps framework\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 3, 'created': '2023-02-13 23:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d2735eba6d4adffdf5a39c8f16881b255a4bad4c', 'message': 'Add modify steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 4, 'created': '2023-03-14 19:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7bdcc25bb42a849b499381acc91fbc7bef00a5c1', 'message': 'Add service steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 5, 'created': '2023-03-14 20:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f011b75ae78e8f21a241c890fb1d649aa1ab05eb', 'message': 'Add service steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 6, 'created': '2023-03-16 18:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b9101df38e1df41451396dcb9e7bbaeff5dc8ff7', 'message': 'Add service steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 7, 'created': '2023-03-29 19:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/79bdeafb90e75fd0c56b66bee89d4ec29e523df6', 'message': 'Add service steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}, {'number': 8, 'created': '2023-04-04 19:14:49.000000000', 'files': ['specs/approved/service-steps.rst', 'specs/not-implemented/service-steps.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a05c9ee0bef8eb0233cf67073639a9af63423920', 'message': 'Add service steps framework\n\nAdds a framework for modifying an existing deployed system in the same\nmodel of existing deployment, verification, and cleaning steps.\n\nChange-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b\n'}]",93,872349,a05c9ee0bef8eb0233cf67073639a9af63423920,49,7,8,11655,,,0,"Add service steps framework

Adds a framework for modifying an existing deployed system in the same
model of existing deployment, verification, and cleaning steps.

Change-Id: I1a488dbffa2f82cc6c3bbe34ef5295ada13b596b
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/49/872349/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/active-steps.rst', 'specs/not-implemented/active-steps.rst']",2,d6816e1aa3f991c4205fcf61dbd933d50c84943d,,specs/approved/active-steps.rst,,342,0
openstack%2Frally-openstack~master~Id6401bf1c922ae4874f7203f01340c7e6ba471cb,openstack/rally-openstack,master,Id6401bf1c922ae4874f7203f01340c7e6ba471cb,Designate DNS - fix quota names according to U/S Doc,MERGED,2022-10-26 08:26:32.000000000,2023-05-24 20:43:15.000000000,2023-05-24 20:43:15.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-26 08:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5d2f8163ad207447d05958be0b79ea499f783d3d', 'message': 'Designate DNS - fix quota names according to U/S Doc\n\n1) zones_recordsets --> zones_recordsets\n2) zones_records --> zones_records\n\nhttps: //docs.openstack.org/designate/latest/admin/quotas.html#available-quotas\nChange-Id: Id6401bf1c922ae4874f7203f01340c7e6ba471cb\n'}, {'number': 2, 'created': '2023-05-24 09:25:19.000000000', 'files': ['samples/tasks/scenarios/designate/create-and-delete-recordsets.json', 'samples/tasks/scenarios/designate/create-and-list-zones.yaml', 'tests/unit/task/contexts/quotas/test_designate_quotas.py', 'samples/tasks/scenarios/designate/create-and-delete-zone.yaml', 'samples/tasks/scenarios/designate/create-and-list-recordsets.yaml', 'rally_openstack/task/contexts/quotas/designate_quotas.py', 'samples/tasks/scenarios/designate/create-and-delete-recordsets.yaml', 'samples/tasks/scenarios/designate/create-and-list-zones.json', 'samples/tasks/scenarios/designate/create-and-list-recordsets.json', 'samples/tasks/scenarios/designate/create-and-delete-zone.json'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6ec9348bb5bf23496ca226a6c82754321cca86ba', 'message': 'Designate DNS - fix quota names according to U/S Doc\n\n1) zones_recordsets --> zones_recordsets\n2) zones_records --> zones_records\n\nhttps: //docs.openstack.org/designate/latest/admin/quotas.html#available-quotas\nChange-Id: Id6401bf1c922ae4874f7203f01340c7e6ba471cb\n'}]",2,862675,6ec9348bb5bf23496ca226a6c82754321cca86ba,11,2,2,28609,,,0,"Designate DNS - fix quota names according to U/S Doc

1) zones_recordsets --> zones_recordsets
2) zones_records --> zones_records

https: //docs.openstack.org/designate/latest/admin/quotas.html#available-quotas
Change-Id: Id6401bf1c922ae4874f7203f01340c7e6ba471cb
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/75/862675/2 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/designate/create-and-delete-recordsets.json', 'samples/tasks/scenarios/designate/create-and-list-zones.yaml', 'tests/unit/task/contexts/quotas/test_designate_quotas.py', 'samples/tasks/scenarios/designate/create-and-delete-zone.yaml', 'rally_openstack/task/contexts/quotas/designate_quotas.py', 'samples/tasks/scenarios/designate/create-and-list-recordsets.yaml', 'samples/tasks/scenarios/designate/create-and-delete-recordsets.yaml', 'samples/tasks/scenarios/designate/create-and-list-zones.json', 'samples/tasks/scenarios/designate/create-and-list-recordsets.json', 'samples/tasks/scenarios/designate/create-and-delete-zone.json']",10,5d2f8163ad207447d05958be0b79ea499f783d3d,," ""zone_recordsets"": 500, ""zone_records"": 2000,"," ""zones_recordsets"": 500, ""zones_records"": 2000,",21,21
openstack%2Frally-openstack~master~I38446b178bae871488d7672e67cbd4e6690a6b52,openstack/rally-openstack,master,I38446b178bae871488d7672e67cbd4e6690a6b52,Fix the issue of unshelving vm fail failure,MERGED,2020-11-28 07:50:52.000000000,2023-05-24 20:43:13.000000000,2023-05-24 20:43:13.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-28 07:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ba4f8b7e5bc0e0d98526721fbf8a422e5b58e2d9', 'message': 'Fix the issue of unshelving vm fail failure\n\nit would change the vm_state firstly and then change task_state\nwhile shelving the vm is done, so we need to wait to change the\ntask state.\n\nChange-Id: I38446b178bae871488d7672e67cbd4e6690a6b52\n'}, {'number': 2, 'created': '2022-05-01 11:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3e8c6fc3f357b34a58bf8bb5202d74ed0d17dd50', 'message': 'Fix the issue of unshelving vm fail failure\n\nit would change the vm_state firstly and then change task_state\nwhile shelving the vm is done, so we need to wait to change the\ntask state.\n\nChange-Id: I38446b178bae871488d7672e67cbd4e6690a6b52\n'}, {'number': 3, 'created': '2022-05-01 13:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/829148d8716dd9abdbae5b33aa12474d9d9028db', 'message': 'Fix the issue of unshelving vm fail failure\n\nit would change the vm_state firstly and then change task_state\nwhile shelving the vm is done, so we need to wait to change the\ntask state.\n\nChange-Id: I38446b178bae871488d7672e67cbd4e6690a6b52\n'}, {'number': 4, 'created': '2023-05-24 09:26:05.000000000', 'files': ['rally_openstack/task/scenarios/nova/utils.py', 'tests/unit/task/scenarios/nova/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d5631b9ff5d3905f4904015c6e55abfc54128d0d', 'message': 'Fix the issue of unshelving vm fail failure\n\nit would change the vm_state firstly and then change task_state\nwhile shelving the vm is done, so we need to wait to change the\ntask state.\n\nChange-Id: I38446b178bae871488d7672e67cbd4e6690a6b52\n'}]",1,764545,d5631b9ff5d3905f4904015c6e55abfc54128d0d,16,2,4,21528,,,0,"Fix the issue of unshelving vm fail failure

it would change the vm_state firstly and then change task_state
while shelving the vm is done, so we need to wait to change the
task state.

Change-Id: I38446b178bae871488d7672e67cbd4e6690a6b52
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/45/764545/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/task/scenarios/manila/test_utils.py', 'rally_openstack/task/scenarios/nova/utils.py']",2,ba4f8b7e5bc0e0d98526721fbf8a422e5b58e2d9,," utils.wait_for_status( server, ready_statuses=[""None""], status_attr=""OS-EXT-STS:task_state"", update_resource=utils.get_from_manager(), timeout=CONF.openstack.nova_server_shelve_timeout, check_interval=CONF.openstack.nova_server_shelve_poll_interval )",,25,7
openstack%2Fcharm-watcher~master~I28df31910c869f813682c3b436e5481dc607772e,openstack/charm-watcher,master,I28df31910c869f813682c3b436e5481dc607772e,Migrate charm to charmhub,MERGED,2023-05-23 01:38:05.000000000,2023-05-24 20:07:42.000000000,2023-05-24 20:07:42.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 01:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/7c72f2219844ca1d434b2edbc8aa8421a0da6de4', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 2, 'created': '2023-05-23 01:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/2cbe6cd1a55394c301f567a3daeee437b7ab337b', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 3, 'created': '2023-05-23 13:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/582f7203e35029f2726195a4d2dbf21ee94b0556', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 4, 'created': '2023-05-23 14:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/f8fa4e6af46a1ed0c5dc190ad5e8b1a1912818be', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 5, 'created': '2023-05-23 17:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/dfcbbfbef86f5fde81c33d5adcd4e2a8c67cc99f', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 6, 'created': '2023-05-23 18:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/81f7a98822b77a306dd5c2340a0f8022e775e932', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n- Drop pip.sh\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 7, 'created': '2023-05-23 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/2801dedc7f866783bc556a4c7bc7020802af5319', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n- Drop pip.sh\n- Drop unneeded pining from test-requirements.txt\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 8, 'created': '2023-05-23 22:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/b6c4fe2f06b5b284f7d459f8b635b4b7f8cebf2c', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n- Drop pip.sh\n- Drop unneeded pining from test-requirements.txt\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 9, 'created': '2023-05-24 01:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/8fb855778aa74fb32105b82f3aff87233734299f', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n- Drop pip.sh\n- Drop unneeded pining from test-requirements.txt\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}, {'number': 10, 'created': '2023-05-24 18:55:15.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', '.gitignore', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'requirements.txt', 'pip.sh', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/lib/charm/openstack/watcher.py', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/631f0034a1c5145e5ae69ace9fc0a42a19d40938', 'message': 'Migrate charm to charmhub\n\nSummary of changes:\n\n- Add charmcraft.yaml to build the charm using charmcraft-2.2\n- Add osci.yaml to run CI jobs on zosci\n- Align tox.ini and src/tox.ini with the rest of the charms\n- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The\n  other bundles are dropped\n- Clean up requirements.txt removing unneeded dependencies\n- Update metadata.yaml to declare jammy and lunar only\n- Use generic zuul job templates\n- Add src/wheelhouse.txt\n- Install python3-apt instead of python-apt\n- Drop pip.sh\n- Drop unneeded pining from test-requirements.txt\n\nChange-Id: I28df31910c869f813682c3b436e5481dc607772e\n'}]",3,883882,631f0034a1c5145e5ae69ace9fc0a42a19d40938,36,4,10,2424,,,0,"Migrate charm to charmhub

Summary of changes:

- Add charmcraft.yaml to build the charm using charmcraft-2.2
- Add osci.yaml to run CI jobs on zosci
- Align tox.ini and src/tox.ini with the rest of the charms
- Add testing bundles jammy-zed, jammy-antelope and lunar-antelope. The
  other bundles are dropped
- Clean up requirements.txt removing unneeded dependencies
- Update metadata.yaml to declare jammy and lunar only
- Use generic zuul job templates
- Add src/wheelhouse.txt
- Install python3-apt instead of python-apt
- Drop pip.sh
- Drop unneeded pining from test-requirements.txt

Change-Id: I28df31910c869f813682c3b436e5481dc607772e
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/82/883882/10 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', '.gitignore', 'src/tests/bundles/focal-ussuri.yaml', 'src/metadata.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'requirements.txt', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/jammy-antelope.yaml']",17,7c72f2219844ca1d434b2edbc8aa8421a0da6de4,charmhub-migration,"variables: openstack-origin: &openstack-origin cloud:jammy-antelope series: &series lunar applications: keystone-mysql-router: charm: ch:mysql-router channel: latest/edge watcher-mysql-router: charm: ch:mysql-router channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster channel: latest/edge num_units: 3 options: source: distro keystone: charm: ch:keystone channel: latest/edge num_units: 1 options: openstack-origin: *openstack-origin rabbitmq-server: charm: ch:rabbitmq-server channel: latest/edge num_units: 1 options: source: distro watcher: charm: ../../../watcher.charm num_units: 1 options: openstack-origin: *openstack-origin datasources: gnocchi planner: weight planner-config: > { ""weights"": ""change_node_power_state:9,change_nova_service_state:50,migrate:30,nop:70,resize:20,sleep:40,turn_host_to_acpi_s3_state:10,volume_migrate:60"", ""parallelization"": ""change_node_power_state:2,change_nova_service_state:1,migrate:2,nop:1,resize:2,sleep:1,turn_host_to_acpi_s3_state:2,volume_migrate:2"" } relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'watcher:shared-db' - 'watcher-mysql-router:shared-db' - - 'watcher-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone:identity-service' - 'watcher:identity-service' - - 'rabbitmq-server:amqp' - 'watcher:amqp' ",,283,336
openstack%2Fos-brick~master~I4fec9d99911e47d9c3f225d188407af961acc7d3,openstack/os-brick,master,I4fec9d99911e47d9c3f225d188407af961acc7d3,privsep: Convert 'os_brick.caches.opencas',NEW,2021-05-13 15:47:08.000000000,2023-05-24 19:51:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-13 15:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f2be5e1284e36b91e411a59675d3a420c8809657', 'message': ""WIP: privsep: Convert 'os_brick.caches.opencas'\n\nWIP because tests.\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-05-14 11:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b6c0a35eece3d0d31dfc79a45b04f937859fdaab', 'message': ""WIP: privsep: Convert 'os_brick.caches.opencas'\n\nWIP because I need to finish tests. Waiting to see how the earlier\npatches are received before continuing.\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-05-14 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e382a1cfea006d5566a2c0c55dc441ba3981d5ce', 'message': ""WIP: privsep: Convert 'os_brick.caches.opencas'\n\nWIP because I need to finish tests. Waiting to see how the earlier\npatches are received before continuing.\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2022-02-14 10:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7f97c8304b6cc83c48eff42b0664c94efe96b0ce', 'message': ""WIP: privsep: Convert 'os_brick.caches.opencas'\n\nWIP because I need to finish tests. Waiting to see how the earlier\npatches are received before continuing.\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2022-04-08 16:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7d032ea50f1e6e3c95c05ff2e8f18df6acfe3cc2', 'message': ""WIP: privsep: Convert 'os_brick.caches.opencas'\n\nWIP because I need to finish tests. Waiting to see how the earlier\npatches are received before continuing.\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2022-04-11 15:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d4bfd6e7262238570f2c9f39ba6bf90dec2f4016', 'message': ""privsep: Convert 'os_brick.caches.opencas'\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2022-04-11 20:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6610443d5332b135b96672d7889599e4121d0cca', 'message': ""privsep: Convert 'os_brick.caches.opencas'\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2022-05-23 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d005653c110abe57237b9b65742c9a47c160d87c', 'message': ""privsep: Convert 'os_brick.caches.opencas'\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2022-09-07 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5058a815a9878df4de298662e558ab4e245a4518', 'message': ""privsep: Convert 'os_brick.caches.opencas'\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2023-05-23 09:27:21.000000000', 'files': ['os_brick/caches/__init__.py', 'os_brick/caches/opencas.py', 'mypy-files.txt', 'os_brick/tests/privileged/test_opencas.py', 'os_brick/tests/caches/test_opencas.py', 'os_brick/privileged/opencas.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ab02fe2dfcd2542a560cec07a35b6d9b83746b30', 'message': ""privsep: Convert 'os_brick.caches.opencas'\n\nChange-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,791275,ab02fe2dfcd2542a560cec07a35b6d9b83746b30,79,1,10,15334,,,0,"privsep: Convert 'os_brick.caches.opencas'

Change-Id: I4fec9d99911e47d9c3f225d188407af961acc7d3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/75/791275/10 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/caches/opencas.py', 'os_brick/privileged/opencas.py']",2,f2be5e1284e36b91e411a59675d3a420c8809657,privsep,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_concurrency import processutils from oslo_log import log as logging from os_brick import exception import os_brick.privileged LOG = logging.getLogger(__name__) # NOTE(stephenfin): This is purposefully not wrapped in an entrypoint since it # shouldn't be called directly def _list_caches(): """"""Displays each cache instance with relevant details. 'casadm -L' will print output like:: type id disk status write policy device cache 1 /dev/nvme0n1 Running wt - It's the responsibility of the caller to parse this. :returns: output from command """""" return processutils.execute('casadm', '-L') @os_brick.privileged.default.entrypoint def is_engine_ready(cache_id): """"""Determine if the specified cache is active. :param cache_id: ID of cache to query status for :returns: True if cache is enabled and running, else False """""" out, err = _list_caches() for line in out.splitlines(): fields = line.split() if str(cache_id) == fields[1] and 'Running' == fields[3]: return True return False @os_brick.privileged.default.entrypoint def get_mapping(self, dev_path): """"""Get core mapping for the specified device. :param dev_path: path to device :returns: A tuple of core ID and core device :raises: exception.BrickException if no matching device found """""" out, err = _list_caches() for line in out.splitlines(): if line.find(dev_path) < 0: continue fields = line.split() return fields[1], fields[2] raise exception.BrickException('Cannot find core device') @os_brick.privileged.default.entrypoint def map_device(cache_id, core_device): """"""Map a core device to the framework associated with a given cache. :param cache_id: Unique identifier for cache in range 1 to 16384 :param core_device: Location of the HDD storage/core device. This must be a complete device path in the /dev directory, for example /dev/sdb :returns: The created mapping name """""" processutils.execute( 'casadm', '-A', '-i', cache_id, '-d', core_device) out, err = _list_caches() for line in out.splitlines(): if line.find(core_device) < 0: continue fields = line.split() return fields[5] raise exception.BrickException('Cannot find emulated device') @os_brick.privileged.default.entrypoint def unmap_device(cache_id, core_id): """"""Unmap a core device from the framework associated with a given cache. :param cache_id: Unique identifier for cache in range 1 to 16384 :param core_device: Location of the HDD storage/core device. This must be a complete device path in the /dev directory, for example /dev/sdb :returns: None """""" processutils.execute( 'casadm', '-R', '-f', '-i', cache_id, '-j', core_id) ",,122,74
openstack%2Fdevstack-plugin-ceph~master~I140303ad338ce235e8aaa3aa242f92d88547b30c,openstack/devstack-plugin-ceph,master,I140303ad338ce235e8aaa3aa242f92d88547b30c,WIP Make multinode ceph job use cephadm,ABANDONED,2023-05-05 20:02:18.000000000,2023-05-24 19:34:22.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 20:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8cb57864f2180383e4c7c532bbb27fa4ae5254a4', 'message': 'Make multinode ceph job use cephadm\n\nChange-Id: I140303ad338ce235e8aaa3aa242f92d88547b30c\n'}, {'number': 2, 'created': '2023-05-11 18:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/e40fd8a1a6e9f86e3c8894f63b7a494f37e2288e', 'message': 'Make multinode ceph job use cephadm\n\nAlso disable block migration, since it should not be requested on a\njob configuration with shared storage.\n\nChange-Id: I140303ad338ce235e8aaa3aa242f92d88547b30c\n'}, {'number': 3, 'created': '2023-05-11 18:47:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/44d7176ffdd6152cb63420513f5918abefb79cde', 'message': 'WIP Make multinode ceph job use cephadm\n\nChange-Id: I140303ad338ce235e8aaa3aa242f92d88547b30c\n'}]",1,882483,44d7176ffdd6152cb63420513f5918abefb79cde,7,2,3,4393,,,0,"WIP Make multinode ceph job use cephadm

Change-Id: I140303ad338ce235e8aaa3aa242f92d88547b30c
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/83/882483/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8cb57864f2180383e4c7c532bbb27fa4ae5254a4,multinode-fixes, configure_swap_size: 8192 tempest_concurrency: 3 DISABLE_CEPHADM_POST_DEPLOY: True CEPHADM_DEPLOY: true MYSQL_REDUCE_MEMORY: True DISABLE_CEPHADM_POST_DEPLOY: True CEPHADM_DEPLOY: true,,7,0
openstack%2Frequirements~master~I6388bb6400fb40dd48648d13f79590701aafac36,openstack/requirements,master,I6388bb6400fb40dd48648d13f79590701aafac36,update constraint for openstackdocstheme to new release 3.1.1,MERGED,2023-05-23 09:08:01.000000000,2023-05-24 19:11:30.000000000,2023-05-24 19:10:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 09:08:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fea70303cd8051aa5e730eef8330a018e852973', 'message': 'update constraint for openstackdocstheme to new release 3.1.1\n\nmeta: version: 3.1.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: If4cd71e59a3ce90f9da130dc6624e3f6c95da0a2\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I6388bb6400fb40dd48648d13f79590701aafac36\n'}]",1,883898,1fea70303cd8051aa5e730eef8330a018e852973,17,3,1,11131,,,0,"update constraint for openstackdocstheme to new release 3.1.1

meta: version: 3.1.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: If4cd71e59a3ce90f9da130dc6624e3f6c95da0a2
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I6388bb6400fb40dd48648d13f79590701aafac36
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/883898/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1fea70303cd8051aa5e730eef8330a018e852973,new-release,openstackdocstheme===3.1.1,openstackdocstheme===3.1.0,1,1
openstack%2Foctavia~master~Ib3a1c6ad1423a41a7c1111977642cf3a4ce5cc28,openstack/octavia,master,Ib3a1c6ad1423a41a7c1111977642cf3a4ce5cc28,Splitting scenario jobs in the gate pipeline,MERGED,2023-05-24 06:32:09.000000000,2023-05-24 18:49:50.000000000,2023-05-24 18:47:45.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-24 06:32:09.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/721398019dfb94e89e58ec85bef0b73ff69e08af', 'message': 'Splitting scenario jobs in the gate pipeline\n\nFollow-up commit for [0], the previous commit splits the scenario job in\n2 in the check pipeline, this new commit splits it also in the gate\npipeline.\n\n[0] I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef\n\nChange-Id: Ib3a1c6ad1423a41a7c1111977642cf3a4ce5cc28\n'}]",2,883999,721398019dfb94e89e58ec85bef0b73ff69e08af,9,3,1,29244,,,0,"Splitting scenario jobs in the gate pipeline

Follow-up commit for [0], the previous commit splits the scenario job in
2 in the check pipeline, this new commit splits it also in the gate
pipeline.

[0] I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef

Change-Id: Ib3a1c6ad1423a41a7c1111977642cf3a4ce5cc28
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/883999/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,721398019dfb94e89e58ec85bef0b73ff69e08af,, - octavia-v2-dsvm-scenario-traffic-ops - octavia-v2-dsvm-scenario-non-traffic-ops, - octavia-v2-dsvm-scenario,2,1
openstack%2Fopenstack-ansible~master~I9e7270c2236dfea7716d3efb787459ea947c2a17,openstack/openstack-ansible,master,I9e7270c2236dfea7716d3efb787459ea947c2a17,Remove unreadable unicode symbols,MERGED,2023-05-24 12:44:44.000000000,2023-05-24 18:32:16.000000000,2023-05-24 18:30:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-24 12:44:44.000000000', 'files': ['playbooks/ceph-rgw-keystone-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/555ec6abb770cf403b135fcc8673edb60a2f3912', 'message': 'Remove unreadable unicode symbols\n\nThere was No-Break space present in the file (U+00a0) which is now\nremoved with a regular space.\n\nChange-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17\n'}]",0,884196,555ec6abb770cf403b135fcc8673edb60a2f3912,9,3,1,28619,,,0,"Remove unreadable unicode symbols

There was No-Break space present in the file (U+00a0) which is now
removed with a regular space.

Change-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/884196/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-keystone-setup.yml'],1,555ec6abb770cf403b135fcc8673edb60a2f3912,," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}"," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}",1,1
openstack%2Fpuppet-openstack-integration~master~Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868,openstack/puppet-openstack-integration,master,Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868,Enable OVN Neutron agent,MERGED,2023-03-24 06:37:18.000000000,2023-05-24 18:13:06.000000000,2023-05-24 18:13:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-24 06:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bb272021bbddb967cd96fcc974d9abb587f56fb8', 'message': 'Enable OVN Neutron agent\n\nDepends-on: https://review.opendev.org/872028/\nChange-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868\n'}, {'number': 2, 'created': '2023-05-24 02:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/353c8c373943d694d44fa91b9a3e2160f0b298ec', 'message': 'Enable OVN Neutron agent\n\nDepends-on: https://review.opendev.org/872028/\nChange-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868\n'}, {'number': 3, 'created': '2023-05-24 05:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4397565d9b8b9df25c55d974357e4f78325e53e2', 'message': 'Enable OVN Neutron agent\n\nThis enables the neutron-ovn-agent service which was recently added to\nneutron. Note that the service is not yet available in UCA packages so\nit is enabled only in RHEL/CentOS.\n\nDepends-on: https://review.opendev.org/872028/\nChange-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868\n'}, {'number': 4, 'created': '2023-05-24 05:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ae8f5f360e3e409948745956822a1938acbf223b', 'message': 'Enable OVN Neutron agent\n\nThis enables the neutron-ovn-agent service which was recently added to\nneutron. Note that the service is not yet available in UCA packages so\nit is enabled only in RHEL/CentOS.\n\nDepends-on: https://review.opendev.org/872028/\nChange-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868\n'}, {'number': 5, 'created': '2023-05-24 05:50:07.000000000', 'files': ['manifests/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f2beb47345aaaebe0c0a3356336799c929a66d8e', 'message': 'Enable OVN Neutron agent\n\nThis enables the neutron-ovn-agent service which was recently added to\nneutron. Note that the service is not yet available in UCA packages so\nit is enabled only in RHEL/CentOS.\n\nDepends-on: https://review.opendev.org/872028/\nChange-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868\n'}]",2,878512,f2beb47345aaaebe0c0a3356336799c929a66d8e,21,4,5,9816,,,0,"Enable OVN Neutron agent

This enables the neutron-ovn-agent service which was recently added to
neutron. Note that the service is not yet available in UCA packages so
it is enabled only in RHEL/CentOS.

Depends-on: https://review.opendev.org/872028/
Change-Id: Iaefca898984bbb9cf0f8fac8c539ed1a12ad7868
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/12/878512/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/neutron.pp'],1,bb272021bbddb967cd96fcc974d9abb587f56fb8,ovn-agent," class { 'neutron::agents::ml2::ovn': debug => true, ovn_nb_connection => $::openstack_integration::ovn::ovn_nb_connection, ovn_nb_private_key => $::openstack_integration::ovn::ovn_nb_db_ssl_key, ovn_nb_certificate => $::openstack_integration::ovn::ovn_nb_db_ssl_cert, ovn_nb_ca_cert => $::openstack_integration::ovn::ovn_nb_db_ssl_ca_cert, ovn_sb_connection => $::openstack_integration::ovn::ovn_sb_connection, ovn_sb_private_key => $::openstack_integration::ovn::ovn_sb_db_ssl_key, ovn_sb_certificate => $::openstack_integration::ovn::ovn_sb_db_ssl_cert, ovn_sb_ca_cert => $::openstack_integration::ovn::ovn_sb_db_ssl_ca_cert, }",,11,0
openstack%2Fironic~stable%2Fzed~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/zed,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-19 13:45:20.000000000,2023-05-24 18:06:36.000000000,2023-05-24 18:05:30.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:45:20.000000000', 'files': ['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/07497e1b0c1ff77fcba893897ba5b302a1fd6c6b', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}]",2,883578,07497e1b0c1ff77fcba893897ba5b302a1fd6c6b,12,2,1,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/883578/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",5,07497e1b0c1ff77fcba893897ba5b302a1fd6c6b,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,139,28
openstack%2Fironic~stable%2F2023.1~Ib258bc9650496da989fc93b759b112d279c8b217,openstack/ironic,stable/2023.1,Ib258bc9650496da989fc93b759b112d279c8b217,Fix Cinder Integration fallout from CVE-2023-2088,MERGED,2023-05-19 13:45:06.000000000,2023-05-24 17:56:35.000000000,2023-05-24 17:55:27.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:45:06.000000000', 'files': ['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/efc1e687de91ec7393d47acaee0ba3925c87b017', 'message': 'Fix Cinder Integration fallout from CVE-2023-2088\n\nIn the recent change to cinder, to address CVE-2023-2088,\ncinder changed the policy rules and behavior for unbinding,\nor ""detaching"" a volume. This was because of a vulnerability\nin compute nodes where a volume which was in use by a VM\ncould be detached outside of Nova, and nova wouldn\'t become\naware the volume was detached, and the volume could be accessible\nto the next VM.\n\nThis vulnerability doesn\'t apply to bare metal operations as\nvolumes are attached to whole baremetal nodes with Ironic.\n\nWe now generate and use a service token when interacting with\nCinder which allows cinder to recognize ""this request is\ncoming from a fellow OpenStack service"", and by-pass\nchecking with Nova if the ""instance"" is managed by Nova,\nor Not. This allows the volumes to be attached, and detached\nas needed as part of the power operation flow and overall\nset of lifecycle operations.\n\nRelated-Bug: 2004555\nCloses-Bug: 2019892\n\nChange-Id: Ib258bc9650496da989fc93b759b112d279c8b217\n(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)\n'}]",3,883577,efc1e687de91ec7393d47acaee0ba3925c87b017,13,2,1,11655,,,0,"Fix Cinder Integration fallout from CVE-2023-2088

In the recent change to cinder, to address CVE-2023-2088,
cinder changed the policy rules and behavior for unbinding,
or ""detaching"" a volume. This was because of a vulnerability
in compute nodes where a volume which was in use by a VM
could be detached outside of Nova, and nova wouldn't become
aware the volume was detached, and the volume could be accessible
to the next VM.

This vulnerability doesn't apply to bare metal operations as
volumes are attached to whole baremetal nodes with Ironic.

We now generate and use a service token when interacting with
Cinder which allows cinder to recognize ""this request is
coming from a fellow OpenStack service"", and by-pass
checking with Nova if the ""instance"" is managed by Nova,
or Not. This allows the volumes to be attached, and detached
as needed as part of the power operation flow and overall
set of lifecycle operations.

Related-Bug: 2004555
Closes-Bug: 2019892

Change-Id: Ib258bc9650496da989fc93b759b112d279c8b217
(cherry picked from commit 9c0b4c90a19fc1db262a942a1b6a1baafc881ccc)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/883577/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/keystone.py', 'devstack/lib/ironic', 'ironic/common/cinder.py', 'ironic/tests/unit/common/test_cinder.py', 'releasenotes/notes/cinder-2019892-6b5a9de5c5f05aa6.yaml']",5,efc1e687de91ec7393d47acaee0ba3925c87b017,,"--- fixes: - | Fixes Ironic integration with Cinder because of changes which resulted as part of the recent Security related fix in `bug 2004555 <https://launchpad.net/bugs/2004555>`_. The work in Ironic to track this fix was logged in `bug 2019892 <https://bugs.launchpad.net/ironic/+bug/2019892>`_. Ironic now sends a service token to Cinder, which allows for access restrictions added as part of the original CVE-2023-2088 fix to be appropriately bypassed. Ironic was not vulnerable, but the restrictions added as a result did impact Ironic's usage. This is because Ironic volume attachments are not on a shared ""compute node"", but instead mapped to the physical machines and Ironic handles the attachment life-cycle after initial attachment. ",,139,28
openstack%2Fopenstack-ansible-os_tempest~master~I73aec0f325708f42bbd0fd07d572fb833e8dfb2c,openstack/openstack-ansible-os_tempest,master,I73aec0f325708f42bbd0fd07d572fb833e8dfb2c,Remove tripleo CI jobs,MERGED,2023-03-07 10:06:12.000000000,2023-05-24 17:55:59.000000000,2023-05-24 17:52:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-03-07 10:06:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a84a1d199e85a33e44097361452f7bec8130e3d2', 'message': 'Remove tripleo CI jobs\n\nThis role was shared with tripleo, but that project is now\ndeprecated so there is no need to carry the cross-project CI jobs\nany more.\n\nChange-Id: I73aec0f325708f42bbd0fd07d572fb833e8dfb2c\n'}]",2,876711,a84a1d199e85a33e44097361452f7bec8130e3d2,9,3,1,25023,,,0,"Remove tripleo CI jobs

This role was shared with tripleo, but that project is now
deprecated so there is no need to carry the cross-project CI jobs
any more.

Change-Id: I73aec0f325708f42bbd0fd07d572fb833e8dfb2c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/11/876711/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a84a1d199e85a33e44097361452f7bec8130e3d2,,, check: jobs: - openstack-ansible-deploy-aio_distro_metal_tempestconf-centos-8-stream - tripleo-ci-centos-9-content-provider - openstack-tox-molecule: voting: false vars: tox_environment: PYTEST_REQPASS: 1 - tripleo-ci-centos-9-standalone: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-9-content-provider gate: jobs: - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-standalone: vars: *consumer_vars dependencies: - tripleo-ci-centos-9-content-provider,0,24
openstack%2Fopenstack-ansible-os_tempest~master~Ic2c547d730e900c883685050366e8e307869e6d1,openstack/openstack-ansible-os_tempest,master,Ic2c547d730e900c883685050366e8e307869e6d1,Temporarily re-add redhat-8.yml to vars,MERGED,2023-05-24 10:49:34.000000000,2023-05-24 17:54:34.000000000,2023-05-24 17:52:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29775}]","[{'number': 1, 'created': '2023-05-24 10:49:34.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/574f4acaf2bc41e8371e268a7880651d1c41216d', 'message': 'Temporarily re-add redhat-8.yml to vars\n\nAlthough tripleo deprecate master, we still use os_tempest in wallaby\nand train lines, and due a design error, we rely on os_tempest master\nbranch instead of use the appropriate branch, and the removal of\nredhat-8.yml file broken these jobs.\nWe will in the future, use the proper os_tempest branch on these jobs.\n\nChange-Id: Ic2c547d730e900c883685050366e8e307869e6d1\n'}]",1,884172,574f4acaf2bc41e8371e268a7880651d1c41216d,9,4,1,8367,,,0,"Temporarily re-add redhat-8.yml to vars

Although tripleo deprecate master, we still use os_tempest in wallaby
and train lines, and due a design error, we rely on os_tempest master
branch instead of use the appropriate branch, and the removal of
redhat-8.yml file broken these jobs.
We will in the future, use the proper os_tempest branch on these jobs.

Change-Id: Ic2c547d730e900c883685050366e8e307869e6d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/72/884172/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,574f4acaf2bc41e8371e268a7880651d1c41216d,redhat-8-vars,"--- # Copyright 2019, Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. tempest_distro_packages: - git - libxslt # required by the python module unittest2 - gcc # required to build tempest plugins (TODO) remove this when the repo server can satisfy the tempest plugin requirements - iputils - nmap # provides ncat tool which is required by some of the neutron-tempest-plugin scenario tests _stestr_executable: stestr-3 # NOTE(chandankumar): It is needed by python_venv_build ansible role to create # virtualenv. By default venv_python_executable var sets to python2, changing it # in the role itself, breaks other roles. So for distros using python3 making the # change here fixes the issue. _tempest_venv_python_executable: ""python3"" tempest_service_distro_packages: - openstack-tempest - python3-subunit - subunit-filters tempest_devel_distro_packages: - python3-devel # required for netifaces module for stackviz tempest_plugin_distro_packages: - ""{{ (tempest_service_available_aodh | bool) | ternary('python3-telemetry-tests-tempest', '') }}"" - ""{{ (tempest_service_available_barbican | bool) | ternary('python3-barbican-tests-tempest', '') }}"" - ""{{ (tempest_service_available_ceilometer | bool) | ternary('python3-telemetry-tests-tempest', '') }}"" - ""{{ (tempest_service_available_cinder | bool) | ternary('python3-cinder-tests-tempest', '') }}"" - ""{{ (tempest_service_available_designate | bool) | ternary('python3-designate-tests-tempest', '') }}"" - ""{{ (tempest_service_available_heat | bool) | ternary('python3-heat-tests-tempest', '') }}"" - ""{{ (tempest_service_available_ironic | bool) | ternary('python3-ironic-tests-tempest', '') }}"" - python3-keystone-tests-tempest - ""{{ (tempest_service_available_magnum | bool) | ternary('python3-magnum-tests-tempest', '') }}"" - ""{{ (tempest_service_available_manila | bool) | ternary('python3-manila-tests-tempest', '') }}"" - ""{{ (tempest_service_available_mistral | bool) | ternary('python3-mistral-tests-tempest', '') }}"" - ""{{ (tempest_service_available_murano | bool) | ternary('python3-murano-tests-tempest', '') }}"" - ""{{ (tempest_service_available_neutron | bool) | ternary('python3-neutron-tests-tempest', '') }}"" - ""{{ (tempest_service_available_neutron_vpnaas | bool) | ternary('python3-networking-vpnaas-tests', '') }}"" - ""{{ (tempest_service_available_novajoin | bool) | ternary('python3-novajoin-tests-tempest', '') }}"" - ""{{ (tempest_service_available_octavia | bool) | ternary('python3-octavia-tests-tempest', '') }}"" - ""{{ (tempest_service_available_sahara | bool) | ternary('python3-sahara-tests-tempest', '') }}"" - ""{{ (tempest_service_available_whitebox | bool) | ternary('python3-whitebox-tests-tempest', '') }}"" - ""{{ (tempest_service_available_whitebox_neutron | bool) | ternary('python3-whitebox-neutron-tests-tempest', '') }}"" - ""{{ (tempest_service_available_zaqar | bool) | ternary('python3-zaqar-tests-tempest', '') }}"" ",,59,0
openstack%2Fovn-octavia-provider~stable%2Fxena~Ia7a9b5230f9cf56de8278b736022240a780130d6,openstack/ovn-octavia-provider,stable/xena,Ia7a9b5230f9cf56de8278b736022240a780130d6,Add retry on case of sqlite3.InterfaceError on FT,MERGED,2023-05-22 10:57:38.000000000,2023-05-24 17:39:06.000000000,2023-05-24 17:38:09.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 10:57:38.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/128c92897667c7d6249d860a5fc127a0838bac26', 'message': ""Add retry on case of sqlite3.InterfaceError on FT\n\nAfter a thorough review of the issue, it looks like that the problem\ndoes not originate from the base code of ovn-octavia-provider or\nneutron. Other projects are also experiencing this problem,\nindicating that it likely stems from a different source or set of\nlibraries [1].\n\nTo minimize the need for extensive rechecks on future patches, this\npatch introduces a retry mechanism, utilizing tenacity, to the\naffected methods.\n\nOnce the root cause of the problem '(sqlite3.InterfaceError) Cursor\nneeded to be reset because of commit/rollback and can no longer be\nfetched from,' is identified and resolved, this patch should be\nreverted.\n\n[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())\n\nRelated-Bug: #2020195\nChange-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6\n(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)\n""}]",1,883804,128c92897667c7d6249d860a5fc127a0838bac26,12,3,1,34451,,,0,"Add retry on case of sqlite3.InterfaceError on FT

After a thorough review of the issue, it looks like that the problem
does not originate from the base code of ovn-octavia-provider or
neutron. Other projects are also experiencing this problem,
indicating that it likely stems from a different source or set of
libraries [1].

To minimize the need for extensive rechecks on future patches, this
patch introduces a retry mechanism, utilizing tenacity, to the
affected methods.

Once the root cause of the problem '(sqlite3.InterfaceError) Cursor
needed to be reset because of commit/rollback and can no longer be
fetched from,' is identified and resolved, this patch should be
reverted.

[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())

Related-Bug: #2020195
Change-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6
(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/04/883804/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/functional/base.py'],1,128c92897667c7d6249d860a5fc127a0838bac26,xena,"from oslo_db import exception as odb_excimport tenacity @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True) @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True)",,13,0
openstack%2Fironic~master~I38b0086313ee31329ffd6e8d72996155e6a334a1,openstack/ironic,master,I38b0086313ee31329ffd6e8d72996155e6a334a1,DNM: Move Ironic to scope enforced,NEW,2023-05-24 15:17:28.000000000,2023-05-24 17:35:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 15:17:28.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/930d9da283b0ec1330c838dd770b378e48b8be45', 'message': 'DNM: Move Ironic to scope enforced\n\nChange-Id: I38b0086313ee31329ffd6e8d72996155e6a334a1\n'}]",0,884235,930d9da283b0ec1330c838dd770b378e48b8be45,3,1,1,11655,,,0,"DNM: Move Ironic to scope enforced

Change-Id: I38b0086313ee31329ffd6e8d72996155e6a334a1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/884235/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,930d9da283b0ec1330c838dd770b378e48b8be45,,# against requestors. Legacy policies are expected to be dropped # within the next year. IRONIC_ENFORCE_SCOPE=$(trueorfalse True IRONIC_ENFORCE_SCOPE),# against requestors. This is anticipated to change in Xena or after # the Xena release of OpenStack. IRONIC_ENFORCE_SCOPE=$(trueorfalse False IRONIC_ENFORCE_SCOPE),3,7
openstack%2Ftempest~master~Ie988c9a6be396688b4d78d6a31dfffe8525b97b3,openstack/tempest,master,Ie988c9a6be396688b4d78d6a31dfffe8525b97b3,Add skip for cinder extend volume with snapshot,MERGED,2023-05-05 11:09:51.000000000,2023-05-24 17:23:40.000000000,2023-05-24 17:22:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-05 11:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/083fb25e6766732c0313b96b52291dfbefe4c19a', 'message': 'Add skip for cinder extend volume with snapshot\n\nSome drivers [1] are unable to perform the operation of extending\nvolume that has a snapshot. Add a skip so this test does not get run.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/ibm-storwize-svc-driver.html#extend-volumes\n\nChange-Id: Ie988c9a6be396688b4d78d6a31dfffe8525b97b3\n'}, {'number': 2, 'created': '2023-05-10 02:06:47.000000000', 'files': ['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2ba26afc188add98ab0446879c6ddf4adf36ea4b', 'message': 'Add skip for cinder extend volume with snapshot\n\nSome drivers [1] are unable to perform the operation of extending\nvolume that has a snapshot. Add a skip so this test does not get run.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/ibm-storwize-svc-driver.html#extend-volumes\n\nChange-Id: Ie988c9a6be396688b4d78d6a31dfffe8525b97b3\n'}]",4,882413,2ba26afc188add98ab0446879c6ddf4adf36ea4b,12,3,2,8064,,,0,"Add skip for cinder extend volume with snapshot

Some drivers [1] are unable to perform the operation of extending
volume that has a snapshot. Add a skip so this test does not get run.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/ibm-storwize-svc-driver.html#extend-volumes

Change-Id: Ie988c9a6be396688b4d78d6a31dfffe8525b97b3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/882413/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/test_volumes_extend.py', 'tempest/config.py']",2,083fb25e6766732c0313b96b52291dfbefe4c19a,skip_cinder_extend_snapshot," 'operation.'), cfg.BoolOpt('extend_volume_with_snapshot', default=True, help='Does the cloud support extending the size of a volume ' 'which has snapshot? Some drivers do not support this '",,9,0
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~Ib39ec8738f56b381d9fe22f41c54b14e796a66c3,openstack/puppet-openstack-integration,stable/yoga,Ib39ec8738f56b381d9fe22f41c54b14e796a66c3,Use service token in nova's requests,MERGED,2023-05-24 10:48:21.000000000,2023-05-24 17:18:05.000000000,2023-05-24 17:18:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 10:48:21.000000000', 'files': ['manifests/cinder.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/399eaa134ddbdcc01412643d15cf3eef07742d73', 'message': ""Use service token in nova's requests\n\nThis patch makes Nova send service tokens to other OpenStack services\nand tells Cinder to expect and validate them.\n\nThis is necessary because in the recent CVE fix it has become mandatory\nfor Nova to send service tokens to Cinder to be able to detach volumes.\n\nBackport to stable/yoga required by [1]\n\n[1] https://review.opendev.org/c/openstack/cinder/+/882838\n\nRelated-Bug: #2004555\nChange-Id: Ib39ec8738f56b381d9fe22f41c54b14e796a66c3\n(cherry picked from commit b78f3fc90012d4efb8d20c368db0517ba4834160)\n(cherry picked from commit e3254f12b7525b7224c2d403a1235a80a5b1e6d5)\n(cherry picked from commit eda56571332e77443bc1b89fa89a1db1cb7f8ee6)\n""}]",0,884170,399eaa134ddbdcc01412643d15cf3eef07742d73,7,4,1,16312,,,0,"Use service token in nova's requests

This patch makes Nova send service tokens to other OpenStack services
and tells Cinder to expect and validate them.

This is necessary because in the recent CVE fix it has become mandatory
for Nova to send service tokens to Cinder to be able to detach volumes.

Backport to stable/yoga required by [1]

[1] https://review.opendev.org/c/openstack/cinder/+/882838

Related-Bug: #2004555
Change-Id: Ib39ec8738f56b381d9fe22f41c54b14e796a66c3
(cherry picked from commit b78f3fc90012d4efb8d20c368db0517ba4834160)
(cherry picked from commit e3254f12b7525b7224c2d403a1235a80a5b1e6d5)
(cherry picked from commit eda56571332e77443bc1b89fa89a1db1cb7f8ee6)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/70/884170/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/nova.pp']",2,399eaa134ddbdcc01412643d15cf3eef07742d73,," roles => ['admin', 'service'], class { 'nova::keystone::service_user': send_service_user_token => true, password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, }",,15,6
openstack%2Fpuppet-openstack-integration~stable%2F2023.1~I61246840ea9f7a236a82003e2f5ce70f955cf514,openstack/puppet-openstack-integration,stable/2023.1,I61246840ea9f7a236a82003e2f5ce70f955cf514,Fix s3 endpoint url in IPv6 deployment,MERGED,2023-05-24 02:23:06.000000000,2023-05-24 17:18:04.000000000,2023-05-24 17:18:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 02:23:06.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f8286d191508a50b2bd53762f47e651ea7c5dc27', 'message': 'Fix s3 endpoint url in IPv6 deployment\n\nThis fixes the endpoints for s3 api, so that these endpoints contain\nthe correct IP version instead of using 127.0.0.1(default) always.\n\nChange-Id: I61246840ea9f7a236a82003e2f5ce70f955cf514\n(cherry picked from commit 1e2af68cccfbf806215c8462364f1ab48fa93096)\n'}]",0,883917,f8286d191508a50b2bd53762f47e651ea7c5dc27,7,3,1,9816,,,0,"Fix s3 endpoint url in IPv6 deployment

This fixes the endpoints for s3 api, so that these endpoints contain
the correct IP version instead of using 127.0.0.1(default) always.

Change-Id: I61246840ea9f7a236a82003e2f5ce70f955cf514
(cherry picked from commit 1e2af68cccfbf806215c8462364f1ab48fa93096)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/883917/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,f8286d191508a50b2bd53762f47e651ea7c5dc27,," public_url => ""http://${::openstack_integration::config::ip_for_url}:8080/v1/AUTH_%(tenant_id)s"", admin_url => ""http://${::openstack_integration::config::ip_for_url}:8080"", internal_url => ""http://${::openstack_integration::config::ip_for_url}:8080/v1/AUTH_%(tenant_id)s"", public_url_s3 => ""http://${::openstack_integration::config::ip_for_url}:8080"", admin_url_s3 => ""http://${::openstack_integration::config::ip_for_url}:8080"", internal_url_s3 => ""http://${::openstack_integration::config::ip_for_url}:8080"", password => 'a_big_secret', operator_roles => ['admin', 'SwiftOperator', 'ResellerAdmin'],"," public_url => ""http://${::openstack_integration::config::ip_for_url}:8080/v1/AUTH_%(tenant_id)s"", admin_url => ""http://${::openstack_integration::config::ip_for_url}:8080"", internal_url => ""http://${::openstack_integration::config::ip_for_url}:8080/v1/AUTH_%(tenant_id)s"", password => 'a_big_secret', operator_roles => ['admin', 'SwiftOperator', 'ResellerAdmin'],",8,5
openstack%2Fopenstack-helm~master~I12049e4e84e2bc7d5ad90334ecdf91e25c61e575,openstack/openstack-helm,master,I12049e4e84e2bc7d5ad90334ecdf91e25c61e575,Include readiness check into liveness probe,MERGED,2023-04-26 02:36:55.000000000,2023-05-24 16:57:23.000000000,2023-05-24 16:51:58.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-04-26 02:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/360bc19f22718b1e5bf72f8b11db7261847d2fa3', 'message': ""Include readiness check into liveness probe\n\nIt appears that readiness probe may not pass\nbut liveness probe passes in some rare cases and\nit would be nice to restart the pod if readiness\nprobe doesn't pass for a long time.\n\nChange-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575\n""}, {'number': 2, 'created': '2023-04-26 02:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d79cedf9e8d632d6cb91543fed02465b6111008f', 'message': ""Include readiness check into liveness probe\n\nIt appears that readiness probe may not pass\nbut liveness probe passes in some rare cases and\nit would be nice to restart the pod if readiness\nprobe doesn't pass for a long time.\n\nChange-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575\n""}, {'number': 3, 'created': '2023-04-26 03:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1f72910b579b166ee7de1ece762dd2e70890370', 'message': ""Include readiness check into liveness probe\n\nIt appears that readiness probe may not pass\nbut liveness probe passes in some rare cases and\nit would be nice to restart the pod if readiness\nprobe doesn't pass for a long time.\n\nChange-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575\n""}, {'number': 4, 'created': '2023-05-22 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b049576722d3b081818c944fb241257f90e8c76', 'message': ""Include readiness check into liveness probe\n\nIt appears that readiness probe may not pass\nbut liveness probe passes in some rare cases and\nit would be nice to restart the pod if readiness\nprobe doesn't pass for a long time.\n\nChange-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575\n""}, {'number': 5, 'created': '2023-05-22 16:14:01.000000000', 'files': ['neutron/templates/configmap-bin.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-liveness.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/483287239726e76f238d8d9a58506f0f405ec5f9', 'message': ""Include readiness check into liveness probe\n\nIt appears that readiness probe may not pass\nbut liveness probe passes in some rare cases and\nit would be nice to restart the pod if readiness\nprobe doesn't pass for a long time.\n\nChange-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575\n""}]",1,881532,483287239726e76f238d8d9a58506f0f405ec5f9,20,3,5,21040,,,0,"Include readiness check into liveness probe

It appears that readiness probe may not pass
but liveness probe passes in some rare cases and
it would be nice to restart the pod if readiness
probe doesn't pass for a long time.

Change-Id: I12049e4e84e2bc7d5ad90334ecdf91e25c61e575
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/881532/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/configmap-bin.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-liveness.sh.tpl']",3,360bc19f22718b1e5bf72f8b11db7261847d2fa3,,"#!/bin/bash {{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -e /tmp/neutron-openvswitch-agent-readiness.sh python \ /tmp/health-probe.py \ --config-file \ /etc/neutron/neutron.conf \ --config-file \ /etc/neutron/plugins/ml2/openvswitch_agent.ini \ --agent-queue-name \ q-agent-notifier-tunnel-update \ --liveness-probe {{- if .Values.pod.use_fqdn.neutron_agent }} --use-fqdn \ {{- end }} --liveness-probe ",,40,12
openstack%2Foslo.utils~master~Ica344021a4e922bcfd20d20cffcce585a5742c8f,openstack/oslo.utils,master,Ica344021a4e922bcfd20d20cffcce585a5742c8f,Fix compatibility with Python 3.8,MERGED,2023-05-10 06:18:32.000000000,2023-05-24 16:57:23.000000000,2023-05-24 16:51:56.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-10 06:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/77c92431a323301c075f29d3c879ac930394ac86', 'message': 'Fix compatibility with Python 3.8\n\nWe removed compatibility with Python 3.8 once but it was added back to\ntested runtimes for 2023.2. Thus we have to make sure the code works\nwith Python 3.8, which was broken by [1].\n\n[1] 7d9fda625fd5e16c91a9b95920c477f857193389\n\nChange-Id: Ica344021a4e922bcfd20d20cffcce585a5742c8f\n'}, {'number': 2, 'created': '2023-05-15 08:31:02.000000000', 'files': ['requirements.txt', 'oslo_utils/timeutils.py', 'releasenotes/notes/implement-zoneinfo-to-remove-pytz-fba6f70db09ecdb8.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/2c8668c4e5ec30d3e19af97ff15aae232bf0984b', 'message': 'Fix compatibility with Python 3.8\n\nWe removed compatibility with Python 3.8 once but it was added back to\ntested runtimes for 2023.2. Thus we have to make sure the code works\nwith Python 3.8, which was broken by [1].\n\nNote that ptyz is added back to requirmenets.txt and is now required\nregardless of the python version. This is a short term solution until\nwe figure out the way to fix the requirement-check job (or we again\nremove python 3.8 support).\n\n[1] 7d9fda625fd5e16c91a9b95920c477f857193389\n\nChange-Id: Ica344021a4e922bcfd20d20cffcce585a5742c8f\n'}]",0,882800,2c8668c4e5ec30d3e19af97ff15aae232bf0984b,10,3,2,9816,,,0,"Fix compatibility with Python 3.8

We removed compatibility with Python 3.8 once but it was added back to
tested runtimes for 2023.2. Thus we have to make sure the code works
with Python 3.8, which was broken by [1].

Note that ptyz is added back to requirmenets.txt and is now required
regardless of the python version. This is a short term solution until
we figure out the way to fix the requirement-check job (or we again
remove python 3.8 support).

[1] 7d9fda625fd5e16c91a9b95920c477f857193389

Change-Id: Ica344021a4e922bcfd20d20cffcce585a5742c8f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/00/882800/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_utils/timeutils.py', 'releasenotes/notes/implement-zoneinfo-to-remove-pytz-fba6f70db09ecdb8.yaml']",3,77c92431a323301c075f29d3c879ac930394ac86,, Implement zoneinfo to allow us to remove pytz's dependency for Python 3.9 and 3.10.," Implement zoneinfo to allow us to remove pytz's dependency. zoneinfo was introduced by python 3.9, and the series 2023.2 (bobcat) set py39 as the minimal supported runtime, so we are able to remove pytz.",18,6
openstack%2Fkolla~stable%2Fzed~I2a5a0d761223b4e99c8df59f80261108380d5038,openstack/kolla,stable/zed,I2a5a0d761223b4e99c8df59f80261108380d5038,opensearch-dashboards: Fix permissions,MERGED,2023-05-24 13:48:36.000000000,2023-05-24 16:48:27.000000000,2023-05-24 16:47:26.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-24 13:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/928a20abfd4ca47efd4725c47e475c3f25ec37b4', 'message': 'opensearch-dashboards: Fix permissions\n\nSince we moved to using rpm/deb packages, the user has changed.\n\nRelated-Bug: #2020152\nChange-Id: I2a5a0d761223b4e99c8df59f80261108380d5038\n(cherry picked from commit 6786e4384c1a19e4658310e109b8ab9704f5eff9)\n'}, {'number': 2, 'created': '2023-05-24 13:49:05.000000000', 'files': ['docker/opensearch/opensearch-dashboards/Dockerfile.j2', 'kolla/common/users.py', 'docker/opensearch/opensearch-dashboards/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d793de2a482ea21a3dec90828605f3fb8d9e4380', 'message': 'opensearch-dashboards: Fix permissions\n\nSince we moved to using rpm/deb packages, the user has changed.\n\nRelated-Bug: #2020152\nChange-Id: I2a5a0d761223b4e99c8df59f80261108380d5038\n(cherry picked from commit 6786e4384c1a19e4658310e109b8ab9704f5eff9)\n'}]",0,883928,d793de2a482ea21a3dec90828605f3fb8d9e4380,12,4,2,22629,,,0,"opensearch-dashboards: Fix permissions

Since we moved to using rpm/deb packages, the user has changed.

Related-Bug: #2020152
Change-Id: I2a5a0d761223b4e99c8df59f80261108380d5038
(cherry picked from commit 6786e4384c1a19e4658310e109b8ab9704f5eff9)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/883928/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/opensearch/opensearch-dashboards/Dockerfile.j2', 'kolla/common/users.py', 'docker/opensearch/opensearch-dashboards/extend_start.sh']",3,928a20abfd4ca47efd4725c47e475c3f25ec37b4,,"if [[ ! -d ""/var/log/kolla/opensearch-dashboards"" ]]; then mkdir -p /var/log/kolla/opensearch-dashboardsif [[ $(stat -c %a /var/log/kolla/opensearch-dashboards) != ""755"" ]]; then chmod 755 /var/log/kolla/opensearch-dashboards","if [[ ! -d ""/var/log/kolla/opensearch"" ]]; then mkdir -p /var/log/kolla/opensearchif [[ $(stat -c %a /var/log/kolla/opensearch) != ""755"" ]]; then chmod 755 /var/log/kolla/opensearch",17,6
openstack%2Fpuppet-openstack-integration~stable%2F2023.1~I3855207d3f8c06dfc17346c984f01b59e5f3c8d9,openstack/puppet-openstack-integration,stable/2023.1,I3855207d3f8c06dfc17346c984f01b59e5f3c8d9,Fix ironic-inspector endpoint url,MERGED,2023-05-24 01:06:13.000000000,2023-05-24 16:47:43.000000000,2023-05-24 16:47:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 01:06:13.000000000', 'files': ['manifests/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/00d89b36ea76a132dea33c72f7228b45949524bb', 'message': 'Fix ironic-inspector endpoint url\n\nThis fixes the endpoints for ironic-inspector, so that these endpoints\ncontain the correct IP version instead of using 127.0.0.1(default)\nalways.\n\nChange-Id: I3855207d3f8c06dfc17346c984f01b59e5f3c8d9\n(cherry picked from commit 466824008a8f20eb6b47d23cf6752e4d8d7b1a16)\n'}]",0,883916,00d89b36ea76a132dea33c72f7228b45949524bb,7,3,1,9816,,,0,"Fix ironic-inspector endpoint url

This fixes the endpoints for ironic-inspector, so that these endpoints
contain the correct IP version instead of using 127.0.0.1(default)
always.

Change-Id: I3855207d3f8c06dfc17346c984f01b59e5f3c8d9
(cherry picked from commit 466824008a8f20eb6b47d23cf6752e4d8d7b1a16)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/883916/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ironic.pp'],1,00d89b36ea76a132dea33c72f7228b45949524bb,," public_url => ""http://${::openstack_integration::config::ip_for_url}:5050"", internal_url => ""http://${::openstack_integration::config::ip_for_url}:5050"", admin_url => ""http://${::openstack_integration::config::ip_for_url}:5050"", password => 'a_big_secret',"," password => 'a_big_secret',",4,1
openstack%2Fpuppet-openstack-integration~master~Id6b0aad7aa24af2b6d03d484ada23357828c4325,openstack/puppet-openstack-integration,master,Id6b0aad7aa24af2b6d03d484ada23357828c4325,Enable service user token for interaction with nova/barbican,MERGED,2023-05-23 01:17:18.000000000,2023-05-24 16:47:41.000000000,2023-05-24 16:47:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 01:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ab653b274958cde287b4589ffbd872cc0490e0fa', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}, {'number': 2, 'created': '2023-05-23 01:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/745c643424a5ac8cc3e3d62724fbaac4164905a0', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}, {'number': 3, 'created': '2023-05-23 02:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ff54f96d35bb63d411fe79045b6c1be64a3e1d0d', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}, {'number': 4, 'created': '2023-05-23 04:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f894fd6639c3ae84d0308da420f38d30f6551998', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}, {'number': 5, 'created': '2023-05-23 06:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ca1306c76d8d8a698e7aae84277c542d61c5dbe4', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}, {'number': 6, 'created': '2023-05-23 07:42:42.000000000', 'files': ['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/ceilometer.pp', 'manifests/cinder.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/swift.pp', 'manifests/octavia.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/manila.pp', 'manifests/neutron.pp', 'manifests/glance.pp', 'manifests/sahara.pp', 'manifests/barbican.pp', 'manifests/heat.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/20824c70d576791d68a101c9bbc6d56140c832d7', 'message': 'Enable service user token for interaction with nova/barbican\n\nThis enables usage of service user token for interaction with nova and\nbarbican to avoid failure caused by token expiration during operations.\n\nThis also enables service_token_roles_required option in authtoken\nmiddleware to allow only users with the service role to use this\nfeature.\n\nChange-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325\n'}]",2,883881,20824c70d576791d68a101c9bbc6d56140c832d7,19,3,6,9816,,,0,"Enable service user token for interaction with nova/barbican

This enables usage of service user token for interaction with nova and
barbican to avoid failure caused by token expiration during operations.

This also enables service_token_roles_required option in authtoken
middleware to allow only users with the service role to use this
feature.

Change-Id: Id6b0aad7aa24af2b6d03d484ada23357828c4325
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/883881/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'manifests/trove.pp', 'manifests/aodh.pp', 'manifests/magnum.pp', 'manifests/zaqar.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/vitrage.pp', 'manifests/ec2api.pp', 'manifests/manila.pp', 'manifests/neutron.pp', 'manifests/cinder.pp', 'manifests/glance.pp', 'manifests/gnocchi.pp', 'manifests/murano.pp', 'manifests/watcher.pp', 'manifests/mistral.pp', 'manifests/ironic.pp', 'manifests/sahara.pp', 'manifests/swift.pp', 'manifests/barbican.pp', 'manifests/heat.pp', 'manifests/octavia.pp']",23,ab653b274958cde287b4589ffbd872cc0490e0fa,," password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, www_authenticate_uri => $::openstack_integration::config::keystone_auth_uri, memcached_servers => $::openstack_integration::config::memcached_servers, service_token_roles_required => true,"," password => 'a_big_secret', user_domain_name => 'Default', project_domain_name => 'Default', auth_url => $::openstack_integration::config::keystone_admin_uri, www_authenticate_uri => $::openstack_integration::config::keystone_auth_uri, memcached_servers => $::openstack_integration::config::memcached_servers,",180,136
openstack%2Fcharm-guide~master~I7f1afc380d904aed77983935daf8cee78cfc8afe,openstack/charm-guide,master,I7f1afc380d904aed77983935daf8cee78cfc8afe,Fix broken links,MERGED,2023-05-24 16:29:34.000000000,2023-05-24 16:47:02.000000000,2023-05-24 16:45:57.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 16:29:34.000000000', 'files': ['doc/source/admin/networking/ovn/sriov.rst', 'doc/source/concepts/charm-anatomy.rst', 'doc/source/admin/trilio.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5cff85ecccad101539e6ed6643e65a0a326abdfa', 'message': 'Fix broken links\n\nChange-Id: I7f1afc380d904aed77983935daf8cee78cfc8afe\n'}]",1,884249,5cff85ecccad101539e6ed6643e65a0a326abdfa,8,2,1,30561,,,0,"Fix broken links

Change-Id: I7f1afc380d904aed77983935daf8cee78cfc8afe
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/49/884249/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/networking/ovn/sriov.rst', 'doc/source/concepts/charm-anatomy.rst', 'doc/source/admin/trilio.rst']",3,5cff85ecccad101539e6ed6643e65a0a326abdfa,fix-broken-links,.. _TrilioVault: https://trilio.io/products/trilio-for-openstack/,.. _TrilioVault: https://www.trilio.io/triliovault-for-openstack-2/,4,4
openstack%2Fpuppet-neutron~master~I75c04c63288387946e1c89b0677770cf10db73cd,openstack/puppet-neutron,master,I75c04c63288387946e1c89b0677770cf10db73cd,Deprecate support for networking-odl,MERGED,2023-05-24 08:33:39.000000000,2023-05-24 16:39:43.000000000,2023-05-24 16:38:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 08:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1ff5ff04014a8c9cb931597fd807933fbe6591e7', 'message': 'Deprecate support for networking-odl\n\nThe networking-odl project is being deprecated[1].\n\nThis change deprecates the implementations to deploy networking-odl,\nbecause the project is no longer developed.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I75c04c63288387946e1c89b0677770cf10db73cd\n'}, {'number': 2, 'created': '2023-05-24 08:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/10479bd52e45505f955ee568e2c6019feaaccea1', 'message': 'Deprecate support for networking-odl\n\nThe networking-odl project is being deprecated[1].\n\nThis change deprecates the implementations to deploy networking-odl,\nbecause the project is no longer developed.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I75c04c63288387946e1c89b0677770cf10db73cd\n'}, {'number': 3, 'created': '2023-05-24 10:09:49.000000000', 'files': ['releasenotes/notes/deprecate-networking-odl-d8c4e26ffb283811.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/065907327c3b0bd8585605d1ef94907130743572', 'message': 'Deprecate support for networking-odl\n\nThe networking-odl project is being deprecated[1].\n\nThis change deprecates the implementations to deploy networking-odl,\nbecause the project is no longer developed.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I75c04c63288387946e1c89b0677770cf10db73cd\n'}]",0,884008,065907327c3b0bd8585605d1ef94907130743572,11,3,3,9816,,,0,"Deprecate support for networking-odl

The networking-odl project is being deprecated[1].

This change deprecates the implementations to deploy networking-odl,
because the project is no longer developed.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Change-Id: I75c04c63288387946e1c89b0677770cf10db73cd
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/08/884008/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-networking-odl-d8c4e26ffb283811.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp']",3,1ff5ff04014a8c9cb931597fd807933fbe6591e7,networking-odl,# DEPRECATED !! warning('Support for networking-odl has been deprecated.') ,,11,0
openstack%2Fironic-inspector~master~I63a58fe8d3bb0ec23fa9b01d562197915f57d3b5,openstack/ironic-inspector,master,I63a58fe8d3bb0ec23fa9b01d562197915f57d3b5,DNM: Change inspector to enforce scope,NEW,2023-05-24 15:20:24.000000000,2023-05-24 16:39:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 15:20:24.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/610d0d897281b215b06077a550a70e6702fac116', 'message': 'DNM: Change inspector to enforce scope\n\nChange-Id: I63a58fe8d3bb0ec23fa9b01d562197915f57d3b5\n'}]",0,884236,610d0d897281b215b06077a550a70e6702fac116,2,1,1,11655,,,0,"DNM: Change inspector to enforce scope

Change-Id: I63a58fe8d3bb0ec23fa9b01d562197915f57d3b5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/36/884236/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,610d0d897281b215b06077a550a70e6702fac116,,IRONIC_INSPECTOR_ENFORCE_SCOPE=${IRONIC_INSPECTOR_ENFORCE_SCOPE:-${IRONIC_ENFORCE_SCOPE:-True}}IRONIC_INSPECTOR_ENFORCE_SCOPE=$(trueorfalse True IRONIC_INSPECTOR_ENFORCE_SCOPE)IRONIC_ENFORCE_SCOPE=$(trueorfalse True IRONIC_ENFORCE_SCOPE),IRONIC_INSPECTOR_ENFORCE_SCOPE=${IRONIC_INSPECTOR_ENFORCE_SCOPE:-${IRONIC_ENFORCE_SCOPE:-False}}IRONIC_INSPECTOR_ENFORCE_SCOPE=$(trueorfalse False IRONIC_INSPECTOR_ENFORCE_SCOPE)IRONIC_ENFORCE_SCOPE=$(trueorfalse False IRONIC_ENFORCE_SCOPE),3,3
openstack%2Fpuppet-neutron~master~I3600888f42a68d75fa4a6ca7915a80cd07b27c89,openstack/puppet-neutron,master,I3600888f42a68d75fa4a6ca7915a80cd07b27c89,Fix wrong package name of networking-odl,MERGED,2023-05-24 08:40:35.000000000,2023-05-24 16:38:36.000000000,2023-05-24 16:38:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 08:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c4478cee7e5713b390890b23c623407b84744e7d', 'message': 'Fix wrong package name of networking-odl\n\nThe package is not named python3-* instead of python- in all of\nthe supported platforms.\n\nChange-Id: I3600888f42a68d75fa4a6ca7915a80cd07b27c89\n'}, {'number': 2, 'created': '2023-05-24 10:09:43.000000000', 'files': ['spec/classes/neutron_plugins_ml2_opendaylight_spec.rb', 'manifests/params.pp', 'manifests/plugins/ml2/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ad9deff3a246cb98d1571aef86e95b4caa643739', 'message': 'Fix wrong package name of networking-odl\n\nThe package is not named python3-* instead of python- in all of\nthe supported platforms.\n\nChange-Id: I3600888f42a68d75fa4a6ca7915a80cd07b27c89\n'}]",0,884009,ad9deff3a246cb98d1571aef86e95b4caa643739,9,3,2,9816,,,0,"Fix wrong package name of networking-odl

The package is not named python3-* instead of python- in all of
the supported platforms.

Change-Id: I3600888f42a68d75fa4a6ca7915a80cd07b27c89
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/884009/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_opendaylight_spec.rb', 'manifests/params.pp', 'manifests/plugins/ml2/opendaylight.pp']",3,c4478cee7e5713b390890b23c623407b84744e7d,networking-odl," include neutron::params package { 'python-networking-odl': ensure => $package_ensure, name => $::neutron::params::odl_plugin_package tag => ['openstack', 'neutron-plugin-ml2-package'] }"," ensure_resource('package', 'python-networking-odl', { ensure => $package_ensure, tag => ['openstack', 'neutron-plugin-ml2-package'] } )",9,7
openstack%2Fpuppet-nova~stable%2F2023.1~Ibd904309ee5327ec2010925459c1aee4a109b1b0,openstack/puppet-nova,stable/2023.1,Ibd904309ee5327ec2010925459c1aee4a109b1b0,Fix incorrect usage of manage_libvirt_services,MERGED,2023-05-24 07:17:52.000000000,2023-05-24 16:37:19.000000000,2023-05-24 16:36:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 07:17:52.000000000', 'files': ['releasenotes/notes/fix-migration-libvirt-manage-service-3d205cd3772650b7.yaml', 'manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/29f27cb228465f1927951be8e2d749188440a9bc', 'message': 'Fix incorrect usage of manage_libvirt_services\n\nThis parameter determines whether the nova::compute::libvirt class\nshould manage libvirt services. Even if the parameter is set to false,\na user can include nova::compute::libvirt::services explicitly to\nmanage libvirt services. However the nova::migration::libvirt class\ndoes not care whether the service class is additionally included and\nalways ignores the service resources even though libvirt services are\nactually managed.\n\nThis fixes that problem and introduces a proper knob to manage/unmanage\nservices.\n\nChange-Id: Ibd904309ee5327ec2010925459c1aee4a109b1b0\n(cherry picked from commit 30bff6814091fcff6613bb9d20fb5fc402da5357)\n'}]",1,883924,29f27cb228465f1927951be8e2d749188440a9bc,10,3,1,9816,,,0,"Fix incorrect usage of manage_libvirt_services

This parameter determines whether the nova::compute::libvirt class
should manage libvirt services. Even if the parameter is set to false,
a user can include nova::compute::libvirt::services explicitly to
manage libvirt services. However the nova::migration::libvirt class
does not care whether the service class is additionally included and
always ignores the service resources even though libvirt services are
actually managed.

This fixes that problem and introduces a proper knob to manage/unmanage
services.

Change-Id: Ibd904309ee5327ec2010925459c1aee4a109b1b0
(cherry picked from commit 30bff6814091fcff6613bb9d20fb5fc402da5357)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/24/883924/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-migration-libvirt-manage-service-3d205cd3772650b7.yaml', 'manifests/migration/libvirt.pp']",2,29f27cb228465f1927951be8e2d749188440a9bc,,"# [*manage_service*] # (optional) Whether to start/stop the service # Defaults to true # $manage_service = true, validate_legacy(Boolean, 'validate_bool', $manage_service) if $manage_service {"," # Since libvirt >= 5.6, system socket of libvirt should be activated # by systemd, not by --listen option $manage_services = pick($::nova::compute::libvirt::manage_libvirt_services, true) if $manage_services {",20,4
openstack%2Fpuppet-nova~master~Ic656dab4fc49875544289f405f16c7e8a1a11a7c,openstack/puppet-nova,master,Ic656dab4fc49875544289f405f16c7e8a1a11a7c,Remove remaining deprecated libvirt parameter,MERGED,2023-05-23 02:28:24.000000000,2023-05-24 16:37:12.000000000,2023-05-24 16:36:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 02:28:24.000000000', 'files': ['releasenotes/notes/libvirt-opts-further-cleanup-822207eb74910cff.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/48e2dc4e880778fd3d841ecbc537ef5e42b5e69e', 'message': 'Remove remaining deprecated libvirt parameter\n\nThis parameter was deprecated during 2023.1 cycle when we removed\nthe other libvirt parameters[1], and has had no effect since then.\n\n[1] 2e0ea37ad5b3575fdf584237c361d79eda7997b2\n\nChange-Id: Ic656dab4fc49875544289f405f16c7e8a1a11a7c\n'}]",0,883885,48e2dc4e880778fd3d841ecbc537ef5e42b5e69e,8,3,1,9816,,,0,"Remove remaining deprecated libvirt parameter

This parameter was deprecated during 2023.1 cycle when we removed
the other libvirt parameters[1], and has had no effect since then.

[1] 2e0ea37ad5b3575fdf584237c361d79eda7997b2

Change-Id: Ic656dab4fc49875544289f405f16c7e8a1a11a7c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/85/883885/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-opts-further-cleanup-822207eb74910cff.yaml', 'manifests/compute/libvirt.pp']",2,48e2dc4e880778fd3d841ecbc537ef5e42b5e69e,,,"# DEPRECATED PARAMETERS # # [*modular_libvirt*] # (optional) Whether to enable modular libvirt daemons or use monolithic # libvirt daemon. # Defaults to undef # # DEPRECATED PARAMETERS $modular_libvirt = undef, if $modular_libvirt != undef { warning('The modular_libvirt parameter has been deprecated and has no effect.') } ",4,13
openstack%2Fansible-hardening~master~I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,openstack/ansible-hardening,master,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-23 17:00:30.000000000,2023-05-24 16:28:32.000000000,2023-05-24 16:27:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-23 17:00:30.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/037e5493b6b09c08bba8e63dd162267b007d0d03', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n""}]",1,883957,037e5493b6b09c08bba8e63dd162267b007d0d03,9,4,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/57/883957/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,037e5493b6b09c08bba8e63dd162267b007d0d03,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fneutron~stable%2F2023.1~I077fe87435f61bd29d5c1efc979c2adebca26181,openstack/neutron,stable/2023.1,I077fe87435f61bd29d5c1efc979c2adebca26181,"Revert ""Delete sg rule which remote is the deleted sg""",MERGED,2023-05-24 09:54:30.000000000,2023-05-24 16:24:47.000000000,2023-05-24 16:19:28.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 09:54:30.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3fb57617d56acb312cef18d32881dd608967313', 'message': 'Revert ""Delete sg rule which remote is the deleted sg""\n\nThis reverts commit 63584957203ec9f5ba165177978213c3909f81f0.\n\nReason for revert: This is generating a lot of\n""SecurityGroupNotFound"" errors in neutron-server.log in\nthe tempest-integrated-networking job.\n\nCloses-Bug: #2019449\nRelated-Bug: #2008712\nChange-Id: I077fe87435f61bd29d5c1efc979c2adebca26181\n(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)\n'}]",0,883927,d3fb57617d56acb312cef18d32881dd608967313,9,3,1,8313,,,0,"Revert ""Delete sg rule which remote is the deleted sg""

This reverts commit 63584957203ec9f5ba165177978213c3909f81f0.

Reason for revert: This is generating a lot of
""SecurityGroupNotFound"" errors in neutron-server.log in
the tempest-integrated-networking job.

Closes-Bug: #2019449
Related-Bug: #2008712
Change-Id: I077fe87435f61bd29d5c1efc979c2adebca26181
(cherry picked from commit ebc0658d5566ce527cb1104968d247db10edf3db)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/883927/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,d3fb57617d56acb312cef18d32881dd608967313,bug/2008712-stable/2023.1," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, payload): context = n_context.get_admin_context() security_group_id = payload.resource_id for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, payload): context = payload.context sg_rule = payload.metadata['rule'] self._ovn_client.delete_security_group_rule(context, sg_rule) ",11,78
openstack%2Fkolla~master~I81f4b8ed4c4d373081169c595a926e39cee84d8a,openstack/kolla,master,I81f4b8ed4c4d373081169c595a926e39cee84d8a,"Revert ""CentOS: move gpg keys to repo files""",NEW,2023-01-27 22:49:17.000000000,2023-05-24 16:23:54.000000000,,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-01-27 22:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/500172ed12f38837953eeb4d7942225587feedab', 'message': 'Revert ""CentOS: move gpg keys to repo files""\n\nThis reverts commit d73dc618aa6b20727ca7d1fc1e9dc5905201869c.\n\nReason for revert: This breaks the Image Customisation ability for the custom repos of the MariaDB/RabbitMQ in the Kayobe: https://docs.openstack.org/kayobe/latest/configuration/reference/kolla.html#image-customisation\n\nChange-Id: I81f4b8ed4c4d373081169c595a926e39cee84d8a\n'}, {'number': 2, 'created': '2023-01-28 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07d08c58d4879e17fb943f249c8423d7339457f0', 'message': 'Revert ""CentOS: move gpg keys to repo files""\n\nThis reverts commit d73dc618aa6b20727ca7d1fc1e9dc5905201869c.\n\nReason for revert: This breaks the Image Customisation ability for the custom repos of the MariaDB/RabbitMQ in the Kayobe: https://docs.openstack.org/kayobe/latest/configuration/reference/kolla.html#image-customisation\n\nAlso this change fix accidentally forgotten influxdb.key.\n\nChange-Id: I81f4b8ed4c4d373081169c595a926e39cee84d8a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-01-31 09:29:43.000000000', 'files': ['docker/base/mariadb.repo', 'docker/base/Dockerfile.j2', 'docker/base/influxdb.repo', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d65ae2d5e47ce983a0f23591a025be0073a4199f', 'message': 'Revert ""CentOS: move gpg keys to repo files""\n\nThis reverts commit d73dc618aa6b20727ca7d1fc1e9dc5905201869c.\n\nReason for revert: This breaks the Kolla Customisation [1] ability for\nthe custom repos (for example local mirrors). Also affects other\nprojects that use these customisations methods, like Kayobe [2].\n\nAlso this change fixes the Influx gpg key issue because it has been\nrotated as of of 2023-01-26 [3].\n\n 1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation\n 2. https://docs.openstack.org/kayobe/latest/configuration/reference/kolla.html#image-customisation\n 3. https://www.influxdata.com/blog/linux-package-signing-key-rotation/\n\nChange-Id: I81f4b8ed4c4d373081169c595a926e39cee84d8a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",9,872005,d65ae2d5e47ce983a0f23591a025be0073a4199f,19,5,3,14200,,,0,"Revert ""CentOS: move gpg keys to repo files""

This reverts commit d73dc618aa6b20727ca7d1fc1e9dc5905201869c.

Reason for revert: This breaks the Kolla Customisation [1] ability for
the custom repos (for example local mirrors). Also affects other
projects that use these customisations methods, like Kayobe [2].

Also this change fixes the Influx gpg key issue because it has been
rotated as of of 2023-01-26 [3].

 1. https://docs.openstack.org/kolla/latest/admin/image-building.html#dockerfile-customisation
 2. https://docs.openstack.org/kayobe/latest/configuration/reference/kolla.html#image-customisation
 3. https://www.influxdata.com/blog/linux-package-signing-key-rotation/

Change-Id: I81f4b8ed4c4d373081169c595a926e39cee84d8a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/872005/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/mariadb.repo', 'docker/base/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo']",4,500172ed12f38837953eeb4d7942225587feedab,,,gpgkey = https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc,4,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3bf2531fc233a03ffe99864318b5c7e88238886c,openstack/tripleo-ansible,stable/wallaby,I3bf2531fc233a03ffe99864318b5c7e88238886c,Remove console=tty0 and nomodeset from kernel arguments,NEW,2023-04-20 02:36:33.000000000,2023-05-24 16:23:30.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-04-20 02:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/099f8ae3d9f8e57a28a7ca10de33f10bf3318e77', 'message': 'Remove console=tty0 from kernel arguments\n\nExisting deployments are seeing significant preformance regression due\nto the kernel doing writes to the virtual terminal on hosts with\nparticular graphics hardware.\n\nThis change will remove any existing console=tty0 kernel arguments\nwhen any other kernel arguments are also explicitly set.\n\nChange-Id: I3bf2531fc233a03ffe99864318b5c7e88238886c\nResolves: rhbz#2179366\n'}, {'number': 2, 'created': '2023-05-03 01:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c5fbc887934c5c34f497019f032a96b51ef5978a', 'message': 'Remove console=tty0 and nomodeset from kernel arguments\n\nExisting deployments are seeing significant preformance regression due\nto the kernel doing writes to the virtual terminal on hosts with\nparticular graphics hardware.\n\nThis change will remove any existing console=tty0 and nomodeset kernel\narguments when any other kernel arguments are also explicitly set.\n\nFor more context, see the related changes which modify the built\novercloud image.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-common/+/881388\nChange-Id: I3bf2531fc233a03ffe99864318b5c7e88238886c\nResolves: rhbz#2179366\n'}, {'number': 3, 'created': '2023-05-23 19:38:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/playbooks/cli-overcloud-node-kernelargs.yaml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4deb637f67b17a41f419219a68e5b848c724b270', 'message': 'Remove console=tty0 and nomodeset from kernel arguments\n\nExisting deployments are seeing significant preformance regression due\nto the kernel doing writes to the virtual terminal on hosts with\nparticular graphics hardware.\n\nThis change will remove any existing console=tty0 and nomodeset kernel\narguments when any other kernel arguments are also explicitly set.\n\nFor more context, see the related changes which modify the built\novercloud image.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-common/+/881388\nChange-Id: I3bf2531fc233a03ffe99864318b5c7e88238886c\nResolves: rhbz#2179366\n'}]",4,880901,4deb637f67b17a41f419219a68e5b848c724b270,13,3,3,4571,,,0,"Remove console=tty0 and nomodeset from kernel arguments

Existing deployments are seeing significant preformance regression due
to the kernel doing writes to the virtual terminal on hosts with
particular graphics hardware.

This change will remove any existing console=tty0 and nomodeset kernel
arguments when any other kernel arguments are also explicitly set.

For more context, see the related changes which modify the built
overcloud image.

Related: https://review.opendev.org/c/openstack/tripleo-common/+/881388
Change-Id: I3bf2531fc233a03ffe99864318b5c7e88238886c
Resolves: rhbz#2179366
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/880901/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/playbooks/cli-overcloud-node-kernelargs.yaml', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml']",3,099f8ae3d9f8e57a28a7ca10de33f10bf3318e77,rhbz/2179366,tripleo_kernel_console_tty0_remove: true,,9,0
openstack%2Fpuppet-horizon~stable%2F2023.1~Ic53612971f8e8d88e3f052583c5f4dba42c4a113,openstack/puppet-horizon,stable/2023.1,Ic53612971f8e8d88e3f052583c5f4dba42c4a113,ENFORCE_PASSWORD_CHECK is a standalone setting,MERGED,2023-05-23 13:20:29.000000000,2023-05-24 16:13:02.000000000,2023-05-24 16:13:02.000000000,"[{'_account_id': 8648}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 13:20:29.000000000', 'files': ['templates/local_settings.py.erb', 'spec/classes/horizon_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/74b379f270434b0914076efd2512152889dddfb7', 'message': 'ENFORCE_PASSWORD_CHECK is a standalone setting\n\n... , not in HORIZON_CONFIG\n\nChange-Id: Ic53612971f8e8d88e3f052583c5f4dba42c4a113\n(cherry picked from commit 910420589e465b2881702f022b1e3d453070bc11)\n'}]",0,883911,74b379f270434b0914076efd2512152889dddfb7,10,4,1,9816,,,0,"ENFORCE_PASSWORD_CHECK is a standalone setting

... , not in HORIZON_CONFIG

Change-Id: Ic53612971f8e8d88e3f052583c5f4dba42c4a113
(cherry picked from commit 910420589e465b2881702f022b1e3d453070bc11)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/11/883911/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'spec/classes/horizon_init_spec.rb']",2,74b379f270434b0914076efd2512152889dddfb7,pass-check," 'ENFORCE_PASSWORD_CHECK = True',"," 'HORIZON_CONFIG[""enforce_password_check""] = True',",3,3
openstack%2Fcharm-placement-k8s~stable%2Fantelope~I526004e6f1a03ecddb4e45ca259bc9cff08c07a6,openstack/charm-placement-k8s,stable/antelope,I526004e6f1a03ecddb4e45ca259bc9cff08c07a6,Switch to Antelope,ABANDONED,2023-05-24 08:30:41.000000000,2023-05-24 16:06:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 08:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/60ce36ca1af91e917631e75267f1037515b40ab3', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I526004e6f1a03ecddb4e45ca259bc9cff08c07a6\n'}, {'number': 2, 'created': '2023-05-24 08:33:41.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/4a881394234e63dc2d20890553e3ccfb2fc7fc1c', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I526004e6f1a03ecddb4e45ca259bc9cff08c07a6\n'}]",1,884007,4a881394234e63dc2d20890553e3ccfb2fc7fc1c,8,1,2,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I526004e6f1a03ecddb4e45ca259bc9cff08c07a6
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/07/884007/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,60ce36ca1af91e917631e75267f1037515b40ab3,antelope,The charm by default uses `ghcr.io/openstack-snaps/placement-api:antelope` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-placement:xena` image.,5,6
openstack%2Fcharm-glance-k8s~stable%2Fantelope~Icba991b976e0d9f902d1aa707773adc19c3895dd,openstack/charm-glance-k8s,stable/antelope,Icba991b976e0d9f902d1aa707773adc19c3895dd,Switch to Antelope,ABANDONED,2023-05-24 10:35:51.000000000,2023-05-24 16:06:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 10:35:51.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/6ae09e5d78c8fcc0c61dd1f4d67bfa51fda3058a', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: Icba991b976e0d9f902d1aa707773adc19c3895dd\n'}]",0,884168,6ae09e5d78c8fcc0c61dd1f4d67bfa51fda3058a,4,1,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: Icba991b976e0d9f902d1aa707773adc19c3895dd
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/68/884168/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",6,6ae09e5d78c8fcc0c61dd1f4d67bfa51fda3058a,antelope,The charm by default uses `ghcr.io/openstack-snaps/glance-api:antelope` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-glance:xena` image.,7,7
openstack%2Fcharm-horizon-k8s~stable%2Fantelope~I59b5b35f20aeceee26bc0e1dac41cb9a14c690f8,openstack/charm-horizon-k8s,stable/antelope,I59b5b35f20aeceee26bc0e1dac41cb9a14c690f8,Switch to Antelope,ABANDONED,2023-05-24 11:19:25.000000000,2023-05-24 16:06:29.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 11:19:25.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/b318747dba39062432fde6c150ad73e471620f80', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I59b5b35f20aeceee26bc0e1dac41cb9a14c690f8\n'}]",0,884179,b318747dba39062432fde6c150ad73e471620f80,5,2,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I59b5b35f20aeceee26bc0e1dac41cb9a14c690f8
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/79/884179/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'metadata.yaml', 'README.md']",5,b318747dba39062432fde6c150ad73e471620f80,antelope,The charm by default uses `ghcr.io/openstack-snaps/horizon:antelope` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-horizon:yoga` image.,6,6
openstack%2Fcharm-neutron-k8s~stable%2Fantelope~Ia9b0c851a5bf4ef07ec5d0f3fde59438c6a49103,openstack/charm-neutron-k8s,stable/antelope,Ia9b0c851a5bf4ef07ec5d0f3fde59438c6a49103,Switch to Antelope,ABANDONED,2023-05-24 10:31:10.000000000,2023-05-24 16:06:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 10:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/2e0c64ac63923f237906fe1f27321ad9bf9ff2aa', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: Ia9b0c851a5bf4ef07ec5d0f3fde59438c6a49103\n'}, {'number': 2, 'created': '2023-05-24 10:58:16.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'src/templates/api-paste.ini.j2', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3b50231b6c2f3f090feb872542f94678a38da61b', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: Ia9b0c851a5bf4ef07ec5d0f3fde59438c6a49103\n'}]",0,884166,3b50231b6c2f3f090feb872542f94678a38da61b,5,1,2,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: Ia9b0c851a5bf4ef07ec5d0f3fde59438c6a49103
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/66/884166/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",6,2e0c64ac63923f237906fe1f27321ad9bf9ff2aa,antelope,The charm by default uses `ghcr.io/openstack-snaps/neutron-server:antelope` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-neutron-server:yoga` image.,7,7
openstack%2Fcharm-keystone-k8s~stable%2Fantelope~I5c642a14023ddab36a3e7a027a2bb9619604c2c8,openstack/charm-keystone-k8s,stable/antelope,I5c642a14023ddab36a3e7a027a2bb9619604c2c8,Switch to Antelope,ABANDONED,2023-05-24 10:19:59.000000000,2023-05-24 16:06:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 10:19:59.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/7caf70241fbe7a0e3e163edf96ab4ea749f297f0', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I5c642a14023ddab36a3e7a027a2bb9619604c2c8\n'}]",0,884164,7caf70241fbe7a0e3e163edf96ab4ea749f297f0,4,1,1,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I5c642a14023ddab36a3e7a027a2bb9619604c2c8
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/64/884164/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', '.gitreview', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",6,7caf70241fbe7a0e3e163edf96ab4ea749f297f0,antelope,The charm by default uses `ghcr.io/openstack-snaps/keystone:antelope` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-keystone:xena` image.,7,7
openstack%2Fneutron-dynamic-routing~stable%2Fzed~Ic6d48a86043aaf4b458bb2230883a355fc841ee9,openstack/neutron-dynamic-routing,stable/zed,Ic6d48a86043aaf4b458bb2230883a355fc841ee9,Fix address_scope calculation,MERGED,2023-05-19 16:36:07.000000000,2023-05-24 15:55:33.000000000,2023-05-24 15:54:35.000000000,"[{'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 16:36:07.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/962bb66743caf8b9052776a32ab71c83403dcd54', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet.\nA network can be linked to more than one subnet (ipv4 and ipv6),\nbut if one of them does not have an address_scope, a null object\nelement access failure occurs.\n\nCloses-bug: #1998104\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n(cherry picked from commit feff164b608d00bf8163ea259305c3a64e68c1da)\n'}]",1,883583,962bb66743caf8b9052776a32ab71c83403dcd54,8,3,1,13252,,,0,"Fix address_scope calculation

Fix in the iteration to obtain address_scope linked to a subnet.
A network can be linked to more than one subnet (ipv4 and ipv6),
but if one of them does not have an address_scope, a null object
element access failure occurs.

Closes-bug: #1998104
Change-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9
(cherry picked from commit feff164b608d00bf8163ea259305c3a64e68c1da)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/83/883583/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/db/bgp_db.py'],1,962bb66743caf8b9052776a32ab71c83403dcd54,," if ext_pool is not None: ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set"," ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set",5,3
openstack%2Fovn-octavia-provider~stable%2Fyoga~Ia7a9b5230f9cf56de8278b736022240a780130d6,openstack/ovn-octavia-provider,stable/yoga,Ia7a9b5230f9cf56de8278b736022240a780130d6,Add retry on case of sqlite3.InterfaceError on FT,MERGED,2023-05-22 10:57:22.000000000,2023-05-24 15:50:53.000000000,2023-05-24 15:49:46.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 10:57:22.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/cb7e4417d2525992fbed1e45e29957899b8c0754', 'message': ""Add retry on case of sqlite3.InterfaceError on FT\n\nAfter a thorough review of the issue, it looks like that the problem\ndoes not originate from the base code of ovn-octavia-provider or\nneutron. Other projects are also experiencing this problem,\nindicating that it likely stems from a different source or set of\nlibraries [1].\n\nTo minimize the need for extensive rechecks on future patches, this\npatch introduces a retry mechanism, utilizing tenacity, to the\naffected methods.\n\nOnce the root cause of the problem '(sqlite3.InterfaceError) Cursor\nneeded to be reset because of commit/rollback and can no longer be\nfetched from,' is identified and resolved, this patch should be\nreverted.\n\n[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())\n\nRelated-Bug: #2020195\nChange-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6\n(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)\n""}]",1,883803,cb7e4417d2525992fbed1e45e29957899b8c0754,10,3,1,34451,,,0,"Add retry on case of sqlite3.InterfaceError on FT

After a thorough review of the issue, it looks like that the problem
does not originate from the base code of ovn-octavia-provider or
neutron. Other projects are also experiencing this problem,
indicating that it likely stems from a different source or set of
libraries [1].

To minimize the need for extensive rechecks on future patches, this
patch introduces a retry mechanism, utilizing tenacity, to the
affected methods.

Once the root cause of the problem '(sqlite3.InterfaceError) Cursor
needed to be reset because of commit/rollback and can no longer be
fetched from,' is identified and resolved, this patch should be
reverted.

[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())

Related-Bug: #2020195
Change-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6
(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/03/883803/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/functional/base.py'],1,cb7e4417d2525992fbed1e45e29957899b8c0754,yoga,"from oslo_db import exception as odb_excimport tenacity @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True) @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True)",,13,0
openstack%2Fcharm-nova-cloud-controller~stable%2F2023.1~I95021600da8af12cb75ef5681fb5af8780ade4f8,openstack/charm-nova-cloud-controller,stable/2023.1,I95021600da8af12cb75ef5681fb5af8780ade4f8,Add support for using service tokens,MERGED,2023-05-24 01:15:48.000000000,2023-05-24 15:47:30.000000000,2023-05-24 15:47:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 01:15:48.000000000', 'files': ['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6dee49e54889f77bd421af787a4cd9aa42e5ba0c', 'message': 'Add support for using service tokens\n\nThis patch configures nova-cloud-controller to send a service token\nalong with the received user token on requests sent to other services.\nThis allows those other services to accept the request even if the user\ntoken has been invalidated since received by the nova services running\nin nova-cloud-controller units, the same applies for incoming requests\nfrom other services. Service tokens exist since Openstack Queens.\n\nChange-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8\nCloses-Bug: #1992840\n(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)\n'}]",0,883990,6dee49e54889f77bd421af787a4cd9aa42e5ba0c,7,3,1,2424,,,0,"Add support for using service tokens

This patch configures nova-cloud-controller to send a service token
along with the received user token on requests sent to other services.
This allows those other services to accept the request even if the user
token has been invalidated since received by the nova services running
in nova-cloud-controller units, the same applies for incoming requests
from other services. Service tokens exist since Openstack Queens.

Change-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8
Closes-Bug: #1992840
(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/90/883990/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf']",3,6dee49e54889f77bd421af787a4cd9aa42e5ba0c,bug/1992840,"{% include ""section-service-user"" %} ",,6,0
openstack%2Fcharm-cinder~stable%2F2023.1~I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,openstack/charm-cinder,stable/2023.1,I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,Add support for using service tokens,MERGED,2023-05-18 18:48:32.000000000,2023-05-24 15:45:18.000000000,2023-05-24 15:45:18.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 18:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/94512f34c53278d802dae01f7e8c6aa203e4c1d4', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n'}, {'number': 2, 'created': '2023-05-18 18:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4c810a9d09c55e1c7dc54892618dd654aea10658', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n'}, {'number': 3, 'created': '2023-05-18 19:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f8f9c016b052a1fc63c1105ea83676da5f705bdb', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)\n'}, {'number': 4, 'created': '2023-05-24 13:51:56.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d7b08ddf69ad5ff67d94e11a70a32cfc8f814959', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1061\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)\n'}]",6,883547,d7b08ddf69ad5ff67d94e11a70a32cfc8f814959,21,3,4,2424,,,0,"Add support for using service tokens

This patch configures Cinder to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Cinder. Also with this patch Cinder will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1061
Change-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9
(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/47/883547/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,94512f34c53278d802dae01f7e8c6aa203e4c1d4,lp1992840-stable/2023.1,"{% include ""section-service-user"" %} ",,2,0
openstack%2Fcharm-cinder~stable%2F2023.1~Id418d8ebbec27f046f6127d8ccf94364900ae923,openstack/charm-cinder,stable/2023.1,Id418d8ebbec27f046f6127d8ccf94364900ae923,Charm-helpers sync,MERGED,2023-05-17 18:54:30.000000000,2023-05-24 15:45:17.000000000,2023-05-24 15:45:17.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 18:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4a4fa698054fa573c315c1badd93f85b81bbd22d', 'message': 'Charm-helpers sync\n\nSync up charm-helpers to pick up the change that enables service tokens\nin the keystone section template.\n\nCloses-Bug: #1992840\nChange-Id: Id418d8ebbec27f046f6127d8ccf94364900ae923\n'}, {'number': 2, 'created': '2023-05-18 12:09:02.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2218b720828e9b067b5f2ae825005f79e60d9da3', 'message': 'Charm-helpers sync\n\nSync up charm-helpers to pick up the change that enables service tokens\nin the keystone section template.\n\nCloses-Bug: #1992840\nDepends-On: https://review.opendev.org/c/openstack/charm-nova-compute/+/883404\nChange-Id: Id418d8ebbec27f046f6127d8ccf94364900ae923\n'}]",5,883436,2218b720828e9b067b5f2ae825005f79e60d9da3,16,3,2,2424,,,0,"Charm-helpers sync

Sync up charm-helpers to pick up the change that enables service tokens
in the keystone section template.

Closes-Bug: #1992840
Depends-On: https://review.opendev.org/c/openstack/charm-nova-compute/+/883404
Change-Id: Id418d8ebbec27f046f6127d8ccf94364900ae923
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/36/883436/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka']",3,4a4fa698054fa573c315c1badd93f85b81bbd22d,ch-sync-2023.1,service_token_roles = {{ admin_role }} service_token_roles_required = True,,12,1
openstack%2Fcharm-nova-cloud-controller~stable%2F2023.1~Ib9f0d6a70eb42e6cb441665511fc425cf96a1d1c,openstack/charm-nova-cloud-controller,stable/2023.1,Ib9f0d6a70eb42e6cb441665511fc425cf96a1d1c,Sync with charm-helpers,MERGED,2023-05-24 01:15:48.000000000,2023-05-24 15:42:48.000000000,2023-05-24 15:42:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 01:15:48.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a4252d86f19b078d87a2d0dc794ddb9225c701a7', 'message': 'Sync with charm-helpers\n\nThis sync includes these patches to charm helpers:\n\nhttps://github.com/juju/charm-helpers/pull/740\nhttps://github.com/juju/charm-helpers/pull/757\n\nBoth are meant to include templates to configure service tokens\nin juju charms as shown in LP: #1992840\n\nChange-Id: Ib9f0d6a70eb42e6cb441665511fc425cf96a1d1c\nRelated-Bug: #1992840\n'}]",1,883989,a4252d86f19b078d87a2d0dc794ddb9225c701a7,8,3,1,2424,,,0,"Sync with charm-helpers

This sync includes these patches to charm helpers:

https://github.com/juju/charm-helpers/pull/740
https://github.com/juju/charm-helpers/pull/757

Both are meant to include templates to configure service tokens
in juju charms as shown in LP: #1992840

Change-Id: Ib9f0d6a70eb42e6cb441665511fc425cf96a1d1c
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/89/883989/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka']",3,a4252d86f19b078d87a2d0dc794ddb9225c701a7,bug/1992840,service_token_roles = {{ admin_role }} service_token_roles_required = True,,12,1
openstack%2Fkayobe~master~I000ae473bb759e19b48ecefdbf5d5dc19c833088,openstack/kayobe,master,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-22 18:48:42.000000000,2023-05-24 15:39:18.000000000,2023-05-24 15:38:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 34940}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-22 18:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f5eb94e310b669e9186369d0d8507ee9f55c7fb1', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-05-22 19:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1a8ec8adc97b96f640bd1570b13c7147b5f14ccb', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-05-22 19:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ae0bd13fc1f86a134d5da38fb9aa61d261e907f', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-05-22 20:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8336b4f93deb47b532d3b3d0ac8dc98a34e55cb', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-05-22 23:42:34.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9b58320f6b40de3c33bee179d97dd0bf5bf61986', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",1,883867,9b58320f6b40de3c33bee179d97dd0bf5bf61986,19,6,5,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/67/883867/5 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,f5eb94e310b669e9186369d0d8507ee9f55c7fb1,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Ftripleo-ci~master~I5813e748fa6d979253bde625efa6c3bbe7d0bf71,openstack/tripleo-ci,master,I5813e748fa6d979253bde625efa6c3bbe7d0bf71,Add build-test-package to build-containers role,NEW,2023-05-15 19:47:25.000000000,2023-05-24 15:06:44.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 19:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0e896784d1ffd7f86055a36571643db8585fe440', 'message': 'DNM add build-test-package\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 2, 'created': '2023-05-16 12:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e80610983ef2d172fd238be89b5c2a1f1ba6d09d', 'message': 'DNM add build-test-package\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 3, 'created': '2023-05-16 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db5d447e1a0381e08732f5b57ae467669569c8ce', 'message': 'DNM add build-test-package\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 4, 'created': '2023-05-16 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24711c019c6ecf3f40c13fdec63574b9cdfdf20d', 'message': 'DNM add build-test-package\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 5, 'created': '2023-05-17 18:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f0cf979799dd195cc30bddb0584f6409c6a9a81', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 6, 'created': '2023-05-17 19:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bfe9fb8cadb32459da2a331d5478aab90e684d4e', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 7, 'created': '2023-05-17 20:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0e63ba35fc87ec30ea8742bded686b9a846c1ec4', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 8, 'created': '2023-05-17 21:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e8a9725659a4c3647ccfd9a57809d8775110a9eb', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/883434\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 9, 'created': '2023-05-19 20:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7057aed113e81060db8cd04c2e1d01b5b184763b', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/883434\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}, {'number': 10, 'created': '2023-05-22 20:02:40.000000000', 'files': ['playbooks/tripleo-buildcontainers/pre.yaml', 'roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2698a3fb157f49dfdab668f422ae8ce107dc3ee8', 'message': 'Add build-test-package to build-containers role\n\nThis patch adds build-test-package processing to build-containers\nrole, to process depends-on patches before building containers.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/883434\n\nChange-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71\n'}]",11,883204,2698a3fb157f49dfdab668f422ae8ce107dc3ee8,32,3,10,30002,,,0,"Add build-test-package to build-containers role

This patch adds build-test-package processing to build-containers
role, to process depends-on patches before building containers.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/883434

Change-Id: I5813e748fa6d979253bde625efa6c3bbe7d0bf71
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/04/883204/10 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildcontainers/pre.yaml'],1,0e896784d1ffd7f86055a36571643db8585fe440,update_build_test_pkgs," - name: Set variables for gating repos for ovb jobs set_fact: artg_repos_dir: ""{{ repo_clone_dir|default('/opt/stack/new') }}"" ib_create_web_repo: ""{{ to_build|default(false)|bool }}"" cacheable: true - name: Run DLRN gate role vars: artg_compressed_gating_repo: ""${HOME}/gating_repo.tar.gz"" include_role: name: build-test-packages - name: Install gated repo when: compressed_gating_repo is defined include_role: name: install-built-repo ",,17,0
openstack%2Ftripleo-quickstart-extras~master~I5efc6adf0c8039f6a618b3ae1e1e8184304465d1,openstack/tripleo-quickstart-extras,master,I5efc6adf0c8039f6a618b3ae1e1e8184304465d1,Replace awk with ansible regex_search on build-test-packages,MERGED,2023-05-17 18:33:04.000000000,2023-05-24 15:06:43.000000000,2023-05-24 15:06:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 18:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3425856d8029b9da50e19be95f56b84fa89bce0a', 'message': 'Replace awk with ansible regex_search on build-test-packages\n\nSome jobs[1] are not working with current awk command to get\na substring from rdopkg output. This patch replaces with ansible\nregex_search instead.\n\n[1] https://logserver.rdoproject.org/46/46046/26/check/periodic-tripleo-ci-build-containers-ubi-9-quay-push-wallaby/1cc4376/job-output.txt\n\nChange-Id: I5efc6adf0c8039f6a618b3ae1e1e8184304465d1\n'}, {'number': 2, 'created': '2023-05-17 19:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7c7f7c6207c068c17986e2ff8ea9f9868190f1db', 'message': 'Replace awk with ansible regex_search on build-test-packages\n\nSome jobs[1] are not working with current awk command to get\na substring from rdopkg output. This patch replaces with ansible\nregex_search instead.\n\n[1] https://logserver.rdoproject.org/46/46046/26/check/periodic-tripleo-ci-build-containers-ubi-9-quay-push-wallaby/1cc4376/job-output.txt\n\nChange-Id: I5efc6adf0c8039f6a618b3ae1e1e8184304465d1\n'}, {'number': 3, 'created': '2023-05-17 20:22:44.000000000', 'files': ['roles/build-test-packages/templates/run_dlrn.sh.j2', 'roles/build-test-packages/tasks/dlrn-build.yml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7c1510421abba2a791d2372a6dad0c7e49739ffd', 'message': ""Replace awk with ansible regex_search on build-test-packages\n\nSome jobs[1] are not working with current awk command to get\na substring from rdopkg output. This patch replaces with ansible\nregex_search instead.\nThis patch also fix the 'host' value extract from zuul vars. The\nprevious value is invalid as host when cloning code with git module.\nThis git checkout isn't failing since the previous step, that copies\ncloned code from zuul working dir is always executed with success.\n\n[1] https://logserver.rdoproject.org/46/46046/26/check/periodic-tripleo-ci-build-containers-ubi-9-quay-push-wallaby/1cc4376/job-output.txt\n\nChange-Id: I5efc6adf0c8039f6a618b3ae1e1e8184304465d1\n""}]",10,883434,7c1510421abba2a791d2372a6dad0c7e49739ffd,20,3,3,30002,,,0,"Replace awk with ansible regex_search on build-test-packages

Some jobs[1] are not working with current awk command to get
a substring from rdopkg output. This patch replaces with ansible
regex_search instead.
This patch also fix the 'host' value extract from zuul vars. The
previous value is invalid as host when cloning code with git module.
This git checkout isn't failing since the previous step, that copies
cloned code from zuul working dir is always executed with success.

[1] https://logserver.rdoproject.org/46/46046/26/check/periodic-tripleo-ci-build-containers-ubi-9-quay-push-wallaby/1cc4376/job-output.txt

Change-Id: I5efc6adf0c8039f6a618b3ae1e1e8184304465d1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/34/883434/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/templates/run_dlrn.sh.j2', 'roles/build-test-packages/tasks/dlrn-build.yml']",2,3425856d8029b9da50e19be95f56b84fa89bce0a,update_build_test_pkgs," register: project_name_mapped_output failed_when: project_name_mapped_output.rc != 0 or not project_name_mapped_output.stdout - set_fact: project_name_mapped: ""{{ project_name_mapped_output.stdout | regex_search('name:(.+)', '\\1') | first | trim }}"" WARNING: Got {{ project_name_mapped_output.rc }} result code trying to build {{ artg_change.project }} {{ project_name_mapped_output.stderr }} {{ project_name_mapped_output.stdout }} - when: project_name_mapped is defined artg_rdo_packages: '{{ artg_rdo_packages }} + {{ [ project_name_mapped ] }}' - name: Check if project {{ project_name_mapped }} source already exist stat: path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}/.git' {{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }} dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}' git_path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}' path: ""{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}_distro"" dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped }}_distro' msg: ""Building change for {{ project_name_mapped|default('unknown') }}"""," register: project_name_mapped failed_when: project_name_mapped.rc != 0 or not project_name_mapped.stdout WARNING: Got {{ project_name_mapped.rc }} result code trying to build {{ artg_change.project }} {{ project_name_mapped.stderr }} {{ project_name_mapped.stdout }} - when: project_name_mapped is success artg_rdo_packages: '{{ artg_rdo_packages }} + {{ [ project_name_mapped.stdout ] }}' - name: Check if project {{ project_name_mapped.stdout }} source already exist stat: path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}/.git' {{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }} dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}' git_path: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}' path: ""{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}_distro"" dest: '{{ build_repo_dir }}/DLRN/data/{{ project_name_mapped.stdout }}_distro' msg: ""Building change for {{ project_name_mapped.stdout|default('unknown') }}""",19,16
openstack%2Fnova~stable%2Fyoga~Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,openstack/nova,stable/yoga,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,MERGED,2022-12-16 21:27:42.000000000,2023-05-24 15:00:16.000000000,2023-05-24 14:58:59.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-12-16 21:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3919644103561b8fdd50c51ca80ba1ef3b626560', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n'}, {'number': 2, 'created': '2022-12-16 21:30:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b881dd25b4abb3c54934d8ebbccb2ac602c83177', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n'}]",6,868010,b881dd25b4abb3c54934d8ebbccb2ac602c83177,28,6,2,6618,,,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)
(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/868010/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']",4,3919644103561b8fdd50c51ca80ba1ef3b626560,bug1974070," exception.UnexpectedDeletingTaskStateError, exception.ComputeResourcesUnavailable):", exception.UnexpectedDeletingTaskStateError):,70,3
openstack%2Fkolla~stable%2Fwallaby~I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,openstack/kolla,stable/wallaby,I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,fluentd: pin fluent-plugin-elasticsearch to <5.3.0,MERGED,2023-05-18 14:39:41.000000000,2023-05-24 14:54:23.000000000,2023-05-24 14:53:14.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-18 14:39:41.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fccf664b4b64f2711c4eea616114ae60aa4f78c', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nCloses-Bug: #2019557\nChange-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8\n(cherry picked from commit 64ab2e983de8bec2da394110334c88a7b35d5773)\n""}]",0,883536,4fccf664b4b64f2711c4eea616114ae60aa4f78c,10,4,1,22629,,,0,"fluentd: pin fluent-plugin-elasticsearch to <5.3.0

5.3.0 requires faraday>2.0, let's pin stable branches requiring
ElasticSearch support.

Closes-Bug: #2019557
Change-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8
(cherry picked from commit 64ab2e983de8bec2da394110334c88a7b35d5773)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/883536/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,4fccf664b4b64f2711c4eea616114ae60aa4f78c,," 'fluent-plugin-elasticsearch:""<5.3.0""',"," 'fluent-plugin-elasticsearch',",1,1
openstack%2Fkolla~stable%2Fxena~I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,openstack/kolla,stable/xena,I13fe5b46fed3f1ad14eab9fae513617a3d2053c8,fluentd: pin fluent-plugin-elasticsearch to <5.3.0,MERGED,2023-05-18 13:50:48.000000000,2023-05-24 14:54:21.000000000,2023-05-24 14:53:12.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-18 13:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bb019db8d1f008f04564edc59074a7416a065ccb', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nCloses-Bug: #2019557\nChange-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8\n(cherry picked from commit 64ab2e983de8bec2da394110334c88a7b35d5773)\n""}, {'number': 2, 'created': '2023-05-18 14:39:30.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/39d7bc0959a6b697cfceac01fd79705ad72a10e5', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nCloses-Bug: #2019557\nChange-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8\n(cherry picked from commit 64ab2e983de8bec2da394110334c88a7b35d5773)\n""}]",0,883408,39d7bc0959a6b697cfceac01fd79705ad72a10e5,13,4,2,22629,,,0,"fluentd: pin fluent-plugin-elasticsearch to <5.3.0

5.3.0 requires faraday>2.0, let's pin stable branches requiring
ElasticSearch support.

Closes-Bug: #2019557
Change-Id: I13fe5b46fed3f1ad14eab9fae513617a3d2053c8
(cherry picked from commit 64ab2e983de8bec2da394110334c88a7b35d5773)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/883408/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,bb019db8d1f008f04564edc59074a7416a065ccb,,"<<<<<<< HEAD (2e1950 toolbox: pin ansible.posix to <1.5.4)======= {% set fluentd_plugins = [ 'fluent-plugin-elasticsearch:""<5.3.0""', 'fluent-plugin-grok-parser', 'fluent-plugin-prometheus', 'fluent-plugin-rewrite-tag-filter', ] %} >>>>>>> CHANGE (64ab2e fluentd: pin fluent-plugin-elasticsearch to <5.3.0)",,9,0
openstack%2Ftrove-dashboard~master~I6367e4564d6984e20b4f47d98b8326266946d17b,openstack/trove-dashboard,master,I6367e4564d6984e20b4f47d98b8326266946d17b,Imported Translations from Zanata,MERGED,2023-03-07 03:28:51.000000000,2023-05-24 14:50:01.000000000,2023-05-24 14:48:49.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}, {'_account_id': 32102}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-07 03:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/5fc661ddf012383cbc9ba963bd9dfda6c3be167d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6367e4564d6984e20b4f47d98b8326266946d17b\n'}, {'number': 2, 'created': '2023-05-09 02:13:25.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/522b72835887175eb8e94042e113207db1dd5fa7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6367e4564d6984e20b4f47d98b8326266946d17b\n'}]",0,876664,522b72835887175eb8e94042e113207db1dd5fa7,13,5,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6367e4564d6984e20b4f47d98b8326266946d17b
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/64/876664/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",7,5fc661ddf012383cbc9ba963bd9dfda6c3be167d,zanata/translations,"""POT-Creation-Date: 2023-03-06 11:17+0000\n""msgid ""7.0.0.0b2"" msgstr ""7.0.0.0b2"" ","""POT-Creation-Date: 2018-02-28 09:39+0000\n""",67,19
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ia7a9b5230f9cf56de8278b736022240a780130d6,openstack/ovn-octavia-provider,stable/wallaby,Ia7a9b5230f9cf56de8278b736022240a780130d6,Add retry on case of sqlite3.InterfaceError on FT,MERGED,2023-05-22 10:57:54.000000000,2023-05-24 14:47:32.000000000,2023-05-24 14:46:32.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 10:57:54.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/124e13ce55da670897ffd1973d563d7dd194d636', 'message': ""Add retry on case of sqlite3.InterfaceError on FT\n\nAfter a thorough review of the issue, it looks like that the problem\ndoes not originate from the base code of ovn-octavia-provider or\nneutron. Other projects are also experiencing this problem,\nindicating that it likely stems from a different source or set of\nlibraries [1].\n\nTo minimize the need for extensive rechecks on future patches, this\npatch introduces a retry mechanism, utilizing tenacity, to the\naffected methods.\n\nOnce the root cause of the problem '(sqlite3.InterfaceError) Cursor\nneeded to be reset because of commit/rollback and can no longer be\nfetched from,' is identified and resolved, this patch should be\nreverted.\n\n[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())\n\nRelated-Bug: #2020195\nChange-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6\n(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)\n""}]",0,883805,124e13ce55da670897ffd1973d563d7dd194d636,8,3,1,34451,,,0,"Add retry on case of sqlite3.InterfaceError on FT

After a thorough review of the issue, it looks like that the problem
does not originate from the base code of ovn-octavia-provider or
neutron. Other projects are also experiencing this problem,
indicating that it likely stems from a different source or set of
libraries [1].

To minimize the need for extensive rechecks on future patches, this
patch introduces a retry mechanism, utilizing tenacity, to the
affected methods.

Once the root cause of the problem '(sqlite3.InterfaceError) Cursor
needed to be reset because of commit/rollback and can no longer be
fetched from,' is identified and resolved, this patch should be
reverted.

[1] https://opensearch.logs.openstack.org/_dashboards/app/discover/?security_tenant=global#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-30d,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'94869730-aea8-11ec-9e6a-83741af3fdcd',key:build_status,negate:!f,params:(query:FAILURE),type:phrase),query:(match_phrase:(build_status:FAILURE)))),index:'94869730-aea8-11ec-9e6a-83741af3fdcd',interval:auto,query:(language:kuery,query:'message:%22Cursor%20needed%20to%20be%20reset%20because%20of%20commit%2F%22'),sort:!())

Related-Bug: #2020195
Change-Id: Ia7a9b5230f9cf56de8278b736022240a780130d6
(cherry picked from commit 028596705678b447797121049d542e06e1ad4355)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/05/883805/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/tests/functional/base.py'],1,124e13ce55da670897ffd1973d563d7dd194d636,wallaby,"from oslo_db import exception as odb_excimport tenacity @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True) @tenacity.retry( retry=tenacity.retry_if_exception_type(odb_exc.DBError), wait=tenacity.wait_exponential(), stop=tenacity.stop_after_attempt(3), reraise=True)",,13,0
openstack%2Ftrove~master~Ibc8a2eb72c7d34b9f56a69114d74ae0da01fb4b6,openstack/trove,master,Ibc8a2eb72c7d34b9f56a69114d74ae0da01fb4b6,Imported Translations from Zanata,MERGED,2023-05-09 03:48:10.000000000,2023-05-24 14:47:24.000000000,2023-05-24 14:46:16.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-05-09 03:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b88f9437b0919e3986ca6fb47503e6b05c926a5c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc8a2eb72c7d34b9f56a69114d74ae0da01fb4b6\n'}, {'number': 2, 'created': '2023-05-23 03:45:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove/commit/e854cb58538f83d7a4538218b27d8ad25d865f35', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc8a2eb72c7d34b9f56a69114d74ae0da01fb4b6\n'}]",0,882652,e854cb58538f83d7a4538218b27d8ad25d865f35,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc8a2eb72c7d34b9f56a69114d74ae0da01fb4b6
",git fetch https://review.opendev.org/openstack/trove refs/changes/52/882652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",2,b88f9437b0919e3986ca6fb47503e6b05c926a5c,zanata/translations,"""POT-Creation-Date: 2023-04-29 04:35+0000\n""","""POT-Creation-Date: 2023-03-08 06:16+0000\n""msgid ""6.0.0.0b2"" msgstr ""6.0.0.0b2"" msgid ""6.0.0.0b3"" msgstr ""6.0.0.0b3"" msgid ""6.0.0.0rc1"" msgstr ""6.0.0.0rc1"" ",228,15
openstack%2Fcharm-ceph-dashboard~master~I4de5e911754cc5d99cdf94e394c81a70269c50e8,openstack/charm-ceph-dashboard,master,I4de5e911754cc5d99cdf94e394c81a70269c50e8,Testing: remove unused grafana plugin,MERGED,2023-05-24 10:58:27.000000000,2023-05-24 14:43:47.000000000,2023-05-24 14:43:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 10:58:27.000000000', 'files': ['tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/focal.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/759df120de8e8e19e465b3a065cf3b0a075abd44', 'message': 'Testing: remove unused grafana plugin\n\nDue to a Grafana bug[0] installing zip plugins has issues. We are also\nnot testing plugins, therefore removing plugin installation from\nfunctest.\n\n[0] https://bugs.launchpad.net/charm-grafana/+bug/2017810\n\nChange-Id: I4de5e911754cc5d99cdf94e394c81a70269c50e8\n'}]",1,884175,759df120de8e8e19e465b3a065cf3b0a075abd44,7,3,1,15382,,,0,"Testing: remove unused grafana plugin

Due to a Grafana bug[0] installing zip plugins has issues. We are also
not testing plugins, therefore removing plugin installation from
functest.

[0] https://bugs.launchpad.net/charm-grafana/+bug/2017810

Change-Id: I4de5e911754cc5d99cdf94e394c81a70269c50e8
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/75/884175/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/focal.yaml', 'tests/bundles/jammy-yoga.yaml']",4,759df120de8e8e19e465b3a065cf3b0a075abd44,functest-remove-unused-plugins,," install_plugins: https://storage.googleapis.com/plugins-community/vonage-status-panel/release/1.0.11/vonage-status-panel-1.0.11.zip,https://storage.googleapis.com/plugins-community/grafana-piechart-panel/release/1.6.2/grafana-piechart-panel-1.6.2.zip",0,4
openstack%2Fcinder~master~I91c81502f72a47a4584c300e2d918ee2b376fbfa,openstack/cinder,master,I91c81502f72a47a4584c300e2d918ee2b376fbfa,Allow lightos driver to run as active-active,MERGED,2023-05-22 10:28:38.000000000,2023-05-24 14:23:30.000000000,2023-05-24 14:22:16.000000000,"[{'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-22 10:28:38.000000000', 'files': ['cinder/volume/drivers/lightos.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0198e3ecfab9cdd0e4c8d2ec00ea66de95244d66', 'message': 'Allow lightos driver to run as active-active\n\nChange-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa\n'}]",5,883797,0198e3ecfab9cdd0e4c8d2ec00ea66de95244d66,31,3,1,33612,,,0,"Allow lightos driver to run as active-active

Change-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/883797/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lightos.py'],1,0198e3ecfab9cdd0e4c8d2ec00ea66de95244d66,, SUPPORTS_ACTIVE_ACTIVE = True,,1,0
openstack%2Fneutron~master~Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648,openstack/neutron,master,Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648,[DNM] check grenade,NEW,2023-05-16 16:00:40.000000000,2023-05-24 14:19:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 16:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0de21795126e58a958a8c14bc63031e7888b2136', 'message': '[DNM] check grenade\n\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 2, 'created': '2023-05-17 07:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/254e6aa25e345f5f5a322ee3b52c9b4bfb492a38', 'message': '[DNM] check grenade\n\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 3, 'created': '2023-05-17 15:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20e386bf67db5fe17295181173494e7549670c7b', 'message': '[DNM] check grenade\n\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 4, 'created': '2023-05-17 17:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ad9fa4bc496d3905d905beb9c73b218cf3ea499', 'message': '[DNM] check grenade\n\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 5, 'created': '2023-05-18 04:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/628d47bc1edda51aba030f4227e01b3e9eccd9b5', 'message': '[DNM] check grenade\n\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 6, 'created': '2023-05-18 06:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d488f092b3ca29985ab7ded8ccc08338c50e75f', 'message': '[DNM] check grenade\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883472\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883473\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}, {'number': 7, 'created': '2023-05-24 06:00:59.000000000', 'files': ['playbooks/post.yaml', 'playbooks/pre.yaml', 'zuul.d/grenade.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cea94de8b45cb214644a74db65ff90e248de12e', 'message': '[DNM] check grenade\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883472\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883473\nChange-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648\n'}]",16,883282,2cea94de8b45cb214644a74db65ff90e248de12e,47,1,7,13861,,,0,"[DNM] check grenade

Depends-On: https://review.opendev.org/c/openstack/devstack/+/883472
Depends-On: https://review.opendev.org/c/openstack/devstack/+/883473
Change-Id: Id72ab1e521d7d4b6186577ca1c5a6bd1ad4f4648
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/883282/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/grenade.yaml', 'zuul.d/project.yaml']",2,0de21795126e58a958a8c14bc63031e7888b2136,bug/2015065,- job: name: grenade-1 parent: grenade vars: grenade_devstack_localrc: shared: MYSQL_GATHER_PERFORMANCE: false - job: name: grenade-2 parent: grenade-1 - job: name: grenade-3 parent: grenade-1 - job: name: grenade-4 parent: grenade-1 - job: name: grenade-5 parent: grenade-1 - project: - grenade-1 - grenade-2 - grenade-3 - grenade-4 - grenade-5,- project: templates: - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-python3-jobs - openstack-python3-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-experimental-jobs - neutron-periodic-jobs - neutron-tox-override-jobs - neutron-skip-level-jobs - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only-ovs-release - neutron-ovs-rally-task - neutron-ovn-rally-task - tempest-integrated-networking: irrelevant-files: &ovn-irrelevant-files - ^\.pylintrc$ - ^test-requirements.txt$ - ^releasenotes/.*$ - ^doc/.*$ - ^setup.cfg$ - ^.*\.conf\.sample$ - ^.*\.rst$ - ^neutron/locale/.*$ - ^neutron/tests/.*$ - ^tools/.*$ - ^tox.ini$ - ^neutron/agent/dhcp/.*$ - ^neutron/agent/l2/.*$ - ^neutron/agent/l3/.*$ - ^neutron/agent/metadata/.*$ - ^neutron/agent/windows/.*$ - ^neutron/agent/dhcp_agent.py - ^neutron/agent/l3_agent.py - ^neutron/agent/metadata_agent.py - ^neutron/agent/resource_cache.py - ^neutron/agent/rpc.py - ^neutron/agent/securitygroup_rpc.py - ^neutron/plugins/ml2/drivers/linuxbridge/.*$ - ^neutron/plugins/ml2/drivers/openvswitch/.*$ - ^neutron/plugins/ml2/drivers/macvtap/.*$ - ^neutron/plugins/ml2/drivers/mech_sriov/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/openvswitch/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/openvswitch/.*$ - ^neutron/scheduler/.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^zuul.d/(?!(project)).*\.yaml gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovn-tempest-ipv6-only-ovs-release - tempest-integrated-networking: irrelevant-files: *ovn-irrelevant-files,30,68
openstack%2Fneutron~stable%2Fzed~I154393529134b5861e0ef0283257ef964fe057fd,openstack/neutron,stable/zed,I154393529134b5861e0ef0283257ef964fe057fd,[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects,MERGED,2023-05-22 15:01:36.000000000,2023-05-24 14:09:48.000000000,2023-05-24 14:08:18.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-05-22 15:01:36.000000000', 'files': ['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8def3b694dd800da09e44f332c0ea11e802dbde4', 'message': ""[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects\n\nThere is the possibility that db_remove raises an error if an ACL was\ndeleted on parallel for other reasons while deleting a log object. On a\nnormal situation, this command would remove the no-longer-needed\n'log-related' property, but since the ACL is no longer there, it will\nraise an error. For this case, it is not problematic to have an ACL\ndeleted mid-operation, so it should not raise any error.\n\nRelated-Bug: #2019887\n\nSigned-off-by: Elvira Garca <egarciar@redhat.com>\nChange-Id: I154393529134b5861e0ef0283257ef964fe057fd\n(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)\n""}]",0,883718,8def3b694dd800da09e44f332c0ea11e802dbde4,11,5,1,32586,,,0,"[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects

There is the possibility that db_remove raises an error if an ACL was
deleted on parallel for other reasons while deleting a log object. On a
normal situation, this command would remove the no-longer-needed
'log-related' property, but since the ACL is no longer there, it will
raise an error. For this case, it is not problematic to have an ACL
deleted mid-operation, so it should not raise any error.

Related-Bug: #2019887

Signed-off-by: Elvira Garca <egarciar@redhat.com>
Change-Id: I154393529134b5861e0ef0283257ef964fe057fd
(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/883718/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py']",2,8def3b694dd800da09e44f332c0ea11e802dbde4,," ""ACL"", acl_uuid, 'options', 'log-related', if_exists=True))"," ""ACL"", acl_uuid, 'options', 'log-related'))",17,1
openstack%2Fneutron~stable%2F2023.1~I154393529134b5861e0ef0283257ef964fe057fd,openstack/neutron,stable/2023.1,I154393529134b5861e0ef0283257ef964fe057fd,[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects,MERGED,2023-05-22 15:01:20.000000000,2023-05-24 14:09:42.000000000,2023-05-24 14:08:24.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-05-22 15:01:20.000000000', 'files': ['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97e478dcf5483a0a5581dbb7923106a7615c7d5b', 'message': ""[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects\n\nThere is the possibility that db_remove raises an error if an ACL was\ndeleted on parallel for other reasons while deleting a log object. On a\nnormal situation, this command would remove the no-longer-needed\n'log-related' property, but since the ACL is no longer there, it will\nraise an error. For this case, it is not problematic to have an ACL\ndeleted mid-operation, so it should not raise any error.\n\nRelated-Bug: #2019887\n\nSigned-off-by: Elvira Garca <egarciar@redhat.com>\nChange-Id: I154393529134b5861e0ef0283257ef964fe057fd\n(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)\n""}]",2,883717,97e478dcf5483a0a5581dbb7923106a7615c7d5b,14,5,1,32586,,,0,"[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects

There is the possibility that db_remove raises an error if an ACL was
deleted on parallel for other reasons while deleting a log object. On a
normal situation, this command would remove the no-longer-needed
'log-related' property, but since the ACL is no longer there, it will
raise an error. For this case, it is not problematic to have an ACL
deleted mid-operation, so it should not raise any error.

Related-Bug: #2019887

Signed-off-by: Elvira Garca <egarciar@redhat.com>
Change-Id: I154393529134b5861e0ef0283257ef964fe057fd
(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/883717/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py']",2,97e478dcf5483a0a5581dbb7923106a7615c7d5b,," ""ACL"", acl_uuid, 'options', 'log-related', if_exists=True))"," ""ACL"", acl_uuid, 'options', 'log-related'))",17,1
openstack%2Fneutron~stable%2Fyoga~I154393529134b5861e0ef0283257ef964fe057fd,openstack/neutron,stable/yoga,I154393529134b5861e0ef0283257ef964fe057fd,[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects,MERGED,2023-05-22 15:02:02.000000000,2023-05-24 14:09:28.000000000,2023-05-24 14:08:14.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-05-22 15:02:02.000000000', 'files': ['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbbafe1681effbc0dd6b6f80c6236596bad3e90f', 'message': ""[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects\n\nThere is the possibility that db_remove raises an error if an ACL was\ndeleted on parallel for other reasons while deleting a log object. On a\nnormal situation, this command would remove the no-longer-needed\n'log-related' property, but since the ACL is no longer there, it will\nraise an error. For this case, it is not problematic to have an ACL\ndeleted mid-operation, so it should not raise any error.\n\nRelated-Bug: #2019887\n\nSigned-off-by: Elvira Garca <egarciar@redhat.com>\nChange-Id: I154393529134b5861e0ef0283257ef964fe057fd\n(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)\n""}]",0,883719,bbbafe1681effbc0dd6b6f80c6236596bad3e90f,11,5,1,32586,,,0,"[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects

There is the possibility that db_remove raises an error if an ACL was
deleted on parallel for other reasons while deleting a log object. On a
normal situation, this command would remove the no-longer-needed
'log-related' property, but since the ACL is no longer there, it will
raise an error. For this case, it is not problematic to have an ACL
deleted mid-operation, so it should not raise any error.

Related-Bug: #2019887

Signed-off-by: Elvira Garca <egarciar@redhat.com>
Change-Id: I154393529134b5861e0ef0283257ef964fe057fd
(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/883719/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py']",2,bbbafe1681effbc0dd6b6f80c6236596bad3e90f,," ""ACL"", acl_uuid, 'options', 'log-related', if_exists=True))"," ""ACL"", acl_uuid, 'options', 'log-related'))",17,1
openstack%2Fneutron~stable%2Fxena~I154393529134b5861e0ef0283257ef964fe057fd,openstack/neutron,stable/xena,I154393529134b5861e0ef0283257ef964fe057fd,[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects,MERGED,2023-05-22 15:02:25.000000000,2023-05-24 14:05:38.000000000,2023-05-24 14:04:17.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-05-22 15:02:25.000000000', 'files': ['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/440e9596520ae7bda5ce3c4773ad48805da6cba5', 'message': ""[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects\n\nThere is the possibility that db_remove raises an error if an ACL was\ndeleted on parallel for other reasons while deleting a log object. On a\nnormal situation, this command would remove the no-longer-needed\n'log-related' property, but since the ACL is no longer there, it will\nraise an error. For this case, it is not problematic to have an ACL\ndeleted mid-operation, so it should not raise any error.\n\nRelated-Bug: #2019887\n\nSigned-off-by: Elvira Garca <egarciar@redhat.com>\nChange-Id: I154393529134b5861e0ef0283257ef964fe057fd\n(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)\n""}]",0,883720,440e9596520ae7bda5ce3c4773ad48805da6cba5,11,5,1,32586,,,0,"[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects

There is the possibility that db_remove raises an error if an ACL was
deleted on parallel for other reasons while deleting a log object. On a
normal situation, this command would remove the no-longer-needed
'log-related' property, but since the ACL is no longer there, it will
raise an error. For this case, it is not problematic to have an ACL
deleted mid-operation, so it should not raise any error.

Related-Bug: #2019887

Signed-off-by: Elvira Garca <egarciar@redhat.com>
Change-Id: I154393529134b5861e0ef0283257ef964fe057fd
(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/883720/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py']",2,440e9596520ae7bda5ce3c4773ad48805da6cba5,," ""ACL"", acl_uuid, 'options', 'log-related', if_exists=True))"," ""ACL"", acl_uuid, 'options', 'log-related'))",17,1
openstack%2Fkolla-ansible~master~Ide0079ef4d28e3a3fa60288a74b936531c52ce60,openstack/kolla-ansible,master,Ide0079ef4d28e3a3fa60288a74b936531c52ce60,Fix the fluentd regexp to collect the logs,MERGED,2023-03-02 08:48:15.000000000,2023-05-24 13:51:29.000000000,2023-05-24 13:50:25.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35976}]","[{'number': 1, 'created': '2023-03-02 08:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6ccc2941a385d5f9daeccb1abf53e942647bad6', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 2, 'created': '2023-03-02 09:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94b3985ee2ee7e1ffbcdd16f2fc6614bbfaea8ad', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\nhttps://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py\nThe default of logging_context_format_string and logging_user_identity_format is change\n'}, {'number': 3, 'created': '2023-03-02 09:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cfb8a7fd9d1a867862a1f11304eae83076cce0e9', 'message': 'The default of logging_context_format_string and logging_user_identity_format is change [1]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 4, 'created': '2023-03-02 09:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deafdae5938d4e29c0b9cdd2d12930ba27e9aecf', 'message': 'The default value of logging_context_format_string and logging_user_identity_format is change [1]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 5, 'created': '2023-03-02 09:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61bf484b4ecbde1d4874a5b23b47161ed2de9701', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 6, 'created': '2023-03-02 09:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3a11ab6f361506a7eba510c2fd900fcbe952b2c', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 7, 'created': '2023-05-23 15:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09b32f12e52dd905779e97814e2541c94885dcdf', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 8, 'created': '2023-05-23 16:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee8cf234ec71c2281d4c840b26324ea934d49bf8', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 9, 'created': '2023-05-23 16:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e079e1840c6aa6e7ed580e7e431f6a2be16d0f3', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 10, 'created': '2023-05-23 16:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d0701e46df8621ce830c6f37601249a10eba0d33', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 11, 'created': '2023-05-23 17:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ecab19adcaa5bdb7457b90115e234415128c5af7', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 12, 'created': '2023-05-24 08:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3af18d4abe8d594ccabb224baa0ddbaaeeaaca01', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1]\nThis it to correct fluentd to use the same format.\n\n[1]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 13, 'created': '2023-05-24 08:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8493030c26a27414510176cc35b06384b50c894b', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1].\nThis is to correct fluentd to use the same format.\n\n[1]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 14, 'created': '2023-05-24 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/253354332cc2076d6ea2e74481321e57130c907f', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1].\nThis is to correct fluentd to use the same format.\nhttps://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375\nhttps://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be\n\n[1]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 15, 'created': '2023-05-24 09:04:18.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/900c2d20bb461111a37d37349b693bf8f8cb7135', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1][2][3].\nThis is to correct fluentd to use the same format.\n\n[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375\n[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be\n\n[3]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}]",14,876039,900c2d20bb461111a37d37349b693bf8f8cb7135,43,5,15,35347,,,0,"Fix the fluentd regexp to collect the logs

The default value of logging_context_format_string and
logging_user_identity_format has changed [1][2][3].
This is to correct fluentd to use the same format.

[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375
[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be

[3]https://review.opendev.org/c/openstack/oslo.log/+/838185

Closes-Bug: #1872220

Change-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/876039/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,e6ccc2941a385d5f9daeccb1abf53e942647bad6,fluentd_regexp, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(\S+ req-\S+ \S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[((?<global_request_id>\S+) req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<system_scope>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/,2,2
openstack%2Fneutron~stable%2Fwallaby~I154393529134b5861e0ef0283257ef964fe057fd,openstack/neutron,stable/wallaby,I154393529134b5861e0ef0283257ef964fe057fd,[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects,MERGED,2023-05-22 15:02:47.000000000,2023-05-24 13:49:38.000000000,2023-05-24 13:48:24.000000000,"[{'_account_id': 6773}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33341}]","[{'number': 1, 'created': '2023-05-22 15:02:47.000000000', 'files': ['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/acbb2927e36c5459a1d283aca36d0c71ad620227', 'message': ""[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects\n\nThere is the possibility that db_remove raises an error if an ACL was\ndeleted on parallel for other reasons while deleting a log object. On a\nnormal situation, this command would remove the no-longer-needed\n'log-related' property, but since the ACL is no longer there, it will\nraise an error. For this case, it is not problematic to have an ACL\ndeleted mid-operation, so it should not raise any error.\n\nRelated-Bug: #2019887\n\nSigned-off-by: Elvira Garca <egarciar@redhat.com>\nChange-Id: I154393529134b5861e0ef0283257ef964fe057fd\n(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)\n""}]",2,883721,acbb2927e36c5459a1d283aca36d0c71ad620227,17,5,1,32586,,,0,"[ovn] Avoid unwanted ACL_NOT_FOUND error when deleting log objects

There is the possibility that db_remove raises an error if an ACL was
deleted on parallel for other reasons while deleting a log object. On a
normal situation, this command would remove the no-longer-needed
'log-related' property, but since the ACL is no longer there, it will
raise an error. For this case, it is not problematic to have an ACL
deleted mid-operation, so it should not raise any error.

Related-Bug: #2019887

Signed-off-by: Elvira Garca <egarciar@redhat.com>
Change-Id: I154393529134b5861e0ef0283257ef964fe057fd
(cherry picked from commit e0a2427a2f701adae14cd8196e3c2f064416d044)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/883721/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py']",2,acbb2927e36c5459a1d283aca36d0c71ad620227,," ""ACL"", acl_uuid, 'options', 'log-related', if_exists=True))"," ""ACL"", acl_uuid, 'options', 'log-related'))",17,1
openstack%2Fkolla-ansible~master~I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f,openstack/kolla-ansible,master,I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f,opensearch: alter path after using rpm/deb packaging,MERGED,2023-05-23 14:22:49.000000000,2023-05-24 13:47:47.000000000,2023-05-24 13:46:38.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-23 14:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/973946db8c90764e0d14b71f6c04d16ac5d8db6e', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883941\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n'}, {'number': 2, 'created': '2023-05-23 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a955dac46ba8ff89533fa64c434f1d2962eb687', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883941\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n'}, {'number': 3, 'created': '2023-05-24 07:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/830bc259b8db858bd8c90fff242ace944767685c', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883941\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n'}, {'number': 4, 'created': '2023-05-24 08:48:45.000000000', 'files': ['ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1769a49115e7ea2a35f230c0412351ad8dd2f05d', 'message': 'opensearch: alter path after using rpm/deb packaging\n\nopensearch-dashboards now use a dedicated user\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/883941\nChange-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f\n'}]",6,883942,1769a49115e7ea2a35f230c0412351ad8dd2f05d,23,4,4,22629,,,0,"opensearch: alter path after using rpm/deb packaging

opensearch-dashboards now use a dedicated user

Depends-On: https://review.opendev.org/c/openstack/kolla/+/883941
Change-Id: I6908f52f824a97a5a4a2bead92b7b2e5cdebdb9f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/883942/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2']",3,973946db8c90764e0d14b71f6c04d16ac5d8db6e,," ""dest"": ""/etc/opensearch-dashboards/opensearch_dashboards.yml"", ""path"": ""/var/log/kolla/opensearch-dashboards"", ""owner"": ""opensearch-dashboards:opensearch-dashboards"", ""path"": ""/usr/share/opensearch-dashboards/optimize/bundles"", ""owner"": ""opensearch-dashboards:opensearch-dashboards"","," ""dest"": ""/etc/opensearch/opensearch_dashboards.yml"", ""path"": ""/var/log/kolla/opensearch"", ""owner"": ""opensearch:opensearch"", ""path"": ""/usr/share/opensearch/dashboards/optimize/bundles"", ""owner"": ""opensearch:opensearch"",",7,7
openstack%2Fovn-bgp-agent~master~I5a64875ea6a5b17a5fb6add974802ac377358138,openstack/ovn-bgp-agent,master,I5a64875ea6a5b17a5fb6add974802ac377358138,Give more time for patch ports to be created,MERGED,2023-05-24 13:17:48.000000000,2023-05-24 13:38:01.000000000,2023-05-24 13:37:09.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 13:17:48.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/331bbb597d24bf32d0f67f6d9e4e2cd64d9e3113', 'message': 'Give more time for patch ports to be created\n\nIt may happen that 5 seconds is not enough for the patch port\nto be created, so doubling it to avoid the issue\n\nChange-Id: I5a64875ea6a5b17a5fb6add974802ac377358138\n'}]",0,883824,331bbb597d24bf32d0f67f6d9e4e2cd64d9e3113,7,2,1,23567,,,0,"Give more time for patch ports to be created

It may happen that 5 seconds is not enough for the patch port
to be created, so doubling it to avoid the issue

Change-Id: I5a64875ea6a5b17a5fb6add974802ac377358138
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/24/883824/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/utils/wire.py'],1,331bbb597d24bf32d0f67f6d9e4e2cd64d9e3113,," wait=tenacity.wait_fixed(1), stop=tenacity.stop_after_delay(10),"," wait=tenacity.wait_fixed(0.5), stop=tenacity.stop_after_delay(5),",2,2
openstack%2Fneutron~stable%2Ftrain~Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623,openstack/neutron,stable/train,Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623,Fix not working use_random_fully config option,MERGED,2023-05-17 17:30:17.000000000,2023-05-24 13:31:51.000000000,2023-05-24 13:30:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 17:30:17.000000000', 'files': ['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bf03c73dddf304755a7342dc9699070bd742190', 'message': 'Fix not working use_random_fully config option\n\nFixed bug when config option  use_random_fully is\nset to False all routers accept one configured\nby l3 agent with iptables ""--random-fully"" option.\nAlso added storing of use iptables --random-fully\nconfig option to ""_random_fully"" class variable\nof IptablesManager to reduce checks of iptables\nversion by instances of this class.\n\nCloses-Bug: #2018599\n\nChange-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623\n(cherry picked from commit a612346146db2f9e70a23af55eb7502655666940)\n'}]",11,883429,6bf03c73dddf304755a7342dc9699070bd742190,26,3,1,16688,,,0,"Fix not working use_random_fully config option

Fixed bug when config option  use_random_fully is
set to False all routers accept one configured
by l3 agent with iptables ""--random-fully"" option.
Also added storing of use iptables --random-fully
config option to ""_random_fully"" class variable
of IptablesManager to reduce checks of iptables
version by instances of this class.

Closes-Bug: #2018599

Change-Id: Ia12fc0a3d4812a0aba816b49dec60a7dcfaf0623
(cherry picked from commit a612346146db2f9e70a23af55eb7502655666940)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/883429/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py']",2,6bf03c73dddf304755a7342dc9699070bd742190,bug/2018599," class IptablesRandomFullyFixture(fixtures.Fixture): def _setUp(self): # We MUST save and restore _random_fully because it is a class # attribute and could change state in some tests, which can cause # the other router test cases to randomly fail due to race conditions. self._random_fully = iptables_manager.IptablesManager._random_fully iptables_manager.IptablesManager._random_fully = None self.addCleanup(self._reset) def _reset(self): iptables_manager.IptablesManager._random_fully = self._random_fully class IptablesManagerDisableRandomFullyTestCase(base.BaseTestCase): def setUp(self): super(IptablesManagerDisableRandomFullyTestCase, self).setUp() self.useFixture(IptablesRandomFullyFixture()) self.execute = mock.patch.object(linux_utils, ""execute"").start() cfg.CONF.set_override('use_random_fully', False, ""AGENT"") def test_verify_disable_random_fully(self): expected_calls_and_values = [ (mock.call(['iptables', '--version'], run_as_root=True, privsep_exec=True), ""iptables v1.6.2"")] tools.setup_mock_calls(self.execute, expected_calls_and_values) iptables_mgrs = [iptables_manager.IptablesManager() for _ in range(3)] # The random_full properties of all # IptablesManager instances must return False for ipt_mgr in iptables_mgrs: self.assertFalse(ipt_mgr.random_fully)",,38,3
openstack%2Ftempest~master~I6cbf95caf782bde1b11494b13e9d8d39ab9f3080,openstack/tempest,master,I6cbf95caf782bde1b11494b13e9d8d39ab9f3080,Fix test_delete_locations to be performed by admin,MERGED,2023-05-19 19:23:34.000000000,2023-05-24 13:31:43.000000000,2023-05-24 13:30:41.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-19 19:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0371d355afc7a45e1cc99a5a033652477a8de1bd', 'message': 'Fix test_delete_locations to be performed by admin\n\nDelete image location operation is allowed to admin only\nby default\n- https://github.com/openstack/glance/blob/428295969836a2a0bad0ae0593ea1a890e155898/glance/policies/image.py#L150\n\nBut tempest test was performing it with non admin creds\n- https://github.com/openstack/tempest/blob/4054e13e65f7d11c9097946a36976bf9c6edea45/tempest/api/image/v2/test_images.py#L935\n\nWhile enabling the Glance RBAC new defaults in devstack (\neverything run with RBAC new defaults), this test start failing\nwith 403 error\n\n- https://review.opendev.org/c/openstack/devstack/+/883601\n- https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_2dd/883601/1/check/nova-ceph-multistore/2dd523c/testr_results.html\n\nIt was not failing before because this test was only enabled in\nnova-ceph-multistore job which used old policy and old policy allow\neveryone to perform this operation. tempest-full-enforce-scope-new-defaults\njob which enable new defaults did not run this test to did not capture this\nissue.\n\nChange-Id: I6cbf95caf782bde1b11494b13e9d8d39ab9f3080\n'}, {'number': 2, 'created': '2023-05-19 21:48:04.000000000', 'files': ['tempest/api/image/v2/admin/test_images.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd97ae91ee33802b115f18888307bf3bca32ce10', 'message': 'Fix test_delete_locations to be performed by admin\n\nDelete image location operation is allowed to admin only\nby default\n- https://github.com/openstack/glance/blob/428295969836a2a0bad0ae0593ea1a890e155898/glance/policies/image.py#L150\n\nBut tempest test was performing it with non admin creds\n- https://github.com/openstack/tempest/blob/4054e13e65f7d11c9097946a36976bf9c6edea45/tempest/api/image/v2/test_images.py#L935\n\nWhile enabling the Glance RBAC new defaults in devstack (\neverything run with RBAC new defaults), this test start failing\nwith 403 error\n\n- https://review.opendev.org/c/openstack/devstack/+/883601\n- https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_2dd/883601/1/check/nova-ceph-multistore/2dd523c/testr_results.html\n\nIt was not failing before because this test was only enabled in\nnova-ceph-multistore job which used old policy and old policy allow\neveryone to perform this operation. tempest-full-enforce-scope-new-defaults\njob which enable new defaults did not run this test to did not capture this\nissue.\n\nChange-Id: I6cbf95caf782bde1b11494b13e9d8d39ab9f3080\n'}]",9,883701,bd97ae91ee33802b115f18888307bf3bca32ce10,25,4,2,8556,,,0,"Fix test_delete_locations to be performed by admin

Delete image location operation is allowed to admin only
by default
- https://github.com/openstack/glance/blob/428295969836a2a0bad0ae0593ea1a890e155898/glance/policies/image.py#L150

But tempest test was performing it with non admin creds
- https://github.com/openstack/tempest/blob/4054e13e65f7d11c9097946a36976bf9c6edea45/tempest/api/image/v2/test_images.py#L935

While enabling the Glance RBAC new defaults in devstack (
everything run with RBAC new defaults), this test start failing
with 403 error

- https://review.opendev.org/c/openstack/devstack/+/883601
- https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_2dd/883601/1/check/nova-ceph-multistore/2dd523c/testr_results.html

It was not failing before because this test was only enabled in
nova-ceph-multistore job which used old policy and old policy allow
everyone to perform this operation. tempest-full-enforce-scope-new-defaults
job which enable new defaults did not run this test to did not capture this
issue.

Change-Id: I6cbf95caf782bde1b11494b13e9d8d39ab9f3080
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/883701/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/admin/test_images.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py']",3,0371d355afc7a45e1cc99a5a033652477a8de1bd,,"import timeBAD_REQUEST_RETRIES = 3 def _update_image_with_retries(self, image, patch): # NOTE(danms): If glance was unable to fetch the remote image via # HTTP, it will return BadRequest. Because this can be transient in # CI, we try this a few times before we agree that it has failed # for a reason worthy of failing the test. for i in range(BAD_REQUEST_RETRIES): try: self.client.update_image(image, patch) break except exceptions.BadRequest: if i + 1 == BAD_REQUEST_RETRIES: raise else: time.sleep(1) def check_set_location(self): image = self.client.create_image(container_format='bare', disk_format='raw') # Locations should be empty when there is no data self.assertEqual('queued', image['status']) self.assertEqual([], image['locations']) # Add a new location new_loc = {'metadata': {'foo': 'bar'}, 'url': CONF.image.http_image} self._update_image_with_retries(image['id'], [ dict(add='/locations/-', value=new_loc)]) # The image should now be active, with one location that looks # like we expect image = self.client.show_image(image['id']) self.assertEqual(1, len(image['locations']), 'Image should have one location but has %i' % ( len(image['locations']))) self.assertEqual(new_loc['url'], image['locations'][0]['url']) self.assertEqual('bar', image['locations'][0]['metadata'].get('foo')) if 'direct_url' in image: self.assertEqual(image['direct_url'], image['locations'][0]['url']) # If we added the location directly, the image goes straight # to active and no hashing is done self.assertEqual('active', image['status']) self.assertIsNone(None, image['os_hash_algo']) self.assertIsNone(None, image['os_hash_value']) return image def check_set_multiple_locations(self): image = self._check_set_location() new_loc = {'metadata': {'speed': '88mph'}, 'url': '%s#new' % CONF.image.http_image} self._update_image_with_retries(image['id'], [dict(add='/locations/-', value=new_loc)]) # The image should now have two locations and the last one # (locations are ordered) should have the new URL. image = self.client.show_image(image['id']) self.assertEqual(2, len(image['locations']), 'Image should have two locations but has %i' % ( len(image['locations']))) self.assertEqual(new_loc['url'], image['locations'][1]['url']) # The image should still be active and still have no hashes self.assertEqual('active', image['status']) self.assertIsNone(None, image['os_hash_algo']) self.assertIsNone(None, image['os_hash_value']) # The direct_url should still match the first location if 'direct_url' in image: self.assertEqual(image['direct_url'], image['locations'][0]['url']) return image ",,118,105
openstack%2Fkolla-ansible~master~I1fda63a453b122ce42a13d1088c1e7cb7579b75d,openstack/kolla-ansible,master,I1fda63a453b122ce42a13d1088c1e7cb7579b75d,Drop support for openEuler,ABANDONED,2023-03-31 06:13:51.000000000,2023-05-24 13:27:44.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-31 06:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9efcfd31a4541936c1fa7c2839e705204d0b005', 'message': 'Stop running broken openeuler job\n\nIt is currently failing 100%, stop running until it gets fixed.\n\nChange-Id: I1fda63a453b122ce42a13d1088c1e7cb7579b75d\n'}, {'number': 2, 'created': '2023-04-19 14:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ddc06774e60c2afc4aa635c2f23fbb50cdb5b7b8', 'message': 'Drop support for openEuler\n\nThe CI has been failing for a long time, there is nobody around to fix\nit and thus we cannot claim to be supporting it. See also the discussion\nin the weekly meeting [0].\n\n[0] https://meetings.opendev.org/meetings/kolla/2023/kolla.2023-04-19-13.00.log.html\n\nChange-Id: I1fda63a453b122ce42a13d1088c1e7cb7579b75d\n'}, {'number': 3, 'created': '2023-05-24 13:27:24.000000000', 'files': ['releasenotes/notes/drop-openeuler-support-1d974a6060a11073.yaml', 'doc/source/user/quickstart.rst', 'doc/source/user/support-matrix.rst', 'tests/pre.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59dbdcbc01fe6d4711682a2387941b3f033a0579', 'message': 'Drop support for openEuler\n\nThe CI has been failing for a long time, there is nobody around to fix\nit and thus we cannot claim to be supporting it. See also the discussion\nin the weekly meeting [0].\n\n[0] https://meetings.opendev.org/meetings/kolla/2023/kolla.2023-04-19-13.00.log.html\n\nChange-Id: I1fda63a453b122ce42a13d1088c1e7cb7579b75d\n'}]",14,879129,59dbdcbc01fe6d4711682a2387941b3f033a0579,27,8,3,13252,,,0,"Drop support for openEuler

The CI has been failing for a long time, there is nobody around to fix
it and thus we cannot claim to be supporting it. See also the discussion
in the weekly meeting [0].

[0] https://meetings.opendev.org/meetings/kolla/2023/kolla.2023-04-19-13.00.log.html

Change-Id: I1fda63a453b122ce42a13d1088c1e7cb7579b75d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/879129/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f9efcfd31a4541936c1fa7c2839e705204d0b005,close-euler, # - kolla-ansible-openeuler, - kolla-ansible-openeuler,1,1
